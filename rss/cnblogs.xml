<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>@ç¨‹åºå‘˜ï¼Œè¯·æŒæ¡è¿™äº›æ ¸å¿ƒç”Ÿå­˜æŠ€èƒ½ - æ²‰é»˜ç‹äºŒ</title>
<link>http://www.cnblogs.com/qing-gee/p/12014503.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qing-gee/p/12014503.html</guid>
<description>&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å¤§å’–ä½ å¥½ï¼Œä½œä¸ºä¸€ä¸ªç¼–ç¨‹åˆå­¦è€…ï¼Œæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥ä¸Šæ˜¯ä¸€ä¸ªè¯»è€…æµå¹´ä¼¼æ°´çš„æé—®ã€‚æˆ‘æŠŠä»–çš„é—®é¢˜ç½®é¡¶äº†ï¼Œä½†ä¸€ç›´æ²¡æƒ³å¥½æ€ä¹ˆå›ç­”ï¼Œå› ä¸ºé—®é¢˜å¤ªè¿‡ç¬¼ç»Ÿäº†ã€‚åæ¥ï¼Œä»–ä¹Ÿå¯èƒ½æ„è¯†åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå°±åˆç»™æˆ‘å‘äº†ä¸€æ¡å¾®ä¿¡ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;åœ¨å—ï¼Ÿè€å¸ˆã€‚æˆ‘ä»¬ä½œä¸ºæ–°äººåº”è¯¥åœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­æ³¨æ„å“ªäº›é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å…¶å®ä¹Ÿä¸å¤ªå¥½å›ç­”ï¼Œå› ä¸ºè¦æ³¨æ„çš„é—®é¢˜è›®å¤šçš„ï¼Œå¤šå¾—å°±åƒé›¾éœ¾ä¸­çš„é¢—ç²’ã€‚ä¸è¿‡ï¼Œæœ‰è¶£çš„æ˜¯ï¼Œæµå¹´ä¼¼æ°´è¿™ä¸¤æ¬¡çš„æé—®ä¸­ï¼Œå¯¹æˆ‘çš„ç§°å‘¼å¤§æœ‰ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;â€œå¤§å’–â€ä¸­ç•¥å¸¦ä¸€äº›è°ƒçš®ï¼Œè€Œâ€œè€å¸ˆâ€å°±æ˜¾å¾—è¿‡äºåº„é‡äº†ã€‚å‡­è‰¯å¿ƒè¯´ï¼Œæˆ‘å–œæ¬¢â€œè€å¸ˆâ€è¿™ä¸ªç§°è°“ã€‚ä½†æˆ‘çŸ¥é“è¿™é¡¶çš‡å† æˆ´æˆ‘å¤´ä¸Šï¼Œä¼šæŠŠæˆ‘ 185 çš„èº«é«˜å‹æ‰åˆ° 173ã€‚å†è¯´ï¼Œæˆ‘ä¹Ÿä¸æ˜¯ä»€ä¹ˆâ€œå¤§å’–â€ï¼Œæ— éæ¯”è¾ƒæ¥åœ°æ°”ä¸€ç‚¹ï¼Œå–œæ¬¢å’Œè¯»è€…äº¤æµçš„æ„Ÿè§‰è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘å°±é’ˆå¯¹æµå¹´ä¼¼æ°´çš„æé—®ï¼Œåšä¸€äº›å›ç­”ã€‚å¸Œæœ›å¯¹æœ‰ç±»ä¼¼é—®é¢˜çš„åŒå­¦èµ·åˆ°ä¸€ä¸ªå‚è€ƒçš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŠŠç¼–ç¨‹åƒé€&quot;&gt;01ã€æŠŠç¼–ç¨‹åƒé€&lt;/h3&gt;
&lt;p&gt;çˆ¶äº²æ€»æ˜¯å–œæ¬¢æ•™è‚²æˆ‘è¯´ï¼Œä½ è¦æ‡‚å¾—äººæƒ…ä¸–æ•…ï¼Œè¦å­¦ä¼šä¸äººæ‰“äº¤é“ã€‚è¯šç„¶ï¼Œçˆ¶äº²è¯´å¾—æ²¡æœ‰é”™ï¼Œäººæƒ…ä¸–æ•…ã€ä¸äººæ²Ÿé€šéå¸¸çš„é‡è¦ï¼Œé‡è¦åˆ°ç¼ºå°‘è¿™äº›ä¼šç¢°å¾ˆå¤šå£ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æˆ‘æ›´å¸Œæœ›çˆ¶äº²æ•™è‚²æˆ‘è¯´ï¼š&lt;strong&gt;ä½ ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œè¦æŠŠç¼–ç¨‹åƒé€&lt;/strong&gt;ï¼äººæ€»è¦å…ˆæŠŠæœ¬èŒå·¥ä½œå¹²å¥½ï¼Œæ‰èƒ½å»å®Œå–„å…¶ä»–çš„è½¯æŠ€èƒ½å˜›ã€‚å½“ç„¶äº†ï¼Œæˆ‘çš„å¸Œæœ›æ˜¯æ³¨å®šè¦è½ç©ºçš„ï¼Œå› ä¸ºçˆ¶äº²å‹æ ¹å°±ä¸çŸ¥é“â€œç¨‹åºå‘˜â€æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„åè¯ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯çŸ¥é“çš„ï¼Œç¨‹åºå‘˜ï¼ˆè‹±æ–‡ Programmerï¼‰æ˜¯ä»äº‹ç¨‹åºå¼€å‘ã€ç¨‹åºç»´æŠ¤çš„ä¸“ä¸šäººå‘˜ã€‚ é‚£ä¹ˆä½œä¸ºä¸€åæ‹¥æœ‰ 10 å¹´å¼€å‘ç»éªŒçš„è€é¸Ÿï¼Œæˆ‘è®¤ä¸º&lt;strong&gt;ç¨‹åºå‘˜æœ€æ ¸å¿ƒçš„ç”Ÿå­˜æŠ€èƒ½å½“ç„¶æ˜¯ç†Ÿç»ƒåœ°æŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€&lt;/strong&gt;ã€‚è¿™ä¹Ÿæ˜¯ç¼–ç¨‹åˆå­¦è€…æœ€åº”è¯¥æ³¨æ„çš„ï¼Œä½†å¾€å¾€ä¼šè¢«å¿½è§†ã€‚&lt;/p&gt;
&lt;p&gt;åˆ«çš„ç¼–ç¨‹è¯­è¨€æˆ‘ä¸å¤ªæ‡‚ï¼ŒJava æˆ‘æ˜¯æ‡‚çš„ã€‚å‡å¦‚ä½ æƒ³æŠŠ Java è¿™é—¨ç¼–ç¨‹è¯­è¨€åƒé€ï¼Œæˆ‘å»ºè®®ä½ è¿™ä¹ˆåšã€‚&lt;/p&gt;
&lt;ul readability=&quot;4.7798165137615&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;è½»æ¾é©¾é©­ IDEï¼Œæ¯”å¦‚ Eclipse å’Œ IDEAã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¿«é€ŸæŸ¥é˜… Javadocã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æŒæ¡æµç¨‹æ§åˆ¶è¯­å¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç†è§£ç±»å’Œå¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æŒæ¡ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¼šç”¨&lt;a href=&quot;https://mp.weixin.qq.com/s/rEpGT1Tc3t3EDbA4Ir8ELQ&quot;&gt;æ¥å£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‡‚å¾—æ³›å‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒæ¡å¼‚å¸¸å¤„ç†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ç†Ÿæ‚‰ java.util å’Œ java.lang åŒ…ä¸‹çš„ç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ç•¥æ‡‚ lambda è¡¨è¾¾å¼å’Œ Stream APIã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒæ¡ IO æµã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¼šç”¨ Socket ç¼–ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/iRViTgfiS5VenJ2rDBuG4Q&quot;&gt;æŒæ¡å¹¶å‘ç¼–ç¨‹&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‡‚å¾—æ€§èƒ½ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä¼šç”¨ Junit ç­‰å•å…ƒæµ‹è¯•å·¥å…·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä¼šç”¨ Log4J ç­‰æ—¥å¿—å·¥å…·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ç†Ÿæ‚‰ Mybatisã€MySql å’Œ Springã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¥é—¨ SpringBootã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç†Ÿæ‚‰è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ç†Ÿç»ƒåœ°æŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯ç¨‹åºå‘˜çš„ç«‹å‘½ä¹‹æœ¬ã€‚çŸ¥é“äº†è‡ªå·±æ˜¯é ä»€ä¹ˆåƒé¥­çš„ï¼Œå°±åº”è¯¥åœ¨è¿™æ–¹é¢ç‹ ä¸‹åŠŸå¤«ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å·§ç”¨æ•°æ®ç»“æ„å’Œç®—æ³•&quot;&gt;02ã€å·§ç”¨æ•°æ®ç»“æ„å’Œç®—æ³•&lt;/h3&gt;
&lt;p&gt;è¯´èµ·æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œæˆ‘å°±è§‰å¾—ä¸å¥½æ„æ€ï¼Œè„¸ä¸Šæ³›èµ·éš¾ä¸ºæƒ…çš„çº¢æ™•ã€‚ä½†ä¸ºä»€ä¹ˆæˆ‘è¿˜è¦è¯´å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘æ·±å—å…¶è‹¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯ä¸€ä¸ªå†œæ‘èµ°å‡ºæ¥çš„å¨ƒï¼Œä½“ä¼šè¿‡å…¶ä¸­çš„é…¸ç”œè‹¦è¾£ï¼Œæ‰€ä»¥æˆ‘ä¼šå¥‰åŠå„ä½ï¼Œä»¥åç¢°ä¸Šä»€ä¹ˆçŸ¥è¯†åˆ†å­ä¸Šå±±ä¸‹ä¹¡çš„æ´»åŠ¨ï¼Œåƒä¸‡ä¸è¦å»ã€‚é‚£ä¸å«ä½“éªŒç”Ÿæ´»ï¼Œé‚£å«ä½“éªŒâ€œè‰°è‹¦â€ç”Ÿæ´»ã€‚&lt;/p&gt;
&lt;p&gt;é‚£&lt;strong&gt;åœ¨æ•²ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å°±ç»å¸¸é‡åˆ°ä¸€äº›å®é™…çš„é—®é¢˜ï¼Œç”±äºæ— æ³•å……åˆ†åˆ©ç”¨æ•°æ®ç»“æ„ï¼Œå°†æ•°æ®ä¹‹é—´çš„å…³ç³»é€šè¿‡åˆé€‚çš„ç®—æ³•ç­–ç•¥è¿›è¡Œæœ‰æ•ˆåœ°å­˜å‚¨è½¬æ¢ï¼Œå°±å¯¼è‡´ç¨‹åºçš„æ€§èƒ½å¾ˆä½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘åŠå„ä½æ–°äººï¼Œè¶æœ‰å¤§æŠŠçš„æ—¶é—´å’Œç²¾åŠ›ï¼Œå¤šæŠ•å…¥ä¸€ç‚¹åˆ°æ•°æ®ç»“æ„å’Œç®—æ³•ä¸Šé¢å»ã€‚åŸºç¡€çŸ¥è¯†å°±åƒæ˜¯ä¸€åº§å¤§æ¥¼çš„åœ°åŸºï¼Œå®ƒå†³å®šäº†æˆ‘ä»¬çš„æŠ€æœ¯é«˜åº¦ã€‚æ•°æ®ç»“æ„å’Œç®—æ³•å°±æ˜¯æœ€é‡è¦çš„åŸºç¡€çŸ¥è¯†ï¼Œå­¦ä¹ å®ƒä»¬çš„è¿‡ç¨‹å°±åƒæ˜¯åœ¨æ‰“åœ°åŸºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.itwanger.com/assets/images/2019/12/programmer-core-shengcun-jineng-2.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¿™å¼ æ€ç»´å¯¼å›¾æåˆ°çš„æ•°æ®ç»“æ„åœ¨å·¥ä½œå½“ä¸­å¤ªç»å¸¸ä½¿ç”¨äº†ï¼Œé¢‘ç‡é«˜å¾—å°±åƒéš”ä¸‰å·®äº”ä¼šçœ‹åˆ°éš”å£è€ç‹è¿™ä¸ªè¯ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç®—æ³•ï¼Œå¦‚æœè§‰å¾—ã€Šç®—æ³•å¯¼è®ºã€‹è¿™æœ¬é¸¿ç¯‡å·¨åˆ¶å¤ªè¿‡æ¯ç‡¥çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ã€Šè¶£å­¦ç®—æ³•ã€‹ã€ã€Šå•Šå“ˆç®—æ³•ã€‹ç­‰ä¸€äº›éè¯‘ä½œçš„ï¼Œç›¸å¯¹è¶£å‘³åŒ–çš„å…¥é—¨ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½å¾ˆå¤šäººä¼šå­˜åœ¨è¿™æ ·ä¸€ä¸ªè¯¯åŒºï¼šç®—æ³•åœ¨å·¥ä½œå½“ä¸­å¾ˆå°‘ä¼šç”¨åˆ°ï¼Œéœ€è¦çš„æ—¶å€™é¢å‘æœç´¢å¼•æ“è§£å†³ä¸€ä¸‹å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œè·³æ§½çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºä¸€äº›å¤§å‚å°±å–œæ¬¢è€ƒç®—æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç®—æ³•å¯¹é˜…è¯»æºç ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼›å†µä¸”ï¼Œè°ä¸æƒ³åšä¸€åç¼–ç¨‹çš„è‰ºæœ¯å®¶å‘¢ï¼Ÿé•¿æœŸæ¥çœ‹ï¼Œå¤§è„‘æ€è€ƒèƒ½åŠ›æ˜¯ä¸€ä¸ªäººæœ€é‡è¦çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œè€Œç®—æ³•æ˜¯ä¸ºæ•°ä¸å¤šçš„èƒ½å¤Ÿæœ‰æ•ˆè®­ç»ƒå¤§è„‘æ€è€ƒèƒ½åŠ›çš„é€”å¾„ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å­¦ä¼šæµ‹è¯•&quot;&gt;03ã€å­¦ä¼šæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå¼€å‘è¿˜éœ€è¦äº†è§£æµ‹è¯•ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¤©çœŸäº†å§ï¼è‡ªå¤ä»¥æ¥ï¼ˆå…¶å®ä¹Ÿæ²¡å¤šä¹…äº†ï¼‰ï¼Œç¨‹åºå‘˜å°±èº«å…¼ä¸¤èŒï¼Œæ—¢æ˜¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œåˆæ˜¯æµ‹è¯•å·¥ç¨‹å¸ˆã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°è¿™ï¼Œä¸ç”±å¾—æƒ³èµ·ä¸€æ®µä¼¤å¿ƒçš„å¾€äº‹ã€‚åœ¨æˆ‘åˆšåš Team Leader çš„æ—¶å€™ï¼Œæ‰‹ä¸‹æœ‰ä¸€åæ–°äººå«å°è‘£ï¼Œä»–ç«Ÿç„¶ä½¿ç”¨â€œ=â€å·æ“ä½œç¬¦è€Œä¸æ˜¯â€œ==â€æ“ä½œç¬¦ä½œä¸º if è¯­å¥çš„æ¡ä»¶åˆ¤æ–­ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½å¾ˆå¤šè¯»è€…ä¸ç›¸ä¿¡ï¼šâ€œæ€ä¹ˆå¯èƒ½å•Šï¼Ÿï¼Ÿï¼ŸIDE ä¼šæ£€æµ‹å‡ºæ¥çš„ï¼â€äº¤ä»£ä¸€ä¸‹èƒŒæ™¯ï¼Œå½“æ—¶ç”¨çš„è¯­è¨€å« ActionScriptï¼Œå’Œ Flex é…å¥—å¼€å‘å¯Œå®¢æˆ·ç«¯é¡µé¢â€”â€”å…«å¹´å‰äº†ï¼Œä¼°è®¡æ²¡å‡ ä¸ªè¯»è€…çŸ¥é“è¿™é—¨æŠ€æœ¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¢†å¯¼åœ¨æ—¥æœ¬å‡ºå·®ï¼Œä»£ç  Review çš„æ—¶å€™è¢«æ—¥æ–¹è´Ÿè´£äººæŸ¥äº†å‡ºæ¥ï¼Œé¢†å¯¼å½“åœºè¢«éª‚å¾—ç‹—è¡€å–·å¤´ï¼Œæ²¡è„¸è§äººã€‚æˆ‘çš„é­é‡å¯æƒ³è€ŒçŸ¥ï¼Œè¢«é¢†å¯¼éª‚å¾—åœ¨å•æ‰€é‡Œé¢å§”å±ˆåœ°é»˜é»˜è½æ³ªï¼Œæ¯•ç«Ÿæˆ‘æ˜¯ä»£ç è´Ÿè´£äººã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å·®ç‚¹ä¹Œçº±å¸½å°±ä¸¢äº†ã€‚è¿™è®©æˆ‘å¯¹é‚£äº›å†™å®Œä»£ç ä¸åšæµ‹è¯•çš„ç¨‹åºå‘˜æ¨å¾—ç‰™ç—’ç—’&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»é‚£ä»¥åï¼Œæˆ‘å°±å…»æˆäº†ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼ˆç”šè‡³è¯´æ˜¯å¼ºè¿«ç—‡ï¼‰ï¼Œæ‰€æœ‰æˆ‘è´Ÿè´£çš„ä»£ç ï¼ˆåŒ…æ‹¬æˆ‘è‡ªå·±å†™çš„ï¼‰ï¼Œåœ¨æäº¤ä¹‹å‰ï¼Œä»£ç  reviewã€é›†æˆæµ‹è¯•ä¸€ä¸ªéƒ½ä¸èƒ½å°‘ï¼Œæäº¤ä»£ç çš„æ—¶å€™ä»ç„¶è¦å†æ¬¡æ¯”å¯¹ï¼Œç¡®è®¤æ— è¯¯åå†æäº¤ã€‚&lt;/p&gt;
&lt;p&gt;å»ºè®®å¤§å®¶äº†è§£ä¸€ä¸‹&lt;a href=&quot;https://mp.weixin.qq.com/s/qhuZbmtZEdQoQQKR6km10g&quot;&gt;æµ‹è¯•é©±åŠ¨å¼€å‘&lt;/a&gt;ï¼Œè‹±æ–‡ç¼©å†™ä¸º TDDï¼Œä¹‹å‰è›®æµè¡Œçš„ä¸€ç§å¼€å‘æ–¹å¼ã€‚æµ‹è¯•ä¸å¼€å‘åº”è¯¥æ˜¯ç›¸è¾…ç›¸æˆçš„å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¼–ç è§„èŒƒ&quot;&gt;04ã€ç¼–ç è§„èŒƒ&lt;/h3&gt;
&lt;p&gt;è§„èŒƒåŒ–çš„ä»£ç çœ‹èµ·æ¥èµå¿ƒæ‚¦ç›®ï¼Œè®©äººä»¿ä½›ç½®èº«äºä¸­ä¸–çºªçš„å“¥ç‰¹å»ºç­‘ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå¿…é¡»æä¸€æ Bob å¤§å”çš„ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ï¼Œè¿™æ˜¯ä¸€æœ¬æ¯ä¸ªç¨‹åºå‘˜éƒ½è¦è¯»çš„å¥½ä¹¦ã€‚é‡Œé¢æåˆ°çš„ KISSï¼ˆKeep It Simple Stupidï¼‰åŸåˆ™ï¼Œéå¸¸å€¼å¾—æ¨å´‡ã€‚æ¯”å¦‚è¯´ï¼š&lt;/p&gt;
&lt;ul readability=&quot;1.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;æ•´æ´ä»£ç åŠ›æ±‚ä¸“æ³¨ï¼Œæ¯ä¸ªå‡½æ•°ã€æ¯ä¸ªç±»å’Œæ¯ä¸ªæ¨¡å—éƒ½åº”è¯¥å…¨ç¥è´¯æ³¨äºä¸€ä»¶äº‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ•´æ´ä»£ç ç®€å•ç›´æ¥ï¼Œä»ä¸éšè—è®¾è®¡è€…çš„æ„å›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ•´æ´ä»£ç ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½åï¼Œä»£ç é€šè¿‡å…¶å­—é¢è¡¨è¾¾å«ä¹‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ•´æ´ä»£ç åŠ›æ±‚æ¶ˆé™¤é‡å¤ä»£ç ï¼Œæé«˜ä»£ç è¡¨è¾¾åŠ›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ¥çœ‹è¿™æ ·ä¸€æ®µéå¸¸ç³Ÿç³•çš„ä»£ç ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private boolean isEligible(int age){
  boolean result;
  if(age &amp;gt; 18){
    result = true;
  }else{
    result = false;
  }
  return result;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½ èƒ½ä»ä¸­æŒ‘å‡ºå‡ ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1ï¼‰&lt;code&gt;)&lt;/code&gt; å’Œ &lt;code&gt;{&lt;/code&gt; ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰&lt;code&gt;return&lt;/code&gt; è¯­å¥å¤ªå¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰ä»£ç è¿‡äºè‡ƒè‚¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–åçš„ä»£ç æ˜¯è¿™æ ·å­çš„ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private boolean isEligible(int age) {
  return age &amp;gt; 18;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£æ€ä¹ˆå†™å‡ºè§„èŒƒåŒ–çš„ä»£ç å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1ï¼‰æ‰¾ä¸€ä»½è§„èŒƒçš„ä»£ç æ¨¡æ¿ï¼Œå¯¼å…¥åˆ° IDE ä¸­ï¼Œä¿å­˜ä»£ç ä¹‹å‰è¿›è¡Œæ ¼å¼åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰ä½¿ç”¨ CheckStyle æˆ–è€… FindBugs å¯¹ä»£ç è¿›è¡Œæ£€æŸ¥ï¼Œè§„é¿ä¸€äº›æ–°æ‰‹çˆ±çŠ¯çš„ä½çº§é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰å¤šçœ‹çœ‹é˜¿é‡Œå·´å·´çš„å¼€å‘æ‰‹å†Œï¼Œé‡Œé¢çš„ä¸€äº›å»ºè®®è¿˜æ˜¯éå¸¸å€¼å¾—å‚ç…§çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.itwanger.com/assets/images/2019/12/programmer-core-shengcun-jineng-3.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è®°ä½è¿™å¥è¯ï¼š&lt;strong&gt;ä»»ä½•ä¸€ä¸ªå‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„ä»£ç ï¼Œå”¯æœ‰å†™å‡ºäººç±»å®¹æ˜“ç†è§£çš„ä»£ç ï¼Œæ‰æ˜¯ä¼˜ç§€çš„ç¨‹åºå‘˜&lt;/strong&gt;ã€‚ç¼–ç è§„èŒƒå¯ä»¥æ”¹å–„ä»£ç çš„å¯è¯»æ€§ï¼Œè®©åä½œçš„åŒè¡Œæ‹¥æœ‰ä¸€ä¸ªç¾ä¸½çš„å¿ƒæƒ…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æºç ç®¡ç†&quot;&gt;05ã€æºç ç®¡ç†&lt;/h3&gt;
&lt;p&gt;åœ¨æˆ‘æœ€åˆå‚åŠ å·¥ä½œçš„æ—¶å€™ï¼Œæºç ç®¡ç†å·¥å…·ç”¨çš„è¿˜æ˜¯ CVSï¼Œåæ¥è¿ç§»åˆ° SVNã€‚è¿‘äº›å¹´æ¥ï¼Œé€‰æ‹© Git çš„ç¨‹åºå‘˜æ¸æ¸å¤šäº†èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è®°å¾—æˆ‘åˆšå¼€å§‹ç”¨ CVS çš„æ—¶å€™ï¼Œç»å¸¸å¼„ä¸¢ç‰ˆæœ¬ï¼Œè¢«é¢†å¯¼æ‰¹è¯„è¿‡å¾ˆå¤šæ¬¡ï¼Œå› ä¸ºç”¨çš„ä¸ç†Ÿï¼ˆå¿ä¸ä½ä¼¤æ„Ÿï¼‰ã€‚å¹¸å¥½å½“æ—¶è´Ÿè´£çš„ä»£ç éƒ½ä¸æ€ä¹ˆé‡è¦ï¼Œä¸¢äº†è¿˜å¯ä»¥é‡å†™ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æºç ç®¡ç†å·¥å…·å‘¢ï¼Ÿç­”æ¡ˆå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¤šäººå¹¶è¡Œå¼€å‘&lt;/li&gt;
&lt;li&gt;å¤šäººåä½œåŒä¸€ä»½ä»£ç &lt;/li&gt;
&lt;li&gt;å†å²ç‰ˆæœ¬ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ä½œç”¨ï¼Œé˜²æ­¢ç”©é”…ï¼å¤§å®¶éƒ½æ‡‚å§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é¸£è°¢&quot;&gt;06ã€é¸£è°¢&lt;/h3&gt;
&lt;p&gt;å¥½äº†å„ä½è¯»è€…æœ‹å‹ä»¬ï¼Œä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹äº†ã€‚&lt;strong&gt;èƒ½çœ‹åˆ°è¿™é‡Œçš„éƒ½æ˜¯äººæ‰ï¼ŒäºŒå“¥å¿…é¡»è¦ä¸ºä½ ç‚¹ä¸ªèµ&lt;/strong&gt;ğŸ‘ã€‚å¦‚æœè§‰å¾—ä¸è¿‡ç˜¾ï¼Œè¿˜æƒ³çœ‹åˆ°æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘çš„&lt;a href=&quot;http://www.itwanger.com/&quot;&gt;ä¸ªäººåšå®¢&lt;/a&gt;ã€‚å¦å¤–å‘¢ï¼Œç»™å¤§å®¶ä¸€ä¸ªæ‰¿è¯ºï¼Œæˆ‘æ¯å‘¨éƒ½ä¼šæ›´æ–°ä¸€ç¯‡ã€Šç¨‹åºäººç”Ÿã€‹å’Œä¸€ç¯‡ Java æŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ã€‚&lt;strong&gt;å¦‚æœä½ æœ‰ä»€ä¹ˆé—®é¢˜éœ€è¦æˆ‘çš„å¸®åŠ©ï¼Œæˆ–è€…æƒ³å–·æˆ‘äº†ï¼Œæ¬¢è¿ç•™è¨€å“Ÿ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…»æˆå¥½ä¹ æƒ¯ï¼å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç‚¹ç”¨çš„è¯ï¼Œ&lt;strong&gt;æ±‚ç‚¹èµã€æ±‚å…³æ³¨ã€æ±‚åˆ†äº«ã€æ±‚ç•™è¨€&lt;/strong&gt;ï¼Œè¿™å°†æ˜¯æˆ‘å†™ä¸‹å»çš„æœ€å¼ºåŠ¨åŠ›ï¼å¦‚æœå¤§å®¶æƒ³è¦ç¬¬ä¸€æ—¶é—´çœ‹åˆ°äºŒå“¥æ›´æ–°çš„æ–‡ç« ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹çš„äºŒç»´ç ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€‚æˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.itwanger.com/assets/images/cmower_3.png&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:31:00 +0000</pubDate>
<dc:creator>æ²‰é»˜ç‹äºŒ</dc:creator>
<og:description>å¤§å’–ä½ å¥½ï¼Œä½œä¸ºä¸€ä¸ªç¼–ç¨‹åˆå­¦è€…ï¼Œæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Ÿ ä»¥ä¸Šæ˜¯ä¸€ä¸ªè¯»è€…æµå¹´ä¼¼æ°´çš„æé—®ã€‚æˆ‘æŠŠä»–çš„é—®é¢˜ç½®é¡¶äº†ï¼Œä½†ä¸€ç›´æ²¡æƒ³å¥½æ€ä¹ˆå›ç­”ï¼Œå› ä¸ºé—®é¢˜å¤ªè¿‡ç¬¼ç»Ÿäº†ã€‚åæ¥ï¼Œä»–ä¹Ÿå¯èƒ½æ„è¯†åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå°±åˆç»™æˆ‘å‘äº†ä¸€æ¡å¾®ä¿¡ï¼š åœ¨å—</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/qing-gee/p/12014503.html</dc:identifier>
</item>
<item>
<title> javaå¤šçº¿ç¨‹ä¸çº¿ç¨‹æ±  - è½¯ä»¶è€ç‹</title>
<link>http://www.cnblogs.com/ruanjianlaowang/p/12014490.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ruanjianlaowang/p/12014490.html</guid>
<description>&lt;h3 id=&quot;åœºæ™¯æè¿°&quot;&gt;1. åœºæ™¯æè¿°&lt;/h3&gt;
&lt;p&gt;ä»¥å‰å¤šçº¿ç¨‹ä¹Ÿå¸¸ç”¨ï¼Œè¿™æ¬¡å› éœ€å†é¡µé¢ä¸Šç”¨åˆ°å¤šçº¿ç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼Œæ€»ç»“ä¸‹ï¼Œæœ‰éœ€è¦çš„æœ‹å‹å¯ä»¥å‚è€ƒä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1727736/201912/1727736-20191210081757081-203106493.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;2. è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;h4 id=&quot;çº¿ç¨‹æ± æ¦‚å¿µ&quot;&gt;2.1 çº¿ç¨‹æ± æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;çº¿ç¨‹æ± å®˜æ–¹å®šä¹‰ä¸è¯´äº†ï¼Œé€šä¿—è¯´ä¸‹ï¼šæ± å­çš„æ¦‚å¿µï¼Œäº‹å…ˆï¼ˆé¢„å®šä¹‰ï¼‰åˆ›å»ºåï¼Œåç»­çš„çº¿ç¨‹å¯ä»¥ç›´æ¥ä»æ± å­ä¸­æ‹¿ï¼Œå¥½å¤„ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ¥åˆ›å»ºçº¿ç¨‹æ¯”è¾ƒæ¶ˆè€—èµ„æºï¼Œä¸ç”¨é‡å¤åˆ›å»ºï¼›&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ± å­äº‹å…ˆå®šä¹‰å¥½ï¼Œé¿å…æ— èŠ‚åˆ¶åˆ›å»ºçº¿ç¨‹ï¼Œå¯¼è‡´ç³»ç»Ÿå‡ºç°ä¸å¯é¢„æµ‹é£é™©ã€‚&lt;/p&gt;
&lt;h4 id=&quot;åˆ›å»ºæ–¹å¼&quot;&gt;2.2 åˆ›å»ºæ–¹å¼&lt;/h4&gt;
&lt;p&gt;é‡‡ç”¨jdkè‡ªå¸¦çš„çº¿ç¨‹æ± åˆ›å»ºæ–¹å¼ï¼Œjdk1.5å¼€å§‹æä¾›ï¼Œåœ¨java.util.concurrent çš„åŒ…ä¸‹é¢ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨é¢ä¸Šæœ‰ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼Œå…¶å®ä¸€ç§ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä¸€ç§æ˜¯é‡‡ç”¨new ThreadPoolExecutorè¿›è¡Œåˆ›å»ºï¼›&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  public ThreadPoolExecutor(int corePoolSize,
                              int maximumPoolSize,
                              long keepAliveTime,
                              TimeUnit unit,
                              BlockingQueue&amp;lt;Runnable&amp;gt; workQueue,
                              ThreadFactory threadFactory,
                              RejectedExecutionHandler handler) {&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ä¸€ç§æ˜¯é‡‡ç”¨Executors.newFixedThreadPool(3)ï¼Œä¸è¿‡è¿˜æ˜¯è°ƒç”¨çš„new ThreadPoolExecutorè¿›è¡Œçš„çº¿ç¨‹æ± åˆ›å»ºï¼Œèµ‹å€¼äº†å‡ ä¸ªé»˜è®¤å‚æ•°è€Œå·²ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;new ThreadPoolExecutor(nThreads, nThreads,
                                      0L, TimeUnit.MILLISECONDS,
                                      new LinkedBlockingQueue&amp;lt;Runnable&amp;gt;());&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;å‚æ•°å«ä¹‰&quot;&gt;2.3 å‚æ•°å«ä¹‰&lt;/h4&gt;
&lt;p&gt;ä¸€å…±æœ‰ 7 ä¸ªå‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ1ï¼‰corePoolSize&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œå½“æœ‰ä»»åŠ¡è¿›æ¥çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰çº¿ç¨‹æ•°è¿˜æœªè¾¾åˆ° corePoolSize ä¸ªæ•°ï¼Œåˆ™åˆ›å»ºæ ¸å¿ƒçº¿ç¨‹ï¼Œæ ¸å¿ƒçº¿ç¨‹æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€å½“çº¿ç¨‹æ•°æœªè¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æœ€å¤§å€¼çš„æ—¶å€™ï¼Œæ–°ä»»åŠ¡è¿›æ¥ï¼Œå³ä½¿æœ‰ç©ºé—²çº¿ç¨‹ï¼Œä¹Ÿä¸ä¼šå¤ç”¨ï¼Œä»ç„¶æ–°å»ºæ ¸å¿ƒçº¿ç¨‹ï¼›2ã€æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«é”€æ¯ï¼Œå³ä½¿æ˜¯ç©ºé—²çš„çŠ¶æ€ï¼Œä½†æ˜¯å¦‚æœé€šè¿‡æ–¹æ³• allowCoreThreadTimeOut(boolean value) è®¾ç½®ä¸º true æ—¶ï¼Œè¶…æ—¶ä¹ŸåŒæ ·ä¼šè¢«é”€æ¯ï¼›3ã€ç”Ÿäº§ç¯å¢ƒé¦–æ¬¡åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¯ä»¥è°ƒç”¨ prestartCoreThread() æ–¹æ³•æ¥é¢„å…ˆåˆ›å»ºæ‰€æœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œé¿å…ç¬¬ä¸€æ¬¡è°ƒç”¨ç¼“æ…¢ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ2ï¼‰maximumPoolSize&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†æœ‰æ ¸å¿ƒçº¿ç¨‹å¤–ï¼Œæœ‰äº›ç­–ç•¥æ˜¯å½“æ ¸å¿ƒçº¿ç¨‹å®Œå…¨æ— ç©ºé—²çš„æ—¶å€™ï¼Œè¿˜ä¼šåˆ›å»ºä¸€äº›ä¸´æ—¶çš„çº¿ç¨‹æ¥å¤„ç†ä»»åŠ¡ï¼ŒmaximumPoolSize å°±æ˜¯æ ¸å¿ƒçº¿ç¨‹ + ä¸´æ—¶çº¿ç¨‹çš„æœ€å¤§ä¸Šé™ã€‚ä¸´æ—¶çº¿ç¨‹æœ‰ä¸€ä¸ªè¶…æ—¶æœºåˆ¶ï¼Œè¶…è¿‡äº†è®¾ç½®çš„ç©ºé—²æ—¶é—´æ²¡æœ‰äº‹å„¿å¹²ï¼Œå°±ä¼šè¢«é”€æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ3ï¼‰keepAliveTime&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯ä¸Šé¢ä¸¤ä¸ªå‚æ•°é‡Œæ‰€æåˆ°çš„è¶…æ—¶æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹çš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œé»˜è®¤ç”¨äºéæ ¸å¿ƒçº¿ç¨‹ï¼Œé€šè¿‡ allowCoreThreadTimeOut(boolean value) æ–¹æ³•è®¾ç½®åï¼Œä¹Ÿä¼šç”¨äºæ ¸å¿ƒçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ4ï¼‰unit&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‚æ•°é…åˆä¸Šé¢çš„ keepAliveTime ï¼ŒæŒ‡å®šè¶…æ—¶çš„æ—¶é—´å•ä½ï¼Œç§’ã€åˆ†ã€æ—¶ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ5ï¼‰workQueue&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœæ ¸å¿ƒçº¿ç¨‹æ²¡æœ‰ç©ºé—²çš„äº†ï¼Œæ–°æ¥çš„ä»»åŠ¡å°±ä¼šè¢«æ”¾åˆ°è¿™ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ6ï¼‰threadFactory&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œç”¨äºå®ç°ç”Ÿæˆçº¿ç¨‹çš„æ–¹å¼ã€å®šä¹‰çº¿ç¨‹åæ ¼å¼ã€æ˜¯å¦åå°æ‰§è¡Œç­‰ç­‰ï¼Œå¯ä»¥ç”¨ Executors.defaultThreadFactory() é»˜è®¤çš„å®ç°å³å¯ï¼Œä¹Ÿå¯ä»¥ç”¨ Guava ç­‰ä¸‰æ–¹åº“æä¾›çš„æ–¹æ³•å®ç°ï¼Œå¦‚æœæœ‰ç‰¹æ®Šè¦æ±‚çš„è¯å¯ä»¥è‡ªå·±å®šä¹‰ã€‚å®ƒæœ€é‡è¦çš„åœ°æ–¹åº”è¯¥å°±æ˜¯å®šä¹‰çº¿ç¨‹åç§°çš„æ ¼å¼ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ7ï¼‰handler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“æ²¡æœ‰ç©ºé—²çš„çº¿ç¨‹å¤„ç†ä»»åŠ¡ï¼Œå¹¶ä¸”ç­‰å¾…é˜Ÿåˆ—å·²æ»¡ï¼ˆå½“ç„¶è¿™åªå¯¹æœ‰ç•Œé˜Ÿåˆ—æœ‰æ•ˆï¼‰ï¼Œå†æœ‰æ–°ä»»åŠ¡è¿›æ¥çš„è¯ï¼Œå°±è¦åšä¸€äº›å–èˆäº†ï¼Œè€Œè¿™ä¸ªå‚æ•°å°±æ˜¯æŒ‡å®šå–èˆç­–ç•¥çš„ï¼Œæœ‰ä¸‹é¢å››ç§ç­–ç•¥å¯ä»¥é€‰æ‹©ï¼š&lt;/p&gt;
&lt;p&gt;ThreadPoolExecutor.AbortPolicyï¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ˜¯é»˜è®¤ç­–ç•¥ï¼›&lt;br/&gt;ThreadPoolExecutor.DiscardPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ã€‚&lt;br/&gt;ThreadPoolExecutor.DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—æœ€å‰é¢çš„ä»»åŠ¡ï¼Œç„¶åå°†æ–°æ¥çš„ä»»åŠ¡åŠ å…¥ç­‰å¾…é˜Ÿåˆ—&lt;br/&gt;ThreadPoolExecutor.CallerRunsPolicyï¼šç”±çº¿ç¨‹æ± æ‰€åœ¨çš„çº¿ç¨‹å¤„ç†è¯¥ä»»åŠ¡ï¼Œæ¯”å¦‚åœ¨ main å‡½æ•°ä¸­åˆ›å»ºçº¿ç¨‹æ± ï¼Œå¦‚æœæ‰§è¡Œæ­¤ç­–ç•¥ï¼Œå°†æœ‰ main çº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡&lt;/p&gt;
&lt;h4 id=&quot;æµ‹è¯•éªŒè¯&quot;&gt;2.4 æµ‹è¯•éªŒè¯&lt;/h4&gt;
&lt;h5 id=&quot;æµ‹è¯•çº¿ç¨‹&quot;&gt;2.4.1 æµ‹è¯•çº¿ç¨‹&lt;/h5&gt;
&lt;pre&gt;
&lt;code&gt;package com.yutong.laowang.test;

public class ThreadTest extends Thread{
    @Override
    public void run() {
        System.out.println(&quot;è½¯ä»¶è€ç‹ï¼š&quot; +Thread.currentThread().getName());
  }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;executorsåˆ›å»º&quot;&gt;2.4.2 Executorsåˆ›å»º&lt;/h5&gt;
&lt;pre&gt;
&lt;code&gt;  private static void test4() {
        Executor mExecutor = Executors.newFixedThreadPool(3);
        for (int i = 0; i &amp;lt; 10; i++) {
            Thread thread = new ThreadTest();
            mExecutor.execute(thread);
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-3
è½¯ä»¶è€ç‹ï¼špool-2-thread-1
è½¯ä»¶è€ç‹ï¼špool-2-thread-3
è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-1
è½¯ä»¶è€ç‹ï¼špool-2-thread-3
è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-3
è½¯ä»¶è€ç‹ï¼špool-2-thread-1&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;threadpoolexecutoråˆ›å»º&quot;&gt;2.4.3 ThreadPoolExecutoråˆ›å»º&lt;/h5&gt;
&lt;pre&gt;
&lt;code&gt; private static void test3() {
        int poolSize = 5;
        int queueSize = 100;
        ExecutorService executorService = new ThreadPoolExecutor(poolSize, poolSize, 0L, TimeUnit.SECONDS,
                new ArrayBlockingQueue&amp;lt;Runnable&amp;gt;(queueSize), new ThreadPoolExecutor.AbortPolicy());
                
        for (int i=0;i&amp;lt;10;i++) {
            executorService.submit(new ThreadTest());
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;è½¯ä»¶è€ç‹ï¼špool-2-thread-1
è½¯ä»¶è€ç‹ï¼špool-2-thread-3
è½¯ä»¶è€ç‹ï¼špool-2-thread-4
è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-5
è½¯ä»¶è€ç‹ï¼špool-2-thread-5
è½¯ä»¶è€ç‹ï¼špool-2-thread-1
è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-2
è½¯ä»¶è€ç‹ï¼špool-2-thread-1&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;çº¿ç¨‹åœç”¨&quot;&gt;2.4.4 çº¿ç¨‹åœç”¨&lt;/h5&gt;
&lt;pre&gt;
&lt;code&gt;thread.interrupt();
---æœ‰æ—¶å€™ä¸ä¸€å®šèƒ½æ‰§è¡ŒæˆåŠŸï¼Œä¸€èˆ¬ä¼šç»“åˆåˆ¤æ–­ä½¿ç”¨,è½¯ä»¶è€ç‹ï¼Œä¾‹å¦‚ï¼š
åœ¨ThreadTestç±»ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œé»˜è®¤ä¸ºfalseï¼Œå½“æ»¡è¶³æ¡ä»¶ä¸‹ä¸ºtrueï¼Œåœç”¨çº¿ç¨‹ã€‚
 public volatile boolean exit = false;
&lt;/code&gt;
&lt;/pre&gt;
&lt;hr/&gt;&lt;p&gt;Iâ€™m ã€Œè½¯ä»¶è€ç‹ã€ï¼Œå¦‚æœè§‰å¾—è¿˜å¯ä»¥çš„è¯ï¼Œå…³æ³¨ä¸‹å‘—ï¼Œåç»­æ›´æ–°ç§’çŸ¥ï¼æ¬¢è¿è®¨è®ºåŒºã€åŒåå…¬ä¼—å·ç•™è¨€äº¤æµï¼&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:18:00 +0000</pubDate>
<dc:creator>è½¯ä»¶è€ç‹</dc:creator>
<og:description>ä»¥å‰å¤šçº¿ç¨‹ä¹Ÿå¸¸ç”¨ï¼Œè¿™æ¬¡å› éœ€å†é¡µé¢ä¸Šç”¨åˆ°å¤šçº¿ç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼Œæ€»ç»“ä¸‹ï¼Œæœ‰éœ€è¦çš„æœ‹å‹å¯ä»¥å‚è€ƒä¸‹ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/ruanjianlaowang/p/12014490.html</dc:identifier>
</item>
<item>
<title>ä½ çš„SpringBootåº”ç”¨çœŸçš„éƒ¨ç½²æ›´æ–°æˆåŠŸäº†å— - throwable</title>
<link>http://www.cnblogs.com/throwable/p/12014491.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/throwable/p/12014491.html</guid>
<description>&lt;h2 id=&quot;å‰æ&quot;&gt;å‰æ&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²äº†&lt;code&gt;SpringBoot&lt;/code&gt;åº”ç”¨çš„æ—¶å€™ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡&lt;code&gt;Jenkins&lt;/code&gt;çš„æ„å»ºçŠ¶æ€å’Œ&lt;code&gt;Linux&lt;/code&gt;çš„&lt;code&gt;ps&lt;/code&gt;å‘½ä»¤å»æ„ŸçŸ¥åº”ç”¨æ˜¯å¦åœ¨æ–°çš„ä¸€æ¬¡å‘å¸ƒä¸­éƒ¨ç½²å’Œå¯åŠ¨æˆåŠŸï¼Œä½†æ˜¯è¿™ç§ç›‘æ§æ‰‹æ®µæ˜¯è¿ç»´å±‚é¢çš„ã€‚é‚£ä¹ˆï¼Œå¯ä»¥æä¾›ä¸€ç§æ‰‹æ®µèƒ½å¤Ÿåœ¨åº”ç”¨å±‚é¢æ„ŸçŸ¥æœåŠ¡åœ¨æ–°çš„ä¸€æ¬¡å‘å¸ƒä¸­çš„æ„å»ºéƒ¨ç½²å’Œå¯åŠ¨æ˜¯å¦æˆåŠŸå—ï¼Ÿè¿™ä¸ªé—®é¢˜ç¬”è€…èŠ±äº†ä¸€ç‚¹æ—¶é—´æƒ³é€šäº†è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« æä¾›ä¸€ä¸ªç®€å•çš„å®ç°æ€è·¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åŸºæœ¬æ€è·¯&quot;&gt;åŸºæœ¬æ€è·¯&lt;/h2&gt;
&lt;p&gt;å…¶å®åŸºæœ¬æ€è·¯å¾ˆç®€å•ï¼Œä¸€èˆ¬&lt;code&gt;SpringBoot&lt;/code&gt;åº”ç”¨ä¼šä½¿ç”¨&lt;code&gt;Maven&lt;/code&gt;æ’ä»¶æ‰“åŒ…ï¼ˆç¬”è€…ä¸ç†Ÿæ‚‰&lt;code&gt;Gradle&lt;/code&gt;ï¼Œæ‰€ä»¥æš‚æ—¶ä¸å¯¹&lt;code&gt;Gradle&lt;/code&gt;åšåˆ†æï¼‰ï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·è€ƒè™‘ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;code&gt;Maven&lt;/code&gt;æ’ä»¶æ‰“åŒ…çš„æ—¶å€™ï¼ŒæŠŠ&lt;strong&gt;æ„å»ºæ—¶é—´&lt;/strong&gt;å’Œ&lt;code&gt;pom&lt;/code&gt;æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·éƒ½å†™åˆ°&lt;code&gt;jar&lt;/code&gt;åŒ…çš„æè¿°æ–‡ä»¶ä¸­ï¼Œæ­£ç¡®æ¥è¯´å°±æ˜¯&lt;code&gt;MANIFEST.MF&lt;/code&gt;æ–‡ä»¶ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¼•å…¥&lt;code&gt;spring-boot-starter-actuator&lt;/code&gt;ï¼Œé€šè¿‡&lt;code&gt;/actuator/info&lt;/code&gt;ç«¯ç‚¹å»æš´éœ²åº”ç”¨çš„ä¿¡æ¯ï¼ˆæœ€å¥½æ§åˆ¶ç½‘ç»œè®¿é—®æƒé™ä¸ºåªå…è®¸å†…ç½‘è®¿é—®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æŠŠç¬¬1æ­¥ä¸­æ‰“åŒ…åˆ°&lt;code&gt;jar&lt;/code&gt;åŒ…ä¸­çš„&lt;code&gt;MANIFEST.MF&lt;/code&gt;æ–‡ä»¶çš„å†…å®¹è¯»å–å¹¶ä¸”åŠ è½½åˆ°&lt;code&gt;SpringBoot&lt;/code&gt;ç¯å¢ƒå±æ€§ä¸­çš„&lt;code&gt;info.*&lt;/code&gt;å±æ€§ä¸­ï¼Œä»¥ä¾¿å¯ä»¥é€šè¿‡&lt;code&gt;/actuator/info&lt;/code&gt;è®¿é—®ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ€è·¯å®šå¥½äº†ï¼Œé‚£ä¹ˆä¸‹é¢å¼€å§‹å®æ–½ç¼–ç ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç¼–ç å®ç°&quot;&gt;ç¼–ç å®ç°&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘åˆšå¥½åœ¨è°ƒç ”èš‚èšé‡‘æœçš„&lt;code&gt;SofaStack&lt;/code&gt;ä½“ç³»ï¼Œè¿™é‡Œå¼•å…¥&lt;code&gt;SofaBoot&lt;/code&gt;ç¼–å†™ç¤ºä¾‹ã€‚&lt;code&gt;pom&lt;/code&gt;æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
    &amp;lt;groupId&amp;gt;club.throwable&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;sofa-boot-sample&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;packaging&amp;gt;jar&amp;lt;/packaging&amp;gt;
    &amp;lt;name&amp;gt;sofa-boot-sample&amp;lt;/name&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;maven.compiler.source&amp;gt;1.8&amp;lt;/maven.compiler.source&amp;gt;
        &amp;lt;maven.compiler.target&amp;gt;1.8&amp;lt;/maven.compiler.target&amp;gt;
        &amp;lt;sofa.boot.version&amp;gt;3.2.0&amp;lt;/sofa.boot.version&amp;gt;
        &amp;lt;spring.boot.version&amp;gt;2.1.0.RELEASE&amp;lt;/spring.boot.version&amp;gt;
        &amp;lt;maven.build.timestamp.format&amp;gt;yyyy-MM-dd HH:mm:ss.SSS&amp;lt;/maven.build.timestamp.format&amp;gt;
    &amp;lt;/properties&amp;gt;
    &amp;lt;dependencyManagement&amp;gt;
        &amp;lt;dependencies&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-dependencies&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${spring.boot.version}&amp;lt;/version&amp;gt;
                &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt;
                &amp;lt;scope&amp;gt;import&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;com.alipay.sofa&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;sofaboot-dependencies&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${sofa.boot.version}&amp;lt;/version&amp;gt;
                &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt;
                &amp;lt;scope&amp;gt;import&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
        &amp;lt;/dependencies&amp;gt;
    &amp;lt;/dependencyManagement&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alipay.sofa&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;healthcheck-sofa-boot-starter&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;

    &amp;lt;build&amp;gt;
        &amp;lt;finalName&amp;gt;sofa-boot-sample&amp;lt;/finalName&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;3.8.1&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;${maven.compiler.source}&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;${maven.compiler.target}&amp;lt;/target&amp;gt;
                    &amp;lt;encoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/encoding&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${spring.boot.version}&amp;lt;/version&amp;gt;
                &amp;lt;executions&amp;gt;
                    &amp;lt;execution&amp;gt;
                        &amp;lt;goals&amp;gt;
                            &amp;lt;goal&amp;gt;repackage&amp;lt;/goal&amp;gt;
                        &amp;lt;/goals&amp;gt;
                    &amp;lt;/execution&amp;gt;
                &amp;lt;/executions&amp;gt;
            &amp;lt;/plugin&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-jar-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;3.2.0&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;archive&amp;gt;
                        &amp;lt;manifest&amp;gt;
                            &amp;lt;addBuildEnvironmentEntries&amp;gt;true&amp;lt;/addBuildEnvironmentEntries&amp;gt;
                        &amp;lt;/manifest&amp;gt;
                        &amp;lt;manifestEntries&amp;gt;
                            &amp;lt;Application-Name&amp;gt;${project.groupId}:${project.artifactId}:${project.version}&amp;lt;/Application-Name&amp;gt;
                            &amp;lt;Build-Timestamp&amp;gt;${maven.build.timestamp}&amp;lt;/Build-Timestamp&amp;gt;
                        &amp;lt;/manifestEntries&amp;gt;
                    &amp;lt;/archive&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;pom&lt;/code&gt;æ–‡ä»¶ä¸­ä¸€äº›å±æ€§å’Œå ä½ç¬¦çš„è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸¤ä¸ªé“¾æ¥ï¼š&lt;a href=&quot;http://maven.apache.org/shared/maven-archiver/index.html&quot;&gt;Maven-Archiver&lt;/a&gt;å’Œ&lt;a href=&quot;http://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Available_Variables&quot;&gt;Available Variables&lt;/a&gt;ã€‚&lt;code&gt;SpringBoot&lt;/code&gt;çš„é…ç½®æ–‡ä»¶&lt;code&gt;application.yaml&lt;/code&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;yaml&quot;&gt;
&lt;code&gt;server:
  port: 9091
management:
  server:
    port: 10091
  endpoints:
    enabled-by-default: false
    web:
      exposure:
        include: info
  endpoint:
    info:
      enabled: true
spring:
  application:
    name: sofa-boot-sample&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹&lt;/strong&gt;ï¼š&lt;code&gt;SpringBoot&lt;/code&gt;åº”ç”¨é€šè¿‡å…¶&lt;code&gt;Maven&lt;/code&gt;æ’ä»¶æ‰“å‡ºæ¥çš„&lt;code&gt;jar&lt;/code&gt;åŒ…è§£å‹åçš„ç›®å½•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;sofa-boot-sample.jar
  - META-INF
    - MANIFEST.MF
    - maven ...
  - org
    - springframework 
      - boot ...
  - BOOT-INF
    - classes ...
    - lib ...    &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;äº†è§£æ­¤è§£å‹ç›®å½•æ˜¯æˆ‘ä»¬ç¼–å†™&lt;code&gt;MANIFEST.MF&lt;/code&gt;æ–‡ä»¶çš„è§£æå®ç°è¿‡ç¨‹çš„å‰æã€‚ç¼–å†™&lt;code&gt;MANIFEST.MF&lt;/code&gt;æ–‡ä»¶çš„è§£æç±»ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@SuppressWarnings(&quot;ConstantConditions&quot;)
public enum ManiFestFileExtractUtils {


    /**
     * å•ä¾‹
     */
    X;

    private static Map&amp;lt;String, String&amp;gt; RESULT = new HashMap&amp;lt;&amp;gt;(16);
    private static final Logger LOGGER = LoggerFactory.getLogger(ManiFestFileExtractUtils.class);

    static {
        String jarFilePath = ClassUtils.getDefaultClassLoader().getResource(&quot;&quot;).getPath().replace(&quot;!/BOOT-INF/classes!/&quot;, &quot;&quot;);
        if (jarFilePath.startsWith(&quot;file&quot;)) {
            jarFilePath = jarFilePath.substring(5);
        }
        LOGGER.info(&quot;è¯»å–çš„Jarè·¯å¾„ä¸º:{}&quot;, jarFilePath);
        try (JarFile jarFile = new JarFile(jarFilePath)) {
            JarEntry entry = jarFile.getJarEntry(&quot;META-INF/MANIFEST.MF&quot;);
            if (null != entry) {
                BufferedReader reader = new BufferedReader(new InputStreamReader(jarFile.getInputStream(entry), StandardCharsets.UTF_8));
                String line;
                while (null != (line = reader.readLine())) {
                    LOGGER.info(&quot;è¯»å–åˆ°è¡Œ:{}&quot;, line);
                    int i = line.indexOf(&quot;:&quot;);
                    if (i &amp;gt; -1) {
                        String key = line.substring(0, i).trim();
                        String value = line.substring(i + 1).trim();
                        RESULT.put(key, value);
                    }
                }
            }

        } catch (Exception e) {
            LOGGER.warn(&quot;è§£æMANIFEST.MFæ–‡ä»¶å¼‚å¸¸&quot;, e);
        }
    }

    public Map&amp;lt;String, String&amp;gt; extract() {
        return RESULT;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä¸€ä¸ª&lt;code&gt;CommandLineRunner&lt;/code&gt;çš„å®ç°æŠŠ&lt;code&gt;MANIFEST.MF&lt;/code&gt;æ–‡ä»¶çš„å†…å®¹å†™åˆ°&lt;code&gt;Environment&lt;/code&gt;å®ä¾‹ä¸­ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
public class SofaBootSampleRunner implements CommandLineRunner {

    @Autowired
    private ConfigurableEnvironment configurableEnvironment;

    @Override
    public void run(String... args) throws Exception {
        MutablePropertySources propertySources = configurableEnvironment.getPropertySources();
        Map&amp;lt;String, String&amp;gt; result = ManiFestFileExtractUtils.X.extract();
        Properties properties = new Properties();
        for (Map.Entry&amp;lt;String, String&amp;gt; entry : result.entrySet()) {
            String key = &quot;info.&quot; + entry.getKey();
            properties.setProperty(key, entry.getValue());
        }
        if (!properties.isEmpty()) {
            propertySources.addFirst(new PropertiesPropertySource(&quot;infoProperties&quot;, properties));
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨ç±»å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@SpringBootApplication
public class SofaBootSampleApplication {

    public static void main(String[] args) {
        SpringApplication.run(SofaBootSampleApplication.class, args);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æœ€ç»ˆæ•ˆæœ&quot;&gt;æœ€ç»ˆæ•ˆæœ&lt;/h2&gt;
&lt;p&gt;åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä½¿ç”¨å‘½ä»¤&lt;code&gt;mvn package&lt;/code&gt;ï¼Œæ‰“å‡º&lt;code&gt;jar&lt;/code&gt;åŒ…åç›´æ¥å¯åŠ¨ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;cd JaråŒ…çš„ç›®å½•
java -jar sofa-boot-sample.jar&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è°ƒç”¨&lt;code&gt;http://localhost:10091/actuator/info&lt;/code&gt;æ¥å£è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;Spring-Boot-Version&quot;: &quot;2.1.0.RELEASE&quot;,
    &quot;Start-Class&quot;: &quot;club.throwable.sofa.SofaBootSampleApplication&quot;,
    &quot;Main-Class&quot;: &quot;org.springframework.boot.loader.JarLauncher&quot;,
    &quot;Manifest-Version&quot;: &quot;1.0&quot;,
    &quot;Build-Jdk-Spec&quot;: &quot;1.8&quot;,
    &quot;Spring-Boot-Classes&quot;: &quot;BOOT-INF/classes/&quot;,
    &quot;Created-By&quot;: &quot;Maven Jar Plugin 3.2.0&quot;,
    &quot;Build-Timestamp&quot;: &quot;2019-12-08 17:41:21.844&quot;,
    &quot;Spring-Boot-Lib&quot;: &quot;BOOT-INF/lib/&quot;,
    &quot;Application-Name&quot;: &quot;club.throwable:sofa-boot-sample:1.0-SNAPSHOT&quot;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ”¹å˜&lt;code&gt;pom&lt;/code&gt;æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬æ ‡ç­¾&lt;code&gt;&amp;lt;version&amp;gt;&lt;/code&gt;ä¸º&lt;code&gt;1.0.0&lt;/code&gt;ï¼Œå†æ¬¡æ‰“åŒ…å¹¶ä¸”å¯åŠ¨æˆåŠŸåè°ƒç”¨&lt;code&gt;http://localhost:10091/actuator/info&lt;/code&gt;æ¥å£è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;Spring-Boot-Version&quot;: &quot;2.1.0.RELEASE&quot;,
    &quot;Start-Class&quot;: &quot;club.throwable.sofa.SofaBootSampleApplication&quot;,
    &quot;Main-Class&quot;: &quot;org.springframework.boot.loader.JarLauncher&quot;,
    &quot;Manifest-Version&quot;: &quot;1.0&quot;,
    &quot;Build-Jdk-Spec&quot;: &quot;1.8&quot;,
    &quot;Spring-Boot-Classes&quot;: &quot;BOOT-INF/classes/&quot;,
    &quot;Created-By&quot;: &quot;Maven Jar Plugin 3.2.0&quot;,
    &quot;Build-Timestamp&quot;: &quot;2019-12-08 17:42:07.273&quot;,
    &quot;Spring-Boot-Lib&quot;: &quot;BOOT-INF/lib/&quot;,
    &quot;Application-Name&quot;: &quot;club.throwable:sofa-boot-sample:1.0.0&quot;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯è§æ„å»ºæ—¶é—´æˆ³&lt;code&gt;Build-Timestamp&lt;/code&gt;å’ŒæœåŠ¡å&lt;code&gt;Application-Name&lt;/code&gt;éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œè¾¾åˆ°äº†ç›‘æ§æœåŠ¡æ˜¯å¦æ­£å¸¸éƒ¨ç½²å’Œå¯åŠ¨çš„ç›®çš„ã€‚å¦‚æœæœ‰å¤šä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ª&lt;code&gt;ip&lt;/code&gt;å±æ€§åŠ ä»¥åŒºåˆ†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« é€šè¿‡&lt;code&gt;SpringBoot&lt;/code&gt;ä¸€äº›å®ç”¨æŠ€å·§å®ç°äº†åº”ç”¨å±‚é¢ç›‘æ§åº”ç”¨æ˜¯å¦æ­£å¸¸æ‰“åŒ…éƒ¨ç½²æ›´æ–°å’Œå¯åŠ¨æˆåŠŸçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åŸæ–‡é“¾æ¥&quot;&gt;åŸæ–‡é“¾æ¥&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;Github Pageï¼šhttp://throwable.club/2019/12/09/spring-boot-server-deploy-monitor&lt;/li&gt;
&lt;li&gt;Coding Pageï¼šhttp://throwable.coding.me/2019/12/09/spring-boot-server-deploy-monitor&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ï¼ˆæœ¬æ–‡å®Œ e-a-20191209:1:39 c-1-dï¼‰&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:18:00 +0000</pubDate>
<dc:creator>throwable</dc:creator>
<og:description>å‰æ å½“æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²äº† åº”ç”¨çš„æ—¶å€™ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ çš„æ„å»ºçŠ¶æ€å’Œ çš„`ps`å‘½ä»¤å»æ„ŸçŸ¥åº”ç”¨æ˜¯å¦åœ¨æ–°çš„ä¸€æ¬¡å‘å¸ƒä¸­éƒ¨ç½²å’Œå¯åŠ¨æˆåŠŸï¼Œä½†æ˜¯è¿™ç§ç›‘æ§æ‰‹æ®µæ˜¯è¿ç»´å±‚é¢çš„ã€‚é‚£ä¹ˆï¼Œå¯ä»¥æä¾›ä¸€ç§æ‰‹æ®µèƒ½å¤Ÿåœ¨åº”ç”¨å±‚é¢æ„ŸçŸ¥</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/throwable/p/12014491.html</dc:identifier>
</item>
<item>
<title>[UWP]ä½¿ç”¨CompositionGeometricClipè£å‰ªå¤æ‚å›¾å½¢åŠè¿›è¡ŒåŠ¨ç”» - dino.c</title>
<link>http://www.cnblogs.com/dino623/p/using_compositiongeometricclip_to_cut_and_animate_complex_graphics.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dino623/p/using_compositiongeometricclip_to_cut_and_animate_complex_graphics.html</guid>
<description>&lt;h2 id=&quot;uwpä¸­çš„å…¶å®ƒè£å‰ªæ–¹æ¡ˆ&quot;&gt;1. UWPä¸­çš„å…¶å®ƒè£å‰ªæ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰åœ¨ &lt;a href=&quot;https://www.cnblogs.com/dino623/p/UWP_UIElement_Clip.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt; é‡Œï¼Œæˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.uielement.clip&quot;&gt;UIElement.Clip&lt;/a&gt;è£å‰ªUIElementçš„å†…å®¹ï¼Œä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;Canvas&amp;gt;
    &amp;lt;Image Source=&quot;Images/Water_lilies.jpg&quot; Width=&quot;200&quot; Height=&quot;150&quot;&amp;gt;
        &amp;lt;Image.Clip&amp;gt;
            &amp;lt;RectangleGeometry Rect=&quot;100 75 50 50&quot;/&amp;gt;
        &amp;lt;/Image.Clip&amp;gt;
    &amp;lt;/Image&amp;gt;
&amp;lt;/Canvas&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ &lt;a href=&quot;https://www.cnblogs.com/dino623/p/using_win2d_and_composition_API_to_implement_the_glow_effect_of_text_and_make_animation.html&quot;&gt;å¦ä¸€ç¯‡æ–‡ç« é‡Œ&lt;/a&gt; æˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ &lt;a href=&quot;http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_CanvasActiveLayer.htm&quot;&gt;CanvasActiveLayer&lt;/a&gt; è£å‰ªWin2Då†…å®¹ï¼Œä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;var fullSizeGeometry = CanvasGeometry.CreateRectangle(session, 0, 0, width, height);
var textGeometry = CanvasGeometry.CreateText(textLayout);
var finalGeometry = fullSizeGeometry.CombineWith(textGeometry, Matrix3x2.Identity, CanvasGeometryCombine.Exclude);

using (var layer = session.CreateLayer(1, finalGeometry))
{
    //DrawSth
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤ç§æ–¹å¼éƒ½æœ‰ä»–ä»¬çš„å±€é™ï¼šCanvasActiveLayerè™½ç„¶å¾ˆçµæ´»ï¼Œä½†åªèƒ½è£å‰ªWin2Dçš„å†…å®¹ï¼Œè€Œä¸”ä»£ç é‡ä¸å°‘ï¼›è€ŒUIElement.Clipè™½ç„¶ä½¿ç”¨ç®€å•ï¼Œä½†åªèƒ½è£å‰ªçŸ©å½¢åŒºåŸŸã€‚è€Œä»‹äºä»–ä»¬ä¹‹é—´çš„æ˜¯ä½¿ç”¨&lt;code&gt;Visual.Clip&lt;/code&gt;çš„è£å‰ªæ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&quot;visual.clipå’Œinsetclipcompositiongeometricclip&quot;&gt;2. Visual.Clipå’ŒInsetClipã€CompositionGeometricClip&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.visual.clip#Windows_UI_Composition_Visual_Clip&quot;&gt;Visual.Clip&lt;/a&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositionclip&quot;&gt;CompositionClip&lt;/a&gt;ã€‚åˆšå¼€å§‹ç»§æ‰¿CompositionClipç±»çš„åªæœ‰ &lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.insetclip&quot;&gt;InsetClip&lt;/a&gt;ï¼Œå®ƒåªèƒ½è£å‰ªçŸ©å½¢åŒºåŸŸï¼Œä¸èƒ½å¦å®šæŸäº›æƒ…å†µä¸‹å®ƒè¿˜æ˜¯æŒºæœ‰ç”¨çš„ï¼Œä½•å†µè¿˜èƒ½è¿›è¡ŒåŠ¨ç”»ï¼Œä½†æ¯”&lt;code&gt;UIElement.Clip&lt;/code&gt;è¿˜æ˜¯å¥½ä¸äº†å¤šå°‘ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;var compositor = Window.Current.Compositor;
var visual = ElementCompositionPreview.GetElementVisual(uElement);
var clip = compositor.CreateInsetClip(leftInset, topInset, rightInset, bottomInset);
visual.Clip = clip;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åˆ°äº†1809ï¼Œ&lt;code&gt;Compositor&lt;/code&gt;æä¾›äº†ä¸€ä¸ªæ–°çš„å‡½æ•°&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositor.creategeometricclip&quot;&gt;CreateGeometricClip&lt;/a&gt;ï¼Œå®ƒå¯ä»¥ä»¥&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositiongeometry&quot;&gt;CompositionGeometry&lt;/a&gt; ä¸ºå‚æ•°åˆ›å»ºä¸€ä¸ª&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositiongeometricclip&quot;&gt;CompositionGeometricClip&lt;/a&gt;ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®&lt;code&gt;CompositionGeometry&lt;/code&gt;è£å‰ªå¤æ‚çš„åŒºåŸŸã€‚&lt;code&gt;Compositor&lt;/code&gt;æä¾›äº†CreateEllipseGeometryã€CreateLineGeometryã€CreatePathGeometryã€CreatePathGeometry(CompositionPath)ã€CreateRectangleGeometryã€CreateRoundedRectangleGeometryç­‰ä¸€äº›åˆ—åˆ›å»ºGeometryçš„å‡½æ•°ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;var compositor = Window.Current.Compositor;
var visual = ElementCompositionPreview.GetElementVisual(uElement);

var geometry  = compositor.CreateEllipseGeometry();
geometry.Center = new System.Numerics.Vector2(192, 525);
geometry.Radius = Vector2.Zero;
var clip = compositor.CreateGeometricClip(geometry);

visual.Clip = clip;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç ä½¿ç”¨&lt;code&gt;CreateEllipseGeometry&lt;/code&gt;åˆ›å»ºäº†ä¸€ä¸ªåœ†å½¢çš„Geometryï¼Œè®¾ç½®å¥½è¿™ä¸ªGeometryçš„ä¸­å¿ƒç‚¹å’ŒåŠå¾„ï¼Œç„¶åç”¨è¿™ä¸ªåœ†å½¢è£å‰ªVisualã€‚&lt;/p&gt;
&lt;h2 id=&quot;åˆ›å»ºåŠ¨ç”»&quot;&gt;3. åˆ›å»ºåŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;CompositionApiçš„ä¸€ä¸ªæœ€å¤§çš„å¥½å¤„æ˜¯çµæ´»çš„åŠ¨ç”»ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªç”¨EllipseGeometryåˆ¶ä½œçš„åŠ¨ç”»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/38937/201912/38937-20191208205622087-437862815.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å®ƒåªæ˜¯å¾ˆç®€å•åœ°å¯¹&lt;code&gt;Radius&lt;/code&gt;è¿›è¡ŒKeyFrameåŠ¨ç”»ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;var compositor = Window.Current.Compositor;
var animation = compositor.CreateVector2KeyFrameAnimation();

animation.DelayTime = delayTime;
animation.Duration = TimeSpan.FromSeconds(0.7);
animation.InsertKeyFrame(1, new Vector2(600, 600));
ellipseGeometry.StartAnimation(nameof(CompositionEllipseGeometry.Radius), animation);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ‰è¶£çš„æ˜¯Radiuså±…ç„¶æ˜¯ä¸ªVector2å±æ€§ï¼Œæ‰€ä»¥&lt;code&gt;CompositionEllipseGeometry&lt;/code&gt;å…¶å®å¯ä»¥åˆ›å»ºä¸ºæ¤­åœ†å½¢ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»“è¯­&quot;&gt;4. ç»“è¯­&lt;/h2&gt;
&lt;p&gt;æœ‰äº†CompositionGeometricClipå¯ä»¥åœ¨UWPè£å‰ªå¤æ‚åŒºåŸŸï¼Œä½†åªèƒ½åœ¨1809ä»¥åä½¿ç”¨ã€‚åªæ˜¯è£å‰ªçš„è¯ï¼Œç›®å‰çœ‹èµ·æ¥æ²¡æ¯”WPFæœ‰å¤šå°‘ä¼˜åŠ¿ï¼Œä½†åŠ ä¸ŠCompositionåŠ¨ç”»å¯ç©æ€§å°±å¼ºå¤ªå¤šäº†ã€‚ä½¿ç”¨WPFçš„æ—¶å€™æˆ‘å‡ ä¹ä¸æ•¢ä½¿ç”¨åŠ¨ç”»ï¼Œæ€»æ˜¯éœ€è¦ç…§é¡¾ä½ç«¯é…ç½®ï¼Œåˆæ‹…å¿ƒWPFçš„æ€§èƒ½ã€‚10å¹´è¿‡å»äº†ï¼ŒUWPçš„æ€§èƒ½ä»¥åŠç°ä»£åŒ–çš„ç”µè„‘é…ç½®ç»ˆäºå¯ä»¥è®©æˆ‘æ”¾é£è‡ªæˆ‘äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;5. å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositor&quot;&gt;Compositor Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.visual.clip#Windows_UI_Composition_Visual_Clip&quot;&gt;Visual.Clip Property (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositionclip&quot;&gt;CompositionClip Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositor.createinsetclip#Windows_UI_Composition_Compositor_CreateInsetClip&quot;&gt;Compositor.CreateInsetClip Method (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.insetclip&quot;&gt;InsetClip Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositor.creategeometricclip#Windows_UI_Composition_Compositor_CreateGeometricClip&quot;&gt;Compositor.CreateGeometricClip Method (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositiongeometry&quot;&gt;CompositionGeometry Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositiongeometricclip&quot;&gt;CompositionGeometricClip Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/uwp/api/windows.ui.composition.compositionellipsegeometry&quot;&gt;CompositionEllipseGeometry Class (Windows.UI.Composition) - Windows UWP applications _ Microsoft Docs&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:16:00 +0000</pubDate>
<dc:creator>dino.c</dc:creator>
<og:description>1. UWPä¸­çš„å…¶å®ƒè£å‰ªæ–¹æ¡ˆ ä¹‹å‰åœ¨ 'è¿™ç¯‡æ–‡ç« ' é‡Œï¼Œæˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ 'UIElement.Clip' è£å‰ªUIElementçš„å†…å®¹ï¼Œä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š åœ¨ 'å¦ä¸€ç¯‡æ–‡ç« é‡Œ' æˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ 'Ca</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/dino623/p/using_compositiongeometricclip_to_cut_and_animate_complex_graphics.html</dc:identifier>
</item>
<item>
<title>ä¸ä¸€æ ·çš„è§’åº¦ä¸€çª¥å¤šçº¿ç¨‹ - ç å†œé˜¿å®‡</title>
<link>http://www.cnblogs.com/CoderAyu/p/12014480.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/CoderAyu/p/12014480.html</guid>
<description>&lt;p&gt;æœ€è¿‘åœ¨æ€§èƒ½è°ƒè¯•æ—¶,å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡,æˆ‘æŠŠä»£ç ç®€åŒ–åå¦‚ä¸‹.&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(&quot;Start...&quot;);
            DoSomething();
            Console.WriteLine(&quot;Ending...&quot;);
            Console.ReadLine();
        }

        static void DoSomething()
        {
            var sum=&quot;&quot;;
            for (int i = 2; i &amp;lt; int.MaxValue; i++)
            {
                sum += &quot;s&quot;;
            }
            Console.WriteLine(sum.Length);
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°,éå¸¸ç®€å•çš„ä¸€æ®µä»£ç ,å½“æˆ‘ç”¨Windowsçš„æ€§èƒ½ç›‘æµ‹å·¥å…·æ¥ç›‘æµ‹æ¯ä¸ªå¤„ç†å™¨çš„ä½¿ç”¨ç‡æ—¶,å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/PerformaceMonitor.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç”µè„‘æ˜¯å››æ ¸çš„I7å¤„ç†å™¨,æ‰§è¡Œä»¥ä¸Šä»£ç å,å´åªæœ‰å¤„ç†å™¨2ä¸€ç›´å¤„ç†ä¸€ä¸ªæ¯”è¾ƒé«˜çš„å ç”¨ç‡,è€Œå…¶ä»–çš„ä¸‰ä¸ªåˆ™å¤„äºä¸€ä¸ª&quot;æ‘¸é±¼æ··æ—¥å­&quot;çš„çŠ¶æ€,å¤„ç†å™¨1åˆ™æ›´è¿‡åˆ†,ä½ æ˜¯ç¡ç€äº†å—?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/moyu.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŒä¸€å°ç”µè„‘ä¸Šçš„å¤„ç†å™¨,éš¾é“å¤§å®¶ä¸æ˜¯æœ‰ç¦åŒäº«,æœ‰éš¾åŒå½“çš„å—? ä¸ºä»€ä¹ˆå…¶ä»–å‡ ä¸ªå¤„ç†å™¨å°±å¿å¿ƒçœ‹ç€å¤„ç†å™¨2æ°´æ·±ç«çƒ­å‘¢?&lt;/p&gt;
&lt;p&gt;ç„¶å,æˆ‘å°±å’Œè¿™ä¸ªé—®é¢˜æ­»ç£•ä¸Šäº†,æ¶è¡¥äº†ä¸€äº›æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹çš„çŸ¥è¯†,ç°åœ¨æŠŠä¸€å†™çŸ¥è¯†ç‚¹ä¸²èµ·æ¥,åˆ†äº«ç»™å¤§å®¶.&lt;/p&gt;
&lt;h2 id=&quot;åˆ†çº§ä¿æŠ¤åŸŸ&quot;&gt;åˆ†çº§ä¿æŠ¤åŸŸ&lt;/h2&gt;
&lt;p&gt;ç”µè„‘æ“ä½œç³»ç»Ÿæä¾›ä¸åŒçš„èµ„æºè®¿é—®çº§åˆ«ã€‚åœ¨è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­ï¼ŒRingsæ˜¯ç”±ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç‰¹æƒæ€ç»„æˆã€‚åœ¨ä¸€äº›ç¡¬ä»¶æˆ–è€…å¾®ä»£ç çº§åˆ«ä¸Šæä¾›ä¸åŒç‰¹æƒæ€æ¨¡å¼çš„CPUæ¶æ„ä¸Šï¼Œä¿æŠ¤ç¯é€šå¸¸éƒ½æ˜¯ç¡¬ä»¶å¼ºåˆ¶çš„ã€‚Ringsæ˜¯ä»æœ€é«˜ç‰¹æƒçº§ï¼ˆé€šå¸¸è¢«å«ä½œ0çº§ï¼‰åˆ°æœ€ä½ç‰¹æƒçº§ï¼ˆé€šå¸¸å¯¹åº”æœ€å¤§çš„æ•°å­—ï¼‰æ’åˆ—çš„ã€‚åœ¨å¤§å¤šæ•°æ“ä½œç³»ç»Ÿä¸­ï¼ŒRing 0æ‹¥æœ‰æœ€é«˜ç‰¹æƒï¼Œå¹¶ä¸”å¯ä»¥å’Œæœ€å¤šçš„ç¡¬ä»¶ç›´æ¥äº¤äº’ï¼ˆæ¯”å¦‚CPUï¼Œå†…å­˜ï¼‰ã€‚åœ¨Windowsä¸­, User Space,ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±å®‰è£…çš„é‚£äº›åº”ç”¨ç¨‹åºå¤„ç†Ring 3,è€Œç³»ç»Ÿå†…æ ¸å°±åœ¨Ring 0.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/Priv_rings.svg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¸ªé—®é¢˜,ä¸¾ä¸ªä¾‹å­,å¤§å®¶å°±å¥½ç†è§£äº†.&lt;br/&gt;é’±ä¸æ˜¯ä¸‡èƒ½çš„,ä½†æ²¡é’±æ˜¯ä¸‡ä¸‡ä¸èƒ½çš„,æ‰€ä»¥é’±æ˜¯ä¸€ä¸ªå®¶åº­çš„é‡ä¸­ä¹‹é‡,å®¶é‡Œè€å©†å‘¢ä¸ºäº†è¿™ä¸ªå®¶çš„é•¿æ²»ä¹…å®‰,æŒæ¡å®¶é‡Œçš„è´¢æ”¿å¤§æƒ,æŠŠå®¶é‡Œçš„å°é‡‘åº“å®ˆå¾—æ­»æ­»çš„,ä½†è¿™å°±æ„å‘³ç€æˆ‘æ²¡é’±èŠ±äº†å—?å½“ç„¶ä¸æ˜¯,å’Œè€å©†å¤§äººç”¨æ­£å½“ç†ç”±ç”³è¯·ä¸å°±å®Œäº‹äº†?ğŸ˜‚&lt;br/&gt;ç”³è¯·é€šè¿‡ä¹‹å,è€å©†å¤§äººæ˜¯å…è®¸æˆ‘ç›´æ¥ä¼¸æ‰‹å»å®¶é‡Œå°é‡‘åº“æ‹¿é’±å—? é‚£å½“ç„¶ä¸æ˜¯,å¦‚æœæˆ‘ä¸€æŠ“ä¸€å¤§æŠŠå°±å±é™©äº†,æ‰€ä»¥è¿˜å¾—ç»è¿‡å¥¹çš„æ‰‹ä»å°é‡‘åº“æ‹¿é’±ç»™æˆ‘.&lt;br/&gt;è¿™ä¸ªç°è±¡,æˆ‘è§‰å¾—ä¹Ÿæ˜¯ä¸€ç§åˆ†çº§ä¿æŠ¤åŸŸ,æ‰€ä»¥å‘¢,ä¹Ÿä¸€ç›´å¯¹è€å©†å¤§äººçš„è¿™ç§ä¸‡æ¶è¡Œå¾„è¡¨ç¤ºç†è§£.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/%E6%B5%81%E4%B8%8B%E7%9C%BC%E6%B3%AA.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ“ä½œç³»ç»Ÿä¹Ÿæ˜¯è¿™æ ·,CPU,å†…å­˜è¿™äº›ç¡¬ä»¶æ˜¯ç”µè„‘å®‰å…¨çš„æ ¹æœ¬,æ‰€ä»¥ä¸èƒ½ç»™ç¬¬ä¸‰æ–¹è½¯ä»¶æ“ä½œæƒé™,æƒ³æ“ä½œç¡¬ä»¶,å°±é€šè¿‡ç”±Ring 0ä¸­å†…æ ¸(Kernel)æš´éœ²çš„ä¸¥æ ¼Apiè¿›è¡Œ.&lt;/p&gt;
&lt;h2 id=&quot;ç”¨æˆ·çº§çº¿ç¨‹ä¸å†…æ ¸çº§çº¿ç¨‹&quot;&gt;ç”¨æˆ·çº§çº¿ç¨‹ä¸å†…æ ¸çº§çº¿ç¨‹&lt;/h2&gt;
&lt;p&gt;çº¿ç¨‹ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§å®ç°æ–¹å¼-&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç”¨æˆ·çº§çº¿ç¨‹ -ç”¨æˆ·æ‰˜ç®¡çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;å†…æ ¸çº§çº¿ç¨‹ -ä½œç”¨åœ¨å†…æ ¸ï¼ˆæ“ä½œç³»ç»Ÿæ ¸å¿ƒï¼‰ä¸Šçš„æ“ä½œç³»ç»Ÿç®¡ç†çš„çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/many_to_one.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå›¾ä¸­,User Spaceå°±å¯ä»¥ç†è§£ä¸ºæˆ‘ä¸Šä¸ªç« èŠ‚ä¸­çš„Ring 3,è€ŒKernel Spaceå°±æ˜¯Ring 0, åœ¨Ring 0ä¸­,æ˜¯å¯ä»¥ç›´æ¥æ“ä½œCPU,å†…å­˜ç­‰ç¡¬ä»¶çš„,è€ŒRing 3ä¸è¡Œ.&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ç”¨æˆ·çº§çº¿ç¨‹ä¸å†…æ ¸çº§çº¿ç¨‹çš„å¯¹æ¯”.&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;ç”¨æˆ·çº¿ç¨‹ç”±ç”¨æˆ·å®ç°ã€‚&lt;/td&gt;
&lt;td&gt;å†…æ ¸çº¿ç¨‹ç”±OSå®ç°ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;æ“ä½œç³»ç»Ÿæ— æ³•è¯†åˆ«ç”¨æˆ·çº§çº¿ç¨‹ã€‚&lt;/td&gt;
&lt;td&gt;å†…æ ¸çº¿ç¨‹è¢«æ“ä½œç³»ç»Ÿè¯†åˆ«ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;ç”¨æˆ·çº¿ç¨‹çš„å®ç°å¾ˆå®¹æ˜“ã€‚&lt;/td&gt;
&lt;td&gt;å†…æ ¸çº¿ç¨‹çš„å®ç°å¾ˆå¤æ‚ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´æ›´å°‘ã€‚&lt;/td&gt;
&lt;td&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´æ›´é•¿ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸éœ€è¦ç¡¬ä»¶æ”¯æŒã€‚&lt;/td&gt;
&lt;td&gt;éœ€è¦ç¡¬ä»¶æ”¯æŒã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;å¦‚æœä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„çº¿ç¨‹æ‰§è¡Œé˜»æ­¢æ“ä½œï¼Œåˆ™æ•´ä¸ªè¿‡ç¨‹å°†è¢«é˜»æ­¢ã€‚&lt;/td&gt;
&lt;td&gt;å¦‚æœä¸€ä¸ªå†…æ ¸çº¿ç¨‹æ‰§è¡Œé˜»æ­¢æ“ä½œï¼Œåˆ™å¦ä¸€çº¿ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;æ— æ³•ç›´æ¥å‘æŒ¥å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿&lt;/td&gt;
&lt;td&gt;å¯ä»¥äº«å—å¤šå¤„ç†èµ·å¸¦æ¥çš„å¥½å¤„&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å…¶ä¸­,éå¸¸é‡è¦çš„ä¸€ç‚¹,ç”¨æˆ·çº§çº¿ç¨‹æ— æ³•ç›´æ¥å‘æŒ¥å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿,éš¾é“æˆ‘ä»¬ç¼–å†™å‡ºæ¥çš„ä»£ç åªèƒ½åœ¨ä¸€ä¸ªå¤„ç†å™¨ä¸Šè¿è¡Œäº†å—?è¿™å°±è¦è®²è®²ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹.&lt;/p&gt;
&lt;h2 id=&quot;ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹&quot;&gt;ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;é€šå¸¸ï¼Œå†…æ ¸çº§çº¿ç¨‹å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªæ¨¡å‹ä¹‹ä¸€æ¥æ‰§è¡Œç”¨æˆ·çº§çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Many-to-one&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;One-to-one&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;Many-to-many&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ‰€æœ‰æ¨¡å‹éƒ½å°†ç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ°å†…æ ¸çº§çº¿ç¨‹,ä¸€ä¸ªå†…æ ¸çº¿ç¨‹å°±åƒä¸€ä¸ªå¤„ç†å™¨,å®ƒæ˜¯ç³»ç»Ÿç¼–æ’ä»»åŠ¡çš„åŸºæœ¬å•ä½ã€‚&lt;/p&gt;
&lt;h2 id=&quot;many-to-one&quot;&gt;Many-to-one&lt;/h2&gt;
&lt;p&gt;å¤šå¯¹ä¸€æ¨¡å‹å°†è®¸å¤šç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚çº¿ç¨‹ç®¡ç†æ˜¯é€šè¿‡çº¿ç¨‹åº“åœ¨ç”¨æˆ·ç©ºé—´ä¸­å®Œæˆçš„ã€‚å½“çº¿ç¨‹è¿›è¡Œé˜»å¡çš„ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œæ•´ä¸ªè¿‡ç¨‹å°†è¢«é˜»å¡ã€‚ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®å†…æ ¸ï¼Œå› æ­¤å¤šä¸ªçº¿ç¨‹æ— æ³•åœ¨å¤šå¤„ç†å™¨ä¸Šå¹¶è¡Œè¿è¡Œã€‚&lt;br/&gt;å¦‚æœç”¨æˆ·çº§çº¿ç¨‹åº“æ˜¯ä»¥æ“ä½œç³»ç»Ÿä¸æ”¯æŒçš„æ–¹å¼å®ç°çš„ï¼Œåˆ™å†…æ ¸çº¿ç¨‹å°†ä½¿ç”¨å¤šå¯¹ä¸€å…³ç³»æ¨¡å‹ã€‚&lt;br/&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/many-to-one.png&quot;/&gt;&lt;br/&gt;å†…æ ¸å¯¹ç”¨æˆ·çº§çº¿ç¨‹ä¸å¯è§,åœ¨å®ƒçœ¼é‡Œåªæœ‰å†…æ ¸çº¿ç¨‹,è€Œåœ¨å†…æ ¸çº¿ç¨‹çš„çœ¼é‡Œ,ä¸€ä¸ªè¿›ç¨‹æ— éå°±æ˜¯ä¸€ä¸ªå¶å°”è¢«è¢«å®ƒç¿»ç‰Œçš„é»‘ç›’å­,è¿›ç¨‹è´Ÿè´£ç”¨æˆ·çº¿ç¨‹çš„è°ƒåº¦ä¸æ‰§è¡Œ.&lt;/p&gt;
&lt;h2 id=&quot;one-to-one&quot;&gt;One-to-one&lt;/h2&gt;
&lt;p&gt;åœ¨è¿™ç§æ¨¡å‹ä¸‹ç”¨æˆ·çº§çº¿ç¨‹ä¸å†…æ ¸çº§çº¿ç¨‹ä¹‹é—´å­˜åœ¨ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚è¯¥æ¨¡å‹æ¯”å¤šå¯¹ä¸€æ¨¡å‹å¹¶å‘æ€§å¥½,å½“ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œé˜»å¡ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå®ƒè¿˜å…è®¸å¦ä¸€ä¸ªçº¿ç¨‹è¿è¡Œ,æ‰€ä»¥å®ƒæ”¯æŒå¤šä¸ªçº¿ç¨‹ä»¥åœ¨å¤„ç†å™¨ä¸Šå¹¶è¡Œæ‰§è¡Œã€‚&lt;br/&gt;è¯¥æ¨¡å‹çš„ç¼ºç‚¹æ˜¯åˆ›å»ºç”¨æˆ·çº¿ç¨‹éœ€è¦ç›¸åº”çš„å†…æ ¸çº¿ç¨‹,è€Œåˆ›å»ºå†…æ ¸çº¿ç¨‹å¼€é”€æ˜¯å¾ˆå¤§çš„.&lt;br/&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/one-to-one.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;many-to-many&quot;&gt;Many-to-many&lt;/h2&gt;
&lt;p&gt;åœ¨å¤šå¯¹å¤šæ¨¡å‹ä¸­ï¼Œmä¸ªå†…æ ¸çº¿ç¨‹å¤„ç†nä¸ªç”¨æˆ·çº¿ç¨‹,å…¶ä¸­m &amp;lt; n. è¯¥æ¨¡å‹å¹¶å‘æ€§æœ€å¥½,å¹¶ä¸”ä¸ç”¨åˆ›å»ºè¿‡å¤šçš„å†…æ ¸çº¿ç¨‹,æ¶‰åŠåˆ°çš„çº¿ç¨‹åˆ‡æ¢åŒæ­¥çš„å¼€é”€ä¹Ÿæ›´å°.&lt;br/&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/many-to-many.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;çœŸç›¸æµ®å‡ºæ°´é¢&quot;&gt;çœŸç›¸æµ®å‡ºæ°´é¢&lt;/h2&gt;
&lt;p&gt;.Netçš„ä»£ç ä½œä¸ºæ‰˜ç®¡ä»£ç åœ¨â€œæ‰˜ç®¡çº¿ç¨‹â€ä¸Šæ‰§è¡Œï¼Œè€Œæ‰˜ç®¡çº¿ç¨‹æ˜¯åœ¨CLRè™šæ‹Ÿæœºä¸Šæ‰§è¡Œçš„è™šæ‹Ÿçº¿ç¨‹,ä¹Ÿæ˜¯å±äºç”¨æˆ·çº§çº¿ç¨‹.&lt;/p&gt;
&lt;p&gt;æ­£å¦‚JITç¼–è¯‘å™¨å°†â€œè™šæ‹Ÿâ€ ILæŒ‡ä»¤æ˜ å°„åˆ°åœ¨ç‰©ç†è®¡ç®—æœºä¸Šæ‰§è¡Œçš„æœ¬æœºæŒ‡ä»¤ä¸€æ ·ï¼ŒCLRçš„çº¿ç¨‹åŸºç¡€ç»“æ„ä¹Ÿå°†â€œè™šæ‹Ÿâ€æ‰˜ç®¡çº¿ç¨‹æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿæä¾›çš„å†…æ ¸çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°è¿™é‡Œ,æˆ‘ä»¬ä¹Ÿå·®ä¸å¤šæœ‰äº†å‰é¢æˆ‘è¯´çš„é‚£ä¸ªç°è±¡çš„ç­”æ¡ˆäº†,å¹¶éå…¶ä»–å¤„ç†å™¨ä¸æƒ³ä¸é‚£ä¸ªæ°´æ·±ç«çƒ­çš„å¤„ç†å™¨æœ‰éš¾åŒäº«,è€Œæ˜¯æˆ‘æ²¡æœ‰ä½¿ç”¨å¤šçº¿ç¨‹,æ‰€ä»¥æ‰§è¡Œçš„ç¨‹åºåªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹,ä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·çº¿ç¨‹æ•°ä¸º1.åªèƒ½æ˜¯one to one æ¨¡å‹,æ‰€ä»¥åªæœ‰ä¸€ä¸ªå¤„ç†å™¨èƒ½å‚ä¸å·¥ä½œ.&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶çŸ¥é“äº†é‡Œé¢çš„åŸç†,é‚£æˆ‘ä»¬å°±å¯¹å‰æ–‡ä¸­çš„ç¨‹åºè¿›è¡Œæ”¹é€ ,åˆ›å»ºå››ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡,ä¼šä¸ä¼šæ‰€æœ‰å¤„ç†å™¨éƒ½å¿™èµ·æ¥å‘¢?&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(&quot;Start...&quot;);
            for (var i = 0; i &amp;lt; 4; i++)
            {
                var td=new Thread(DoSomething);
                td.Start();
            }
            Console.WriteLine(&quot;Ending...&quot;);
            Console.ReadLine();
        }

        static void DoSomething()
        {
            var sum=&quot;&quot;;
            for (int i = 2; i &amp;lt; int.MaxValue; i++)
            {
                sum += &quot;s&quot;;
            }
            Console.WriteLine(sum.Length);
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°,è¿™æ¬¡å¤§å®¶çš„æ­¥ä¼éƒ½åšåˆ°äº†æƒŠäººçš„ä¸€è‡´,å››ä¸ªå¤„ç†å™¨éƒ½è¢«è°ƒç”¨èµ·æ¥,åŠ ä¸Šä¸»çº¿ç¨‹,è¿™é‡Œè‡³å°‘æœ‰äº”ä¸ªç”¨æˆ·çº¿ç¨‹,æ‰€ä»¥è¿™é‡Œåº”è¯¥æ˜¯many to manyçš„æ¨¡å‹äº†.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://disk.iblogs.site/pic/ThreadInDotnet/MutilThread.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è°¢è°¢è§‚èµ!&lt;/p&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™:&lt;br/&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Protection_ring&quot; class=&quot;uri&quot;&gt;https://en.wikipedia.org/wiki/Protection_ring&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://stackoverflow.com/questions/15093510/whats-c-sharp-threading-type&quot; class=&quot;uri&quot;&gt;https://stackoverflow.com/questions/15093510/whats-c-sharp-threading-type&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://github.com/dotnet/coreclr/blob/master/Documentation/botr/&quot; class=&quot;uri&quot;&gt;https://github.com/dotnet/coreclr/blob/master/Documentation/botr/&lt;/a&gt; threading.md#clr-threading-overview&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:06:00 +0000</pubDate>
<dc:creator>ç å†œé˜¿å®‡</dc:creator>
<og:description>ä¸ä¸€æ ·çš„è§’åº¦ä¸€çª¥å¤šçº¿ç¨‹ æœ€è¿‘åœ¨æ€§èƒ½è°ƒè¯•æ—¶,å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡,æˆ‘æŠŠä»£ç ç®€åŒ–åå¦‚ä¸‹. å¯ä»¥çœ‹åˆ°,éå¸¸ç®€å•çš„ä¸€æ®µä»£ç ,å½“æˆ‘ç”¨Windowsçš„æ€§èƒ½ç›‘æµ‹å·¥å…·æ¥ç›‘æµ‹æ¯ä¸ªå¤„ç†å™¨çš„ä½¿ç”¨ç‡æ—¶,å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡.</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/CoderAyu/p/12014480.html</dc:identifier>
</item>
<item>
<title>[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[3]ï¼šé…ç½®æ¨¡å‹æ€»ä½“è®¾è®¡ - Artech</title>
<link>http://www.cnblogs.com/artech/p/inside-asp-net-core-05-03.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/artech/p/inside-asp-net-core-05-03.html</guid>
<description>&lt;p&gt;åœ¨ã€Šè¯»å–é…ç½®æ•°æ®ã€‹ï¼ˆ[&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-01.html&quot;&gt;ä¸Šç¯‡&lt;/a&gt;]ï¼Œ[&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-02.html&quot;&gt;ä¸‹ç¯‡&lt;/a&gt;]ï¼‰ä¸Šé¢ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å®ä¾‹çš„æ–¹å¼æ¼”ç¤ºäº†å‡ ç§å…¸å‹çš„é…ç½®è¯»å–æ–¹å¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»è®¾è®¡çš„ç»´åº¦æ¥é‡å†™è®¤è¯†é…ç½®æ¨¡å‹ã€‚é…ç½®çš„ç¼–ç¨‹æ¨¡å‹æ¶‰åŠåˆ°ä¸‰ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼Œåˆ†åˆ«é€šè¿‡ä¸‰ä¸ªå¯¹åº”çš„æ¥å£ï¼ˆIConfigurationã€IConfigurationSourceå’ŒIConfigurationBuilderï¼‰æ¥è¡¨ç¤ºã€‚å¦‚æœä»è®¾è®¡å±‚é¢æ¥å®¡è§†èƒŒåçš„é…ç½®æ¨¡å‹ï¼Œè¿˜ç¼ºå°‘å¦ä¸€ä¸ªåé€šè¿‡IConfigurationProvideræ¥å£è¡¨ç¤ºçš„æ ¸å¿ƒå¯¹è±¡ã€‚æ€»çš„æ¥è¯´ï¼Œé…ç½®æ¨¡å‹ç”±è¿™å››ä¸ªæ ¸å¿ƒå¯¹è±¡ç»„æˆï¼Œä½†æ˜¯è¦å½»åº•äº†è§£è¿™å››ä¸ªæ ¸å¿ƒå¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬å…ˆå¾—æ¥èŠèŠé…ç½®çš„å‡ ç§æ•°æ®ç»“æ„ã€‚&lt;/p&gt;

&lt;p&gt;ç›¸åŒçš„æ•°æ®å…·æœ‰ä¸åŒçš„è¡¨ç°å½¢å¼å’Œæ‰¿è½½æ–¹å¼ï¼ŒåŒæ—¶ä½“ç°å‡ºä¸åŒçš„æ•°æ®ç»“æ„ã€‚å¯¹äºé…ç½®æ¥è¯´ï¼Œå®ƒåœ¨è¢«åº”ç”¨ç¨‹åºæ¶ˆè´¹è¿‡ç¨‹ä¸­æ˜¯ä»¥IConfigurationå¯¹è±¡çš„å½¢å¼æ¥ä½“ç°çš„ï¼Œè¯¥å¯¹è±¡åœ¨é€»è¾‘ä¸Šå…·æœ‰ä¸€ä¸ªæ ‘å½¢åŒ–å±‚æ¬¡ç»“æ„ï¼Œæ‰€ä»¥å°†å®ƒç§°ä¹‹ä¸º&lt;span&gt;é…ç½®æ ‘&lt;/span&gt;ï¼Œå¹¶å°†è¿™æ£µæ ‘è§†ä¸ºé…ç½®çš„â€œé€»è¾‘ç»“æ„â€ã€‚é…ç½®å…·æœ‰å¤šç§åŸå§‹æ¥æºï¼Œå¯ä»¥æ˜¯å†…å­˜å¯¹è±¡ã€ç‰©ç†æ–‡ä»¶ã€æ•°æ®åº“æˆ–è€…å…¶ä»–è‡ªå®šä¹‰çš„å­˜å‚¨ä»‹è´¨ã€‚å¦‚æœé‡‡ç”¨ç‰©ç†æ–‡ä»¶æ¥å­˜å‚¨é…ç½®æ•°æ®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€‰æ‹©ä¸åŒçš„æ–‡ä»¶æ ¼å¼ï¼Œå¸¸è§çš„æ–‡ä»¶ç±»å‹åŒ…æ‹¬XMLã€JSONå’ŒINIä¸‰ç§ï¼Œæ‰€ä»¥é…ç½®çš„åŸå§‹æ•°æ®ç»“æ„æ˜¯å¤šç§å¤šæ ·çš„ã€‚é…ç½®æ¨¡å‹çš„æœ€ç»ˆç›®çš„åœ¨äºæå–åŸå§‹çš„é…ç½®æ•°æ®å¹¶å°†å…¶è½¬æ¢æˆä¸€ä¸ªIConfigurationå¯¹è±¡ã€‚è¯å¥è¯è¯´ï¼Œé…ç½®æ¨¡å‹çš„ä½¿å‘½å°±åœ¨äºæŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼å°†é…ç½®æ•°æ®ä»åŸå§‹çš„ç»“æ„è½¬æ¢æˆæ ‘å½¢å±‚æ¬¡ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080250987-659514768.png&quot;&gt;&lt;img width=&quot;240&quot; height=&quot;95&quot; title=&quot;6-8&quot; alt=&quot;6-8&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080251401-1234828627.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®ä»åŸå§‹ç»“æ„å‘é€»è¾‘ç»“æ„çš„è½¬æ¢ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œåœ¨å®ƒä»¬ä¹‹é—´å…·æœ‰ä¸€ç§â€œä¸­é—´ç»“æ„â€ã€‚åŸå§‹çš„é…ç½®æ•°æ®è¢«è¯»å–å‡ºæ¥ä¹‹åä¼šå…ˆç»Ÿä¸€è½¬æ¢æˆè¿™ç§ä¸­é—´ç»“æ„çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ç§ä¸­é—´ç»“æ„åˆ°åº•æ˜¯ä¸€ç§æ€æ ·çš„æ•°æ®ç»“æ„å‘¢ï¼Ÿä¸€æ£µé…ç½®æ ‘é€šè¿‡å…¶å¶å­ç»“ç‚¹æ‰¿è½½æ‰€æœ‰çš„åŸå­é…ç½®æ•°æ®ï¼Œ è¿™æ£µæ ‘çš„ç»“æ„å’Œæ‰¿è½½çš„æ•°æ®å®Œå…¨å¯ä»¥åˆ©ç”¨ä¸€ä¸ªç®€å•çš„æ•°æ®å­—å…¸æ¥è¡¨è¾¾ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨é…ç½®æ ‘ä¸­çš„è·¯å¾„ä½œä¸ºKeyï¼Œå°†å¶å­ç»“ç‚¹æ‰¿è½½çš„é…ç½®æ•°æ®ä½œä¸ºValueå³å¯ã€‚æ‰€è°“çš„â€œä¸­é—´ç»“æ„â€æŒ‡çš„å°±æ˜¯è¿™æ ·çš„æ•°æ®å­—å…¸ï¼Œæˆ‘ä»¬ä¸å¦¨å°†å…¶ç§°ä¸ºâ€œ&lt;span&gt;é…ç½®å­—å…¸&lt;/span&gt;â€ã€‚æ‰€ä»¥é…ç½®æ¨¡å‹ä¼šæŒ‰ç…§å›¾6-9æ‰€ç¤ºçš„æ–¹å¼å°†å…·æœ‰ä¸åŒåŸå§‹ç»“æ„çš„é…ç½®æ•°æ®ç»Ÿä¸€è½¬æ¢æˆåŸºäºå­—å…¸çš„é…ç½®å­—å…¸ï¼Œæœ€ç»ˆå†å®Œæˆé’ˆå¯¹é€»è¾‘ç»“æ„çš„è½¬æ¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080251615-1461434207.png&quot;&gt;&lt;img width=&quot;325&quot; height=&quot;99&quot; title=&quot;6-9&quot; alt=&quot;6-9&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080252537-1247320552.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºé…ç½®æ¨¡å‹çš„å››ä¸ªæ ¸å¿ƒå¯¹è±¡æ¥è¯´ï¼ŒIConfigurationå¯¹è±¡æ˜¯å¯¹é…ç½®æ ‘çš„ä½“ç°ï¼Œå…¶ä»–ä¸‰ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼ˆIConfigurationSourceã€IConfigurationBuilderå’ŒIConfigurationProviderï¼‰åœ¨é…ç½®çš„ç»“æ„è½¬æ¢è¿‡ç¨‹ä¸­æ‰®æ¼”ç€ä¸åŒçš„è§’è‰²ï¼Œè‡³äºå®ƒä»¬ç©¶ç«Ÿèµ·åˆ°æ€æ ·çš„ä½œç”¨ï¼Œæˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­å¯¹å®ƒä»¬ä½œä¸“é—¨çš„ä»‹ç»ã€‚&lt;/p&gt;

&lt;p&gt;é…ç½®åœ¨åº”ç”¨ç¨‹åºä¸­æ€»æ˜¯ä»¥ä¸€ä¸ªIConfigurationå¯¹è±¡çš„å½¢å¼ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ä¸€ä¸ªIConfigurationå¯¹è±¡å…·æœ‰æ ‘å½¢å±‚æ¬¡åŒ–ç»“æ„çš„æ„æ€å¹¶ä¸æ˜¯è¯´å¯¹åº”çš„ç±»å‹å…·æœ‰å¯¹åº”çš„æ•°æ®æˆå‘˜å®šä¹‰ï¼Œè€Œæ˜¯è¯´å®ƒæä¾›çš„APIåœ¨é€»è¾‘ä¸Šä½“ç°å‡ºæ ‘å½¢åŒ–å±‚æ¬¡ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰è¯´é…ç½®æ ‘æ˜¯ä¸€ç§é€»è¾‘ç»“æ„ã€‚å¦‚ä¸‹æ‰€ç¤ºçš„æ˜¯IConfigurationæ¥å£çš„å®Œæ•´å®šä¹‰ï¼Œæ‰€è°“çš„å±‚æ¬¡åŒ–é€»è¾‘ç»“æ„å°±ä½“ç°åœ¨å®ƒçš„æˆå‘˜å®šä¹‰ä¸Šã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfiguration
{
    IEnumerable&lt;/span&gt;&amp;lt;IConfigurationSection&amp;gt;&lt;span&gt;     GetChildren();
    IConfigurationSection GetSection(&lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt; key);
    IChangeToken GetReloadToken();
   
    &lt;/span&gt;&lt;span&gt;string&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt; key] { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸€ä¸ªIConfigurationå¯¹è±¡è¡¨ç¤ºé…ç½®æ ‘çš„æŸä¸ªé…ç½®èŠ‚ç‚¹ã€‚å¯¹äºç»„æˆæ•´æ£µæ ‘çš„æ‰€æœ‰é…ç½®èŠ‚ç‚¹æ¥è¯´ï¼Œè¡¨ç¤ºæ ¹èŠ‚ç‚¹çš„IConfigurationå¯¹è±¡ä¸è¡¨ç¤ºå…¶å®ƒé…ç½®èŠ‚ç‚¹çš„IConfigurationå¯¹è±¡æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥é…ç½®æ¨¡å‹é‡‡ç”¨ä¸åŒçš„æ¥å£æ¥è¡¨ç¤ºå®ƒä»¬ã€‚æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„IConfigurationå¯¹è±¡ä½“ç°ä¸ºä¸€ä¸ª&lt;span&gt;IConfigurationRoot&lt;/span&gt;å¯¹è±¡ï¼Œé™¤æ­¤ä¹‹å¤–çš„å…¶ä»–èŠ‚ç‚¹å¯¹è±¡åˆ™è¢«é€šè¿‡ä¸€ä¸ª&lt;span&gt;IConfigurationSection&lt;/span&gt;å¯¹è±¡è¡¨ç¤ºï¼ŒIConfigurationRootå’ŒIConfigurationSectionæ¥å£éƒ½æ˜¯IConfigurationçš„ç»§æ‰¿è€…ã€‚ä¸‹å›¾ä¸ºæˆ‘ä»¬å±•ç¤ºäº†ç”±ä¸€ä¸ªIConfigurationRootå¯¹è±¡å’Œä¸€ç»„ IConfigurationSectionå¯¹è±¡æ„æˆçš„é…ç½®æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080252744-1437168042.png&quot;&gt;&lt;img width=&quot;240&quot; height=&quot;109&quot; title=&quot;6-10&quot; alt=&quot;6-10&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080252945-1194370927.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹æ‰€ç¤ºçš„æ˜¯æ¥å£IConfigurationRootçš„å®šä¹‰ï¼Œå®ƒå…·æœ‰çš„å”¯ä¸€æ–¹æ³•Reloadå®ç°å¯¹é…ç½®æ•°æ®çš„é‡æ–°åŠ è½½ã€‚IConfigurationRootå¯¹è±¡è¡¨ç¤ºçš„é…ç½®æ ‘çš„æ ¹ï¼Œæ‰€ä»¥ä¹Ÿä»£è¡¨äº†æ•´æ£µé…ç½®æ ‘ï¼Œå¦‚æœå®ƒè¢«é‡æ–°åŠ è½½äº†ï¼Œæ„å‘³ç€æ•´æ£µé…ç½®æ ‘æ‰¿è½½çš„æ‰€æœ‰é…ç½®æ•°æ®å‡è¢«é‡æ–°åŠ è½½äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfigurationRoot : IConfiguration
{
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; Reload();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¡¨ç¤ºéæ ¹é…ç½®èŠ‚ç‚¹çš„IConfigurationSectionæ¥å£å…·æœ‰å¦‚ä¸‹ä¸‰ä¸ªå±æ€§ï¼Œåªè¯»å±æ€§Keyç”¨æ¥å”¯ä¸€æ ‡è¯†å¤šä¸ªå…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„ConfigurationSectionå¯¹è±¡ï¼Œè€ŒPathåˆ™è¡¨ç¤ºå½“å‰é…ç½®èŠ‚ç‚¹åœ¨é…ç½®æ ‘ä¸­çš„è·¯å¾„ï¼Œå®ƒåç»„æˆå½“å‰è·¯å¾„çš„æ‰€æœ‰IConfigurationSectionå¯¹è±¡çš„Keyç»„æˆï¼Œå¹¶é‡‡ç”¨å†’å·ï¼ˆâ€œï¼šâ€ï¼‰ä½œä¸ºåˆ†éš”ç¬¦ã€‚Pathå’ŒKeyçš„ç»„åˆä½“ç°äº†å½“å‰é…ç½®èŠ‚åœ¨æ•´ä¸ªé…ç½®æ ‘ä¸­çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfigurationSection : IConfiguration
{    
    &lt;/span&gt;&lt;span&gt;string&lt;/span&gt; Path { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }
    &lt;/span&gt;&lt;span&gt;string&lt;/span&gt; Key { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }
    &lt;/span&gt;&lt;span&gt;string&lt;/span&gt; Value { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;IConfigurationSectionçš„Valueå±æ€§è¡¨ç¤ºé…ç½®èŠ‚ç‚¹æ‰¿è½½çš„é…ç½®æ•°æ®ã€‚åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œåªæœ‰é…ç½®æ ‘çš„å¶å­ç»“ç‚¹å¯¹åº”çš„IConfigurationSectionå¯¹è±¡æ‰å…·æœ‰å€¼ï¼Œéå¶å­èŠ‚ç‚¹å¯¹åº”çš„IConfigurationSectionå¯¹è±¡å®é™…ä¸Šä»…ä»…è¡¨ç¤ºå­˜æ”¾æ‰€æœ‰å­é…ç½®èŠ‚ç‚¹çš„é€»è¾‘å®¹å™¨ï¼Œå®ƒä»¬çš„Valueä¸€èˆ¬è¿”å›Nullã€‚å€¼å¾—ä¸€ä½“çš„æ˜¯ï¼Œè¿™ä¸ªValueå±æ€§å¹¶ä¸æ˜¯åªè¯»çš„ï¼Œè€Œæ˜¯å¯è¯»å¯å†™çš„ï¼Œä½†æˆ‘ä»¬å†™å…¥çš„å€¼ä¸€èˆ¬ä¸ä¼šè¢«æŒä¹…åŒ–ï¼Œä¸€æ—¦é…ç½®æ ‘è¢«é‡æ–°åŠ è½½ï¼Œè¯¥å€¼å°†ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¯¹IConfigurationRootå’ŒIConfigurationSectionå…·æœ‰åŸºæœ¬äº†è§£æƒ…å†µä¸‹æˆ‘ä»¬å›è¿‡å¤´æ¥çœ‹çœ‹å®šä¹‰åœ¨æ¥å£IConfigurationä¸­çš„æˆå‘˜ã€‚å®ƒçš„GetChildrenæ–¹æ³•è¿”å›çš„IConfigurationSectioné›†åˆè¡¨ç¤ºå®ƒçš„æ‰€æœ‰å­é…ç½®èŠ‚ï¼Œå¦ä¸€ä¸ªæ–¹æ³•GetSectionåˆ™æ ¹æ®æŒ‡å®šçš„Keyå¾—åˆ°ä¸€ä¸ªå…·ä½“çš„å­é…ç½®èŠ‚ã€‚å½“GetSectionæ–¹æ³•æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŒ‡å®šçš„å‚æ•°å°†ä¼šä¸å½“å‰IConfigurationSectionçš„Pathè¿›è¡Œç»„åˆä»¥ç¡®å®šç›®æ ‡é…ç½®èŠ‚ç‚¹æ‰€åœ¨çš„è·¯å¾„ï¼Œæ‰€ä»¥å¦‚æœåœ¨è°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™æŒ‡å®šä¸€ä¸ªç›¸å¯¹äºå½“å‰é…ç½®èŠ‚çš„è·¯å¾„ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥å¾—åˆ°å­èŠ‚ç‚¹ä»¥ä¸‹çš„æŸä¸ªé…ç½®èŠ‚ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; source = &lt;span&gt;new&lt;/span&gt; Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt;
{
    [&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A:B:C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;] = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ABC&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
};
            
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; root = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ConfigurationBuilder()
    .AddInMemoryCollection(source)  
    .Build();

&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; section1 = root.GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A:B:C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;A:B:C&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; section2 = root.GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A:B&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;A:C-&amp;gt;C&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; section3 = root.GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B:C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;A-&amp;gt;B:C&lt;/span&gt;
&lt;span&gt;
Debug.Assert(section1.Value &lt;/span&gt;== &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ABC&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
Debug.Assert(section2.Value &lt;/span&gt;== &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ABC&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
Debug.Assert(section3.Value &lt;/span&gt;== &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ABC&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);

Debug.Assert(&lt;/span&gt;!&lt;span&gt;ReferenceEquals(section1, section2));
Debug.Assert(&lt;/span&gt;!&lt;span&gt;ReferenceEquals(section1, section3));
Debug.Assert(&lt;/span&gt;&lt;span&gt;null&lt;/span&gt; != root.GetSection(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;D&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;));
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚ä¸Šé¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼Œæˆ‘ä»¬ä»¥ä¸åŒçš„æ–¹å¼è°ƒç”¨GetSectionæ–¹æ³•å¾—åˆ°çš„éƒ½æ˜¯è·¯å¾„ä¸ºâ€œ&lt;span&gt;A:B:C&lt;/span&gt;â€çš„IConfigurationSectionå¯¹è±¡ã€‚ä¸Šé¢è¿™æ®µä»£ç è¿˜ä½“ç°äº†å¦ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œè™½ç„¶è¿™ä¸‰ä¸ªIConfigurationSectionå¯¹è±¡å‡æŒ‡å‘é…ç½®æ ‘çš„åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯å®ƒä»¬å´&lt;span&gt;å¹¶éåŒä¸€ä¸ªå¯¹è±¡&lt;/span&gt;ã€‚æ¢å¥è¯è¯´ï¼Œå½“æˆ‘ä»¬è°ƒç”¨GetSectionæ–¹æ³•çš„æ—¶å€™ï¼Œä¸è®ºé…ç½®æ ‘ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªä¸æŒ‡å®šè·¯å¾„åŒ¹é…çš„é…ç½®èŠ‚ï¼Œå®ƒæ€»æ˜¯ä¼šåˆ›å»ºæ–°çš„IConfigurationSectionå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;IConfigurationè¿˜å…·æœ‰ä¸€ä¸ªç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå­é…ç½®èŠ‚çš„Keyæˆ–è€…ç›¸å¯¹å½“å‰é…ç½®èŠ‚ç‚¹çš„è·¯å¾„å¾—åˆ°å¯¹åº”IConfigurationSectionçš„å€¼ã€‚å½“è¿™ä¸ªç´¢å¼•æ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šæŒ‰ç…§ä¸GetSectionæ–¹æ³•å®Œå…¨ä¸€è‡´çš„é€»è¾‘å¾—åˆ°ä¸€ä¸ªIConfigurationSectionå¯¹è±¡ï¼Œå¹¶è¿”å›å…¶Valueå±æ€§ã€‚å¦‚æœé…ç½®æ ‘ä¸­ä¸å…·æœ‰åŒ¹é…çš„é…ç½®èŠ‚ï¼Œè¯¥ç´¢å¼•ä¼šè¿”å›Nullè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ã€Š&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-02.html&quot;&gt;è¯»å–é…ç½®æ•°æ®[ä¸Šç¯‡]&lt;/a&gt;ã€‹ä»‹ç»IConfigurationSourceå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬è¯´å®ƒå¯¹åŸå§‹é…ç½®æºçš„ä½“ç°ã€‚è™½ç„¶æ¯ç§ä¸åŒç±»å‹çš„é…ç½®æºéƒ½å…·æœ‰ä¸€ä¸ªå¯¹åº”çš„IConfigurationSourceå®ç°ï¼Œä½†æ˜¯é’ˆå¯¹åŸå§‹æ•°æ®çš„è¯»å–å¹¶ä¸ç”±å®ƒæ¥æä¾›ï¼Œè€Œæ˜¯å§”æ‰˜ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„IConfigurationProviderå¯¹è±¡æ¥å®Œæˆã€‚åœ¨ä¸Šé¢ä»‹ç»çš„é…ç½®ç»“æ„è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹ä¸åŒé…ç½®æºç±»å‹çš„IConfigurationProvideræŒ‰ç…§å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼å®ç°é…ç½®ä»åŸå§‹ç»“æ„å‘ç‰©ç†ç»“æ„çš„è½¬æ¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080253159-1215325892.png&quot;&gt;&lt;img width=&quot;240&quot; height=&quot;182&quot; title=&quot;6-11&quot; alt=&quot;6-11&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080253387-1545451892.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºIConfigurationProviderå¯¹è±¡çš„ç›®çš„åœ¨äºå°†é…ç½®ä»åŸå§‹ç»“æ„è½¬æ¢æˆé…ç½®å­—å…¸ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå‘ç°å®šä¹‰åœ¨IConfigurationProvideræ¥å£ä¸­çš„æ–¹æ³•å¤§éƒ½ä½“ç°ä¸ºé’ˆå¯¹&lt;span&gt;å­—å…¸å¯¹è±¡&lt;/span&gt;çš„ç›¸å…³æ“ä½œã€‚é…ç½®æ•°æ®çš„åŠ è½½é€šè¿‡è°ƒç”¨IConfigurationProviderçš„Loadæ–¹æ³•æ¥å®Œæˆã€‚æˆ‘ä»¬å¯ä»¥è°ƒç”¨TryGetæ–¹æ³•è·å–ç”±æŒ‡å®šçš„Keyæ‰€æ ‡è¯†çš„é…ç½®é¡¹çš„å€¼ã€‚ä»æ•°æ®æŒä¹…åŒ–çš„è§’åº¦æ¥è®²ï¼ŒIConfigurationProvideråŸºæœ¬ä¸Šéƒ½æ˜¯åªè¯»çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªè´Ÿè´£ä»æŒä¹…åŒ–èµ„æºä¸­è¯»å–é…ç½®æ•°æ®ï¼Œè€Œä¸è´Ÿè´£æŒä¹…åŒ–æ›´æ–°åçš„é…ç½®æ•°æ®ï¼Œæ‰€ä»¥å®ƒæä¾›çš„Setæ–¹æ³•è®¾ç½®çš„é…ç½®æ•°æ®ä¸€èˆ¬åªä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸è¿‡é€šè¿‡å®ç°è¯¥æ–¹æ³•æ—¶å¯¹æä¾›çš„å€¼è¿›è¡ŒæŒä¹…åŒ–ä¹Ÿæœªå°ä¸å¯ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfigurationProvider
{    
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; Load();
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt; Set(&lt;span&gt;string&lt;/span&gt; key, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; value);
    &lt;/span&gt;&lt;span&gt;bool&lt;/span&gt; TryGet(&lt;span&gt;string&lt;/span&gt; key, &lt;span&gt;out&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; value);

    IEnumerable&lt;/span&gt;&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt; GetChildKeys(IEnumerable&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt; earlierKeys, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; parentPath); 
    IChangeToken GetReloadToken();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;IConfigurationProviderçš„GetChildKeysæ–¹æ³•ç”¨äºè·å–æŸä¸ªæŒ‡å®šé…ç½®èŠ‚ç‚¹ï¼ˆå¯¹åº”äºparentPathå‚æ•°ï¼‰çš„æ‰€æœ‰å­èŠ‚ç‚¹çš„Keyã€‚å½“IConfigurationçš„GetChildrenæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ³¨å†Œçš„æ‰€æœ‰IConfigurationSourceå¯¹åº”çš„IConfigurationProviderçš„GetChildKeysæ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°earlierKeysä»£è¡¨çš„Keyæ¥æºäºå…¶ä»–IConfigurationProviderï¼Œå½“è§£æå‡ºå½“å‰IConfigurationProvideræä¾›çš„Keyåï¼Œè¯¥æ–¹æ³•éœ€è¦å¯¹å®ƒä»¬åˆå¹¶åˆ°earlierKeysé›†åˆä¸­ï¼Œåˆå¹¶åç»“æœå°†ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿”å›çš„Keyçš„é›†åˆæ˜¯&lt;span&gt;ç»è¿‡æ’åº&lt;/span&gt;çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ç§ç±»å‹çš„é…ç½®æºéƒ½å…·æœ‰å¯¹åº”çš„IConfigurationProviderå®ç°ï¼Œå®ƒä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥å®ç°æ¥å£IConfigurationProviderï¼Œè€Œä¼šé€‰æ‹©ç»§æ‰¿å¦ä¸€ä¸ªåä¸º&lt;span&gt;ConfigurationProvider&lt;/span&gt;çš„æŠ½è±¡ç±»ã€‚è¿™ä¸ªæŠ½è±¡ç±»çš„å®šä¹‰å…¶å®å¾ˆç®€å•ï¼Œä»å¦‚ä¸‹çš„ä»£ç ç‰‡æ®µå¯ä»¥çœ‹å‡ºå®ƒä»…ä»…æ˜¯å¯¹ä¸€ä¸ªIDictionary&amp;lt;string, string&amp;gt;å¯¹è±¡ï¼ˆ&lt;span&gt;Keyä¸åŒºåˆ†å¤§å°å†™&lt;/span&gt;ï¼‰çš„å°è£…ï¼Œå…¶Setå’ŒTryGetValueæ–¹æ³•æœ€ç»ˆæ“ä½œçš„éƒ½æ˜¯è¿™ä¸ªå­—å…¸å¯¹è±¡ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; ConfigurationProvider : IConfigurationProvider
{
    &lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; IDictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;&amp;gt; Data { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
    &lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; ConfigurationProvider()=&amp;gt; Data =  &lt;span&gt;new&lt;/span&gt; Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt;(StringComparer.OrdinalIgnoreCase);
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; IEnumerable&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt; GetChildKeys(IEnumerable&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt; earlierKeys, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; parentPath)
    {
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; prefix = parentPath == &lt;span&gt;null&lt;/span&gt; ? &lt;span&gt;string&lt;/span&gt;.Empty : $&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;{parentPath}:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; ;      
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; Data
            .Where(it &lt;/span&gt;=&amp;gt;&lt;span&gt; it.Key.StartsWith(prefix, StringComparison.OrdinalIgnoreCase))
            .Select(it &lt;/span&gt;=&amp;gt;&lt;span&gt; Segment(it.Key, prefix.Length))
            .Concat(earlierKeys)
            .OrderBy(it &lt;/span&gt;=&amp;gt;&lt;span&gt; it);
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Load() {}
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Set(&lt;span&gt;string&lt;/span&gt; key, &lt;span&gt;string&lt;/span&gt; value) =&amp;gt; Data[key] =&lt;span&gt; value;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; TryGet(&lt;span&gt;string&lt;/span&gt; key, &lt;span&gt;out&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; value) =&amp;gt; Data.TryGetValue(key, &lt;span&gt;out&lt;/span&gt;&lt;span&gt; value);

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Segment(&lt;span&gt;string&lt;/span&gt; key, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; prefixLength)
    {
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; indexOf = key.IndexOf(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, prefixLength, StringComparison.OrdinalIgnoreCase);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; indexOf &amp;lt; &lt;span&gt;0&lt;/span&gt; 
            ?&lt;span&gt; key.Substring(prefixLength) 
            : key.Substring(prefixLength, indexOf &lt;/span&gt;-&lt;span&gt; prefixLength);
    }
    ...
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æŠ½è±¡ç±»ConfigurationProviderå®ç°äº†Loadæ–¹æ³•å¹¶å°†å…¶å®šä¹‰æˆè™šæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰æä¾›å…·ä½“çš„å®ç°ï¼Œæ‰€ä»¥å®ƒçš„æ´¾ç”Ÿç±»å¯ä»¥é€šè¿‡é‡å†™è¿™ä¸ªæ–¹æ³•ä»ç›¸åº”çš„æ•°æ®æºä¸­è¯»å–é…ç½®æ•°æ®ï¼Œå¹¶å¯¹é€šè¿‡Dataå±æ€§çš„è®¾ç½®å®Œæˆå¯¹é…ç½®å­—å…¸çš„åˆå§‹åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;IConfiurationSourceåœ¨é…ç½®æ¨¡å‹ä¸­ä»£è¡¨é…ç½®æºï¼Œå®ƒè¢«æ³¨å†Œåˆ°IConfigurationBuilderä¸Šä¸ºåè€…åˆ›å»ºçš„IConfigurationæä¾›åŸå§‹çš„é…ç½®æ•°æ®ã€‚ç”±äºé’ˆå¯¹åŸå§‹é…ç½®æ•°æ®çš„è¯»å–å®ç°åœ¨ç›¸åº”çš„IConfigurationProviderä¸­ï¼Œæ‰€ä»¥IConfigurationSourceæ‰€èµ·çš„ä½œç”¨åœ¨äºæä¾›ç›¸åº”çš„IConfigurationProviderã€‚å¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼ŒIConfigurationProvideræ¥å£å…·æœ‰ä¸€ä¸ªå”¯ä¸€çš„Buildæ–¹æ³•æ ¹æ®æŒ‡å®šçš„IConfigurationBuilderå¯¹è±¡æä¾›å¯¹åº”çš„IConfigurationProviderã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfigurationSource
{
    IConfigurationProvider Build(IConfigurationBuilder builder);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;IConfigurationBulderåœ¨æ•´ä¸ªé…ç½®æ¨¡å‹ä¸­å¤„äºä¸€ä¸ªæ ¸å¿ƒåœ°ä½ï¼Œä»£è¡¨åŸå§‹é…ç½®æºçš„IConfigurationSourceä¹Ÿæ³¨å†Œåˆ°å®ƒä¸Šé¢ï¼Œå®ƒçš„ä½œç”¨å°±åœ¨äºåˆ©ç”¨åè€…æä¾›çš„åŸå§‹æ•°æ®åˆ›å»ºå‡ºä¾›åº”ç”¨ç¨‹åºä½¿ç”¨çš„IConfigurationå¯¹è±¡ã€‚å¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼ŒIConfigurationBulderæ¥å£å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­Addæ–¹æ³•ç”¨äºæ³¨å†ŒIConfigurationSourceå¯¹è±¡ï¼Œæœ€ç»ˆçš„IConfigurationå¯¹è±¡åˆ™é€šè¿‡Buildæ–¹æ³•åˆ›å»ºï¼Œåè€…è¿”å›ä¸€ä¸ªä»£è¡¨æ•´æ£µé…ç½®æ ‘çš„IConfigurationRootå¯¹è±¡ã€‚æ³¨å†Œçš„IConfigurationSourceè¢«ä¿å­˜åœ¨é€šè¿‡Sourceså±æ€§è¡¨ç¤ºçš„é›†åˆä¸­ï¼Œè€Œå¦ä¸€ä¸ªå±æ€§Propertiesåˆ™ä»¥å­—å…¸çš„å½¢å¼å­˜æ”¾ä»»æ„çš„è‡ªå®šä¹‰å±æ€§ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IConfigurationBuilder
{
    IEnumerable&lt;/span&gt;&amp;lt;IConfigurationSource&amp;gt; Sources { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }
    Dictionary&lt;/span&gt;&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;object&lt;/span&gt;&amp;gt; Properties { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }

    IConfigurationBuilder Add(IConfigurationSource source);
    IConfigurationRoot Build();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é…ç½®ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªåä¸º&lt;span&gt;ConfigurationBulder&lt;/span&gt;çš„ç±»ä½œä¸ºIConfigurationBulderæ¥å£çš„é»˜è®¤å®ç°ã€‚å®šä¹‰åœ¨å®ƒä¸Šé¢çš„Buildæ–¹æ³•ä½“ç°äº†é…ç½®ç³»ç»Ÿè¯»å–åŸå§‹é…ç½®æ•°æ®å¹¶ç”Ÿæˆé…ç½®æ ‘çš„é»˜è®¤æœºåˆ¶ã€‚ConfigurationBulderç±»çš„Buildæ–¹æ³•è¿”å›ä¸€ä¸ªç±»å‹ä¸ºConfigurationRootçš„å¯¹è±¡ï¼Œå¯¹äºé€šè¿‡è¯¥å¯¹è±¡è¡¨ç¤ºé…ç½®æ ‘æ¥è¯´ï¼Œæ¯ä¸ªéæ ¹é…ç½®èŠ‚ç‚¹å‡æ˜¯ä¸€ä¸ªç±»å‹ä¸ºConfigurationSectionçš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« ä»è®¾è®¡å’Œå®ç°åŸç†çš„è§’åº¦å¯¹é…ç½®æ¨¡å‹è¿›è¡Œäº†è¯¦ç»†çš„ä»‹ç»ã€‚æ€»çš„æ¥è¯´ï¼Œé…ç½®æ¨¡å‹æ¶‰åŠåˆ°å››ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼ŒåŒ…æ‹¬æ‰¿è½½é…ç½®é€»è¾‘ç»“æ„çš„&lt;span&gt;IConfiguration&lt;/span&gt;å¯¹è±¡å’Œå®ƒçš„åˆ›å»ºè€…&lt;span&gt;IConfigurationBuilder&lt;/span&gt;ï¼Œä»¥åŠä¸é…ç½®æºç›¸å…³çš„&lt;span&gt;IConfigurationSource&lt;/span&gt;å’Œ&lt;span&gt;IConfigurationProvider&lt;/span&gt;ã€‚è¿™å››ä¸ªæ ¸å¿ƒå¯¹è±¡ä¹‹é—´çš„å…³ç³»ç®€å•è€Œæ¸…æ™°ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡ä¸€å¥è¯æ¥æ¦‚æ‹¬ï¼š&lt;span&gt;IConfigurationBuilderåˆ©ç”¨æ³¨å†Œåœ¨å®ƒä¸Šé¢çš„æ‰€æœ‰IConfigurationSourceæä¾›çš„IConfigurationProviderè¯»å–åŸå§‹é…ç½®æ•°æ®å¹¶åˆ›å»ºå‡ºç›¸åº”çš„IConfigurationå¯¹è±¡&lt;/span&gt;ã€‚ä¸‹å›¾æ‰€ç¤ºçš„UMLå±•ç¤ºäº†é…ç½®æ¨¡å‹æ¶‰åŠçš„ä¸»è¦æ¥å£/ç±»å‹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080253601-199247939.png&quot;&gt;&lt;img width=&quot;430&quot; height=&quot;208&quot; title=&quot;6-12&quot; alt=&quot;6-12&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201912/19327-20191210080253822-1064417967.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-02.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[1]ï¼šè¯»å–é…ç½®æ•°æ®[ä¸Šç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-02.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[2]ï¼šè¯»å–é…ç½®æ•°æ®[ä¸‹ç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-03.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[3]ï¼šé…ç½®æ¨¡å‹æ€»ä½“è®¾è®¡&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-04.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[4]ï¼šå°†é…ç½®ç»‘å®šä¸ºå¯¹è±¡&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-05.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[5]ï¼šé…ç½®æ•°æ®ä¸æ•°æ®æºçš„å®æ—¶åŒæ­¥&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-06.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[6]ï¼šå¤šæ ·åŒ–çš„é…ç½®æº[ä¸Šç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-07.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[7]ï¼šå¤šæ ·åŒ–çš„é…ç½®æº[ä¸­ç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-08.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[8]ï¼šå¤šæ ·åŒ–çš„é…ç½®æº[ä¸‹ç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-05-09.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] é…ç½®[9]ï¼šè‡ªå®šä¹‰é…ç½®æº&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:03:00 +0000</pubDate>
<dc:creator>Artech</dc:creator>
<og:description>åœ¨ã€Šè¯»å–é…ç½®æ•°æ®ã€‹ï¼ˆ[ä¸Šç¯‡]ï¼Œ[ä¸‹ç¯‡]ï¼‰ä¸Šé¢ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å®ä¾‹çš„æ–¹å¼æ¼”ç¤ºäº†å‡ ç§å…¸å‹çš„é…ç½®è¯»å–æ–¹å¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»è®¾è®¡çš„ç»´åº¦æ¥é‡å†™è®¤è¯†é…ç½®æ¨¡å‹ã€‚é…ç½®çš„ç¼–ç¨‹æ¨¡å‹æ¶‰åŠåˆ°ä¸‰ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼Œåˆ†åˆ«é€šè¿‡ä¸‰ä¸ªå¯¹åº”çš„æ¥å£ï¼ˆ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/artech/p/inside-asp-net-core-05-03.html</dc:identifier>
</item>
<item>
<title>è¿™è´§åˆ°åº•è¿˜æ˜¯ä¸æ˜¯åƒåœ¾ï¼Ÿã€åƒåœ¾å›æ”¶GCç®—æ³•JVMç¯‡å››ã€‘ - å®œæ˜¥</title>
<link>http://www.cnblogs.com/yichunguo/p/12012841.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yichunguo/p/12012841.html</guid>
<description>&lt;p&gt;åƒåœ¾æ”¶é›† Garbage Collection é€šå¸¸è¢«ç§°ä¸ºâ€œGCâ€ï¼Œ åœ¨jvm ä¸­ï¼Œ&lt;span&gt;&lt;strong&gt;ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéƒ½æ˜¯éšçº¿ç¨‹è€Œç”Ÿéšçº¿ç¨‹è€Œç­ï¼Œæ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºåšå…¥æ ˆå’Œå‡ºæ ˆæ“ä½œï¼Œå®ç°äº†è‡ªåŠ¨çš„å†…å­˜æ¸…ç†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬çš„å†…å­˜åƒåœ¾å›æ”¶ä¸»è¦é›†ä¸­äº java å †å’Œæ–¹æ³•åŒºä¸­&lt;/strong&gt;&lt;/span&gt;ï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œè¿™éƒ¨åˆ†å†…å­˜çš„åˆ†é…å’Œä½¿ç”¨éƒ½æ˜¯&lt;strong&gt;åŠ¨æ€&lt;/strong&gt;çš„ï¼&lt;/p&gt;
&lt;p&gt;@&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯åƒåœ¾å›æ”¶ï¼Œé‚£è‚¯å®šè¦çŸ¥é“ä»€ä¹ˆæ˜¯åƒåœ¾äº†æ˜¯å§ï¼Œæˆ‘ç›¸ä¿¡å“ªä¸€å¤©è½é­„javaå¼€å‘å®œæ˜¥å°å“¥å“¥å»æ¡åƒåœ¾ç»´æŒç”Ÿæ´»ï¼Œå“ˆæ°”ã€ä¸€juoã€å¼¯è…°ã€å¼€ç›–ã€å€’æ°´ï¼Œä¸€æ°”å‘µæˆæˆ‘é—­ç€çœ¼ï¼ŒæŠŠå¹¿ä¸œé“ä»”æ²¡å–å®Œçš„å¿«ä¹è‚¥å®…æ°´é”™å½“åƒåœ¾æ¡äº†ï¼Œè¿™å¹¿ä¸œé“ä»”è¿˜ä¸å¾—æ‰“äººï¼Ÿæ˜¯çš„ï¼Œè€ŒJVMçš„åƒåœ¾æ”¶é›†çš„å‰æå°±æ˜¯æ˜ç¡®å•¥æ˜¯åƒåœ¾ï¼JVMé¦–å…ˆä¼šè¿›è¡Œä¸€ç³»åˆ—è®¡æ•°ç®—æ³•åˆ¤æ–­æ˜¯ä¸æ˜¯åƒåœ¾ã€‚åœ¨JVMè®¤ä¸ºæ˜¯å¦æ˜¯åƒåœ¾çš„è¯„åˆ¤æ ‡å‡†ä¸ºå¯¹è±¡æ˜¯å¦å­˜æ´»ï¼Œå¯¹è±¡å­˜æ´»å°±ä¸æ˜¯åƒåœ¾ï¼Œä¸èƒ½è¿›è¡Œå›æ”¶ï¼Œåä¹‹è¿›è¡Œå›æ”¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»çš„jvmä¸¤ç§è®¡æ•°ç®—æ³•&quot;&gt;1ã€åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»çš„JVMä¸¤ç§è®¡æ•°ç®—æ³•&lt;/h2&gt;
&lt;p&gt;åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»çš„JVMä¸¤ç§è®¡æ•°ç®—æ³•ä¸»è¦æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯ï¼šå¼•ç”¨è®¡æ•°ã€å¯è¾¾æ€§åˆ†æè®¡æ•°ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¬åˆ°è®¡æ•°ç®—æ³•ä¸­æœ‰â€œ ç®—æ³• â€äºŒå­—ï¼Œå°ç™½ç«¥é‹å‘æ„£äº†ï¼šå¦ˆå‘€ï¼Œæ•°å­¦ä¸å¥½ï¼Œå®Œäº†ï¼Œä¸å­¦äº†...å’³å’³å’³ï¼Œå’‹ä»¬ä¸æç®—æ³•ï¼Œä»å’‹ä»¬çš„æ—¥å¸¸ç”Ÿæ´»å¼€å§‹ç€æ‰‹ï¼Œåœ¨æˆ‘ä»¬å¹³æ—¶ä¸€ä¸ªä¸œè¥¿ç»å¸¸æ²¡è¢«ä½¿ç”¨ï¼Œè€Œä¸”ä¹Ÿç”¨ä¸ä¸Šä»€ä¹ˆåœ°æ–¹ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸œè¥¿å¯ä»¥è¯´å°±æ˜¯åƒåœ¾ã€‚å…¶å®åœ¨ Java ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸å¯èƒ½å†è¢«å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±æ˜¯åƒåœ¾ï¼Œåº”è¯¥è¢«å›æ”¶ã€‚å°±æ˜¯è¿™ä¹ˆç®€å•ç²—æš´ï¼ŒJVMä¸¤ç§è®¡æ•°ç®—æ³•å°±æ˜¯è¿™æ ·å­çš„ï¼ŒçœŸçš„ä¸å¤æ‚ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å¼•ç”¨è®¡æ•°ç®—æ³•&quot;&gt;1.1ã€å¼•ç”¨è®¡æ•°ç®—æ³•&lt;/h4&gt;
&lt;p&gt;æ ¹æ®æˆ‘ä»¬ç”Ÿæ´»ä¸Šçš„æ€æƒ³ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„æ–¹æ³•æ¥åˆ¤æ–­åƒåœ¾ã€‚åœ¨ä¸€ä¸ªå¯¹è±¡è¢«å¼•ç”¨æ—¶åŠ ä¸€ï¼Œè¢«å»é™¤å¼•ç”¨æ—¶å‡ä¸€ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åˆ¤æ–­å¼•ç”¨è®¡æ•°æ˜¯å¦ä¸º0æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾ã€‚è¿™ç§æ–¹æ³•æˆ‘ä»¬ä¸€èˆ¬ç§°ä¹‹ä¸ºã€Œå¼•ç”¨è®¡æ•°æ³•ã€ã€‚ç¡®å®è´¼ç®€å•çš„ä¸€ä¸ªæ€è·¯ä¹Ÿæ­£æ˜¯ä»¥ä¸ºå®ƒçš„ç®€å•ï¼Œä»è€Œå­˜åœ¨ç¼ºé™·ï¼Œå› æ­¤å¼•ç”¨è®¡æ•°ç®—æ³•æ˜¯è¿™æ ·å®šä¹‰çš„&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;1ã€å¼•ç”¨è®¡æ•°ï¼šæ¯ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å±æ€§ï¼Œæ–°å¢ä¸€ä¸ªå¼•ç”¨æ—¶è®¡æ•°åŠ 1ï¼Œå¼•ç”¨é‡Šæ”¾æ—¶è®¡æ•°å‡1ï¼Œè®¡æ•°ä¸º0æ—¶å¯ä»¥å›æ”¶ã€‚&lt;br/&gt;2ã€æ­£å› æ–¹æ³•ç®€å•ï¼Œ&lt;span&gt;&lt;strong&gt;ä»è€Œå¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•è§£å†³å¯¹è±¡ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜&lt;/strong&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°ç™½ç«¥é‹å¯èƒ½ä¸çŸ¥é“å•¥æ˜¯å¯¹è±¡å¾ªç¯å¼•ç”¨ï¼Œç†Šdeiçœ‹å›¾&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209083858254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¯è¾¾æ€§åˆ†æè®¡æ•°ç®—æ³•&quot;&gt;1.2ã€å¯è¾¾æ€§åˆ†æè®¡æ•°ç®—æ³•&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆå£°æ˜ä¸€ç‚¹ï¼šåœ¨å®é™…å¼€å‘è¯­è¨€æ¯”å¦‚javaã€C#ç­‰éƒ½æ˜¯é‡‡ç”¨å¯è¾¾æ€§åˆ†æè®¡æ•°ç®—æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»ï¼&lt;/p&gt;
&lt;p&gt;å¯è¾¾æ€§åˆ†æç®—æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;å¯è¾¾æ€§åˆ†æï¼ˆReachability Analysisï¼‰ï¼šä»&lt;code&gt;GC Roots&lt;/code&gt;å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿æ—¶ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ã€‚ä¸å¯è¾¾å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›¸ä¿¡å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œå…¶å®éƒ½å¾ˆå¥½ç†è§£ï¼Œå”¯ç‹¬GC Rootsæœ‰ç‚¹æŠ½è±¡ï¼Œé‚£å•¥æ˜¯GC Rootså‘¢ï¼Ÿåœ¨Javaè¯­è¨€ä¸­ï¼Œ&lt;span&gt;&lt;strong&gt;GC Roots&lt;/strong&gt;&lt;/span&gt;ä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;strong&gt;1ã€å¯¹è±¡çš„å¼•ç”¨ï¼Œä½äºè™šæ‹Ÿæœºæ ˆä¸­ã€‚&lt;br/&gt;2ã€æ–¹æ³•åŒºä¸­çš„é™æ€å¼•ç”¨ã€‚&lt;br/&gt;3ã€æœ¬åœ°æ–¹æ³•æ ˆä¸­JNIçš„å¼•ç”¨ã€‚ã€JNIä¸€èˆ¬æŒ‡çš„æ˜¯Nativeæ–¹æ³•ã€‘&lt;/strong&gt;&lt;br/&gt;ç®€å•åœ°è¯´ï¼ŒGC Root å°±æ˜¯ç»è¿‡ç²¾å¿ƒæŒ‘é€‰çš„ä¸€äº›å¼•ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209090616696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;br/&gt;åƒä¸Šé¢çš„å¾ªç¯å¼•ç”¨çš„è¿™ç§æƒ…å†µå¼•ç”¨è®¡æ•°ç®—æ³•æ˜¯æ— æ³•è¿›è¡ŒGCæ‰çš„ï¼Œè€Œæ ¹æœç´¢ç®—æ³•å¯ä»¥åšåˆ°ï¼Œå› æ­¤å¼•ç”¨è®¡æ•°ç®—æ³•å­˜åœ¨ç¼ºé™·ï¼æ ¹æœç´¢ç®—æ³•æ›´å¥½ï¼&lt;/p&gt;
&lt;h2 id=&quot;åƒåœ¾æ”¶é›†ç®—æ³•&quot;&gt;2ã€åƒåœ¾æ”¶é›†ç®—æ³•&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šå†…å®¹æ¦‚è¿°äº†å•¥åƒåœ¾ï¼Œæ¥ä¸‹æ¥å°±è¦è®²è®²å¦‚ä½•è¿›è¡Œå›æ”¶åƒåœ¾ï¼åœ¨ç”Ÿæ´»ä¸­æˆ‘ä»¬æ”¶é›†åƒåœ¾ï¼Œå¯ä»¥ä¸€è¾¹èµ°ä¸€è¾¹æ‰«ï¼Œä¹Ÿå¯ä»¥æŠŠåƒåœ¾å…¨éƒ½æ‰«åˆ°ä¸€èµ·å†ä¸€æ¬¡æ¸…ç†ã€‚åœ¨JVMä¸­ï¼Œç±»ä¼¼ç”Ÿæ´»ï¼Œæä¾›äº†ä¸€ç³»åˆ—çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”æˆ‘ä»¬è¿˜ç»å¸¸èƒ½çœ‹åˆ°åƒåœ¾åˆ†ç±»ï¼Œåˆ†æˆå¯å›æ”¶åƒåœ¾ï¼Œå’Œä¸å¯å›æ”¶åƒåœ¾ï¼Œä½†æ˜¯ä»æŸä¸€æ„ä¹‰ä¸Šæ¥è®²ï¼Œè¿˜éƒ½æ˜¯åƒåœ¾ï¼Œå¦‚æœäººäººéƒ½éµå®ˆåƒåœ¾åˆ†ç±»è§„åˆ™ï¼Œæˆ‘ä¼°è®¡ä»¥åæ”¶ç ´çƒ‚çš„å¤§å”å¤§å¦ˆéƒ½å¤©å¤©ä»å¯å›æ”¶åƒåœ¾æ¡¶ä¸‹æ‰‹äº†ï¼Œå…¶å®åœ¨JVMä¸­ä¹Ÿç±»ä¼¼å¦‚æ­¤ï¼ŒJVMé‡‡å–äº†åˆ†åŒºã€åˆ†ä»£æ”¶é›†çš„æ€æƒ³ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„åƒåœ¾å›ç®—æ³•ï¼šæ ‡è®°æ¸…é™¤ç®—æ³•ã€å¤åˆ¶ç®—æ³•ã€æ ‡è®°æ•´ç†ç®—æ³•ã€åˆ†ä»£æ”¶é›†ç®—æ³•ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ ‡è®°æ¸…é™¤ç®—æ³•å¤åˆ¶ç®—æ³•&quot;&gt;2.1ã€æ ‡è®°æ¸…é™¤ç®—æ³•å¤åˆ¶ç®—æ³•&lt;/h4&gt;
&lt;p&gt;æ ‡è®°æ¸…é™¤ç®—æ³•ã€‚ä»åå­—å¯ä»¥çœ‹åˆ°å…¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š&lt;span&gt;&lt;strong&gt;æ ‡è®°&lt;/strong&gt;&lt;/span&gt;é˜¶æ®µå’Œ&lt;span&gt;&lt;strong&gt;æ¸…é™¤&lt;/strong&gt;&lt;/span&gt;é˜¶æ®µã€‚ä¸€ç§å¯è¡Œçš„å®ç°æ–¹å¼æ˜¯ï¼Œåœ¨æ ‡è®°é˜¶æ®µï¼Œæ ‡è®°æ‰€æœ‰ç”± GC Root è§¦å‘çš„å¯è¾¾å¯¹è±¡ã€‚æ­¤æ—¶ï¼Œæ‰€æœ‰æœªè¢«æ ‡è®°çš„å¯¹è±¡å°±æ˜¯åƒåœ¾å¯¹è±¡ã€‚ä¹‹ååœ¨æ¸…é™¤é˜¶æ®µï¼Œæ¸…é™¤æ‰€æœ‰æœªè¢«æ ‡è®°çš„å¯¹è±¡ã€‚&lt;span&gt;&lt;strong&gt;æ ‡è®°æ¸…é™¤ç®—æ³•æœ€å¤§çš„é—®é¢˜å°±æ˜¯ç©ºé—´ç¢ç‰‡é—®é¢˜&lt;/strong&gt;&lt;/span&gt;ã€‚å¦‚æœç©ºé—´ç¢ç‰‡è¿‡å¤šï¼Œåˆ™ä¼šå¯¼è‡´å†…å­˜ç©ºé—´çš„ä¸è¿ç»­ã€‚è™½è¯´å¤§å¯¹è±¡ä¹Ÿå¯ä»¥åˆ†é…åœ¨ä¸è¿ç»­çš„ç©ºé—´ä¸­ï¼Œä½†æ˜¯æ•ˆç‡è¦ä½äºè¿ç»­çš„å†…å­˜ç©ºé—´ã€‚&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209094355393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¤åˆ¶ç®—æ³•copying&quot;&gt;2.2ã€å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰&lt;/h4&gt;
&lt;p&gt;å¤åˆ¶ï¼ˆCopyingï¼‰ç®—æ³•ã€‚å¤åˆ¶ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†åŸæœ‰çš„å†…å­˜ç©ºé—´åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨ä¸€å—ï¼Œåœ¨åƒåœ¾å›æ”¶æ—¶ï¼Œå°†æ­£åœ¨ä½¿ç”¨çš„å†…å­˜ä¸­çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æœªä½¿ç”¨çš„å†…å­˜å—ä¸­ã€‚ä¹‹åæ¸…é™¤æ­£åœ¨ä½¿ç”¨çš„å†…å­˜å—ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œä¹‹åäº¤æ¢ä¸¤ä¸ªå†…å­˜å—çš„è§’è‰²ï¼Œå®Œæˆåƒåœ¾å›æ”¶ã€‚&lt;span&gt;&lt;strong&gt;å¤åˆ¶ç®—æ³•çš„ç¼ºç‚¹æ˜¯è¦å°†å†…å­˜ç©ºé—´æŠ˜åŠï¼Œæå¤§åœ°æµªè´¹äº†ä¸€åŠå†…å­˜ç©ºé—´ã€‚&lt;/strong&gt;&lt;/span&gt;å› æ­¤ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºéƒ½ä½¿ç”¨è¿™ç§å¤åˆ¶ç®—æ³•æ¥è¿›è¡Œ&lt;span&gt;&lt;strong&gt;æ–°ç”Ÿä»£&lt;/strong&gt;&lt;/span&gt;çš„åƒåœ¾æ”¶é›†ï¼å› ä¸ºåœ¨&lt;strong&gt;å¯¹è±¡å­˜æ´»ç‡é«˜çš„æ—¶å€™ï¼Œå¤åˆ¶ç®—æ³•å°±æ˜¾å¾—æ•ˆç‡ä½ä¸‹&lt;/strong&gt;&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209095425314.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209095440707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;æ ‡è®°-æ•´ç†ç®—æ³•mark-compact&quot;&gt;2.3ã€æ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼‰&lt;/h4&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å…³äºæ ‡è®°-æ•´ç†ç®—æ³•è¿˜æœ‰ä¸€ç§å«æ³•æ˜¯æ ‡è®°å‹ç¼©ç®—æ³•ï¼ŒçŸ¥é“å…¶è¯´çš„åŒä¸€è€…å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ ‡è®°æ•´ç†ç®—æ³•ã€‚æ ‡è®°æ•´ç†ç®—æ³•å¯ä»¥è¯´æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•çš„ä¼˜åŒ–ç‰ˆï¼Œå…¶åŒæ ·éœ€è¦ç»å†ä¸¤ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šæ ‡è®°é˜¶æ®µã€æ•´ç†é˜¶æ®µã€‚åœ¨æ ‡è®°é˜¶æ®µï¼Œä» GC Root å¼•ç”¨é›†åˆè§¦å‘å»æ ‡è®°æ‰€æœ‰å¯¹è±¡ï¼Œå’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸­çš„æ ‡è®°é˜¶æ®µæ˜¯ä¸€æ ·ä¸€æ ·çš„ã€‚åœ¨æ•´ç†é˜¶æ®µï¼Œå…¶åˆ™æ˜¯å°†æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡æ•´ç†åœ¨å†…å­˜çš„ä¸€è¾¹ï¼Œä¹‹åæ¸…ç†è¾¹ç•Œå¤–çš„æ‰€æœ‰ç©ºé—´ã€‚å› æ­¤ï¼Œ&lt;span&gt;&lt;strong&gt;æ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼‰ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯ä¼šå¤šèŠ±ç‚¹æ—¶é—´ç”¨åœ¨æ•´ç†ï¼ˆCompactï¼‰ä¸Šé¢ï¼&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209101244295.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;åˆ†ä»£æ”¶é›†ç®—æ³•generational-collection&quot;&gt;2.4ã€åˆ†ä»£æ”¶é›†ç®—æ³•ï¼ˆGenerational Collectionï¼‰&lt;/h4&gt;
&lt;p&gt;â€œåˆ†ä»£æ”¶é›†â€ï¼ˆGenerational Collectionï¼‰ç®—æ³•ï¼ŒæŠŠJavaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨æœ€é€‚å½“çš„æ”¶é›†ç®—æ³•ã€‚åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œæ¯æ¬¡åƒåœ¾æ”¶é›†æ—¶éƒ½å‘ç°æœ‰å¤§æ‰¹å¯¹è±¡æ­»å»ï¼Œåªæœ‰å°‘é‡å­˜æ´»ï¼Œ&lt;span&gt;&lt;strong&gt;é‚£æ–°ç”Ÿä»£é€‰ç”¨å¤åˆ¶ç®—æ³•&lt;/strong&gt;&lt;/span&gt;ï¼Œåªéœ€è¦ä»˜å‡ºå°‘é‡å­˜æ´»å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥å®Œæˆæ”¶é›†ã€‚è€Œè€å¹´ä»£ä¸­å› ä¸ºå¯¹è±¡å­˜æ´»ç‡é«˜ã€æ²¡æœ‰é¢å¤–ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œ&lt;span&gt;&lt;strong&gt;è€å¹´ä»£å°±ä½¿ç”¨â€œæ ‡è®°-æ¸…ç†â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•æ¥è¿›è¡Œå›æ”¶ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209101924262.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;å››ç§å›æ”¶ç®—æ³•æ€»ç»“&quot;&gt;2.5ã€å››ç§å›æ”¶ç®—æ³•æ€»ç»“&lt;/h4&gt;
&lt;p&gt;æ ‡è®°æ¸…é™¤ç®—æ³•&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;åˆ†ä¸º&lt;span&gt;&lt;strong&gt;æ ‡è®°&lt;/strong&gt;&lt;/span&gt;é˜¶æ®µå’Œ&lt;span&gt;&lt;strong&gt;æ¸…é™¤&lt;/strong&gt;&lt;/span&gt;ä¸¤é˜¶æ®µã€‚&lt;span&gt;&lt;strong&gt;æ ‡è®°æ¸…é™¤ç®—æ³•æœ€å¤§çš„é—®é¢˜å°±æ˜¯ç©ºé—´ç¢ç‰‡é—®é¢˜&lt;/strong&gt;&lt;/span&gt;ã€‚æ¯”è¾ƒé€‚åˆåœ¨å­˜æ´»å¯¹è±¡æ¯”è¾ƒå¤šçš„æƒ…å†µã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¤åˆ¶ç®—æ³•çš„ç¼ºç‚¹æ˜¯æµªè´¹äº†ä¸€åŠå†…å­˜ç©ºé—´ã€‚&lt;/strong&gt;&lt;/span&gt;ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºéƒ½ä½¿ç”¨è¿™ç§å¤åˆ¶ç®—æ³•æ¥è¿›è¡Œ&lt;span&gt;&lt;strong&gt;æ–°ç”Ÿä»£&lt;/strong&gt;&lt;/span&gt;çš„åƒåœ¾æ”¶é›†ï¼å› ä¸ºåœ¨&lt;strong&gt;å¯¹è±¡å­˜æ´»ç‡é«˜çš„æ—¶å€™ï¼Œå¤åˆ¶ç®—æ³•å°±æ˜¾å¾—æ•ˆç‡ä½ä¸‹&lt;/strong&gt;æ¯”è¾ƒé€‚åˆå­˜æ´»å¯¹è±¡æ¯”è¾ƒå°‘çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼‰&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ ‡è®°æ•´ç†ç®—æ³•æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•çš„ä¼˜åŒ–ç‰ˆï¼Œ&lt;span&gt;&lt;strong&gt;æ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼‰ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯ä¼šå¤šèŠ±ç‚¹æ—¶é—´ç”¨åœ¨æ•´ç†ï¼ˆCompactï¼‰ä¸Šé¢ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åˆ†ä»£æ”¶é›†ç®—æ³•ï¼ˆGenerational Collectionï¼‰&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ–°ç”Ÿä»£é€‰ç”¨å¤åˆ¶ç®—æ³•&lt;/strong&gt;&lt;/span&gt;ï¼Œ&lt;span&gt;&lt;strong&gt;è€å¹´ä»£ä½¿ç”¨â€œæ ‡è®°-æ¸…ç†â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•æ¥è¿›è¡Œå›æ”¶ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åƒåœ¾å›æ”¶ç®—æ³•å°ç»“&quot;&gt;3ã€åƒåœ¾å›æ”¶ç®—æ³•å°ç»“&lt;/h2&gt;
&lt;p&gt;å€Ÿç”¨å¤§ä½¬æ•´ç†çš„ä¸€å¼ å›¾ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20191209104051177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰ä¸€ç‚¹ç‚¹å¸®åŠ©ï¼Œé‚£ä¹ˆè¯·ç‚¹ä¸ªèµå‘—ï¼Œè°¢è°¢~&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;strong&gt;æœ€åï¼Œè‹¥æœ‰ä¸è¶³æˆ–è€…ä¸æ­£ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£æ‰¹è¯„ï¼Œæ„Ÿæ¿€ä¸å°½ï¼å¦‚æœæœ‰ç–‘é—®æ¬¢è¿ç•™è¨€ï¼Œç»å¯¹ç¬¬ä¸€æ—¶é—´å›å¤ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¬¢è¿å„ä½å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œé‡Œé¢æœ‰ä¸€äº›javaå­¦ä¹ èµ„æ–™å’Œä¸€å¤§æ³¢javaç”µå­ä¹¦ç±ï¼Œæ¯”å¦‚è¯´å‘¨å¿—æ˜è€å¸ˆçš„æ·±å…¥javaè™šæ‹Ÿæœºã€javaç¼–ç¨‹æ€æƒ³ã€æ ¸å¿ƒæŠ€æœ¯å·ã€å¤§è¯è®¾è®¡æ¨¡å¼ã€javaå¹¶å‘ç¼–ç¨‹å®æˆ˜.....éƒ½æ˜¯javaçš„åœ£ç»ï¼Œä¸è¯´äº†å¿«ä¸ŠTomcatè½¦ï¼Œå’‹ä»¬èµ°ï¼æœ€ä¸»è¦çš„æ˜¯ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œå‘å¾€æŠ€æœ¯ï¼Œè¿½æ±‚æŠ€æœ¯ï¼Œè¯´å¥½äº†æ¥äº†å°±æ˜¯ç›†å‹å–”...&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2019112519430061.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NTQzNTA4,size_16,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Dec 2019 00:02:00 +0000</pubDate>
<dc:creator>å®œæ˜¥</dc:creator>
<og:description>åƒåœ¾æ”¶é›† Garbage Collection é€šå¸¸è¢«ç§°ä¸ºâ€œGCâ€ï¼Œ åœ¨jvm ä¸­ï¼Œ ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéƒ½æ˜¯éšçº¿ç¨‹è€Œç”Ÿéšçº¿ç¨‹è€Œç­ï¼Œæ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºåšå…¥æ ˆå’Œå‡ºæ ˆæ“ä½œï¼Œå®ç°äº†è‡ªåŠ¨çš„å†…</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yichunguo/p/12012841.html</dc:identifier>
</item>
<item>
<title>.Neteræ‰€åº”è¯¥å½»åº•äº†è§£çš„å§”æ‰˜ - RyzenAdorer</title>
<link>http://www.cnblogs.com/ryzen/p/12009602.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ryzen/p/12009602.html</guid>
<description>
&lt;p&gt;æœ¬æ–‡å°†é€šè¿‡å¼•å‡ºå‡ ä¸ªé—®é¢˜æ¥,å¹¶ä¸”é€šè¿‡ä¾‹å­æ¥å‰–æC#ä¸­çš„å§”æ‰˜ä»¥åŠç”¨æ³•ï¼ŒåšæŠ›ç –å¼•ç‰çš„ä½œç”¨&lt;/p&gt;
&lt;p&gt;å¯¹äºå§”æ‰˜æˆ‘å‘ç°å¤§éƒ¨åˆ†äººéƒ½æœ‰ä»¥ä¸‹é—®é¢˜ï¼Œæˆ–è€…å¯èƒ½åœ¨é¢è¯•ä¸­é‡è¿‡è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜æ˜¯ä¸æ˜¯ç›¸å½“äºC/C++çš„å‡½æ•°æŒ‡é’ˆ?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å§”æ‰˜ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å§”æ‰˜ç©¶ç«Ÿæ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å§”æ‰˜è·ŸåŒ¿åå‡½æ•°çš„åŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å§”æ‰˜ä¸äº‹ä»¶çš„å…³ç³»?&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;æˆ‘ä»¬å…ˆæ¥å£°æ˜å’Œä½¿ç”¨C++çš„å‡½æ•°æŒ‡é’ˆï¼š&lt;br/&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#include &amp;lt;iostream&amp;gt;
&lt;span&gt;using&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; std;

typedef &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; (*Foohandle)(&lt;span&gt;int&lt;/span&gt; a,&lt;span&gt;int&lt;/span&gt;&lt;span&gt; b);

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; fooMenthod(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt; (*foohandle1)(&lt;span&gt;int&lt;/span&gt; a,&lt;span&gt;int&lt;/span&gt; b)) &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å›è°ƒå‡½æ•°&lt;/span&gt;
&lt;span&gt;{
&lt;/span&gt;&lt;span&gt;  return&lt;/span&gt; a + (*foohandle1)(&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¹Ÿå¯ä»¥å†™æˆfoohandle1(2,3)&lt;/span&gt;
&lt;span&gt;}

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; add(&lt;span&gt;int&lt;/span&gt; a,&lt;span&gt;int&lt;/span&gt;&lt;span&gt; b) {
&lt;/span&gt;&lt;span&gt;  return&lt;/span&gt; a +&lt;span&gt; b;
}

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; multiply(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b) {
&lt;/span&gt;&lt;span&gt;  return&lt;/span&gt; a *&lt;span&gt; b;
}

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; main()
{
 Foohandle foohandle &lt;/span&gt;=&lt;span&gt; add;
&lt;/span&gt;&lt;span&gt; int&lt;/span&gt; (*foohandle1)(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt; b) = &amp;amp;&lt;span&gt;add;
 cout &lt;/span&gt;&amp;lt;&amp;lt; foohandle(&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;)&amp;lt;&amp;lt;&lt;span&gt;endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; foohandle1(&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;) &amp;lt;&amp;lt;&lt;span&gt; endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; typeid(Foohandle).name() &amp;lt;&amp;lt;&lt;span&gt; endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; typeid(foohandle).name()&amp;lt;&amp;lt;&lt;span&gt;endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; typeid(foohandle1).name() &amp;lt;&amp;lt;&lt;span&gt; endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; fooMenthod(&lt;span&gt;2&lt;/span&gt;, add)&amp;lt;&amp;lt;&lt;span&gt;endl;
 cout &lt;/span&gt;&amp;lt;&amp;lt; fooMenthod(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;, multiply);
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209094304445-834600278.jpg&quot; alt=&quot;&quot; width=&quot;250&quot; height=&quot;150&quot;/&gt;&lt;/p&gt;





&lt;p&gt;Â  Â  åœ¨ä»£ç ä¸­ï¼Œæˆ‘å£°æ˜å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°addå’Œmultiplyï¼Œç„¶åç”¨typedefæ–¹å¼å£°æ˜äº†å‡½æ•°æŒ‡é’ˆï¼Œæ¥ç€æˆ‘åˆ†åˆ«å°†addèµ‹å€¼ç»™&lt;strong&gt;Foohandle&lt;/strong&gt;è¿™ç§&lt;strong&gt;å‡½æ•°æŒ‡é’ˆç±»å‹&lt;/strong&gt;çš„&lt;strong&gt;foohandle&lt;/strong&gt;å˜é‡ï¼Œç„¶åç”¨&amp;amp;addè¿™ç§è§£åœ°å€çš„æ–¹å¼èµ‹å€¼ç»™ä¸€ä¸ªè¿”å›å€¼ä¸ºintï¼Œä¸”å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°æŒ‡é’ˆ&lt;strong&gt;foohandle1&lt;/strong&gt;ï¼Œå…¶ä¸­&lt;strong&gt;(*foohandle1)&lt;/strong&gt;æ˜¯å‡½æ•°åï¼Œæœ€åæˆ‘è¾“å‡ºå‘ç°å®ƒä»¬ç±»å‹å’Œè¾“å‡ºéƒ½æ˜¯ä¸€è‡´çš„ï¼Œå†åé¢ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªfooMenthodå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯intï¼Œä¸”å…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œé‚£ä¹ˆæˆ‘å†æœ€åè°ƒç”¨ä¸¤æ¬¡ï¼Œåˆ†åˆ«å°†addå’Œmultiplyå‡½æ•°ï¼Œèµ‹å€¼ç»™å®ƒï¼Œè¿™æ—¶å€™addå’Œmultiplyå°±æ˜¯fooMenthodå‡½æ•°çš„å›è°ƒå‡½æ•°ï¼Œä¸”æ­¤æ—¶è¾“å‡ºç»“æœä¼šè¢«ä¸¤ä¸ªå‡½æ•°å†…éƒ¨ä¸åŒå®ç°æ‰€å½±å“&lt;br/&gt;é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åšä¸ªæ€»ç»“ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é¦–å…ˆå‡½æ•°æŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€ï¼ŒæŒ‡å‘å‡½æ•°çš„å…¥å£å†…å­˜åœ°å€&lt;/li&gt;
&lt;li&gt;å½“å‡½æ•°æŒ‡é’ˆåšä¸€ä¸ªå‡½æ•°çš„å‚æ•°æ—¶ï¼Œç¡®å®ä¼šèµ·åˆ°ä¸€å®šè§£è€¦ä½œç”¨&lt;/li&gt;
&lt;li&gt;å‡½æ•°æŒ‡é’ˆå¾ˆæ˜æ˜¾æ˜¯ç±»å‹ä¸å®‰å…¨çš„&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æˆ‘ä»¬å†æ¥å£°æ˜å’Œä½¿ç”¨å§”æ‰˜ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; Foohandle(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b);
&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Program
{
&lt;/span&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Main(&lt;span&gt;string&lt;/span&gt;&lt;span&gt;[] args)
{
 Foohandle foohandle &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foohandle(add);
 Console.WriteLine(foohandle(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;, &lt;span&gt;3&lt;/span&gt;&lt;span&gt;));
 Console.WriteLine(foohandle.GetType().Name);
 Console.WriteLine(fooMenthod(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;, add));
 Console.WriteLine(fooMenthod(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;, multiply));
 Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;foohandleæ‰€è°ƒç”¨å‡½æ•°å‡½æ•°å:{foohandle.Method.Name}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
 Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;foohandleæ‰€è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼ç±»å‹{foohandle.Method.ReturnType.ToString()}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
 Console.WriteLine(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;foohandleæ‰€è°ƒç”¨å‡½æ•°å‚æ•°ç±»å‹ä»¥åŠå‚æ•°ååˆ†åˆ«ä¸º:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
 Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Type:{foohandle.Method.GetParameters()[0].ParameterType},Name:{foohandle.Method.GetParameters()[0].Name}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
 Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Type:{foohandle.Method.GetParameters()[1].ParameterType},Name:{foohandle.Method.GetParameters()[1].Name}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
 Console.Read();
}

&lt;/span&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; fooMenthod(&lt;span&gt;int&lt;/span&gt; a, Foohandle foohandle) &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¼ ç»™å‚æ•°å‡½æ•°çš„å°±æ˜¯å›è°ƒå‡½æ•°&lt;/span&gt;
&lt;span&gt;{
&lt;/span&gt;&lt;span&gt; return&lt;/span&gt; a + foohandle(&lt;span&gt;2&lt;/span&gt;, &lt;span&gt;3&lt;/span&gt;&lt;span&gt;);
}

&lt;/span&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; add(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b)
{
&lt;/span&gt;&lt;span&gt; return&lt;/span&gt; a +&lt;span&gt; b;
}

&lt;/span&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; multiply(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b)
{
&lt;/span&gt;&lt;span&gt; return&lt;/span&gt; a *&lt;span&gt; b;
}
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209094656250-395201030.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;






&lt;p&gt;Â  Â  å¾ˆæ˜æ˜¾ï¼Œä¸ç®¡æ˜¯å£°æ˜å’Œä½¿ç”¨æ–¹å¼ï¼Œéƒ½å’Œc++é‚£è¾¹ä¸€æ ·ï¼Œå°±è¿è¾“å‡ºç»“æœä¹Ÿå·®ä¸å¤šï¼Œä½†æ˜¯å¾ˆæœ‰æ„æ€çš„æ˜¯ï¼Œfoohandleçš„ç±»å‹æ˜¯Foohandleï¼Œä¸”æˆ‘å±…ç„¶èƒ½ä»foohandleè¾“å‡ºæ‰€è°ƒå‡½æ•°çš„ä¸€åˆ‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åï¼Œè¿”å›å€¼ï¼Œå‚æ•°ç±»å‹å’Œå‚æ•°åï¼Œè€Œä¸”å’Œc++é‚£è¾¹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æ¥æ“ä½œå†…å­˜åœ°å€ï¼Œå¥½åƒçœ‹èµ·æ¥æ˜¯å®‰å…¨çš„ï¼Ÿé‚£ä¹ˆFoohandleç±»å‹åˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;h2&gt;å§”æ‰˜æ˜¯å•¥ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å…ˆæ¥ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; DelegateSample
{

&lt;/span&gt;&lt;span&gt;  public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; FooHandle(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; value);&lt;br/&gt;&lt;/span&gt;&lt;span&gt;  class&lt;/span&gt;&lt;span&gt; Program
  {
&lt;/span&gt;&lt;span&gt;     static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Main(&lt;span&gt;string&lt;/span&gt;&lt;span&gt;[] args)
     {
        FooHandle fooHandle &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; FooHandle(multiply);
        fooHandle(&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;fooHandle.Target:{fooHandle.Target},fooHandle.Method:{fooHandle.Method},fooHandle.InvocationListCount:{fooHandle.GetInvocationList().Count()}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;-----------------------------------------------------------------------------------------------------------------------------------&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        FooHandle fooHandle1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; FooHandle(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foo().Add);
        fooHandle1.Invoke(&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;fooHandle1.Target:{fooHandle1.Target},fooHandle1.Method:{fooHandle1.Method},fooHandle1.InvocationListCount:{fooHandle1.GetInvocationList().Count()}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        Console.Read();
     }

&lt;/span&gt;&lt;span&gt;     static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; multiply(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; a)
     {
        Console.WriteLine(a&lt;/span&gt;*&lt;span&gt;2&lt;/span&gt;&lt;span&gt;);
     }
    }

&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Foo
   {
&lt;/span&gt;&lt;span&gt;      public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Add(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; value)
      {  
        Console.WriteLine(value &lt;/span&gt;+ &lt;span&gt;2&lt;/span&gt;&lt;span&gt;);
      }
   }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹çœ‹è¾“å‡ºçš„ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209095215675-690390457.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â å¾ˆæ˜æ˜¾ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å§”æ‰˜å£°æ˜ï¼Œå®ä¾‹åŒ–åˆå§‹åŒ–ä¸€ä¸ªå§”æ‰˜å¯¹è±¡ï¼Œç„¶åè°ƒç”¨çš„æœ€ç®€å•çš„åœºæ™¯&lt;br/&gt;Â  Â  Â æˆ‘ä»¬ä¸å…³æ³¨è¾“å‡ºçš„ç¬¬ä¸€è¡Œï¼Œå¾ˆæ˜æ˜¾ï¼Œå¯¹è±¡å®ä¾‹åŒ–åï¼Œå¯ä»¥è®¿é—®å…¶ä¸­çš„ä¸‰ä¸ªå…¬å¼€publicçš„å‡½æ•°æˆå‘˜ï¼Œ&lt;br/&gt;åˆ†åˆ«æ˜¯Target(objectç±»å‹),Method(MethodInfoç±»å‹)ï¼Œè€ŒGetInvocationListå‡½æ•°æ˜¯ä¸€ä¸ªè¿”å›å€¼ä¸ºä¸€ä¸ªDelegate[]çš„æ— å‚å‡½æ•°&lt;br/&gt;Â  Â  Â åœ¨ä¸Šé¢ä»£ç ï¼Œå…¶å®æˆ‘è¿˜ç‰¹åœ°å°†å§”æ‰˜FooHandleå£°æ˜åœ¨Programç±»å¤–é¢ï¼Œå…¶å®åœ¨è¿™é‡Œæˆ‘ä»¬å·²ç»çŸ¥é“å§”æ‰˜æ˜¯ä»€ä¹ˆäº†ï¼Œå®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸”èƒ½å¤Ÿå£°æ˜åœ¨ç±»å¤–é¢ï¼Œå…¶å®å®ƒæœ¬è´¨å°±æ˜¯ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬é€šè¿‡åç¼–è¯‘æ¥éªŒè¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209095610376-1346859375.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;






&lt;p&gt;å¤§æ¦‚æ˜¯è¿™æ ·ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; FooHandle: MulticastDelegate
{
&lt;/span&gt;&lt;span&gt;  public&lt;/span&gt; FooHandle(&lt;span&gt;object&lt;/span&gt; @object,IntPtr menthod);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ„é€ æ–¹æ³•&lt;/span&gt;

&lt;span&gt;  void&lt;/span&gt; Invoke(&lt;span&gt;int&lt;/span&gt; value)&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è°ƒç”¨å§”æ‰˜ï¼Œç¼–è¯‘åå…¬å…±è¯­è¨€è¿è¡Œæ—¶ç»™delegateæä¾›çš„ç‰¹æ®Šæ–¹æ³•&lt;/span&gt;

&lt;span&gt;  void&lt;/span&gt; EndInvoke(System.IAsyncResult asyncResult)&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ç¼–è¯‘åå…¬å…±è¯­è¨€è¿è¡Œæ—¶ç»™MulticastDelegateæä¾›çš„ç‰¹æ®Šæ–¹æ³•

&lt;/span&gt;&lt;span&gt;  //&lt;/span&gt;&lt;span&gt; ç¼–è¯‘åå…¬å…±è¯­è¨€è¿è¡Œæ—¶ç»™MulticastDelegateæä¾›çš„ç‰¹æ®Šæ–¹æ³•&lt;/span&gt;
&lt;span&gt;  void&lt;/span&gt; BeginInvoke(&lt;span&gt;int&lt;/span&gt; value,System.AsyncCallback callback, &lt;span&gt;object&lt;/span&gt;&lt;span&gt; obj) 
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹ç¼–è¯‘åFooHandleå°±æ˜¯ä¸€ä¸ªç±»ï¼Œä¸”ç»§æ‰¿MulticastDelegateï¼Œä¸”ç»§æ‰¿é“¾å…³ç³»åœ¨msdnæ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209095723495-1028819598.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â  Â  ä¸”æˆ‘ä»¬å‘ç°ä¸Šé¢å…¬å¼€çš„ä¸‰ä¸ªå‡½æ•°æˆå‘˜éƒ½æ¥è‡ªäºDelegateç±»ï¼Œä¸”ç¼–è¯‘åç”Ÿæˆäº†å‡ ä¸ªå…¬å…±è¿è¡Œæ—¶æä¾›çš„ç‰¹æ®Šæ–¹æ³•ï¼ŒInvokeæ–¹æ³•æˆ‘ä»¬å¾ˆæ¸…æ¥šï¼Œæ˜¯æ¥è°ƒç”¨å§”æ‰˜çš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å§”æ‰˜åˆå§‹åŒ–åçš„æƒ…å†µï¼Œé€šè¿‡æŸ¥çœ‹Delegateçš„æºç ï¼Œæˆ‘ä»¬å‘ç°Delegateæœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼š&lt;/p&gt;
&lt;p&gt;1.å§”æ‰˜å¯¹è±¡åˆå§‹åŒ–æ„é€ å‡½æ•°æ˜¯å®ä¾‹å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;[SecuritySafeCritical]
&lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; Delegate(&lt;span&gt;object&lt;/span&gt; target, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; method)
{
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (target == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentNullException(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (method == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentNullException(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;method&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (!BindToMethodName(target, (RuntimeType)target.GetType(), method, (DelegateBindingFlags)&lt;span&gt;10&lt;/span&gt;&lt;span&gt;))
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentException(Environment.GetResourceString(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Arg_DlgtTargMeth&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;));
  }
}&lt;/span&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.å§”æ‰˜å¯¹è±¡åˆå§‹åŒ–æ„é€ å‡½æ•°æ˜¯é™æ€å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;[SecuritySafeCritical]
&lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; Delegate(Type target, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; method)
{
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (target == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentNullException(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (target.IsGenericType &amp;amp;&amp;amp;&lt;span&gt; target.ContainsGenericParameters)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentException(Environment.GetResourceString(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Arg_UnboundGenParam&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;), &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (method == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentNullException(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;method&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
  RuntimeType runtimeType &lt;/span&gt;= target &lt;span&gt;as&lt;/span&gt;&lt;span&gt; RuntimeType;
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (runtimeType == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
  {
&lt;/span&gt;&lt;span&gt;    throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentException(Environment.GetResourceString(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Argument_MustBeRuntimeType&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;), &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
  }
  BindToMethodName(&lt;/span&gt;&lt;span&gt;null&lt;/span&gt;, runtimeType, method, (DelegateBindingFlags)&lt;span&gt;37&lt;/span&gt;&lt;span&gt;);
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€åå…±åŒè°ƒç”¨çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è°ƒç”¨CLRçš„å†…éƒ¨ä»£ç &lt;/span&gt;
&lt;span&gt;[MethodImpl(MethodImplOptions.InternalCall)]
[SecurityCritical]
&lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; BindToMethodName(&lt;span&gt;object&lt;/span&gt; target, RuntimeType methodType, &lt;span&gt;string&lt;/span&gt; method, DelegateBindingFlags flags);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  è™½ç„¶æˆ‘ä»¬çœ‹ä¸åˆ°BindToMethodNameæ–¹æ³•çš„å®ç°ï¼Œå·²ç»å¾ˆæ˜æ˜¾äº†ï¼Œå§”æ‰˜å¯¹è±¡åˆå§‹åŒ–æ„é€ å‡½æ•°æ˜¯é™æ€å‡½æ•°ä¼ å‚è¿›å»BindToMethodNameçš„ç¬¬ä¸€ä¸ªobjectçš„targetå‚æ•°ä¸ºnullï¼Œé‚£æˆ‘ä»¬å¤§æ¦‚æŠŠä¹‹å‰çš„ä¼ªä»£ç çš„æ„é€ å‡½æ•°è¿™ä¹ˆå®ç°äº†ï¼š&lt;/p&gt;
&lt;p&gt;ä¼ªä»£ç éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;internal&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; _target&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç›®æ ‡å¯¹è±¡;&lt;/span&gt;
&lt;span&gt;internal&lt;/span&gt; IntPtr _methodPtr&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç›®æ ‡æ–¹æ³•;&lt;/span&gt;
&lt;span&gt;internal&lt;/span&gt; IntPtr _methodPtrAux&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç”¨æ¥åˆ¤æ–­Targetæ˜¯å¦ä¸ºç©º;

&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;foolHandleçš„æ„é€ æ–¹æ³•å®ç°ï¼š&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; FooHandle(&lt;span&gt;object&lt;/span&gt;&lt;span&gt; @object,IntPtr menthod)
{
  _methodPtr&lt;/span&gt;=menthod;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;multiply&lt;/span&gt;
  _methodPtrAux=&lt;span&gt;1&lt;/span&gt;;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åªè¦ä¸ç­‰äºnul&lt;/span&gt;
&lt;span&gt;
}

&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;foolHandle1çš„æ„é€ æ–¹æ³•å®ç°ï¼š&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; FooHandle(&lt;span&gt;object&lt;/span&gt;&lt;span&gt; @object,IntPtr menthod)
{
  _methodPtr&lt;/span&gt;=menthod&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Add&lt;/span&gt;
  _methodPtrAux=&lt;span&gt;0&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¸ºnull&lt;/span&gt;
  _target=&lt;span&gt;foo;

}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Delegate Targetå±æ€§æºä»£ç éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;[__DynamicallyInvokable]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt; Target
{
  [__DynamicallyInvokable]
&lt;/span&gt;&lt;span&gt;  get&lt;/span&gt;&lt;span&gt;
  {
&lt;/span&gt;&lt;span&gt;    return&lt;/span&gt;&lt;span&gt; GetTarget();
  }
}

[SecuritySafeCritical]
&lt;/span&gt;&lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt; GetTarget()
{
&lt;/span&gt;&lt;span&gt;  if&lt;/span&gt; (!&lt;span&gt;_methodPtrAux.IsNull())
  {
&lt;/span&gt;&lt;span&gt;    return&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
  }
&lt;/span&gt;&lt;span&gt;  return&lt;/span&gt;&lt;span&gt; _target;
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  è€Œè·å–Methodçš„æ–¹æ³•å°±ä¸å±•å¼€äº†ï¼Œå°±æ˜¯é€šè¿‡åå°„æ¥è·å–ï¼Œé‚£æˆ‘ä»¬å·²ç»çŸ¥é“Targetå’ŒMethodå±æ€§ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹äº†ï¼Œæˆ‘ä»¬è¿˜å‘ç°æ²¡è®²åˆ°GetInvocationListæ–¹æ³•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿæˆ‘ä»¬çŸ¥é“å§”æ‰˜æ˜¯æ”¯æŒå¤šæ’­å§”æ‰˜çš„ï¼Œä¹Ÿå°±æ˜¯å¤§æ¦‚è¿™æ ·ï¼Œä¿®æ”¹ä¸Šè¿°ä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; DelegateSample
{
&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; FooHandle(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; value);&lt;br/&gt;&lt;/span&gt;&lt;span&gt;   class&lt;/span&gt;&lt;span&gt; Program
   {
&lt;/span&gt;&lt;span&gt;      static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Main(&lt;span&gt;string&lt;/span&gt;&lt;span&gt;[] args)
      {
        FooHandle fooHandle &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; FooHandle(multiply);
        fooHandle(&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;fooHandle.Target:{fooHandle.Target},fooHandle.Method:{fooHandle.Method},fooHandle.InvocationListCount:{fooHandle.GetInvocationList().Count()}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;----------------------------------------------------------------------------------------------------------------&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        FooHandle fooHandle1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; FooHandle(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foo().Add);
        fooHandle1.Invoke(&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;fooHandle1.Target:{fooHandle1.Target},fooHandle1.Method:{fooHandle1.Method},fooHandle1.InvocationListCount:{fooHandle1.GetInvocationList().Count()}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        Console.WriteLine();

&lt;/span&gt;
    &lt;span&gt;    &lt;strong&gt;Console.WriteLine(&quot;--------------------------------------------------æ–°å¢ä»£ç ------------------------------------------------------&quot;);
        FooHandle fooHandle2 = new FooHandle(new Program().Minus);
        Console.WriteLine($&quot;fooHandle2.Target:{fooHandle2.Target},fooHandle1.Method:{fooHandle2.Method},fooHandle1.InvocationListCount:{fooHandle2.GetInvocationList().Count()}&quot;);
        fooHandle2(2);
        Console.WriteLine(&quot;----------------------------------------------------------------------------------------------------------------&quot;);
        FooHandle fooHandle3 = null;
        fooHandle3 += fooHandle;
        fooHandle3 =(FooHandle)Delegate.Combine(fooHandle3,fooHandle1);//ç›¸å½“äºfooHandle3+=fooHandle1ï¼›
        fooHandle3 += new Program().Minus;
        Console.WriteLine($&quot;fooHandle3.Target:{fooHandle3.Target},fooHandle3.Method:{fooHandle3.Method},fooHandle3.InvocationListCount:{fooHandle3.GetInvocationList().Count()}&quot;);
        fooHandle3(2);
        foreach (var result in fooHandle3.GetInvocationList())
        {
           Console.WriteLine($&quot;result.Target:{result.Target},result.Method:{result.Method},result.InvocationListCount:{result.GetInvocationList().Count()}&quot;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;);
        } 
        Console.Read();&lt;/strong&gt;&lt;/span&gt;
    }

&lt;/span&gt;
&lt;strong&gt;&lt;span&gt;   private void Minus(int a)
   {
     Console.WriteLine(a-1);
   }

&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;   static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; multiply(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; a)
   {
     Console.WriteLine(a &lt;/span&gt;* &lt;span&gt;2&lt;/span&gt;&lt;span&gt;);
   }
 }

&lt;/span&gt;&lt;span&gt; public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Foo
 {
&lt;/span&gt;&lt;span&gt;    public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Add(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; value)
    {
       Console.WriteLine(value &lt;/span&gt;+ &lt;span&gt;2&lt;/span&gt;&lt;span&gt;);
    }
 }
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¾“å‡ºç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209100840513-1817544618.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  ä¸Šé¢æ–°å¢çš„ä»£ç ï¼Œæˆ‘å£°æ˜äº†ä¸€ä¸ªæ–°çš„å§”æ‰˜å˜é‡fooHandle3åˆå§‹åŒ–ä¸ºnullï¼Œæ¥ç€åˆ†åˆ«ç”¨ä¸‰ç§ä¸åŒçš„æ–¹å¼å°†å§”æ‰˜æˆ–è€…å‡½æ•°åŠ ç»™fooHandleï¼Œä¹‹åè¾“å‡ºåç›¸å½“äºåˆ†åˆ«æŒ‰åºè°ƒç”¨è¾“å‡ºäº†ä¸‰ä¸ªæ–¹æ³•ï¼Œè€Œæˆ‘ä»¬éå†å…¶ä¸­çš„fooHandle3.GetInvocationList()å§”æ‰˜æ•°ç»„ï¼Œè¾“å‡ºçš„ä¹Ÿç¡®å®ä¸‰ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯æ³¨æ„åˆ°äº†æ²¡ï¼Œæˆ‘åœ¨&lt;strong&gt;fooHandle3 += new Program().Minus&lt;/strong&gt;è¿™æ®µç¡®å®æ²¡æœ‰å£°æ˜ä¸€ä¸ªå§”æ‰˜å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°å…¶ä¸­çš„&lt;strong&gt;(FooHandle)Delegate.Combine(fooHandle3,fooHandle1)&lt;/strong&gt;è¿™å¥ï¼ŒCombineå¾ˆæ˜æ˜¾æ˜¯éœ€è¦ä¸¤ä¸ªå§”æ‰˜å˜é‡çš„ï¼ŒæŸ¥çœ‹ç¼–è¯‘åçš„ä»£ç æˆ‘ä»¬å¯ä»¥å¾—çŸ¥åˆ°åº•å‘ç”Ÿäº†å•¥ï¼Ÿ&lt;br/&gt;Ilå…³é”®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;fooHandle3 += fooHandle&lt;/span&gt;
IL_00f7: call &lt;span&gt;class&lt;/span&gt; [mscorlib]System.Delegate [mscorlib]System.Delegate::Combine(&lt;span&gt;class&lt;/span&gt;&lt;span&gt; [mscorlib]System.Delegate,
&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; [mscorlib]System.Delegate)
IL_00fc: castclass DelegateSample.FooHandle
IL_0101: stloc.&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;
IL_0102: ldloc.&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;
IL_0103: ldloc.&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;fooHandle3 =(FooHandle)Delegate.Combine(fooHandle3,fooHandle1)&lt;/span&gt;
IL_0104: call &lt;span&gt;class&lt;/span&gt; [mscorlib]System.Delegate [mscorlib]System.Delegate::Combine(&lt;span&gt;class&lt;/span&gt;&lt;span&gt; [mscorlib]System.Delegate,
&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; [mscorlib]System.Delegate)
IL_0109: castclass DelegateSample.FooHandle
IL_010e: stloc.&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;
IL_010f: ldloc.&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;new Program()&lt;/span&gt;
IL_0110: newobj instance &lt;span&gt;void&lt;/span&gt;&lt;span&gt; DelegateSample.Program::.ctor()
IL_0115: ldftn instance &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; DelegateSample.Program::Minus(int32)
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;new FooHandle()æ–°å¢äº†ä¸€ä¸ªFooHandleå§”æ‰˜å˜é‡&lt;/span&gt;
IL_011b: newobj instance &lt;span&gt;void&lt;/span&gt; DelegateSample.FooHandle::.ctor(&lt;span&gt;object&lt;/span&gt;&lt;span&gt;,
native &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;fooHandle3 += new Program().Minus &lt;/span&gt;
IL_0120: call &lt;span&gt;class&lt;/span&gt; [mscorlib]System.Delegate [mscorlib]System.Delegate::Combine(&lt;span&gt;class&lt;/span&gt;&lt;span&gt; [mscorlib]System.Delegate,
&lt;/span&gt;&lt;span&gt;class&lt;/span&gt; [mscorlib]System.Delegate)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  Â ä¹Ÿå°±æ˜¯ä¸‰ç§ä¸åŒæ–¹å¼éƒ½ä¼šè¢«ç¿»è¯‘ä¸ºCombineæ–¹æ³•ï¼Œå¦‚æœæ˜¯ç›´æ¥&amp;lt;b&amp;gt;+=å‡½æ•°&amp;lt;/b&amp;gt;è¿™ç§æƒ…å†µ,åå°ä¹Ÿä¼šnewä¸€ä¸ªå§”æ‰˜å˜é‡ï¼Œå°†æ–¹æ³•èµ‹å€¼ç»™è¯¥å˜é‡å†åŠ åˆ°fooHandle3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæœ€å…³é”®çš„æ ¸å¿ƒä»£ç å°±åº”è¯¥æ˜¯Delegate.combineè¿™ä¸ªé™æ€æ–¹æ³•äº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æºç æ˜¯æ€ä¹ˆå›äº‹ï¼š&lt;br/&gt;Delegateç±»çš„ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;[__DynamicallyInvokable]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Delegate Combine(Delegate a, Delegate b)
{
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; ((&lt;span&gt;object&lt;/span&gt;)a == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
   {
&lt;/span&gt;&lt;span&gt;     return&lt;/span&gt;&lt;span&gt; b;
   }
&lt;/span&gt;&lt;span&gt;   return&lt;/span&gt;&lt;span&gt; a.CombineImpl(b);
}

&lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Delegate CombineImpl(Delegate d)
{
&lt;/span&gt;&lt;span&gt;   throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; MulticastNotSupportedException(Environment.GetResourceString(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Multicast_Combine&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;));
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;MulticastDelegateç±»çš„ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;[SecurityCritical]
&lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; _invocationList;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å§”æ‰˜é“¾è¡¨&lt;/span&gt;
&lt;span&gt;
[SecurityCritical]
&lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; IntPtr _invocationCount;

[SecuritySafeCritical]
&lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; &lt;span&gt;sealed&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Delegate CombineImpl(Delegate follow)
{
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; ((&lt;span&gt;object&lt;/span&gt;)follow == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
   {
&lt;/span&gt;&lt;span&gt;      return&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;&lt;span&gt;;
   }
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; (!Delegate.InternalEqualTypes(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;, follow))
   {
&lt;/span&gt;&lt;span&gt;     throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; ArgumentException(Environment.GetResourceString(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Arg_DlgtTypeMis&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;));
   }
   MulticastDelegate multicastDelegate &lt;/span&gt;=&lt;span&gt; (MulticastDelegate)follow;
&lt;/span&gt;&lt;span&gt;   int&lt;/span&gt; num = &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;   object&lt;/span&gt;[] array = multicastDelegate._invocationList &lt;span&gt;as&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;[];
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; (array != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
   {
       num &lt;/span&gt;= (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)multicastDelegate._invocationCount;
   }
&lt;/span&gt;&lt;span&gt;   object&lt;/span&gt;[] array2 = _invocationList &lt;span&gt;as&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;[];
&lt;/span&gt;&lt;span&gt;   int&lt;/span&gt;&lt;span&gt; num2;
&lt;/span&gt;&lt;span&gt;   object&lt;/span&gt;&lt;span&gt;[] array3;
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; (array2 == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
   {
     num2 &lt;/span&gt;= &lt;span&gt;1&lt;/span&gt; +&lt;span&gt; num;
     array3 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;[num2];
     array3[&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;] = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;     if&lt;/span&gt; (array == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
     {
        array3[&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;] =&lt;span&gt; multicastDelegate;
     }
&lt;/span&gt;&lt;span&gt;     else&lt;/span&gt;&lt;span&gt;
     {
&lt;/span&gt;&lt;span&gt;       for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; num; i++&lt;span&gt;)
       {
         array3[&lt;/span&gt;&lt;span&gt;1&lt;/span&gt; + i] =&lt;span&gt; array[i];
       }
     }
&lt;/span&gt;&lt;span&gt;     return&lt;/span&gt;&lt;span&gt; NewMulticastDelegate(array3, num2);
    }
&lt;/span&gt;&lt;span&gt;    int&lt;/span&gt; num3 = (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)_invocationCount;
    num2 &lt;/span&gt;= num3 +&lt;span&gt; num;
    array3 &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;    if&lt;/span&gt; (num2 &amp;lt;=&lt;span&gt; array2.Length)
    {
       array3 &lt;/span&gt;=&lt;span&gt; array2;
&lt;/span&gt;&lt;span&gt;       if&lt;/span&gt; (array == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
       {
&lt;/span&gt;&lt;span&gt;           if&lt;/span&gt; (!&lt;span&gt;TrySetSlot(array3, num3, multicastDelegate))
           {
             array3 &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
           }
       }
&lt;/span&gt;&lt;span&gt;       else&lt;/span&gt;&lt;span&gt;
       {
&lt;/span&gt;&lt;span&gt;         for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; j = &lt;span&gt;0&lt;/span&gt;; j &amp;lt; num; j++&lt;span&gt;)
         {
&lt;/span&gt;&lt;span&gt;            if&lt;/span&gt; (!TrySetSlot(array3, num3 +&lt;span&gt; j, array[j]))
            {
               array3 &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;               break&lt;/span&gt;&lt;span&gt;;
            }
         }
       }
    }
&lt;/span&gt;&lt;span&gt;    if&lt;/span&gt; (array3 == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
    {
&lt;/span&gt;&lt;span&gt;       int&lt;/span&gt;&lt;span&gt; num4;
&lt;/span&gt;&lt;span&gt;       for&lt;/span&gt; (num4 = array2.Length; num4 &amp;lt; num2; num4 *= &lt;span&gt;2&lt;/span&gt;&lt;span&gt;)
       {
       }
       array3 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;[num4];
&lt;/span&gt;&lt;span&gt;       for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; k = &lt;span&gt;0&lt;/span&gt;; k &amp;lt; num3; k++&lt;span&gt;)
       {
          array3[k] &lt;/span&gt;=&lt;span&gt; array2[k];
       }
&lt;/span&gt;&lt;span&gt;       if&lt;/span&gt; (array == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
       {
          array3[num3] &lt;/span&gt;=&lt;span&gt; multicastDelegate;
       }
&lt;/span&gt;&lt;span&gt;       else&lt;/span&gt;&lt;span&gt;
       {
&lt;/span&gt;&lt;span&gt;          for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; l = &lt;span&gt;0&lt;/span&gt;; l &amp;lt; num; l++&lt;span&gt;)
          {
             array3[num3 &lt;/span&gt;+ l] =&lt;span&gt; array[l];
          }
       }
     }
&lt;/span&gt;&lt;span&gt;     return&lt;/span&gt; NewMulticastDelegate(array3, num2, thisIsMultiCastAlready: &lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
   }&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;GetInvocationListæ–¹æ³•çš„å®ç°ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Delgateç±»çš„&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Delegate[] GetInvocationList()
{
&lt;/span&gt;&lt;span&gt;   return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; Delegate[&lt;span&gt;1&lt;/span&gt;&lt;span&gt;]
   {
&lt;/span&gt;&lt;span&gt;     this&lt;/span&gt;&lt;span&gt;
   };
}

&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;MulticastDelegateç±»çš„&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;sealed&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Delegate[] GetInvocationList()
{
&lt;/span&gt;&lt;span&gt;   object&lt;/span&gt;[] array = _invocationList &lt;span&gt;as&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;[];
   Delegate[] array2;
&lt;/span&gt;&lt;span&gt;   if&lt;/span&gt; (array == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
   {
     array2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Delegate[&lt;span&gt;1&lt;/span&gt;&lt;span&gt;]
     {
&lt;/span&gt;&lt;span&gt;       this&lt;/span&gt;&lt;span&gt;
     };
   }
&lt;/span&gt;&lt;span&gt;   else&lt;/span&gt;&lt;span&gt;
   {
&lt;/span&gt;&lt;span&gt;     int&lt;/span&gt; num = (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)_invocationCount;
     array2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Delegate[num];
&lt;/span&gt;&lt;span&gt;     for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; num; i++&lt;span&gt;)
     {
        array2[i] &lt;/span&gt;=&lt;span&gt; (Delegate)array[i];
     }
   }
&lt;/span&gt;&lt;span&gt;   return&lt;/span&gt;&lt;span&gt; array2;
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Â  Â  å…¶å®æˆ‘ä»¬çœ‹åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥çŸ¥é“å…¶ä¸­çš„ä¸€ä¸ªæœ€ä¸»è¦å°±æ˜¯&lt;strong&gt;_invocationList&lt;/strong&gt;å˜é‡ï¼Œä¹Ÿå°±æ˜¯å½“è°ƒç”¨&lt;strong&gt;Combine&lt;/strong&gt;çš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­å·¦è¾¹å§”æ‰˜å˜é‡æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œä¼šè¿”å›å³è¾¹çš„å§”æ‰˜å˜é‡ï¼Œä¸ä¸ºç©ºå°±ä¼šè°ƒç”¨&lt;strong&gt;CombineImpl&lt;/strong&gt;æ–¹æ³•ï¼Œä»¥ä¸Šé¢é‚£ä¸ªä¾‹å­æ¥è¯´&lt;strong&gt;fooHandle3&lt;/strong&gt;çš„&lt;strong&gt;_invocationList&lt;/strong&gt;å­˜å‚¨ç€æ‰€æœ‰é™„åŠ åˆ°å§”æ‰˜å˜é‡ï¼ŒåŒ…å«å¯¹è±¡æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯ä¸ºå•¥éå†&lt;strong&gt;fooHandle3.GetInvocationList&lt;/strong&gt;ï¼Œè¾“å‡ºäº†ä¸‰ä¸ªé™„åŠ åˆ°&lt;strong&gt;fooHandle3&lt;/strong&gt;å˜é‡çš„å§”æ‰˜å˜é‡ï¼Œè¿™é‡Œä¾‹å­&lt;strong&gt;fooHandle3&lt;/strong&gt;åˆå§‹åŒ–ä¸ºnullï¼Œè¿˜æœ‰æ„æ€çš„æ˜¯fooHandle3çš„Targtå’ŒMenthodå±æ€§æ˜¯æœ€åé™„åŠ çš„é‚£ä¸ªå§”æ‰˜å˜é‡çš„Targetå’ŒMenthodï¼Œè€Œå½“å§”æ‰˜ç”±è¿”å›å€¼ï¼Œä¹ŸåŒç†è¿”å›æœ€åä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆ&lt;strong&gt;fooHandle3&lt;/strong&gt;å¤§æ¦‚çš„ç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209102651292-185920248.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â  Â  Â æˆ‘ä»¬åˆ°ç°åœ¨åªç”¨åˆ°+=ï¼Œå…¶å®-=å°±æ˜¯è°ƒç”¨å…¶Delegate.Removeæ–¹æ³•ï¼Œè·ŸCombineæ–¹æ³•ä½œç”¨ç›¸åï¼Œå…·ä½“å°±ä¸å¤šæ¦‚è¿°&lt;br/&gt;çœ‹åˆ°è¿™é‡Œæˆ‘ä»¬ç»ˆäºå¯ä»¥å›ç­”ä¸€å¼€å¤´æŠ›å‡ºçš„å‡ ä¸ªé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜æ˜¯ä¸æ˜¯ç›¸å½“äºC/C++çš„å‡½æ•°æŒ‡é’ˆ?&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  Â  Â  å¾ˆæ˜æ˜¾ï¼Œä¸æ˜¯çš„ï¼Œä»æ•°æ®ç»“æ„æ¥è¯´ï¼Œc++å‡½æ•°æŒ‡é’ˆè¡¨ç¤ºä¸€å—æŒ‡å‘å‡½æ•°çš„å†…å­˜åœ°å€ï¼Œå®ƒå…¶å®å’Œç›´æ¥å†™å‡½æ•°åæ²¡å•¥åŒºåˆ«ï¼Œå› ä¸ºæˆ‘ä»¬è°ƒç”¨å‡½æ•°æ—¶çš„å‡½æ•°åï¼Œä¹Ÿæ˜¯å‡½æ•°å…¥å£åœ°å€ï¼Œè€Œå§”æ‰˜å´æ˜¯ä¸ªç±»ï¼Œæ˜¯ä¸€å—æ‰˜ç®¡å†…å­˜ï¼Œä½¿ç”¨Invokeåå®ƒå°±ä¼šè¢«clré‡Šæ”¾äº†ï¼Œå®ƒçš„å‡½æ•°æˆå‘˜èƒ½å¤Ÿå­˜å‚¨æ‰€è°ƒå‡½æ•°çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™æ˜¯å‡½æ•°æŒ‡é’ˆæ²¡åšåˆ°çš„,ä½†æ˜¯åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼ŒC++çš„å‡½æ•°æŒ‡é’ˆå°±å’Œå§”æ‰˜ä¸€æ ·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸‹p/invokeæ–¹é¢çŸ¥è¯†&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  Â  Â  å§”æ‰˜æœ¬è´¨æ˜¯ç±»ï¼Œä¸”æ”¯æŒå¤šæ’­å§”æ‰˜çš„æœ¬è´¨æ˜¯ç»´æŠ¤ä¸€ä¸ªç§æœ‰çš„_invocationListå§”æ‰˜é“¾å¯¹è±¡,+=å’Œ-=éƒ½æ˜¯è°ƒç”¨å…¶é™æ€æ–¹æ³•Combineå’ŒRemove&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜æ˜¯ç”¨æ¥åšå•¥çš„ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  Â  Â  å§”æ‰˜å’Œc++å‡½æ•°æŒ‡é’ˆä¸€æ ·ï¼Œéƒ½å¯ä»¥ä½œä¸ºå‡½æ•°ä¸­è½¬å™¨ï¼Œåœ¨è°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ä¸­èµ·è§£è€¦ä½œç”¨ï¼Œå¯ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œå½“å›è°ƒå‡½æ•°&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜è·ŸåŒ¿åå‡½æ•°çš„åŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  Â  Â æˆ‘ä»¬å…ˆæ¥å£°æ˜å’Œä½¿ç”¨åŒ¿åå‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; Foohandle(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b);

Foohandle foohandle &lt;/span&gt;= &lt;span&gt;delegate&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt; b) { &lt;span&gt;return&lt;/span&gt; a + b; };&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åŒ¿åæ–¹æ³•æ–¹å¼&lt;/span&gt;
Foohandle foohandle1= (a, b)=&amp;gt; a + b;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Lambda è¡¨è¾¾å¼æ–¹å¼&lt;/span&gt;
&lt;span&gt;
foohandle.Invoke(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¾“å‡º4&lt;/span&gt;
foohandle1.Invoke(&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¾“å‡º4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹msdnæ˜¯æ€ä¹ˆå®šä¹‰åŒ¿åå‡½æ•°çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/common/1294271/201912/1294271-20191209102926452-1511905515.jpg&quot; alt=&quot;&quot; width=&quot;854&quot; height=&quot;120&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å¾ˆæ˜æ˜¾ï¼ŒåŒ¿åå‡½æ•°åªæ˜¯ä¸ªè¡¨è¾¾å¼ï¼Œå¯ä»¥ç”¨æ¥åˆå§‹åŒ–å§”æ‰˜çš„ï¼Œè€Œå§”æ‰˜æ˜¯ä¸ªç±»ï¼Œå…¶å®é€šè¿‡æŸ¥çœ‹ILï¼Œåå°éƒ½ä¼šå®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„å§”æ‰˜å¯¹è±¡ï¼Œå¹¶æŠŠè¯¥è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°èµ‹ç»™å®ƒ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å§”æ‰˜ä¸äº‹ä»¶çš„å…³ç³»ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â åŒæ ·çš„æˆ‘ä»¬æ¥å£°æ˜å’Œä½¿ç”¨äº‹ä»¶ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Foo
{
&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Foohandel(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b);

&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt; &lt;span&gt;event&lt;/span&gt;&lt;span&gt; Foohandel foohandle;

&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt;&lt;span&gt; Foo()
   {
      foohandle &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foohandel(add);
      foohandle(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åœ¨Fooé‡Œé¢å¯ä»¥ç›´æ¥è°ƒç”¨äº‹ä»¶&lt;/span&gt;
      Console.WriteLine($&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;{foohandle.Target},{foohandle.Method}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
   }

&lt;/span&gt;&lt;span&gt;   public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; excute(&lt;span&gt;int&lt;/span&gt; a,&lt;span&gt;int&lt;/span&gt; b)&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¬å¼€ç»™å¤–éƒ¨ç±»è°ƒç”¨äº‹ä»¶çš„å‡½æ•°&lt;/span&gt;
&lt;span&gt;   {
      foohandle&lt;/span&gt;?&lt;span&gt;.Invoke(a,b);
   }

&lt;/span&gt;&lt;span&gt;   private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; add(&lt;span&gt;int&lt;/span&gt; a, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; b)
   {
      Console.WriteLine(a &lt;/span&gt;+&lt;span&gt; b); 
   }
}

&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Program
{
&lt;/span&gt;&lt;span&gt;   static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Main(&lt;span&gt;string&lt;/span&gt;&lt;span&gt;[] args)
   {
      Foo foo &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foo();
&lt;/span&gt;&lt;span&gt;      //&lt;/span&gt;&lt;span&gt;foo.foohandle = new Foo.Foohandel(multiply);ç¼–è¯‘ä¸è¿‡ï¼Œæç¤ºfoo.foohandleåªèƒ½å‡ºç°å†+=å’Œ-=å·¦è¾¹&lt;/span&gt;
      foo.foohandle +=&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Foo.Foohandel(multiply);
      foo.excute(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;&lt;span&gt;); 
      Console.Read();
   }

&lt;/span&gt;&lt;span&gt;   static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; multiply(&lt;span&gt;int&lt;/span&gt; a,&lt;span&gt;int&lt;/span&gt;&lt;span&gt; b)
   {
      Console.WriteLine(a &lt;/span&gt;*&lt;span&gt; b); 
   }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;4&lt;/span&gt;&lt;span&gt;
EventSample.Foo,Void add(Int32, Int32)
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;
&lt;span&gt;4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Â  Â  Â æˆ‘ä»¬å‘ç°ï¼Œåœ¨Fooç±»é‡Œé¢ï¼Œäº‹ä»¶foohandleå°±æ˜¯ç›¸å½“äºå§”æ‰˜ï¼Œä½†æ˜¯åœ¨å¤–éƒ¨ï¼Œæˆ‘ä»¬å†programçš„mainå‡½æ•°è®¿é—®å®ƒæ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°foohandleåªèƒ½åš+=æˆ–è€…-=ï¼Œä¹Ÿä¸èƒ½è®¿é—®å…¶å‡½æ•°æˆå‘˜Targetå’ŒMenthodï¼Œè€Œæˆ‘ä»¬åªèƒ½é€šè¿‡è°ƒç”¨excuteå‡½æ•°å»è°ƒç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒEventå…¶å®æ˜¯åŸºäºå§”æ‰˜çš„ï¼Œåœ¨å†…éƒ¨ç±»ç›¸å½“äºå§”æ‰˜ï¼Œåœ¨å¤–éƒ¨å°±åªèƒ½æœ‰å§”æ‰˜çš„å¤šæ’­åŠŸèƒ½ï¼Œå…¶ä½™éƒ½ä¸èƒ½è®¿é—®ï¼Œå…¶å®æˆ‘ä»¬æƒ³åˆ°ï¼Œå±æ€§æ˜¯ä¸æ˜¯è¿™æ ·ã€‚ã€‚ã€‚æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»äº†è§£äº‹ä»¶çš„åŸç†ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰è¶£&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;æœ€åçš„æœ€åï¼Œæˆ‘ä»¬è¿˜è¦è°ˆä¸‹å§”æ‰˜çš„ä¸€ä¸ªåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å§”æ‰˜çš„å‚æ•°é€†å˜å’Œè¿”å›å€¼çš„åå˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºå§”æ‰˜ä¹Ÿæ”¯æŒæ³›å‹å§”æ‰˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥çœ‹çœ‹å¾®è½¯å®šä¹‰å¥½çš„&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Action&amp;lt;&lt;span&gt;in&lt;/span&gt; T&amp;gt;(T obj);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¶ä¸­inè¡¨ç¤ºé€†å˜&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; TResult Func&amp;lt;&lt;span&gt;out&lt;/span&gt; TResult&amp;gt;();&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¶ä¸­outè¡¨ç¤ºåå˜&lt;/span&gt;

&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Program
{
&lt;/span&gt;&lt;span&gt;    static&lt;/span&gt; Action&amp;lt;&lt;span&gt;object&lt;/span&gt;&amp;gt;&lt;span&gt; action;
&lt;/span&gt;&lt;span&gt;    static&lt;/span&gt; Func&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt; func;
&lt;/span&gt;&lt;span&gt;    static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Main(&lt;span&gt;string&lt;/span&gt;&lt;span&gt;[] args)
    {
       action &lt;/span&gt;= (&lt;span&gt;object&lt;/span&gt; a) =&amp;gt;&lt;span&gt; { Console.WriteLine(a.ToString()); };
       Action&lt;/span&gt;&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt; action1 = action;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‚æ•°é€†å˜&lt;/span&gt;
       action(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Hello!&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);


       func &lt;/span&gt;= () =&amp;gt; { &lt;span&gt;return&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;I am Func&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;; };
       Func&lt;/span&gt;&amp;lt;&lt;span&gt;object&lt;/span&gt;&amp;gt; func1 = func;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿”å›å€¼åå˜&lt;/span&gt;
&lt;span&gt;       Console.WriteLine(func1()); 
       Console.ReadLine();
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
Hello!&lt;span&gt;
I am Func&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æƒ³è¦äº†è§£æ›´æ·±çš„æœ‹å‹å¯ä»¥å»äº†è§£æ³›å‹çš„åå˜å’Œé€†å˜ï¼Œåœ¨è¿™é‡Œå°±ä¸æ·±å…¥æ¢è®¨äº†&lt;/p&gt;

&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;translate-man-app&quot; class=&quot;content-27EWd_0&quot;&gt;
&lt;div class=&quot;outputBox-mGAYH_0&quot; data-v-14be448c=&quot;&quot;&gt;

&lt;div class=&quot;outputBox-23yoE_0&quot; data-v-14be448c=&quot;&quot;&gt;
&lt;div class=&quot;outputBox-mOJr9_0&quot; data-v-14be448c=&quot;&quot;&gt;&lt;img class=&quot;icon-2A0TR_0&quot; src=&quot;chrome-extension://fnjoonbenhhijnoegpfkpagjamomgjjm/static/sound.svg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Mon, 09 Dec 2019 23:18:00 +0000</pubDate>
<dc:creator>RyzenAdorer</dc:creator>
<og:description>æœ¬æ–‡å°†é€šè¿‡å¼•å‡ºå‡ ä¸ªé—®é¢˜æ¥,å¹¶ä¸”é€šè¿‡ä¾‹å­æ¥å‰–æC#ä¸­çš„å§”æ‰˜ä»¥åŠç”¨æ³•ï¼ŒåšæŠ›ç –å¼•ç‰çš„ä½œç”¨ å¯¹äºå§”æ‰˜æˆ‘å‘ç°å¤§éƒ¨åˆ†äººéƒ½æœ‰ä»¥ä¸‹é—®é¢˜ï¼Œæˆ–è€…å¯èƒ½åœ¨é¢è¯•ä¸­é‡è¿‡è¿™æ ·çš„ï¼š å§”æ‰˜æ˜¯ä¸æ˜¯ç›¸å½“äºC/C++çš„å‡½æ•°æŒ‡é’ˆ? å§”æ‰˜ç©¶ç«Ÿæ˜¯</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/ryzen/p/12009602.html</dc:identifier>
</item>
<item>
<title>Spring Security OAuth2 Demo â€”â€” æˆæƒç æ¨¡å¼ - ä¸œåŒ—å°ç‹ç‹¸</title>
<link>http://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html</guid>
<description>&lt;p&gt;æœ¬æ–‡å¯ä»¥è½¬è½½ï¼Œä½†è¯·æ³¨æ˜å‡ºå¤„https://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html&lt;/p&gt;
&lt;h2 id=&quot;å†™åœ¨å‰è¾¹&quot;&gt;å†™åœ¨å‰è¾¹&lt;/h2&gt;
&lt;p&gt;åœ¨æ–‡ç« &lt;a href=&quot;https://www.cnblogs.com/hellxz/p/oauth2_process.html&quot;&gt;OAuth 2.0 æ¦‚å¿µåŠæˆæƒæµç¨‹æ¢³ç†&lt;/a&gt; ä¸­æˆ‘ä»¬è°ˆåˆ°OAuth 2.0çš„æ¦‚å¿µä¸æµç¨‹ï¼Œè¿™é‡Œæˆ‘å‡†å¤‡åˆ†åˆ«è®°ä¸€è®°è¿™å‡ ç§æˆæƒæ¨¡å¼çš„demoï¼Œä¸€æ–¹é¢ä¸ºè‡ªå·±çš„æœ€è¿‘çš„å­¦ä¹ åšä¸ªæ€»ç»“ï¼Œå¦ä¸€æ–¹é¢åšä¸‹çŸ¥è¯†è¾“å‡ºï¼Œå¦‚æœæ–‡ä¸­æœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œè¯·è¯„è®ºæŒ‡æ­£ï¼Œåœ¨æ­¤ä¸èƒœæ„Ÿæ¿€&lt;/p&gt;
&lt;h2 id=&quot;å—ä¼—å‰æ&quot;&gt;å—ä¼—å‰æ&lt;/h2&gt;
&lt;p&gt;é˜…è¯»æœ¬æ–‡ï¼Œé»˜è®¤è¯»è€…å·²ç»è¿‡Spring Securityæœ‰ä¸€å®šçš„äº†è§£ï¼Œå¯¹OAuth2æµç¨‹æœ‰ä¸€å®šäº†è§£&lt;/p&gt;
&lt;h2 id=&quot;æœ¬æ–‡ç›®æ ‡&quot;&gt;æœ¬æ–‡ç›®æ ‡&lt;/h2&gt;
&lt;p&gt;å¸¦é¢†è¯»è€…å¯¹Spring Security OAuth2æ¡†æ¶çš„æˆæƒç æ¨¡å¼æœ‰ä¸€ä¸ªæ¯”è¾ƒç›´è§‚çš„æ¦‚å¿µï¼Œèƒ½ä½¿ç”¨æ¡†æ¶æ­å»ºæˆæƒç æ¨¡å¼æˆæƒæœåŠ¡å™¨ä¸èµ„æºæœåŠ¡å™¨ï¼ˆåˆ†ç¦»ç‰ˆæœ¬ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;æˆæƒç æ¨¡å¼æµç¨‹å›é¡¾&quot;&gt;æˆæƒç æ¨¡å¼æµç¨‹å›é¡¾&lt;/h2&gt;
&lt;p&gt;æˆæƒç æ¨¡å¼è¦æ±‚ï¼šç”¨æˆ·ç™»å½•å¹¶å¯¹ç¬¬ä¸‰æ–¹åº”ç”¨ï¼ˆå®¢æˆ·ç«¯ï¼‰è¿›è¡Œæˆæƒï¼Œå‡ºç¤ºæˆæƒç äº¤ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å‡­æˆæƒç æ¢å–access_tokenï¼ˆè®¿é—®å‡­è¯ï¼‰&lt;/p&gt;
&lt;p&gt;æ­¤æ¨¡å¼è¦æ±‚æˆæƒæœåŠ¡å™¨ä¸ç”¨æˆ·ç›´æ¥äº¤äº’ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸‰æ–¹åº”ç”¨æ˜¯æ— æ³•è·å–åˆ°ç”¨æˆ·è¾“å…¥çš„å¯†ç ç­‰ä¿¡æ¯çš„ï¼Œè¿™ä¸ªæ¨¡å¼ä¹Ÿæ˜¯OAuth 2.0ä¸­æœ€å®‰å…¨çš„ä¸€ä¸ª&lt;/p&gt;
&lt;h2 id=&quot;demoåŸºæœ¬ç»“æ„&quot;&gt;DemoåŸºæœ¬ç»“æ„&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210000208462-1452434943.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¸»è¦å…³æ³¨&lt;code&gt;authorization-code-authorization-server&lt;/code&gt;ä¸&lt;code&gt;authorization-code-resource-server&lt;/code&gt;è¿™ä¸¤ä¸ªæ¨¡å—&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»¥åŠåç»­æ–‡ç« çš„demoå‡æ”¾åœ¨GitHubä¸Šï¼Œæ¬¢è¿å¤§å®¶Star &amp;amp; Forkï¼Œæºç åœ°å€ï¼šhttps://github.com/hellxz/spring-security-oauth2-learn&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;authorization-code-client-resttemplate-jdbc&lt;/code&gt;è¿™ä¸ªé¡¹ç›®æ˜¯ç”¨æ¥æµ‹è¯•éOAuth2æœåŠ¡ä½¿ç”¨RestTemplateä¸JdbcTemplateå¯¹æ¥OAuth2æˆæƒæœåŠ¡çš„ï¼Œæµç¨‹è¿™é‡Œä¸è®²ï¼Œæœ‰å…´è¶£å¯ä»¥debugçœ‹çœ‹ï¼Œå¯èƒ½ä¼šè®©æ‚¨å¯¹æ•´ä¸ªæµç¨‹ä¼šæœ‰æ›´æ¸…æ™°çš„æ„Ÿå—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ­å»ºæˆæƒæœåŠ¡å™¨authorization-server&quot;&gt;æ­å»ºæˆæƒæœåŠ¡å™¨ï¼ˆAuthorization Serverï¼‰&lt;/h2&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;æ–‡ä¸­æœåŠ¡å™¨å‡ä½¿ç”¨demoçº§åˆ«é…ç½®ï¼Œè¯·å‹¿ç›´æ¥ä½¿ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆæƒæœåŠ¡å™¨ç»“æ„ä¸»ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210001707757-1465565588.png&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;å¯åŠ¨ç±»è‡ªä¸å¤šè¯´ï¼Œå…ˆè¯´ä¸‹SecurityConfig&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package com.github.hellxz.oauth2.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

import java.util.Collections;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    public PasswordEncoder passwordEncoder(){
        return new BCryptPasswordEncoder();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        // @formatter: off
        auth.inMemoryAuthentication()
                .withUser(&quot;hellxz&quot;)
                .password(passwordEncoder().encode(&quot;xyz&quot;))
                .authorities(Collections.emptyList());
        // @formatter: on
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.authorizeRequests()
                .anyRequest().authenticated() //æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦é€šè¿‡è®¤è¯
                .and()
                .httpBasic() //Basicç™»å½•
                .and()
                .csrf().disable(); //å…³è·¨åŸŸä¿æŠ¤
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;@Configuration&lt;/code&gt; å’Œ&lt;code&gt;@EnableWebSecurity&lt;/code&gt;å¼€å¯Spring Securityé…ç½®ï¼Œç»§æ‰¿&lt;code&gt;WebSecurityConfigurerAdapter&lt;/code&gt;çš„æ–¹æ³•ï¼Œå®ç°ä¸ªæ€§åŒ–é…ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å†…å­˜ä¿å­˜ä¸€ä¸ªåä¸º&lt;code&gt;hellxz&lt;/code&gt;ã€å¯†ç ä¸º&lt;code&gt;xyz&lt;/code&gt;çš„ç”¨æˆ·ï¼Œä¸æˆæƒæœåŠ¡å™¨äº¤äº’çš„ç”¨æˆ·å°±æ˜¯ä»–äº†&lt;/p&gt;
&lt;p&gt;é™¤äº†é…ç½®ç”¨æˆ·ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡çš„èµ„æºè¿›è¡Œä¿æŠ¤ï¼Œè¿™é‡Œå°†æ‰€æœ‰çš„è¯·æ±‚éƒ½è¦æ±‚é€šè¿‡è®¤è¯æ‰å¯ä»¥è®¿é—®ï¼Œç”¨æˆ·ç™»å½•éœ€è¦ä½¿ç”¨httpBasicå½¢å¼ï¼ˆå°±æ˜¯é‚£ç§ç½‘é¡µå¼¹ä¸ªçª—è¦æ±‚ç™»å½•çš„é‚£ç§ğŸ˜„ï¼‰&lt;/p&gt;
&lt;p&gt;Spring Security 5.xç‰ˆæœ¬åï¼Œè¦æ±‚æ˜¾ç¤ºå£°æ˜ä½¿ç”¨çš„å¯†ç å™¨ï¼Œå°±æ˜¯&lt;code&gt;PasswordEncoder&lt;/code&gt;äº†ï¼Œå¸¸ç”¨&lt;code&gt;BCryptPasswordEncoder&lt;/code&gt;ï¼Œç®€å•çš„å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä½¿ç”¨æ—¶é—´æˆ³å’Œç›è¿›è¡ŒåŠ å¯†çš„ä¸€ç§ç®—æ³•ï¼ŒåŒä¸€ä¸ªå¯†ç è¢«åŠ å¯†åä¹Ÿä¸ä¼šç›¸åŒ&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;æ¥ç€çœ‹çœ‹&lt;code&gt;æˆæƒæœåŠ¡å™¨çš„é…ç½®&lt;/code&gt;ï¼Œ&lt;strong&gt;ç”»é‡ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package com.github.hellxz.oauth2.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;
import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;
import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;
import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;

//æˆæƒæœåŠ¡å™¨é…ç½®
@Configuration
@EnableAuthorizationServer //å¼€å¯æˆæƒæœåŠ¡
public class AuthorizationConfig extends AuthorizationServerConfigurerAdapter {

    @Autowired
    private PasswordEncoder passwordEncoder;

    @Override
    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {
        //å…è®¸è¡¨å•æäº¤
        security.allowFormAuthenticationForClients()
                .checkTokenAccess(&quot;isAuthenticated()&quot;);
    }

    @Override
    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {
        // @formatter: off
        clients.inMemory()
                .withClient(&quot;client-a&quot;) //clientç«¯å”¯ä¸€æ ‡è¯†
                    .secret(passwordEncoder.encode(&quot;client-a-secret&quot;)) //å®¢æˆ·ç«¯çš„å¯†ç ï¼Œè¿™é‡Œçš„å¯†ç åº”è¯¥æ˜¯åŠ å¯†åçš„
                    .authorizedGrantTypes(&quot;authorization_code&quot;) //æˆæƒæ¨¡å¼æ ‡è¯†
                    .scopes(&quot;read_user_info&quot;) //ä½œç”¨åŸŸ
                    .resourceIds(&quot;resource1&quot;) //èµ„æºid
                    .redirectUris(&quot;http://localhost:9001/callback&quot;); //å›è°ƒåœ°å€
        // @formatter: on
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;1.é€šè¿‡&lt;code&gt;@Configuration&lt;/code&gt; å’Œ&lt;code&gt;EnableAuthorizationServer&lt;/code&gt;å¼€å¯æˆæƒæœåŠ¡å™¨é…ç½®ï¼Œé€šè¿‡é‡å†™&lt;code&gt;AuthorizationServerConfigurerAdapter&lt;/code&gt;çš„æ–¹æ³•æ¥å®Œæˆè‡ªå®šä¹‰æˆæƒæœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;2.OAuth2æˆæƒç æ¨¡å¼ä¸­ï¼Œè¦æ±‚ä¸ä»…ä»…ç”¨æˆ·éœ€è¦ç™»å½•ï¼Œè¿˜è¦æ±‚å®¢æˆ·ç«¯ä¹Ÿéœ€è¦ç™»å½•ï¼Œè¿™é‡Œå°±éœ€è¦åœ¨&lt;code&gt;configure(ClientDetailsServiceConfigurer clients)&lt;/code&gt;è¿™ä¸ªæ–¹æ³•ä¸­é…ç½®å®¢æˆ·ç«¯ï¼ˆç¬¬ä¸‰æ–¹åº”ç”¨ï¼‰çš„ç™»å½•ä¿¡æ¯ï¼Œ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;withClient&lt;/code&gt;ä¸­é…ç½®çš„æ˜¯å®¢æˆ·ç«¯idï¼ˆclient_idï¼‰&lt;/li&gt;
&lt;li&gt;secretä¸ºå®¢æˆ·ç«¯çš„å¯†ç ï¼Œè¦æ±‚ä½¿ç”¨åŠ å¯†å™¨è¿›è¡ŒåŠ å¯†&lt;/li&gt;
&lt;li&gt;æˆæƒç çš„authorizedGrantTypeså¿…é¡»é…ç½®æœ‰&lt;code&gt;&quot;authorization_code&quot;&lt;/code&gt;ï¼ˆæˆæƒç æ¨¡å¼ï¼‰ï¼Œè¿™é‡Œæ˜¯å¯ä»¥åŒæ—¶æ”¯æŒå¤šç§æˆæƒæ¨¡å¼çš„ï¼Œä¸ºäº†ç®€å•åªå†™ä¸€ä¸ª&lt;/li&gt;
&lt;li&gt;scopesï¼Œè¯·æ±‚èµ„æºä½œç”¨åŸŸï¼Œç”¨äºé™åˆ¶å®¢æˆ·ç«¯ä¸ç”¨æˆ·æ— æ³•è®¿é—®æ²¡æœ‰ä½œç”¨åŸŸçš„èµ„æº&lt;/li&gt;
&lt;li&gt;resourceIdsï¼Œå¯é€‰ï¼Œèµ„æºidï¼Œå¯ä»¥å¯¹åº”ä¸€ä¸ªèµ„æºæœåŠ¡å™¨ï¼Œä¸ªäººç†è§£ä¸ºæŸä¸ªèµ„æºæœåŠ¡å™¨çš„æ‰€æœ‰èµ„æºæ ‡è¯†&lt;/li&gt;
&lt;li&gt;redirectUrisï¼Œå›è°ƒåœ°å€ï¼Œæœ‰ä¸¤ä¸ªä½œç”¨ï¼š1.å›è°ƒå®¢æˆ·ç«¯åœ°å€ï¼Œè¿”å›æˆæƒç ï¼› 2.æ ¡éªŒæ˜¯å¦æ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;redirectUrisæ ¡éªŒæ˜¯å¦åŒä¸€ä¸ªå®¢æˆ·ç«¯è¿™ä¸ªï¼Œå¯èƒ½è¯´çš„ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œè¯´ä¸‹å¤§ä½“æµç¨‹ï¼Œæˆ‘ä»¬åœ¨æˆæƒæœåŠ¡å™¨ä¸Šé…ç½®äº†è¿™ä¸ªå›è°ƒåœ°å€ï¼ŒæˆæƒæœåŠ¡å™¨åœ¨ç”¨æˆ·æˆæƒæˆåŠŸåï¼Œè¿”å›æˆæƒç çš„åœ°å€å°±æ˜¯å®ƒï¼Œå¦å¤–æˆ‘ä»¬åç»­ç”³è¯·tokenæ—¶ï¼Œä¹Ÿéœ€è¦ä¼ é€’è¿™ä¸ªå›è°ƒåœ°å€ï¼Œæ‰€ä»¥æˆ‘çš„ç†è§£æ˜¯æ ¡éªŒæ˜¯å¦æ˜¯åŒä¸€å®¢æˆ·ç«¯å‘æ¥çš„ç¬¬äºŒæ¬¡è¯·æ±‚ï¼ˆæ¢tokenæ—¶ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3.&lt;code&gt;configure(AuthorizationServerSecurityConfigurer security)&lt;/code&gt;è¿™é‡Œé…ç½®èµ„æºå®¢æˆ·ç«¯ï¼ˆç¬¬ä¸‰æ–¹åº”ç”¨ï¼‰çš„è¡¨å•æäº¤æƒé™ï¼Œç±»ä¼¼Spring Securityé…ç½®çš„&lt;code&gt;permitAll()&lt;/code&gt;ç­‰æƒé™æ§åˆ¶æ ‡è¯†ï¼Œå¦‚æœä¸é…ç½®ï¼Œå®¢æˆ·ç«¯å°†æ— æ³•æ¢å–token&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;4.&lt;code&gt;application.properties&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘åªé…ç½®äº†server.port=8080&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;è¿™æ ·æˆ‘ä»¬å°±é…ç½®äº†ç›¸å½“ç®€æ˜“çš„æˆæƒæœåŠ¡å™¨ï¼Œ&lt;strong&gt;å¯åŠ¨æµ‹è¯•&lt;/strong&gt;ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210004929547-1940346821.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è·å–æˆæƒç çš„æµç¨‹&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸€èˆ¬æ˜¯ç”±å®¢æˆ·ç«¯ä½¿ç”¨è‡ªå·±çš„client_idä¸å¯†ç +response_type=codeæ‹¼æ¥urlï¼Œè®©æµè§ˆå™¨è·³è½¬å®Œæˆçš„ï¼Œç”¨æˆ·çš„ç™»å½•ä¸æˆæƒè¿‡ç¨‹éƒ½éœ€è¦åœ¨æµè§ˆå™¨ä¸­å®Œæˆ&lt;/strong&gt;ï¼Œå¯åŠ¨é¡¹ç›®åè®¿é—®ä¸‹åˆ—url&lt;/p&gt;
&lt;p&gt;http://localhost:8080/oauth/authorize?client_id=client-a&amp;amp;client_secret=client-a-secret&amp;amp;response_type=code&lt;/p&gt;
&lt;p&gt;ç™»å½•ç”¨æˆ·/å¯†ç ï¼š hellxz/xyz ï¼Œé€‰æ‹©Approveè¡¨ç¤ºæ¥å—æˆæƒï¼ŒDenyåä¹‹ï¼Œå¦‚ä¸‹åŠ¨å›¾æ‰€ç¤º&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210005428567-362114296.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬å¾—åˆ°äº†å›è°ƒåœ°å€http://localhost:9001/callback?code=2e6450&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„&lt;strong&gt;codeå°±æ˜¯æˆæƒç &lt;/strong&gt;ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬&lt;strong&gt;ä½¿ç”¨æˆæƒç è¿›è¡Œæ¢å–token&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;POSTè¯·æ±‚ï¼Œhttp://localhost:8080/oauth/tokenï¼Œå‚æ•°å¦‚å›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210010038481-1142111364.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;BasicAuthï¼šè¿™é‡Œå¡«çš„æ˜¯å®¢æˆ·ç«¯é…ç½®çš„client_idå’Œclient_secretçš„å€¼ï¼Œç›¸å½“äº&lt;code&gt;curl --user client_id:client_secret&lt;/code&gt;ï¼Œé…ç½®åä¼šåœ¨Headerä¸­æ·»åŠ &lt;code&gt;Authorization:Basic Y2xpZW50LWE6Y2xpZW50LWEtc2VjcmV0&lt;/code&gt;ï¼Œ&lt;code&gt;Basicç©ºæ ¼&lt;/code&gt;åçš„æ˜¯&lt;code&gt;client_id:client_secret&lt;/code&gt;å…·ä½“å€¼è¢«Base64åå¾—åˆ°çš„å€¼&lt;/p&gt;
&lt;p&gt;è¯·æ±‚å‚æ•°åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;code=æˆæƒç &lt;/li&gt;
&lt;li&gt;grant_type=authorization_code&lt;/li&gt;
&lt;li&gt;redirect_uri=å›è°ƒurl ï¼Œè¦ä¸é…ç½®å¤„å’Œè·å–æˆæƒç å¤„ç›¸åŒ&lt;/li&gt;
&lt;li&gt;scope=ä½œç”¨åŸŸ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æœ€åæˆ‘ä»¬è·å¾—äº†æˆæƒæœåŠ¡çš„å“åº”ï¼ŒåŒ…å«tokençš„json&lt;/p&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;access_token&quot;: &quot;99435e13-f9fe-438a-a94e-3b00d549b329&quot;, //è®¿é—®token
    &quot;token_type&quot;: &quot;bearer&quot;, //tokenç±»å‹ï¼Œä½¿ç”¨æ—¶éœ€è¦æ‹¼æ¥åœ¨tokenå‰å¹¶åœ¨tokenå‰åŠ ç©ºæ ¼
    &quot;expires_in&quot;: 43199, //è¿‡æœŸæ—¶é—´
    &quot;scope&quot;: &quot;read_user_info&quot; //ä½œç”¨åŸŸ
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨access_tokenæœªè¿‡æœŸä¹‹å‰ï¼ŒåŒä¸€ä¸ªç”¨æˆ·åä½¿ç”¨åŒä¸€ä¸ªå®¢æˆ·ç«¯è®¿é—®éƒ½ä¼šæ˜¯åŒä¸€ä¸ªaccess_token&lt;/p&gt;
&lt;p&gt;æˆæƒæœåŠ¡å™¨å…ˆæ”¾åœ¨è¿™é‡Œï¼Œä¸è¦å…³æœï¼Œæ¥ä¸‹æ¥æ­å»ºèµ„æºæœåŠ¡å™¨&lt;/p&gt;
&lt;h2 id=&quot;æ­å»ºèµ„æºæœåŠ¡å™¨resource-server&quot;&gt;æ­å»ºèµ„æºæœåŠ¡å™¨ï¼ˆResource Serverï¼‰&lt;/h2&gt;
&lt;p&gt;èµ„æºæœåŠ¡å™¨ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210011312530-1739016675.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…¥å£ç±»ä¸å¤šè¯´ï¼Œå…ˆæ­å»ºèµ„æºæœåŠ¡å™¨ä¸»è¦é…ç½®ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨&lt;code&gt;ResourceConfig&lt;/code&gt;è¿›è¡Œé…ç½®&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package com.github.hellxz.oauth2.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;
import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;
import org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;
import org.springframework.security.oauth2.provider.token.RemoteTokenServices;

@Configuration
@EnableResourceServer
public class ResourceConfig extends ResourceServerConfigurerAdapter {

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    @Primary
    @Bean
    public RemoteTokenServices remoteTokenServices() {
        final RemoteTokenServices tokenServices = new RemoteTokenServices();
        //è®¾ç½®æˆæƒæœåŠ¡å™¨check_tokenç«¯ç‚¹å®Œæ•´åœ°å€
        tokenServices.setCheckTokenEndpointUrl(&quot;http://localhost:8080/oauth/check_token&quot;);
        //è®¾ç½®å®¢æˆ·ç«¯idä¸secretï¼Œæ³¨æ„ï¼šclient_secretå€¼ä¸èƒ½ä½¿ç”¨passwordEncoderåŠ å¯†ï¼
        tokenServices.setClientId(&quot;client-a&quot;);
        tokenServices.setClientSecret(&quot;client-a-secret&quot;);
        return tokenServices;
    }

    @Override
    public void configure(HttpSecurity http) throws Exception {
        //è®¾ç½®åˆ›å»ºsessionç­–ç•¥
        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);
        //@formatter:off
        //æ‰€æœ‰è¯·æ±‚å¿…é¡»æˆæƒ
        http.authorizeRequests()
                .anyRequest().authenticated();
        //@formatter:on
    }

    @Override
    public void configure(ResourceServerSecurityConfigurer resources) {
        resources.resourceId(&quot;resource1&quot;).stateless(true);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;1.é€šè¿‡&lt;code&gt;@Configuration&lt;/code&gt; å’Œ&lt;code&gt;@EnableResourceServer&lt;/code&gt;è¿™ä¸¤ä¸ªæ³¨è§£æ ‡è¯†æœåŠ¡æ˜¯ä¸€ä¸ªèµ„æºæœåŠ¡å™¨ï¼Œé‡å†™&lt;code&gt;ResourceServerConfigurerAdapter&lt;/code&gt;æ¥å®ç°è‡ªå®šä¹‰æˆæƒæœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;2.é…ç½®&lt;code&gt;configure(HttpSecurity http)&lt;/code&gt;æ–¹æ³•ï¼Œè¿™é‡Œå¯ä»¥ä»£æ›¿Spring SecurityåŒåæ–¹æ³•é…ç½®ï¼Œå¼€å¯æ‰€æœ‰è¯·æ±‚éœ€è¦æˆæƒæ‰å¯è®¿é—®&lt;/p&gt;
&lt;p&gt;3.é…ç½®èµ„æºç›¸å…³è®¾ç½®&lt;code&gt;configure(ResourceServerSecurityConfigurer resources)&lt;/code&gt;ï¼Œè¿™é‡Œåªè®¾ç½®&lt;code&gt;resourceId&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;åç»­çš„ä½¿ç”¨redisæ ¡éªŒtokenä¹Ÿåœ¨è¿™é‡Œè®¾ç½®&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;4.æ ¡éªŒtokençš„é…ç½®ï¼Œè¿™é‡Œä½¿ç”¨äº†è¿œç¨‹è°ƒç”¨æˆæƒæœåŠ¡å™¨å¸®å¿™æ ¡éªŒtokençš„æ–¹å¼ï¼Œåªéœ€è¦æ˜¾ç¤ºæ³¨å…¥&lt;code&gt;RemoteTokenServices remoteTokenServices()&lt;/code&gt;çš„Beanï¼Œå°±å¯ä»¥è°ƒç”¨æˆæƒæœåŠ¡å™¨çš„/oauth/check_tokenç«¯ç‚¹ï¼Œè®¾ç½®å®¢æˆ·ç«¯é…ç½®çš„å€¼ï¼Œè¯¦è§æ³¨é‡Š&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±é…ç½®å¥½äº†èµ„æºæœåŠ¡å™¨ï¼Œå½“ç„¶å…‰æœ‰é…ç½®æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬æä¸€ä¸ªèµ„æºæ¥å£åšæµ‹è¯•ç”¨&lt;/p&gt;
&lt;p&gt;ä¸Šè¾¹çš„&lt;code&gt;ResourceController&lt;/code&gt;ä¸&lt;code&gt;UserVO&lt;/code&gt;éƒ½æ¯”è¾ƒç®€å•ï¼Œä¼ å…¥ä¸€ä¸ªåç§°ï¼Œè¿”å›ç”¨æˆ·å¯¹è±¡ï¼ŒåŒ…å«ç”¨æˆ·åå’Œé‚®ç®±ä¿¡æ¯&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package com.github.hellxz.oauth2.web.controller;

import com.github.hellxz.oauth2.web.vo.UserVO;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class ResourceController {

    @GetMapping(&quot;/user/{username}&quot;)
    public UserVO user(@PathVariable String username){
        return new UserVO(username, username + &quot;@foxmail.com&quot;);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package com.github.hellxz.oauth2.web.vo;

public class UserVO {
    private String username;
    private String email;

    public UserVO(String username, String email) {
        this.username = username;
        this.email = email;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;hr/&gt;&lt;p&gt;application.propertiesä¸­é…ç½®äº†ä¸æˆæƒæœåŠ¡å™¨ä¸åŒçš„ç«¯å£ï¼š8081&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server.port=8081&lt;/code&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;å¯åŠ¨èµ„æºæœåŠ¡æµ‹è¯•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆä¹Ÿä¸ä¼ ï¼Œç›´æ¥è®¿é—®æ¥å£ï¼Œæç¤ºèµ„æºéœ€è¦æˆæƒ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210014057951-148574571.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¤åˆ¶ä¹‹å‰è·å–åˆ°çš„tokenï¼Œæ·»åŠ tokenè®¿é—®æ¥å£http://localhost:8081/user/hellxz001&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1149398/201912/1149398-20191210014620492-1965215545.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Bearer Tokenç›¸å½“äºåœ¨Headersä¸­æ·»åŠ &lt;code&gt;Authorizationï¼šBearerç©ºæ ¼access_token&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤æˆ‘ä»¬æˆåŠŸçš„æ­å»ºå¹¶æµ‹è¯•äº†æˆæƒç æ¨¡å¼ä¸‹çš„æœ€ç®€å•çš„æˆæƒæœåŠ¡ä¸èµ„æºæœåŠ¡åˆ†ç¦»çš„demo&lt;/p&gt;
&lt;h2 id=&quot;å°¾å£°&quot;&gt;å°¾å£°&lt;/h2&gt;
&lt;p&gt;æˆæƒç æ¨¡å¼å°±å…ˆåœ¨è¿™é‡Œå‘Šä¸€æ®µè½ï¼Œå†™çš„æ¯”è¾ƒåŸºç¡€ï¼Œè‡ªè®¤ä¸ºè¯¥è¯´åˆ°çš„ç‚¹éƒ½è¯´åˆ°äº†ï¼Œåç»­è¿˜ä¼šå†™å…¶å®ƒæ¨¡å¼çš„æ–‡ç« ï¼Œå¦‚æ–‡ä¸­æœ‰ä½•é—æ¼ï¼Œè¯·ä¸åè¯„è®ºåé¦ˆï¼Œæœ¬äººä¼šå°½å¿«æ”¹æ­£ï¼Œè°¢è°¢&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»¥åŠåç»­æ–‡ç« çš„demoå‡æ”¾åœ¨GitHubä¸Šï¼Œæ¬¢è¿å¤§å®¶Star &amp;amp; Forkï¼Œæºç åœ°å€ï¼šhttps://github.com/hellxz/spring-security-oauth2-learn ï¼ŒDemoä¸­çš„READMEæ–‡æ¡£å†™å¾—æ¯”è¾ƒè¯¦ç»†ï¼Œä¹Ÿå¯å ªä¸€çœ‹&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å¯ä»¥è½¬è½½ï¼Œä½†è¯·æ³¨æ˜å‡ºå¤„https://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html&lt;/p&gt;
</description>
<pubDate>Mon, 09 Dec 2019 18:01:00 +0000</pubDate>
<dc:creator>ä¸œåŒ—å°ç‹ç‹¸</dc:creator>
<og:description>æœ¬æ–‡å¯ä»¥è½¬è½½ï¼Œä½†è¯·æ³¨æ˜å‡ºå¤„https://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html å†™åœ¨å‰è¾¹ åœ¨æ–‡ç«  'OAuth 2.0 æ¦‚å¿µåŠæˆ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/hellxz/p/oauth2_oauthcode_pattern.html</dc:identifier>
</item>
<item>
<title>å°ç™½çš„springbootä¹‹è·¯ï¼ˆå…«ï¼‰ã€ç»§æ‰¿Redisä»¥åŠ@Cacheableæ³¨è§£å®ç°Redisç¼“å­˜ - çƒ§éº¦</title>
<link>http://www.cnblogs.com/yanghj/p/12014409.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yanghj/p/12014409.html</guid>
<description>&lt;h2&gt;0ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;ã€€ã€€åœ¨é¡¹ç›®ä¸­ï¼Œç¼“å­˜ä½œä¸ºä¸€ç§é«˜æ•ˆçš„æå‡æ€§èƒ½çš„æ‰‹æ®µï¼Œå‡ ä¹å¿…ä¸å¯å°‘ï¼ŒRedisä½œä¸ºå…¶ä¸­çš„ä½¼ä½¼è€…è¢«å¹¿æ³›åº”ç”¨ï¼›&lt;/p&gt;

&lt;h3&gt;1ã€æ·»åŠ ä¾èµ–&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-data-redis&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2ã€é…ç½®æ–‡ä»¶å¢åŠ Redisé…ç½®&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;####### Redis ################
#ç¬¬å‡ ä¸ªæ•°æ®åº“ï¼Œç”±äºredisä¸­æ•°æ®åº“ä¸æ­¢ä¸€ä¸ªï¼ˆé»˜è®¤ä¼šå¼€å¯15ä¸ªï¼‰
spring.redis.database&lt;/span&gt;=1&lt;span&gt;
# ä¹Ÿå¯æŒ‡å®šä¸º127.&lt;/span&gt;0.0.1&lt;span&gt;
spring.redis.host&lt;/span&gt;=&lt;span&gt;localhost
spring.redis.port&lt;/span&gt;=6379&lt;span&gt;
spring.redis.password&lt;/span&gt;=88888888&lt;span&gt;

# springboot2.xä»¥ä¸Šå¦‚æ­¤é…ç½®ï¼Œç”±äº2.xçš„å®¢æˆ·ç«¯æ˜¯lettuce
# å•ä½è¦å¸¦ä¸Š
spring.redis.lettuce.pool.max&lt;/span&gt;-active=8&lt;span&gt;
spring.redis.lettuce.pool.min&lt;/span&gt;-idle=0&lt;span&gt;
spring.redis.lettuce.pool.max&lt;/span&gt;-idle=8&lt;span&gt;
spring.redis.lettuce.pool.max&lt;/span&gt;-wait=&lt;span&gt;10000ms
spring.redis.lettuce.shutdown&lt;/span&gt;-timeout=&lt;span&gt;100ms

# springboot1.xå¦‚æ­¤é…ç½®ï¼Œç”±äº1.xçš„å®¢æˆ·ç«¯æ˜¯jedis
#spring.redis.jedis.pool.max&lt;/span&gt;-active=8&lt;span&gt;
#spring.redis.jedis.pool.min&lt;/span&gt;-idle=0&lt;span&gt;
#spring.redis.jedis.pool.max&lt;/span&gt;-idle=8&lt;span&gt;
#spring.redis.jedis.pool.max&lt;/span&gt;-wait=-1&lt;span&gt;
#spring.redis.timeout&lt;/span&gt;=500
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;ã€€ã€€è¿™æ ·å°±é›†æˆè¿›æ¥äº†ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œ&lt;strong&gt;æœ‰ä¸¤ç§templateå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼ŒRedisTemplateå’ŒStringRedisTemplate&lt;/strong&gt;ï¼Œ&lt;strong&gt;æœ‰opsForValueã€opsForListã€opsForSetã€opsForZsetã€opsForHash&lt;/strong&gt;å‡ ç§è®¿é—®æ–¹æ³•ï¼Œç®€å•ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;   @Resource
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; RedisTemplate redisTemplate; 

   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å†™å…¥ç¼“å­˜&lt;/span&gt;
   redisTemplate.opsForValue().set(&quot;111&quot;,&quot;anson&quot;&lt;span&gt;);

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯»å–ç¼“å­˜&lt;/span&gt;
   String str = redisTemplate.opsForValue().get(&quot;111&quot;).toString();
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œåå¯ä»¥æŸ¥çœ‹åˆ°ç¼“å­˜ä¸­å·²ç»å†™å…¥ï¼Œè¯»å–ä¹Ÿæ­£å¸¸è¯»å–å‡ºæ¥&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210001021692-1760491000.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210001127865-895676474.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;h2&gt;4ã€æ€»ç»“ï¼š&lt;/h2&gt;
&lt;h3&gt;ã€€ã€€å¯ä»¥çœ‹åˆ°ï¼Œå†™å…¥Redisçš„æ˜¯ç»è¿‡è½¬ç çš„ï¼Œä¸æ–¹ä¾¿æŸ¥çœ‹ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæ›¿æ¢æ‰å®ƒé»˜è®¤çš„è§£æå™¨ï¼Œå¹¶ä¸”å°†ç›¸å…³æ“ä½œå°è£…æˆå·¥å…·ç±»æ–¹ä¾¿ä½¿ç”¨ï¼›é€šå¸¸Redisæˆ‘ä»¬æ˜¯ä½œä¸ºç¼“å­˜æœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œå®é™…é¡¹ç›®ä¸­ï¼Œç¼“å­˜æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ‰‹åŠ¨çš„æ–¹å¼ï¼šå°±æ˜¯åƒä¸Šé¢çš„æ–¹å¼ï¼Œå°†Redisçš„è§£æå™¨æ›¿æ¢ï¼Œç„¶åå°è£…å·¥å…·ç±»ï¼›åœ¨ä½¿ç”¨çš„åœ°æ–¹ï¼Œå…ˆåˆ¤æ–­ç¼“å­˜ä¸­æ—¶å€™æœ‰éœ€è¦çš„æ•°æ®ï¼Œæ²¡æœ‰çš„æ¢å°±ä»æ•°æ®åº“ä¸­å»å–ï¼Œç„¶åå†™å…¥Redisç¼“å­˜ï¼Œæœ‰çš„è¯å°±ç›´æ¥ä»Redisç¼“å­˜å–ï¼›æ‰‹åŠ¨çš„æ–¹å¼è™½ç„¶æœ‰æ—¶å€™æ›´çµæ´»ï¼Œä½†æ˜¯æ¯ä¸ªæ–¹æ³•éƒ½éœ€è¦å†™ä¸€å †ä»£ç ï¼Œå¾ˆç´¯èµ˜ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬æ˜¯ä¸ä¼šç”¨è¿™ç§æ–¹å¼çš„ï¼Œæ‰€ä»¥ä¸Šé¢çš„æ–¹å¼åªæ˜¯ç®€å•ä»‹ç»ï¼Œä»€ä¹ˆå°è£…å·¥å…·ç±»å•Šé‚£äº›éƒ½æ²¡è´´ä»£ç å‡ºæ¥ï¼Œæƒ³ç”¨è¿™ç§æ–¹å¼çš„è‡ªå·±å»ç™¾åº¦ï¼Œä¸€å¤§å †ï¼›&lt;/h3&gt;
&lt;h3&gt;ã€€ã€€ç¼“å­˜çš„ç¬¬äºŒç§æ–¹å¼å°±æ˜¯é…åˆæ³¨è§£å®ç°ç¼“å­˜ï¼Œæ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨éœ€è¦ç¼“å­˜çš„æ–¹æ³•ä¸ŠåŠ ä¸Šæ³¨è§£å³å¯ï¼Œå®é™…é¡¹ç›®ä¸­ï¼ŒåŸºæœ¬éƒ½æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œä¸‹é¢ä»‹ç»&lt;/h3&gt;

&lt;h2&gt;1ã€æ·»åŠ ä¾èµ–&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&amp;lt;!--4ã€é›†æˆredis --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;commons-pool2&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;2.4.2&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!-- redisä¾èµ–ï¼Œ2.0ä»¥ä¸Šä½¿ç”¨è¿™ä¸ªä¾èµ– --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-data-redis&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!-- ç¼“å­˜ä¾èµ– --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-cache&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2ã€é…ç½®æ–‡ä»¶ä¸­å¢åŠ é…ç½®&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;####### Redis ################
#ç¬¬å‡ ä¸ªæ•°æ®åº“ï¼Œç”±äºredisä¸­æ•°æ®åº“ä¸æ­¢ä¸€ä¸ª
spring.redis.database&lt;/span&gt;=1&lt;span&gt;
# ä¹Ÿå¯æŒ‡å®šä¸º127.&lt;/span&gt;0.0.1&lt;span&gt;
spring.redis.host&lt;/span&gt;=&lt;span&gt;localhost
spring.redis.port&lt;/span&gt;=6379&lt;span&gt;
spring.redis.password&lt;/span&gt;=88888888&lt;span&gt;

# springboot2.xä»¥ä¸Šå¦‚æ­¤é…ç½®ï¼Œç”±äº2.xçš„å®¢æˆ·ç«¯æ˜¯lettuce
# å•ä½è¦å¸¦ä¸Š
spring.redis.lettuce.pool.max&lt;/span&gt;-active=8&lt;span&gt;
spring.redis.lettuce.pool.min&lt;/span&gt;-idle=0&lt;span&gt;
spring.redis.lettuce.pool.max&lt;/span&gt;-idle=8&lt;span&gt;
spring.redis.lettuce.pool.max&lt;/span&gt;-wait=&lt;span&gt;10000ms
spring.redis.lettuce.shutdown&lt;/span&gt;-timeout=&lt;span&gt;100ms

# springboot1.xå¦‚æ­¤é…ç½®ï¼Œç”±äº1.xçš„å®¢æˆ·ç«¯æ˜¯jedis
#spring.redis.jedis.pool.max&lt;/span&gt;-active=8&lt;span&gt;
#spring.redis.jedis.pool.min&lt;/span&gt;-idle=0&lt;span&gt;
#spring.redis.jedis.pool.max&lt;/span&gt;-idle=8&lt;span&gt;
#spring.redis.jedis.pool.max&lt;/span&gt;-wait=-1&lt;span&gt;
#spring.redis.timeout&lt;/span&gt;=500
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;3ã€å®ç°è‡ªå®šä¹‰ç¼“å­˜ç®¡ç†å™¨&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.anson.config;


&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.slf4j.Logger;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.slf4j.LoggerFactory;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.cache.annotation.CachingConfigurerSupport;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.cache.annotation.EnableCaching;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.cache.interceptor.KeyGenerator;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.annotation.Bean;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.annotation.Configuration;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.redis.cache.RedisCacheConfiguration;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.redis.cache.RedisCacheManager;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.redis.connection.RedisConnectionFactory;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt; org.springframework.data.redis.serializer.*&lt;span&gt;;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.Duration;

&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @description: redisç¼“å­˜é…ç½®ç±»
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: anson
 * @Date: 2019/12/8 21:34
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;

@Configuration
@EnableCaching
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; RedisCacheConfig &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; CachingConfigurerSupport {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; Logger logger = LoggerFactory.getLogger(RedisCacheConfig.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è‡ªå®šä¹‰keyç”Ÿæˆå™¨&lt;/span&gt;
&lt;span&gt;    @Bean
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; KeyGenerator keyGenerator(){
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; (o, method, params) -&amp;gt;&lt;span&gt;{
            StringBuilder sb &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; StringBuilder();
            sb.append(o.getClass().getName()); &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ç±»ç›®&lt;/span&gt;
            sb.append(method.getName()); &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ–¹æ³•å&lt;/span&gt;
            &lt;span&gt;for&lt;/span&gt;&lt;span&gt;(Object param: params){
                sb.append(param.toString()); &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°å&lt;/span&gt;
&lt;span&gt;            }
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; sb.toString();
        };
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; é…ç½®ç¼“å­˜ç®¡ç†å™¨&lt;/span&gt;
&lt;span&gt;    @Bean
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {
        RedisCacheConfiguration config &lt;/span&gt;=&lt;span&gt; RedisCacheConfiguration.defaultCacheConfig()
                .entryTtl(Duration.ofSeconds(&lt;/span&gt;60000000)) &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 60sç¼“å­˜å¤±æ•ˆ
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è®¾ç½®keyçš„åºåˆ—åŒ–æ–¹å¼&lt;/span&gt;
&lt;span&gt;                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(keySerializer()))
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è®¾ç½®valueçš„åºåˆ—åŒ–æ–¹å¼&lt;/span&gt;
&lt;span&gt;                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(valueSerializer()))
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ä¸ç¼“å­˜nullå€¼&lt;/span&gt;
&lt;span&gt;                .disableCachingNullValues();

        RedisCacheManager redisCacheManager &lt;/span&gt;=&lt;span&gt; RedisCacheManager.builder(connectionFactory)
                .cacheDefaults(config)
                .transactionAware()
                .build();

        logger.info(&lt;/span&gt;&quot;è‡ªå®šä¹‰RedisCacheManageråŠ è½½å®Œæˆ&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; redisCacheManager;
    }


    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; keyé”®åºåˆ—åŒ–æ–¹å¼&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt; RedisSerializer&amp;lt;String&amp;gt;&lt;span&gt; keySerializer() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; StringRedisSerializer();
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; valueå€¼åºåˆ—åŒ–æ–¹å¼&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt;&lt;span&gt; GenericJackson2JsonRedisSerializer valueSerializer(){
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; GenericJackson2JsonRedisSerializer();
       &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; return  new GenericFastJsonRedisSerializer();&lt;/span&gt;
&lt;span&gt;    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4ã€ä½¿ç”¨ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œåœ¨UserServiceImplä¸­&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    @Override
    @Cacheable(cacheNames &lt;/span&gt;= &quot;user&quot; ,key=&quot;#id&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User selectByPrimaryKey(Integer id)
    {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;  usermapper.selectByPrimaryKey(id);
    }

    @Override
    @Cacheable(cacheNames &lt;/span&gt;= &quot;users&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; getAll()
    {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; usermapper.getAll();
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ã€€ã€€å…¶ä¸­ï¼Œkeyå¦‚æœä¸è®¾ç½®ï¼Œä¼šæ ¹æ®æˆ‘ä»¬è®¾ç½®çš„ç”Ÿæˆå™¨ç”ŸæˆKEYï¼Œå¦‚æœè‡ªå·±è®¾ç½®çš„è¯ï¼Œæœ‰å‡ ç§æ–¹å¼ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹ï¼š&lt;/h3&gt;
&lt;div readability=&quot;15.5&quot;&gt;
&lt;div readability=&quot;26&quot;&gt;
&lt;h3&gt;Aã€åŸºæœ¬å½¢å¼&lt;/h3&gt;
&lt;p&gt;@Cacheable(value=&quot;cacheName&quot;, key&quot;#id&quot;)&lt;/p&gt;
&lt;p&gt;public User method(int id);&lt;/p&gt;
&lt;h3&gt;Bã€ç»„åˆå½¢å¼&lt;/h3&gt;
&lt;p&gt;@Cacheable(value=&quot;cacheName&quot;, key&quot;T(String).valueOf(#name).concat('-').concat(#password))&lt;/p&gt;
&lt;p&gt;public UserÂ method(int name, String password);&lt;/p&gt;
&lt;h3&gt;Cã€å¯¹è±¡å½¢å¼&lt;/h3&gt;
&lt;p&gt;@Cacheable(value=&quot;cacheName&quot;, key&quot;#user.id)&lt;/p&gt;
&lt;p&gt;public UserÂ method(User user);&lt;/p&gt;
&lt;h3&gt;Dã€è‡ªå®šä¹‰Keyç”Ÿæˆå™¨&lt;/h3&gt;
&lt;p&gt;@Cacheable(value=&quot;gomeo2oCache&quot;, keyGenerator = &quot;keyGenerator&quot;)&lt;/p&gt;
&lt;p&gt;public UserÂ method(User user);&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Â 5ã€æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;ã€€ã€€Â æˆ‘ä»¬ æ‰“å¼€druidçš„SQLç›‘æ§ï¼Œç„¶ååœ¨swaggerä¸­è¿›è¡Œæ“ä½œï¼Œåœ¨Redis desktop managerä¸­æŸ¥çœ‹Redisï¼Œå°±å¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ‰§è¡Œäº†æ•°æ®åº“æŸ¥è¯¢ï¼Œå¹¶æŠŠç»“æœå­˜è¿›äº†Redisä¸­ï¼Œä»¥åæ‰§è¡ŒåŒæ ·çš„æŸ¥è¯¢ï¼Œåœ¨ç¼“å­˜æ²¡è¿‡æœŸä¹‹å‰ï¼Œéƒ½ç›´æ¥ä»Redisè·å–ï¼Œä¸å†æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå¯è§Redisç¼“å­˜æˆåŠŸè¿è¡Œå’Œé‡Šæ”¾äº†æ•°æ®åº“çš„å‹åŠ›äº†ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210004356215-701787058.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210004308313-1391179668.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210004815887-340270646.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;h2&gt;é™„ï¼šRedis Windowsä¸‹ç®€å•å®ç”¨ä»¥åŠRedis GUIå·¥å…·Redis desktop managerçš„ä½¿ç”¨ï¼Œä¹Ÿç®€å•ä»‹ç»ä¸‹ï¼š&lt;/h2&gt;
&lt;h3&gt;1ã€Redis Windowsç‰ˆçš„ç®€å•ä½¿ç”¨ï¼š&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½Redis Windowsç‰ˆï¼Œè§£å‹åçœ‹åˆ°&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210005708565-478941166.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â å…ˆç‚¹å‡»æ‰“å¼€Redis-server.exeï¼Œå†æ‰“å¼€Redis-cli.exeï¼ŒRediså·²ç»ä»¥é»˜è®¤çš„æ–¹å¼å¯åŠ¨èµ·æ¥äº†ï¼Œå…¶ä¸­Redis-server.exeå°±æ˜¯RedisæœåŠ¡ï¼ŒRedis-cli.exeæ˜¯å®¢æˆ·ç«¯å·¥å…·ï¼Œç”¨æ¥ä»¥å‘½ä»¤æ“ä½œRedisçš„ï¼›&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨Redisï¼Œé»˜è®¤å¯†ç æ˜¯ç©ºçš„ï¼Œç«¯å£æ˜¯6379ï¼›æˆ‘ä»¬è®¾ç½®ä¸€ä¸‹å¯†ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;config set requirepass â€œä½ çš„å¯†ç â€ Â  Â  Â  //è®¾ç½®å¯†ç &lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;auth â€œä½ çš„å¯†ç â€ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //éªŒè¯å¯†ç æ˜¯å¦æˆåŠŸè®¾ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210010034160-983276210.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Â flushall ï¼Œæ˜¯æ¸…é™¤æ‰€æœ‰ç¼“å­˜çš„å‘½ä»¤ï¼Œç”¨æ¥æ¸…é™¤é‡æ–°æµ‹è¯•çš„ï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–å‘½ä»¤å°±ä¸å¤šä»‹ç»äº†ï¼Œéœ€è¦ç”¨åˆ°è‡ªè¡Œç™¾åº¦&lt;/p&gt;
&lt;h3&gt;2ã€Redis desktop managerçš„ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½å®‰è£…åŒ…ï¼Œå®‰è£…ï¼Œç„¶åå¡«å…¥å¯†ç è¿æ¥å³å¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210010516454-1515645504.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/118906/201912/118906-20191210010548420-980269085.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;



&lt;h2&gt;ã€€ã€€ç¬¬äºŒç§æ–¹å¼ä¸­æ³¨è§£å®ç°Redisç¼“å­˜çš„æ–¹å¼æœ‰ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯å¤±æ•ˆæ—¶é—´éƒ½ç»Ÿä¸€é…ç½®äº†ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›å¤±æ•ˆæ—¶é—´å¯ä»¥æ¯ä¸ªæ–¹æ³•å•ç‹¬é…ç½®ï¼Œæ‰€ä»¥äºŒçš„æ–¹æ³•è¿˜éœ€è¦æ”¹é€ ï¼Œå®ç°å¤±æ•ˆæ—¶é—´å•ç‹¬é…ç½®çš„åŠŸèƒ½ï¼›è¿˜æœ‰Redisä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šæ­å»ºé›†ç¾¤å®ç°é«˜å¯ç”¨ï¼Œå…³äºLinuxã€dockeræ­å»ºRedisé›†ç¾¤çš„æ–¹å¼ï¼Œè¿™äº›é¡¹ç›®å®æˆ˜å¹²è´§æˆ‘ä»¬ä»¥åå†æ¥è¯¦ç»†èŠï¼›&lt;/h2&gt;

&lt;h3&gt;é™„demoGITåœ°å€ï¼š&lt;a href=&quot;https://github.com/anson-yang/cloverDemo.git&quot; target=&quot;_blank&quot;&gt;https://github.com/anson-yang/cloverDemo.git&lt;/a&gt;&lt;/h3&gt;
</description>
<pubDate>Mon, 09 Dec 2019 17:21:00 +0000</pubDate>
<dc:creator>çƒ§éº¦</dc:creator>
<og:description>0ã€å‰è¨€ åœ¨é¡¹ç›®ä¸­ï¼Œç¼“å­˜ä½œä¸ºä¸€ç§é«˜æ•ˆçš„æå‡æ€§èƒ½çš„æ‰‹æ®µï¼Œå‡ ä¹å¿…ä¸å¯å°‘ï¼ŒRedisä½œä¸ºå…¶ä¸­çš„ä½¼ä½¼è€…è¢«å¹¿æ³›åº”ç”¨ï¼› ä¸€ã€spring booté›†æˆRedis 1ã€æ·»åŠ ä¾èµ– 2ã€é…ç½®æ–‡ä»¶å¢åŠ Redisé…ç½® 3ã€</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yanghj/p/12014409.html</dc:identifier>
</item>
</channel>
</rss>