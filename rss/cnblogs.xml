<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>æäº‹æƒ…ï¼ŸSpring Bootä»Šå¤©ä¸€å£æ°”å‘å¸ƒä¸‰ä¸ªç‰ˆæœ¬ - YourBatman</title>
<link>http://www.cnblogs.com/yourbatman/p/13379177.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yourbatman/p/13379177.html</guid>
<description>&lt;blockquote readability=&quot;6.3&quot;&gt;
&lt;p&gt;å­¦æ— æ­¢å¢ƒï¼Ÿæœ¬æ–‡å·²è¢« &lt;a href=&quot;https://www.yourbatman.cn&quot;&gt;&lt;strong&gt;https://www.yourbatman.cn&lt;/strong&gt;&lt;/a&gt; æ”¶å½•ï¼Œé‡Œé¢ä¸€å¹¶æœ‰SpringæŠ€æœ¯æ ˆã€MyBatisã€JVMã€ä¸­é—´ä»¶ç­‰å°è€Œç¾çš„&lt;strong&gt;ä¸“æ &lt;/strong&gt;ä¾›ä»¥å…è´¹å­¦ä¹ ã€‚å…³æ³¨å…¬ä¼—å·ã€&lt;strong&gt;BATçš„ä¹Œæ‰˜é‚¦&lt;/strong&gt;ã€‘é€ä¸ªå‡»ç ´ï¼Œæ·±å…¥æŒæ¡ï¼Œæ‹’ç»æµ…å°è¾„æ­¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725232718273.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å„ä½å¥½ï¼Œæˆ‘æ˜¯Aå“¥(YourBatman)ã€‚ä»Šå¤©æ˜¯2020-07-25ï¼Œä¸Šåˆæˆ‘æ­£ä»&lt;strong&gt;&lt;a href=&quot;https://start.spring.io&quot;&gt;https://start.spring.io&lt;/a&gt;&lt;/strong&gt;å‡†å¤‡downä¸€ä¸ªå·¥ç¨‹ä¸‹æ¥çš„æ—¶å€™ï¼Œæ‰“å¼€é¡µé¢å‘ç°é»˜è®¤é€‰ä¸­çš„Spring Bootç‰ˆæœ¬å·æ˜¯&lt;code&gt;2.3.2&lt;/code&gt;ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725213616518.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å¹¶éæˆ‘åˆ»æ„çš„å»æ‰¾åˆ°è¿™ä¸ªå˜åŒ–ï¼Œè€Œæ˜¯ç”±äºæˆ‘&lt;strong&gt;æ˜¨å¤©&lt;/strong&gt; downä¸‹æ¥çš„å·¥ç¨‹ä½¿ç”¨çš„Spring Bootç‰ˆæœ¬æ˜¯&lt;strong&gt;2.3.1&lt;/strong&gt;ï¼Œå°è±¡è¿˜åœ¨ï¼Œæ‰€ä»¥ä»Šå¤©ä¸€ä¸‹å­å°±å‘ç°äº†å·®å¼‚ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å‡çº§äº†ï¼ˆè™½ç„¶æ˜¯å°ç‰ˆæœ¬å·ï¼‰ï¼Œé‚£å°±å»å®˜æ–¹æ¥¼ä¸€çœ¼å‘—ã€‚ä¸çœ‹ä¸çŸ¥é“ï¼Œä¸€çœ‹è¿˜çœŸè®©å‘ç°äº›å†…å®¹ï¼š&lt;strong&gt;Spring Bootåœ¨åŒä¸€å¤©ï¼ˆ2020-07-25ï¼‰ä¸€å£æ°”å‘å¸ƒäº†ä¸‰ä¸ªç‰ˆæœ¬ï¼Œè¿™æ˜¯è¦æäº‹æƒ…å•Šï¼Ÿ&lt;/strong&gt;&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725233253231.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å°è´´å£«ï¼šæœ¬æ–‡æ‰€æœ‰æ—¶é—´è‹¥æœªåšç‰¹æ®Šè¯´æ˜ï¼ŒæŒ‡çš„å‡æ˜¯&lt;strong&gt;åŒ—äº¬æ—¶é—´&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Spring Bootç›®å‰è¿˜å¤„äº&lt;strong&gt;Active&lt;/strong&gt;æ´»è·ƒçš„åˆ†æ”¯å…±æœ‰ä¸‰ä¸ªï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725215806663.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å› æ­¤å°±åœ¨ä»Šå¤©ï¼Œ&lt;strong&gt;åŒä¸€å¤©&lt;/strong&gt;é‡ŒSpring Bootå¯¹å®ƒçš„è¿™ä¸‰æ¡çº¿åšäº†æ›´æ–°ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Spring Boot 2.3.1 -&amp;gt; &lt;strong&gt;Spring Boot 2.3.2&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Spring Boot 2.2.8 -&amp;gt; &lt;strong&gt;Spring Boot 2.2.9&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Spring Boot 2.1.15 -&amp;gt; &lt;strong&gt;Spring Boot 2.1.16&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725221151805.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;æ­¤æ¬¡å‘ç‰ˆï¼Œè·ç¦»ä¸Šæ¬¡&lt;strong&gt;æ­£å¼&lt;/strong&gt;å‘ç‰ˆï¼ˆä¸åŒºåˆ†åˆ†æ”¯ï¼‰å·²è¶³è¶³æœ‰&lt;strong&gt;44å¤©&lt;/strong&gt;ä¹‹ä¹…ã€‚&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725220629806.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æœ‰å“ªäº›å‡çº§ï¼Ÿ&quot;&gt;æœ‰å“ªäº›å‡çº§ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å‚è€ƒgithubä¸Šçš„Releaseè¯¦æƒ…ï¼Œä¸‰ä¸ªåˆ†æ”¯&lt;strong&gt;éƒ½&lt;/strong&gt;æœ‰å¦‚ä¸‹ä¸‰æ–¹é¢çš„æ”¹è¿›ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ğŸ ä¿®å¤bug&lt;/li&gt;
&lt;li&gt;ğŸ“” æ–‡æ¡£åŒæ­¥&lt;/li&gt;
&lt;li&gt;ğŸ”¨ å‡çº§ä¾èµ–&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;-ä¿®å¤bug&quot;&gt;ğŸ ä¿®å¤bug&lt;/h3&gt;
&lt;p&gt;å°ç‰ˆæœ¬å·çš„å‡çº§ï¼Œæœ€é‡è¦çš„ä½¿å‘½å°±æ˜¯&lt;strong&gt;ä¿®å¤bug&lt;/strong&gt;ï¼Œè¿™æ˜¯å®ƒå­˜åœ¨çš„æ„ä¹‰ã€‚é’ˆå¯¹è¿™ä¸‰ä¸ªç‰ˆæœ¬ï¼Œå„è‡ªçš„bugä¿®å¤æ€»æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;2.3.2&lt;/strong&gt;ï¼š34ä¸ªã€‚é¥é¥é¢†å…ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2.2.9&lt;/strong&gt;ï¼š10ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2.1.16&lt;/strong&gt;ï¼š1ä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;èƒ½å‘ç°è§„å¾‹å§ï¼Œ&lt;strong&gt;ç‰ˆæœ¬è¶Šæ–°ï¼Œbugè¶Šå¤š&lt;/strong&gt;ï¼Œè¿™æ˜¯ç¬¦åˆå¸¸ç†çš„ã€‚å¦å¤–ï¼Œä»å°ç‰ˆæœ¬å·é‡Œèƒ½çŸ¥é“ï¼š2.1.xç‰ˆæœ¬éƒ½ä¿®å¤16æ¬¡bugäº†ï¼Œè€Œ2.3.xæ‰ç¬¬2æ¬¡ä¿®å¤ï¼Œæ­£å¤„äºbugäº•å–·é˜¶æ®µå‘¢ã€‚æ‰€ä»¥ä¸€å‘³çš„è¿½æ–°çš„è¯ï¼Œè¿˜éœ€è°¨æ…å“ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿè®¸ä½ ä¼šåæ§½ï¼ŒSpring Bootè¿™å•¥ç¼–ç æ°´å¹³ï¼Œå’‹è¿™ä¹ˆå¤šbugï¼Ÿå…¶å®éä¹Ÿï¼Œä¸ªæ•°è™½å¤šï¼ˆå…¶å®ä¹Ÿè¿˜å¥½ï¼‰ï¼Œä½†æ¯ä¸€ä¸ªéƒ½æ˜¯&lt;strong&gt;éä¸¥é‡bug&lt;/strong&gt;ï¼Œå½±å“ç”šå¾®ï¼Œæ— éœ€å¤§æƒŠå°æ€ªã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä»bugçš„åŸå› ä¸Šæ¥çœ‹ï¼Œä¸å°‘bugæ˜¯å„ä¸ªç‰ˆæœ¬éƒ½æœ‰çš„å…±æ€§é—®é¢˜ã€‚æ¯”å¦‚2.1.xç‰ˆæœ¬é‚£ä¸ªå”¯ä¸€çš„bugï¼Œå…¶å®ƒä¸¤ä¸ªç‰ˆæœ¬å‡æœ‰ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725224007874.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;-æ–‡æ¡£åŒæ­¥&quot;&gt;ğŸ“” æ–‡æ¡£åŒæ­¥&lt;/h3&gt;
&lt;p&gt;æ­¤partç”¨äºå¯¹æ–‡æ¡£ä¸Šçš„æ”¹å˜åšå‡ºä¸€äº›è¯´æ˜ï¼Œæ¯”å¦‚æ–‡å­—æè¿°é”™è¯¯ã€æ’ç­ä¸æ­£ç¡®ç­‰ç­‰ã€‚ä¸¾ä¾‹æœ¬æ¬¡çš„ä¸€ä¸ªä¿®å¤ï¼š&lt;/p&gt;
&lt;p&gt;ä¿®å¤å‰ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725224446430.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;ä¿®å¤åï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725224517894.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;ä¸å¾—ä¸è¯´ï¼Œè¿™è€å¤–è¿˜æŒºè¾ƒçœŸï¼ˆæŒºä»”ç»†ï¼‰çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;-å‡çº§ä¾èµ–&quot;&gt;ğŸ”¨ å‡çº§ä¾èµ–&lt;/h3&gt;
&lt;p&gt;ç”±äºæ˜¯å°ç‰ˆæœ¬çš„å‡çº§ï¼Œå› æ­¤å¯¹åº”çš„ä¾èµ–ä¹Ÿæ˜¯å°ç‰ˆæœ¬å‡çº§ã€‚ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Tomcatå‡çº§åˆ°9.0.37&lt;/li&gt;
&lt;li&gt;Spring Frameworkå‡çº§åˆ°5.2.8ï¼ˆæ­¤ç‰ˆæœ¬4å¤©å‰å‘å¸ƒï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‹¿&lt;code&gt;Spring Framework&lt;/code&gt;çš„å‡çº§ä¸¾ä¾‹ï¼šSpring Bootçš„2.2.xå’Œ2.3.xéƒ½æ˜¯å‡çº§åˆ°äº†5.2.8ç‰ˆæœ¬ï¼Œè€ŒSpring Bootçš„2.1.xåˆ†æ”¯ä¾èµ–çš„æ˜¯&lt;code&gt;Spring Framework 5.1.17&lt;/code&gt;ç‰ˆæœ¬å“¦ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;é™¤æ­¤ä¹‹å¤–&lt;/strong&gt;ï¼ŒSpring Bootå®ƒçš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯2.3.2é‡Œè¿˜æ–°å¢äº†3ä¸ªæ–°ç‰¹æ€§ï¼Œäº†è§£ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ”¹è¿› Kubernates Liveness/Readiness å¥åº·æŒ‡æ ‡å’Œæ¢é’ˆé…ç½®&lt;/li&gt;
&lt;li&gt;æ·»åŠ è¿è¡Œé•œåƒé€‰é¡¹ç”¨äºDockeré•œåƒæ„å»º&lt;/li&gt;
&lt;li&gt;å¢åŠ å¯¹reactive Elasticsearchçš„å¥åº·æ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å°è´´å£«ï¼šå°ç‰ˆæœ¬å·çš„å‡çº§æ˜¯å¯ä»¥æ–°å¢è¿™ç§å¾ˆå°çš„åŠŸèƒ½ç‚¹çš„ï¼Œä½†ä¸å…è®¸æ–°å¢å¤§åŠŸèƒ½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä¸‰ä¸ªç‰ˆæœ¬æ ¸å¿ƒä¾èµ–çš„åŒºåˆ«&quot;&gt;ä¸‰ä¸ªç‰ˆæœ¬æ ¸å¿ƒä¾èµ–çš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;Spring Bootç›®å‰æ´»è·ƒçš„åˆ†æ”¯æœ‰3ä¸ªï¼Œä¹Ÿå°±æ˜¯è¿™ä¸‰ä¸ª&lt;strong&gt;ä¸»çº¿ç‰ˆæœ¬&lt;/strong&gt;ã€‚é‚£ä¹ˆä»–ä»¬ä¸‰åœ¨æ ¸å¿ƒä¾èµ–ä¸Šæœ‰å•¥åŒºåˆ«å‘¢ï¼ŸAå“¥ç‰¹æ„ç¿»èµ„æ–™å¸®ä½ æ•´ç†äº†ä¸€ä¸‹ï¼Œç»˜åˆ¶å¦‚ä¸‹è¡¨ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;è¯´æ˜ï¼šå› ä¸ºè¡¨æ ¼å…¼å®¹æ€§ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¥å›¾ç‰‡æ–¹å¼å±•ç¤º&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725230447674.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å…³äº15xå’Œ20xç‰ˆæœ¬&quot;&gt;å…³äº1.5.xå’Œ2.0.xç‰ˆæœ¬&lt;/h2&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªåˆ†æ”¯å·²ç»æ˜¯å¤è‘£åˆ†æ”¯äº†ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725230905400.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;staleä¸­æ–‡æ„æ€ï¼šä¸æ–°é²œçš„ï¼Œè€æ‰ç‰™çš„ï¼Œæ²¡æœ‰æ–°æ„çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®ƒä»¬&lt;strong&gt;æ—©å·²&lt;/strong&gt;å¯¿ç»ˆæ­£å¯ï¼Œæœ€åä¸€ä¸ªç‰ˆæœ¬å’Œå‘å¸ƒæ—¶é—´ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;1.5.22.RELEASEï¼Œ2019.08&lt;/li&gt;
&lt;li&gt;2.0.9.RELEASEï¼Œ2019.04&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æœ‰æ„æ€çš„æ˜¯ï¼Œ&lt;strong&gt;2.0.x&lt;/strong&gt;ç‰ˆæœ¬çš„ç”Ÿå‘½å‘¨æœŸéå¸¸çš„çŸ­æš‚ï¼Œå‡ ä¹åˆšå¥½ä¸€å¹´ï¼ˆ2018.3 - 2019.4ï¼‰ã€‚ä½†æ˜¯ä¸å¯å¦è®¤2.0.xç‰ˆæœ¬æ˜¯å…·æœ‰åˆ’æ—¶ä»£æ„ä¹‰çš„ï¼Œåœ¨1.5.xçš„åŸºç¡€ä¸Šå®äº†ä¸€å¤§æ­¥ï¼Œä¸Šäº†ä¸€ä¸ªå¤§å°é˜¶ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¦‚æœä½ çš„é¡¹ç›®è¿˜åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç‰¹åˆ«æ˜¯1.5.xï¼Œé‚£ä¹ˆå°½å¿«å‡çº§å§ã€‚å®˜æ–¹æ¨èçš„æ˜¯ä½¿ç”¨æœ€æ–°çš„2.3.xåˆ†æ”¯ï¼Œè¿™ä¹Ÿæ˜¯å½“å‰æœ€ä¸ºæ´»è·ƒçš„åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å°è´´å£«ï¼š1.5.xå‡çº§åˆ°2.x.xå±äºé˜»æ–­å¼å‡çº§ï¼Œéœ€è¦ååˆ†è°¨æ…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Spring Bootä½œä¸ºå¾®æœåŠ¡ã€äº‘åŸç”Ÿå¼€å‘çš„åŸºç¡€è®¾æ–½ï¼Œæ¯ä¸ªJavaå¼€å‘è€…éƒ½åº”è¯¥ç†è§£å®ƒã€è·Ÿä¸Šå®ƒã€å­¦ä¹ å®ƒï¼Œæ‰å¾—ä»¥ä¿è¯è‡ªå·±ä¸æ‰é˜Ÿï¼Œä¸è¢«&lt;strong&gt;åæµª&lt;/strong&gt;æ‹æ­»ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æ­¤ä¹‹å¿«çš„æ›´æ–°é€Ÿåº¦ï¼ŒSpringå®˜æ–¹æ˜¯è®¤çœŸçš„ï¼Œä½†ä½ èƒ½è®¤çœŸèµ·æ¥å—ï¼Ÿæ­ªæœä»ï¼Œè¿™æ˜¯å‘¨æœ«å”‰ï¼Œä½ ä»¬ä¸ç”¨ä¼‘æ¯çš„å—ï¼Ÿç–«æƒ…æœŸé—´åœ¨å®¶åŠå…¬å°±è¿™ä¹ˆä»»æ€§ï¼Ÿ&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725231628798.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h5 id=&quot;ç›¸å…³æ¨èï¼š&quot;&gt;ç›¸å…³æ¨èï¼š&lt;/h5&gt;
</description>
<pubDate>Sun, 26 Jul 2020 00:44:00 +0000</pubDate>
<dc:creator>YourBatman</dc:creator>
<og:description>ä½ ï¼Œè¿˜å­¦å¾—åŠ¨å—ï¼Ÿ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yourbatman/p/13379177.html</dc:identifier>
</item>
<item>
<title>ä½¿ç”¨javaå®ç°å¸Œè¡¨çš„åŸºç¡€åŠŸèƒ½ - seizedays</title>
<link>http://www.cnblogs.com/seizedays/p/13379171.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/seizedays/p/13379171.html</guid>
<description>&lt;p&gt;ç”¨javaä»£ç å®Œæˆå“ˆå¸Œè¡¨æ•°æ®ç»“æ„çš„ç®€å•å®ç°ï¼Œ ä»¥å…¬å¸é›‡å‘˜çš„æ·»åŠ ä¿®æ”¹ä½œä¸ºæ¨¡æ‹Ÿå®ä¾‹ å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt; com.seizedays.hashtable;

&lt;span&gt;import&lt;/span&gt; java.util.Scanner;

&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; HashTableDemo {
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; main(String[] args) {
        &lt;span&gt;//åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨&lt;/span&gt;
        HashTable hashTable = &lt;span&gt;new&lt;/span&gt; HashTable(7);

        String key = &quot;&quot;;
        Scanner scanner = &lt;span&gt;new&lt;/span&gt; Scanner(System.in);
        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {
            System.out.println();
            System.out.println(&quot;&lt;span&gt;add: æ·»åŠ é›‡å‘˜&lt;/span&gt;&quot;);
            System.out.println(&quot;&lt;span&gt;list: æ˜¾ç¤ºé›‡å‘˜&lt;/span&gt;&quot;);
            System.out.println(&quot;&lt;span&gt;find: æŸ¥æ‰¾é›‡å‘˜&lt;/span&gt;&quot;);
            System.out.println(&quot;&lt;span&gt;exit: é€€å‡ºç³»ç»Ÿ&lt;/span&gt;&quot;);
            key = scanner.next();

            &lt;span&gt;switch&lt;/span&gt; (key) {
                &lt;span&gt;case&lt;/span&gt; &quot;&lt;span&gt;add&lt;/span&gt;&quot;:
                    System.out.println(&quot;&lt;span&gt;è¾“å…¥id&lt;/span&gt;&quot;);
                    &lt;span&gt;int&lt;/span&gt; id = scanner.nextInt();
                    System.out.println(&quot;&lt;span&gt;è¾“å…¥åå­—&lt;/span&gt;&quot;);
                    String name = scanner.next();
                    Emp emp = &lt;span&gt;new&lt;/span&gt; Emp(id, name);
                    hashTable.add(emp);
                    &lt;span&gt;break&lt;/span&gt;;
                &lt;span&gt;case&lt;/span&gt; &quot;&lt;span&gt;list&lt;/span&gt;&quot;:
                    hashTable.list();
                    &lt;span&gt;break&lt;/span&gt;;

                &lt;span&gt;case&lt;/span&gt; &quot;&lt;span&gt;find&lt;/span&gt;&quot;:
                    System.out.println(&quot;&lt;span&gt;è¯·è¾“å…¥é›‡å‘˜id&lt;/span&gt;&quot;);
                    &lt;span&gt;int&lt;/span&gt; id2 = scanner.nextInt();
                    hashTable.findEmpById(id2);
                    &lt;span&gt;break&lt;/span&gt;;

                &lt;span&gt;case&lt;/span&gt; &quot;&lt;span&gt;exit&lt;/span&gt;&quot;:
                    scanner.close();
                    System.exit(0);
                &lt;span&gt;default&lt;/span&gt;:
                    &lt;span&gt;break&lt;/span&gt;;
            }
        }


    }
}

&lt;span&gt;//é›‡å‘˜ç±»&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt; Emp {
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; id;
    &lt;span&gt;public&lt;/span&gt; String name;
    &lt;span&gt;public&lt;/span&gt; Emp next; &lt;span&gt;//é»˜è®¤ä¸ºç©º&lt;/span&gt;

    &lt;span&gt;public&lt;/span&gt; Emp(&lt;span&gt;int&lt;/span&gt; id, String name) {
        &lt;span&gt;super&lt;/span&gt;();
        &lt;span&gt;this&lt;/span&gt;.id = id;
        &lt;span&gt;this&lt;/span&gt;.name = name;
    }
}

&lt;span&gt;//åˆ›å»ºHasä»–Table ç®¡ç†é“¾è¡¨&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt; HashTable {
    &lt;span&gt;private&lt;/span&gt; EmpLinkedList[] empLinkedListArray;
    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; size;

    &lt;span&gt;public&lt;/span&gt; HashTable(&lt;span&gt;int&lt;/span&gt; size) {
        &lt;span&gt;// åˆå§‹åŒ–é“¾è¡¨&lt;/span&gt;
        &lt;span&gt;this&lt;/span&gt;.size = size;
        empLinkedListArray = &lt;span&gt;new&lt;/span&gt; EmpLinkedList[size];

        &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; size; i++) {
            empLinkedListArray[i] = &lt;span&gt;new&lt;/span&gt; EmpLinkedList();
        }
    }

    &lt;span&gt;//æ·»åŠ æ–°å‘˜å·¥&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; add(Emp emp) {
        &lt;span&gt;//æ ¹æ®å‘˜å·¥çš„id å¾—åˆ°è¯¥å‘˜å·¥åº”è¯¥æ·»åŠ åˆ°å“ªä¸ªé“¾è¡¨&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt; empLinkListNo = hashFun(emp.id);

        &lt;span&gt;//å°†Empæ·»åŠ åˆ°å¯¹åº”çš„é“¾è¡¨ä¸­&lt;/span&gt;
        empLinkedListArray[empLinkListNo].add(emp);

    }
    &lt;span&gt;//ç¼–å†™ä¸€ä¸ªæ•£åˆ—å‡½æ•° ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å–æ¨¡æ³•æ¥å¤„ç†&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; hashFun(&lt;span&gt;int&lt;/span&gt; id) {
        &lt;span&gt;return&lt;/span&gt; id % size;
    }

    &lt;span&gt;//éå†æ‰€æœ‰çš„é“¾è¡¨&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; list() {
        &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; size; i++) {
            empLinkedListArray[i].list(i);

        }
    }

    &lt;span&gt;//æ ¹æ®è¾“å…¥çš„id æŸ¥æ‰¾é›‡å‘˜&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; findEmpById(&lt;span&gt;int&lt;/span&gt; id){
        &lt;span&gt;int&lt;/span&gt; no = hashFun(id);
        Emp emp = empLinkedListArray[no].findEmpById(id);
        &lt;span&gt;if&lt;/span&gt; (emp != &lt;span&gt;null&lt;/span&gt;) {
            System.out.printf(&quot;&lt;span&gt;åœ¨ç¬¬%dæ¡é“¾è¡¨ä¸­æ‰¾åˆ°è¯¥é›‡å‘˜ï¼Œ é›‡å‘˜id = %d&lt;/span&gt;&quot;, no + 1, id);
        }&lt;span&gt;else&lt;/span&gt; {
            System.out.println(&quot;&lt;span&gt;åœ¨hashè¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥é›‡å‘˜&lt;/span&gt;&quot;);
        }
    }

}

&lt;span&gt;// åˆ›å»ºä¸€ä¸ªEmpLinkedList&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt; EmpLinkedList {
    &lt;span&gt;// å¤´æŒ‡é’ˆ æ‰§è¡Œç¬¬ä¸€ä¸ªEmp å› æ­¤æˆ‘ä»¬çš„é“¾è¡¨çš„headæ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªé›‡å‘˜çš„&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt; Emp head; &lt;span&gt;//é»˜è®¤ä¸ºç©º&lt;/span&gt;

    &lt;span&gt;//æ·»åŠ é›‡å‘˜ å‡å®šé›‡å‘˜æ·»åŠ åˆ°é“¾è¡¨çš„æœ€åä½ç½®&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; add(Emp emp) {
        &lt;span&gt;//å¦‚æœæ·»åŠ çš„æ˜¯ç¬¬ä¸€ä¸ªé›‡å‘˜&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; (head == &lt;span&gt;null&lt;/span&gt;) {
            head = emp;
            &lt;span&gt;return&lt;/span&gt;;
        }
        &lt;span&gt;//å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªé›‡å‘˜ åˆ™ä½¿ç”¨è¾…åŠ©æŒ‡é’ˆå¸®åŠ©å®šä½åˆ°æœ€å&lt;/span&gt;
        Emp curEmp = head;
        &lt;span&gt;while&lt;/span&gt; (curEmp.next != &lt;span&gt;null&lt;/span&gt;) {
            curEmp = curEmp.next;
        }

        &lt;span&gt;//é€€å‡ºæ—¶ ç›´æ¥å°†EmpåŠ å…¥é“¾è¡¨&lt;/span&gt;
        curEmp.next = emp;

    }

    &lt;span&gt;//éå†é“¾è¡¨çš„é›‡å‘˜ä¿¡æ¯&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; list(&lt;span&gt;int&lt;/span&gt; no) {
        &lt;span&gt;if&lt;/span&gt; (head == &lt;span&gt;null&lt;/span&gt;) {
            System.out.printf(&quot;&lt;span&gt;\nç¬¬&lt;/span&gt;&quot; + (no + 1) + &quot;&lt;span&gt;ä¸ªé“¾è¡¨ä¸ºç©º&lt;/span&gt;&quot;);
            &lt;span&gt;return&lt;/span&gt;;
        }
        System.out.print(&quot;&lt;span&gt;\nç¬¬&lt;/span&gt;&quot; + (no + 1) + &quot;&lt;span&gt;ä¸ªé“¾è¡¨ä¿¡æ¯ä¸º:&lt;/span&gt;&quot;);
        Emp curEmp = head;
        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {
            System.out.printf(&quot;&lt;span&gt;=&amp;gt; id = %d name = %s \t&lt;/span&gt;&quot;, curEmp.id, curEmp.name);
            &lt;span&gt;if&lt;/span&gt; (curEmp.next == &lt;span&gt;null&lt;/span&gt;) {
                &lt;span&gt;break&lt;/span&gt;;
            }
            curEmp = curEmp.next;
        }
    }

    &lt;span&gt;//æ ¹æ®idæŸ¥æ‰¾é›‡å‘˜&lt;/span&gt;
    &lt;span&gt;// æŸ¥æ‰¾åˆ° åˆ™è¿”å›Emp  æ²¡æœ‰æ‰¾åˆ° è¿”å›null&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; Emp findEmpById(&lt;span&gt;int&lt;/span&gt; id){
        &lt;span&gt;if&lt;/span&gt; (head == &lt;span&gt;null&lt;/span&gt;) {
            System.out.println(&quot;&lt;span&gt;é“¾è¡¨ä¸ºç©º&lt;/span&gt;&quot;);
            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;;
        }

        Emp curEmp = head;
        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;){
            &lt;span&gt;if&lt;/span&gt; (curEmp.id == id){
                &lt;span&gt;break&lt;/span&gt;;
            }

            &lt;span&gt;if&lt;/span&gt; (curEmp.next == &lt;span&gt;null&lt;/span&gt;) {
                curEmp = &lt;span&gt;null&lt;/span&gt;;
                &lt;span&gt;break&lt;/span&gt;;
            }
            curEmp = curEmp.next;
        }

        &lt;span&gt;return&lt;/span&gt; curEmp;
    }

}

&lt;/pre&gt;&lt;/div&gt;
</description>
<pubDate>Sun, 26 Jul 2020 00:42:00 +0000</pubDate>
<dc:creator>seizedays</dc:creator>
<og:description>ç”¨javaä»£ç å®Œæˆå“ˆå¸Œè¡¨æ•°æ®ç»“æ„çš„ç®€å•å®ç°ï¼Œ ä»¥å…¬å¸é›‡å‘˜çš„æ·»åŠ ä¿®æ”¹ä½œä¸ºæ¨¡æ‹Ÿå®ä¾‹ å…·ä½“ä»£ç å¦‚ä¸‹ï¼špackage com.seizedays.hashtable; import java.util.Sca</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/seizedays/p/13379171.html</dc:identifier>
</item>
<item>
<title>LevelDBï¼Œä½ å¥½~ - ä¸€çº¸å¾®è¨€</title>
<link>http://www.cnblogs.com/yizhiweiyan/p/13378783.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yizhiweiyan/p/13378783.html</guid>
<description>&lt;p&gt;LevelDBå­˜å‚¨æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿåº•å±‚æ—¥å¿—æ ¼å¼æ˜¯æ€ä¹ˆå®ç°çš„ï¼ŸSSTableåˆæ˜¯å•¥æ ¼å¼ï¼Ÿå°ä¼™ä¼´ä»¬ï¼Œä½ ä»¬ä¸å¥½å¥‡å—ï¼Ÿå¥½å¥‡å°±èµ¶å¿«æ¥ç…ä¸€çœ¼ï¼Œéå¸¸è¯¦ç»†å‘¦~&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;384.70570942998&quot;&gt;

&lt;p&gt;ä¸Šç¯‡æ–‡ç« &lt;a href=&quot;https://www.cnblogs.com/yizhiweiyan/p/13303056.html&quot;&gt;åˆè¯†ï¼šLevelDB&lt;/a&gt;ä»‹ç»äº†å•¥æ˜¯LevelDBï¼ŒLevelDBæœ‰å•¥ç‰¹æ€§ï¼Œä»¥åŠLinuxç¯å¢ƒä¸‹ç¼–è¯‘ï¼Œä½¿ç”¨åŠè°ƒè¯•æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« çš„è¯ï¼Œç®—æ˜¯LevelDBæºç å­¦ä¹ çš„å¼€ç«¯å§ï¼Œä¸»è¦è®²ä¸‹LevelDBçš„æºç ç»“æ„åŠLevelDBå®˜æ–¹ç»™å‡ºä¸€äº›å¸®åŠ©æ–‡æ¡£å†…å®¹ï¼Œå¯¹äºæˆ‘ä¸ªäººæ¥è¯´ï¼Œæˆ‘æ„Ÿè§‰ææ‡‚ä¸€é—¨æŠ€æœ¯ï¼Œä¸èƒ½ç›´æ¥é™·åˆ°æœ€å±‚æºç å®ç°ï¼Œè€Œæ˜¯å…ˆäº†è§£å…¶è®¾è®¡åŸç†ï¼Œç„¶åå¯¹ç…§å­¦ä¹ åº•å±‚æºç æ—¶æ‰ä¸ä¼šå¤´æ˜è„‘èƒ€~&lt;/p&gt;
&lt;h2 id=&quot;leveldbæºç ç»“æ„&quot;&gt;LevelDBæºç ç»“æ„&lt;/h2&gt;
&lt;p&gt;LevelDBæºç ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://github.com/google/leveldb.git%E3%80%82&quot;&gt;https://github.com/google/leveldb.gitã€‚&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232111616-1813663539.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;leveldb-1.22
        - cmake 
        - db  LevelDBåº•å±‚æ ¸å¿ƒä»£ç ç›®å½•ï¼Œè¯¸å¦‚è·³è¡¨ï¼Œç‰ˆæœ¬ï¼ŒMemTableç­‰å®ç°éƒ½åœ¨è¯¥ç›®å½•ä¸‹
        - doc LevelDBçš„å¸®åŠ©æ–‡æ¡£
        - helpers 
        - include LevelDBä½¿ç”¨æ—¶éœ€è¦å¼•å…¥çš„å¤´æ–‡ä»¶
        - issues 
        - port LevelDBåº•å±‚æ˜¯æ¥å…¥ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œè¿™ä¸ªç›®å½•ä¸»è¦æ˜¯ä¸ºäº†é…ç½®ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿå¹³å°çš„
        - table LevelDBåº•å±‚MemTableç›¸å…³çš„è¯¸å¦‚åˆå¹¶ï¼Œéå†ï¼Œå¸ƒéš†è¿‡æ»¤å™¨ç­‰ç›¸å…³å®ç°æºç 
        - util LevelDBåº•å±‚å®ç°ä¸­çš„ä¸€äº›å·¥å…·ç±»ï¼Œä¾‹å¦‚hashï¼Œstatusç­‰
        - ...
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢å¯¹LevelDBæºç çš„ç›®å½•ç»“æ„åšäº†åŸºæœ¬ä»‹ç»ï¼Œæºç å˜›ï¼Œå…ˆä¸ç€æ€¥çœ‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹LevelDBå®˜æ–¹ç»™å‡ºäº†å“ªäº›å¸®åŠ©æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;doc&lt;/code&gt;ç›®å½•ä¸‹æ˜¯LevelDBæä¾›ç»™æˆ‘ä»¬çš„ä¸€äº›å¸®åŠ©æ–‡æ¡£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232131485-341150498.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;leveldb-1.22
        - doc
                - bench
                - benchmark.html # è¿™ä¸¤ä¸ªæ–‡ä»¶å‘¢ï¼Œæ˜¯LevelDBä¸SQLiteç­‰KVå­˜å‚¨çš„æ€§èƒ½å¯¹æ¯”ï¼Œæœ‰å…´è¶£çš„è‡ªå·±å»çœ‹å§
                - impl.md # è¿™ä¸ªæ–‡ä»¶ä¸»è¦è®²LevelDBåº•å±‚å®ç°åŸç†ï¼Œç£ç›˜ä¸Šå­˜å‚¨çš„æ–‡ä»¶åŠå¤§åˆå¹¶è®¾è®¡åŸç†ç­‰
                - index.md # è¿™ä¸ªæ–‡ä»¶ä¸»è¦è®²LevelDBåŸºæœ¬APIçš„ä½¿ç”¨æ–¹æ³•
                - log_format.md # è¿™ä¸ªæ–‡ä»¶ä¸»è¦è®²LevelDBçš„æ—¥å¿—æ–‡ä»¶æ ¼å¼
                - table_format.md # è¿™ä¸ªæ–‡ä»¶ä¸»è¦è®²LevelDBåº•å±‚æ’åºè¡¨çš„æ ¼å¼
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥å››éƒ¨åˆ†å†…å®¹ä¾æ¬¡å¯¹åº”&lt;code&gt;doc&lt;/code&gt;ç›®å½•ä¸­åå››éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ€§èƒ½å¯¹æ¯”æœ‰å…´è¶£è‡ªå·±çœ‹å§~&lt;/p&gt;
&lt;h2 id=&quot;leveldbå®ç°åŸç†&quot;&gt;LevelDBå®ç°åŸç†&lt;/h2&gt;
&lt;p&gt;â€‹ LevelDBåŸºæœ¬ä¸Šæ˜¯é«˜åº¦å¤åˆ»äº†BigTableä¸­çš„Tabletçš„ï¼Œå…·ä½“Tabletæ˜¯å•¥æ ·å­ï¼Œå¯ä»¥å‚è€ƒ&lt;a href=&quot;https://www.cnblogs.com/yizhiweiyan/p/13246558.html&quot;&gt;åˆè¯†ï¼šBigTable&lt;/a&gt;ï¼Œé‡Œé¢æŒºè¯¦ç»†çš„ï¼Œä¸æ¸…æ¥šçš„å°ä¼™ä¼´å¯ä»¥å…ˆå»çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;â€‹ å°½ç®¡LevelDBé«˜åº¦å¤åˆ»äº†Tabletçš„è®¾è®¡ï¼Œç„¶è€Œï¼Œåœ¨åº•å±‚æ–‡ä»¶ç»„ç»‡ä¸­ï¼Œè¿˜æ˜¯ä¸Tabletå­˜åœ¨ä¸€äº›ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;â€‹ å¯¹äºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ¥è¯´ï¼Œæ¯ä¸ªæ•°æ®åº“æœ€ç»ˆéƒ½æ˜¯ä¸æŸä¸ªç›®å½•ä¸‹çš„ä¸€ç»„æ–‡ä»¶å¯¹åº”çš„ï¼Œå¯¹äºLevelDBæ¥è¯´ï¼Œæ¯ä¸ªæ•°æ®åº“æ–‡ä»¶ç›®å½•ä¸‹çš„æ–‡ä»¶å¤§è‡´åˆ†ä¸ºæ—¥å¿—(Log)æ–‡ä»¶ï¼Œæ’åºè¡¨(Sorted Table)æ–‡ä»¶ï¼ŒManifestæ–‡ä»¶ï¼ŒCurrentæ–‡ä»¶ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ—¥å¿—logæ–‡ä»¶&quot;&gt;æ—¥å¿—(Log)æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;æ—¥å¿—(Log)æ–‡ä»¶ä¸­å­˜å‚¨ä¸€ç³»åˆ—é¡ºåºçš„æ›´æ–°æ“ä½œï¼Œæ¯æ¬¡æ›´æ–°æ“ä½œéƒ½ä¼šè¢«è¿½åŠ åˆ°å½“å‰æ—¥å¿—æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ—¥å¿—æ–‡ä»¶å¤§å°è¾¾åˆ°é¢„å®šçš„å¤§å°(é»˜è®¤é…ç½®ä¸º4MB)æ—¶ï¼Œæ—¥å¿—æ–‡ä»¶ä¼šè¢«è½¬æ¢ä¸ºæ’åºè¡¨(Sorted Table)ï¼ŒåŒæ—¶åˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œåç»­çš„æ›´æ–°æ“ä½œä¼šè¿½åŠ åˆ°æ–°çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‰æ—¥å¿—(Log)æ–‡ä»¶çš„æ‹·è´ä¼šåœ¨å†…å­˜ä¸­ä»¥è·³è¡¨çš„æ•°æ®ç»“æ„å½¢å¼(ç§°ä¸ºMemTable)ä¿å­˜ï¼Œæ¯æ¬¡è¯»å–æ“ä½œéƒ½ä¼šå…ˆæŸ¥è¯¢è¯¥å†…å­˜ä¸­çš„MemTableï¼Œä»¥ä¾¿æ‰€æœ‰çš„è¯»æ“ä½œéƒ½æ‹¿åˆ°çš„æ˜¯æœ€æ–°æ›´æ–°çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ’åºè¡¨sorted-table&quot;&gt;æ’åºè¡¨(Sorted Table)&lt;/h3&gt;
&lt;p&gt;LevelDBä¸­ï¼Œæ¯ä¸ªæ’åºè¡¨éƒ½å­˜å‚¨ä¸€ç»„æŒ‰Keyæ’åºçš„KVé”®å€¼å¯¹ã€‚æ¯ä¸ªé”®å€¼å¯¹ä¸­è¦ä¹ˆå­˜å‚¨çš„æ˜¯Keyçš„Valueï¼Œè¦ä¹ˆå­˜å‚¨çš„æ˜¯Keyçš„åˆ é™¤æ ‡è®°(åˆ é™¤æ ‡è®°ä¸»è¦ç”¨æ¥éšè—ä¹‹å‰æ—§çš„æ’åºè¡¨ä¸­çš„è¿‡æœŸKey)ã€‚&lt;/p&gt;
&lt;p&gt;æ’åºè¡¨(Sorted Tables)ä»¥ä¸€ç³»åˆ—å±‚çº§(Level)å½¢å¼ç»„ç»‡ï¼Œç”±æ—¥å¿—(Log)ç”Ÿæˆçš„æ’åºè¡¨(Sorted Table)ä¼šè¢«æ”¾åœ¨ä¸€ä¸ªç‰¹æ®Šçš„&lt;strong&gt;å¹´è½»(young)&lt;/strong&gt;å±‚çº§(&lt;strong&gt;Level 0&lt;/strong&gt;)ï¼Œ&lt;strong&gt;å¹´è½»(young)&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶æ•°é‡è¶…è¿‡æŸä¸ªé˜ˆå€¼(&lt;strong&gt;é»˜è®¤ä¸º4ä¸ª&lt;/strong&gt;)æ—¶ï¼Œæ‰€æœ‰&lt;strong&gt;å¹´è½»(young)&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶ä¸&lt;strong&gt;Level 1å±‚çº§&lt;/strong&gt;é‡å çš„æ‰€æœ‰æ–‡ä»¶åˆå¹¶åœ¨ä¸€èµ·ï¼Œç”Ÿæˆä¸€ç³»åˆ—æ–°çš„&lt;strong&gt;Level 1å±‚çº§&lt;/strong&gt;æ–‡ä»¶(é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†æ¯2MBçš„æ•°æ®ç”Ÿæˆä¸€ä¸ªæ–°çš„&lt;strong&gt;Level 1&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¹´è½»å±‚çº§(Level 0)&lt;/strong&gt;çš„æ–‡ä»¶å¯èƒ½å­˜åœ¨é‡å çš„Keyï¼Œä½†æ˜¯ï¼Œå…¶ä»–çº§åˆ«çš„æ¯ä¸ªæ–‡ä»¶çš„KeyèŒƒå›´éƒ½æ˜¯éé‡å çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;strong&gt;Level L(L&amp;gt;=1)&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶ï¼Œå½“&lt;strong&gt;Lå±‚çº§&lt;/strong&gt;çš„åˆå¹¶æ–‡ä»¶å¤§å°è¶…è¿‡&lt;strong&gt;10^LMB(å³Levelä¸º10MB, Level2ä¸º100MB...&lt;/strong&gt;æ—¶è¿›è¡Œåˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;å°†&lt;strong&gt;Level L&lt;/strong&gt;å±‚çš„ä¸€ä¸ªæ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;ä¸&lt;strong&gt;Level L+1&lt;/strong&gt;å±‚ä¸­æ‰€æœ‰ä¸æ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;å­˜åœ¨å†²å¾—çš„æ–‡ä»¶åˆå¹¶ä¸º&lt;strong&gt;Level L+1&lt;/strong&gt;å±‚çº§çš„ä¸€ç»„æ–°æ–‡ä»¶ï¼Œè¿™äº›&lt;strong&gt;åˆå¹¶è¿‡ç¨‹&lt;/strong&gt;ä¼šç»„ä»¶å°†æœ€è¿‘çš„&lt;strong&gt;key&lt;/strong&gt;æ›´æ–°æ“ä½œä¸å±‚çº§æœ€é«˜çš„æ–‡ä»¶é€šè¿‡æ‰¹é‡è¯»å†™çš„æ–¹å¼è¿›è¡Œï¼Œä¼˜ç‚¹åœ¨äºï¼Œè¿™ç§æ–¹å¼å¯ä»¥æœ€å¤§ç¨‹åº¦åœ°å‡å°‘æ˜‚è´µçš„ç£ç›˜å¯»é“æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ¸…å•åˆ—è¡¨manifestæ–‡ä»¶&quot;&gt;æ¸…å•/åˆ—è¡¨(Manifest)æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å•è¯&lt;code&gt;Manifest&lt;/code&gt;æœ¬æ„æ˜¯æŒ‡&lt;strong&gt;æ¸…å•ï¼Œæ–‡ä»¶åˆ—è¡¨&lt;/strong&gt;çš„æ„æ€ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯æ¯ä¸ªLevelä¸­åŒ…å«å“ªäº›æ’åºè¡¨æ–‡ä»¶æ¸…å•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Manifest&lt;/strong&gt;æ–‡ä»¶ä¼šåˆ—å‡ºå½“å‰LevelDBæ•°æ®åº“ä¸­æ¯ä¸ª&lt;strong&gt;Level&lt;/strong&gt;åŒ…å«å“ªäº›&lt;strong&gt;æ’åºè¡¨(Sorted Table)&lt;/strong&gt;ï¼Œä»¥åŠæ¯ä¸ª&lt;strong&gt;æ’åºè¡¨&lt;/strong&gt;æ–‡ä»¶åŒ…å«çš„Keyçš„èŒƒå›´ä»¥åŠå…¶ä»–é‡è¦çš„å…ƒæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åªè¦é‡æ–°æ‰“å¼€LevelDBæ•°æ®åº“ï¼Œå°±å›è‡ªåŠ¨é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„Manifestæ–‡ä»¶(æ–‡ä»¶ååç¼€ä½¿ç”¨æ–°çš„ç¼–å·)ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt;Manifest&lt;/strong&gt;ä¼šè¢«æ ¼å¼åŒ–ä¸ºlogæ–‡ä»¶ï¼ŒLevelDBåº•å±‚æ–‡ä»¶å‘ç”Ÿæ”¹å˜(æ·»åŠ /æ–°å»ºæ–‡ä»¶)æ—¶ä¼šè‡ªåŠ¨è¿½åŠ åˆ°è¯¥logä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å½“å‰currentæ–‡ä»¶&quot;&gt;å½“å‰(Current)æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å½“å‰(&lt;strong&gt;CURRENT&lt;/strong&gt;)æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ”¹æ–‡ä»¶ä¸­åªæœ‰ä¸€ä¸ªæ–‡ä»¶å(æœ€è¿‘ç”Ÿæˆçš„&lt;strong&gt;Manifest&lt;/strong&gt;çš„æ–‡ä»¶å)ã€‚&lt;/p&gt;
&lt;h3 id=&quot;info-logsæ–‡ä»¶&quot;&gt;Info Logsæ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;Informational messages are printed to files named LOG and LOG.old.&lt;/p&gt;
&lt;h3 id=&quot;å…¶ä»–æ–‡ä»¶&quot;&gt;å…¶ä»–æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒLevelDBä¹Ÿä¼šåˆ›å»ºä¸€äº›ç‰¹å®šçš„æ–‡ä»¶(ä¾‹å¦‚ï¼ŒLOCK, *.dbtmpç­‰)ã€‚&lt;/p&gt;
&lt;h3 id=&quot;level-0å±‚çº§&quot;&gt;Level 0å±‚çº§&lt;/h3&gt;
&lt;p&gt;å½“æ—¥å¿—(Log)æ–‡ä»¶å¤§å°å¢åŠ åˆ°ç‰¹å®šå€¼(é»˜è®¤ä¸º4MB)æ—¶ï¼ŒLevelDBä¼šåˆ›å»ºæ–°çš„MemTableå’Œæ—¥å¿—(Log)æ–‡ä»¶ï¼Œå¹¶ä¸”åç»­ç”¨æˆ·å†™å…¥çš„æ•°æ®åŠæ›´æ–°æ“ä½œéƒ½ä¼šç›´æ¥å†™åˆ°æ–°çš„MemTableå’ŒLogä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åå°ä¸»è¦å®Œæˆçš„å·¥ä½œï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å°†ä¹‹å‰å†…å­˜ä¸­çš„MemTableå†™å…¥åˆ°SSTableä¸­&lt;/li&gt;
&lt;li&gt;ä¸¢å¼ƒæ‰æ—§çš„MemTable&lt;/li&gt;
&lt;li&gt;åˆ é™¤æ—§çš„æ—¥å¿—(Log)æ–‡ä»¶å’ŒMemTable&lt;/li&gt;
&lt;li&gt;æ·»åŠ æ–°çš„SSTableåˆ°&lt;strong&gt;å¹´è½»(Level 0)å±‚çº§&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;åˆå¹¶åŸºæœ¬åŸç†&quot;&gt;åˆå¹¶åŸºæœ¬åŸç†&lt;/h3&gt;
&lt;p&gt;å½“&lt;strong&gt;Level L&lt;/strong&gt;å±‚çº§çš„å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼ŒLevelDBä¼šåœ¨åå°è¿›è¡Œå¤§åˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;å¤§åˆå¹¶ä¼šä»&lt;strong&gt;Level L&lt;/strong&gt;é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;ï¼Œå‡è®¾æ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;çš„keyèŒƒå›´ä¸º&lt;strong&gt;[keyMin, keyMax]&lt;/strong&gt;ï¼ŒLevelDBä¼šä»&lt;strong&gt;Level L+1&lt;/strong&gt;å±‚çº§é€‰æ‹©åœ¨æ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;çš„keyèŒƒå›´å†…çš„æ‰€æœ‰æ–‡ä»¶&lt;strong&gt;files{L+1}&lt;/strong&gt;ä¸æ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;è¿›è¡Œåˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœ&lt;strong&gt;Level L&lt;/strong&gt;å±‚çº§ä¸­æ–‡ä»¶&lt;strong&gt;file{L}&lt;/strong&gt;ä»…ä»…ä¸&lt;strong&gt;Level L+1&lt;/strong&gt;å±‚ä¸­æŸä¸ªæ–‡ä»¶çš„ä¸€éƒ¨åˆ†keyèŒƒå›´é‡å ï¼Œåˆ™éœ€è¦å°†&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§ä¸­çš„æ•´ä¸ªæ–‡ä»¶ä½œä¸ºåˆå¹¶çš„è¾“å…¥æ–‡ä»¶ä¹‹ä¸€è¿›è¡Œåˆå¹¶ï¼Œå¹¶åœ¨åˆå¹¶ä¹‹åä¸¢å¼ƒè¯¥æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt;Level 0&lt;/strong&gt;å±‚çº§æ˜¯ç‰¹æ®Šçš„ï¼ŒåŸå› åœ¨äºï¼Œ&lt;strong&gt;Level 0&lt;/strong&gt;å±‚çº§ä¸­çš„ä¸åŒæ–‡ä»¶çš„èŒƒå›´å¯èƒ½æ˜¯é‡å çš„ï¼Œè¿™ç§åœºæ™¯ä¸‹ï¼Œå¦‚æœ&lt;strong&gt;0&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶éœ€è¦åˆå¹¶æ—¶ï¼Œåˆ™éœ€è¦é€‰æ‹©å¤šä¸ªæ–‡ä»¶ï¼Œä»¥é¿å…å‡ºç°éƒ¨åˆ†æ–‡ä»¶é‡å çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¤§åˆå¹¶æ“ä½œä¼šå¯¹å‰é¢é€‰æ‹©çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œå¹¶ç”Ÿæˆä¸€ç³»åˆ—&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶ï¼Œå½“è¾“å‡ºçš„æ–‡ä»¶è¾¾åˆ°æŒ‡å®šå¤§å°(é»˜è®¤å¤§å°ä¸º2MB)æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°æ–°çš„&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶ä¸­ï¼›å¦å¤–ï¼Œå½“å½“å‰è¾“å‡ºæ–‡ä»¶çš„keyèŒƒå›´å¯ä»¥è¦†ç›–åˆ°&lt;strong&gt;L+2&lt;/strong&gt;å±‚çº§ä¸­10ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„æ–‡ä»¶ä¸­ï¼›æœ€åè¿™æ¡è§„åˆ™å¯ä»¥ç¡®ä¿ä»¥ååœ¨å‹ç¼©&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§çš„æ–‡ä»¶æ—¶ä¸ä¼šä»&lt;strong&gt;L+2&lt;/strong&gt;å±‚çº§ä¸­é€‰æ‹©è¿‡å¤šçš„æ–‡ä»¶ï¼Œé¿å…ä¸€æ¬¡å¤§åˆå¹¶çš„æ•°æ®é‡è¿‡å¤§ã€‚&lt;/p&gt;
&lt;p&gt;å¤§åˆå¹¶ç»“æŸåï¼Œæ—§çš„æ–‡ä»¶(&lt;strong&gt;æ’åºè¡¨SSTable&lt;/strong&gt;)ä¼šè¢«ä¸¢å¼ƒæ‰ï¼Œæ–°æ–‡ä»¶åˆ™ä¼šç»§ç»­å¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼ŒLevelDBè‡ªå·±æœ‰ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå³ä½¿åœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸å¯¹å¤–æä¾›æœåŠ¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹å®šç‰¹å®šå±‚çº§çš„å¤§åˆå¹¶è¿‡ç¨‹ä¼šåœ¨è¯¥å±‚çº§keyèŒƒå›´å†…è¿›è¡Œè½®è½¬ï¼Œæ›´ç›´ç™½ç‚¹è¯´ï¼Œå°±æ˜¯é’ˆå¯¹æ¯ä¸ªå±‚çº§ï¼Œä¼šè‡ªåŠ¨è®°å½•è¯¥å±‚çº§æœ€åä¸€æ¬¡å‹ç¼©æ—¶æœ€å¤§çš„keyå€¼ï¼Œä¸‹æ¬¡è¯¥å±‚çº§å‹ç¼©æ—¶ï¼Œä¼šé€‰æ‹©è¯¥keyä¹‹åçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„æ–‡ä»¶ï¼Œåˆ™è‡ªåŠ¨å›åˆ°è¯¥å±‚çº§çš„keyæœ€å°çš„æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå‹ç¼©åœ¨è¯¥å±‚çº§æ˜¯è½®è½¬çš„ï¼Œè€Œä¸æ˜¯æ€»æ˜¯é€‰ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåˆ¶å®škeyï¼Œå¤§åˆå¹¶æ—¶ä¼šåˆ é™¤è¦†ç›–çš„å€¼ï¼›å¦‚æœå½“å‰åˆå¹¶çš„å±‚çº§ä¸­ï¼Œè¯¥keyå­˜åœ¨åˆ é™¤æ ‡è®°ï¼Œå¦‚æœåœ¨æ›´é«˜çš„å±‚çº§ä¸­ä¸å­˜åœ¨è¯¥keyï¼Œåˆ™åŒæ—¶ä¼šåˆ é™¤è¯¥keyåŠè¯¥keyçš„åˆ é™¤æ ‡è®°ï¼Œç›¸å½“äºè¯¥keyä»æ•°æ®åº“ä¸­å½»åº•åˆ é™¤äº†ï¼ï¼ï¼&lt;/p&gt;
&lt;h3 id=&quot;åˆå¹¶è€—æ—¶åˆ†æ&quot;&gt;åˆå¹¶è€—æ—¶åˆ†æ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Level 0&lt;/strong&gt;å±‚çº§åˆå¹¶æ—¶ï¼Œæœ€å¤šè¯»å–è¯¥å±‚çº§æ‰€æœ‰æ–‡ä»¶(é»˜è®¤4ä¸ªï¼Œæ¯ä¸ª1MB)ï¼Œæœ€å¤šè¯»å–&lt;strong&gt;Level 1&lt;/strong&gt;å±‚çº§æ‰€æœ‰æ–‡ä»¶(é»˜è®¤10ä¸ªï¼Œæ¯ä¸ªå¤§å°çº¦1MB)ï¼Œåˆ™å¯¹äº&lt;strong&gt;Level 0&lt;/strong&gt;å±‚çº§åˆå¹¶æ¥è¯´ï¼Œæœ€å¤šè¯»å–14MBï¼Œå†™å…¥14MBã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ç‰¹æ®Šçš„&lt;strong&gt;Level 0&lt;/strong&gt;å±‚çº§å¤§åˆå¹¶ä¹‹å¤–ï¼Œå…¶ä½™çš„å¤§åˆå¹¶ä¼šä»&lt;strong&gt;L&lt;/strong&gt;å±‚çº§é€‰æ‹©ä¸€ä¸ª2MBçš„æ–‡ä»¶ï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä»&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§ä¸­é€‰æ‹©12ä¸ªæ–‡ä»¶(é€‰æ‹©10ä¸ªæ–‡ä»¶æ˜¯å› ä¸º&lt;strong&gt;L+1&lt;/strong&gt;å±‚çº§æ–‡ä»¶æ€»å¤§å°çº¦æ˜¯&lt;strong&gt;L&lt;/strong&gt;å±‚çš„10å€ï¼Œå¦å¤–ä¸¤ä¸ªæ–‡ä»¶åˆ™æ˜¯è¾¹ç•ŒèŒƒå›´ï¼Œå› ä¸ºå±‚çº§&lt;strong&gt;L&lt;/strong&gt;çš„æ–‡ä»¶ä¸­keyèŒƒå›´é€šå¸¸ä¸ä¼šä¸å±‚çº§&lt;strong&gt;L+1&lt;/strong&gt;çš„å¯¹é½)ï¼Œæ€»çš„æ¥è¯´ï¼Œè¿™äº›å¤§åˆå¹¶æœ€å¤šè¯»å–26MBï¼Œå†™å…¥26MBã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ç£ç›˜IOé€Ÿç‡ä¸º100MB(ç°ä»£ç£ç›˜é©±åŠ¨å™¨çš„å¤§è‡´èŒƒå›´)ï¼Œæœ€å·®çš„åœºæ™¯ä¸‹ï¼Œä¸€æ¬¡å¤§åˆå¹¶éœ€è¦çº¦0.5ç§’ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬å°†åå°ç£ç›˜å†™å…¥é€Ÿåº¦é™åˆ¶åœ¨è¾ƒå°çš„èŒƒå›´å†…ï¼Œæ¯”å¦‚10MB/sï¼Œåˆ™å¤§åˆå¹¶å¤§çº¦éœ€è¦5ç§’ï¼Œå‡è®¾ç”¨æˆ·ä»¥10MB/sçš„é€Ÿåº¦å†™å…¥ï¼Œåˆ™æˆ‘ä»¬å¯èƒ½ä¼šå»ºç«‹å¤§é‡çš„&lt;strong&gt;Level 0&lt;/strong&gt;çº§æ–‡ä»¶(çº¦50ä¸ªæ¥å®¹çº³5*10MBæ–‡ä»¶)ï¼Œç”±äºæ¯æ¬¡è¯»å–æ—¶éœ€è¦åˆå¹¶æ›´å¤šçš„æ–‡ä»¶ï¼Œåˆ™æ•°æ®è¯»å–æˆæœ¬ä¼šå¤§å¤§å¢åŠ ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆä¸€ï¼šä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨&lt;strong&gt;Level 0&lt;/strong&gt;çº§æ–‡ä»¶æ•°é‡è¿‡å¤šæ—¶ï¼Œè€ƒè™‘å¢åŠ &lt;strong&gt;Log&lt;/strong&gt;æ–‡ä»¶åˆ‡æ¢é˜ˆå€¼ï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹åœ¨äºï¼Œæ—¥å¿—(Log)æ–‡ä»¶é˜ˆå€¼è¶Šå¤§ï¼Œä¿å­˜ç›¸åº”MemTableæ‰€éœ€çš„å†…å­˜å°±è¶Šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆäºŒï¼šå½“&lt;strong&gt;Level 0&lt;/strong&gt;çº§æ–‡ä»¶æ•°é‡å¢åŠ æ—¶ï¼Œéœ€è¦äººä¸ºåœ°é™ä½å†™å…¥é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆä¸‰ï¼šè‡´åŠ›äºé™ä½éå¸¸å¹¿æ³›çš„åˆå¹¶çš„æˆæœ¬ï¼Œå°†å¤§å¤šæ•°&lt;strong&gt;Level 0&lt;/strong&gt;çº§æ–‡ä»¶çš„æ•°æ®å—ä»¥ä¸å‹ç¼©çš„æ–¹å¼æ”¾åœ¨å†…å­˜ä¸­å³å¯ï¼Œåªéœ€è¦è€ƒè™‘åˆå¹¶çš„è¿­ä»£å¤æ‚åº¦ä¸ºO(N)å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œæ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆä¸‰åˆèµ·æ¥åº”è¯¥å°±å¯ä»¥æ»¡è¶³å¤§å¤šæ•°åœºæ™¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;LevelDBç”Ÿæˆçš„æ–‡ä»¶å¤§å°æ˜¯å¯é…ç½®çš„ï¼Œé…ç½®æ›´å¤§çš„ç”Ÿæˆæ–‡ä»¶å¤§å°ï¼Œå¯ä»¥å‡å°‘æ€»çš„æ–‡ä»¶æ•°é‡ï¼Œä¸è¿‡ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´è¾ƒå¤šçš„çªå‘æ€§å¤§åˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;2011å¹´2æœˆ4å·ï¼Œåœ¨ext3æ–‡ä»¶ç³»ç»Ÿä¸Šè¿›è¡Œçš„ä¸€ä¸ªå®éªŒç»“æœæ˜¾ç¤ºï¼Œå•ä¸ªæ–‡ä»¶ç›®å½•ä¸‹ä¸åŒæ–‡ä»¶æ•°é‡æ—¶ï¼Œæ‰§è¡Œ100kæ¬¡æ–‡ä»¶æ‰“å¼€å¹³å‡è€—è´¹æ—¶é—´ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;ç›®å½•ä¸‹æ–‡ä»¶æ•°é‡&lt;/th&gt;
&lt;th&gt;æ‰“å¼€å•ä¸ªæ–‡ä»¶å¹³å‡è€—æ—¶æ—¶é—´&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1000&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;10000&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;100000&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;ä»ä¸Šé¢çš„ç»“æœæ¥çœ‹ï¼Œå•ä¸ªç›®å½•ä¸‹ï¼Œæ–‡ä»¶æ•°é‡å°äº10000æ—¶ï¼Œæ‰“å¼€æ–‡ä»¶å¹³å‡è€—æ—¶å·®ä¸å¤šçš„ï¼Œå°½é‡æ§åˆ¶å•ä¸ªç›®å½•ä¸‹æ–‡ä»¶æ•°é‡ä¸è¦è¶…è¿‡1wã€‚&lt;/p&gt;
&lt;h3 id=&quot;leveldbæ•°æ®åº“é‡å¯æµç¨‹&quot;&gt;LevelDBæ•°æ®åº“é‡å¯æµç¨‹&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;è¯»å–&lt;strong&gt;CURRENT&lt;/strong&gt;æ–‡ä»¶ä¸­å­˜å‚¨çš„æœ€è¿‘æäº¤çš„&lt;strong&gt;MANIFEST&lt;/strong&gt;æ–‡ä»¶åç§°&lt;/li&gt;
&lt;li&gt;è¯»å–&lt;strong&gt;MANIFEST&lt;/strong&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¸…ç†è¿‡æœŸæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¿™ä¸€æ­¥å¯ä»¥æ‰“å¼€æ‰€æœ‰SSTableï¼Œä¸è¿‡ï¼Œæœ€å¥½ä½¿ç”¨æ‡’åŠ è½½ï¼Œé¿å…å†…å­˜å ç”¨è¿‡é«˜&lt;/li&gt;
&lt;li&gt;å°†æ—¥å¿—æ–‡ä»¶è½¬æ¢ä¸º&lt;strong&gt;Level 0&lt;/strong&gt;çº§çš„SSTable&lt;/li&gt;
&lt;li&gt;å¼€å§‹æ–°çš„å†™å…¥è¯·æ±‚é‡å®šå‘åˆ°æ–°çš„æ—¥å¿—æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;æ–‡ä»¶åƒåœ¾å›æ”¶&quot;&gt;æ–‡ä»¶åƒåœ¾å›æ”¶&lt;/h3&gt;
&lt;p&gt;åœ¨æ¯æ¬¡æ‰§è¡Œå®Œå¤§åˆå¹¶ä»¥åŠæ•°æ®åº“æ¢å¤åï¼Œä¼šè°ƒç”¨&lt;code&gt;DeleteObsoleteFiles()&lt;/code&gt;æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šæ£€ç´¢æ•°æ®åº“ï¼Œè·å–æ•°æ®åº“ä¸­ä¸­æ‰€æœ‰çš„æ–‡ä»¶åç§°ï¼Œè‡ªåŠ¨åˆ é™¤æ‰€æœ‰ä¸æ˜¯CURRENTæ–‡ä»¶ä¸­çš„æ—¥å¿—(Log)æ–‡ä»¶ï¼Œå¦å¤–ï¼Œè¯¥æ–¹æ³•ä¹Ÿä¼šåˆ é™¤æ‰€æœ‰æœªè¢«æŸä¸ªå±‚çº§å¼•ç”¨çš„ï¼Œä¸”ä¸æ˜¯æŸä¸ªå¤§åˆå¹¶å¾…è¾“å‡ºçš„æ—¥å¿—æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;leveldbæ—¥å¿—logæ ¼å¼&quot;&gt;LevelDBæ—¥å¿—(Log)æ ¼å¼&lt;/h2&gt;
&lt;p&gt;LevelDBæ—¥å¿—æ–‡ä»¶æ˜¯ç”±ä¸€ç³»åˆ—32KBæ–‡ä»¶å—(&lt;strong&gt;Block&lt;/strong&gt;)æ„æˆçš„ï¼Œå”¯ä¸€ä¾‹å¤–çš„æ˜¯æ—¥å¿—æ–‡ä»¶ä¸­æœ€åä¸€ä¸ªBlockå¤§å°å¯èƒ½å°äº32KBã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªæ–‡ä»¶å—(&lt;strong&gt;Block&lt;/strong&gt;)æ˜¯ç”±ä¸€ç³»åˆ—è®°å½•(&lt;strong&gt;Record&lt;/strong&gt;)ç»„æˆçš„ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;block := record* trailer? // æ¯ä¸ªBlockç”±ä¸€ç³»åˆ—Recordç»„æˆ
record :=
        checksum: uint32 // typeå’Œdata[]çš„crc32æ ¡éªŒç ï¼›å°ç«¯æ¨¡å¼å­˜å‚¨
    length: uint16 // å°ç«¯æ¨¡å¼å­˜å‚¨
    type: uint8 // Recordçš„ç±»å‹ï¼ŒFULL, FIRST, MIDDLE, LAST
    data: uint8[length] 
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœå½“å‰&lt;strong&gt;Block&lt;/strong&gt;ä»…å‰©ä½™6å­—èŠ‚ç©ºé—´ï¼Œåˆ™ä¸ä¼šå­˜å‚¨æ–°çš„Recordï¼Œå› ä¸ºæ¯ä¸ªRecordè‡³å°‘éœ€è¦6å­—èŠ‚å­˜å‚¨æ ¡éªŒåŠé•¿åº¦ä¿¡æ¯ï¼Œå¯¹äºè¿™äº›å‰©ä½™çš„å­—èŠ‚ï¼Œä¼šä½¿ç”¨å…¨é›¶è¿›è¡Œå¡«å……ï¼Œä½œä¸ºå½“å‰&lt;strong&gt;Block&lt;/strong&gt;çš„å°¾å·´ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœå½“å‰&lt;strong&gt;Block&lt;/strong&gt;å‰©ä½™7å­—èŠ‚ï¼Œä¸”ç”¨æˆ·è¿½åŠ äº†ä¸€ä¸ªæ•°æ®(&lt;code&gt;data&lt;/code&gt;)é•¿åº¦éé›¶çš„&lt;strong&gt;Record&lt;/strong&gt;ï¼Œè¯¥&lt;strong&gt;Block&lt;/strong&gt;ä¼šæ·»åŠ ç±»å‹ä¸º&lt;strong&gt;FIRST&lt;/strong&gt;çš„&lt;strong&gt;Record&lt;/strong&gt;æ¥å¡«å……å‰©ä½™çš„7ä¸ªå­—èŠ‚ï¼Œå¹¶åœ¨åç»­çš„&lt;strong&gt;Block&lt;/strong&gt;ä¸­å†™å…¥ç”¨æˆ·æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&quot;recordæ ¼å¼è¯¦è§£&quot;&gt;Recordæ ¼å¼è¯¦è§£&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Record&lt;/strong&gt;ç›®å‰åªæœ‰å››ç§ç±»å‹ï¼Œåˆ†åˆ«ç”¨æ•°å­—æ ‡è¯†ï¼Œåç»­ä¼šæ–°å¢å…¶ä»–ç±»å‹ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ç‰¹å®šæ•°å­—æ ‡è¯†éœ€è¦è·³è¿‡çš„&lt;strong&gt;Record&lt;/strong&gt;æ•°æ®ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;FULL == 1
FIRST == 2
MIDDLE == 3
LAST == 4
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;FULL&lt;/strong&gt;ç±»å‹&lt;strong&gt;Record&lt;/strong&gt;æ ‡è¯†è¯¥è®°å½•åŒ…å«ç”¨æˆ·çš„æ•´ä¸ªæ•°æ®è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·è®°å½•åœ¨&lt;strong&gt;Block&lt;/strong&gt;è¾¹ç•Œå¤„å­˜å‚¨æ—¶ï¼Œä¸ºäº†æ˜ç¡®è®°å½•æ˜¯å¦è¢«åˆ†å‰²ï¼Œä½¿ç”¨&lt;strong&gt;FIRST&lt;/strong&gt;ï¼Œ&lt;strong&gt;MIDDLE&lt;/strong&gt;ï¼Œ&lt;strong&gt;LAST&lt;/strong&gt;è¿›è¡Œæ ‡è¯†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;FIRST&lt;/strong&gt;ç±»å‹&lt;strong&gt;Record&lt;/strong&gt;ç”¨æ¥æ ‡è¯†ç”¨æˆ·æ•°æ®è®°å½•è¢«åˆ‡åˆ†çš„ç¬¬ä¸€ä¸ª&lt;strong&gt;Record&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LAST&lt;/strong&gt;ç±»å‹&lt;strong&gt;Record&lt;/strong&gt;ç”¨æ¥æ ‡è¯†ç”¨æˆ·æ•°æ®è®°å½•è¢«åˆ‡åˆ†çš„æœ€åä¸€ä¸ª&lt;strong&gt;Record&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MIDDLE&lt;/strong&gt;åˆ™ç”¨æ¥æ ‡è¯†ç”¨æˆ·æ•°æ®è®°å½•è¢«åˆ‡åˆ†çš„ä¸­é—´&lt;strong&gt;Record&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾ç”¨æˆ·å†™å…¥ä¸‰æ¡æ•°æ®è®°å½•ï¼Œé•¿åº¦åˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Record 1 Length&lt;/th&gt;
&lt;th&gt;Record 2 Length&lt;/th&gt;
&lt;th&gt;Record 3 Length&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1000&lt;/td&gt;
&lt;td&gt;97270&lt;/td&gt;
&lt;td&gt;8000&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;strong&gt;Record 1&lt;/strong&gt;å°†ä¼šä»¥&lt;strong&gt;FULL&lt;/strong&gt;ç±»å‹å­˜å‚¨åœ¨ç¬¬ä¸€ä¸ª&lt;strong&gt;Block&lt;/strong&gt;ä¸­ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Record 2&lt;/strong&gt;çš„ç¬¬ä¸€éƒ¨åˆ†æ•°æ®é•¿åº¦ä¸º31754å­—èŠ‚ä»¥&lt;strong&gt;FIRST&lt;/strong&gt;ç±»å‹å­˜å‚¨åœ¨ç¬¬ä¸€ä¸ª&lt;strong&gt;Block&lt;/strong&gt;ä¸­ï¼Œç¬¬äºŒéƒ¨åˆ†æ•°æ®ä»¥é•¿åº¦ä¸º32761å­—èŠ‚çš„&lt;strong&gt;MIDDLE&lt;/strong&gt;ç±»å‹å­˜å‚¨åœ¨ç¬¬äºŒä¸ª&lt;strong&gt;Block&lt;/strong&gt;ä¸­ï¼Œæœ€æ˜“ä¸€ä¸ªé•¿åº¦ä¸º32761å­—èŠ‚æ•°æ®ä»¥&lt;strong&gt;LAST&lt;/strong&gt;ç±»å‹å­˜å‚¨åœ¨ç¬¬ä¸‰ä¸ª&lt;strong&gt;Block&lt;/strong&gt;ä¸­ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ª&lt;strong&gt;Block&lt;/strong&gt;ä¸­å‰©ä½™çš„7ä¸ªå­—èŠ‚ä»¥å…¨é›¶æ–¹å¼è¿›è¡Œå¡«å……ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Record 3&lt;/strong&gt;åˆ™å°†ä»¥&lt;strong&gt;Full&lt;/strong&gt;ç±»å‹å­˜å‚¨åœ¨ç¬¬ä¸‰ä¸ª&lt;strong&gt;Block&lt;/strong&gt;çš„å¼€å¤´ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232221243-837566907.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;blockæ ¼å¼è¯¦è§£&quot;&gt;Blockæ ¼å¼è¯¦è§£&lt;/h3&gt;
&lt;p&gt;ä¸Šè¿°å¯ä»¥è¯´æ˜¯æŠŠ&lt;strong&gt;Record&lt;/strong&gt;æ ¼å¼çš„è€åº•æ€äº†ä¸ªåº•æ‰ï¼Œä¸‹é¢ç»™å‡º&lt;strong&gt;Block&lt;/strong&gt;çš„æ•°æ®æ ¼å¼åˆ°åº•æ˜¯å•¥æ ·ï¼Œå°ä¼™ä¼´ä»¬ä¸å¥½å¥‡å˜›ï¼Ÿèµ¶å¿«ä¸€èµ·ç…ä¸€çœ¼å§&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232315738-1784605042.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šå›¾å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°&lt;strong&gt;Block&lt;/strong&gt;ä¸&lt;strong&gt;Record&lt;/strong&gt;ä¹‹é—´çš„å…³ç³»åˆ°åº•æ˜¯å•¥æ ·ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;LevelDBçš„æ—¥å¿—æ–‡ä»¶å°†ç”¨æˆ·æ•°æ®åˆ‡åˆ†ç§°è¿ç»­çš„å¤§å°ä¸º32KBçš„Blockå—ï¼›&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªBlockç”±è¿ç»­çš„Log Recordæ„æˆï¼›&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªLog Recordç”±CRC32ï¼ŒLengthï¼ŒTypeï¼ŒContentæ€»å…±4éƒ¨åˆ†æ„æˆï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;levelæ—¥å¿—æ ¼å¼ä¼˜ç¼ºç‚¹&quot;&gt;Levelæ—¥å¿—æ ¼å¼ä¼˜ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;äººé—´äº‹ï¼Œåæœ‰å…«ä¹ä¸å¦‚æ„ï¼›äººé—´æƒ…ï¼Œéš¾æœ‰ç™½å¤´ä¸ç›¸ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;LevelDBè¿™ç§æ—¥å¿—æ ¼å¼ä¹Ÿä¸å¯èƒ½å®Œç¾å’¯ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥æ°æ‰¯æ°æ‰¯å…¶ä¼˜ç¼ºç‚¹å§~&lt;/p&gt;
&lt;h4 id=&quot;leveldbæ—¥å¿—æ ¼å¼ä¼˜ç‚¹&quot;&gt;LevelDBæ—¥å¿—æ ¼å¼ä¼˜ç‚¹&lt;/h4&gt;
&lt;ol&gt;&lt;li&gt;åœ¨æ—¥å¿—æ•°æ®é‡æ–°åŒæ­¥æ—¶ï¼Œåªéœ€è¦è½¬åˆ°ä¸‹ä¸€ä¸ª&lt;strong&gt;Block&lt;/strong&gt;ç»§ç»­æ‰«æå³å¯ï¼Œå¦‚æœ&lt;strong&gt;Block&lt;/strong&gt;å­˜åœ¨æœ‰æŸåï¼Œç›´æ¥è·³åˆ°ä¸‹ä¸ª&lt;strong&gt;Block&lt;/strong&gt;å¤„ç†å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºè®°å½•åµŒå…¥åˆ°å¦ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­æ—¶ï¼Œä¸éœ€è¦ç‰¹æ®Šå¤„ç†å³å¯ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºéœ€è¦åœ¨&lt;strong&gt;Block&lt;/strong&gt;è¾¹ç¼˜å¤„è¿›è¡Œæ‹†åˆ†çš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼ŒMapReduceï¼‰ï¼Œå¤„ç†æ—¶å¾ˆç®€å•ï¼šæ‰¾åˆ°ä¸‹ä¸ª&lt;strong&gt;Block&lt;/strong&gt;è¾¹ç•Œå¹¶è·³è¿‡é&lt;strong&gt;FIRST/FULL&lt;/strong&gt;ç±»å‹è®°å½•ï¼Œç›´åˆ°æ‰¾åˆ°&lt;strong&gt;FULL&lt;/strong&gt;æˆ–&lt;strong&gt;FIRST&lt;/strong&gt;ç±»å‹è®°å½•ä¸ºæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºè¾ƒå¤§çš„è®°å½•ï¼Œä¸éœ€è¦é¢å¤–çš„ç¼“å†²åŒºå³å¯å¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;h4 id=&quot;leveldbæ—¥å¿—æ ¼å¼ç¼ºç‚¹&quot;&gt;LevelDBæ—¥å¿—æ ¼å¼ç¼ºç‚¹&lt;/h4&gt;
&lt;ol&gt;&lt;li&gt;å¯¹äºå°çš„&lt;strong&gt;Record&lt;/strong&gt;æ•°æ®æ²¡æœ‰è¿›è¡Œæ‰“åŒ…å¤„ç†ï¼Œä¸è¿‡ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æ·»åŠ &lt;strong&gt;Record&lt;/strong&gt;ç±»å‹è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®æ²¡æœ‰è¿›è¡Œå‹ç¼©ï¼Œä¸è¿‡ï¼Œè¿™ä¸ªé—®é¢˜åŒæ ·å¯ä»¥é€šè¿‡æ·»åŠ &lt;strong&gt;Record&lt;/strong&gt;ç±»å‹è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;é¢(âŠ™oâŠ™)â€¦çœ‹èµ·æ¥ï¼Œå¥½åƒæ²¡æœ‰å•¥ç¼ºç‚¹ï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~&lt;/p&gt;
&lt;p&gt;ä¸ªäººæ„Ÿè§‰å“ˆï¼Œå¯¹äºæ—¥å¿—æ¥è¯´ï¼ŒLevelDBçš„è¿™ç§æ ¼å¼é—®é¢˜ä¸å¤§ï¼Œæ¯•ç«Ÿï¼Œæ—¥å¿—(ä¾‹å¦‚ï¼ŒWAL)ç­‰é€šå¸¸å­˜åœ¨ç£ç›˜ä¸Šï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šåšå®šæœŸæ¸…ç†ï¼Œå¯¹ç³»ç»Ÿæ¥è¯´ï¼Œå‹åŠ›ä¸ä¼šå¤ªå¤§ï¼Œä¹Ÿè¿˜è¡Œï¼Œé—®é¢˜ä¸å¤§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;leveldb-table-format&quot;&gt;LevelDB Table Format&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;SSTable&lt;/strong&gt;å…¨ç§°&lt;code&gt;Sorted String Table&lt;/code&gt;ï¼Œæ˜¯BigTableï¼ŒLevelDBåŠå…¶è¡ç”ŸKVå­˜å‚¨ç³»ç»Ÿçš„åº•å±‚æ•°æ®å­˜å‚¨æ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SSTable&lt;/strong&gt;å­˜å‚¨ä¸€ç³»åˆ—æœ‰åºçš„Key/Valueé”®å€¼å¯¹ï¼ŒKey/Valueæ˜¯ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚Key/Valueé”®å€¼å¯¹æ ¹æ®ç»™å®šçš„æ¯”è¾ƒè§„åˆ™å†™å…¥æ–‡ä»¶ï¼Œæ–‡ä»¶å†…éƒ¨ç”±ä¸€ç³»åˆ—&lt;strong&gt;DataBlock&lt;/strong&gt;æ„æˆï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ª&lt;strong&gt;DataBlock&lt;/strong&gt;å¤§å°ä¸º4KBï¼Œé€šå¸¸ä¼šé…ç½®ä¸º64KBï¼ŒåŒæ—¶ï¼ŒSSTableå­˜å‚¨ä¼šå¿…è¦çš„ç´¢å¼•ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªSSTableçš„æ ¼å¼å¤§æ¦‚æ˜¯ä¸‹é¢ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;&amp;lt;beginning_of_file&amp;gt;
[data block 1]
[data block 1]
... ...
[data block N]
[meta block 1]
... ...
[meta block K] ===&amp;gt; å…ƒæ•°æ®å—
[metaindex block] ===&amp;gt; å…ƒæ•°æ®ç´¢å¼•å—
[index block] ==&amp;gt; ç´¢å¼•å—
[Footer] ===&amp;gt; (å›ºå®šå¤§å°ï¼Œèµ·å§‹ä½ç½®start_offset = filesize - sizeof(Footer))
&amp;lt;end_of_file&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;SSTable&lt;/strong&gt;æ–‡ä»¶ä¸­åŒ…å«æ–‡ä»¶å†…éƒ¨æŒ‡é’ˆï¼Œæ¯ä¸ªæ–‡ä»¶å†…éƒ¨æŒ‡é’ˆåœ¨LevelDBæºç ä¸­ç§°ä¸º&lt;strong&gt;BlockHandle&lt;/strong&gt;ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;offset: varint64
size: varint64 # æ³¨æ„ï¼Œvarint64æ˜¯å¯å˜é•¿64ä½æ•´æ•°ï¼Œè¿™é‡Œï¼Œæš‚æ—¶ä¸è¯¦ç»†æè¿°è¯¥ç±»å‹æ•°æ®çš„å®ç°æ–¹å¼ï¼Œåç»­å†è¯´
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;SSTable&lt;/strong&gt;ä¸­çš„key/valueé”®å€¼å¯¹åœ¨åº•å±‚æ–‡ä»¶ä¸­ä»¥æœ‰åºçš„æ–¹å¼å­˜å‚¨åœ¨ä¸€ç³»åˆ—DataBlockä¸­ï¼Œè¿™äº›DataBlockåœ¨æ–‡ä»¶å¼€å¤´å¤„é¡ºåºå­˜å‚¨ï¼Œæ¯ä¸ªæ•°æ®å—çš„å®ç°æ ¼å¼å¯¹åº”LevelDBæºç ä¸­çš„&lt;code&gt;block_builder.cc&lt;/code&gt;æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®å—å¯ä»¥ä»¥å‹ç¼©æ–¹å¼å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DataBlock&lt;/strong&gt;åé¢å­˜å‚¨äº†ä¸€ç³»åˆ—å…ƒæ•°æ®å—(&lt;strong&gt;MetaBlock&lt;/strong&gt;)ï¼Œå…ƒæ•°æ®å—æ ¼å¼åŒ–æ–¹å¼ä¸&lt;strong&gt;DataBlock&lt;/strong&gt;ä¸€è‡´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MetaIndex&lt;/strong&gt;ç´¢å¼•å—(MetaBlockIndex)ï¼Œè¯¥ç´¢å¼•å—ä¸­æ¯é¡¹å¯¹åº”ä¸€ä¸ªå…ƒæ•°æ®å—çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…ƒæ•°æ®å—åç§°åŠå…ƒæ•°æ®å—åœ¨æ–‡ä»¶ä¸­çš„å­˜å‚¨ä½ç½®ä¿¡æ¯(å³å‰é¢æåˆ°çš„&lt;strong&gt;BlockHandle&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DataIndex&lt;/strong&gt;ç´¢å¼•å—(DataBlockIndex)ï¼Œè¯¥ç´¢å¼•å—ä¸­æ¯é¡¹(&lt;strong&gt;Entry&lt;/strong&gt;)å¯¹åº”ä¸€ä¸ªæ•°æ®å—ä¿¡æ¯ï¼Œæ¯é¡¹ä¿¡æ¯ä¸­åŒ…å«ä¸€ä¸ªå¤§äºç­‰äº&lt;strong&gt;DataBlock&lt;/strong&gt;ä¸­æœ€å¤§çš„Keyä¸”å°äºåç»­&lt;strong&gt;DataBlock&lt;/strong&gt;ä¸­ç¬¬ä¸€ä¸ªKeyçš„å­—ç¬¦ä¸²ä»¥åŠè¯¥&lt;strong&gt;DataBlock&lt;/strong&gt;çš„&lt;strong&gt;BlockHandle&lt;/strong&gt;ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ¯ä¸ª&lt;strong&gt;SSTable&lt;/strong&gt;æ–‡ä»¶çš„å°¾éƒ¨éƒ½æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„&lt;strong&gt;Footer&lt;/strong&gt;ï¼Œè¯¥&lt;strong&gt;Footer&lt;/strong&gt;åŒ…å«&lt;strong&gt;MetaBlockIndex&lt;/strong&gt;åŠ&lt;strong&gt;DataBlockIndex&lt;/strong&gt;çš„&lt;strong&gt;BlockHandle&lt;/strong&gt;ä¿¡æ¯ä»¥åŠå°¾éƒ¨é­”æ•°ï¼Œä¸­é—´ç©ºä½™å­—èŠ‚ä½¿ç”¨å…¨é›¶å­—èŠ‚è¿›è¡Œå¡«å……&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Footer&lt;/strong&gt;çš„æ ¼å¼å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;metaindex_handle: char[p]; // MetaDataIndexçš„BlockHanldeä¿¡æ¯
index_handle: char[q]; // DataBlockIndexçš„BlockHandleä¿¡æ¯
padding: char[40-q-p]; // å…¨é›¶å­—èŠ‚å¡«å……
                                           // (40==2*BlockHandle::kMaxEncodedLength)
magic: fixed64; // == 0xdb4775248b80fb57 (little-endian)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼šmetaindex_handleå’Œindex_handleæœ€å¤§å ç”¨ç©ºé—´ä¸º40å­—èŠ‚ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯varint64æœ€å¤§å ç”¨å­—èŠ‚å¯¼è‡´ï¼Œåç»­ï¼ŒæŠ½æ—¶é—´å°†varint64æ—¶å†ç»™å¤§å®¶å¥½å¥½æ°æ‰¯æ°æ‰¯~&lt;/p&gt;
&lt;h3 id=&quot;sstableæ ¼å¼å›¾æ–‡è¯¦è§£&quot;&gt;SSTableæ ¼å¼å›¾æ–‡è¯¦è§£&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢å…¨æ˜¯æ–‡å­—æè¿°ï¼Œæœ‰ç‚¹ä¸æ˜¯ç‰¹åˆ«å¥½æ‡‚ï¼Œè¿™é‡Œå‘¢ï¼Œç»™å¤§å®¶çœ‹ä¸‹æˆ‘ç”»çš„ä¸€å¼ å›¾ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸çš„æ¸…æ™°æ˜äº†~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232344696-1398703625.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªSSTableæ–‡ä»¶åŒ…å«å¤šä¸ªDataBlockï¼Œå¤šä¸ªMetaBlockï¼Œä¸€ä¸ªMetaBlockIndexï¼Œä¸€ä¸ªDataBlockIndexï¼ŒFooterã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Footerè¯¦è§£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;Footeré•¿åº¦å›ºå®šï¼Œ48ä¸ªå­—èŠ‚ï¼Œä½äºSSTableå°¾éƒ¨ï¼›&lt;/p&gt;
&lt;p&gt;MetaBlockIndexçš„OffSetå’ŒSizeåŠDataBlockIndexçš„OffSetå’ŒSizeåˆ†åˆ«ç»„æˆBlockHandleç±»å‹ï¼Œç”¨äºåœ¨æ–‡ä»¶ä¸­å¯»å€MetaBlockIndexä¸DataBlockIndexï¼Œä¸ºäº†èŠ‚çœç£ç›˜ç©ºé—´ï¼Œä½¿ç”¨varint64ç¼–ç ï¼ŒOffSetä¸Sizeåˆ†åˆ«æœ€å°‘å ç”¨1ä¸ªå­—èŠ‚ï¼Œæœ€å¤šå ç”¨10ä¸ªå­—èŠ‚ï¼Œä¸¤ä¸ªBlockHandleå ç”¨çš„å­—èŠ‚æ•°é‡å°‘äº40æ—¶ä½¿ç”¨å…¨é›¶å­—èŠ‚è¿›è¡Œå¡«å……ï¼Œæœ€å8ä¸ªå­—èŠ‚æ”¾ç½®SSTableé­”æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒDataBlockIndex.offset==64, DataBlockIndex.size=216ï¼Œè¡¨ç¤ºDataBlockIndexä½äºSSTableçš„ç¬¬64å­—èŠ‚åˆ°ç¬¬280å­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DataBlockè¯¦è§£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªDataBlocké»˜è®¤é…ç½®4KBå¤§å°ï¼Œé€šå¸¸æ¨èé…ç½®64KBå¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªDataBlockç”±å¤šä¸ªRestartGroupï¼ŒRestartOffSeté›†åˆåŠRestartOffSetæ€»æ•°ï¼ŒTypeï¼ŒCRCæ„æˆã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªRestartGroupç”±Kä¸ªRestartEntryç»„æˆï¼ŒKå¯ä»¥é€šè¿‡optionsé…ç½®ï¼Œé»˜è®¤å€¼ä¸º16ï¼Œæ¯16ä¸ªKey/Valueé”®å€¼å¯¹æ„æˆä¸€ä¸ªRestartGroupï¼›&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªRestartEntryç”±å…±äº«å­—èŠ‚æ•°ï¼Œéå…±äº«å­—èŠ‚æ•°ï¼ŒValueå­—èŠ‚æ•°ï¼ŒKeyéå…±äº«å­—èŠ‚æ•°ç»„ï¼ŒValueå­—èŠ‚æ•°ç»„æ„æˆï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DataBlockIndexè¯¦è§£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;DataBlockIndexåŒ…å«DataBlockç´¢å¼•ä¿¡æ¯ï¼Œç”¨äºå¿«é€Ÿå®šä½åˆ°ç»™å®šKeyæ‰€åœ¨çš„DataBlockï¼›&lt;/p&gt;
&lt;p&gt;DataBlockIndexåŒ…å«Key/Valueï¼ŒTypeï¼ŒCRCæ ¡éªŒä¸‰éƒ¨åˆ†ï¼ŒTypeæ ‡è¯†æ˜¯å¦ä½¿ç”¨å‹ç¼©ç®—æ³•ï¼ŒCRCæ˜¯Key/ValueåŠTypeçš„æ ¡éªŒä¿¡æ¯ï¼›Keyçš„å–å€¼æ˜¯å¤§äºç­‰äºå…¶ç´¢å¼•DataBlockçš„æœ€å¤§Keyä¸”å°äºä¸‹ä¸€ä¸ªDataBlockçš„æœ€å°Keyï¼ŒValueæ˜¯BlockHandleç±»å‹ï¼Œç”±å˜é•¿çš„OffSetå’ŒSizeç»„æˆã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸¤ä¸ªæœ‰æ„æ€çš„é—®é¢˜&quot;&gt;ä¸¤ä¸ªæœ‰æ„æ€çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆDataBlockIndexä¸­Keyä¸é‡‡ç”¨å…¶ç´¢å¼•çš„DataBlockçš„æœ€å¤§Keyï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå‡è®¾è¯¥Keyå…¶ç´¢å¼•çš„DataBlockçš„æœ€å¤§Keyæ˜¯&quot;acknowledge&quot;ï¼Œä¸‹ä¸€ä¸ªblockæœ€å°çš„keyä¸º&quot;apple&quot;ï¼Œå¦‚æœDataBlockIndexçš„keyé‡‡ç”¨å…¶ç´¢å¼•blockçš„æœ€å¤§keyï¼Œå ç”¨é•¿åº¦ä¸ºlen(&quot;acknowledge&quot;)ï¼›é‡‡ç”¨åä¸€ç§æ–¹å¼ï¼Œkeyå€¼å¯ä»¥ä¸º&quot;ad&quot;ï¼ˆ&quot;acknowledge&quot; &amp;lt; &quot;ad&quot; &amp;lt; &quot;apple&quot;ï¼‰ï¼Œé•¿åº¦ä»…ä¸º2ï¼Œä¸”æ£€ç´¢æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆBlockHandleçš„offsetå’Œsizeçš„å•ä½æ˜¯å­—èŠ‚æ•°è€Œä¸æ˜¯DataBlockï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;SSTableä¸­çš„DataBlockå¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œå°½ç®¡optionä¸­å¯ä»¥æŒ‡å®šblock_sizeå‚æ•°ï¼Œä½†SSTableä¸­å­˜å‚¨æ•°æ®æ—¶ï¼Œå¹¶æœªä¸¥æ ¼æŒ‰ç…§block_sizeå¯¹é½ï¼Œæ‰€ä»¥offsetå’ŒsizeæŒ‡çš„æ˜¯åç§»å­—èŠ‚æ•°å’Œé•¿åº¦å­—èŠ‚æ•°ï¼›è¿™ä¸Innodbä¸­çš„B+æ ‘ç´¢å¼•blockåç§»æœ‰åŒºåˆ«ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;LevelDBå¯ä»¥å­˜å‚¨ä»»æ„é•¿åº¦çš„keyå’Œä»»æ„é•¿åº¦çš„value(&lt;strong&gt;ä¸åŒäºInnodbï¼Œé™åˆ¶æ¯è¡Œæ•°æ®çš„å¤§å°ä¸º16384ä¸ªå­—èŠ‚&lt;/strong&gt;)ï¼Œè€ŒåŒä¸€ä¸ªkey/valueé”®å€¼å¯¹æ˜¯ä¸èƒ½è·¨DataBlockå­˜å‚¨çš„ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„å• ä¸ª value å°±å¾ˆå¤§ï¼Œå·²ç»è¶…è¿‡äº† block_sizeï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µï¼ŒSSTableå°±æ— æ³•è¿›è¡Œå­˜å‚¨äº†ã€‚æ‰€ä»¥ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå®é™…çš„DataBlockçš„å¤§å°éƒ½æ˜¯è¦ç•¥å¾®å¤§äºoptionsä¸­é…ç½®çš„block_sizeçš„ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸¥æ ¼æŒ‰ç…§block_sizeå¯¹é½å­˜å‚¨æ•°æ®ï¼Œå¿…ç„¶æœ‰å¾ˆå¤šDataBlockéœ€è¦é€šè¿‡è¡¥0çš„æ–¹å¼è¿›è¡Œå¯¹é½ï¼Œè‚¯å®šä¼šæµªè´¹å­˜å‚¨ç©ºé—´ï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;sstableæ£€ç´¢é€»è¾‘&quot;&gt;SSTableæ£€ç´¢é€»è¾‘&lt;/h3&gt;
&lt;p&gt;åŸºäºä»¥ä¸Šå®ç°é€»è¾‘ï¼ŒSSTableä¸­çš„æ¯ä¸ªDataBlockä¸»è¦æ”¯æŒä¸¤ç§æ–¹å¼è¯»å–å­˜å‚¨çš„Key/Valueé”®å€¼å¯¹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ”¯æŒé¡ºåºè¯»å–DataBlockä¸­æ‰€æœ‰Key/Valueé”®å€¼å¯¹&lt;/li&gt;
&lt;li&gt;æ”¯æŒç»™å®šKeyå®šä½å…¶æ‰€åœ¨çš„DataBlockï¼Œä»è€Œå®ç°æé«˜æ£€ç´¢æ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ç»™å®šKeyï¼ŒSSTableæ£€ç´¢æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232404329-698988104.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;é—ç•™é—®é¢˜&quot;&gt;é—ç•™é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä¸è¡Œäº†ï¼Œå†å†™ä¸‹å»ï¼Œè¿™ç¯‡æ–‡ç« å­—æ•°åˆè¦ç ´ä¸‡äº†ï¼Œå†™ä¸åŠ¨äº†ï¼Œä¸‹ç¯‡æ–‡ç« å†è¯´å§ã€å…ˆæ‰“ä¸ªLogï¼Œæš‚æ—¶æœ‰äº›é—®é¢˜è¿˜æ²¡è®²æ¸…æ¥šï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;varint64åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;SSTableä¸­çš„DataBlockåˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;/li&gt;
&lt;li&gt;LevelDBæä¾›äº†å“ªäº›åŸºç¡€çš„APIï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¸Šé¢è¿™äº›é—®é¢˜ä¸‹ç¯‡æ–‡ç« å†è¯´ï¼Œå¦å¤–ï¼Œæˆ‘çš„æ¯ç¯‡æ–‡ç« éƒ½æ˜¯è‡ªå·±äº²æ‰‹æ•²æ»´ï¼Œå›¾ä¹Ÿæ˜¯è‡ªå·±ç”»çš„ï¼Œä¸å…è®¸è½¬è½½çš„å‘¦ï¼Œæœ‰é—®é¢˜è¯·ç§ä¿¡å‘¦~&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼Œæ„Ÿè§‰LevelDBé‡Œé¢æ¯ä¸ªè®¾è®¡ç»†èŠ‚éƒ½å¯ä»¥å¥½å¥½å­¦ä¹ å­¦ä¹ çš„ï¼Œæ¬¢è¿å„ä½å°ä¼™ä¼´ç§ä¿¡ï¼Œä¸€èµ·è®¨è®ºå‘€~&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œå¸Œæœ›å¤§å®¶å…³æ³¨æˆ‘çš„ä¸ªäººå…¬ä¼—å·ï¼Œæ›´å¤šé«˜è´¨é‡çš„æŠ€æœ¯æ–‡ç« ç­‰ä½ æ¥&lt;strong&gt;ç™½å«–&lt;/strong&gt;å‘¦~~~&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2065693/202007/2065693-20200725232444473-1012420834.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Sat, 25 Jul 2020 15:28:00 +0000</pubDate>
<dc:creator>ä¸€çº¸å¾®è¨€</dc:creator>
<og:description>LevelDBå­˜å‚¨æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿåº•å±‚æ—¥å¿—æ ¼å¼æ˜¯æ€ä¹ˆå®ç°çš„ï¼ŸSSTableåˆæ˜¯å•¥æ ¼å¼ï¼Ÿå°ä¼™ä¼´ä»¬ï¼Œä½ ä»¬ä¸å¥½å¥‡å—ï¼Ÿå¥½å¥‡å°±èµ¶å¿«æ¥ç…ä¸€çœ¼ï¼Œéå¸¸è¯¦ç»†å‘¦~</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yizhiweiyan/p/13378783.html</dc:identifier>
</item>
<item>
<title>æ²¡æƒ³åˆ° Hash å†²çªè¿˜èƒ½è¿™ä¹ˆç©ï¼Œä½ çš„æœåŠ¡ä¸­æ‹›äº†å—ï¼Ÿ - ç¨‹åºçŒ¿çŸ³å¤´</title>
<link>http://www.cnblogs.com/leitang/p/13378768.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/leitang/p/13378768.html</guid>
<description>&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;èƒŒæ™¯&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®è¿™ä¸ªé—®é¢˜æˆ‘ä¹‹å‰ä¹Ÿçœ‹åˆ°è¿‡ï¼Œåˆšå¥½åœ¨å‰å‡ å¤©ï¼Œæ´ªæ•™æˆåœ¨æŸä¸ªç¾¤é‡Œåˆ†äº«çš„ä¸€ä¸ªã€Šä¸€äº›æœ‰æ„æ€çš„æ”»å‡»æ‰‹æ®µ.pdfã€‹ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªè¯é¢˜è¿˜æ˜¯æœ‰ä¸å°‘äººä¸æ¸…æ¥šçš„ï¼Œä»Šå¤©æˆ‘å°±å‡†å¤‡æ¥â€œå®æˆ˜â€ä¸€æŠŠï¼Œè¿˜è¯·å„ä½çœ‹å®˜è½»æ‹ã€‚&lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;6&quot;&gt;
&lt;p&gt;æ´ªå¼ºå®ï¼ˆæ´ªæ•™æˆï¼‰ï¼Œçˆ±å› äº’åŠ¨åˆ›å§‹äººå…¼ CTOï¼Œæ›¾ä»»è±†ç“£é¦–å¸­æ¶æ„å¸ˆï¼Œä¸ºä¸­å›½ Python ç”¨æˆ·ç»„ï¼ˆCPUGï¼‰çš„åˆ›ç«‹è€…ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/e9ffb949-b65f-4e92-a10a-1381b989f47c.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ‰æ˜¯çœŸå¤§ä½¬ï¼ŒåŸæ¥æ´ªæ•™æˆåœ¨å®œä¿¡çš„æ—¶å€™ï¼Œå°±æœ‰åˆ†äº«è¿‡è¿™ä¸ªå†…å®¹ï¼Œå¯æƒœå½“åˆä¸çŸ¥é“æ²¡å‚åŠ ã€‚çœ‹äº†ä¹‹åæ‰çŸ¥é“åŸæ¥æˆ‘ä¸Šä¸€ç¯‡çš„æ–‡ç« ä¸­è®²çš„ &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247485939&amp;amp;idx=1&amp;amp;sn=cad3cf49aa345783a93ce5d9b631ba1d&amp;amp;chksm=eb470817dc308101c95aff74fa63d530f02bef50f91ba18d4ff25b8715933a404bd03ffc8b7b&amp;amp;token=1092973705&amp;amp;lang=zh_CN#rd&quot;&gt;è®¡æ—¶æ”»å‡»ï¼ˆTiming Attackï¼‰&lt;/a&gt; ä¹Ÿæ˜¯å…¶ä¸­çš„å†…å®¹ä¹‹ä¸€ã€‚å“ˆå“ˆï¼Œåé¢æœ‰ç©ºå†ç ”ç©¶ç ”ç©¶ç»§ç»­è®²å…¶ä»–å†…å®¹ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;prefix&quot;&gt;&lt;span class=&quot;content&quot;&gt;Hash å†²çª&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•¥å« Hash å†²çªï¼Ÿæˆ‘ä»¬ä» Hash è¡¨ï¼ˆæˆ–è€…æ•£åˆ—è¡¨ï¼‰è®²èµ·ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨ä¸€ä¸ª hash è¡¨çš„æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼ŒæœŸæœ›çš„æ—¶é—´å¤æ‚åº¦ä¸º &lt;code&gt;O(1)&lt;/code&gt;ï¼Œæ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿå…¶å®å°±æ˜¯ &lt;code&gt;hash()&lt;/code&gt; å‡½æ•°åœ¨èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆç•¥æ¥è®²ï¼Œhash è¡¨å†…éƒ¨å®é™…å­˜å‚¨è¿˜æ˜¯è·Ÿæ•°ç»„ç±»ä¼¼ï¼Œç”¨è¿ç»­çš„å†…å­˜ç©ºé—´å­˜å‚¨å…ƒç´ ï¼Œåªè¦é€šè¿‡æŸç§æ–¹æ³•å°†å°†è¦å­˜å‚¨çš„å…ƒç´ æ˜ å°„ä¸ºæ•°ç»„çš„ä¸‹æ ‡ï¼Œå³å¯åƒæ•°ç»„ä¸€æ ·é€šè¿‡ä¸‹æ ‡å»è¯»å–å¯¹åº”çš„å…ƒç´ ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆèƒ½åšåˆ° &lt;code&gt;O(1)&lt;/code&gt; çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/0428e75d-df3e-4bab-ae9e-782746b5b128.png&quot; alt=&quot;Hash ç¤ºä¾‹&quot;/&gt;Hash ç¤ºä¾‹&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå‡è®¾æ˜¯æˆ‘è®¾è®¡çš„ä¸€ä¸ª hash å‡½æ•°ï¼Œæ°å¥½æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;&lt;code&gt;hash(&quot;hello&quot;)=0&lt;/code&gt;ï¼šå­—ç¬¦ä¸² &quot;hello&quot; å°±å­˜å‚¨æ•°ç»„ä¸‹æ ‡ä¸º 0 çš„åœ°æ–¹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hash(&quot;world&quot;)=2&lt;/code&gt;ï¼š &quot;world&quot; å­˜å‚¨æ•°ç»„ä¸‹æ ‡ä¸º 2 çš„åœ°æ–¹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hash(&quot;tangleithu&quot;)=5&lt;/code&gt;ï¼š&quot;tangleithu&quot; å­˜å‚¨æ•°ç»„ä¸‹æ ‡ä¸º 5 çš„åœ°æ–¹ï¼›&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/1235ce2a-3e54-440b-9360-8f5df6756d46.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰æ¥çœ‹ä¸€åˆ‡å¥½åƒå¾ˆå®Œç¾ï¼Œä½†è¿™ç»ˆå½’æ˜¯å‡è®¾ï¼Œæˆ‘ä¸èƒ½å‡è®¾è¿™ä¸ª hash éƒ½å¾ˆå®Œç¾çš„å°†ä¸åŒçš„å­—ç¬¦ä¸²éƒ½æ˜ å°„åˆ°äº†ä¸åŒçš„ä¸‹æ ‡å¤„ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–æ¥äº†ä¸ªå­—ç¬¦ä¸²ï¼Œ&lt;code&gt;hash(&quot;çŸ³å¤´&quot;) = 2&lt;/code&gt;ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™å°±æ˜¯æ‰€è°“çš„ â€œHash å†²çªâ€ï¼Œæœ€å¸¸è§ Hash å†²çªçš„è§£å†³æ–¹æ¡ˆå…¶å®å°±æ˜¯â€œå¼€é“¾â€æ³•ï¼Œå…¶å®è¿˜æœ‰æ¯”å¦‚çº¿æ€§è¯•æ¢ã€å¹³æ–¹è¯•æ¢ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç±»ä¼¼è®²è§£ HashMap çš„æ–‡ç« æ»¡å¤§è¡—éƒ½æ˜¯ï¼Œä¸€æœä¸€å¤§æŠŠï¼Œæœ¬æ–‡å°±ä¸è¯¦è¿°äº†ã€‚ä¸ºäº†æ–¹ä¾¿è¯»è€…ç†è§£ï¼Œå°±ç®€å•æ¥ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/8c9a982c-7946-42e6-b55c-85189258c978.png&quot; alt=&quot;Hashå†²çªå¼€é“¾æ³•&quot;/&gt;Hashå†²çªå¼€é“¾æ³•&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼€é“¾æ³•å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å­˜å‚¨å…ƒç´ çš„æ—¶å€™ï¼Œå­˜å‚¨å½¢å¼ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œå½“å†²çªçš„æ—¶å€™ï¼Œå°±åœ¨é“¾è¡¨æœ«å°¾ç›´æ¥åŠ å†²çªçš„å…ƒç´ ã€‚ä¸Šå›¾ç¤ºä¾‹æ°å¥½è¿æ°”æ¯”è¾ƒå·®ï¼Œå­—ç¬¦ä¸² &lt;code&gt;shitou&lt;/code&gt;ï¼Œ&lt;code&gt;stone&lt;/code&gt; ç®—å‡ºæ¥çš„ä¸‹æ ‡éƒ½ä¸º 2ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ä¸€æ¥ï¼Œé—®é¢˜å¤§äº†ã€‚åŸæœ¬æˆ‘ä»¬æœŸæœ› &lt;code&gt;O(1)&lt;/code&gt; çš„æ—¶é—´å¤æ‚åº¦æŸ¥æ‰¾å…ƒç´ ï¼Œç°åœ¨å˜æˆåœ¨é“¾è¡¨ä¸­çº¿æ€§æŸ¥æ‰¾äº†ï¼Œè€Œå¦‚æœè¿™ä¸ªæ—¶å€™æ’å…¥ &lt;span class=&quot;span-inline-equation&quot;&gt;&lt;img alt=&quot;N&quot; class=&quot;Formula-image&quot; data-eeimg=&quot;true&quot;/&gt; ä¸ªæ•°æ®ï¼Œæœ€åçš„æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ &lt;span class=&quot;span-inline-equation&quot;&gt;&lt;img alt=&quot;O(N^2)&quot; class=&quot;Formula-image&quot; data-eeimg=&quot;true&quot;/&gt; äº†ã€‚ï¼ˆè¿™é‡Œå°±&lt;strong&gt;ä¸è®¨è®ºé“¾è¡¨è½¬æ ‘&lt;/strong&gt;çš„æƒ…å½¢ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/1eeadbe9-fcb9-4410-97b0-eefbd8b875cc.png&quot; alt=&quot;åäººä¹˜æœºä¾µå…¥&quot;/&gt;åäººä¹˜æœºä¾µå…¥&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å°±åˆç»™åäººç•™ä¸‹äº†æƒ³è±¡ç©ºé—´ã€‚åªè¦åäººç²¾å¿ƒè®¾è®¡ä¸€ç»„è¦æ”¾è¿› hash è¡¨çš„å­—ç¬¦ä¸²ï¼Œä¸”è®©è¿™äº›å­—ç¬¦ä¸²çš„ hashcode éƒ½ä¸€æ ·ï¼Œè¿™å°±ä¼šå¯¼è‡´ hash å†²çªï¼Œç»“æœä¼šå¯¼è‡´ cpu è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥å¤„ç† hash å†²çªï¼Œé€ æˆ DoSï¼ˆDenial of Serviceï¼‰æ”»å‡»ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œç”¨ hash è¡¨å­˜å‚¨çš„æƒ…å½¢å¤ªå¸¸è§äº†ã€‚åœ¨ Web æœåŠ¡ä¸­ï¼Œä¸€èˆ¬è¡¨å•çš„å¤„ç†éƒ½æ˜¯ç”¨ hash è¡¨æ¥ä¿å­˜çš„ï¼ˆåç«¯å¾€å¾€è¦çŸ¥é“é€šè¿‡æŸä¸ªå…·ä½“çš„å‚æ•° key è·å–å¯¹åº”çš„å‚æ•° valueï¼‰ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;prefix&quot;&gt;&lt;span class=&quot;content&quot;&gt;å®æˆ˜&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡çŸ³å¤´å“¥å°†ä»¥ Java SpringBoot ä¸ºä¾‹ï¼Œå°è¯•è¿›è¡Œä¸€æ¬¡æ”»å‡»ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸è¿‡åˆ«ä»¥ä¸ºè¿™ç§ â€œHash å†²çª DoSâ€ ä»¥ä¸ºåªæœ‰ Java æ‰æœ‰å“¦ï¼Œä»€ä¹ˆ Pythonï¼ŒApache Tomcat/Jettyï¼ŒPHP ä¹‹ç±»éƒ½ä¼šæœ‰è¿™ä¸ªé—®é¢˜çš„ã€‚å…¶å®æ—©åœ¨ 2011 å¹´å¹´æœ«çš„æ—¶å€™å°±è¢«å¤§é‡çˆ†å‡ºäº†ï¼Œæœ‰çš„æ¡†æ¶é™†é™†ç»­ç»­æœ‰ä¸€äº›æ”¹è¿›å’Œä¿®å¤ã€‚è¯¦ç»†æƒ…å†µå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œï¼Œå’±ä»¬ç»™åˆ—ä¸¾å…¶ä¸­ä¸€ä¸ª Apatch Tomcatï¼Œæ¥è‡ª &lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;10&quot;&gt;
&lt;p&gt;Apache Tomcat before 5.5.35, 6.x before 6.0.35, and 7.x before 7.0.23 computes hash values for form parameters without restricting the ability to trigger hash collisions predictably, which allows remote attackers to cause a denial of service (CPU consumption) by sending many crafted parameters.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆªå›¾æ¥è‡ªæ´ªæ•™æˆçš„ PPTï¼Œä½†å†…å®¹çš„å…·ä½“æ¥æºä¸è¯¦äº†ï¼ˆå°è¯•æ‰¾äº†ä¸‹ï¼Œæ²¡æ‰¾åˆ°ï¼‰ï¼Œå¤§å®¶å‚è€ƒå‚è€ƒå°±å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/b2d396f1-75e9-4e33-b80a-5d306a322fb0.png&quot; alt=&quot;å®ç° hash å†²çª DoS æ”»å‡»æ‰€é¡»å¸¦å®½&quot;/&gt;å®ç° hash å†²çª DoS æ”»å‡»æ‰€é¡»å¸¦å®½&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·¦è¾¹è¡¨ç¤ºç”¨ä¸åŒçš„è¯­è¨€ï¼ˆæ¡†æ¶ï¼‰å®ç°è¿™ç§æ”»å‡»æ‰€éœ€è¦çš„å¸¦å®½ï¼Œå³è¾¹æ˜¯æ”»å‡»çš„ cpu ç›®æ ‡ã€‚å¯ä»¥çœ‹å‡ºï¼Œå®æ–½è¿™ç§æ”»å‡»æˆæœ¬å…¶å®æŒºä½çš„ï¼ˆåæ–‡çŸ³å¤´çš„è¯•éªŒä¹Ÿä½è¯äº†è¿™ä¸€ç‚¹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/d468a655-6464-4e35-b2c2-5942130f8e39.png&quot; alt=&quot;PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€1&quot;/&gt;PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€1&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸å¾—ä¸è¯´ â€œPHP æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„ç¼–ç¨‹è¯­è¨€â€ï¼ˆå¤§å®¶åˆ«æ‰“æ¶ï¼‰ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šé“ç†çš„ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ ğŸ˜ï¼ˆä¸€å¼ å›¾è¿˜ä¸å¤Ÿï¼Œå†åŠ ä¸€å¼ ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/1516213c-0497-40d1-ab1c-837df58f2569.png&quot; alt=&quot;PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€2&quot;/&gt;PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€2&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„è¯­è¨€æ’åºï¼Œä¸ä¸€å®šå¯¹ï¼Œå¤§å®¶å‚è€ƒä¸€ä¸‹å³å¯ï¼Œä¸ç”¨çº ç»“å…·ä½“çš„å‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®è¦éªŒè¯ï¼Œæ–¹æ³•å½“ç„¶ä¹Ÿç›¸å¯¹ç®€å•ï¼Œåªè¦æ‰¾å‡ºäº§ç”Ÿå†²çªçš„ä¸åŒå­—ç¬¦ä¸²å³å¯ï¼Œå…·ä½“è¯­è¨€å¯èƒ½ä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;prefix&quot;&gt;&lt;span class=&quot;content&quot;&gt;talk is cheap&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;â€œtalk is cheapâ€ï¼Œç°åœ¨è·Ÿç€æˆ‘æ¥å°è¯•è¿›è¡Œä¸€æ¬¡æ”»å‡»å§ï¼Œæœ¬äººç”¨è‡ªå·±çš„ç¬”è®°æœ¬è¿›è¡Œè¯•éªŒï¼ˆé…ç½®ï¼šMBP 13-inchï¼Œ2.5 GHz Intel Core i7ï¼Œ16 GB 2133 MHz LPDDR3ï¼‰ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæ„é€ ä¸€æŠŠ hash å†²çªçš„å­—ç¬¦ä¸²ï¼Œä¸‹é¢ä»£ç æ˜¯ hash å†²çªçš„å­—ç¬¦ä¸²å¯¹çš„å®ä¾‹ï¼Œåé¢çš„å…¶å®å¯ä»¥é€šè¿‡å‰é¢æ’åˆ—ç»„åˆç”Ÿæˆã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Aa&quot;.hashCode());&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;BB&quot;.hashCode());&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;BBBBBBBBBBBBBBBBBBBBBBBBAaBBBBAa&quot;.hashCode());&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;BBBBBBBBBBBBBBBBBBBBBBBBAaBBBBBB&quot;.hashCode());&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ç”Ÿæˆè¿‡ç¨‹æœ¬æ–‡ä¸è¯¦è¿°äº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ StackOverflow ä¸Šçš„è¿™ç¯‡æ–‡ç«  &lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæˆ‘å¯ç”¨ä¸€ä¸ª SpringBootï¼ˆ2.2.2.RELEASEï¼‰ çš„ Web æœåŠ¡ï¼ŒJDK 1.8ï¼ˆå…¶å®ç”¨ 1.7 æ•ˆæœæ›´æ˜æ˜¾ï¼‰ã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@RequestMapping(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/hash&quot;)&lt;br/&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public String &lt;span class=&quot;hljs-title&quot;&gt;hash&lt;span class=&quot;hljs-params&quot;&gt;(HttpServletRequest request) {&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆè¯•æ°´ä¸€æŠŠï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œçœ‹çœ‹åŸºæœ¬åŠŸèƒ½æ­£å¸¸ï¼Œç”¨ curl å‘é€è¯·æ±‚å³å¯ï¼Œç„¶åå°† post çš„å­—æ®µæ”¾åœ¨æ–‡ä»¶é‡Œé¢ï¼ˆå¤ªé•¿ä¹Ÿåªèƒ½æ”¾æ–‡ä»¶ä¸­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/7db1afd0-f389-4ea7-b818-89c947234762.png&quot; alt=&quot;curl å®éªŒç»“æœ&quot;/&gt;curl å®éªŒç»“æœ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”Ÿæˆçš„å­—ç¬¦ä¸²ä¸å¤Ÿçš„è¯ï¼Œè¿˜å¯ä»¥å¢åŠ å¹¶å‘è¯·æ±‚ï¼Œå¯ä»¥å€Ÿç”¨ç±»ä¼¼ â€œApache Benchmarkingâ€ å‹æµ‹çš„å·¥å…·å‘é€è¯·æ±‚ï¼Œæˆ‘ä¹‹å‰ä¹Ÿæœ‰ä¸€ç¯‡æ–‡ç« ä»‹ç»äº†è¿™ä¸ªå‘½ä»¤ &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247485113&amp;amp;idx=2&amp;amp;sn=9a85da7a595cbad2960952fd47b89e0a&amp;amp;chksm=eb47075ddc308e4b9137c4e045510afcb8bb65e83a21cae6558150ca2c8be74105ce7bc22725&amp;amp;token=1092973705&amp;amp;lang=zh_CN#rd&quot;&gt;æ€§èƒ½æµ‹è¯•å·¥å…· - ab ç®€å•åº”ç”¨&lt;/a&gt;ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/a971b5aa-ff65-4b86-a36e-6825059aaf48.png&quot; alt=&quot;å†²çªçš„ hashcode ä¸€æ ·&quot;/&gt;å†²çªçš„ hashcode ä¸€æ ·&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰“ä¸ªæ–­ç‚¹çœ‹çœ‹æ•ˆæœï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç¡®å®æ‰€æœ‰çš„ hash å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸è¿‡ä¸€æ¬¡è¯·æ±‚å¥½åƒå¹¶æ²¡æœ‰å½±å“æˆ‘ç”µè„‘ cpu çš„æ˜æ˜¾å˜åŒ–ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æµ‹è¯•çš„å­—ç¬¦ä¸²å·²ç»æ˜¯ &lt;code&gt;29859&lt;/code&gt; ä¸ªäº†ï¼Œæ­£å‡†å¤‡ç”Ÿæˆæ›´å¤šçš„å†²çªçš„å­—ç¬¦ä¸²è¿›è¡Œå°è¯•æ—¶ï¼Œç»“æœä»”ç»†ä¸€çœ‹æ‰å‘ç°è¯·æ±‚è¢«æˆªæ–­äº†ï¼Œè¯·æ±‚è¿”å›çš„å‚æ•° size å¤§å°ä¸º 10000ã€‚åŸæ¥ SpringBoot å†…ç½®çš„ tomcat ç»™åšäº†æ‰‹è„šï¼Œçœ‹ä¸‹å›¾ï¼Œå› ä¸ºé»˜è®¤çš„è¯·æ±‚çš„å‚æ•°ä¸ªæ•°å¤§å°è¢«é™åˆ¶æˆ 10000 äº†ã€‚&lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;9&quot;&gt;
&lt;p&gt;More than the maximum number of request parameters (GET plus POST) for a single request ([10,000]) were detected. Any parameters beyond this limit have been ignored. To change this limit, set the maxParameterCount attribute on the Connector.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/5f0ee44d-dfb7-467f-b745-a54ccbcfe0d5.png&quot; alt=&quot;postå‚æ•°æ•°é‡è¢«é™åˆ¶&quot;/&gt;postå‚æ•°æ•°é‡è¢«é™åˆ¶&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ç§æ–¹æ³•å½“ç„¶æ˜¯å»ä¿®æ”¹è¿™ä¸ªè¯·æ±‚å‚æ•°ä¸ªæ•°çš„é™åˆ¶ã€‚å¦å¤–å…¶å®å¯ä»¥å°è¯•ç”¨ JDK 1.7 å»éªŒè¯ï¼Œåº”è¯¥æ•ˆæœä¼šæ›´å¥½ï¼ˆåŸå› ï¼Œèªæ˜çš„è¯»è€…ä½ è‚¯å®šçŸ¥é“å§ï¼Ÿï¼‰ã€‚è¿™é‡ŒçŸ³å¤´å“¥å°±æ‡’å¾—å»æŠ˜è…¾äº†ï¼Œç›´æ¥å°è¯•ä»¥é‡æ¥å–èƒœï¼Œç”¨å‰æ–‡è¯´çš„ ab è¿›è¡Œå¹¶å‘æäº¤è¯·æ±‚ï¼Œç„¶åè§‚å¯Ÿæ•ˆæœã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯æˆ‘ç”¨å¦‚ä¸‹å‚æ•°è·‘çš„å‹æµ‹ç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;ab -c 200 -n 100000 -p req.txt &lt;span class=&quot;hljs-string&quot;&gt;'localhost:8080/hash'&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‹æµ‹çš„ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/cb709622-eb79-4324-bdb8-1fff6f205943.png&quot; alt=&quot;ab å‹æµ‹ hash å†²çªç»“æœ&quot;/&gt;ab å‹æµ‹ hash å†²çªç»“æœ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹ CPU çš„å˜åŒ–æƒ…å†µï¼Œç‰¹æ„å½•å±åšäº†ä¸ªåŠ¨å›¾ï¼Œå¯ä»¥çœ‹å‡ºè¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒæ˜æ˜¾çš„ã€‚ä»åŸºæœ¬ä¸å ç”¨ cpu åˆ° 39.6%ï¼Œç„¶åçªç„¶å°±æ¶¨åˆ° 158% äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®é™…è¯•éªŒä¸­è¿™ä¸ªè¿‡ç¨‹æ²¡æœ‰ä¸€ç›´æŒç»­ï¼ˆä¸Šé¢æ˜¯é‡è¯•è¿‡ç¨‹ä¸­æŠ“åˆ°çš„å…¶ä¸­ä¸€æ¬¡ï¼‰ï¼Œä¸€æ–¹é¢å› ä¸ºæœ¬äººç”¨çš„ JDK 1.8ï¼Œæœ¬æ¥å†²çªåçš„æŸ¥æ‰¾è¿‡ç¨‹å·²ç»ä¼˜åŒ–äº†ï¼Œå¯èƒ½æ•ˆæœå¹¶ä¸æ˜æ˜¾ï¼Œå¦å¤–ä¹ŸçŒœæµ‹å¯èƒ½ä¼šæœ‰ä¸€äº› cache ä¹‹ç±»çš„ä¼˜åŒ–å§ï¼Œå¦å¤–å¯¹äº 10000 çš„é‡ä¹Ÿè¿˜ä¸å¤Ÿï¼Ÿå…·ä½“æˆ‘ä¹Ÿæ²¡æœ‰æ·±ç©¶äº†ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å»å°è¯•ä¸€ä¸‹ç©ç©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/c53a1f75-f9f8-4d56-979c-916a12f18d45.gif&quot; alt=&quot;hash-collision-demoåŠ¨å›¾&quot;/&gt;hash-collision-demoåŠ¨å›¾&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®éªŒç®—æˆåŠŸäº†å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/589781c0-de08-4bdc-8560-c1cd770e2502.png&quot; alt=&quot;å®éªŒæˆåŠŸå°±æ˜¯æ‹½&quot;/&gt;å®éªŒæˆåŠŸå°±æ˜¯æ‹½&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘è¿™è¿˜æ˜¯å•æœºï¼Œè¦æ˜¯å¤šæå‡ ä¸ª clientï¼Œä¸åˆ†åˆ†é’ŸæŠŠ Web æœåŠ¡ææ­»å•Šã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;prefix&quot;&gt;&lt;span class=&quot;content&quot;&gt;é˜²å¾¡æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢å®éªŒç®—æ˜¯æˆåŠŸäº†ï¼Œé‚£ä¹ˆé˜²å¾¡æ–¹æ³•å‘¢ï¼Ÿå…¶å®å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;æ”¹ hash ç®—æ³•ç®—ä¸€ç§äº†ï¼›ä¾‹å¦‚åƒæœ‰çš„ç”¨éšæœºç®—æ³•ä½œä¸º hash å‡½æ•°çš„æƒ…å†µï¼Œå¯ä»¥ç”¨ä¸åŒçš„éšæœºç§å­å°è¯•ç”Ÿæˆï¼›ä½†å…¶å®æ²¡æœ‰å®Œç¾çš„ hash ç®—æ³•çš„ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡å®éªŒä¸­çš„ä¹Ÿé‡åˆ°è¿™ä¸ªäº†ï¼Œå°±æ˜¯è¦é™åˆ¶è¯·æ±‚çš„å‚æ•°ä¸ªæ•°ï¼Œä»¥åŠè¯·æ±‚é•¿åº¦ã€‚åœ¨ä¸å½±å“ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œé™åˆ¶å°½å¯èƒ½æ›´å°ï¼›&lt;/li&gt;
&lt;li&gt;ä¸Š WAFï¼ˆWeb Application Firewallï¼‰ï¼Œç”¨ä¸“ä¸šçš„é˜²ç«å¢™æ¸…æ´—æµé‡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;prefix&quot;&gt;&lt;span class=&quot;content&quot;&gt;æœ€å&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡åªä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·å¤§å®¶ä¸è¦è½»æ˜“å°è¯•çº¿ä¸ŠæœåŠ¡ï¼Œä¸è¦è½»æ˜“å°è¯•çº¿ä¸ŠæœåŠ¡ï¼Œä¸è¦è½»æ˜“å°è¯•çº¿ä¸ŠæœåŠ¡ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬äººæ‰ç–å­¦æµ…ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜æœ›å¤§å®¶æŒ‡å‡ºã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸåˆ›çœŸå¿ƒä¸æ˜“ï¼Œå¸Œæœ›ä½ èƒ½å¸®æˆ‘ä¸ªå°å¿™å‘—ï¼Œå¦‚æœæœ¬æ–‡å†…å®¹ä½ è§‰å¾—æœ‰æ‰€å¯å‘ï¼Œæœ‰æ‰€æ”¶è·ï¼Œè¯·å¸®å¿™ç‚¹ä¸ªâ€œåœ¨çœ‹â€å‘—ï¼ˆè‹¥ä¸å¥½æ„æ€æš´éœ²ï¼Œä½ èµ·ç ç‚¹ä¸ªèµå˜›ğŸ˜ï¼‰ï¼Œè½¬å‘åˆ†äº«å°±æ›´å¥½å•¦ï¼Œè¿™å°†æ˜¯æˆ‘ç»§ç»­è¾“å‡ºæ›´å¤šä¼˜è´¨æ–‡ç« çš„æœ€å¼ºåŠ¨åŠ›ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¬ä¼—å·åå°å›å¤â€œæ¨¡æ‹Ÿé¢˜â€è·å–ç®—æ³•ç¬”è¯•æ¨¡æ‹Ÿé¢˜ç²¾è§£åˆé›†ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥åˆ°é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸‹è½½ï¼‰ï¼Œè¯¥ä¹¦ç±ä¸ºé˜¿é‡Œäº‘å¼€å‘ç”µå­ä¹¦ç³»åˆ—ä¹‹ä¸€ï¼Œæ¶µç›– 70+ç®—æ³•é¢˜ç›®ï¼Œè¿‘ 30 ç§å¤§å‚ç¬”è¯•å¸¸è€ƒçŸ¥è¯†ç‚¹ã€‚å¸Œæœ›åœ¨ä½ â€œé¢è¯•æˆ˜åœºâ€ä¸Šèƒ½å¤ŸåŠ©ä½ ä¸€è‡‚ä¹‹åŠ›ã€‚ &lt;img src=&quot;https://imgkr.cn-bj.ufileos.com/2d6ed587-a82e-4c20-aa63-bd284b3e0f4f.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;å…³äºä½œè€…ï¼šç¨‹åºçŒ¿çŸ³å¤´(ID: tangleithu)ï¼Œç°ä»»é˜¿é‡Œå·´å·´æŠ€æœ¯ä¸“å®¶ï¼Œæ¸…åå­¦æ¸£ï¼Œå‰å¤§ç–†åç«¯ Leaderã€‚ç”¨ä¸åŒçš„è§†è§’åˆ†äº«é«˜è´¨é‡æŠ€æœ¯æ–‡ç« ï¼Œä»¥æ¯ç¯‡æ–‡ç« éƒ½è®©äººæœ‰æ”¶è·ä¸ºç›®çš„ï¼Œæ¬¢è¿å…³æ³¨ï¼Œäº¤æµå’ŒæŒ‡å¯¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;oCERT-2011-003 multiple implementations denial-of-service via hash algorithm collision: &lt;em&gt;http://ocert.org/advisories/ocert-2011-003.html&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;CVE-2011-4858: &lt;em&gt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4858&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Application vulnerability due to Non Random Hash Functions: &lt;em&gt;https://stackoverflow.com/questions/8669946/application-vulnerability-due-to-non-random-hash-functions&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Hash Collision DoS é—®é¢˜: &lt;em&gt;https://coolshell.cn/articles/6424.html&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 25 Jul 2020 15:21:00 +0000</pubDate>
<dc:creator>ç¨‹åºçŒ¿çŸ³å¤´</dc:creator>
<og:description>èƒŒæ™¯ å…¶å®è¿™ä¸ªé—®é¢˜æˆ‘ä¹‹å‰ä¹Ÿçœ‹åˆ°è¿‡ï¼Œåˆšå¥½åœ¨å‰å‡ å¤©ï¼Œæ´ªæ•™æˆåœ¨æŸä¸ªç¾¤é‡Œåˆ†äº«çš„ä¸€ä¸ªã€Šä¸€äº›æœ‰æ„æ€çš„æ”»å‡»æ‰‹æ®µ.pdfã€‹ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªè¯é¢˜è¿˜æ˜¯æœ‰ä¸å°‘äººä¸æ¸…æ¥šçš„ï¼Œä»Šå¤©æˆ‘å°±å‡†å¤‡æ¥â€œå®æˆ˜â€ä¸€æŠŠï¼Œè¿˜è¯·å„ä½çœ‹å®˜è½»æ‹ã€‚ æ´ªå¼ºå®ï¼ˆ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/leitang/p/13378768.html</dc:identifier>
</item>
<item>
<title>å‰ç«¯ç¨‹åºå‘˜å­¦å¥½ç®—æ³•ç³»åˆ—ï¼ˆä¸€ï¼‰æ•°ç»„ - ç§‘æ¯”net</title>
<link>http://www.cnblogs.com/kbnet/p/13378754.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kbnet/p/13378754.html</guid>
<description>&lt;p&gt;å‰ç«¯ç¨‹åºå‘˜æ€ä¹ˆæ‰èƒ½å­¦å¥½ç®—æ³•å‘¢ï¼Ÿç›®å‰ç®—æ³•ä¼˜ç§€çš„è§†é¢‘é›†ä¸­åœ¨c++ï¼Œjavaï¼Œpythonï¼Œæœ¬äººé€šè¿‡å‡ ä¸ªæœˆä¸“å¿ƒçœ‹c++çš„è§†é¢‘æŒæ¡äº†ç®—æ³•çš„åŸºæœ¬æ€è·¯ï¼Œéƒ½ç¿»è¯‘æˆå‰ç«¯ä»£ç ä¸€ä¸€å†™å‡ºæ¥ï¼Œä»çœŸé¢˜åˆ°æ€ç»´å…¨é¢æå‡ç®—æ³•æ€ç»´&lt;br/&gt;é¢å¯¹ç®—æ³•é¢è¯•ï¼Œä¸ç•æƒ§&lt;/p&gt;
&lt;p&gt;äºŒåˆ†æŸ¥æ‰¾æ³•Oï¼ˆlognï¼‰&lt;br/&gt;å¯»æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§/æœ€å°å€¼O(N)&lt;br/&gt;å½’å¹¶æ’åºç®—æ³• Oï¼ˆnlognï¼‰&lt;br/&gt;é€‰æ‹©æ’åºç®—æ³•O(n^2)&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€é¢˜.æ•°ç»„ 704.äºŒåˆ†æŸ¥æ‰¾æ³•&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªÂ nÂ ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„Â nums å’Œä¸€ä¸ªç›®æ ‡å€¼Â target Â ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢Â numsÂ ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚&lt;br/&gt;ç¤ºä¾‹ 1:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
è¾“å…¥: nums = [-&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;5&lt;/span&gt;,&lt;span&gt;9&lt;/span&gt;,&lt;span&gt;12&lt;/span&gt;], target = &lt;span&gt;9&lt;/span&gt;&lt;span&gt;
è¾“å‡º: &lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;
è§£é‡Š: &lt;/span&gt;&lt;span&gt;9&lt;/span&gt; å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º &lt;span&gt;4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è§£é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.åœ¨å·¦è¾¹ç•Œ0 å’Œå³è¾¹ç•Œarr.length -1 ä¸­è¿›è¡Œå¯»æ‰¾ï¼Œ&lt;/p&gt;
&lt;p&gt;2.æ¯æ¬¡å–æœ€ä¸­é—´çš„å…ƒç´ midï¼Œå¦‚æœå½“å‰å¯»æ‰¾çš„å…ƒç´ å°±æ˜¯å½“å‰å…ƒç´ ç›´æ¥è¿”å›ï¼Œ&lt;/p&gt;
&lt;p&gt;3.å¦åˆ™å½“å‰å…ƒç´ å°äºtargetå·¦è¾¹ç•Œç­‰äºmid+1 å¦åˆ™å³è¾¹ç•Œç­‰äºmid -1ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿”å›-1&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt; function binarySearch(arr,target) {
       let l &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;
       let r &lt;/span&gt;= arr.length - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
       let mid
       &lt;/span&gt;&lt;span&gt;while&lt;/span&gt;(l&amp;lt;=&lt;span&gt;r){
          &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; mid = Math.floor((l + r)/2) 
          &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ä¸‹é¢çš„ä»£ç è§£å†³l+r æ•´æ•°æº¢å‡ºçš„é—®é¢˜&lt;/span&gt;
          mid = Math.floor(l + (r-l)/&lt;span&gt;2&lt;/span&gt;&lt;span&gt;) 
          
          &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(arr[mid]===&lt;span&gt;target){
             &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; mid
          }
          &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(arr[mid] &amp;lt;&lt;span&gt; target){
            l &lt;/span&gt;= mid + &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
          } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            r &lt;/span&gt;= mid - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
          }
       }
       &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; -&lt;span&gt;1&lt;/span&gt;&lt;span&gt;
     }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒé¢˜283. ç§»åŠ¨é›¶&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚&lt;br/&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
è¾“å…¥: [&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;12&lt;/span&gt;&lt;span&gt;]
è¾“å‡º: [&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;12&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¯´æ˜:&lt;/p&gt;
&lt;p&gt;å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚&lt;br/&gt;å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è§£é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªkæŒ‡é’ˆé»˜è®¤ä¸º0&lt;br/&gt;2.å¾ªç¯æ•°ç»„å½“æ•°ç»„å€¼ä¸º0æ—¶äº¤æ¢æ•°ç»„kå’Œå½“å‰ç´¢å¼•çš„å€¼k++&lt;br/&gt;3.å¦‚æœ i!=k è¿™æ­¥é’ˆå¯¹ç‰¹æ®Šç”¨åŠ›ä¼˜åŒ–&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; moveZeroes =&lt;span&gt; function(nums) {
        let k &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;
        &lt;span&gt;for&lt;/span&gt;(let i =&lt;span&gt;0&lt;/span&gt;;i&amp;lt;nums.length;i++&lt;span&gt;){
          &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(nums[i]){
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(i!=&lt;span&gt;k){
              swap(nums,k,i)
              k&lt;/span&gt;++&lt;span&gt;
            } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
              k&lt;/span&gt;++&lt;span&gt;
            }
          }
        }
        function swap(arr,i,j){
          let tmp &lt;/span&gt;=&lt;span&gt; arr[i]
          arr[i] &lt;/span&gt;=&lt;span&gt; arr[j]
          arr[j] &lt;/span&gt;=&lt;span&gt; tmp
        }
};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬ä¸‰é¢˜ 27.ç§»åŠ¨å…ƒç´ &lt;/p&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•°ç»„ numsÂ å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äºÂ valÂ çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ 1:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
ç»™å®š nums = [&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;], val = &lt;span&gt;3&lt;/span&gt;&lt;span&gt;,

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º &lt;span&gt;2&lt;/span&gt;&lt;span&gt;ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è§£é¢˜ï¼šæ­¤é¢˜åŸç†ä¸ä¸Šé¢˜ç›¸åŒ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; removeElement =&lt;span&gt; function(nums, val) {
    let j &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;
    let arr &lt;/span&gt;=&lt;span&gt;[]
     &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(let i =&lt;span&gt;0&lt;/span&gt;,len=nums.length;i&amp;lt;len;i++&lt;span&gt;){
         &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(nums[i]!==&lt;span&gt;val){ 
             nums[j] &lt;/span&gt;=&lt;span&gt; nums[i]
             j&lt;/span&gt;++&lt;span&gt;
         } 
     }
     &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; j
};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬å››é¢˜Â 75. é¢œè‰²åˆ†ç±»&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…±Â n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€Â 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„:&lt;br/&gt;ä¸èƒ½ä½¿ç”¨ä»£ç åº“ä¸­çš„æ’åºå‡½æ•°æ¥è§£å†³è¿™é“é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
è¾“å…¥: [&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;&lt;span&gt;]
è¾“å‡º: [&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è§£é¢˜ä¸€&lt;br/&gt;æš´åŠ›è§£æ³•ï¼š&lt;br/&gt;1.æœ¬é¢˜åªæœ‰ä¸‰ç§é¢œè‰²æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»™ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ä¿å­˜èµ·æ¥ç„¶ååœ¨æŒ‰æ•°é‡å€¼ä¾æ¬¡æ’åˆ—ï¼Œä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; sortColors =&lt;span&gt; function(nums) {
    let obj &lt;/span&gt;=&lt;span&gt; {}
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(let i =&lt;span&gt;0&lt;/span&gt;;i&amp;lt;nums.length;i++&lt;span&gt;){
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(!&lt;span&gt;obj[nums[i]]){
            obj[nums[i]] &lt;/span&gt;= &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            obj[nums[i]] &lt;/span&gt;= obj[nums[i]] + &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
        }
    }
    let index &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;
    &lt;span&gt;for&lt;/span&gt;(let i=&lt;span&gt;0&lt;/span&gt;;i&amp;lt;obj[&lt;span&gt;0&lt;/span&gt;];i++&lt;span&gt;){
        nums[index&lt;/span&gt;++] = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;
    }
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(let i=&lt;span&gt;0&lt;/span&gt;;i&amp;lt;obj[&lt;span&gt;1&lt;/span&gt;];i++&lt;span&gt;){
        nums[index&lt;/span&gt;++] = &lt;span&gt;1&lt;/span&gt;&lt;span&gt;
    }
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(let i=&lt;span&gt;0&lt;/span&gt;;i&amp;lt;obj[&lt;span&gt;2&lt;/span&gt;];i++&lt;span&gt;){
        nums[index&lt;/span&gt;++] = &lt;span&gt;2&lt;/span&gt;&lt;span&gt;
    }
};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br/&gt;è§£æ³•äºŒ&lt;br/&gt;1.ä¸‰è·¯å¿«æ’ï¼Œå®šä¹‰å‰è¾¹ç•Œlä¸º-1ï¼Œlå‰é¢å­˜0æ‰€åœ¨çš„å€¼ï¼Œåè¾¹ç•Œnä¸ºnums.lengthï¼Œä»nå¼€å§‹å¾€åçš„å­˜2çš„å€¼Â  ï¼Œ iéƒ¨åˆ†å­˜1çš„å€¼&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; sortColors =&lt;span&gt; function(nums) {
    let l &lt;/span&gt;= -&lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
    let n &lt;/span&gt;=&lt;span&gt; nums.length
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(let i =&lt;span&gt;0&lt;/span&gt;;i&amp;lt;&lt;span&gt;n;){
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(nums[i]==&lt;span&gt;0&lt;/span&gt;&lt;span&gt;){
            l&lt;/span&gt;++&lt;span&gt;
            swap(l,i)
            i&lt;/span&gt;++&lt;span&gt;
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt; &lt;span&gt;if&lt;/span&gt;(nums[i]===&lt;span&gt;1&lt;/span&gt;&lt;span&gt;){
            i&lt;/span&gt;++&lt;span&gt;
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            n&lt;/span&gt;--&lt;span&gt;
            swap(i,n)
        }
    }
    function swap(m,n){
       let pre &lt;/span&gt;=&lt;span&gt; nums[m]
       nums[m] &lt;/span&gt;=&lt;span&gt; nums[n]
       nums[n] &lt;/span&gt;=&lt;span&gt; pre
    }   

};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç®—æ³•æ•°ç»„å…¥é—¨å æ—¶å°±å…ˆå†™åˆ°è¿™é‡Œ&lt;/p&gt;


</description>
<pubDate>Sat, 25 Jul 2020 15:15:00 +0000</pubDate>
<dc:creator>ç§‘æ¯”net</dc:creator>
<og:description>å‰ç«¯ç¨‹åºå‘˜æ€ä¹ˆæ‰èƒ½å­¦å¥½ç®—æ³•å‘¢ï¼Ÿç›®å‰ç®—æ³•ä¼˜ç§€çš„è§†é¢‘é›†ä¸­åœ¨c++ï¼Œjavaï¼Œpythonï¼Œæœ¬äººé€šè¿‡å‡ ä¸ªæœˆä¸“å¿ƒçœ‹c++çš„è§†é¢‘æŒæ¡äº†ç®—æ³•çš„åŸºæœ¬æ€è·¯ï¼Œéƒ½ç¿»è¯‘æˆå‰ç«¯ä»£ç ä¸€ä¸€å†™å‡ºæ¥ï¼Œä»çœŸé¢˜åˆ°æ€ç»´å…¨é¢æå‡ç®—æ³•æ€ç»´é¢å¯¹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kbnet/p/13378754.html</dc:identifier>
</item>
<item>
<title>ã€Nginxã€‘å¦‚ä½•å®ç°Nginxçš„é«˜å¯ç”¨è´Ÿè½½å‡è¡¡ï¼Ÿçœ‹å®Œæˆ‘ä¹Ÿä¼šäº†ï¼ï¼ - å†°æ²³å›¢é˜Ÿ</title>
<link>http://www.cnblogs.com/binghe001/p/13378305.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/binghe001/p/13378305.html</guid>
<description>&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;ä¸å¾—ä¸è¯´ï¼Œæœ€è¿‘å°ä¼™ä¼´ä»¬çš„å­¦ä¹ çƒ­æƒ…æ˜¯è¶Šæ¥è¶Šé«˜ï¼Œä¸æ–­å‘å†°æ²³æå‡ºæ–°çš„æƒ³å­¦ä¹ çš„æŠ€æœ¯ã€‚è¿™ä¸ï¼Œåˆæœ‰å°ä¼™ä¼´é—®æˆ‘ï¼šå†°æ²³ï¼Œä½ åœ¨ã€Nginxä¸“é¢˜ã€‘å†™çš„æ–‡ç« åŸºæœ¬ä¸Šéƒ½æ˜¯Nginxå•æœºç‰ˆçš„ï¼Œèƒ½ä¸èƒ½å†™ä¸€ç¯‡å…³äºNginxçš„é«˜å¯ç”¨çš„æ–‡ç« å‘¢ï¼Ÿæˆ‘ï¼šæ²¡é—®é¢˜ï¼Œå®‰æ’ä¸Šï¼è¿™ä¸ï¼Œå°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;keepalived-ç®€è¦ä»‹ç»&quot;&gt;Keepalived ç®€è¦ä»‹ç»&lt;/h2&gt;
&lt;p&gt;Keepalived æ˜¯ä¸€ç§é«˜æ€§èƒ½çš„æœåŠ¡å™¨é«˜å¯ç”¨æˆ–çƒ­å¤‡è§£å†³æ–¹æ¡ˆï¼Œ Keepalived å¯ä»¥ç”¨æ¥é˜²æ­¢æœåŠ¡å™¨å•ç‚¹æ•…éšœçš„å‘ç”Ÿï¼Œé€šè¿‡é…åˆ Nginx å¯ä»¥å®ç° web å‰ç«¯æœåŠ¡çš„é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Keepalived ä»¥ VRRP åè®®ä¸ºå®ç°åŸºç¡€ï¼Œç”¨ VRRP åè®®æ¥å®ç°é«˜å¯ç”¨æ€§(HA)ã€‚ VRRP(Virtual RouterRedundancy Protocol)åè®®æ˜¯ç”¨äºå®ç°è·¯ç”±å™¨å†—ä½™çš„åè®®ï¼Œ VRRP åè®®å°†ä¸¤å°æˆ–å¤šå°è·¯ç”±å™¨è®¾å¤‡è™šæ‹Ÿæˆä¸€ä¸ªè®¾å¤‡ï¼Œå¯¹å¤–æä¾›è™šæ‹Ÿè·¯ç”±å™¨ IP(ä¸€ä¸ªæˆ–å¤šä¸ª)ï¼Œè€Œåœ¨è·¯ç”±å™¨ç»„å†…éƒ¨ï¼Œå¦‚æœå®é™…æ‹¥æœ‰è¿™ä¸ªå¯¹å¤– IP çš„è·¯ç”±å™¨å¦‚æœå·¥ä½œæ­£å¸¸çš„è¯å°±æ˜¯ MASTERï¼Œæˆ–è€…æ˜¯é€šè¿‡ç®—æ³•é€‰ä¸¾äº§ç”Ÿï¼Œ MASTER å®ç°é’ˆå¯¹è™šæ‹Ÿè·¯ç”±å™¨ IP çš„å„ç§ç½‘ç»œåŠŸèƒ½ï¼Œå¦‚ ARP è¯·æ±‚ï¼Œ ICMPï¼Œä»¥åŠæ•°æ®çš„è½¬å‘ç­‰ï¼›å…¶ä»–è®¾å¤‡ä¸æ‹¥æœ‰è¯¥è™šæ‹Ÿ IPï¼ŒçŠ¶æ€æ˜¯ BACKUPï¼Œé™¤äº†æ¥æ”¶ MASTER çš„VRRP çŠ¶æ€é€šå‘Šä¿¡æ¯å¤–ï¼Œä¸æ‰§è¡Œå¯¹å¤–çš„ç½‘ç»œåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸»æœºå¤±æ•ˆæ—¶ï¼Œ BACKUP å°†æ¥ç®¡åŸå…ˆ MASTER çš„ç½‘ç»œåŠŸèƒ½ã€‚VRRP åè®®ä½¿ç”¨å¤šæ’­æ•°æ®æ¥ä¼ è¾“ VRRP æ•°æ®ï¼Œ VRRP æ•°æ®ä½¿ç”¨ç‰¹æ®Šçš„è™šæ‹Ÿæº MAC åœ°å€å‘é€æ•°æ®è€Œä¸æ˜¯è‡ªèº«ç½‘å¡çš„ MAC åœ°å€ï¼Œ VRRP è¿è¡Œæ—¶åªæœ‰ MASTER è·¯ç”±å™¨å®šæ—¶å‘é€ VRRP é€šå‘Šä¿¡æ¯ï¼Œè¡¨ç¤º MASTER å·¥ä½œæ­£å¸¸ä»¥åŠè™šæ‹Ÿè·¯ç”±å™¨ IP(ç»„)ï¼Œ BACKUP åªæ¥æ”¶ VRRP æ•°æ®ï¼Œä¸å‘é€æ•°æ®ï¼Œå¦‚æœä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ¥æ”¶åˆ° MASTER çš„é€šå‘Šä¿¡æ¯ï¼Œå„ BACKUP å°†å®£å‘Šè‡ªå·±æˆä¸º MASTERï¼Œå‘é€é€šå‘Šä¿¡æ¯ï¼Œé‡æ–°è¿›è¡Œ MASTER é€‰ä¸¾çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ–¹æ¡ˆè§„åˆ’&quot;&gt;æ–¹æ¡ˆè§„åˆ’&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725211553575.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;strong&gt;æ“ä½œç³»ç»Ÿä¸å®‰è£…è½¯ä»¶å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;CentOS 6.8 x64&lt;/li&gt;
&lt;li&gt;keepalived-1.2.18.tar.gz&lt;/li&gt;
&lt;li&gt;nginx-1.19.1.tar.gz&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;å®‰è£…nginx&quot;&gt;å®‰è£…Nginx&lt;/h2&gt;
&lt;h3 id=&quot;1å®‰è£…ä¾èµ–ç¯å¢ƒ&quot;&gt;1.å®‰è£…ä¾èµ–ç¯å¢ƒ&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;yum -y install wget gcc-c++ ncurses ncurses-devel cmake make perl bison openssl openssl-devel gcc* libxml2 libxml2-devel curl-devel libjpeg* libpng* freetype* autoconf automake zlib* fiex* libxml* libmcrypt* libtool-ltdl-devel* libaio libaio-devel  bzr libtool
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;2å®‰è£…openssl&quot;&gt;2.å®‰è£…openssl&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;wget https://www.openssl.org/source/openssl-1.0.2s.tar.gz
tar -zxvf openssl-1.0.2s.tar.gz
cd /usr/local/src/openssl-1.0.2s
./config --prefix=/usr/local/openssl-1.0.2s
make
make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;3å®‰è£…pcre&quot;&gt;3.å®‰è£…pcre&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;wget https://ftp.pcre.org/pub/pcre/pcre-8.43.tar.gz
tar -zxvf pcre-8.43.tar.gz
cd /usr/local/src/pcre-8.43
./configure --prefix=/usr/local/pcre-8.43
make
make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;4å®‰è£…zlib&quot;&gt;4.å®‰è£…zlib&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;wget https://sourceforge.net/projects/libpng/files/zlib/1.2.11/zlib-1.2.11.tar.gz
tar -zxvf zlib-1.2.11.tar.gz
cd /usr/local/src/zlib-1.2.11
./configure --prefix=/usr/local/zlib-1.2.11
make
make
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;5ä¸‹è½½nginx-rtmp-module&quot;&gt;5.ä¸‹è½½nginx-rtmp-module&lt;/h3&gt;
&lt;p&gt;nginx-rtmp-moduleçš„å®˜æ–¹githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot;&gt;https://github.com/arut/nginx-rtmp-module&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;git clone https://github.com/arut/nginx-rtmp-module.git  
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;6å®‰è£…nginx&quot;&gt;6.å®‰è£…Nginx&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;wget http://nginx.org/download/nginx-1.19.1.tar.gz
tar -zxvf nginx-1.19.1.tar.gz
cd /usr/local/src/nginx-1.19.1
./configure --prefix=/usr/local/nginx-1.19.1 --with-openssl=/usr/local/src/openssl-1.0.2s --with-pcre=/usr/local/src/pcre-8.43 --with-zlib=/usr/local/src/zlib-1.2.11 --add-module=/usr/local/src/nginx-rtmp-module --with-http_ssl_module
make
make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå®‰è£…Nginxæ—¶ï¼ŒæŒ‡å®šçš„æ˜¯opensslã€pcreå’Œzlibçš„æºç è§£å‹ç›®å½•ï¼Œå®‰è£…å®ŒæˆåNginxé…ç½®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ä¸ºï¼š/usr/local/nginx-1.19.1/conf/nginx.confã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;é…ç½®nginx&quot;&gt;é…ç½®Nginx&lt;/h2&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ç¼–è¾‘Nginxçš„nginx.confæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /usr/local/nginx-1.19.1/conf/nginx.conf
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¼–è¾‘åçš„æ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;user root;
worker_processes 1;
#error_log logs/error.log;
#error_log logs/error.log notice;
#error_log logs/error.log info;
#pid logs/nginx.pid;
events {
        worker_connections 1024;
}
http {
        include mime.types;
        default_type application/octet-stream;
        #log_format main '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
        # '$status $body_bytes_sent &quot;$http_referer&quot; '
        # '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';
        #access_log logs/access.log main;
        sendfile on;
        #tcp_nopush on;
        #keepalive_timeout 0;
        keepalive_timeout 65;
        #gzip on;
        server {
                listen 88;
                server_name localhost;
                #charset koi8-r;
                #access_log logs/host.access.log main;
                location / {
                        root html;
                        index index.html index.htm;
                }
                #error_page 404 /404.html;
                # redirect server error pages to the static page /50x.html
                error_page 500 502 503 504 /50x.html;
                location = /50x.html {
                        root html;
                }
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¿®æ”¹ Nginx æ¬¢è¿é¦–é¡µå†…å®¹ï¼ˆç”¨äºåé¢æµ‹è¯•ï¼Œ ç”¨äºåŒºåˆ†ä¸¤ä¸ªèŠ‚ç‚¹çš„ Nginxï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨binghe133æœåŠ¡å™¨ä¸Šæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /usr/local/nginx-1.19.1/html/index.html
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨æ–‡ä»¶titleèŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;h1&amp;gt;Welcome to nginx! 1&amp;lt;/h1&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨binghe134æœåŠ¡å™¨ä¸Šæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /usr/local/nginx-1.19.1/html/index.html
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨æ–‡ä»¶titleèŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;h1&amp;gt;Welcome to nginx! 2&amp;lt;/h1&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å¼€æ”¾ç«¯å£&quot;&gt;å¼€æ”¾ç«¯å£&lt;/h2&gt;
&lt;p&gt;åœ¨æœåŠ¡å™¨çš„é˜²ç«å¢™ä¸­å¼€æ”¾88ç«¯å£ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;vim /etc/sysconfig/iptables
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ·»åŠ å¦‚ä¸‹é…ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;-A INPUT -m state --state NEW -m tcp -p tcp --dport 88 -j ACCEPT
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤é‡å¯é˜²ç«å¢™ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;service iptables restart
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æµ‹è¯•nginx&quot;&gt;æµ‹è¯•Nginx&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æµ‹è¯•Nginxæ˜¯å¦å®‰è£…æˆåŠŸ&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# /usr/local/nginx-1.19.1/sbin/nginx -t
nginx: the configuration file /usr/local/nginx-1.19.1/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/nginx-1.19.1/conf/nginx.conf test is successful
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å¯åŠ¨Nginx&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# /usr/local/nginx-1.19.1/sbin/nginx
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;é‡å¯ Nginx&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# /usr/local/nginx-1.19.1/sbin/nginx -s reload
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®Nginxå¼€æœºè‡ªå¯åŠ¨&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /etc/rc.local
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŠ å…¥å¦‚ä¸‹ä¸€è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;/usr/local/nginx-1.19.1/sbin/nginx
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œåˆ†åˆ«è®¿é—®ä¸¤å°æœåŠ¡å™¨ä¸ŠNginxï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725211621763.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725211640990.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…-keepalived&quot;&gt;å®‰è£… Keepalived&lt;/h2&gt;
&lt;p&gt;å®˜æ–¹ä¸‹è½½é“¾æ¥ä¸ºï¼š&lt;a href=&quot;http://www.keepalived.org/download.html&quot;&gt;http://www.keepalived.org/download.html&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸Šä¼ æˆ–ä¸‹è½½-keepalived&quot;&gt;ä¸Šä¼ æˆ–ä¸‹è½½ keepalived&lt;/h3&gt;
&lt;p&gt;ä¸Šä¼ æˆ–ä¸‹è½½ keepalivedï¼ˆkeepalived-1.2.18.tar.gzï¼‰ åˆ° /usr/local/src ç›®å½•&lt;/p&gt;
&lt;h3 id=&quot;è§£å‹å®‰è£…&quot;&gt;è§£å‹å®‰è£…&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# cd /usr/local/src
# tar -zxvf keepalived-1.2.18.tar.gz
# cd keepalived-1.2.18
# ./configure --prefix=/usr/local/keepalived
# make &amp;amp;&amp;amp; make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å°†-keepalived-å®‰è£…æˆ-linux-ç³»ç»ŸæœåŠ¡&quot;&gt;å°† keepalived å®‰è£…æˆ Linux ç³»ç»ŸæœåŠ¡&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæ²¡æœ‰ä½¿ç”¨ keepalived çš„é»˜è®¤è·¯å¾„å®‰è£…ï¼ˆé»˜è®¤æ˜¯/usr/localï¼‰ ,å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦åšä¸€äº›å·¥ä½œå¤åˆ¶é»˜è®¤é…ç½®æ–‡ä»¶åˆ°é»˜è®¤è·¯å¾„&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# mkdir /etc/keepalived
# cp /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¤åˆ¶ keepalived æœåŠ¡è„šæœ¬åˆ°é»˜è®¤çš„åœ°å€&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# cp /usr/local/keepalived/etc/rc.d/init.d/keepalived /etc/init.d/
# cp /usr/local/keepalived/etc/sysconfig/keepalived /etc/sysconfig/
# ln -s /usr/local/sbin/keepalived /usr/sbin/
# ln -s /usr/local/keepalived/sbin/keepalived /sbin/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è®¾ç½® keepalived æœåŠ¡å¼€æœºå¯åŠ¨ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# chkconfig keepalived on
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;ä¿®æ”¹-keepalived-é…ç½®æ–‡ä»¶&quot;&gt;ä¿®æ”¹ Keepalived é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;h3 id=&quot;master-èŠ‚ç‚¹é…ç½®æ–‡ä»¶ï¼ˆ19216850133ï¼‰&quot;&gt;MASTER èŠ‚ç‚¹é…ç½®æ–‡ä»¶ï¼ˆ192.168.50.133ï¼‰&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /etc/keepalived/keepalived.conf

! Configuration File for keepalived
global_defs {
        ## keepalived è‡ªå¸¦çš„é‚®ä»¶æé†’éœ€è¦å¼€å¯ sendmail æœåŠ¡ã€‚ å»ºè®®ç”¨ç‹¬ç«‹çš„ç›‘æ§æˆ–ç¬¬ä¸‰æ–¹ SMTP
        router_id binghe133 ## æ ‡è¯†æœ¬èŠ‚ç‚¹çš„å­—æ¡ä¸²ï¼Œé€šå¸¸ä¸º hostname
} 
## keepalived ä¼šå®šæ—¶æ‰§è¡Œè„šæœ¬å¹¶å¯¹è„šæœ¬æ‰§è¡Œçš„ç»“æœè¿›è¡Œåˆ†æï¼ŒåŠ¨æ€è°ƒæ•´ vrrp_instance çš„ä¼˜å…ˆçº§ã€‚å¦‚æœè„šæœ¬æ‰§è¡Œç»“æœä¸º 0ï¼Œå¹¶ä¸” weight é…ç½®çš„å€¼å¤§äº 0ï¼Œåˆ™ä¼˜å…ˆçº§ç›¸åº”çš„å¢åŠ ã€‚å¦‚æœè„šæœ¬æ‰§è¡Œç»“æœé 0ï¼Œå¹¶ä¸” weighté…ç½®çš„å€¼å°äº 0ï¼Œåˆ™ä¼˜å…ˆçº§ç›¸åº”çš„å‡å°‘ã€‚å…¶ä»–æƒ…å†µï¼Œç»´æŒåŸæœ¬é…ç½®çš„ä¼˜å…ˆçº§ï¼Œå³é…ç½®æ–‡ä»¶ä¸­ priority å¯¹åº”çš„å€¼ã€‚
vrrp_script chk_nginx {
        script &quot;/etc/keepalived/nginx_check.sh&quot; ## æ£€æµ‹ nginx çŠ¶æ€çš„è„šæœ¬è·¯å¾„
        interval 2 ## æ£€æµ‹æ—¶é—´é—´éš”
        weight -20 ## å¦‚æœæ¡ä»¶æˆç«‹ï¼Œæƒé‡-20
}
## å®šä¹‰è™šæ‹Ÿè·¯ç”±ï¼Œ VI_1 ä¸ºè™šæ‹Ÿè·¯ç”±çš„æ ‡ç¤ºç¬¦ï¼Œè‡ªå·±å®šä¹‰åç§°
vrrp_instance VI_1 {
        state MASTER ## ä¸»èŠ‚ç‚¹ä¸º MASTERï¼Œ å¯¹åº”çš„å¤‡ä»½èŠ‚ç‚¹ä¸º BACKUP
        interface eth0 ## ç»‘å®šè™šæ‹Ÿ IP çš„ç½‘ç»œæ¥å£ï¼Œä¸æœ¬æœº IP åœ°å€æ‰€åœ¨çš„ç½‘ç»œæ¥å£ç›¸åŒï¼Œ æˆ‘çš„æ˜¯ eth0
        virtual_router_id 33 ## è™šæ‹Ÿè·¯ç”±çš„ ID å·ï¼Œ ä¸¤ä¸ªèŠ‚ç‚¹è®¾ç½®å¿…é¡»ä¸€æ ·ï¼Œ å¯é€‰ IP æœ€åä¸€æ®µä½¿ç”¨, ç›¸åŒçš„ VRID ä¸ºä¸€ä¸ªç»„ï¼Œä»–å°†å†³å®šå¤šæ’­çš„ MAC åœ°å€
        mcast_src_ip 192.168.50.133 ## æœ¬æœº IP åœ°å€
        priority 100 ## èŠ‚ç‚¹ä¼˜å…ˆçº§ï¼Œ å€¼èŒƒå›´ 0-254ï¼Œ MASTER è¦æ¯” BACKUP é«˜
        nopreempt ## ä¼˜å…ˆçº§é«˜çš„è®¾ç½® nopreempt è§£å†³å¼‚å¸¸æ¢å¤åå†æ¬¡æŠ¢å çš„é—®é¢˜
        advert_int 1 ## ç»„æ’­ä¿¡æ¯å‘é€é—´éš”ï¼Œä¸¤ä¸ªèŠ‚ç‚¹è®¾ç½®å¿…é¡»ä¸€æ ·ï¼Œ é»˜è®¤ 1s
        ## è®¾ç½®éªŒè¯ä¿¡æ¯ï¼Œä¸¤ä¸ªèŠ‚ç‚¹å¿…é¡»ä¸€è‡´
        authentication {
                auth_type PASS
                auth_pass 1111 ## çœŸå®ç”Ÿäº§ï¼ŒæŒ‰éœ€æ±‚å¯¹åº”è¯¥è¿‡æ¥
        }
        ## å°† track_script å—åŠ å…¥ instance é…ç½®å—
        track_script {
                chk_nginx ## æ‰§è¡Œ Nginx ç›‘æ§çš„æœåŠ¡
        } #
        # è™šæ‹Ÿ IP æ± , ä¸¤ä¸ªèŠ‚ç‚¹è®¾ç½®å¿…é¡»ä¸€æ ·
        virtual_ipaddress {
                192.168.50.130 ## è™šæ‹Ÿ ipï¼Œå¯ä»¥å®šä¹‰å¤šä¸ª
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;backup-èŠ‚ç‚¹é…ç½®æ–‡ä»¶ï¼ˆ19216850134ï¼‰&quot;&gt;BACKUP èŠ‚ç‚¹é…ç½®æ–‡ä»¶ï¼ˆ192.168.50.134ï¼‰&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /etc/keepalived/keepalived.conf

! Configuration File for keepalived
global_defs {
        router_id binghe134
}
vrrp_script chk_nginx {
        script &quot;/etc/keepalived/nginx_check.sh&quot;
        interval 2
        weight -20
}
vrrp_instance VI_1 {
        state BACKUP
        interface eth1
        virtual_router_id 33
        mcast_src_ip 192.168.50.134
        priority 90
        advert_int 1
        authentication {
                auth_type PASS
                auth_pass 1111
        }
        track_script {
                chk_nginx
        }
        virtual_ipaddress {
                192.168.50.130
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;ç¼–å†™-nginx-çŠ¶æ€æ£€æµ‹è„šæœ¬&quot;&gt;ç¼–å†™ Nginx çŠ¶æ€æ£€æµ‹è„šæœ¬&lt;/h3&gt;
&lt;p&gt;ç¼–å†™ Nginx çŠ¶æ€æ£€æµ‹è„šæœ¬ /etc/keepalived/nginx_check.sh (å·²åœ¨ keepalived.conf ä¸­é…ç½®)è„šæœ¬è¦æ±‚ï¼šå¦‚æœ nginx åœæ­¢è¿è¡Œï¼Œå°è¯•å¯åŠ¨ï¼Œå¦‚æœæ— æ³•å¯åŠ¨åˆ™æ€æ­»æœ¬æœºçš„ keepalived è¿›ç¨‹ï¼Œ keepaliedå°†è™šæ‹Ÿ ip ç»‘å®šåˆ° BACKUP æœºå™¨ä¸Šã€‚ å†…å®¹å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# vim /etc/keepalived/nginx_check.sh

#!/bin/bash
A=`ps -C nginx â€“no-header |wc -l`
if [ $A -eq 0 ];then
/usr/local/nginx/sbin/nginx
sleep 2
if [ `ps -C nginx --no-header |wc -l` -eq 0 ];then
        killall keepalived
fi
fi
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¿å­˜åï¼Œç»™è„šæœ¬èµ‹æ‰§è¡Œæƒé™ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# chmod +x /etc/keepalived/nginx_check.sh
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å¯åŠ¨-keepalived&quot;&gt;å¯åŠ¨ Keepalived&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;# service keepalived start
Starting keepalived: [ OK ]
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;keepalivednginx-çš„é«˜å¯ç”¨æµ‹è¯•&quot;&gt;Keepalived+Nginx çš„é«˜å¯ç”¨æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;åŒæ—¶å¯åŠ¨192.168.50.133å’Œ192.168.50.134ä¸Šçš„Nginxå’ŒKeepalivedï¼Œæˆ‘ä»¬é€šè¿‡VIP(192.168.50.130)æ¥è®¿é—®Nginxï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725211700449.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…³é—­192.168.50.133ä¸Šçš„Keepalivedå’ŒNginxï¼Œåœ¨192.168.50.133æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;service keepalived stop
/usr/local/nginx-1.19.1/sbin/nginx -s stop
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå†é€šè¿‡VIP(192.168.50.130)æ¥è®¿é—®Nginxï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200725211710421.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†å¼€å¯192.168.50.133ä¸Šçš„Keepalivedå’ŒNginxï¼Œåœ¨192.168.50.133æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;/usr/local/nginx-1.19.1/sbin/nginx
service keepalived start
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ–è€…åªæ‰§è¡Œ&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;service keepalived start
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬å†™äº†è„šæœ¬nginx_check.shï¼Œè¿™ä¸ªè„šæœ¬ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨è‡ªåŠ¨Nginxã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬å†é€šè¿‡VIP(192.168.50.130)æ¥è®¿é—®Nginxï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2020072521172891.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒKeepalived + Nginx å®ç°é«˜å¯ç”¨ Web è´Ÿè½½å‡è¡¡æ­å»ºå®Œæ¯•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¸©é¦¨æç¤º&quot;&gt;æ¸©é¦¨æç¤º&lt;/h2&gt;
&lt;p&gt;å°ä¼™ä¼´ä»¬å¯ä»¥åˆ°ä¸‹é¢çš„é“¾æ¥ä¸‹è½½Keepalived + Nginx å®ç°é«˜å¯ç”¨ Web è´Ÿè½½å‡è¡¡çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://download.csdn.net/detail/l1028386804/9855362&quot;&gt;http://download.csdn.net/detail/l1028386804/9855362&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;é‡ç£…ç¦åˆ©&quot;&gt;é‡ç£…ç¦åˆ©&lt;/h2&gt;
&lt;p&gt;å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·ï¼Œåå°å›å¤ â€œè®¾è®¡æ¨¡å¼â€ å…³é”®å­—é¢†å–ã€Šæ·±å…¥æµ…å‡ºJava 23ç§è®¾è®¡æ¨¡å¼ã€‹PDFæ–‡æ¡£ã€‚å›å¤â€œJava8â€å…³é”®å­—é¢†å–ã€ŠJava8æ–°ç‰¹æ€§æ•™ç¨‹ã€‹PDFæ–‡æ¡£ã€‚ä¸¤æœ¬PDFå‡æ˜¯ç”±å†°æ²³åŸåˆ›å¹¶æ•´ç†çš„è¶…ç¡¬æ ¸æ•™ç¨‹ï¼Œé¢è¯•å¿…å¤‡ï¼ï¼&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¥½äº†ï¼Œä»Šå¤©å°±èŠåˆ°è¿™å„¿å§ï¼åˆ«å¿˜äº†ç‚¹ä¸ªèµï¼Œç»™ä¸ªåœ¨çœ‹å’Œè½¬å‘ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ï¼ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;å†™åœ¨æœ€å&quot;&gt;å†™åœ¨æœ€å&lt;/h2&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å¦‚æœä½ è§‰å¾—å†°æ²³å†™çš„è¿˜ä¸é”™ï¼Œè¯·å¾®ä¿¡æœç´¢å¹¶å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·ï¼Œè·Ÿå†°æ²³å­¦ä¹ é«˜å¹¶å‘ã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ã€å¤§æ•°æ®ã€äº’è”ç½‘å’Œäº‘åŸç”ŸæŠ€æœ¯ï¼Œã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·æ›´æ–°äº†å¤§é‡æŠ€æœ¯ä¸“é¢˜ï¼Œæ¯ä¸€ç¯‡æŠ€æœ¯æ–‡ç« å¹²è´§æ»¡æ»¡ï¼ä¸å°‘è¯»è€…å·²ç»é€šè¿‡é˜…è¯»ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·æ–‡ç« ï¼ŒåŠæ‰“é¢è¯•å®˜ï¼ŒæˆåŠŸè·³æ§½åˆ°å¤§å‚ï¼›ä¹Ÿæœ‰ä¸å°‘è¯»è€…å®ç°äº†æŠ€æœ¯ä¸Šçš„é£è·ƒï¼Œæˆä¸ºå…¬å¸çš„æŠ€æœ¯éª¨å¹²ï¼å¦‚æœä½ ä¹Ÿæƒ³åƒä»–ä»¬ä¸€æ ·æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œå®ç°æŠ€æœ¯èƒ½åŠ›çš„é£è·ƒï¼Œè¿›å¤§å‚ï¼Œå‡èŒåŠ è–ªï¼Œé‚£å°±å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·å§ï¼Œæ¯å¤©æ›´æ–°è¶…ç¡¬æ ¸æŠ€æœ¯å¹²è´§ï¼Œè®©ä½ å¯¹å¦‚ä½•æå‡æŠ€æœ¯èƒ½åŠ›ä¸å†è¿·èŒ«ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200716220443647.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 25 Jul 2020 13:23:00 +0000</pubDate>
<dc:creator>å†°æ²³å›¢é˜Ÿ</dc:creator>
<og:description>å†™åœ¨å‰é¢ ä¸å¾—ä¸è¯´ï¼Œæœ€è¿‘å°ä¼™ä¼´ä»¬çš„å­¦ä¹ çƒ­æƒ…æ˜¯è¶Šæ¥è¶Šé«˜ï¼Œä¸æ–­å‘å†°æ²³æå‡ºæ–°çš„æƒ³å­¦ä¹ çš„æŠ€æœ¯ã€‚è¿™ä¸ï¼Œåˆæœ‰å°ä¼™ä¼´é—®æˆ‘ï¼šå†°æ²³ï¼Œä½ åœ¨ã€Nginxä¸“é¢˜ã€‘å†™çš„æ–‡ç« åŸºæœ¬ä¸Šéƒ½æ˜¯Nginxå•æœºç‰ˆçš„ï¼Œèƒ½ä¸èƒ½å†™ä¸€ç¯‡å…³äºNginx</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/binghe001/p/13378305.html</dc:identifier>
</item>
<item>
<title>é€šä¿—æ˜“æ‡‚ | æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³• - å¿½é€¢æ¡ƒæ—</title>
<link>http://www.cnblogs.com/PythonLearner/p/13358420.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/PythonLearner/p/13358420.html</guid>
<description>&lt;p&gt;åœ¨SVMä¸­ï¼Œå°†çº¦æŸé—®é¢˜è½¬åŒ–æˆéçº¦æŸé—®é¢˜é‡‡ç”¨åˆ°äº†æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ã€‚è¿™ä¸ªæ–‡ç« å°±è®²ä¸€ä¸‹æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ä¸KKTçº¦æŸæ˜¯æ€ä¹ˆå›äº‹ã€‚æœ¬äººä¸æ˜¯æ•°å­¦ç§‘ç­å‡ºèº«ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½ç¡¬ç€å¤´çš®è®²ä¸€è®²äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬è¦è§£å†³è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(x^2y=3\)&lt;/span&gt;&lt;br/&gt;&lt;strong&gt;è¿™ä¸ªå‡½æ•°è·ç¦»åŸç‚¹æœ€è¿‘çš„è·ç¦»æ˜¯å¤šå°‘ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…ˆç”»å‡ºå‡½æ•°å›¾åƒï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_61decd8bc847ae960c57c554417fca12.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæƒ³æ±‚å‡ºæœ€çŸ­è·ç¦»ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/20180801104757795.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„æ€è·¯å°±æ˜¯ï¼Œåšä¸€ä¸ªä»¥åŸç‚¹ä¸ºä¸­å¿ƒçš„åœ†å½¢ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/20180801104757887.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸æ–­æ‰©å¤§åœ†å½¢çš„åŠå¾„ï¼Œç›´åˆ°åœ†ä¸è“è‰²çš„æ›²çº¿ç›¸åˆ‡ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/20180801104757971.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨ã€‚ç¬¬ä¸€æ¬¡ä¸&lt;span class=&quot;math inline&quot;&gt;\(x^2y=3\)&lt;/span&gt;ç›¸äº¤çš„ç‚¹å°±æ˜¯è·ç¦»åŸç‚¹æœ€è¿‘çš„é‚£ä¸ªç‚¹ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_89449ed1114eb8065b98fae15a08229b.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªï¼Œåœ†å½¢ä¸æ›²çº¿ç›¸åˆ‡ï¼Œä¸”åˆ‡çº¿æ—¢æ˜¯åœ†å½¢çš„åˆ‡çº¿ï¼Œä¹Ÿæ˜¯æ›²çº¿çš„ç›¸åˆ‡ã€‚&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_e4bad146a7b937e7ea2068618982f6dc.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™ï¼Œè¿™ä¸ªåˆ‡çº¿çš„å‚çº¿å…¶å®ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„&lt;strong&gt;æ¢¯åº¦&lt;/strong&gt;ï¼Œä¹Ÿå«åš&lt;strong&gt;ç­‰é«˜çº¿çš„æ³•çº¿&lt;/strong&gt;ï¼Œçœ‹ä¸‹é¢ä¸¤ä¸ªå›¾å¯èƒ½ä¼šå¥½ç†è§£ä¸€äº›ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_c46aaf66f41e4fef138cb9006f20d493.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_426f3fb9f7c0bd283d01add99977b48e.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ä¸ª&lt;strong&gt;æ¢¯åº¦&lt;/strong&gt;æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿå…ˆçœ‹åœ†å½¢&lt;span class=&quot;math inline&quot;&gt;\(f(x,y)=x^2+y^2\)&lt;/span&gt;çš„æ¢¯åº¦ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_7c6f24c2fffcdc129afe03de0a5b1ee5.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å†çœ‹æ›²çº¿çš„æ¢¯åº¦è®¡ç®—&lt;span class=&quot;math inline&quot;&gt;\(g(x,y)=x^2y\)&lt;/span&gt;çš„æ¢¯åº¦ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_30467397351171801a7821d0a298df46.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç›¸åˆ‡çš„æ—¶å€™ï¼Œä¸¤è€…çš„æ¢¯åº¦æ–¹å‘éƒ½åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šï¼Œå¯ä»¥ç§°ä¹‹ä¸ºï¼Œ&lt;strong&gt;æˆæ¯”ä¾‹&lt;/strong&gt;ï¼Œè¿™é‡Œç”¨æ¯”ä¾‹ç³»æ•°&lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;æ¥è¡¨ç¤ºï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_dcad4360b54df3aaa62917e1dca7e94d.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬æ±‡æ€»ä¸€ä¸‹æ‰€æœ‰çš„å·²çŸ¥ä¿¡æ¯ï¼Œå¾—åˆ°ä¸‹é¢çš„æ–¹ç¨‹ç»„ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_fa0bfa872daba7d7b78fd7ba7e34123e.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ±‚è§£å¾—åˆ°ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_ead0fac4ff11b404075c330bc41531e9.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•çš„ç›´è§‚ç†è§£ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜ï¼š&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\min {x^2+y^2}\)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(s.t. x^2y=3\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¼šå°†çº¦æŸé—®é¢˜é€šè¿‡æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•è½¬æ¢æˆéçº¦æŸé—®é¢˜ï¼š&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\min F(x,y)={x^2+y^2+\lambda(x^2y-3)}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å‘¢ï¼Ÿã€‘&lt;/strong&gt;&lt;br/&gt;å¦‚æœæ±‚æå€¼ï¼Œåå¯¼æ•°ä¸º0ã€‚å…ˆå¯¹ä¸Šé¢çš„å…¬å¼è¿›è¡Œæ±‚åå¯¼æ•°ï¼š&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\frac{\partial F(x,y)}{\partial x}=2x+\lambda 2xy=0\)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\frac{\partial F(x,y)}{\partial y}=2y+\lambda x^2=0\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªç­‰å¼ä¸è¿™ä¸ªç­‰ä»·ï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;ä¸€ä¸ªæ˜¯æ­£æ•°ä¸€ä¸ªæ˜¯è´Ÿæ•°:&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_cf6cb83c33ae9d35533ed9998afc808a.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¯¹äº&lt;span class=&quot;math inline&quot;&gt;\(x^2y-3=0\)&lt;/span&gt;è¿™ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆ&lt;span class=&quot;math inline&quot;&gt;\(\frac{\partial F(x,y,\lambda)}{\partial \lambda}\)&lt;/span&gt;ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥å¾—åˆ°è¿™æ ·çš„ä¸€ä¸ªæ–¹ç¨‹ç»„ï¼š&lt;br/&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_8987c88772be08274b468cfe79012af4.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;KKTçš„è‹±æ–‡å…¨ç§°ï¼šKarush-Kuhn-Tucker&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¹‹å‰çš„æ‹‰æ ¼æœ—æ—¥çš„çº¦æŸæ¡ä»¶æ˜¯ç­‰å€¼çš„ï¼Œ&lt;strong&gt;ç°åœ¨å¯ä»¥é€šè¿‡KKTæ¡ä»¶æ¨å¹¿åˆ°ä¸ç­‰å¼ã€‚å› ä¸ºé™åˆ¶æ¡ä»¶å¾€å¾€æ˜¯ä¸å¤§äºï¼Œå°äºè¿™æ ·çš„ä¸ç­‰å¼ï¼Œæ‰€ä»¥KKTæ‰æ˜¯æ‹‰æ ¼æœ—æ—¥åŒ–çº¦æŸé—®é¢˜ä¸ºéçº¦æŸé—®é¢˜çš„å…³é”®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸ç­‰å¼é—®é¢˜ï¼Œå°±æ˜¯æœ‰ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¯è¡Œè§£åœ¨g(x)&amp;lt;0ï¼›&lt;/li&gt;
&lt;li&gt;å¯è¡Œè§£åœ¨g(x)=0ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¯è¡Œè§£åœ¨g(x)&amp;lt;0ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªçº¦æŸæ¡ä»¶å¹¶æ²¡æœ‰èµ·åˆ°çº¦æŸæ•ˆæœï¼Œæœ‰æ ¹æ²¡æœ‰äº‹ä¸€ä¸ªæ•ˆæœï¼ˆä¸‹å›¾ä¸­çš„å·¦å›¾ï¼‰ï¼›å¯è¡Œè§£g(x)=0,å°±è¡¨ç¤ºè¿™ä¸ªçº¦æŸæ¡ä»¶èµ·åˆ°ä½œç”¨äº†ï¼Œè¿™å°±è¡¨ç¤ºg(x)ä¸f(x)ç›¸åˆ‡ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­å³è¾¹çš„å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://helloworld2020.net/wp-content/uploads/2020/07/wp_editor_md_89362dde7ad142d88a7566606386ab3b.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€g(x)&amp;lt;0çš„æƒ…å†µã€‘&lt;/strong&gt;&lt;br/&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œå°±æ˜¯æ²¡æœ‰é™åˆ¶æ¡ä»¶ä¸‹çš„æƒ…å†µï¼Œå…¶å®å°±æ˜¯æ²¡æœ‰çº¦æŸæ¡ä»¶çš„é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(\lambda=0\)&lt;/span&gt;çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç­‰å¼å°±æ˜¯ç›´æ¥æ±‚è§£ï¼š&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\Delta f(x)=0\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€g(x)=0çš„æƒ…å†µã€‘&lt;/strong&gt;&lt;br/&gt;å¦‚æœæ˜¯g(x)=0çš„æƒ…å†µï¼Œé‚£ä¹Ÿå°±æ˜¯çº¦æŸæ¡ä»¶èµ·åˆ°ä½œç”¨äº†ï¼Œä¹Ÿå°±æ„å‘³ç€&lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;gt;0\)&lt;/span&gt;ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­˜åœ¨ç€:&lt;br/&gt;&lt;span class=&quot;math inline&quot;&gt;\(\Delta f(x) = -\lambda \Delta g(x)\)&lt;/span&gt;&lt;br/&gt;å¹¶ä¸”ä¸¤ä¸ªå‡½æ•°çš„æ‰©å¼ çš„æ–¹å‘ç›¸åï¼Œæ‰€ä»¥è¡¨æ˜ä¸¤ä¸ªg(x)å’Œf(x)çš„æ¢¯åº¦ä¸€ä¸ªæ˜¯æ­£æ•°ï¼Œä¸€ä¸ªæ˜¯è´Ÿæ•°ã€‚æ‰€ä»¥è¿™ä¸ªè¡¨ç¤º&lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;gt;0\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„æ¡ä»¶ç»¼åˆèµ·æ¥å¯ä»¥å¾—åˆ°ï¼Œå…¶ä¸­&lt;span class=&quot;math inline&quot;&gt;\(x^\*\)&lt;/span&gt;å°±æ˜¯æœ€ä¼˜è§£ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(\lambda &amp;gt;=0\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(\lambda g(x^*)=0\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;$ g(x^*) &amp;lt;= 0$&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿™ä¸‰ä¸ªå°±æ˜¯KKTæ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cDovL2hlbGxvd29ybGQyMDIwLm5ldC93cC1jb250ZW50L3VwbG9hZHMvMjAyMC8wNy8lRTklQkIlOTglRTglQUUlQTQlRTYlQTAlODclRTklQTIlOThfJUU1JThBJUE4JUU2JTgwJTgxJUU1JTg4JTg2JUU1JTg5JUIyJUU3JUJBJUJGXzIwMjAtMDctMjAtMC5naWY&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cDovL2hlbGxvd29ybGQyMDIwLm5ldC93cC1jb250ZW50L3VwbG9hZHMvMjAyMC8wNy93cF9lZGl0b3JfbWRfMzEyZGQyZDliYmNmZmNiZDk0Y2YwODlkYTE4YzVjNGEuanBn?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cDovL2hlbGxvd29ybGQyMDIwLm5ldC93cC1jb250ZW50L3VwbG9hZHMvMjAyMC8wNy8lRTklQkIlOTglRTglQUUlQTQlRTYlOTYlODclRTQlQkIlQjYxNTk1MjUxNjIxMTEyLnBuZw?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 25 Jul 2020 12:45:00 +0000</pubDate>
<dc:creator>å¿½é€¢æ¡ƒæ—</dc:creator>
<og:description>åœ¨SVMä¸­ï¼Œå°†çº¦æŸé—®é¢˜è½¬åŒ–æˆéçº¦æŸé—®é¢˜é‡‡ç”¨åˆ°äº†æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ã€‚è¿™ä¸ªæ–‡ç« å°±è®²ä¸€ä¸‹æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ä¸KKTçº¦æŸæ˜¯æ€ä¹ˆå›äº‹ã€‚æœ¬äººä¸æ˜¯æ•°å­¦ç§‘ç­å‡ºèº«ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½ç¡¬ç€å¤´çš®è®²ä¸€è®²äº†ã€‚ ä»é›¶ç†è§£ ç°åœ¨æˆ‘ä»¬è¦è§£å†³è¿™æ ·ä¸€ä¸ª</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/PythonLearner/p/13358420.html</dc:identifier>
</item>
<item>
<title>èŠ±äº†ä¸€ä¸ªæœˆçš„æ—¶é—´åœ¨ä¸€ä¸ªojç½‘ç«™åªåˆ·äº†è¿™äº›é¢˜ï¼Œä»æ­¤å…¥é—¨äº†ç»å¤§å¤šæ•°ç®—æ³• - ç„ä¹‹ä¸ç„</title>
<link>http://www.cnblogs.com/wbcdmn/p/13377914.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wbcdmn/p/13377914.html</guid>
<description>&lt;p&gt;å¦‚æœä½ æƒ³å…¥é—¨ç®—æ³•ï¼Œé‚£ä¹ˆæˆ‘è¿™ç¯‡æ–‡ç« ä¹Ÿè®¸å¯ä»¥å¸®åˆ°ä½ ã€‚&lt;br/&gt;ojç½‘ç«™æœ‰è¿™ä¹ˆå¤šï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„ã€‚æˆ‘å½“åˆæ˜¯åœ¨hduä¸Šé¢åˆ·çš„ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œé—®å°±æ˜¯å½“æ—¶æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ–°æ‰‹ï¼Œæ‡µæ‡µæ‡‚æ‡‚å°±åˆ·èµ·æ¥äº†ã€‚ç‚¹è¿™é‡Œå¯ä»¥è¿›å…¥è¿™ä¸ªç½‘ç«™https://vjudge.net/&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/7/25/17385b60f0f423b4?w=720&amp;amp;h=583&amp;amp;f=png&amp;amp;s=460952&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;æˆ‘åªåœ¨hduä¸Šåˆ·å…¶ä»–çš„æ²¡åˆ·è¿‡ã€‚è®©æˆ‘å»ºè®®çš„è¯ä¹Ÿæ˜¯å»ºè®®ä½ åˆ·hduï¼Œå·®ä¸å¤šçœŸçš„ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆç»™å¤§å®¶çœ‹ä¸€ä¸‹æˆ‘ojç½‘ç«™ä¸Šçš„è®°å½•ï¼Œè¿™æ˜¯æ­ç”µåˆ·é¢˜ç½‘ç«™ï¼Œæˆ‘ä¸æ˜¯æ­ç”µçš„ï¼Œæˆ‘æ˜¯ä¸€ä¸ªéå¸¸éå¸¸æ™®é€šçš„æœ¬ç§‘ç”Ÿã€‚é“¾æ¥åœ¨è¿™http://acm.hdu.edu.cn/&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/7/25/17385b655286535b?w=720&amp;amp;h=248&amp;amp;f=png&amp;amp;s=143358&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆæ°´çš„æ•°æ®æäº¤é”™è¯¯(WA)çš„æ¬¡æ•°å¤ªå¤šï¼Œä½†æˆ‘ç¡®ç¡®å®å®æ˜¯å‡­å€Ÿå®ƒæ¯”å¤§å¤šæ•°äººéƒ½å¿«é€Ÿçš„å…¥é—¨äº†ç®—æ³•ã€‚è¿™é‡Œé¢˜ç›®ä¸å¤šè€Œä¸”å¾ˆå¤šæ˜¯æ°´é¢˜ï¼Œåˆ·æ°´é¢˜ä¹Ÿæœ‰ä¸å°‘å¥½å¤„èƒ½è®©ä½ åœ¨å­¦ç®—æ³•é¢˜çš„è·¯ä¸Šæ²¡é‚£ä¹ˆæ¯ç‡¥ã€‚ å¤§æ¦‚æœ‰å“ªäº›ç®—æ³•å‘¢ï¼Ÿè¿™é‡Œåˆ—å‡ºä¸€äº›æˆ‘å½“æ—¶åšçš„é¢˜ï¼ˆæœ‰äº›ä¸åœ¨ä¸Šé¢ï¼‰ã€‚é¢˜ç›®éƒ½æ˜¯éå¸¸éå¸¸åŸºç¡€çš„é¢˜ç›®å±äºå…¥é—¨çº§åˆ«çš„åŸºæœ¬ä¸Šæ²¡æœ‰ä»€ä¹ˆå˜å½¢ï¼Œå¯ä»¥è¯´ç›¸å½“äºæ¨¡æ¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/7/25/17385b6ccbb37419?w=298&amp;amp;h=702&amp;amp;f=png&amp;amp;s=48040&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥åˆ†äº«ä¸€ä¸‹å½“æ—¶æˆ‘æ˜¯æ€ä¹ˆåˆ·è¿™äº›é¢˜çš„ï¼ˆä¸‹é¢çš„ä¸€äº›æ•°å­—è¦æ˜¯çœ‹ç€æ¯”è¾ƒçƒ¦çš„è¯å¯ä»¥ä¸ç”¨å¤ªå…³æ³¨ï¼‰ï¼Œæˆ‘æ²¡çœ‹ä»»ä½•äººçš„æ¨èè·¯çº¿å»åˆ·è¿™äº›é¢˜ï¼ˆé‚£æ—¶å€™æˆ‘ä¹Ÿä¸çŸ¥é“è¿˜æœ‰åˆ·é¢˜è·¯çº¿è¿™äº›ä¸œè¥¿å•Šï¼Œçº¯æ–°æ‰‹å¯¹ä¸€åˆ‡ä¸€æ— æ‰€çŸ¥ï¼‰ã€‚ç™»é™†è¿›å»hduä¸€èˆ¬æƒ…å†µä¸‹æ˜¯åœ¨ç¬¬11é¡µå¼€å§‹çš„ï¼ˆç°åœ¨å¥½åƒåˆä»ç¬¬ä¸€é¡µå¼€å§‹äº†ï¼Œä»å“ªé‡Œå¼€å§‹ä¸è¦ç´§ï¼‰ï¼Œä¹Ÿå°±æ˜¯é¢˜å·æ˜¯2000ï¼Œå½“æ—¶æ‡µæ‡µæ‡‚æ‡‚ä»2000ä¸€ç›´åˆ·åˆ°äº†2058ã€‚è¶Šåˆ°åé¢æ„Ÿè§‰æœ‰äº›é¢˜ç›®éš¾åº¦å°±ä¸Šæ¥äº†ï¼ˆå½“ç„¶è¿™æ˜¯å¯¹æˆ‘æ¥è¯´çš„ï¼‰ã€‚æœ‰äº›é¢˜å³ä½¿æ˜¯çœ‹äº†å¾ˆå¤šçš„é¢˜è§£æˆ‘è¿˜æ˜¯ä¸ä¼šï¼Œæ— å¥ˆåªèƒ½è·³è¿‡ã€‚&lt;br/&gt;ä¸€è·¯åˆ·åˆ°2058é¢˜åï¼Œæˆ‘å‘ç°é¢˜å·æ˜¯ä»1000å¼€å§‹çš„ï¼Œå‰é¢è¿˜æœ‰å¥½å¤šé¢˜æ²¡æœ‰åˆ·å°±è·³å»ç¬¬ä¸€é¡µåˆ·é¢˜ã€‚æ‰€ä»¥åé¢æˆ‘å°±ä»1000å¼€å§‹åˆ·äº†ã€‚ä¸è¿‡è¿™æ¬¡æˆ‘å­¦èªæ˜äº†ï¼Œæˆ‘æ²¡æœ‰å…¨éƒ¨éƒ½åˆ·ã€‚æˆ‘åªåˆ·ä¸€äº›æ¯”è¾ƒå¤šäººåˆ·çš„é¢˜ç›®ï¼Œè¿™é‡Œå¼ºçƒˆæ¨èæäº¤é‡è¶…è¿‡30000çš„è®°ä½æ˜¯æäº¤é‡ä¸æ˜¯é€šè¿‡é‡ã€‚åˆ·è¿™äº›æäº¤é‡é€šè¿‡ä¸‰ä¸‡çš„ç†ç”±å¦‚ä¸‹ï¼Œè¿™äº›æäº¤é‡ä¸‰ä¸‡ä»¥ä¸Šçš„é¢˜ç›®åŸºæœ¬ä¸Šé“é“æ˜¯ç®—æ³•ç²¾å“ï¼Œæ˜¯éå¸¸åŸºç¡€çš„ç®—æ³•é¢˜ï¼Œå¯ä»¥å½“ä½œæ¨¡æ¿ã€‚æˆ‘ä¸€è·¯ä»1000åˆ·åˆ°äº†2000å·¦å³ï¼ˆåé¢å°±æ²¡æ€ä¹ˆåˆ·äº†ï¼‰ã€‚åŸºæœ¬ä¸Šæ‰€æœ‰çš„30000é€šè¿‡é‡ä»¥ä¸Šçš„é¢˜ç›®éƒ½ç»™åˆ·äº†ä¸€éã€‚åˆ·å®Œæ„Ÿè§‰è‡ªå·±å¥½åƒå˜å¼ºäº†ï¼Œæœ€ä¸»è¦çš„æ˜¯è‡ªå·±çš„æ€ç»´é€»è¾‘æå‡ä¸Šæ¥äº†&lt;sup&gt;_&lt;/sup&gt;ã€‚&lt;br/&gt;å…¶å®åˆ·20000æäº¤é‡ä»¥ä¸Šä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé‚£äº›åº”è¯¥ä¹Ÿæ˜¯ä¸€äº›ç®—æ³•é¢˜ï¼Œæœ‰å®åŠ›çš„å¯ä»¥è¿™æ ·å­åšã€‚&lt;br/&gt;å¦‚æœä½ é—®æˆ‘æ²¡æœ‰åŸºç¡€å»åˆ·è¿™äº›é¢˜ä¼šä¸ä¼šå›°éš¾ï¼Œé¢ç¡®å®æ˜¯æ¯”è¾ƒéš¾ï¼Œä¸è¿‡éš¾ä¹Ÿå°±éš¾ä¸€ä¸ªæœˆå·¦å³å§ã€‚æˆ‘åˆ·hduå¤§æ¦‚åˆ·äº†ä¸€ä¸ªæœˆï¼ˆæœŸé—´ç—›è‹¦å¹¶å¿«ä¹ç€ï¼‰ï¼Œå°±åˆ·å®Œä¸Šé¢æ‰€åˆ—çš„é‚£äº›é¢˜ç›®äº†ã€‚åˆ·è¿™äº›é¢˜çš„æ—¶å€™æˆ‘æ‰åˆšåˆšå¼€å§‹çŸ¥é“ç®—æ³•å¤§æ¦‚æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚æˆ‘çš„åŸºç¡€åªæœ‰å¤§ä¸€åˆ·çš„ä¸€äº›åŸºç¡€Cè¯­è¨€é¢˜ç›®ï¼ŒæœŸé—´æ€ç»´çš„è½¬å˜å¾ˆå…³é”®ã€‚å¼€å§‹åŸºæœ¬ä¸Šå¾ˆå¤šé¢˜ç›®éƒ½æ˜¯æ‰¾ç™¾åº¦çš„ã€‚æ¯é“é¢˜ç›®çœ‹äº†å¥½å¤šä¸ªäººçš„é¢˜è§£ï¼Œå¤§å¤šæ•°æ—¶å€™çœ‹çš„ä¸€è„¸æ‡µé€¼ï¼Œä¸è¿‡è¿˜æ˜¯æ…¢æ…¢åšæŒä¸‹æ¥å¹¶ä¸”é€‚åº”äº†ã€‚&lt;br/&gt;å¦‚æœä½ é—®æˆ‘ä¸€ä¸ªæœˆå¤Ÿäº†å—çš„è¯ã€‚ä¸€ä¸ªæœˆæ˜¯çœŸçš„å¤Ÿäº†ï¼Œåªè¦ä½ å§ä¸€å¤©çš„ä¸»ä»»åŠ¡æ”¾åœ¨åˆ·é¢˜ä¸ŠçœŸçš„å¯ä»¥å…¥é—¨è¿™äº›éå¸¸æœ‰ç”¨çš„ç®—æ³•ï¼Œä»æ­¤é£é»„è…¾è¾¾ï¼ˆå…¶å®æ˜¯æ‰è¿›äº†å‘å“ˆå“ˆï¼Œä¸è¿‡ä¸ºäº†é’±ä¸€åˆ‡éƒ½å€¼å¾—ï¼‰ã€‚å¦‚æœä½ å†è‚ä¸€ç‚¹åŠä¸ªæœˆä¼°è®¡ä¹Ÿå¯ä»¥æå®šã€‚&lt;br/&gt;è¿™é‡Œå†åˆ†äº«ä¸€ä¸‹æˆ‘çœ‹é¢˜è§£çš„ä¸€äº›å°æŠ€å·§ã€‚å¼€å§‹åˆ·åˆ°ç®—æ³•é¢˜ï¼ˆé‚£æ—¶å€™å¹¶ä¸çŸ¥é“è¿™äº›é¢˜æ˜¯ç®—æ³•é¢˜ï¼‰æ˜¯çœŸçš„ç—›ä¸æ¬²ç”Ÿï¼Œç™¾åº¦é¢˜è§£ä¸€è„¸æ‡µé€¼ï¼Œçœ‹äº†å¥½å¤šé¢˜è§£è¿˜æ˜¯ä¸å¤ªæ‡‚è¿™é“é¢˜ï¼Œä¸è¿‡çœ‹å¤šä¸€ç‚¹é¢˜è§£å°±æ˜¯æˆ‘è¦åˆ†äº«ç»™ä½ çš„å°æŠ€å·§ã€‚åˆšå­¦çš„ç®—æ³•é¢˜ï¼Œéšä¾¿æ‰¾ä¸€äº›è‡ªå·±è®¤ä¸ºæ¯”è¾ƒå¥½çš„ï¼ˆæ¨èä»£ç ç®€æ´çš„ï¼‰ï¼Œç„¶åå°±å»è®¤çœŸçš„çœ‹ï¼Œçœ‹ä¸æ‡‚æ²¡å…³ç³»ä¸€éå¾ˆéš¾çœ‹æ‡‚çš„ï¼ˆå¯¹æœªçŸ¥æ„Ÿåˆ°ææƒ§å¾ˆæ­£å¸¸ï¼Œä½†å¿ƒæ€æ”¾å¹³ä¸è¦ç•éš¾çœŸçš„å¾ˆé‡è¦ï¼Œè¿™ä¸æ˜¯é¸¡æ±¤ï¼Œä¸å°‘äººåº”è¯¥äº²ç”Ÿç»å†è¿‡ï¼‰ï¼Œå¯ä»¥ä¸ç”¨ç»§ç»­çœ‹ä»–çš„é¢˜è§£ï¼Œå»çœ‹å…¶ä»–äººçš„é¢˜è§£ï¼Œè®¤çœŸçœ‹ä¸ªå‡ ä¸ªäººçš„é¢˜è§£ï¼Œæ…¢æ…¢çš„ä½ å°±ä¼šå¯¹è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œçœ‹ç€çœ‹ç€ä½ å°±ä¼šè±ç„¶å¼€æœ—ï¼Œæ„Ÿè§‰çœ‹çš„é¢˜è§£å·®ä¸å¤šçš„æ—¶å€™ï¼Œå°±ä»ä¸­æŒ‘ä¸€ä¸ªè‡ªå·±è®¤ä¸ºæ¯”è¾ƒç®€æ´çš„ä»£ç å»çœ‹ï¼ˆè®°å¾—å¤šé—®å‡ ä¸ªä¸ºä»€ä¹ˆï¼‰ï¼Œä¸€å®šè¦æ¯ä¸€ä¸ªç»†èŠ‚éƒ½ææ˜ç™½ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯è¿™æ ·å­ï¼Œé‚£é‡Œæ˜¯é‚£æ ·å­ã€‚å¤šåŠ¨æ‰‹åœ¨çº¸ä¸Šæ¨¡æ‹Ÿï¼ˆè¿™æ ·å­ä¸å®¹æ˜“å¼€å°å·®ï¼‰ã€‚&lt;br/&gt;æ›¾å›½è—©è¯´è¿‡è¿™æ ·ä¸€å¥è¯â€œå¤§å¤„ç€çœ¼ï¼Œå°å¤„ç€æ‰‹ï¼›ç¾¤å±…å®ˆå£ï¼Œç‹¬å±…å®ˆå¿ƒâ€ã€‚æˆ‘çš„åˆ·é¢˜æ–¹æ³•ä¼¼ä¹åœ¨ä¸€å®šç¨‹åº¦ä¸Šå»åˆäº†â€œå¤§å¤„ç€çœ¼ï¼Œå°å¤„ç€æ‰‹â€è¿™å…«å­—çœŸè¨€å“ˆå“ˆã€‚è¿™å…«ä¸ªå­—æ”¾åœ¨å“ªå…¶å®éƒ½æ˜¯å¯ä»¥çš„ã€‚ä¸èµä¸€æ³¢å—ï¼Œå–œæ¬¢çš„å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·&lt;strong&gt;ç©ç¼–ç¨‹åœ°ç å†œ&lt;/strong&gt;å•Šã€‚&lt;br/&gt;å¦‚æœä½ é—®æˆ‘ç°åœ¨å¼€å§‹å­¦çš„è¯æ™šäº†å—ï¼Ÿä½ èƒ½çœ‹åˆ°æˆ‘è¿™ç¯‡æ–‡ç« ï¼Œé‚£å°±è¯´æ˜ä¸æ™šï¼Œè‡³å°‘ä½ æ­£åœ¨æ‰¾ä¸€ä¸ªè®©è‡ªå·±å˜ä¼˜ç§€çš„ç†ç”±ã€‚æˆ‘æ²¡æœ‰ç†ç”±ç»™ä½ ï¼Œä½†æˆ‘ç”¨æˆ‘çš„å®é™…è¡ŒåŠ¨å‘Šè¯‰ä½ ï¼Œåªè¦ä½ åšæŒä¸€ä¸ªæœˆï¼Œä½ ä¸€å®šä¼šå˜å¾—æ›´ä¼˜ç§€ã€‚ç›¸ä¿¡ä½ å­¦å®Œè¿™äº›ç®—æ³•ä¼šæ‰¾åˆ°è®©è‡ªå·±å˜ä¼˜ç§€çš„ç†ç”±ï¼ˆå“ªæ€•æ˜¯ä¸ºäº†é’±ä¹Ÿå¥½ï¼‰ã€‚&lt;br/&gt;å¦‚æœä½ ä¸å–œæ¬¢åˆ·é¢˜ï¼Œæƒ³å¿«é€Ÿå…¥é—¨ç®—æ³•æˆ‘è§‰å¾—æ˜¯ä¸å¤ªå¯èƒ½çš„ï¼Œå­¦ç®—æ³•ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åŠæ³•å°±æ˜¯æŒä¹‹ä»¥æ’çš„åˆ·é¢˜ã€‚&lt;br/&gt;è¿™äº›é¢˜é‡å¤šå—ï¼ŸçœŸå¿ƒä¸å¤šï¼ŒåšæŒä¸€ä¸ªæœˆï¼Œå³ä½¿æ˜¯ä½ æ²¡æœ‰ä»»ä½•çš„ç®—æ³•åŸºç¡€ï¼Œåªè¦ä½ ä¼šä¸€é—¨è¯­è¨€ï¼Œå°±okå•¦ã€‚å½“æ—¶æˆ‘æ˜¯å¤§ä¸€ç¬¬ä¸€å­¦æœŸå­¦äº†Cè¯­è¨€ï¼Œå¯’å‡è¾¹å­¦C++è¾¹åˆ·hduçš„ã€‚&lt;br/&gt;è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯ä¸€æ—¶å¿ƒè¡€æ¥æ½®ï¼Œæƒ³ç€æŠŠè‡ªå·±çš„ç»å†è®©å¤§å®¶çœ‹è§ï¼Œå¸Œæœ›å¤§å®¶èƒ½å°‘èµ°ç‚¹å¼¯è·¯ã€‚&lt;br/&gt;æœ€åå†è°ˆä¸€ä¸‹æˆ‘å­¦äº†è¿™äº›ç®—æ³•ä¹‹åçš„ä¸€äº›æˆæ•ˆï¼Œè¿™äº›ç®—æ³•å­¦å®Œä¹‹åä¸ä¹…ï¼Œæˆ‘å°±é™†é™†ç»­ç»­å»å­¦ä¹ å…¶ä»–æ•°æ®ç»“æ„ä¸ç®—æ³•äº†ï¼Œä¾‹å¦‚ä»€ä¹ˆçº¢é»‘æ ‘å•Šï¼ŒBæ ‘å•Šï¼Œè·³è¡¨å•Šä¹‹ç±»çš„ã€‚æ–°çš„æ•°æ®ç»“æ„ä¸ç®—æ³•éš¾åº¦å˜å¤§äº†ï¼Œä½†æ˜¯æˆ‘èŠ±çš„æ—¶é—´å´ä¸å¤šï¼Œå¾ˆå¤šçŸ¥è¯†éƒ½èƒ½å¤Ÿä¸è´¹å¤ªå¤šç²¾åŠ›å°±çœ‹æ‡‚ï¼Œè¿™å¯èƒ½æ˜¯æˆ‘åˆ·é¢˜ä¹‹åæ€ç»´çš„æå‡å’Œèƒ½åŠ›çš„æå‡çš„ä¸€ç§è¡¨ç°ã€‚ç›¸ä¿¡æˆ‘èŠ±ä¸€ä¸ªæœˆå»åˆ·åˆ·é¢˜ç›®ï¼Œåˆ·å®Œä¹‹åä½ ä¼šæœ‰æ„å‘ä¸å¤§çš„æ”¶è·ã€‚&lt;br/&gt;é€¼è¿«ä¸€ä¸‹è‡ªå·±ï¼Œä¸€åˆ‡éƒ½æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚&lt;br/&gt;å¦‚æœè§‰å¾—æœ‰æ”¶è·ï¼Œä¸å¦¨èŠ±ä¸ªå‡ ç§’é’Ÿç‚¹æ­Œèµï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·&lt;strong&gt;ç©ç¼–ç¨‹åœ°ç å†œ&lt;/strong&gt;ï¼Œç›®å‰ä¸“æ³¨å†™æ•°æ®ç»“æ„äºç®—æ³•ç›¸å…³çŸ¥è¯†ã€‚&lt;/p&gt;
</description>
<pubDate>Sat, 25 Jul 2020 11:29:00 +0000</pubDate>
<dc:creator>ç„ä¹‹ä¸ç„</dc:creator>
<og:description>å¦‚æœä½ æƒ³å…¥é—¨ç®—æ³•ï¼Œé‚£ä¹ˆæˆ‘è¿™ç¯‡æ–‡ç« ä¹Ÿè®¸å¯ä»¥å¸®åˆ°ä½ ã€‚ ojç½‘ç«™æœ‰è¿™ä¹ˆå¤šï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„ã€‚æˆ‘å½“åˆæ˜¯åœ¨hduä¸Šé¢åˆ·çš„ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œé—®å°±æ˜¯å½“æ—¶æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ–°æ‰‹ï¼Œæ‡µæ‡µæ‡‚æ‡‚å°±åˆ·èµ·æ¥äº†ã€‚ç‚¹è¿™é‡Œå¯ä»¥è¿›å…¥è¿™ä¸ªç½‘ç«™htt</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/wbcdmn/p/13377914.html</dc:identifier>
</item>
<item>
<title>è®¾è®¡æ¨¡å¼ï¼šå¦‚ä½•ä¼˜é›…åœ°ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ - James_Shangguan</title>
<link>http://www.cnblogs.com/sgh1023/p/13369619.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/sgh1023/p/13369619.html</guid>
<description>&lt;p&gt;è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰åœ¨ã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­è¢«ç§°ä¸ºâ€œå‰©ä¸‹çš„æ¨¡å¼â€ï¼Œå…¶å®ä½¿ç”¨ä¹Ÿæ˜¯è›®å¤šçš„ã€‚æœ€è¿‘åœ¨å­¦ä¹ Nettyçš„è¿‡ç¨‹ä¸­ç”¨åˆ°äº†è´£ä»»é“¾æ¨¡å¼ï¼Œåœ¨æ­¤åè¿‡å¤´æ¥é‡æ¸©ä¸€ä¸‹è´£ä»»é“¾æ¨¡å¼ã€‚æœ¬æ–‡æ•™ä½ å¦‚ä½•ä¼˜é›…åœ°ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;172&quot;&gt;
&lt;p&gt;è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰åœ¨ã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­è¢«ç§°ä¸ºâ€œå‰©ä¸‹çš„æ¨¡å¼â€ï¼Œå…¶å®ä½¿ç”¨ä¹Ÿæ˜¯è›®å¤šçš„ã€‚æœ€è¿‘åœ¨å­¦ä¹ Nettyçš„è¿‡ç¨‹ä¸­ç”¨åˆ°äº†è´£ä»»é“¾æ¨¡å¼ï¼Œåœ¨æ­¤åè¿‡å¤´æ¥é‡æ¸©ä¸€ä¸‹è´£ä»»é“¾æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ æƒ³è¦è®©ä¸€ä¸ªä»¥ä¸Šçš„å¯¹è±¡æœ‰æœºä¼šèƒ½å¤Ÿå¤„ç†æŸä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚&lt;/p&gt;

&lt;p&gt;å€Ÿç”¨ã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ä¹¦ä¸­çš„å…¸å‹åœºæ™¯ï¼šéœ€è¦å¤„ç†å››ç§ç±»å‹çš„ç”µå­é‚®ä»¶ï¼Œç¬¬ä¸€ç§ç±»å‹æ˜¯ç²‰ä¸å¯„æ¥çš„ä¿¡ï¼Œè¡¨ç¤ºä»–ä»¬å–œæ¬¢æ–°æ¨å‡ºçš„æ¸¸æˆï¼›ç¬¬äºŒç§ç±»å‹æ˜¯çˆ¶æ¯å¯„æ¥çš„ä¿¡ï¼Œä»–ä»¬æŠ±æ€¨å­©å­æ€»æ˜¯æ²‰è¿·æ¸¸æˆè€Œå¿˜è®°åšä½œä¸šï¼›ç¬¬ä¸‰ç§ç±»å‹æ˜¯åº—å®¶å¸Œæœ›åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿæ‘†æ”¾ç³–æœæœºï¼›ç¬¬å››ç§ç±»å‹æ˜¯åƒåœ¾é‚®ä»¶ã€‚ç°åœ¨å·²ç»å¯ä»¥æ ¹æ®é‚®ä»¶å†…å®¹ç¡®å®šæ”¶åˆ°çš„é‚®ä»¶å±äºå“ªç§ç±»å‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç¨‹åºæ¥å¤„ç†è¿™äº›é‚®ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;Talk is cheap. Show me the code.ç›´æ¥ç”¨ä»£ç æ¥è¯´è¯å§ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æšä¸¾æ¥å®šä¹‰å››ç§ç±»å‹çš„é‚®ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public enum EmailEnum {
    SPAM_EMAIL(1, &quot;Spam_Email&quot;),
    FAN_EMAIL(2, &quot;Fan_Email&quot;),
    COMPLAINT_EMAIL(3, &quot;Complaint_Email&quot;),
    NEW_LOC_EMAIL(4, &quot;New_Loc_Email&quot;);

    private Integer code;
    private String desc;

    EmailEnum(Integer code, String desc) {
        this.code = code;
        this.desc = desc;
    }

    public Integer getCode() {
        return code;
    }

    public String getDesc() {
        return desc;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å‡è®¾é‚®ä»¶æœ‰ä¸¤ä¸ªå±æ€§ï¼šé‚®ä»¶ç±»å‹å’Œé‚®ä»¶å†…å®¹ï¼Œå®šä¹‰é‚®ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class Email {
    int type;
    String content;

    public Email(int type, String content) {
        this.type = type;
        this.content = content;
    }

    public int getType() {
        return type;
    }

    public String getContent() {
        return content;
    }
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;å¦‚æœä¸é‡‡ç”¨è´£ä»»é“¾æ¨¡å¼ï¼Ÿä½¿ç”¨EmailHandlerè¿™ä¸ªç±»æ¥ç»Ÿä¸€å¤„ç†ä¸Šè¿°å››ç§é‚®ä»¶ï¼Œç¨‹åºæ˜¯è¿™æ ·å­çš„ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class EmailHandler {

    public void handleEmai(Email email) {
        if (EmailEnum.SPAM_EMAIL.getCode().equals(email.getType())) {
            // å¤„ç†åƒåœ¾é‚®ä»¶
            handleSpamEmail(email);
        } else if (EmailEnum.FAN_EMAIL.getCode().equals(email.getType())) {
            // å¤„ç†ç²‰ä¸é‚®ä»¶
            handleFanEmail(email);
        } else if (EmailEnum.COMPLAINT_EMAIL.getCode().equals(email.getType())) {
            // å¤„ç†æŠ±æ€¨é‚®ä»¶
            handleComplaintEmail(email);
        } else {
            // å¤„ç†æ–°å¢é‚®ä»¶
            handleNewLocEmail(email);
        }
    }

    private void handleNewLocEmail(Email email) {
        System.out.println(&quot;handleNewLocEmail...&quot;);
        // å¤„ç†ä»£ç çœç•¥
    }

    private void handleComplaintEmail(Email email) {
        System.out.println(&quot;handleComplaintEmail...&quot;);
        // å¤„ç†ä»£ç çœç•¥
    }

    private void handleFanEmail(Email email) {
        System.out.println(&quot;handleFanEmail...&quot;);
        // å¤„ç†ä»£ç çœç•¥
    }

    public void handleSpamEmail(Email email) {
        System.out.println(&quot;handleSpamEmail...&quot;);
        // å¤„ç†ä»£ç çœç•¥
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªç±»è™½ç„¶å¼ºå¤§ï¼Œä½†æ˜¯æ˜¯ä¸å¤Ÿä¼˜é›…çš„ï¼š&lt;/p&gt;
&lt;p&gt;(1)EmailHandlerç±»è¾ƒä¸ºåºå¤§ï¼Œå„ç§ç±»å‹é‚®ä»¶çš„å¤„ç†éƒ½é›†ä¸­åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œè¿åäº†â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚&lt;/p&gt;
&lt;p&gt;(2)å¦‚æœä¹‹åå¢åŠ æ–°çš„é‚®ä»¶ç±»å‹ã€åˆ é™¤æŸä¸€ç§é‚®ä»¶ç±»å‹ï¼Œæˆ–è€…æœ‰å…¶ä»–æ–°åŠŸèƒ½çš„æ‹“å±•ï¼Œéƒ½å¿…é¡»ä¿®æ”¹æºä»£ç å¹¶è¿›è¡Œä¸¥æ ¼æµ‹è¯•ï¼Œè¿åäº†â€œå¼€é—­åŸåˆ™â€ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å¼€æ”¾-å…³é—­åŸåˆ™ï¼šç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¦‚ä½•è¿›è¡Œæ”¹è¿›å‘¢ï¼Ÿé‚£å°±æ˜¯ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ï¼Œä¸ºæŸä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªå¯¹è±¡é“¾ã€‚æ¯ä¸ªå¯¹è±¡æŒ‰ç…§é¡ºåºæ£€æŸ¥è¿™ä¸ªè¯·æ±‚ï¼Œå¹¶å¯¹å…¶å¤„ç†ï¼Œæˆ–è€…å°†å®ƒä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå½“æ”¶åˆ°ç”µå­é‚®ä»¶çš„æ—¶å€™ï¼Œå…ˆè¿›å…¥ç¬¬ä¸€ä¸ªå¤„ç†å™¨SpamHandlerï¼Œå¦‚æœSpamHandleræ— æ³•å¤„ç†ï¼Œå°±å°†å®ƒä¼ ç»™FanHandlerï¼Œä»¥æ­¤ç±»æ¨...&lt;/p&gt;
&lt;p&gt;æœ¬ä¾‹ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„å›¾å¦‚å›¾æ‰€ç¤ºï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1538609/202007/1538609-20200725173221783-1119796022.png&quot; alt=&quot;UML ç±»å›¾&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Handleræ˜¯ä¸€ä¸ªæŠ½è±¡çš„å¤„ç†å™¨ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡å¤„ç†å™¨çš„å¯¹è±¡successorï¼Œé€šè¿‡è¯¥å¼•ç”¨ï¼Œå¯ä»¥å½¢æˆä¸€æ¡è´£ä»»é“¾ã€‚æŠ½è±¡ç±»ä¸­è¿˜å®šä¹‰äº†æŠ½è±¡å¤„ç†è¯·æ±‚çš„çš„æ–¹æ³•handleRequest()ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public abstract class Handler {
    protected Handler successor;

    public void setSuccessor(Handler successor) {
        this.successor = successor;
    }

    public abstract void handleRequest(Email email);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;SpamHandlerã€FanHandlerã€ComplaintHandlerå’ŒNewLocHandleræ˜¯å…·ä½“çš„å¤„ç†å™¨ï¼Œç»§æ‰¿æŠ½è±¡ç±»Handlerï¼Œç”¨æ¥å¤„ç†å…·ä½“çš„é‚®ä»¶è¯·æ±‚ã€‚å¤„ç†ç»†èŠ‚ï¼šå¤„ç†ä¹‹å‰è¦è¿›è¡Œç±»å‹çš„åˆ¤æ–­ï¼Œçœ‹æ˜¯å¦èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ï¼Œå¦‚æœå¯ä»¥å¤„ç†å°±å¤„ç†ï¼Œå¦åˆ™å°±è½¬å‘ç»™åç»§çš„å¤„ç†å™¨å»å¤„ç†ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;SpamHandler&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class SpamHandler extends Handler{
    @Override
    public void handleRequest(Email email) {
        if (EmailEnum.SPAM_EMAIL.getCode().equals(email.getType())) {
            //å¤„ç†è¯·æ±‚
            System.out.println(&quot;SpamHandler handleRequest...&quot;);
        }
        else {
            this.successor.handleRequest(email);  //è½¬å‘è¯·æ±‚
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;FanHandler&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class FanHandler extends Handler{
    @Override
    public void handleRequest(Email email) {
        if (EmailEnum.FAN_EMAIL.getCode().equals(email.getType())) {
            //å¤„ç†è¯·æ±‚
            System.out.println(&quot;FanHandler handleRequest...&quot;);
        }
        else {
            this.successor.handleRequest(email);  //è½¬å‘è¯·æ±‚
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ComplaintHandler&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class ComplaintHandler extends Handler{
    @Override
    public void handleRequest(Email email) {
        if (EmailEnum.COMPLAINT_EMAIL.getCode().equals(email.getType())) {
            //å¤„ç†è¯·æ±‚
            System.out.println(&quot;ComplaintHandler handleRequest...&quot;);
        }
        else {
            this.successor.handleRequest(email);  //è½¬å‘è¯·æ±‚
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;NewLocHandler&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class NewLocHandler extends Handler{
    @Override
    public void handleRequest(Email email) {
        if (EmailEnum.NEW_LOC_EMAIL.getCode().equals(email.getType())) {
            //å¤„ç†è¯·æ±‚
            System.out.println(&quot;NewLocHandler handleRequest...&quot;);
        }
        else {
            this.successor.handleRequest(email);  //è½¬å‘è¯·æ±‚
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè´£ä»»é“¾æ¨¡å¼å¹¶ä¸åˆ›å»ºè´£ä»»é“¾ï¼Œè´£ä»»é“¾çš„åˆ›å»ºå·¥ä½œå¿…é¡»ç”±ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†æ¥å®Œæˆï¼Œä¸€èˆ¬æ˜¯åœ¨ä½¿ç”¨è¯¥è´£ä»»é“¾çš„å®¢æˆ·ç«¯ä¸­åˆ›å»ºè´£ä»»é“¾ã€‚è´£ä»»é“¾æ¨¡å¼é™ä½äº†è¯·æ±‚çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¹‹é—´çš„è€¦åˆï¼Œä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚ä¸‹é¢ç¼–å†™æµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class Test {
    public static void main(String[] args) {
        // åˆ›å»ºé‚®ä»¶å¤„ç†è¯·æ±‚
        Email email1 = new Email(1,&quot;aaa&quot;);
        Email email2 = new Email(2,&quot;bbb&quot;);
        Email email3 = new Email(3,&quot;ccc&quot;);
        Email email4 = new Email(4,&quot;ddd&quot;);
        // åˆ›å»ºHandler
        SpamHandler handler1 = new SpamHandler();
        FanHandler handler2 = new FanHandler();
        ComplaintHandler handler3 = new ComplaintHandler();
        NewLocHandler handler4 = new NewLocHandler();
        // åˆ›å»ºè´£ä»»é“¾
        handler1.setSuccessor(handler2);
        handler2.setSuccessor(handler3);
        handler3.setSuccessor(handler4);
        // å¤„ç†è¯·æ±‚
        handler1.handleRequest(email1);
        handler1.handleRequest(email2);
        handler1.handleRequest(email3);
        handler1.handleRequest(email4);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ä»£ç ä¸­åˆ›å»ºå››ç§ç±»å‹çš„é‚®ä»¶ç”¨äºå¤„ç†ï¼Œåˆ›å»ºäº†å››ç§ä¸åŒçš„å¤„ç†å™¨ï¼ˆSpamHandlerã€FanHandlerã€ComplaintHandlerã€NewLocHandlerï¼‰ï¼Œå½¢æˆâ€œhandler1 -&amp;gt; handler2 -&amp;gt; handler3 -&amp;gt; handler4â€çš„è´£ä»»é“¾ï¼Œä½¿ç”¨è¿™æ¡è´£ä»»é“¾å¤„ç†å››ç§ç±»å‹çš„é‚®ä»¶ã€‚è¿è¡Œç»“æ„å¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1538609/202007/1538609-20200725182848747-1530036669.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å¤„ç†ä¹‹åï¼Œæ˜æ˜¾ä½¿å¾—è¯·æ±‚å‘é€è€…å’Œæ¥å—è€…è§£è€¦ï¼›æ¯ä¸ªå®ç°ç±»éƒ½æœ‰è‡ªå·±æ˜ç¡®ä¸”ç‹¬ä¸€æ— äºŒçš„èŒè´£ï¼›å¦‚æœå¢åŠ ä¸€ä¸ªç±»å‹ï¼Œåªéœ€è¦å†å¢åŠ ä¸€ä¸ªå…·ä½“ç±»å»ç»§æ‰¿Handlerï¼Œä¹¦å†™è‡ªå·±çš„å¤„ç†é€»è¾‘ï¼Œåœ¨è´£ä»»é“¾ä¸­è¿›è¡Œæ·»åŠ ï¼›å¦‚æœåˆ é™¤æŸç§ç±»å‹çš„ï¼Œåªéœ€è¦åœ¨æ„å»ºè´£ä»»é“¾çš„æ—¶å€™ï¼ŒæŠŠå®ƒåˆ é™¤å°±å¯ä»¥äº†ï¼Œå®ç°åŠ¨æ€å¢åŠ æˆ–è€…åˆ é™¤è´£ä»»ï¼Œç¬¦åˆè®¾è®¡æ¨¡å¼çš„åŸåˆ™ã€‚&lt;/p&gt;

&lt;p&gt;è´£ä»»é“¾æ¨¡å¼é€šè¿‡å»ºç«‹ä¸€æ¡é“¾æ¥ç»„ç»‡è¯·æ±‚çš„å¤„ç†è€…ï¼Œè¯·æ±‚å°†æ²¿ç€é“¾è¿›è¡Œä¼ é€’ï¼Œè¯·æ±‚å‘é€è€…æ— é¡»çŸ¥é“è¯·æ±‚åœ¨ä½•æ—¶ã€ä½•å¤„ä»¥åŠå¦‚ä½•è¢«å¤„ç†ï¼Œå®ç°äº†è¯·æ±‚å‘é€è€…ä¸å¤„ç†è€…çš„è§£è€¦ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œå¦‚æœé‡åˆ°æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€è¯·æ±‚æ—¶å¯ä»¥åº”ç”¨è´£ä»»é“¾æ¨¡å¼ï¼Œä¾‹å¦‚åœ¨Webåº”ç”¨å¼€å‘ä¸­åˆ›å»ºä¸€ä¸ªè¿‡æ»¤å™¨é“¾æ¥å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œåœ¨å·¥ä½œæµç³»ç»Ÿä¸­å®ç°å…¬æ–‡çš„åˆ†çº§å®¡æ‰¹ç­‰ç­‰ï¼Œä½¿ç”¨è´£ä»»é“¾æ¨¡å¼å¯ä»¥è¾ƒå¥½åœ°è§£å†³æ­¤ç±»é—®é¢˜ã€‚&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Sat, 25 Jul 2020 11:16:00 +0000</pubDate>
<dc:creator>James_Shangguan</dc:creator>
<og:description>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰åœ¨ã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­è¢«ç§°ä¸ºâ€œå‰©ä¸‹çš„æ¨¡å¼â€ï¼Œå…¶å®ä½¿ç”¨ä¹Ÿæ˜¯è›®å¤šçš„ã€‚æœ€è¿‘åœ¨å­¦ä¹ Nettyçš„è¿‡ç¨‹ä¸­ç”¨åˆ°äº†è´£ä»»é“¾æ¨¡</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/sgh1023/p/13369619.html</dc:identifier>
</item>
<item>
<title>å¾®æœåŠ¡å®‰å…¨è®¤è¯æ¶æ„æ˜¯å¦‚ä½•æ¼”è¿›è€Œæ¥çš„ï¼Ÿ - EdisonZhou</title>
<link>http://www.cnblogs.com/edisonchou/p/the_development_of_microservice_security_authentication.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/edisonchou/p/the_development_of_microservice_security_authentication.html</guid>
<description>&lt;p&gt;ä¹‹å‰æœ‰åŒäº‹é—®ä¸ºä½•è¦ç”¨åŸºäºJWTä»¤ç‰Œçš„è®¤è¯æ¶æ„ï¼Œç„¶åè¿‘æœŸåˆæœ‰ç«¥é‹åœ¨åå°ç•™è¨€é—®å¾®æœåŠ¡å®‰å…¨è®¤è¯æ¶æ„çš„å®è·µï¼Œå› æ­¤æˆ‘å†³å®šèŠ±ä¸¤ç¯‡æ¨æ–‡æ¥è§£ç­”ä¸€ä¸‹ã€‚ä¸ºäº†ç­”å¥½è¿™ä¸ªè¯é¢˜ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¾®æœåŠ¡çš„å®‰å…¨è®¤è¯æ¶æ„æ˜¯å¦‚ä½•æ¼”è¿›è€Œæ¥çš„ï¼Œä»è€Œæ›´å¥½åœ°ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/381412/202007/381412-20200725112853351-1272187615.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰å¿…è¦å†æ¬¡äº†è§£ä¸‹è®¤è¯å’Œæˆæƒè¿™ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µï¼š&lt;/p&gt;
&lt;p&gt;è®¤è¯ï¼ŒAuthenticationï¼Œè¯†åˆ«ä½ æ˜¯è°ã€‚å³åœ¨ç½‘ç«™ä¸Šç”¨æ¥è¯†åˆ«æŸä¸ªç”¨æˆ·æ˜¯å¦æ˜¯æ³¨å†Œè¿‡çš„åˆæ³•ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;æˆæƒï¼ŒAuthorizationï¼Œè¯†åˆ«ä½ èƒ½åšä»€ä¹ˆã€‚å³åœ¨ç½‘ç«™ä¸Šç”¨æ¥è¯†åˆ«æŸä¸ªç”¨æˆ·æ˜¯å¦æœ‰æŸæ–¹é¢çš„æƒé™ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œè¿™é‡Œè¿˜æ˜¯å¼•ç”¨æˆ‘åœ¨æ³¢æ³¢è€å¸ˆçš„ã€ŠSpring Bootä¸K8säº‘åŸç”Ÿåº”ç”¨å¼€å‘ã€‹è¯¾ç¨‹ä¸­å­¦åˆ°çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ¥å­¦ä¹ ç½‘ç«™å®‰å…¨æ¶æ„çš„æ¼”è¿›ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æŠŠæ—¶é—´å€’é€€å›2006å¹´ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå«åšMyShopçš„ç½‘ç«™ï¼Œå®ƒçš„å®‰å…¨æ¶æ„å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼Œæˆ‘ä»¬æš‚ä¸”ç§°ä¹‹ä¸ºv1ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx4.sinaimg.cn/large/7b43aa3dly4gh04mwmuy2j20u00h879r.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v1ç‰ˆæœ¬çš„è®¤è¯æ“ä½œ&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªv1ç‰ˆæœ¬çš„ä¼ ç»Ÿå®‰å…¨è®¤è¯æ¶æ„ï¼Œä½¿ç”¨åˆ°äº†æˆ‘ä»¬ååˆ†ç†Ÿæ‚‰çš„Session + Cookieçš„æ¨¡å¼æ¥å®ç°ç”¨æˆ·çš„è®¤è¯ã€‚å³å½“ä¸€ä¸ªæ³¨å†Œç”¨æˆ·é€šè¿‡ç™»å½•æ“ä½œè¯·æ±‚åï¼ŒWebæœåŠ¡å™¨é€šè¿‡å‘æ•°æ®åº“è¿›è¡Œæ ¡éªŒç”¨æˆ·åå’Œå¯†ç ï¼Œé€šè¿‡åå°±ä¼šå‘Sessionä¸­æ·»åŠ ä¸€æ¡è®°å½•ï¼Œç„¶åè¿”å›ç»™æµè§ˆå™¨ã€‚åœ¨è¿”å›ç»™æµè§ˆå™¨çš„æŠ¥æ–‡ä¸­ï¼Œä¼šå°†sessionIdæ”¾åœ¨Cookieé‡Œå¤´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx3.sinaimg.cn/large/7b43aa3dly4gh04mwotbpj20u00h879k.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v1ç‰ˆæœ¬çš„è®¿é—®æ“ä½œ&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œç”¨æˆ·åœ¨ç™»å½•ä¹‹åå†è®¿é—®ç½‘ç«™çš„æ—¶å€™ï¼Œå°±ä¼šå°†å¸¦æœ‰sessionIdçš„Cookieä¼ ç»™WebæœåŠ¡å™¨ï¼Œè€ŒWebæœåŠ¡å™¨å°±å¯ä»¥é€šè¿‡Cookieä¸­çš„sessionIdå»Sessionè®°å½•ä¸­æ£€æŸ¥ï¼Œå¦‚æœæ²¡æœ‰è¿‡æ—¶å°±è®¤ä¸ºå…¶æ˜¯è®¤è¯çš„æ´»è·ƒç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ASP.NET Coreä¸­ï¼Œæä¾›äº†ä¸€ä¸ªç®¡ç†Sessionçš„ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨StartUpä¸­æ³¨å†Œå’Œä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶å³å¯ç”¨æ¥ç®¡ç†ä¼šè¯çŠ¶æ€ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;4.4642857142857&quot;&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™ï¼š&lt;/strong&gt;æœ‰å…³ASP.NET Coreä¸­çš„ä¼šè¯å’ŒçŠ¶æ€ç®¡ç†ï¼Œè¿™é‡Œæ˜¯&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/app-state?view=aspnetcore-3.1&quot; target=&quot;_blank&quot;&gt;ä¼ é€é—¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;v1ç‰ˆæœ¬ä¸Šçº¿æµ‹è¯•ä¹‹åï¼Œæµ‹è¯•äººå‘˜å‘ç°å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šç™»å½•ç”¨æˆ·ä¼šé—´æ­‡æ€§åœ°é€€å‡ºç™»å½•ï¼Œè€Œä¸”ä¼šè¯è¿˜æ²¡æœ‰è¶…æ—¶ã€‚ç»è¿‡åˆ†æåå‘ç°ï¼ŒåŸæ¥çš„Sessionè®°å½•åªä¼šåœ¨ç™»å½•è¿‡çš„é‚£å°WebæœåŠ¡å™¨ä¸Šå­˜åœ¨ï¼Œè€ŒMyShopæ˜¯ä»¥é›†ç¾¤æ–¹å¼æ¥éƒ¨ç½²çš„ï¼Œç”±å‰ç½®çš„Nginxä»£ç†æœåŠ¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡åœ°è¯·æ±‚è½¬å‘ã€‚&lt;br/&gt;é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼ŒMyShopè®¾è®¡äº†ä¸‹å›¾æ‰€ç¤ºçš„v1.1ç‰ˆæœ¬çš„è®¤è¯æ¶æ„ï¼Œåˆç§°ä¸ºé»æ€§Sessionæ¶æ„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡å“ªä¸€æ¬¡è¯·æ±‚ï¼ŒNginxéƒ½ä¼šå°†å¯¹åº”çš„sessionIdå‘ç»™å¯¹åº”çš„WebæœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œè€Œä¸æ˜¯å‡è¡¡åœ°è½®æµè½¬å‘ã€‚æ¢å¥è¯è¯´ï¼ŒNginxæœåŠ¡å™¨å°†ä¼šç»´æŠ¤sessionIdä¸å„ä¸ªWebæœåŠ¡å™¨çš„Sessionä¹‹é—´çš„å…³è”ï¼Œä»¥ä¿è¯åœ¨ä¼šè¯æœŸé—´çš„Sessionç»‘å®šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/large/7b43aa3dly4gh04mwn14uj20u00gvgq4.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v1.1ç‰ˆæœ¬-é»æ€§ä¼šè¯&lt;/p&gt;
&lt;p&gt;å°±è¿™æ ·ï¼Œä¸€æ™ƒä¸¤ä¸‰å¹´åˆè¿‡äº†ï¼ŒMyShop v1.1çš„è®¤è¯æ¶æ„æ”¯æŒäº†å®ƒæ—©æœŸçš„å¿«é€Ÿå‘å±•ã€‚ä½†æ˜¯ï¼Œéšç€ä¸šåŠ¡å’Œç”¨æˆ·é‡çš„ä¸æ–­æ‰©å±•ï¼Œå®ƒä¹Ÿé€æ¸æš´éœ²å‡ºç¨³å®šæ€§å’Œæ‰©å±•æ€§æ–¹é¢çš„é—®é¢˜ã€‚è¿™äº›é—®é¢˜ï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯ç”±é»æ€§ä¼šè¯æ‰€é€ æˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ç¨³å®šæ€§ï¼šé»æ€§ä¼šè¯ä¼šå°†ç”¨æˆ·ä¼šè¯ç»‘å®šåˆ°æŸä¸ªæœåŠ¡å™¨ä¸Šï¼Œå¦‚æœæˆ‘ä»¬è¦å¯¹è¿™ä¸ªæœåŠ¡å™¨è¿›è¡Œä¸€äº›å‡çº§æˆ–æ”¹é€ åˆæˆ–æœåŠ¡å™¨å»¶è¿Ÿæˆ–å®•æœºï¼Œé‚£ä¹ˆæ­¤æœåŠ¡å™¨ä¸Šçš„ä¸€æ³¢è®¤è¯ç”¨æˆ·ä¿¡æ¯å°±ä¼šç¬é—´æ¶ˆå¤±ï¼Œç”¨æˆ·å¿…é¡»é‡æ–°ç™»å½•ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ‰©å±•æ€§ï¼šé»æ€§ä¼šè¯ä½¿å¾—WebæœåŠ¡å™¨å’ŒNginxè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¸Šéƒ½ä¿å­˜äº†çŠ¶æ€ï¼Œæ•´ä½“ä¸Šå±äºä¸€ä¸ªæœ‰çŠ¶æ€æ¶æ„ã€‚éšç€æµé‡çš„å¢é•¿ï¼Œè¿™äº›çŠ¶æ€åŒæ—¶ç»™WebæœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡å™¨éƒ½ä¼šå¸¦æ¥è¾ƒå¤§çš„å‹åŠ›ã€‚å’Œæ— çŠ¶æ€çš„åº”ç”¨æ¶æ„æ¯”èµ·æ¥ï¼Œè¿™ç§æœ‰çŠ¶æ€çš„åº”ç”¨æ¶æ„æ¯”è¾ƒéš¾ä»¥æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸è§çš„è§£å†³é»æ€§ä¼šè¯çš„è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä¼šè¯åŒæ­¥å¤åˆ¶ï¼šå³å„ä¸ªWebæœåŠ¡å™¨ä¹‹é—´åŒæ­¥Sessionï¼Œä½†æ˜¯ä¼šå¼•å…¥å¤æ‚æ€§ï¼Œæ•´ä½“çš„æ€§èƒ½è¾ƒä½ã€‚&lt;br/&gt;ï¼ˆ2ï¼‰æ— çŠ¶æ€ä¼šè¯ï¼šå³Sessionæ•°æ®ä¸å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€Œæ˜¯å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œä½†æ˜¯å­˜åœ¨æ•°æ®æ³„éœ²é£é™©ï¼Œä¸”æµè§ˆå™¨ç«¯å¯¹äºCookieçš„å¤§å°æœ‰é™åˆ¶ï¼ˆ4KBï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰é›†ä¸­çŠ¶æ€ä¼šè¯ï¼šå³å°†Sessioné›†ä¸­å­˜å‚¨åœ¨æŸä¸ªå­˜å‚¨ä¸­ï¼Œæ¯”å¦‚Memcachedæˆ–Redisè¿™ç§é«˜æ€§èƒ½ç¼“å­˜ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒMyShopé€‰æ‹©äº†é›†ä¸­çŠ¶æ€ä¼šè¯çš„æ–¹å¼æ¼”è¿›å‡ºäº†v1.5å®‰å…¨è®¤è¯æ¶æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/large/7b43aa3dly4gh04mwoe1cj20u00gxgql.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v1.5ç‰ˆæœ¬-é›†ä¸­çŠ¶æ€ä¼šè¯&lt;/p&gt;
&lt;p&gt;åœ¨v1.5ç‰ˆæœ¬ä¸­ï¼ŒWebæœåŠ¡å™¨å’ŒNginxæœåŠ¡å™¨ä¸å†å­˜å‚¨ä¼šè¯çŠ¶æ€ï¼Œè½¬è€Œäº¤ç”±Redisè¿›è¡Œç»Ÿä¸€å­˜å‚¨ï¼Œä»è€Œæé«˜äº†ç¨³å®šæ€§å’Œæ‰©å±•æ€§ã€‚å¯¹äºRedisæ¥è¯´ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨é«˜å¯ç”¨é›†ç¾¤æ–¹æ¡ˆï¼Œä¸šç•Œä¹Ÿæœ‰å¾ˆå¤šå¯æ‰©å±•çš„å®è·µæ¡ˆä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”»å¤–éŸ³ï¼šè™½ç„¶æ˜¯å•å—æ—¶ä»£å‘å±•å‡ºæ¥çš„æŠ€æœ¯ï¼Œä½†æ˜¯æ— çŠ¶æ€ä¼šè¯å’Œé›†ä¸­çŠ¶æ€ä¼šè¯å´æ˜¯å¾®æœåŠ¡å®‰å…¨è®¤è¯æ¶æ„çš„åŸºç¡€ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ—¶å…‰é£é€ï¼Œæ—¶é—´æ¥åˆ°äº†2015å¹´ï¼Œè¿™æœŸé—´MyShopçš„ä¸šåŠ¡é‡ä¹Ÿè¿…é€Ÿçš„é£æ¶¨ï¼ŒæœŸé—´äº’è”ç½‘çš„æŠ€æœ¯ä¹Ÿå‘ç”Ÿäº†å¤§å˜åŒ–ã€‚å¾®æœåŠ¡æ¶æ„ã€æ— çº¿åº”ç”¨ã€SPAåº”ç”¨é›¨åæ˜¥ç¬‹èˆ¬çš„å‡ºç°ï¼ŒMyShopçš„æŠ€æœ¯å›¢é˜Ÿä¹Ÿå‡†å¤‡é™†ç»­åº”ç”¨å®è·µï¼Œè¿›ä¸€æ­¥ä¸°å¯Œå’Œæ‰©å±•ä¸šåŠ¡æ¸ é“ï¼Œèµ‹èƒ½ä¸šåŠ¡ç«¯ã€‚ä½†æ˜¯ï¼Œå¾®æœåŠ¡æ¶æ„çš„å®‰å…¨è®¤è¯æˆæƒä¹Ÿå­˜åœ¨ç€ä¸€äº›æŒ‘æˆ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx4.sinaimg.cn/large/7b43aa3dly4gh04mwulh8j20u00h7tcg.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¾®æœåŠ¡è®¤è¯æˆæƒæŒ‘æˆ˜&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰åå°åº”ç”¨å’ŒæœåŠ¡ä¼—å¤šï¼Œå¦‚ä½•å¯¹æ¯ä¸€ä¸ªæœåŠ¡è¿›è¡Œè®¤è¯å’Œé‰´æƒï¼Ÿä¼ ç»Ÿçš„ç”¨æˆ·å&amp;amp;å¯†ç ä»¥åŠSession/Cookieçš„æ–¹å¼è¿˜èƒ½å¤Ÿé€‚ç”¨å—ï¼Ÿ&lt;br/&gt;ï¼ˆ2ï¼‰å‰ç«¯çš„ç”¨æˆ·å…¥å£ä¼—å¤šï¼Œå¦‚æœæ¯ä¸ªå…¥å£éƒ½æä¸€å¥—ç™»å½•è®¤è¯ï¼Œæ˜¾ç„¶æˆæœ¬é«˜ä¸”éš¾ä»¥æ‰©å±•ã€‚æœ‰æ²¡æœ‰ä¸€ç§SSOå•ç‚¹ç™»å½•çš„æ–¹æ¡ˆï¼Ÿç»è¿‡MyShopæŠ€æœ¯å›¢é˜Ÿçš„åˆ†æï¼Œä¼ ç»Ÿçš„ç”¨æˆ·å&amp;amp;å¯†ç +Session/Cookieçš„æ–¹å¼æ— æ³•ç›´æ¥å¥—ç”¨åœ¨å¾®æœåŠ¡æ¶æ„ä¸Šï¼Œä½†æ˜¯å¯ä»¥å€Ÿé‰´ä¹‹å‰çš„æ€è·¯ï¼Œä»–ä»¬æå‡ºäº†é¢å‘å¾®æœåŠ¡æ¶æ„çš„v2.0å®‰å…¨è®¤è¯ä½“ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx1.sinaimg.cn/large/7b43aa3dly4gh04mwwvntj20u00hln2q.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v2.0ç‰ˆæœ¬-åŸºäºTokençš„è®¤è¯&lt;/p&gt;
&lt;p&gt;v2.0å®‰å…¨è®¤è¯ä½“ç³»æœ€å¤§çš„å˜åŒ–å°±åœ¨äºï¼Œå°†ç™»é™†è®¤è¯æŠ½å–ä¸ºä¸€ä¸ªç‹¬ç«‹çš„APIå¾®æœåŠ¡AuthServiceï¼Œæ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„UserDBã€‚è¿™ä¸ªæœåŠ¡ç»Ÿä¸€æ‰¿æ‹…ç™»é™†è®¤è¯ã€ç”¨æˆ·æ ¡éªŒã€ä»¤ç‰Œé¢å‘ç­‰èŒè´£ã€‚æ­¤å¤–ï¼Œv2.0ç‰ˆæœ¬è¿˜å¼•å…¥äº†Tokenä½œä¸ºæœåŠ¡è°ƒç”¨è®¤è¯é‰´æƒçš„ä¸»è¦å‡­è¯ã€‚è¿™é‡Œçš„è¯ï¼Œv2.0é‡‡ç”¨çš„æ˜¯ä¸€ä¸ªé€æ˜ä»¤ç‰Œï¼ˆä¹Ÿç§°ä¸ºå¼•ç”¨ä»¤ç‰Œï¼‰ï¼Œå³å®ƒæ˜¯ä¸€ä¸ªæ— æ„ä¹‰çš„éšæœºå­—ç¬¦ä¸²ã€‚è¿™ä¸ªä»¤ç‰Œè·ŸAuth Serviceä¸Šçš„ä¸€æ¬¡ç™»é™†ä¼šè¯ç›¸å…³è”ï¼Œåç»­ä¹Ÿå¯ä»¥é€šè¿‡APIå»æ ¡éªŒè¿™ä¸ªä»¤ç‰Œçš„åˆæ³•æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”»å¤–éŸ³ï¼šå…¶å®è¿™ä¸ªTokenä»¤ç‰Œï¼Œå°±ç›¸å½“äºä¸€ä¸ªSessionIdã€‚æ¯ä¸ªå¾®æœåŠ¡æ‹¿åˆ°ä»¤ç‰Œï¼Œéƒ½å¯ä»¥å»AuthServiceè¿›è¡Œè®¤è¯é‰´æƒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸‹æ¥ï¼Œv2.0çš„å®‰å…¨è®¤è¯ä½“ç³»çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;Step1.ç”¨æˆ·é€šè¿‡æŸç§å®¢æˆ·ç«¯ï¼ˆWeb/SPA/H5/Appç­‰ï¼‰è¿›è¡Œç™»é™†ï¼ŒAuthServiceé€šè¿‡æ¯”å¯¹ç”¨æˆ·æ•°æ®åº“è¿›è¡Œæ ¡éªŒï¼›&lt;/p&gt;
&lt;p&gt;Step2.AuthServiceæ ¡éªŒé€šè¿‡åä¼šå»ºç«‹ä¸€ä¸ªç”¨æˆ·ä¼šè¯Sessionï¼ˆæ­¤Sessionå’Œä¹‹å‰ç‰ˆæœ¬çš„ç±»ä¼¼ï¼Œå­˜åœ¨ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥å­˜å‚¨åœ¨AuthServiceæ‰€åœ¨çš„æœåŠ¡å™¨ä¸Šä¹Ÿå¯ä»¥å­˜åœ¨Redisä¸­ï¼‰ï¼Œç„¶åé¢å‘ä¸€ä¸ªTokenç»™å®¢æˆ·ç«¯ï¼›&lt;/p&gt;
&lt;p&gt;Step3.å®¢æˆ·ç«¯å‘åå°å¾®æœåŠ¡å‘è¯·æ±‚ï¼Œä¼šå¸¦ä¸Šåˆšåˆšå¾—åˆ°çš„Tokenï¼›&lt;/p&gt;
&lt;p&gt;Step4.å¾®æœåŠ¡æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œé¦–å…ˆä¼šå‘AuthServiceå‘å‡ºä¸€ä¸ªè¯·æ±‚å¯¹è¿™ä¸ªTokenè¿›è¡Œåˆæ³•æ€§æ ¡éªŒï¼›&lt;/p&gt;
&lt;p&gt;Step5.AuthServiceæ ¡éªŒTokené€šè¿‡åä¼šè¿”å›è¯¥ç”¨æˆ·çš„è¯¦æƒ…ä¿¡æ¯ï¼ˆå¦‚æœå¾®æœåŠ¡éœ€è¦çš„è¯ï¼Œå¯ä»¥æ‹¿åˆ°ç”¨æˆ·çš„ä¸€äº›æ¯”å¦‚è§’è‰²ä¹‹ç±»çš„ä¿¡æ¯ï¼‰ï¼›&lt;br/&gt;Step6.å¾®æœåŠ¡è¿›è¡Œè‡ªå·±çš„é€»è¾‘å¤„ç†ï¼Œæœ€ç»ˆè¿”å›æ•°æ®ç»™å®¢æˆ·ç«¯ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”»å¤–éŸ³ï¼šv2.0ç‰ˆæœ¬å¯ä»¥çœ‹åšæ˜¯v1.5çš„ä¸€ä¸ªå‡çº§æ”¹é€ ï¼Œä¸“é—¨é’ˆå¯¹å¾®æœåŠ¡æ¶æ„çš„åœºæ™¯è¿›è¡Œäº†æ‰©å±•ï¼Œå¯ä»¥åº”å¯¹å¾®æœåŠ¡æ¶æ„å­˜åœ¨çš„æŒ‘æˆ˜ã€‚å®ƒæŠŠç™»å½•è®¤è¯ã€ä»¤ç‰Œé¢å‘ç­‰å·¥ä½œå°è£…åœ¨äº†AuthServiceä¸­ï¼Œå…¶ä»–å¾®æœåŠ¡ç»Ÿä¸€å…±ç”¨AuthServiceï¼Œç»è¿‡æ‰©å±•è¿˜å¯ä»¥å®ç°SSOå•ç‚¹ç™»å½•ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;v2.0è®¤è¯æ¶æ„è™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯åˆå¼•å‘äº†å¦å¤–çš„é—®é¢˜ï¼šé¦–å…ˆï¼Œæ¯ä¸ªå¾®æœåŠ¡éƒ½éœ€è¦å®ç°&lt;strong&gt;éƒ¨åˆ†&lt;/strong&gt;è®¤è¯é‰´æƒçš„é€»è¾‘ï¼Œä½¿å¾—å¾®æœåŠ¡å¼€å‘æ–¹æ— æ³•èšç„¦äºä¸šåŠ¡é€»è¾‘çš„å¼€å‘ã€‚å…¶æ¬¡ï¼Œè®¤è¯é‰´æƒé€»è¾‘åˆ†æ•£åœ¨æ¯ä¸ªå¾®æœåŠ¡å½“ä¸­ï¼Œä¸€æ–¹é¢ä¼šå¸¦æ¥ä¸è§„èŒƒå®¹æ˜“å‡ºé”™çš„é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šæœ‰æ½œåœ¨çš„å®‰å…¨é£é™©ï¼ˆæ¯”å¦‚æŸäº›å¼€å‘äººå‘˜å¯èƒ½ä¼šå¿˜è®°æ ¡éªŒä»¤ç‰Œï¼‰ã€‚ä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼ŒåŒæ—¶è€ƒè™‘åˆ°å¾®æœåŠ¡æ‹†åˆ†åå¼•å…¥å¾®æœåŠ¡APIç½‘å…³ï¼ŒMyShopæŠ€æœ¯å›¢é˜Ÿè®¾è®¡äº†ä¸‹å›¾æ‰€ç¤ºçš„v2.5è®¤è¯æ¶æ„ï¼š&lt;strong&gt;Token+Gatewayç»“åˆæ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/large/7b43aa3dly4gh04mwzv2rj20u00hndlj.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MyShop v2.5ç‰ˆæœ¬-åŸºäºToken+Gatewayçš„è®¤è¯&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ¶æ„å°†æ¯ä¸ªå¾®æœåŠ¡éƒ½è¦è¿›è¡Œçš„éƒ¨åˆ†è®¤è¯é‰´æƒçš„é€»è¾‘ä»å¾®æœåŠ¡è½¬ç§»åˆ°äº†ç½‘å…³ä¸­ã€‚å³ç½‘å…³å¤„è´Ÿè´£æ‹¿åˆ°ä»¤ç‰Œå‘AuthServiceè¿›è¡Œé‰´æƒï¼Œé€šè¿‡åå†å°†è¯·æ±‚è½¬å‘åˆ°åç«¯çš„å¾®æœåŠ¡ï¼Œå¾®æœåŠ¡ä¸å†åŒ…å«ä»»ä½•è®¤è¯é‰´æƒçš„é€»è¾‘ã€‚æ€»ä½“ä¸Šï¼Œé€šè¿‡å¼•å…¥ç½‘å…³è¿›è¡Œä»¤ç‰Œçš„é‰´æƒä¹‹åï¼Œå¤§å¤§å‡å°‘äº†åç«¯å¾®æœåŠ¡å¼€å‘æ–¹çš„èŒè´£ï¼Œä½¿å¾—ä»–ä»¬æ›´ä¸“æ³¨äºå¾®æœåŠ¡çš„ä¸šåŠ¡é€»è¾‘çš„å¼€å‘ã€‚æ­¤å¤–ï¼Œå¼•å…¥ç½‘å…³ä¹‹åï¼Œç½‘å…³å¯ä»¥ç»Ÿä¸€å¤„ç†ç™»å½•å®¢æˆ·ç«¯çš„æ ¡éªŒï¼Œä¹Ÿä¾¿äºå®ç°SSOå•ç‚¹ç™»å½•ï¼Œä¹Ÿä¸ºMyShopåç»­çš„å¾®æœåŠ¡åŒ–å’Œä¸šåŠ¡æˆé•¿æä¾›äº†åŸºç¡€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”»å¤–éŸ³ï¼šv2.5ç‰ˆæœ¬åº”è¯¥æ˜¯ç›®å‰å¤§å¤šæ•°å›¢é˜Ÿæ‰€é‡‡ç”¨çš„ä¸€ç§è®¤è¯æ¶æ„äº†ã€‚å¯¹ï¼Œæˆ‘å¸ä¹Ÿæ˜¯ï¼Œä¸è¿‡Tokenç±»å‹ä½¿ç”¨çš„æ˜¯JWTã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡é€šè¿‡ä¸€ä¸ªMyShopçš„æ¡ˆä¾‹çš„æ¼”åŒ–ä»‹ç»äº†å¾®æœåŠ¡çš„å®‰å…¨è®¤è¯æ¶æ„æ˜¯å¦‚ä½•æ¼”è¿›è€Œæ¥çš„ï¼Œä½†æ˜¯v2.5ç‰ˆæœ¬ï¼ˆToken+Gatewayæ–¹å¼ï¼‰æ€»ä½“ä¸Šè¿˜æ˜¯æ¯”è¾ƒé‡ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è¿˜æ˜¯éœ€è¦åˆ°AuthServiceä¸Šå»åšè®¤è¯é‰´æƒçš„æ“ä½œï¼Œè¿™å¯¹äºAuthServiceæ¥è¯´ç®—æ˜¯å‹åŠ›æ¯”è¾ƒå¤§ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œä¸šç•Œå¹¿æ³›é‡‡ç”¨JWTè¿™ç§è½»é‡çº§çš„è§£å†³æ–¹æ¡ˆæ¥é‡æ„å®‰å…¨è®¤è¯æ¶æ„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒJWTæ˜¯ä»€ä¹ˆï¼ŸåŸç†ï¼Ÿå®ç°æ–¹å¼ï¼Ÿä¸‹ä¸€æœŸéªšå¹´å¿«ç­”ï¼Œä¸ºä½ è§£ç­”è¿™å‡ ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;æ¨æ³¢ï¼Œã€ŠSpring Bootä¸K8säº‘åŸç”Ÿåº”ç”¨å¼€å‘ã€‹ï¼ˆæå®¢æ—¶é—´è¯¾ç¨‹ï¼Œæ¨èå­¦ä¹ ï¼‰&lt;/p&gt;
&lt;p&gt;æ¨æ³¢ï¼Œã€Šå¾®æœåŠ¡æ¶æ„160è®²ã€‹ï¼ˆæå®¢æ—¶é—´è¯¾ç¨‹ï¼Œæ¨èå­¦ä¹ ï¼‰&lt;/p&gt;
&lt;p&gt;Microsoftï¼Œã€Š&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/app-state?view=aspnetcore-3.1&quot; target=&quot;_blank&quot;&gt;ASP.NET Coreä¸­çš„ä¼šè¯çŠ¶æ€ç®¡ç†&lt;/a&gt;ã€‹&lt;/p&gt;
&lt;p&gt;æ™“æ™¨ï¼Œã€Š&lt;a href=&quot;https://www.cnblogs.com/stulzq/p/8119928.html&quot; target=&quot;_blank&quot;&gt;IdentityServer4 ä¸­æ–‡æ–‡æ¡£ä¸å®æˆ˜&lt;/a&gt;ã€‹&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/large/7b43aa3dly4ggis81gfm4j20p00anjtj.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;div id=&quot;Copyright&quot; readability=&quot;8.1860465116279&quot;&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a title=&quot;author&quot; href=&quot;https://edisonchou.cnblogs.com&quot; target=&quot;_blank&quot;&gt;å‘¨æ—­é¾™&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‡ºå¤„ï¼š&lt;a title=&quot;from&quot; href=&quot;https://edisonchou.cnblogs.com&quot; target=&quot;_blank&quot;&gt;https://edisonchou.cnblogs.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 25 Jul 2020 10:04:00 +0000</pubDate>
<dc:creator>EdisonZhou</dc:creator>
<og:description>ä¹‹å‰æœ‰åŒäº‹é—®ä¸ºä½•è¦ç”¨åŸºäºJWTä»¤ç‰Œçš„è®¤è¯æ¶æ„ï¼Œç„¶åè¿‘æœŸåˆæœ‰ç«¥é‹åœ¨åå°ç•™è¨€é—®å¾®æœåŠ¡å®‰å…¨è®¤è¯æ¶æ„çš„å®è·µï¼Œå› æ­¤æˆ‘å†³å®šèŠ±ä¸¤ç¯‡æ¨æ–‡æ¥è§£ç­”ä¸€ä¸‹ã€‚ä¸ºäº†ç­”å¥½è¿™ä¸ªè¯é¢˜ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¾®æœåŠ¡çš„å®‰å…¨è®¤è¯æ¶æ„æ˜¯å¦‚ä½•æ¼”è¿›è€Œæ¥çš„ï¼Œ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/edisonchou/p/the_development_of_microservice_security_authentication.html</dc:identifier>
</item>
</channel>
</rss>