<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>gitbook å…¥é—¨æ•™ç¨‹ä¹‹å¿«é€Ÿä½“éªŒ - é›ªä¹‹æ¢¦æŠ€æœ¯é©¿ç«™</title>
<link>http://www.cnblogs.com/snowdreams1006/p/10640297.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/snowdreams1006/p/10640297.html</guid>
<description>&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸‰ç§ä½¿ç”¨ &lt;code&gt;gitbook&lt;/code&gt; çš„æ–¹å¼,åˆ†åˆ«æ˜¯ &lt;code&gt;gitbook&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·,&lt;code&gt;Gitbook Editor&lt;/code&gt; å®˜æ–¹ç¼–è¾‘å™¨å’Œ &lt;code&gt;gitbook.com&lt;/code&gt; å®˜ç½‘.&lt;/p&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´,ä¸‰ç§é€”å¾„é€‚åˆå„è‡ªä¸åŒçš„äººç¾¤,æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ–¹å¼å°±å¥½,åŸºæœ¬æ“ä½œæµç¨‹éƒ½æ˜¯ä¸€æ ·çš„.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å‘½ä»¤è¡Œå·¥å…·æ›´é€‚åˆå…·å¤‡ç¼–ç¨‹ç»éªŒå¼€å‘è€…,å…·æœ‰ç®€å•é«˜æ•ˆæ˜“æ•´åˆç­‰ç‰¹ç‚¹.&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘å™¨æ›´é€‚åˆæ— ä»»ä½•ç¼–ç¨‹ç»éªŒçš„æ–‡å­¦åˆ›ä½œè€…,ä¸ç†Ÿæ‚‰ &lt;code&gt;markdown&lt;/code&gt; è¯­æ³•,ä¸ç†Ÿæ‚‰ &lt;code&gt;git&lt;/code&gt; å·¥ä½œæµ,è¿™ç§æƒ…å†µä¸‹ä¹Ÿæ¨èä½¿ç”¨å›¾å½¢åŒ–æ“ä½œçš„ç¼–è¾‘å™¨.&lt;/li&gt;
&lt;li&gt;å®˜ç½‘é€‚åˆæƒ³è¦å¿«é€Ÿä½“éªŒ &lt;code&gt;gitbook&lt;/code&gt; æ•ˆæœçš„èŒæ–°,åªæœ‰è§‰å¾—ç‰©è¶…æ‰€å€¼æ‰èƒ½æœ‰åŠ¨åŠ›æ­å»º &lt;code&gt;gitbook&lt;/code&gt; å¼€å‘ç¯å¢ƒ,ä¸æ˜¯å—?&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å½“ç„¶,å¦‚æœä½ æƒ³è®¿é—®å®˜ç½‘çš„è¯,ä½ å¯èƒ½éœ€è¦å­¦ä¼šç§‘å­¦ä¸Šç½‘,ç½‘å€è§æ–‡ç« ç»“å°¾.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;gitbook-å‘½ä»¤è¡Œ&quot;&gt;&lt;code&gt;gitbook&lt;/code&gt; å‘½ä»¤è¡Œ&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦åˆ›å»ºå­˜æ”¾ä¹¦ç±çš„ç›®å½•,ç„¶åå¯¹è¯¥ç›®å½•è¿›è¡Œåˆå§‹åŒ–,æœ€åå¯åŠ¨æœ¬åœ°æœåŠ¡å³å¯ä½“éªŒæ•ˆæœ.&lt;/p&gt;
&lt;h3 id=&quot;åˆå§‹åŒ–é¡¹ç›®&quot;&gt;åˆå§‹åŒ–é¡¹ç›®&lt;/h3&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;è¯­æ³•æ ¼å¼: &lt;code&gt;gitbook init&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ˜¯ç©ºç›®å½•ä¼šè‡ªåŠ¨åˆ›å»º &lt;code&gt;README.md&lt;/code&gt; å’Œ &lt;code&gt;SUMMARY.md&lt;/code&gt; ä¸¤ä¸ªæ–‡ä»¶,å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºå†åˆå§‹åŒ–.&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# åˆ›å»º `gitbook` æ¼”ç¤ºé¡¹ç›®
$ mkdir gitbook-demo

# åˆå§‹åŒ–é¡¹ç›®
$ gitbook init
warn: no summary file in this book 
info: create README.md 
info: create SUMMARY.md 
info: initialization is finished 

# å½“å‰ç›®å½•ç»“æ„
$ tree 
.
â”œâ”€â”€ README.md
â””â”€â”€ SUMMARY.md

0 directories, 2 files
$ &lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;gitbook init&lt;/code&gt; å‘½ä»¤å¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆ &lt;code&gt;README.md&lt;/code&gt; å’Œ &lt;code&gt;SUMMARY.md&lt;/code&gt; ä¸¤ä¸ªæ–‡ä»¶,å¦‚å·²å­˜åœ¨åˆ™æ›´æ–°.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;è¿è¡Œé¡¹ç›®&quot;&gt;è¿è¡Œé¡¹ç›®&lt;/h3&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;è¯­æ³•æ ¼å¼: &lt;code&gt;gitbook serve&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°†åˆå§‹åŒ–åçš„é¡¹ç›®å¯åŠ¨æˆä¸ºä¸€ä¸ªæœ¬åœ°æœåŠ¡,æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨è®¿é—®é¡¹ç›®,é¢„è§ˆä¹¦ç±æ•ˆæœ.&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
$ gitbook serve
Live reload server started on port: 35729
Press CTRL+C to quit ...

info: 7 plugins are installed 
info: loading plugin &quot;livereload&quot;... OK 
info: loading plugin &quot;highlight&quot;... OK 
info: loading plugin &quot;search&quot;... OK 
info: loading plugin &quot;lunr&quot;... OK 
info: loading plugin &quot;sharing&quot;... OK 
info: loading plugin &quot;fontsettings&quot;... OK 
info: loading plugin &quot;theme-default&quot;... OK 
info: found 1 pages 
info: found 0 asset files 
info: &amp;gt;&amp;gt; generation finished with success in 1.2s ! &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-beac5b37af49f99f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-serve-preview.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦åœæ­¢æœåŠ¡å™¨,åªéœ€åŒæ—¶æŒ‰ä½ &lt;code&gt;CTRL+C&lt;/code&gt; å³å¯,ç°åœ¨å†çœ‹ä¸€ä¸‹ &lt;code&gt;gitbook-demo&lt;/code&gt; ç›®å½•ç»“æ„.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ tree
.
â”œâ”€â”€ README.md
â”œâ”€â”€ SUMMARY.md
â””â”€â”€ _book
    â”œâ”€â”€ gitbook
    â”‚   â”œâ”€â”€ fonts
    â”‚   â”‚   â””â”€â”€ fontawesome
    â”‚   â”‚       â”œâ”€â”€ FontAwesome.otf
    â”‚   â”‚       â”œâ”€â”€ fontawesome-webfont.eot
    â”‚   â”‚       â”œâ”€â”€ fontawesome-webfont.svg
    â”‚   â”‚       â”œâ”€â”€ fontawesome-webfont.ttf
    â”‚   â”‚       â”œâ”€â”€ fontawesome-webfont.woff
    â”‚   â”‚       â””â”€â”€ fontawesome-webfont.woff2
    â”‚   â”œâ”€â”€ gitbook-plugin-fontsettings
    â”‚   â”‚   â”œâ”€â”€ fontsettings.js
    â”‚   â”‚   â””â”€â”€ website.css
    â”‚   â”œâ”€â”€ gitbook-plugin-highlight
    â”‚   â”‚   â”œâ”€â”€ ebook.css
    â”‚   â”‚   â””â”€â”€ website.css
    â”‚   â”œâ”€â”€ gitbook-plugin-livereload
    â”‚   â”‚   â””â”€â”€ plugin.js
    â”‚   â”œâ”€â”€ gitbook-plugin-lunr
    â”‚   â”‚   â”œâ”€â”€ lunr.min.js
    â”‚   â”‚   â””â”€â”€ search-lunr.js
    â”‚   â”œâ”€â”€ gitbook-plugin-search
    â”‚   â”‚   â”œâ”€â”€ lunr.min.js
    â”‚   â”‚   â”œâ”€â”€ search-engine.js
    â”‚   â”‚   â”œâ”€â”€ search.css
    â”‚   â”‚   â””â”€â”€ search.js
    â”‚   â”œâ”€â”€ gitbook-plugin-sharing
    â”‚   â”‚   â””â”€â”€ buttons.js
    â”‚   â”œâ”€â”€ gitbook.js
    â”‚   â”œâ”€â”€ images
    â”‚   â”‚   â”œâ”€â”€ apple-touch-icon-precomposed-152.png
    â”‚   â”‚   â””â”€â”€ favicon.ico
    â”‚   â”œâ”€â”€ style.css
    â”‚   â””â”€â”€ theme.js
    â”œâ”€â”€ index.html
    â””â”€â”€ search_index.json

11 directories, 27 files
$ &lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;code&gt;gitbook serve&lt;/code&gt; å‘½ä»¤å¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆ &lt;code&gt;_book&lt;/code&gt; ç›®å½•,å¦‚å·²å­˜åœ¨åˆ™æ›´æ–°.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-0c7e35985dbaac7f.gif?imageMogr2/auto-orient/strip&quot; alt=&quot;gitbook-serve.gif&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;gitbook-editor-ç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;gitbook editor&lt;/code&gt; ç¼–è¾‘å™¨&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½ &lt;a href=&quot;https://legacy.gitbook.com/editor&quot;&gt;gitbook editor&lt;/a&gt; å¹¶å®‰è£…,å¦‚æœä¸‹è½½é‡åˆ°å›°éš¾,å¯ä»¥æ‰¾æˆ‘æ¥å¸®å¿™å“Ÿ!&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-66aa2dda45eb3084.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-editor-welcome.png&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å¦‚æœä½ æ²¡æœ‰æ¢¯å­,å¯ä»¥æš‚ä¸ç™»å½•(Do that Later),åªä¸è¿‡æ— æ³•ä¸ &lt;code&gt;gitbook.com&lt;/code&gt; ä¿æŒåŒæ­¥.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;æ›´æ”¹å›¾ä¹¦è·¯å¾„&quot;&gt;æ›´æ”¹å›¾ä¹¦è·¯å¾„&lt;/h3&gt;
&lt;p&gt;æ›´æ”¹é»˜è®¤å›¾ä¹¦å­˜æ”¾ä½ç½®(&lt;code&gt;Gitbook Editor =&amp;gt; Change Library Path...&lt;/code&gt;),ä»¥åå›¾ä¹¦ç›®å½•éƒ½åœ¨è¯¥ç›®å½•ä¸‹,æ¯”å¦‚è®¾ç½®çš„æ˜¯ &lt;code&gt;.../gitbook-editor/&lt;/code&gt; å›¾ä¹¦ç›®å½•.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-6fcdcb61b765bcfb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-editor-library-preview.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-c9f96b67ed6ca10b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-editor-library-chose.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ–°å»ºå›¾ä¹¦&quot;&gt;æ–°å»ºå›¾ä¹¦&lt;/h3&gt;
&lt;p&gt;æ–°å»ºå›¾ä¹¦é¡¹ç›®,åå­—ä»ç„¶æ˜¯ &lt;code&gt;gitbook-demo&lt;/code&gt;,è¿™æ ·æ–¹ä¾¿æ¯”è¾ƒå’Œå‘½ä»¤è¡Œåˆ›å»ºçš„ &lt;code&gt;gitbook-demo&lt;/code&gt; åŒºåˆ«.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-885e3bb141fed523.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-editor-demo-preview.png&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å›¾å½¢åŒ–æ“ä½œç•Œé¢æ€»ä½“æ¥è¯´è¿˜æ˜¯å¾ˆå®¹æ˜“ä¸Šæ‰‹çš„,è‡ªå·±å¥½å¥½ç ”ç©¶ä¸€ä¸‹å³å¯,è¿™é‡Œä»…ä»…æ¼”ç¤ºé»˜è®¤æ•ˆæœ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å¯åŠ¨é¡¹ç›®&quot;&gt;å¯åŠ¨é¡¹ç›®&lt;/h3&gt;
&lt;p&gt;ç°åœ¨å…ˆæ‰¾åˆ°æ–°å»ºå›¾ä¹¦çš„å…·ä½“ç›®å½•,ç„¶åå†å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨,åŒæ ·åœ°,æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­ä½“éªŒç”µå­ä¹¦æ•ˆæœ.&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;å›¾ä¹¦é¡¹ç›®è·¯å¾„: &lt;code&gt;/workspace/gitbook-editor/Import/gitbook-demo&lt;/code&gt;,å…¶ä¸­ &lt;code&gt;/workspace/gitbook-editor/&lt;/code&gt; æ˜¯ä¸Šä¸€æ­¥æ›´æ”¹çš„å›¾ä¹¦è·¯å¾„.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code&gt;# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
$ gitbook serve&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;è¿™é‡Œä¸å†éœ€è¦è¿è¡Œ &lt;code&gt;gitbook init&lt;/code&gt; å‘½ä»¤äº†,å› ä¸ºå·²ç»åˆ›å»ºè¿‡ &lt;code&gt;README.md&lt;/code&gt; å’Œ &lt;code&gt;SUMMARY.md&lt;/code&gt; è¿™ä¸¤ä¸ªæ–‡ä»¶.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/16648241-a38a5b69f76bffbc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;gitbook-editor-serve-preview.png&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;Gitbook Editor&lt;/code&gt; ç¼–è¾‘å™¨æ–°å»ºçš„å›¾ä¹¦é¡¹ç›®å’Œ &lt;code&gt;gitbook-cli&lt;/code&gt; åˆ›å»ºçš„å›¾ä¹¦é¡¹ç›®æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ,åªä¸è¿‡ç¼–è¾‘å™¨é›†æˆäº†å¸¸ç”¨åŠŸèƒ½è€Œå·²!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç”±äºå—ç½‘ç»œå› ç´ æ‰€é™,æš‚æ—¶ä¸åˆ†äº«è¿™éƒ¨åˆ†çŸ¥è¯†äº†,ç®€å•æ¥è¯´å°±æ˜¯åœ¨çº¿ç¼–è¾‘å¹¶å‘å¸ƒç”µå­ä¹¦,è¿™ä¸€ç‚¹å’Œ &lt;code&gt;github&lt;/code&gt; çš„ä»£ç æ‰˜ç®¡æœåŠ¡ç±»ä¼¼.&lt;/p&gt;
&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;åˆå§‹åŒ–é¡¹ç›® : &lt;code&gt;gitbook init&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯åŠ¨é¡¹ç›® : &lt;code&gt;gitbook serve&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é»˜è®¤è®¿é—®åœ°å€: &lt;code&gt;http://localhost:4000&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Mon, 01 Apr 2019 23:25:00 +0000</pubDate>
<dc:creator>é›ªä¹‹æ¢¦æŠ€æœ¯é©¿ç«™</dc:creator>
<og:description>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸‰ç§ä½¿ç”¨ `gitbook` çš„æ–¹å¼,åˆ†åˆ«æ˜¯ `gitbook` å‘½ä»¤è¡Œå·¥å…·,`Gitbook Editor` å®˜æ–¹ç¼–è¾‘å™¨å’Œ `gitbook.com` å®˜ç½‘. æ€»ä½“æ¥è¯´,ä¸‰ç§é€”å¾„é€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/snowdreams1006/p/10640297.html</dc:identifier>
</item>
<item>
<title>ä½¿ç”¨MediatRé‡æ„å•ä½“åº”ç”¨ä¸­çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜… - LamondLu</title>
<link>http://www.cnblogs.com/lwqlun/p/10640280.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lwqlun/p/10640280.html</guid>
<description>&lt;blockquote readability=&quot;4.5424528301887&quot;&gt;
&lt;p&gt;æ ‡é¢˜ï¼šä½¿ç”¨MediatRé‡æ„å•ä½“åº”ç”¨ä¸­çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜…&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼šLamond Lu&lt;/p&gt;
&lt;p&gt;åœ°å€ï¼š&lt;a href=&quot;https://www.cnblogs.com/lwqlun/p/10640280.html&quot; class=&quot;uri&quot;&gt;https://www.cnblogs.com/lwqlun/p/10640280.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æºä»£ç ï¼š&lt;a href=&quot;https://github.com/lamondlu/EventHandlerInSingleApplication&quot; class=&quot;uri&quot;&gt;https://github.com/lamondlu/EventHandlerInSingleApplication&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/65831/201904/65831-20190402061649072-1894283141.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆ†äº«äº†ä¸€ä¸ª&lt;a href=&quot;https://www.cnblogs.com/lwqlun/p/10468058.html&quot;&gt;åœ¨ASP.NET Coreå•ä½“ç¨‹åºä¸­ï¼Œä½¿ç”¨äº‹ä»¶å‘å¸ƒ/è®¢é˜…è§£è€¦ä¸šåŠ¡é€»è¾‘çš„ä¾‹å­&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/65831/201904/65831-20190402061655132-1294720334.png&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;1.4457831325301&quot;&gt;
&lt;p&gt;é¡¹ç›®æºä»£ç åœ°å€ï¼š&lt;a href=&quot;https://github.com/lamondlu/EventHandlerInSingleApplication&quot; class=&quot;uri&quot;&gt;https://github.com/lamondlu/EventHandlerInSingleApplication&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨æ–‡ç« è¯„è®ºä¸­è€å¼ æåˆ°äº†ä½¿ç”¨MediatRçš„æ–¹æ¡ˆã€‚å¯¹äºMediatRï¼Œæˆ‘ä»¥å‰åªæ˜¯å¬è¯´çš„ï¼Œæ²¡æœ‰è®¤çœŸç ”ç©¶è¿‡ã€‚ä¸Šå‘¨æœ«çš„èƒ¶ä¸œå¼€å‘è€…æŠ€æœ¯æ²™é¾™ä¸­ï¼Œè¡£å“¥ä¹Ÿæåˆ°äº†è¿™ä¸ªåº“ï¼Œé—²æš‡æ—¶é—´æˆ‘å°±ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå¹¶ä¿®æ”¹äº†ä¹‹å‰çš„ä¾‹å­ï¼Œå‘ç°ç¡®å®ç®€åŒ–äº†ä¸å°‘ä»£ç ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5.3181818181818&quot;&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰çœ‹è¿‡&lt;a href=&quot;https://www.cnblogs.com/lwqlun/p/10468058.html&quot;&gt;ä¹‹å‰çš„æ–‡ç« &lt;/a&gt;ï¼Œå»ºè®®ä½ å…ˆçœ‹ä¸€ä¸‹ä¹‹å‰çš„å®ç°ï¼Œæœ¬æ–‡ä¸­çš„æ‰€æœ‰ä¿®æ”¹éƒ½æ˜¯é’ˆå¯¹ä¸Šä¸€ç¯‡çš„ä»£ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸­ä»‹è€…æ¨¡å¼ï¼Œå®šä¹‰äº†ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚ä¸­ä»‹è€…ä½¿å„ä¸ªå¯¹è±¡ä¹‹é—´ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿è€¦åˆæ€§é™ä½ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…¶ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;é™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§ï¼Œä½¿å¾—å¯¹è±¡æ˜“äºç‹¬ç«‹åœ°è¢«å¤ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å°†å¯¹è±¡é—´çš„ä¸€å¯¹å¤šå…³è”è½¬å˜ä¸ºä¸€å¯¹ä¸€çš„å…³è”ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œä½¿å¾—ç³»ç»Ÿæ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å…¶å®äº‹ä»¶å‘å¸ƒ/è®¢é˜…å°±æ˜¯ä¸­ä»‹è€…æ¨¡å¼çš„ä¸€ç§å®ç°æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;MediatRæ˜¯ä¸€ä¸ªåŸºäº.NETçš„ä¸­ä»‹è€…æ¨¡å¼å®ç°åº“ï¼Œå®ƒæ˜¯ä¸€ç§&lt;strong&gt;è¿›ç¨‹å†…&lt;/strong&gt;æ¶ˆæ¯ä¼ é€’çš„æ–¹æ¡ˆï¼Œå®˜ç½‘åœ°å€https://github.com/jbogard/MediatR/ã€‚&lt;/p&gt;
&lt;p&gt;MediatRå¯ä»¥å‘é€ä¸¤ç§æ¶ˆæ¯&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è¯·æ±‚/å“åº”æ¶ˆæ¯ï¼Œè¿™ç§æ¶ˆæ¯åªæœ‰ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œ è¿™ç§æ–¹å¼çš„æ¶ˆæ¯éœ€è¦å®ç°&lt;code&gt;IRequest&lt;/code&gt;æ¥å£ï¼Œ å…¶å¤„ç†ç¨‹åºéœ€è¦å®ç°&lt;code&gt;IRequestHandler&lt;/code&gt;æ¥å£&lt;/li&gt;
&lt;li&gt;é€šçŸ¥æ¶ˆæ¯ï¼Œè¿™ç§æ¶ˆæ¯å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†ç¨‹åºï¼Œè¿™ç§æ–¹å¼çš„æ¶ˆæ¯éœ€è¦å®ç°&lt;code&gt;INotification&lt;/code&gt;æ¥å£ï¼Œ å…¶å¤„ç†ç¨‹åºéœ€è¦å®ç°&lt;code&gt;INotificationHandler&lt;/code&gt;æ¥å£&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä»æ¶ˆæ¯çš„ç‰¹æ€§ä¸Šçœ‹ï¼Œå¦‚æœè¦æ”¹é€ æˆ‘ä»¬ä¹‹å‰çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜…åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€šçŸ¥æ¶ˆæ¯ï¼Œå› ä¸ºæ¯ä¸ªäº‹ä»¶å¯èƒ½ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçš„å¤„ç†ç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;åœ¨.NET Coreä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨Nugetæ·»åŠ MediatR.Extensions.Microsoft.DependencyInjectionåº“æ¥å¼•å…¥MediatR&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;Install-Package MediatR.Extensions.Microsoft.DependencyInjection&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ·»åŠ å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨Startup.csä¸­å¯åŠ¨MediatRä¸­é—´ä»¶ã€‚&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public void ConfigureServices(IServiceCollection services)
    {
        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_2);
        
        ...
        services.AddMediatR();
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨MediatRäº†ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;15&quot;&gt;
&lt;p&gt;æç¤ºï¼š&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä½ å¯ä»¥ä¼šæœ‰ç–‘é—®ï¼Œä¹‹å‰çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è¿™é‡Œè¿˜å®šä¹‰äº†äº‹ä»¶å’Œå¤„ç†å™¨ä¹‹é—´çš„æ˜ å°„ï¼Œç°åœ¨æ€ä¹ˆå°±ä¸éœ€è¦äº†ï¼Ÿ&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;EventHandlerContainer
  .Subscribe&amp;lt;ShoppingCartSubmittedEvent, CreateOrderHandler&amp;gt;();
EventHandlerContainer
  .Subscribe&amp;lt;ShoppingCartSubmittedEvent, ConfirmEmailSentHandler&amp;gt;();&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡ŒMediatRä¸­å·²ç»æä¾›äº†ä¸€ä¸ªè‡ªåŠ¨æ˜ å°„åŠŸèƒ½ï¼Œå®ƒä¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨æœç´¢æ‰€æœ‰äº‹ä»¶å’Œäº‹ä»¶å¤„ç†å™¨ï¼Œå¹¶è‡ªåŠ¨è®¾ç½®å¥½å®ƒä»¬ä¹‹é—´çš„æ˜ å°„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨æ‰‹åŠ¨åšè¿™ä¸ªäº‹æƒ…äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬ä¹‹å‰çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè´­ç‰©è½¦æäº¤äº‹ä»¶ï¼Œå®ƒç»§æ‰¿è‡ªäº‹ä»¶åŸºç±»&lt;code&gt;EventBase&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public class ShoppingCartSubmittedEvent : EventBase
    {
        public ShoppingCartSubmittedEvent()
        {
            Items = new List&amp;lt;ShoppingCartSubmittedItem&amp;gt;();
        }

        public List&amp;lt;ShoppingCartSubmittedItem&amp;gt; Items { get; set; }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨æ”¹ç”¨MediatRä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å½“å‰äº‹ä»¶çš„å®šä¹‰ï¼Œè®©å®ƒå®ç°&lt;code&gt;INotification&lt;/code&gt;æ¥å£ã€‚&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public class ShoppingCartSubmittedEvent : INotification
    {
        public ShoppingCartSubmittedEvent()
        {
            Items = new List&amp;lt;ShoppingCartSubmittedItem&amp;gt;();
        }

        public List&amp;lt;ShoppingCartSubmittedItem&amp;gt; Items { get; set; }
    }&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;å®Œæˆäº‹ä»¶å®šä¹‰éƒ¨åˆ†çš„ä¿®æ”¹ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é‡æ„äº‹ä»¶å¤„ç†å™¨çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„ä»£ç ä¸­ï¼Œé’ˆå¯¹è´­ç‰©è½¦æäº¤äº‹ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå¤„ç†å™¨ï¼Œä¸€ä¸ªæ˜¯åˆ›å»ºè®¢å•å¤„ç†å™¨&lt;code&gt;CreateOrderHandler&lt;/code&gt;ï¼Œä¸€ä¸ªæ˜¯å‘é€é‚®ä»¶å¤„ç†å™¨&lt;code&gt;ConfirmEmailSentHandler&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥ä½¿ç”¨&lt;code&gt;INotificationHandler&lt;/code&gt;æ¥å£æ¥æ”¹é€ ä¹‹å‰å®šä¹‰å¥½çš„ä¸¤ä¸ªå¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public class CreateOrderHandler : INotificationHandler&amp;lt;ShoppingCartSubmittedEvent&amp;gt;
    {
        private IOrderManager _orderManager = null;

        public CreateOrderHandler(IOrderManager orderManager)
        {
            _orderManager = orderManager;
        }

        public Task Handle(ShoppingCartSubmittedEvent notification, CancellationToken cancellationToken)
        {
            _orderManager.CreateNewOrder(new Models.DTOs.CreateOrderDTO
            {
                Items = notification.Items.Select(p =&amp;gt; new Models.DTOs.NewOrderItemDTO
                {
                    ItemId = p.ItemId,
                    Name = p.Name,
                    Price = p.Price
                }).ToList()
            });

            return Task.CompletedTask;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public class ConfirmEmailSentHandler : INotificationHandler&amp;lt;ShoppingCartSubmittedEvent&amp;gt;
    {
        public Task Handle(ShoppingCartSubmittedEvent notification, CancellationToken cancellationToken)
        {
            Console.WriteLine(&quot;Confirm Email Sent.&quot;);
            return Task.CompletedTask;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»£ç è§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;INotificationHandler&lt;/code&gt;æ˜¯ä¸€ä¸ªæ³›å‹æ¥å£ï¼Œæ¥å£ä¸­å®šä¹‰çš„æ³›å‹ç±»éœ€è¦å®ç°&lt;code&gt;INotification&lt;/code&gt;æ¥å£&lt;/li&gt;
&lt;li&gt;å½“å¤„ç†å™¨å®ç°&lt;code&gt;INotificationHandler&lt;/code&gt;æ¥å£æ—¶ï¼Œå°±éœ€è¦å®ç°ä¸€ä¸ª&lt;code&gt;Handle&lt;/code&gt;æ–¹æ³•, åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å…·ä½“çš„ä¸šåŠ¡ä»£ç &lt;/li&gt;
&lt;li&gt;ä»æ–¹æ³•çš„è¿”å›å€¼Task, ä½ å¯ä»¥äº†è§£åˆ°è¿™ä¸ªæ–¹æ³•æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨async/awaitå˜ä¸ºä¸€ä¸ªå¼‚æ­¥çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;

&lt;p&gt;åœ¨ä¹‹å‰çš„ä»£ç ä¸­ï¼Œå½“è´­ç‰©è½¦æäº¤æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬ä¼šåœ¨&lt;code&gt;OrderManager&lt;/code&gt;ç±»ä¸­ï¼Œä½¿ç”¨&lt;code&gt;EventContainer&lt;/code&gt;å‘å¸ƒäº‹ä»¶ã€‚å½“æˆ‘ä»¬ä½¿ç”¨MediatRä¹‹åï¼Œè¿™éƒ¨åˆ†ä»£ç ç¨æœ‰æ”¹åŠ¨ï¼Œ æˆ‘ä»¬éœ€è¦ä½¿ç”¨&lt;code&gt;IMediator&lt;/code&gt;æ¥å£å¯¹è±¡çš„&lt;code&gt;Publish&lt;/code&gt;æ–¹æ³•æ¥å‘å¸ƒäº‹ä»¶ã€‚&lt;/p&gt;
&lt;pre class=&quot;c#&quot;&gt;
&lt;code&gt;    public void SubmitShoppingCart(string shoppingCartId)
    {
        var shoppingCart = _unitOfWork.ShoppingCartRepository.GetShoppingCart(shoppingCartId);

        _unitOfWork.ShoppingCartRepository.SubmitShoppingCart(shoppingCartId);

        _mediator.Publish(new ShoppingCartSubmittedEvent()
        {
            Items = shoppingCart.Items.Select(p =&amp;gt; new ShoppingCartSubmittedItem
            {
                ItemId = p.ItemId,
                Name = p.Name,
                Price = p.Price
            }).ToList()
        });

        _unitOfWork.Save();
    }&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;è‡³æ­¤ï¼Œæ‰€æœ‰ä»£ç å°±éƒ½å®Œæˆäº†ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸Šä¸€ç¯‡çš„æ“ä½œæ­¥éª¤ï¼Œå†æµ‹è¯•ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/65831/201904/65831-20190402061700852-2040080046.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡Œè´­ç‰©è½¦æäº¤æ“ä½œçš„æ—¶å€™ï¼Œè®¢å•åˆ›å»ºå’Œé‚®ä»¶å‘é€å¤„ç†å™¨éƒ½æ­£ç¡®è§¦å‘äº†ã€‚&lt;/p&gt;

&lt;p&gt;MediatRæ˜¯ä¸€ä¸ªåŸºäº.NETçš„ä¸­ä»‹è€…æ¨¡å¼å®ç°ï¼Œå®ƒè™½ç„¶åªæ”¯æŒ&lt;strong&gt;è¿›ç¨‹å†…&lt;/strong&gt;çš„æ¶ˆæ¯ä¼ é€’ï¼Œä½†æ˜¯å´å¯ä»¥ç®€åŒ–äº‹ä»¶å‘å¸ƒ/è®¢é˜…ä»£ç ï¼Œå¸®åŠ©å®ç°ä¸šåŠ¡é€»è¾‘ä»£ç çš„è§£è€¦ï¼Œä½ å¯ä»¥è‡ªå·±è¯•ä¸€è¯•ã€‚&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 22:22:00 +0000</pubDate>
<dc:creator>LamondLu</dc:creator>
<og:description>æ ‡é¢˜ï¼šä½¿ç”¨MediatRé‡æ„å•ä½“åº”ç”¨ä¸­çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜… ä½œè€…ï¼šLamond Lu åœ°å€ï¼š æºä»£ç ï¼šhttps://github.com/lamondlu/EventHandlerInSingleApp</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/lwqlun/p/10640280.html</dc:identifier>
</item>
<item>
<title>Linux ä¸­æŸ¥çœ‹è¿›ç¨‹åŠèµ„æºä½¿ç”¨æƒ…å†µ - åˆ˜å“‡å‹‡</title>
<link>http://www.cnblogs.com/Wayou/p/linux_top_command.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Wayou/p/linux_top_command.html</guid>
<description>&lt;p&gt;è‡ªå¸¦çš„ &lt;code&gt;top&lt;/code&gt; å‘½ä»¤ç±»ä¼¼äºå¹³æ—¶æˆ‘ä»¬ä½¿ç”¨çš„ä»»åŠ¡ç®¡ç†å™¨ï¼Œèƒ½å¤Ÿåˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­çš„è¿›ç¨‹åŠèµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-shell&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
$ man top
       top - display Linux tasks
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œä¸åŠ ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹å·²ç»å¾ˆå®ç”¨äº†ã€‚å…¶è¾“å‡ºå¤§è‡´æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://user-images.githubusercontent.com/3783096/55340333-0e87e680-54d7-11e9-8761-8ea2bc2fabac.png&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/3783096/55340333-0e87e680-54d7-11e9-8761-8ea2bc2fabac.png&quot; alt=&quot;topå‘½ä»¤çš„è¾“å‡ºç•Œé¢&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&lt;em&gt;&lt;code&gt;top&lt;/code&gt;å‘½ä»¤çš„è¾“å‡ºç•Œé¢&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ &lt;code&gt;q&lt;/code&gt; å¯é€€å‡ºè¯¥ç•Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Tips: &lt;code&gt;top&lt;/code&gt; çš„è¾“å‡ºæ¯ 3 ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå¦‚æœæƒ³å°†ç”»é¢å®šæ ¼ï¼ŒMac ä¸‹å¯ä½¿ç”¨ &lt;kbd&gt;control&lt;/kbd&gt; + &lt;kbd&gt;s&lt;/kbd&gt; æ¥åœæ­¢åˆ·æ–°ï¼Œ&lt;kbd&gt;control&lt;/kbd&gt; + &lt;kbd&gt;q&lt;/kbd&gt; æ¢å¤åˆ·æ–°ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥é€šè¿‡åœ¨å½“å‰ç•Œé¢æŒ‰ &lt;kbd&gt;d&lt;/kbd&gt; æ¥è®¾ç½®åˆ·æ–°é¢‘ç‡ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png&quot; alt=&quot;æŒ‰ &amp;lt;kbd&amp;gt;d&amp;lt;/kdb&amp;gt; è®¾ç½®åˆ·æ–°é¢‘ç‡&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&lt;em&gt;æŒ‰ &lt;kbd&gt;d&lt;/kbd&gt; è®¾ç½®åˆ·æ–°é¢‘ç‡&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥ç»†çœ‹å„éƒ¨åˆ†çš„å†…å®¹çš„å«ä¹‰ã€‚&lt;/p&gt;
&lt;h3&gt;top&lt;/h3&gt;
&lt;p&gt;å…³äºæœºå™¨è¿è¡Œçš„ç»Ÿè®¡ä¿¡æ¯ã€‚ä»ğŸ‘ˆğŸ»è‡³ğŸ‘‰ğŸ»ä¾æ¬¡æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;22:23:10&lt;/code&gt; ç³»ç»Ÿå½“å‰æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;up 80 days, 11:44&lt;/code&gt; ç³»ç»Ÿå·²ç»è¿è¡Œäº†80å¤šå¤©äº†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1 user&lt;/code&gt; å½“å‰ç™»å½•çš„ç”¨æˆ·æ•°ã€‚1 ä¸ªï¼Œä¹Ÿå°±æ˜¯æˆ‘è‡ªå·±ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;load average: 1.31, 1.33, 1.29&lt;/code&gt; ç³»ç»Ÿå¹³å‡è´Ÿè·ï¼ˆLoadï¼‰ï¼Œä¸‰ä¸ªå€¼ï¼Œåˆ†åˆ«è¡¨ç¤ºè¿‡å» 1 åˆ†é’Ÿï¼Œ5 åˆ†é’Ÿå’Œ 15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè·ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;Tasks&lt;/h3&gt;
&lt;p&gt;è¿›ç¨‹ç»Ÿè®¡ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;66 total&lt;/code&gt; æ€»è®¡ 66 ä¸ªè¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1 running&lt;/code&gt; å…¶ä¸­ 1 ä¸ªæ­£åœ¨è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;65 sleeping&lt;/code&gt; 65 ä¸ªå¤„äºä¼‘çœ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0 stopped&lt;/code&gt; 0 ä¸ªåœæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0 zombie&lt;/code&gt; ä»¥åŠ 0 ä¸ª&lt;strong&gt;åƒµå°¸è¿›ç¨‹&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿™é‡Œï¼Œå…¶ä»–éƒ½å¥½ç†è§£ï¼Œä»€ä¹ˆåˆæ˜¯åƒµå°¸è¿›ç¨‹ï¼Ÿç®€å•ç†è§£å®ƒæ˜¯è¿™ä¹ˆç§è¿›ç¨‹ï¼Œä»»åŠ¡å·²ç»å®Œæˆä½†æ²¡æœ‰é€€å‡ºï¼Œä»ç„¶æ˜¾ç¤ºåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ã€‚å¸¸è§çš„æƒ…å½¢æ˜¯å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä¸­ä»»åŠ¡å®Œæˆåï¼Œä¸»è¿›ç¨‹è¿˜å¯èƒ½ä¿æŒä¸å…¶è¿›è¡Œé€šä¿¡ç­‰ã€‚ç»§ç»­äº†è§£å¯é˜…è¯» &lt;a href=&quot;https://www.tutorialspoint.com/what-is-zombie-process-in-linux&quot; rel=&quot;nofollow&quot;&gt;What is Zombie Process in Linux?&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;CPU&lt;/h3&gt;
&lt;p&gt;è¿™ä¸€è¡Œæ˜¯ CPU ä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ã€‚åˆ†æˆäº† 8 ä¸ªéƒ¨åˆ†ï¼Œä»–ä»¬ç›¸åŠ åå½“ç„¶åº”è¯¥æ˜¯ 100% å•¦ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;100.0 us&lt;/code&gt; ï¼šï¼ˆuserï¼‰ ç”¨æˆ·æ¶ˆè€—çš„ CPU ç™¾åˆ†æ¯”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 sy&lt;/code&gt; ï¼šï¼ˆsystemï¼‰ ç³»ç»Ÿæ¶ˆè€—çš„ CPUã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 ni&lt;/code&gt; ï¼š &lt;strong&gt;nice è¿›ç¨‹&lt;/strong&gt;æ¶ˆè€—çš„ CPUã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 id&lt;/code&gt; ï¼šï¼ˆidleï¼‰ ç©ºé—²çš„ CPUã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 wa&lt;/code&gt; ï¼šï¼ˆwaitingï¼‰ ç­‰å¾…å¤„ç† I/O æ“ä½œçš„ CPU èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 hi&lt;/code&gt; ï¼šï¼ˆHardware IRQï¼‰å¤„ç†ç¡¬ä»¶äº¤äº’çš„ CPU èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 si&lt;/code&gt; ï¼šï¼ˆSoftware Interruptsï¼‰å¤„ç†è½¯ä»¶äº¤äº’çš„ CPU èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0 st&lt;/code&gt; ï¼šï¼ˆSteal Timeï¼‰å¦‚æœå½“å‰å¤„äºè™šæ‹Ÿç³»ç»Ÿï¼ˆvmï¼‰ä¸­ï¼Œæ­¤é¡¹è¡¨ç¤ºç”±ç®¡ç†ç¨‹åºä»æ­¤ç³»ç»Ÿå·èµ°æ‹¿å»å¤„ç†å…¶ä»–ä»»åŠ¡çš„ CPU èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…¶ä»–å¥½è¯´ï¼Œä»€ä¹ˆæ˜¯ nice è¿›ç¨‹ã€‚ç®€å•ç†è§£ï¼Œè¿›ç¨‹çš„ nice å€¼ä¸ priority éƒ½æ˜¯æ ‡è¯†è¿›ç¨‹ä¼˜å…ˆçº§çš„ï¼Œå‰è€…æ˜¯ç”¨æˆ·å±‚é¢çš„ä¼˜å…ˆçº§ï¼Œåè€…æ˜¯ Linux Kernel ä½¿ç”¨çš„å€¼ã€‚ç»§ç»­äº†è§£å¯ç§»æ­¥ &lt;a href=&quot;https://askubuntu.com/questions/656771/process-niceness-vs-priority&quot; rel=&quot;nofollow&quot;&gt;Process 'niceness' vs. 'priority'&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;Mem &amp;amp; Swap&lt;/h3&gt;
&lt;p&gt;è¿™ä¸¤è¡Œè¡¨ç¤ºç‰©ç†å†…å­˜ï¼ˆRAMï¼‰åŠ swap ç©ºé—´çš„ä½¿ç”¨æƒ…å†µã€‚æ‹¿å†…å­˜è¿™ä¸€è¡Œæ¥è¯´ï¼Œä¾æ¬¡è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;606704 total&lt;/code&gt; æ€»å†…å­˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;89464 free&lt;/code&gt; ç©ºé—²çš„éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;&lt;code&gt;128300 used&lt;/code&gt; ä½¿ç”¨çš„éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;&lt;code&gt;388940 buff/cache&lt;/code&gt; buff æˆ–ç¼“å­˜çš„éƒ¨åˆ†&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…³äºå†…å­˜è¿™éƒ¨åˆ†ï¼Œå¯é˜…è¯»æ­¤æ–‡ç«  &lt;a href=&quot;http://linuxaria.com/howto/linux-memory-management&quot; rel=&quot;nofollow&quot;&gt;Linux memory management&lt;/a&gt; è¿›ä¸€æ­¥äº†è§£è¯¦æƒ…ã€‚&lt;br/&gt;å…³äº swap çš„ç†è§£å¯é˜…è¯» &lt;a href=&quot;https://www.linux.com/news/all-about-linux-swap-space&quot; rel=&quot;nofollow&quot;&gt;All about Linux swap space&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;è¿›ç¨‹åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;ç´§æ¥ç€åˆ—å‡ºçš„æ˜¯å„è¿›ç¨‹ï¼Œé»˜è®¤ä»¥ CPU ä½¿ç”¨é‡æ’åºã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;PID&lt;/code&gt;ï¼š è¿›ç¨‹çš„ idï¼Œé€šè¿‡å®ƒæ¥æ“ä½œæŒ‡å®šè¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;USER&lt;/code&gt;ï¼š è¿›ç¨‹çš„æ‰€æœ‰è€…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PR&lt;/code&gt;ï¼š è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NI&lt;/code&gt;ï¼š è¿›ç¨‹çš„ &lt;code&gt;NICE&lt;/code&gt; å€¼ï¼Œé»˜è®¤ 0ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;VIRT&lt;/code&gt;ï¼š è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RES&lt;/code&gt;ï¼š è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SHR&lt;/code&gt;ï¼š è¿›ç¨‹ä½¿ç”¨çš„å…±äº«å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;S&lt;/code&gt;ï¼š statusï¼Œè¿›ç¨‹çš„çŠ¶æ€: S=ç¡çœ ä¸­/sleep R=æ”¯è¡Œä¸­/running Z=åƒµå°¸è¿›ç¨‹/zombie (S)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%CPU&lt;/code&gt;ï¼š è¿›ç¨‹æ¶ˆè€—çš„ CPU ç™¾åˆ†æ¯”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%MEM&lt;/code&gt;ï¼š è¿›ç¨‹ä½¿ç”¨çš„ RAM ç™¾åˆ†æ¯”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TIME+&lt;/code&gt;ï¼š è¿›ç¨‹è¿è¡Œæ—¶é•¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;COMMAND&lt;/code&gt;ï¼š è¿›ç¨‹åã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¤§è‡´äº†è§£åä¾¿ä¸ä¼šæ„Ÿåˆ°çœ¼èŠ±ç¼­ä¹±äº†ã€‚å¯¹äºå„æŒ‡æ ‡å«ä¹‰äº†è§£åï¼Œå¯æ–¹ä¾¿æˆ‘ä»¬åœ¨æœåŠ¡ç«¯æ’æŸ¥é—®é¢˜ï¼Œåˆ†æç¨‹åºè¿è¡Œæ˜¯å¦å¯æ§å’Œæ­£å¸¸ã€‚æ¯”å¦‚ä½ çš„ Node.js æœåŠ¡ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸€äº› top å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;é™¤äº†å±•ç°ä¿¡æ¯ï¼Œåœ¨ top çš„è¾“å‡ºç•Œé¢ï¼Œè¿˜æœ‰å¾ˆå¤šå‘½ä»¤å¯ç”¨ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„ &lt;kbd&gt;d&lt;/kbd&gt; è®¾ç½®åˆ·æ–°æ—¶é—´ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æœ€å¸¸ç”¨çš„ï¼Œå‘ç°æŸä¸ªè¿›ç¨‹å¿«æŠŠæœºå™¨çˆ†æ‰äº†ï¼ŒæŒ‰ &lt;kbd&gt;k&lt;/kbd&gt; ç„¶åè¾“å…¥å…¶ PID å°†è¯¥è¿›ç¨‹ç»“æŸæ‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;kbd&gt;o&lt;/kbd&gt; è°ƒæ•´å„åˆ—çš„é¡ºåº/orderã€‚&lt;/li&gt;
&lt;li&gt;&lt;kbd&gt;u&lt;/kbd&gt; å±•ç¤ºæŸä¸ªç”¨æˆ·çš„è¿›ç¨‹ã€‚å†æ¬¡è¿›å…¥è®¾ç½®æ—¶è®¾ç½®æˆç©ºåˆ™å›åˆ°å±•ç¤ºå…¨éƒ¨è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;kbd&gt;z&lt;/kbd&gt; é«˜äº®è¿è¡Œä¸­çš„è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;kbd&gt;c&lt;/kbd&gt; å±•ç¤ºè¿›ç¨‹çš„ç»å¯¹è·¯å¾„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;htop&lt;/h3&gt;
&lt;p&gt;é™¤äº†è‡ªå¸¦çš„ &lt;code&gt;top&lt;/code&gt; å‘½ä»¤ï¼Œè¿˜å¯å®‰è£…å¦å¤–ä¸€ä¸ªåŠ å¼ºç‰ˆ &lt;code&gt;htop&lt;/code&gt;ï¼Œå…¶ç•Œé¢æ›´åŠ ç¾è§‚ï¼Œå‘ˆç°çš„ä¸œè¥¿å¤§åŒå°å¼‚ï¼Œä½†åŠŸèƒ½äº¤äº’ä¸Šæ›´åŠ æ–¹ä¾¿å¼ºå¤§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://user-images.githubusercontent.com/3783096/55340408-32e3c300-54d7-11e9-9b11-911b224444a0.png&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/3783096/55340408-32e3c300-54d7-11e9-9b11-911b224444a0.png&quot; alt=&quot;htop çš„ç•Œé¢ç•Œé¢&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç•Œé¢ä¸Šå‹å¥½çš„èœå•å·²ç»æ— é¡»å¤šè¯´ä¾¿èƒ½ä¸Šæ‰‹ã€‚&lt;/p&gt;
&lt;h3&gt;ç›¸å…³èµ„æ–™&lt;/h3&gt;
</description>
<pubDate>Mon, 01 Apr 2019 15:52:00 +0000</pubDate>
<dc:creator>åˆ˜å“‡å‹‡</dc:creator>
<og:description>è‡ªå¸¦çš„ top å‘½ä»¤ç±»ä¼¼äºå¹³æ—¶æˆ‘ä»¬ä½¿ç”¨çš„ä»»åŠ¡ç®¡ç†å™¨ï¼Œèƒ½å¤Ÿåˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­çš„è¿›ç¨‹åŠèµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚ $ man top top display Linux tasks ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œä¸åŠ ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Wayou/p/linux_top_command.html</dc:identifier>
</item>
<item>
<title>JAVA8ç»™æˆ‘å¸¦äº†ä»€ä¹ˆâ€”â€”å¹¶æµè¡Œå’Œæ¥å£æ–°åŠŸèƒ½ - Aomi</title>
<link>http://www.cnblogs.com/hayasi/p/10639994.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/hayasi/p/10639994.html</guid>
<description>&lt;p&gt;æµï¼Œç¡®å®šæ˜¯ç¬”è€…å†…å¿ƒå¾ˆå‘å¾€çš„å¤©å ‚ï¼Œæœ‰ä»–ä¹‹åJAVAåœ¨å¤„ç†æ•°æ®å°±å˜æ›´åŠ çš„çµåŠ¨ã€‚åŠ ä¸Šlambdaè¡¨è¾¾ä¸å–œæ¬¢éƒ½ä¸è¡Œã€‚JAVA8ä¹Ÿä¸ºæµåœ¨æä¾›å¦ä¸€ä¸ªåŠŸèƒ½â€”â€”å¹¶è¡Œæµã€‚å³æ˜¯æœ‰å¹¶è¡Œæµï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ä¹Ÿæœ‰é¡ºåºæµã€‚æ²¡æœ‰é”™ã€‚æˆ‘å‰é¢æ“ä½œçš„ä¸€èˆ¬éƒ½æ˜¯é¡ºåºæµã€‚åœ¨JAVA8é‡Œé¢å¹¶è¡Œæµå’Œé¡ºåºæµæ˜¯å¯ä»¥è½¬å˜çš„ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­â€”â€”ç¬”è€…æ‰“å°æ•°å­—ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import java.util.stream.LongStream;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Main {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt;         LongStream.range(&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;).forEach(i -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;             System.&lt;span&gt;out&lt;/span&gt;.print(i + &lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; 
&lt;span&gt;15&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;LongStream.rangeè¿™ä¸ªæ–¹æ³•æ˜¯æ¥è·å–æ•°å­—çš„ã€‚è¿™é‡Œè¡¨ç¤ºè·å¾—0åˆ°10ï¼Œä½†ä¸å«10 çš„æ•°å­—ã€‚è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401231853594-215137203.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬æŠŠä»–æ¢æˆå¹¶è¡Œæ¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import java.util.stream.LongStream;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Main {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt;         LongStream.range(&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;).parallel().forEach(i -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;             System.&lt;span&gt;out&lt;/span&gt;.print(i + &lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; 
&lt;span&gt;15&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401232020110-148957155.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¿©ä¸ªç»“æœç›¸æ¯”ä¸€ä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ˜æ˜¾ä»–ä»¬å‘ç”Ÿäº†å˜åŒ–ã€‚æˆ‘ä»¬åªæ˜¯åŠ ä¸€ä¸ªparallelå‡½æ•°å°±å‘ç”Ÿå¥½å¤šçš„å˜åŒ–ã€‚ç¬”è€…æœ¬æ¥æ˜¯è¦è®²ä»–ä»¬ä¹‹é—´çš„æ€§èƒ½æ¯”è¾ƒçš„ã€‚ä¸æ•¢ï¼Œå› ä¸ºç¬”è€…è¯•å¥½è¿˜æœ‰ä¸ªä¾‹å­ã€‚å´å‘ç°æœ‰æ—¶å€™é¡ºåºæµéƒ½æ¯”å¹¶è¡Œæµæ¥å¿«ã€‚ä¸Šé¢æ˜¯é¡ºåºæµè½¬å¹¶è¡Œæµã€‚åœ¨æ¥çœ‹ä¸€ä¸‹ç›¸åçš„ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;3&lt;/span&gt; 
&lt;span&gt;4&lt;/span&gt;         List&amp;lt;Integer&amp;gt; datas = Arrays.asList(1,2,3,4,56&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;         
&lt;span&gt;6&lt;/span&gt;         datas.parallelStream().forEach(i -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;             System.out.print(i + &quot; &quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;parallelStreamå‡½æ•°å°±æ˜¯ç”¨æ¥å»ºä¸€ä¸ªå¹¶è¡Œæµçš„ã€‚è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401232212985-652529774.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è½¬ä¸ºé¡ºåºæµ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;3&lt;/span&gt; 
&lt;span&gt;4&lt;/span&gt;         List&amp;lt;Integer&amp;gt; datas = Arrays.asList(1,2,3,4,56&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;         
&lt;span&gt;6&lt;/span&gt;         datas.parallelStream().sequential().forEach(i -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;             System.out.print(i + &quot; &quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401232323769-1998241056.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“æµé‡Œé¢ç”¨åˆ°äº†JAVA7é‡Œé¢çš„åˆ†æ”¯å’Œåˆå¹¶çš„æ¡†æ¶æ¥è¿›è¡Œçš„ã€‚å¤ä»£æœ‰ä¸€ä¸ªè¯å«åˆ†è€Œæ²»ä¹‹ã€‚æŠŠä¸€ä¸ªäº‹æƒ…åˆ†ä¸ºå‡ ä¸ªå°äº‹ä»¶ã€‚ç„¶é¢å„è‡ªå¤„ç†ã€‚æ‰€ä»¥äº†è§£ä»£ç é‡Œé¢æ˜¯ä»€ä¹ˆæ ·å­æŠ˜åˆ†æˆå°äº‹ä»¶æ˜¯éå¸¸é‡è¦çš„ã€‚ä»–æœ‰ä¿©ä¸ªå…³é”®å­—Forkå’ŒJoinã€‚Forkæ–¹æ³•ä½ å¯ä»¥ç†è§£ä¸ºæ‹†åˆ†ï¼Œå¹¶å‹å…¥çº¿ç¨‹é˜Ÿåˆ—ä¸­ã€‚è€ŒJoinå°±æ˜¯åˆå¹¶çš„æ„æ€äº†ã€‚æ¥ç¬”è€…æ¥å†™ä¸€ä¸ªè¯•ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.ArrayList;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.concurrent.RecursiveTask;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; DistinctCharForkJoin &lt;span&gt;extends&lt;/span&gt; RecursiveTask&amp;lt;List&amp;lt;Character&amp;gt;&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; 
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; List&amp;lt;Character&amp;gt;&lt;span&gt; chars;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; DistinctCharForkJoin(List&amp;lt;Character&amp;gt;&lt;span&gt; chars) {
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;(chars, 0&lt;span&gt;, chars.size());
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; 
&lt;span&gt;15&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; DistinctCharForkJoin(List&amp;lt;Character&amp;gt; chars, &lt;span&gt;int&lt;/span&gt; start, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; end) {
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; 
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;.chars =&lt;span&gt; chars.subList(start, end);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; 
&lt;span&gt;20&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; List&amp;lt;Character&amp;gt;&lt;span&gt; compute() {
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt;         List&amp;lt;Character&amp;gt; tmpChars = &lt;span&gt;new&lt;/span&gt; ArrayList&amp;lt;Character&amp;gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; 
&lt;span&gt;25&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; åˆ¤æ–­ä¸å¯ä»¥åœ¨æ‹†åˆ†äº†&lt;/span&gt;
&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;.chars.size() &amp;lt; 3&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; 
&lt;span&gt;28&lt;/span&gt;             &lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Character character : chars) {
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;tmpChars.contains(character))
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;                    tmpChars.add(character);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; 
&lt;span&gt;33&lt;/span&gt;         } &lt;span&gt;else&lt;/span&gt; {&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¡¨ç¤ºå¯ä»¥åœ¨æ‹†åˆ†ã€‚&lt;/span&gt;
&lt;span&gt;34&lt;/span&gt; 
&lt;span&gt;35&lt;/span&gt;             &lt;span&gt;int&lt;/span&gt; len = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.chars.size();
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; 
&lt;span&gt;37&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å»ºç«‹å·¦è¾¹çš„å°äº‹ä»¶&lt;/span&gt;
&lt;span&gt;38&lt;/span&gt;             DistinctCharForkJoin leftForkJoin = &lt;span&gt;new&lt;/span&gt; DistinctCharForkJoin(chars, 0, len / 2&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; 
&lt;span&gt;40&lt;/span&gt; &lt;span&gt;            leftForkJoin.fork();
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; 
&lt;span&gt;42&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å»ºç«‹å³è¾¹çš„å°äº‹ä»¶&lt;/span&gt;
&lt;span&gt;43&lt;/span&gt;             DistinctCharForkJoin rightForkJoin = &lt;span&gt;new&lt;/span&gt; DistinctCharForkJoin(chars, len / 2&lt;span&gt;, len);
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; 
&lt;span&gt;45&lt;/span&gt; &lt;span&gt;            rightForkJoin.fork();
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; 
&lt;span&gt;47&lt;/span&gt;             List&amp;lt;Character&amp;gt; rChars =&lt;span&gt; rightForkJoin.join();
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; 
&lt;span&gt;49&lt;/span&gt;             List&amp;lt;Character&amp;gt; lChars =&lt;span&gt; leftForkJoin.join();
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt; 
&lt;span&gt;51&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; ä¿©ä¸ªåˆå¹¶ã€‚&lt;/span&gt;
&lt;span&gt;52&lt;/span&gt;             &lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Character character : rChars) {
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;tmpChars.contains(character))
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt; &lt;span&gt;                    tmpChars.add(character);
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt; 
&lt;span&gt;57&lt;/span&gt;             &lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Character character : lChars) {
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;tmpChars.contains(character))
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; &lt;span&gt;                    tmpChars.add(character);
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt; 
&lt;span&gt;62&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt; 
&lt;span&gt;64&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; tmpChars;
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt; 
&lt;span&gt;67&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Main:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt;         List&amp;lt;Character&amp;gt; chars = Arrays.asList('a', 'b', 'c', 'd', 'b', 'a'&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; 
&lt;span&gt; 6&lt;/span&gt;         DistinctCharForkJoin task = &lt;span&gt;new&lt;/span&gt; DistinctCharForkJoin(&quot;main&quot;&lt;span&gt;, chars);
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt;         List&amp;lt;Character&amp;gt; resChars = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ForkJoinPool().invoke(task);
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Character character : resChars) {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; 
&lt;span&gt;12&lt;/span&gt;             System.out.print(character +&quot; &quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401232501507-658352898.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½ ä»¬ä¸€å®šå¾ˆå¥‡æ€ªä¸ºä»€ä¹ˆç¬”è€…ä¼šè®²åˆ°JAVA7å¸¦æ¥çš„ä¸œè¥¿å‘¢ï¼ŸJAVA8å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¥å£â€”â€”Spliteratoræ¥å£ã€‚äººç§°å¯åˆ†è¿­ä»£å™¨ã€‚å¦‚æœä½ æœ‰å¿ƒå»çœ‹ä¸€ä¸ªæ¥å£Listçš„è¯ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªæ–¹æ³•ã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;default&lt;/span&gt; Spliterator&amp;lt;E&amp;gt;&lt;span&gt; spliterator() {
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; Spliterators.spliterator(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;, Spliterator.ORDERED);
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Spliteratoræ¥å£ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; Spliterator&amp;lt;T&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;     &lt;span&gt;boolean&lt;/span&gt; tryAdvance(Consumer&amp;lt;? &lt;span&gt;super&lt;/span&gt; T&amp;gt;&lt;span&gt; action);
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;     Spliterator&amp;lt;T&amp;gt;&lt;span&gt; trySplit();
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     &lt;span&gt;long&lt;/span&gt;&lt;span&gt; estimateSize();
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt;&lt;span&gt; characteristics();
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®²JAVA7é‡Œé¢çš„åˆ†æ”¯/åˆå¹¶çš„ç›®åœ°å°±æ˜¯ä¸ºäº†ç†è§£Spliteratoræ¥å£çš„ä½œç”¨ã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;tryAdvanceï¼šç”¨äºéå†å½“å‰çš„å…ƒç´ ã€‚å¦‚æœè¿˜æœ‰çš„è¯ï¼Œå°±è¿”å›true;&lt;/li&gt;
&lt;li&gt;trySplitï¼šç”¨äºæ‹†åˆ†ã€‚å¦‚æœå½“å‰ä¸å¯ä»¥åœ¨æ‹†åˆ†çš„è¯ï¼Œå°±è¿”å›null;è·Ÿä¸Šé¢çš„computeæ–¹æ³•å¾ˆåƒã€‚&lt;/li&gt;
&lt;li&gt;estimateSizeï¼šè¡¨ç¤ºè¿˜éœ€è¦éå†çš„å…ƒç´ æœ‰å¤šå°‘ã€‚&lt;/li&gt;
&lt;li&gt;characteristicsï¼šè¡¨ç¤ºå½“å‰å¤„ç†çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚æ¯”å¦‚æ˜¯å¦æœ‰åºï¼Œæ¯ä¸€å…ƒç´ æ˜¯å¦ä¸ºnullã€‚ä¸Šé¢Spliteratoræ¥å£çš„ä»£ç æ˜¯ç¬”è€…å»æ‰å¤§éƒ¨åˆ†å¤åˆ¶å‡ºæ¥ã€‚è¿™ä¸ªå€¼éƒ½åœ¨ä»£ç ä¸­ã€‚ä½œç”¨ä½ ä»¬å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹ä»£ç å°±æ˜¯çŸ¥é“ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¦æ³¨æ„Spliteratoræ¥å£åªæ˜¯ç”¨å»æ‹†åˆ†ä»»åŠ¡çš„ä½œç”¨ã€‚JAVA8å¸®ä½ åšäº†å¾ˆå¤šæ‹†åˆ†çš„åŠŸèƒ½ã€‚å¤§éƒ¨åˆ†ä½ å¯ä»¥ä¸ç”¨è‡ªå·±å†™ã€‚å½“ç„¶å¦‚æœä½ æƒ³è¦è‡ªå·±åŠ¨æ‰‹ã€‚ä½ åªè¦å®ç°è¿™æ ·å­å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.Spliterator;
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.function.Consumer;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; DistinctCharSpliterator &lt;span&gt;implements&lt;/span&gt; Spliterator&amp;lt;Character&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; 
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; List&amp;lt;Character&amp;gt;&lt;span&gt; chars;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; index = 0&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; 
&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; DistinctCharSpliterator(List&amp;lt;Character&amp;gt;&lt;span&gt; chars) {
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;.chars =&lt;span&gt; chars;
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; 
&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; DistinctCharSpliterator(List&amp;lt;Character&amp;gt; chars, &lt;span&gt;int&lt;/span&gt; start, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; end) {
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;.chars =&lt;span&gt; chars.subList(start, end);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; 
&lt;span&gt;20&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; tryAdvance(Consumer&amp;lt;? &lt;span&gt;super&lt;/span&gt; Character&amp;gt;&lt;span&gt; action) {
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt;         action.accept(&lt;span&gt;this&lt;/span&gt;.chars.get(index++&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; index &amp;lt; &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.chars.size();
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; 
&lt;span&gt;27&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; Spliterator&amp;lt;Character&amp;gt;&lt;span&gt; trySplit() {
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt;         &lt;span&gt;int&lt;/span&gt; difLen = &lt;span&gt;this&lt;/span&gt;.chars.size() -&lt;span&gt; index;
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; 
&lt;span&gt;32&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; åˆ¤æ–­ä¸å¯ä»¥åœ¨æ‹†åˆ†äº†&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (difLen &amp;lt; 3&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;         } &lt;span&gt;else&lt;/span&gt; {&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¡¨ç¤ºå¯ä»¥åœ¨æ‹†åˆ†ã€‚&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt; 
&lt;span&gt;37&lt;/span&gt;             
&lt;span&gt;38&lt;/span&gt;             DistinctCharSpliterator spliterator = &lt;span&gt;new&lt;/span&gt; DistinctCharSpliterator(chars.subList(index, index + 2&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; 
&lt;span&gt;40&lt;/span&gt;             index = index + 2&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; 
&lt;span&gt;42&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; spliterator;
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; 
&lt;span&gt;44&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; 
&lt;span&gt;47&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;long&lt;/span&gt;&lt;span&gt; estimateSize() {
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;50&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;.chars.size() -&lt;span&gt; index;
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; 
&lt;span&gt;53&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; characteristics() {
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æœ‰åº å…ƒç´ ä¸ç©º éå†è¿‡ç¨‹ä¸èƒ½åˆ é™¤ï¼Œå’Œä¿®æ”¹ å¢åŠ &lt;/span&gt;
&lt;span&gt;57&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; ORDERED + NONNULL +&lt;span&gt; IMMUTABLE;
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; 
&lt;span&gt;60&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Main:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt;         List&amp;lt;Character&amp;gt; chars = Arrays.asList('a', 'b', 'c', 'd', 'b', 'a'&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; 
&lt;span&gt; 6&lt;/span&gt;         DistinctCharSpliterator distinctCharSpliterator = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; DistinctCharSpliterator(chars);
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt;         Stream&amp;lt;Character&amp;gt; stream = StreamSupport.stream(distinctCharSpliterator, &lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt;         stream.distinct().forEach((Character ch) -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; 
&lt;span&gt;12&lt;/span&gt;             System.out.print(ch+&quot; &quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; 
&lt;span&gt;15&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401232803660-1391468339.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä¾‹å­æœ‰ä¸€ç‚¹çƒ‚ã€‚ä½†æ˜¯å¤§å®¶å¯ä»¥å¤åˆ¶åšä¸€ä¸‹ç»§ç‚¹å»çœ‹çœ‹ä»–çš„æ‰§è¡Œè¿‡ç¨‹ã€‚å°±å¯ä»¥çœ‹å‡ºå¾ˆå¤šä¸œè¥¿æ¥ã€‚ä¸»è¦æ˜¯ç†è§£è¿™ä¸ªåŸç†å°±å¯ä»¥äº†ã€‚&lt;br/&gt;æµçš„å¹¶è¡ŒåŠŸèƒ½å¹¶æ²¡æœ‰è®©ç¬”è€…æœ‰å¤šå¿ƒåŠ¨ã€‚çœŸæ­£è®©ç¬”è€…æ„Ÿè§‰ä¸é”™çš„è¦å±äºJAVA8å¯¹æ¥å£çš„å‡çº§ã€‚ä»€ä¹ˆæ„æ€ï¼Ÿç¬”è€…ä¸æ¸…æ¥šæœ‰å¤šå°‘ä¸ªäººå†™ä¸ªæ¡†æ¶æˆ–æ˜¯è¯»è¿‡æ¡†æ¶æºç ï¼Œä¸€èˆ¬æ¡†æ¶é‡Œé¢éƒ½ä¼šç”¨åˆ°ä¸€äº›é¢å‘æ¥å£çš„ç¼–ç¨‹æ¨¡å¼ã€‚é‚£ä¸ªæˆ–å¤šæˆ–å°‘ä¼šæœ‰è¿™æ ·å­æ„Ÿè§‰ã€‚ä¸€ä½†é¡¹ç›®å‘å¸ƒå‡ºå»ï¼Œè¿™ä¸ªæ—¶å€™ä½ æƒ³è¦ä¿®æ”¹æ¥å£ã€‚æ¯”å¦‚åœ¨æ¥å£é‡Œé¢å¢åŠ ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ–¹æ³•ã€‚è¿™æ ·å­æ—¶å€™ä½ å°±ä¸å¾—ä¸è€ƒè™‘ä¸€ä¸‹å¤–é¢æœ‰å¤šå°‘ä¸ªäººåœ¨å®ç°ä½ ç°åœ¨æ¡†æ¶çš„æ¥å£ã€‚å› ä¸ºä½ å¢åŠ ä¸€ä¸ªæ¥å£çš„æ–°æ–¹æ³•ã€‚åˆ«äººä¹Ÿè¦è·Ÿç€å®ç°ï¼Œä¸ç„¶çš„ä¸€å®šä¼šæŠ¥é”™æˆ–æ˜¯è¿è¡Œæ—¶å€™æŠ¥é”™ã€‚ä¸ç®¡å“ªä¸€ç§éƒ½æ˜¯è®¾è®¡è€…ä¸æƒ³çœ‹åˆ°çš„ã€‚&lt;br/&gt;JAVA8ç°åœ¨å¯ä»¥è®©ä½ å®šä¹‰æ¥å£çš„é»˜è®¤æ–¹æ³•ã€‚ä»€ä¹ˆæ€æ„å‘¢ï¼Ÿè®©ç¬”å¾—å†™ä¸€ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;Baseæ¥å£ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; 
&lt;span&gt;3&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; Base {
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call();
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;BaseAç±»ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; BaseA &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Base {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call() {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;         
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mainï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Main {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt;         Base baseA = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BaseA();
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt; &lt;span&gt;        baseA.call();
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ç°åœ¨ç¬”è€…åœ¨åŠ ä¸€ä¸ªæ–¹æ³•ã€‚çœ‹ä¸€ä¸ªä»–ä¼šä¸ä¼šæœ‰é—®é¢˜ã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;baseç±»ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; 
&lt;span&gt;3&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; Base {
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call();
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call2();
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401233513475-1990337788.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°å§ã€‚BaseAç±»é©¬ä¸Šå°±æŠ¥é”™ã€‚ç°åœ¨ç¬”è€…åœ¨åŠ ä¸Šä¸€ä¸ªé»˜è®¤çš„æ–¹æ³•ä¼šä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; Base {
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; call();

    &lt;/span&gt;&lt;span&gt;default&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call2() {
        System.out.println(&lt;/span&gt;&quot;default call2&quot;&lt;span&gt;);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mainä¿®æ”¹ä¸€ä¸‹å§ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Main {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt;         Base baseA = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BaseA();
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt; &lt;span&gt;        baseA.call2();
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401233633104-1199036825.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç ã€‚ç¬”è€…åœ¨BaseAç±»é‡Œé¢å¹¶æ²¡æœ‰å®ç°call2çš„æ–¹æ³•ã€‚æ˜¾ç„¶ç°åœ¨çš„åŠŸèƒ½å¯¹æˆ‘ä»¬å†™æ¡†æ¶çš„äººæ¥å†™å¤ªæ£’äº†ã€‚åœ¨ä¹Ÿä¸ç”¨æ‹…å¿ƒå¢åŠ ä¸€ä¸ªæ¥æ–¹æ³•è€Œå»è€ƒè™‘æœ‰å¤šå°‘ä¸ªäººç”¨è¿™ä¸ªæ¥å£äº†ã€‚&lt;br/&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ã€‚æˆ‘ä»¬åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šä¼šé‡åˆ°æ–¹æ³•ç›¸åŒçš„æƒ…å†µå§ã€‚è¿™ä¸ªæ—¶å€™JAVA8æä¾›äº†ä¸‰ä¸ªæ ‡å‡†æ¥ç¡®å®šç”¨å“ªä¸€ä¸ªã€‚&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ç±»æˆ–çˆ¶ç±»çš„æ–¹æ³•ä¼˜å…ˆçº§é«˜äºæ¥å£é»˜è®¤çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸Šé¢ä¸è¡Œçš„è¯ï¼Œè°æ‹¥æœ‰æœ€å…·ä½“çš„å®ç°çš„è¯ï¼Œå°±ç”¨è°ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½ä¸èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œå°±å¿…é¡»æ˜¾æ€§çš„è°ƒç”¨ã€‚æ¥æŒ‡å®šä»–è¦è°ƒå“ªä¸€ä¸ªã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä¸¾ä¾‹å­ã€‚Aå’ŒBéƒ½æ˜¯æ¥å£ã€‚å…¶ä¸­Bç»§æ‰¿äº†Aã€‚åŒæ—¶Cå®ç°äº†Aå’ŒBã€‚è¿™ä¸ªæ—¶å€™è°ƒç”¨Cä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚&lt;br/&gt;Aï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; A {

    &lt;/span&gt;&lt;span&gt;default&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call() {
        System.out.println(&lt;/span&gt;&quot;A call&quot;&lt;span&gt;);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; B  &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; A {
    &lt;/span&gt;&lt;span&gt;default&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call() {
        System.out.println(&lt;/span&gt;&quot;B call&quot;&lt;span&gt;);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; C &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; A, B {

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;D:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
&lt;span&gt;
        C c &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; C();
        
        c.call();

    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401233904438-888951131.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢Aå’ŒBéƒ½æ˜¯æ¥å£ã€‚ä»–ä»¬æœ‰callæ–¹æ³•ã€‚å…¶ä¸­å…³é”®æ˜¯Bç»§æ‰¿äº†ã€‚è¯´æ˜Bæ‹¥æœ‰Açš„ä¸€åˆ‡æ–¹æ³•ã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯è¯´Bå°±æ˜¯æœ€å…·ä½“å®ç°çš„ã€‚å¦‚æœä½ ä»¬åªç”¨ç¬¬ä¸€ä¸ªæ ‡å‡†çš„è¯ï¼Œé‚£æ˜¯è‚¯å®šä¸è¡Œçš„ã€‚&lt;br/&gt;è¿˜æ˜¯ç®€å•ä¸€ç‚¹ï¼Œæˆ‘ä»¬æŠŠBç»§æ‰¿Açš„è¿™ä¸ªå…³ç³»å»æ‰ï¼Œåœ¨æ¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/660648/201904/660648-20190401233952238-937460286.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸å¥½æ„æ€å¥½åƒæŠ¥é”™äº†ã€‚æ‰€ä»¥åªèƒ½è‹¦ä¸€ä¸‹äº†ã€‚æ˜¾æ€§è°ƒç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.aomi;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; C &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; B, A {

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; call() {
        B.&lt;/span&gt;&lt;span&gt;super&lt;/span&gt;&lt;span&gt;.call();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â å½“ç„¶é™¤äº†ä¸Šé¢ä¹‹å¤–ï¼Œä½ è¿˜æ˜¯å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•å’Œå¸¸é‡ã€‚è¿™ä¸ªæ—¶å€™æœ‰äººå°±ä¼šè¯´ä»–ä¸æ˜¯è·ŸæŠ½è±¡ç±»å¾ˆåƒå—ï¼Ÿæ˜¯å¾ˆåƒã€‚å¯æ˜¯ä¸ä¸€æ ·å­ã€‚æŠ½è±¡ç±»æ˜¯ä¸æ˜¯å¯ä»¥å®ä¾‹ä¸€ä¸ªå­—æ®µã€‚ä½†æ˜¯æ¥å£å´ä¸è¡Œã€‚è¿˜æœ‰æŠ½åƒç±»ä½ åªèƒ½å•ç»§æ‰¿ã€‚æ¥å£å°±å¯ä»¥å¤šç»§æ‰¿äº†ã€‚&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 15:50:00 +0000</pubDate>
<dc:creator>Aomi</dc:creator>
<og:description>æµï¼Œç¡®å®šæ˜¯ç¬”è€…å†…å¿ƒå¾ˆå‘å¾€çš„å¤©å ‚ï¼Œæœ‰ä»–ä¹‹åJAVAåœ¨å¤„ç†æ•°æ®å°±å˜æ›´åŠ çš„çµåŠ¨ã€‚åŠ ä¸Šlambdaè¡¨è¾¾ä¸å–œæ¬¢éƒ½ä¸è¡Œã€‚JAVA8ä¹Ÿä¸ºæµåœ¨æä¾›å¦ä¸€ä¸ªåŠŸèƒ½â€”â€”å¹¶è¡Œæµã€‚å³æ˜¯æœ‰å¹¶è¡Œæµï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ä¹Ÿæœ‰é¡ºåºæµã€‚æ²¡æœ‰é”™ã€‚æˆ‘å‰</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/hayasi/p/10639994.html</dc:identifier>
</item>
<item>
<title>ThreadPoolExcutor çº¿ç¨‹æ±  å¼‚å¸¸å¤„ç† ï¼ˆä¸‹ç¯‡ï¼‰ - ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«</title>
<link>http://www.cnblogs.com/wang-meng/p/10639914.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wang-meng/p/10639914.html</guid>
<description>&lt;h3 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;å› ä¸ºè¿™æ˜¯ä¹‹å‰é¢è¯•çš„ä¸€ä¸ªé¢˜ç›®ï¼Œæ‰€ä»¥å°è±¡æ¯”è¾ƒæ·±åˆ»ï¼Œå‰å‡ å¤©å†™äº†ä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&quot;https://www.cnblogs.com/wang-meng/p/10588637.html&quot;&gt;ThreadPoolExcutor çº¿ç¨‹æ±  å¼‚å¸¸å¤„ç† ï¼ˆä¸Šç¯‡ï¼‰&lt;/a&gt; ä¸­å·²ç»ä»‹ç»äº†çº¿ç¨‹æ± å¼‚å¸¸çš„ä¸€äº›é—®é¢˜ä»¥åŠä¸€æ­¥æ­¥åˆ†æäº†é‡Œé¢çš„ä¸€äº›æºä»£ç ï¼Œä»Šå¤©å°±æ¥ç»§ç»­è¯´ä¸‹å¦‚ä½•é˜²èŒƒè¿™ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç»“è®º&quot;&gt;ç»“è®º&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œç›´æ¥æŠ›å‡ºç»“è®ºï¼Œç„¶åå†ä¸€ä¸ªä¸ªåˆ†æ:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åœ¨æˆ‘ä»¬æä¾›çš„Runnableçš„runæ–¹æ³•ä¸­æ•è·ä»»åŠ¡ä»£ç å¯èƒ½æŠ›å‡ºçš„æ‰€æœ‰å¼‚å¸¸ï¼ŒåŒ…æ‹¬æœªæ£€æµ‹å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ExecutorService.submitæ‰§è¡Œä»»åŠ¡ï¼Œåˆ©ç”¨è¿”å›çš„Futureå¯¹è±¡çš„getæ–¹æ³•æ¥æ”¶æŠ›å‡ºçš„å¼‚å¸¸ï¼Œç„¶åè¿›è¡Œå¤„ç†&lt;/li&gt;
&lt;li&gt;é‡å†™ThreadPoolExecutor.afterExecuteæ–¹æ³•ï¼Œå¤„ç†ä¼ é€’åˆ°afterExecuteæ–¹æ³•ä¸­çš„å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;ä¸ºå·¥ä½œè€…çº¿ç¨‹è®¾ç½®UncaughtExceptionHandlerï¼Œåœ¨uncaughtExceptionæ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸ (ä¸æ¨è)&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;åˆ†æè§£è¯»&quot;&gt;åˆ†æè§£è¯»&lt;/h3&gt;
&lt;h4 id=&quot;runnableçš„runæ–¹æ³•ä¸­æ•è·ä»»åŠ¡ä»£ç å¯èƒ½æŠ›å‡ºçš„æ‰€æœ‰å¼‚å¸¸&quot;&gt;Runnableçš„runæ–¹æ³•ä¸­æ•è·ä»»åŠ¡ä»£ç å¯èƒ½æŠ›å‡ºçš„æ‰€æœ‰å¼‚å¸¸&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªå…¶å®æœ€ç®€å•ï¼Œä½†æ˜¯å¾€å¾€é¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ è€ƒå¯Ÿçš„ç‚¹ä¹Ÿä¸åœ¨è¿™é‡Œã€‚å…·ä½“çš„æ–¹å¼å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&quot;https://www.cnblogs.com/wang-meng/p/10163855.html&quot;&gt;è®ºå¦‚ä½•ä¼˜é›…çš„è‡ªå®šä¹‰ThreadPoolExecutorçº¿ç¨‹æ± &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230118126-1684676217.png&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä½¿ç”¨executorservice.submitæ‰§è¡Œä»»åŠ¡åˆ©ç”¨è¿”å›çš„futureå¯¹è±¡çš„getæ–¹æ³•æ¥æ”¶æŠ›å‡ºçš„å¼‚å¸¸&quot;&gt;ä½¿ç”¨ExecutorService.submitæ‰§è¡Œä»»åŠ¡ï¼Œåˆ©ç”¨è¿”å›çš„Futureå¯¹è±¡çš„getæ–¹æ³•æ¥æ”¶æŠ›å‡ºçš„å¼‚å¸¸&lt;/h4&gt;
&lt;p&gt;1ï¼Œ ä½¿ç”¨submitæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åé€šè¿‡Futureçš„getæ–¹æ³•æ¥æ¥æ”¶å¼‚å¸¸ã€‚æ¼”ç¤ºå¦‚ä¸‹ï¼š&lt;br/&gt;å†²å›¾ç‰‡å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨äº†getæ–¹æ³•åï¼Œè¿™é‡Œç›´æ¥æ¥æ”¶åˆ°äº†å¼‚å¸¸ä¿¡æ¯ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230149378-621228438.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2ï¼Œ è¿™é‡ŒnewTaskForè¿”å›çš„æ˜¯FutureTaskï¼Œç„¶åä¼ é€’ç»™äº†executeæ–¹æ³•ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230417485-252989006.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;3ï¼Œ æ¥ç€æˆ‘ä»¬ç»§ç»­å¾€ä¸‹è·Ÿè¸ªexecuteæ–¹æ³•ï¼Œå‘ç°è¿™é‡Œè°ƒç”¨çš„æ˜¯ThreadExecutorä¸­çš„executeæ–¹æ³•ï¼Œåœ¨&lt;a href=&quot;https://www.cnblogs.com/wang-meng/p/10588637.html&quot;&gt;ThreadPoolExcutor çº¿ç¨‹æ±  å¼‚å¸¸å¤„ç† ï¼ˆä¸Šç¯‡ï¼‰&lt;/a&gt; æˆ‘ä»¬å·²ç»åˆ†æè¿‡è¿™é‡Œï¼Œæœ€ç»ˆä¼šåˆ°addWorkeræ–¹æ³•ä¸­æ‰§è¡Œçº¿ç¨‹çš„start()æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸Šä¸€å¼ å›¾ç‰‡ä¼ é€’çš„æ˜¯FutureTaskï¼Œ æ‰€ä»¥æˆ‘ä»¬ç»§ç»­è·Ÿè¸ªFutureTaskä¸­çš„runæ–¹æ³•ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230309326-772071217.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;4ï¼Œ åˆ°äº†FutureTask.run() æ–¹æ³•ä¸­ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å·²ç»æ˜äº†ï¼Œè¿™é‡Œä¼šæœ‰catchæ•è·å½“å‰çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸ï¼Œç´§æ¥ç€æˆ‘ä»¬çœ‹çœ‹setExceptionåšäº†ä»€ä¹ˆäº‹æƒ…ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230439250-1080357118.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;5ï¼ŒsetExcetioné¦–å…ˆæ˜¯å°†ä¸€ä¸ªå¼‚å¸¸ä¿¡æ¯èµ‹å€¼ç»™ä¸€ä¸ªå…¨å±€å˜é‡outcomeï¼Œå¹¶ä¸”å°†å…¨å±€çš„ä»»åŠ¡çŠ¶æ€stateå­—æ®µé€šè¿‡CASæ›´æ–°ä¸º3(å¼‚å¸¸çŠ¶æ€)&lt;br/&gt;ç„¶åæœ€ååšä¸€äº›æ¸…ç†å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230459542-163001258.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;6ï¼ŒfinishCompletionåç»­æ˜¯åšä¸€äº›çº¿ç¨‹æ± çš„æ¸…ç†å·¥ä½œï¼Œè¿™é‡Œæ¶‰åŠåˆ°çº¿ç¨‹æ± ä»¥åŠçº¿ç¨‹æ± ä¸­çš„ç­‰å¾…é˜Ÿåˆ—çš„æ“ä½œï¼Œä¸æ¸…æ¥šçš„åŒå­¦å¯ä»¥çœ‹ä¸‹çº¿ç¨‹æ± å®ç°ä»£ç ã€‚åˆ°äº†è¿™é‡Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ‰§è¡Œå·²ç»å®Œæ¯•äº†ï¼Œä¸‹é¢å†å»è·Ÿè¸ªä¸€ä¸‹FutureTask.get()æ–¹æ³•ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230519817-1743901553.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;7ï¼Œè¿™é‡Œæ˜¯FutureTask.get()çš„åº•å±‚å®ç°ï¼Œè¿™é‡Œå…¶å®ä¼šæ‹¿ä¸Šé¢çš„setExceptionæ–¹æ³•ä¸­è®¾ç½®çš„outcomeå’Œstateåšä¸€äº›é€»è¾‘åˆ¤æ–­ï¼Œåˆ°äº†è¿™é‡Œå°±ç›´æ¥å¾€ä¸ŠæŠ›å‡ºäº†å¼‚å¸¸ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æœ€å¼€å§‹çš„mainæ–¹æ³•ä¸­æ‰èƒ½å¤Ÿæ•è·åˆ°è¿™ä¸ªå¼‚å¸¸ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230536195-1283380565.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;é‡å†™threadpoolexecutor.afterexecuteæ–¹æ³•å¤„ç†ä¼ é€’åˆ°afterexecuteæ–¹æ³•ä¸­çš„å¼‚å¸¸&quot;&gt;é‡å†™ThreadPoolExecutor.afterExecuteæ–¹æ³•ï¼Œå¤„ç†ä¼ é€’åˆ°afterExecuteæ–¹æ³•ä¸­çš„å¼‚å¸¸&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œä¸ºä½•è¦é‡å†™afterExecuteæ–¹æ³•å‘¢ï¼Ÿå› ä¸ºçº¿ç¨‹æ‰§è¡Œå®Œæ¯•åä¸€å®šä¼šæ‰§è¡Œæ­¤æ–¹æ³•ï¼Œæºç å¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230557717-1313608072.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡å†™æ­¤æ–¹æ³•æ¥è¾¾åˆ°æ¥æ”¶å¼‚å¸¸çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºå·¥ä½œè€…çº¿ç¨‹è®¾ç½®uncaughtexceptionhandleråœ¨uncaughtexceptionæ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸-ä¸æ¨è&quot;&gt;ä¸ºå·¥ä½œè€…çº¿ç¨‹è®¾ç½®UncaughtExceptionHandlerï¼Œåœ¨uncaughtExceptionæ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸ (ä¸æ¨è)&lt;/h3&gt;
&lt;p&gt;1ï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰ThreadExecutor-&amp;gt;Worker-&amp;gt;runæ–¹æ³•ä¸­ç›´æ¥å¾€ä¸ŠæŠ›å‡ºäº†å¼‚å¸¸ï¼Œä½†æ˜¯è¿™äº›å¼‚å¸¸æŠ›åˆ°å“ªé‡Œäº†å‘¢ï¼Ÿ&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230617110-288596807.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2ï¼Œé€šè¿‡æŸ¥è¯¢JVMçš„ä¸€äº›èµ„æ–™ï¼Œæœ€ç»ˆçš„å¼‚å¸¸ä¼šåˆ°Thread.dispatchUncaughtExceptionä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230637292-850368941.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;3ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è‡ªå®šä¹‰UncaughtExceptionHandleræ—¶å°±å¯ä»¥æ•è·åˆ°&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/799093/201904/799093-20190401230659293-453513283.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * æµ‹è¯•singleThreadPoolå¼‚å¸¸é—®é¢˜
 *
 * @author: wangmeng
 * @date: 2019/3/25 23:40
 */
public class ThreadPoolException {
    private final static Logger LOGGER = LoggerFactory.getLogger(ThreadPoolException.class);

    public static void main(String[] args) throws InterruptedException {
        ExecutorService execute = new ThreadPoolExecutor(1, 1,
                0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&amp;lt;Runnable&amp;gt;(), new ThreadFactoryBuilder().setUncaughtExceptionHandler(new MyHandler()).build());

        execute.execute(new Runnable() {
            @Override
            public void run() {
                LOGGER.info(&quot;=====11=======&quot;);
            }
        });

        TimeUnit.SECONDS.sleep(5);
        execute.execute(new Run1());
    }


    private static class Run1 implements Runnable {
        @Override
        public void run() {
            int count = 0;
            while (true) {
                count++;
                LOGGER.info(&quot;-------222-------------{}&quot;, count);

                if (count == 10) {
                    System.out.println(1 / 0);
                    try {
                    } catch (Exception e) {
                        LOGGER.error(&quot;Exception&quot;,e);
                    }
                }

                if (count == 20) {
                    LOGGER.info(&quot;count={}&quot;, count);
                    break;
                }
            }
        }
    }
}

class MyHandler implements Thread.UncaughtExceptionHandler {
    private final static Logger LOGGER = LoggerFactory.getLogger(MyHandler.class);
    @Override
    public void uncaughtException(Thread t, Throwable e) {
        LOGGER.error(&quot;threadId = {}, threadName = {}, ex = {}&quot;, t.getId(), t.getName(), e.getMessage());
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢è¯´äº†å…¶å®æ˜¯ä¸æ¨èé‡å†™UncaughtExceptionHandler çš„ï¼Œå› ä¸ºUncaughtExceptionHandler åªæœ‰åœ¨&lt;code&gt;execute.execute()&lt;/code&gt;æ–¹æ³•ä¸­æ‰ç”Ÿæ•ˆï¼Œåœ¨&lt;code&gt;execute.submit&lt;/code&gt;ä¸­æ˜¯æ— æ³•æ•è·åˆ°å¼‚å¸¸çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæœ¬äººæ°´å¹³æœ‰é™ï¼Œæ–‡ç« ä¸­å¦‚æœæœ‰ä¸ä¸¥è°¨çš„åœ°æ–¹è¿˜è¯·æå‡ºæ¥ï¼Œæ„¿é—»å…¶è¯¦ã€‚&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 15:07:00 +0000</pubDate>
<dc:creator>ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«</dc:creator>
<og:description>å‰è¨€ å› ä¸ºè¿™æ˜¯ä¹‹å‰é¢è¯•çš„ä¸€ä¸ªé¢˜ç›®ï¼Œæ‰€ä»¥å°è±¡æ¯”è¾ƒæ·±åˆ»ï¼Œå‰å‡ å¤©å†™äº†ä¸€ç¯‡æ–‡ç« ï¼š 'ThreadPoolExcutor çº¿ç¨‹æ±  å¼‚å¸¸å¤„ç† ï¼ˆä¸Šç¯‡ï¼‰' ä¸­å·²ç»ä»‹ç»äº†çº¿ç¨‹æ± å¼‚å¸¸çš„ä¸€äº›é—®é¢˜ä»¥åŠä¸€æ­¥æ­¥åˆ†æäº†é‡Œé¢çš„ä¸€äº›</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wang-meng/p/10639914.html</dc:identifier>
</item>
<item>
<title>frpæºç å‰–æ-frpä¸­çš„muxæ¨¡å— - MnCu</title>
<link>http://www.cnblogs.com/MnCu8261/p/10639897.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MnCu8261/p/10639897.html</guid>
<description>&lt;h3 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;frpå‡ ä¹æ‰€æœ‰çš„è¿æ¥å¤„ç†éƒ½æ˜¯æ„å»ºåœ¨muxæ¨¡å—ä¹‹ä¸Šçš„ï¼Œé‡è¦æ€§ä¸å¿…å¤šè¯´ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™æ˜¯ä¸ªå•¥å§&lt;/p&gt;
&lt;p&gt;ps: å®‰è£…æ–¹æ³•&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;go get &quot;github.com/fatedier/golib/net/mux&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥æ¨¡å—å¾ˆå°ï¼Œä¸åˆ°300è¡Œï¼Œåˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼š&lt;code&gt;mux.go&lt;/code&gt;å’Œ&lt;code&gt;rule.go&lt;/code&gt;ã€‚&lt;br/&gt;å› ä¸º&lt;code&gt;rule.go&lt;/code&gt;æ–‡ä»¶ç›¸å¯¹ç®€å•ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹è¿™ä¸ªã€‚&lt;/p&gt;
&lt;h2 id=&quot;role.goæ–‡ä»¶&quot;&gt;role.goæ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆçœ‹å…¶ä¸­æ‰€å‘½åçš„å‡½æ•°ç±»å‹&lt;code&gt;MatchFunc&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;type MatchFunc func(data []byte) (match bool)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥ç±»å‹çš„å‡½æ•°ç”¨æ¥åˆ¤æ–­&lt;code&gt;data&lt;/code&gt;å±äºä»€ä¹ˆåè®®ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå…·ä½“å¦‚ä½•åˆ¤æ–­å‘¢ï¼Œè¿™é‡Œä¹Ÿå®ç°äº†ä¸‰ä¸ªä¾‹å­:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;var (
    HttpsNeedBytesNum uint32 = 1
    HttpNeedBytesNum  uint32 = 3
    YamuxNeedBytesNum uint32 = 2
)

var HttpsMatchFunc MatchFunc = func(data []byte) bool {
    if len(data) &amp;lt; int(HttpsNeedBytesNum) {
        return false
    }

    if data[0] == 0x16 {
        return true
    } else {
        return false
    }
}

// From https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods
var httpHeadBytes = map[string]struct{}{
    &quot;GET&quot;: struct{}{},
    &quot;HEA&quot;: struct{}{},
    &quot;POS&quot;: struct{}{},
    &quot;PUT&quot;: struct{}{},
    &quot;DEL&quot;: struct{}{},
    &quot;CON&quot;: struct{}{},
    &quot;OPT&quot;: struct{}{},
    &quot;TRA&quot;: struct{}{},
    &quot;PAT&quot;: struct{}{},
}

var HttpMatchFunc MatchFunc = func(data []byte) bool {
    if len(data) &amp;lt; int(HttpNeedBytesNum) {
        return false
    }

    _, ok := httpHeadBytes[string(data[:3])]
    return ok
}

// From https://github.com/hashicorp/yamux/blob/master/spec.md
var YamuxMatchFunc MatchFunc = func(data []byte) bool {
    if len(data) &amp;lt; int(YamuxNeedBytesNum) {
        return false
    }

    if data[0] == 0 &amp;amp;&amp;amp; data[1] &amp;gt;= 0x0 &amp;amp;&amp;amp; data[1] &amp;lt;= 0x3 {
        return true
    }
    return false
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«å®ç°äº†åŒºåˆ†&lt;code&gt;HTTPS&lt;/code&gt;,&lt;code&gt;HTTP&lt;/code&gt;ä»¥åŠgoä¸­ç‰¹æœ‰çš„&lt;code&gt;yamux&lt;/code&gt;(å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªåº“ï¼Œå¯ä»¥å‚è€ƒ&lt;a href=&quot;http://fishu.cn/blog/%E5%9F%BA%E4%BA%8E-go-%E5%AE%9E%E7%8E%B0i/o%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E4%B8%80/&quot;&gt;Goä¸­çš„I/Oå¤šè·¯å¤ç”¨&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;h2 id=&quot;mux.goæ–‡ä»¶&quot;&gt;mux.goæ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;å…ˆæ¥çœ‹å…¶ä¸­çš„&lt;code&gt;struct&lt;/code&gt;ï¼Œç¬¬ä¸€ä¸ªæ˜¯&lt;code&gt;Mux&lt;/code&gt;ç¬¬äºŒä¸ªæ˜¯&lt;code&gt;listener&lt;/code&gt;ï¼Œè¿™é‡Œå…ˆæ¥çœ‹ä¸€ä¸‹è¾ƒä¸ºç®€å•çš„&lt;code&gt;listener&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;listenerç»“æ„ä½“&quot;&gt;listenerç»“æ„ä½“&lt;/h3&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;type listener struct {
    mux *Mux

    priority     int
    needBytesNum uint32
    matchFn      MatchFunc

    c  chan net.Conn
    mu sync.RWMutex
}

// Accept waits for and returns the next connection to the listener.
func (ln *listener) Accept() (net.Conn, error) {
    ...
}

// Close removes this listener from the parent mux and closes the channel.
func (ln *listener) Close() error {
    ...
}

func (ln *listener) Addr() net.Addr {
    ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åˆšçœ‹åˆ°è¿™ä¸ªç»“æ„ä½“æˆ‘ä»¬å¯èƒ½å¾ˆè¿·æƒ‘ï¼Œä¸çŸ¥é“éƒ½æ˜¯å¹²å•¥çš„ï¼Œè€Œä¸”ç½‘ç»œç¼–ç¨‹ä¸­ä¸€èˆ¬listenerè¿™ç§ä¸œè¥¿è¦ç»‘å®šåœ¨ä¸€ä¸ªå¥—æ¥å­—ä¸Šï¼Œä½†å¾ˆæ˜æ˜¾&lt;code&gt;listener&lt;/code&gt;æ²¡æœ‰ï¼Œä¸è¿‡å…¶å”¯ä¸€è·Ÿå¥—æ¥å­—ç›¸å…³çš„å¯èƒ½æ˜¯å…¶&lt;code&gt;c&lt;/code&gt;å­—æ®µï¼Œå…¶æ˜¯ä¸€ä¸ªç”±&lt;code&gt;net&lt;/code&gt;åŒ…ä¸­çš„&lt;code&gt;Conn&lt;/code&gt;æ¥å£ç»„æˆçš„&lt;code&gt;chanel&lt;/code&gt;ï¼›ç„¶å&lt;code&gt;mu&lt;/code&gt;å­—æ®µå°±æ˜¯&lt;a href=&quot;https://www.zhihu.com/question/66733477&quot;&gt;è¯»å†™é”&lt;/a&gt;äº†ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼›ç„¶å&lt;code&gt;mux&lt;/code&gt;å­—æ®µåˆ™æ˜¯ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªç»“æ„ä½“ä¸­çš„å¦ä¸€ä¸ªç»“æ„ä½“&lt;code&gt;Mux&lt;/code&gt;çš„æŒ‡é’ˆï¼›æ¥ä¸‹æ¥åˆ°äº†&lt;code&gt;priority&lt;/code&gt;å­—æ®µä¸Šï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªä¼¼ä¹è·Ÿä¼˜å…ˆçº§æœ‰å…³ç³»ï¼Œæš‚ä¸”å­˜ç–‘ï¼›&lt;code&gt;needBytesNum&lt;/code&gt;åˆ™æ›´æœ‰äº›è’™äº†ï¼Œä¸è¿‡æ„Ÿè§‰å…¶æ˜¯è·Ÿè¯»å–byteçš„æ•°é‡æœ‰å…³ç³»ï¼Œæœ€åæ˜¯&lt;code&gt;matchFn&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¥½ï¼Œåˆæ­¥è®¤è¯†äº†è¿™ä¸ªç»“æ„ä½“çš„ç»“æ„åï¼Œæˆ‘ä»¬çœ‹çœ‹å…¶æ–¹æ³•ã€‚ä¸‰ä¸ªæ–¹æ³•çš„&lt;code&gt;listener&lt;/code&gt;å®ç°äº†&lt;code&gt;net&lt;/code&gt;æ¨¡å—ä¸­çš„&lt;code&gt;Listener&lt;/code&gt;æ¥å£:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;// A Listener is a generic network listener for stream-oriented protocols.
//
// Multiple goroutines may invoke methods on a Listener simultaneously.
type Listener interface {
    // Accept waits for and returns the next connection to the listener.
    Accept() (Conn, error)

    // Close closes the listener.
    // Any blocked Accept operations will be unblocked and return errors.
    Close() error

    // Addr returns the listener's network address.
    Addr() Addr
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åå…ˆæ¥åˆ†æå…¶&lt;code&gt;Accept&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (ln *listener) Accept() (net.Conn, error) {
    conn, ok := &amp;lt;-ln.c
    if !ok {
        return nil, fmt.Errorf(&quot;network connection closed&quot;)
    }
    return conn, nil
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ä»&lt;code&gt;c&lt;/code&gt;è¿™ä¸ªç”±&lt;code&gt;Conn&lt;/code&gt;ç»„æˆçš„&lt;code&gt;channel&lt;/code&gt;ä¸­ï¼Œè·å–&lt;code&gt;Conn&lt;/code&gt;å¯¹è±¡ï¼Œå¥½è¿™é‡Œæˆ‘ä»¬å°±æ˜ç™½äº†ï¼Œè¿™ä¸ª&lt;code&gt;listener&lt;/code&gt;å’Œæ™®é€šçš„ä¸ä¸€æ ·ï¼Œä»–å¾ˆç‰¹åˆ«ï¼Œæ™®é€šçš„&lt;code&gt;listener&lt;/code&gt;ç›‘å¬çš„æ˜¯å¥—æ¥å­—ï¼Œè€Œä»–ç›‘å¬çš„æ˜¯&lt;code&gt;channel&lt;/code&gt;ï¼Œå¦å¤–ï¼Œè‚¯å®šæœ‰æŸä¸ªåœ°æ–¹åœ¨ä¸åœçš„å¾€&lt;code&gt;c&lt;/code&gt;è¿™ä¸ª&lt;code&gt;channel&lt;/code&gt;ä¸­æ”¾&lt;code&gt;Conn&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯&lt;code&gt;Close&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (ln *listener) Close() error {
    if ok := ln.mux.release(ln); ok {
        // Close done to signal to any RLock holders to release their lock.
        close(ln.c)
    }
    return nil
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬æš‚ä¸”å…ˆæŠŠè¿™ä¸ª&lt;code&gt;ln.mux.release(ln)&lt;/code&gt;æ”¾åˆ°ä¸€è¾¹ï¼Œå› ä¸ºè¿˜ä¸çŸ¥é“è¿™ä¸ªä¸œè¥¿å¹²äº†å•¥ï¼Œæš‚ä¸”åªéœ€å…³æ³¨&lt;code&gt;close(ln.c)&lt;/code&gt;ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥å…³é—­&lt;code&gt;channel&lt;/code&gt;çš„ï¼Œgoæ¨èç”±å‘é€ç«¯è°ƒç”¨ï¼Œä½†è¿™é‡Œä¼¼ä¹&lt;code&gt;listener&lt;/code&gt;æ˜¯ä¸€ä¸ªæ¶ˆè´¹ç«¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹&lt;a href=&quot;https://zhuanlan.zhihu.com/p/32529039&quot;&gt;å¦‚ä½•ä¼˜é›…çš„å…³é—­Go Channel&lt;/a&gt;ï¼Œçœ‹æ¥é‡ç‚¹åœ¨äº&lt;code&gt;ln.mux.release(ln)&lt;/code&gt;è¿™é‡Œï¼Œæˆ‘ä»¬æš‚ä¸”&lt;sup&gt;å­˜ç–‘[1]&lt;/sup&gt;ï¼Œç•™å¾…ä¸‹é¢è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæ˜¯&lt;code&gt;Addr&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (ln *listener) Addr() net.Addr {
    if ln.mux == nil {
        return nil
    }
    ln.mux.mu.RLock()
    defer ln.mux.mu.RUnlock()
    if ln.mux.ln == nil {
        return nil
    }
    return ln.mux.ln.Addr()
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™é‡Œï¼Œ&lt;code&gt;mu&lt;/code&gt;å­—æ®µå°±ç”¨ä¸Šäº†ï¼ŒåŠ è¯»é”ï¼Œç„¶åè¿”å›&lt;code&gt;mux&lt;/code&gt;å­—æ®µä¸­çš„&lt;code&gt;ln&lt;/code&gt;å­—æ®µçš„&lt;code&gt;Addr&lt;/code&gt;æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¿™å¥&lt;code&gt;return ln.mux.ln.Addr()&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;muxç»“æ„ä½“&quot;&gt;Muxç»“æ„ä½“&lt;/h3&gt;
&lt;h4 id=&quot;å­—æ®µä»¥åŠç›¸å…³å‡½æ•°&quot;&gt;å­—æ®µä»¥åŠç›¸å…³å‡½æ•°&lt;/h4&gt;
&lt;p&gt;Muxç»“æ„ä½“åˆ™ç›¸å¯¹æ¥è¯´å¤æ‚å¾ˆå¤šï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹ä»–çš„å­—æ®µå®šä¹‰:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;type Mux struct {
    ln net.Listener

    defaultLn *listener

    // sorted by priority
    lns             []*listener
    maxNeedBytesNum uint32

    mu sync.RWMutex
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¥½ï¼Œç¬¬ä¸€ä¸ªå­—æ®µ&lt;code&gt;ln&lt;/code&gt;æ˜¯ä¸€ä¸ª&lt;code&gt;Listener&lt;/code&gt;æ¥å£ï¼›ç„¶å&lt;code&gt;defaultLn&lt;/code&gt;æ˜¯ä¸€ä¸ª&lt;code&gt;listener&lt;/code&gt;çš„æŒ‡é’ˆï¼›&lt;code&gt;lns&lt;/code&gt;åˆ™æ˜¯ç”±&lt;code&gt;listener&lt;/code&gt;çš„æŒ‡é’ˆç»„æˆçš„åˆ‡ç‰‡ï¼Œæ ¹æ®æ³¨é‡Š&lt;code&gt;// sorted by priority&lt;/code&gt;ï¼Œæˆ‘ä»¬ç»ˆäºçŸ¥é“&lt;code&gt;listener&lt;/code&gt;çš„&lt;code&gt;priority&lt;/code&gt;å­—æ®µæ˜¯å¹²å•¥çš„äº†ï¼›æ¥ä¸‹æ¥æ˜¯&lt;code&gt;maxNeedBytesNum&lt;/code&gt;å­—æ®µï¼Œå¥½å¥‡æ€ªï¼Œæ¯”èµ·&lt;code&gt;listener&lt;/code&gt;çš„&lt;code&gt;needBytesNum&lt;/code&gt;å¤šäº†ä¸ªâ€œMaxâ€ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨æµ‹è¿™ä¸ªå€¼å–å¾—æ˜¯&lt;code&gt;lns&lt;/code&gt;ä»¥åŠ&lt;code&gt;defaultLn&lt;/code&gt;å­—æ®µä¸­æ‰€æœ‰&lt;code&gt;listener&lt;/code&gt;ä¸­&lt;code&gt;needBytesNum&lt;/code&gt;å€¼æœ€å¤§çš„ï¼›æœ€åçš„&lt;code&gt;mu&lt;/code&gt;å­—æ®µæˆ‘ä»¬å°±ä¸è¯´äº†ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°&lt;code&gt;Mux&lt;/code&gt;å’Œ&lt;code&gt;listener&lt;/code&gt;å­˜åœ¨ç›¸äº’å¼•ç”¨ï¼Œä½†åœ¨&lt;code&gt;Go&lt;/code&gt;ä¸­æˆ‘ä»¬å€’ä¹Ÿä¸ç”¨å¤ªæ‹…å¿ƒï¼Œå› ä¸º&lt;code&gt;Go&lt;/code&gt;é‡‡ç”¨â€œæ ‡è®°-å›æ”¶â€æˆ–è€…å…¶å˜ç§çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼Œæ„Ÿå…´è¶£å¯ä»¥å‚è€ƒ&lt;a href=&quot;http://legendtkl.com/2017/04/28/golang-gc/&quot;&gt;Golang åƒåœ¾å›æ”¶å‰–æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;mux.go&lt;/code&gt;æ–‡ä»¶ä¸­å®šä¹‰äº†&lt;code&gt;Mux&lt;/code&gt;çš„ç”Ÿæˆå‡½æ•°&lt;code&gt;NewMux&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func NewMux(ln net.Listener) (mux *Mux) {
    mux = &amp;amp;Mux{
        ln:  ln,
        lns: make([]*listener, 0),
    }
    return
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯&lt;code&gt;ln&lt;/code&gt;å­—æ®µå­˜å‚¨çš„ä¸€èˆ¬&lt;strong&gt;ä¸æ˜¯&lt;/strong&gt;&lt;code&gt;listener&lt;/code&gt;è¿™æ ·çš„éå¸¸è§„Listenerï¼Œä¸€èˆ¬æ˜¯&lt;code&gt;TCPListener&lt;/code&gt;è¿™æ ·å…·ä½“çš„ç»‘å®šäº†å¥—æ¥å­—çš„ç›‘å¬å™¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;muxæ–¹æ³•&quot;&gt;Muxæ–¹æ³•&lt;/h4&gt;
&lt;p&gt;æ¥ä¸‹æ¥çœ‹&lt;code&gt;Mux&lt;/code&gt;ç»“æ„ä½“çš„æ–¹æ³•ï¼Œé¦–å…ˆçœ‹&lt;code&gt;Listen&lt;/code&gt;å’Œ&lt;code&gt;copyLns&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;// priority
func (mux *Mux) Listen(priority int, needBytesNum uint32, fn MatchFunc) net.Listener {
    // 1
    ln := &amp;amp;listener{
        c:            make(chan net.Conn),
        mux:          mux,
        priority:     priority,
        needBytesNum: needBytesNum,
        matchFn:      fn,
    }

    mux.mu.Lock()
    defer mux.mu.Unlock()
    // 2
    if needBytesNum &amp;gt; mux.maxNeedBytesNum {
        mux.maxNeedBytesNum = needBytesNum
    }

    // 3
    newlns := append(mux.copyLns(), ln)
    sort.Slice(newlns, func(i, j int) bool {
        if newlns[i].priority == newlns[j].priority {
            return newlns[i].needBytesNum &amp;lt; newlns[j].needBytesNum
        }
        return newlns[i].priority &amp;lt; newlns[j].priority
    })
    mux.lns = newlns
    return ln
}

func (mux *Mux) copyLns() []*listener {
    lns := make([]*listener, 0, len(mux.lns))
    for _, l := range mux.lns {
        lns = append(lns, l)
    }
    return lns
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;copyLns&lt;/code&gt;æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯è·Ÿåå­—çš„å«ä¹‰ä¸€æ ·ï¼Œç”Ÿæˆä¸€ä¸ª&lt;code&gt;lns&lt;/code&gt;å­—æ®µçš„å‰¯æœ¬å¹¶è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Listen&lt;/code&gt;åŸºæœ¬åšäº†ä¸‰æ­¥:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ç”Ÿæˆä¸€ä¸ª&lt;code&gt;listener&lt;/code&gt;ç»“æ„ä½“å®ä¾‹ï¼Œå¹¶è·å–äº’æ–¥é”&lt;/li&gt;
&lt;li&gt;æ ¹æ®æƒ…å†µæ›´æ–°&lt;code&gt;needBytesNum&lt;/code&gt;å­—æ®µ&lt;/li&gt;
&lt;li&gt;å°†æ–°ç”Ÿæˆçš„&lt;code&gt;listener&lt;/code&gt;å®ä¾‹æŒ‰ç…§ä¼˜å…ˆçº§æ”¾å…¥&lt;code&gt;lns&lt;/code&gt;å­—æ®µå¯¹åº”çš„sliceä¸­&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ¥ä¸‹æ¥æ˜¯&lt;code&gt;ListenHttp&lt;/code&gt;å’Œ&lt;code&gt;ListenHttps&lt;/code&gt;æ–¹æ³•:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (mux *Mux) ListenHttp(priority int) net.Listener {
    return mux.Listen(priority, HttpNeedBytesNum, HttpMatchFunc)
}

func (mux *Mux) ListenHttps(priority int) net.Listener {
    return mux.Listen(priority, HttpsNeedBytesNum, HttpsMatchFunc)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå·®ä¸å¤šï¼Œæ‰€ä»¥æ”¾åˆ°ä¸€èµ·è¯´ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸“é—¨å†™äº†ä¸€ä¸ªæ–¹æ³•è®©æˆ‘ä»¬èƒ½æ–¹ä¾¿çš„åˆ›å»ºå¤„ç†&lt;code&gt;Http&lt;/code&gt;æˆ–è€…&lt;code&gt;Https&lt;/code&gt;çš„&lt;code&gt;listener&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹&lt;code&gt;DefaultListener&lt;/code&gt;æ–¹æ³•:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (mux *Mux) DefaultListener() net.Listener {
    mux.mu.Lock()
    defer mux.mu.Unlock()
    if mux.defaultLn == nil {
        mux.defaultLn = &amp;amp;listener{
            c:   make(chan net.Conn),
            mux: mux,
        }
    }
    return mux.defaultLn
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å¾ˆç®€å•ï¼ŒåŸºæœ¬å°±æ˜¯æœ‰åˆ™è¿”å›æ²¡æœ‰åˆ™ç”Ÿæˆç„¶åè¿”å›çš„å¥—è·¯ã€‚ä¸è¿‡æˆ‘ä»¬è¦æ³¨æ„&lt;code&gt;defaultLn&lt;/code&gt;å­—æ®µä¸­çš„&lt;code&gt;listener&lt;/code&gt;æ˜¯ä¸æ”¾å…¥&lt;code&gt;lns&lt;/code&gt;å­—æ®µä¸­çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯&lt;code&gt;Server&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;// Serve handles connections from ln and multiplexes then across registered listeners.
func (mux *Mux) Serve() error {
    for {
        // Wait for the next connection.
        // If it returns a temporary error then simply retry.
        // If it returns any other error then exit immediately.
        conn, err := mux.ln.Accept()
        if err, ok := err.(interface {
            Temporary() bool
        }); ok &amp;amp;&amp;amp; err.Temporary() {
            continue
        }

        if err != nil {
            return err
        }

        go mux.handleConn(conn)
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå½“æˆ‘ä»¬è°ƒç”¨&lt;code&gt;NewMux&lt;/code&gt;å‡½æ•°ä»¥åï¼Œæ¥ä¸‹æ¥å°±ä¼šè°ƒç”¨&lt;code&gt;Server&lt;/code&gt;æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŸºæœ¬ä¸Šå°±æ˜¯é˜»å¡ç›‘å¬æŸä¸ªå¥—æ¥å­—ï¼Œå½“æœ‰è¿æ¥å»ºç«‹æˆåŠŸåç«‹å³å¦èµ·ä¸€ä¸ªgoroutineè°ƒç”¨&lt;code&gt;handleConn&lt;/code&gt;æ–¹æ³•ï¼›å½“è¿æ¥å»ºç«‹å¤±è´¥æ ¹æ®&lt;code&gt;err&lt;/code&gt;æ˜¯å¦å«æœ‰&lt;code&gt;Temporary&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œå¹¶å¿½ç•¥é”™è¯¯ï¼Œæ²¡æœ‰åˆ™è¿”å›é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬çœ‹çœ‹&lt;code&gt;handleConn&lt;/code&gt;æ–¹æ³•å¹²äº†äº›å•¥:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (mux *Mux) handleConn(conn net.Conn) {
    // 1
    mux.mu.RLock()
    maxNeedBytesNum := mux.maxNeedBytesNum
    lns := mux.lns
    defaultLn := mux.defaultLn
    mux.mu.RUnlock()
    
    // 2
    sharedConn, rd := gnet.NewSharedConnSize(conn, int(maxNeedBytesNum))
    data := make([]byte, maxNeedBytesNum)

    conn.SetReadDeadline(time.Now().Add(DefaultTimeout))
    _, err := io.ReadFull(rd, data)
    if err != nil {
        conn.Close()
        return
    }
    conn.SetReadDeadline(time.Time{})
    // 3
    for _, ln := range lns {
        if match := ln.matchFn(data); match {
            err = errors.PanicToError(func() {
                ln.c &amp;lt;- sharedConn
            })
            if err != nil {
                conn.Close()
            }
            return
        }
    }

    // No match listeners
    if defaultLn != nil {
        err = errors.PanicToError(func() {
            defaultLn.c &amp;lt;- sharedConn
        })
        if err != nil {
            conn.Close()
        }
        return
    }

    // No listeners for this connection, close it.
    conn.Close()
    return
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;handleConn&lt;/code&gt;æ–¹æ³•ä¹Ÿä¸ç®—å¤æ‚ï¼Œå¤§ä½“å¯ä»¥åˆ†ä¸ºä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;è·å–å½“å‰çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä»&lt;code&gt;conn&lt;/code&gt;ä¸­è¯»å–æ•°æ®ï¼Œæ³¨æ„ï¼š&lt;code&gt;shareConn&lt;/code&gt;å’Œ&lt;code&gt;rd&lt;/code&gt;å­˜åœ¨å•å‘å…³ç³»ï¼Œå¦‚æœä»&lt;code&gt;rd&lt;/code&gt;ä¸­è¯»å–æ•°æ®çš„è¯ï¼Œæ•°æ®ä¹Ÿä¼šå¤åˆ¶ä¸€ä»½æ”¾åˆ°&lt;code&gt;shareConn&lt;/code&gt;ä¸­ï¼Œåè¿‡æ¥å°±ä¸æˆç«‹äº†&lt;/li&gt;
&lt;li&gt;è¯»å–åˆ°çš„æ•°æ®ä¼šè¢«éå†ï¼Œæœ€ç»ˆé€‰å‡º&lt;code&gt;ä¸matchFunc&lt;/code&gt;åŒ¹é…çš„æœ€é«˜ä¼˜å…ˆçº§çš„&lt;code&gt;listener&lt;/code&gt;ï¼Œå¹¶å°†&lt;code&gt;shareConn&lt;/code&gt;æ”¾å…¥è¯¥&lt;code&gt;listener&lt;/code&gt;çš„&lt;code&gt;c&lt;/code&gt;å­—æ®µä¸­ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…åˆ°åˆ™æ”¾åˆ°&lt;code&gt;defaultLn&lt;/code&gt;ä¸­çš„&lt;code&gt;c&lt;/code&gt;å­—æ®µä¸­ï¼Œå¦‚æœ&lt;code&gt;defaultLn&lt;/code&gt;æ˜¯&lt;code&gt;nil&lt;/code&gt;çš„è¯å°±ä¸å¤„ç†ï¼Œç›´æ¥å…³é—­&lt;code&gt;conn&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æœ€åæ¥åˆ°äº†&lt;code&gt;release&lt;/code&gt;æ–¹æ³•äº†:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func (mux *Mux) release(ln *listener) bool {
    result := false
    mux.mu.Lock()
    defer mux.mu.Unlock()
    lns := mux.copyLns()

    for i, l := range lns {
        if l == ln {
            lns = append(lns[:i], lns[i+1:]...)
            result = true
            break
        }
    }
    mux.lns = lns
    return result
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;releaseæ–¹æ³•æ„æ€å¾ˆæ˜ç¡®ï¼šæŠŠå¯¹åº”çš„&lt;code&gt;listener&lt;/code&gt;ä»&lt;code&gt;lns&lt;/code&gt;ä¸­ç§»é™¤ï¼Œå¹¶æŠŠç»“æœè¿”å›ï¼Œæ•´ä¸ªè¿‡ç¨‹æœ‰äº’æ–¥é”ï¼Œæˆ‘ä»¬å›åˆ°&lt;sup&gt;å­˜ç–‘1&lt;/sup&gt;ï¼Œå°½ç®¡æœ‰äº’æ–¥é”ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼šå½“æŸä¸ªgoroutineè¿è¡Œåˆ°&lt;code&gt;handleConn&lt;/code&gt;å·²ç»æ‰§è¡Œåˆ°äº†ç¬¬ä¸‰é˜¶æ®µçš„å¼€å§‹çŠ¶æ€(ä¹Ÿå°±æ˜¯è¿˜æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„&lt;code&gt;listener&lt;/code&gt;)æ—¶ï¼Œä¸”&lt;code&gt;Go&lt;/code&gt;è¿è¡Œåœ¨å¤šæ ¸çŠ¶æ€ä¸‹ï¼Œå½“å¦ä¸€ä¸ªgoroutineè¿è¡Œå®Œ&lt;code&gt;listener&lt;/code&gt;çš„&lt;code&gt;Close&lt;/code&gt;æ–¹æ³•æ—¶ï¼Œè¿™æ—¶å°±å¯èƒ½å‘ç”Ÿå¾€ä¸€ä¸ªå·²ç»å…³é—­çš„&lt;code&gt;channel&lt;/code&gt;ä¸­sendæ•°æ®ï¼Œä½†è¯·æ³¨æ„&lt;code&gt;handleConn&lt;/code&gt;çš„ç¬¬ä¸‰æ­¥çš„è¿™æ®µä»£ç :&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;err = errors.PanicToError(func() { // å°±æ˜¯è¿™é‡Œäº†
    ln.c &amp;lt;- sharedConn
})
if err != nil {
    conn.Close()
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ª&lt;code&gt;PanicToError&lt;/code&gt;æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;func PanicToError(fn func()) (err error) {
    defer func() {
        if r := recover(); r != nil {
            err = fmt.Errorf(&quot;Panic error: %v&quot;, r)
        }
    }()

    fn()
    return
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŸºæœ¬ä¸Šå°±æ˜¯æ‰§è¡Œäº†&lt;code&gt;recover&lt;/code&gt;ç„¶åå°†é”™è¯¯æ‰“å°å‡ºæ¥ï¼Œç»“åˆä¸‹é¢çš„å¯¹errçš„åˆ¤æ–­ï¼Œå°±ä¼šå°†sendå¤±è´¥çš„connå…³é—­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;&lt;code&gt;Mux&lt;/code&gt;ä¸­åŒ…å«äº†ä¸€ä¸ªåˆå§‹ç›‘å¬å™¨ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„äº‹ä»¶(æ¯”å¦‚è¯´æ–°çš„è¿æ¥å»ºç«‹ï¼Œä¹‹æ‰€ä»¥å«äº‹ä»¶æ˜¯å› ä¸ºæˆ‘å®åœ¨æƒ³ä¸å‡ºæ›´ç²¾ç¡®çš„è¯è¯­äº†)éƒ½èµ·æºäºæ­¤&lt;/li&gt;
&lt;li&gt;&lt;code&gt;listener&lt;/code&gt;å®ç°äº†&lt;code&gt;net.Listener&lt;/code&gt;æ¥å£ï¼Œå¯ä»¥ä½œä¸ºäºŒçº§ç›‘å¬å™¨ä½¿ç”¨(æ¯”å¦‚ä¼ ç»™&lt;code&gt;net/http.Server&lt;/code&gt;ç»“æ„ä½“çš„&lt;code&gt;Server&lt;/code&gt;æ–¹æ³•è¿›è¡Œå¤„ç†)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mux&lt;/code&gt;åŒ…å«äº†ä¸€ä¸ªç”±&lt;code&gt;listener&lt;/code&gt;ç»„æˆçš„æœ‰åºsliceï¼Œå½“æœ‰äº‹ä»¶äº§ç”Ÿæ—¶å°±ä¼šéå†è¿™ä¸ªsliceæ‰¾å‡ºåˆé€‚çš„&lt;code&gt;listener&lt;/code&gt;å¹¶å°†äº‹ä»¶ä¼ ç»™ä»–ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;è®²åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šæ˜¯å®Œäº‹äº†ã€‚æ•´ä¸ª&lt;code&gt;mux&lt;/code&gt;æ¨¡å—è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œèµ·ç æ˜¯ç”±ä¸€ä¸ªä¸ªç®€å•çš„ä¸œè¥¿ç»„åˆè€Œæˆã€‚é‚£ä¹ˆä¸€èµ·æ¥æ„æ·«ä¸€ä¸‹æ•´ä½“æµç¨‹å§ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚æˆ‘è¦å®ç°è¿™ä¹ˆä¸€ä¸ªç½‘ç»œç¨‹åºï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ç»‘å®šç›‘å¬ä¸€ä¸ªåŸºäºtcpçš„å¥—æ¥å­—&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬å…è®¸å…¶åº”ç”¨å±‚å¯æ”¯æŒå¤šä¸ª(æ¯”å¦‚è¯´æ”¯æŒhttp httpsè¿™ä¸¤ä¸ªå§ï¼Œå°½ç®¡httpå’Œhttpså¯ä»¥è¯´æ˜¯ä¸€ä¸ªåè®®ã€‚ã€‚)ï¼Œä¸åŒçš„åº”ç”¨å±‚åè®®å¯¹åº”ä¸åŒçš„å¤„ç†å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å°±è¿™ä¹ˆä¸¤ä¸ªå¾ˆç®€å•çš„è¦æ±‚ï¼Œä¸éš¾å§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬ä¸€èµ·æ¥å®ç°å§:&lt;/p&gt;
&lt;pre class=&quot;go&quot;&gt;
&lt;code&gt;
type HandleFunc func(c net.Conn) (n int, err error) 

type MyServer struct {
    l net.Listener
    hFunc Handle
}

func (h *MyServer) Server() (err error) {
    for {
        conn, err := h.l.Accept()
        if err != nil {
            return
        }
        go h.hFunc(conn)
    }
}

func HandleHttp(c net.Conn)(n int, err error){
    n, err = c.Write([]byte(&quot;Get Off! Don't you know that it is not safe?&quot;))
}

func HandleHttps(c net.Conn)(n int, err error){
    n, err = c.Write([]byte(&quot;Get Off! Don't you know that this is more complicated than http?&quot;))
}


func main() (err error){
    ln, err := net.Listen(&quot;tcp&quot;, &quot;0.0.0.0:12345&quot;)
    if err != nil {
        err = fmt.Errorf(&quot;Create server listener error, %v&quot;, err)
        return
    }
    muxer = mux.NewMux(ln)
    
    var lHttp, lHttps net.Listener
    lHttp = muxer.ListenHttp(1)
    httpServer := *MyServer{lHttp, HandleHttp}
    
    lHttps = muxer.ListenHttps(2)
    httpsServer := *MyServer{lHttps, HandleHttps}
    
    go httpServer.Server()
    go httpsServer.Server()

    err = muxer.Serve()
}&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Mon, 01 Apr 2019 15:04:00 +0000</pubDate>
<dc:creator>MnCu</dc:creator>
<og:description>å‰è¨€ frpå‡ ä¹æ‰€æœ‰çš„è¿æ¥å¤„ç†éƒ½æ˜¯æ„å»ºåœ¨muxæ¨¡å—ä¹‹ä¸Šçš„ï¼Œé‡è¦æ€§ä¸å¿…å¤šè¯´ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™æ˜¯ä¸ªå•¥å§ ps: å®‰è£…æ–¹æ³• è¯¥æ¨¡å—å¾ˆå°ï¼Œä¸åˆ°300è¡Œï¼Œåˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼š å’Œ`rule.go`ã€‚ å› ä¸º æ–‡ä»¶ç›¸å¯¹ç®€å•ä¸€äº›</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/MnCu8261/p/10639897.html</dc:identifier>
</item>
<item>
<title>[NewLife.XCode]æ‰©å±•å±æ€§ï¼ˆæ›¿ä»£å¤šè¡¨å…³è”Joinæå‡æ€§èƒ½ï¼‰ - å¤§çŸ³å¤´</title>
<link>http://www.cnblogs.com/nnhy/p/xcode_extend.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nnhy/p/xcode_extend.html</guid>
<description>&lt;p&gt;NewLife.XCodeæ˜¯ä¸€ä¸ªæœ‰10å¤šå¹´å†å²çš„å¼€æºæ•°æ®ä¸­é—´ä»¶ï¼Œæ”¯æŒnfx/netstandardï¼Œç”±æ–°ç”Ÿå‘½å›¢é˜Ÿ(2002~2019)å¼€å‘å®Œæˆå¹¶ç»´æŠ¤è‡³ä»Šï¼Œä»¥ä¸‹ç®€ç§°XCodeã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªç³»åˆ—æ•™ç¨‹ä¼šå¤§é‡ç»“åˆç¤ºä¾‹ä»£ç å’Œè¿è¡Œæ—¥å¿—æ¥è¿›è¡Œæ·±å…¥åˆ†æï¼Œè•´å«å¤šå¹´å¼€å‘ç»éªŒäºå…¶ä¸­ï¼Œä»£è¡¨ä½œæœ‰ç™¾äº¿çº§å¤§æ•°æ®å®æ—¶è®¡ç®—é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;å¼€æºåœ°å€ï¼š&lt;a href=&quot;https://github.com/NewLifeX/X&quot; target=&quot;_blank&quot;&gt;https://github.com/NewLifeX/XÂ &lt;/a&gt;ï¼ˆæ±‚star, 743+ï¼‰&lt;/p&gt;


&lt;p&gt;&lt;span&gt;&lt;strong&gt;XCodeä¸æ”¯æŒå¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œå•è¡¨æŸ¥è¯¢åˆ©äºä¼˜åŒ–ä»¥åŠåˆ†è¡¨åˆ†åº“ï¼Œä¸€åˆ‡Joinéƒ½å¯ä»¥å€ŸåŠ©æ‰©å±•å±æ€§å®ç°ï¼Œé…åˆç¼“å­˜ä½¿ç”¨å¯ä»¥è¾¾åˆ°æ›´å¥½çš„æ•ˆæœï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆXCodeå‰æœŸæ”¯æŒå¤šè¡¨å…³è”ï¼Œç›´åˆ°2008å¹´æ‰æ­£å¼åºŸé™¤ï¼‰&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;â€œæ‰©å±•å±æ€§â€æ˜¯2007å¹´èµ·XCodeç‰¹æœ‰å«æ³•ï¼Œä¸åŒäºå…¶å®ƒä»»ä½•åœºæ™¯çš„æ„ä¹‰ï¼ˆå¦‚Silverlight/WPFï¼‰&lt;/p&gt;

&lt;p&gt;å‰æ–‡&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_entity.html&quot; target=&quot;_blank&quot;&gt;ã€Šå®ä½“ç±»è¯¦è§£ã€‹&lt;/a&gt;ä¸­æœ‰æåˆ°ä¸€ä¸ªå­¦ç”Ÿç­çº§çš„å®ä½“ç±»æ¨¡å‹ï¼Œä¸€ä¸ªå…¸å‹éœ€æ±‚æ˜¯æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨æ—¶å¸Œæœ›æš‚æ—¶ç­çº§åç§°æˆ–è€…å…¶å®ƒä¿¡æ¯ã€‚äºæ˜¯æœ‰ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;select&lt;/span&gt; s.&lt;span&gt;*&lt;/span&gt;, c.name &lt;span&gt;where&lt;/span&gt; student s &lt;span&gt;left&lt;/span&gt; &lt;span&gt;join&lt;/span&gt; class c &lt;span&gt;on&lt;/span&gt; s.classid&lt;span&gt;=&lt;/span&gt;c.id
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;sqlè¯­æ³•åƒå˜ä¸‡åŒ–ï¼Œå¦‚æœè¦æ”¯æŒå¤šè¡¨å…³è”joinï¼Œå°±å¾ˆéš¾åšåˆ°ç»Ÿä¸€æŸ¥è¯¢é£æ ¼ï¼Œæ›´æ˜¯éš¾ä»¥ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯XCodeæ”¾å¼ƒæ”¯æŒå¤šè¡¨å…³è”ï¼Œå®å¯æ‹†åˆ†ä¸ºå¤šæ¬¡æŸ¥è¯¢ã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œä¸ä»…æ€§èƒ½æ²¡æœ‰ä¸‹é™ï¼Œåè€Œå¤§å¤§æå‡äº†ï¼Œä¸»è¦å› ä¸ºå•è¡¨å°æŸ¥è¯¢æœ‰å¤šçº§ç¼“å­˜çš„åŠ æŒï¼&lt;/p&gt;


&lt;p&gt;ä½¿ç”¨æ‰©å±•å±æ€§æ¥å®ç°å…³è”æŸ¥è¯¢ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¤šæ¬¡æŸ¥è¯¢ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/19592/201904/19592-20190401220650886-1686847874.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„å¤šè¡¨å…³è”åœºæ™¯ï¼Œå­¦ç”Ÿè¡¨å¸¦æœ‰ç­çº§IDå­—æ®µï¼ŒåŒæ ·è¿˜æœ‰äº§å“å’Œåˆ†ç±»è¡¨ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯XCodeæ ¹æ®æ¨¡å‹æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼Œå› ä¸ºå­—æ®µåClassIDåˆšå¥½æ˜¯Classè¡¨åŠ ä¸Šå®ƒçš„ä¸»é”®IDï¼Œå¹¶ä¸”éƒ½æ˜¯æ•´å‹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå®ä½“å¯¹è±¡æ¥è¯´ï¼Œstudent.Nameæ˜¯å­¦ç”Ÿåç§°ï¼Œstudent.ClassNameæ˜¯ç­çº§åç§°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;çœ‹èµ·æ¥å®ƒä»¬å°±åƒæ˜¯ä¸€å¼ è¡¨çš„å±æ€§å­—æ®µï¼Œè¿™å°±æ˜¯æ‰©å±•å±æ€§çš„ç”±æ¥ï¼Œä¸ä»…ä»…æ˜¯å¤šè¡¨å…³è”å±æ€§ï¼Œè¿˜å¯ä»¥æ˜¯å…¶å®ƒå±æ€§ï¼Œä¸ºåŒºåˆ«äºæ•°æ®å­—æ®µå±æ€§ï¼Œç»Ÿç§°ä¸ºæ‰©å±•å±æ€§ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ‰©å±•å±æ€§å…ˆå‡†å¤‡ä¸€ä¸ªClasså±æ€§ï¼Œå†åŠ ä¸€ä¸ªClassNameï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æŸäº›åœºåˆä½¿ç”¨ student.Classã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢å¾—åˆ°studentåï¼Œä¸è®ºæ˜¯è®¿é—®student.Classè¿˜æ˜¯è®¿é—®student.ClassNameï¼Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡Class.FindByIDï¼Œå¯ä»¥ç†è§£ä¸ºæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼ˆä¸ä¸€å®šæ˜¯æ•°æ®åº“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Webé¡µé¢ä¸Šï¼Œå¦‚æœæ¯é¡µæ˜¾ç¤º20ä¸ªå­¦ç”Ÿï¼Œé‚£ä¹ˆå…ˆè¦æ‰§è¡Œ select * from student limit 20ï¼Œç„¶åå±•ç¤ºå­¦ç”Ÿåˆ—è¡¨æ—¶ï¼Œå› ä¸ºéœ€è¦ç­çº§åç§°ï¼Œè§¦å‘æ‰©å±•å±æ€§æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥è®¤ä¸ºï¼Œç†è®ºä¸Šè¿™ä¸ªé¡µé¢éœ€è¦æŸ¥è¯¢1+20æ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;æ‰©å±•å±æ€§ä¸ºä»€ä¹ˆä¸å†™æˆ public Class Class =&amp;gt; Class.FindByID(ClassID)Â å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®è™½ç„¶çœ‹èµ·æ¥ç®€å•ï¼Œä½†æ˜¯è¿˜å¾—è€ƒè™‘ä¸€ä¸ªå¯èƒ½ï¼ŒåŒä¸€ä¸ªstudentå¯¹è±¡å¯èƒ½å¤šæ¬¡è®¿é—®student.ClassNameï¼Œè¿™ä¹ˆå†™å²‚ä¸æ˜¯æ¯æ¬¡è®¿é—®éƒ½ä¼šæ‰§è¡ŒClass.FindByIDï¼Ÿ&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒXCodeè®¾è®¡äº†æ‰©å±•é›†åˆExtendsï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæ¯ä¸ªæ‰©å±•å±æ€§éƒ½ç»è¿‡å®ƒèµ°ä¸€é­ï¼Œå¦‚æœæŸ¥è¯¢è¿‡ä¸€æ¬¡å°±ç¼“å­˜èµ·æ¥ï¼Œé¿å…åå¤æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;Extends.Getç¬¬ä¸€ä¸ªå±æ€§æ˜¯æ‰©å±•å±æ€§åï¼Œå†³å®šæ˜¯å¦æœ‰ç¼“å­˜ï¼Œç¬¬äºŒä¸ªæ˜¯æ²¡æœ‰ç¼“å­˜æ—¶è¦æ‰§è¡Œçš„å§”æ‰˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æ‰©å±•å±æ€§ç¼“å­˜ï¼Œé»˜è®¤ç¼“å­˜æ—¶é—´10ç§’ï¼Œè¶³å¤ŸæŠ—ä½çŸ­æœŸå†…æˆåƒä¸Šä¸‡æ¬¡é‡å¤è°ƒç”¨ã€‚&lt;/p&gt;


&lt;p&gt;å°½ç®¡æœ‰Extendsæ‰©å±•å±æ€§ç¼“å­˜æ”¯æŒï¼Œä½†æ¯ä¸ªå¯¹è±¡è¿˜æ˜¯è¦æ‰§è¡Œä¸€æ¬¡Class.FindByIDæŸ¥è¯¢ï¼ŒæŸè€—è¿˜æ˜¯ä¸å°çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨XCodeé‡Œé¢ï¼Œæ ¹æ®ä¸»é”®è€Œè®¾è®¡çš„æŸ¥è¯¢ï¼ˆå¦‚FindByIDï¼‰å¾€å¾€å¸¦æœ‰å¾ˆå¥½çš„ç¼“å­˜ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/19592/201904/19592-20190401222840449-878153953.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šï¼Œè¿™æ˜¯XCodeé»˜è®¤ç”Ÿæˆçš„ä»£ç ï¼Œå½“Classè¡¨æ•°æ®ä¸è¶³1000è¡Œæ—¶ï¼Œèµ°å®ä½“ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼ŒMeta.Cacheæ—¶æ‰§è¡Œä¸€æ¬¡ select * from studentÂ è¿”å›æ‰€æœ‰è¡Œï¼Œå¹¶ç¼“å­˜èµ·æ¥ã€‚åé¢çš„Findå®é™…ä¸Šæ˜¯åœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾ã€‚å®ä½“ç¼“å­˜æœ‰æ•ˆæœŸé»˜è®¤10ç§’ã€‚&lt;/p&gt;
&lt;p&gt;åªæœ‰æ•°æ®è¡¨è¾¾åˆ°1000è¡Œï¼Œæ‰èµ° Find(_.ID==id) æ•°æ®åº“æŸ¥è¯¢ select * from class where id=? ã€‚ç„¶è€ŒXCodeä¸‹å±‚è¿˜æœ‰ä¸€ä¸ªæ•°æ®å±‚ç¼“å­˜ï¼Œç›¸åŒselectæŸ¥è¯¢é»˜è®¤ç¼“å­˜10ç§’&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é‡‡ç”¨å•å¯¹è±¡ç¼“å­˜ï¼Œä¾‹å¦‚è·¨å¢ƒç”µå•†çš„äº§å“ç§ç±»ç‰¹åˆ«å¤šï¼ˆ10ä¸‡+ï¼‰ï¼Œå¯ä»¥é‡‡ç”¨å­—å…¸å¼çš„å•å¯¹è±¡ç¼“å­˜ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤ï¼Œåœ¨å­¦ç”Ÿç±»é‚£è¾¹çœ‹èµ·æ¥è®¿é—®å±æ€§ä¼šè§¦å‘å¤šæ¬¡Class.FindByIDï¼Œæ®Šä¸çŸ¥å®ƒå†…éƒ¨åˆ«æœ‰æ´å¤©ï¼Œä¸‰çº§ç¼“å­˜ï¼ˆå®ä½“ç¼“å­˜ã€å¯¹è±¡ç¼“å­˜ã€æ•°æ®ç¼“å­˜ï¼‰ç­‰ç€ä¼ºå€™ï¼ï¼ˆåç»­ä¸“æ–‡ä»‹ç»ç¼“å­˜ï¼‰&lt;/p&gt;

&lt;p&gt;å›åˆ°å¼€å¤´çš„ä¾‹å­ï¼Œä¸€ä¸ªåˆ—è¡¨é¡µæ˜¾ç¤º20ä¸ªå­¦ç”Ÿï¼Œç†è®ºæŸ¥è¯¢æ¬¡æ•°1+20æ¬¡ï¼Œåœ¨å¤šçº§ç¼“å­˜åŠ æŒçš„æ‰©å±•å±æ€§ä¸‹ï¼Œ99.99%çš„æ—¶å€™åªä¼šæŸ¥è¯¢1æ¬¡ï¼Œè€Œç­çº§è¡¨çš„å…³è”ï¼Œå®Œå…¨åœ¨å†…å­˜ç¼“å­˜ä¸­è¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡ç®€å•çš„å•è¡¨æŸ¥è¯¢ï¼Œæ˜¾ç„¶è¦æ¯”joinç­çº§è¡¨çš„æŸ¥è¯¢è¦å¿«å¾—å¤šï¼&lt;/p&gt;


&lt;p&gt;åœ¨ä¸Šè¿°æ‰©å±•å±æ€§ä¸­ï¼Œæ³¨æ„åˆ°ClassNameå±æ€§ä¸Šæœ‰ä¸€ä¸ªMapç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒè¡¨ç¤ºæ˜ å°„ï¼Œæœ¬å¯¹è±¡çš„ClassIDå­—æ®µï¼Œæ˜ å°„åˆ°Classç±»çš„IDå­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é­”æ–¹åˆ—è¡¨é¡µä¸­ï¼Œæœ¬æ¥æ˜¾ç¤ºå†·å†°å†°ClassIDçš„åœ°æ–¹ï¼Œå°±ä¼šå˜ä¸ºæ˜¾ç¤ºå‹å¥½çš„ClassNameã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/19592/201904/19592-20190401224441197-814418010.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é­”æ–¹è¡¨å•é¡µä¸­ï¼Œæœ¬æ¥æ˜¾ç¤ºæ•°å­—æ¡†ClassIDçš„åœ°æ–¹ï¼Œä¹Ÿä¼šå˜æˆæ˜¾ç¤ºä¸‹æ‹‰åˆ—è¡¨æ¡†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/19592/201904/19592-20190401224520001-1814489048.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸‹æ‹‰åˆ—è¡¨åº“å†…å®¹å¾ˆå¤šï¼Œå¯ä»¥ç²¾ç®€Mapç‰¹æ€§ï¼Œåªè¦ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡æ˜æœ¬åœ°å­—æ®µï¼Œè€Œä¸éœ€è¦ç¬¬äºŒç¬¬ä¸‰å­—æ®µè¡¨ç¤ºçš„ç›®æ ‡å­—æ®µã€‚æ­¤æ—¶åœ¨é­”æ–¹è¡¨å•é¡µä¼šæ˜¾ç¤ºæ•°å­—æ¡†ï¼Œä½†æ˜¯åé¢æ˜¾ç¤ºClassName&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/19592/201904/19592-20190401224601176-1568398835.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ°æ­¤ï¼Œä½ è¿˜è®¤ä¸ºå¤šæ¬¡æŸ¥è¯¢ä¸€å®šæ¯”å•æ¬¡Joinæ…¢å—ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;NewLife.XCodeæ•™ç¨‹ç³»åˆ—[2019ç‰ˆ]&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_curd.html&quot; target=&quot;_blank&quot;&gt;å¢åˆ æ”¹æŸ¥å…¥é—¨&lt;/a&gt;ã€‚å¿«é€Ÿå±•ç°ç”¨æ³•ï¼Œä»£ç é…ç½®è¿æ¥å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_model.html&quot; target=&quot;_blank&quot;&gt;æ•°æ®æ¨¡å‹æ–‡ä»¶&lt;/a&gt;ã€‚å»ºç«‹è¡¨æ ¼å­—æ®µå’Œç´¢å¼•ï¼Œåå­—ä»¥åŠæ•°æ®ç±»å‹è§„èŒƒï¼Œæ¨èå­—æ®µï¼ˆæ—¶é—´ï¼Œç”¨æˆ·ï¼ŒIPï¼‰&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_entity.html&quot; target=&quot;_blank&quot;&gt;å®ä½“ç±»è¯¦è§£&lt;/a&gt;ã€‚æ•°æ®ç±»ä¸šåŠ¡ç±»ï¼Œæ³›å‹åŸºç±»ï¼Œæ¥å£&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_setting.html&quot; target=&quot;_blank&quot;&gt;åŠŸèƒ½è®¾ç½®&lt;/a&gt;ã€‚è¿æ¥å­—ç¬¦ä¸²ï¼Œè°ƒè¯•å¼€å…³ï¼ŒSQLæ—¥å¿—ï¼Œæ…¢æ—¥å¿—ï¼Œå‚æ•°åŒ–ï¼Œæ‰§è¡Œè¶…æ—¶ã€‚ä»£ç ä¸é…ç½®æ–‡ä»¶è®¾ç½®ï¼Œè¿æ¥å­—ç¬¦ä¸²å±€éƒ¨è®¾ç½®&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_negative.html&quot; target=&quot;_blank&quot;&gt;åå‘å·¥ç¨‹&lt;/a&gt;ã€‚è‡ªåŠ¨å»ºç«‹æ•°æ®åº“æ•°æ®è¡¨&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_initdata.html&quot; target=&quot;_blank&quot;&gt;æ•°æ®åˆå§‹åŒ–&lt;/a&gt;ã€‚InitDataå†™å…¥åˆå§‹åŒ–æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_curd_adv.html&quot; target=&quot;_blank&quot;&gt;é«˜çº§å¢åˆ æ”¹&lt;/a&gt;ã€‚é‡è½½æ‹¦æˆªï¼Œè‡ªå¢å­—æ®µï¼ŒValidéªŒè¯ï¼Œå®ä½“æ¨¡å‹ï¼ˆæ—¶é—´ï¼Œç”¨æˆ·ï¼ŒIPï¼‰&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_dirty.html&quot; target=&quot;_blank&quot;&gt;è„æ•°æ®&lt;/a&gt;ã€‚å¦‚ä½•äº§ç”Ÿï¼Œæ€ä¹ˆåˆ©ç”¨&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_additional.html&quot; target=&quot;_blank&quot;&gt;å¢é‡ç´¯åŠ &lt;/a&gt;ã€‚é«˜å¹¶å‘ç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_transaction.html&quot; target=&quot;_blank&quot;&gt;äº‹åŠ¡å¤„ç†&lt;/a&gt;ã€‚å•è¡¨å’Œå¤šè¡¨ï¼Œä¸åŒè¿æ¥ï¼Œå¤šç§å†™æ³•&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_extend.html&quot; target=&quot;_blank&quot;&gt;æ‰©å±•å±æ€§&lt;/a&gt;ã€‚å¤šè¡¨å…³è”ï¼ŒMapæ˜ å°„&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_search.html&quot; target=&quot;_blank&quot;&gt;é«˜çº§æŸ¥è¯¢&lt;/a&gt;ã€‚å¤æ‚æ¡ä»¶ï¼Œåˆ†é¡µï¼Œè‡ªå®šä¹‰æ‰©å±•FieldItemï¼ŒæŸ¥æ€»è®°å½•æ•°ï¼ŒæŸ¥æ±‡æ€»ç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_dbcache.html&quot; target=&quot;_blank&quot;&gt;æ•°æ®å±‚ç¼“å­˜&lt;/a&gt;ã€‚Sqlç¼“å­˜ï¼Œæ›´æ–°æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_entitycache.html&quot; target=&quot;_blank&quot;&gt;å®ä½“ç¼“å­˜&lt;/a&gt;ã€‚å…¨è¡¨æ•´ç†ç¼“å­˜ï¼Œæ›´æ–°æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_singlecache.html&quot; target=&quot;_blank&quot;&gt;å¯¹è±¡ç¼“å­˜&lt;/a&gt;ã€‚å­—å…¸ç¼“å­˜ï¼Œé€‚ç”¨ç”¨æˆ·ç­‰æ•°æ®è¾ƒå¤šåœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_100billion.html&quot; target=&quot;_blank&quot;&gt;ç™¾äº¿çº§æ€§èƒ½&lt;/a&gt;ã€‚å­—æ®µç²¾ç‚¼ï¼Œç´¢å¼•å®Œå¤‡ï¼Œåˆç†æŸ¥è¯¢ï¼Œå……åˆ†åˆ©ç”¨ç¼“å­˜&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_factory.html&quot; target=&quot;_blank&quot;&gt;å®ä½“å·¥å‚&lt;/a&gt;ã€‚å…ƒæ•°æ®ï¼Œé€šç”¨å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_membership.html&quot; target=&quot;_blank&quot;&gt;è§’è‰²æƒé™&lt;/a&gt;ã€‚Membership&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_import_export.html&quot; target=&quot;_blank&quot;&gt;å¯¼å…¥å¯¼å‡º&lt;/a&gt;ã€‚Xmlï¼ŒJsonï¼ŒäºŒè¿›åˆ¶ï¼Œç½‘ç»œæˆ–æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_division.html&quot; target=&quot;_blank&quot;&gt;åˆ†è¡¨åˆ†åº“&lt;/a&gt;ã€‚å¸¸è§æ‹†åˆ†é€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_stat.html&quot; target=&quot;_blank&quot;&gt;é«˜çº§ç»Ÿè®¡&lt;/a&gt;ã€‚èšåˆç»Ÿè®¡ï¼Œåˆ†ç»„ç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_batch.html&quot; target=&quot;_blank&quot;&gt;æ‰¹é‡å†™å…¥&lt;/a&gt;ã€‚æ‰¹é‡æ’å…¥ï¼Œæ‰¹é‡Upsertï¼Œå¼‚æ­¥ä¿å­˜&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_queue.html&quot; target=&quot;_blank&quot;&gt;å®ä½“é˜Ÿåˆ—&lt;/a&gt;ã€‚å†™å…¥çº§ç¼“å­˜ï¼Œæå‡æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_backup.html&quot; target=&quot;_blank&quot;&gt;å¤‡ä»½åŒæ­¥&lt;/a&gt;ã€‚å¤‡ä»½æ•°æ®ï¼Œæ¢å¤æ•°æ®ï¼ŒåŒæ­¥æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_service.html&quot; target=&quot;_blank&quot;&gt;æ•°æ®æœåŠ¡&lt;/a&gt;ã€‚æä¾›RPCæ¥å£æœåŠ¡ï¼Œè¿œç¨‹æ‰§è¡ŒæŸ¥è¯¢ï¼Œä¾‹å¦‚SQLiteç½‘ç»œç‰ˆ&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/nnhy/p/xcode_bigdata.html&quot; target=&quot;_blank&quot;&gt;å¤§æ•°æ®åˆ†æ&lt;/a&gt;ã€‚ETLæŠ½å–ï¼Œè°ƒåº¦è®¡ç®—å¤„ç†ï¼Œç»“æœæŒä¹…åŒ–&lt;/li&gt;
&lt;/ol&gt;
</description>
<pubDate>Mon, 01 Apr 2019 14:47:00 +0000</pubDate>
<dc:creator>å¤§çŸ³å¤´</dc:creator>
<og:description>XCodeä¸æ”¯æŒå¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œå•è¡¨æŸ¥è¯¢åˆ©äºä¼˜åŒ–ä»¥åŠåˆ†è¡¨åˆ†åº“ï¼Œä¸€åˆ‡Joinéƒ½å¯ä»¥å€ŸåŠ©æ‰©å±•å±æ€§å®ç°ï¼Œé…åˆç¼“å­˜ä½¿ç”¨å¯ä»¥è¾¾åˆ°æ›´å¥½çš„æ•ˆæœï¼</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/nnhy/p/xcode_extend.html</dc:identifier>
</item>
<item>
<title>å·¥ç¨‹å®è·µï¼šè®©å˜é‡å‘½ååšåˆ°&quot;è‡ªè§£é‡Š&quot; - Matrixæµ·å­</title>
<link>http://www.cnblogs.com/dolphin0520/p/10639167.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dolphin0520/p/10639167.html</guid>
<description>&lt;p&gt;å·¥ç¨‹å®è·µï¼šè®©å˜é‡å‘½ååšåˆ°&quot;è‡ªè§£é‡Š&quot;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è·Ÿå¤§å®¶åˆ†äº«äº†å…³äºå‡½æ•°å‘½åçš„ä¸€äº›å®è·µå¿ƒå¾—ï¼Œä»Šå¤©æˆ‘ä»¬ç»§ç»­å‘½åè¿™ä¸ªè¯é¢˜ï¼Œæ¥è®²ä¸€è®²å¦‚ä½•å¯¹å˜é‡å‘½åã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä»¥ä¸‹æ˜¯æœ¬æ–‡çš„ç›®å½•å¤§çº²ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸€. å˜é‡å‘½åé£æ ¼&lt;/p&gt;
&lt;p&gt;ã€€ã€€äºŒ. å˜é‡å‘½åæœ€é«˜å¢ƒç•Œ&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‰. å˜é‡å‘½åæœ€ä½³å®è·µ&lt;/p&gt;
&lt;p&gt;ã€€ã€€è‹¥æœ‰ä¸æ­£ä¹‹å¤„è¯·å¤šå¤šè°…è§£ï¼Œå¹¶æ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¯·å°Šé‡ä½œè€…åŠ³åŠ¨æˆæœï¼Œè½¬è½½è¯·æ ‡æ˜åŸæ–‡é“¾æ¥ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â ã€€https://www.cnblogs.com/dolphin0520/p/10639167.html&lt;/p&gt;

&lt;h2&gt;ä¸€.å˜é‡å‘½åé£æ ¼&lt;/h2&gt;
&lt;p&gt;ã€€ã€€å˜é‡å‘½åé£æ ¼é€šå¸¸ä¼šæ ¹æ®ä¸åŒçš„å˜é‡ç±»å‹æ¥åŒºåˆ†ï¼Œä»¥Javaè¯­è¨€ä¸ºä¾‹ï¼Œæ ¹æ®å˜é‡ç±»å‹ä¸åŒæœ‰ä¸¤ç§å‘½åé£æ ¼ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰ç±»æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç±»æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡é€šå¸¸é‡‡ç”¨&lt;strong&gt;é©¼å³°å‘½å&lt;/strong&gt;é£æ ¼ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
String userName;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ï¼‰é™æ€æˆå‘˜å˜é‡ã€æšä¸¾å€¼ã€å¸¸é‡&lt;/p&gt;
&lt;p&gt;ã€€ã€€é™æ€æˆå‘˜å˜é‡ã€æšä¸¾å€¼ã€å¸¸é‡é€šå¸¸é‡‡ç”¨&lt;strong&gt;æ‰€æœ‰å­—æ¯å¤§å†™ã€å¤šä¸ªå•è¯ä»¥è‹±æ–‡ä¸‹åˆ’çº¿è¿æ¥&lt;/strong&gt;ï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;h2&gt;äºŒ.å˜é‡å‘½åæœ€é«˜å¢ƒç•Œ&lt;/h2&gt;
&lt;p&gt;ã€€ã€€åœ¨å‡½æ•°å‘½åé‚£ç¯‡ä¸­æˆ‘ä»¬è¯´çš„å‡½æ•°å‘½åæœ€é«˜å¢ƒç•Œæ˜¯è§å­—å¦‚é¢ï¼Œé‚£ä¹ˆå¯¹äºå˜é‡å‘½åæ¥è¯´ï¼Œæœ€é«˜å¢ƒç•Œæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘è®¤ä¸ºæ˜¯ï¼šè‡ªè§£é‡Šï¼Œå³&quot;ä»£ç å³æ³¨é‡Š&quot;ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå› ä¸ºé€šå¸¸æ¥è¯´ä¸€ä¸ªå‡½æ•°æ˜¯ä¼šæœ‰å‡½æ•°æ³¨é‡Šçš„ï¼Œå³ä½¿å‡½æ•°åå­—å–çš„ä¸å¥½ï¼Œå¦‚æœæ³¨é‡Šå†™çš„æ¯”è¾ƒæ¸…æ¥šï¼Œå¯¹äºåç»­ç»´æŠ¤äººå‘˜æ¥è¯´ä¹Ÿæ˜¯äº†è§£å‡½æ•°å…·ä½“åŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è€Œå˜é‡åˆ™ä¸åŒï¼Œåœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œé¢ï¼Œå˜é‡çš„æ•°é‡è¿œè¿œå¤§äºå‡½æ•°çš„æ•°é‡ï¼Œæ‰€ä»¥ä¸å¤ªå¯èƒ½å¯¹äºæ¯ä¸ªå˜é‡éƒ½å»å†™æ³¨é‡Šï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªå·¥ç¨‹çš„å˜é‡å‘½åå¾ˆç³Ÿç³•ï¼Œé‚£ä¹ˆå¯¹äºåç»­ç»´æŠ¤äººå‘˜æ¥è¯´å°†æ˜¯æ¯ç­æ€§çš„æ‰“å‡»ï¼Œå› ä¸ºæ¯è¯»åˆ°ä¸€ä¸ªå˜é‡ï¼Œå¯èƒ½å°±éœ€è¦å»çŒœæµ‹å˜é‡çš„å«ä¹‰ï¼Œæˆ‘æƒ³æ²¡æœ‰å“ªä¸ªäººæ„¿æ„è¯»åˆ°è¿™æ ·çš„ä»£ç ï¼Œæ°¸è¿œè®°ä½ä¸€ç‚¹ï¼š&quot;ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œä¸æ˜¯å†™ç»™æœºå™¨çœ‹çš„&quot;ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è­¬å¦‚ä¸‹é¢è¿™æ®µä»£ç çš„å‘½åå°±éå¸¸ç³Ÿç³•ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
ppn = (cpn &amp;gt; 1) ? (cpn - 1) : cpn;
npn = (cpn &amp;lt; tpn) ? (cpn + 1) : tpn;
â€‹
p = new Page(ppn, cpn, npn, tpn);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€ä¸Šé¢è¿™æ®µä»£ç ä¼°è®¡åªæœ‰åŸä½œè€…æ¸…æ¥šåœ°çŸ¥é“å„ä¸ªå˜é‡çš„å«ä¹‰æ˜¯å•¥äº†ï¼Œ&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¦‚æœä¿®æ”¹ä¸ºä¸‹é¢è¿™ç§å†™æ³•ï¼Œå¯è¯»æ€§ä¼šå¥½å¾ˆå¤šï¼Œå¹¶ä¸”ä¸€ç›®äº†ç„¶ï¼Œå¾ˆå®¹æ˜“çŸ¥é“å…¶å¤§æ¦‚æ„å›¾æ˜¯è®¡ç®—åˆ†é¡µä¿¡æ¯ï¼š&lt;/p&gt;

&lt;h2&gt;ä¸‰.å˜é‡å‘½åæœ€ä½³å®è·µ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;1ï¼‰é‡‡ç”¨åè¯æˆ–è€…å½¢å®¹è¯æ¥å‘½åå˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å˜é‡ä¸€èˆ¬æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨åè¯ã€åå­—ç»„åˆæˆ–è€…å½¢å®¹è¯ï¼Œå› ä¸ºå˜é‡ä¸€èˆ¬å½¢å®¹çš„æ˜¯ä¸€ç§äº‹ç‰©æˆ–è€…äº‹ç‰©çš„å±æ€§ï¼Œæ‰€ä»¥ç”¨åè¯æˆ–è€…åè¯ç»„åˆæ›´å®¹æ˜“è®©äººç†è§£ï¼Œè€Œå½¢å®¹è¯ä¸€èˆ¬ç”¨äºboolç±»å‹çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ï¼‰é¿å…ä½¿ç”¨å•å­—æ¯å˜é‡ï¼Œå°½é‡ç»†åŒ–å˜é‡å«ä¹‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨ç¨‹åºä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨å•å­—æ¯å˜é‡ï¼Œå”¯ä¸€å¯ä»¥æ¥å—ä½¿ç”¨å•å­—æ¯å˜é‡çš„åœºæ™¯åªæœ‰forå¾ªç¯ï¼Œä¸è¿‡è¿˜æ˜¯ä¸å¤ªæ¨èåœ¨forå¾ªç¯ä¸­ä½¿ç”¨å•å­—æ¯å˜é‡(ç”¨posã€indexæ¯”forå¾ªç¯çš„iã€jã€kè¦å¥½å¾ˆå¤š)ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸‹é¢è¿™è¡Œä»£ç ï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3ï¼‰å˜é‡å‘½åå‰åç”¨è¯éœ€ç»Ÿä¸€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨åŒä¸€ä¸ªå·¥ç¨‹æˆ–è€…ä¸€ä¸ªåœºæ™¯ä¸‹ï¼Œå˜é‡å‘½åé£æ ¼éœ€å‰åç»Ÿä¸€ï¼Œæ¯”å¦‚totalå’Œsuméƒ½èƒ½è¡¨ç¤ºæ€»è®¡çš„æ„æ€ï¼Œé‚£ä¹ˆæ‰€æœ‰éœ€è¦ç”¨åˆ°&quot;æ€»è®¡&quot;å«ä¹‰çš„åœ°æ–¹è¦ä¹ˆå…¨éƒ¨ä½¿ç”¨totalã€è¦ä¹ˆå…¨éƒ¨ä½¿ç”¨sumã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¿æŒå‰åå‘½åé£æ ¼ç»Ÿä¸€æ˜¯ä¿è¯å·¥ç¨‹ä»£ç è‰¯å¥½å¯è¯»æ€§çš„å…³é”®ä¿è¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ï¼‰é›†åˆå˜é‡ç”¨ç±»å‹æˆ–è€…å¤æ•°sä½œä¸ºåç¼€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨javaä¸­ï¼Œæœ‰å¾ˆå¤šé›†åˆï¼Œæ¯”å¦‚Listã€Mapã€Setç­‰ï¼Œé‚£ä¹ˆé›†åˆå˜é‡è¯¥æ€ä¹ˆå‘½åå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸€èˆ¬å¯é‡‡å–ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å¤æ•°sç»“å°¾&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
List&amp;lt;Student&amp;gt; students = new ArrayList&amp;lt;&amp;gt;();
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ã€€ã€€ä¸Šé¢ä¸¤ç§æ–¹å¼å‡å¯ï¼Œæ²¡æœ‰æ¯”è¾ƒæ˜æ˜¾çš„åå¥½ï¼Œæ ¹æ®å®é™…åœºæ™¯å†³å®šã€‚ç¬¬ä¸€ç§æ–¹å¼ç›¸å¯¹æ›´ç®€æ´ï¼Œç¬¬äºŒç§åœ¨å±€éƒ¨ä½œç”¨åŸŸé‡Œé¢æœ‰å¤šç§ç›¸å…³çš„é›†åˆå˜é‡æ—¶åŒºåˆ†åº¦æ›´å¤§ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
List&amp;lt;Student&amp;gt; studentList = new ArrayList&amp;lt;&amp;gt;();
Map&amp;lt;Long, Student&amp;gt; studentMap = Maps.newHashMap();
â€‹
for (Student stu : studentList) {
  studentMap.put(stu.getId, stu);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æˆ‘çš„å»ºè®®æ˜¯å¦‚æœå±€éƒ¨ä½œç”¨åŸŸåªæœ‰ä¸€ç§ç±»å‹çš„é›†åˆï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨å¤æ•°å½¢å¼ï¼›å¦‚æœå±€éƒ¨ä½œç”¨åŸŸæœ‰å¤šä¸ªç›¸å…³çš„é›†åˆç±»å‹ï¼Œé‚£ä¹ˆæ¨èç”¨ç±»å‹ç»“å°¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ï¼‰ç¦æ­¢ä½¿ç”¨isä½œä¸ºboolç±»å‹çš„ç±»æˆå‘˜å˜é‡å‰ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨javaä¸­ï¼Œç¦æ­¢ç”¨isä½œä¸ºboolç±»å‹çš„ç±»æˆå‘˜å˜é‡çš„å‰ç¼€ï¼Œå› ä¸ºisä½œä¸ºå‰ç¼€ä¼šå¯¼è‡´åºåˆ—åŒ–/ååºåˆ—å‡ºç°é—®é¢˜ï¼Œé˜¿é‡Œçš„javaä»£ç è§„èŒƒä¸­ä¹Ÿæ˜ç¡®æåˆ°äº†è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥åœ¨å†™ä»£ç çš„æ—¶å€™æœ€å¥½è¿˜æ˜¯éµå®ˆå…¬è®¤çš„è§„èŒƒï¼Œä¸ç„¶å“ªå¤©è¯´ä¸å®šå°±è¸©å‘äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6ï¼‰å°½é‡é¿å…ä½¿ç”¨ç¼©å†™è¿›è¡Œå‘½å&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æœ‰äº›æ—¶å€™ï¼Œå˜é‡åå¯èƒ½æœ‰ç‚¹é•¿ï¼Œä¸åˆ©äºä»£ç å¯è¯»æ€§ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™åœ¨å†™ä»£ç çš„æ—¶å€™å–œæ¬¢ç”¨ç¼©å†™æ¥å‘½åï¼Œä½†è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªå¥½çš„ä¹ æƒ¯ï¼Œé™¤éä½¿ç”¨çš„ç¼©å†™æ˜¯å¤§å®¶éƒ½ä¼šä½¿ç”¨çš„çº¦å®šä¿—ç§°çš„ç¼©å†™ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ¯”å¦‚ä¸‹é¢è¿™ä¸ªå‘½åï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
int averageStudentAge;  =&amp;gt;  int avgStudentAge;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€å› ä¸ºavgå¤§å®¶éƒ½çŸ¥é“æ˜¯averageçš„ç¼©å†™ï¼Œæ‰€ä»¥è¿™ä¹ˆå†™é—®é¢˜ä¸å¤§ï¼Œä¸ä¼šå¼•èµ·æ­§ä¹‰ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½†æ˜¯ä¸‹é¢è¿™ç§ç¼©å†™å‘½åï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
res
tmp
cnt
dep
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€å°±ä¸æ˜¯å¥½çš„ç¼©å†™å‘½åï¼Œå› ä¸ºä¸åŒçš„äººé˜…è¯»å¯èƒ½ä¼šæœ‰ä¸åŒçš„ç†è§£ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
res =&amp;gt; responseã€resourceã€result
tmp =&amp;gt; temporaryã€template
cnt =&amp;gt; countã€contentã€context
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€é™„ä¸Šä¸€äº›çº¦å®šä¿—ç§°çš„ç¼©å†™ï¼š&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;å…¨ç§°&lt;/td&gt;
&lt;td&gt;ç¼©å†™&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;identification&lt;/td&gt;
&lt;td&gt;id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;average&lt;/td&gt;
&lt;td&gt;avg&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;maximum&lt;/td&gt;
&lt;td&gt;max&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;minimum&lt;/td&gt;
&lt;td&gt;min&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;buffer&lt;/td&gt;
&lt;td&gt;buf&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;err&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;message&lt;/td&gt;
&lt;td&gt;msg&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;image&lt;/td&gt;
&lt;td&gt;img&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;length&lt;/td&gt;
&lt;td&gt;len&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;library&lt;/td&gt;
&lt;td&gt;lib&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;password&lt;/td&gt;
&lt;td&gt;pwd&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;position&lt;/td&gt;
&lt;td&gt;pos&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;data transfer object&lt;/td&gt;
&lt;td&gt;dto&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;view object&lt;/td&gt;
&lt;td&gt;vo&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;7ï¼‰æŠ›å¼ƒæ‰flagå˜é‡&lt;/p&gt;
&lt;p&gt;ã€€ã€€å›½å†…ä¸€äº›æ—©æœŸçš„æ•™æä¸Šï¼Œåˆ°å¤„å……æ–¥ç€å„ç§flagé£æ ¼çš„å˜é‡ï¼Œè¿™ç§å‘½åæ–¹å¼å¯¹äºå¤§å‹å·¥ç¨‹ç®€ç›´å°±æ˜¯å™©æ¢¦ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
int flag = getDoctorFlag(doctorId);
if (flag == 1) {
  //....
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€çœ‹åˆ°è¿™æ®µä»£ç ï¼Œè¯»è€…ä¼šæœ‰ç–‘é—®flagå˜é‡çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿflagå€¼ä¸º1çš„æ—¶å€™åˆä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Ÿæ˜¯åŒ»ç”Ÿçš„å€¼ç­/åœ¨å²—çŠ¶æ€ã€è¿˜æ˜¯åŒ»ç”Ÿçš„èº«ä½“çŠ¶æ€ï¼Ÿä¼°è®¡è¯»è€…çš„å†…å¿ƒæ˜¯å´©æºƒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¦‚æœä¼˜åŒ–æˆä¸‹é¢è¿™ç§å½¢å¼ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
DutyStatus doctorDutyStatus = getDoctorDutyStatus(doctorId);
if (doctorDutyStatus == DutyStatus.ONLINE) {
  // ...
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€å°±æ¯”ä¸Šé¢çš„å½¢å¼æ¸…æ™°å¤šäº†ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºæ¥åˆ¤æ–­çš„æ˜¯åŒ»ç”Ÿçš„å€¼ç­/åœ¨å²—çŠ¶æ€ã€‚&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 14:34:00 +0000</pubDate>
<dc:creator>Matrixæµ·å­</dc:creator>
<og:description>å·¥ç¨‹å®è·µï¼šè®©å˜é‡å‘½ååšåˆ°&quot;è‡ªè§£é‡Š&quot; åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è·Ÿå¤§å®¶åˆ†äº«äº†å…³äºå‡½æ•°å‘½åçš„ä¸€äº›å®è·µå¿ƒå¾—ï¼Œä»Šå¤©æˆ‘ä»¬ç»§ç»­å‘½åè¿™ä¸ªè¯é¢˜ï¼Œæ¥è®²ä¸€è®²å¦‚ä½•å¯¹å˜é‡å‘½åã€‚ ä»¥ä¸‹æ˜¯æœ¬æ–‡çš„ç›®å½•å¤§çº²ï¼š ä¸€. å˜é‡å‘½å</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/dolphin0520/p/10639167.html</dc:identifier>
</item>
<item>
<title>æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹Slice - Stefno</title>
<link>http://www.cnblogs.com/qcrao-2018/p/10631989.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qcrao-2018/p/10631989.html</guid>
<description>&lt;p&gt;Go è¯­è¨€çš„ &lt;code&gt;slice&lt;/code&gt; å¾ˆå¥½ç”¨ï¼Œä¸è¿‡ä¹Ÿæœ‰ä¸€äº›å‘ã€‚&lt;code&gt;slice&lt;/code&gt; æ˜¯ Go è¯­è¨€ä¸€ä¸ªå¾ˆé‡è¦çš„æ•°æ®ç»“æ„ã€‚ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ–‡ç« å†™è¿‡äº†ï¼Œä¼¼ä¹æ²¡å¿…è¦å†å†™ã€‚ä½†æ˜¯æ¯ä¸ªäººçœ‹é—®é¢˜çš„è§†è§’ä¸åŒï¼Œå†™å‡ºæ¥çš„ä¸œè¥¿è‡ªç„¶ä¹Ÿä¸ä¸€æ ·ã€‚æˆ‘è¿™ç¯‡ä¼šä»æ›´åº•å±‚çš„æ±‡ç¼–è¯­è¨€å»è§£è¯»å®ƒã€‚è€Œä¸”åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°ç»å¤§éƒ¨åˆ†æ–‡ç« éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ–‡ç« é‡Œä¼šè®²åˆ°ï¼Œè¿™é‡Œå…ˆä¸å±•å¼€ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å¸Œæœ›æœ¬æ–‡å¯ä»¥ç»ˆç»“è¿™ä¸ªè¯é¢˜ï¼Œä¸‹æ¬¡å†æœ‰äººæƒ³å’Œä½ è®¨è®º &lt;code&gt;slice&lt;/code&gt;ï¼Œç›´æ¥æŠŠè¿™ç¯‡æ–‡ç« çš„é“¾æ¥ä¸¢è¿‡å»å°±è¡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;slice&lt;/code&gt; ç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯&lt;code&gt;åˆ‡ç‰‡&lt;/code&gt;ï¼Œå®ƒå’Œ&lt;code&gt;æ•°ç»„ï¼ˆarrayï¼‰&lt;/code&gt;å¾ˆç±»ä¼¼ï¼Œå¯ä»¥ç”¨ä¸‹æ ‡çš„æ–¹å¼è¿›è¡Œè®¿é—®ï¼Œå¦‚æœè¶Šç•Œï¼Œå°±ä¼šäº§ç”Ÿ panicã€‚ä½†æ˜¯å®ƒæ¯”æ•°ç»„æ›´çµæ´»ï¼Œå¯ä»¥è‡ªåŠ¨åœ°è¿›è¡Œæ‰©å®¹ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£ slice çš„æœ¬è´¨ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯çœ‹å®ƒçš„æºä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;// runtime/slice.go
type slice struct {
    array unsafe.Pointer // å…ƒç´ æŒ‡é’ˆ
    len   int // é•¿åº¦ 
    cap   int // å®¹é‡
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çœ‹åˆ°äº†å—ï¼Œ&lt;code&gt;slice&lt;/code&gt; å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼š&lt;br/&gt;&lt;code&gt;æŒ‡é’ˆ&lt;/code&gt;ï¼ŒæŒ‡å‘åº•å±‚æ•°ç»„ï¼›&lt;br/&gt;&lt;code&gt;é•¿åº¦&lt;/code&gt;ï¼Œè¡¨ç¤ºåˆ‡ç‰‡å¯ç”¨å…ƒç´ çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨ä¸‹æ ‡å¯¹ slice çš„å…ƒç´ è¿›è¡Œè®¿é—®æ—¶ï¼Œä¸‹æ ‡ä¸èƒ½è¶…è¿‡ slice çš„é•¿åº¦ï¼›&lt;br/&gt;&lt;code&gt;å®¹é‡&lt;/code&gt;ï¼Œåº•å±‚æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ï¼Œå®¹é‡ &amp;gt;= é•¿åº¦ã€‚åœ¨åº•å±‚æ•°ç»„ä¸è¿›è¡Œæ‰©å®¹çš„æƒ…å†µä¸‹ï¼Œå®¹é‡ä¹Ÿæ˜¯ slice å¯ä»¥æ‰©å¼ çš„æœ€å¤§é™åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/55270142-876c2000-52d6-11e9-99e5-2e921fc2d430.png&quot; alt=&quot;åˆ‡ç‰‡æ•°æ®ç»“æ„&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œåº•å±‚æ•°ç»„æ˜¯å¯ä»¥è¢«å¤šä¸ª slice åŒæ—¶æŒ‡å‘çš„ï¼Œå› æ­¤å¯¹ä¸€ä¸ª slice çš„å…ƒç´ è¿›è¡Œæ“ä½œæ˜¯æœ‰å¯èƒ½å½±å“åˆ°å…¶ä»– slice çš„ã€‚&lt;/p&gt;

&lt;p&gt;åˆ›å»º slice çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;7&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;ç›´æ¥å£°æ˜&lt;/td&gt;
&lt;td&gt;&lt;code&gt;var slice []int&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;new&lt;/td&gt;
&lt;td&gt;&lt;code&gt;slice := *new([]int)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;6&quot;&gt;&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;å­—é¢é‡&lt;/td&gt;
&lt;td&gt;&lt;code&gt;slice := []int{1,2,3,4,5}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;make&lt;/td&gt;
&lt;td&gt;&lt;code&gt;slice := make([]int, 5, 10)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;ä»åˆ‡ç‰‡æˆ–æ•°ç»„â€œæˆªå–â€&lt;/td&gt;
&lt;td&gt;&lt;code&gt;slice := array[1:5]&lt;/code&gt; æˆ– &lt;code&gt;slice := sourceSlice[1:5]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2 id=&quot;ç›´æ¥å£°æ˜&quot;&gt;ç›´æ¥å£°æ˜&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€ç§åˆ›å»ºå‡ºæ¥çš„ slice å…¶å®æ˜¯ä¸€ä¸ª &lt;code&gt;nil slice&lt;/code&gt;ã€‚å®ƒçš„é•¿åº¦å’Œå®¹é‡éƒ½ä¸º0ã€‚å’Œ&lt;code&gt;nil&lt;/code&gt;æ¯”è¾ƒçš„ç»“æœä¸º&lt;code&gt;true&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ¯”è¾ƒæ··æ·†çš„æ˜¯&lt;code&gt;empty slice&lt;/code&gt;ï¼Œå®ƒçš„é•¿åº¦å’Œå®¹é‡ä¹Ÿéƒ½ä¸º0ï¼Œä½†æ˜¯æ‰€æœ‰çš„ç©ºåˆ‡ç‰‡çš„æ•°æ®æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€ &lt;code&gt;0xc42003bda0&lt;/code&gt;ã€‚ç©ºåˆ‡ç‰‡å’Œ &lt;code&gt;nil&lt;/code&gt; æ¯”è¾ƒçš„ç»“æœä¸º&lt;code&gt;false&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¬çš„å†…éƒ¨ç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54864985-ac720780-4d99-11e9-8386-68ef68880c8d.png&quot; alt=&quot;nil slice ä¸ empty slice&quot;/&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;æ–¹å¼ä¸€&lt;/td&gt;
&lt;td&gt;var s1 []int&lt;/td&gt;
&lt;td&gt;var s2 = []int{}&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;æ–¹å¼äºŒ&lt;/td&gt;
&lt;td&gt;var s4 = *new([]int)&lt;/td&gt;
&lt;td&gt;var s3 = make([]int, 0)&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;é•¿åº¦&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;å®¹é‡&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;å’Œ &lt;code&gt;nil&lt;/code&gt; æ¯”è¾ƒ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;code&gt;nil&lt;/code&gt; åˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡å¾ˆç›¸ä¼¼ï¼Œé•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0ï¼Œå®˜æ–¹å»ºè®®å°½é‡ä½¿ç”¨ &lt;code&gt;nil&lt;/code&gt; åˆ‡ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº&lt;code&gt;nil slice&lt;/code&gt;å’Œ&lt;code&gt;empty slice&lt;/code&gt;çš„æ¢ç´¢å¯ä»¥å‚è€ƒå…¬ä¼—å·â€œç æ´â€ä½œè€…è€é’±å†™çš„ä¸€ç¯‡æ–‡ç« ã€Šæ·±åº¦è§£æ Go è¯­è¨€ä¸­ã€Œåˆ‡ç‰‡ã€çš„ä¸‰ç§ç‰¹æ®ŠçŠ¶æ€ã€‹ï¼Œåœ°å€é™„åœ¨äº†å‚è€ƒèµ„æ–™éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å­—é¢é‡&quot;&gt;å­—é¢é‡&lt;/h2&gt;
&lt;p&gt;æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ç”¨&lt;code&gt;åˆå§‹åŒ–è¡¨è¾¾å¼&lt;/code&gt;åˆ›å»ºã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
    s1 := []int{0, 1, 2, 3, 8: 100}
    fmt.Println(s1, len(s1), cap(s1))
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;[0 1 2 3 0 0 0 0 100] 9 9&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å”¯ä¸€å€¼å¾—æ³¨æ„çš„æ˜¯ä¸Šé¢çš„ä»£ç ä¾‹å­ä¸­ä½¿ç”¨äº†ç´¢å¼•å·ï¼Œç›´æ¥èµ‹å€¼ï¼Œè¿™æ ·ï¼Œå…¶ä»–æœªæ³¨æ˜çš„å…ƒç´ åˆ™é»˜è®¤ &lt;code&gt;0 å€¼&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;make&quot;&gt;make&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;make&lt;/code&gt;å‡½æ•°éœ€è¦ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šåˆ‡ç‰‡ç±»å‹ï¼Œé•¿åº¦ï¼Œå®¹é‡ã€‚å½“ç„¶ï¼Œå®¹é‡å¯ä»¥ä¸ä¼ ï¼Œé»˜è®¤å’Œé•¿åº¦ç›¸ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« &lt;a href=&quot;https://www.cnblogs.com/qcrao-2018/p/10562216.html&quot;&gt;ã€Šèµ°è¿›Goçš„åº•å±‚ã€‹&lt;/a&gt;ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†æ±‡ç¼–è¿™ä¸ªå·¥å…·ï¼Œè¿™æ¬¡æˆ‘ä»¬å†æ¬¡è¯·å‡ºæ±‡ç¼–æ¥æ›´æ·±å…¥åœ°çœ‹çœ‹&lt;code&gt;slice&lt;/code&gt;ã€‚å¦‚æœæ²¡çœ‹è¿‡ä¸Šç¯‡æ–‡ç« ï¼Œå»ºè®®å…ˆå›å»çœ‹å®Œï¼Œå†ç»§ç»­é˜…è¯»æœ¬æ–‡æ•ˆæœæ›´ä½³ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ¥ä¸€å°æ®µç©å…·ä»£ç ï¼Œä½¿ç”¨ &lt;code&gt;make&lt;/code&gt; å…³é”®å­—åˆ›å»º &lt;code&gt;slice&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
    slice := make([]int, 5, 10) // é•¿åº¦ä¸º5ï¼Œå®¹é‡ä¸º10
    slice[2] = 2 // ç´¢å¼•ä¸º2çš„å…ƒç´ èµ‹å€¼ä¸º2
    fmt.Println(slice)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¾—åˆ° Go æ±‡ç¼–ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;go tool compile -S main.go&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬åªå…³æ³¨mainå‡½æ•°ï¼š&lt;/p&gt;
&lt;pre class=&quot;asm&quot;&gt;
&lt;code&gt;0x0000 00000 (main.go:5)TEXT    &quot;&quot;.main(SB), $96-0
0x0000 00000 (main.go:5)MOVQ    (TLS), CX
0x0009 00009 (main.go:5)CMPQ    SP, 16(CX)
0x000d 00013 (main.go:5)JLS     228
0x0013 00019 (main.go:5)SUBQ    $96, SP
0x0017 00023 (main.go:5)MOVQ    BP, 88(SP)
0x001c 00028 (main.go:5)LEAQ    88(SP), BP
0x0021 00033 (main.go:5)FUNCDATA    $0, gclocalsÂ·69c1753bd5f81501d95132d08af04464(SB)
0x0021 00033 (main.go:5)FUNCDATA    $1, gclocalsÂ·57cc5e9a024203768cbab1c731570886(SB)
0x0021 00033 (main.go:5)LEAQ    type.int(SB), AX
0x0028 00040 (main.go:6)MOVQ    AX, (SP)
0x002c 00044 (main.go:6)MOVQ    $5, 8(SP)
0x0035 00053 (main.go:6)MOVQ    $10, 16(SP)
0x003e 00062 (main.go:6)PCDATA  $0, $0
0x003e 00062 (main.go:6)CALL    runtime.makeslice(SB)
0x0043 00067 (main.go:6)MOVQ    24(SP), AX
0x0048 00072 (main.go:6)MOVQ    32(SP), CX
0x004d 00077 (main.go:6)MOVQ    40(SP), DX
0x0052 00082 (main.go:7)CMPQ    CX, $2
0x0056 00086 (main.go:7)JLS     221
0x005c 00092 (main.go:7)MOVQ    $2, 16(AX)
0x0064 00100 (main.go:8)MOVQ    AX, &quot;&quot;..autotmp_2+64(SP)
0x0069 00105 (main.go:8)MOVQ    CX, &quot;&quot;..autotmp_2+72(SP)
0x006e 00110 (main.go:8)MOVQ    DX, &quot;&quot;..autotmp_2+80(SP)
0x0073 00115 (main.go:8)MOVQ    $0, &quot;&quot;..autotmp_1+48(SP)
0x007c 00124 (main.go:8)MOVQ    $0, &quot;&quot;..autotmp_1+56(SP)
0x0085 00133 (main.go:8)LEAQ    type.[]int(SB), AX
0x008c 00140 (main.go:8)MOVQ    AX, (SP)
0x0090 00144 (main.go:8)LEAQ    &quot;&quot;..autotmp_2+64(SP), AX
0x0095 00149 (main.go:8)MOVQ    AX, 8(SP)
0x009a 00154 (main.go:8)PCDATA  $0, $1
0x009a 00154 (main.go:8)CALL    runtime.convT2Eslice(SB)
0x009f 00159 (main.go:8)MOVQ    16(SP), AX
0x00a4 00164 (main.go:8)MOVQ    24(SP), CX
0x00a9 00169 (main.go:8)MOVQ    AX, &quot;&quot;..autotmp_1+48(SP)
0x00ae 00174 (main.go:8)MOVQ    CX, &quot;&quot;..autotmp_1+56(SP)
0x00b3 00179 (main.go:8)LEAQ    &quot;&quot;..autotmp_1+48(SP), AX
0x00b8 00184 (main.go:8)MOVQ    AX, (SP)
0x00bc 00188 (main.go:8)MOVQ    $1, 8(SP)
0x00c5 00197 (main.go:8)MOVQ    $1, 16(SP)
0x00ce 00206 (main.go:8)PCDATA  $0, $1
0x00ce 00206 (main.go:8)CALL    fmt.Println(SB)
0x00d3 00211 (main.go:9)MOVQ    88(SP), BP
0x00d8 00216 (main.go:9)ADDQ    $96, SP
0x00dc 00220 (main.go:9)RET
0x00dd 00221 (main.go:7)PCDATA  $0, $0
0x00dd 00221 (main.go:7)CALL    runtime.panicindex(SB)
0x00e2 00226 (main.go:7)UNDEF
0x00e4 00228 (main.go:7)NOP
0x00e4 00228 (main.go:5)PCDATA  $0, $-1
0x00e4 00228 (main.go:5)CALL    runtime.morestack_noctxt(SB)
0x00e9 00233 (main.go:5)JMP     0&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…ˆè¯´æ˜ä¸€ä¸‹ï¼ŒGo è¯­è¨€æ±‡ç¼– &lt;code&gt;FUNCDATA&lt;/code&gt; å’Œ &lt;code&gt;PCDATA&lt;/code&gt; æ˜¯ç¼–è¯‘å™¨äº§ç”Ÿçš„ï¼Œç”¨äºä¿å­˜ä¸€äº›å’Œåƒåœ¾æ”¶é›†ç›¸å…³çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å…ˆä¸ç”¨ careã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šæ±‡ç¼–ä»£ç è¡Œæ•°æ¯”è¾ƒå¤šï¼Œæ²¡å…³ç³»ï¼Œå› ä¸ºå‘½ä»¤éƒ½æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”æˆ‘ä»¬çš„ Go æºç ä¹Ÿè¶³å¤Ÿç®€å•ï¼Œæ²¡æœ‰ç†ç”±çœ‹ä¸æ˜ç™½ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä»ä¸Šåˆ°ä¸‹æ‰«ä¸€çœ¼ï¼Œçœ‹åˆ°å‡ ä¸ªå…³é”®å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;CALL    runtime.makeslice(SB)
CALL    runtime.convT2Eslice(SB)
CALL    fmt.Println(SB)
CALL    runtime.morestack_noctxt(SB)&lt;/code&gt;
&lt;/pre&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;åˆ›å»ºslice&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;ç±»å‹è½¬æ¢&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;æ‰“å°å‡½æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;æ ˆç©ºé—´æ‰©å®¹&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;code&gt;1&lt;/code&gt;æ˜¯åˆ›å»º slice ç›¸å…³çš„ï¼›&lt;code&gt;2&lt;/code&gt;æ˜¯ç±»å‹è½¬æ¢ï¼›è°ƒç”¨ &lt;code&gt;fmt.Println&lt;/code&gt;éœ€è¦å°† slice ä½œä¸€ä¸ªè½¬æ¢ï¼› &lt;code&gt;3&lt;/code&gt;æ˜¯æ‰“å°è¯­å¥ï¼›&lt;code&gt;4&lt;/code&gt;æ˜¯æ ˆç©ºé—´æ‰©å®¹å‡½æ•°ï¼Œåœ¨å‡½æ•°å¼€å§‹å¤„ï¼Œä¼šæ£€æŸ¥å½“å‰æ ˆç©ºé—´æ˜¯å¦è¶³å¤Ÿï¼Œä¸å¤Ÿçš„è¯éœ€è¦è°ƒç”¨å®ƒæ¥è¿›è¡Œæ‰©å®¹ã€‚æš‚æ—¶å¯ä»¥å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒç”¨äº†å‡½æ•°å°±ä¼šæ¶‰åŠåˆ°å‚æ•°ä¼ é€’ï¼ŒGo çš„å‚æ•°ä¼ é€’éƒ½æ˜¯é€šè¿‡ æ ˆç©ºé—´å®Œæˆçš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯¦ç»†åˆ†æè¿™æ•´ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;11&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;main&lt;/code&gt;å‡½æ•°å®šä¹‰ï¼Œæ ˆå¸§å¤§å°ä¸º &lt;code&gt;96B&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;3&quot;&gt;&lt;td&gt;2-4&lt;/td&gt;
&lt;td&gt;åˆ¤æ–­æ ˆæ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œå¦‚æœéœ€è¦åˆ™è·³åˆ° &lt;code&gt;228&lt;/code&gt;ï¼Œè¿™é‡Œä¼šè°ƒç”¨ &lt;code&gt;runtime.morestack_noctxt(SB)&lt;/code&gt; è¿›è¡Œæ ˆæ‰©å®¹æ“ä½œã€‚å…·ä½“ç»†èŠ‚åç»­è¿˜ä¼šæœ‰æ–‡ç« æ¥è®²&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;5-9&lt;/td&gt;
&lt;td&gt;å°† &lt;code&gt;caller BP&lt;/code&gt; å‹æ ˆï¼Œå…·ä½“ç»†èŠ‚åé¢ä¼šè®²åˆ°&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;10-15&lt;/td&gt;
&lt;td&gt;è°ƒç”¨ &lt;code&gt;runtime.makeslice(SB)&lt;/code&gt; å‡½æ•°åŠå‡†å¤‡å·¥ä½œã€‚*_typeè¡¨ç¤ºçš„æ˜¯ &lt;code&gt;int&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;slice&lt;/code&gt; å…ƒç´ çš„ç±»å‹ã€‚è¿™é‡Œå¯¹åº”çš„æºç æ˜¯ç¬¬6è¡Œï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨ &lt;code&gt;make&lt;/code&gt; åˆ›å»º &lt;code&gt;slice&lt;/code&gt; çš„é‚£ä¸€è¡Œã€‚&lt;code&gt;5&lt;/code&gt; å’Œ &lt;code&gt;10&lt;/code&gt; åˆ†åˆ«ä»£è¡¨é•¿åº¦å’Œå®¹é‡ï¼Œå‡½æ•°å‚æ•°ä¼šåœ¨æ ˆé¡¶å‡†å¤‡å¥½ï¼Œä¹‹åæ‰§è¡Œå‡½æ•°è°ƒç”¨å‘½ä»¤ &lt;code&gt;CALL&lt;/code&gt;ï¼Œè¿›å…¥åˆ°è¢«è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ï¼Œå°±ä¼šæŒ‰é¡ºåºä» &lt;code&gt;caller&lt;/code&gt; çš„æ ˆé¡¶å–å‡½æ•°å‚æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;16-18&lt;/td&gt;
&lt;td&gt;æ¥æ”¶ &lt;code&gt;makeslice&lt;/code&gt;çš„è¿”å›å€¼ï¼Œé€šè¿‡ &lt;code&gt;move&lt;/code&gt; ç§»åŠ¨åˆ°å¯„å­˜å™¨ä¸­&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;19-21&lt;/td&gt;
&lt;td&gt;ç»™æ•°ç»„ç´¢å¼•å€¼ä¸º &lt;code&gt;2&lt;/code&gt; çš„å…ƒç´ èµ‹ä¸Šå€¼ &lt;code&gt;2&lt;/code&gt;ï¼Œå› ä¸ºæ˜¯ &lt;code&gt;int&lt;/code&gt; å‹çš„ &lt;code&gt;slice&lt;/code&gt;ï¼Œå…ƒç´ å¤§å°ä¸º8å­—èŠ‚ï¼Œæ‰€ä»¥ &lt;code&gt;MOVQ $2, 16(AX)&lt;/code&gt; æ­¤å‘½ä»¤å°±æ˜¯å°† &lt;code&gt;2&lt;/code&gt; æ¬åˆ°ç´¢å¼•ä¸º &lt;code&gt;2&lt;/code&gt; çš„ä½ç½®ã€‚è¿™é‡Œè¿˜ä¼šå¯¹ç´¢å¼•å€¼çš„å¤§å°è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœè¶Šç•Œï¼Œåˆ™ä¼šè·³è½¬åˆ° &lt;code&gt;221&lt;/code&gt;ï¼Œæ‰§è¡Œ &lt;code&gt;panic&lt;/code&gt; å‡½æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;22-26&lt;/td&gt;
&lt;td&gt;åˆ†åˆ«é€šè¿‡å¯„å­˜å™¨ &lt;code&gt;AXï¼ŒCXï¼ŒDX&lt;/code&gt; å°† &lt;code&gt;makeslice&lt;/code&gt; çš„è¿”å›å€¼ &lt;code&gt;move&lt;/code&gt; åˆ°å†…å­˜çš„å…¶ä»–ä½ç½®ï¼Œä¹Ÿç§°ä¸ºå±€éƒ¨å˜é‡ï¼Œè¿™æ ·å°±æ„é€ å‡ºäº† &lt;code&gt;slice&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54982728-5fcf3c00-4fe6-11e9-819b-9c5b45cc93bf.png&quot; alt=&quot;makeslice æ ˆå¸§&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å·¦è¾¹æ˜¯æ ˆä¸Šçš„æ•°æ®ï¼Œå³è¾¹æ˜¯å †ä¸Šçš„æ•°æ®ã€‚&lt;code&gt;array&lt;/code&gt; æŒ‡å‘ &lt;code&gt;slice&lt;/code&gt; çš„åº•å±‚æ•°æ®ï¼Œè¢«åˆ†é…åˆ°å †ä¸Šäº†ã€‚æ³¨æ„ï¼Œæ ˆä¸Šçš„åœ°å€æ˜¯ä»é«˜å‘ä½å¢é•¿ï¼›å †åˆ™ä»ä½å‘é«˜å¢é•¿ã€‚æ ˆå·¦è¾¹çš„æ•°å­—è¡¨ç¤ºå¯¹åº”çš„æ±‡ç¼–ä»£ç çš„è¡Œæ•°ï¼Œæ ˆå³è¾¹ç®­å¤´åˆ™è¡¨ç¤ºæ ˆåœ°å€ã€‚ï¼ˆ48ï¼‰SPã€ï¼ˆ56ï¼‰SP è¡¨ç¤ºçš„å†…å®¹æ¥ç€å¾€ä¸‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œåœ¨å›¾ä¸­ï¼Œæ ˆåœ°å€æ˜¯ä»ä¸‹å¾€ä¸Šå¢é•¿ï¼Œæ‰€ä»¥ SP è¡¨ç¤ºçš„æ˜¯å›¾ä¸­ &lt;code&gt;*_type&lt;/code&gt; æ‰€åœ¨çš„ä½ç½®ï¼Œå…¶å®ƒçš„ä¾æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;27-32&lt;/td&gt;
&lt;td&gt;å‡†å¤‡è°ƒç”¨ &lt;code&gt;runtime.convT2Eslice(SB)&lt;/code&gt;çš„å‡½æ•°å‚æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;33-36&lt;/td&gt;
&lt;td&gt;æ¥æ”¶è¿”å›å€¼ï¼Œé€šè¿‡AXï¼ŒCXå¯„å­˜å™¨ &lt;code&gt;move&lt;/code&gt; åˆ°(48)SPã€ï¼ˆ56ï¼‰SP&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;code&gt;convT2Eslice&lt;/code&gt; çš„å‡½æ•°å£°æ˜å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;func convT2Eslice(t *_type, elem unsafe.Pointer) (e eface) &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡é’ˆ &lt;code&gt;*_type&lt;/code&gt;ï¼Œ&lt;code&gt;_type&lt;/code&gt;æ˜¯ä¸€ä¸ªè¡¨ç¤ºç±»å‹çš„ç»“æ„ä½“ï¼Œè¿™é‡Œä¼ å…¥çš„å°±æ˜¯ &lt;code&gt;slice&lt;/code&gt;çš„ç±»å‹ &lt;code&gt;[]int&lt;/code&gt;ï¼›ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯å…ƒç´ çš„æŒ‡é’ˆï¼Œè¿™é‡Œä¼ å…¥çš„å°±æ˜¯ &lt;code&gt;slice&lt;/code&gt; åº•å±‚æ•°ç»„çš„é¦–åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›å€¼ &lt;code&gt;eface&lt;/code&gt; çš„ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;type eface struct {
    _type *_type
    data  unsafe.Pointer
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬ä¼šè°ƒç”¨ &lt;code&gt;fmt.Println(slice)&lt;/code&gt;ï¼Œçœ‹ä¸‹å‡½æ•°åŸå‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;func Println(a ...interface{}) (n int, err error)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Println&lt;/code&gt; æ¥æ”¶ interface ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°† &lt;code&gt;slice&lt;/code&gt; è½¬æ¢æˆ interface ç±»å‹ã€‚ç”±äº &lt;code&gt;slice&lt;/code&gt; æ²¡æœ‰æ–¹æ³•ï¼Œæ˜¯ä¸ªâ€œ&lt;code&gt;ç©º interface&lt;/code&gt;â€ã€‚å› æ­¤ä¼šè°ƒç”¨ &lt;code&gt;convT2Eslice&lt;/code&gt; å®Œæˆè¿™ä¸€è½¬æ¢è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;convT2Eslice&lt;/code&gt; å‡½æ•°è¿”å›çš„æ˜¯ç±»å‹æŒ‡é’ˆå’Œæ•°æ®åœ°å€ã€‚æºç å°±ä¸è´´äº†ï¼Œå¤§ä½“æµç¨‹æ˜¯ï¼šè°ƒç”¨ &lt;code&gt;mallocgc&lt;/code&gt; åˆ†é…ä¸€å—å†…å­˜ï¼ŒæŠŠæ•°æ® &lt;code&gt;copy&lt;/code&gt; è¿›åˆ°æ–°çš„å†…å­˜ï¼Œç„¶åè¿”å›è¿™å—å†…å­˜çš„åœ°å€ï¼Œ&lt;code&gt;*_type&lt;/code&gt; åˆ™ç›´æ¥è¿”å›ä¼ å…¥çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/55271648-2d298a00-52eb-11e9-9dd0-e1bcc1fe33d0.png&quot; alt=&quot;convT2Eslice æ ˆå¸§&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;32(SP)&lt;/code&gt; å’Œ &lt;code&gt;40(SP)&lt;/code&gt; å…¶å®æ˜¯ &lt;code&gt;makeslice&lt;/code&gt; å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™é‡Œå¯ä»¥å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜å‰© &lt;code&gt;fmt.Println(slice)&lt;/code&gt; æœ€åä¸€ä¸ªå‡½æ•°è°ƒç”¨äº†ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;1.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;37-40&lt;/td&gt;
&lt;td&gt;å‡†å¤‡ &lt;code&gt;Println&lt;/code&gt; å‡½æ•°å‚æ•°ã€‚å…±3ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç±»å‹åœ°å€ï¼Œè¿˜æœ‰ä¸¤ä¸ª &lt;code&gt;1&lt;/code&gt;ï¼Œè¿™å—æš‚æ—¶è¿˜ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦ä¼ ï¼Œæœ‰äº†è§£çš„åŒå­¦å¯ä»¥åœ¨æ–‡ç« åé¢ç•™è¨€&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æ‰€ä»¥è°ƒç”¨ &lt;code&gt;fmt.Println(slice)&lt;/code&gt; æ—¶ï¼Œå®é™…æ˜¯ä¼ å…¥äº†ä¸€ä¸ª &lt;code&gt;sliceç±»å‹çš„efaceåœ°å€&lt;/code&gt;ã€‚è¿™æ ·ï¼Œ&lt;code&gt;Println&lt;/code&gt;å°±å¯ä»¥è®¿é—®ç±»å‹ä¸­çš„æ•°æ®ï¼Œæœ€ç»ˆç»™â€œæ‰“å°â€å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/55271702-1f283900-52ec-11e9-9d3f-d8eb754ef23c.png&quot; alt=&quot;fmt.Println æ ˆå¸§&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬çœ‹ä¸‹ &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ ˆå¸§çš„å¼€å§‹å’Œæ”¶å°¾éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;pre class=&quot;asm&quot;&gt;
&lt;code&gt;0x0013 00019 (main.go:5)SUBQ    $96, SP
0x0017 00023 (main.go:5)MOVQ    BP, 88(SP)
0x001c 00028 (main.go:5)LEAQ    88(SP), BP
â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦
0x00d3 00211 (main.go:9)MOVQ    88(SP), BP
0x00d8 00216 (main.go:9)ADDQ    $96, SP
RET&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;BP&lt;/code&gt;å¯ä»¥ç†è§£ä¸ºä¿å­˜äº†å½“å‰å‡½æ•°æ ˆå¸§æ ˆåº•çš„åœ°å€ï¼Œ&lt;code&gt;SP&lt;/code&gt;åˆ™ä¿å­˜æ ˆé¡¶çš„åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;åˆå§‹ï¼Œ&lt;code&gt;BP&lt;/code&gt; å’Œ &lt;code&gt;SP&lt;/code&gt; åˆ†åˆ«æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;main&lt;/code&gt; å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå…ˆæ ¹æ® &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ ˆå¸§å¤§å°ç¡®å®š &lt;code&gt;SP&lt;/code&gt; çš„æ–°æŒ‡å‘ï¼Œä½¿å¾— &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ ˆå¸§å¤§å°è¾¾åˆ° &lt;code&gt;96B&lt;/code&gt;ã€‚ä¹‹åæŠŠè€çš„ &lt;code&gt;BP&lt;/code&gt; ä¿å­˜åˆ° &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ ˆå¸§çš„åº•éƒ¨ï¼Œå¹¶ä½¿ &lt;code&gt;BP&lt;/code&gt; å¯„å­˜å™¨é‡æ–°æŒ‡å‘æ–°çš„æ ˆåº•ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ ˆå¸§çš„æ ˆåº•ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå½“ &lt;code&gt;main&lt;/code&gt; å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼ŒæŠŠå®ƒæ ˆåº•çš„ &lt;code&gt;BP&lt;/code&gt; ç»™å›å¼¹å›åˆ° &lt;code&gt;BP&lt;/code&gt; å¯„å­˜å™¨ï¼Œæ¢å¤è°ƒç”¨å‰çš„åˆå§‹çŠ¶æ€ã€‚ä¸€åˆ‡éƒ½åƒæ˜¯æ²¡æœ‰å‘ç”Ÿä¸€æ ·ï¼Œå®Œç¾çš„ç°åœºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54874022-24821100-4e1e-11e9-805b-408c29b3c1c4.png&quot; alt=&quot;æ ˆå¸§å˜åŒ–&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™éƒ¨åˆ†ï¼Œåˆè¯¦ç»†åœ°åˆ†æäº†ä¸€éå‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹ã€‚ä¸€æ–¹é¢ï¼Œè®©å¤§å®¶å¤ä¹ ä¸€ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« è®²çš„å†…å®¹ï¼›å¦ä¸€æ–¹é¢ï¼Œå‘å¤§å®¶å±•ç¤ºå¦‚ä½•æ‰¾åˆ° Go ä¸­çš„ä¸€ä¸ªå‡½æ•°èƒŒåçœŸå®è°ƒç”¨äº†å“ªäº›å‡½æ•°ã€‚åƒä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°±çœ‹åˆ°äº† &lt;code&gt;make&lt;/code&gt; å‡½æ•°èƒŒåï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† &lt;code&gt;makeslice&lt;/code&gt; å‡½æ•°ï¼›è¿˜æœ‰ä¸€ç‚¹ï¼Œè®©å¤§å®¶å¯¹æ±‡ç¼–ä¸é‚£ä¹ˆâ€œæƒ§æ€•â€ï¼Œå¯ä»¥è½»æ¾åœ°åˆ†æä¸€äº›ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æˆªå–&quot;&gt;æˆªå–&lt;/h2&gt;
&lt;p&gt;æˆªå–ä¹Ÿæ˜¯æ¯”è¾ƒå¸¸è§çš„ä¸€ç§åˆ›å»º slice çš„æ–¹æ³•ï¼Œå¯ä»¥ä»æ•°ç»„æˆ–è€… slice ç›´æ¥æˆªå–ï¼Œå½“ç„¶éœ€è¦æŒ‡å®šèµ·æ­¢ç´¢å¼•ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºå·²æœ‰ slice åˆ›å»ºæ–° slice å¯¹è±¡ï¼Œè¢«ç§°ä¸º &lt;code&gt;reslice&lt;/code&gt;ã€‚æ–° slice å’Œè€ slice å…±ç”¨åº•å±‚æ•°ç»„ï¼Œæ–°è€ slice å¯¹åº•å±‚æ•°ç»„çš„æ›´æ”¹éƒ½ä¼šå½±å“åˆ°å½¼æ­¤ã€‚åŸºäºæ•°ç»„åˆ›å»ºçš„æ–° slice å¯¹è±¡ä¹Ÿæ˜¯åŒæ ·çš„æ•ˆæœï¼šå¯¹æ•°ç»„æˆ– slice å…ƒç´ ä½œçš„æ›´æ”¹éƒ½ä¼šå½±å“åˆ°å½¼æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ–°è€ slice æˆ–è€…æ–° slice è€æ•°ç»„äº’ç›¸å½±å“çš„å‰ææ˜¯ä¸¤è€…å…±ç”¨åº•å±‚æ•°ç»„ï¼Œå¦‚æœå› ä¸ºæ‰§è¡Œ &lt;code&gt;append&lt;/code&gt; æ“ä½œä½¿å¾—æ–° slice åº•å±‚æ•°ç»„æ‰©å®¹ï¼Œç§»åŠ¨åˆ°äº†æ–°çš„ä½ç½®ï¼Œä¸¤è€…å°±ä¸ä¼šç›¸äº’å½±å“äº†ã€‚æ‰€ä»¥ï¼Œ&lt;code&gt;é—®é¢˜çš„å…³é”®åœ¨äºä¸¤è€…æ˜¯å¦ä¼šå…±ç”¨åº•å±‚æ•°ç»„&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆªå–æ“ä½œé‡‡ç”¨å¦‚ä¸‹æ–¹å¼ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt; data := [...]int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}
 slice := data[2:4:6] // data[low, high, max]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯¹ &lt;code&gt;data&lt;/code&gt; ä½¿ç”¨3ä¸ªç´¢å¼•å€¼ï¼Œæˆªå–å‡ºæ–°çš„ &lt;code&gt;slice&lt;/code&gt;ã€‚è¿™é‡Œ &lt;code&gt;data&lt;/code&gt; å¯ä»¥æ˜¯æ•°ç»„æˆ–è€… &lt;code&gt;slice&lt;/code&gt;ã€‚&lt;code&gt;low&lt;/code&gt; æ˜¯æœ€ä½ç´¢å¼•å€¼ï¼Œè¿™é‡Œæ˜¯é—­åŒºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ &lt;code&gt;data&lt;/code&gt; ä½äº &lt;code&gt;low&lt;/code&gt; ç´¢å¼•å¤„çš„å…ƒç´ ï¼›è€Œ &lt;code&gt;high&lt;/code&gt; å’Œ &lt;code&gt;max&lt;/code&gt; åˆ™æ˜¯å¼€åŒºé—´ï¼Œè¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ åªèƒ½æ˜¯ç´¢å¼• &lt;code&gt;high-1&lt;/code&gt; å¤„çš„å…ƒç´ ï¼Œè€Œæœ€å¤§å®¹é‡åˆ™åªèƒ½æ˜¯ç´¢å¼• &lt;code&gt;max-1&lt;/code&gt; å¤„çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;max &amp;gt;= high &amp;gt;= low&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“ &lt;code&gt;high == low&lt;/code&gt; æ—¶ï¼Œæ–° &lt;code&gt;slice&lt;/code&gt; ä¸ºç©ºã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹ï¼Œ&lt;code&gt;high&lt;/code&gt; å’Œ &lt;code&gt;max&lt;/code&gt; å¿…é¡»åœ¨è€æ•°ç»„æˆ–è€…è€ &lt;code&gt;slice&lt;/code&gt; çš„å®¹é‡ï¼ˆ&lt;code&gt;cap&lt;/code&gt;ï¼‰èŒƒå›´å†…ã€‚&lt;/p&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ¥è‡ªé›¨ç—•å¤§ä½¬ã€ŠGoå­¦ä¹ ç¬”è®°ã€‹ç¬¬å››ç‰ˆï¼ŒP43é¡µï¼Œå‚è€ƒèµ„æ–™é‡Œæœ‰å¼€æºä¹¦ç±åœ°å€ã€‚è¿™é‡Œæˆ‘ä¼šè¿›è¡Œæ‰©å±•ï¼Œå¹¶ä¼šä½œè¯¦ç»†è¯´æ˜ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
    slice := []int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}
    s1 := slice[2:5]
    s2 := s1[2:6:7]

    s2 = append(s2, 100)
    s2 = append(s2, 200)

    s1[2] = 20

    fmt.Println(s1)
    fmt.Println(s2)
    fmt.Println(slice)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…ˆçœ‹ä¸‹ä»£ç è¿è¡Œçš„ç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;[2 3 20]
[4 5 6 7 100 200]
[0 1 2 3 20 5 6 7 100 9]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬æ¥èµ°ä¸€éä»£ç ï¼Œåˆå§‹çŠ¶æ€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;slice := []int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}
s1 := slice[2:5]
s2 := s1[2:6:7]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;s1&lt;/code&gt; ä» &lt;code&gt;slice&lt;/code&gt; ç´¢å¼•2ï¼ˆé—­åŒºé—´ï¼‰åˆ°ç´¢å¼•5ï¼ˆå¼€åŒºé—´ï¼Œå…ƒç´ çœŸæ­£å–åˆ°ç´¢å¼•4ï¼‰ï¼Œé•¿åº¦ä¸º3ï¼Œå®¹é‡é»˜è®¤åˆ°æ•°ç»„ç»“å°¾ï¼Œä¸º8ã€‚&lt;br/&gt;&lt;code&gt;s2&lt;/code&gt; ä» &lt;code&gt;s1&lt;/code&gt; çš„ç´¢å¼•2ï¼ˆé—­åŒºé—´ï¼‰åˆ°ç´¢å¼•6ï¼ˆå¼€åŒºé—´ï¼Œå…ƒç´ çœŸæ­£å–åˆ°ç´¢å¼•5ï¼‰ï¼Œå®¹é‡åˆ°ç´¢å¼•7ï¼ˆå¼€åŒºé—´ï¼ŒçœŸæ­£åˆ°ç´¢å¼•6ï¼‰ï¼Œä¸º5ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54960948-c5490b80-4f99-11e9-8772-66d102caae8e.png&quot; alt=&quot;slice origin&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œå‘ &lt;code&gt;s2&lt;/code&gt; å°¾éƒ¨è¿½åŠ ä¸€ä¸ªå…ƒç´  100ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;s2 = append(s2, 100)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;s2&lt;/code&gt; å®¹é‡åˆšå¥½å¤Ÿï¼Œç›´æ¥è¿½åŠ ã€‚ä¸è¿‡ï¼Œè¿™ä¼šä¿®æ”¹åŸå§‹æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ ã€‚è¿™ä¸€æ”¹åŠ¨ï¼Œæ•°ç»„å’Œ &lt;code&gt;s1&lt;/code&gt; éƒ½å¯ä»¥çœ‹å¾—åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54960896-8ca93200-4f99-11e9-86de-df4d85cca135.png&quot; alt=&quot;append 100&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å†æ¬¡å‘ &lt;code&gt;s2&lt;/code&gt; è¿½åŠ å…ƒç´ 200ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;s2 = append(s2, 100)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ—¶ï¼Œ&lt;code&gt;s2&lt;/code&gt; çš„å®¹é‡ä¸å¤Ÿç”¨ï¼Œè¯¥æ‰©å®¹äº†ã€‚äºæ˜¯ï¼Œ&lt;code&gt;s2&lt;/code&gt; å¦èµ·ç‚‰ç¶ï¼Œå°†åŸæ¥çš„å…ƒç´ å¤åˆ¶æ–°çš„ä½ç½®ï¼Œæ‰©å¤§è‡ªå·±çš„å®¹é‡ã€‚å¹¶ä¸”ä¸ºäº†åº”å¯¹æœªæ¥å¯èƒ½çš„ &lt;code&gt;append&lt;/code&gt; å¸¦æ¥çš„å†ä¸€æ¬¡æ‰©å®¹ï¼Œ&lt;code&gt;s2&lt;/code&gt; ä¼šåœ¨æ­¤æ¬¡æ‰©å®¹çš„æ—¶å€™å¤šç•™ä¸€äº› &lt;code&gt;buffer&lt;/code&gt;ï¼Œå°†æ–°çš„å®¹é‡å°†æ‰©å¤§ä¸ºåŸå§‹å®¹é‡çš„2å€ï¼Œä¹Ÿå°±æ˜¯10äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54961368-4654d280-4f9b-11e9-9b00-de96c6eedea9.png&quot; alt=&quot;append 200&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œä¿®æ”¹ &lt;code&gt;s1&lt;/code&gt; ç´¢å¼•ä¸º2ä½ç½®çš„å…ƒç´ ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;s1[2] = 20&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ¬¡åªä¼šå½±å“åŸå§‹æ•°ç»„ç›¸åº”ä½ç½®çš„å…ƒç´ ã€‚å®ƒå½±å“ä¸åˆ° &lt;code&gt;s2&lt;/code&gt; äº†ï¼Œäººå®¶å·²ç»è¿œèµ°é«˜é£äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/54961330-29200400-4f9b-11e9-88d0-a29308a818ae.png&quot; alt=&quot;s1[2]=20&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å†æä¸€ç‚¹ï¼Œæ‰“å° &lt;code&gt;s1&lt;/code&gt; çš„æ—¶å€™ï¼Œåªä¼šæ‰“å°å‡º &lt;code&gt;s1&lt;/code&gt; é•¿åº¦ä»¥å†…çš„å…ƒç´ ã€‚æ‰€ä»¥ï¼Œåªä¼šæ‰“å°å‡º3ä¸ªå…ƒç´ ï¼Œè™½ç„¶å®ƒçš„åº•å±‚æ•°ç»„ä¸æ­¢3ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºï¼Œæˆ‘ä»¬æƒ³åœ¨æ±‡ç¼–å±‚é¢çœ‹çœ‹åˆ°åº•å®ƒä»¬æ˜¯å¦‚ä½•å…±äº«åº•å±‚æ•°ç»„çš„ï¼Œé™äºç¯‡å¹…ï¼Œè¿™é‡Œä¸å†å±•å¼€ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥åœ¨å…¬ä¼—å·åå°å›å¤ï¼š&lt;code&gt;åˆ‡ç‰‡æˆªå–&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¼šç»™ä½ è¯¦ç»†åˆ†æå‡½æ•°è°ƒç”¨å…³ç³»ï¼Œå¯¹å…±äº«åº•å±‚æ•°ç»„çš„è¡Œä¸ºä¹Ÿä¼šä¸€ç›®äº†ç„¶ã€‚äºŒç»´ç è§æ–‡ç« åº•éƒ¨ã€‚&lt;/p&gt;

&lt;p&gt;slice çš„åº•å±‚æ•°æ®æ˜¯æ•°ç»„ï¼Œslice æ˜¯å¯¹æ•°ç»„çš„å°è£…ï¼Œå®ƒæè¿°ä¸€ä¸ªæ•°ç»„çš„ç‰‡æ®µã€‚ä¸¤è€…éƒ½å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å•ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;æ•°ç»„æ˜¯å®šé•¿çš„ï¼Œé•¿åº¦å®šä¹‰å¥½ä¹‹åï¼Œä¸èƒ½å†æ›´æ”¹ã€‚åœ¨ Go ä¸­ï¼Œæ•°ç»„æ˜¯ä¸å¸¸è§çš„ï¼Œå› ä¸ºå…¶é•¿åº¦æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œé™åˆ¶äº†å®ƒçš„è¡¨è¾¾èƒ½åŠ›ï¼Œæ¯”å¦‚ &lt;code&gt;[3]int&lt;/code&gt; å’Œ &lt;code&gt;[4]int&lt;/code&gt; å°±æ˜¯ä¸åŒçš„ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåˆ‡ç‰‡åˆ™éå¸¸çµæ´»ï¼Œå®ƒå¯ä»¥åŠ¨æ€åœ°æ‰©å®¹ã€‚åˆ‡ç‰‡çš„ç±»å‹å’Œé•¿åº¦æ— å…³ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆæ¥çœ‹çœ‹ &lt;code&gt;append&lt;/code&gt; å‡½æ•°çš„åŸå‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;func append(slice []Type, elems ...Type) []Type&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;append å‡½æ•°çš„å‚æ•°é•¿åº¦å¯å˜ï¼Œå› æ­¤å¯ä»¥è¿½åŠ å¤šä¸ªå€¼åˆ° slice ä¸­ï¼Œè¿˜å¯ä»¥ç”¨ &lt;code&gt;...&lt;/code&gt; ä¼ å…¥ sliceï¼Œç›´æ¥è¿½åŠ ä¸€ä¸ªåˆ‡ç‰‡ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;slice = append(slice, elem1, elem2)
slice = append(slice, anotherSlice...)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;append&lt;/code&gt;å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„sliceï¼ŒGoç¼–è¯‘å™¨ä¸å…è®¸è°ƒç”¨äº† append å‡½æ•°åä¸ä½¿ç”¨è¿”å›å€¼ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;append(slice, elem1, elem2)
append(slice, anotherSlice...)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰€ä»¥ä¸Šé¢çš„ç”¨æ³•æ˜¯é”™çš„ï¼Œä¸èƒ½ç¼–è¯‘é€šè¿‡ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ append å¯ä»¥å‘ slice è¿½åŠ å…ƒç´ ï¼Œå®é™…ä¸Šæ˜¯å¾€åº•å±‚æ•°ç»„æ·»åŠ å…ƒç´ ã€‚ä½†æ˜¯åº•å±‚æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå¦‚æœç´¢å¼• &lt;code&gt;len-1&lt;/code&gt; æ‰€æŒ‡å‘çš„å…ƒç´ å·²ç»æ˜¯åº•å±‚æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°±æ²¡æ³•å†æ·»åŠ äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ï¼Œslice ä¼šè¿ç§»åˆ°æ–°çš„å†…å­˜ä½ç½®ï¼Œæ–°åº•å±‚æ•°ç»„çš„é•¿åº¦ä¹Ÿä¼šå¢åŠ ï¼Œè¿™æ ·å°±å¯ä»¥æ”¾ç½®æ–°å¢çš„å…ƒç´ ã€‚åŒæ—¶ï¼Œä¸ºäº†åº”å¯¹æœªæ¥å¯èƒ½å†æ¬¡å‘ç”Ÿçš„ append æ“ä½œï¼Œæ–°çš„åº•å±‚æ•°ç»„çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯æ–° &lt;code&gt;slice&lt;/code&gt; çš„å®¹é‡æ˜¯ç•™äº†ä¸€å®šçš„ &lt;code&gt;buffer&lt;/code&gt; çš„ã€‚å¦åˆ™ï¼Œæ¯æ¬¡æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œéƒ½ä¼šå‘ç”Ÿè¿ç§»ï¼Œæˆæœ¬å¤ªé«˜ã€‚&lt;/p&gt;
&lt;p&gt;æ–° slice é¢„ç•™çš„ &lt;code&gt;buffer&lt;/code&gt; å¤§å°æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„ã€‚ç½‘ä¸Šå¤§å¤šæ•°çš„æ–‡ç« éƒ½æ˜¯è¿™æ ·æè¿°çš„ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å½“åŸ slice å®¹é‡å°äº &lt;code&gt;1024&lt;/code&gt; çš„æ—¶å€™ï¼Œæ–° slice å®¹é‡å˜æˆåŸæ¥çš„ &lt;code&gt;2&lt;/code&gt; å€ï¼›åŸ slice å®¹é‡è¶…è¿‡ &lt;code&gt;1024&lt;/code&gt;ï¼Œæ–° slice å®¹é‡å˜æˆåŸæ¥çš„&lt;code&gt;1.25&lt;/code&gt;å€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘åœ¨è¿™é‡Œå…ˆè¯´ç»“è®ºï¼šä»¥ä¸Šæè¿°æ˜¯é”™è¯¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¯´æ˜ä¸Šé¢çš„è§„å¾‹æ˜¯é”™è¯¯çš„ï¼Œæˆ‘å†™äº†ä¸€å°æ®µç©å…·ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
    s := make([]int, 0)

    oldCap := cap(s)

    for i := 0; i &amp;lt; 2048; i++ {
        s = append(s, i)

        newCap := cap(s)

        if newCap != oldCap {
            fmt.Printf(&quot;[%d -&amp;gt; %4d] cap = %-4d  |  after append %-4d  cap = %-4d\n&quot;, 0, i-1, oldCap, i, newCap)
            oldCap = newCap
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘å…ˆåˆ›å»ºäº†ä¸€ä¸ªç©ºçš„ &lt;code&gt;slice&lt;/code&gt;ï¼Œç„¶åï¼Œåœ¨ä¸€ä¸ªå¾ªç¯é‡Œä¸æ–­å¾€é‡Œé¢ &lt;code&gt;append&lt;/code&gt; æ–°çš„å…ƒç´ ã€‚ç„¶åè®°å½•å®¹é‡çš„å˜åŒ–ï¼Œå¹¶ä¸”æ¯å½“å®¹é‡å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè®°å½•ä¸‹è€çš„å®¹é‡ï¼Œä»¥åŠæ·»åŠ å®Œå…ƒç´ ä¹‹åçš„å®¹é‡ï¼ŒåŒæ—¶è®°ä¸‹æ­¤æ—¶ &lt;code&gt;slice&lt;/code&gt; é‡Œçš„å…ƒç´ ã€‚è¿™æ ·ï¼Œæˆ‘å°±å¯ä»¥è§‚å¯Ÿï¼Œæ–°è€ &lt;code&gt;slice&lt;/code&gt; çš„å®¹é‡å˜åŒ–æƒ…å†µï¼Œä»è€Œæ‰¾å‡ºè§„å¾‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;[0 -&amp;gt;   -1] cap = 0     |  after append 0     cap = 1   
[0 -&amp;gt;    0] cap = 1     |  after append 1     cap = 2   
[0 -&amp;gt;    1] cap = 2     |  after append 2     cap = 4   
[0 -&amp;gt;    3] cap = 4     |  after append 4     cap = 8   
[0 -&amp;gt;    7] cap = 8     |  after append 8     cap = 16  
[0 -&amp;gt;   15] cap = 16    |  after append 16    cap = 32  
[0 -&amp;gt;   31] cap = 32    |  after append 32    cap = 64  
[0 -&amp;gt;   63] cap = 64    |  after append 64    cap = 128 
[0 -&amp;gt;  127] cap = 128   |  after append 128   cap = 256 
[0 -&amp;gt;  255] cap = 256   |  after append 256   cap = 512 
[0 -&amp;gt;  511] cap = 512   |  after append 512   cap = 1024
[0 -&amp;gt; 1023] cap = 1024  |  after append 1024  cap = 1280
[0 -&amp;gt; 1279] cap = 1280  |  after append 1280  cap = 1696
[0 -&amp;gt; 1695] cap = 1696  |  after append 1696  cap = 2304&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨è€ slice å®¹é‡å°äº1024çš„æ—¶å€™ï¼Œæ–° slice çš„å®¹é‡çš„ç¡®æ˜¯è€ slice çš„2å€ã€‚ç›®å‰è¿˜ç®—æ­£ç¡®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå½“è€ slice å®¹é‡å¤§äºç­‰äº &lt;code&gt;1024&lt;/code&gt; çš„æ—¶å€™ï¼Œæƒ…å†µå°±æœ‰å˜åŒ–äº†ã€‚å½“å‘ slice ä¸­æ·»åŠ å…ƒç´  &lt;code&gt;1280&lt;/code&gt; çš„æ—¶å€™ï¼Œè€ slice çš„å®¹é‡ä¸º &lt;code&gt;1280&lt;/code&gt;ï¼Œä¹‹åå˜æˆäº† &lt;code&gt;1696&lt;/code&gt;ï¼Œä¸¤è€…å¹¶ä¸æ˜¯ &lt;code&gt;1.25&lt;/code&gt; å€çš„å…³ç³»ï¼ˆ1696/1280=1.325ï¼‰ã€‚æ·»åŠ å®Œ &lt;code&gt;1696&lt;/code&gt; åï¼Œæ–°çš„å®¹é‡ &lt;code&gt;2304&lt;/code&gt; å½“ç„¶ä¹Ÿä¸æ˜¯ &lt;code&gt;1696&lt;/code&gt; çš„ &lt;code&gt;1.25&lt;/code&gt; å€ã€‚&lt;/p&gt;
&lt;p&gt;å¯è§ï¼Œç°åœ¨ç½‘ä¸Šå„ç§æ–‡ç« ä¸­çš„æ‰©å®¹ç­–ç•¥å¹¶ä¸æ­£ç¡®ã€‚æˆ‘ä»¬ç›´æ¥æ¬å‡ºæºç ï¼šæºç é¢å‰ï¼Œäº†æ— ç§˜å¯†ã€‚&lt;/p&gt;
&lt;p&gt;ä»å‰é¢æ±‡ç¼–ä»£ç æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œå‘ slice è¿½åŠ å…ƒç´ çš„æ—¶å€™ï¼Œè‹¥å®¹é‡ä¸å¤Ÿï¼Œä¼šè°ƒç”¨ &lt;code&gt;growslice&lt;/code&gt; å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥çœ‹å®ƒçš„ä»£ç ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;// go 1.9.5 src/runtime/slice.go:82
func growslice(et *_type, old slice, cap int) slice {
    // â€¦â€¦
    newcap := old.cap
    doublecap := newcap + newcap
    if cap &amp;gt; doublecap {
        newcap = cap
    } else {
        if old.len &amp;lt; 1024 {
            newcap = doublecap
        } else {
            for newcap &amp;lt; cap {
                newcap += newcap / 4
            }
        }
    }
    // â€¦â€¦
    
    capmem = roundupsize(uintptr(newcap) * ptrSize)
    newcap = int(capmem / ptrSize)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çœ‹åˆ°äº†å—ï¼Ÿå¦‚æœåªçœ‹å‰åŠéƒ¨åˆ†ï¼Œç°åœ¨ç½‘ä¸Šå„ç§æ–‡ç« é‡Œè¯´çš„ &lt;code&gt;newcap&lt;/code&gt; çš„è§„å¾‹æ˜¯å¯¹çš„ã€‚ç°å®æ˜¯ï¼ŒååŠéƒ¨åˆ†è¿˜å¯¹ &lt;code&gt;newcap&lt;/code&gt; ä½œäº†ä¸€ä¸ª&lt;code&gt;å†…å­˜å¯¹é½&lt;/code&gt;ï¼Œè¿™ä¸ªå’Œå†…å­˜åˆ†é…ç­–ç•¥ç›¸å…³ã€‚è¿›è¡Œå†…å­˜å¯¹é½ä¹‹åï¼Œæ–° slice çš„å®¹é‡æ˜¯è¦ &lt;code&gt;å¤§äºç­‰äº&lt;/code&gt; è€ slice å®¹é‡çš„ &lt;code&gt;2å€&lt;/code&gt;æˆ–è€…&lt;code&gt;1.25å€&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åï¼Œå‘ Go å†…å­˜ç®¡ç†å™¨ç”³è¯·å†…å­˜ï¼Œå°†è€ slice ä¸­çš„æ•°æ®å¤åˆ¶è¿‡å»ï¼Œå¹¶ä¸”å°† append çš„å…ƒç´ æ·»åŠ åˆ°æ–°çš„åº•å±‚æ•°ç»„ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå‘ &lt;code&gt;growslice&lt;/code&gt; å‡½æ•°è°ƒç”¨è€…è¿”å›ä¸€ä¸ªæ–°çš„ sliceï¼Œè¿™ä¸ª slice çš„é•¿åº¦å¹¶æ²¡æœ‰å˜åŒ–ï¼Œè€Œå®¹é‡å´å¢å¤§äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº &lt;code&gt;append&lt;/code&gt;ï¼Œæˆ‘ä»¬æœ€åæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ¥æºäºå‚è€ƒèµ„æ–™éƒ¨åˆ†çš„ã€Golang Sliceçš„æ‰©å®¹è§„åˆ™ã€‘ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
    s := []int{1,2}
    s = append(s,4,5,6)
    fmt.Printf(&quot;len=%d, cap=%d&quot;,len(s),cap(s))
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;len=5, cap=6&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæŒ‰ç½‘ä¸Šå„ç§æ–‡ç« ä¸­æ€»ç»“çš„é‚£æ ·ï¼šå°äºåŸ slice é•¿åº¦å°äº 1024 çš„æ—¶å€™ï¼Œå®¹é‡æ¯æ¬¡å¢åŠ  1 å€ã€‚æ·»åŠ å…ƒç´  4 çš„æ—¶å€™ï¼Œå®¹é‡å˜ä¸º4ï¼›æ·»åŠ å…ƒç´  5 çš„æ—¶å€™ä¸å˜ï¼›æ·»åŠ å…ƒç´  6 çš„æ—¶å€™å®¹é‡å¢åŠ  1 å€ï¼Œå˜æˆ 8ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸Šé¢ä»£ç çš„è¿è¡Œç»“æœå°±æ˜¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;len=5, cap=8&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ˜¯é”™è¯¯çš„ï¼æˆ‘ä»¬æ¥ä»”ç»†çœ‹çœ‹ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå†æ¬¡æ¬å‡ºä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;// go 1.9.5 src/runtime/slice.go:82
func growslice(et *_type, old slice, cap int) slice {
    // â€¦â€¦
    newcap := old.cap
    doublecap := newcap + newcap
    if cap &amp;gt; doublecap {
        newcap = cap
    } else {
        // â€¦â€¦
    }
    // â€¦â€¦
    
    capmem = roundupsize(uintptr(newcap) * ptrSize)
    newcap = int(capmem / ptrSize)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªå‡½æ•°çš„å‚æ•°ä¾æ¬¡æ˜¯ &lt;code&gt;å…ƒç´ çš„ç±»å‹ï¼Œè€çš„ sliceï¼Œæ–° slice æœ€å°æ±‚çš„å®¹é‡&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­ä¸­ &lt;code&gt;s&lt;/code&gt; åŸæ¥åªæœ‰ 2 ä¸ªå…ƒç´ ï¼Œ&lt;code&gt;len&lt;/code&gt; å’Œ &lt;code&gt;cap&lt;/code&gt; éƒ½ä¸º 2ï¼Œ&lt;code&gt;append&lt;/code&gt; äº†ä¸‰ä¸ªå…ƒç´ åï¼Œé•¿åº¦å˜ä¸º 3ï¼Œå®¹é‡æœ€å°è¦å˜æˆ 5ï¼Œå³è°ƒç”¨ &lt;code&gt;growslice&lt;/code&gt; å‡½æ•°æ—¶ï¼Œä¼ å…¥çš„ç¬¬ä¸‰ä¸ªå‚æ•°åº”è¯¥ä¸º 5ã€‚å³ &lt;code&gt;cap=5&lt;/code&gt;ã€‚è€Œä¸€æ–¹é¢ï¼Œ&lt;code&gt;doublecap&lt;/code&gt; æ˜¯åŸ &lt;code&gt;slice&lt;/code&gt;å®¹é‡çš„ 2 å€ï¼Œç­‰äº 4ã€‚æ»¡è¶³ç¬¬ä¸€ä¸ª &lt;code&gt;if&lt;/code&gt; æ¡ä»¶ï¼Œæ‰€ä»¥ &lt;code&gt;newcap&lt;/code&gt; å˜æˆäº† 5ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€è°ƒç”¨äº† &lt;code&gt;roundupsize&lt;/code&gt; å‡½æ•°ï¼Œä¼ å…¥ 40ã€‚ï¼ˆä»£ç ä¸­ptrSizeæ˜¯æŒ‡ä¸€ä¸ªæŒ‡é’ˆçš„å¤§å°ï¼Œåœ¨64ä½æœºä¸Šæ˜¯8ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†çœ‹å†…å­˜å¯¹é½ï¼Œæ¬å‡º &lt;code&gt;roundupsize&lt;/code&gt; å‡½æ•°çš„ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;// src/runtime/msize.go:13
func roundupsize(size uintptr) uintptr {
    if size &amp;lt; _MaxSmallSize {
        if size &amp;lt;= smallSizeMax-8 {
            return uintptr(class_to_size[size_to_class8[(size+smallSizeDiv-1)/smallSizeDiv]])
        } else {
            //â€¦â€¦
        }
    }
    //â€¦â€¦
}

const _MaxSmallSize = 32768
const smallSizeMax = 1024
const smallSizeDiv = 8&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬æœ€ç»ˆå°†è¿”å›è¿™ä¸ªå¼å­çš„ç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;class_to_size[size_to_class8[(size+smallSizeDiv-1)/smallSizeDiv]]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ˜¯ &lt;code&gt;Go&lt;/code&gt; æºç ä¸­æœ‰å…³å†…å­˜åˆ†é…çš„ä¸¤ä¸ª &lt;code&gt;slice&lt;/code&gt;ã€‚&lt;code&gt;class_to_size&lt;/code&gt;é€šè¿‡ &lt;code&gt;spanClass&lt;/code&gt;è·å– &lt;code&gt;span&lt;/code&gt;åˆ’åˆ†çš„ &lt;code&gt;object&lt;/code&gt;å¤§å°ã€‚è€Œ &lt;code&gt;size_to_class8&lt;/code&gt; è¡¨ç¤ºé€šè¿‡ &lt;code&gt;size&lt;/code&gt; è·å–å®ƒçš„ &lt;code&gt;spanClass&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;var size_to_class8 = [smallSizeMax/smallSizeDiv + 1]uint8{0, 1, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 14, 14, 15, 15, 16, 16, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 22, 22, 22, 22, 23, 23, 23, 23, 24, 24, 24, 24, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 28, 28, 29, 29, 29, 29, 29, 29, 29, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31}

var class_to_size = [_NumSizeClasses]uint16{0, 8, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240, 256, 288, 320, 352, 384, 416, 448, 480, 512, 576, 640, 704, 768, 896, 1024, 1152, 1280, 1408, 1536, 1792, 2048, 2304, 2688, 3072, 3200, 3456, 4096, 4864, 5376, 6144, 6528, 6784, 6912, 8192, 9472, 9728, 10240, 10880, 12288, 13568, 14336, 16384, 18432, 19072, 20480, 21760, 24576, 27264, 28672, 32768}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ä¼ è¿›å»çš„ &lt;code&gt;size&lt;/code&gt; ç­‰äº 40ã€‚æ‰€ä»¥ &lt;code&gt;(size+smallSizeDiv-1)/smallSizeDiv = 5&lt;/code&gt;ï¼›è·å– &lt;code&gt;size_to_class8&lt;/code&gt; æ•°ç»„ä¸­ç´¢å¼•ä¸º &lt;code&gt;5&lt;/code&gt; çš„å…ƒç´ ä¸º &lt;code&gt;4&lt;/code&gt;ï¼›è·å– &lt;code&gt;class_to_size&lt;/code&gt; ä¸­ç´¢å¼•ä¸º &lt;code&gt;4&lt;/code&gt; çš„å…ƒç´ ä¸º &lt;code&gt;48&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆï¼Œæ–°çš„ slice çš„å®¹é‡ä¸º &lt;code&gt;6&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;newcap = int(capmem / ptrSize) // 6&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è‡³äºï¼Œä¸Šé¢çš„ä¸¤ä¸ª&lt;code&gt;é­”æ³•æ•°ç»„&lt;/code&gt;çš„ç”±æ¥ï¼Œæš‚æ—¶å°±ä¸å±•å¼€äº†ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å® &lt;code&gt;nil slice&lt;/code&gt; æˆ–è€… &lt;code&gt;empty slice&lt;/code&gt; éƒ½æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨ append å‡½æ•°æ¥è·å¾—åº•å±‚æ•°ç»„çš„æ‰©å®¹ã€‚æœ€ç»ˆéƒ½æ˜¯è°ƒç”¨ &lt;code&gt;mallocgc&lt;/code&gt; æ¥å‘ Go çš„å†…å­˜ç®¡ç†å™¨ç”³è¯·åˆ°ä¸€å—å†…å­˜ï¼Œç„¶åå†èµ‹ç»™åŸæ¥çš„&lt;code&gt;nil slice&lt;/code&gt; æˆ– &lt;code&gt;empty slice&lt;/code&gt;ï¼Œç„¶åæ‘‡èº«ä¸€å˜ï¼Œæˆä¸ºâ€œçœŸæ­£â€çš„ &lt;code&gt;slice&lt;/code&gt; äº†ã€‚&lt;/p&gt;

&lt;p&gt;å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼Œslice å…¶å®æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å«äº†ä¸‰ä¸ªæˆå‘˜ï¼šlen, cap, arrayã€‚åˆ†åˆ«è¡¨ç¤ºåˆ‡ç‰‡é•¿åº¦ï¼Œå®¹é‡ï¼Œåº•å±‚æ•°æ®çš„åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;å½“ slice ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç»“æ„ä½“ã€‚å…¶å®å¾ˆå¥½ç†è§£ï¼šè‹¥ç›´æ¥ä¼  sliceï¼Œåœ¨è°ƒç”¨è€…çœ‹æ¥ï¼Œå®å‚ slice å¹¶ä¸ä¼šè¢«å‡½æ•°ä¸­çš„æ“ä½œæ”¹å˜ï¼›è‹¥ä¼ çš„æ˜¯ slice çš„æŒ‡é’ˆï¼Œåœ¨è°ƒç”¨è€…çœ‹æ¥ï¼Œæ˜¯ä¼šè¢«æ”¹å˜åŸ slice çš„ã€‚&lt;/p&gt;
&lt;p&gt;å€¼çš„æ³¨æ„çš„æ˜¯ï¼Œä¸ç®¡ä¼ çš„æ˜¯ slice è¿˜æ˜¯ slice æŒ‡é’ˆï¼Œå¦‚æœæ”¹å˜äº† slice åº•å±‚æ•°ç»„çš„æ•°æ®ï¼Œä¼šååº”åˆ°å®å‚ slice çš„åº•å±‚æ•°æ®ã€‚ä¸ºä»€ä¹ˆèƒ½æ”¹å˜åº•å±‚æ•°ç»„çš„æ•°æ®ï¼Ÿå¾ˆå¥½ç†è§£ï¼šåº•å±‚æ•°æ®åœ¨ slice ç»“æ„ä½“é‡Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä»…ç®¡ slice ç»“æ„ä½“è‡ªèº«ä¸ä¼šè¢«æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´åº•å±‚æ•°æ®åœ°å€ä¸ä¼šè¢«æ”¹å˜ã€‚ ä½†æ˜¯é€šè¿‡æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆï¼Œå¯ä»¥æ”¹å˜åˆ‡ç‰‡çš„åº•å±‚æ•°æ®ï¼Œæ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ slice çš„ array å­—æ®µå°±å¯ä»¥æ‹¿åˆ°æ•°ç»„çš„åœ°å€ã€‚åœ¨ä»£ç é‡Œï¼Œæ˜¯ç›´æ¥é€šè¿‡ç±»ä¼¼ &lt;code&gt;s[i]=10&lt;/code&gt; è¿™ç§æ“ä½œæ”¹å˜ slice åº•å±‚æ•°ç»„å…ƒç´ å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œå•°å—¦ä¸€å¥ï¼ŒGo è¯­è¨€çš„å‡½æ•°å‚æ•°ä¼ é€’ï¼Œåªæœ‰å€¼ä¼ é€’ï¼Œæ²¡æœ‰å¼•ç”¨ä¼ é€’ã€‚åé¢ä¼šå†å†™ä¸€ç¯‡ç›¸å…³çš„æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹ä¸€ä¸ªå¹´å¹¼æ— çŸ¥çš„ä»£ç ç‰‡æ®µï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

func main() {
    s := []int{1, 1, 1}
    f(s)
    fmt.Println(s)
}

func f(s []int) {
    // iåªæ˜¯ä¸€ä¸ªå‰¯æœ¬ï¼Œä¸èƒ½æ”¹å˜sä¸­å…ƒç´ çš„å€¼
    /*for _, i := range s {
        i++
    }
    */

    for i := range s {
        s[i] += 1
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œä¸€ä¸‹ï¼Œç¨‹åºè¾“å‡ºï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;[2 2 2]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœçœŸæ”¹å˜äº†åŸå§‹ slice çš„åº•å±‚æ•°æ®ã€‚è¿™é‡Œä¼ é€’çš„æ˜¯ä¸€ä¸ª slice çš„å‰¯æœ¬ï¼Œåœ¨ &lt;code&gt;f&lt;/code&gt; å‡½æ•°ä¸­ï¼Œ&lt;code&gt;s&lt;/code&gt; åªæ˜¯ &lt;code&gt;main&lt;/code&gt; å‡½æ•°ä¸­ &lt;code&gt;s&lt;/code&gt; çš„ä¸€ä¸ªæ‹·è´ã€‚åœ¨&lt;code&gt;f&lt;/code&gt; å‡½æ•°å†…éƒ¨ï¼Œå¯¹ &lt;code&gt;s&lt;/code&gt; çš„ä½œç”¨å¹¶ä¸ä¼šæ”¹å˜å¤–å±‚ &lt;code&gt;main&lt;/code&gt; å‡½æ•°çš„ &lt;code&gt;s&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¦æƒ³çœŸçš„æ”¹å˜å¤–å±‚ &lt;code&gt;slice&lt;/code&gt;ï¼Œåªæœ‰å°†è¿”å›çš„æ–°çš„ slice èµ‹å€¼åˆ°åŸå§‹ sliceï¼Œæˆ–è€…å‘å‡½æ•°ä¼ é€’ä¸€ä¸ªæŒ‡å‘ slice çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre class=&quot;golang&quot;&gt;
&lt;code&gt;package main

import &quot;fmt&quot;

func myAppend(s []int) []int {
    // è¿™é‡Œ s è™½ç„¶æ”¹å˜äº†ï¼Œä½†å¹¶ä¸ä¼šå½±å“å¤–å±‚å‡½æ•°çš„ s
    s = append(s, 100)
    return s
}

func myAppendPtr(s *[]int) {
    // ä¼šæ”¹å˜å¤–å±‚ s æœ¬èº«
    *s = append(*s, 100)
    return
}

func main() {
    s := []int{1, 1, 1}
    newS := myAppend(s)

    fmt.Println(s)
    fmt.Println(newS)

    s = newS

    myAppendPtr(&amp;amp;s)
    fmt.Println(s)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;[1 1 1]
[1 1 1 100]
[1 1 1 100 100]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;myAppend&lt;/code&gt; å‡½æ•°é‡Œï¼Œè™½ç„¶æ”¹å˜äº† &lt;code&gt;s&lt;/code&gt;ï¼Œä½†å®ƒåªæ˜¯ä¸€ä¸ªå€¼ä¼ é€’ï¼Œå¹¶ä¸ä¼šå½±å“å¤–å±‚çš„ &lt;code&gt;s&lt;/code&gt;ï¼Œå› æ­¤ç¬¬ä¸€è¡Œæ‰“å°å‡ºæ¥çš„ç»“æœä»ç„¶æ˜¯ &lt;code&gt;[1 1 1]&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ &lt;code&gt;newS&lt;/code&gt; æ˜¯ä¸€ä¸ªæ–°çš„ &lt;code&gt;slice&lt;/code&gt;ï¼Œå®ƒæ˜¯åŸºäº &lt;code&gt;s&lt;/code&gt; å¾—åˆ°çš„ã€‚å› æ­¤å®ƒæ‰“å°çš„æ˜¯è¿½åŠ äº†ä¸€ä¸ª &lt;code&gt;100&lt;/code&gt; ä¹‹åçš„ç»“æœï¼š &lt;code&gt;[1 1 1 100]&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå°† &lt;code&gt;newS&lt;/code&gt; èµ‹å€¼ç»™äº† &lt;code&gt;s&lt;/code&gt;ï¼Œ&lt;code&gt;s&lt;/code&gt; è¿™æ—¶æ‰çœŸæ­£å˜æˆäº†ä¸€ä¸ªæ–°çš„sliceã€‚ä¹‹åï¼Œå†ç»™ &lt;code&gt;myAppendPtr&lt;/code&gt; å‡½æ•°ä¼ å…¥ä¸€ä¸ª &lt;code&gt;s æŒ‡é’ˆ&lt;/code&gt;ï¼Œè¿™å›å®ƒçœŸçš„è¢«æ”¹å˜äº†ï¼š&lt;code&gt;[1 1 1 100 100]&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åˆ°æ­¤ï¼Œå…³äº &lt;code&gt;slice&lt;/code&gt; çš„éƒ¨åˆ†å°±è®²å®Œäº†ï¼Œä¸çŸ¥å¤§å®¶æœ‰æ²¡æœ‰çœ‹è¿‡ç˜¾ã€‚æˆ‘ä»¬æœ€åæ¥æ€»ç»“ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åˆ‡ç‰‡æ˜¯å¯¹åº•å±‚æ•°ç»„çš„ä¸€ä¸ªæŠ½è±¡ï¼Œæè¿°äº†å®ƒçš„ä¸€ä¸ªç‰‡æ®µã€‚&lt;/li&gt;
&lt;li&gt;åˆ‡ç‰‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒæœ‰ä¸‰ä¸ªå­—æ®µï¼šé•¿åº¦ï¼Œå®¹é‡ï¼Œåº•å±‚æ•°æ®çš„åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;å¤šä¸ªåˆ‡ç‰‡å¯èƒ½å…±äº«åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹å…¶ä¸­ä¸€ä¸ªåˆ‡ç‰‡æˆ–è€…åº•å±‚æ•°ç»„çš„æ›´æ”¹ï¼Œä¼šå½±å“åˆ°å…¶ä»–åˆ‡ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;append&lt;/code&gt; å‡½æ•°ä¼šåœ¨åˆ‡ç‰‡å®¹é‡ä¸å¤Ÿçš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨ &lt;code&gt;growslice&lt;/code&gt; å‡½æ•°è·å–æ‰€éœ€è¦çš„å†…å­˜ï¼Œè¿™ç§°ä¸ºæ‰©å®¹ï¼Œæ‰©å®¹ä¼šæ”¹å˜å…ƒç´ åŸæ¥çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ‰©å®¹ç­–ç•¥å¹¶ä¸æ˜¯ç®€å•çš„æ‰©ä¸ºåŸåˆ‡ç‰‡å®¹é‡çš„ &lt;code&gt;2&lt;/code&gt; å€æˆ– &lt;code&gt;1.25&lt;/code&gt; å€ï¼Œè¿˜æœ‰å†…å­˜å¯¹é½çš„æ“ä½œã€‚æ‰©å®¹åçš„å®¹é‡ &amp;gt;= åŸå®¹é‡çš„ &lt;code&gt;2&lt;/code&gt; å€æˆ– &lt;code&gt;1.25&lt;/code&gt; å€ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç›´æ¥ç”¨åˆ‡ç‰‡ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå¯ä»¥æ”¹å˜åˆ‡ç‰‡çš„å…ƒç´ ï¼Œä¸èƒ½æ”¹å˜åˆ‡ç‰‡æœ¬èº«ï¼›æƒ³è¦æ”¹å˜åˆ‡ç‰‡æœ¬èº«ï¼Œå¯ä»¥å°†æ”¹å˜åçš„åˆ‡ç‰‡è¿”å›ï¼Œå‡½æ•°è°ƒç”¨è€…æ¥æ”¶æ”¹å˜åçš„åˆ‡ç‰‡æˆ–è€…å°†åˆ‡ç‰‡æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æœ€åï¼Œå¦‚æœä½ è§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œå¸®æˆ‘ç‚¹ä¸€ä¸‹å³ä¸‹è§’çš„â€œæ¨èâ€å§ï¼Œæ„Ÿè°¢ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51420568-305b1800-1bce-11e9-962a-52b12be7eb2e.png&quot; alt=&quot;QR&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€ç æ´ã€Šæ·±åº¦è§£æ Go è¯­è¨€ä¸­ã€Œåˆ‡ç‰‡ã€çš„ä¸‰ç§ç‰¹æ®ŠçŠ¶æ€ã€‹ã€‘&lt;a href=&quot;https://juejin.im/post/5bea58df6fb9a049f153bca8&quot; class=&quot;uri&quot;&gt;https://juejin.im/post/5bea58df6fb9a049f153bca8&lt;/a&gt;&lt;br/&gt;ã€è€é’± æ•°ç»„ã€‘&lt;a href=&quot;https://juejin.im/post/5be53bc251882516c15af2e0&quot; class=&quot;uri&quot;&gt;https://juejin.im/post/5be53bc251882516c15af2e0&lt;/a&gt;&lt;br/&gt;ã€è€é’± åˆ‡ç‰‡ã€‘&lt;a href=&quot;https://juejin.im/post/5be8e0b1f265da614d08b45a&quot; class=&quot;uri&quot;&gt;https://juejin.im/post/5be8e0b1f265da614d08b45a&lt;/a&gt;&lt;br/&gt;ã€golang interfaceæºç ã€‘&lt;a href=&quot;https://i6448038.github.io/2018/10/01/Golang-interface/&quot; class=&quot;uri&quot;&gt;https://i6448038.github.io/2018/10/01/Golang-interface/&lt;/a&gt;&lt;br/&gt;ã€golang interfaceæºç ã€‘&lt;a href=&quot;http://legendtkl.com/2017/07/01/golang-interface-implement/&quot; class=&quot;uri&quot;&gt;http://legendtkl.com/2017/07/01/golang-interface-implement/&lt;/a&gt;&lt;br/&gt;ã€interfaceã€‘&lt;a href=&quot;https://www.jishuwen.com/d/2C9z#tuit&quot; class=&quot;uri&quot;&gt;https://www.jishuwen.com/d/2C9z#tuit&lt;/a&gt;&lt;br/&gt;ã€é›¨ç—•å¼€æºGoå­¦ä¹ ç¬”è®°ã€‘&lt;a href=&quot;https://github.com/qyuhen/book&quot; class=&quot;uri&quot;&gt;https://github.com/qyuhen/book&lt;/a&gt;&lt;br/&gt;ã€slice å›¾å¾ˆæ¼‚äº®ã€‘&lt;a href=&quot;https://halfrost.com/go_slice/&quot; class=&quot;uri&quot;&gt;https://halfrost.com/go_slice/&lt;/a&gt;&lt;br/&gt;ã€Golang Sliceçš„æ‰©å®¹è§„åˆ™ã€‘&lt;a href=&quot;https://jodezer.github.io/2017/05/golangSlice%E7%9A%84%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99&quot;&gt;https://jodezer.github.io/2017/05/golangSlice%E7%9A%84%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99&lt;/a&gt;&lt;br/&gt;ã€sliceä½œä¸ºå‚æ•°ã€‘&lt;a href=&quot;https://www.cnblogs.com/fwdqxl/p/9317769.html&quot; class=&quot;uri&quot;&gt;https://www.cnblogs.com/fwdqxl/p/9317769.html&lt;/a&gt;&lt;br/&gt;ã€æºç ã€‘&lt;a href=&quot;https://ictar.xyz/2018/10/25/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA-go-slice/&quot;&gt;https://ictar.xyz/2018/10/25/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA-go-slice/&lt;/a&gt;&lt;br/&gt;ã€appendæœºåˆ¶ è¯‘æ–‡ã€‘&lt;a href=&quot;https://brantou.github.io/2017/05/24/go-array-slice-string/&quot; class=&quot;uri&quot;&gt;https://brantou.github.io/2017/05/24/go-array-slice-string/&lt;/a&gt;&lt;br/&gt;ã€slice æ±‡ç¼–ã€‘&lt;a href=&quot;http://xargin.com/go-slice/&quot; class=&quot;uri&quot;&gt;http://xargin.com/go-slice/&lt;/a&gt;&lt;br/&gt;ã€slice tricksã€‘&lt;a href=&quot;https://colobu.com/2017/03/22/Slice-Tricks/&quot; class=&quot;uri&quot;&gt;https://colobu.com/2017/03/22/Slice-Tricks/&lt;/a&gt;&lt;br/&gt;ã€æœ‰å›¾ã€‘&lt;a href=&quot;https://i6448038.github.io/2018/08/11/array-and-slice-principle/&quot; class=&quot;uri&quot;&gt;https://i6448038.github.io/2018/08/11/array-and-slice-principle/&lt;/a&gt;&lt;br/&gt;ã€sliceçš„æœ¬è´¨ã€‘&lt;a href=&quot;https://www.flysnow.org/2018/12/21/golang-sliceheader.html&quot; class=&quot;uri&quot;&gt;https://www.flysnow.org/2018/12/21/golang-sliceheader.html&lt;/a&gt;&lt;br/&gt;ã€sliceä½¿ç”¨æŠ€å·§ã€‘&lt;a href=&quot;https://blog.thinkeridea.com/201901/go/slice_de_yi_xie_shi_yong_ji_qiao.html&quot; class=&quot;uri&quot;&gt;https://blog.thinkeridea.com/201901/go/slice_de_yi_xie_shi_yong_ji_qiao.html&lt;/a&gt;&lt;br/&gt;ã€slice/arrayã€å†…å­˜å¢é•¿ã€‘&lt;a href=&quot;https://blog.thinkeridea.com/201901/go/shen_ru_pou_xi_slice_he_array.html&quot; class=&quot;uri&quot;&gt;https://blog.thinkeridea.com/201901/go/shen_ru_pou_xi_slice_he_array.html&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 14:23:00 +0000</pubDate>
<dc:creator>Stefno</dc:creator>
<og:description>slice æ˜¯ Go è¯­è¨€ä¸€ä¸ªå¾ˆé‡è¦çš„æ•°æ®ç»“æ„ã€‚ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ–‡ç« å†™è¿‡äº†ï¼Œä¼¼ä¹æ²¡å¿…è¦å†å†™ã€‚ä½†æ˜¯æ¯ä¸ªäººçœ‹é—®é¢˜çš„è§†è§’ä¸åŒï¼Œå†™å‡ºæ¥çš„ä¸œè¥¿è‡ªç„¶ä¹Ÿä¸ä¸€æ ·ã€‚æˆ‘è¿™ç¯‡ä¼šä»æ›´åº•å±‚çš„æ±‡ç¼–è¯­è¨€å»è§£è¯»å®ƒï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„ä¸–ç•Œã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qcrao-2018/p/10631989.html</dc:identifier>
</item>
<item>
<title>åŸºäºasync/non-blockingé«˜æ€§èƒ½redisç»„ä»¶åº“BeetleX.Redis - smark</title>
<link>http://www.cnblogs.com/smark/p/10639573.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/smark/p/10639573.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;code&gt;BeetleX.Redis&lt;/code&gt;æ˜¯åŸºäº&lt;code&gt;async/non-blocking&lt;/code&gt;æ¨¡å¼å®ç°çš„é«˜æ€§èƒ½&lt;code&gt;redis&lt;/code&gt;ç»„ä»¶åº“ï¼Œç»„ä»¶æ”¯æŒredisåŸºç¡€æŒ‡ä»¤é›†ï¼Œå¹¶å°è£…æ›´ç®€ä¾¿çš„&lt;code&gt;List&lt;/code&gt;,&lt;code&gt;Hashset&lt;/code&gt;å’Œ&lt;code&gt;Subscribe&lt;/code&gt;æ“ä½œã€‚é™¤äº†åœ¨åŸºç¡€æ“ä½œåŠŸèƒ½ä¸Šï¼Œç»„ä»¶è¿˜æä¾›å¤šæœåŠ¡å¤‡ä»½æ–¹å¼å’Œå¤šè¿æ¥æ± æœºåˆ¶ï¼Œä»è€Œè®©ç»„ä»¶æä¾›é«˜å¯ç”¨å’Œé«˜æ€§èƒ½çš„è®¿é—®æ–¹æ¡ˆ;åœ¨æ•°æ®æ ¼å¼ä¸Šç»„ä»¶é»˜è®¤é›†æˆäº†&lt;code&gt;json&lt;/code&gt;å’Œ&lt;code&gt;protobuf&lt;/code&gt;å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é€‰æ‹©ç›¸åº”çš„å­˜å‚¨æ ¼å¼ã€‚æ¥ä¸‹æ¥å¤§æ¦‚çœ‹ä¸€ä¸‹ç»„ä»¶çš„æ€§èƒ½å’Œåº”ç”¨åŠŸèƒ½ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;-&quot;&gt;æ€§èƒ½&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;é’ˆå¯¹Orderç»“æ„è¿›è¡Œä¸€ä¸ª&lt;code&gt;GET/SET&lt;/code&gt;æ€§èƒ½æµ‹è¯•ï¼Œåˆ†åˆ«æµ‹è¯•&lt;code&gt;BeetleX&lt;/code&gt;å’Œ&lt;code&gt;StackExchange&lt;/code&gt;åœ¨è¿™ä¸¤ä¸ªæ“ä½œä¸‹ä¸åŒçº¿ç¨‹çš„å‹æµ‹ï¼Œç”±äºåœ¨8ä»¥ä¸Šçº¿ç¨‹æ•°æµ‹è¯•&lt;code&gt;StackExchange&lt;/code&gt;ç»å¸¸æŠ›timeouté”™è¯¯....ï¼Œæ‰€ä»¥åªæµ‹äº†1,2å’Œ4çº¿ç¨‹æƒ…å†µã€‚è¯¦ç»†æµ‹è¯•ä»£ç :&lt;a href=&quot;https://github.com/IKende/BeetleX.Redis/tree/master/PerformanceTest&quot;&gt;https://github.com/IKende/BeetleX.Redis/tree/master/PerformanceTest&lt;/a&gt;ï¼ˆä»£ç é‡Œé›†æˆäº†ä¸€ä¸ªè½»å·§çš„æ€§èƒ½æµ‹è¯•åŠŸèƒ½ç±»ï¼Œç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦ç®€å•ç¼–å†™æµ‹è¯•ç”¨ä¾‹å°±å¯ä»¥åˆ—è¡¨å‡ºæµ‹è¯•æ—¶é—´å’Œå¹¶å‘ç­‰ç›¸å…³æ•°æ®ï¼Œä»¥ä¸‹æµ‹è¯•ç»“æœåˆ—è¡¨ç”±è¿™ä¸ªæµ‹è¯•ç±»è¾“å‡ºã€‚ï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æµ‹è¯•æ•°æ®ç»“æ„&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;OrderID&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;10255&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;CustomerID&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;RICSU&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;EmployeeID&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;9&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;OrderDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1996-07-12T00:00:00&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;RequiredDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1996-08-09T00:00:00&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShippedDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1996-07-15T00:00:00&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipVia&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Freight&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;148.33&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipName&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Richter Supermarkt&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipAddress&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Starenweg 5&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipCity&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;GenÃ¨ve&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipPostalCode&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1204&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ShipCountry&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Switzerland&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;}
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;  &lt;span&gt;await&lt;/span&gt;&lt;span&gt; RedisDB.Set(item.OrderID.ToString(), item);
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;  &lt;span&gt;await&lt;/span&gt; RedisDB.Get&amp;lt;Order&amp;gt;(i.ToString());
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;StackExchange&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;   &lt;span&gt;await&lt;/span&gt;&lt;span&gt; RedisDB.StringSetAsync(item.OrderID.ToString(), Newtonsoft.Json.JsonConvert.SerializeObject(item));
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;   &lt;span&gt;var&lt;/span&gt; data = &lt;span&gt;await&lt;/span&gt;&lt;span&gt; RedisDB.StringGetAsync(i.ToString());
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;   &lt;span&gt;var&lt;/span&gt; item = Newtonsoft.Json.JsonConvert.DeserializeObject&amp;lt;Northwind.Data.Order&amp;gt;(data);
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;æµ‹è¯•ç»“æœ&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
-------------------------------------------------------------------------------
|Name                          | Round| Threads|     Count| Use time(s)|   Sec|
-------------------------------------------------------------------------------
|BeetleX_SET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;5.22&lt;/span&gt;| &lt;span&gt;19157&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_SET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;6.97&lt;/span&gt;| &lt;span&gt;14357&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_SET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;6.62&lt;/span&gt;| &lt;span&gt;15103&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_GET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;5.41&lt;/span&gt;| &lt;span&gt;18487&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_GET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;7.48&lt;/span&gt;| &lt;span&gt;13378&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_GET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;7.09&lt;/span&gt;| &lt;span&gt;14105&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_MGET                  |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;7.03&lt;/span&gt;| &lt;span&gt;14216&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_MGET            |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;8.69&lt;/span&gt;| &lt;span&gt;11504&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_MGET       |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;1&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;8.36&lt;/span&gt;| &lt;span&gt;11963&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_SET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.55&lt;/span&gt;| &lt;span&gt;39246&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_SET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;3.97&lt;/span&gt;| &lt;span&gt;25199&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_SET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;3.56&lt;/span&gt;| &lt;span&gt;28069&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_GET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.78&lt;/span&gt;| &lt;span&gt;35946&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_GET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|         &lt;span&gt;4.1&lt;/span&gt;| &lt;span&gt;24364&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_GET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;3.72&lt;/span&gt;| &lt;span&gt;26907&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_MGET                  |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;3.59&lt;/span&gt;| &lt;span&gt;27871&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_MGET            |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;4.75&lt;/span&gt;| &lt;span&gt;21035&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_MGET       |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;2&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;4.55&lt;/span&gt;| &lt;span&gt;21976&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_SET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.04&lt;/span&gt;| &lt;span&gt;48956&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_SET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.37&lt;/span&gt;| &lt;span&gt;42220&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_SET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.15&lt;/span&gt;| &lt;span&gt;46541&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_GET                   |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.14&lt;/span&gt;| &lt;span&gt;46822&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_GET             |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.58&lt;/span&gt;| &lt;span&gt;38789&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_GET        |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.24&lt;/span&gt;| &lt;span&gt;44619&lt;/span&gt;|
-------------------------------------------------------------------------------
|BeetleX_MGET                  |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.49&lt;/span&gt;| &lt;span&gt;40238&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_MGET            |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;3.06&lt;/span&gt;| &lt;span&gt;32708&lt;/span&gt;|
-------------------------------------------------------------------------------
|StackExchange_Sync_MGET       |     &lt;span&gt;1&lt;/span&gt;|       &lt;span&gt;4&lt;/span&gt;|    &lt;span&gt;100000&lt;/span&gt;|        &lt;span&gt;2.76&lt;/span&gt;| &lt;span&gt;36264&lt;/span&gt;|
-------------------------------------------------------------------------------
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;-&quot;&gt;ç»„ä»¶ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;ç»„ä»¶é»˜è®¤å°±æ”¯æŒæ•°æ®å¯¹è±¡æ“ä½œï¼Œè€Œæ•°æ®å­˜å‚¨çš„æ ¼å¼åˆ™ç”±ç›¸åº”åˆ›å»ºçš„DBæ•°æ®ç±»å‹å†³å®šï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å’Œå¤„ç†æ•°æ®ä¸Šéƒ½æ¯”è¾ƒæ–¹ä¾¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;-&quot;&gt;åˆ›å»ºæ•°æ®åº“&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
RedisDB DB = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; RedisDB();
DB.AddWriteHost(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;192.168.2.19&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; set password&lt;/span&gt;
DB.AddWriteHost(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;192.168.2.19&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).Password=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;123456&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;json-&quot;&gt;Json æ•°æ®åº“&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
RedisDB DB = &lt;span&gt;new&lt;/span&gt; RedisDB(&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;new&lt;/span&gt; JsonFormater());
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;protobuf-&quot;&gt;Protobuf æ•°æ®åº“&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
RedisDB DB = &lt;span&gt;new&lt;/span&gt; RedisDB(&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;new&lt;/span&gt; ProtobufFormater());
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;-&quot;&gt;åŸºç¡€æ“ä½œ&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;70&quot;&gt;
&lt;pre&gt;
&lt;span&gt;await&lt;/span&gt; DB.Decr(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Decrby(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;5&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Del(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Dump(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Exists(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;order&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Expire(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Expireat(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;1293840000&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Get&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.GetBit(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.GetRange(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, -&lt;span&gt;3&lt;/span&gt;, -&lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.GetSet&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mycounter&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Incr(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Incrby(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.IncrbyFloat(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;0.1f&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Keys(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;t??&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.MGet&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.MGet&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;string&lt;/span&gt;&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;aaa&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.MSet(m =&amp;gt; m[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;world&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.MSetNX(m =&amp;gt; m[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;there&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Move(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;9&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.PSetEX(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;1000&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Persist(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Pexpire(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;1500&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Pexpireat(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;1555555555005&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; DB.Ping();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.PTtl(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; DB.Randomkey();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Rename(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;myotherkey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Renamenx(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;myotherkey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Set(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;henryfan&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.SetBit(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;7&lt;/span&gt;, &lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.SetEX(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.SetNX(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mykey&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.SetRange(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;6&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;redis&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Strlen(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; DB.Type(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;key2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;-&quot;&gt;åˆ—è¡¨æ“ä½œ&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;åˆ›å»ºåˆ—è¡¨&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;var&lt;/span&gt; list = DB.CreateList&amp;lt;Employee&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;employees&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;åˆ—è¡¨æ“ä½œ&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;await&lt;/span&gt;&lt;span&gt; list.BLPop();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; list.BRPop();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.BRPopLPush(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;List2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Index(&lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Insert(&lt;span&gt;true&lt;/span&gt;, GetEmployee(&lt;span&gt;2&lt;/span&gt;), GetEmployee(&lt;span&gt;3&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; list.Len();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; list.Pop();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Push(GetEmployee(&lt;span&gt;1&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Push(GetEmployee(&lt;span&gt;1&lt;/span&gt;), GetEmployee(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; myotherlist.PushX(GetEmployee(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Rem(-&lt;span&gt;2&lt;/span&gt;, GetEmployee(&lt;span&gt;1&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Set(-&lt;span&gt;2&lt;/span&gt;, GetEmployee(&lt;span&gt;5&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Trim(&lt;span&gt;1&lt;/span&gt;, -&lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; list.RPop();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.RPopLPush(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;myotherlist&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.RPush(GetEmployee(&lt;span&gt;3&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.RPush(GetEmployee(&lt;span&gt;1&lt;/span&gt;), GetEmployee(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.RPushX(GetEmployee(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; list.Range(-&lt;span&gt;3&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;hashtable-&quot;&gt;HashTableç»“æ„&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;åˆ›å»º&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; table = DB.CreateHashTable(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;myhash&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;ç›¸å…³æ“ä½œ&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
&lt;span&gt;await&lt;/span&gt; table.Del(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;emp1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.Exists(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;emp1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.Get&amp;lt;Employee&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;emp1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; table.Keys();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt;&lt;span&gt; table.Len();
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.Get&amp;lt;Employee, Order&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;emp&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;order&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.Get&amp;lt;Employee, Order, Customer&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;emp&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;order&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;customer&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.MSet(m =&amp;gt; m[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, GetEmployee(&lt;span&gt;1&lt;/span&gt;)][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;field2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, GetCustomer(&lt;span&gt;1&lt;/span&gt;&lt;span&gt;)]);
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.Set(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, GetEmployee(&lt;span&gt;1&lt;/span&gt;&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;await&lt;/span&gt; table.SetNX(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;field&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, GetEmployee(&lt;span&gt;1&lt;/span&gt;));
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;-&quot;&gt;è®¢é˜…&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;åˆ›å»ºè®¢é˜…&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
            &lt;span&gt;var&lt;/span&gt; sub =&lt;span&gt; db.Subscribe();
            sub.Register&lt;/span&gt;&amp;lt;Employee&amp;gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;test1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
            sub.Receive &lt;/span&gt;= (o, e) =&amp;gt;&lt;span&gt;
            {
                Console.WriteLine($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;[{DateTime.Now}]{e.Channel}-{e.Type}:{e.Data}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
            };
            sub.Listen();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;é€šè¿‡&lt;code&gt;Retister&lt;/code&gt;æ–¹æ³•æ³¨å†Œè®¢é˜…é¢‘é“ï¼Œåœ¨æ³¨å†Œçš„æ—¶å€™å¿…é¡»æŒ‡å®šæ•°æ®ç±»å‹ï¼Œå¯¹è±¡ååºåˆ—åŒ–çš„æ ¼å¼ä¾æ®åº“æ•°æ®çš„æ ¼å¼ç±»å‹ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;await&lt;/span&gt; DB.Publish(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;test1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, GetEmployee(i));
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;ä»¥ä¸Šæ˜¯å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;-&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;ä»¥ä¸Šæ˜¯&lt;code&gt;BeetleX.Redis&lt;/code&gt;ç°æœ‰ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œé›†ç¾¤åŠŸèƒ½æš‚æ²¡æœ‰å®ç°ï¼›ä½†æä¾›ä¸»å¤‡åŠŸèƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦æ·»åŠ å¤šä¸ªWriteHostæˆ–ReadHostï¼Œé»˜è®¤è¿æ¥æ± æœºåˆ¶éšæ„åº”å¯¹é«˜å¹¶å‘åº”ç”¨ï¼›ç»„ä»¶å¸Œæœ›æ‰“é€ ä¸€ä¸ªé«˜æ€§èƒ½ç®€ä¾¿çš„Redis .net coreç»„ä»¶,ä½†è¦å‘æŒ¥ç»„ä»¶çš„æ€§èƒ½ç‰¹è‰²å°±è¦é€‚åº”å®Œå…¨åŸºäºawaitçš„æ–¹æ³•è¿›è¡Œç»„ä»¶æ“ä½œã€‚ é¡¹ç›®å¼€æºåœ°å€ï¼š&lt;a href=&quot;https://github.com/IKende/BeetleX.Redis&quot;&gt;https://github.com/IKende/BeetleX.Redis&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 01 Apr 2019 14:09:00 +0000</pubDate>
<dc:creator>smark</dc:creator>
<og:description>BeetleX.Redisæ˜¯åŸºäºasync/non-blockingæ¨¡å¼å®ç°çš„é«˜æ€§èƒ½redisç»„ä»¶åº“ï¼Œç»„ä»¶æ”¯æŒredisåŸºç¡€æŒ‡ä»¤é›†ï¼Œå¹¶å°è£…æ›´ç®€ä¾¿çš„List,Hashsetå’ŒSubscribeæ“ä½œã€‚é™¤äº†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/smark/p/10639573.html</dc:identifier>
</item>
</channel>
</rss>