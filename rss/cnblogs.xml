<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>.NETæ‰‹æ’¸2048å°æ¸¸æˆ - .NETéªšæ“ä½œ</title>
<link>http://www.cnblogs.com/sdflysha/p/20191030-2048-by-dotnet.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/sdflysha/p/20191030-2048-by-dotnet.html</guid>
<description>&lt;p&gt;&lt;code&gt;2048&lt;/code&gt;æ˜¯ä¸€æ¬¾ç›Šæ™ºå°æ¸¸æˆï¼Œå¾—ç›Šäºå…¶è§„åˆ™ç®€å•ï¼Œåˆå’Œ&lt;code&gt;2&lt;/code&gt;çš„å€æ•°æœ‰å…³ï¼Œå› æ­¤å¹¿ä¸ºäººçŸ¥ï¼Œç‰¹åˆ«æ˜¯å¹¿å—ç¨‹åºå‘˜çš„å–œçˆ±ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†å†æ¬¡ä½¿ç”¨æˆ‘è‡ªåˆ¶çš„â€œå‡†æ¸¸æˆå¼•æ“â€&lt;code&gt;FlysEngine&lt;/code&gt;ï¼Œä»ç©ºç™½çª—å£å¼€å§‹ï¼Œæ¼”ç¤ºå¦‚ä½•â€œæ‰‹æ’¸â€&lt;code&gt;2048&lt;/code&gt;å°æ¸¸æˆï¼Œå¹¶åœ¨ç¼–ç è¿‡ç¨‹ä¸­æ„Ÿå—&lt;code&gt;C#&lt;/code&gt;çš„é­…åŠ›å’Œ&lt;code&gt;.NET&lt;/code&gt;ç¼–ç¨‹çš„å¿«ä¹ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;code&gt;FlysEngine&lt;/code&gt;æ˜¯å°è£…äº&lt;code&gt;Direct2D&lt;/code&gt;ï¼Œé‡å¤æœ¬æ–‡ç¤ºä¾‹ï¼Œåªéœ€åœ¨&lt;code&gt;.NET Core 3.0&lt;/code&gt;ä¸‹å®‰è£…&lt;code&gt;NuGet&lt;/code&gt;åŒ…&lt;code&gt;FlysEngine.Desktop&lt;/code&gt;å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸ä¸€å®šéè¦åšä¸€å±‚å°è£…æ‰èƒ½ç”¨ï¼Œåªæ˜¯&lt;code&gt;FlysEngine&lt;/code&gt;ç®€åŒ–äº†åˆ›å»ºè®¾å¤‡ã€å¤„ç†è®¾å¤‡ä¸¢å¤±ã€è®¾å¤‡èµ„æºç®¡ç†ç­‰â€œæ–°æ‰‹åŠé€€â€çº§æ“ä½œï¼Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆæ¥çœ‹ä¸€ä¸‹æœ€ç»ˆæ•ˆæœï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004313140-1363822213.gif&quot;/&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å¼€å§‹åšæ¸¸æˆå‰ï¼Œæˆ‘å…ˆèŠèŠ&lt;code&gt;CRUD&lt;/code&gt;ç¨‹åºå‘˜åšå°æ¸¸æˆæ—¶ï¼Œæˆ‘è®¤ä¸ºæœ€é‡è¦çš„ä¸‰å¤§åŸºæœ¬åŸåˆ™ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æœ‰åšä¸ªæ¸¸æˆçš„å¿ƒï¼Œä½†å‘ç°åšå‡ºæ¥æ€»ä¸æ˜¯é‚£ä¹ˆå›äº‹ã€‚è¿™æ—¶å¯ä»¥å¯¹ç…§ä¸€ä¸‹ï¼Œçœ‹æ˜¯ä¸æ˜¯è¿åäº†è¿™ä¸‰å¤§åŸåˆ™ä¸­çš„æŸä¸€ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;MVC&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºé©±åŠ¨ï¼ˆè€Œéäº‹ä»¶é©±åŠ¨ï¼‰&lt;/li&gt;
&lt;li&gt;åŠ¨ç”»&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;mvc&quot;&gt;MVC&lt;/h2&gt;
&lt;p&gt;æˆ–è€…&lt;code&gt;MVP&lt;/code&gt;â€¦â€¦å…³é”®æ˜¯å°†é€»è¾‘ä¸è§†å›¾åˆ†ç¦»ã€‚å®ƒæœ‰ä¸¤å¤§ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è§†å›¾å±‚å®Œå…¨æ²¡æœ‰çŠ¶æ€;&lt;/li&gt;
&lt;li&gt;æ•°æ®çš„å˜åŠ¨ä¸ä¼šç›´æ¥å½±å“å‘ˆç°çš„ç”»é¢ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¹Ÿå°±æ˜¯æ‰€æœ‰çš„æ•°æ®æ›´æ–°ï¼Œéƒ½åªåº”ä½“ç°åœ¨å†…å­˜ä¸­ã€‚æ¸¸æˆä¸­çš„æ•°æ®å˜åŒ–å¯èƒ½éå¸¸å¤šï¼Œåº”è¯¥ç§¯æ”’èµ·æ¥ï¼Œä¸€æ¬¡æ€§æ›´æ–°åˆ°ç•Œé¢ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºæ¸¸æˆå®æ—¶æ¸²æŸ“ç‰¹æœ‰çš„æ€§èƒ½æ‰€è¦æ±‚çš„ï¼Œæ¸¸æˆå¸¸å¸¸æœ‰æˆç™¾ä¸Šåƒä¸ªåŠ¨æ€å…ƒç´ åœ¨ç•Œé¢ä¸Šé£èˆï¼Œè¿™äº›åŠ¨ä½œå¿…é¡»åœ¨ä¸€æ¬¡å‚ç›´åŒæ­¥ï¼ˆå¦‚&lt;code&gt;16ms&lt;/code&gt;æˆ–æ›´ä½ï¼‰çš„æ—¶é—´å†…å®Œæˆï¼Œå¦åˆ™ç”¨æˆ·å°±ä¼šå¯Ÿè§‰åˆ°å¡é¡¿ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„åä¾‹æœ‰&lt;code&gt;knockout.js&lt;/code&gt;ï¼Œå®ƒåŸºäº&lt;code&gt;MVVM&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æ”¹å˜ä¼šå³æ—¶é€šçŸ¥åˆ°è§†å›¾(&lt;code&gt;DOM&lt;/code&gt;)ï¼Œå¯¼è‡´è§†å›¾æ›´æ–°ä¸å—æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;code&gt;MVC&lt;/code&gt;è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å‡å¦‚ä»£ç éœ€è¦ç§»æ¤å¹³å°æ—¶ï¼ˆå¦‚&lt;code&gt;C#&lt;/code&gt;ç§»æ¤åˆ°&lt;code&gt;html5&lt;/code&gt;ï¼‰ï¼Œåªéœ€æ›´æ–°å‘ˆç°å±‚å³å¯ï¼Œæ¨¡å‹å±‚æ‰€æœ‰é€»è¾‘éƒ½èƒ½ä¿ç•™ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åº”ç”¨ç¨‹åºé©±åŠ¨è€Œéäº‹ä»¶é©±åŠ¨&quot;&gt;åº”ç”¨ç¨‹åºé©±åŠ¨ï¼ˆè€Œéäº‹ä»¶é©±åŠ¨ï¼‰&lt;/h2&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºé©±åŠ¨çš„ç‰¹ç‚¹æ˜¯ç•Œé¢ä¸Šçš„åŠ¨æ€å…ƒç´ ï¼Œä¹‹æ‰€ä»¥â€œåŠ¨â€ï¼Œæ˜¯ç”±åº”ç”¨ç¨‹åºè§¦å‘â€”â€”è€Œéäº‹ä»¶è§¦å‘çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç‚¹å…¶å®ä¸&lt;code&gt;MVC&lt;/code&gt;ä¹Ÿæ˜¯ç›¸è¾…ç›¸æˆã€‚åº”ç”¨ç¨‹åºé©±åŠ¨ç¡®ä¿äº†&lt;code&gt;MVC&lt;/code&gt;çš„æ€§èƒ½ï¼Œä¸ä¼šå› ä¸ºä¾èµ–å˜é‡é‡æ–°æ±‚å€¼æ¬¡æ•°è¿‡å¤šè€Œå½±å“æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œå¦‚æœç•Œé¢ä¸Šæœ‰çŠ¶æ€ï¼Œå°±ä¼šå¯¼è‡´é€»è¾‘å˜å¾—éå¸¸å¤æ‚ï¼Œæ¯”å¦‚å˜é‡ä¹‹é—´çš„ä¾èµ–æ±‚å€¼ã€ç•Œé¢ä¸ŠæŸäº›å‚æ•°çš„æ›´æ–°æ—¶æœºç­‰ã€‚ä¸å¦‚ç®€å•ç‚¹æï¼ç›´æ¥å…¨éƒ¨é‡æ–°è®¡ç®—ï¼Œå…¨éƒ¨é‡æ–°æ¸²æŸ“ï¼Œç»å¯¹ä¸ä¼šé”™ï¼&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;ç»†å¿ƒçš„è¯»è€…å¯èƒ½å‘ç°æœ€ç»ˆæ•ˆæœ&lt;code&gt;demo&lt;/code&gt;ä¸­çš„æ€»åˆ†æ˜¾ç¤ºå°±æœ‰&lt;code&gt;bug&lt;/code&gt;ï¼Œå¼€å§‹æ¸¸æˆæ—¶æ€»åˆ†åº”è¯¥æ˜¯&lt;code&gt;4&lt;/code&gt;ï¼Œè€Œé&lt;code&gt;72&lt;/code&gt;ã€‚è¿™å°±æ˜¯ç”±äºè¯¥éƒ¨åˆ†æ²¡æœ‰ä½¿ç”¨åº”ç”¨ç¨‹åºé©±åŠ¨æ±‚å€¼ï¼Œå¯¼è‡´é€»è¾‘å¤æ‚ï¼Œå¯¼è‡´ç²—å¿ƒâ€¦â€¦æœ€ç»ˆå¯¼è‡´å‡ºç°äº†&lt;code&gt;bug&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨&lt;code&gt;html5&lt;/code&gt;çš„&lt;code&gt;canvas&lt;/code&gt;ä¸­ï¼Œå®æ—¶æ¸²æŸ“çš„â€œå¿ƒè„â€æ˜¯&lt;code&gt;requestAnimationFrame()&lt;/code&gt;å‡½æ•°ï¼Œåœ¨&lt;code&gt;FlysEngine&lt;/code&gt;ä¸­ï¼Œâ€œå¿ƒè„â€æ˜¯&lt;code&gt;RenderLoop.Run()&lt;/code&gt;å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;using var form = new RenderWindow { ClientSize = new System.Drawing.Size(400, 400) };
form.Draw += (RenderWindow sender, DeviceContext ctx) =&amp;gt;
{
    ctx.Clear(Color.CornflowerBlue);
};
RenderLoop.Run(form, () =&amp;gt; form.Render(1, PresentFlags.None)); // å¿ƒè„&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;åŠ¨ç”»&quot;&gt;åŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;åŠ¨ç”»æ˜¯å°æ¸¸æˆçš„çµé­‚ï¼Œä¸€ä¸ªæ¸¸æˆåšå¾—å¤Ÿä¸å¤Ÿç²¾è‡´ï¼Œæœ‰æ²¡æœ‰â€œè´¨æ„Ÿâ€ï¼Œé™¤äº†&lt;code&gt;UI&lt;/code&gt;æŠŠå…³å¤–ï¼Œå°±é æˆ‘ä»¬ç¨‹åºå‘˜æŠŠåŠ¨ç”»åšå¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨ç”»çš„æœ¬è´¨æ˜¯å˜é‡ä»ä¸€ä¸ªå€¼æŒ‰ä¸€å®šçš„é€Ÿåº¦å˜åŒ–åˆ°å¦ä¸€ä¸ªå€¼ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;using var form = new RenderWindow { StartPosition = System.Windows.Forms.FormStartPosition.CenterScreen };
float x = 0;
form.Draw += (w, ctx) =&amp;gt; 
{
    ctx.Clear(Color.CornflowerBlue);
    var brush = w.XResource.GetColor(Color.Red);
    ctx.FillRectangle(new RectangleF(x, 50, 50, 50), brush);
    ctx.DrawText($&quot;x = {x}&quot;, w.XResource.TextFormats[20], new RectangleF(0, 0, 100, 100), brush);
    x += 1.0f;
};
RenderLoop.Run(form, () =&amp;gt; form.Render(1, PresentFlags.None));&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004321079-242862676.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¦‚æœç”¨åº”ç”¨ç¨‹åºé©±åŠ¨â€”â€”è€Œéäº‹ä»¶é©±åŠ¨åšåŠ¨ç”»ï¼Œä»£ç å®¹æ˜“å˜å¾—æ··ä¹±ä¸å ªã€‚å°¤å…¶æ˜¯å¤šä¸ªåŠ¨ç”»ã€åŠ¨ç”»ä¸åŠ¨ç”»ä¹‹é—´åšä¸²è”ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ä»£ç éœ€è¦ç²¾å¿ƒè®¾è®¡ï¼Œå°†ä»£ç å†™æˆåƒäº‹ä»¶é©±åŠ¨é‚£ä¹ˆå®¹æ˜“ï¼Œä¸‹æ–‡å°†æ¼”ç¤ºå¦‚ä½•åœ¨&lt;code&gt;2048&lt;/code&gt;å°æ¸¸æˆä¸­åšå‡ºæµç•…çš„åŠ¨ç”»ã€‚&lt;/p&gt;

&lt;p&gt;å›åˆ°2048å°æ¸¸æˆï¼Œæˆ‘ä»¬å°†åœ¨åˆ¶ä½œè¿™ä¸ªæ¸¸æˆï¼Œæ…¢æ…¢ä½“ä¼šæˆ‘æ‰€è¯´çš„â€œå°æ¸¸æˆä¸‰åŸåˆ™â€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;èµ·å§‹ä»£ç &quot;&gt;èµ·å§‹ä»£ç &lt;/h2&gt;
&lt;p&gt;è¿™æ¬¡æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»&lt;code&gt;GameWindow&lt;/code&gt;ï¼Œç»§æ‰¿äº&lt;code&gt;RenderWindow&lt;/code&gt;ï¼ˆä¸åƒä¹‹å‰ç›´æ¥ä½¿ç”¨&lt;code&gt;RenderWindow&lt;/code&gt;ç±»ï¼‰ï¼Œè¿™æ ·æœ‰åˆ©äºåˆ†ç¦»è§†å›¾å±‚ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;const int MatrixSize = 4;

void Main()
{
    using var g = new GameWindow() { ClientSize = new System.Drawing.Size(400, 400) };
    RenderLoop.Run(g, () =&amp;gt; g.Render(1, PresentFlags.None));
}

public class GameWindow : RenderWindow
{
    protected override void OnDraw(DeviceContext ctx)
    {
        ctx.Clear(new Color(0xffa0adbb));
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;OnDraw&lt;/code&gt;é‡è½½å³ä¸ºæ¸²æŸ“çš„æ–¹æ³•ï¼Œæä¾›äº†ä¸€ä¸ª&lt;code&gt;ctx&lt;/code&gt;å‚æ•°ï¼Œå¯¹åº”&lt;code&gt;Direct2D&lt;/code&gt;ä¸­çš„&lt;code&gt;ID2D1DeviceContext&lt;/code&gt;ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥ç»˜å›¾ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;0xffa0adbb&lt;/code&gt;æ˜¯æ£‹ç›˜èƒŒæ™¯é¢œè‰²ï¼Œå®ƒæ˜¯ç”¨&lt;code&gt;ABGR&lt;/code&gt;çš„é¡ºåºè¡¨ç¤ºçš„ï¼Œè¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004330409-2049974830.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ£‹ç›˜&quot;&gt;æ£‹ç›˜&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦â€œç”»â€ä¸€ä¸ªæ£‹ç›˜ï¼Œå®ƒåˆ†ä¸ºèƒŒæ™¯å’Œæ£‹æ ¼å­ç»„æˆã€‚è¿™éƒ¨åˆ†å†…å®¹æ˜¯å®Œå…¨é™æ€çš„ï¼Œå› æ­¤å¯ä»¥åœ¨å‘ˆç°å±‚ç›´æ¥å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;æ£‹ç›˜åº”è¯¥éšç€çª—å£å¤§å°å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤å„ä¸ªå˜é‡éƒ½åº”è¯¥åŠ¨æ€è®¡ç®—å¾—å‡ºã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004341241-1232584573.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ï¼Œ&lt;code&gt;2048&lt;/code&gt;æ¸¸æˆåŒºåŸŸåº”è¯¥ä¸ºæ­£æ–¹å½¢ï¼Œå› æ­¤æ€»è¾¹é•¿&lt;code&gt;fullEdge&lt;/code&gt;åº”è¯¥ä¸ºçª—å£çš„é«˜å®½å±æ€§çš„è¾ƒå°è€…ï¼ˆä»¥åˆšå¥½æ”¾ä¸‹ä¸€ä¸ªæ­£æ–¹å½¢ï¼‰ï¼Œä»£ç è¡¨ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;float fullEdge = Math.Min(ctx.Size.Width, ctx.Size.Height);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–¹å—ä¸æ–¹å—ä¹‹é—´çš„è·ç¦»å®šä¹‰ä¸ºæ€»è¾¹é•¿çš„&lt;code&gt;1/8&lt;/code&gt;å†é™¤ä»¥&lt;code&gt;MatrixSize&lt;/code&gt;ï¼ˆä¹Ÿå°±æ˜¯4ï¼‰ï¼Œæ­¤æ—¶å•ä¸ªæ–¹å—çš„è¾¹é•¿å°±å¯ä»¥è®¡ç®—å‡ºæ¥äº†ï¼Œä¸ºæ€»è¾¹é•¿&lt;code&gt;fullEdge&lt;/code&gt;å‡å»5ä¸ª&lt;code&gt;gap&lt;/code&gt;å†é™¤ä»¥&lt;code&gt;MatrixSize&lt;/code&gt;ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;float gap = fullEdge / (MatrixSize * 8);
float edge = (fullEdge - gap * (MatrixSize + 1)) / MatrixSize;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åå³å¯æŒ‰å¾ªç¯ç»˜åˆ¶&lt;code&gt;4&lt;/code&gt;è¡Œ&lt;code&gt;4&lt;/code&gt;åˆ—æ–¹å—ä½ç½®ï¼Œä½¿ç”¨çŸ©é˜µå˜æ¢å¯ä»¥è®©ä»£ç æ›´ç®€å•ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;foreach (var v in MatrixPositions)
{
    float centerX = gap + v.x * (edge + gap) + edge / 2.0f;
    float centerY = gap + v.y * (edge + gap) + edge / 2.0f;

    ctx.Transform =
        Matrix3x2.Translation(-edge / 2, -edge / 2) *
        Matrix3x2.Translation(centerX, centerY);

    ctx.FillRoundedRectangle(new RoundedRectangle
    {
        RadiusX = edge / 21,
        RadiusY = edge / 21,
        Rect = new RectangleF(0, 0, edge, edge),
    }, XResource.GetColor(new Color(0x59dae4ee)));
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„&lt;code&gt;foreach (var v in MatrixPositions)&lt;/code&gt;æ˜¯ä»¥ä¸‹ä»£ç çš„ç®€å†™ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;for (var x = 0; x &amp;lt; MatrixSize; ++x)
{
    for (var y = 0; y &amp;lt; MatrixSize; ++y)
    {
        // ...
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç”±äº&lt;code&gt;2048&lt;/code&gt;å°†å¤šæ¬¡éå†&lt;code&gt;x&lt;/code&gt;å’Œ&lt;code&gt;y&lt;/code&gt;ï¼Œå› æ­¤å®šä¹‰äº†ä¸€ä¸ªå˜é‡&lt;code&gt;MatrixPositions&lt;/code&gt;æ¥ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;static IEnumerable&amp;lt;int&amp;gt; inorder = Enumerable.Range(0, MatrixSize);
static IEnumerable&amp;lt;(int x, int y)&amp;gt; MatrixPositions =&amp;gt; 
    inorder.SelectMany(y =&amp;gt; inorder.Select(x =&amp;gt; (x, y)));&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004356245-168455058.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;åŠ å…¥æ•°å­—æ–¹å—&quot;&gt;åŠ å…¥æ•°å­—æ–¹å—&lt;/h2&gt;
&lt;p&gt;æ•°æ®æ–¹å—ç”±äºæ˜¯æ´»åŠ¨çš„ï¼Œä¸ºäº†ä»£ç æ¸…æ™°ï¼Œéœ€è¦åŠ å…¥é¢å¤–ä¸¤ä¸ªç±»ï¼Œ&lt;code&gt;Cell&lt;/code&gt;å’Œ&lt;code&gt;Matrix&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;cellç±»&quot;&gt;Cellç±»&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Cell&lt;/code&gt;æ˜¯å•ä¸ªæ–¹å—ï¼Œéœ€è¦ä¿å­˜å½“å‰çš„æ•°å­—&lt;code&gt;N&lt;/code&gt;ï¼Œå…¶æ¬¡è¿˜è¦è·å–å½“å‰çš„é¢œè‰²ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;class Cell
{
    public int N;

    public Cell(int n)
    {
        N = n;
    }

    public DisplayInfo DisplayInfo =&amp;gt; N switch
    {
        2 =&amp;gt; DisplayInfo.Create(),
        4 =&amp;gt; DisplayInfo.Create(0xede0c8ff),
        8 =&amp;gt; DisplayInfo.Create(0xf2b179ff, 0xf9f6f2ff),
        16 =&amp;gt; DisplayInfo.Create(0xf59563ff, 0xf9f6f2ff),
        32 =&amp;gt; DisplayInfo.Create(0xf67c5fff, 0xf9f6f2ff),
        64 =&amp;gt; DisplayInfo.Create(0xf65e3bff, 0xf9f6f2ff),
        128 =&amp;gt; DisplayInfo.Create(0xedcf72ff, 0xf9f6f2ff, 45),
        256 =&amp;gt; DisplayInfo.Create(0xedcc61ff, 0xf9f6f2ff, 45),
        512 =&amp;gt; DisplayInfo.Create(0xedc850ff, 0xf9f6f2ff, 45),
        1024 =&amp;gt; DisplayInfo.Create(0xedc53fff, 0xf9f6f2ff, 35),
        2048 =&amp;gt; DisplayInfo.Create(0x3c3a32ff, 0xf9f6f2ff, 35),
        _ =&amp;gt; DisplayInfo.Create(0x3c3a32ff, 0xf9f6f2ff, 30),
    };
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;code&gt;DisplayInfo&lt;/code&gt;ç±»ç”¨æ¥è¡¨è¾¾æ–¹å—çš„æ–‡å­—é¢œè‰²ã€èƒŒæ™¯é¢œè‰²å’Œå­—ä½“å¤§å°ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;struct DisplayInfo
{
    public Color Background;
    public Color Foreground;
    public float FontSize;

    public static DisplayInfo Create(uint background = 0xeee4daff, uint color = 0x776e6fff, float fontSize = 55) =&amp;gt;
        new DisplayInfo { Background = new Color(background), Foreground = new Color(color), FontSize = fontSize };
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–‡ç« ä¸­çš„â€œé­”æ³•â€æ•°å­—&lt;code&gt;0xeee4daff&lt;/code&gt;ç­‰ï¼Œå’Œä¸Šæ–‡ä¸€æ ·ï¼Œæ˜¯é¢œè‰²çš„&lt;code&gt;ABGR&lt;/code&gt;é¡ºåºè¡¨ç¤ºçš„ã€‚é€šè¿‡ä¸€ä¸ªç®€å•çš„&lt;code&gt;Create&lt;/code&gt;æ–¹æ³•ï¼Œå³å¯å®ç°é»˜è®¤é¢œè‰²ã€é»˜è®¤å­—ä½“çš„ä»£ç ç®€åŒ–ï¼Œæ— éœ€å†™è¿‡å¤šçš„&lt;code&gt;if/else&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æˆ‘ç‰¹æ„ä½¿ç”¨äº†&lt;code&gt;struct&lt;/code&gt;è€Œé&lt;code&gt;class&lt;/code&gt;å…³é”®å­—ï¼Œè¿™æ ·åˆ›å»ºçš„æ˜¯å€¼ç±»å‹è€Œéå¼•ç”¨ç±»å‹ï¼Œå¯ä»¥æ— éœ€åˆ†é…å’Œå›æ”¶å †å†…å­˜ã€‚åœ¨åº”ç”¨æˆ–æ¸¸æˆä¸­ï¼Œå†…å­˜åˆ†é…å’Œå›æ”¶å¸¸å¸¸æ˜¯æœ€å½±å“æ€§èƒ½å’Œååæ€§çš„æŒ‡æ ‡ä¹‹ä¸€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;N switch { ... }&lt;/code&gt;è¿™æ ·çš„ä»£ç ï¼Œæ˜¯&lt;code&gt;C# 8.0&lt;/code&gt;çš„&lt;code&gt;switch expression&lt;/code&gt;ç‰¹æ€§ï¼ˆä¸‹æ–‡å°†ç»§ç»­&lt;strong&gt;å¤§é‡&lt;/strong&gt;ä½¿ç”¨ï¼‰ï¼Œå¯ä»¥é€šè¿‡è¡¨è¾¾å¼â€”â€”è€Œéè¯­å¥çš„æ–¹å¼è¡¨è¾¾ä¸€ä¸ªé€»è¾‘ï¼Œå¯ä»¥è®©ä»£ç å¤§å¤§ç®€åŒ–ã€‚è¯¥ç‰¹æ€§ç°åœ¨åœ¨&lt;code&gt;.NET Core 3.0&lt;/code&gt;é¡¹ç›®ä¸­é»˜è®¤å·²ç»æ‰“å¼€ï¼ŒæŸäº›æ”¯æŒçš„æ—©æœŸç‰ˆæœ¬ï¼Œéœ€è¦å°†é¡¹ç›®ä¸­çš„&lt;code&gt;&amp;lt;LangVersion&amp;gt;&lt;/code&gt;å±æ€§è®¾ç½®ä¸º&lt;code&gt;8.0&lt;/code&gt;æ‰å¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ ¹æ®&lt;code&gt;2048&lt;/code&gt;çš„è®¾è®¡æ–‡æ¡£å’Œå‚è€ƒå…¶å®ƒé¡¹ç›®ï¼Œä¸€ä¸ªæ–¹å—åˆ›å»ºæ—¶æœ‰&lt;code&gt;90%&lt;/code&gt;æœºç‡æ˜¯&lt;code&gt;2&lt;/code&gt;ï¼Œ&lt;code&gt;10%&lt;/code&gt;æœºç‡æ˜¯&lt;code&gt;4&lt;/code&gt;ï¼Œè¿™å¯ä»¥é€šè¿‡&lt;code&gt;.NET&lt;/code&gt;ä¸­çš„&lt;code&gt;Random&lt;/code&gt;ç±»å®ç°ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;static Random r = new Random();
public static Cell CreateRandom() =&amp;gt; new Cell(r.NextDouble() &amp;lt; 0.9 ? 2 : 4);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨æ—¶ï¼Œåªéœ€è°ƒç”¨&lt;code&gt;CreateRandom()&lt;/code&gt;å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;matrixç±»&quot;&gt;Matrixç±»&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Matrix&lt;/code&gt;ç”¨äºç®¡ç†å’Œæ§åˆ¶å¤šä¸ª&lt;code&gt;Cell&lt;/code&gt;ç±»ã€‚å®ƒåŒ…å«äº†ä¸€ä¸ªäºŒç»´æ•°ç»„&lt;code&gt;Cell[,]&lt;/code&gt;ï¼Œç”¨äºä¿å­˜&lt;code&gt;4x4&lt;/code&gt;çš„&lt;code&gt;Cell&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;class Matrix
{
    public Cell[,] CellTable;

    public IEnumerable&amp;lt;Cell&amp;gt; GetCells()
    {
        foreach (var c in CellTable)
            if (c != null) yield return c;
    }

    public int GetScore() =&amp;gt; GetCells().Sum(v =&amp;gt; v.N);

    public void ReInitialize()
    {
        CellTable = new Cell[MatrixSize, MatrixSize];

        (int x, int y)[] allPos = MatrixPositions.ShuffleCopy();
        for (var i = 0; i &amp;lt; 2; ++i) // 2: initial cell count
        {
            CellTable[allPos[i].y, allPos[i].x] = Cell.CreateRandom();
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;ReInitialize&lt;/code&gt;æ–¹æ³•å¯¹&lt;code&gt;Cell[,]&lt;/code&gt;äºŒç»´æ•°ç»„è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œç„¶ååœ¨éšæœºä½ç½®åˆ›å»ºäº†ä¸¤ä¸ª&lt;code&gt;Cell&lt;/code&gt;ã€‚å€¼å¾—ä¸€æçš„æ˜¯&lt;code&gt;ShuffleCopy()&lt;/code&gt;å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥å¯¹&lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;è¿›è¡Œä¹±åºï¼Œç„¶åå¤åˆ¶ä¸ºæ•°ç»„ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;static class RandomUtil
{
    static Random r = new Random();
    public static T[] ShuffleCopy&amp;lt;T&amp;gt;(this IEnumerable&amp;lt;T&amp;gt; data)
    {
        var arr = data.ToArray();

        for (var i = arr.Length - 1; i &amp;gt; 0; --i)
        {
            int randomIndex = r.Next(i + 1);

            T temp = arr[i];
            arr[i] = arr[randomIndex];
            arr[randomIndex] = temp;
        }

        return arr;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥å‡½æ•°çœ‹ä¼¼ç®€å•ï¼Œèƒ½å†™å‡†ç¡®å¯ä¸å®¹æ˜“ã€‚å°¤å…¶æ³¨æ„&lt;code&gt;for&lt;/code&gt;å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ä¸æ˜¯&lt;code&gt;i &amp;gt;= 0&lt;/code&gt;ï¼Œè€Œæ˜¯&lt;code&gt;i &amp;gt; 0&lt;/code&gt;ï¼Œè¿™ä¸¤è€…æœ‰åŒºåˆ«ï¼Œä»¥åæˆ‘æœ‰æœºä¼šä¼šæ·±å…¥èŠèŠè¿™ä¸ªå‡½æ•°ã€‚ä»Šå¤©æœ€ç®€å•çš„åŠæ³•å°±æ˜¯â€”â€”ç›´æ¥ä½¿ç”¨å®ƒå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åå›åˆ°&lt;code&gt;GameWindow&lt;/code&gt;ç±»çš„&lt;code&gt;OnDraw&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æ³•ç‚®åˆ¶ï¼Œå°†&lt;code&gt;Matrix&lt;/code&gt;â€œç”»â€å‡ºæ¥å³å¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;// .. ç»§ä¹‹å‰çš„OnDrawæ–¹æ³•å†…å®¹
foreach (var p in MatrixPositions)
{
    var c = Matrix.CellTable[p.y, p.x];
    if (c == null) continue;

    float centerX = gap + p.x * (edge + gap) + edge / 2.0f;
    float centerY = gap + p.y * (edge + gap) + edge / 2.0f;

    ctx.Transform =
        Matrix3x2.Translation(-edge / 2, -edge / 2) *
        Matrix3x2.Translation(centerX, centerY);
    ctx.FillRectangle(new RectangleF(0, 0, edge, edge), XResource.GetColor(c.DisplayInfo.Background));

    var textLayout = XResource.TextLayouts[c.N.ToString(), c.DisplayInfo.FontSize];
    ctx.Transform =
        Matrix3x2.Translation(-textLayout.Metrics.Width / 2, -textLayout.Metrics.Height / 2) *
        Matrix3x2.Translation(centerX, centerY);
    ctx.DrawTextLayout(Vector2.Zero, textLayout, XResource.GetColor(c.DisplayInfo.Foreground));
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004421898-645356214.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³æµ‹è¯•æ‰€æœ‰æ–¹å—é¢œè‰²ï¼Œå¯å°†&lt;code&gt;ReInitialize()&lt;/code&gt;æ–¹æ³•æ”¹ä¸ºå¦‚ä¸‹å³å¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public void ReInitialize()
{
    CellTable = new Cell[MatrixSize, MatrixSize];

    CellTable[0, 0] = new Cell(2);
    CellTable[0, 1] = new Cell(4);
    CellTable[0, 2] = new Cell(8);
    CellTable[0, 3] = new Cell(16);
    CellTable[1, 0] = new Cell(32);
    CellTable[1, 1] = new Cell(64);
    CellTable[1, 2] = new Cell(128);
    CellTable[1, 3] = new Cell(256);
    CellTable[2, 0] = new Cell(512);
    CellTable[2, 1] = new Cell(1024);
    CellTable[2, 2] = new Cell(2048);
    CellTable[2, 3] = new Cell(4096);
    CellTable[3, 0] = new Cell(8192);
    CellTable[3, 1] = new Cell(16384);
    CellTable[3, 2] = new Cell(32768);
    CellTable[3, 3] = new Cell(65536);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004427693-2070081514.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œçœ‹èµ·æ¥â€¦â€¦æœ‰é‚£ä¹ˆç‚¹æ„æ€äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¼•å…¥äº‹ä»¶æŠŠæ–¹å—ç§»åŠ¨èµ·æ¥&quot;&gt;å¼•å…¥äº‹ä»¶ï¼ŒæŠŠæ–¹å—ç§»åŠ¨èµ·æ¥&lt;/h2&gt;
&lt;p&gt;æœ¬ç¯‡ä¹Ÿåˆ†ä¸¤éƒ¨åˆ†ï¼Œäº‹ä»¶ï¼Œå’Œæ–¹å—ç§»åŠ¨é€»è¾‘ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äº‹ä»¶&quot;&gt;äº‹ä»¶&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæ˜¯äº‹ä»¶ï¼Œè¦å°†æ–¹å—ç§»åŠ¨èµ·æ¥ï¼Œæˆ‘ä»¬å†æ¬¡å¼•å…¥å¤§åé¼é¼çš„&lt;code&gt;Rx&lt;/code&gt;ï¼ˆå…¨ç§°ï¼š&lt;code&gt;Reactive.NET&lt;/code&gt;ï¼Œ&lt;code&gt;NuGet&lt;/code&gt;åŒ…ï¼š&lt;code&gt;System.Reactive&lt;/code&gt;ï¼‰ã€‚ç„¶åå…ˆå¼•å…¥ä¸€ä¸ªåŸºç¡€æšä¸¾ï¼Œç”¨äºè¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;enum Direction
{
    Up, Down, Left, Right,
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åå°†é”®ç›˜çš„ä¸Šä¸‹å·¦å³äº‹ä»¶ï¼Œè½¬æ¢ä¸ºè¯¥æšä¸¾çš„&lt;code&gt;IObservable&amp;lt;Direction&amp;gt;&lt;/code&gt;æµï¼ˆå¯ä»¥å†™åœ¨&lt;code&gt;GameWindow&lt;/code&gt;æ„é€ å‡½æ•°ä¸­ï¼‰ï¼Œç„¶åè°ƒç”¨è¯¥â€œæµâ€çš„&lt;code&gt;.Subscribe&lt;/code&gt;æ–¹æ³•ç›´æ¥è®¢é˜…è¯¥â€œæµâ€ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;var keyUp = Observable.FromEventPattern&amp;lt;KeyEventArgs&amp;gt;(this, nameof(this.KeyUp))
    .Select(x =&amp;gt; x.EventArgs.KeyCode);

keyUp.Select(x =&amp;gt; x switch
    {
        Keys.Left =&amp;gt; (Direction?)Direction.Left,
        Keys.Right =&amp;gt; Direction.Right,
        Keys.Down =&amp;gt; Direction.Down,
        Keys.Up =&amp;gt; Direction.Up,
        _ =&amp;gt; null
    })
    .Where(x =&amp;gt; x != null)
    .Select(x =&amp;gt; x.Value)
    .Subscribe(direction =&amp;gt;
    {
        Matrix.RequestDirection(direction);
        Text = $&quot;æ€»åˆ†ï¼š{Matrix.GetScore()}&quot;;
    });

keyUp.Where(k =&amp;gt; k == Keys.Escape).Subscribe(k =&amp;gt;
{
    if (MessageBox.Show(&quot;è¦é‡æ–°å¼€å§‹æ¸¸æˆå—ï¼Ÿ&quot;, &quot;ç¡®è®¤&quot;, MessageBoxButtons.OKCancel) == System.Windows.Forms.DialogResult.OK)
    {
        Matrix.ReInitialize();
        // è¿™è¡Œä»£ç æ²¡å†™å°±æ˜¯æ–‡ç« æœ€åˆè¯´çš„bugï¼Œå…¶æ ¹æœ¬åŸå› ï¼ˆä¹Ÿè®¸å¿˜è®°äº†ï¼‰å°±æ˜¯å› ä¸ºè¿™é‡Œä¸æ˜¯ç”¨çš„MVC/åº”ç”¨ç¨‹åºé©±åŠ¨
        // Text = $&quot;æ€»åˆ†ï¼š{Matrix.GetScore()}&quot;;
    }
});&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¯æ¬¡ç”¨æˆ·æ¾å¼€ä¸Šä¸‹å·¦å³å››ä¸ªé”®ä¹‹ä¸€ï¼Œå°±ä¼šè°ƒç”¨&lt;code&gt;Matrix&lt;/code&gt;çš„&lt;code&gt;RequestDirection&lt;/code&gt;æ–¹æ³•ï¼ˆé©¬ä¸Šè¯´ï¼‰ï¼Œæ¾ä¸‹&lt;code&gt;Escape&lt;/code&gt;é”®ï¼Œåˆ™ä¼šæç¤ºç”¨æˆ·æ˜¯å¦é‡æ–°å¼€å§‹ç©ï¼Œç„¶åé‡æ–°æ˜¾ç¤ºæ–°çš„æ€»åˆ†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æˆ‘å†æ¬¡ä½¿ç”¨äº†&lt;code&gt;C# 8.0&lt;/code&gt;çš„&lt;code&gt;switch expression&lt;/code&gt;è¯­æ³•ï¼Œå®ƒè®©æˆ‘çœå»äº†&lt;code&gt;if/else&lt;/code&gt;æˆ–&lt;code&gt;switch case&lt;/code&gt;ï¼Œä»£ç ç²¾ç»ƒäº†ä¸å°‘ï¼›&lt;/li&gt;
&lt;li&gt;ä¸æ˜¯éå¾—è¦ç”¨&lt;code&gt;Rx&lt;/code&gt;ï¼Œä½†&lt;code&gt;Rx&lt;/code&gt;ç›¸å½“äºå°†äº‹ä»¶è½¬æ¢ä¸ºäº†æ•°æ®ï¼Œå¯ä»¥è®©ä»£ç ç²¾ç»ƒè®¸å¤šï¼Œä¸”æå¤§åœ°æé«˜äº†å¯æ‰©å±•æ€§ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;h3 id=&quot;ç§»åŠ¨é€»è¾‘&quot;&gt;ç§»åŠ¨é€»è¾‘&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆåœ¨è„‘å­é‡Œé¢æƒ³æƒ³ï¼Œæ„Ÿå—ä¸€ä¸‹è¿™æ¬¾æ¸¸æˆçš„ç§»åŠ¨é€»è¾‘åº”è¯¥æ˜¯æ€æ ·çš„ã€‚ï¼ˆä½ å¯ä»¥åœ¨è‰ç¨¿æœ¬ä¸Šå…ˆç”»ç”»å›¾â€¦â€¦ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘å°†&lt;code&gt;2048&lt;/code&gt;æ¸¸æˆçš„é€»è¾‘æ¦‚æ‹¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å°†æ‰€æœ‰æ–¹å—ï¼Œå‘ç”¨æˆ·æŒ‡å®šçš„æ–¹å‘éå†ï¼Œæ‰¾åˆ°æœ€è¿‘çš„æ–¹å—ä½ç½®&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰¾åˆ°ï¼Œä¸”æ•°å­—ä¸€æ ·ï¼Œåˆ™åˆå¹¶ï¼ˆåˆ é™¤å¯¹é¢ï¼Œè‡ªå·±åŠ å€ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰¾åˆ°ï¼Œä½†æ•°å­—ä¸ä¸€æ ·ï¼Œåˆ™ç§»åŠ¨åˆ°å¯¹é¢çš„å‰ä¸€æ ¼&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘ç”Ÿè¿‡ç§»åŠ¨ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªæ–°æ–¹å—&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¦‚æœæƒ³æ¸…æ¥šäº†è¿™ä¸ªé€»è¾‘ï¼Œå°±èƒ½å†™å‡ºä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public void RequestDirection(Direction direction)
{
    if (GameOver) return;

    var dv = Directions[(int)direction];
    var tx = dv.x == 1 ? inorder.Reverse() : inorder;
    var ty = dv.y == 1 ? inorder.Reverse() : inorder;

    bool moved = false;
    foreach (var i in tx.SelectMany(x =&amp;gt; ty.Select(y =&amp;gt; (x, y))))
    {
        Cell cell = CellTable[i.y, i.x];
        if (cell == null) continue;

        var next = NextCellInDirection(i, dv);

        if (WithinBounds(next.target) &amp;amp;&amp;amp; CellTable[next.target.y, next.target.x].N == cell.N)
        {   // å¯¹é¢æœ‰æ–¹å—ï¼Œä¸”å¯åˆå¹¶
            CellTable[i.y, i.x] = null;
            CellTable[next.target.y, next.target.x] = cell;
            cell.N *= 2;
            moved = true;
        }
        else if (next.prev != i) // å¯¹é¢æ— æ–¹å—ï¼Œç§»åŠ¨åˆ°prev
        {
            CellTable[i.y, i.x] = null;
            CellTable[next.prev.y, next.prev.x] = cell;
            moved = true;
        }
    }

    if (moved)
    {
        var nextPos = MatrixPositions
            .Where(v =&amp;gt; CellTable[v.y, v.x] == null)
            .ShuffleCopy()
            .First();
        CellTable[nextPos.y, nextPos.x] = Cell.CreateRandom();

        if (!IsMoveAvailable()) GameOver = true;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;code&gt;dv&lt;/code&gt;ã€&lt;code&gt;tx&lt;/code&gt;ä¸&lt;code&gt;ty&lt;/code&gt;ä¸‰ä¸ªå˜é‡ï¼Œå·§å¦™åœ°å°†&lt;code&gt;Direction&lt;/code&gt;æšä¸¾è½¬æ¢æˆäº†æ•°æ®ï¼Œé¿å…äº†è¿‡å¤šçš„&lt;code&gt;if/else&lt;/code&gt;ï¼Œå¯¼è‡´ä»£ç è†¨èƒ€ã€‚ç„¶åé€šè¿‡ä¸€è¡Œç®€å•çš„&lt;code&gt;LINQ&lt;/code&gt;ï¼Œå†æ¬¡å°†ä¸¤ä¸ª&lt;code&gt;for&lt;/code&gt;å¾ªç¯è”åˆåœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;æ³¨æ„ç¤ºä¾‹è¿˜ä½¿ç”¨äº†&lt;code&gt;(x, y)&lt;/code&gt;è¿™æ ·çš„è¯­æ³•ï¼ˆä¸‹æ–‡å°†ç»§ç»­&lt;strong&gt;å¤§é‡&lt;/strong&gt;ä½¿ç”¨ï¼‰ï¼Œè¿™å«&lt;code&gt;Value Tuple&lt;/code&gt;ï¼Œæˆ–è€…&lt;code&gt;å€¼å…ƒç»„&lt;/code&gt;ã€‚&lt;code&gt;Value Tuple&lt;/code&gt;æ˜¯&lt;code&gt;C# 7.0&lt;/code&gt;çš„æ–°åŠŸèƒ½ï¼Œå®ƒå’Œ&lt;code&gt;C# 6.0&lt;/code&gt;æ–°å¢çš„&lt;code&gt;Tuple&lt;/code&gt;çš„åŒºåˆ«æœ‰ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Value Tuple&lt;/code&gt;å¯ä»¥é€šè¿‡&lt;code&gt;(x, y)&lt;/code&gt;è¿™æ ·çš„è¯­æ³•å†…è”ï¼Œè€Œ&lt;code&gt;Tuple&lt;/code&gt;è¦ä½¿ç”¨&lt;code&gt;Tuple.Create(x, y)&lt;/code&gt;æ¥åˆ›å»º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Value Tuple&lt;/code&gt;æ•…åæ€ä¹‰ï¼Œå®ƒæ˜¯&lt;code&gt;å€¼ç±»å‹&lt;/code&gt;ï¼Œå¯ä»¥æ— éœ€å†…å­˜åˆ†é…å’Œ&lt;code&gt;GC&lt;/code&gt;å¼€é”€ï¼ˆä½†ç¨ç¨å¢é•¿äº†å°‘è®¸å†…å­˜å¤åˆ¶å¼€é”€ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;æˆ‘è¿˜å®šä¹‰äº†å¦å¤–ä¸¤ä¸ªå­—æ®µï¼š&lt;code&gt;GameOver&lt;/code&gt;å’Œ&lt;code&gt;KeepGoing&lt;/code&gt;ï¼Œç”¨æ¥è¡¨ç¤ºæ˜¯å¦æ¸¸æˆç»“æŸå’Œæ¸¸æˆèƒœåˆ©æ—¶æ˜¯å¦ç»§ç»­ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public bool GameOver,KeepGoing;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;code&gt;NextCellInDirection&lt;/code&gt;ç”¨æ¥è®¡ç®—æ–¹å—å¯¹é¢çš„æƒ…å†µï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public ((int x, int y) target, (int x, int y) prev) NextCellInDirection((int x, int y) cell, (int x, int y) dv)
{
    (int x, int y) prevCell;
    do
    {
        prevCell = cell;
        cell = (cell.x + dv.x, cell.y + dv.y);
    }
    while (WithinBounds(cell) &amp;amp;&amp;amp; CellTable[cell.y, cell.x] == null);

    return (cell, prevCell);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;IsMoveAvailable&lt;/code&gt;å‡½æ•°ç”¨æ¥åˆ¤æ–­æ¸¸æˆæ˜¯å¦è¿˜èƒ½ç»§ç»­ï¼Œå¦‚æœä¸èƒ½ç»§ç»­å°†è®¾ç½®&lt;code&gt;GameOver = true&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒçš„é€»è¾‘æ˜¯å¦‚æœæ–¹å—æ•°ä¸æ»¡ï¼Œåˆ™æ˜¾ç¤ºæ¸¸æˆå¯ä»¥ç»§ç»­ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æœ‰ä»»æ„ç›¸é‚»æ–¹å—æ•°å­—ç›¸åŒï¼Œæœ‰åˆ™è¡¨ç¤ºæ¸¸æˆè¿˜èƒ½ç»§ç»­ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public bool IsMoveAvailable() =&amp;gt; GetCells().Count() switch
{
    MatrixSize * MatrixSize =&amp;gt; MatrixPositions
        .SelectMany(v =&amp;gt; Directions.Select(d =&amp;gt; new
        {
            Position = v,
            Next = (x: v.x + d.x, y: v.y + d.y)
        }))
        .Where(x =&amp;gt; WithinBounds(x.Position) &amp;amp;&amp;amp; WithinBounds(x.Next))
        .Any(v =&amp;gt; CellTable[v.Position.y, v.Position.x]?.N == CellTable[v.Next.y, v.Next.x]?.N), 
    _ =&amp;gt; true, 
};&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„æˆ‘å†æ¬¡ä½¿ç”¨äº†&lt;code&gt;switch expression&lt;/code&gt;ã€&lt;code&gt;Value Tuple&lt;/code&gt;å’Œä»¤äººæ‹æ¡ˆå«ç»çš„&lt;code&gt;LINQ&lt;/code&gt;ï¼Œç›¸å½“äºåªéœ€&lt;strong&gt;ä¸€è¡Œ&lt;/strong&gt;ä»£ç ï¼Œå°±å°†è¿™äº›å¤æ‚çš„é€»è¾‘æå®šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ååˆ«å¿˜äº†åœ¨&lt;code&gt;GameWindow&lt;/code&gt;çš„&lt;code&gt;OnUpdateLogic&lt;/code&gt;é‡è½½å‡½æ•°ä¸­åŠ å…¥ä¸€äº›å¼¹çª—æç¤ºï¼Œæ˜¾ç¤ºç”¨äºæ­å–œå’Œå¤±è´¥çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;protected override void OnUpdateLogic(float dt)
{
    base.OnUpdateLogic(dt);

    if (Matrix.GameOver)
    {
        if (MessageBox.Show($&quot;æ€»åˆ†ï¼š{Matrix.GetScore()}\r\né‡æ–°å¼€å§‹å—ï¼Ÿ&quot;, &quot;å¤±è´¥ï¼&quot;, MessageBoxButtons.YesNo) == DialogResult.Yes)
        {
            Matrix.ReInitialize();
        }
        else
        {
            Matrix.GameOver = false;
        }
    }
    else if (!Matrix.KeepGoing &amp;amp;&amp;amp; Matrix.GetCells().Any(v =&amp;gt; v.N == 2048))
    {
        if (MessageBox.Show(&quot;æ‚¨è·å¾—äº†2048ï¼\r\nè¿˜æƒ³ç»§ç»­å‡çº§å—ï¼Ÿ&quot;, &quot;æ­å–œï¼&quot;, MessageBoxButtons.YesNo) == DialogResult.Yes)
        {
            Matrix.KeepGoing = true;
        }
        else
        {
            Matrix.ReInitialize();
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ—¶ï¼Œæ¸¸æˆè¿è¡Œæ•ˆæœæ˜¾ç¤ºå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004439571-1436600035.gif&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä¸­åˆ°äº†è¿™ä¸€æ­¥ï¼Œ&lt;code&gt;2048&lt;/code&gt;å·²ç»å¯å ªä¸€ç©äº†ï¼Œä½†æ€»æ„Ÿè§‰ä¸æ˜¯é‚£ä¹ˆä¸ªå‘³ã€‚è¿˜æœ‰ä»€ä¹ˆå¯ä»¥åšçš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;åŠ¨ç”»-1&quot;&gt;åŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;ä¸Šæ–‡è¯´è¿‡ï¼ŒåŠ¨ç”»æ˜¯çµé­‚çº§åˆ«çš„åŠŸèƒ½ã€‚å’Œ&lt;code&gt;CRUD&lt;/code&gt;ç¨‹åºå‘˜çš„æ—¥å¸¸â€”â€”â€œåŠŸèƒ½â€å®ç°äº†å°±ä¸‡äº‹å¤§å‰ä¸åŒï¼Œæ¸¸æˆ&lt;strong&gt;å¿…é¡»&lt;/strong&gt;è¦æœ‰åŠ¨ç”»ï¼Œæ²¡æœ‰åŠ¨ç”»ç®€ç›´å°±ç›¸å½“äºæ¸¸æˆç™½åšäº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿œå¤&lt;code&gt;jQuery&lt;/code&gt;ä¸­ï¼Œæœ‰ä¸€ä¸ª&lt;code&gt;$(element).animate()&lt;/code&gt;æ–¹æ³•ï¼Œå®ç°åŠ¨ç”»æŒºæ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡ä»¿è¯¥æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ï¼Œè‡ªå·±å®ç°ä¸€ä¸ªï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public static GameWindow Instance = null;

public static Task CreateAnimation(float initialVal, float finalVal, float durationMs, Action&amp;lt;float&amp;gt; setter)
{
    var tcs = new TaskCompletionSource&amp;lt;float&amp;gt;();
    Variable variable = Instance.XResource.CreateAnimation(initialVal, finalVal, durationMs / 1000);

    IDisposable subscription = null;
    subscription = Observable
        .FromEventPattern&amp;lt;RenderWindow, float&amp;gt;(Instance, nameof(Instance.UpdateLogic))
        .Select(x =&amp;gt; x.EventArgs)
        .Subscribe(x =&amp;gt;
        {
            setter((float)variable.Value);
            if (variable.FinalValue == variable.Value)
            {
                tcs.SetResult(finalVal);
                variable.Dispose();
                subscription.Dispose();
            }
        });

    return tcs.Task;
}

public GameWindow()
{
    Instance = this;
    // ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼Œæˆ‘å®é™…æ˜¯å°†ä¸€ä¸ªåŠ¨ç”»è½¬æ¢æˆä¸ºäº†ä¸€ä¸ª&lt;code&gt;Task&lt;/code&gt;ï¼Œè¿™æ ·å°±å¯ä»¥å®é™…å¤æ‚åŠ¨ç”»ã€ä¾èµ–åŠ¨ç”»ã€è¿ç»­åŠ¨ç”»çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¯¥å‡½æ•°ï¼Œå¯ä»¥è½»æ˜“åšå‡ºè¿™æ ·çš„æ•ˆæœï¼ŒåŠ¨ç”»éƒ¨åˆ†ä»£ç åªéœ€è¿™æ ·å†™ï¼ˆè§&lt;code&gt;animation-demo.linq&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;float x = 50, y = 150, w = 50, h = 50;
float red = 0;
protected override async void OnLoad(EventArgs e)
{
    var stage1 = new[]
    {
        CreateAnimation(initialVal: x, finalVal: 340, durationMs: 1000, v =&amp;gt; x = v),
        CreateAnimation(initialVal: h, finalVal: 100, durationMs: 600, v =&amp;gt; h = v),
    };
    await Task.WhenAll(stage1);

    await CreateAnimation(initialVal: h, finalVal: 50, durationMs: 1000, v =&amp;gt; h = v);
    await CreateAnimation(initialVal: x, finalVal: 20, durationMs: 1000, v =&amp;gt; x = v);
    while (true)
    {
        await CreateAnimation(initialVal: red, finalVal: 1.0f, durationMs: 500, v =&amp;gt; red = v);
        await CreateAnimation(initialVal: red, finalVal: 0.0f, durationMs: 500, v =&amp;gt; red = v);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼Œè¯·æ³¨æ„æœ€åçš„é»‘è‰²-çº¢è‰²é—ªçƒåŠ¨ç”»ï¼Œå…¶å®æ˜¯ä¸€ä¸ªæ— é™åŠ¨ç”»ï¼Œå„ä½å¯ä»¥æƒ³åƒä¸‹å¦‚æœ&lt;strong&gt;æ‰‹æ’¸&lt;/strong&gt;çŠ¶æ€æœºï¼Œè¿™äº›ä»£ç ä¼šå¤šä¹ˆéº»çƒ¦ï¼Œè€Œ&lt;code&gt;C#&lt;/code&gt;æ”¯æŒåç¨‹ï¼Œè¿™äº›ä»£ç åªéœ€ä¸€äº›&lt;code&gt;await&lt;/code&gt;å’Œä¸€ä¸ª&lt;code&gt;while (true)&lt;/code&gt;è¯­å¥å³å¯å®Œç¾å®Œæˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004448088-2016686405.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œå¼€å·¥åšåŠ¨ç”»äº†ï¼Œé¦–å…ˆç»™&lt;code&gt;Cell&lt;/code&gt;ç±»åšä¸€äº›ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;class Cell
{
    public int N;
    public float DisplayX, DisplayY, DisplaySize = 0;
    const float AnimationDurationMs = 120;

    public bool InAnimation =&amp;gt;
        (int)DisplayX != DisplayX ||
        (int)DisplayY != DisplayY ||
        (int)DisplaySize != DisplaySize;

    public Cell(int x, int y, int n)
    {
        DisplayX = x; DisplayY = y; N = n;
        _ = ShowSizeAnimation();
    }
    
    public async Task ShowSizeAnimation()
    {
        await GameWindow.CreateAnimation(DisplaySize, 1.2f, AnimationDurationMs, v =&amp;gt; DisplaySize = v);
        await GameWindow.CreateAnimation(DisplaySize, 1.0f, AnimationDurationMs, v =&amp;gt; DisplaySize = v);
    }

    public void MoveTo(int x, int y, int n = default)
    {
        _ = GameWindow.CreateAnimation(DisplayX, x, AnimationDurationMs, v =&amp;gt; DisplayX = v);
        _ = GameWindow.CreateAnimation(DisplayY, y, AnimationDurationMs, v =&amp;gt; DisplayY = v);

        if (n != default)
        {
            N = n;
            _ = ShowSizeAnimation();
        }
    }

    public DisplayInfo DisplayInfo =&amp;gt; N switch // ...

    static Random r = new Random();
    public static Cell CreateRandomAt(int x, int y) =&amp;gt; new Cell(x, y, r.NextDouble() &amp;lt; 0.9 ? 2 : 4);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŠ å…¥äº†&lt;code&gt;DisplayX&lt;/code&gt;ï¼Œ&lt;code&gt;DisplayY&lt;/code&gt;ã€&lt;code&gt;DisplaySize&lt;/code&gt;ä¸‰ä¸ªå±æ€§ï¼Œç”¨äºç®¡ç†å…¶ç”¨äºåœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºçš„å€¼ã€‚è¿˜åŠ å…¥äº†ä¸€ä¸ª&lt;code&gt;InAnimation&lt;/code&gt;å˜é‡ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦å¤„ç†åŠ¨ç”»çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ„é€ å‡½æ•°ç°åœ¨ä¹Ÿè¦æ±‚ä¼ å…¥&lt;code&gt;x&lt;/code&gt;å’Œ&lt;code&gt;y&lt;/code&gt;çš„å€¼ï¼Œå¦‚æœä½ç½®å˜åŒ–äº†ï¼Œç°åœ¨å¿…é¡»è°ƒç”¨&lt;code&gt;MoveTo&lt;/code&gt;æ–¹æ³•ï¼Œå®ƒä¸&lt;code&gt;Cell&lt;/code&gt;å»ºç«‹å…³è”äº†ï¼ˆä¹‹å‰å¹¶ä¸ä¼šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ShowSizeAnimation&lt;/code&gt;å‡½æ•°æ˜¯æ¼”ç¤ºè¯¥åŠ¨ç”»å¾ˆå¥½çš„ç¤ºä¾‹ï¼Œå®ƒå…ˆå°†æ–¹å—æ”¾å¤§è‡³&lt;code&gt;1.2&lt;/code&gt;å€ï¼Œç„¶åç¼©å°æˆåŸçŠ¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™ä¸ªç±»ä¹‹åï¼Œ&lt;code&gt;Matrix&lt;/code&gt;å’Œ&lt;code&gt;GameWindow&lt;/code&gt;ä¹Ÿè¦åšä¸€äº›ç›¸åº”çš„è°ƒæ•´ï¼ˆè¯¦æƒ…è§&lt;code&gt;2048.linq&lt;/code&gt;ï¼‰ï¼Œæœ€ç»ˆåšå‡ºæ¥çš„æ•ˆæœå¦‚ä¸‹ï¼ˆæ³¨æ„åˆå¹¶æ—¶çš„åŠ¨ç”»ï¼‰ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004456001-243315335.gif&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ’¤é”€åŠŸèƒ½&quot;&gt;æ’¤é”€åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;æœ‰ä¸€å¤©çªç„¶æ‰¾åˆ°äº†ä¸€ä¸ªå¸¦æ’¤é”€åŠŸèƒ½çš„&lt;code&gt;2048&lt;/code&gt;ï¼Œé‚£æ—¶æˆ‘å‘ç°&lt;code&gt;2048&lt;/code&gt;å¸¦ä¸å¸¦æ’¤é”€ï¼Œå…¶å®æ˜¯ä¸¤ä¸ªæ¸¸æˆã€‚æ’¤é”€å°±åƒç¥å™¨ï¼Œç»™çˆ±æŒ‘(&lt;code&gt;mian&lt;/code&gt;)æˆ˜(&lt;code&gt;zi&lt;/code&gt;)çš„ç©(&lt;code&gt;ruo&lt;/code&gt;)å®¶(&lt;code&gt;ji&lt;/code&gt;)å¸¦æ¥äº†è½»æ¾ä¸å¿«ä¹ï¼Œç»™äºˆäº†ç¬¬äºŒæ¬¡æœºä¼šï¼Œè®©ç©å®¶è½¬å±ä¸ºå®‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸å¦‚å…ˆåŠ å…¥æ’¤é”€åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·æ¯æ¬¡æ’¤é”€çš„ï¼Œéƒ½æ˜¯æœ€æ–°çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªç»å…¸çš„&lt;strong&gt;åå…¥å…ˆå‡º&lt;/strong&gt;çš„æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;æ ˆ&lt;/code&gt;ï¼Œå› æ­¤åœ¨&lt;code&gt;.NET&lt;/code&gt;ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;Stack&amp;lt;T&amp;gt;&lt;/code&gt;ï¼Œåœ¨&lt;code&gt;Matrix&lt;/code&gt;ä¸­å¯ä»¥è¿™æ ·å®šä¹‰ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;Stack&amp;lt;int[]&amp;gt; CellHistory = new Stack&amp;lt;int[]&amp;gt;();&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœè¦æ’¤é”€ï¼Œå¿…å°†è°ƒç”¨&lt;code&gt;Matrix&lt;/code&gt;çš„æŸä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;public void TryPopHistory()
{
    if (CellHistory.TryPop(out int[] history))
    {
        foreach (var pos in MatrixPositions)
        {
            CellTable[pos.y, pos.x] = history[pos.y * MatrixSize + pos.x] switch
            {
                default(int) =&amp;gt; null,
                _ =&amp;gt; new Cell(history[pos.y * MatrixSize + pos.x]),
            };
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œå­˜åœ¨ä¸€ä¸ª&lt;code&gt;ä¸€ç»´æ•°ç»„&lt;/code&gt;ä¸&lt;code&gt;äºŒç»´æ•°ç»„&lt;/code&gt;çš„è½¬æ¢ï¼Œé€šè¿‡æ§åˆ¶ä¸‹æ ‡æ±‚å€¼ï¼Œå³å¯è½»æ¾å°†&lt;code&gt;ä¸€ç»´æ•°ç»„&lt;/code&gt;è½¬æ¢ä¸º&lt;code&gt;äºŒç»´æ•°ç»„&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶åæ˜¯åˆ›å»ºæ’¤é”€çš„æ—¶æœºï¼Œå¿…é¡»åœ¨å‡†å¤‡ç§»åŠ¨å‰ï¼Œè®°å½•å½“å‰å†å²ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int[] history = CellTable.Cast&amp;lt;Cell&amp;gt;().Select(v =&amp;gt; v?.N ?? default).ToArray();&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;æ³¨æ„è¿™å…¶å®ä¹Ÿæ˜¯&lt;code&gt;C#&lt;/code&gt;ä¸­å°†&lt;code&gt;äºŒç»´æ•°ç»„&lt;/code&gt;è½¬æ¢ä¸º&lt;code&gt;ä¸€ç»´æ•°ç»„&lt;/code&gt;çš„è¿‡ç¨‹ï¼Œæ•°ç»„ç»§æ‰¿äº&lt;code&gt;IEnumerable&lt;/code&gt;ï¼Œè°ƒç”¨å…¶&lt;code&gt;Cast&amp;lt;T&amp;gt;&lt;/code&gt;æ–¹æ³•å³å¯è½¬æ¢ä¸º&lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;ï¼Œç„¶åå³å¯æ„‰å¿«åœ°ä½¿ç”¨&lt;code&gt;LINQ&lt;/code&gt;å’Œ&lt;code&gt;.ToArray()&lt;/code&gt;äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶ååœ¨ç¡®å®šç§»åŠ¨ä¹‹åï¼Œå°†å†å²&lt;code&gt;å…¥æ ˆ&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;if (moved)
{
    CellHistory.Push(history);
    // ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åå½“ç„¶è¿˜éœ€è¦åŠ å…¥äº‹ä»¶æ”¯æŒï¼Œç”¨æˆ·æŒ‰ä¸‹&lt;code&gt;Back&lt;/code&gt;é”®å³å¯æ’¤é”€ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;keyUp.Where(k =&amp;gt; k == Keys.Back).Subscribe(k =&amp;gt; Matrix.TryPopHistory());&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004503298-973668354.gif&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œåˆæœ‰ä¸€ä¸ª&lt;code&gt;bug&lt;/code&gt;ï¼Œæ’¤é”€æ—¶æ€»åˆ†åˆæ²¡å˜ï¼Œèªæ˜çš„è¯»è€…å¯ä»¥è¯•è¯•å¦‚ä½•è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨&lt;code&gt;MVC&lt;/code&gt;å’Œåº”ç”¨ç¨‹åºé©±åŠ¨çš„å®æ—¶æ¸²æŸ“ï¼Œåˆ™è¿™ç§&lt;code&gt;bug&lt;/code&gt;åˆ™&lt;strong&gt;ä¸å¯èƒ½&lt;/strong&gt;å‘ç”Ÿã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ‰‹åŠ¿æ“ä½œ&quot;&gt;æ‰‹åŠ¿æ“ä½œ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;2048&lt;/code&gt;å¯ä»¥åœ¨å¹³æ¿æˆ–æ‰‹æœºä¸Šç©ï¼Œå› æ­¤æ‰‹åŠ¿æ“ä½œå¿…ä¸å¯å°‘ï¼Œè™½ç„¶ç”µè„‘ä¸Šæœ‰é”®ç›˜ï¼Œä½†å¤šä¸€ä¸ªåŠŸèƒ½æ€»æ¯”å°‘ä¸€ä¸ªåŠŸèƒ½å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸çŸ¥é“&lt;code&gt;C#&lt;/code&gt;çª—å£ä¸Šæœ‰æ²¡æœ‰åš&lt;code&gt;æ‰‹åŠ¿è¯†åˆ«&lt;/code&gt;è¿™å—çš„å¼€æºé¡¹ç›®ï¼Œä½†å€ŸåŠ©&lt;code&gt;RX&lt;/code&gt;ï¼Œè¿™&lt;strong&gt;æ‰‹æ’¸&lt;/strong&gt;ä¸€ä¸ªä¹Ÿä¸éš¾ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;static IObservable&amp;lt;Direction&amp;gt; DetectMouseGesture(Form form)
{
    var mouseDown = Observable.FromEventPattern&amp;lt;MouseEventArgs&amp;gt;(form, nameof(form.MouseDown));
    var mouseUp = Observable.FromEventPattern&amp;lt;MouseEventArgs&amp;gt;(form, nameof(form.MouseUp));
    var mouseMove = Observable.FromEventPattern&amp;lt;MouseEventArgs&amp;gt;(form, nameof(form.MouseMove));
    const int throhold = 6;
    
    return mouseDown
        .SelectMany(x =&amp;gt; mouseMove
        .TakeUntil(mouseUp)
        .Select(x =&amp;gt; new { X = x.EventArgs.X, Y = x.EventArgs.Y })
        .ToList())
        .Select(d =&amp;gt;
        {
            int x = 0, y = 0;
            for (var i = 0; i &amp;lt; d.Count - 1; ++i)
            {
                if (d[i].X &amp;lt; d[i + 1].X) ++x;
                if (d[i].Y &amp;lt; d[i + 1].Y) ++y;
                if (d[i].X &amp;gt; d[i + 1].X) --x;
                if (d[i].Y &amp;gt; d[i + 1].Y) --y;
            }
            return (x, y);
        })
        .Select(v =&amp;gt; new { Max = Math.Max(Math.Abs(v.x), Math.Abs(v.y)), Value = v})
        .Where(x =&amp;gt; x.Max &amp;gt; throhold)
        .Select(v =&amp;gt;
        {
            if (v.Value.x == v.Max) return Direction.Right;
            if (v.Value.x == -v.Max) return Direction.Left;
            if (v.Value.y == v.Max) return Direction.Down;
            if (v.Value.y == -v.Max) return Direction.Up;
            throw new ArgumentOutOfRangeException(nameof(v));
        });
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªä»£ç éå¸¸ç²¾ç»ƒï¼Œä½†å…¶æœ¬è´¨æ˜¯&lt;code&gt;Rx&lt;/code&gt;å¯¹&lt;code&gt;MouseDown&lt;/code&gt;ã€&lt;code&gt;MouseUp&lt;/code&gt;å’Œ&lt;code&gt;MouseMove&lt;/code&gt;ä¸‰ä¸ªçª—å£äº‹ä»¶â€œæ‹æ¡ˆå«ç»â€çº§åˆ«çš„åº”ç”¨ï¼Œå®ƒåšäº†å¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;MouseDown&lt;/code&gt;è§¦å‘æ—¶å¼€å§‹è®°å½•ï¼Œç›´åˆ°&lt;code&gt;MouseUp&lt;/code&gt;è§¦å‘ä¸ºæ­¢&lt;/li&gt;
&lt;li&gt;å°†&lt;code&gt;MouseMove&lt;/code&gt;çš„ç‚¹é›†åˆèµ·æ¥ç”Ÿæˆä¸€ä¸ª&lt;code&gt;List&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®°å½•å„ä¸ªæ–¹å‘åæ ‡é€’å¢çš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¬¡æ•°å¤§äºæŒ‡å®šæ¬¡æ•°ï¼ˆ&lt;code&gt;6&lt;/code&gt;ï¼‰ï¼Œå³è®¤å¯ä¸ºä¸€æ¬¡äº‹ä»¶&lt;/li&gt;
&lt;li&gt;åœ¨å„ä¸ªæ–¹å‘ä¸­ï¼Œå–æœ€å¤§çš„å€¼ï¼ˆä»¥å‡å°‘è¯¯å·®ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æµ‹è¯•ä»£ç åŠæ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;void Main()
{
    using var form = new Form();
    DetectMouseGesture(form).Dump();

    Application.Run(form);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004512395-633490029.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åˆ°äº†é›†æˆåˆ°&lt;code&gt;2048&lt;/code&gt;æ¸¸æˆæ—¶ï¼Œ&lt;code&gt;Rx&lt;/code&gt;çš„ä¼˜åŠ¿åˆä½“ç°å‡ºæ¥äº†ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨äº‹ä»¶æ“ä½œï¼Œå°±ä¼šå‡ºç°ä¸¤ä¸ªå…¥å£ã€‚ä½†ä½¿ç”¨&lt;code&gt;Rx&lt;/code&gt;åè§¦å‘å…¥å£ä»ç„¶å¯ä»¥ä¿æŒç»Ÿä¸€ï¼Œåœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šï¼Œåªéœ€æ·»åŠ ä¸€è¡Œä»£ç å³å¯è§£å†³ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;keyUp.Select(x =&amp;gt; x switch
    {
        Keys.Left =&amp;gt; (Direction?)Direction.Left,
        Keys.Right =&amp;gt; Direction.Right,
        Keys.Down =&amp;gt; Direction.Down,
        Keys.Up =&amp;gt; Direction.Up,
        _ =&amp;gt; null
    })
    .Where(x =&amp;gt; x != null &amp;amp;&amp;amp; !Matrix.IsInAnimation())
    .Select(x =&amp;gt; x.Value)
    .Merge(DetectMouseGesture(this)) // åªéœ€åŠ å…¥è¿™ä¸€è¡Œä»£ç 
    .Subscribe(direction =&amp;gt;
    {
        Matrix.RequestDirection(direction);
        Text = $&quot;æ€»åˆ†ï¼š{Matrix.GetScore()}&quot;;
    });&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;ç®€ç›´éš¾ä»¥ç½®ä¿¡ï¼Œæœ‰ä¼ è¨€è¯´æˆ‘æŸä¸ªåŒå­¦ï¼Œä½¿ç”¨æŸçŸ¥åæ¸¸æˆå¼•æ“ï¼Œåšå°æ¸¸æˆé›†æˆæ‰‹åŠ¿æ§åˆ¶ï¼Œæä¸‰å¤©ä¸‰å¤œéƒ½æ²¡åšå‡ºæ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é‡æ–°æ¥å›é¡¾ä¸€ä¸‹æœ€ç»ˆæ•ˆæœï¼š&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201911/233608-20191103004313140-1363822213.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰è¿™äº›ä»£ç ï¼Œéƒ½å¯ä»¥åœ¨æˆ‘çš„&lt;code&gt;Github&lt;/code&gt;ä¸Šä¸‹è½½ï¼Œè¯·ä¸‹è½½&lt;code&gt;LINQPad 6&lt;/code&gt;è¿è¡Œã€‚ç”¨&lt;code&gt;Visual Studio 2019&lt;/code&gt;/&lt;code&gt;VS Code&lt;/code&gt;ä¹Ÿèƒ½ç¼–è¯‘è¿è¡Œï¼Œåªéœ€æ‰‹åŠ¨å°†ä»£ç æ‹·è´è‡³é¡¹ç›®ä¸­ï¼Œå¹¶å®‰è£…&lt;code&gt;FlysEngine.Desktop&lt;/code&gt;å’Œ&lt;code&gt;System.Reactive&lt;/code&gt;ä¸¤ä¸ª&lt;code&gt;NuGet&lt;/code&gt;åŒ…å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š&lt;a href=&quot;https://github.com/sdcb/blog-data/tree/master/2019/20191030-2048-by-dotnet&quot; class=&quot;uri&quot;&gt;https://github.com/sdcb/blog-data/tree/master/2019/20191030-2048-by-dotnet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;2048.linq&lt;/code&gt;æ˜¯æœ€ç»ˆç‰ˆï¼Œå¯ä»¥å®Œæ•´åœ°çœ‹åˆ°æœ€ç»ˆæ•ˆæœï¼›&lt;/li&gt;
&lt;li&gt;æœ€åˆç‰ˆæ˜¯&lt;code&gt;2048-r4-no-cell.linq&lt;/code&gt;ï¼Œå¯ä»¥ä»è¯¥æ–‡ä»¶å¼€å§‹è¿›è¡Œæ¼”ç»ƒï¼›&lt;/li&gt;
&lt;li&gt;æ¼”ç»ƒçš„é¡ºåºæ˜¯&lt;code&gt;r4, r3, r2, r1&lt;/code&gt;ï¼Œæœ€åæœ€ç»ˆç‰ˆï¼Œå› ä¸ºå†™è¿™ç¯‡æ–‡ç« æ˜¯å…ˆæŠŠæ‰€æœ‰ä¸œè¥¿åšå‡ºæ¥ï¼Œç„¶åå†æ…¢æ…¢åˆ é™¤åšâ€œé˜‰å‰²ç‰ˆâ€çš„ç¤ºä¾‹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;animation-demo.linq&lt;/code&gt;ã€&lt;code&gt;_mouse-geature.linq&lt;/code&gt;æ˜¯å‘¨è¾¹ç¤ºä¾‹ï¼Œç”¨äºæ¼”ç¤ºåŠ¨ç”»å’Œé¼ æ ‡æ‰‹åŠ¿ï¼›&lt;/li&gt;
&lt;li&gt;æˆ‘è¿˜åšäº†ä¸€ä¸ª&lt;code&gt;2048-old.linq&lt;/code&gt;ï¼Œé‡‡ç”¨çš„æ˜¯&lt;code&gt;ä¸€ç»´æ•°ç»„&lt;/code&gt;è€Œé&lt;code&gt;äºŒç»´&lt;/code&gt;å‚¨å­˜&lt;code&gt;Cell[,]&lt;/code&gt;ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹ï¼Œæœ‰å°‘è®¸åŒºåˆ«&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…¶å®é™¤äº†&lt;code&gt;C#&lt;/code&gt;ç‰ˆï¼Œæˆ‘å¤šå¹´å‰è¿˜åšäº†ä¸€ä¸ª&lt;code&gt;html5/canvas&lt;/code&gt;çš„&lt;code&gt;js&lt;/code&gt;ç‰ˆæœ¬ï¼Œ&lt;code&gt;Github&lt;/code&gt;åœ°å€å¦‚ä¸‹ï¼š&lt;a href=&quot;https://github.com/sdcb/2048&quot; class=&quot;uri&quot;&gt;https://github.com/sdcb/2048&lt;/a&gt; å…¶é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚éƒ½æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œäº‹å®ä¹Ÿæ˜¯æˆ‘ä»&lt;code&gt;js&lt;/code&gt;ç‰ˆæœ¬ç§»åŠ¨åˆ°&lt;code&gt;C#&lt;/code&gt;å¹¶æ²¡èŠ±å¤šå°‘å¿ƒæ€ã€‚è¿™æ°æ°è¯´æ˜çš„â€œå°æ¸¸æˆç¬¬ä¸€åŸåˆ™â€â€”â€”&lt;code&gt;MVC&lt;/code&gt;çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;p&gt;â€¦â€¦ä½†å®Œæˆè¿™ç¯‡æ–‡ç« æˆ‘èŠ±äº†&lt;strong&gt;å¾ˆå¤šã€å¾ˆå¤š&lt;/strong&gt;å¿ƒæ€ğŸ˜‚ã€‚å–œæ¬¢çš„æœ‹å‹ è¯·å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼šã€DotNetéªšæ“ä½œã€‘&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201908/233608-20190825165420518-990227633.jpg&quot; alt=&quot;DotNetéªšæ“ä½œ&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 02 Nov 2019 23:44:00 +0000</pubDate>
<dc:creator>.NETéªšæ“ä½œ</dc:creator>
<og:description>æœ¬æ–‡å°†å†æ¬¡ä½¿ç”¨æˆ‘è‡ªåˆ¶çš„â€œå‡†æ¸¸æˆå¼•æ“â€FlysEngineï¼Œä»ç©ºç™½çª—å£å¼€å§‹ï¼Œæ¼”ç¤ºå¦‚ä½•â€œæ‰‹æ’¸â€2048å°æ¸¸æˆï¼Œå¹¶åœ¨ç¼–ç è¿‡ç¨‹ä¸­æ„Ÿå—`C#`çš„é­…åŠ›å’Œ`.NET`ç¼–ç¨‹çš„å¿«ä¹ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/sdflysha/p/20191030-2048-by-dotnet.html</dc:identifier>
</item>
<item>
<title>laravel6.0æ§åˆ¶å™¨-èµ„æºæ§åˆ¶å™¨ - æµ®æ¢¦äº‘çƒŸ</title>
<link>http://www.cnblogs.com/dreamofprovence/p/11784855.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dreamofprovence/p/11784855.html</guid>
<description>&lt;p&gt;æ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;æ§åˆ¶å™¨ç”¨æ¥å¤„ç†ä¸šåŠ¡çš„ï¼Œä¸åº”è¯¥å¤„ç†é€»è¾‘ï¼Œå¦‚æœæ˜¯å°é¡¹ç›®å¯ä»¥æŠŠé€»è¾‘å†™åˆ°æ§åˆ¶å™¨é‡Œï¼Œå¤§ç‚¹çš„é¡¹ç›®åº”è¯¥æŠ½ç¦»å‡ºæ¥ä¸šåŠ¡å¤„ç†å±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;servicesä¸šåŠ¡å¤„ç†å±‚ï¼šæ¯”å¦‚ï¼šè·å–å€¼ï¼ŒéªŒè¯å€¼ï¼Œå¼‚å¸¸æ•è·&lt;/p&gt;

&lt;p&gt;å‘½åè§„åˆ™ï¼š&lt;/p&gt;
&lt;p&gt;æ§åˆ¶å™¨åï¼šç”¨å¤§é©¼å³°å‘½å å¦‚ï¼šHelloControllerï¼›&lt;/p&gt;
&lt;p&gt;æ–¹æ³•åï¼šç”¨å°é©¼å³° å¦‚:helloWorld();&lt;/p&gt;
&lt;p&gt;æˆå‘˜å˜é‡ï¼šå°é©¼å³° æˆ–è€… _åç§°&lt;/p&gt;

&lt;p&gt;åˆ›å»ºæ§åˆ¶å™¨ï¼ˆå¯ä»¥è‡ªå®šä¹‰ç›®å½•ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;php artisan make:controller UserController&lt;/p&gt;
&lt;p&gt;php artisan make:controller Admin/UserController&lt;/p&gt;


&lt;p&gt;æ§åˆ¶å™¨ç®€å•å®ç”¨å®ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;æ§åˆ¶å™¨ç®€å•ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;è¿ç§»æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;1.åˆ›å»ºæ•°æ®åº“ laravel6 é…ç½®æ•°æ®åº“è¿æ¥&lt;/p&gt;
&lt;p&gt;.env&lt;/p&gt;
&lt;p&gt;DB_CONNECTION=mysql&lt;/p&gt;
&lt;p&gt;DB_HOST=127.0.0.1&lt;/p&gt;
&lt;p&gt;DB_PORT=3306&lt;/p&gt;
&lt;p&gt;DB_DATABASE=laravel6&lt;/p&gt;
&lt;p&gt;DB_USERNAME=root&lt;/p&gt;
&lt;p&gt;DB_PASSWORD=12345678&lt;/p&gt;
&lt;p&gt;2.æ£€æµ‹é»˜è®¤è¿æ¥&lt;/p&gt;
&lt;p&gt;\config\database.php&lt;/p&gt;
&lt;p&gt;Â Â Â 'default' =&amp;gt; env('DB_CONNECTION', 'mysql'),&lt;/p&gt;

&lt;p&gt;3.æ•°æ®åº“è¿ç§»å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;php artisan migrate&lt;/p&gt;
&lt;p&gt;å¯èƒ½ä¼šå‡ºç°42000Â Â 1071é”™è¯¯ ï¼Œå› ä¸ºåˆ›å»ºè¡¨çš„å­—æ®µåç§°è¿‡é•¿ï¼Œå¦‚ä¸‹è§£å†³&lt;/p&gt;
&lt;p&gt;åœ¨ \Providers\AppServiceProvider.php ä¸­&lt;/p&gt;

&lt;p&gt;æ§åˆ¶å™¨ç®€å•ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;è¿ç§»æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;1.åˆ›å»ºæ•°æ®åº“ laravel6 é…ç½®æ•°æ®åº“è¿æ¥&lt;/p&gt;
&lt;p&gt;.env&lt;/p&gt;
&lt;p&gt;DB_CONNECTION=mysql&lt;/p&gt;
&lt;p&gt;DB_HOST=127.0.0.1&lt;/p&gt;
&lt;p&gt;DB_PORT=3306&lt;/p&gt;
&lt;p&gt;DB_DATABASE=laravel6&lt;/p&gt;
&lt;p&gt;DB_USERNAME=root&lt;/p&gt;
&lt;p&gt;DB_PASSWORD=12345678&lt;/p&gt;
&lt;p&gt;2.æ£€æµ‹é»˜è®¤è¿æ¥&lt;/p&gt;
&lt;p&gt;\config\database.php&lt;/p&gt;
&lt;p&gt;Â Â Â 'default' =&amp;gt; env('DB_CONNECTION', 'mysql'),&lt;/p&gt;

&lt;p&gt;3.æ•°æ®åº“è¿ç§»å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;php artisan migrate&lt;/p&gt;
&lt;p&gt;å¯èƒ½ä¼šå‡ºç°42000Â Â 1071é”™è¯¯ ï¼Œå› ä¸ºåˆ›å»ºè¡¨çš„å­—æ®µåç§°è¿‡é•¿ï¼Œå¦‚ä¸‹è§£å†³&lt;/p&gt;
&lt;p&gt;åœ¨ \Providers\AppServiceProvider.php ä¸­&lt;/p&gt;

&lt;p&gt;æ¨¡å‹å·¥ç¨‹å†™å…¥&lt;/p&gt;
&lt;p&gt;php artisan tinker&lt;/p&gt;
&lt;p&gt;Psy Shell v0.9.9 (PHP 7.3.10 â€” cli) by Justin Hileman&lt;/p&gt;
&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; factory(App\User::class,5)-&amp;gt;create();&lt;/p&gt;
&lt;p&gt;Useræ¨¡å‹ å†™å…¥5æ¡æ•°æ®&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“ä¸­å†™å…¥äº†5æ¡æ•°æ®&lt;/p&gt;

&lt;p&gt;viewè§†å›¾å±•ç¤º&lt;/p&gt;
&lt;p&gt;è·¯ç”±ï¼šRoute::get(&quot;show/{id}&quot;,&quot;UserController@show&quot;);&lt;/p&gt;
&lt;p&gt;UserControlleræ§åˆ¶å™¨å¦‚ä¸‹å†™ï¼š&lt;/p&gt;
&lt;p&gt;public function show($id)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â return view(&quot;user.profile&quot;,[&quot;user&quot; =&amp;gt; User::findOrNew($id)]);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;ä¼ é€’ id æŸ¥å‡ºä¸€æ•°æ®æ˜¾ç¤º&lt;/p&gt;
&lt;p&gt;åˆ›å»ºè§†å›¾ \view\user\profile.blade.php&lt;/p&gt;
&lt;p&gt;{{$user}}&lt;/p&gt;





&lt;p&gt;æ¨¡å‹å·¥ç¨‹å†™å…¥&lt;/p&gt;
&lt;p&gt;php artisan tinker&lt;/p&gt;
&lt;p&gt;Psy Shell v0.9.9 (PHP 7.3.10 â€” cli) by Justin Hileman&lt;/p&gt;
&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; factory(App\User::class,5)-&amp;gt;create();&lt;/p&gt;
&lt;p&gt;Useræ¨¡å‹ å†™å…¥5æ¡æ•°æ®&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“ä¸­å†™å…¥äº†5æ¡æ•°æ®&lt;/p&gt;

&lt;p&gt;viewè§†å›¾å±•ç¤º&lt;/p&gt;
&lt;p&gt;è·¯ç”±ï¼šRoute::get(&quot;show/{id}&quot;,&quot;UserController@show&quot;);&lt;/p&gt;
&lt;p&gt;UserControlleræ§åˆ¶å™¨å¦‚ä¸‹å†™ï¼š&lt;/p&gt;
&lt;p&gt;public function show($id)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â return view(&quot;user.profile&quot;,[&quot;user&quot; =&amp;gt; User::findOrNew($id)]);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;ä¼ é€’ id æŸ¥å‡ºä¸€æ•°æ®æ˜¾ç¤º&lt;/p&gt;
&lt;p&gt;åˆ›å»ºè§†å›¾ \view\user\profile.blade.php&lt;/p&gt;
&lt;p&gt;{{$user}}&lt;/p&gt;


&lt;p&gt;æ§åˆ¶å™¨åŠ è½½åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æœåŠ¡æä¾›è€…ä¸­ RouteServiceProvider.php ä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ å‘½åç©ºé—´&lt;/p&gt;
&lt;p&gt;åŠŸèƒ½ ä¸ ä¸šåŠ¡æŠ½ç¦» ä¸åŒçš„æ§åˆ¶å™¨ç›®å½•ä¸‹&lt;/p&gt;

&lt;p&gt;æ§åˆ¶å™¨ &amp;amp; å‘½åç©ºé—´ï¼š&lt;/p&gt;
&lt;p&gt;éœ€è¦ç€é‡æŒ‡å‡ºçš„æ˜¯ï¼Œåœ¨å®šä¹‰æ§åˆ¶å™¨è·¯ç”±æ—¶æˆ‘ä»¬ä¸éœ€è¦æŒ‡å®šå®Œæ•´çš„æ§åˆ¶å™¨å‘½åç©ºé—´ã€‚å› ä¸º `RouteServiceProvider` ä¼šåœ¨ä¸€ä¸ªåŒ…å«å‘½åç©ºé—´çš„è·¯ç”±ç»„ä¸­åŠ è½½è·¯ç”±æ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡ä»¤ç±»åä¸­ `App\Http\Controllers` å‘½åç©ºé—´ä¹‹åçš„éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;å•ä¸ªè¡Œä¸ºæ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦å®šä¹‰ä¸€ä¸ªåªå¤„ç†å•ä¸ªè¡Œä¸ºçš„æ§åˆ¶å™¨ï¼Œä½ å¯ä»¥åœ¨æ§åˆ¶å™¨ä¸­æ”¾ç½®ä¸€ä¸ª `__invoke` æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ Artisan å‘½ä»¤å·¥å…·é‡Œçš„ `make:controller` å‘½ä»¤ä¸­çš„ `--invokable` é€‰é¡¹æ¥ç”Ÿæˆä¸€ä¸ªå¯è°ƒç”¨çš„æ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;php artisan make:controller ShowProfile --invokable&lt;/p&gt;

&lt;p&gt;æ§åˆ¶å™¨ä¸­é—´ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;è¯·æ±‚æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·è¯·æ±‚ -&amp;gt; ä¸­é—´ä»¶ -&amp;gt; æ§åˆ¶å™¨ -&amp;gt; æ§åˆ¶å™¨æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;class UserController extends Controller&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â public function __construct()&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â $this-&amp;gt;middleware(&quot;auth&quot;);Â Â //å¦‚æœæ²¡æœ‰ç™»å½•ä¼šé‡å®šå‘åˆ° login è·¯ç”±ä¸­&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â $this-&amp;gt;middleware(&quot;log&quot;)-&amp;gt;only(&quot;test&quot;); // åªæ‰§è¡Œå½“å‰ä¸­é—´ä»¶ä¸­ index ä¹‹å¤–çš„æ–¹æ³• [å¯ä»¥æ˜¯æ•°ç»„] ç±»ä¼¼äºç™½åå•&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â $this-&amp;gt;middleware(&quot;subscribed&quot;)-&amp;gt;except(&quot;store&quot;); //æ‰§è¡Œå½“å‰ä¸­é—´ä»¶ä¸­ store ä¹‹å¤–çš„æ–¹æ³• [å¯ä»¥æ˜¯æ•°ç»„] ç±»ä¼¼äºé»‘åå•&lt;/p&gt;
&lt;p&gt;//Â Â Â Â Â Â Â Â dd($this);&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â //&lt;/p&gt;
&lt;p&gt;Â Â Â Â public function show($id)&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â return view(&quot;user.profile&quot;,[&quot;user&quot; =&amp;gt; User::findOrNew($id)]);&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â // pubf + tab å¿«æ·é”®ç”Ÿæˆæ–¹æ³•&lt;/p&gt;
&lt;p&gt;Â Â Â Â public function index()&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â echo &quot;this is index()&quot;;&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â // ç™½åå•æ–¹æ³•test()&lt;/p&gt;
&lt;p&gt;Â Â Â Â public function test()&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;

&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;é”™è¯¯ï¼š Route [login] not defined.&lt;/p&gt;
&lt;p&gt;åŸå› ï¼š æ²¡æœ‰ç™»å½•çš„æ—¶å€™å›æ‰§è¡Œ Middleware\Authenticate.php é‡å®šå‘æ–¹æ³•&lt;/p&gt;
&lt;p&gt;Â Â Â Â protected function redirectTo($request)&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â if (! $request-&amp;gt;expectsJson()) {&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â return route('login');&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;
&lt;p&gt;é”™è¯¯ï¼šéœ€è¦å¯¹è±¡å¼çš„å‚æ•° log() expects parameter 1 to be float, object given&lt;/p&gt;
&lt;p&gt;$this-&amp;gt;middleware(&quot;log&quot;)è¿™ä¸ªä¸­é—´ä»¶çš„é”™è¯¯æç¤º&lt;/p&gt;

&lt;p&gt;å¯ä»¥é€šè¿‡é—­åŒ…æ³¨å†Œä¸­é—´ä»¶&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œæ§åˆ¶å™¨è¿˜å…è®¸ä½ ä½¿ç”¨ä¸€ä¸ªé—­åŒ…æ¥æ³¨å†Œä¸­é—´ä»¶ã€‚è¿™ä¸ºä¸å®šä¹‰æ•´ä¸ªä¸­é—´ä»¶ç±»çš„æƒ…å†µä¸‹ä¸ºå•ä¸ªæ§åˆ¶å™¨å®šä¹‰ä¸­é—´ä»¶æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;$this-&amp;gt;middleware(function ($request, $next) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â return $next($request);&lt;/p&gt;
&lt;p&gt;});&lt;/p&gt;

&lt;p&gt;Httpè¯·æ±‚å¤„ç†:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·è¯·æ±‚ -&amp;gt; Illuminate\Http\Requestè¯·æ±‚ç±» -&amp;gt;&lt;/p&gt;
&lt;p&gt;laravel ä¸­ postè¯·æ±‚ Cookieæºå¸¦æœ‰ CRSFä»¤ç‰Œï¼Œå¦‚æœæƒ³è¦post getæ–¹å¼éƒ½å¯ä»¥è¯·æ±‚éœ€è¦æ³¨é‡Šæ‰ CRSFä»¤ç‰Œæ ¡éªŒåœ¨ kernel.php å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â //Â Â \App\Http\Middleware\VerifyCsrfToken::class,&lt;/p&gt;
&lt;p&gt;public function store(Request $request, $name=null)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â $name = $request-&amp;gt;input('name'); // æ—¢å¯ä»¥è·å–get ä¹Ÿå¯ä»¥è¯·æ±‚postå‚æ•°&lt;/p&gt;
&lt;p&gt;Â Â Â Â $get = $request-&amp;gt;get('name');&lt;/p&gt;
&lt;p&gt;Â Â Â Â $post = $request-&amp;gt;post('name');&lt;/p&gt;
&lt;p&gt;Â Â Â Â $all = $request-&amp;gt;all('name');&lt;/p&gt;
&lt;p&gt;Â Â Â Â dd($name,$get,$post,$all);&lt;/p&gt;
&lt;p&gt;Â Â Â Â return $name;&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªè·¯ç”±ä¸­å¯ä»¥ï¼Œæ—¢æœ‰postå‚æ•°ï¼Œä¹Ÿæœ‰getåœ°å€æ çš„ whereå‚æ•°&lt;/p&gt;
&lt;p&gt;Route::any(&quot;stores/{id}/{where?}&quot;,&quot;UserController@stores&quot;);&lt;/p&gt;

&lt;p&gt;æ‰“å°ï¼š&lt;/p&gt;
&lt;p&gt;&quot;333&quot;&lt;/p&gt;
&lt;p&gt;&quot;age&quot;&lt;/p&gt;
&lt;p&gt;array:2 [&lt;/p&gt;
&lt;p&gt;Â Â &quot;u&quot; =&amp;gt; &quot;getUser&quot;&lt;/p&gt;
&lt;p&gt;Â Â &quot;s&quot; =&amp;gt; &quot;shengri&quot;&lt;/p&gt;
&lt;p&gt;]&lt;/p&gt;

&lt;p&gt;æ—§æ•°æ®ï¼š&lt;/p&gt;
&lt;p&gt;Laravel å…è®¸ä½ åœ¨ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´ä¿æŒæ•°æ®ã€‚è¿™ä¸ªç‰¹æ€§åœ¨æœ‰æ•ˆæ€§æ ¡éªŒå‡ºé”™åé‡æ–°å¡«å……è¡¨å•æ—¶éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šä¿å­˜ç”¨æˆ·åï¼&lt;/p&gt;
&lt;p&gt;1.1 å­˜å‚¨åˆ°sessionä¸­&lt;/p&gt;
&lt;p&gt;Â Â Â Â //è¯»å– sessionæ•°æ®&lt;/p&gt;
&lt;p&gt;Â Â Â Â $name = $request-&amp;gt;old(&quot;name&quot;);Â Â // post æ–¹å¼è¯·æ±‚çš„ å­˜å‚¨åˆ°session&lt;/p&gt;
&lt;p&gt;Â Â Â Â $m = $request-&amp;gt;old(&quot;m&quot;);Â Â Â Â Â Â Â Â // where get æ–¹å¼è¯·æ±‚çš„ å­˜å‚¨åˆ°session&lt;/p&gt;
&lt;p&gt;Â Â Â Â var_dump($name,$m);&lt;/p&gt;
&lt;p&gt;Â Â Â Â //dd($name,$m);&lt;/p&gt;
&lt;p&gt;Â Â Â Â ä¼šæŠŠ è¯·æ±‚å‚æ•°å†™å…¥sessionæ–‡ä»¶ \storage\framework\session\.......&lt;/p&gt;

&lt;p&gt;æ–‡ä»¶ï¼šä¸Šä¼ ä¸ä¸‹è½½&lt;/p&gt;
&lt;p&gt;php artisan make:controller FileController&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `hasFile` æ–¹æ³•åˆ¤æ–­è¯·æ±‚ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;if ($request-&amp;gt;hasFile('photo')) {}&lt;/p&gt;
&lt;p&gt;éªŒè¯æˆåŠŸä¸Šä¼ ï¼šé™¤äº†æ£€æŸ¥ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ `isValid` æ–¹æ³•éªŒè¯ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆï¼š&lt;/p&gt;
&lt;p&gt;if ($request-&amp;gt;file('photo')-&amp;gt;isValid()) {}&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶è·¯å¾„ &amp;amp; æ‰©å±•åï¼š`UploadedFile` ç±»è¿˜åŒ…å«è®¿é—®æ–‡ä»¶çš„å…¨è·¯å¾„å’Œæ‰©å±•åçš„æ–¹æ³•ã€‚ `extension` æ–¹æ³•ä¼šæ ¹æ®æ–‡ä»¶å†…å®¹åˆ¤æ–­æ–‡ä»¶çš„æ‰©å±•åã€‚è¯¥æ‰©å±•åå¯èƒ½ä¼šå’Œå®¢æˆ·ç«¯æä¾›çš„æ‰©å±•åä¸åŒï¼š&lt;/p&gt;
&lt;p&gt;$path = $request-&amp;gt;photo-&amp;gt;path();Â Â //ä¸´æ—¶è·¯å¾„&lt;/p&gt;
&lt;p&gt;$extension = $request-&amp;gt;photo-&amp;gt;extension();Â Â //åç¼€å&lt;/p&gt;

&lt;p&gt;å­˜å‚¨ä¸Šä¼ æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div readability=&quot;9.3214285714286&quot;&gt;è¦å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå…ˆé…ç½®å¥½ [æ–‡ä»¶ç³»ç»Ÿ](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/filesystem&quot;&gt;https://learnku.com/docs/laravel/6.0/filesystem&lt;/a&gt;)ã€‚ ä½ å¯ä»¥ä½¿ç”¨ `UploadedFile` çš„ `store` æ–¹æ³•æŠŠä¸Šä¼ æ–‡ä»¶ç§»åŠ¨åˆ°ä½ çš„æŸä¸ªç£ç›˜ä¸Šï¼Œè¯¥æ–‡ä»¶å¯èƒ½æ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œç”šè‡³åƒ Amazon S3 è¿™æ ·çš„äº‘å­˜å‚¨ä½ç½®ã€‚&lt;/div&gt;
&lt;p&gt;`store` æ–¹æ³•æ¥å—ç›¸å¯¹äºæ–‡ä»¶ç³»ç»Ÿé…ç½®çš„å­˜å‚¨æ–‡ä»¶æ ¹ç›®å½•çš„è·¯å¾„ã€‚è¿™ä¸ªè·¯å¾„ä¸èƒ½åŒ…å«æ–‡ä»¶åï¼Œå› ä¸ºç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„ ID ä½œä¸ºæ–‡ä»¶åã€‚&lt;/p&gt;
&lt;p&gt;`store` æ–¹æ³•è¿˜æ¥å—å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨äºå­˜å‚¨æ–‡ä»¶çš„ç£ç›˜åç§°ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ç›¸å¯¹äºç£ç›˜æ ¹ç›®å½•çš„æ–‡ä»¶è·¯å¾„ï¼š&lt;/p&gt;
&lt;p&gt;$path = $request-&amp;gt;photo-&amp;gt;store('images');Â Â // ä¸Šä¼ çš„æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨ storage\app\images\xxxxxx&lt;/p&gt;
&lt;p&gt;$path = $request-&amp;gt;photo-&amp;gt;store('images', 's3');&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¸æƒ³è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶åï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `storeAs` æ–¹æ³•ï¼Œå®ƒæ¥å—è·¯å¾„ã€æ–‡ä»¶åå’Œç£ç›˜åä½œä¸ºå…¶å‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;$path = $request-&amp;gt;photo-&amp;gt;storeAs('images', 'filename.jpg');&lt;/p&gt;
&lt;p&gt;$path = $request-&amp;gt;photo-&amp;gt;storeAs('images', 'filename.jpg', 's3');&lt;/p&gt;

&lt;p&gt;å“åº”ï¼š&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²ï¼Œæ•°ç»„ï¼Œè§†å›¾ï¼Œ&lt;/p&gt;
&lt;p&gt;å“åº”ä¿¡æ¯å¯ä»¥è‡ªå®šä¹‰ï¼Œé’ˆå¯¹ä¸åŒçš„å“åº”ç»“æœï¼Œè¿”å›å¯¹åº”çš„å“åº”çŠ¶æ€&lt;/p&gt;
&lt;p&gt;string ç±»å‹å“åº” text/html; charset=UTF-8&lt;/p&gt;
&lt;p&gt;arrÂ Â Â Â å“åº”ç±»å‹ application/json&lt;/p&gt;
&lt;p&gt;3.4.2Â Â Response å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div readability=&quot;6.4372093023256&quot;&gt;é€šå¸¸ï¼Œæˆ‘ä»¬å¹¶ä¸åªæ˜¯ä»è·¯ç”±åŠ¨ä½œç®€å•è¿”å›å­—ç¬¦ä¸²å’Œæ•°ç»„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„`Illuminate\Http\Response` å®ä¾‹æˆ– [è§†å›¾](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/views&quot;&gt;https://learnku.com/docs/laravel/6.0/views&lt;/a&gt;)ã€‚&lt;/div&gt;

&lt;p&gt;è¿”å›å®Œæ•´çš„ `Response` å®ä¾‹å…è®¸ä½ è‡ªå®šä¹‰å“åº”çš„ HTTP çŠ¶æ€ç å’Œå“åº”å¤´ä¿¡æ¯ã€‚ `Response` å®ä¾‹ ç»§æ‰¿è‡ª `Symfony\Component\HttpFoundation\Response` ç±»ï¼Œ è¯¥ç±»æä¾›äº†å„ç§æ„å»º HTTP å“åº”çš„æ–¹æ³•ï¼š&lt;/p&gt;

&lt;p&gt;Route::get('home', function () {&lt;/p&gt;
&lt;p&gt;Â Â Â Â return response('Hello World', 200)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;header('Content-Type', 'text/plain');&lt;/p&gt;
&lt;p&gt;});&lt;/p&gt;

&lt;p&gt;æ·»åŠ å“åº”å¤´ï¼š&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†çš„å“åº”æ–¹æ³•éƒ½æ˜¯å¯é“¾å¼è°ƒç”¨çš„ï¼Œä½¿å¾—åˆ›å»ºå“åº”å®ä¾‹çš„è¿‡ç¨‹æ›´å…·å¯è¯»æ€§ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨å“åº”è¿”å›ç»™ç”¨æˆ·å‰ä½¿ç”¨ `header` æ–¹æ³•ä¸ºå…¶æ·»åŠ ä¸€ç³»åˆ—çš„å¤´ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;return response($content)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;header('Content-Type', $type)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;header('X-Header-One', 'Header Value')&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;header('X-Header-Two', 'Header Value');&lt;/p&gt;
&lt;p&gt;æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨ `withHeaders` æ–¹æ³•æ¥æŒ‡å®šè¦æ·»åŠ åˆ°å“åº”çš„å¤´ä¿¡æ¯æ•°ç»„ï¼š&lt;/p&gt;
&lt;p&gt;return response($content)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;withHeaders([&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 'Content-Type' =&amp;gt; $type,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 'X-Header-One' =&amp;gt; 'Header Value',&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 'X-Header-Two' =&amp;gt; 'Header Value',&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â ]);&lt;/p&gt;

&lt;p&gt;é‡å®šå‘ï¼š&lt;/p&gt;
&lt;p&gt;é‡å®šå‘å“åº”æ˜¯ `Illuminate\Http\RedirectResponse` ç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”åŒ…å«ç”¨æˆ·éœ€è¦é‡å®šå‘è‡³å¦ä¸€ä¸ª URL æ‰€éœ€çš„å¤´ä¿¡æ¯ã€‚Laravel æä¾›äº†å‡ ç§æ–¹æ³•ç”¨äºç”Ÿæˆ `RedirectResponse` å®ä¾‹ã€‚å…¶ä¸­æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å…¨å±€è¾…åŠ©å‡½æ•° `redirect`ï¼š&lt;/p&gt;
&lt;p&gt;Route::get(&quot;home&quot;,function (){&lt;/p&gt;
&lt;p&gt;Â Â Â Â return redirect(&quot;string&quot;); // é‡å®šå‘åˆ°æŒ‡å®šè·¯ç”±&lt;/p&gt;
&lt;p&gt;});&lt;/p&gt;
&lt;p&gt;Route::get(&quot;home&quot;,function (){&lt;/p&gt;

&lt;p&gt;});&lt;/p&gt;
&lt;p&gt;Route::get(&quot;cdx&quot;,function (){&lt;/p&gt;
&lt;p&gt;Â Â Â Â return redirect()-&amp;gt;away('arr');Â Â // é‡å®šå‘åˆ°æŒ‡å®šè·¯ç”±&lt;/p&gt;
&lt;p&gt;});&lt;/p&gt;

&lt;div readability=&quot;9.6091954022989&quot;&gt;æœ‰æ—¶å€™ä½ å¯èƒ½å¸Œæœ›å°†ç”¨æˆ·é‡å®šå‘åˆ°ä¹‹å‰çš„ä½ç½®ï¼Œæ¯”å¦‚æäº¤çš„è¡¨å•æ— æ•ˆæ—¶ã€‚è¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨å…¨å±€è¾…åŠ©å‡½æ•° `back` æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚ç”±äºè¿™ä¸ªåŠŸèƒ½åˆ©ç”¨äº† [ä¼šè¯æ§åˆ¶](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/session&quot;&gt;https://learnku.com/docs/laravel/6.0/session&lt;/a&gt;)ï¼Œè¯·ç¡®ä¿è°ƒç”¨ `back` å‡½æ•°çš„è·¯ç”±ä½¿ç”¨ `web` ä¸­é—´ä»¶ç»„æˆ–æ‰€æœ‰ Session ä¸­é—´ä»¶ï¼š&lt;/div&gt;
&lt;p&gt;Route::post('user/profile', function () {&lt;/p&gt;
&lt;p&gt;Â Â Â Â // éªŒè¯è¯·æ±‚&lt;/p&gt;
&lt;p&gt;Â Â Â Â return back()-&amp;gt;withInput();&lt;/p&gt;
&lt;p&gt;});&lt;/p&gt;

&lt;p&gt;é‡å®šå‘åˆ°å‘½åè·¯ç”±ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœè°ƒç”¨ä¸å¸¦å‚æ•°çš„è¾…åŠ©å‡½æ•° `redirect` æ—¶ï¼Œä¼šè¿”å› `Illuminate\Routing\Redirector` å®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹å…è®¸ä½ è°ƒç”¨ `Redirector` ä¸Šçš„ä»»ä½•æ–¹æ³•ã€‚ä¾‹å¦‚ä¸ºå‘½åè·¯ç”±ç”Ÿæˆ `RedirectResponse`ï¼Œå¯ä»¥ä½¿ç”¨ `route` æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;return redirect()-&amp;gt;route('login');&lt;/p&gt;
&lt;p&gt;å¦‚æœè·¯ç”±ä¸­æœ‰å‚æ•°ï¼Œå¯ä»¥å°†å…¶ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’åˆ° `route` æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;return redirect()-&amp;gt;route('profile', ['id' =&amp;gt; 1]);&lt;/p&gt;

&lt;p&gt;é‡å®šå‘åˆ°æ§åˆ¶å™¨è¡Œä¸ºï¼š&lt;/p&gt;
&lt;div readability=&quot;9.4695652173913&quot;&gt;è¿˜å¯ä»¥ç”Ÿæˆåˆ° [controller action](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/controllers&quot;&gt;https://learnku.com/docs/laravel/6.0/controllers&lt;/a&gt;) çš„é‡å®šå‘ã€‚è¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œåªè¦æŠŠ æ§åˆ¶å™¨ å’Œ action çš„åç§°ä¼ é€’ç»™ `action` æ–¹æ³•ã€‚è®°ä½ï¼Œä¸éœ€è¦ä¼ é€’æ§åˆ¶å™¨çš„å…¨éƒ¨å‘½åç©ºé—´ï¼ŒLaravel çš„ `RouteServiceProvider` ä¼šè‡ªåŠ¨å°†å…¶è®¾ç½®ä¸ºåŸºæœ¬æ§åˆ¶å™¨çš„å‘½åç©ºé—´ï¼š&lt;/div&gt;
&lt;p&gt;return redirect()-&amp;gt;action('HomeController@index');&lt;/p&gt;
&lt;p&gt;å¦‚æœæ§åˆ¶å™¨è·¯ç”±éœ€è¦å‚æ•°ï¼Œå¯ä»¥å°†å…¶ä½œä¸º `action` æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;return redirect()-&amp;gt;action(&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'UserController@profile', ['id' =&amp;gt; 1]&lt;/p&gt;
&lt;p&gt;);&lt;/p&gt;
&lt;p&gt;é‡å®šå‘åˆ°å¤–éƒ¨åŸŸåï¼š&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™ä½ éœ€è¦é‡å®šå‘åˆ°åº”ç”¨å¤–çš„åŸŸåã€‚è°ƒç”¨ `away` æ–¹æ³•å¯ä»¥è¾¾åˆ°æ­¤ç›®çš„ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªä¸å¸¦æœ‰ä»»ä½•é¢å¤–çš„ URL ç¼–ç ã€æœ‰æ•ˆæ€§æ ¡éªŒå’Œæ£€æŸ¥çš„ `RedirectResponse` å®ä¾‹ï¼š&lt;/p&gt;

&lt;p&gt;å…¶ä»–çš„å“åº”ç±»å‹ï¼š&lt;/p&gt;
&lt;div readability=&quot;8.4563758389262&quot;&gt;`response` åŠ©æ‰‹å¯ä»¥ç”¨äºç”Ÿæˆå…¶å®ƒç±»å‹çš„å“åº”å®ä¾‹ã€‚å½“è¿˜å¸¦å‚æ•°è°ƒç”¨ `response` åŠ©æ‰‹æ—¶ï¼Œè¿”å› `Illuminate\Contracts\Routing\ResponseFactory` [contract](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/contracts&quot;&gt;https://learnku.com/docs/laravel/6.0/contracts&lt;/a&gt;) çš„ä¸€ä¸ªå®ç°ã€‚è¿™ä¸ªå¥‘çº¦æä¾›äº†å‡ ä¸ªç”¨äºç”Ÿæˆå“åº”çš„æ–¹æ³•ï¼š&lt;/div&gt;
&lt;p&gt;è§†å›¾å“åº”ï¼š&lt;/p&gt;
&lt;div readability=&quot;9.401384083045&quot;&gt;å¦‚æœéœ€è¦æŠŠ [è§†å›¾](&lt;a href=&quot;https://learnku.com/docs/laravel/6.0/views&quot;&gt;https://learnku.com/docs/laravel/6.0/views&lt;/a&gt;) ä½œä¸ºå“åº”å†…å®¹è¿”å›çš„åŒæ—¶ï¼Œæ§åˆ¶å“åº”çŠ¶æ€å’Œå¤´ä¿¡æ¯ï¼Œå°±éœ€è¦è°ƒç”¨ `view` æ–¹æ³•ï¼Œå¦‚æœä¸éœ€è¦ä¼ é€’è‡ªå®šä¹‰çš„ HTTP çŠ¶æ€ç å’Œè‡ªå®šä¹‰å¤´ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¨å±€çš„ `view` è¾…åŠ©å‡½æ•°ã€‚&lt;/div&gt;
&lt;p&gt;return response()&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;view('hello', $data, 200)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;header('Content-Type', $type);&lt;/p&gt;
&lt;p&gt;JSONå“åº”ï¼š&lt;/p&gt;
&lt;p&gt;`json` è‡ªåŠ¨å°† `Content-Type` å¤´ä¿¡æ¯è®¾ç½®ä¸º `application/json`ï¼ŒåŒæ—¶ä½¿ç”¨ PHP çš„ `json_encode` å‡½æ•°å°†ç»™å®šçš„æ•°ç»„è½¬æ¢ä¸º JSON ï¼š&lt;/p&gt;
&lt;p&gt;return response()-&amp;gt;json([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'name' =&amp;gt; 'Abigail',&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'state' =&amp;gt; 'CA'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦åˆ›å»º JSONP å“åº”ï¼Œå¯ä»¥ç»“åˆ `withCallback` æ–¹æ³•ä½¿ç”¨ `json` æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;return response()&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;json(['name' =&amp;gt; 'Abigail', 'state' =&amp;gt; 'CA'])&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â -&amp;gt;withCallback($request-&amp;gt;input('callback'));&lt;/p&gt;

&lt;p&gt;æ–‡ä»¶ä¸‹è½½ï¼š&lt;/p&gt;
&lt;p&gt;1.è®¾ç½®httpå“åº”å¤´&lt;/p&gt;
&lt;p&gt;2.ä¸‹è½½æ–‡ä»¶çš„åç§°ï¼Œå¤§å°&lt;/p&gt;
&lt;p&gt;return response()-&amp;gt;download($pathToFile);&lt;/p&gt;
&lt;p&gt;return response()-&amp;gt;download($pathToFile, $name, $headers);&lt;/p&gt;
&lt;p&gt;return response()-&amp;gt;download($pathToFile)-&amp;gt;deleteFileAfterSend();&lt;/p&gt;

&lt;p&gt;RESTful é£æ ¼ï¼šå®šä¹‰ï¼š&lt;/p&gt;
&lt;p&gt;REST æ˜¯ â€œå‘ˆç°çŠ¶æ€è½¬ç§»ï¼ˆREpresentational State Transferï¼‰â€ çš„ç¼©å†™ã€‚æˆ–è®¸å¯ä»¥è¿™æ ·æ¥å®šä¹‰å®ƒï¼šä¸€ç§ API çš„æ¶æ„é£æ ¼ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´é€šè¿‡å‘ˆç°çŠ¶æ€çš„è½¬ç§»æ¥é©±åŠ¨åº”ç”¨çŠ¶æ€çš„æ¼”è¿›ã€‚&lt;/p&gt;

&lt;p&gt;çº¦æŸï¼š&lt;/p&gt;
&lt;p&gt;è¦è®©åº”ç”¨ RESTful åŒ–ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹çº¦æŸã€‚éµå¾ªäº†è¿™äº›çº¦æŸçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå°±ä¼šæ‹¥æœ‰å¦‚ä¸‹éåŠŸèƒ½å±æ€§ï¼šæ€§èƒ½ï¼Œä¼¸ç¼©æ€§ï¼Œæ˜“ç”¨æ€§ï¼Œæ‰©å±•æ€§ï¼Œå¯è§æ€§ï¼Œå¯ç§»æ¤æ€§å’Œå¯é æ€§ã€‚&lt;/p&gt;

&lt;p&gt;CS æ¨¡å¼ï¼š&lt;/p&gt;
&lt;p&gt;CS æ¨¡å¼é€šè¿‡åˆ†ç¦»å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„å…³æ³¨ç‚¹ï¼Œè®©å®¢æˆ·ç«¯ä¸å†å…³æ³¨æ•°æ®çš„å­˜å‚¨é—®é¢˜ï¼Œä»è€Œæé«˜å®¢æˆ·ç«¯ä»£ç çš„å¯ç§»æ¤æ€§ã€‚å¦ä¸€æ–¹é¢ï¼ŒæœåŠ¡å™¨ç«¯ä¸å†å…³æ³¨ç”¨æˆ·ç•Œé¢å’Œç”¨æˆ·çŠ¶æ€ï¼Œä»è€Œå˜å¾—æ›´ç®€å•ï¼Œæé«˜äº†ä¼¸ç¼©æ€§ã€‚æœåŠ¡å™¨ç«¯è·Ÿå®¢æˆ·ç«¯å¯ä»¥ç‹¬ç«‹å¼€å‘ï¼Œåªè¦å®ƒä»¬éƒ½éµå®ˆå¥‘çº¦ã€‚&lt;/p&gt;

&lt;p&gt;æ— çŠ¶æ€ï¼š&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä¸Šä¸‹æ–‡åœ¨å¤šä¸ªè¯·æ±‚ä¹‹é—´æ˜¯ç»ä¸ä¼šä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šçš„ã€‚æ¯ä¸ªè¯·æ±‚å¿…é¡»åŒ…å«å¿…è¦çš„ä¿¡æ¯ã€‚æ— çŠ¶æ€çš„æœåŠ¡å™¨é€šè¿‡å¿«é€Ÿé‡Šæ”¾èµ„æºå’Œç®€åŒ–å®ç°æé«˜äº†å¯ä¼¸ç¼©æ€§ã€‚å¯é æ€§ä½¿å¾—ä»å±€éƒ¨å¤±è´¥ä¸­æ¢å¤å˜å¾—å®¹æ˜“ã€‚å¾ˆæ˜æ˜¾ï¼Œç›‘æ§ç³»ç»Ÿä¸å¿…é€šè¿‡è€ƒè™‘å•ä¸ªè¯·æ±‚æ¥åˆ¤æ–­è¯·æ±‚çš„æ€§è´¨ã€‚ æ— çŠ¶æ€æœåŠ¡å™¨çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯é™ä½äº†ç½‘ç»œæ€§èƒ½ï¼Œå› ä¸ºæ‰€æœ‰éœ€è¦çš„æ•°æ®å¿…é¡»åœ¨æ¯æ¬¡è¯·æ±‚ä¸­å‘é€ã€‚&lt;/p&gt;

&lt;p&gt;å¯ç¼“å­˜ï¼š&lt;/p&gt;
&lt;p&gt;REST åº”ç”¨ç¨‹åºæ˜¯ web ç³»ç»Ÿï¼Œå› æ­¤å®¢æˆ·ç«¯å’Œä¸­é—´å±‚å¯ä»¥ç¼“å­˜å“åº”ã€‚å“åº”å¿…é¡»è¢«å®šä¹‰ä¸ºå¯ç¼“å­˜æˆ–ä¸å¯ç¼“å­˜çš„ï¼Œä»¥é˜²å®¢æˆ·ç«¯é‡å¤ä½¿ç”¨æ—§æ•°æ®å¯¼è‡´é™ä½å¯é æ€§ã€‚å¦‚æœç¼“å­˜ä¸­çš„é™ˆæ—§æ•°æ®ä¸å·²ç”Ÿæˆçš„è¯·æ±‚çš„æ•°æ®æ˜¾è‘—ä¸åŒï¼Œåˆ™ç”±æœåŠ¡å™¨å¤„ç†è¯·æ±‚ã€‚ç¼“å­˜å¯ä»¥æ¶ˆé™¤ä¸€äº›å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’ï¼Œè¿™å°±æå‡äº†å¯ä¼¸ç¼©æ€§ã€æ•ˆç‡å’Œé€šè¿‡å‡å°‘å¹³å‡å»¶è¿Ÿè¾¾åˆ°çš„ç”¨æˆ·å¯æ„ŸçŸ¥çš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ç»Ÿä¸€çš„æ¥å£ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç»Ÿä¸€çš„æ¥å£é™ä½äº†ç³»ç»Ÿå¤æ‚åº¦å’Œè€¦åˆåº¦ï¼Œè®©ç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†å¯ä»¥ç‹¬ç«‹æ¼”åŒ–ã€‚ç¨åä¼šè§£é‡Š URIï¼Œèµ„æºå’Œè¶…åª’ä½“æ˜¯å¦‚ä½•é€šè¿‡ç”Ÿæˆæ ‡å‡†æ¥å£æ¥æå‡ç”¨æˆ·äº¤äº’å¯è§æ€§ï¼Œé™ä½ç³»ç»Ÿå¤æ‚åº¦ï¼Œä¿ƒè¿›ç³»ç»Ÿç»„ä»¶ç‹¬ç«‹æ¼”åŒ–çš„ã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦åœ¨æ•ˆç‡æ–¹é¢åšå‡ºå¦¥åï¼Œæ¯•ç«Ÿæ¶ˆæ¯æ˜¯é€šè¿‡æ ‡å‡†æ ¼å¼ä¼ è¾“çš„ï¼Œå¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰åº”ç”¨å¯¹æ¶ˆæ¯æ ¼å¼çš„è¦æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;åˆ†å±‚çš„ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;p&gt;åˆ†å±‚ç³»ç»Ÿé€šè¿‡çº¦æŸç»„ä»¶çš„è¡Œä¸ºæ¥é™ä½ç³»ç»Ÿå¤æ‚åº¦ï¼Œç»„ä»¶ä¸èƒ½è¶Šè¿‡å®ƒä»¬çš„åª’ä»‹å±‚å»è®¿é—®å…¶å®ƒå±‚ã€‚é€šè¿‡ç»„ä»¶çš„é˜»æ–­æ¥ä¿æŒå±‚é—´çš„ç‹¬ç«‹æ€§ã€‚é—ç•™çš„ç»„ä»¶å¯ä»¥è¢«å°è£…æˆæ–°çš„å±‚ï¼Œä¸è®©æ—§çš„å®¢æˆ·ç«¯è®¿é—®ã€‚åª’ä»‹å±‚å¯ä»¥é€šè¿‡è´Ÿè½½å‡è¡¡æ¥æå‡ä¼¸ç¼©æ€§ã€‚åˆ†å±‚ç³»ç»Ÿå­˜åœ¨çš„ä¸»è¦ä¸è¶³ï¼Œæ˜¯å®ƒç»™æ•°æ®å¤„ç†å¢åŠ äº†ä¸€äº›é¢å¤–çš„å¼€é”€ï¼Œå¢åŠ äº†å»¶è¿Ÿï¼Œå¯¹ç”¨æˆ·ä½“éªŒæœ‰æ‰€å½±å“ã€‚&lt;/p&gt;

&lt;p&gt;æŒ‰éœ€ç¼–ç ï¼š&lt;/p&gt;

&lt;p&gt;REST å…è®¸å®¢æˆ·ç«¯é€šè¿‡ä¸‹è½½æ‰§è¡Œè„šæœ¬æ¥æ‰©å±•å®ƒä»¬çš„åŠŸèƒ½ï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯ï¼Œä¹Ÿæå‡äº†æ‰©å±•æ€§ã€‚ä½†è¿™åŒæ—¶ä¹Ÿé™ä½äº†å¯è§æ€§ï¼Œæ‰€ä»¥è¿™ä¸ªçº¦æŸä¸æ˜¯å¿…é¡»éµå¾ªçš„ã€‚&lt;/p&gt;

&lt;p&gt;å…ƒç´ ï¼š&lt;/p&gt;
&lt;p&gt;REST æä¾›äº†ä»¥ä¸‹å‡ ç§å…ƒç´ æ¥æ„å»ºæ— çŠ¶æ€ï¼Œå¯ä¼¸ç¼©çš„ web APIã€‚&lt;/p&gt;

&lt;p&gt;HTTPåè®®ï¼š&lt;/p&gt;
&lt;p&gt;èµ„æº&lt;/p&gt;
&lt;p&gt;URI&lt;/p&gt;
&lt;p&gt;è¶…åª’ä½“&lt;/p&gt;
&lt;p&gt;HTTP - æ–‡æœ¬ä¼ è¾“åè®®&lt;/p&gt;

&lt;p&gt;REST ä¸€èˆ¬ä½¿ç”¨ HTTP ä½œä¸ºå®ƒçš„ä¼ è¾“åè®®ï¼Œå› ä¸º HTTP æä¾›äº†ä¸€äº›å¾ˆå¥½ç”¨çš„ç‰¹æ€§ï¼Œå¦‚ HTTP åŠ¨è¯ï¼ŒçŠ¶æ€ç å’Œå¤´éƒ¨ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;HTTP åŠ¨è¯ï¼š&lt;/p&gt;
&lt;p&gt;HTTP å¹¶æ²¡æœ‰å®šä¹‰å¾ˆå¤šåŠ¨è¯æ¥æè¿° web æœåŠ¡ä¸­å¯èƒ½å‡ºç°çš„è¡Œä¸ºï¼Œå®ƒåªç”¨äº†ä¸€ä¸ªæ ‡å‡†åŠ¨è¯é›†åˆæ¥å¤„ç†å„ç§ç›¸ä¼¼æƒ…å†µï¼Œä»è€Œè®© API å˜å¾—æ›´ç›´è§‚ã€‚æ¯ä¸ªåŠ¨è¯é€šè¿‡ä¸¤ç§å±æ€§çš„ç»„åˆæ¥æ»¡è¶³ä¸åŒçš„åœºæ™¯éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;å¹‚ç­‰æ€§ï¼šæ“ä½œå¯ä»¥è¢«é‡å¤æ‰§è¡Œï¼Œå°±ç®—åœ¨å¤±è´¥ä»¥åã€‚&lt;/p&gt;
&lt;p&gt;å®‰å…¨æ€§ï¼šå¯¹å®¢æˆ·ç«¯æ¥è¯´æ“ä½œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;GET:&lt;/p&gt;
&lt;p&gt;ç”¨æ¥ä»æœåŠ¡å™¨ç«¯è¯»å–çŠ¶æ€ã€‚è¿™ä¸ªæ“ä½œæ˜¯å®‰å…¨çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«æ‰§è¡Œå¾ˆå¤šæ¬¡è€Œä¸ä¼šå¯¹æ•°æ®æœ‰ä»»ä½•å½±å“ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰§è¡Œå®ƒä¸€æ¬¡è·Ÿæ‰§è¡Œåæ¬¡æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚ä»å¹‚ç­‰æ€§æ–¹é¢æ¥çœ‹ï¼Œå¤šæ¬¡è¯·æ±‚è·Ÿå•ä¸ªè¯·æ±‚æ€»èƒ½å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;POST:&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬ç”¨æ¥åœ¨æœåŠ¡å™¨ç«¯åˆ›å»ºæŸç§çŠ¶æ€ã€‚è¿™ä¸ªæ“ä½œä¸å…·å¤‡å¹‚ç­‰æ€§è·Ÿå®‰å…¨æ€§ï¼Œæ‰€ä»¥å¤šæ¬¡è¯·æ±‚ä¼šåœ¨æœåŠ¡å™¨ç«¯åˆ›å»ºå¤šä¸ªèµ„æºã€‚å› ä¸º POST æ˜¯ä¸å¹‚ç­‰çš„ï¼Œ æ‰€ä»¥ä¸åº”è¯¥è¢«ç”¨æ¥åšè·Ÿé‡‘é’±æœ‰å…³ç³»çš„æ“ä½œï¼Œè¯•æƒ³ä¸€æ¬¡å¤±è´¥çš„è¯·æ±‚å¦‚æœè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½è½¬è´¦æˆ–è€…æ”¯ä»˜ä¹Ÿè¢«æ‰§è¡Œäº†å¤šæ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;PUT:&lt;/p&gt;
&lt;p&gt;è™½ç„¶å®ƒä¹Ÿå¯ä»¥è¢«ç”¨æ¥åˆ›å»ºçŠ¶æ€ï¼Œä½†ä¸»è¦è¿˜æ˜¯ç”¨æ¥åœ¨æœåŠ¡å™¨ç«¯æ›´æ–°çŠ¶æ€çš„ã€‚å®ƒæ˜¯å¹‚ç­‰çš„ï¼Œä½†ä¸å®‰å…¨ï¼Œå› ä¸ºå®ƒä¼šæ”¹å˜æœåŠ¡ç«¯çš„çŠ¶æ€ã€‚å› ä¸ºå®ƒçš„å¹‚ç­‰æ€§ï¼ŒPUT å¯ä»¥è¢«ç”¨æ¥å¤„ç†è·Ÿé‡‘é’±æœ‰å…³ç³»çš„æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;DELETE:&lt;/p&gt;
&lt;p&gt;ç”¨æ¥åœ¨æœåŠ¡å™¨ç«¯åˆ é™¤çŠ¶æ€ã€‚å®ƒä¹Ÿæ˜¯å¹‚ç­‰éå®‰å…¨çš„ï¼Œå› ä¸ºå®ƒä¼šç§»é™¤æœåŠ¡ç«¯çš„çŠ¶æ€ã€‚å®ƒä¹‹æ‰€ä»¥æ˜¯å¹‚ç­‰çš„ï¼Œæ˜¯å› ä¸ºé‡å¤åˆ é™¤ä¸€ä¸ªçŠ¶æ€çš„ç»“æœæ˜¯ä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;å“åº”çŠ¶æ€ç ï¼š&lt;/p&gt;
&lt;p&gt;HTTP åœ¨è¯·æ±‚èµ„æºçš„å“åº”é‡Œæä¾›äº†å…ƒæ•°æ®ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€ç ã€‚å®ƒä»¬æ˜¯ web å¹³å°ä¹‹æ‰€ä»¥èƒ½ç”¨æ¥æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„é‡è¦å› ç´ ã€‚å®ƒä»¬è¢«åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š&lt;/p&gt;
&lt;p&gt;- 1xx â€”â€” å…ƒæ•°æ®&lt;/p&gt;
&lt;p&gt;- 2xx â€”â€” æ­£ç¡®çš„å“åº”&lt;/p&gt;
&lt;p&gt;- 3xx â€”â€” é‡å®šå‘&lt;/p&gt;
&lt;p&gt;- 4xx â€”â€” å®¢æˆ·ç«¯é”™è¯¯&lt;/p&gt;
&lt;p&gt;- 5xx â€”â€” æœåŠ¡ç«¯é”™è¯¯&lt;/p&gt;

&lt;p&gt;å¤´éƒ¨ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;HTTP åœ¨æ¶ˆæ¯å¤´éƒ¨é‡Œä¸ºè¯·æ±‚å“åº”æä¾›äº†é¢å¤–ä¿¡æ¯ã€‚æ¯ä¸ªå¤´éƒ¨ç”±å¤§å°å†™æ•æ„Ÿçš„å…³é”®å­—å’Œå€¼ç»„æˆï¼Œä¸­é—´ç”¨å†’å·éš”å¼€ã€‚å¤´éƒ¨ä¿¡æ¯è¢«åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬å¤´éƒ¨ï¼šåœ¨è¯·æ±‚è·Ÿå“åº”é‡Œéƒ½æœ‰ï¼Œè·Ÿæ¶ˆæ¯ä½“é‡Œä¼ è¾“çš„æ•°æ®æ²¡æœ‰å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;è¯·æ±‚å¤´éƒ¨ï¼šæ›´å¤šçš„æ˜¯å…³äºè¢«è¯·æ±‚èµ„æºæˆ–è€…å®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å“åº”å¤´éƒ¨ï¼šå“åº”çš„é¢å¤–ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å®ä½“å¤´éƒ¨ï¼šæ¶ˆæ¯ä½“çš„é¢å¤–ä¿¡æ¯ï¼Œæ¯”å¦‚ content-length æˆ– MIMI-typeã€‚&lt;/p&gt;

&lt;p&gt;èµ„æºï¼š&lt;/p&gt;
&lt;p&gt;èµ„æºå¯ä»¥æ˜¯ç”±ç³»ç»Ÿæš´éœ²å‡ºæ¥çš„ä»»ä½•å…·æœ‰å”¯ä¸€æ ‡è¯†çš„ä¸œè¥¿ã€‚èµ„æºåœ¨åº”ç”¨é¢†åŸŸè·Ÿå®¢æˆ·ç«¯ä¹‹é—´å»ºç«‹èµ·äº†è”ç³»ã€‚ä¸€å¼ å›¾ç‰‡ï¼Œä¸€ä¸ªè¡¨æ ¼ï¼Œæˆ–è€…å®ƒä»¬çš„é›†åˆï¼Œéƒ½è¢«çœ‹ä½œèµ„æºã€‚èµ„æºé€šè¿‡æŸç§å‘ˆç°æ–¹å¼è¢«è·å–æˆ–è¢«åˆ›å»º (XML,JSON ç­‰)ã€‚ æˆ‘ä»¬ä¸ä¹‹æ‰“äº¤é“çš„æ˜¯èµ„æºçš„å‘ˆç°å½¢å¼ï¼Œå¹¶ä¸æ˜¯èµ„æºæœ¬èº«ï¼Œè¿™ä¸ªè·Ÿå€¼ä¼ é€’æœ‰ç‚¹åƒã€‚æ ¹æ®ä¹‹å‰å¯¹ REST çš„å®šä¹‰ï¼Œèµ„æºä»£è¡¨äº†åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ–‡æ¡£ã€‚æœåŠ¡å™¨ç«¯å…³å¿ƒèµ„æºçš„çŠ¶æ€ï¼Œå› ä¸ºå®ƒä»¬ä»£è¡¨äº†é¢†åŸŸçš„çŠ¶æ€ã€‚è€Œå®¢æˆ·ç«¯åªæ˜¯è·å–æˆ–è€…å‘é€èµ„æºçš„å‘ˆç°çŠ¶æ€ï¼Œä»è€Œè®©åº”ç”¨çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚å®¢æˆ·å•å…³å¿ƒçš„æ˜¯åº”ç”¨çš„çŠ¶æ€ï¼Œå› ä¸ºè¿™äº›çŠ¶æ€çš„å˜åŒ–è·Ÿåº”ç”¨æ‰€è¦è¾¾æˆçš„ç›®æ ‡æœ‰å…³ç³»ã€‚ èµ„æºçš„åå­—éƒ½åº”è¯¥æ˜¯åè¯æ€§è´¨çš„ï¼Œå®ƒä»¬ä»£è¡¨çš„æ˜¯ç³»ç»Ÿä¸­é¢†åŸŸçš„æ¦‚å¿µï¼Œå¹¶ç”¨ URI æ ‡è¯†ã€‚&lt;/p&gt;

&lt;p&gt;URIsÂ Â (Uniform Resource Identifiers)&lt;/p&gt;
&lt;p&gt;URIs ç”¨æ¥å”¯ä¸€æ ‡è¯†èµ„æºã€‚è¦è®¿é—®æˆ–è€…æ“ä½œä¸€ä¸ªèµ„æºï¼Œæœ€èµ·ç è¦çŸ¥é“èµ„æºçš„åœ°å€ã€‚å®ƒä»¬ç”±åè®® + æœåŠ¡å™¨åœ°å€ + è·¯å¾„ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä¸åº”è¯¥ä¸èµ„æºçš„ URI æœ‰å¤ªå¤šè€¦åˆï¼Œå› ä¸ºæœåŠ¡ç«¯å¯èƒ½éšæ„æ”¹å˜å®ƒä»¬çš„å€¼ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œè¶…åª’ä½“æ›´å…·ä¼˜åŠ¿ã€‚å®ƒæä¾›äº†ä¸€ç§è§£è€¦å®¢æˆ·ç«¯è·Ÿ URI çš„æ–¹å¼ï¼Œå¹¶åœ¨åº”ç”¨åè®®ä¸­åŠ å…¥æ–°çš„è¯­ä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;èµ„æºæ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;ç®€ä»‹ï¼š&lt;/p&gt;
&lt;p&gt;Laravel çš„èµ„æºè·¯ç”±å°†å…¸å‹çš„ã€ŒCURD (å¢åˆ æ”¹æŸ¥)ã€è·¯ç”±åˆ†é…ç»™å…·æœ‰å•è¡Œä»£ç çš„æ§åˆ¶å™¨ã€‚ä¾‹å¦‚ï¼Œä½ å¸Œæœ›åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨æ¥å¤„ç†ä¿å­˜ &quot;ç…§ç‰‡&quot; åº”ç”¨çš„æ‰€æœ‰ HTTP è¯·æ±‚ã€‚ä½¿ç”¨ Artisan å‘½ä»¤ `make:controller` ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿåˆ›å»ºè¿™æ ·ä¸€ä¸ªæ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;php artisan make:controller PhotoController --resource&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤å°†ä¼šç”Ÿæˆä¸€ä¸ªæ§åˆ¶å™¨ `app/Http/Controllers/PhotoController.php` ã€‚å…¶ä¸­åŒ…æ‹¬æ¯ä¸ªå¯ç”¨èµ„æºæ“ä½œçš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥ç»™æ§åˆ¶å™¨æ³¨å†Œä¸€ä¸ªèµ„æºè·¯ç”±ï¼š&lt;/p&gt;
&lt;p&gt;Route::resource('photos', 'PhotoController');&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªå•ä¸€çš„è·¯ç”±å£°æ˜åˆ›å»ºäº†å¤šä¸ªè·¯ç”±æ¥å¤„ç†èµ„æºä¸Šçš„å„ç§è¡Œä¸ºã€‚ç”Ÿæˆçš„æ§åˆ¶å™¨ä¸ºæ¯ä¸ªè¡Œä¸ºä¿ç•™äº†æ–¹æ³•ï¼ŒåŒ…æ‹¬äº†å…³äºå¤„ç† HTTP åŠ¨è¯å’Œ URLs çš„å£°æ˜æ³¨é‡Šã€‚&lt;/p&gt;

&lt;p&gt;ä½ å¯ä»¥é€šè¿‡å°†æ•°ç»„ä¼ å‚åˆ° `resource` æ–¹æ³•ä¸­çš„æ–¹å¼æ¥ä¸€æ¬¡æ€§çš„åˆ›å»ºå¤šä¸ªèµ„æºæ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;Route::resources([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'photos' =&amp;gt; 'PhotoController',&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'posts' =&amp;gt; 'PostController'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;

&lt;p&gt;èµ„æºæ§åˆ¶å™¨æ“ä½œå¤„ç†ï¼š&lt;/p&gt;

&lt;p&gt;| HTTP æ–¹æ³• | URIÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â | åŠ¨ä½œÂ Â Â Â | è·¯ç”±åç§°Â Â Â Â Â Â Â |&lt;/p&gt;
&lt;p&gt;| --------- | ---------------------- | ------- | -------------- |&lt;/p&gt;
&lt;p&gt;| GETÂ Â Â Â Â Â Â | `/photos`Â Â Â Â Â Â Â Â Â Â Â Â Â Â | indexÂ Â Â | photos.indexÂ Â Â |&lt;/p&gt;
&lt;p&gt;| GETÂ Â Â Â Â Â Â | `/photos/create`Â Â Â Â Â Â Â | createÂ Â | photos.createÂ Â |&lt;/p&gt;
&lt;p&gt;| POSTÂ Â Â Â Â Â | `/photos`Â Â Â Â Â Â Â Â Â Â Â Â Â Â | storeÂ Â Â | photos.storeÂ Â Â |&lt;/p&gt;
&lt;p&gt;| GETÂ Â Â Â Â Â Â | `/photos/{photo}`Â Â Â Â Â Â | showÂ Â Â Â | photos.showÂ Â Â Â |&lt;/p&gt;
&lt;p&gt;| GETÂ Â Â Â Â Â Â | `/photos/{photo}/edit` | editÂ Â Â Â | photos.editÂ Â Â Â |&lt;/p&gt;
&lt;p&gt;| PUT/PATCH | `/photos/{photo}`Â Â Â Â Â Â | updateÂ Â | photos.updateÂ Â |&lt;/p&gt;
&lt;p&gt;| DELETEÂ Â Â Â | `/photos/{photo}`Â Â Â Â Â Â | destroy | photos.destroy |&lt;/p&gt;

&lt;p&gt;åˆ¶å®šèµ„æºæ¨¡å‹ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨äº†è·¯ç”±æ¨¡å‹ç»‘å®šï¼Œå¹¶ä¸”æƒ³åœ¨èµ„æºæ§åˆ¶å™¨çš„æ–¹æ³•ä¸­ä½¿ç”¨ç±»å‹æç¤ºï¼Œä½ å¯ä»¥åœ¨ç”Ÿæˆæ§åˆ¶å™¨çš„æ—¶å€™ä½¿ç”¨ `--model`é€‰é¡¹ï¼š&lt;/p&gt;
&lt;p&gt;php artisan make:controller PhotoController --resource --model=Photo&lt;/p&gt;


&lt;p&gt;éƒ¨åˆ†èµ„æºè·¯ç”±ï¼š&lt;/p&gt;
&lt;p&gt;Route::resource('photos', 'PhotoController')-&amp;gt;only([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'index', 'show'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;
&lt;p&gt;Route::resource('photos', 'PhotoController')-&amp;gt;except([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'create', 'store', 'update', 'destroy'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;

&lt;p&gt;API èµ„æºè·¯ç”±ï¼š&lt;/p&gt;
&lt;p&gt;å½“å£°æ˜ç”¨äº APIs çš„èµ„æºè·¯ç”±æ—¶ï¼Œé€šå¸¸éœ€è¦æ’é™¤æ˜¾ç¤º HTML æ¨¡æ¿çš„è·¯ç”±ï¼ˆå¦‚ `create` å’Œ `edit` ï¼‰ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œä½ å¯ä»¥ä½¿ç”¨ apiResource æ–¹æ³•è‡ªåŠ¨æ’é™¤è¿™ä¸¤ä¸ªè·¯ç”±ï¼š&lt;/p&gt;

&lt;p&gt;Route::apiResource('photos', 'PhotoController');&lt;/p&gt;

&lt;p&gt;ä½ å¯ä»¥ä¼ é€’ä¸€ä¸ªæ•°ç»„ç»™ `apiResources` æ–¹æ³•æ¥åŒæ—¶æ³¨å†Œå¤šä¸ª API èµ„æºæ§åˆ¶å™¨ï¼š&lt;/p&gt;
&lt;p&gt;Route::apiResources([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'photos' =&amp;gt; 'PhotoController',&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'posts' =&amp;gt; 'PostController'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;

&lt;p&gt;è¦å¿«é€Ÿç”Ÿæˆä¸åŒ…å« `create` æˆ– `edit` æ–¹æ³•çš„ç”¨äºå¼€å‘æ¥å£çš„èµ„æºæ§åˆ¶å™¨ï¼Œè¯·åœ¨æ‰§è¡Œ `make:controller` å‘½ä»¤æ—¶ä½¿ç”¨ `--api` å¼€å…³:&lt;/p&gt;
&lt;p&gt;php artisan make:controller API/PhotoController --api&lt;/p&gt;

&lt;p&gt;å‘½åèµ„æºè·¯ç”±ï¼š&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„èµ„æºæ§åˆ¶å™¨è¡Œä¸ºéƒ½æœ‰ä¸€ä¸ªè·¯ç”±åç§°ã€‚ä½ å¯ä»¥ä¼ å…¥ names æ•°ç»„æ¥è¦†ç›–è¿™äº›åç§°ï¼š&lt;/p&gt;
&lt;p&gt;Route::resource('photos', 'PhotoController')-&amp;gt;names([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'create' =&amp;gt; 'photos.build'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;
&lt;p&gt;å‘½åèµ„æºè·¯ç”±å‚æ•°ï¼š&lt;/p&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œ`Route::resource` ä¼šæ ¹æ®èµ„æºåç§°çš„ã€Œå•æ•°ã€å½¢å¼åˆ›å»ºèµ„æºè·¯ç”±çš„è·¯ç”±å‚æ•°ã€‚ä½ å¯ä»¥åœ¨é€‰é¡¹æ•°ç»„ä¸­ä¼ å…¥ `parameters` å‚æ•°æ¥è½»æ¾åœ°è¦†ç›–æ¯ä¸ªèµ„æºã€‚`parameters` æ•°ç»„åº”è¯¥æ˜¯èµ„æºåç§°å’Œå‚æ•°åç§°çš„å…³è”æ•°ç»„&lt;/p&gt;
&lt;p&gt;Route::resource('users', 'AdminUserController')-&amp;gt;parameters([&lt;/p&gt;
&lt;p&gt;Â Â Â Â 'users' =&amp;gt; 'admin_user'&lt;/p&gt;
&lt;p&gt;]);&lt;/p&gt;

&lt;p&gt;ä¸Šä¾‹å°†ä¼šä¸ºèµ„æºçš„ `show` è·¯ç”±ç”Ÿæˆå¦‚ä¸‹çš„ URI ï¼š&lt;/p&gt;
&lt;p&gt;/users/{admin_user}&lt;/p&gt;

&lt;p&gt;php artisan make:controller Api/ResController --resource&lt;/p&gt;
&lt;p&gt;php artisan route:list&lt;/p&gt;




</description>
<pubDate>Sat, 02 Nov 2019 15:56:00 +0000</pubDate>
<dc:creator>æµ®æ¢¦äº‘çƒŸ</dc:creator>
<og:description>æ§åˆ¶å™¨ï¼š æ§åˆ¶å™¨ç”¨æ¥å¤„ç†ä¸šåŠ¡çš„ï¼Œä¸åº”è¯¥å¤„ç†é€»è¾‘ï¼Œå¦‚æœæ˜¯å°é¡¹ç›®å¯ä»¥æŠŠé€»è¾‘å†™åˆ°æ§åˆ¶å™¨é‡Œï¼Œå¤§ç‚¹çš„é¡¹ç›®åº”è¯¥æŠ½ç¦»å‡ºæ¥ä¸šåŠ¡å¤„ç†å±‚å¦‚ä¸‹ï¼š servicesä¸šåŠ¡å¤„ç†å±‚ï¼šæ¯”å¦‚ï¼šè·å–å€¼ï¼ŒéªŒè¯å€¼ï¼Œå¼‚å¸¸æ•è· å‘½åè§„åˆ™ï¼š æ§åˆ¶</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/dreamofprovence/p/11784855.html</dc:identifier>
</item>
<item>
<title>unity ä¹‹ è‡ªå®šä¹‰å¼¹å‡ºæ¡† - æ— åä¹‹å£«</title>
<link>http://www.cnblogs.com/unknown6248/p/11784813.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/unknown6248/p/11784813.html</guid>
<description>&lt;h5&gt;&lt;span&gt;ä¸€ã€å¼¹å‡º&lt;strong&gt;æ¡†çš„æ­å»ºï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;&lt;span&gt;å¸ƒå±€å¦‚å›¾ï¼š&lt;/span&gt;Message&lt;span&gt;ä¸ºæ•´ä¸ªçˆ¶ç‰©ä½“ï¼Œå¹¶ä¸”æ·»åŠ &lt;/span&gt;&lt;span&gt;UiMessage&lt;/span&gt;&lt;span&gt;ä»£ç ã€‚&lt;/span&gt;&lt;span&gt;panel&lt;/span&gt;&lt;span&gt;ä¸ºé®ç½©ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;MessageBox&lt;span&gt;ä¸ºæ•´ä¸ªæç¤ºæ¡†ï¼Œ&lt;/span&gt;&lt;span&gt;Panel&lt;/span&gt;&lt;span&gt;ä¸ºæ ‡é¢˜ï¼Œ&lt;/span&gt;&lt;span&gt;ok&lt;/span&gt;&lt;span&gt;ä¸ºç¡®å®šæŒ‰é’®ï¼Œ&lt;/span&gt;&lt;span&gt;cancel&lt;/span&gt;&lt;span&gt;ä¸ºå–æ¶ˆæŒ‰é’®ï¼Œ&lt;/span&gt;&lt;span&gt;retry&lt;/span&gt;&lt;span&gt;ä¸ºé‡è¯•æŒ‰é’®ï¼Œ&lt;/span&gt;&lt;span&gt;Text&lt;/span&gt;&lt;span&gt;ä¸ºæç¤ºæ¡†çš„æ–‡å­—ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ³¨æ„å¤§å°å†™ï¼Œåé¢ä»£ç ä¼šæ ¹æ®åç§°è¿›è¡Œè·å–å¯¹åº”ç»„å»ºã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/i-beta/1660904/201911/1660904-20191102222241621-1398058046.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/i-beta/1660904/201911/1660904-20191102222253979-304030568.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/i-beta/1660904/201911/1660904-20191102222259665-135313743.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h5&gt;&lt;span&gt;äºŒã€&lt;strong&gt;MessageBox&lt;span&gt;ä»£ç ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;Â è¦è¯´æ˜çš„éƒ½åœ¨ä»£ç ä¸­æ³¨é‡Šäº†ã€‚&lt;span&gt;ä»¿ç…§Windowsçš„æç¤ºæ¡†åŠŸèƒ½ï¼Œå¦‚æœåŠŸèƒ½ä¸è¶³å¯è‡ªè¡Œæ·»åŠ ã€‚ä¾‹å¦‚å…³é—­æŒ‰é’®ã€æ˜¾ç¤ºå›¾æ ‡ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
&lt;span&gt;using&lt;/span&gt;&lt;span&gt; System;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;enum&lt;/span&gt;&lt;span&gt; DialogResult
{
    Ok,
    OKCancel,
    RetryCancel,
    YesNo,
    YesNoCancel
}

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MessageBox
{
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; trueè¡¨ç¤ºæ¨¡æ€æ¡†
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; type;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¸‰ä¸ªå§”æ‰˜ï¼Œåˆ†åˆ«ä¸ºä¸‰ä¸ªæŒ‰é’®çš„ç‚¹å‡»è¿è¡Œäº‹ä»¶&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Action clickOk;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Action clickRetry;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Action clickCancel;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; DialogResult dialogResult;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ ‡é¢˜&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; headText;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ–‡æœ¬&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; text;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;çŠ¶æ€ã€‚ç”¨äºæ˜¾ç¤ºæˆ–éšè—å¼¹å‡ºæ¡†&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; state;

    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt;é‡è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; onClickRetry()
    {
        state &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
        clickRetry&lt;/span&gt;?&lt;span&gt;.Invoke();
        clickRetry &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å–æ¶ˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; onClickCancel()
    {
        state &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
        clickCancel&lt;/span&gt;?&lt;span&gt;.Invoke();
        clickCancel &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; ç¡®å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; onClickOk()
    {
        state &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
        clickOk&lt;/span&gt;?&lt;span&gt;.Invoke();
        clickOk &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }

    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æ˜¾ç¤º
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;_text&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;å†…å®¹&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;_head&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;æ ‡é¢˜&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;dialog&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;æ ·å¼&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;type&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;æ¨¡å¼&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Show(&lt;span&gt;string&lt;/span&gt; _text,&lt;span&gt;string&lt;/span&gt; _head,DialogResult _dialog, &lt;span&gt;bool&lt;/span&gt; _type = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    {
        text &lt;/span&gt;=&lt;span&gt; _text;
        headText &lt;/span&gt;=&lt;span&gt; _head;
        dialogResult &lt;/span&gt;=&lt;span&gt; _dialog;
        type &lt;/span&gt;=&lt;span&gt; _type;
        state &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Show(&lt;span&gt;string&lt;/span&gt; _text,&lt;span&gt;string&lt;/span&gt; _head,&lt;span&gt;bool&lt;/span&gt; _type = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    {
        text &lt;/span&gt;=&lt;span&gt; _text;
        headText &lt;/span&gt;=&lt;span&gt; _head;
        dialogResult &lt;/span&gt;=&lt;span&gt; DialogResult.Ok;
        type &lt;/span&gt;=&lt;span&gt; _type;
        state &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Show(&lt;span&gt;string&lt;/span&gt; _text, &lt;span&gt;bool&lt;/span&gt; _type = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    {
        text &lt;/span&gt;=&lt;span&gt; _text;
        headText &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ä¿¡æ¯&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
        dialogResult &lt;/span&gt;=&lt;span&gt; DialogResult.Ok;
        type &lt;/span&gt;=&lt;span&gt; _type;
        state &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;&lt;span&gt;ä¸‰ã€&lt;strong&gt;UiMessage&lt;span&gt;ä»£ç ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;Â æ·»åŠ åˆ°Messageç‰©ä½“ä¸Šã€‚ç”¨äºæ§åˆ¶å¼¹å‡ºæ¡†çš„æ˜¾ç¤ºç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine.UI;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; UiMessage : MonoBehaviour
{
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Button ok;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Button cancel;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Button retry;
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; é®ç½©
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt;&lt;span&gt; GameObject panel;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Text headText;
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Text text;
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å¼¹å‡ºæ¡†
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt;&lt;span&gt; GameObject messageBox;

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Awake()
    {
        messageBox &lt;/span&gt;= gameObject.transform.GetChild(&lt;span&gt;1&lt;/span&gt;&lt;span&gt;).gameObject;
        ok &lt;/span&gt;= messageBox.transform.Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ok&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetComponent&amp;lt;Button&amp;gt;&lt;span&gt;();
        cancel &lt;/span&gt;= messageBox.transform.Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;cancel&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetComponent&amp;lt;Button&amp;gt;&lt;span&gt;();
        retry &lt;/span&gt;= messageBox.transform.Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;retry&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetComponent&amp;lt;Button&amp;gt;&lt;span&gt;();
        panel &lt;/span&gt;= gameObject.transform.Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;panel&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).gameObject;
        text &lt;/span&gt;= messageBox.transform.Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Text&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;&lt;span&gt;();
        headText &lt;/span&gt;= messageBox.transform.GetChild(&lt;span&gt;0&lt;/span&gt;).Find(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;&lt;span&gt;();

        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å°†æç¤ºæ¡†å±…ä¸­æ˜¾ç¤º&lt;/span&gt;
        messageBox.transform.position = &lt;span&gt;new&lt;/span&gt; Vector3(Screen.width / &lt;span&gt;2&lt;/span&gt; - messageBox.GetComponent&amp;lt;RectTransform&amp;gt;().rect.width / &lt;span&gt;2&lt;/span&gt;&lt;span&gt;,
                Screen.height &lt;/span&gt;/ &lt;span&gt;2&lt;/span&gt; + messageBox.GetComponent&amp;lt;RectTransform&amp;gt;().rect.height / &lt;span&gt;2&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
        init();
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnEnable()
    {
        init();
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; init()
    {
        ok.onClick.AddListener(MessageBox.onClickOk);
        cancel.onClick.AddListener(MessageBox.onClickCancel);
        retry.onClick.AddListener(MessageBox.onClickRetry);
        text.text &lt;/span&gt;=&lt;span&gt; MessageBox.text;
        headText.text &lt;/span&gt;=&lt;span&gt; MessageBox.headText;

        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ ¹æ®ä¼ é€’çš„å‚æ•°ï¼Œè¿›è¡Œæ ·å¼çš„æ˜¾ç¤º&lt;/span&gt;
        &lt;span&gt;switch&lt;/span&gt;&lt;span&gt; (MessageBox.dialogResult)
        {
            &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; DialogResult.Ok:
                ok.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                cancel.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
                retry.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; DialogResult.OKCancel:
                ok.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                cancel.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                retry.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; DialogResult.RetryCancel:
                ok.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                cancel.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                retry.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; DialogResult.YesNo:
                ok.transform.GetChild(&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;().text = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æ˜¯&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                cancel.transform.GetChild(&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;().text = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;å¦&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                ok.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                cancel.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                retry.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; DialogResult.YesNoCancel:
                ok.transform.GetChild(&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;().text = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æ˜¯&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                cancel.transform.GetChild(&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;).GetComponent&amp;lt;Text&amp;gt;().text = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;å¦&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                ok.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                cancel.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                retry.gameObject.SetActive(&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
        }
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Update()
    {
        panel.SetActive(MessageBox.type);
        gameObject.SetActive(MessageBox.state);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;&lt;span&gt;ä¸‰ã€æ˜¾ç¤ºæ¡†çš„è°ƒç”¨&lt;strong&gt;ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;&lt;span&gt;æ­¤å¤„è°ƒç”¨å¯ä»¥è‡ªè¡Œè®¾ç½®ä¸€ä¸ªæŒ‰é’®ï¼Œåœ¨å…¶ç‚¹å‡»äº‹ä»¶ä¸­æ³¨å†Œè°ƒç”¨å³å¯ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬”è€…ä½¿ç”¨é¡¹ç›®ä¸­çš„æ–¹å¼è¿›è¡Œæ¼”ç¤ºã€‚å…·ä½“ä¸åšè¯´æ˜ã€‚è°ƒç”¨æ–¹å¼å·²ç»™å‡ºã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç‰¹åˆ«æ³¨æ„ï¼šç”±äºUiMessageè°ƒç”¨äº†MessageBoxçš„æ–¹æ³•ï¼Œæ‰€ä»¥å¿…é¡»å…ˆåˆå§‹åŒ–MessageBoxçš„æ•°æ®ã€‚ä½¿ç”¨ä»€ä¹ˆå°±åˆå§‹åŒ–ä»€ä¹ˆã€‚ç¬”è€…ä½¿ç”¨äº†okã€cancelæŒ‰é’®ï¼ˆé»˜è®¤ä¸åˆå§‹åŒ–æ¨¡å¼ï¼Œå³ä¸ºæ¨¡æ€æ¡†ï¼Œä¸åˆå§‹åŒ–DialogResultå³ä¸ºåªæ˜¾ç¤ºokæŒ‰é’®ï¼‰ï¼Œæ‰€ä»¥æ³¨å†Œäº†ç›¸åº”çš„ç‚¹å‡»äº‹ä»¶ï¼ˆå§”æ‰˜ï¼‰ã€‚æœ€åæ˜¾ç¤ºå¼¹å‡ºæ¡†ï¼ˆæ•´ä¸ªåŒ…å«é®ç½©å’Œå¼¹å‡ºæ¡†ï¼‰ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/i-beta/1660904/201911/1660904-20191102224052402-1644395004.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;



&lt;h5&gt;&lt;span&gt;ä¸‰ã€è¿è¡Œç»“æœ&lt;strong&gt;ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/i-beta/1660904/201911/1660904-20191102224944834-1658785926.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;



&lt;h5&gt;&lt;span&gt;ä¸‰ã€å¼¹å‡ºæ¡†å¯æ‹–æ‹½ç§»åŠ¨&lt;strong&gt;ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;
&lt;p&gt;&lt;span&gt;å°†DragManageæ·»åŠ åˆ°MessageBoxç‰©ä½“ä¸Šé¢ã€‚&lt;span&gt;ï¼ˆå¦‚æœä½ æƒ³è®©uiç‰©ä½“å¯æ‹–æ‹½ï¼Œå¯¹å…¶æ·»åŠ DragManageå³å¯å®ç°ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ç¬”è€…å°±ä¸åšæ¼”ç¤ºäº†&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine.EventSystems;

&lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt;///&lt;/span&gt;&lt;span&gt; åªæ˜¯ç”¨æ¥å¤„ç†æ‹–æ‹½
&lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; DragManage : MonoBehaviour, IDragHandler, IBeginDragHandler, IEndDragHandler
{
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Vector3 offect;

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnBeginDrag(PointerEventData eventData)
    {
        offect &lt;/span&gt;= Input.mousePosition -&lt;span&gt; transform.position;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnDrag(PointerEventData eventData)
    {
        transform.position &lt;/span&gt;= Input.mousePosition -&lt;span&gt; offect;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnEndDrag(PointerEventData eventData)
    {
        transform.position &lt;/span&gt;= Input.mousePosition -&lt;span&gt; offect;
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


</description>
<pubDate>Sat, 02 Nov 2019 15:43:00 +0000</pubDate>
<dc:creator>æ— åä¹‹å£«</dc:creator>
<og:description>ä¸€ã€å¼¹å‡ºæ¡†çš„æ­å»ºï¼š å¸ƒå±€å¦‚å›¾ï¼šMessageä¸ºæ•´ä¸ªçˆ¶ç‰©ä½“ï¼Œå¹¶ä¸”æ·»åŠ UiMessageä»£ç ã€‚panelä¸ºé®ç½©ã€‚ MessageBoxä¸ºæ•´ä¸ªæç¤ºæ¡†ï¼ŒPanelä¸ºæ ‡é¢˜ï¼Œokä¸ºç¡®å®šæŒ‰é’®ï¼Œcancelä¸ºå–æ¶ˆæŒ‰é’®</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/unknown6248/p/11784813.html</dc:identifier>
</item>
<item>
<title>snaicå’Œtornadoçš„ç®€å•æ€§èƒ½æµ‹è¯• - Mike_Zhang</title>
<link>http://www.cnblogs.com/MikeZhang/p/snaic_vs_tornado_20191102.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MikeZhang/p/snaic_vs_tornado_20191102.html</guid>
<description>&lt;p&gt;æ“ä½œç³»ç»Ÿ ï¼š CentOS7.3.1611_x64&lt;/p&gt;
&lt;p&gt;Python ç‰ˆæœ¬ : 3.6.8&lt;/p&gt;
&lt;p&gt;tornadoç‰ˆæœ¬ï¼š6.0.2&lt;/p&gt;
&lt;p&gt;snaicç‰ˆæœ¬ï¼š19.9.0&lt;/p&gt;
&lt;p&gt;CPU ï¼š Intel(R) Core(TM) i5-2320 CPU @ 3.00GHz 4æ ¸&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ä¸€ç›´ä½¿ç”¨tornadoä½œä¸ºhttpç›¸å…³pythonç¨‹åºçš„æ¡†æ¶ï¼Œæœ€è¿‘æŸ¥èµ„æ–™å‘ç°æ–°å‡ºçš„snaicæ€§èƒ½å¾ˆé«˜ï¼Œè¿™é‡Œåœ¨åŒæ ·ç¡¬ä»¶æ¡ä»¶ä¸‹ä½¿ç”¨abè¿›è¡Œç®€å•çš„å‹æµ‹ã€‚&lt;/p&gt;
&lt;h2&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;å®‰è£…apache abå·¥å…·ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;yum&lt;/span&gt; -y &lt;span&gt;install&lt;/span&gt; httpd-tools
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‹æµ‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
ab -c &lt;span&gt;30&lt;/span&gt; -n &lt;span&gt;100000&lt;/span&gt; http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;127.0.0.1:9093/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;-c ï¼šæ¨¡æ‹Ÿå¹¶å‘æ•°&lt;/p&gt;
&lt;p&gt;-n : æ€»è¯·æ±‚æ•°&lt;/p&gt;
&lt;h2&gt;å¯¹æ¯”æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨tornadoå®ç°çš„ç®€å•httpæœåŠ¡å™¨ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/mike-zhang/pyExamples/blob/master/httpRelate/httpServer/tornadoTest1.py&quot;&gt;https://github.com/mike-zhang/pyExamples/blob/master/httpRelate/httpServer/tornadoTest1.py&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨snaicå®ç°çš„ç®€å•httpæœåŠ¡å™¨ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/mike-zhang/pyExamples/blob/master/httpRelate/httpServer/snaicTest1.py&quot;&gt;https://github.com/mike-zhang/pyExamples/blob/master/httpRelate/httpServer/snaicTest1.py&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;tornadoæµ‹è¯•ç»“æœï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
Server Software:        TornadoServer/&lt;span&gt;6.0&lt;/span&gt;.&lt;span&gt;2&lt;/span&gt;&lt;span&gt;
Server Hostname:        &lt;/span&gt;&lt;span&gt;127.0&lt;/span&gt;.&lt;span&gt;0.1&lt;/span&gt;&lt;span&gt;
Server Port:            &lt;/span&gt;&lt;span&gt;9093&lt;/span&gt;&lt;span&gt;

Document Path:          &lt;/span&gt;/&lt;span&gt;
Document Length:        &lt;/span&gt;&lt;span&gt;12&lt;/span&gt;&lt;span&gt; bytes

Concurrency Level:      &lt;/span&gt;&lt;span&gt;30&lt;/span&gt;&lt;span&gt;
Time taken &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; tests:   &lt;span&gt;82.282&lt;/span&gt;&lt;span&gt; seconds
Complete requests:      &lt;/span&gt;&lt;span&gt;100000&lt;/span&gt;&lt;span&gt;
Failed requests:        &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;
Write errors:           &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;
Total transferred:      &lt;/span&gt;&lt;span&gt;20700000&lt;/span&gt;&lt;span&gt; bytes
HTML transferred:       &lt;/span&gt;&lt;span&gt;1200000&lt;/span&gt;&lt;span&gt; bytes
Requests per second:    &lt;/span&gt;&lt;span&gt;1215.33&lt;/span&gt; [#/&lt;span&gt;sec] (mean)
Time per request:       &lt;/span&gt;&lt;span&gt;24.685&lt;/span&gt;&lt;span&gt; [ms] (mean)
Time per request:       &lt;/span&gt;&lt;span&gt;0.823&lt;/span&gt;&lt;span&gt; [ms] (mean, across all concurrent requests)
Transfer rate:          &lt;/span&gt;&lt;span&gt;245.68&lt;/span&gt; [Kbytes/&lt;span&gt;sec] received

Connection Times (ms)
                          min  mean[&lt;/span&gt;+/-&lt;span&gt;sd] median   max
Connect:        &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;    &lt;span&gt;0&lt;/span&gt;   &lt;span&gt;0.2&lt;/span&gt;      &lt;span&gt;0&lt;/span&gt;       &lt;span&gt;8&lt;/span&gt;&lt;span&gt;
Processing:     &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;   &lt;span&gt;25&lt;/span&gt;  &lt;span&gt;10.3&lt;/span&gt;     &lt;span&gt;25&lt;/span&gt;      &lt;span&gt;74&lt;/span&gt;&lt;span&gt;
Waiting:        &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;   &lt;span&gt;24&lt;/span&gt;  &lt;span&gt;10.3&lt;/span&gt;     &lt;span&gt;25&lt;/span&gt;      &lt;span&gt;74&lt;/span&gt;&lt;span&gt;
Total:          &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;   &lt;span&gt;25&lt;/span&gt;  &lt;span&gt;10.3&lt;/span&gt;     &lt;span&gt;25&lt;/span&gt;      &lt;span&gt;74&lt;/span&gt;&lt;span&gt;

Percentage of the requests served within a certain &lt;/span&gt;&lt;span&gt;time&lt;/span&gt;&lt;span&gt; (ms)
  &lt;/span&gt;&lt;span&gt;50&lt;/span&gt;%     &lt;span&gt;25&lt;/span&gt;
  &lt;span&gt;66&lt;/span&gt;%     &lt;span&gt;30&lt;/span&gt;
  &lt;span&gt;75&lt;/span&gt;%     &lt;span&gt;33&lt;/span&gt;
  &lt;span&gt;80&lt;/span&gt;%     &lt;span&gt;34&lt;/span&gt;
  &lt;span&gt;90&lt;/span&gt;%     &lt;span&gt;37&lt;/span&gt;
  &lt;span&gt;95&lt;/span&gt;%     &lt;span&gt;39&lt;/span&gt;
  &lt;span&gt;98&lt;/span&gt;%     &lt;span&gt;41&lt;/span&gt;
  &lt;span&gt;99&lt;/span&gt;%     &lt;span&gt;42&lt;/span&gt;
 &lt;span&gt;100&lt;/span&gt;%     &lt;span&gt;74&lt;/span&gt; (longest request)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;snaicæµ‹è¯•ç»“æœï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;Server Software:
Server Hostname:        &lt;/span&gt;&lt;span&gt;127.0&lt;/span&gt;.&lt;span&gt;0.1&lt;/span&gt;&lt;span&gt;
Server Port:            &lt;/span&gt;&lt;span&gt;9093&lt;/span&gt;&lt;span&gt;

Document Path:          &lt;/span&gt;/&lt;span&gt;
Document Length:        &lt;/span&gt;&lt;span&gt;12&lt;/span&gt;&lt;span&gt; bytes

Concurrency Level:      &lt;/span&gt;&lt;span&gt;30&lt;/span&gt;&lt;span&gt;
Time taken &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; tests:   &lt;span&gt;20.164&lt;/span&gt;&lt;span&gt; seconds
Complete requests:      &lt;/span&gt;&lt;span&gt;100000&lt;/span&gt;&lt;span&gt;
Failed requests:        &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;
Write errors:           &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;
Total transferred:      &lt;/span&gt;&lt;span&gt;11100000&lt;/span&gt;&lt;span&gt; bytes
HTML transferred:       &lt;/span&gt;&lt;span&gt;1200000&lt;/span&gt;&lt;span&gt; bytes
Requests per second:    &lt;/span&gt;&lt;span&gt;4959.29&lt;/span&gt; [#/&lt;span&gt;sec] (mean)
Time per request:       &lt;/span&gt;&lt;span&gt;6.049&lt;/span&gt;&lt;span&gt; [ms] (mean)
Time per request:       &lt;/span&gt;&lt;span&gt;0.202&lt;/span&gt;&lt;span&gt; [ms] (mean, across all concurrent requests)
Transfer rate:          &lt;/span&gt;&lt;span&gt;537.58&lt;/span&gt; [Kbytes/&lt;span&gt;sec] received

Connection Times (ms)
                          min  mean[&lt;/span&gt;+/-&lt;span&gt;sd] median   max
Connect:        &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;    &lt;span&gt;2&lt;/span&gt;   &lt;span&gt;0.5&lt;/span&gt;      &lt;span&gt;2&lt;/span&gt;      &lt;span&gt;11&lt;/span&gt;&lt;span&gt;
Processing:     &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;    &lt;span&gt;4&lt;/span&gt;   &lt;span&gt;1.5&lt;/span&gt;      &lt;span&gt;4&lt;/span&gt;      &lt;span&gt;38&lt;/span&gt;&lt;span&gt;
Waiting:        &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;    &lt;span&gt;4&lt;/span&gt;   &lt;span&gt;1.4&lt;/span&gt;      &lt;span&gt;3&lt;/span&gt;      &lt;span&gt;37&lt;/span&gt;&lt;span&gt;
Total:          &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;    &lt;span&gt;6&lt;/span&gt;   &lt;span&gt;1.5&lt;/span&gt;      &lt;span&gt;6&lt;/span&gt;      &lt;span&gt;41&lt;/span&gt;&lt;span&gt;

Percentage of the requests served within a certain &lt;/span&gt;&lt;span&gt;time&lt;/span&gt;&lt;span&gt; (ms)
  &lt;/span&gt;&lt;span&gt;50&lt;/span&gt;%      &lt;span&gt;6&lt;/span&gt;
  &lt;span&gt;66&lt;/span&gt;%      &lt;span&gt;6&lt;/span&gt;
  &lt;span&gt;75&lt;/span&gt;%      &lt;span&gt;7&lt;/span&gt;
  &lt;span&gt;80&lt;/span&gt;%      &lt;span&gt;7&lt;/span&gt;
  &lt;span&gt;90&lt;/span&gt;%      &lt;span&gt;7&lt;/span&gt;
  &lt;span&gt;95&lt;/span&gt;%      &lt;span&gt;8&lt;/span&gt;
  &lt;span&gt;98&lt;/span&gt;%      &lt;span&gt;9&lt;/span&gt;
  &lt;span&gt;99&lt;/span&gt;%     &lt;span&gt;10&lt;/span&gt;
 &lt;span&gt;100&lt;/span&gt;%     &lt;span&gt;41&lt;/span&gt; (longest request)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»æµ‹è¯•ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¼€å¯ä¸¤ä¸ªè¿›ç¨‹æƒ…å†µä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;tornadoçš„cpsæ˜¯ 1215.33 ï¼Œå¹³å‡å“åº”æ—¶é—´æ˜¯ 24.685 ms&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;snaicçš„cpsæ˜¯ 4959.29 ï¼Œå¹³å‡å“åº”æ—¶é—´æ˜¯ 6.049 ms&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹å¹¶å‘æ•°åçš„æµ‹è¯•æ•°æ®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/300959/201911/300959-20191102232800395-1719540080.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â æµ‹è¯•ç»“æœå¯¹æ¯”å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/300959/201911/300959-20191102232903154-1068334143.png&quot; alt=&quot;&quot;/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/300959/201911/300959-20191102233250536-849385589.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä»æµ‹è¯•æ•°æ®æ¥çœ‹ï¼Œsnaicçš„cpsæ¯”tornadoé«˜ï¼Œå¹³å‡å“åº”æ—¶é—´æ–¹é¢ï¼Œsnaicä¹Ÿæ¯”tornadoçŸ­ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡githubåœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/mike-zhang/mikeBlogEssays/blob/master/2019/20191102_snaic%E5%92%8Ctornado%E7%9A%84%E7%AE%80%E5%8D%95%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.rst&quot; target=&quot;_blank&quot;&gt;https://github.com/mike-zhang/mikeBlogEssays/blob/master/2019&lt;span class=&quot;separator&quot;&gt;/20191102_snaicå’Œtornadoçš„ç®€å•æ€§èƒ½æµ‹è¯•.rst&lt;span class=&quot;final-path&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿è¡¥å……&lt;/p&gt;
</description>
<pubDate>Sat, 02 Nov 2019 15:35:00 +0000</pubDate>
<dc:creator>Mike_Zhang</dc:creator>
<og:description>æ“ä½œç³»ç»Ÿ ï¼š CentOS7.3.1611_x64 Python ç‰ˆæœ¬ : 3.6.8 tornadoç‰ˆæœ¬ï¼š6.0.2 snaicç‰ˆæœ¬ï¼š19.9.0 CPU ï¼š Intel(R) Core(TM) i</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/MikeZhang/p/snaic_vs_tornado_20191102.html</dc:identifier>
</item>
<item>
<title>ThreadPoolExecutoræºç ä¸­çš„é€‚é…å™¨æ¨¡å¼ - kingsleylam</title>
<link>http://www.cnblogs.com/kingsleylam/p/11784777.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kingsleylam/p/11784777.html</guid>
<description>&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼&quot;&gt;ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ç½‘ä¸Šå·²æœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œä¸ç»†è®²äº†ã€‚å¯ä»¥å‚è€ƒï¼š&lt;a href=&quot;https://www.cnblogs.com/kubidemanong/p/9609856.html&quot;&gt;äº”åˆ†é’Ÿäº†è§£è®¾è®¡æ¨¡å¼(3)---é€‚é…å™¨æ¨¡å¼&lt;/a&gt;&lt;br/&gt;åœ¨é€‚é…å™¨æ¨¡å¼ä¸­ï¼Œä¸€å®šè¦è¯†åˆ«æ¸…æ¥šï¼ŒTarget Adaptee Adapteråˆ†åˆ«æ˜¯å“ªäº›ç±»æˆ–æ¥å£ï¼Œè¿™æ ·æ‰èƒ½çŸ¥é“æ˜¯è°è½¬æˆè°ã€‚&lt;br/&gt;Target: æœ€ç»ˆç»™ä¸Šä¸‹æ–‡è°ƒç”¨çš„ç±»&lt;br/&gt;Adaptee: è¢«é€‚é…çš„ç±»ï¼Œå³éœ€è¦è½¬æˆTarget&lt;br/&gt;Adapter: å°†Targetå’ŒAdapteeè¿æ¥èµ·æ¥ï¼Œèµ·è½¬æ¢ä½œç”¨&lt;/p&gt;
&lt;h3 id=&quot;threadpoolexecutorä¸­submitæ–¹æ³•ç”¨åˆ°çš„é€‚é…å™¨æ¨¡å¼&quot;&gt;ThreadPoolExecutorä¸­submitæ–¹æ³•ç”¨åˆ°çš„é€‚é…å™¨æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ThreadPoolExecutorç±»æä¾›äº†submitæ–¹æ³•ï¼Œå…±æœ‰3ä¸ªé‡è½½ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•æœ€ç»ˆè°ƒç”¨åˆ°çš„æ˜¯execute(Runnable r) æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªFutureç±»å‹çš„å¯¹è±¡ï¼ˆå…·ä½“ä¸ºFutureTaskç±»å‹ï¼‰ï¼Œç›¸æ¯”ç›´æ¥è°ƒç”¨execute(Runnable r)æ–¹æ³•ï¼Œè°ƒç”¨æ–¹å¯ä»¥è·å¾—ä»»åŠ¡æ‰§è¡Œçš„ç»“æœã€‚ä¸‰ä¸ªsubmitæ–¹æ³•ï¼Œ éƒ½ä½¿ç”¨äº†é€‚é…å™¨æ¨¡å¼ï¼Œæ‰èƒ½å°†é¡ºåˆ©è°ƒç”¨execute(Runnable r)æ–¹æ³•ã€‚&lt;br/&gt;Â Â &lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å…ˆçœ‹çœ‹public Future submit(Callable task)&lt;br/&gt;åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼ŒTargetæ˜¯Runnableï¼ˆå› ä¸ºexecuteæ–¹æ³•çš„å‚æ•°æ˜¯Runnableç±»å‹ï¼‰ï¼ŒAdapteeæ˜¯Callableã€‚JDKä½¿ç”¨äº†FutureTaskç±»ä½œä¸ºAdapter. FutureTaskç±»çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/452847/201911/452847-20191102233022073-615872829.png&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å®ç°äº†Runnableï¼Œå¯ä»¥ä¼ å‚ç»™executeæ–¹æ³•ï¼›å®ç°äº†Futureï¼Œå¯ä»¥è¿”å›ç»™è°ƒç”¨æ–¹ã€‚&lt;br/&gt;FutureTaskä½œä¸ºAdapterï¼Œé‡‡ç”¨çš„æ˜¯â€œç±»é€‚é…å™¨æ–¹å¼â€ï¼ŒæŒæœ‰ä¸€ä¸ªCallableï¼ˆå³Adapteeï¼‰ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/452847/201911/452847-20191102233057458-643659476.png&quot;/&gt;&lt;/p&gt;
&lt;ul readability=&quot;1.5&quot;&gt;&lt;li readability=&quot;3&quot;&gt;
&lt;p&gt;å†çœ‹çœ‹public Future submit(Runnable task, T result)&lt;br/&gt;åŒæ ·æ˜¯åŒ…è£…æˆFutureTaskç±»å‹ï¼Œé‚£ä¹ˆåªè¦å°†Runnableè½¬æˆFutureTaskå°±å¯ä»¥äº†ã€‚ä¸Šé¢è¯´åˆ°FutureTaskä¹Ÿæ˜¯å®ç°äº†Runnableï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦è½¬æ¢å‘¢ï¼Ÿå› ä¸ºFutureTaskè¿˜å®ç°äº†Futureæ¥å£ï¼ŒåŠŸèƒ½ä¸Šæ¯”Runnableæ›´å¼ºå¤§ï¼ŒåŒæ—¶è¦è¿”å›ç»™è°ƒç”¨æ–¹ï¼Œæä¾›è¿è¡Œç»“æœã€‚&lt;br/&gt;å½“å‰æˆ‘ä»¬æœ‰ä¸€ä¸ªRunnableå’Œè¡¨ç¤ºç»“æœçš„å‚æ•°ï¼Œéœ€è¦é€‚é…æˆFutureTaskã€‚å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“ï¼ŒFutureTaskèµ·åˆ°Adapterçš„ä½œç”¨ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªCallableæˆå‘˜å˜é‡ã€‚å¦‚æœæ²¡æœ‰ä¸Šé¢çš„åˆ†æï¼Œé‚£ä¹ˆFutureTaskå¯ä»¥æ”¹ä¸ºæŒæœ‰Runnableï¼Œä½†ç°åœ¨å®ƒå·²ç»æ˜¯æŒæœ‰Callableæˆå‘˜å˜é‡äº†ï¼Œæ‰€ä»¥ï¼Œè¿˜è¦å†åšä¸€æ¬¡é€‚é…ï¼Œå°†Runnableé€‚é…æˆCallable.&lt;br/&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒTargetæ˜¯Callableï¼ŒAdapteeæ˜¯Runnableï¼ŒAdapteræ˜¯RunnableAdapterã€‚&lt;br/&gt;RunnableAdapterä½¿ç”¨â€œç±»é€‚é…å™¨æ–¹å¼â€&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/452847/201911/452847-20191102233104642-1380170878.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;æœ€åä¸€ä¸ªpublic Future&amp;lt;?&amp;gt; submit(Runnable task)&lt;br/&gt;ä¸ä¸Šä¸€ä¸ªæ–¹æ³•ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿è¡Œç»“æœä¸ºnull.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;åœ¨ThreadPoolExecutorçš„ä¸‰ä¸ªsubmitæ–¹æ³•ä¸­ï¼Œéƒ½ä½¿ç”¨äº†é€‚é…å™¨æ¨¡å¼ï¼Œéƒ½ä½¿ç”¨äº†å…¶ä¸­çš„â€œç±»é€‚é…å™¨æ–¹å¼â€ã€‚&lt;br/&gt;submitæ–¹æ³•éƒ½è¿”å›FutureTaskï¼Œè¯¥ç±»å‹å¯ä»¥å¾—åˆ°è¿è¡Œç»“æœã€‚&lt;br/&gt;submitæ–¹æ³•éƒ½è°ƒç”¨äº†execute(Runnable r)æ–¹æ³•æ‰§è¡Œä»»åŠ¡ï¼Œä¼ å…¥çš„å…·ä½“ç±»å‹ä¸ºFutureTaskã€‚å› æ­¤ï¼ŒTargetæ˜¯Runnableï¼ŒAdapteræ˜¯FutureTaskï¼ŒAdapteeåˆ™æ˜¯ä¸åŒçš„ä¼ å…¥å‚æ•°ã€‚&lt;br/&gt;FutureTaskçš„å®ç°æ–¹å¼æ˜¯æŒæœ‰ä¸€ä¸ªCallableç±»å‹çš„æˆå‘˜å˜é‡ï¼Œå› æ­¤ï¼Œå¯¹äºä¼ å…¥å‚æ•°ä¸ºCallableçš„æƒ…å†µï¼Œç›´æ¥èµ‹å€¼ï¼Œå¯¹äºä¼ å…¥å‚æ•°ä¸ºRunnableçš„æƒ…å†µï¼Œéœ€è¦å†åšä¸€æ¬¡é€‚é…ï¼Œå°†Runnableé€‚é…æˆCallable. åœ¨è¿™ä¸ªè½¬æ¢è¿‡ç¨‹ä¸­ï¼ŒTargetæ˜¯Callableï¼ŒAdapteeæ˜¯Runnableï¼ŒAdapteræ˜¯Adapteræ˜¯RunnableAdapterã€‚&lt;/p&gt;
</description>
<pubDate>Sat, 02 Nov 2019 15:33:00 +0000</pubDate>
<dc:creator>kingsleylam</dc:creator>
<og:description>ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ ç½‘ä¸Šå·²æœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œä¸ç»†è®²äº†ã€‚å¯ä»¥å‚è€ƒï¼š[äº”åˆ†é’Ÿäº†è§£è®¾è®¡æ¨¡å¼(3) é€‚é…å™¨æ¨¡å¼]( https://www.cnblogs.com/kubidemanong/p/9609856.ht</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kingsleylam/p/11784777.html</dc:identifier>
</item>
<item>
<title>é¢è¯•ï¼šè®©ä½ è®¾è®¡ä¸€ä¸ªç¬¬ä¸‰æ–¹è´¦å·ç™»é™†ä½ è¯¥å¦‚ä½•å®ç°ï¼Ÿ - HG-93</title>
<link>http://www.cnblogs.com/cxydmx/p/11784713.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/cxydmx/p/11784713.html</guid>
<description>&lt;p&gt;è¿™é‡Œçš„å¤šè´¦æˆ·åŒºåˆ«äºç³»ç»Ÿçº§åˆ«çš„ï¼Œæˆ‘ä»¬è®²çš„å¤šè´¦æˆ·ç³»ç»Ÿæ˜¯æŒ‡ï¼Œåœ¨æˆ‘ä»¬äº’è”ç½‘åº”ç”¨å½“ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¼šä½¿ç”¨å¤šä¸ªç¬¬ä¸‰æ–¹è´¦å·è¿›è¡Œç™»å½•ï¼Œå¿…é¡»ç°åœ¨å¸¸ç”¨çš„APPï¼ˆç½‘æ˜“äº‘éŸ³ä¹ï¼‰ç™»å½•æ–¹å¼åŒ…å«ï¼šç½‘æ˜“ã€å¾®ä¿¡ã€QQ&lt;/p&gt;

&lt;p&gt;é€šè¿‡è¿™ä¸€ç¯‡æ–‡ç« ï¼Œ å¯ä»¥å­¦åˆ°ï¼šå¤šç”¨æˆ·ä¸‹é¢çš„æŠ€æœ¯æ–¹æ¡ˆç»†èŠ‚ï¼Œä»¥åŠç›¸åº”çš„è¡¨è®¾è®¡ï¼Œæµç¨‹è®¾è®¡ã€‚ ä¸å¯ä»¥ï¼šä¸å…¶ä»–æ–‡ç« ä¸€æ ·ï¼Œæˆ‘è¿™é‡Œä¸ä¼šæœ‰å…·ä½“ä»£ç å®ç°ç»†èŠ‚ï¼Œæ–¹æ¡ˆåšçš„å¯¹ï¼Œä»£ç å’‹å†™éƒ½ä¸ä¼šå¤ªçƒ‚ã€‚&lt;/p&gt;
&lt;img class=&quot;lazyload inited loaded&quot; data-src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb3009405b73?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; data-width=&quot;700&quot; data-height=&quot;1060&quot; src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb3009405b73?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot;/&gt;
&lt;h2 class=&quot;heading&quot; data-id=&quot;heading-3&quot;&gt;åˆ›ä¸šåˆæœŸ&lt;/h2&gt;
&lt;p&gt;å½’ç»“ä¸ºåˆ›ä¸šåˆæœŸæ˜¯å› ä¸ºè¿™ä¸ªæ—¶å€™ç”¨æˆ·é‡æ¯”è¾ƒå°‘ï¼Œç”šè‡³è¿˜æ²¡æœ‰æ¥å…¥ä¸Šé¢æ‰€è¯´çš„å…¶ä»–ç¬¬ä¸‰æ–¹çš„è´¦æˆ·ç³»ç»Ÿï¼Œåªæ˜¯è‡ªå»ºçš„ä½“ç³»å°±å¯ä»¥æ»¡è¶³ï¼Œè‡ªå»ºä½“ç³»çš„è¯ï¼Œç›®å‰å¸¸ç”¨çš„æœ‰&lt;/p&gt;
&lt;h3 class=&quot;heading&quot; data-id=&quot;heading-4&quot;&gt;ç”¨æˆ·åå¯†ç æ³¨å†Œç™»é™†&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹å¼åœ¨å¾ˆå¤šåˆæœŸç½‘ç«™å»ºè®¾ä¼šä½¿ç”¨ï¼Œå…ˆæ³¨å†Œï¼Œå†è¿›è¡Œç™»å½•ï¼Œåœ¨è€ä¸€ç‚¹çš„cmsä¸­éƒ½èƒ½æ‰¾åˆ°è¿™ä¸ªå½±å­ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å›¾ï¼š&lt;/p&gt;
&lt;img class=&quot;lazyload inited loaded&quot; data-src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb346d2dfe19?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; data-width=&quot;1280&quot; data-height=&quot;660&quot; src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb346d2dfe19?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot;/&gt;&lt;p&gt;æµç¨‹è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;å‰ç«¯å°†ç”¨æˆ·åã€å¯†ç å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è¿›è¡Œå¸¸è§„çš„åˆ¤æ–­ï¼Œåˆ¤æ–­ç”¨æˆ·åã€å¯†ç é•¿åº¦æ˜¯å¦æ»¡è¶³ï¼Œç”¨æˆ·åæ˜¯å¦é‡å¤ç­‰æ¡ä»¶ï¼Œæ¡ä»¶ä¸é€šè¿‡ç›´æ¥è¿”å›å¯¹åº”é”™è¯¯ç ç»™åˆ°å‰ç«¯ï¼Œè¿™é‡Œå¯†ç å­—æ®µï¼Œä¸ºäº†é˜²æ­¢ä¼ è¾“è¿‡ç¨‹ä¸­è¢«æˆªèƒ¡ï¼Œå»ºè®®åŠ å¯†å†ä¸Šä¼ ï¼Œæˆ‘ä»¬çš„ä¼ è¾“å¯†ç é»˜è®¤éƒ½æ˜¯ä¼šè¿›è¡Œä¸€ä¸ªmd5åŠ å¯†ï¼Œç„¶åè®°å½•åˆ°æ•°æ®åº“å†è¿›è¡Œä¸€å±‚åŠ å¯†ï¼Œå°±ç®—æ˜¯è„±åº“ä¹Ÿæ²¡äº‹ï¼Œå¯†ç ä¸è¦æ˜æ–‡å­˜å‚¨ã€‚&lt;/li&gt;
&lt;li&gt;æ ¡éªŒé€šè¿‡åï¼Œå°±å°†ç”¨æˆ·åå¯†ç å†™å…¥æ•°æ®åº“ï¼Œå¹¶è¿›è¡Œåé¢ç§¯åˆ†å‘æ”¾ç­‰æ“ä½œï¼Œè¿™é‡Œä¸å±•å¼€ã€‚&lt;/li&gt;
&lt;li&gt;ç°åœ¨è¿›è¡Œç™»å½•ï¼Œå‰ç«¯å°†ç”¨æˆ·åï¼Œå¯†ç å‘é€ç»™åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯é¦–å…ˆä¼šæ ¡éªŒç™»å½•æ¬¡æ•°æ˜¯å¦è¶…è¿‡è®¾ç½®çš„é˜ˆå€¼ï¼Œå¦‚æœè¶…è¿‡åªèƒ½ç»§ç»­ç­‰å¾…è¢«å…³å°é»‘å±‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæœªè¶…è¿‡ç»§ç»­ç™»å½•é€»è¾‘ï¼Œåˆ¤æ–­ç”¨æˆ·åã€å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œä¸æ­£ç¡®å¯†ç åˆ™è¿›è¡Œé˜ˆå€¼çš„åˆ¤æ–­ï¼Œå¦‚æœè¶…è¿‡åˆ™å…³å°é»‘å±‹ï¼Œè®°ä½å°é»‘å±‹å¿…é¡»è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¦ä¸ç„¶å°±ä¼šæ°¸ä¹…å…³ä¸Šäº†ï¼Œè¿™ä¸ªå¯ä»¥ç”¨redisçš„è¿‡æœŸæ¥åšã€‚&lt;/li&gt;
&lt;li&gt;ç™»å½•æˆåŠŸåè¿›è¡Œåç»­çš„ä¸€åˆ‡åç½®é€»è¾‘ï¼Œæ¯”å¦‚åŠ ç§¯åˆ†ã€‚ã€‚ã€‚ç­‰æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;h3 class=&quot;heading&quot; data-id=&quot;heading-5&quot;&gt;æ‰‹æœºå·æ³¨å†Œç™»é™†&lt;/h3&gt;
&lt;p&gt;æµç¨‹å›¾ï¼š&lt;/p&gt;
&lt;img class=&quot;lazyload inited loaded&quot; data-src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb36d7bacb06?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; data-width=&quot;660&quot; data-height=&quot;606&quot; src=&quot;https://user-gold-cdn.xitu.io/2019/6/19/16b6fb36d7bacb06?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot;/&gt; æµç¨‹è¯´æ˜ï¼š
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;é¦–å…ˆè¾“å…¥æ‰‹æœºå·ï¼Œç„¶åå‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ‰‹æœºå·è®°å½•åœ¨æˆ‘ä»¬æ•°æ®åº“ä¸­ï¼Œç„¶åç”ŸæˆéšæœºéªŒè¯ç ï¼Œå¹¶å°†æ‰‹æœºå·å’ŒéªŒè¯ç ç»‘å®šåˆ°ä¸€ä¸ªredisé‡Œé¢ï¼Œç„¶åè®°å½•è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªè¿‡æœŸæ—¶é—´ä¸€èˆ¬æ˜¯10åˆ†é’Ÿå·¦å³ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬æ‰‹æœºéªŒè¯ç çš„æœ‰æ•ˆæœŸã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹æœºæ¥æ”¶åˆ°æ‰‹æœºçŸ­ä¿¡åï¼Œé‚£ä¹ˆå°±åœ¨ç•Œé¢å¡«å†™éªŒè¯ç å‘é€æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°éªŒè¯ç åå°±ä¼šåœ¨redisé‡Œé¢æŸ¥è¯¢åˆ°è¿™ä¸ªæ‰‹æœºå·å¯¹åº”çš„éªŒè¯ç ï¼Œå¤±è´¥å°±è¿”å›é”™è¯¯ç ã€‚&lt;/li&gt;
&lt;li&gt;æˆåŠŸåå°±è¿›è¡Œç™»å½•æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;è¿™é‡Œçœ‹èµ·æ¥æ²¡æœ‰æ˜ç¡®çš„æ³¨å†Œç™»å½•æ“ä½œï¼Œå…¶å®åœ¨å‘é€æ‰‹æœºå·ç å°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¸¸è§„çš„æ³¨å†Œï¼Œç„¶ååé¢çš„éªŒè¯ç è¾“å…¥å°±æ˜¯ä¸€ä¸ªç™»é™†æ“ä½œï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é—®ï¼š&lt;/strong&gt; é‚£æˆ‘è¦å¯†ç å’‹åŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç­”ï¼š&lt;/strong&gt; åœ¨åç»­äº§å“é‡Œé¢å¢åŠ ä¸€ä¸ªæ‰‹æœºå·ç å¯†ç è¡¥å½•çš„åŠŸèƒ½å³å¯ï¼Œè¿™ä¹Ÿæ˜¯ç°åœ¨å¾ˆå¸¸è§„çš„æ‰‹æ³•ï¼Œä½†æ˜¯ç°åœ¨ç§»åŠ¨äº’è”ç½‘å¤§çˆ†ç‚¸æ—¶ä»£ï¼Œå¯†ç å·²ç»æ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆé‡è¦äº†ï¼Œåæ­£æˆ‘ä»æ¥è®°ä¸ä½å¯†ç ï¼Œå¦‚æœæ‰‹æœºå·ç èƒ½æ“ä½œçš„appï¼Œç»å¯¹ä¸ç”¨å¯†ç æ¥æ“ä½œã€‚&lt;/p&gt;
&lt;h3 class=&quot;heading&quot; data-id=&quot;heading-6&quot;&gt;æ•°æ®åº“è®¾è®¡&lt;/h3&gt;
&lt;h4 class=&quot;heading&quot; data-id=&quot;heading-7&quot;&gt;è¡¨ç»“æ„&lt;/h4&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;è‡ªå¢id&lt;/th&gt;
&lt;th&gt;ç”¨æˆ·å&lt;/th&gt;
&lt;th&gt;å¯†ç &lt;/th&gt;
&lt;th&gt;æ‰‹æœºå·&lt;/th&gt;
&lt;th&gt;é”™è¯¯æ¬¡æ•°&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;user1&lt;/td&gt;
&lt;td&gt;7fef6171469e80d32c0559f88b377245&lt;/td&gt;
&lt;td&gt;13456789012&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;user2&lt;/td&gt;
&lt;td&gt;7fef6171469e80d32c0559f88b377245&lt;/td&gt;
&lt;td&gt;13456789013&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h4 class=&quot;heading&quot; data-id=&quot;heading-8&quot;&gt;è¯´æ˜&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;è¿™é‡Œåªæ˜¯å•çº¯è¯´æ˜éœ€è¦ç”¨åˆ°çš„æ•°æ®ï¼Œæ²¡æœ‰æ‰©å±•å…·ä½“åœºæ™¯,è¿™ä¸ªè¡¨ç»“æ„èƒ½å¤Ÿæ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ–¹æ¡ˆçš„è®¾è®¡ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;h2 class=&quot;heading&quot; data-id=&quot;heading-9&quot;&gt;å¼•å…¥ç¬¬ä¸‰æ–¹è´¦æˆ·æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ä»¥QQ-SDKçš„ç™»å½•é€»è¾‘ï¼Œ æˆ‘ä»¬å…ˆæ¥ä¸€æ³¢æ—¶åºå›¾&lt;/p&gt;
&lt;img class=&quot;lazyload inited loaded&quot; data-src=&quot;https://user-gold-cdn.xitu.io/2019/6/20/16b7299a7015addb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; data-width=&quot;837&quot; data-height=&quot;735&quot; src=&quot;https://user-gold-cdn.xitu.io/2019/6/20/16b7299a7015addb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot;/&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;å®¢æˆ·ç«¯è‡ªå·±è°ƒèµ·ç™»å½•çš„ç•Œé¢ï¼Œè¿›è¡Œè¾“å…¥ç”¨æˆ·åã€å¯†ç ï¼Œè¿™é‡Œçš„æ˜¯ç¬¬ä¸‰æ–¹çš„ç”¨æˆ·åï¼Œå¯†ç ï¼Œç™»å½•æˆåŠŸåï¼Œä¼šè¿”å›access_token openid expire_in,è¿™è¿‡ç¨‹ä¼šä½¿ç”¨åˆ°oauth2.0ï¼Œä¸è¿‡åœ¨sdké‡Œé¢è¿›è¡Œå†…ç½®å›è°ƒè·å–äº†ï¼Œåé¢æˆ‘ä»¬ä¼šè¯´æ˜æˆ‘ä»¬è‡ªèº«å®ç°çš„oauth2.0&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ‹¿åˆ°access_tokenã€openidã€login_typeï¼ˆqqã€wechat...ï¼‰è¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œåº”ç”¨æœåŠ¡å™¨æ‹¿åˆ°è¿™äº›æ•°æ®åå°±ä¼šæ ¹æ®å¯¹åº”çš„login_typeå»å¯¹åº”çš„ç”¨æˆ·ä¸­å¿ƒè¿›è¡Œaccess_tokenå’Œopenidè¿›è¡Œæ ¡éªŒã€‚æ ¡éªŒä¸é€šè¿‡åˆ™è¿”å›å¯¹åº”é”™è¯¯ç &lt;/li&gt;
&lt;li&gt;æ ¡éªŒé€šè¿‡åå°±ä¼šåˆ¤æ–­æœ¬åœ°æ˜¯å¦æœ‰è¿™ä¸ªlogin_typeå’Œopenidæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™è¿›è¡Œè·å–è¿œç¨‹çš„ç”¨æˆ·åã€å¤´åƒç­‰åŸºç¡€ä¿¡æ¯æ¥ä½œä¸ºæœ¬åœ°åŸºç¡€æ•°æ®ï¼Œå¹¶ä¸”è¿”å›codeå€¼&lt;/li&gt;
&lt;li&gt;å¦‚æœå·²ç»å­˜åœ¨ï¼Œé‚£å°±æ˜¯è¿›è¡Œç™»å½•æ“ä½œï¼Œè¿”å›codeå€¼ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ‹¿åˆ°codeå€¼åè¿›è¡Œtokenå€¼çš„æ¢å–ï¼Œè¿™ä¸ªå®Œå…¨éµç…§oauth2.0çš„åè®®æ¥èµ°çš„ï¼Œåç»­æ¯æ¬¡è¯·æ±‚å¿…é¡»å¸¦ä¸Štokenï¼Œtokenå€¼åœ¨æœåŠ¡ç«¯çš„æ—¶é—´æ¯”è¾ƒä¹…ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦åšçš„æ˜¯é‚£ç§æ°¸ä¸ä¸‹çº¿çš„æ“ä½œï¼Œæ‰€ä»¥æ¯æ¬¡è¯·æ±‚æˆ‘ä»¬éƒ½å°†tokenè¿‡æœŸæ—¶é—´è¿›è¡Œç´¯åŠ ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;h3 class=&quot;heading&quot; data-id=&quot;heading-10&quot;&gt;æ•°æ®åº“è®¾è®¡&lt;/h3&gt;
&lt;h4 class=&quot;heading&quot; data-id=&quot;heading-11&quot;&gt;è¡¨ç»“æ„&lt;/h4&gt;
&lt;p&gt;å¯¹äºè¯„è®ºå¤„ @è®²ä¸å‡ºå†è§1486617502000 çš„å»ºè®®ï¼Œæˆ‘è¿™é‡Œåšä¸€ä¸‹æ•°æ®åº“çš„æ•´ç† ç”¨æˆ·åŸºç¡€è¡¨ï¼ˆusersï¼‰&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å­—æ®µ&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;user_id&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;token&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·ç™»é™†çš„token&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;expire_in&lt;/td&gt;
&lt;td&gt;tokenè¿‡æœŸæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;try_times&lt;/td&gt;
&lt;td&gt;ç™»å½•å¤±è´¥æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;ç”¨æˆ·éªŒè¯å…³è”è¡¨ï¼ˆuser_auth_relï¼‰&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å­—æ®µ&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;
&lt;td&gt;è‡ªå¢id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;user_id&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;auth_id&lt;/td&gt;
&lt;td&gt;éªŒè¯è¡¨id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;auth_type&lt;/td&gt;
&lt;td&gt;éªŒè¯ç±»å‹(localã€third)&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æœ¬åœ°ç”¨æˆ·è¡¨ï¼ˆuser_local_authï¼‰&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å­—æ®µ&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;auth_id&lt;/td&gt;
&lt;td&gt;è®¤è¯idï¼Œè‡ªå¢id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;user_name&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·å”¯ä¸€æ ‡è¯†&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;password&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·å¯†ç &lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;mobile&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·æ‰‹æœº&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;ç¬¬ä¸‰æ–¹ç”¨æˆ·è¡¨ï¼ˆuser_third_authï¼‰&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å­—æ®µ&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;auth_id&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·id&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;openid&lt;/td&gt;
&lt;td&gt;ç¬¬ä¸‰æ–¹ç”¨æˆ·å”¯ä¸€æ ‡è¯†&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;login_type&lt;/td&gt;
&lt;td&gt;ç¬¬ä¸‰æ–¹å¹³å°æ ‡è¯†(qqã€wechat...)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;access_token&lt;/td&gt;
&lt;td&gt;ç¬¬ä¸‰æ–¹è·å–çš„access_token,æ ¡éªŒä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;è¯´æ˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;usersè¡¨åªæ˜¯å•çº¯é’ˆå¯¹æˆ‘ä»¬ä¸šåŠ¡ä¾§çš„ç™»å½•ï¼Œä¸»è¦æ˜¯åšè‡ªèº«ä¸šåŠ¡çš„oauth2.0ä¸šåŠ¡ï¼Œ&lt;/li&gt;
&lt;li&gt;user_local_authæ˜¯åšè‡ªå·±ç”¨æˆ·åã€å¯†ç ç™»å½•ï¼Œæ‰‹æœºå·ç ç™»å½•ä¿¡æ¯è®°å½•ï¼Œ&lt;/li&gt;
&lt;li&gt;user_third_authæ˜¯æˆ‘ä»¬ç¬¬ä¸‰æ–¹ç”¨æˆ·ä½“ç³»çš„æ•°æ®è®°å½•ï¼Œ&lt;/li&gt;
&lt;li&gt;user_auth_relæ˜¯ç”¨æ¥å…³è”æˆ‘ä»¬usersè¡¨ä¸user_local_authã€user_third_authã€‚&lt;/li&gt;
&lt;li&gt;æ•´ä¸ªè®¾è®¡ç†å¿µå°±æ˜¯å°†è‡ªå»ºç”¨æˆ·ä¸ç¬¬ä¸‰æ–¹åœ¨å­˜å‚¨ä¸ŠåŒºåˆ†ï¼Œè¿™åœ¨æ¶æ„æ¼”è¿›ä¸Šä¹Ÿæ˜¯åˆä¹æƒ…ç†çš„ï¼Œå¼€å§‹ç”¨æˆ·ä½“ç³»å¤§å¤šè‡ªå»ºï¼Œè€Œåæ‰æ˜¯å¯¹å¤–æ¥å…¥ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;

&lt;ol&gt;&lt;li&gt;æ€»çš„æ¥è®²ï¼Œç¬¬ä¸‰æ–¹ç”¨æˆ·çš„æ¥å…¥æŠ€æœ¯ä¸Šæ¥è®²æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè¿™é‡Œè®¾è®¡å¤šä¸€ä¸ªuser_thirdsæ˜¯å¯ä»¥æ”¯æŒè¶³å¤Ÿå¤šçš„ç¬¬ä¸‰æ–¹æ¥å…¥ï¼Œå½“ç„¶ä¸€èˆ¬æˆ‘ä»¬ä¹Ÿå°±ä¸¤ä¸‰ä¸ªç™»å½•å°±å¥½ï¼Œå¤ªå¤šç™»å½•æ–¹ä¸ä»…è‡ªèº«ç»´æŠ¤æˆæœ¬ï¼Œç•Œé¢æ‘†ç›˜ä¹Ÿä¸å¥½çœ‹ä¸æ˜¯ã€‚&lt;/li&gt;
&lt;li&gt;å¸Œæœ›å¤§å®¶èƒ½å¤Ÿé€šè¿‡ä»¥ä¸Šå­¦ä¹ ï¼Œèƒ½å¤Ÿå¯¹äºæˆ‘ä»¬å¤šè´¦æˆ·ç™»å½•æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è®¤çŸ¥ï¼Œè¿™é‡Œè®¾è®¡æ–¹æ¡ˆä¸åŒ…å«åˆ†è¡¨åˆ†åº“ã€æ²¡æœ‰æœåŠ¡åŒ–ï¼Œå°±æ˜¯ç®€å•ç›´æ¥çš„è®¾è®¡ï¼Œå½“ç„¶ç”¨æˆ·é‡å’Œéœ€è¦çš„ä¸ä¸€æ ·ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿˜è¦åŠ å¾ˆå¤šä¸œè¥¿ï¼Œè°¢è°¢å¤§å®¶é˜…è¯»ï¼ï¼!&lt;/li&gt;
&lt;/ol&gt;</description>
<pubDate>Sat, 02 Nov 2019 15:13:00 +0000</pubDate>
<dc:creator>HG-93</dc:creator>
<og:description>åç§°è§£é‡Š è¿™é‡Œçš„å¤šè´¦æˆ·åŒºåˆ«äºç³»ç»Ÿçº§åˆ«çš„ï¼Œæˆ‘ä»¬è®²çš„å¤šè´¦æˆ·ç³»ç»Ÿæ˜¯æŒ‡ï¼Œåœ¨æˆ‘ä»¬äº’è”ç½‘åº”ç”¨å½“ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¼šä½¿ç”¨å¤šä¸ªç¬¬ä¸‰æ–¹è´¦å·è¿›è¡Œç™»å½•ï¼Œå¿…é¡»ç°åœ¨å¸¸ç”¨çš„APPï¼ˆç½‘æ˜“äº‘éŸ³ä¹ï¼‰ç™»å½•æ–¹å¼åŒ…å«ï¼šç½‘æ˜“ã€å¾®ä¿¡ã€QQ å†…å®¹ é€š</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/cxydmx/p/11784713.html</dc:identifier>
</item>
<item>
<title>Sping MVCä¸ä½¿ç”¨ä»»ä½•æ³¨è§£å¤„ç†ï¼ˆjQueryï¼‰Ajaxè¯·æ±‚ï¼ˆåŸºäºXMLé…ç½®ï¼‰ - æˆ‘æƒ³å’Œä½ æ‹ç…§ç‰‡</title>
<link>http://www.cnblogs.com/1314520wly/p/11783149.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/1314520wly/p/11783149.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;1. Spring&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;span&gt;Springæ¡†æ¶æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ä¸ªæ½œåœ¨çš„ä¸€ç«™å¼å•†åº—ï¼Œç”¨äºæ„å»ºä¼ä¸šå°±ç»ªçš„åº”ç”¨ç¨‹åºã€‚&lt;/span&gt;&lt;span&gt;Springæ¡†æ¶æ˜¯ä¸€ä¸ªJavaå¹³å°ï¼Œä¸ºå¼€å‘Javaåº”ç”¨ç¨‹åºæä¾›å…¨é¢çš„åŸºç¡€æ¶æ„æ”¯æŒã€‚Springå¤„ç†åŸºç¡€ç»“æ„ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸“æ³¨äºåº”ç”¨ç¨‹åºã€‚Springä½¿æ‚¨èƒ½å¤Ÿä»â€œæ™®é€šçš„Javaå¯¹è±¡â€ï¼ˆPOJOï¼‰æ„å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶å°†ä¼ä¸šæœåŠ¡éä¾µå…¥æ€§åœ°åº”ç”¨äºPOJOã€‚æ­¤åŠŸèƒ½é€‚ç”¨äºJava SEç¼–ç¨‹æ¨¡å‹ä»¥åŠå…¨éƒ¨å’Œéƒ¨åˆ†Java EE&lt;/span&gt;&lt;span&gt;ã€‚ä½†æ˜¯ï¼ŒSpringæ˜¯æ¨¡å—åŒ–çš„ï¼Œå…è®¸æ‚¨ä»…ä½¿ç”¨æ‰€éœ€çš„é‚£äº›éƒ¨åˆ†ï¼Œè€Œä¸å¿…å¼•å…¥å…¶ä½™éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥å°†IoCå®¹å™¨ä¸é¡¶éƒ¨çš„ä»»ä½•Webæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ä»…ä½¿ç”¨ Hibernateé›†æˆä»£ç æˆ–JDBCæŠ½è±¡å±‚ã€‚Springæ¡†æ¶æ”¯æŒå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œé€šè¿‡RMIæˆ–WebæœåŠ¡å¯¹é€»è¾‘çš„è¿œç¨‹è®¿é—®ä»¥åŠç”¨äºæŒä¹…åŒ–æ•°æ®çš„å„ç§é€‰é¡¹ã€‚å®ƒæä¾›äº†åŠŸèƒ½å…¨é¢çš„MVCæ¡†æ¶ï¼Œå¹¶ä½¿æ‚¨èƒ½å¤Ÿå°†AOPé€æ˜åœ°é›†æˆåˆ°è½¯ä»¶ä¸­ã€‚&lt;/span&gt;&lt;span&gt;Springè¢«è®¾è®¡ä¸ºéä¾µå…¥å¼çš„ï¼Œè¿™æ„å‘³ç€æ‚¨çš„åŸŸé€»è¾‘ä»£ç é€šå¸¸ä¸ä¾èµ–äºæ¡†æ¶æœ¬èº«ã€‚åœ¨æ‚¨çš„é›†æˆå±‚ï¼ˆä¾‹å¦‚æ•°æ®è®¿é—®å±‚ï¼‰ä¸­ï¼Œå°†å­˜åœ¨å¯¹æ•°æ®è®¿é—®æŠ€æœ¯å’ŒSpringåº“çš„æŸäº›ä¾èµ–å…³ç³»ã€‚ä½†æ˜¯ï¼Œå°†è¿™äº›ä¾èµ–é¡¹ä¸å…¶ä½™ä»£ç åº“éš”ç¦»èµ·æ¥åº”è¯¥å¾ˆå®¹æ˜“ã€‚Springçš„ä¸¤å¤§æ ¸å¿ƒç‰¹å¾ï¼šIoCï¼ˆæ§åˆ¶åè½¬ï¼‰ï¼ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ã€‚IoCä½œç”¨ï¼šæŠŠå¯¹è±¡çš„æ§åˆ¶æƒäº¤ç»™å®¹å™¨ç®¡ç†ã€‚AOPä½œç”¨ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆæ¯”å¦‚æ—¥å¿—æ‰“å°ï¼‰ï¼Œåº•å±‚ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°ã€‚&lt;span&gt;Springæ¡†æ¶åŒ…å«ç»„ç»‡ä¸ºçº¦20ä¸ªæ¨¡å—çš„åŠŸèƒ½ã€‚&lt;/span&gt;&lt;span&gt;è¿™äº›æ¨¡å—åˆ†ä¸ºæ ¸å¿ƒå®¹å™¨ï¼Œæ•°æ®è®¿é—®/é›†æˆï¼ŒWebï¼ŒAOPï¼ˆé¢å‘æ–¹é¢â€‹â€‹çš„ç¼–ç¨‹ï¼‰ï¼Œæ£€æµ‹ï¼Œæ¶ˆæ¯ä¼ é€’å’Œæµ‹è¯•ã€‚Springçš„æ•´ä¸ªå®Œæ•´æ¡† æ¶æ¥è¯´ï¼Œå…¶è®¾è®¡åŸåˆ™åˆ™æ˜¯&quot;å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹é—­åˆ&quot;ï¼ˆOOPè®¾è®¡åŸåˆ™ï¼‰ã€‚å½“ç„¶Springè¿˜æœ‰å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œè¿™é‡Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œç‚¹åˆ°ä¸ºæ­¢ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2. Spring MVC&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;&lt;span&gt;Spring MVCæ˜¯åŸºäºServlet APIæ„å»ºçš„åŸå§‹webæ¡†æ¶ï¼Œä»ä¸€å¼€å§‹å°±å·²ç»åŒ…å«åœ¨å°±åŒ…å«åœ¨Springæ¡†æ¶ä¸­ï¼Œä¸Springæ¡†æ¶æ— ç¼å¯¹æ¥ã€‚å…¨ç§°åº”è¯¥ä¸ºSpring Web MVCï¼Œå…¶æ¥æºäºæ¨¡å—spring-webmvcã€‚ä½†æ˜¯ï¼Œé€šå¸¸æˆ‘ä»¬å«å®ƒSpring MVCï¼ˆä¹ æƒ¯ï¼‰ã€‚Spring MVCæ¡†æ¶æ˜¯å›´ç»•ä¸€ä¸ª DispatcherServlet ï¼ˆæ ¸å¿ƒæ§åˆ¶å™¨ï¼‰æ¥è®¾è®¡çš„ï¼Œè¿™ä¸ª Servletä¼šæŠŠè¯·æ±‚åˆ†å‘ç»™å„ä¸ªå¤„ç†å™¨ï¼Œå¹¶æ”¯æŒå¯é…ç½®çš„å¤„ç†å™¨æ˜ å°„ã€è§†å›¾æ¸²æŸ“ã€æœ¬åœ°åŒ–ã€æ—¶åŒº ä¸ä¸»é¢˜æ¸²æŸ“ç­‰ï¼Œç”šè‡³è¿˜èƒ½æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€‚&quot;å¯¹æ‰©å±•å¼€æ”¾&quot;æ˜¯Spring Web MVCæ¡†æ¶ä¸€ä¸ªé‡è¦çš„è®¾è®¡åŸåˆ™ã€‚Spring Web MVCæ ¸å¿ƒç±»åº“ä¸­çš„ä¸€äº›æ–¹æ³•è¢«å®šä¹‰ä¸º final æ–¹æ³•ã€‚Sp'ring MVCçš„æ•°æ®ç»‘å®šéå¸¸çµæ´»æ–¹ä¾¿ï¼Œè§†å›¾è§£æä¹Ÿè®¾è®¡çš„éå¸¸çµæ´»ä¸æ–¹ä¾¿ï¼Œå¹¶ä¸”æä¾›äº†å¥½å¤šåŠŸèƒ½å¼ºå¤§çš„æ³¨è§£æœºåˆ¶ã€‚å½“ç„¶ï¼ŒSpring MVCçš„å¼ºå¤§ä¹‹å¤„ä¸æ˜¯ä¸€ä¸¤å¥è¯å¯ä»¥æå®šçš„ï¼Œæˆ‘ä»¬åº”è¯¥å‚è€ƒå…¶æ–‡æ¡£ï¼Œå¹¶ä¸”æ·±å…¥å­¦ä¹ é’»ç ”ï¼Œæœ€å¥½ç ”ç©¶ç ”ç©¶æºç ã€‚è¿™é‡Œè¯ä¸å¤šè¯´ï¼Œç‚¹åˆ°ä¸ºæ­¢ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3. Spring MVCå¤„ç†ï¼ˆjQueryï¼‰Ajaxè¯·æ±‚(å‰å°ä¸å‘é€æ•°æ®ï¼Œåå°è¿”å›æ™®é€šå­—ç¬¦ä¸²)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â &lt;span&gt;å¼€å‘ç¯å¢ƒï¼šEclipse+Tomcat+Spring MVC+Jackson+JSP+jQuery+Ajax&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;span&gt;æœ¬ç¯‡åšå®¢æ¯”è¾ƒé•¿ï¼ŒåŸæœ¬æ˜¯ä¸€ä¸ªå°çš„demoï¼Œå†™è¿™ä¹ˆé•¿ä¸å€¼ï¼Œä¸ï¼Œæˆ‘è®¤ä¸ºå€¼ï¼Œå› ä¸ºæˆ‘æ„Ÿè§‰è‡ªå·±å†™çš„è¿˜å¯ä»¥ï¼ˆå“ˆå“ˆï¼è£…ä¸€æ³¢ï¼‰ï¼Œè¿™äº›éƒ½æ˜¯ç¬”è€…ä¸€å­—ä¸€å¥å†™çš„ï¼Œå½“ç„¶æœ‰å‚è€ƒä¸€äº›ä¸œè¥¿ï¼ˆæœ¬äººæœ€è®¨åŒå¤åˆ¶ç²˜è´´ï¼‰ï¼ŒåŠ ä¸Šè‡ªå·±çš„ç†è§£ï¼Œæ¶‰åŠåˆ°ä»£ç å®Œå…¨è®¤çœŸå®è·µè¿‡ï¼Œè‡ªå·±ä»å¤´åˆ°å°¾å†™ä¸€éï¼Œä¹Ÿæ˜¯å¯¹è‡ªå·±çŸ¥è¯†çš„ç§¯ç´¯ä»¥åŠç»éªŒçš„æå‡ï¼ŒSpring MVCæ–‡æ¡£å’ŒSpringæ–‡æ¡£ç­‰ï¼Œè¯·å¤§å®¶è®¤çœŸçœ‹ä¸‹å»ï¼Œçœ‹å®Œè¿™ç¯‡ï¼Œä½ ä¸ä»…æŒæ¡äº†Ajaxï¼Œè®¤è¯†äº†Springçš„å¥½å¤„ï¼Œè¿˜ä¼šç†ŸçŸ¥Spring MVCçš„æ‰§è¡Œæµç¨‹ï¼Œè¿˜ä¼šæ¥è§¦åˆ°æœ‰è¶£çš„æ—¥å¿—æ‰“å°ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å…è´¹è·å–jaråŒ…ï¼ˆæœ‰æºç é“¾æ¥ï¼‰ï¼Œç™¾åº¦éƒ½æœ‰ï¼ˆåŸºæœ¬éƒ½å…è´¹ï¼‰ã€‚æ‰€ä»¥æ™®é€šçš„ä¸€äº›jaråŒ…éƒ½æ˜¯å…è´¹çš„ï¼Œæ²¡æœ‰å¿…è¦èŠ±ä¸€äº›ä»£ä»·å»æ´»å¾—å¼€å‘åŒ…ã€‚æœ¬è´¨æ¥è¯´ï¼Œæ¡†æ¶åªæ˜¯ä¸ªæ¨¡æ¿ï¼Œæˆ‘ä»¬éµä»æ¡†æ¶çš„è§„èŒƒæ¥å¼€å‘å°±è¡Œäº†ï¼Œæ¯•ç«Ÿä½¿ç”¨ä¸€äº›æ¡†æ¶æ˜¯æˆ‘ä»¬çš„å¼€å‘å˜å¾—ç®€å•é«˜æ•ˆï¼Œç¬”è€…è®¤ä¸ºè¿˜æ˜¯åº”è¯¥äº†è§£ä¸€ä¸‹åº•å±‚æ ¸å¿ƒçš„åŸç†æ¯”è¾ƒå¥½ï¼Œè¿™æ ·ä¾¿äºåœ¨æˆ‘ä»¬å¼€å‘çš„æ—¶å€™é‡åˆ°bugçš„æ—¶å€™å¯ä»¥è¿…é€Ÿåšå‡ºå†³ç­–å’Œè§£å†³ã€‚å†™åšå®¢ï¼Œæˆ‘æ˜¯è®¤çœŸçš„ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ1ï¼‰æ­å»ºç¯å¢ƒ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â &lt;/strong&gt; &lt;span&gt;Â Eclipseä¸­æ–°å»ºJava Webé¡¹ç›®ï¼Œå¹¶æŠŠé¡¹ç›®éƒ¨ç½²åˆ°Tomcatå®¹å™¨ä¸­ã€‚ä¸‹é¢æ˜¯é¡¹ç›®çš„ç»“æ„ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102101332073-355464701.png&quot; alt=&quot;&quot;/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102101353765-991502068.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;é¡¹ç›®åŸºæœ¬ç»“æ„å¾ˆç®€å•ï¼Œæ²¡å•¥å¯è¯´çš„ã€‚è¿™é‡Œè¯´ä¸€ä¸‹libé‡Œé¢çš„jaråŒ…ã€‚æ—¢ç„¶æˆ‘ä»¬æƒ³ä½¿ç”¨Spring MVCè¿›è¡Œå¼€å‘ï¼Œå¿…é¡»å¯¼å…¥å…¶å¼€å‘åŒ…ã€‚ä¸Šé¢è¯´äº†ï¼ŒSpring MVCå…¶å®æ˜¯é›†æˆåœ¨Springä¸­çš„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å¯¼å…¥Springå¼€å‘åŒ…ã€‚æœ¬æ¬¡ä½¿ç”¨spring-framework-4.0.0.RELEASEå¼€å‘åŒ…ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Springå¼€å‘åŒ…ï¼šspring-aopé¢å‘åˆ‡é¢ç¼–ç¨‹æ‰€ç”¨åˆ°çš„åŒ…ã€‚spring-aspectsæä¾›å¯¹AspectJï¼ˆé¢å‘åˆ‡é¢çš„ä¸€ä¸ªæ¡†æ¶ï¼‰çš„æ”¯æŒï¼Œspring-beansåŒ…å«è®¿é—®é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºå’Œç®¡ç†Beanä»¥åŠè¿›è¡Œæ§åˆ¶åè½¬å’Œä¾èµ–æ³¨å…¥æ“ä½œç›¸å…³çš„æ‰€æœ‰ç±»ã€‚spring-coreæ˜¯Springçš„æ ¸å¿ƒåŒ…ï¼ˆæ ¸å¿ƒå·¥å…·ç±»ï¼‰ã€‚&lt;/span&gt;&lt;span&gt;spring-expressionæ˜¯Springçš„è¡¨è¾¾å¼è¯­è¨€ï¼Œspring-jdbcå®ƒåŒ…å«äº†spring ä¸ JDBC æ•°æ®è®¿é—®æ—¶è¿›è¡Œå°è£…çš„æ‰€æœ‰ç±»ï¼Œæä¾›ä½¿ç”¨springjdbcçš„æœ€ä½³å®ç°&lt;/span&gt;&lt;span&gt;ï¼ˆåˆ©ç”¨jdbc templateï¼‰ã€‚spring-ormæ˜¯Springå¯¹DAOç‰¹æ€§è¿›è¡Œæ‰©å±•ï¼Œæ”¯æŒä¸€äº›ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼ˆæ¯”å¦‚MyBatiså’ŒHibernateç­‰ï¼‰ã€‚spring-testæä¾›äº†å¯¹Junitç­‰æµ‹è¯•æ¡†æ¶çš„ç®€å•å°è£…ï¼Œè¿™è®©æˆ‘ä»¬åœ¨å¯¹Springçš„ä»£ç è¿›è¡Œæµ‹è¯•æ—¶æ›´åŠ æ–¹ä¾¿å’Œå¿«æ·ã€‚spring-txåŒ…ä¸ºJDBCã€Hibernateã€JDOã€JPAç­‰æä¾›äº†ä¸€è‡´çš„å£°æ˜å¼çš„ç¼–ç¨‹å¼äº‹ç‰©ç®¡ç†ã€‚spring-webåŒ…å«webåº”ç”¨ç ”å‘æ—¶ç”¨åˆ°Springæ¡†æ¶æ—¶æ‰€éœ€è¦çš„çš„æ ¸å¿ƒç±»ã€‚spring-webmvcåŒ…å«äº†Spring webmvcæ¡†æ¶ç›¸å…³çš„æ‰€æœ‰ç±»ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;log4jæ—¥å¿—ä¿¡æ¯åŒ…ã€‚ä¸å¯¼è¿™ä¸ªåŒ…çš„è¯ä¼šæŠ¥é”™ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Jascksonä¸‰ä¸ªåŒ…ï¼ˆå‰å‡ ç¯‡åšå®¢è¯´è¿‡å¥½å¤šéï¼‰ã€‚è¿™é‡Œå¯¼å…¥JacksonåŒ…çš„åŸå› è¯´ä¸€ä¸‹ã€‚1. Spring MVCå†…ç½®çš„jsonä¸å¯¹è±¡è½¬æ¢å™¨ä¾èµ–äºJacksonç±»åº“ã€‚ï¼ˆåº•å±‚é€šè¿‡å¯¹Jacksonçš„ä¸€äº›æ–¹æ³•è¿›è¡Œå°è£…å®ç°ï¼‰ã€‚2. ç®€å•å¥½ç”¨æˆ‘æ„Ÿè§‰ï¼Œæ•ˆç‡ä¹Ÿè¿˜å¯ä»¥ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å®ç°è‡ªå·±çš„jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ï¼ˆé¢˜å¤–è¯ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;com.springsourceä¸‰ä¸ªjaråŒ…ï¼Œä¸»è¦æ˜¯ä¸ºäº†æä¾›Springå¯¹Apacheçš„ä¸€äº›æœåŠ¡çš„æ”¯æŒã€‚Tomcatå°±æ˜¯Apacheçš„ï¼Œä¸å¯¼è¿™3ä¸ªåŒ…çš„è¯ä¼šæŠ¥é”™ã€‚å½“ç„¶ï¼Œè¿™é‡Œåªæ˜¯å¯¼å…¥äº†springçš„ä¸€éƒ¨åˆ†å¸¸ç”¨çš„åŒ…ï¼Œè¿˜æœ‰å…¶ä»–çš„ï¼ˆè‡ªå·±ç™¾åº¦ä¸‹springå¼€å‘åŒ…ï¼Œåœ¨é‡Œé¢æ‰¾æ‰¾ï¼‰ï¼Œæœ¬æ¬¡å¼€å‘ä¹Ÿæ²¡æŠŠè¿™äº›springåŒ…å…¨éƒ¨ç”¨åˆ°ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç€é‡ä»‹ç»ä¸€ä¸‹ã€‚å¥½äº†ï¼ŒjaråŒ…è¯´å®Œäº†ã€‚ä¸‹é¢è¿›è¡Œå¼€å‘ã€‚è¿™é‡Œä¸ä½¿ç”¨ä»»ä½•æ³¨è§£çš„ç›®çš„è¯´ä¸€ä¸‹ï¼Œåªæ˜¯åŸºäºXMLé…ç½®å®ç°ã€‚å…¶å®æˆ‘ä»¬ä½¿ç”¨æ³¨è§£ä¼šç®€å•æ–¹ä¾¿å¾ˆå¤šï¼ˆåé¢ä¼šæœ‰æ›´æ–°çš„ï¼‰ï¼Œæ­¤ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä¸ºäº†ä¾¿äºå¤§å®¶ç†Ÿæ‚‰Spring MVCçš„æ‰§è¡Œæµç¨‹ï¼Œå¹¶ä½¿ç”¨å®ƒæœ€æœ€åŸå§‹çš„ä¸€äº›é…ç½®ä»¥åŠæ–¹æ³•ã€‚æ–¹ä¾¿å¤§å®¶äº†è§£æ›´æ·±å±‚æ¬¡çš„ä¸œè¥¿ï¼Œä»¥åŠæ·±å…¥äº†è§£Spring MVC&lt;/span&gt;&lt;span&gt;ä¸€äº›æ ¸å¿ƒçš„ä¸œè¥¿ã€‚å› ä¸ºæˆ‘ä»¬å¤©å¤©ä½¿ç”¨æ³¨è§£ï¼Œä½†æ˜¯ä¼°è®¡æˆ‘ä»¬éƒ½æ²¡äº†è§£è¿‡æ³¨è§£çš„æœºåˆ¶ä»¥åŠåŸç†ï¼Œæ³¨è§£æœ‰ä»€ä¹ˆç”¨ã€‚ä»¥åŠæ³¨è§£ä»£æ›¿äº†é‚£äº›æˆ‘ä»¬ä¹‹å‰å¼€å‘æ¯”è¾ƒç¹æ‚çš„æ“ä½œä»¥åŠæ–¹æ³•ã€‚æœ‰æ—¶å€™æˆ‘ä»¬ç ”ç©¶ä¸€äº›ä¸œè¥¿ï¼Œä¸èƒ½åªåœç•™åœ¨è¡¨é¢ä¼šä½¿ç”¨å°±è¡Œäº†ï¼Œæˆ‘ä»¬æ·±å…¥åˆ°åº•å±‚çš„è¯ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æ”¶è·åŠç†è§£ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ2ï¼‰ç¼–å†™jspæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  Â &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;%&lt;/span&gt;&lt;span&gt;@ page language&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;java&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; import&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;java.util.*&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; pageEncoding&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;%&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt;&lt;span&gt; path &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; request.getContextPath();
    &lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt; basePath &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; request.getScheme() &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;://&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; request.getServerName() &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; request.getServerPort()
            &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; path &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;%&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;base &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;&amp;lt;%=basePath%&amp;gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;I LOVE YOU&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;text/css&quot;&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;index.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;jquery-3.2.1.min.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;


&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;


&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;mybutton1&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;springmvcå¤„ç†ajaxè¯·æ±‚&quot;&lt;/span&gt;&lt;span&gt; onclick&lt;/span&gt;&lt;span&gt;=&quot;fun1()&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&lt;/span&gt;ï¼ˆjqueryï¼‰ajaxè¯·æ±‚ï¼ˆä¸å‘é€æ•°æ®ï¼‰&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;spand &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;show1&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;hr&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å¾ˆç®€å•ï¼Œå®šä¹‰äº†ä¸€ä¸ªæŒ‰é’®ã€‚å¹¶è°ƒç”¨jsæ–‡ä»¶ç›¸å…³çš„å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œ&amp;lt;span&amp;gt;æ ‡ç­¾æ˜¯ä¸ºäº†æ˜¾ç¤ºå†…å®¹ã€‚é¡µé¢å¼•å…¥è‡ªå®šä¹‰çš„jsæ–‡ä»¶å’ŒjQeuryçš„jsæ–‡ä»¶ï¼ˆæ³¨æ„åç§°å’Œè·¯å¾„ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ3ï¼‰ç¼–å†™jsæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä½¿ç”¨jqueryæäº¤ajaxè¯·æ±‚ï¼ˆä¸æºå¸¦æ•°æ®ï¼‰&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; fun1(){
    
    $.ajax({
        
        type:&lt;/span&gt;&quot;POST&quot;,                    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‘é€æ–¹å¼&lt;/span&gt;
        url:&quot;UserController1&quot;,                &lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯·æ±‚åœ°å€&lt;/span&gt;
        data:&quot;&quot;,                           &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ•°æ®ä¸ºç©º&lt;/span&gt;
        success:&lt;span&gt;function&lt;/span&gt;(data){             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æˆåŠŸåçš„å›è°ƒå‡½æ•°&lt;/span&gt;
&lt;span&gt;            
            $(&lt;/span&gt;&quot;#show1&quot;).html(data);            &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é¡µé¢å±•ç¤ºå†…å®¹&lt;/span&gt;
&lt;span&gt;            
        }            
    });
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å¾ˆç®€å•ï¼Œå°±å†™äº†ä¸€ä¸ªfun1()å‡½æ•°ã€‚ç”¨æ¥å“åº”æŒ‰é’®ã€‚è™½ç„¶è¯´ï¼Œè®¨è®ºå®¢æˆ·ç«¯ä¸å‘é€æ•°æ®æ²¡å¤šå¤§æ„ä¹‰ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯è®¨è®ºä¸€ä¸‹å§ã€‚åœ¨å­¦ä¹ javaåŸºç¡€çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜ç»å¸¸è®¨è®º&quot;ç©º&quot;å‘¢ã€‚ä¸æ˜¯å—ï¼Ÿè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†ç†Ÿæ‚‰ä¸€ä¸‹ä»£ç æ‰§è¡Œçš„æµç¨‹ï¼Œæ¯•ç«Ÿæˆ‘ä»¬å­¦ä¹ çš„è¿‡ç¨‹æ˜¯ç”±æµ…å…¥æ·±çš„ã€‚é—²è¯å°‘å™ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ4ï¼‰ç¼–å†™controllerç±»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package com.controller;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.web.HttpRequestHandler;

public class UserController1 implements HttpRequestHandler{


    @Override
    public &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; handleRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
        response.setCharacterEncoding(&quot;UTF-8&quot;&lt;span&gt;);    
        String str &lt;/span&gt;= &quot;æˆ‘æ˜¯ä¸€ä¸ª springmvc&quot;&lt;span&gt;;        
        &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
            response.getWriter().print(str);
        } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IOException e) {
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated catch block&lt;/span&gt;
&lt;span&gt;            e.printStackTrace();
        }    
    }    
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªcontrollerç±»ï¼Œå¹¶ä¸”å®ç°äº†HttpRequestHandleræ¥å£ï¼Œå¹¶å®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚æ–¹æ³•ä¸­å®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ©ç”¨responseè·å–æ‰“å°æµè¿›è¡Œè¾“å‡ºå³å¯ã€‚Spring MVCä¸­ã€‚ä¸€èˆ¬åœ¨æˆ‘ä»¬ç¼–å†™controller(ä¹Ÿå°±æ˜¯ä¸€ä¸ªhandlerï¼Œç”¨æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚)ï¼Œè¦èƒ½è¢«Sping MVCè¯†åˆ«å®ƒæ˜¯ä¸€ä¸ªcontrollerç±»ï¼Œå› ä¸ºè¿™é‡Œæ²¡æœ‰ç”¨åˆ°æ³¨è§£ã€‚æ‰€ä»¥æˆ‘ä»¬æœ‰2ç§æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ç§ï¼š&lt;strong&gt;ç¼–å†™controllerç±»ï¼Œå®ç°org.springframework.web.servlet.mvc.Controlleræ¥å£ï¼Œç„¶åäº¤ç»™æ ¸å¿ƒæ§åˆ¶å™¨è°ƒç”¨ç›¸å¯¹åº”çš„å¤„ç†å™¨é€‚é…å™¨è¿›è¡Œå¤„ç†ã€‚&lt;/strong&gt;ä¸è¿‡ï¼Œå®ç°äº†Controllerï¼Œå°±å¿…é¡»å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•public abstract ModelAndView handleRequest(HttpServletRequest requestï¼Œ HttpServletResponse response)ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ï¼Œè€Œæˆ‘ä»¬æ‰€ä½œçš„æ˜¯å¯¹å­—ç¬¦ä¸²æ•°æ®å’Œjsonæ•°æ®çš„å¤„ç†ã€‚æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰é€‰æ‹©å®ç°Controlleræ¥å£ã€‚&lt;br/&gt;ç¬¬äºŒç§ï¼š&lt;strong&gt;ç¼–å†™controllerç±»ï¼Œå®ç°org.springframework.web.HttpRequestHandleræ¥å£ï¼Œç„¶åäº¤ç»™æ ¸å¿ƒæ§åˆ¶å™¨è°ƒç”¨ç›¸åº”çš„å¤„ç†å™¨é€‚é…å™¨è¿›è¡Œå¤„ç†&lt;/strong&gt;ï¼Œå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚è‡ªå·±å¯ä»¥ç™¾åº¦ä¸€ä¸‹Spring MVCçš„æ‰§è¡Œæµç¨‹ï¼Œè¿™é‡Œä¸å¤šè¯´ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public abstract void handleRequest(HttpServletRequest request, HttpServletResponse response) æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œæ‰€ä»¥å°±æ–¹ä¾¿äº†æˆ‘ä»¬å¯¹å­—ç¬¦ä¸²æ•°æ®å’Œjsonæ•°æ®çš„å¤„ç†ã€‚æ³¨æ„åˆ°æœ‰2ä¸ªå‚æ•°requestå’Œresponse(è¿™æ˜¯Servletçš„ä¸œè¥¿)ã€‚Spring MVCæ”¯æŒçš„æ”¯æŒçš„å‚æ•°ç±»å‹ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;HttpServletRequest å¯¹è±¡ï¼ŒHttpServletResponse å¯¹è±¡ï¼ŒHttpSession å¯¹è±¡ï¼ŒModel/ModelMap å¯¹è±¡ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†å…¶ä¸­çš„2ä¸ªã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ5ï¼‰é…ç½®web.xml&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;web-app &lt;/span&gt;&lt;span&gt;xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt; xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;&lt;span&gt; xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;WebApp_ID&quot;&lt;/span&gt;&lt;span&gt; version&lt;/span&gt;&lt;span&gt;=&quot;3.0&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;MySpringMVCAjax&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; 
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;index.jsp&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  
  
  &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®springmvcæ ¸å¿ƒæ§åˆ¶å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
  
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;springmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.servlet.DispatcherServlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;contextConfigLocation&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;classpath:springmvc.xml&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;    
        
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;springmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  
  &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; å¯¹é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;default&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/static/*&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;default&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;*.js&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;default&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;*.css&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  
  
  
  &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®ç¼–ç è¿‡æ»¤å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
  
 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;SpringCharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
       &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;encoding&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;UTF-8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;     
       &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; 
       
       &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;forceEncoding&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;true&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;         
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;SpringCharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/*&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;  
  
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;web-app&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;è¿™é‡Œæˆ‘ä»¬é…ç½®äº†ä¸‰ä¸ªä¸œè¥¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ä¸ªï¼Œ&lt;strong&gt;é…ç½®Springæ ¸å¿ƒæ§åˆ¶å™¨&lt;/strong&gt;ã€‚Sping MVCæ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆå‰ç«¯æ§åˆ¶å™¨æˆ–ä¸­å¤®å¤„ç†å™¨ï¼‰org.springframework.web.servlet.DispatcherServletï¼ŒDispatcherServlet å…¶å®å°±æ˜¯ä¸ª Servlet ï¼ˆå®ƒç»§æ‰¿è‡ª HttpServlet åŸºç±»ï¼‰ï¼ŒåŒæ ·ä¹Ÿéœ€è¦åœ¨ä½  webåº”ç”¨çš„ web.xml é…ç½®æ–‡ä»¶ä¸‹å£°æ˜ã€‚ä½ éœ€è¦åœ¨ web.xml æ–‡ä»¶ä¸­æŠŠä½ å¸Œæœ› DispatcherServlet å¤„ç†çš„è¯·æ±‚æ˜ å°„åˆ°å¯¹åº”çš„URLä¸Šå»ã€‚è¿™å°±æ˜¯æ ‡å‡†çš„Java EE Servleté… ç½®ã€‚DispatcherServletå°±æ˜¯ä¸€ä¸ªSping MVCå¤„ç†è¯·æ±‚çš„ä¸€ä¸ªä¸­å¤®å¤„ç†å™¨ï¼Œè´Ÿè´£è°ƒåº¦å¤„ç†å™¨æ˜ å°„å™¨ï¼Œå¤„ç†å™¨é€‚é…å™¨ä»¥åŠè§†å›¾è§£æå™¨ã€‚é…ç½®åˆå§‹åŒ–å‚æ•°æ¥åŠ è½½Sping MVCçš„ä¸»é…ç½®æ–‡ä»¶springmvc.xmlï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨srcç›®å½•ä¸‹ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬äºŒä¸ªï¼Œ&lt;strong&gt;ç»™é™æ€èµ„æºæ”¾è¡Œ&lt;/strong&gt;ã€‚è¿™é‡Œæ³¨æ„ä¸€ä¸‹ã€‚æˆ‘ä»¬åœ¨æ ¸å¿ƒæ§åˆ¶å™¨&amp;lt;url-pattern&amp;gt;æ ‡ç­¾ä¸‹é…ç½®çš„æ˜¯ / ï¼Œè¡¨ç¤ºæ‰€æœ‰è®¿é—®çš„urléƒ½äº¤ç»™æ ¸å¿ƒæ§åˆ¶å™¨å»å¤„ç†ï¼Œè¿™æ ·å¯¼è‡´æœ‰å¯èƒ½åŠ è½½ä¸åˆ°é™æ€èµ„æºæ–‡ä»¶ï¼ˆjs,css,imgï¼‰ã€‚è§£å†³åŠæ³•ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ç§ï¼šåœ¨springmvc.xmlæ–‡ä»¶ä¸­é…ç½®&lt;/span&gt;&lt;span&gt;&amp;lt;mvc:default-servlet-handler /&amp;gt;&amp;lt;!-- è¡¨ç¤ºå¯¹æ‰€æœ‰é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œ --&amp;gt;ï¼ˆæ¯”è¾ƒé«˜çº§çš„æ–¹æ³•ï¼‰&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span&gt;ç¬¬äºŒç§ï¼šå¯¹é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œï¼Œå¦‚æˆ‘ä»¬web.xmlæ‰€ç¤ºã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨spring.xmlæ–‡ä»¶è¿›è¡Œæ”¾è¡Œï¼Œè¯­æ³•ä¸ºï¼š&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;resources location=&quot;/js/&quot; mapping=&quot;/js/**&quot; /&amp;gt;
&amp;lt;resources location=&quot;/css/&quot; mapping=&quot;/css/**&quot; /&amp;gt;
&amp;lt;resources location=&quot;/images/&quot; mapping=&quot;/images/**&quot; /&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;è¿™é‡Œä½¿ç”¨web.xmlå¯¹é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œï¼Œä¸»è¦æ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•ç®€å•æ˜“æ‡‚ã€‚åé¢æˆ‘ä¼šå¯¹åšå®¢å†…å®¹è¿›è¡Œæ›´æ–°å‡çº§ï¼Œå†é‡‡å–æ¯”è¾ƒé«˜çº§çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰ç§ï¼šé…ç½®æ ¸å¿ƒæ§åˆ¶å™¨æ—¶ï¼ŒæŠŠ&amp;lt;url-pattern&amp;gt;æ ‡ç­¾è®¾ç½®ä¸º *.do æˆ–è€… .actionå°±å¥½äº†ã€‚è¡¨ç¤ºä»¥.doç»“å°¾çš„æˆ–è€…ä»¥.actionç»“å°¾çš„URLéƒ½ç”±å‰ç«¯æ§åˆ¶å™¨DispatcherServletæ¥è§£æã€‚è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åˆ°æ—¶è®¿é—®è·¯å¾„çš„æ—¶å€™è¦åŠ ä¸Šè¿™ä¸ªåç¼€ï¼Œçœ‹èµ·æ¥ä¸å¤ªèˆ’æœï¼ˆæœ‰ä¸€ç‚¹å¼ºè¿«ç—‡çš„äººåº”è¯¥æ‡‚ï¼‰ã€‚å½“ç„¶ç¬”è€…ä¼°è®¡æ²¡æœ‰å§ã€‚ç¬”è€…åªæ˜¯é‡‡å–ä¸€äº›ç®€å•è¯´ä¸ä¸Šé«˜æ•ˆçš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰ä¸ªï¼Œå°±æ˜¯&lt;strong&gt;é…ç½®springæä¾›ç¼–ç è¿‡æ»¤å™¨&lt;/strong&gt;ã€‚web.xmlé…ç½®çš„ç¼–ç è¿‡æ»¤å™¨ä¸ºäº†é˜²æ­¢å‰ç«¯ä¼ å…¥çš„ä¸­æ–‡æ•°æ®å‡ºç°ä¹±ç é—®é¢˜ï¼Œä½¿ç”¨Springæä¾›çš„ç¼–ç è¿‡æ»¤å™¨æ¥ç»Ÿä¸€ç¼–ç ã€‚é…ç½®ä¸ºUTF-8ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨GBKç­‰å…¶ä»–ç¼–ç ã€‚GBKç¼–ç æ–¹å¼çš„ç¼–ç æ˜¯ä»¥ä¸­å›½å›½æƒ…è€Œåˆ›é€ çš„ï¼Œåœ¨å›½é™…ä¸Šçš„å…¼å®¹æ€§ä¸å¥½ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¤§å¤šæ•°çš„ç½‘é¡µæ˜¯ä½¿ç”¨UTF-8ç¼–ç è€Œä¸æ˜¯GBKã€‚UTF-8å¥½å¤„ï¼šå…¼å®¹ASCIIï¼Œå­˜å‚¨è‹±æ–‡æ–‡ä»¶éƒ½æ˜¯å•å­—èŠ‚ï¼Œæ–‡ä»¶å°ã€‚åœ¨eclipseä¸­æŠŠé¡¹ç›®çš„ç¼–ç ä¹Ÿè®¾ç½®ä¸ºUTF-8ï¼ŒJSPé¡µé¢ä¸­å­—ç¬¦ç¼–ç ä¹Ÿè®¾ç½®ä¸ºUTF-8ã€‚æµè§ˆå™¨ç½‘é¡µå­—ç¬¦ç¼–ç ä¹Ÿè®¾ç½®ä¸ºUTF-8ã€‚åæ­£å°±æ˜¯ç»Ÿç»ŸUTF-8çš„æ ·å­ã€‚åšè¿™ä¹ˆå¤šä¸»è¦æ˜¯ç»Ÿä¸€ç¼–ç ï¼Œè§£å†³ä¸­æ–‡ä¹±ç ä¹±ç é—®é¢˜ã€‚å› ä¸ºä»¥å‰ä½¿ç”¨servletå’Œstruts2çš„æ—¶å€™ï¼Œç»å¸¸å‡ºç°ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€ä»€ä¹ˆå¤´è„‘ã€‚æ‰€ä»¥ã€‚Springæä¾›çš„è¿™ä¸ªç¼–ç è¿‡æ»¤å™¨å°±æ¯”è¾ƒæ–¹ä¾¿å¥½ç”¨äº†ã€‚æ‰€ä»¥è¯´Springæ˜¯ä¸€ä¸ªç¥å¥‡çš„ä¸œè¥¿ã€‚æˆ‘ä»¬ç ”è¯»ä¸€ä¸‹Springæºç ï¼Œçœ‹çœ‹Springå¼€å‘çš„æ–‡æ¡£ï¼Œå°±å¯ä»¥æ±²å–ä¸€äº›ç²¾åï¼ˆç²¾é«“ï¼‰ã€‚Springæä¾›çš„ç¼–ç è¿‡æ»¤å™¨ï¼Œorg.springframework.web.filter.CharacterEncodingFilterç±»ï¼Œæ³¨æ„æŠŠè·¯å¾„å†™æ­£ç¡®ã€‚åˆå§‹åŒ–å‚æ•°ï¼ˆä¹Ÿå°±æ˜¯ç¼–ç ï¼‰encodingä¸ºUTF-8ã€‚Springé‡Œçš„å­—ç¬¦è¿‡æ»¤å™¨CharacterEncodingFilteræ˜¯é’ˆå¯¹è¯·æ±‚çš„ï¼ŒforceEncoding=trueæ˜¯æ„æ€æ˜¯æŒ‡æ— è®ºå®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦åŒ…å«äº†ç¼–ç ï¼Œéƒ½ç”¨è¿‡æ»¤å™¨é‡Œçš„ç¼–ç æ¥è§£æè¯·æ±‚ã€‚forceEncodingé»˜è®¤ä¸ºfalseã€‚forceEncodingä¸ºtrueæ•ˆæœï¼šÂ request.setCharacterEncoding(&quot;UTF-8&quot;)ï¼›forceEncodingä¸ºfalseçš„æ•ˆæœï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â request.setCharacterEncoding(&quot;UTF-8&quot;)ï¼›Â response.setCharacterEncoding(&quot;UTF-8&quot;)ã€‚ &amp;lt;url-pattern&amp;gt;æ ‡ç­¾é…ç½®çš„/*ä»£è¡¨è¿‡æ»¤æ‰€æœ‰è¯·æ±‚ï¼Œä»è€Œå°†ç¼–ç è®¾ç½®ä¸ºUTF-8ã€‚å¥½äº†ã€‚web.xmlåˆ°æ­¤ç»“æŸã€‚å…¶å®æœ‰æ—¶å€™æˆ‘ä»¬åªæ˜¯å¼€å‘ä¸€ä¸ªç®€å•çš„å°ä¾‹å­demoï¼Œçœ‹èµ·æ¥å¾ˆç®€å•ã€‚ä½†æ˜¯æˆ‘ä»¬è¦äº†è§£åº•å±‚åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ã€‚æ¯”å¦‚Javaçš„åº•å±‚ï¼ŒJVM(Javaè™šæ‹Ÿæœº)ç”¨c/c++ç¼–å†™ï¼ŒJavaç±»åº“ç”¨Javaè¯­è¨€ç¼–å†™ã€‚è¿˜æœ‰æ¯”å¦‚nativeæœ¬åœ°æ–¹æ³•ï¼Œå…¶åº•å±‚æœ¬è´¨ä¹Ÿæ˜¯c/c++ç¼–å†™çš„ï¼ŒJavaåªæ˜¯è°ƒç”¨äº†å®ƒçš„æ¥å£ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆnativeæ–¹æ³•æ•ˆç‡ä¸€èˆ¬æ¯”è¾ƒé«˜ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œcè¯­è¨€ç”¨ä»€ä¹ˆç¼–å†™çš„ ? è¿™ä¸ªå¯ä»¥è‡ªè¡Œè°·æ­Œæˆ–ç™¾åº¦ï¼Œè¿™é‡Œä¸å¤šè¯´ã€‚å½“ç„¶ï¼Œä¸€ä¸ªé¡¹ç›®æˆ–è€…å·¥ä½œçš„æ‰§è¡Œæµç¨‹æˆ‘ä»¬ä¹Ÿå¿…é¡»ç†ŸçŸ¥ã€‚è¿™æ¬¡å¼€å‘çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯æˆ‘ä»¬æŠŠæ¶‰åŠåˆ°çš„çŸ¥è¯†å†…å®¹éƒ½ä¼šä¸ºå¤§å®¶è¯¦ç»†è®²è§£ï¼Œå¹¶ä¸”éƒ½æ˜¯æœ¬äººä¸€å­—ä¸€å¥ç»è¿‡æ¨æ•²å®è·µè¿›è¡Œç¼–å†™çš„ã€‚å½“ç„¶ï¼Œæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€æšã€‚çŸ¥è¯†æœ‰é™ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç»è¿‡å­¦ä¹ æ¥è·å–æ›´å¤šçš„çŸ¥è¯†ï¼Œæå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œä»è€Œè¾¾åˆ°äººç”Ÿçš„å·…å³°ã€‚ä¸å¤šè¯´äº†ï¼ˆè·‘é¢˜äº†ï¼Œå“ˆå“ˆï¼ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ6ï¼‰é…ç½®springmvc.xmlæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans   
      &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;  
      xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;  
      xmlns:mvc&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/mvc&quot;&lt;/span&gt;&lt;span&gt;  
      xmlns:context&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;&lt;span&gt;  
      xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;  
      http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/mvc 
      http://www.springframework.org/schema/mvc/spring-mvc.xsd  
      http://www.springframework.org/schema/context 
      http://www.springframework.org/schema/context/spring-context.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      
    
    
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®userå®ä½“ç±» &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;user&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;com.pojo.User&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    
    
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®handler&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;/UserController1&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;com.controller.UserController1&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt; 
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;/UserController2&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;com.controller.UserController2&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt; 
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;/UserController3&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;com.controller.UserController3&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;  
    
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®å¤„ç†å™¨æ˜ å°„å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
        
     &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®å¤„ç†å™¨é€‚é…å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;   
     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt; 
         
     
     &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
     
     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;myconverter&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
              
     &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®è§†å›¾è§£æå™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;   
     
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          
         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;prefix&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;property&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;suffix&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;.jsp&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;property&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
          
      &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;springmvc.xmlæ˜¯æœ¬æ¬¡å¼€å‘çš„ä¸»é…ç½®æ–‡ä»¶ã€‚é€šè¿‡è§‚å¯Ÿå¾—çŸ¥ï¼Œé¡¶å±‚æ ‡ç­¾&amp;lt;beans&amp;gt;åŒ…å«äº†è®¸å¤šbeanæ¨¡å—ã€‚Spring Beanå…¶å®å°±æ˜¯æ˜¯è¢«å®ä¾‹çš„ï¼Œç»„è£…çš„åŠè¢«Spring å®¹å™¨ç®¡ç†çš„Javaå¯¹è±¡ã€‚ä¸€ä¸ªbeanç›¸å½“äºä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ï¼Œé€šè¿‡IoCï¼ˆæ§åˆ¶åè½¬ï¼Œä¹Ÿå«ä¾èµ–æ³¨å…¥ï¼‰æˆ‘ä»¬å¯ä»¥æŠŠbeanæ³¨å…¥åˆ°å®¹å™¨å½“ä¸­ï¼Œäº¤ç»™Springå®¹å™¨ç®¡ç†ï¼ˆæ¯”å¦‚beançš„å®ä¾‹åŒ–ï¼‰ã€‚è¿™æ ·åšçš„ç›®çš„å…¶å®è§£è€¦åˆã€‚å› ä¸ºè½¯ä»¶è®¾è®¡çš„åŸåˆ™å°±æ˜¯é«˜å†…èšï¼Œä½è€¦åˆã€‚Springé»˜è®¤çš„beanå®ä¾‹æ˜¯å•ä¾‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨scopeå±æ€§æ¥è®¾ç½®beançš„ä½œç”¨åŸŸã€‚scopeå¯ä»¥æ¥å—Singletonï¼ˆå•ä¾‹æ¨¡å¼ï¼Œæ¯æ¬¡è·å–beanåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼‰ã€prototypeï¼ˆåŸå‹æ¨¡å¼ï¼Œæ¯æ¬¡è·å–beanéƒ½ä¼šäº§ç”Ÿæ–°çš„å®ä¾‹ï¼‰ã€request(æ¯æ¬¡HTTP requestè¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸åŒçš„Beanå®ä¾‹)ã€session(æ¯æ¬¡HTTP sessionè¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸åŒçš„Beanå®ä¾‹)ã€global session (æ¯ä¸ªå…¨å±€çš„HTTPSessionå¯¹åº”ä¸€ä¸ªBeanå®ä¾‹ã€‚ä»…åœ¨portlet Contextçš„æ—¶å€™æ‰æœ‰æ•ˆã€‚)5ä¸ªå€¼ã€‚æˆ‘ä»¬å¸¸ç”¨å•ä¾‹æ¨¡å¼ï¼Œå› ä¸ºåˆ›å»ºå¯¹è±¡æœ¬èº«ä»£ä»·æ¯”è¾ƒé«˜ï¼Œè€—è´¹èµ„æºï¼Œå•ä¾‹çš„æœ¬èº«ä¹Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚è®¾ç½®ä¸åŒçš„scopeï¼Œè¿™æœ¬æ— å¯åšéã€‚è¿˜æœ‰ï¼Œæ³¨æ„ä¸€ä¸‹å¼•å…¥çš„xsdæ–‡ä»¶ï¼ŒSpringæ–‡ä»¶ä¸­çš„å¼•ç”¨çš„xsdæ–‡ä»¶æ˜¯ç”¨äºæ ¡éªŒxmlæ–‡ä»¶çš„æ ¼å¼ç”¨çš„ã€‚Springé»˜è®¤åœ¨å¯åŠ¨æ—¶æ˜¯è¦åŠ è½½XSDæ–‡ä»¶æ¥éªŒè¯xmlæ–‡ä»¶çš„ã€‚ç›¸å½“äºæ˜¯çº¦æŸæ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬å¼•å…¥äº†ä¸‰ä¸ªxsdæ–‡ä»¶ï¼Œspring-beans-xsdåŒ…å«å¯¹beançš„è§£é‡Šã€‚sprng-mvc.xsdåŒ…å«äº†å¯¹&amp;lt;mvc&amp;gt;ç­‰æ ‡ç­¾çš„è§£é‡Šï¼Œspring-context.xsdåŒ…å«å¯¹contextçš„è§£é‡Šï¼Œè¿™é‡Œæˆ‘ä»¬å…¶å®åªç”¨åˆ°äº†spring-beans.xsdçº¦æŸæ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å…·ä½“çœ‹ä¸€ä¸‹é…ç½®äº†ä»€ä¹ˆä¸œè¥¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1. æŠŠUserå®ä½“ç±»æ³¨å…¥åˆ°å®¹å™¨ï¼ˆä¸‹é¢ä¼šè´´Userç±»çš„ä»£ç ï¼Œè¿™é‡Œæš‚æ—¶è¿˜æ²¡ç”¨åˆ°ï¼‰ã€‚ç›¸å½“äºæ˜¯é€šè¿‡&amp;lt;bean&amp;gt;æ ‡ç­¾æ¥è£…é…ä¸€ä¸ªUserç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è·å–beanæ¥è¾¾åˆ°è·å–Userå®ä½“å¯¹è±¡çš„ç›®çš„ã€‚è®¾ç½®beançš„id(ä¸€ä¸ªbeançš„å”¯ä¸€æ ‡è¯†)å’Œclassï¼ˆç±»çš„å…¨åŒ…è·¯å¾„ åŒ….ç±»ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2. é…ç½®controllerï¼ˆä¹Ÿå°±æ˜¯handlerï¼Œå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬é…ç½®äº†å¥½ä¸‰ä¸ªcontrollerã€‚æˆ‘ä»¬çœ‹UserController1(å¯¹åº”ä¸Šé¢çš„æ–¹æ³•UserController1)çš„é…ç½®ï¼Œé…ç½®äº†ä¸€ä¸ªnameå’Œclassã€‚Spring MVCè¦è¯†åˆ«è¯·æ±‚çš„urlï¼Œå°±æ˜¯é€šè¿‡è°ƒç”¨å¤„ç†å™¨æ˜ å°„å™¨è·å–åˆ°è¿™ä¸ªnameçš„åç§°ï¼Œæ‰¾åˆ°controllerç±»ï¼Œç„¶åäº¤ç»™å¤„ç†å™¨è®¾é…å™¨å»å¤„ç†controllerã€‚&lt;/span&gt;&lt;span&gt;ç›¸å½“äºå°±æ˜¯æ˜ å°„è·¯å¾„ã€‚æ³¨æ„åç§°å‰è¦åŠ ä¸Š/Â  ä¸ç„¶æ— æ³•è¯†åˆ«ã€‚è¿™é‡Œæˆ‘ä»¬è®¾ç½®name=â€/UserController1â€œå’Œç±»åä¿æŒä¸€è‡´ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥èµ·å…¶ä»–åå­—ï¼Œåˆ«å¿˜äº†/ï¼Œå‰å°æäº¤çš„urlå’Œæ­¤å¤„nameçš„åç§°è¦ä¿æŒä¸€è‡´ã€‚classä¸ºUserController1çš„å…¨åŒ…ç±»è·¯å¾„ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3. é…ç½®å¤„ç†å™¨æ˜ å°„å™¨BeanNameUrlHandlerMappingã€‚ä¸éœ€è¦æŒ‡å®šidï¼Œåªé…ç½®å…¨ç±»è·¯å¾„å³å¯ï¼Œå³classã€‚è¿™ä¸ªå¤„ç†å™¨æ˜ å°„å™¨ï¼Œå°†beançš„nameä½œä¸ºurlè¿›è¡ŒæŸ¥æ‰¾ï¼Œéœ€è¦åœ¨é…ç½®Handleræ—¶æŒ‡å®šbeançš„ nameï¼ˆurlï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â  æŸ¥çœ‹spring-webmvcåŒ…ä¸‹é¢çš„DispatcherServlet.properties èµ„æºæ–‡ä»¶ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
# Default implementation classes &lt;span&gt;for&lt;/span&gt; DispatcherServlet's strategy interfaces.
&lt;span&gt;# Used as fallback when no matching beans are found in the DispatcherServlet context.
# Not meant to be customized by application developers.

org.springframework.web.servlet.LocaleResolver&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver

org.springframework.web.servlet.ThemeResolver&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.theme.FixedThemeResolver

org.springframework.web.servlet.HandlerMapping&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,\
    org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping

org.springframework.web.servlet.HandlerAdapter&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,\
    org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,\
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter

org.springframework.web.servlet.HandlerExceptionResolver&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerExceptionResolver,\
    org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver,\
    org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver

org.springframework.web.servlet.RequestToViewNameTranslator&lt;/span&gt;=&lt;span&gt;org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator

org.springframework.web.servlet.ViewResolver&lt;/span&gt;=org.springframework.web.servlet.view.InternalResourceViewResolver
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt; org.springframework.web.servlet.FlashMapManager&lt;/span&gt;=org.springframework.web.servlet.support.SessionFlashMapManager
&lt;/pre&gt;&lt;/div&gt;
&lt;pre readability=&quot;4.5&quot;&gt;
&lt;span&gt;Spring MVCçš„å¤„ç†å™¨æ˜ å°„å™¨ï¼Œå¸¸ç”¨çš„æœ‰2ä¸ªï¼Œä¸€ä¸ªæ˜¯org.springframework.web.servlet.handler.&lt;/span&gt;&lt;span readability=&quot;3&quot;&gt;BeanNameUrlHandlerMappingï¼Œç»§æ‰¿äº†&lt;br/&gt;AbstractDetectingUrlHandlerMappingæŠ½è±¡ç±»ï¼Œå®ƒåˆå‘ä¸Šç»§æ‰¿äº†AbstractUrlHandlerMappingæŠ½è±¡ç±»ï¼Œå®ƒåˆå‘ä¸Šç»§æ‰¿äº†AbstractHandlerMappingï¼Œ&lt;br/&gt;AbstractHandlerMappingæŠ½è±¡ç±»å®ç°äº†HandlerMappingæ¥å£ã€‚&lt;p&gt;å¦ä¸€ä¸ªæ˜¯org.springframework.web.servlet.handler.SimpleUrlHandlerMappingï¼Œç»§æ‰¿äº†AbstractUrlHandlerMappingæŠ½è±¡ç±»ï¼Œ&lt;/p&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;AbstractUrlHandlerMappingç»§æ‰¿äº†AbstractHandlerMappingæŠ½è±¡ç±»ï¼ŒAbstractHandlerMappingå®ç°äº†org.springframework.web.servlet.HandlerMapping&lt;/span&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;æ¥å£ã€‚è§‚å¯Ÿèµ„æºæ–‡ä»¶å‘ç°ï¼Œ&lt;/span&gt;&lt;span&gt;BeanNameUrlHandlerMappingæ˜¯Spring MVCçš„é»˜è®¤å¤„ç†å™¨æ˜ å°„å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨è¿™ä¸ªã€‚è‹¥è¦ä½¿ç”¨&lt;/span&gt;SimpleUrlHandlerMappingï¼Œ
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;æˆ‘ä»¬æ ¹æ®å®ƒçš„è¯­æ³•æ¥å°±è¡Œäº†ã€‚å¯ä»¥è¿™æ ·é…ç½®ï¼š&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;bean id=&quot;UserController1&quot; class=&quot;com.controller.UserController1&quot; /&amp;gt;

&lt;/span&gt;&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; ç®€å•URLé…ç½®å¤„ç†å™¨æ˜ å°„å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;mappings&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;props&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;prop &lt;/span&gt;&lt;span&gt;key&lt;/span&gt;&lt;span&gt;=&quot;/UserController1&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;UserController1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;prop&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;props&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;property&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å½“ç„¶è¿™ä¸¤ç§å¤„ç†å™¨æ˜ å°„å™¨é…ç½®å¯ä»¥å¹¶å­˜ï¼Œæ ¸å¿ƒæ§åˆ¶å™¨ä¼šæ­£ç¡®çš„å»åˆ¤æ–­ url ç”¨å“ªä¸ª Handler å»å¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ³¨æ„è¿™ä¸ªä¸Šé¢èµ„æºæ–‡ä»¶çš„å¤„ç†å™¨æ˜ å°„å™¨&lt;/span&gt;DefaultAnnotationHandlerMappingï¼Œ&lt;span&gt;é€šè¿‡æŸ¥çœ‹æºç ï¼Œå®ƒå·²ç»è¢«åºŸå¼ƒäº†ã€‚è¢«æŠ›å¼ƒçš„æ„Ÿè§‰ä¸å¥½å—å•Šã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆä¼°è®¡DefaultAnnotationHandlerMappingçš„å†…å¿ƒæ˜¯å´©æºƒçš„ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4. é…ç½®å¤„ç†å™¨é€‚é…å™¨ã€‚ä¸éœ€è¦æŒ‡å®šidï¼Œclassä¸ºå…¨ç±»è·¯å¾„ã€‚&lt;/span&gt;&lt;span&gt;æ ¸å¿ƒæ§åˆ¶å™¨è°ƒç”¨å¤„ç†å™¨æ˜ å°„å™¨æ‰¾åˆ°äº†Controllerç±»ï¼Œé‚£ä¹ˆè°æ¥å¤„ç†è¿™ä¸ªControllerå‘¢ã€‚é‚£ä¹ˆæ­¤æ—¶å¤„ç†å™¨é€‚é…å™¨å°±é—ªäº®ç™»åœºäº†ã€‚ä»€ä¹ˆæ˜¯å¤„ç†å™¨é€‚é…å™¨å‘¢ã€‚ä¸”å¬ä¸‹å›åˆ†è§£ï¼Œæœ¬ç« å®Œã€‚ã€‚ã€‚ï¼ˆçš®ä¸€ä¸‹ï¼‰ã€‚é€šè¿‡è§‚å¯Ÿä»¥ä¸Šèµ„æºæ–‡ä»¶ã€‚æˆ‘ä»¬å‘ç°ã€‚Spring MVCçš„å¤„ç†å™¨é€‚é…å™¨ï¼Œå¸¸ç”¨çš„æœ‰2ä¸ªã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä¸€ä¸ªæ˜¯org.springframework.web.servlet.mvc.HttpRequestHandlerAdapterï¼Œä¸€ä¸ªæ˜¯&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¿™2ä¸ªç±»éƒ½å®ç°äº†HandlerAdapteræ¥å£ã€‚SimpleControllerHandlerAdapterå¤„ç†çš„Handlerå¿…é¡»å®ç°Conreolleræ¥å£ï¼Œä¸€èˆ¬è¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;HttpRequestHandlerAdapterå¤„ç†çš„Handlerå¿…é¡»å®ç°HttpRequestHandleræ¥å£ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²æˆ–è€…jsonæ•°æ®ã€‚å› ä¸ºå…¶æŠ½è±¡æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚&lt;/span&gt;&lt;span&gt;AnnotationMethodHandlerAdapterå·²ç»åºŸå¼ƒäº†ï¼Œä¸å¤šè¯´ã€‚å½“ç„¶ä¸¤ç§é€‚é…å™¨å¯ä»¥å…±å­˜ï¼Œé…ç½®ä¸åŒçš„æ˜ å°„å™¨æ‰¾åˆ°ä¸åŒçš„controllerã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Spring MVCé»˜è®¤çš„å¤„ç†å™¨é€‚é…å™¨æ˜¯&lt;/span&gt;&lt;span&gt;HttpRequestHandlerAdapterÂ  ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;5. é…ç½®è§†å›¾è§£æå™¨ã€‚ä¸éœ€è¦æŒ‡å®šidï¼Œclassä¸ºå…¨ç±»è·¯å¾„ã€‚æˆ‘ä»¬è¿™é‡Œç”¨çš„æ˜¯InternalResourceViewResolverï¼Œé…ç½®å®ƒçš„classè·¯å¾„ï¼Œæ³¨æ„æœ‰2ä¸ªå±æ€§ã€‚prefixè¡¨ç¤ºè¿”å›è§†å›¾é¡µé¢çš„å‰ç¼€ï¼Œsuffixè¡¨ç¤ºè¿”å›è§†å›¾é¡µé¢çš„åç¼€ã€‚æ¯”å¦‚ä¸€èˆ¬æˆ‘ä»¬è¦è§†å›¾è§£æå®Œæˆåè¿”å›ä¸€ä¸ªé¡µé¢index.jspæ—¶ï¼Œprefixç›¸å½“äºé…ç½®çš„æ˜¯å…¶æ ¹ç›®å½•ï¼ˆåœ¨å“ªå„¿ï¼‰ï¼Œsuffixå°±æ˜¯.jspï¼Œè¿™æ ·åœ¨æˆ‘ä»¬ä½¿ç”¨æ³¨è§£è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œåªéœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²&quot;index&quot;å°±è¡Œäº†ã€‚ä¸Šé¢é‚£æ ·é…ç½®ï¼Œè¡¨ç¤ºåœ¨ Handler ä¸­åªéœ€è¦è¿”å›åœ¨ WebContentæ ¹ç›®å½•ä¸‹çš„jsp æ–‡ä»¶åå°±okäº†ï¼ˆä¸ºäº†ç®€å•æ–¹ä¾¿ï¼Œå¼€å‘æ¯”è¾ƒé«˜æ•ˆï¼‰ã€‚è§†å›¾è§£æå™¨ä½œç”¨&lt;/span&gt;&lt;span&gt;å®ƒè´Ÿè´£å°†ä¸€ä¸ªä»£è¡¨é€»è¾‘è§†å›¾åçš„å­—ç¬¦ä¸² ï¼ˆStringï¼‰æ˜ å°„åˆ°å®é™…çš„è§†å›¾ç±»å‹ View ä¸Šã€‚&lt;/span&gt;&lt;span&gt;é€šè¿‡ä»¥ä¸Šèµ„æºæ–‡ä»¶å‘ç°ã€‚æ³¨æ„HandlerExceptionResolverå¤„ç†å™¨å¼‚å¸¸è§£æå™¨ã€‚å®ƒè´Ÿè´£å°†æ•è·çš„å¼‚å¸¸æ˜ å°„åˆ°ä¸åŒçš„è§† å›¾ä¸Šå»ï¼Œæ­¤å¤–è¿˜æ”¯æŒæ›´å¤æ‚çš„å¼‚å¸¸å¤„ç†ä»£ç ã€‚Spring MVCçš„è§†å›¾è§£æå™¨è¿™é‡Œä»‹ç»3ç§ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ç§ï¼š&lt;/span&gt;&lt;span&gt;ä½¿ç”¨ViewResolveræ¥å£è§£æè§†å›¾&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;org.springframework.web.servlet.view.InternalResourceViewResolverç±»ï¼Œé€šè¿‡è¿ç»­å‘ä¸Šç»§æ‰¿ï¼Œå®ç°&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.ViewResolveræ¥å£ã€‚åœ¨å®é™…åº”ç”¨ä¸­InternalResourceViewResolverä¹Ÿæ˜¯ä½¿ç”¨çš„æœ€å¹¿æ³›çš„ä¸€ä¸ªè§†å›¾è§£æå™¨ã€‚æœ¬æ¬¡å¼€å‘å°±ç”¨çš„æ˜¯è¿™ä¸ªè§†å›¾è§£æå™¨ã€‚è¿™ä¸ªæ¯”è¾ƒå¸¸ç”¨ã€‚&lt;/span&gt;&lt;span&gt;InternalResourceViewResolverè§£æå™¨å¯ä»¥è§£é‡Šä¸ºå†…éƒ¨èµ„æºè§†å›¾è§£æå™¨ã€‚InternalResourceViewResolverä¼šæŠŠè¿”å›çš„è§†å›¾åç§°éƒ½è§£æä¸ºInternalResourceViewå¯¹è±¡ï¼ŒInternalResourceViewä¼šæŠŠControllerå¤„ç†å™¨æ–¹æ³•è¿”å›çš„æ¨¡å‹å±æ€§éƒ½å­˜æ”¾åˆ°å¯¹åº”çš„requestå±æ€§ä¸­ï¼Œç„¶åé€šè¿‡RequestDispatcheråœ¨æœåŠ¡å™¨ç«¯æŠŠè¯·æ±‚forwordé‡å®šå‘åˆ°ç›®æ ‡URLã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;æ¥å£ä¸­çš„æ–¹æ³•ï¼šé€šè¿‡ä¼ æ¥çš„å‚æ•°è§£æè§†å›¾ï¼Œå¹¶è¿”å›ä¸€ä¸ªViewå¯¹è±¡ã€‚æ³¨æ„Handlerç±»å®ç°Conteolleræ¥å£æ–¹æ³•æ—¶ï¼Œå°±è¿”å›äº†ä¸€ä¸ªModelAndViewå¯¹è±¡ã€‚ModelAndView æ˜¯SpringMVC æ¡†æ¶çš„ä¸€ä¸ªåº•å±‚å¯¹è±¡ï¼ŒåŒ…æ‹¬ Model å’Œ Viewã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;public abstract interface ViewResolver&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public abstract View resolveViewName(String paramString, Locale paramLocale)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;throws Exception;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;ç¬¬äºŒç§ï¼šä½¿ç”¨RequestToViewNameTranslatoræ¥å£è§£æè§†å›¾ã€‚&lt;/span&gt;&lt;span&gt;DefaultRequestToViewNameTranslatorä¸ºè¿™ä¸ªæ¥å£çš„å®ç°å­ç±»ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¿™ä¸ªæ¥å£å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public abstract interface RequestToViewNameTranslator&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public abstract String getViewName(HttpServletRequest paramHttpServletRequest)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;throws Exception;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¡¨ç¤ºæ ¹æ®requestè¯·æ±‚è¿”å›ä¸€ä¸ªè§†å›¾åç§°çš„å­—ç¬¦ä¸²ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰ç§ï¼šä½¿ç”¨FlashMapManageræ¥å£è§£æè§†å›¾ã€‚SessionFlashMapManagerä¸ºè¿™ä¸ªæ¥å£çš„å®ç°å­ç±»ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;FlashMapç®¡ç†å™¨ã€‚å®ƒèƒ½å¤Ÿå­˜å‚¨å¹¶å–å›ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´ çš„ FlashMap å¯¹è±¡ã€‚åè€…å¯ç”¨äºåœ¨è¯·æ±‚ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œé€šå¸¸ æ˜¯åœ¨è¯·æ±‚é‡å®šå‘çš„æƒ…å¢ƒä¸‹ä½¿ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¿™ä¸ªæ¥å£å®šä¹‰çš„æ–¹æ³•ï¼šè‡ªå·±çœ‹çœ‹å°±å¥½äº†ï¼Œåœ¨è¿™é‡Œä¸åšè¿‡å¤šä»‹ç»ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public abstract interface FlashMapManager&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public abstract FlashMap retrieveAndUpdate(HttpServletRequest paramHttpServletRequest, HttpServletResponse paramHttpServletResponse);&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;public abstract void saveOutputFlashMap(FlashMap paramFlashMap, HttpServletRequest paramHttpServletRequest, HttpServletResponse paramHttpServletResponse);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Mapè‚¯å®šæ—¶ç”¨æ¥ä¿å­˜æ•°æ®çš„ã€‚RedirectViewåœ¨é¡µé¢è·³è½¬ï¼Œæ•°æ®çš„ä¿å­˜ä¾èµ–äºFlashMapå’ŒFlashMapMangerï¼ŒFlashMapMangeråœ¨å®¹å™¨åˆå§‹åŒ–æ—¶è¢«å¡«å…¥ï¼Œè€ŒFlashMapä»Mangerå¯ä»¥è·å–ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;5. é…ç½®jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ã€‚è¿™é‡Œæš‚æ—¶ç”¨ä¸åˆ°ã€‚ä¸‹é¢ä¼šè§£é‡Šã€‚å…ˆè·³è¿‡ã€‚å…¶å®Spring MVCå†…ç½®çš„jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨åº•å±‚è¿˜æ˜¯ç”¨Jascksonç±»åº“å®ç°ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ7ï¼‰é…ç½®log4j.propertiesæ—¥å¿—æ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;### set log levels ###
log4j.rootLogger &lt;/span&gt;=&lt;span&gt; INFO , console , D
 
### console ###  
log4j.appender.console &lt;/span&gt;=&lt;span&gt; org.apache.log4j.ConsoleAppender  
log4j.appender.console.Target &lt;/span&gt;=&lt;span&gt; System.out  
log4j.appender.console.layout &lt;/span&gt;=&lt;span&gt; org.apache.log4j.PatternLayout  
log4j.appender.console.layout.ConversionPattern &lt;/span&gt;= %-d{yyyy-MM-dd HH\:mm\:ss} [%p]-[%c] %m%&lt;span&gt;n  
 
 
### log file ###  
log4j.appender.D &lt;/span&gt;=&lt;span&gt; org.apache.log4j.DailyRollingFileAppender
log4j.appender.D.File &lt;/span&gt;=../logs/IvaDubboWeb-&lt;span&gt;info.log
log4j.appender.D.Append &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;
log4j.appender.D.Threshold &lt;/span&gt;=&lt;span&gt; INFO 
log4j.appender.D.layout &lt;/span&gt;=&lt;span&gt; org.apache.log4j.PatternLayout
log4j.appender.D.layout.ConversionPattern &lt;/span&gt;= [%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C.%M(%L) | %m%&lt;span&gt;n


### out zhiding log file ###
log4j.logger.haha &lt;/span&gt;=&lt;span&gt; INFO, haha
log4j.additivity.haha &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;
log4j.appender.haha &lt;/span&gt;=&lt;span&gt; org.apache.log4j.DailyRollingFileAppender
log4j.appender.haha.File &lt;/span&gt;=D:/logs/&lt;span&gt;mylog.log
log4j.appender.haha.Append &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;
log4j.appender.haha.Threshold &lt;/span&gt;=&lt;span&gt; INFO
log4j.appender.haha.layout &lt;/span&gt;=&lt;span&gt; org.apache.log4j.PatternLayout
log4j.appender.haha.layout.ConversionPattern &lt;/span&gt;= [%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C.%M(%L) | %m%n
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;Log4jç®€å•ä»‹ç»ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Log4jæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ã€GUIç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€NTçš„äº‹ä»¶è®°å½•å™¨ã€UNIXÂ Syslogå®ˆæŠ¤çº¿ç¨‹ç­‰ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚Log4jæœ‰ä¸‰ä¸ªä¸»è¦çš„ç»„ä»¶ï¼šLoggers(è®°å½•å™¨)ï¼ŒAppenders (è¾“å‡ºæº)å’ŒLayouts(å¸ƒå±€)ã€‚è¿™é‡Œå¯ç®€å•ç†è§£ä¸ºæ—¥å¿—ç±»åˆ«ï¼Œæ—¥å¿—è¦è¾“å‡ºçš„åœ°æ–¹å’Œæ—¥å¿—ä»¥ä½•ç§å½¢å¼è¾“å‡ºã€‚ç»¼åˆä½¿ç”¨è¿™ä¸‰ä¸ªç»„ä»¶å¯ä»¥è½»æ¾åœ°è®°å½•ä¿¡æ¯çš„ç±»å‹å’Œçº§åˆ«ï¼Œå¹¶å¯ä»¥åœ¨è¿è¡Œæ—¶æ§åˆ¶æ—¥å¿—è¾“å‡ºçš„æ ·å¼å’Œä½ç½®ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1.Â Â &lt;span&gt;é…ç½®æ ¹loggerï¼Œæ—¥å¿—è¾“å‡ºçº§åˆ«ä¸ºINFOçº§åˆ«ã€‚log4jçš„è¾“å‡ºçº§åˆ«ï¼šTRACE &amp;lt; DEBUG &amp;lt; INFO &amp;lt; WARN &amp;lt; ERROR &amp;lt; FATALã€‚æ¯”INFOçº§åˆ«é«˜çš„ä¹Ÿä¼šæ‰“å°è¾“å‡ºï¼Œæ¯”INFOä½çš„ä¸ä¼šè¾“å‡ºã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2. é…ç½®consoleï¼Œåœ¨eclipseçš„æ§åˆ¶å°æ‰“å°æ—¥å¿—ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3. é…ç½®è¾“å‡ºåˆ°æ–‡ä»¶ã€‚ä¸€ä¸ªæ˜¯è¾“å‡ºåˆ°ä¸€èˆ¬æ€§æ–‡ä»¶ä¸­ï¼Œå¦ä¸€ä¸ªæ˜¯è¾“å‡ºåˆ°æˆ‘ä»¬æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚å¾ˆç®€å•ã€‚(ç¬”è€…å¯¹log4jè¿˜ç¢ç£¨äº†åŠå¤©ï¼Œä¸»è¦æ˜¯äº†è§£æ—¥å¿—æ‰“å°åˆ°åº•æ˜¯ä»€ä¹ˆç©æ„å„¿)ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å¯¹ä¸Šé¢log4jç®€å•æµ‹è¯•ä¸€ä¸‹ï¼ˆæ³¨æ„è¦å¯¼å…¥log4jå¼€å‘åŒ…å’Œå•å…ƒæµ‹è¯•JUinitåŒ…ï¼Œå¹¶æŠŠlog4j.propertiesæ–‡ä»¶æ”¾åœ¨srcç›®å½•ä¸‹ï¼‰ã€‚æ‰“å°åˆ°æ§åˆ¶å°ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.log4j;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.apache.log4j.Logger;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.junit.Test;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Log4jTest {

    @Test
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; test() {

        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; BasicConfigurator.configure(); &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è‡ªåŠ¨å¿«é€Ÿåœ°ä½¿ç”¨ç¼ºçœLog4jç¯å¢ƒã€‚&lt;/span&gt;
&lt;span&gt;
        Logger logger &lt;/span&gt;= Logger.getLogger(Log4jTest.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;log4j&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;æ˜¯&quot;&lt;span&gt;);
        logger.error(&lt;/span&gt;&quot;ä»€ä¹ˆ&quot;&lt;span&gt;);
        logger.debug(&lt;/span&gt;&quot;å‘¢&quot;&lt;span&gt;);

    }

    
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;è¿è¡Œæ•ˆæœï¼šdebugçº§åˆ«æ¯”INFOä½ï¼Œæ— è¾“å‡ºã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102170018925-1494925249.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ‰“å°æ—¥å¿—åˆ°æŒ‡å®šæ–‡ä»¶ï¼šæŠŠæ–¹æ³•æ”¾åœ¨ä¸€ä¸ªç±»ä¸­å°±è¡Œäº†&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@Test
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; test1() {

        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; BasicConfigurator.configure(); &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è‡ªåŠ¨å¿«é€Ÿåœ°ä½¿ç”¨ç¼ºçœLog4jç¯å¢ƒã€‚&lt;/span&gt;
&lt;span&gt;
        Logger logger &lt;/span&gt;= Logger.getLogger(&quot;haha&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;æˆ‘&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;è¦&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;å­¦&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;java&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;å“ˆ&quot;&lt;span&gt;);
        logger.info(&lt;/span&gt;&quot;å“ˆ&quot;&lt;span&gt;);
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;è¿è¡Œæ•ˆæœï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102170540053-1193848042.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;ï¼ˆ8ï¼‰è¿è¡Œç¨‹åº&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/strong&gt; &lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;å¯åŠ¨TomcatæœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šè¾“å…¥ï¼šlocalhost/MySpringAjax/Â Â &lt;a href=&quot;http://localhost/MySpringMVCAjax/&quot;&gt;&lt;br/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102171234299-434211055.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;Â  Â å®Œç¾è¿è¡Œï¼Œä¸åšè¿‡å¤šè§£é‡Šã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;Â 4. Spring MVCå¤„ç†ï¼ˆjQueryï¼‰Ajaxè¯·æ±‚(å‰å°å‘é€key/valueæ•°æ®ï¼Œåå°è¿”å›jsonæ•°æ®)&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;ï¼ˆ1ï¼‰ç¼–å†™jspé¡µé¢&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/strong&gt; &lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;é‡å¤æ­¥éª¤æˆ‘ä»¬ä¸€ç¬”å¸¦è¿‡å°±å¥½äº†ã€‚æ¯”å¦‚jaråŒ…éƒ½å·²ç»å¯¼å¥½äº†ï¼Œè¿˜æœ‰log4j.propertiesæ–‡ä»¶ï¼Œspringmvc.xmlä¸»é…ç½®æ–‡ä»¶ï¼Œè¿™äº›éƒ½æ˜¯é¡¹ç›®å…¬ç”¨çš„ã€‚è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;mybutton2&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;springmvcå¤„ç†ajaxè¯·æ±‚&quot;&lt;/span&gt;&lt;span&gt; onclick&lt;/span&gt;&lt;span&gt;=&quot;fun2()&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&lt;/span&gt;å‘é€æ•°æ®æ ¼å¼ä¸ºkey/valueçš„ï¼ˆjqueryï¼‰ajaxè¯·æ±‚&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;spand &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;show2&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ2ï¼‰ç¼–å†™jsé¡µé¢&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä½¿ç”¨jqueryæäº¤key/valueæ•°æ®ï¼ˆajaxè¯·æ±‚ï¼‰&lt;/span&gt;

&lt;span&gt;function&lt;/span&gt;&lt;span&gt; fun2(){
    
    $.ajax({
        
        type:&lt;/span&gt;&quot;POST&quot;&lt;span&gt;,
        url:&lt;/span&gt;&quot;UserController2&quot;&lt;span&gt;,
        data:&lt;/span&gt;&quot;username=wly&amp;amp;password=1314520&quot;,        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;key/valueæ•°æ®&lt;/span&gt;
        success:&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(data){
            
            $(&lt;/span&gt;&quot;#show2&quot;).html(data.username+&quot; &quot;+&lt;span&gt;data.password);
            
        }            
    });

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ3ï¼‰ç¼–å†™Userç±»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.pojo;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; User {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; String username;

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; String password;
    

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Integer age;
    
    

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Integer getAge() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; age;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setAge(Integer age) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.age =&lt;span&gt; age;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getUsername() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; username;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setUsername(String username) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.username =&lt;span&gt; username;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getPassword() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; password;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setPassword(String password) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.password =&lt;span&gt; password;
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String toString() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;User [username=&quot; + username + &quot;, password=&quot; + password + &quot;, age=&quot; + age + &quot;]&quot;&lt;span&gt;;
    }    
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â &lt;span&gt;è¿™é‡Œæˆ‘ä»¬ç»™Userç±»å¢åŠ äº†ä¸€ä¸ªageå±æ€§ï¼Œå‰å°å‘é€çš„è¿˜æ˜¯usernameå’Œpasswordã€‚ï¼ˆå¢åŠ ageå±æ€§ä¸»è¦æ˜¯ä¸ºäº†å¯¹Userç±»è¿›è¡Œé‡æ–°çš„ä¸€äº›æ“ä½œï¼Œå°±æ˜¯æ–¹ä¾¿æˆ‘ä»¬æ¼”ç¤ºä¸åŒçš„æ•ˆæœï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ4ï¼‰é…ç½®web.xmlæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  Â &lt;/strong&gt;&lt;span&gt;ä¸Šé¢å·²ç»é…ç½®å¥½äº†ï¼Œé…ç½®ä¸‰ä¸ªä¸œè¥¿ã€‚1. Spring MVCæ ¸å¿ƒæ§åˆ¶å™¨ï¼›2. å¯¹é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œï¼›3. é…ç½®Spring MVCæä¾›çš„ç¼–ç è¿‡æ»¤å™¨&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ5ï¼‰é…ç½®springmvc.xmlæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  Â &lt;/strong&gt;&lt;span&gt;ä¸Šé¢å·²ç»é…ç½®å¥½äº†ï¼Œéœ€è¦é…ç½®çš„beanæœ‰ï¼ŒUserå®ä½“ç±»ï¼ŒControllerç±»ï¼Œå¤„ç†å™¨æ˜ å°„å™¨ï¼Œå¤„ç†å™¨é€‚é…å™¨ï¼Œè§†å›¾è§£æå™¨ï¼Œjsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ï¼ˆæœ¬æ¬¡å¼€å‘å°±è°ƒç”¨Spring MVCå†…ç½®çš„jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨è¿›è¡Œè¿›è¡Œjsonæ•°æ®ä¸å¯¹è±¡çš„è½¬æ¢ï¼‰ã€‚é…ç½®jsonä¸å¯¹è±¡è½¬æ¢å™¨çš„idï¼ˆå”¯ä¸€è¯†åˆ«è¿™ä¸ªbeanï¼‰å’Œclassï¼ˆå…¨åŒ…ç±»è·¯å¾„ï¼‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; é…ç½®jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
     
     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;myconverter&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;



&lt;p&gt;&lt;span&gt;&lt;span&gt;è¿™é‡Œæˆ‘ä»¬çœ‹ä¸€ä¸‹é…ç½®çš„Spring MVCå†…ç½®çš„jsonä¸å¯¹è±¡çš„è½¬æ¢å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯MappingJackson2HttpMessageConverterç±»ã€‚æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹Spring MVCçš„2ä¸ªå¸¸ç”¨çš„æ¶ˆæ¯è½¬æ¢å™¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;1. &lt;strong&gt;org.springframework.http.converter.json.MappingJackson2HttpMessageConverteræ¶ˆæ¯è½¬æ¢å™¨ç±»&lt;/strong&gt;ï¼Œè¿™ä¸ªç±»ç»§æ‰¿äº†AbstractHttpMessageConverter&amp;lt;T&amp;gt;æŠ½è±¡ç±»ï¼Œè€Œè¿™ä¸ªæŠ½è±¡ç±»å®ç°äº†package org.springframework.http.converter.HttpMessageConverter&amp;lt;T&amp;gt;æ¥å£ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªæ¥å£çš„æŠ½è±¡æ–¹æ³•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; org.springframework.http.converter;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.io.IOException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.HttpInputMessage;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.HttpOutputMessage;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.MediaType;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; HttpMessageConverter&amp;lt;T&amp;gt;&lt;span&gt;
{
  &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; canRead(Class&amp;lt;?&amp;gt;&lt;span&gt; paramClass, MediaType paramMediaType);
  
  &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; canWrite(Class&amp;lt;?&amp;gt;&lt;span&gt; paramClass, MediaType paramMediaType);
  
  &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; List&amp;lt;MediaType&amp;gt;&lt;span&gt; getSupportedMediaTypes();
  
  &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; T read(Class&amp;lt;? &lt;span&gt;extends&lt;/span&gt; T&amp;gt;&lt;span&gt; paramClass, HttpInputMessage paramHttpInputMessage)
    &lt;/span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotReadableException;
  
  &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; write(T paramT, MediaType paramMediaType, HttpOutputMessage paramHttpOutputMessage)
    &lt;/span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotWritableException;
}

&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; Location:           F:\eclipseWorkspace\myworkspace\MySpringMVCAjax\WebContent\WEB-INF\lib\spring-web-4.0.0.RELEASE.jar
 * Qualified Name:     org.springframework.http.converter.HttpMessageConverter
 * Java Class Version: 6 (50.0)
 * JD-Core Version:    0.7.0.1
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨Spring MVCå®ç°è‡ªå®šä¹‰çš„jsonä¸å¯¹è±¡çš„è½¬åŒ–å™¨æ—¶ï¼Œå°±åº”è¯¥å®ç°HttpMessageConverter&amp;lt;T&amp;gt;è¿™ä¸ªæ¥å£ã€‚MediaTypeåœ¨ç½‘ç»œåè®®çš„æ¶ˆæ¯å¤´é‡Œé¢å«åšContent-Typeï¼Œä½¿ç”¨ä¸¤éƒ¨åˆ†çš„æ ‡è¯†ç¬¦æ¥ç¡®å®šä¸€ä¸ªç±»å‹ï¼Œæˆ‘ä»¬ç”¨çš„æ—¶å€™å…¶å®å°±æ˜¯ä¸ºäº†è¡¨æ˜æˆ‘ä»¬ä¼ çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆç±»å‹ã€‚MediaTypeç±»å°±æ˜¯ä¸€ä¸ªåª’ä½“ç±»å‹ï¼Œå®šä¹‰äº†å¥½å¤šé™æ€å¸¸é‡ï¼Œå®šä¹‰çš„å°±æ˜¯æ•°æ®çš„æ ¼å¼ã€‚ç›¸å½“äºContentTypeã€‚é™æ€å¸¸é‡å€¼æœ‰application/jsonï¼Œtext/htmlï¼Œimage/pngï¼Œapplication/xmlç­‰ç­‰ã€‚æœ‰å¥½å¤šå‘¢ã€‚è‡ªå·±å»çœ‹æºç å¥½äº†ã€‚canRead()æ–¹æ³•è¡¨ç¤ºæ£€æµ‹èƒ½ä¸èƒ½æŠŠjavaå¯¹è±¡è½¬åŒ–ä¸ºjsonæ•°æ®ï¼ŒcanWriteè¡¨ç¤ºæ£€æµ‹èƒ½ä¸èƒ½æŠŠjsonæ•°æ®è½¬åŒ–ä¸ºjavaå¯¹è±¡ã€‚readï¼ˆï¼‰æ–¹æ³•ç”¨æ¥è¯»ï¼Œè¡¨ç¤ºæŠŠjsonæ•°æ®è½¬åŒ–ä¸ºjavaå¯¹è±¡ï¼Œwriteæ–¹æ³•è¡¨ç¤ºå†™ï¼ŒæŠŠjavaå¯¹è±¡è½¬æ¢ä¸ºjsonæ•°æ®è¾“å‡ºã€‚MappingJackson2HttpMessageConverteræ˜¯HttpMessageConverter&amp;lt;T&amp;gt;çš„å®ç°å­ç±»ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹AbstractHttpMessageConverter&amp;lt;T&amp;gt;æŠ½è±¡ç±»å®šä¹‰çš„2ä¸ªé‡è¦çš„æŠ½è±¡æ–¹æ³•ã€‚å®ç°HttpMessageConverter&amp;lt;T&amp;gt;æ¥å£ä¸­çš„read()å’Œwriteï¼ˆï¼‰æŠ½è±¡æ–¹æ³•ã€‚&lt;/span&gt;&lt;span&gt;ä½†æ˜¯è°ƒç”¨çš„è¿˜æ˜¯æœ¬ç±»å®šä¹‰çš„2ä¸ªæŠ½è±¡æ–¹æ³•ã€‚å†äº¤ç»™èµ·å­ç±»å»å®ç°è¿™2ä¸ªæ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;public&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; T read(Class&amp;lt;? &lt;span&gt;extends&lt;/span&gt; T&amp;gt;&lt;span&gt; clazz, HttpInputMessage inputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 158 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; readInternal(clazz, inputMessage);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;public&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; write(&lt;span&gt;final&lt;/span&gt;&lt;span&gt; T t, MediaType contentType, HttpOutputMessage outputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotWritableException
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 170 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;final&lt;/span&gt; HttpHeaders headers =&lt;span&gt; outputMessage.getHeaders();
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 171 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (headers.getContentType() == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 172 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;if&lt;/span&gt; ((contentType == &lt;span&gt;null&lt;/span&gt;) || (contentType.isWildcardType()) ||&lt;span&gt; (contentType.isWildcardSubtype())) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 173 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;         contentType =&lt;span&gt; getDefaultContentType(t);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 175 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;if&lt;/span&gt; (contentType != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 176 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;         headers.setContentType(contentType);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 179 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (headers.getContentLength() == -1L&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 180 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       Long contentLength =&lt;span&gt; getContentLength(t, headers.getContentType());
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 181 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;if&lt;/span&gt; (contentLength != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 182 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;         headers.setContentLength(contentLength.longValue());
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 185 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; ((outputMessage &lt;span&gt;instanceof&lt;/span&gt;&lt;span&gt; StreamingHttpOutputMessage)) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 186 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       StreamingHttpOutputMessage streamingOutputMessage =&lt;span&gt; (StreamingHttpOutputMessage)outputMessage;
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;       
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 189 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       streamingOutputMessage.setBody(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; StreamingHttpOutputMessage.Body()
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; writeTo(&lt;span&gt;final&lt;/span&gt; OutputStream outputStream) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 192 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;           AbstractHttpMessageConverter.&lt;span&gt;this&lt;/span&gt;.writeInternal(t, &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HttpOutputMessage()
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;           {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; OutputStream getBody() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 195 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;               &lt;span&gt;return&lt;/span&gt;&lt;span&gt; outputStream;
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;             }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;             
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt;&lt;span&gt; HttpHeaders getHeaders()
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;             {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 200 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;               &lt;span&gt;return&lt;/span&gt; AbstractHttpMessageConverter.1.&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.val$headers;
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;             }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;           });
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;         }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       });
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 207 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       writeInternal(t, outputMessage);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 208 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       outputMessage.getBody().flush();
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 

&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; T readInternal(Class&amp;lt;? &lt;span&gt;extends&lt;/span&gt; T&amp;gt;&lt;span&gt; paramClass, HttpInputMessage paramHttpInputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotReadableException;
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; writeInternal(T paramT, HttpOutputMessage paramHttpOutputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotWritableException;
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥ï¼ŒMappingJackson2HttpMessageConverterå°±å‡ºç°äº†ï¼Œå…¶å®ç°äº†æŠ½è±¡ç±»å®šä¹‰çš„æ–¹æ³•readInternal()å’ŒwriteInternalï¼Œé€šè¿‡è§‚å¯Ÿå‘ç°ã€‚readInternal()æ–¹æ³•å…¶è°ƒç”¨äº†ObjectMapper(Jacksonæ ¸å¿ƒæ“ä½œç±»)çš„readValue()æ–¹æ³•ï¼Œè¡¨ç¤ºå°†jsonå­—ç¬¦ä¸²è½¬åŒ–ä¸ºjavaå¯¹è±¡ã€‚read()æ–¹æ³•å…¶å®æ˜¯æœ¬ç±»æ‰©å±•çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½œç”¨å’ŒreadInternalä¸€æ ·ã€‚writeInternal()æ–¹æ³•å…¶è°ƒç”¨äº†ObjectMapper(Jacksonæ ¸å¿ƒæ“ä½œç±»)çš„writeValue()æ–¹æ³•ï¼Œè¡¨ç¤ºå°†javaå¯¹è±¡è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸²ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å…¬å…±æ¥å£HttpInputMessageï¼Œæ‰©å±•HttpMessageï¼Œè¡¨ç¤ºHTTPè¾“å…¥æ¶ˆæ¯ï¼Œç”±è¡¨å¤´Â å’Œå¯è¯»ä¸»ä½“ç»„æˆã€‚é€šå¸¸ç”±æœåŠ¡å™¨ç«¯çš„HTTPè¯·æ±‚å¥æŸ„æˆ–å®¢æˆ·ç«¯çš„HTTPå“åº”å¥æŸ„å®ç°ã€‚å…¶å®ç°å­ç±»ServletServerHttpRequestå°è£…äº†è¯·æ±‚å¤´headerå’Œè¯·æ±‚ä½“bodyã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å…¬å…±æ¥å£&lt;span class=&quot;typeNameLabel&quot;&gt;HttpOutputMessageÂ ï¼Œæ‰©å±•HttpMessage&lt;/span&gt;è¡¨ç¤ºHTTPè¾“å‡ºæ¶ˆæ¯ï¼Œç”±æ ‡å¤´Â å’Œå¯å†™ä¸»ä½“ç»„æˆã€‚é€šå¸¸ç”±å®¢æˆ·ç«¯çš„HTTPè¯·æ±‚å¥æŸ„æˆ–æœåŠ¡å™¨ç«¯çš„HTTPå“åº”å¥æŸ„å®ç°ã€‚å…¶å®ç°å­ç±»ServletServerHttpResponseç›¸å½“äºå°è£…äº†å“åº”å¤´å’Œå“åº”ä½“ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;52&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;protected&lt;/span&gt; Object readInternal(Class&amp;lt;?&amp;gt;&lt;span&gt; clazz, HttpInputMessage inputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotReadableException
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 168 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     JavaType javaType = getJavaType(clazz, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 169 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; readJavaType(javaType, inputMessage);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;public&lt;/span&gt; Object read(Type type, Class&amp;lt;?&amp;gt;&lt;span&gt; contextClass, HttpInputMessage inputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotReadableException
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 176 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     JavaType javaType =&lt;span&gt; getJavaType(type, contextClass);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 177 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; readJavaType(javaType, inputMessage);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;private&lt;/span&gt;&lt;span&gt; Object readJavaType(JavaType javaType, HttpInputMessage inputMessage) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 182 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;return&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.objectMapper.readValue(inputMessage.getBody(), javaType);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IOException ex) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 185 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; HttpMessageNotReadableException(&quot;Could not read JSON: &quot; +&lt;span&gt; ex.getMessage(), ex);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; writeInternal(Object object, HttpOutputMessage outputMessage)
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException, HttpMessageNotWritableException
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 193 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     JsonEncoding encoding =&lt;span&gt; getJsonEncoding(outputMessage.getHeaders().getContentType());
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 198 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     JsonGenerator jsonGenerator = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.objectMapper.getJsonFactory().createJsonGenerator(outputMessage.getBody(), encoding);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt; 
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 202 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.objectMapper.isEnabled(SerializationFeature.INDENT_OUTPUT)) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 203 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       jsonGenerator.useDefaultPrettyPrinter();
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;try&lt;/span&gt;
&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 207 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;.jsonPrefix != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 208 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;         jsonGenerator.writeRaw(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.jsonPrefix);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;       }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 210 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.objectMapper.writeValue(jsonGenerator, object);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (JsonProcessingException ex) {
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 213 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;       &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; HttpMessageNotWritableException(&quot;Could not write JSON: &quot; +&lt;span&gt; ex.getMessage(), ex);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;     &lt;span&gt;*/&lt;/span&gt;   
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.&lt;span&gt;&lt;strong&gt;Â &lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;org.springframework.http.converter.StringHttpMessageConverteræ¶ˆæ¯è½¬æ¢å™¨ç±»&lt;/strong&gt;ï¼Œç»§æ‰¿äº†AbstractHttpMessageConverter&amp;lt;String&amp;gt;æŠ½è±¡ç±»ï¼Œè€Œè¿™ä¸ªæŠ½è±¡ç±»å®ç°äº†HttpMessageConverter&amp;lt;T&amp;gt;æ¥å£ã€‚ä¸»è¦ç”¨äºä»¥è¯»å†™å­—ç¬¦ä¸²ã€‚å…¶å®å°±æ˜¯ä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥è½¬æ¢å™¨æ”¯æŒæ‰€æœ‰ä»‹è´¨ç±»å‹ï¼ˆ&lt;code&gt;*/*&lt;/code&gt;ï¼‰ï¼Œå¹¶ç”¨å†™&lt;code&gt;Content-Type&lt;/code&gt;çš„&lt;code&gt;text/plain&lt;/code&gt;ã€‚å¯ä»¥é€šè¿‡è®¾ç½®supportedMediaTypesè¯¥å±æ€§æ¥è¦†ç›–ã€‚åŸç†ï¼šé€šè¿‡è¾“å…¥å’Œè¾“å‡ºæµçš„æ–¹å¼è¿›è¡Œè¯»å’Œå†™æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è®¾è®¡å“²å­¦ï¼šStringHttpMessageConverterçš„å“²å­¦ä¾¿æ˜¯ï¼šä½ æƒ³è¦ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä¾¿å‘é€ç»™ä½ è¯¥ç±»å‹çš„æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å…¶å®å¾ˆç®€å•çš„é“ç†ï¼Œæ¯”å¦‚æˆ‘å¸Œæœ›æ¥å—çš„æ•°æ®ç±»å‹æ˜¯Accept: application/json;charset=UTF-8ï¼Œå‘é€çš„æ•°æ®ç±»å‹Content-Type: application/json;charset=UTF-8 å½“ç„¶ä¹Ÿè¦ä¿æŒä¸€è‡´ã€‚&lt;/span&gt;&lt;span&gt;ç›¸å½“äºä»¥ä»€ä¹ˆæ ¼å¼è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå°±å¾—ä»¥ç›¸åº”çš„æ ¼å¼è¿›è¡Œè½¬æ¢ã€‚è¿™é‡Œè¦æ·±å…¥äº†è§£çš„è¯è¯·çœ‹å…·ä½“æºç ã€‚&lt;/span&gt;&lt;/p&gt;



&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ6ï¼‰é…ç½®ç¼–å†™Controllerç±»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.controller;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.io.IOException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.ServletException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.http.HttpServletRequest;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.http.HttpServletResponse;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.support.ClassPathXmlApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.HttpOutputMessage;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.MediaType;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.HttpMessageConverter;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.server.ServletServerHttpResponse;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.HttpRequestHandler;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.pojo.User;


&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; UserController2 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; HttpRequestHandler{

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; handleRequest(HttpServletRequest request, HttpServletResponse response)
            &lt;/span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;span&gt; ServletException, IOException {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
        response.setCharacterEncoding(&quot;UTF-8&quot;&lt;span&gt;);
        
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åŠ è½½spring.xmlæ–‡ä»¶åˆå§‹åŒ–ApplicationContext&lt;/span&gt;
        ApplicationContext ac = &lt;span&gt;new&lt;/span&gt; ClassPathXmlApplicationContext(&quot;springmvc.xml&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¾—åˆ°Userç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ï¼Œå¯ä»¥çœ‹å‡ºIoCï¼ˆæŠŠå¯¹è±¡äº¤ç»™å®¹å™¨ç®¡ç†ï¼‰æœºåˆ¶ï¼ˆå·¥å‚æ¨¡å¼+Javaåå°„æœºåˆ¶ï¼‰&lt;/span&gt;
        User user = (User) ac.getBean(&quot;user&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–usernameå’Œpasswordï¼Œè¿›è¡Œæ‰‹åŠ¨å°è£…&lt;/span&gt;
        String username=request.getParameter(&quot;username&quot;&lt;span&gt;);
        String password&lt;/span&gt;=request.getParameter(&quot;password&quot;&lt;span&gt;);    
        user.setUsername(username);
        user.setPassword(password);    
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–æ¶ˆæ¯è½¬æ¢å™¨MappingJackson2HttpMessageConverterç±»å¯¹è±¡ï¼Œå®ç°äº†HttpMessageConverteræ¥å£&lt;/span&gt;
        HttpMessageConverter converter= (HttpMessageConverter) ac.getBean(&quot;myconverter&quot;&lt;span&gt;);        
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–åª’ä½“ç±»å‹ï¼Œä¼ å…¥çš„æ˜¯&quot;application/json;charset=UTF-8&quot;è¿™é‡Œæˆ‘ä»¬ç›´æ¥new&lt;/span&gt;
        MediaType mediaType=&lt;span&gt;new&lt;/span&gt; MediaType(MediaType.APPLICATION_JSON, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);        
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å®ä¾‹åŒ–å“åº”ä¿¡æ¯ç±»ã€‚ServletServerHttpResponseæ˜¯HttpOutputMessageçš„å®ç°å­ç±»
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿™é‡Œç›´æ¥new,è¦æ˜¯é…ç½®åˆ°springmvcé‡Œé¢æ˜¾å¾—é…ç½®æ–‡ä»¶å†—ä½™ã€‚&lt;/span&gt;
        HttpOutputMessage out=&lt;span&gt;new&lt;/span&gt;&lt;span&gt; ServletServerHttpResponse(response);            
        converter.write(user, mediaType, out);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;é¦–å…ˆè¦è·å–2ä¸ªbeanï¼Œä¸€ä¸ªæ˜¯é…ç½®çš„è½¬æ¢å™¨ï¼Œä¸€ä¸ªæ˜¯Userç±»å¯¹è±¡ã€‚é€šè¿‡åŠ è½½spring.xmlåˆå§‹åŒ–Springçš„ä¸€ä¸ªåº”ç”¨ä¸Šä¸‹æ–‡ApplicationContextå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•getBean(&quot;id&quot;)ã€‚æˆ‘ä»¬å¯ä»¥è·å¾—beanå¯¹è±¡ï¼Œå…¶å®è¿™æ˜¯é€šè¿‡Javaåå°„æœºåˆ¶å®Œæˆçš„ã€‚è¿™ä¸ªä¼ å…¥çš„idæ˜¯æˆ‘æˆ‘ä»¬spring.xmlä¸­æ‰€é…ç½®çš„idï¼Œæ³¨æ„ä¸€å®šè¦å¯¹åº”ï¼Œä¿æŒä¸€è‡´ã€‚å…³äºè·å–Spring Beanè¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Œè‡ªå·±å¯ä»¥ç™¾åº¦ã€‚å¾—åˆ°userå¯¹è±¡åï¼Œæ‰‹åŠ¨è¿›è¡Œå°è£…ã€‚ä»£ç éƒ½æœ‰æ³¨è§£ï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚&lt;/span&gt;MediaType.APPLICATION_JSONæ˜¯ä¸€ä¸ªé™æ€å¸¸é‡ã€‚MediaTypeç±»ä¸­å®šä¹‰çš„è¿™ä¸ªé™æ€å¸¸é‡ï¼ˆè¿˜æœ‰å¥½å¤šï¼Œè¿™é‡Œåªåˆ—ä¸¾ä¸€ä¸ªï¼‰&lt;span&gt;public static final MediaType APPLICATION_JSON = valueOf(&quot;application/json&quot;)ã€‚HttpOutputMessageå°è£…è¾“å‡ºçš„ä¿¡æ¯ã€‚æœ€åé€šè¿‡æ¶ˆæ¯è½¬æ¢å™¨çš„writeï¼ˆï¼‰æ–¹æ³•æŠŠå¯¹è±¡è½¬åŒ–ä¸ºjsonæ•°æ®è¿›è¡Œè¾“å‡ºï¼Œå“åº”å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ApplicationContextæ˜¯ä¸€ä¸ªä¸­å¤®æ¥å£ï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›é…ç½®ã€‚åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå®ƒæ˜¯åªè¯»çš„ï¼Œä½†æ˜¯å¦‚æœå®ç°æ”¯æŒï¼Œåˆ™å¯ä»¥é‡æ–°åŠ è½½ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ApplicationContextæä¾›ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1. ç”¨äºè®¿é—®åº”ç”¨ç¨‹åºç»„ä»¶çš„Beanå·¥å‚æ–¹æ³•ã€‚ç»§æ‰¿è‡ªListableBeanFactoryã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.ä»¥é€šç”¨æ–¹å¼åŠ è½½æ–‡ä»¶èµ„æºçš„èƒ½åŠ›ã€‚ä»R&lt;code&gt;esourceLoader&lt;/code&gt;æ¥å£ç»§æ‰¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3.å°†äº‹ä»¶å‘å¸ƒç»™æ³¨å†Œçš„ä¾¦å¬å™¨çš„èƒ½åŠ›ã€‚ä»ApplicationEventPublisheræ¥å£ç»§æ‰¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4.è§£å†³æ¶ˆæ¯çš„èƒ½åŠ›ï¼Œæ”¯æŒå›½é™…åŒ–ã€‚ä»MessageSourceæ¥å£ç»§æ‰¿ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;5.ä»çˆ¶ä¸Šä¸‹æ–‡ç»§æ‰¿ã€‚åœ¨åä»£ä¸Šä¸‹æ–‡ä¸­çš„å®šä¹‰å°†å§‹ç»ˆä¼˜å…ˆã€‚ä¾‹å¦‚ï¼Œè¿™æ„å‘³ç€æ•´ä¸ªWebåº”ç”¨ç¨‹åºéƒ½å¯ä»¥ä½¿ç”¨å•ä¸ªçˆ¶ä¸Šä¸‹æ–‡ï¼Œè€Œæ¯ä¸ªservletéƒ½æœ‰å…¶è‡ªå·±çš„å­ä¸Šä¸‹æ–‡ï¼Œè¯¥å­ä¸Šä¸‹æ–‡ç‹¬ç«‹äºä»»ä½•å…¶ä»–servletçš„å­ä¸Šä¸‹æ–‡ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å­˜åœ¨é—®é¢˜ï¼šè¿™é‡Œçš„Userç±»å¯¹è±¡å…¶å®æœ€åè¿˜æ˜¯é€šè¿‡Springå®¹å™¨newçš„å®ä¾‹ï¼ˆåå°„ï¼‰ï¼Œå®Œå…¨ä¸ç”¨æ³¨è§£çš„è¯ï¼Œæ€ä¹ˆè‡ªåŠ¨å®ŒæˆUserç±»å¯¹key/valueç±»å‹æ•°æ®çš„å°è£…å‘¢ï¼Œæˆ‘ä»¬æ€ä¹ˆå¾—åˆ°userç±»å‘¢ã€‚æœ‰ä¸€ç§æ€è·¯ï¼ˆæ·±å…¥äº†è§£spring mvcçš„å‚æ•°ç»‘å®šæœºåˆ¶ï¼Œè¿™å°±è¦åˆå¾—ç ”ç©¶ç ”ç©¶æºç äº†ï¼‰ã€‚ä¸çŸ¥é“å¤§å®¶è¿˜æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚æ¬¢è¿äº¤æµå“ˆã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;ï¼ˆ7ï¼‰è¿è¡Œç¨‹åº&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102221015981-969024460.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;5. Spring MVCå¤„ç†ï¼ˆjQueryï¼‰Ajaxè¯·æ±‚(å‰å°å‘é€jsonæ•°æ®ï¼Œåå°è¿”å›jsonæ•°æ®)&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ1ï¼‰ç¼–å†™jspé¡µé¢&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;mybutton3&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;springmvcå¤„ç†ajaxè¯·æ±‚&quot;&lt;/span&gt;&lt;span&gt; onclick&lt;/span&gt;&lt;span&gt;=&quot;fun3()&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&lt;/span&gt;å‘é€æ•°æ®æ ¼å¼ä¸ºjsonçš„(jquery)ajaxè¯·æ±‚&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;spand &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;show3&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ2ï¼‰ç¼–å†™jsæ–‡ä»¶&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä½¿ç”¨jqueryæäº¤jsonæ•°æ®ï¼ˆajaxè¯·æ±‚ï¼‰&lt;/span&gt;

&lt;span&gt;function&lt;/span&gt;&lt;span&gt; fun3(){
    
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; user={                        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç¬¦åˆjsonæ•°æ®æ ¼å¼è§„èŒƒçš„javascriptå¯¹è±¡&lt;/span&gt;
            &quot;username&quot;:&quot;æˆ‘æ˜¯è°&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;password&quot;:&quot;1314520&quot;&lt;span&gt;    
    };    
$.ajax({
        
        type:&lt;/span&gt;&quot;POST&quot;&lt;span&gt;,
        url:&lt;/span&gt;&quot;UserController3&quot;&lt;span&gt;,
        contentType:&lt;/span&gt;&quot;application/json;charset=UTF-8&quot;, &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‘é€æ•°æ®åˆ°æœåŠ¡å™¨æ—¶æ‰€ä½¿ç”¨çš„å†…å®¹ç±»å‹&lt;/span&gt;
        data:JSON.stringify(user),    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å°†javascriptå¯¹è±¡è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸²&lt;/span&gt;
        
        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é¢„æœŸçš„æœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ã€‚æœåŠ¡å™¨è¿”å›jsonå­—ç¬¦ä¸²ã€‚jqueryä¼šè‡ªåŠ¨æŠŠjsonè½¬åŒ–ä¸ºjså¯¹è±¡&lt;/span&gt;
        dataType:&quot;json&quot;,    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç›¸å½“äºè°ƒç”¨JSON.parseï¼ˆdataï¼‰æ–¹æ³•ã€‚æ­¤æ—¶æˆ‘ä»¬çœå»å³å¯ã€‚      &lt;/span&gt;
        success:&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(data){
            
            $(&lt;/span&gt;&quot;#show3&quot;).html(data.username+&quot; &quot;+data.password+&quot; &quot;+&lt;span&gt;data.age);
            
        }            
    });
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;æ‰“å°ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬åŠ äº†ä¸€ä¸ªageå±æ€§æ³¨æ„ä¸€ä¸‹ã€‚è¿™é‡Œusernameè®¾ç½®ä¸ºä¸­æ–‡ï¼Œä¸»è¦ä¸ºäº†æµ‹è¯•ä¼šä¸ä¼šå‡ºç°ä¹±ç ï¼ˆçœ‹web.xmlé…ç½®çš„ç¼–ç è¿‡æ»¤å™¨ç”Ÿæ•ˆæ²¡ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ3ï¼‰ç¼–å†™Userç±»&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;Â &lt;/strong&gt;&lt;/strong&gt; &lt;span&gt;Â Userå®ä½“ç±»å’Œä¸Šé¢ä¸€æ ·ã€‚æœ‰3ä¸ªå±æ€§ï¼Œusername,password,ageã€‚æä¾›getterså’Œsettersæ–¹æ³•ï¼ŒtoStringæ–¹æ³•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ4ï¼‰é…ç½®web.xml&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;Â  Â &lt;/strong&gt;&lt;/strong&gt;&lt;span&gt;ä¸€æ ·&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ5ï¼‰é…ç½®springmvc.xmlæ–‡ä»¶&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;Â  Â &lt;/strong&gt;&lt;/strong&gt;&lt;span&gt;åŒç†&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ6ï¼‰ç¼–å†™Controllerç±»&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.controller;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.io.IOException;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.ServletException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.http.HttpServletRequest;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; javax.servlet.http.HttpServletResponse;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.support.ClassPathXmlApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.HttpInputMessage;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.HttpOutputMessage;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.MediaType;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.HttpMessageConverter;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.HttpMessageNotWritableException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.StringHttpMessageConverter;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.server.ServletServerHttpRequest;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.http.server.ServletServerHttpResponse;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.stereotype.Controller;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.HttpRequestHandler;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RequestBody;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RequestMapping;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.ResponseBody;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.fasterxml.jackson.databind.ObjectMapper;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.pojo.User;


&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; UserController3 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; HttpRequestHandler{


    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; handleRequest(HttpServletRequest request, HttpServletResponse response)
            &lt;/span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;span&gt; ServletException, IOException {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; TODO Auto-generated method stub&lt;/span&gt;
        response.setCharacterEncoding(&quot;UTF-8&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;////&lt;/span&gt;&lt;span&gt;åŠ è½½spring.xmlæ–‡ä»¶åˆå§‹åŒ–ApplicationContext&lt;/span&gt;
        ApplicationContext ac = &lt;span&gt;new&lt;/span&gt; ClassPathXmlApplicationContext(&quot;springmvc.xml&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;////&lt;/span&gt;&lt;span&gt;è·å–æ¶ˆæ¯è½¬æ¢å™¨MappingJackson2HttpMessageConverterç±»å¯¹è±¡ï¼Œå®ç°äº†HttpMessageConverteræ¥å£&lt;/span&gt;
        HttpMessageConverter converter=(HttpMessageConverter) ac.getBean(&quot;myconverter&quot;&lt;span&gt;);        
        &lt;/span&gt;&lt;span&gt;////&lt;/span&gt;&lt;span&gt;è·å–åª’ä½“ç±»å‹ï¼Œä¼ å…¥çš„æ˜¯&quot;application/json;charset=UTF-8&quot;è¿™é‡Œæˆ‘ä»¬ç›´æ¥newå¯¹è±¡&lt;/span&gt;
        MediaType mediaType=&lt;span&gt;new&lt;/span&gt; MediaType(MediaType.APPLICATION_JSON, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);        
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯·æ±‚ä¿¡æ¯ç±»ï¼Œå°è£…è¾“å…¥ä¿¡æ¯&lt;/span&gt;
        HttpInputMessage in=&lt;span&gt;new&lt;/span&gt;&lt;span&gt; ServletServerHttpRequest(request);        
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å“åº”ä¿¡æ¯ç±»ï¼Œå°è£…è¾“å‡ºä¿¡æ¯&lt;/span&gt;
        HttpOutputMessage out=&lt;span&gt;new&lt;/span&gt;&lt;span&gt; ServletServerHttpResponse(response);                            
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æŠŠå‰å°ä¼ æ¥ä¼ æ¥jsonæ•°æ®è½¬åŒ–ä¸ºUserå¯¹è±¡ï¼ˆreadæ¥å—çš„å‚æ•°ï¼šè¿™é‡Œå¯ä»¥æŠŠjsonæ•°æ®è½¬åŒ–ä¸ºUserï¼Œå¾—ç›ŠäºHttpInputMessageå·²ç»æŠŠè¯·æ±‚çš„ä¿¡æ¯å·²ç»å°è£…å¥½äº†ï¼ŒåŒ…æ‹¬è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼‰&lt;/span&gt;
        User user= (User) converter.read(User.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;, in);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è®¾ç½®å¹´é¾„&lt;/span&gt;
        user.setAge(666&lt;span&gt;);
        
        System.out.println(user);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æŠŠUserå¯¹è±¡è½¬åŒ–ä¸ºjsonæ•°æ®è¾“å‡º&lt;/span&gt;
&lt;span&gt;        converter.write(user, mediaType, out);    
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;ä»£ç éƒ½æœ‰æ³¨è§£ã€‚å¾ˆç®€å•ã€‚æ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡çš„write()æ–¹æ³•è¯»å®¢æˆ·ç«¯å‘é€çš„jsonæ•°æ®ï¼ŒæŠŠjsonæ•°æ®è½¬æ¢ä¸ºUserç±»å¯¹è±¡ï¼Œä¸ºä»€ä¹ˆè¦è½¬æ¢ï¼Ÿï¼ˆæ–¹ä¾¿æˆ‘ä»¬ä»£ç è¿›è¡Œæ“ä½œå’Œç»´æŠ¤ã€‚æ¯”å¦‚æˆ‘ä»¬ç™»é™†æ—¶ï¼Œè¦æŸ¥æ•°æ®åº“çœ‹è¿™ä¸ªuserå­˜åœ¨ä¸ï¼Œè®¾ç½®å…¶ä»–å±æ€§ä»€ä¹ˆçš„ï¼Œæ¯”å¦‚ageã€‚æ‰€ä»¥æ˜¯æœ‰ä¸€å®šéœ€æ±‚çš„ã€‚javaè¯­è¨€æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œè‚¯å®šæ“ä½œjavaå¯¹è±¡æ–¹ä¾¿å¿«æ·ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;ï¼ˆ7ï¼‰è·‘ä¸€ä¸‹ç¨‹åº&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1838259/201911/1838259-20191102223218109-567806677.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å®Œç¾è¿è¡Œï¼Œæ²¡æœ‰å‡ºç°ä¹±ç ï¼Œå¥½äº†ï¼Œæ”¶å·¥ã€‚æ‰“å°å‡ºäº†usernameï¼Œpasswordï¼Œageçš„å†…å®¹ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;6. ç†è§£Spring MVCçš„æ‰§è¡Œæµç¨‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ1ï¼‰ç”¨æˆ·å‘é€è¯·æ±‚åˆ°Spring MVCæ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ2ï¼‰å‰ç«¯æ§åˆ¶å™¨è¯·æ±‚ HandlerMapping æŸ¥æ‰¾ Controllerï¼Œå¯ä»¥æ ¹æ® xml é…ç½®ã€æ³¨è§£è¿›è¡ŒæŸ¥æ‰¾ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ3ï¼‰ å¤„ç†å™¨æ˜ å°„å™¨ HandlerMapping æŸ¥æ‰¾å®Œæˆåå‘æ ¸å¿ƒæ§åˆ¶å™¨è¿”å› Controllerã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ4ï¼‰å‰ç«¯æ§åˆ¶å™¨è°ƒç”¨å¤„ç†å™¨é€‚é…å™¨å»æ‰§è¡Œ Controllerã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ5ï¼‰å¤„ç†å™¨é€‚é…å™¨æ‰§è¡Œ Controllerã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ6ï¼‰Controlleræ‰§è¡Œå®Œæˆåç»™é€‚é…å™¨è¿”å›Â ModelAndViewå¯¹è±¡ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ7ï¼‰å¤„ç†å™¨é€‚é…å™¨å‘å‰ç«¯æ§åˆ¶å™¨è¿”å› ModelAndViewã€‚ModelAndView æ˜¯SpringMVC æ¡†æ¶çš„ä¸€ä¸ªåº•å±‚å¯¹è±¡ï¼ŒåŒ…æ‹¬ Model å’Œ Viewã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ8ï¼‰å‰ç«¯æ§åˆ¶å™¨è¯·æ±‚è¯•å›¾è§£æå™¨å»è¿›è¡Œè§†å›¾è§£ææ ¹æ®é€»è¾‘è§†å›¾åæ¥è§£æçœŸæ­£çš„è§†å›¾ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ9ï¼‰è§†å›¾è§£æå™¨å‘å‰ç«¯æ§åˆ¶å™¨è¿”å› viewã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ10ï¼‰æ ¸å¿ƒæ§åˆ¶å™¨è¿›è¡Œè§†å›¾æ¸²æŸ“ã€‚å°±æ˜¯å°†æ¨¡å‹æ•°æ®ï¼ˆåœ¨ ModelAndView å¯¹è±¡ä¸­ï¼‰å¡«å……åˆ° request åŸŸ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ11ï¼‰æ ¸å¿ƒæ§åˆ¶å™¨å‘ç”¨æˆ·å“åº”ç»“æœã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;7. æ€»ç»“&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ1ï¼‰å¯¼åŒ…ã€‚ä¸åˆ°log4jæ—¥å¿—åŒ…ä¼šå‡ºç°é”™è¯¯ï¼ŒSpringæ¡†æ¶æ”¯æŒlog4jæ—¥å¿—è¾“å‡ºã€‚æ”¯æŒApacheæœåŠ¡çš„åŒ…ä¹Ÿè¦å¯¼å…¥ï¼ˆcom.springresourceï¼‰ã€‚JacksonåŒ…å¯¼å…¨ã€‚Springå¼€å‘åŸºæœ¬åŒ…ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ2ï¼‰åŠ è½½ä¸åˆ°é™æ€èµ„æºï¼Œè¦å¯¹é™æ€èµ„æºæ–‡ä»¶è¿›è¡Œæ”¾è¡Œã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ3ï¼‰Springçš„IoCæœºåˆ¶ï¼Œå¯ä»¥æŠŠå¯¹è±¡äº¤ç»™å®¹å™¨ç®¡ç†ã€‚IoCæ ¸å¿ƒï¼šé€šè¿‡é…ç½®æ–‡ä»¶æˆ–è€…æ˜¯Annonationçš„æ–¹å¼ï¼Œå°†å®ç°ç±»æ³¨å…¥åˆ°è°ƒç”¨è€…é‚£é‡Œå»ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â IoCå®ç°åŸç†ï¼šå·¥å‚æ¨¡å¼+javaåå°„æœºåˆ¶ã€‚IOCå¥½å¤„ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  &lt;span&gt;Â ç¬¬ä¸€ï¼šèµ„æºé›†ä¸­ç®¡ç†ï¼Œå®ç°èµ„æºçš„å¯é…ç½®å’Œæ˜“ç®¡ç†ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â ç¬¬äºŒï¼šé™ä½äº†ä½¿ç”¨èµ„æºåŒæ–¹çš„ä¾èµ–ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„è€¦åˆåº¦ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â ç¬¬ä¸‰ï¼šé€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åšåˆ°æ”¹å˜å®ç°ç±»ï¼Œè€Œä¸æ”¹å˜ä»»ä½•ä¸€ä¸ªè°ƒç”¨è€…çš„ä»£ç ï¼ˆIOCï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ4ï¼‰æœ¬æ¬¡å¼€å‘æˆ‘ä»¬ä½¿ç”¨åˆ°äº†Spring MVCå†…ç½®çš„æ¶ˆæ¯è½¬æ¢å™¨MappingJackson2HttpMessageConverterï¼ˆç”¨äºjavaå¯¹è±¡ä¸jsonæ•°æ®çš„è½¬æ¢ï¼‰ã€‚å…¶å†…éƒ¨å®ç°åŸç†è¿˜æ˜¯ä½¿ç”¨åˆ°äº†Jacksonå¼€å‘åŒ…ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å¯¼å…¥JacksonåŒ…çš„åŸå› ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Jacksonç±»åº“è¿›è¡Œjavaå¯¹è±¡ä¸jsonæ•°æ®çš„è½¬æ¢ï¼ˆæˆ‘çš„å‰å‡ ç¯‡åšå®¢ï¼‰ã€‚è¿™é‡Œè°ƒç”¨å†…ç½®çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£ã€‚Spring MVCçš„æ‰§è¡Œæµç¨‹ï¼Œä»¥åŠåº•å±‚åˆ°åº•æ˜¯æ€ä¹ˆè¿›è¡Œjavaå¯¹è±¡ä¸jsonæ•°æ®çš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åœ¨Spring MVCè‡ªå®šä¹‰è‡ªå·±çš„æ¶ˆæ¯è½¬æ¢å™¨ç±»ï¼Œè®©å…¶å®ç°HttpMessageConverter&amp;lt;T&amp;gt;æ¥å£ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ5ï¼‰æœ¬æ¬¡å¼€å‘çš„å¼ºå¤§ä¹‹å¤„åœ¨äºæ²¡æœ‰ä½¿ç”¨ä»»ä½•Springçš„ä»»ä½•æ³¨è§£ï¼ŒåŸºäºçº¯XMLé…ç½®ï¼Œèµ°åŸç”Ÿæ¨¡å¼ã€‚æ–¹ä¾¿å¤§å®¶äº†è§£åº•å±‚çš„å®ç°åŸç†ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ï¼ˆ6ï¼‰å­¦ä¹ çš„æ—¶å€™å¯ä»¥å¤šå‚è€ƒSpringå’ŒSpring MVCçš„å¼€å‘æ–‡æ¡£ã€‚æœ‰ä¸æ‡‚çš„ç±»å¯ä»¥å‚è€ƒSpring APIæ–‡æ¡£ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â &lt;span&gt;ï¼ˆ7ï¼‰é€šè¿‡æœ¬æ¬¡å¼€å‘ï¼Œå‘ç°Spring MVCçš„ä¼˜ç‚¹ï¼šSpring MVCä¸Springæ— ç¼å¯¹æ¥ï¼Œä½¿ç”¨ç®€å•ï¼Œæ˜“æ‰©å±•ï¼Œçµæ´»æ€§æ¯”è¾ƒå¼ºï¼Œå¯é€‚é…ï¼Œéä¾µå…¥ï¼Œæ¸…æ™°çš„è§’è‰²åˆ’åˆ†ï¼Œå¼ºå¤§çš„é…ç½®æ–¹å¼ï¼Œå¯å®šåˆ¶çš„handler mappingå’Œview resolverã€‚å½“ç„¶æˆ‘è§‰å¾—Spring MVCæœ€å¥½çš„åœ°æ–¹åœ¨äºæä¾›äº†éå¸¸çµæ´»çš„å‚æ•°ç»‘å®šæœºåˆ¶å’Œå¼ºå¤§çš„æ³¨è§£æœºåˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Sat, 02 Nov 2019 15:11:00 +0000</pubDate>
<dc:creator>æˆ‘æƒ³å’Œä½ æ‹ç…§ç‰‡</dc:creator>
<og:description>1. Spring Springæ¡†æ¶æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ä¸ªæ½œåœ¨çš„ä¸€ç«™å¼å•†åº—ï¼Œç”¨äºæ„å»ºä¼ä¸šå°±ç»ªçš„åº”ç”¨ç¨‹åºã€‚Springæ¡†æ¶æ˜¯ä¸€ä¸ªJavaå¹³å°ï¼Œä¸ºå¼€å‘Javaåº”ç”¨ç¨‹åºæä¾›å…¨é¢çš„åŸºç¡€æ¶æ„æ”¯æŒã€‚Spr</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/1314520wly/p/11783149.html</dc:identifier>
</item>
<item>
<title>docker-composeä¸‹çš„javaåº”ç”¨å¯åŠ¨é¡ºåºä¸¤éƒ¨æ›²ä¹‹ä¸€ï¼šé—®é¢˜åˆ†æ - zq2599</title>
<link>http://www.cnblogs.com/bolingcavalry/p/11784526.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bolingcavalry/p/11784526.html</guid>
<description>&lt;p&gt;åœ¨docker-composeç¼–æ’å¤šä¸ªå®¹å™¨æ—¶ï¼Œéœ€è¦æŒ‰å®é™…æƒ…å†µæ§åˆ¶å„å®¹å™¨çš„å¯åŠ¨é¡ºåºï¼Œæœ¬æ–‡æ˜¯ã€Šdocker-composeä¸‹çš„javaåº”ç”¨å¯åŠ¨é¡ºåºä¸¤éƒ¨æ›²ã€‹çš„ç¬¬ä¸€ç¯‡ï¼Œæ–‡ä¸­ä¼šåˆ†æå¯åŠ¨é¡ºåºçš„é‡è¦æ€§ï¼Œä»¥åŠå¯åŠ¨é¡ºåºæœ‰é—®é¢˜æ—¶ä¼šæœ‰ä»€ä¹ˆæ ·çš„å½±å“ï¼Œå†ç»™å‡ºä¸´æ—¶è§£å†³çš„å’Œå®˜æ–¹æ¨èçš„ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸ºä¸‹ä¸€ç¯‡çš„å®æˆ˜åšå¥½é“ºå«ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¯å¢ƒä¿¡æ¯&quot;&gt;ç¯å¢ƒä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;æœ¬æ¬¡å®æˆ˜çš„ç¯å¢ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol readability=&quot;0.44111776447106&quot;&gt;&lt;li&gt;æ“ä½œç³»ç»Ÿï¼šCentOS Linux release 7.7.1908&lt;/li&gt;
&lt;li&gt;dockerï¼š1.13.1&lt;/li&gt;
&lt;li&gt;docker-composeï¼š1.24.1&lt;/li&gt;
&lt;li readability=&quot;3.4326923076923&quot;&gt;
&lt;p&gt;spring cloudï¼šFinchley.RELEASE&lt;/p&gt;
&lt;h3 id=&quot;åˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„ä¾èµ–å…³ç³»&quot;&gt;åˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„ä¾èµ–å…³ç³»&lt;/h3&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œå„æœåŠ¡ä¹‹é—´å¯èƒ½å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œä¾‹å¦‚SpringCloudç¯å¢ƒä¸­çš„åº”ç”¨åœ¨å¯åŠ¨æ—¶éƒ½ä¼šå…ˆå¾€æ³¨å†Œä¸­å¿ƒEurkaå‘èµ·è¯·æ±‚ï¼Œå¦‚ä¸‹å›¾ï¼ˆæ¥è‡ªspringå®˜æ–¹åšå®¢ï¼š&lt;a href=&quot;https://spring.io/blog/2015/07/14/microservices-with-spring&quot; class=&quot;uri&quot;&gt;https://spring.io/blog/2015/07/14/microservices-with-spring&lt;/a&gt; ï¼‰ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221835879-1778694802.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;br/&gt;ä»ä¸Šå›¾å¯çŸ¥ï¼Œå¦‚æœEurekaçš„æœåŠ¡ä¸å¯ç”¨ï¼Œå°±ä¼šå½±å“ä¸šåŠ¡æœåŠ¡çš„åŠŸèƒ½ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;dockerç¯å¢ƒä¸­çš„ä¾èµ–å…³ç³»&quot;&gt;Dockerç¯å¢ƒä¸­çš„ä¾èµ–å…³ç³»&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;ä¸Šè¿°æœåŠ¡å¦‚æœç”¨docker-composeç¼–æ’åœ¨ä¸€èµ·ï¼Œä¹Ÿé¢ä¾èµ–ç€é—®é¢˜ï¼šEurekaå®¹å™¨å¯åŠ¨å®Œæ¯•å¹¶ä¸”èƒ½æä¾›httpæœåŠ¡ä»¥åï¼Œä¸šåŠ¡æœåŠ¡çš„å®¹å™¨æ‰èƒ½åœ¨Eurekaæ³¨å†ŒæˆåŠŸå¹¶å–å¾—æœåŠ¡åˆ—è¡¨ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½ä½¿ç”¨&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°æ¥è®¾å®šä¾èµ–å…³ç³»ï¼›&lt;/li&gt;
&lt;li&gt;ä»¥ä¸‹æ˜¯ä¸ªdocker-compose.ymlæ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªå®¹å™¨ï¼šeurekaå’Œserviceï¼Œeurekaæ˜¯æ³¨å†Œä¸­å¿ƒï¼Œserviceæ˜¯ä¸šåŠ¡æœåŠ¡ï¼Œserviceå¯åŠ¨åè¦å»eurekaæ³¨å†Œï¼Œä¸ºäº†ç¡®ä¿å¯åŠ¨é¡ºåºï¼Œserviceé…ç½®äº†&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;yml&quot;&gt;
&lt;code&gt;version: '3'
services:
  eureka:
    image: bolingcavalry/eureka:0.0.1-SNAPSHOT
    container_name: eureka
    restart: unless-stopped
  service:
    image: bolingcavalry/service:0.0.1-SNAPSHOT
    container_name: service
    restart: unless-stopped
    command: sh -c 'java -Xms1g -Xmx1g -cp /app/resources:/app/classes:/app/libs/* com.bolingcavalry.waitforitdemo.ServiceApplication'
    depends_on:
    - eureka&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;ä¸Šè¿°ymlæ–‡ä»¶èƒ½è§£å†³ä¾èµ–é—®é¢˜å—ï¼ŸserviceæœåŠ¡å¯åŠ¨æ—¶èƒ½å¦æˆåŠŸåœ¨eurekaæ³¨å†Œï¼Ÿæ¥è¯•è¯•å§ï¼Œåœ¨Linuxç”µè„‘ä¸Šåˆ›å»ºdocker-compose.ymlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸Šæ‰€ç¤ºï¼›&lt;/li&gt;
&lt;li&gt;åœ¨docker-compose.ymlæ‰€åœ¨ç›®å½•æ‰§è¡Œ&lt;span&gt;docker-compose up&lt;/span&gt;ï¼ŒdockeræœåŠ¡ä¼šå…ˆå»hub.docker.comä¸‹è½½é•œåƒï¼Œç„¶åä¾æ¬¡åˆ›å»ºå®¹å™¨ï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°eurekaå’Œserviceçš„æ—¥å¿—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œserviceæ³¨å†Œeurekaå¤±è´¥äº†ï¼Œè¯·æ³¨æ„å›¾ä¸­çš„æ–‡å­—åˆ†æï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221843765-528141972.jpg&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/li&gt;
&lt;li&gt;ä¸ºä½•ä¼šæ³¨å†Œå¤±è´¥å‘¢ï¼Ÿç»§ç»­çœ‹åé¢çš„æ—¥å¿—ï¼Œå¦‚ä¸‹å›¾ï¼Œserviceæ³¨å†Œå¤±è´¥åeurekaæ‰åˆå§‹åŒ–å®Œæˆï¼Œæ‰€ä»¥å‰é¢çš„serviceæ³¨å†Œä¼šå¤±è´¥ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221851480-965889285.jpg&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/li&gt;
&lt;li&gt;è‡³æ­¤å¯ä»¥ç¡®å®šï¼š&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°å¯ä»¥ç¡®ä¿eurekaå®¹å™¨å¯åŠ¨åå†å¯åŠ¨serviceå®¹å™¨ï¼Œä½†æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„ï¼Œæ˜¯eurekaå®¹å™¨å¯åŠ¨åï¼Œå¹¶ä¸”eurekaæœåŠ¡åˆå§‹åŒ–å®Œæ¯•è¿›å…¥å¯ç”¨çŠ¶æ€åï¼Œå†å¯åŠ¨serviceå®¹å™¨ï¼Œæ˜¾ç„¶&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°è¾¾ä¸åˆ°æˆ‘ä»¬çš„è¦æ±‚ï¼›&lt;/li&gt;
&lt;li&gt;dockerå®˜æ–¹æ–‡æ¡£ä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221853919-603146173.jpg&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/li&gt;
&lt;li&gt;çœ‹æ¥&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°è§£å†³ä¸äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œéœ€è¦å»å¯»æ‰¾å…¶ä»–æ–¹æ³•ï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¦å¤–æ‚¨å¯èƒ½ä¼šè¯´ï¼šæ²¡å…³ç³»ï¼Œserviceä¼šè‡ªåŠ¨é‡æ–°æ³¨å†Œï¼Œä½†æ˜¯åœ¨çœŸå®ç¯å¢ƒä¸­ï¼Œä¸æ˜¯æ¯ä¸ªæœåŠ¡éƒ½æœ‰èƒ½åŠ›å»è‡ªå·±è§£å†³ä¾èµ–ä¸å¯ç”¨çš„é—®é¢˜ï¼Œä¾‹å¦‚spring-cloud-configæœåŠ¡å¦‚æœèµ·ä¸æ¥ï¼Œä¾èµ–å®ƒçš„æœåŠ¡å¯èƒ½ä¼šç«‹å³åœæ­¢ï¼›&lt;/p&gt;
&lt;h3 id=&quot;æœ‰ä¸€ç§ä¸´æ—¶æ–¹æ³•æ­¤æ–¹æ³•v3ç‰ˆè¯­æ³•ä¸å†æ”¯æŒ&quot;&gt;æœ‰ä¸€ç§ä¸´æ—¶æ–¹æ³•(æ­¤æ–¹æ³•V3ç‰ˆè¯­æ³•ä¸å†æ”¯æŒ)&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;å¦‚æœeurekaå®¹å™¨é…ç½®äº†å¥åº·æ£€æŸ¥ï¼Œé‚£ä¹ˆserviceå®¹å™¨å¯ä»¥é…ç½®å¥åº·æ£€æŸ¥ä¾èµ–æ¥æ§åˆ¶å¯åŠ¨æ—¶æœºï¼Œå…·ä½“çš„åšæ³•å¯ä»¥å‚è€ƒå®˜æ–¹ç¤ºä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œåœ°å€æ˜¯ï¼š&lt;a href=&quot;https://docs.docker.com/compose/compose-file/compose-file-v2/&quot; class=&quot;uri&quot;&gt;https://docs.docker.com/compose/compose-file/compose-file-v2/&lt;/a&gt; ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;yml&quot;&gt;
&lt;code&gt;version: &quot;2.4&quot;
services:
  web:
    build: .
    depends_on:
      db:
        condition: service_healthy
      redis:
        condition: service_started
  redis:
    image: redis
  db:
    image: redis
    healthcheck:
      test: &quot;exit 0&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»ä¸Šè¿°ç¼–æ’å†…å®¹å¯è§ï¼šdbå®¹å™¨æœ‰å¥åº·æ£€æŸ¥ï¼Œå¯ä»¥ç¡®å®šdbå®¹å™¨çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œwebå®¹å™¨çš„&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°å†…å¯ä»¥é…ç½®&lt;span&gt;condition&lt;/span&gt;ï¼Œè¿™æ ·å°±åšåˆ°äº†åªæœ‰rediså·²ç»å¯åŠ¨å¹¶ä¸”dbçš„å¥åº·æ£€æŸ¥é€šè¿‡ï¼Œæ‰ä¼šå¯åŠ¨webå®¹å™¨ï¼›&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ä¸Šè¿°é…ç½®çœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä¸ªä¸é”™çš„æ–¹æ¡ˆï¼Œåœ¨æˆ‘ä»¬è¿™é‡Œï¼Œåªè¦ç»™eurekaé…ç½®è¦å¥åº·æ£€æŸ¥ï¼Œå†è®©serviceå®¹å™¨çš„&lt;span&gt;depends_on&lt;/span&gt;å‚æ•°å†…é…ç½®&lt;span&gt;condition: service_healthy&lt;/span&gt;å°±å¯ä»¥äº†ï¼›&lt;/li&gt;
&lt;li&gt;ä¸å¹¸çš„æ˜¯ï¼š&lt;span&gt;åœ¨docker-composeçš„ç¬¬ä¸‰ç‰ˆè¯­æ³•ä¸­ï¼Œå–æ¶ˆäº†conditionå‚æ•°ï¼&lt;/span&gt;æ–‡æ¡£åœ°å€æ˜¯ï¼š&lt;a href=&quot;https://docs.docker.com/compose/compose-file/&quot; class=&quot;uri&quot;&gt;https://docs.docker.com/compose/compose-file/&lt;/a&gt; ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221855407-1501492376.jpg&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œconditionå‚æ•°çœ‹ä¼¼å¥½ç”¨ï¼Œä½†æ˜¯ä»V3ç‰ˆå¼€å§‹çš„docker-compose.ymlå·²ç»ä¸å†æ”¯æŒè¯¥å‚æ•°ï¼Œä¸èƒ½ä½œä¸ºæ ‡å‡†çš„è§£å†³æ–¹æ¡ˆï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;å®˜æ–¹æ¨èçš„æ–¹æ¡ˆ&quot;&gt;å®˜æ–¹æ¨èçš„æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼Œdockerå®˜æ–¹æ¨èä½¿ç”¨&lt;span&gt;wait-for-it.sh&lt;/span&gt;è„šæœ¬æ¥è§£å†³é—®é¢˜ï¼Œåœ°å€ï¼š&lt;a href=&quot;https://docs.docker.com/compose/startup-order/&quot; class=&quot;uri&quot;&gt;https://docs.docker.com/compose/startup-order/&lt;/a&gt; ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/485422/201911/485422-20191102221857519-483696451.jpg&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;/&gt;&lt;br/&gt;è‡³æ­¤ï¼Œæœ¬ç¯‡å·²ç»åˆ†æäº†docker-composeä¸‹å®¹å™¨å¯åŠ¨é¡ºåºçš„é—®é¢˜ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ç”¨SpringCloudåº”ç”¨æ¥åšå®æˆ˜ï¼Œå°†å…¶åšåˆ°åœ¨docker-composeä¸‹æœ‰åºå¯åŠ¨ï¼›&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒæ–‡ç« &quot;&gt;å‚è€ƒæ–‡ç« &lt;/h3&gt;
&lt;p&gt;å¦‚æœæ‚¨å¯¹dockerå®¹å™¨å¥åº·æ£€æŸ¥æœ‰å…´è¶£ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š&lt;/p&gt;
&lt;ol readability=&quot;-0.68115942028985&quot;&gt;&lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/boling_cavalry/article/details/102641942&quot;&gt;ã€Šæé€Ÿä½“éªŒdockerå®¹å™¨å¥åº·ã€‹&lt;/a&gt;ï¼›&lt;/li&gt;
&lt;li readability=&quot;-0.43877551020408&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/boling_cavalry/article/details/102649435&quot;&gt;ã€ŠJavaåº”ç”¨åœ¨dockerç¯å¢ƒé…ç½®å®¹å™¨å¥åº·æ£€æŸ¥ã€‹&lt;/a&gt;ï¼›&lt;/p&gt;
&lt;h3 id=&quot;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ç¨‹åºå‘˜æ¬£å®¸&quot;&gt;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¬£å®¸&lt;/h3&gt;
&lt;/li&gt;
&lt;/ol&gt;</description>
<pubDate>Sat, 02 Nov 2019 14:19:00 +0000</pubDate>
<dc:creator>zq2599</dc:creator>
<og:description>åœ¨docker composeç¼–æ’å¤šä¸ªå®¹å™¨æ—¶ï¼Œéœ€è¦æŒ‰å®é™…æƒ…å†µæ§åˆ¶å„å®¹å™¨çš„å¯åŠ¨é¡ºåºï¼Œæœ¬æ–‡æ˜¯ã€Šdocker composeä¸‹çš„javaåº”ç”¨å¯åŠ¨é¡ºåºä¸¤éƒ¨æ›²ã€‹çš„ç¬¬ä¸€ç¯‡ï¼Œæ–‡ä¸­ä¼šåˆ†æå¯åŠ¨é¡ºåºçš„é‡è¦æ€§ï¼Œä»¥åŠå¯åŠ¨é¡ºåº</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bolingcavalry/p/11784526.html</dc:identifier>
</item>
<item>
<title>å…¬ç†è®¾è®¡-ç”±å¥‡æ€ªæµ·æˆ˜å¼•å‘çš„è½¯ä»¶è®¾è®¡æ€è€ƒ - ç¨‹åºå‘˜å†å°å†°</title>
<link>http://www.cnblogs.com/remcarpediem/p/11784470.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/remcarpediem/p/11784470.html</guid>
<description>&lt;p class=&quot;line&quot; data-line=&quot;0&quot;&gt;å‰å‡ å¤©çœ‹åˆ°äº†ä¸€ä¸ªåšå®¢ï¼Œæ¨èäº†ã€Šå…¬ç†è®¾è®¡ã€‹ä¸€ä¹¦ï¼Œè¿˜æœ‰å…¶ç›¸å…³çš„&lt;a href=&quot;http://blog.sciencenet.cn/home.php?mod=attachment&amp;amp;id=40989&quot; target=&quot;_blank&quot;&gt;æ–‡æ¡£&lt;/a&gt;ä»¥åŠ&lt;a href=&quot;https://www.jianshu.com/[https://www.bilibili.com/video/av74189173/](https://www.bilibili.com/video/av74189173/)&quot; target=&quot;_blank&quot;&gt;è§†é¢‘&lt;/a&gt;ã€‚ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå¢æ·±äº†ä¸€äº›å¯¹è½¯ä»¶è®¾è®¡çš„ç†è§£ï¼Œç‰¹æ­¤ä¹Ÿæ¨èç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;3&quot;&gt;å…¬ç†è®¾è®¡ç†è®ºå°†è®¾è®¡å»ºç«‹åœ¨ç§‘å­¦å…¬ç†ã€å®šç†å’Œæ¨è®ºçš„åŸºç¡€ä¸Šï¼Œç”±éº»çœç†å·¥å­¦é™¢æ•™æˆ Nam. P. Suh é¢†å¯¼çš„ç ”ç©¶å°ç»„äº 1978 å¹´æå‡ºï¼Œé€‚ç”¨äºå„ç§ç±»åˆ«çš„è®¾è®¡æ´»åŠ¨ã€‚è½¯ä»¶è®¾è®¡å½“ç„¶ä¹Ÿå±äºä¸€ç±»å·¥ç¨‹è®¾è®¡è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ä¸¤è€…çš„å…³è”ã€‚&lt;/p&gt;
&lt;h3 class=&quot;line&quot; data-line=&quot;5&quot;&gt;å¥‡æ€ªçš„æµ·æˆ˜&lt;/h3&gt;
&lt;p class=&quot;line&quot; data-line=&quot;7&quot;&gt;é¦–å…ˆä»1862å¹´11æœˆ13æ—¥çš„ä¸€åœºæµ·æˆ˜è®²èµ·ã€‚è¿™åœºæµ·æˆ˜â€œæ ‡å¿—ç€è’¸æ±½åŠ¨åŠ›é“ç”²èˆ°æ–°æ—¶ä»£çš„åˆ°æ¥ã€‚ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘è¿™é‡Œå¯¹èˆ°èˆ¹åç§°è¿›è¡Œäº†ä¿®æ”¹ï¼Œæƒ³äº†è§£çš„æœ‹å‹å¯ä»¥ç™¾åº¦ U.S.S. Monitor battles C.S.S. Virginia.&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;9&quot;&gt;å—æ–¹å›å†›çš„å¤§å¤§å·æˆ˜èˆ°ï¼Œä½“å‹åºå¤§ï¼Œéå¸¸å‡¶æ‚ã€‚å·²ç»å‡»æ²‰äº†ä¸¤è‰˜è”é‚¦å†›èˆ°ã€‚åŒ—æ–¹æ”¿åºœå†›åˆ™åªæ´¾å‡ºå°å°å·ï¼Œä¸€è‰˜éå¸¸å°ï¼Œç«åŠ›ä¹Ÿå°å¤šçš„å†›èˆ°ã€‚&lt;/p&gt;
&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102215932768-1671304879.jpg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;line&quot; data-line=&quot;13&quot;&gt;å¤§å¤§å·é¡¾åæ€ä¹‰ï¼Œå®ƒèˆ¹ä½“ç‰¹åˆ«çš„å¤§ï¼Œä½†æ˜¯éƒ½æ˜¯å›ºå®šç‚®å¡”ï¼Œä¸¤ä¾§å’Œé¦–å°¾æœ‰å¾ˆå¤šé—¨ç‚®ã€‚è€Œå°å°å·è™½ç„¶å°ï¼Œå´æœ‰ä¸€ä¸ªå¯ä»¥æ—‹è½¬çš„ç‚®å°ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;15&quot;&gt;æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¸€æ¡æˆ˜èˆ°éœ€è¦æœ‰ä¸¤ä¸ªåŸºç¡€åŠŸèƒ½ï¼šè°ƒæ•´èˆªè¡Œæ–¹å‘å’Œè°ƒæ•´ç‚®å‡»æ–¹å‘ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;17&quot;&gt;å¯¹äºå¤§å¤§å·ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½éœ€æ±‚æ˜¯è€¦åˆ couple çš„ï¼Œè¦æ”¹å˜ç‚®å‡»æ–¹å‘ï¼Œå°±éœ€è¦å°†èˆ¹åªè½¬å‘ã€‚è€Œå¯¹äºå°å°å·ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½éœ€æ±‚åˆ™æ˜¯è§£è€¦åˆ decouple çš„ï¼Œèˆªè¡Œæ–¹å‘ä¸ç‚®å‡»æ–¹å‘æ— å…³ï¼Œç‚®å‡»æ–¹å‘å¯ä»¥ç‹¬ç«‹è°ƒæ•´ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;19&quot;&gt;äºæ˜¯å°å°å·ä¸€ç›´å°½é‡å®ˆåœ¨å¤§å¤§å·çš„å°„å‡»æ­»è§’æ”»å‡»ï¼Œè€Œå¤§å¤§å·è™½ç„¶ç«åŠ›çŒ›çƒˆåˆ™å¿…é¡»ä¸æ–­é€šè¿‡æ”¹å˜èˆªçº¿æ¥è°ƒæ•´ç‚®å‡»æ–¹å‘ï¼Œäºæ˜¯å°±ä¸æ–­ç»•åœˆã€‚è¿™ä¸¤æ¡èˆ¹æ‰“äº†4ä¸ªå°æ—¶ï¼Œå¤§å¤§å·ä¸å¾—ä¸æ’¤é€€äº†ï¼Œå°å°å·è·å¾—äº†èƒœåˆ©ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;21&quot;&gt;ç”±æ­¤å¯è§åŠŸèƒ½ä¹‹é—´çš„è§£è€¦ååˆ†é‡è¦ï¼Œå®ƒå¢åŠ äº†ä¾¿æ·æ€§å’Œçµæ´»æ€§ã€‚&lt;/p&gt;
&lt;h3 class=&quot;line&quot; data-line=&quot;23&quot;&gt;å·¥ç§‘ç”Ÿæœ€çˆ±çš„æ˜ å°„çŸ©é˜µ&lt;/h3&gt;
&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102215946934-1599221623.jpg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;line&quot; data-line=&quot;27&quot;&gt;â€‹ä¹¦ä¸­ç”±æµ·æˆ˜ä½œä¸ºå¼•å­ï¼Œä»‹ç»äº†è®¾è®¡è¿‡ç¨‹ä¸­çš„å››ä¸ªåŸŸï¼ˆDomainï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;CNsï¼šCustomer Needsï¼Œå®¢æˆ·åŸŸï¼Œå°±æ˜¯å®¢æˆ·æè¿°çš„ä¸€å¤§å †è‡ªç„¶è¯­è¨€ä¹Ÿè¯´ä¸æ¸…æ¥šçš„äº‹æƒ…ï¼Œä»€ä¹ˆé«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡ä¹‹ç±»çš„ä¸œè¥¿ã€‚&lt;/li&gt;
&lt;li&gt;FRsï¼šFunctional Requirementsï¼ŒåŠŸèƒ½åŸŸï¼Œä» CNs åŸŸåˆ° FRs åŸŸçš„å˜æ¢ï¼Œå°±æ˜¯æŠŠå®¢æˆ·æ¼«æ— è¾¹é™…çš„éœ€æ±‚ç¿»è¯‘æˆä¸€äº›å¯å®šé‡çš„å‚æ•°ï¼Œæ¯”å¦‚æˆ˜èˆ°æ§åˆ¶ç³»ç»Ÿçš„ FR æ˜¯æ§åˆ¶èˆªè¡Œæ–¹å‘å’Œæ§åˆ¶å¼€ç‚®æ–¹å‘ã€‚&lt;/li&gt;
&lt;li&gt;DPsï¼šDesign Parametersï¼Œè®¾è®¡å‚æ•°ï¼Œæˆ–è€…å«ç‰©ç†åŸŸï¼Œå®ç° FRs çš„ç‰©ç†å‚æ•°ï¼Œæ¯”å¦‚èˆªå‘æ§åˆ¶å™¨å’Œç‚®å¡”æ§åˆ¶å™¨ã€‚&lt;/li&gt;
&lt;li&gt;PVsï¼šProcess Variablesï¼Œè¿‡ç¨‹å˜é‡ï¼Œæˆ–è€…å«è¿‡ç¨‹åŸŸï¼Œæ˜¯æè¿°å®ç°åŠŸèƒ½è¿‡ç¨‹ä¸­æ¶‰åŠçš„è¿‡ç¨‹å˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p class=&quot;line&quot; data-line=&quot;35&quot;&gt;ç›¸é‚»åŸŸä¹‹é—´çš„æ˜ å°„ï¼Œå¯ä»¥çœ‹æˆç›®æ ‡ï¼ˆåšä»€ä¹ˆï¼Ÿï¼‰å’Œæ‰‹æ®µï¼ˆæ€æ ·åšï¼Ÿï¼‰ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚è®¾è®¡è¿‡ç¨‹æ˜¯ç›¸é‚»åŸŸä¸­ç‰¹å¾å‘é‡ä¹‹é—´æ˜ å°„å’Œè½¬æ¢è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;37&quot;&gt;ä¾‹å¦‚ï¼Œç”¨æˆ·åŸŸå…ƒç´ æ˜ å°„åˆ°åŠŸèƒ½åŸŸçš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯å°†ç”¨æˆ·éœ€æ±‚è½¬å˜æˆäº§å“åŠŸèƒ½è¦ç´ çš„è¿‡ç¨‹ï¼Œå³äº§å“è§„åˆ’ï¼›åŠŸèƒ½åŸŸå‘ç‰©ç†åŸŸçš„æ˜ å°„è¿‡ç¨‹æ˜¯äº§å“çš„è®¾è®¡è¿‡ç¨‹ï¼›ä»ç‰©ç†åŸŸåˆ°è¿‡ç¨‹åŸŸçš„æ˜ å°„åˆ™å¯çœ‹æˆâ€œåŠ å·¥äº§å“â€çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;39&quot;&gt;å…¶ä¸­æœ€ä¸ºé‡è¦çš„æ˜¯FRsï¼ˆåŠŸèƒ½éœ€æ±‚ï¼‰åˆ°DPsï¼ˆè®¾è®¡å‚æ•°ï¼‰çš„æ˜ å°„ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­æœ€é•¿æ¥è§¦çš„æ­¥éª¤ï¼Œéœ€æ±‚æ–‡æ¡£æœ‰äº†ï¼Œå¦‚ä½•è¿›è¡Œä»£ç è®¾è®¡å¹¶å®ç°ã€‚&lt;/p&gt;
&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102220005167-521259059.jpg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;line&quot; data-line=&quot;43&quot;&gt;ä¹¦ä¸­ä»¥çŸ©é˜µå‘é‡çš„æ–¹å¼è®²è¿°äº† FRs (åŠŸèƒ½éœ€æ±‚) å’Œ DPs (è®¾è®¡å‚æ•°) çš„æ˜ å°„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­ç”± A å˜é‡ç»„æˆçš„çŸ©é˜µä»£è¡¨ç€ FPs åˆ° DPs çš„æ˜ å°„ã€‚ä¸åŒçš„çŸ©é˜µä»£è¡¨ç€ä¸åŒçš„æ˜ å°„å…³ç³»ï¼Œå…¶å®æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒçŸ©é˜µå„ä¸ªä½ç½®çš„å…·ä½“å€¼å¦‚ä½•è®¡ç®—ï¼Œåªéœ€ç®€åŒ–çš„äº†è§£å¦‚æœ FP å’Œ DP æœ‰å…³è”ï¼Œåˆ™çŸ©é˜µç›¸åº”ä½ç½®ä¸Šçš„å€¼ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´å°å°å·ä¸Šçš„æƒ…å†µï¼Œæœ‰ä¸¤ä¸ªåŠŸèƒ½éœ€è¦ï¼šFR1ï¼ˆè°ƒæ•´èˆªå‘ï¼‰å’ŒFR2ï¼ˆè°ƒæ•´å¼€ç‚®æ–¹å‘ï¼‰ï¼›ä»¥åŠä¸¤ä¸ªè®¾è®¡å‚æ•°ï¼šDP1ï¼ˆèˆ¹èˆµï¼‰å’ŒDP2ï¼ˆæ—‹è½¬ç‚®å¡”ï¼‰&lt;/p&gt;

&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102220028934-1130714178.jpg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;line&quot; data-line=&quot;48&quot;&gt;å…¶ä¸­è½¬åŠ¨èˆ¹èˆµçš„æ—¶å€™ï¼Œèˆ¹ä¼šè½¬å‘ï¼Œæ‰€ä»¥A11è¿™é‡Œæ˜¯Xï¼ŒåŒæ—¶èˆ¹èº«ä¸Šçš„ç‚®å¡”ä¹Ÿè·Ÿç€èˆ¹ä¸€èµ·è½¬å‘ï¼Œæ‰€ä»¥ä¹Ÿå½±å“å¼€ç‚®æ–¹å‘FR2ï¼Œå› æ­¤A21ä¹Ÿæ˜¯Xã€‚ è€Œåœ¨æ—‹è½¬ç‚®å¡”çš„æ—¶å€™ï¼Œä¸å½±å“èˆ¹çš„èˆªè¡Œæ–¹å‘ï¼Œæ‰€ä»¥A12è¿™é‡Œæ˜¯0ã€‚&lt;/p&gt;
&lt;h3 class=&quot;line&quot; data-line=&quot;50&quot;&gt;å¥½çš„è®¾è®¡ï¼Ÿ&lt;/h3&gt;
&lt;p class=&quot;line&quot; data-line=&quot;52&quot;&gt;æ‰€ä»¥ï¼ŒåŸºäºä¸Šè¾¹è¿™ä¸ªæ˜ å°„çŸ©é˜µï¼Œå¥½çš„è®¾è®¡åº”è¯¥æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é¦–å…ˆFRsï¼ˆåŠŸèƒ½éœ€æ±‚ï¼‰çš„æ•°é‡Nï¼Œåº”å½“ç­‰äºDPs (è®¾è®¡å‚æ•°ï¼‰çš„æ•°é‡Mã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªFRï¼ˆåŠŸèƒ½éœ€æ±‚ï¼‰ä¸ä¸”åªä¸ä¸€ä¸ªDPï¼ˆè®¾è®¡å‚æ•°ï¼‰ç›¸äº’å…³è”ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p class=&quot;line&quot; data-line=&quot;56&quot;&gt;ä¹Ÿå°±æ˜¯è¯´æ˜ å°„çŸ©é˜µæ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œå¯¹è§’çº¿ä¸Šæœ‰å€¼ï¼Œå…¶ä»–ä½ç½®éƒ½æ˜¯0ã€‚ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¸­ä¹ŸæåŠäº†ç±»ä¼¼çš„æ€æƒ³ï¼Œä¹Ÿå°±æ˜¯æ­£äº¤æ€§ä¸€èŠ‚ã€‚é‚£ä¸€èŠ‚çš„æç¤ºæ˜¯æ¶ˆé™¤æ— å…³äº‹åŠ¡ä¹‹é—´çš„å½±å“ï¼Œæ­£å¥½å’Œè¿™é‡Œæ˜ å°„çŸ©é˜µæ˜¯å¯¹è§’çŸ©é˜µä¸è°‹è€Œåˆã€‚å½“æ˜ å°„ä¸¾è¯æ˜¯å¯¹è§’çŸ©é˜µæ—¶ï¼Œè¯´æ˜ FR å’Œ DP ä¸€ä¸€å¯¹åº”ï¼Œä¸ä¼šæœ‰äº¤å‰å½±å“ã€‚å½“æŸä¸€ä¸ª FRä¹Ÿå°±æ˜¯éœ€æ±‚å‘ç”Ÿå˜æ›´æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€ä¸ªDPã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶å¯¹è§’çŸ©é˜µå±äºæ¯”è¾ƒç†æƒ³çš„æƒ…å†µï¼Œä¹¦ä¸­ä¹Ÿç½—åˆ—äº†ä¸€äº›å…¶ä»–ç±»å‹çš„æ˜ å°„çŸ©é˜µã€‚&lt;/p&gt;

&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102220042674-860793898.jpg&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­æœ€å·®çš„æƒ…å†µæ˜¯ FRsï¼ˆåŠŸèƒ½éœ€æ±‚ï¼‰çš„æ•°é‡Nï¼Œå°äº DPs(è®¾è®¡å‚æ•°ï¼‰çš„æ•°é‡Mã€‚ä¹Ÿå°±æ˜¯å¤§å¤§å·ä¸­çš„æƒ…æ™¯ï¼šå®ƒæœ‰ä¸¤ä¸ªåŠŸèƒ½éœ€æ±‚ï¼ŒFR1 è°ƒæ•´èˆªå‘&lt;br/&gt;å’ŒFR2 è°ƒæ•´å¼€ç‚®æ–¹å‘ï¼Œä½†åªæœ‰ä¸€ä¸ªDP1 èˆ¹èˆµã€‚æ‰€ä»¥å®ƒçš„æ˜ å°„çŸ©é˜µå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102220054459-660576669.png&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;line&quot; data-line=&quot;65&quot;&gt;ä¹¦ä¸­è¿˜ç»§ç»­è®²è§£äº†çŸ©é˜µåˆ†è§£çš„çŸ¥è¯†ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”äº†éœ€æ±‚åŠŸèƒ½ç‚¹ç»†åˆ†åˆ°è½¯ä»¶è¯¦ç»†è®¾è®¡ç»†åˆ†ç­‰éƒ¨åˆ†çš„å†…å®¹ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªå·±å»çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;h3 class=&quot;line&quot; data-line=&quot;67&quot;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p class=&quot;line&quot; data-line=&quot;69&quot;&gt;æ‰€ä»¥ä¹¦ä¸­æœ€åç»™å‡ºä¸¤ä¸ªå…¬é‡Œï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç‹¬ç«‹å…¬ç†ï¼ˆåŠŸèƒ½ç‹¬ç«‹æ€§å…¬ç†)&lt;/li&gt;
&lt;li&gt;ä¿¡æ¯å…¬ç†ï¼ˆä¿¡æ¯é‡æœ€å°‘å…¬ç†ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;p class=&quot;line&quot; data-line=&quot;73&quot;&gt;è¿™ä¸æ­£æ˜¯è½¯ä»¶è®¾è®¡ä¸­ç»å¸¸æåŠçš„æ¾è€¦åˆå’Œé«˜å†…èšå˜›ã€‚æ¨¡å—ç›¸äº’ç‹¬ç«‹äº’ä¸å½±å“å°±æ˜¯æ¾è€¦åˆï¼Œæœ€å°åŒ–ä¿¡æ¯é‡å°±æ˜¯ä¸å¯¹å¤–æš´éœ²è¿‡å¤šä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯é«˜å†…èšæˆ–è€…ä¿¡æ¯éšè—ã€‚&lt;/p&gt;
&lt;p class=&quot;line&quot; data-line=&quot;75&quot;&gt;&lt;a href=&quot;http://remcarpediem.net/article/f4b7b3d6/&quot; target=&quot;_blank&quot;&gt;æˆ‘çš„åšå®¢ï¼Œæ¬¢è¿æ¥ç©&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;image-package&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1816118/201911/1816118-20191102220110658-316787274.png&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
</description>
<pubDate>Sat, 02 Nov 2019 14:03:00 +0000</pubDate>
<dc:creator>ç¨‹åºå‘˜å†å°å†°</dc:creator>
<og:description>å…¬ç†è®¾è®¡ç†è®ºå°†è®¾è®¡å»ºç«‹åœ¨ç§‘å­¦å…¬ç†ã€å®šç†å’Œæ¨è®ºçš„åŸºç¡€ä¸Šï¼Œç”±éº»çœç†å·¥å­¦é™¢æ•™æˆ Nam. P. Suh é¢†å¯¼çš„ç ”ç©¶å°ç»„äº 1978 å¹´æå‡ºï¼Œé€‚ç”¨äºå„ç§ç±»åˆ«çš„è®¾è®¡æ´»åŠ¨ã€‚è½¯ä»¶è®¾è®¡å½“ç„¶ä¹Ÿå±äºä¸€ç±»å·¥ç¨‹è®¾è®¡è¿‡ç¨‹ï¼Œä¸‹é¢</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/remcarpediem/p/11784470.html</dc:identifier>
</item>
<item>
<title>springæºç å­¦ä¹ ï¼ˆäºŒï¼‰ - å°å°å°‘å¹´-</title>
<link>http://www.cnblogs.com/mpyn/p/11784232.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mpyn/p/11784232.html</guid>
<description>&lt;p&gt;æœ¬ç¯‡æ–‡ç« ï¼Œæ¥ä»‹ç»finishBeanFactoryInitialization(beanFactory);è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯å®Œæˆbeançš„å®ä¾‹åŒ–ï¼Œ&lt;/p&gt;
&lt;p&gt;invokeBeanFactoryPostProcessors(beanFactory);è´Ÿè´£æŠŠæ‰€æœ‰çš„beanæ‰«æåˆ°beanDefinitionMapä¸­ï¼›&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æ¥è¯´æ˜¯å¦‚ä½•åˆå§‹åŒ–çš„&lt;/p&gt;
&lt;p&gt;org.springframework.beans.factory.support.AbstractBeanFactory#doGetBean&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç›´æ¥ä»è¿™ä¸ªæ–¹æ³•å¼€å§‹è¯´èµ·ï¼Œå‰é¢çš„è°ƒç”¨é“¾ç®€å•ï¼Œå°±ä¸è¯´äº†&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;59&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;protected&lt;/span&gt; &amp;lt;T&amp;gt; T doGetBean(&lt;span&gt;final&lt;/span&gt; String name, @Nullable &lt;span&gt;final&lt;/span&gt; Class&amp;lt;T&amp;gt;&lt;span&gt; requiredType,
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;             @Nullable &lt;span&gt;final&lt;/span&gt; Object[] args, &lt;span&gt;boolean&lt;/span&gt; typeCheckOnly) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt;     &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;     * é€šè¿‡nameè·å–beanName,è¿™é‡Œä¸ä½¿ç”¨nameç›´æ¥ä½œä¸ºbeanNameæœ‰ä¸¤ä¸ªåŸå› ï¼š
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;     *  1.nameå¯èƒ½æ˜¯ä»¥&amp;amp;å¼€å¤´çš„ï¼Œè¡¨æ˜è°ƒç”¨è€…æƒ³è·å–FactoryBeanæœ¬èº«ï¼Œè€ŒéFactoryBean;åœ¨beanFactoryä¸­factoryBeançš„å­˜å‚¨ä¹Ÿæ˜¯mapæ ¼å¼
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;     *    &amp;lt;beanName,bean&amp;gt; åªæ˜¯è¯´ï¼Œæ™®é€šçš„beanNameæ˜¯æ²¡æœ‰&amp;amp;è¿™ä¸ªå­—ç¬¦ä¸²çš„ï¼Œæ‰€ä»¥ï¼Œéœ€è¦å°†nameçš„é¦–å­—æ¯ç§»é™¤ï¼Œè¿™æ ·æ‰èƒ½ä»ç¼“å­˜ä¸­æ‹¿åˆ°factoryBean
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;     *  2.è¿˜æ˜¯åˆ«åçš„é—®é¢˜ï¼Œéœ€è¦è½¬æ¢
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;     &lt;span&gt;final&lt;/span&gt; String beanName =&lt;span&gt; transformedBeanName(name);
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;    Object bean;
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; 
&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt; &lt;span&gt;     * 1.ä»å•ä¾‹æ± ä¸­è·å–å½“å‰bean
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; &lt;span&gt;     * 2.è¿™é‡Œæ˜¯å¾ªç¯ä¾èµ–çš„é‡è¦æ–¹æ³•ä¹‹ä¸€
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;     *
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Eagerly check singleton cache for manually registered singletons.&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;     Object sharedInstance =&lt;span&gt; getSingleton(beanName);
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (sharedInstance != &lt;span&gt;null&lt;/span&gt; &amp;amp;&amp;amp; args == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (logger.isDebugEnabled()) {
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isSingletonCurrentlyInCreation(beanName)) {
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;                 logger.debug(&quot;Returning eagerly cached instance of singleton bean '&quot; + beanName +
&lt;span&gt;24&lt;/span&gt;                         &quot;' that is not fully initialized yet - a consequence of a circular reference&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;             &lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;                 logger.debug(&quot;Returning cached instance of singleton bean '&quot; + beanName + &quot;'&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;         bean = getObjectForBeanInstance(sharedInstance, name, beanName, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; 
&lt;span&gt;33&lt;/span&gt;     &lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Fail if we're already creating this bean instance:
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; We're assumably within a circular reference.&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt;         &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt;37&lt;/span&gt; &lt;span&gt;         * è¿™é‡Œåˆ¤æ–­beanæ˜¯å¦åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œæ˜¯ç¬¬äºŒæ¬¡è°ƒç”¨çš„æ—¶å€™ æ‰ä¼šåˆ¤æ–­ï¼›å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°è¿™é‡Œï¼Œseté›†åˆæ˜¯ç©ºï¼ˆè¿™é‡Œåˆ¤æ–­çš„æ˜¯åŸå‹beanï¼‰
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;          &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;39&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isPrototypeCurrentlyInCreation(beanName)) {
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BeanCurrentlyInCreationException(beanName);
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt; 
&lt;span&gt;43&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ·»åŠ åˆ°alreadyCreatedé›†åˆå½“ä¸­ï¼Œè¡¨ç¤ºå½“å‰beanå·²ç»åˆ›å»ºè¿‡ä¸€æ¬¡äº†&lt;/span&gt;
&lt;span&gt;44&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;typeCheckOnly) {
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;            markBeanAsCreated(beanName);
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; 
&lt;span&gt;48&lt;/span&gt;         &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;             &lt;span&gt;final&lt;/span&gt; RootBeanDefinition mbd =&lt;span&gt; getMergedLocalBeanDefinition(beanName);
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt; &lt;span&gt;            checkMergedBeanDefinition(mbd, beanName, args);
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt; 
&lt;span&gt;52&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Guarantee initialization of beans that the current bean depends on.&lt;/span&gt;
&lt;span&gt;53&lt;/span&gt;             String[] dependsOn =&lt;span&gt; mbd.getDependsOn();
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (dependsOn != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;                 &lt;span&gt;for&lt;/span&gt;&lt;span&gt; (String dep : dependsOn) {
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt;                     &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isDependent(beanName, dep)) {
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt;                         &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BeanCreationException(mbd.getResourceDescription(), beanName,
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt;                                 &quot;Circular depends-on relationship between '&quot; + beanName + &quot;' and '&quot; + dep + &quot;'&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;                    registerDependentBean(dep, beanName);
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;62&lt;/span&gt; &lt;span&gt;                        getBean(dep);
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt;                     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (NoSuchBeanDefinitionException ex) {
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt;                         &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BeanCreationException(mbd.getResourceDescription(), beanName,
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt;                                 &quot;'&quot; + beanName + &quot;' depends on missing bean '&quot; + dep + &quot;'&quot;&lt;span&gt;, ex);
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;68&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt; 
&lt;span&gt;71&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Create bean instance.å¦‚æœå½“å‰beanæ˜¯å•å®ä¾‹çš„ï¼Œå°±è°ƒç”¨createBean&lt;/span&gt;
&lt;span&gt;72&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (mbd.isSingleton()) {
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt;                 sharedInstance = getSingleton(beanName, () -&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;75&lt;/span&gt;                         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; createBean(beanName, mbd, args);
&lt;/span&gt;&lt;span&gt;76&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt;                     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (BeansException ex) {
&lt;/span&gt;&lt;span&gt;78&lt;/span&gt;                         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Explicitly remove instance from singleton cache: It might have been put there
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;                         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; eagerly by the creation process, to allow for circular reference resolution.
&lt;/span&gt;&lt;span&gt;80&lt;/span&gt;                         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Also remove any beans that received a temporary reference to the bean.&lt;/span&gt;
&lt;span&gt;81&lt;/span&gt; &lt;span&gt;                        destroySingleton(beanName);
&lt;/span&gt;&lt;span&gt;82&lt;/span&gt;                         &lt;span&gt;throw&lt;/span&gt;&lt;span&gt; ex;
&lt;/span&gt;&lt;span&gt;83&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;84&lt;/span&gt; &lt;span&gt;                });
&lt;/span&gt;&lt;span&gt;85&lt;/span&gt;                 bean =&lt;span&gt; getObjectForBeanInstance(sharedInstance, name, beanName, mbd);
&lt;/span&gt;&lt;span&gt;86&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;87&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;88&lt;/span&gt;         &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (BeansException ex) {
&lt;/span&gt;&lt;span&gt;89&lt;/span&gt; &lt;span&gt;            cleanupAfterBeanCreationFailure(beanName);
&lt;/span&gt;&lt;span&gt;90&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt;&lt;span&gt; ex;
&lt;/span&gt;&lt;span&gt;91&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;92&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;93&lt;/span&gt; 
&lt;span&gt;94&lt;/span&gt; 
&lt;span&gt;95&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; (T) bean;
&lt;/span&gt;&lt;span&gt;96&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç²˜è´´å‡ºæ¥çš„æ–¹æ³•åˆ å‡äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œæˆ‘ä»¬åªè¯´å•å®ä¾‹beançš„åˆå§‹åŒ–ï¼›&lt;/p&gt;
&lt;p&gt;åœ¨åˆ¤æ–­å½“å‰beanæ˜¯å•å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨createBean;åœ¨getSingletonè¿™é‡Œï¼Œæœ‰ä¸€è¡Œä»£ç ï¼Œæ˜¯æŠŠå½“å‰beanæ·»åŠ åˆ°ä¸€ä¸ªseté›†åˆä¸­(è¿™ä¸ªseté›†åˆè¡¨ç¤ºå½“å‰beanæ­£åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­)ï¼Œ&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªsetæ˜¯ç”¨æ¥è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜çš„ï¼Œåœ¨åé¢ï¼Œä¼šå•ç‹¬æŠ½å‡ºä¸€ç¯‡æ¥ä»‹ç»å¾ªç¯å¼•ç”¨æ˜¯å¦‚ä½•è§£å†³çš„ï¼Œåœ¨è¿™é‡Œå°±å…ˆè·³è¿‡ï¼›&lt;/p&gt;

&lt;p&gt;åœ¨createBeançš„æ–¹æ³•ä¸­ï¼Œä¼šè°ƒç”¨createBeanInstance(beanName, mbd, args); è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯å®Œæˆbeançš„åˆå§‹åŒ–ï¼Œåœ¨æ–¹æ³•ä¸­ä¼šè°ƒç”¨org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#determineCandidateConstructorsï¼›&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåç½®å¤„ç†å™¨çš„determineCandidateConstructorsæ–¹æ³•æ¥æ¨æ–­ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ï¼›&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•é‡Œé¢ï¼Œæˆ‘ç›®å‰ä¹Ÿæ­£åœ¨å­¦ä¹ ï¼Œåç»­ä¼šè´´å‡ºå¯¹è¿™ä¸ªæ–¹æ³•çš„å­¦ä¹ ç¬”è®°ï¼Œè¿™é‡Œå…ˆæš‚æ—¶è·³è¿‡ï¼›(æˆ‘ä»¬å°±è®¤ä¸ºcreateBeanInstanceæ–¹æ³•å®Œæˆäº†beançš„åˆ›å»º)ï¼Œ&lt;/p&gt;
&lt;p&gt;æ¨æ–­å‡ºä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°ä¹‹åï¼Œä¼šåˆå§‹åŒ–beanï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªBeanWrapperå¯¹è±¡ã€‚è¿™é‡Œåˆ›å»ºå‡ºæ¥çš„ä»…ä»…æ˜¯beanå¯¹è±¡ï¼›éœ€è¦ç»è¿‡åé¢çš„å±æ€§æ³¨å…¥ï¼Œä»¥åŠåˆå§‹åŒ–ï¼Œæ‰ä¼šå˜æˆæˆ‘ä»¬æ‰€è¯´çš„spring beanå¯¹è±¡ï¼›&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;56&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;protected&lt;/span&gt; Object doCreateBean(&lt;span&gt;final&lt;/span&gt; String beanName, &lt;span&gt;final&lt;/span&gt; RootBeanDefinition mbd, &lt;span&gt;final&lt;/span&gt;&lt;span&gt; @Nullable Object[] args)
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;             &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeanCreationException {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Instantiate the bean.&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;     BeanWrapper instanceWrapper = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (mbd.isSingleton()) {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;         instanceWrapper = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.factoryBeanInstanceCache.remove(beanName);
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (instanceWrapper == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;         &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;         *  åˆ›å»ºbeanå®ä¾‹ï¼Œå¹¶å°†beanå®ä¾‹åŒ…è£¹åœ¨BeanWrapperå®ç°ç±»å¯¹è±¡ä¸­è¿”å›ï¼Œ
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;         *  createBeanInstanceä¸­åŒ…å«ä¸‰ç§åˆ›å»ºbeançš„æ–¹å¼
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;         *    1.é€šè¿‡å·¥å‚æ–¹æ³•åˆ›å»ºbeanå®ä¾‹
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;         *    2.é€šè¿‡æ„é€ æ–¹æ³•è‡ªåŠ¨æ³¨å…¥çš„æ–¹å¼åˆ›å»ºbeanå®ä¾‹
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; &lt;span&gt;         *    3.é€šè¿‡æ— å‚æ„é€ æ–¹æ³•åˆ›å»ºbeanå®ä¾‹
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;         *
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; &lt;span&gt;         *  å¦‚æœbeançš„é…ç½®ä¸­é…ç½®äº†lookup-methodå’Œreplace-method  åˆ™ä¼šä½¿ç”¨å¢å¼ºbeanå®ä¾‹
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;         *
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; &lt;span&gt;         * åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å®Œæˆäº†å¯¹beançš„åˆ›å»º(ä»…ä»…æ˜¯newå‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢æ¨æ–­è¦ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°æ¥åˆ›å»ºbeanå¯¹è±¡)
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;         * ç„¶åå®Œæˆbeançš„åˆå§‹åŒ–
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;         *
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;          &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt;         instanceWrapper =&lt;span&gt; createBeanInstance(beanName, mbd, args);
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;     &lt;span&gt;final&lt;/span&gt; Object bean =&lt;span&gt; instanceWrapper.getWrappedInstance();
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;     Class&amp;lt;?&amp;gt; beanType =&lt;span&gt; instanceWrapper.getWrappedClass();
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (beanType != NullBean.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;         mbd.resolvedTargetType =&lt;span&gt; beanType;
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; 
&lt;span&gt;31&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Allow post-processors to modify the merged bean definition.&lt;/span&gt;
&lt;span&gt;32&lt;/span&gt;     &lt;span&gt;synchronized&lt;/span&gt;&lt;span&gt; (mbd.postProcessingLock) {
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;mbd.postProcessed) {
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;             &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;mpy ç¬¬ä¸‰æ¬¡è°ƒç”¨åç½®å¤„ç†å™¨  ç¼“å­˜æ³¨è§£ä¿¡æ¯&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt; &lt;span&gt;                applyMergedBeanDefinitionPostProcessors(mbd, beanType, beanName);
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;             &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Throwable ex) {
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;                 &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BeanCreationException(mbd.getResourceDescription(), beanName,
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;                         &quot;Post-processing of merged bean definition failed&quot;&lt;span&gt;, ex);
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;             mbd.postProcessed = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; 
&lt;span&gt;46&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Eagerly cache singletons to be able to resolve circular references
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; even when triggered by lifecycle interfaces like BeanFactoryAware.&lt;/span&gt;
&lt;span&gt;48&lt;/span&gt;     &lt;span&gt;boolean&lt;/span&gt; earlySingletonExposure = (mbd.isSingleton() &amp;amp;&amp;amp; &lt;span&gt;this&lt;/span&gt;.allowCircularReferences &amp;amp;&amp;amp;
&lt;span&gt;49&lt;/span&gt; &lt;span&gt;            isSingletonCurrentlyInCreation(beanName));
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (earlySingletonExposure) {
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (logger.isDebugEnabled()) {
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt;             logger.debug(&quot;Eagerly caching bean '&quot; + beanName +
&lt;span&gt;53&lt;/span&gt;                     &quot;' to allow for resolving potential circular references&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;mpy ç¬¬å››æ¬¡è°ƒç”¨åç½®å¤„ç†å™¨ è·å–ä¸€ä¸ªæå‰æš´éœ²çš„å¯¹è±¡  ç”¨æ¥è§£å†³å¾ªç¯ä¾èµ–&lt;/span&gt;
&lt;span&gt;56&lt;/span&gt;         addSingletonFactory(beanName, () -&amp;gt;&lt;span&gt; getEarlyBeanReference(beanName, mbd, bean));
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; 
&lt;span&gt;59&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Initialize the bean instance.&lt;/span&gt;
&lt;span&gt;60&lt;/span&gt;     Object exposedObject =&lt;span&gt; bean;
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;62&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;åœ¨populateBean(beanName, mbd, instanceWrapper);æ–¹æ³•ä¸­å®Œæˆç¬¬äº”æ¬¡ç¬¬å…­æ¬¡è°ƒç”¨åç½®å¤„ç†å™¨&lt;/span&gt;
&lt;span&gt;63&lt;/span&gt; &lt;span&gt;        populateBean(beanName, mbd, instanceWrapper);
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;åœ¨initialzeBeanä¸­å®Œæˆç¬¬ä¸ƒæ¬¡ç¬¬å…«æ¬¡åç½®å¤„ç†å™¨è°ƒç”¨&lt;/span&gt;
&lt;span&gt;65&lt;/span&gt;         exposedObject =&lt;span&gt; initializeBean(beanName, exposedObject, mbd);
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt;     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Throwable ex) {
&lt;/span&gt;&lt;span&gt;68&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (ex &lt;span&gt;instanceof&lt;/span&gt; BeanCreationException &amp;amp;&amp;amp;&lt;span&gt; beanName.equals(((BeanCreationException) ex).getBeanName())) {
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt;&lt;span&gt; (BeanCreationException) ex;
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;71&lt;/span&gt;         &lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;72&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BeanCreationException(
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt;                     mbd.getResourceDescription(), beanName, &quot;Initialization of bean failed&quot;&lt;span&gt;, ex);
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;75&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;76&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; exposedObject;
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨ç¬¬å››æ¬¡åç½®å¤„ç†å™¨è¿™é‡Œï¼Œè¿”å›äº†ä¸€ä¸ªobjectå¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä¸ºäº†å®Œæˆå¾ªç¯ä¾èµ–çš„ï¼Œæ”¾åˆ°åé¢ä¸€èµ·è®²ï¼Œ&lt;/p&gt;
&lt;p&gt;åœ¨populateBeanä¸­ï¼Œä¼šå®Œæˆå±æ€§çš„æ³¨å…¥ï¼Œæ¯”å¦‚@AutoWired,@Valueè¿™ä¸ªå±æ€§å€¼æ³¨å…¥&lt;/p&gt;
&lt;p&gt;initializeBeanæ–¹æ³•ï¼Œä¸»è¦æ˜¯è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•&lt;/p&gt;
&lt;p&gt;Â  beançš„åˆå§‹åŒ–æœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â 1.@Beanæ³¨è§£ä¸­æŒ‡å®š initMethod destroyMethod&lt;/p&gt;
&lt;p&gt;Â  Â 2.@PostConstruct @PreDestroy&lt;/p&gt;
&lt;p&gt;Â  Â 3.å®ç°DisposableBeanå’ŒInitializingBeanæ¥å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1424630/201911/1424630-20191102212257984-377569094.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;åœ¨æ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œä¼šæŠŠåˆ›å»ºå¥½çš„beanå¯¹è±¡å­˜æ”¾åˆ°singletonObjectsè¿™ä¸ªmapä¸­ï¼Œè¿™ä¸ªmapå­˜æ”¾çš„æ˜¯æ‰€æœ‰å®ä¾‹åŒ–å¥½çš„å¯¹è±¡ï¼›å¦‚æœbeanæ˜¯åŸå‹çš„ï¼Œåœ¨ç¬¬äºŒæ¬¡getBeançš„æ—¶å€™ï¼Œä¼šä»è¿™ä¸ªmapä¸­è·å–åˆ°beanå¯¹è±¡&lt;/p&gt;

&lt;p&gt;ä»ç‹­ä¹‰ä¸Šæ¥è®²ï¼ŒsingletonObjectså°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„springå®¹å™¨&lt;/p&gt;

</description>
<pubDate>Sat, 02 Nov 2019 13:27:00 +0000</pubDate>
<dc:creator>å°å°å°‘å¹´-</dc:creator>
<og:description>æœ¬ç¯‡æ–‡ç« ï¼Œæ¥ä»‹ç»finishBeanFactoryInitialization(beanFactory);è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯å®Œæˆbeançš„å®ä¾‹åŒ–ï¼Œ invokeBeanFactoryPostProcess</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mpyn/p/11784232.html</dc:identifier>
</item>
</channel>
</rss>