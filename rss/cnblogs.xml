<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>å…³äºNginx mmap(MAP_ANON|MAP_SHARED, 314572800)æŠ¥é”™ - é£ç¿”ç å†œ</title>
<link>http://www.cnblogs.com/feixiangmanon/p/13655721.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/feixiangmanon/p/13655721.html</guid>
<description>&lt;h3 id=&quot;mmap-æŠ¥é”™è§£å†³&quot;&gt;mmap æŠ¥é”™è§£å†³&lt;/h3&gt;
&lt;p&gt;ä»Šå¤©ä¿®æ”¹äº†ä¸€ä¸‹æµ‹è¯•ç¯å¢ƒçš„Nginxçš„nginx.confï¼Œç„¶ååšæ£€æµ‹çš„æ—¶å€™æŠ¥äº†ä¸€ä¸ªé”™è¯¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;/usr/local/bin/nginx -c /usr/local/etc/openresty/conf/nginx.conf -t

nginx: [alert] mmap(MAP_ANON|MAP_SHARED, 314572800) failed (12: Cannot allocate memory)
nginx: configuration file /usr/local/etc/openresty/conf/nginx.conf test failed
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æŠ¥é”™æç¤ºå¾ˆæ¸…æ¥šï¼Œä¸èƒ½åˆ†é…å†…å­˜äº†ã€‚ä¸ºä»€ä¹ˆä¸èƒ½åˆ†é…å†…å­˜äº†ï¼ŸåŸºæœ¬ä¸Šå°±æ˜¯ç‰©ç†å†…å­˜ä¸å¤Ÿä½¿ç”¨äº†ï¼Œå…ˆæŸ¥äº†ä¸‹å†…å­˜&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;free -m
              total        used        free      shared  buff/cache   available
Mem:            990         568          75          54         347         224
Swap:             0           0           0
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒçœŸæ­£å¯ä»¥è¢«ä½¿ç”¨çš„å†…å­˜å¤§æ¦‚å°±æ˜¯224Mã€‚é‚£å°±æ˜¯Nginxæ­¤æ¬¡æ£€æŸ¥çš„é…ç½®éœ€è¦ä½¿ç”¨å¤§äº224Mçš„å†…å­˜ã€‚æŒ‰ç†è¯´ï¼ŒNginxè‡ªèº«ä¸éœ€è¦å¤šå°‘å†…å­˜ã€‚æˆ‘ä»¬ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨openrestyï¼Œé¦–å…ˆæ€€ç–‘å¯èƒ½openrestyçš„æŸä¸ªå¼•ç”¨ç”³è¯·å†…å­˜è¿‡å¤šäº†ï¼Œç„¶åæŸ¥æ‰¾äº†ä¸‹é…ç½®ï¼Œæœç„¶å‘ç°openrestyçš„å…±äº«å†…å­˜çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;lua_shared_dict xxx 300m;
lua_shared_dict yyy 100m;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»å…±éœ€è¦400Må†…å­˜ï¼Œè¿™ä¸¤ä¸ªå…±äº«å†…å­˜è¯¥å°ç‚¹åº”è¯¥å°±å¯ä»¥äº†ã€‚æ”¹ä¸º&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;lua_shared_dict xxx 100m;
lua_shared_dict yyy 30m;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åæ£€æŸ¥é€šè¿‡&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/usr/local/bin/nginx -c /usr/local/etc/openresty/conf/nginx.conf -t
nginx: the configuration file /usr/local/etc/openresty/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/etc/openresty/conf/nginx.conf test is successful
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ£€æµ‹æ˜¯æˆåŠŸï¼Œreload NginxæˆåŠŸç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;h3 id=&quot;nginx-ç”³è¯·å†…å­˜çš„æ¨¡å—&quot;&gt;Nginx ç”³è¯·å†…å­˜çš„æ¨¡å—&lt;/h3&gt;
&lt;p&gt;å¯èƒ½æœ‰çš„ä¸ä¸€å®šæ˜¯openrestyå…±äº«å†…å­˜çš„é”…ã€‚Nginxé…ç½®éœ€è¦é…ç½®å†…å­˜çš„åœ°æ–¹å…¶å®ä¸å¤šï¼Œä¸€ä¸ªä¸ªæ’æŸ¥å°±å¯ä»¥åšåˆ°ã€‚&lt;/p&gt;
&lt;h4 id=&quot;openresty-lua_shared_dict&quot;&gt;openresty lua_shared_dict&lt;/h4&gt;
&lt;p&gt;lua_shared_dict å®šä¹‰åœ¨httpæ¨¡å—ã€‚&lt;br/&gt;å£°æ˜å…±äº«å†…å­˜åŒºï¼Œå…±äº«å†…å­˜åŒºå§‹ç»ˆç”±å½“å‰NginxæœåŠ¡å™¨å®ä¾‹ä¸­çš„æ‰€æœ‰Nginxè¿›ç¨‹å…±äº«ã€‚&lt;br/&gt;å‚æ•°æ¥å—å¤§å°å•ä½ï¼Œæ¯”å¦‚K å’ŒM ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;http {
     lua_shared_dict dogs 10m;
     ...
 }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;proxy_cache_path&quot;&gt;proxy_cache_path&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;proxy_cache_path path [levels=levels] keys_zone=name:size
path è®¾ç½®ç¼“å­˜çš„è·¯å¾„
levels è®¾ç½®ç¼“å­˜æ–‡ä»¶çš„å±‚çº§ï¼Œå½“levels=1:2æ—¶ï¼Œè¡¨ç¤ºæ˜¯ä¸¤çº§ç›®å½•ï¼Œ1å’Œ2è¡¨ç¤ºç”¨1ä½å’Œ2ä½16è¿›åˆ¶æ¥å‘½åç›®å½•åç§°ã€‚
keys_zone è®¾ç½®å…±äº«å†…å­˜çš„åç§°å’Œå¤§å°ï¼Œkeys_zone=one:10mï¼Œè¡¨ç¤ºå…±äº«å†…å­˜åç§°æ˜¯oneï¼Œå¤§å°æ˜¯10Mï¼Œè¿™é‡Œè®¾ç½®å†…å­˜è¿‡é«˜ï¼Œå°±ä¼šå‡ºç°å¼€å¤´çš„æŠ¥è­¦ï¼Œmmap(MAP_ANON|MAP_SHARED, 314572800)
é…ç½®è®¾ç½®æˆè¿™æ ·
proxy_cache_path /data/nginx/cache levels=1:2 keys_zone=one:10m;
è·¯å¾„å’Œå±‚çº§å°±æ˜¯ä¸‹é¢çš„
/data/nginx/cache/c/29/b7f54b2df7773722d382f4809d65029c
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;limit_req_zone&quot;&gt;limit_req_zone&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;limit_req_zone key zone=name:size rate=rate
è®¾ç½®å…±äº«å†…å­˜çš„é™æµå‚æ•°
ä¸»è¦çœ‹ä¸‹åº”ç”¨
limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨å®¢æˆ·ç«¯çš„IPä½œä¸ºé™æµçš„keyï¼Œå…±äº«å†…å­˜åˆ†é…äº†10Mï¼Œå…±äº«å†…å­˜çš„åç§°æ˜¯oneï¼Œé€Ÿåº¦æ˜¯æ¯ä¸ªå®¢æˆ·ç«¯IPæ¯ç§’1ä¸ªè¯·æ±‚ï¼Œè¶…è¿‡1ä¸ªè¯·æ±‚å¯èƒ½ä¼šå»¶è¿Ÿæˆ–è€…ç›´æ¥æ‹’ç»ï¼Œè¦çœ‹limit_reqçš„é…ç½®ã€‚&lt;br/&gt;$binary_remote_addrå˜é‡çš„å¤§å°ä¸º4ä¸ªå­—èŠ‚ã€‚åœ¨64ä½å¹³å°ä¸Šå§‹ç»ˆå æ®128å­—èŠ‚ã€‚ ä¸€ä¸ª1Mçš„åŒºåŸŸå¯ä»¥ä¿ç•™çº¦çº¦8000ä¸ªå®¢æˆ·ç«¯IPã€‚æ‰€ä»¥10Må¤§æ¦‚å¯ä»¥å‡†ç¡®å­˜å‚¨8ä¸‡ä¸ªå®¢æˆ·ç«¯IPã€‚å¦‚æœé™æµçš„å®¢æˆ·ç«¯IPè¶…è¿‡äº†8ä¸‡ä¸ªï¼Œå°±åº”è¯¥æ‰©å¤§å…±äº«å†…å­˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;limit_conn_zone&quot;&gt;limit_conn_zone&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;limit_conn_zone key zone=name:size;
è®¾ç½®è¿æ¥æ•°é™æµçš„å‚æ•°
limit_conn_zone $binary_remote_addr zone=addr:10m;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿æ¥æ•°é™æµçš„å‚æ•°è·Ÿè¯·æ±‚æ•°å‚æ•°ç±»ä¼¼ã€‚&lt;br/&gt;ä½¿ç”¨å®¢æˆ·ç«¯çš„IPä½œä¸ºé™æµçš„keyï¼Œå…±äº«å†…å­˜åˆ†é…äº†10Mï¼Œå…±äº«å†…å­˜çš„åç§°æ˜¯addrã€‚10Må¯ä»¥å­˜å‚¨8ä¸‡ä¸ªå®¢æˆ·ç«¯IPã€‚é™æµçš„å…·ä½“æ•°é‡é™åˆ¶æ˜¯ç”±limit_conné…ç½®&lt;br/&gt;æ¯”å¦‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;limit_conn addr 1;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°±è¡¨ç¤ºæ¯ä¸ªå®¢æˆ·ç«¯IPåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªè¿æ¥å­˜åœ¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“nginx-mmap&quot;&gt;æ€»ç»“Nginx mmap&lt;/h3&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœä»¥åé‡åˆ°å…³äºNginx mmap(MAP_ANON|MAP_SHARED, 314572800)æŠ¥é”™ï¼Œé¦–å…ˆåº”è¯¥æ£€æŸ¥å¯èƒ½åˆ†é…å¤§å†…å­˜çš„é…ç½®ï¼Œé¦–è¦æ£€æŸ¥çš„å°±æ˜¯è¿™ä¸¤ä¸ª&lt;br/&gt;lua_shared_dict&lt;br/&gt;proxy_cache_path&lt;br/&gt;ä¿®æ”¹è¿™ä¸¤ä¸ªå‚æ•°å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬&lt;br/&gt;limit_req_zone&lt;br/&gt;limit_conn_zone&lt;br/&gt;åˆ†é…çš„å†…å­˜å¾ˆå°ï¼Œè‡³å¤šå‡ åMï¼Œä¸ä¼šç›´æ¥å¯¼è‡´ç³»ç»Ÿæ²¡æœ‰å†…å­˜å¯åˆ†é…ã€‚&lt;/p&gt;
</description>
<pubDate>Sat, 12 Sep 2020 00:01:00 +0000</pubDate>
<dc:creator>é£ç¿”ç å†œ</dc:creator>
<og:description>mmap æŠ¥é”™è§£å†³ ä»Šå¤©ä¿®æ”¹äº†ä¸€ä¸‹æµ‹è¯•ç¯å¢ƒçš„Nginxçš„nginx.confï¼Œç„¶ååšæ£€æµ‹çš„æ—¶å€™æŠ¥äº†ä¸€ä¸ªé”™è¯¯ /usr/local/bin/nginx -c /usr/local/etc/openres</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/feixiangmanon/p/13655721.html</dc:identifier>
</item>
<item>
<title>Javaå®¡è®¡ä¹‹XSSç¯‡ - nice_0e3</title>
<link>http://www.cnblogs.com/nice0e3/p/13655552.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nice0e3/p/13655552.html</guid>
<description>&lt;h2 id=&quot;0x00-å‰è¨€&quot;&gt;0x00 å‰è¨€&lt;/h2&gt;
&lt;p&gt;ç»§ç»­ å­¦ä¹ ä¸€æ³¢Javaå®¡è®¡çš„XSSæ¼æ´çš„äº§ç”Ÿè¿‡ç¨‹å’Œä»£ç ã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x01-java-ä¸­xssæ¼æ´ä»£ç åˆ†æ&quot;&gt;0x01 Java ä¸­XSSæ¼æ´ä»£ç åˆ†æ&lt;/h2&gt;
&lt;h3 id=&quot;xssåŸç†&quot;&gt;xssåŸç†&lt;/h3&gt;
&lt;p&gt;xssäº§ç”Ÿè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;åå°æœªå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ£€æŸ¥æˆ–è¿‡æ»¤ï¼Œç›´æ¥æŠŠç”¨æˆ·è¾“å…¥è¿”å›è‡³å‰ç«¯ã€‚å¯¼è‡´javascriptä»£ç åœ¨å®¢æˆ·ç«¯ä»»æ„æ‰§è¡Œã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;xssä»£ç åˆ†æ&quot;&gt;XSSä»£ç åˆ†æ&lt;/h3&gt;
&lt;p&gt;åœ¨phpé‡Œé¢ä¼šä½¿ç”¨&lt;code&gt;echo&lt;/code&gt;å¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°è¿›è¡Œç›´æ¥è¾“å‡ºï¼Œå¯¼è‡´äº†xssæ¼æ´çš„äº§ç”Ÿã€‚è€Œåœ¨Javaé‡Œé¢ä¼šå°†æ¥æ”¶åˆ°çš„æœªç»è¿‡æ»¤çš„å‚æ•°å…±äº«åˆ°requeståŸŸä¸­ï¼Œåœ¨jspçš„é¡µé¢é‡Œé¢ä½¿ç”¨ELè¡¨è¾¾å¼è¿›è¡Œè¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç¼–å†™ä¸€ä¸ªserlvetæ¥åšä¸€ä¸ªæ¼”ç¤º&lt;/p&gt;
&lt;p&gt;xssservletä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@WebServlet(&quot;/demo&quot;)
public class xssServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request,response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        response.setContentType(&quot;text/html&quot;);// è®¾ç½®å“åº”ç±»å‹
        String content = request.getParameter(&quot;content&quot;);  //è·å–contentä¼ å‚æ•°æ®
        request.setAttribute(&quot;content&quot;, content);  //contentå…±äº«åˆ°requeståŸŸ
        request.getRequestDispatcher(&quot;/WEB-INF/pages/xss.jsp&quot;).forward(request, response);  //è½¬å‘åˆ°xxs.jspé¡µé¢ä¸­

    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;xss.jspä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
    ${requestScope.content}
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;

&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨tomcatï¼Œè®¿é—®urlï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;http://localhost:8080/untitled3_war_exploded/demo?content=1
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052356750-1650051896.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¼ å‚ä¸€ä¸ª1è¿‡å»æˆåŠŸè¾“å…¥äº†ï¼Œé‚£ä¹ˆå†æ¥ä¼ ä¸€ä¸ªxssçš„payloadè¯•è¯•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;http://localhost:8080/untitled3_war_exploded/demo?content=&amp;lt;script&amp;gt;alert(&quot;xss&quot;)&amp;lt;/script&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052416670-1317166702.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆåŠŸçš„å¼¹å‡ºäº†ä¸€ä¸ªæ¡†&lt;/p&gt;
&lt;p&gt;åœ¨å®¡è®¡ä¸­éœ€è¦å…³æ³¨çš„æ˜¯å‚æ•°æ˜¯å¦å¯æ§ï¼Œå¦‚æœå¯æ§ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¼šè¢«è¿‡æ»¤åå…±äº«åˆ°requeståŸŸä¸­ï¼Œå¦‚æœåœ¨å¯æ§å’Œä¸è¢«è¿‡æ»¤çš„æƒ…å†µä¸‹ï¼Œå°±å¾ˆæœ‰å¯èƒ½å­˜åœ¨xssæ¼æ´ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é˜²å¾¡xssç­–ç•¥&quot;&gt;é˜²å¾¡xssç­–ç•¥&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦é˜²å¾¡xssæ¼æ´çš„æ”»å‡»ï¼Œå°±éœ€è¦æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ä¼ å…¥å‰å…ˆè°ƒç”¨è¯¥æ–¹æ³•è¿›è¡Œä¸€æ¬¡è¿‡æ»¤ï¼Œä½†æ˜¯è¿™æ ·çš„æ–¹å¼æ¯”è¾ƒç¹çï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ESAPIæ¥å¸®æˆ‘ä»¬è¿‡æ»¤ã€‚&lt;/p&gt;
&lt;p&gt;ESAPIä»‹ç»ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ä¼ä¸šå®‰å…¨APIï¼ˆESAPIï¼‰é¡¹ç›®æ˜¯OWASPé¡¹ç›®ï¼Œå¯ä¸ºæ¯ä¸ªWebå¹³å°åˆ›å»ºç®€å•çš„å¼ºå¤§å®‰å…¨æ§ä»¶ã€‚å®‰å…¨æ§ä»¶å¹¶ä¸å®¹æ˜“æ„å»ºã€‚æ‚¨å¯ä»¥åœ¨OWASPç½‘ç«™ä¸Šäº†è§£æ— èŠçš„å¼€å‘äººå‘˜çš„æ•°ç™¾ä¸ªé™·é˜±ã€‚é€šè¿‡ä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ç»„å¼ºå¤§çš„æ§ä»¶ï¼Œæˆ‘ä»¬æ—¨åœ¨æ¶ˆé™¤åˆ›å»ºå®‰å…¨Webåº”ç”¨ç¨‹åºçš„æŸäº›å¤æ‚æ€§ã€‚è¿™å¯ä»¥åœ¨æ•´ä¸ªSDLCä¸­èŠ‚çœå¤§é‡æˆæœ¬ã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ®è¯´å¯ä»¥åº”ä»˜å¤§éƒ¨åˆ†çš„webæ”»å‡»æ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨pom.xmlå¯¼å…¥ESAPIåæ ‡&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;!-- https://mvnrepository.com/artifact/org.owasp.esapi/esapi --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.owasp.esapi&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;esapi&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2.1.1&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;servletä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@WebServlet(&quot;/demo&quot;)
class xssServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request,response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException, ServletException, IOException {

        response.setContentType(&quot;text/html&quot;);// è®¾ç½®å“åº”ç±»å‹
        
        String content = request.getParameter(&quot;content&quot;);  //è·å–contentä¼ å‚æ•°æ®
        String s = ESAPI.encoder().encodeForJavaScript(content);  //è¿›è¡Œå®ä½“ç¼–ç 
        request.setAttribute(&quot;content&quot;, s);  //contentå…±äº«åˆ°requeståŸŸ
        request.getRequestDispatcher(&quot;/WEB-INF/pages/xss.jsp&quot;).forward(request, response);  //è½¬å‘åˆ°xxs.jspé¡µé¢ä¸­

    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å‚è€ƒè¯¥åšå®¢&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;https://blog.csdn.net/CHS007chs/article/details/86645450
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;0x02-cms-å®¡è®¡&quot;&gt;0x02 CMS å®¡è®¡&lt;/h2&gt;
&lt;p&gt;è¿™æ¬¡è¿˜æ˜¯æ‹¿ä¸Šæ¬¡æ­å»ºçš„ç¯å¢ƒæ¥åšä¸€ä¸ªæ¼”ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç»“åˆå‰é¢çš„å†…å®¹ï¼ŒçŸ¥é“äº†xssçš„äº§ç”Ÿè¿‡ç¨‹æ˜¯ä½¿ç”¨request.setAttributeæ–¹æ³•å°†è¯·æ±‚åˆ°çš„æ•°æ®æœªç»è¿‡æ»¤å­˜å‚¨åˆ°requeståŸŸä¸­ï¼Œç„¶ååœ¨jspé¡µé¢é‡Œä½¿ç”¨elè¡¨è¾¾å¼è¿›è¡Œè¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®¡è®¡çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¥å…¨å±€æœç´¢ å¿«æ·é”® `Ctrl+Shift+F&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052434510-194920860.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±æ¥æ‰¾ä¸€ä¸‹å­˜å‚¨å‹xssï¼Œåå°„çš„xssæ„ä¹‰å¹¶ä¸å¤§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052442279-1024889064.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æ¥çœ‹çœ‹ä»–çš„ä»£ç ï¼Œè¿™é‡Œç›´æ¥å°±ç»™å…±äº«åˆ°requeståŸŸä¸­äº†ï¼Œä½†æ˜¯è¿™é‡Œåªæ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªæŸ¥è¯¢æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»–è¾“å…¥å€¼çš„åœ°æ–¹ï¼Œ çœ‹åˆ°ä¸‹é¢çš„addCommentæ–¹æ³•æ­£å¥½å¯¹åº”ä¸Šäº†ä¸€ä¸ªè¾“å‡ºxss ï¼Œä¸€ä¸ªæ’å…¥xssçš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052448998-1636836300.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹è¯¥æ–¹æ³• &lt;code&gt;commentService.addComment(comment);&lt;/code&gt; è°ƒç”¨addCommentæ–¹æ³•å°†å€¼ä¼ å…¥ï¼Œä¸å‡ºæ„å¤–çš„è¯ä¼ å…¥çš„commentå‚æ•°å°±æ˜¯æ¥æ”¶è¿‡æ¥çš„ä¸€ä¸ªå®ä½“ç±»ã€‚æˆ‘ä»¬æ¥Ctrl+å·¦é”®ç‚¹å‡» Commentç±»è¿›è¡Œè·³è½¬åˆ°è¯¥ç±»å»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052454904-1255915854.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦å…³æ³¨å˜é‡ä¸º Stringç±»å‹çš„å˜é‡ï¼Œå› ä¸ºJavaæ˜¯å¼ºç±»å‹çš„è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;ç­‰ä¼šå¯¹è¿™å‡ ä¸ªå˜é‡çš„åœ°æ–¹è¿›è¡Œæ’å…¥xssä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°åˆšæ‰çš„æ§åˆ¶å™¨ä»£ç &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052459389-1224952947.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»ctrl+å·¦é”®ç‚¹å‡»addComment è¿½æº¯åˆ°CommentService çš„æ¥å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052513779-402634169.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„æ–¹å¼å†è¿½æº¯åˆ°CommentServiceçš„å®ç°ç±»&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052523741-919553467.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨çš„æ˜¯commentDaoè°ƒç”¨addComment ä¼ å…¥å‚æ•°è¿›è¡Œæ·»åŠ æ•°æ®ã€‚ç»§ç»­è¿½æº¯ä¸Šå»&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052528261-1651803872.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬å°±çœ‹åˆ°äº†daoæ¥å£ä¸­çš„addcommentæ–¹æ³•ï¼Œdaoæ¥å£ä¸­å¹¶æ²¡æœ‰myabtisçš„æ³¨è§£ï¼Œè¯´æ˜æ˜¯xmlé…ç½®æ–‡ä»¶é…ç½®çš„ã€‚&lt;/p&gt;
&lt;p&gt;åé¢çš„ç›´æ¥å¼€å¯å…¨å±€æœç´¢ï¼Œæœç´¢addCommentæŒ‡å®šxmlæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052535223-446343315.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»è¿›å»çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„æäº¤çš„å†…å®¹ä¼šè¢«æ’å…¥æ•°æ®åº“é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸ªå­˜å‚¨å‹xss&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912052542298-409078038.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053124502-1479302059.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€»è¾‘è¿™é‡Œå…¶å®å·²ç»å¾ˆæ¸…æ™°äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„è¿˜å¾—çœ‹å®æ“ï¼ŒæŸ¥çœ‹Controllerè·å–è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053133286-1343511731.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053309731-1729571544.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¼æ´ä½ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;http://127.0.0.1:82/web/comment/ajax/addcomment
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“åˆåˆšåˆšæŸ¥çœ‹çš„Commentå®ä½“ç±»ï¼Œæˆ‘ä»¬å·²ç»æ‰¾åˆ°å“ªäº›åœ°æ–¹å¯ä»¥å»æ’xssäº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;script&amp;gt;alert(&quot;1&quot;)&amp;lt;/script&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è®¿é—®ä¸€ä¸‹æ¼æ´åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053320864-645665446.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¿˜éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®ï¼Œé‚£å°±ç™»å½•ä¸€ä¸‹å§ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053330379-1863798830.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1993669/202009/1993669-20200912053337047-1675999062.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿé”™è¯¯ï¼Œæˆ‘ã€‚ã€‚ã€‚ã€‚ã€‚è‚¯å®šåˆæ˜¯ä¸Šæ¬¡é‚£å¼ è¡¨çš„é—®é¢˜ï¼Œé‚£å‡ å¼ è¡¨æ²¡å»ºç«‹å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ç®—äº†ï¼Œæ´—æ´—ç¡å§ï¼ï¼ï¼&lt;/p&gt;
&lt;h2 id=&quot;0x03-ç»“å°¾&quot;&gt;0x03 ç»“å°¾&lt;/h2&gt;
&lt;p&gt;Javaçš„xsså®¡è®¡éƒ½æ˜¯è‡ªå·±ç¢ç£¨ï¼Œç»“åˆä¸€ä¸‹ç½‘ä¸Šçš„æ–‡ç« ï¼Œå¤ç°ä¸€ä¸‹ï¼Œå¾ˆå¿«å°±ç†Ÿæ‚‰äº†ã€‚&lt;/p&gt;
</description>
<pubDate>Fri, 11 Sep 2020 21:34:00 +0000</pubDate>
<dc:creator>nice_0e3</dc:creator>
<og:description>Javaå®¡è®¡ä¹‹XSSç¯‡ 0x00 å‰è¨€ ç»§ç»­ å­¦ä¹ ä¸€æ³¢Javaå®¡è®¡çš„XSSæ¼æ´çš„äº§ç”Ÿè¿‡ç¨‹å’Œä»£ç ã€‚ 0x01 Java ä¸­XSSæ¼æ´ä»£ç åˆ†æ xssåŸç† xssäº§ç”Ÿè¿‡ç¨‹ï¼š åå°æœªå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ£€æŸ¥æˆ–è¿‡æ»¤</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/nice0e3/p/13655552.html</dc:identifier>
</item>
<item>
<title>æ•°æ®ç»“æ„ä¹‹çœŸåˆ«å¤šæƒ³â€”æ ‘çŠ¶æ•°ç»„ - Simon5ei</title>
<link>http://www.cnblogs.com/Simon5ei/p/13655398.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Simon5ei/p/13655398.html</guid>
<description>&lt;p&gt;&lt;span&gt;å¦‚ä½•ç†è§£æ ‘çŠ¶æ•°ç»„ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;18&quot;&gt;
&lt;p&gt;&lt;img src=&quot;https://oi-wiki.org/ds/images/fenwick1.png&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¿™ä¸ªç»“æ„çš„æ€æƒ³å’Œçº¿æ®µæ ‘æœ‰äº›ç±»ä¼¼ï¼šç”¨ä¸€ä¸ªå¤§èŠ‚ç‚¹è¡¨ç¤ºä¸€äº›å°èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œè¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™åªéœ€è¦æŸ¥è¯¢ä¸€äº›å¤§èŠ‚ç‚¹è€Œä¸æ˜¯æ›´å¤šçš„å°èŠ‚ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æœ€ä¸‹é¢çš„å…«ä¸ªæ–¹å—å°±ä»£è¡¨å­˜å…¥ a ä¸­çš„å…«ä¸ªæ•°ï¼Œç°åœ¨éƒ½æ˜¯åè¿›åˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä»–ä»¬ä¸Šé¢çš„å‚å·®ä¸é½çš„å‰©ä¸‹çš„æ–¹å—å°±ä»£è¡¨ a çš„ä¸Šçº§â€”â€” c æ•°ç»„ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å¾ˆæ˜¾ç„¶çœ‹å‡ºï¼š&lt;/span&gt; &lt;span&gt;c2 ç®¡ç†çš„æ˜¯ a1 &amp;amp; a2 ï¼›&lt;/span&gt; &lt;span&gt;c4 ç®¡ç†çš„æ˜¯ a1 &amp;amp; a2 &amp;amp; a3 &amp;amp; a4 ï¼›&lt;/span&gt; &lt;span&gt;c6 ç®¡ç†çš„æ˜¯ a5 &amp;amp; a6 ï¼›c8 åˆ™ç®¡ç†å…¨éƒ¨ 8 ä¸ªæ•°ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ‰€ä»¥ï¼Œå¦‚æœä½ è¦ç®—åŒºé—´å’Œçš„è¯ï¼Œæ¯”å¦‚è¯´è¦ç®— a51 ~ a91 çš„åŒºé—´å’Œï¼Œæš´åŠ›ç®—å½“ç„¶å¯ä»¥ï¼Œé‚£ä¸Šç™¾ä¸‡çš„æ•°ï¼Œé‚£å°± TLE å–½ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;â€”â€”â€”â€”â€”â€”æ‘˜è‡ªoi-wiki.org&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;åˆçœ‹è¿™äº›æ–‡å­—ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;â€œå•Šè¿™è¿™è¿™ï¼Ÿï¼Ÿï¼Ÿä½ è®²è¿™äº›æˆ‘ä»¬æ€ä¹ˆå¬å¾—æ‡‚å•Šï¼Œè¿™æ ‘çŠ¶æ•°ç»„æ˜¯å•¥ï¼Œå’‹ç”¨ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ‡µçš„å•Šâ€&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å½“ç„¶ï¼Œä¸ºäº†è§£å†³é—®é¢˜è€Œä¹¦å†™ç®—æ³•çš„è¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦å»ç†è§£è¿™ä¸ªç»“æ„çš„åŸç†åˆ°åº•æ˜¯å•¥ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“è¿™ä¸ªä¸œè¥¿&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç”¨åœ¨å“ªï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ€ä¹ˆç”¨ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å°±è¶³å¤Ÿäº†&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;ç”¨åœ¨å“ªï¼Ÿ&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä¸€èˆ¬çš„æ™®é€šæ•°ç»„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å•ç‚¹æ“ä½œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„æ—¶é—´å¤æ‚åº¦çš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;O(1)&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åŒºé—´æ“ä½œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„æ—¶é—´å¤æ‚åº¦æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;O(n)&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è€Œæˆ‘ä»¬æ ‘çŠ¶æ•°ç»„çš„å’Œæ™®é€šæ•°ç»„çš„åŒºåˆ«å°±åœ¨äºï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;å•ç‚¹æ“ä½œå’ŒåŒºé—´æ“ä½œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;O(log n)ï¼Œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è€Œä¸”&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æ“ä½œï¼ˆåŠ ã€æ±‚å’Œï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;éƒ½éœ€è¦&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç”¨å‡½æ•°å®ç°&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;é‚£ä¹ˆè¿™ä¹ˆè¯´æˆ‘ä»¬å¤§æ¦‚èƒ½ç†è§£ä¸€ç‚¹äº†ï¼Œé‚£å°±æ˜¯ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;&lt;span&gt;&lt;span&gt;ä¸€æ—¦é‡åˆ°å¤§è§„æ¨¡ä½¿ç”¨åŒºé—´æ±‚å’Œçš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨æ ‘çŠ¶æ•°ç»„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;æ€ä¹ˆç”¨ï¼Ÿ&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;æ€»å¾—æ¥è¯´å°±æ˜¯ä¸‰ä¸ªå‡½æ•°ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;lowbitã€æ·»åŠ å‡½æ•°ï¼Œæ±‚å’Œå‡½æ•°&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;lowbit&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c++&quot; lang=&quot;c++&quot;&gt;int lowbit(int x) {
  /*
        ç®—å‡ºxäºŒè¿›åˆ¶çš„ä»å³å¾€å·¦å‡ºç°ç¬¬ä¸€ä¸ª1ä»¥åŠè¿™ä¸ª1ä¹‹åçš„é‚£äº›0ç»„æˆæ•°çš„äºŒè¿›åˆ¶å¯¹åº”çš„åè¿›åˆ¶çš„æ•°
    ç®€å•è¯´å°±æ˜¯ç”¨ä½è¿ç®—æ”¹å˜äº†æŸ¥æ‰¾æ“ä½œï¼Œä»¥å¥‘åˆä¸Šè¿°çš„æ—¶é—´å¤æ‚åº¦
  */
  return x &amp;amp; -x;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;å•ç‚¹ä¿®æ”¹&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c++&quot; lang=&quot;c++&quot;&gt;void add(int x, int k) {  //åœ¨iä½ç½®åŠ ä¸Šk
  while (x &amp;lt;= n) {  // ä¸èƒ½è¶Šç•Œ
    c[x] = c[x] + k;
    x = x + lowbit(x);
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;åŒºé—´æ±‚å’Œ&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c++&quot; lang=&quot;c++&quot;&gt;int sum(int x) {  // è¿”å›a[1]â€¦â€¦a[x]çš„å’Œ
  int ans = 0;
  while (x &amp;gt;= 1) {
    ans = ans + c[x];
    x = x - lowbit(x);
  }
  return ans;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;å°±è¿™ï¼Ÿï¼Ÿå°±è¿™ï¼Ÿï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å•Šå•Šï¼Œçœ‹ä¼¼å°±è¿™ï¼Œé‚£æˆ‘ä»¬æ¥æ‰¾ä¸€é“&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ¨¡æ¿é¢˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åšä¸€åšï¼Œæ·±åŒ–ä¸€ä¸‹ç†è§£å§ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;ä¾‹é¢˜ï¼šAcwing 788 é€†åºå¯¹çš„æ•°é‡&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span&gt;é¢˜é¢&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°åˆ—ï¼Œè¯·ä½ è®¡ç®—æ•°åˆ—ä¸­çš„é€†åºå¯¹çš„æ•°é‡ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;é€†åºå¯¹çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºæ•°åˆ—çš„ç¬¬ i ä¸ªå’Œç¬¬ j ä¸ªå…ƒç´ ï¼Œå¦‚æœæ»¡è¶³ i &amp;lt; j ä¸” a[i] &amp;gt; a[j]ï¼Œåˆ™å…¶ä¸ºä¸€ä¸ªé€†åºå¯¹ï¼›å¦åˆ™ä¸æ˜¯ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;è¾“å…¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nï¼Œè¡¨ç¤ºæ•°åˆ—çš„é•¿åº¦ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;è¾“å‡º&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé€†åºå¯¹çš„ä¸ªæ•°ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;PSï¼š 1â‰¤nâ‰¤1000001â‰¤nâ‰¤100000&lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;&lt;span&gt;è¾“å…¥æ ·ä¾‹ï¼š&lt;/span&gt;&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;6
2 3 4 5 6 1
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4&gt;&lt;span&gt;è¾“å‡ºæ ·ä¾‹ï¼š&lt;/span&gt;&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;5
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;&lt;span&gt;è§£é¢˜è¿‡ç¨‹&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;â€œé€†åºå¯¹â€çš„è®¡ç®—éœ€è¦ç”¨åˆ°å¤§é‡çš„åŒºé—´è¿ç®—ï¼Œåœ¨è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„æ ‘çŠ¶æ•°ç»„å°±å‘æŒ¥äº†å¾ˆå¤§çš„ç”¨å¤„äº†ï¼Œ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å¯¹äºè¿™é“é¢˜çš„æ ¸å¿ƒæ€æƒ³ï¼Œå³æ˜¯ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç”¨æ•°ç»„çš„å€¼ä½œä¸ºä¸‹æ ‡ï¼Œæ¯æ¬¡å‡ºç°é€†åºå¯¹åˆ™ç»™è¯¥ä¸‹æ ‡å¯¹åº”å€¼åŠ ä¸€ï¼Œæœ€åæ±‚å’Œ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä»£ç å¦‚ä¸‹&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
#include &amp;lt;iostream&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;cstdio&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;algorithm&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;cstring&amp;gt;

&lt;span&gt;using&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; std;

typedef &lt;/span&gt;&lt;span&gt;long&lt;/span&gt; &lt;span&gt;long&lt;/span&gt;&lt;span&gt; LL;

&lt;/span&gt;&lt;span&gt;const&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; N = &lt;span&gt;100010&lt;/span&gt;&lt;span&gt;;

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; n;
&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; a[N];
&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; tr[N];

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; lowbit(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; x) {
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; x &amp;amp; -&lt;span&gt;x;
}

&lt;/span&gt;&lt;span&gt;void&lt;/span&gt; add(&lt;span&gt;int&lt;/span&gt; x, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; k) {
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = x; i &amp;lt; N - &lt;span&gt;1&lt;/span&gt;; i += lowbit(i)) tr[i] +=&lt;span&gt; k; 
}

LL sum(&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; x) {
    LL res &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = x; i; i -= lowbit(i)) res +=&lt;span&gt; tr[i];
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; res;
}

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; main() {
    scanf(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%d&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &amp;amp;&lt;span&gt;n);
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; n; i ++) scanf(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%d&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &amp;amp;&lt;span&gt;a[i]);
    
    LL ans &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = n - &lt;span&gt;1&lt;/span&gt;; i &amp;gt;= &lt;span&gt;0&lt;/span&gt;; i --) {&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å€’åºè¯»å…¥&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt; t = a[i];&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯»å…¥çš„å€¼ä½œä¸ºä¸‹æ ‡&lt;/span&gt;
        ans += sum(t - &lt;span&gt;1&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è‹¥æ¯”a[i]å°çš„å€¼åœ¨å…¶ä¹‹å‰è¢«è¯»å…¥,å³å‡ºç°äº†é€†åºå¯¹&lt;/span&gt;
        add(t, &lt;span&gt;1&lt;/span&gt;);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è®°å½•é€†åºå¯¹&lt;/span&gt;
&lt;span&gt;    }
    printf(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%lld\n&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, ans);
    
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;emmmï¼Œæ ·ä¾‹è¿‡äº†ï¼Œæäº¤ï¼&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¯¶æ€ä¹ˆwaäº†ï¼Œè¿˜æ˜¯æ®µé”™è¯¯ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2081880/202009/2081880-20200912030313256-1958851851.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;çœ‹äº†çœ‹æµ‹è¯•æ•°æ®ï¼ŒåŸæ¥æ˜¯æˆ‘ä»¬å°†æ•°æ®å½“ä½œä¸‹æ ‡ï¼Œè€Œæ•°æ®çš„å¤§å°è¶…è¿‡äº†æ•°ç»„å¤§å°çš„é™åˆ¶ï¼Œè€Œä¸”ä¹Ÿé€ æˆäº†ç©ºé—´çš„å†—ä½™ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³åˆ°ä¸€ä¸ªæ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;&lt;span&gt;ç¦»æ•£åŒ–&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç¦»æ•£åŒ–ï¼Œå³æ˜¯å°†å¯¹è±¡ä¹‹é—´çš„å…³ç³»æ¨¡ç³ŠåŒ–ï¼Œåœ¨ä¸æ”¹å˜æ•°æ®ç›¸å¯¹å¤§å°çš„æ¡ä»¶ä¸‹ï¼Œå¯¹æ•°æ®è¿›è¡Œç›¸åº”çš„ç¼©å°ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ¯”å¦‚è¯´ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;åœ¨ï½› 1ã€ 2ã€ 99999ã€ 3 ï½ä¹‹é—´åˆ¤æ–­é€†åºå¯¹å’Œåœ¨ï½› 1ã€ 2ã€ 4ã€ 3ï½ä¹‹é—´åˆ¤æ–­é€†åºå¯¹åœ¨åŸºæœ¬æµç¨‹ä¸Šæ— å·®åˆ«ï¼Œè€Œå¦‚æœä¸è¿›è¡Œç¦»æ•£åŒ–ï¼Œåˆ™èŠ±è´¹äº†99999ä¸ªç©ºé—´ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œä¹Ÿä¸ºäº†æ¶ˆé™¤æ•°ç»„è¶Šç•Œçš„é£é™©&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¦»æ•£åŒ–ä¼˜åŒ–ä¸€ä¸‹ä»£ç ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
#include &amp;lt;iostream&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;cstdio&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;algorithm&amp;gt;&lt;span&gt;
#include &lt;/span&gt;&amp;lt;cstring&amp;gt;

&lt;span&gt;using&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; std;

typedef &lt;/span&gt;&lt;span&gt;long&lt;/span&gt; &lt;span&gt;long&lt;/span&gt;&lt;span&gt; LL;

&lt;/span&gt;&lt;span&gt;const&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; N = &lt;span&gt;100010&lt;/span&gt;&lt;span&gt;;

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; n;
&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; a[N], backup[N];&lt;span&gt;//&lt;/span&gt;&lt;span&gt;backupå³æ˜¯ç¦»æ•£åŒ–ä¹‹åçš„åºåˆ—&lt;/span&gt;
&lt;span&gt;LL tr[N];

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; lowbit(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; x) {
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; x &amp;amp; -&lt;span&gt;x;
}

&lt;/span&gt;&lt;span&gt;void&lt;/span&gt; add(&lt;span&gt;int&lt;/span&gt; x, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; k) {
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = x; i &amp;lt;= n; i += lowbit(i)) tr[i] +=&lt;span&gt; k; 
}

LL sum(&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; x) {
    LL res &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = x; i; i -= lowbit(i)) res +=&lt;span&gt; tr[i];
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; res;
}

&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; find(&lt;span&gt;int&lt;/span&gt; k) {&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æŸ¥æ‰¾ï¼ˆåˆ©ç”¨äº†äºŒåˆ†çš„æ€æƒ³ï¼‰&lt;/span&gt;
    &lt;span&gt;int&lt;/span&gt; l = &lt;span&gt;0&lt;/span&gt;, r = n - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (l &amp;lt;&lt;span&gt; r) {
        &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; mid = l + r + &lt;span&gt;1&lt;/span&gt; &amp;gt;&amp;gt; &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (backup[mid] &amp;lt;= k) l =&lt;span&gt; mid;
        &lt;/span&gt;&lt;span&gt;else&lt;/span&gt; r = mid - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; r + &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
}
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ’å¥½åºå­˜å‚¨è¿›æ¥çš„åºåˆ—ï¼Œå…¶æ¯ä¸ªå…ƒç´ çš„å¯¹åº”ä¸‹æ ‡å°±æ˜¯å…¶ç¦»æ•£åŒ–ä¹‹åçš„â€œå¤§å°â€&lt;/span&gt;

&lt;span&gt;int&lt;/span&gt;&lt;span&gt; main() {
    scanf(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%d&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &amp;amp;&lt;span&gt;n);
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; n; i ++) scanf(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%d&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &amp;amp;&lt;span&gt;a[i]);
    
    memcpy(backup, a, &lt;/span&gt;&lt;span&gt;sizeof&lt;/span&gt;&lt;span&gt; a);
    sort(backup, backup &lt;/span&gt;+ n);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿›è¡Œæ’åº&lt;/span&gt;
&lt;span&gt;    
    LL ans &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = n - &lt;span&gt;1&lt;/span&gt;; i &amp;gt;= &lt;span&gt;0&lt;/span&gt;; i --&lt;span&gt;) {
        &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; t =&lt;span&gt; find(a[i]);
        ans &lt;/span&gt;+= sum(t - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
        add(t, &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
    }
    
    printf(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%lld\n&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, ans);
    
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;æœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº†ACï¼ï¼ï¼&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¸Œæœ›æˆ‘çš„æŠ›ç –å¼•ç‰èƒ½å¼•èµ·æ›´å¤šçš„æ€è€ƒï¼ ğŸ˜„&lt;/span&gt; &lt;del&gt;&lt;span&gt;ï¼ˆè’Ÿè’»é èº¬ï¼‰&lt;/span&gt;&lt;/del&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Fri, 11 Sep 2020 19:05:00 +0000</pubDate>
<dc:creator>Simon5ei</dc:creator>
<og:description>ç“¶é¢ˆ å¦‚ä½•ç†è§£æ ‘çŠ¶æ•°ç»„ï¼Ÿ è¿™ä¸ªç»“æ„çš„æ€æƒ³å’Œçº¿æ®µæ ‘æœ‰äº›ç±»ä¼¼ï¼šç”¨ä¸€ä¸ªå¤§èŠ‚ç‚¹è¡¨ç¤ºä¸€äº›å°èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œè¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™åªéœ€è¦æŸ¥è¯¢ä¸€äº›å¤§èŠ‚ç‚¹è€Œä¸æ˜¯æ›´å¤šçš„å°èŠ‚ç‚¹ã€‚ æœ€ä¸‹é¢çš„å…«ä¸ªæ–¹å—å°±ä»£è¡¨å­˜å…¥ a ä¸­çš„å…«ä¸ªæ•°ï¼Œç°åœ¨éƒ½æ˜¯</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Simon5ei/p/13655398.html</dc:identifier>
</item>
<item>
<title>.NET Coreä½¿ç”¨NPOIå°†Excelä¸­çš„æ•°æ®æ‰¹é‡å¯¼å…¥åˆ°MySQL - è¿½é€æ—¶å…‰è€…</title>
<link>http://www.cnblogs.com/Can-daydayup/p/12593165.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Can-daydayup/p/12593165.html</guid>
<description>&lt;h2&gt;å‰è¨€ï¼š&lt;/h2&gt;
&lt;p&gt;ã€€ã€€åœ¨ä¹‹å‰çš„å‡ ç¯‡åšå®¢ä¸­å†™è¿‡.NET Coreä½¿ç”¨NPOIå¯¼å‡ºWordå’ŒExcelçš„æ–‡ç« ï¼Œä»Šå¤©æŠŠåŒæ ·æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­æ¯”è¾ƒå¸¸ç”¨çš„ä½¿ç”¨Excelå¯¼å…¥æ•°æ®åˆ°MySQLæ•°æ®åº“ä¸­çš„æ–‡ç« ç»™å®‰æ’ä¸Šã€‚ä¸æ­¤åŒæ—¶è¿˜æŠŠ&lt;a href=&quot;https://github.com/YSGStudyHards/NPOI-ExportWordAndExcel-ImportExcelData&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;&lt;strong&gt;NPOI-ExportWordAndExcel-ImportExcelData&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;è¿™ä¸ªå¼€æºé¡¹ç›®å‡çº§åˆ°äº†.NET Core 3.1ç‰ˆæœ¬ï¼ˆæ³¨æ„ä¹‹å‰ä¸€ç›´æ˜¯åœ¨.NET Core2.2çš„åŸºç¡€ä¸Šå¼€å‘çš„ï¼‰ï¼Œå‡çº§çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸å°‘å‘ï¼Œåœ¨é¡¹ç›®ä¸­ä¼šæœ‰ä¸€äº›æ³¨é‡Šå…³äºå‡çº§åˆ°.NET Core3.1éœ€è¦ä¿®æ”¹çš„ä»£ç è¿™é‡Œå°±ä¸åšè¯¦ç»†çš„è®²è§£äº†å¯ä»¥Cloneé¡¹ç›®ï¼Œæˆ–è€…æ˜¯ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£.NET Coreç›¸å…³ç‰ˆæœ¬çš„è¿ç§»æŒ‡å—ï¼ˆ&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;amp;tabs=visual-studio&quot; target=&quot;_blank&quot;&gt;https://docs.microsoft.com/zh-cn/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;amp;tabs=visual-studio&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;h2&gt;é¡¹ç›®å®ç°æ•ˆæœå›¾ï¼š&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1336199/202009/1336199-20200909010339493-1716062953.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å¼•å…¥NPOI NuGetï¼š&lt;/h2&gt;
&lt;h3&gt;NPOI GitHubæºç åœ°å€ï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tonyqus/npoi&quot;&gt;https://github.com/tonyqus/npoi&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ç‰ˆæœ¬è¯´æ˜ï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;ã€€ã€€NPOI 2.4.1 ï¼ˆæ³¨æ„ä¸åŒç‰ˆæœ¬å¯èƒ½ä½¿ç”¨çš„å§¿åŠ¿æœ‰ç‚¹å°å·®åˆ«ï¼Œæ³¨æ„æœ‰åŒå­¦å¯èƒ½ä¼šé—®ç°åœ¨NPOIçš„æœ€æ–°ç¨³å®šç‰ˆä¸æ˜¯2.5.1å—?ä¸ºä»€ä¹ˆè¿˜æ˜¯ç”¨2.4.1å‘¢ï¼Ÿå› ä¸º2.5.1è¿˜æœ‰äº›å±æ€§ä¸ä¹‹å‰çš„2.4.1ä¸æ˜¯å¾ˆå…¼å®¹ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯ç»§ç»­ä½¿ç”¨2.4.1ï¼ŒåŠŸèƒ½ä¸Šèƒ½å¤Ÿå®Œå…¨èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°è¾“å…¥ä¸€ä¸‹å‘½ä»¤å®‰è£…ï¼š&lt;/h3&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
Install-Package NPOI -Version 2.4.1
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;é€šè¿‡NuGetç®¡ç†è§£å†³æ–¹æ¡ˆå®‰è£…ï¼š&lt;/h3&gt;
&lt;h4&gt;é€‰æ‹©=&amp;gt;å·¥å…·=&amp;gt;NuGetåŒ…ç®¡ç†å™¨=&amp;gt;ç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/i-beta/1336199/202003/1336199-20200316010608628-1137886985.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h4&gt;Â æœç´¢ï¼šNPOIè¿›è¡Œå®‰è£…ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/i-beta/1336199/202003/1336199-20200316010732879-614926042.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;äºŒã€ASP.NET Coreä½¿ç”¨EF Coreè¿æ¥MySQLæ‰§è¡Œç®€å•çš„CRUDæ“ä½œï¼š&lt;/h2&gt;
&lt;p&gt;ã€€ã€€å› ä¸ºè¯¥ç¯‡æ–‡ç« ä¼šæ¶‰åŠåˆ°MySQLæ•°æ®åº“çš„æ“ä½œï¼Œæ‰€ä»¥å‰ææˆ‘ä»¬éœ€è¦æœ‰ä¸€ç‚¹çš„CRUDçš„åŸºç¡€ã€‚è¿™é‡Œå°±ä¸åšè¯¦ç»†çš„è®²è§£äº†ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« ï¼ŒASP.NET Core MVC+Layuiä½¿ç”¨EF Coreè¿æ¥MySQLæ‰§è¡Œç®€å•çš„CRUDæ“ä½œï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/Can-daydayup/p/12593599.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/Can-daydayup/p/12593599.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;ä¸‰ã€ä½¿ç”¨NPOIè·å–Excelæ•°æ®æ³¨æ„ç‚¹ï¼š&lt;/h2&gt;
&lt;h3&gt;1ã€å…³äºExcelçš„ç‰ˆæœ¬é—®é¢˜ï¼š&lt;/h3&gt;
&lt;p&gt;åšè¿‡Excelç›¸å…³å·¥ä½œçš„äººåº”è¯¥éƒ½æ¸…æ¥šOffice Excelçš„æ ¼å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;p&gt;aã€ä¸€ç§æ˜¯.XLSæ˜¯03ç‰ˆçš„Office Excelï¼Œæ— æ³•æ‰“å¼€é«˜ç‰ˆæœ¬çš„ã€‚&lt;/p&gt;
&lt;p&gt;aã€ä¸€ç§æ˜¯.XLSXæ˜¯07ç‰ˆ(æˆ–è€…07ä»¥ä¸Šçš„)çš„Office Excelï¼Œå¯ä»¥æ‰“å¼€ä½ç‰ˆæœ¬çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨NPOIå¯¼å…¥æ•°æ®æ—¶ä¸åŒæ ¼å¼è·å–Excelå·¥ä½œç°¿å¯¹è±¡ä¹Ÿæœ‰æ‰€ä¸åŒï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
                //Workbookå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå·¥ä½œç°¿,é¦–å…ˆå®šä¹‰ä¸€ä¸ªExcelå·¥ä½œè–„
                IWorkbook workbook;

                //XSSFWorkbook é€‚ç”¨XLSXæ ¼å¼ï¼ŒHSSFWorkbook é€‚ç”¨XLSæ ¼å¼
                #region åˆ¤æ–­Excelç‰ˆæœ¬
                switch (fileType)
                {
                    //.XLSXæ˜¯07ç‰ˆ(æˆ–è€…07ä»¥ä¸Šçš„)çš„Office Excel
                    case &quot;.xlsx&quot;:
                        workbook = new XSSFWorkbook(stream);
                        break;
                    //.XLSæ˜¯03ç‰ˆçš„Office Excel
                    case &quot;.xls&quot;:
                        workbook = new HSSFWorkbook(stream);
                        break;
                    default:
                        throw new Exception(&quot;Excelæ–‡æ¡£æ ¼å¼æœ‰è¯¯&quot;);
                }
                #endregion
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2ã€NPOIè·å–Excelå•å…ƒæ ¼ä¸­ä¸åŒç±»å‹çš„æ•°æ®ï¼š&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ³¨æ„ï¼Œå’±ä»¬å¡«å†™åœ¨Excelå•å…ƒæ ¼ä¸­çš„æ•°æ®å¯èƒ½ä¸ºå¤šç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹å•å…ƒæ ¼ä¸­çš„æ•°æ®ç±»å‹åšåˆ¤æ–­ç„¶ååœ¨è·å–ï¼Œå¦åˆ™ç¨‹åºä¼šæŠ¥å¼‚å¸¸ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
                            #region NPOIè·å–Excelå•å…ƒæ ¼ä¸­ä¸åŒç±»å‹çš„æ•°æ®
                            //è·å–æŒ‡å®šçš„å•å…ƒæ ¼ä¿¡æ¯
                            var cell = row.GetCell(j);
                            switch (cell.CellType)
                            {
                                //é¦–å…ˆåœ¨NPOIä¸­æ•°å­—å’Œæ—¥æœŸéƒ½å±äºNumericç±»å‹
                                //é€šè¿‡NPOIä¸­è‡ªå¸¦çš„DateUtil.IsCellDateFormattedåˆ¤æ–­æ˜¯å¦ä¸ºæ—¶é—´æ—¥æœŸç±»å‹
                                case CellType.Numeric when DateUtil.IsCellDateFormatted(cell):
                                    dataRow[j] = cell.DateCellValue;
                                    break;
                                case CellType.Numeric:
                                    //å…¶ä»–æ•°å­—ç±»å‹
                                    dataRow[j] = cell.NumericCellValue;
                                    break;
                                //ç©ºæ•°æ®ç±»å‹
                                case CellType.Blank:
                                    dataRow[j] = &quot;&quot;;
                                    break;
                                //å…¬å¼ç±»å‹
                                case CellType.Formula:
                                {
                                    HSSFFormulaEvaluator eva = new HSSFFormulaEvaluator(workbook);
                                    dataRow[j] = eva.Evaluate(cell).StringValue;
                                    break;
                                }
                                //å¸ƒå°”ç±»å‹
                                case CellType.Boolean:
                                    dataRow[j] = row.GetCell(j).BooleanCellValue;
                                    break;
                                //é”™è¯¯
                                case CellType.Error:
                                    dataRow[j] = HSSFErrorConstants.GetText(row.GetCell(j).ErrorCellValue);
                                    break;
                                //å…¶ä»–ç±»å‹éƒ½æŒ‰å­—ç¬¦ä¸²ç±»å‹æ¥å¤„ç†ï¼ˆæœªçŸ¥ç±»å‹CellType.Unknownï¼Œå­—ç¬¦ä¸²ç±»å‹CellType.Stringï¼‰
                                default:
                                    dataRow[j] = cell.StringCellValue;
                                    break;
                            }
                            #endregion
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;å››ã€é€šç”¨çš„NPOI Excelå¯¼å…¥æ•°æ®å¸®åŠ©ç±»ï¼ˆNpoiExcelImportHelperï¼‰ï¼š&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * Author:è¿½é€æ—¶å…‰è€…
 * Descriptionï¼šNpoiæ•°æ®å¯¼å…¥å¸®åŠ©ç±»
 * Descriptionï¼š2020å¹´9æœˆ8æ—¥
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;using&lt;/span&gt;&lt;span&gt; System;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Data;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.IO;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; NPOI.HSSF.UserModel;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; NPOI.SS.UserModel;
&lt;/span&gt;&lt;span&gt;using&lt;/span&gt;&lt;span&gt; NPOI.XSSF.UserModel;

&lt;/span&gt;&lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; YY_Utility
{
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; NpoiExcelImportHelper
    {
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; NpoiExcelImportHelper _excelImportHelper;

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; NpoiExcelImportHelper _
        {
            &lt;/span&gt;&lt;span&gt;get&lt;/span&gt; =&amp;gt; _excelImportHelper ?? (_excelImportHelper = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; NpoiExcelImportHelper());
            &lt;/span&gt;&lt;span&gt;set&lt;/span&gt; =&amp;gt; _excelImportHelper =&lt;span&gt; value;
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¯»å–excelè¡¨æ ¼ä¸­çš„æ•°æ®,å°†Excelæ–‡ä»¶æµè½¬åŒ–ä¸ºdataTableæ•°æ®æº  
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt;&lt;span&gt; é»˜è®¤ç¬¬ä¸€è¡Œä¸ºæ ‡é¢˜ 
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;stream&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;excelæ–‡æ¡£æ–‡ä»¶æµ&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;fileType&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;æ–‡æ¡£æ ¼å¼&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;isSuccess&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;æ˜¯å¦è½¬åŒ–æˆåŠŸ&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;resultMsg&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;è½¬æ¢ç»“æœæ¶ˆæ¯&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; DataTable ExcelToDataTable(Stream stream, &lt;span&gt;string&lt;/span&gt; fileType, &lt;span&gt;out&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isSuccess, &lt;span&gt;out&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; resultMsg)
        {
            isSuccess &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
            resultMsg &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Excelæ–‡ä»¶æµæˆåŠŸè½¬åŒ–ä¸ºDataTableæ•°æ®æº&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; excelToDataTable = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; DataTable();

            &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt;
            {
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Workbookå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå·¥ä½œç°¿,é¦–å…ˆå®šä¹‰ä¸€ä¸ªExcelå·¥ä½œè–„&lt;/span&gt;
&lt;span&gt;                IWorkbook workbook;

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;XSSFWorkbook é€‚ç”¨XLSXæ ¼å¼ï¼ŒHSSFWorkbook é€‚ç”¨XLSæ ¼å¼&lt;/span&gt;
                &lt;span&gt;#region&lt;/span&gt; åˆ¤æ–­Excelç‰ˆæœ¬
                &lt;span&gt;switch&lt;/span&gt;&lt;span&gt; (fileType)
                {
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;.XLSXæ˜¯07ç‰ˆ(æˆ–è€…07ä»¥ä¸Šçš„)çš„Office Excel&lt;/span&gt;
                    &lt;span&gt;case&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.xlsx&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:
                        workbook &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; XSSFWorkbook(stream);
                        &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;.XLSæ˜¯03ç‰ˆçš„Office Excel&lt;/span&gt;
                    &lt;span&gt;case&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.xls&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:
                        workbook &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HSSFWorkbook(stream);
                        &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                    &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt;:
                        &lt;/span&gt;&lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; Exception(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Excelæ–‡æ¡£æ ¼å¼æœ‰è¯¯&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
                }
                &lt;/span&gt;&lt;span&gt;#endregion&lt;/span&gt;

                &lt;span&gt;var&lt;/span&gt; sheet = workbook.GetSheetAt(&lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; rows =&lt;span&gt; sheet.GetRowEnumerator();

                &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; headerRow = sheet.GetRow(&lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; cellCount = headerRow.LastCellNum;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æœ€åä¸€è¡Œåˆ—æ•°ï¼ˆå³ä¸ºæ€»åˆ—æ•°ï¼‰

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–ç¬¬ä¸€è¡Œæ ‡é¢˜åˆ—æ•°æ®æº,è½¬æ¢ä¸ºdataTableæ•°æ®æºçš„è¡¨æ ¼æ ‡é¢˜åç§°&lt;/span&gt;
                &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; j = &lt;span&gt;0&lt;/span&gt;; j &amp;lt; cellCount; j++&lt;span&gt;)
                {
                    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; cell =&lt;span&gt; headerRow.GetCell(j);
                    excelToDataTable.Columns.Add(cell.ToString());
                }

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–Excelè¡¨æ ¼ä¸­é™¤æ ‡é¢˜ä»¥ä¸ºçš„æ‰€æœ‰æ•°æ®æºï¼Œè½¬åŒ–ä¸ºdataTableä¸­çš„è¡¨æ ¼æ•°æ®æº&lt;/span&gt;
                &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; i = (sheet.FirstRowNum + &lt;span&gt;1&lt;/span&gt;); i &amp;lt;= sheet.LastRowNum; i++&lt;span&gt;)
                {
                    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; dataRow =&lt;span&gt; excelToDataTable.NewRow();

                    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; row =&lt;span&gt; sheet.GetRow(i);

                    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (row == &lt;span&gt;null&lt;/span&gt;) &lt;span&gt;continue&lt;/span&gt;; &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ²¡æœ‰æ•°æ®çš„è¡Œé»˜è®¤æ˜¯nullã€€&lt;/span&gt;

                    &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; j = row.FirstCellNum; j &amp;lt; cellCount; j++&lt;span&gt;)
                    {
                        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (row.GetCell(j) != &lt;span&gt;null&lt;/span&gt;)&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å•å…ƒæ ¼å†…å®¹éç©ºéªŒè¯&lt;/span&gt;
&lt;span&gt;                        {
                            &lt;/span&gt;&lt;span&gt;#region&lt;/span&gt; NPOIè·å–Excelå•å…ƒæ ¼ä¸­ä¸åŒç±»å‹çš„æ•°æ®
                            &lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–æŒ‡å®šçš„å•å…ƒæ ¼ä¿¡æ¯&lt;/span&gt;
                            &lt;span&gt;var&lt;/span&gt; cell =&lt;span&gt; row.GetCell(j);
                            &lt;/span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; (cell.CellType)
                            {
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;é¦–å…ˆåœ¨NPOIä¸­æ•°å­—å’Œæ—¥æœŸéƒ½å±äºNumericç±»å‹
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;é€šè¿‡NPOIä¸­è‡ªå¸¦çš„DateUtil.IsCellDateFormattedåˆ¤æ–­æ˜¯å¦ä¸ºæ—¶é—´æ—¥æœŸç±»å‹&lt;/span&gt;
                                &lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Numeric when DateUtil.IsCellDateFormatted(cell):
                                    dataRow[j] &lt;/span&gt;=&lt;span&gt; cell.DateCellValue;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Numeric:
                                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¶ä»–æ•°å­—ç±»å‹&lt;/span&gt;
                                    dataRow[j] =&lt;span&gt; cell.NumericCellValue;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç©ºæ•°æ®ç±»å‹&lt;/span&gt;
                                &lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Blank:
                                    dataRow[j] &lt;/span&gt;= &lt;span&gt;&quot;&quot;&lt;/span&gt;&lt;span&gt;;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¬å¼ç±»å‹&lt;/span&gt;
                                &lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Formula:
                                {
                                    HSSFFormulaEvaluator eva &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HSSFFormulaEvaluator(workbook);
                                    dataRow[j] &lt;/span&gt;=&lt;span&gt; eva.Evaluate(cell).StringValue;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                }
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¸ƒå°”ç±»å‹&lt;/span&gt;
                                &lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Boolean:
                                    dataRow[j] &lt;/span&gt;=&lt;span&gt; row.GetCell(j).BooleanCellValue;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;é”™è¯¯&lt;/span&gt;
                                &lt;span&gt;case&lt;/span&gt;&lt;span&gt; CellType.Error:
                                    dataRow[j] &lt;/span&gt;=&lt;span&gt; HSSFErrorConstants.GetText(row.GetCell(j).ErrorCellValue);
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å…¶ä»–ç±»å‹éƒ½æŒ‰å­—ç¬¦ä¸²ç±»å‹æ¥å¤„ç†ï¼ˆæœªçŸ¥ç±»å‹CellType.Unknownï¼Œå­—ç¬¦ä¸²ç±»å‹CellType.Stringï¼‰&lt;/span&gt;
                                &lt;span&gt;default&lt;/span&gt;&lt;span&gt;:
                                    dataRow[j] &lt;/span&gt;=&lt;span&gt; cell.StringCellValue;
                                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
                            }
                            &lt;/span&gt;&lt;span&gt;#endregion&lt;/span&gt;&lt;span&gt;
                        }
                    }
                    excelToDataTable.Rows.Add(dataRow);
                }

                isSuccess &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
            }
            &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception e)
            {
                resultMsg &lt;/span&gt;=&lt;span&gt; e.Message;
            }

            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; excelToDataTable;
        }
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;æ€»ç»“ï¼š&lt;/h2&gt;
&lt;p&gt;ã€€ã€€å…³äº.NET Core ä½¿ç”¨NPOIå¯¼å…¥æ•°æ®å’Œå¯¼å‡ºWordï¼ŒExcelæ•°æ®çš„æ•™ç¨‹åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½äº†ï¼Œå‡å¦‚å¤§å®¶æ„Ÿå…´è¶£çš„è¯æˆ–è€…å¯¹å¤§å®¶æœ‰å¸®åŠ©çš„è¯ä¸è¦å¿˜è®°äº†å‰å¾€&lt;span&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/YSGStudyHards/NPOI-ExportWordAndExcel-ImportExcelData&quot; target=&quot;_blank&quot;&gt;NPOI-ExportWordAndExcel-ImportExcelDataÂ &lt;/a&gt;&lt;/strong&gt;&lt;/span&gt;é¡¹ç›®ä¸­ç»™æˆ‘ä¸€ä¸ªstarå“¦ï¼Œè°¢è°¢ã€‚&lt;/p&gt;
&lt;h2&gt;ç›¸å…³å®ä¾‹é“¾æ¥åœ°å€ï¼š&lt;/h2&gt;
&lt;h3&gt;&lt;strong&gt;GitHubå®Œæ•´å®ä¾‹åœ°å€ï¼š&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/YSGStudyHards/NPOI-ExportWordAndExcel-ImportExcelData&quot;&gt;https://github.com/YSGStudyHards/NPOI-ExportWordAndExcel-ImportExcelData&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;.NET Coreä½¿ç”¨NPOIå¯¼å‡ºå¤æ‚ï¼Œç¾è§‚çš„Excelè¯¦è§£ï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/Can-daydayup/p/12501400.html&quot;&gt;https://www.cnblogs.com/Can-daydayup/p/12501400.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;.NET Coreä½¿ç”¨NPOIå¯¼å‡ºå¤æ‚Wordè¯¦è§£ï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/Can-daydayup/p/11588531.html&quot;&gt;https://www.cnblogs.com/Can-daydayup/p/11588531.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;.NET Coreä½¿ç”¨NPOIå°†Excelä¸­çš„æ•°æ®æ‰¹é‡å¯¼å…¥åˆ°MySQLï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/Can-daydayup/p/12593165.html&quot;&gt;https://www.cnblogs.com/Can-daydayup/p/12593165.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ASP.NET Core MVC+Layuiä½¿ç”¨EF Coreè¿æ¥MySQLæ‰§è¡Œç®€å•çš„CRUDæ“ä½œï¼š&lt;/h3&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/Can-daydayup/p/12593599.html%E3%80%80%E3%80%80&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/Can-daydayup/p/12593599.html&lt;br/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Fri, 11 Sep 2020 15:31:00 +0000</pubDate>
<dc:creator>è¿½é€æ—¶å…‰è€…</dc:creator>
<og:description>å‰è¨€ï¼š åœ¨ä¹‹å‰çš„å‡ ç¯‡åšå®¢ä¸­å†™è¿‡.NET Coreä½¿ç”¨NPOIå¯¼å‡ºWordå’ŒExcelçš„æ–‡ç« ï¼Œä»Šå¤©æŠŠåŒæ ·æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­æ¯”è¾ƒå¸¸ç”¨çš„ä½¿ç”¨Excelå¯¼å…¥æ•°æ®åˆ°MySQLæ•°æ®åº“ä¸­çš„æ–‡ç« ç»™å®‰æ’ä¸Šã€‚ä¸æ­¤åŒæ—¶è¿˜æŠŠNP</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Can-daydayup/p/12593165.html</dc:identifier>
</item>
<item>
<title>é€šä¿—ç†è§£çº¿æ€§å›å½’(Linear Regression) - xiaoxia0722</title>
<link>http://www.cnblogs.com/xiaoxia722/p/13654909.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xiaoxia722/p/13654909.html</guid>
<description>&lt;p&gt;çº¿æ€§å›å½’, æœ€ç®€å•çš„æœºå™¨å­¦ä¹ ç®—æ³•, å½“ä½ çœ‹å®Œè¿™ç¯‡æ–‡ç« , ä½ å°±ä¼šå‘ç°, çº¿æ€§å›å½’æ˜¯å¤šä¹ˆçš„ç®€å•.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ, ä»€ä¹ˆæ˜¯çº¿æ€§å›å½’. ç®€å•çš„è¯´, å°±æ˜¯åœ¨åæ ‡ç³»ä¸­æœ‰å¾ˆå¤šç‚¹, çº¿æ€§å›å½’çš„ç›®çš„å°±æ˜¯æ‰¾åˆ°ä¸€æ¡çº¿ä½¿å¾—è¿™äº›ç‚¹éƒ½åœ¨è¿™æ¡ç›´çº¿ä¸Šæˆ–è€…ç›´çº¿çš„å‘¨å›´, è¿™å°±æ˜¯&lt;strong&gt;çº¿æ€§å›å½’(Linear Regression)&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯æœ‰ç”»é¢æ„Ÿäº†? é‚£ä¹ˆæˆ‘ä»¬ä¸Šå›¾ç‰‡:&lt;br/&gt;&lt;img src=&quot;https://xiaoxiablogs.top/usr/uploads/2020/09/2554413617.png&quot; alt=&quot;1.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ¥ä¸‹æ¥, å°±è®©æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„çº¿æ€§å›å½’å§&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ, æˆ‘ä»¬ä»¥äºŒç»´æ•°æ®ä¸ºä¾‹:&lt;br/&gt;æˆ‘ä»¬æœ‰ä¸€ç»„æ•°æ®&lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt;å’Œ&lt;span class=&quot;math inline&quot;&gt;\(y\)&lt;/span&gt;, å…¶ä¸­&lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt;æ˜¯æˆ‘ä»¬çš„ç‰¹å¾, &lt;span class=&quot;math inline&quot;&gt;\(y\)&lt;/span&gt;å°±æ˜¯æˆ‘ä»¬çš„çœŸå®å€¼(ä¹Ÿå°±æ˜¯æ¯ä¸€ä¸ªxå¯¹åº”çš„å€¼), æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ª&lt;span class=&quot;math inline&quot;&gt;\(w\)&lt;/span&gt;å’Œ&lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;ä»è€Œå¾—åˆ°ä¸€æ¡ç›´çº¿&lt;span class=&quot;math inline&quot;&gt;\(y=wx+b\)&lt;/span&gt;, è€Œè¿™æ¡ç›´çº¿çš„&lt;span class=&quot;math inline&quot;&gt;\(w\)&lt;/span&gt;å’Œ&lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;å°±æ˜¯æˆ‘ä»¬çº¿æ€§å›å½’æ‰€éœ€è¦æ±‚çš„å‚æ•°&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ, &lt;span class=&quot;math inline&quot;&gt;\(w\)&lt;/span&gt;å’Œ&lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;éœ€è¦æ€æ ·æ±‚å¾—å‘¢? é‚£ä¹ˆæˆ‘ä»¬éœ€è¦å…ˆæ¥äº†è§£ä¸€ä¸‹ä»–çš„æœºåˆ¶&lt;/p&gt;
&lt;p&gt;å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´, æˆ‘ä»¬éœ€è¦è¿™æ¡ç›´çº¿ä½¿å¾—æ‰€æœ‰çš„ç‚¹å°½å¯èƒ½çš„åœ¨ç›´çº¿ä¸Šæˆ–è€…ç›´çº¿çš„ä¸¤è¾¹, ä¹Ÿå°±æ˜¯è¯´, æˆ‘ä»¬è¿™äº›&lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt;åœ¨æˆ‘ä»¬ç›´çº¿ä¸Šå¯¹åº”çš„å€¼ä¸æˆ‘ä»¬çœŸå®çš„å€¼çš„å·®å°½å¯èƒ½çš„å°, å³&lt;span class=&quot;math inline&quot;&gt;\(|y-(wx+b)|\)&lt;/span&gt;å°½å¯èƒ½çš„å°, å› æ­¤å°±æœ‰äº†æˆ‘ä»¬çš„&lt;strong&gt;æŸå¤±å‡½æ•°&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;\[L=\frac1n\sum^n_{i=1}(y-(wx+b))^2 \]&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬çš„ç›®æ ‡å°±å˜æˆäº†ä½¿å¾—&lt;span class=&quot;math inline&quot;&gt;\(L\)&lt;/span&gt;å°½å¯èƒ½çš„å°&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¯¹æŸå¤±å‡½æ•°æ±‚å¯¼:&lt;/p&gt;
&lt;p&gt;\[\frac{\partial L}{\partial\omega}=2\left(\omega\sum^n_{i=1}x_i^2-\sum^n_{i=1}(y_i-b)x_i\right)=0 \]&lt;/p&gt;
&lt;p&gt;\[\frac{\partial L}{\partial b}=2\left(nb-\sum^n_{i=1}(y_i-\omega x_i)\right)=0 \]&lt;/p&gt;
&lt;p&gt;æ±‚è§£ä»¥åå¯å¾—:&lt;/p&gt;
&lt;p&gt;\[\omega=\frac{\sum^n_{i=1}y_i(x_i-\overline x)}{\sum^n_{i=1}x^2_i-\frac1m\left(\sum^m_{i=1}x_i\right)^2} \]&lt;/p&gt;
&lt;p&gt;\[b = \frac1m\sum^n_{i=1}(y_i-\omega x_i) \]&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;span class=&quot;math inline&quot;&gt;\(\overline x=\frac1n\sum^n_{i=1}x_i\)&lt;/span&gt;å³&lt;span class=&quot;math inline&quot;&gt;\(\overline x\)&lt;/span&gt;æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt;çš„å‡å€¼&lt;/p&gt;
&lt;p&gt;è€Œè¿™å°±æ˜¯æˆ‘ä»¬çš„&lt;strong&gt;æœ€å°äºŒä¹˜æ³•&lt;/strong&gt;, æ±‚è§£å¾—åˆ°çš„&lt;span class=&quot;math inline&quot;&gt;\(w\)&lt;/span&gt;å’Œ&lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;å°±æ˜¯æˆ‘ä»¬æ‹Ÿåˆå‡ºæ¥çš„ç›´çº¿çš„å‚æ•°.&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå°±ä¸‹æ¥, æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹å½“&lt;span class=&quot;math inline&quot;&gt;\(X\)&lt;/span&gt;ä¸ºå¤šç»´çš„æƒ…å†µ, ä¹Ÿå°±æ˜¯&lt;strong&gt;å¤šå…ƒçº¿æ€§å›å½’&lt;/strong&gt;&lt;br/&gt;ä¸ä¸Šé¢çš„ä¸€æ ·, æˆ‘ä»¬éœ€è¦æ‹Ÿåˆä¸€ä¸ªç›´çº¿&lt;span class=&quot;math inline&quot;&gt;\(w^TX+b\)&lt;/span&gt;ä½¿å¾—å¤§å¤šæ•°çš„ç‚¹åœ¨ç›´çº¿ä¸Šæˆ–è€…åœ¨ç›´çº¿å‘¨å›´, ä¸åŒçš„æ˜¯, ç°åœ¨æˆ‘ä»¬çš„&lt;span class=&quot;math inline&quot;&gt;\(w\)&lt;/span&gt;æ˜¯å¤šç»´çš„, è€Œæˆ‘ä»¬çš„æŸå¤±å‡½æ•°ä¹Ÿå°±å˜æˆäº†&lt;/p&gt;
&lt;p&gt;\[L=\frac1n\sum^n_{i=1}(y-(w^TX+b))^2 \]&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢çš„ç»éªŒ, æˆ‘ä»¬éœ€è¦å¯¹æŸå¤±å‡½æ•°æ±‚åå¯¼, åœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†, å¤§å®¶å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://xiaoxiablogs.top/index.php/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/least-square-method.html&quot;&gt;https://xiaoxiablogs.top/index.php/æœºå™¨å­¦ä¹ /least-square-method.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Š, å°±æ˜¯æˆ‘ä»¬çš„çº¿æ€§å›å½’ä»¥åŠä½¿ç”¨æœ€å°äºŒä¹˜æ³•æ±‚çº¿æ€§å›å½’äº†&lt;/p&gt;
&lt;p&gt;æœ¬äººåšå®¢&lt;a href=&quot;https://xiaoxiablogs.top&quot;&gt;https://xiaoxiablogs.top&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Fri, 11 Sep 2020 14:55:00 +0000</pubDate>
<dc:creator>xiaoxia0722</dc:creator>
<og:description>çº¿æ€§å›å½’, æœ€ç®€å•çš„æœºå™¨å­¦ä¹ ç®—æ³•, å½“ä½ çœ‹å®Œè¿™ç¯‡æ–‡ç« , ä½ å°±ä¼šå‘ç°, çº¿æ€§å›å½’æ˜¯å¤šä¹ˆçš„ç®€å•. é¦–å…ˆ, ä»€ä¹ˆæ˜¯çº¿æ€§å›å½’. ç®€å•çš„è¯´, å°±æ˜¯åœ¨åæ ‡ç³»ä¸­æœ‰å¾ˆå¤šç‚¹, çº¿æ€§å›å½’çš„ç›®çš„å°±æ˜¯æ‰¾åˆ°ä¸€æ¡çº¿ä½¿å¾—è¿™äº›ç‚¹éƒ½åœ¨</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xiaoxia722/p/13654909.html</dc:identifier>
</item>
<item>
<title>Linuxä¸‹Python3.6çš„å®‰è£…åŠé¿å‘æŒ‡å— - è‰¯è®¸Linux</title>
<link>http://www.cnblogs.com/yychuyu/p/13654664.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yychuyu/p/13654664.html</guid>
<description>&lt;h2 id=&quot;python3çš„å®‰è£…&quot;&gt;Python3çš„å®‰è£…&lt;/h2&gt;
&lt;h4 id=&quot;1å®‰è£…ä¾èµ–ç¯å¢ƒ&quot;&gt;1.å®‰è£…ä¾èµ–ç¯å¢ƒ&lt;/h4&gt;
&lt;p&gt;Python3åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç”¨åˆ°å„ç§ä¾èµ–åº“ï¼Œæ‰€ä»¥åœ¨æ­£å¼å®‰è£…Python3ä¹‹å‰ï¼Œéœ€è¦å°†è¿™äº›ä¾èµ–åº“å…ˆè¡Œå®‰è£…å¥½ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;2-ä¸‹è½½python3æºä»£ç &quot;&gt;2. ä¸‹è½½Python3æºä»£ç &lt;/h4&gt;
&lt;p&gt;ä¸‹è½½Python3çš„æºä»£ç æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨å®ƒçš„å®˜ç½‘ä¸‹è½½ï¼Œç½‘å€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;https://www.python.org/downloads/source/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;[å›¾ç‰‡]&lt;/p&gt;
&lt;p&gt;å¦å¤–ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡wgetç›´æ¥ä¸‹è½½ï¼Œå¦‚ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;3-åˆ›å»ºå®‰è£…ç›®å½•&quot;&gt;3. åˆ›å»ºå®‰è£…ç›®å½•&lt;/h4&gt;
&lt;p&gt;å®‰è£…ç›®å½•å¯ä¾ä¸ªäººå–œå¥½åˆ›å»ºï¼Œæ¯”å¦‚åœ¨æ­¤åˆ›å»ºåœ¨ &lt;code&gt;/usr/local/python3&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;mkdir -p /usr/local/python3
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;4-è§£å‹æºç åŒ…&quot;&gt;4. è§£å‹æºç åŒ…&lt;/h4&gt;
&lt;p&gt;å°†ç¬¬2æ­¥ä¸‹è½½åˆ°çš„æºç åŒ…è¿›è¡Œè§£å‹ï¼Œå‘½ä»¤ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tar -zxvf Python-3.6.1.tgz
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;5-ç¼–è¯‘æºç &quot;&gt;5. ç¼–è¯‘æºç &lt;/h4&gt;
&lt;p&gt;å…ˆè¿›å…¥è§£å‹åæºç åŒ…çš„ç›®å½•ï¼Œå†è¿›è¡Œé…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;cd Python-3.6.1
./configure --prefix=/usr/local/python3
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¹‹åå†ç¼–è¯‘ï¼Œç„¶åå†å®‰è£…ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;make
make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;6-å»ºç«‹python3çš„è½¯é“¾æ¥&quot;&gt;6. å»ºç«‹Python3çš„è½¯é“¾æ¥&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;ln -s /usr/local/python3/bin/python3 /usr/bin/python3
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;7--å°†usrlocalpython3binåŠ å…¥path&quot;&gt;7. å°†/usr/local/python3/binåŠ å…¥PATH&lt;/h4&gt;
&lt;p&gt;ç¼–è¾‘bash_profileè¿›è¡Œä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;vim ~/.bash_profile
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨PATHå˜é‡ä¸‹å°†Python3çš„å¯åŠ¨ç›®å½•æ·»åŠ è¿›å»ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;# .bash_profile

# Get the aliases and functions
if [ -f ~/.bashrc ]; then
        . ~/.bashrc
fi

# User specific environment and startup programs

PATH=$PATH:$HOME/bin:/usr/local/python3/bin

export PATH
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ”¹åŠ¨å®Œæ¯•ä¹‹åï¼ŒæŒ‰Escï¼Œå†è¾“å…¥:wqè¿›è¡Œä¿å­˜é€€å‡ºã€‚&lt;/p&gt;
&lt;h4 id=&quot;8-æ£€æŸ¥python3åŠpip3æ˜¯å¦æ­£å¸¸å¯ç”¨&quot;&gt;8. æ£€æŸ¥Python3åŠPip3æ˜¯å¦æ­£å¸¸å¯ç”¨&lt;/h4&gt;
&lt;p&gt;æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆæ³¨æ„ï¼šVæ˜¯å¤§å†™çš„Vï¼‰ï¼Œå¦‚æœçœ‹åˆ°çš„ç»“æœä¸€è‡´çš„è¯ï¼Œè¯´æ˜Python3å·²ç»æˆåŠŸå®‰è£…ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;[alvin@VM_0_16_centos ~]$ python3 -V
Python 3.6.1
[alvin@VM_0_16_centos ~]$ pip3 -V
pip 9.0.1 from /usr/local/lib/python3.6/site-packages (python 3.6)
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;é¿å‘æŒ‡å—&quot;&gt;é¿å‘æŒ‡å—&lt;/h2&gt;
&lt;p&gt;å…¶å®ï¼Œå¯¹äºPython3çš„å®‰è£…ï¼Œç½‘ç»œä¸Šæœ‰å¤ªå¤šçš„å¸–å­äº†ï¼Œæ­¥éª¤å…¶å®éƒ½å¤§åŒå°å¼‚ã€‚ä½†æ˜¯ï¼Œåœ¨çœŸæ­£åŠ¨æ‰‹å®‰è£…ä¹‹åï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šé‡åˆ°ä¸€äº›éº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯å¯¹æ–°æ‰‹è€Œè¨€ã€‚ä¸‹é¢è‰¯è®¸å°±åˆ—ä¸¾ä¸€äº›å¸¸è§çš„å‘ï¼š&lt;/p&gt;
&lt;h4 id=&quot;å‘1ï¼šconfigure-error-no-acceptable-c-compiler-found-in-path&quot;&gt;å‘1ï¼šconfigure: error: no acceptable C compiler found in $PATH&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å°±æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯ç¼ºå°‘gccç¼–è¯‘ç¯å¢ƒã€‚å°†gccå®‰è£…ä¸Šå³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;yum install -y gcc
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“ç„¶é™¤æ­¤ä¹‹å¤–ï¼Œé‡‡ç”¨æºç å®‰è£…çš„æ–¹å¼ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å‘2ï¼šzipimportzipimporterror-cant-decompress-data&quot;&gt;å‘2ï¼šzipimport.ZipImportError: canâ€™t decompress data&lt;/h4&gt;
&lt;p&gt;è¿™ç§é—®é¢˜å°±æ˜¯å› ä¸ºç¼ºå°‘zlib çš„ç›¸å…³å·¥å…·åŒ…å¯¼è‡´çš„ï¼Œå°†ç›¸å…³ä¾èµ–åŒ…è£…ä¸Šå³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;yum -y install zlib*
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®‰è£…ä¹‹åå†é‡æ–°ç¼–è¯‘æºç ï¼Œå³å¯è§£å†³ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å‘3ï¼špip3-cant-connect-to-https-url-because-the-ssl-module-is-not-available&quot;&gt;å‘3ï¼špip3: Can't connect to HTTPS URL because the SSL module is not available&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºåœ¨./configureè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰åŠ ä¸Šâ€“with-sslå‚æ•°æ—¶ï¼Œé»˜è®¤å®‰è£…çš„è½¯ä»¶æ¶‰åŠåˆ°sslçš„åŠŸèƒ½ä¸å¯ç”¨ï¼Œåˆšå¥½pip3è¿‡ç¨‹éœ€è¦sslæ¨¡å—ï¼Œè€Œç”±äºæ²¡æœ‰æŒ‡å®šï¼Œæ‰€ä»¥è¯¥åŠŸèƒ½ä¸å¯ç”¨ã€‚è§£å†³åŠæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;cd Python-3.6.2
./configure --with-ssl
make
sudo make install
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;å‘4ï¼šmultilib-version-problems&quot;&gt;å‘4ï¼šMultilib version problems&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªå¾ˆæ˜æ˜¾äº†ï¼Œå°±æ˜¯åŒä¸€ä¸ªåº“æœ‰å¤šä¸ªç‰ˆæœ¬ã€‚æŠŠå¤šä½™çš„ç‰ˆæœ¬åˆ é™¤äº†å°±å¥½ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŸ¥è¯¢å·²æœ‰çš„ç‰ˆæœ¬ï¼ˆä»¥opensslä¸ºä¾‹ï¼Œå†²çªå“ªä¸ªæŸ¥å“ªä¸ªï¼‰&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# rpm -qa | grep openssl
openssl-devel-1.0.0-27.el6_4.2.x86_64
openssl-1.0.0-27.el6_4.2.x86_64
openssl-1.0.0-27.el6_4.2.i686
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ç³»ç»Ÿé‡Œå®‰è£…äº†openssl-1.0.0-27.el6_4.2.x86_64å’Œopenssl-1.0.0-27.el6_4.2.i686ä¸¤ä¸ªç‰ˆæœ¬çš„opensslï¼Œæˆ‘ä»¬ç•™ä¸‹x86çš„ç‰ˆæœ¬å³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;rpm --erase --nodeps openssl-1.0.0-27.el6_4.2.i686
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å†æ›´æ–°ä¸€ä¸‹opensslï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# yum update &quot;openssl*&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å†æŸ¥è¯¢ä¸€ä¸‹opensslï¼Œé—®é¢˜è§£å†³ï¼&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# rpm -qa | grep openssl
openssl-devel-1.0.1e-16.el6_5.7.x86_64
openssl-1.0.1e-16.el6_5.7.x86_64
&lt;/code&gt;
&lt;/pre&gt;
&lt;hr/&gt;&lt;p&gt;å…¬ä¼—å·ï¼šè‰¯è®¸Linux&lt;/p&gt;
&lt;img src=&quot;https://pic.downk.cc/item/5e618d2f98271cb2b8f65fe8.jpg&quot;/&gt;&lt;h3 id=&quot;æœ‰æ”¶è·ï¼Ÿå¸Œæœ›è€é“ä»¬æ¥ä¸ªä¸‰è¿å‡»ï¼Œç»™æ›´å¤šçš„äººçœ‹åˆ°è¿™ç¯‡æ–‡ç« &quot;&gt;æœ‰æ”¶è·ï¼Ÿå¸Œæœ›è€é“ä»¬æ¥ä¸ªä¸‰è¿å‡»ï¼Œç»™æ›´å¤šçš„äººçœ‹åˆ°è¿™ç¯‡æ–‡ç« &lt;/h3&gt;
</description>
<pubDate>Fri, 11 Sep 2020 14:05:00 +0000</pubDate>
<dc:creator>è‰¯è®¸Linux</dc:creator>
<og:description>Python3çš„å®‰è£… 1.å®‰è£…ä¾èµ–ç¯å¢ƒ Python3åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç”¨åˆ°å„ç§ä¾èµ–åº“ï¼Œæ‰€ä»¥åœ¨æ­£å¼å®‰è£…Python3ä¹‹å‰ï¼Œéœ€è¦å°†è¿™äº›ä¾èµ–åº“å…ˆè¡Œå®‰è£…å¥½ã€‚ yum -y install zlib-dev</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yychuyu/p/13654664.html</dc:identifier>
</item>
<item>
<title>RabbitMQå’ŒKafkaçš„é«˜å¯ç”¨é›†ç¾¤åŸç† - H.U.C-ç‹å­</title>
<link>http://www.cnblogs.com/lm970585581/p/13652841.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lm970585581/p/13652841.html</guid>
<description>&lt;h3&gt;Â &lt;/h3&gt;
&lt;h3&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;å°ä¼™ä¼´ä»¬ï¼Œé€šè¿‡å‰è¾¹æ–‡ç« çš„é˜…è¯»ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»å¯¹RocketMQçš„åŸºæœ¬åŸç†æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒæ·±å…¥çš„äº†è§£ï¼Œé‚£ä¹ˆå¤§å®¶å¯¹å½“å‰æ¯”è¾ƒå¸¸ç”¨çš„RabbitMQå’ŒKafkaæ˜¯ä¸æ˜¯ä¹Ÿæœ‰å…´è¶£äº†è§£ä¸€äº›å‘¢ï¼Œäº†è§£çš„å¤šä¸€äº›ä¹Ÿä¸æ˜¯åäº‹ï¼Œé¢è¯•æˆ–è€…è·ŸäººèŠæŠ€æœ¯çš„æ—¶å€™ä¹Ÿä¼šè®©ä½ æ›´æœ‰è¯è¯­æƒå˜›ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ç‹å­ä»Šå¤©å°±è·Ÿå¤§å®¶èŠä¸€èŠRabbitMQå’ŒKafkaåœ¨å¤„ç†é«˜å¯ç”¨é›†ç¾¤æ—¶çš„åŸç†ï¼Œçœ‹çœ‹å®ƒä»¬ä¸RocketMQæœ‰ä»€ä¹ˆä¸åŒã€‚å°ä¼™ä¼´ä»¬å¯ä»¥é‡æ–°æ¸©ä¹ ä¸€ä¸‹&lt;a href=&quot;https://mp.weixin.qq.com/s/9-nwO3sXU1EqRW3QTIbH8g&quot; target=&quot;_blank&quot;&gt;å¸¸è§çš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰å“ªäº›ï¼Ÿä½ ä»¬æ˜¯æ€ä¹ˆè¿›è¡ŒæŠ€æœ¯é€‰å‹çš„ï¼Ÿ&lt;/a&gt;è¿™ç¯‡æ–‡ç« ï¼Œäº†è§£ä¸€ä¸‹ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚&lt;/p&gt;

&lt;h3&gt;RabbitMQçš„é«˜å¯ç”¨&lt;/h3&gt;
&lt;p&gt;ä¹‹å‰æˆ‘ä»¬çš„æ–‡ç« è®²è¿‡ï¼ŒRabbitMQæ˜¯ActiveMQçš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£äº§å“ï¼Œå®ƒæ˜¯åŸºäºä¸»ä»å®ç°çš„é«˜å¯ç”¨é›†ç¾¤ï¼Œä½†å®ƒæ˜¯éåˆ†å¸ƒå¼çš„ã€‚&lt;/p&gt;
&lt;p&gt;RabbitMQä¸€å…±æœ‰ä¸‰ç§æ¨¡å¼ï¼š&lt;strong&gt;å•æœºæ¨¡å¼ã€æ™®é€šé›†ç¾¤æ¨¡å¼ã€é•œåƒé›†ç¾¤æ¨¡å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å•æœºæ¨¡å¼æ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œè‡ªå·±å¼€å‘ç»ƒæ‰‹ç©ç©å°±è¡Œï¼Œæˆ‘ä»¬ä¸»è¦è¯´ä¸€ä¸‹ä¸¤ç§é›†ç¾¤æ¨¡å¼çš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ™®é€šé›†ç¾¤æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ™®é€šé›†ç¾¤æ¨¡å¼ï¼Œå…¶å®å°±æ˜¯å°†RabbitMQÂ éƒ¨ç½²åˆ°å¤šå°æœºå™¨ä¸Šï¼Œæ¯ä¸ªæœºå™¨å¯åŠ¨ä¸€ä¸ªï¼Œå®ƒä»¬ä¹‹é—´è¿›è¡Œæ¶ˆæ¯é€šä¿¡ã€‚ä½ åˆ›å»ºçš„ queueï¼Œåªä¼šæ”¾åœ¨ä¸€ä¸ª RabbitMQ çš„å®ä¾‹ä¸Šï¼Œå…¶ä»–çš„å®ä¾‹ä¼šåŒæ­¥ queue çš„å…ƒæ•°æ®ï¼ˆå…ƒæ•°æ®é‡ŒåŒ…å«æœ‰ queue çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œé€šè¿‡å…ƒæ•°æ®ï¼Œå¯ä»¥æ‰¾åˆ° queue æ‰€åœ¨çš„ä½ç½®ï¼‰ã€‚ä½ æ¶ˆè´¹çš„æ—¶å€™ï¼Œå®é™…ä¸Šå¦‚æœè¿æ¥åˆ°äº†å¦å¤–ä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆé‚£ä¸ªå®ä¾‹ä¼šé€šè¿‡å…ƒæ•°æ®å®šä½åˆ° queue æ‰€åœ¨çš„ä½ç½®ï¼Œç„¶åè®¿é—®queueæ‰€åœ¨çš„å®ä¾‹ï¼Œæ‹‰å–æ•°æ®è¿‡æ¥å‘é€ç»™æ¶ˆè´¹è€…ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä½“è¿‡ç¨‹è§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1140467/202009/1140467-20200911162351125-510884920.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è¿™ç§æ–¹å¼å¾ˆéº»çƒ¦ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šçš„é›†ç¾¤ï¼Œè€Œä¸”æ•°æ®å¹¶æ²¡æœ‰å‰¯æœ¬ï¼Œåªå­˜å‚¨åœ¨äº†ä¸€å°æœºå™¨ä¸Šï¼Œåªè¦çœŸå®å­˜å‚¨æ•°æ®çš„æœºå™¨å®•æœºï¼Œç³»ç»Ÿç›´æ¥å´©æºƒï¼Œå› ä¸ºæ²¡æœ‰æ•°æ®å¯ä»¥è·å–äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œè¿™ç§æ¨¡å¼çš„é›†ç¾¤æ ¹æœ¬ä¸èƒ½å®ç°é«˜å¯ç”¨ï¼Œåªèƒ½é€šè¿‡è´Ÿè½½å‡è¡¡æé«˜ä¸€äº›MQçš„ååé‡ï¼Œç”Ÿæˆç¯å¢ƒä¸‹æ˜¯ä¸ä¼šä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é•œåƒé›†ç¾¤æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆçœŸæ­£ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå®ç°é«˜å¯ç”¨çš„æ–¹å¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ²¡é”™å°±æ˜¯æ¥ä¸‹æ¥è¦è¯´çš„é•œåƒé›†ç¾¤æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå’Œæ™®é€šé›†ç¾¤æ¨¡å¼æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œqueueæ•°æ®å’ŒåŸæ•°æ®ä¸å†æ˜¯å•ç‹¬å­˜å‚¨åœ¨ä¸€å°æœºå™¨ä¸Šï¼Œè€Œæ˜¯åŒæ—¶å­˜å‚¨åœ¨å¤šå°æœºå™¨ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªRabbitMQå®ä¾‹éƒ½æœ‰ä¸€ä»½é•œåƒæ•°æ®ï¼ˆå‰¯æœ¬æ•°æ®ï¼‰ã€‚æ¯æ¬¡å†™å…¥æ¶ˆæ¯çš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨æŠŠæ•°æ®åŒæ­¥åˆ°å¤šå°å®ä¾‹ä¸Šå»ï¼Œè¿™æ ·ä¸€æ—¦å…¶ä¸­ä¸€å°æœºå™¨å‘ç”Ÿæ•…éšœï¼Œå…¶ä»–æœºå™¨è¿˜æœ‰ä¸€ä»½å‰¯æœ¬æ•°æ®å¯ä»¥ç»§ç»­æä¾›æœåŠ¡ï¼Œä¹Ÿå°±å®ç°äº†é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹çœ‹ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1140467/202009/1140467-20200911163541995-1823909013.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆå¦‚ä½•å¼€å¯é•œåƒé›†ç¾¤æ¨¡å¼å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;RabbitMQæ˜¯æœ‰å¼ºå¤§çš„ç®¡ç†æ§åˆ¶å°çš„ï¼Œé€šè¿‡ç®¡æ§å°å¯ä»¥å¾ˆå®¹æ˜“çš„é…ç½®ï¼Œå…·ä½“æ“ä½œè‡ªè¡Œç™¾åº¦å§ï¼Œæˆ‘ä»¬æœ¬ç¯‡çš„ç›®çš„æ˜¯å¼„æ‡‚åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€èˆ¬å°å‹å…¬å¸ï¼Œå°å‹é¡¹ç›®æ¥è®²ï¼Œè¿™å¥—æ¶æ„å·²ç»å¯ä»¥æ”¯æŒäº†ï¼Œä½†æ˜¯å¯¹äºæµ·é‡å¤§æ•°æ®çš„è¦æ±‚ï¼Œå¦‚æœæ¯å°æœºå™¨éƒ½è¦æœ‰ä¸€ä»½é•œåƒå‰¯æœ¬ï¼Œè€Œä¸”äº’ç›¸ä¹‹é—´è¿˜è¦ä¸åœçš„åŒæ­¥æ•°æ®ï¼Œå®ƒæ˜¯å¾ˆéš¾æ”¯æŒçš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯åˆ†å¸ƒå¼çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨RocketMQå§ã€‚&lt;/p&gt;

&lt;h3&gt;Kafkaçš„é«˜å¯ç”¨&lt;/h3&gt;
&lt;p&gt;å†æ¥èŠèŠKafkaçš„é«˜å¯ç”¨ï¼Œå†èŠé«˜å¯ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç®€å•äº†è§£ä¸‹å®ƒçš„åŸºæœ¬æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæ˜¯ç”±å¤šä¸ªBrokerç»„æˆçš„ï¼Œæ¯ä¸ªBrokeréƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°ä¼™ä¼´ä»¬æ˜¯ä¸æ˜¯æƒ³åˆ°äº†RocketMQçš„Brokerå‘¢ã€‚å½“æˆ‘ä»¬åˆ›å»ºTopicçš„æ—¶å€™ï¼Œè¿™ä¸ªTopicæ˜¯ä¼šåˆ’åˆ†æˆå¤šä¸ªpartitionçš„ï¼Œæ¯ä¸ªpartitionåˆå¯ä»¥å­˜åœ¨ä¸åŒçš„Brokerä¸Šï¼Œè¿™é‡Œçš„æ¯ä¸ªpartitionéƒ½ä¼šæ”¾ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ªåˆ†ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼Œ&lt;strong&gt;Kafkaæ˜¯ä¸€ä¸ªå¤©ç„¶çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒçš„Topicæ˜¯åˆ†æˆå¤šä¸ªpartitionåˆ†å¸ƒåˆ°å¤šä¸ªBrokerä¸Šå­˜å‚¨çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶è®²åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰å¾ˆå¤šå°ä¼™ä¼´ä¼šå¥½å¥‡RocketMQçš„Topicæ˜¯æ€ä¹ˆå­˜å‚¨çš„å‘¢ï¼Ÿéš¾é“RocketMQçš„Topicå°±ä¸ä¼šåˆ†ç‰‡äº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼ŒRocketMQä¹Ÿæ˜¯å€Ÿé‰´äº†Kafkaåˆ†ç‰‡å­˜å‚¨çš„æœºåˆ¶ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µConsumeQueueç”¨æ¥ä»£æ›¿partitionï¼ŒåŸå…ˆkafkaï¼Œé‡Œé¢partitionå­˜å‚¨çš„æ˜¯æ•´ä¸ªæ¶ˆæ¯ï¼Œä½†æ˜¯ç°åœ¨ConsumeQueueé‡Œé¢æ˜¯å­˜å‚¨æ¶ˆæ¯çš„å­˜å‚¨åœ°å€ï¼Œä½†æ˜¯ä¸å­˜å‚¨æ¶ˆæ¯äº†ã€‚ç°åœ¨æ¯ä¸ªConsumeQueueå­˜å‚¨çš„æ˜¯æ¯ä¸ªæ¶ˆæ¯åœ¨commitlogè¿™ä¸ªæ–‡ä»¶çš„åœ°å€ï¼Œä½†æ˜¯æ¶ˆæ¯å­˜åœ¨äºcommitlogä¸­ã€‚&lt;br/&gt;ä¹Ÿå°±æ˜¯æ‰€æœ‰çš„æ¶ˆæ¯ä½“éƒ½å†™åœ¨äº†ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œæ¯ä¸ªConsumeQueueåªæ˜¯å­˜å‚¨è¿™ä¸ªæ¶ˆæ¯åœ¨commitlogä¸­åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œæœ‰å…³RocketMQçš„åŸç†æˆ‘ä»¬ä¹‹åå†å•ç‹¬è®²è§£ï¼Œç°åœ¨æˆ‘ä»¬ç»§ç»­çœ‹Kafkaçš„é«˜å¯ç”¨å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;Kafka 0.8 ä»¥åï¼Œæ‰æ­£å¼å¼€å§‹æ”¯æŒé«˜å¯ç”¨çš„ï¼Œå®ƒæä¾›äº† HA æœºåˆ¶ï¼Œå°±æ˜¯ replicaï¼ˆå¤åˆ¶å“ï¼‰ å‰¯æœ¬æœºåˆ¶ã€‚æ¯ä¸ª partition çš„æ•°æ®éƒ½ä¼šåŒæ­¥åˆ°å…¶å®ƒæœºå™¨ä¸Šï¼Œå½¢æˆè‡ªå·±çš„å¤šä¸ª replica å‰¯æœ¬ã€‚æ‰€æœ‰ replica ä¼šé€‰ä¸¾ä¸€ä¸ª leader å‡ºæ¥ï¼Œé‚£ä¹ˆç”Ÿäº§å’Œæ¶ˆè´¹éƒ½è·Ÿè¿™ä¸ª leader æ‰“äº¤é“ï¼Œç„¶åå…¶ä»– replica å°±æ˜¯ followerã€‚å†™çš„æ—¶å€™ï¼Œleader ä¼šè´Ÿè´£æŠŠæ•°æ®åŒæ­¥åˆ°æ‰€æœ‰ follower ä¸Šå»ï¼Œè¯»çš„æ—¶å€™å°±ç›´æ¥è¯» leader ä¸Šçš„æ•°æ®å³å¯ã€‚åªèƒ½è¯»å†™ leaderï¼Ÿå¾ˆç®€å•ï¼Œè¦æ˜¯ä½ å¯ä»¥éšæ„è¯»å†™æ¯ä¸ª followerï¼Œé‚£ä¹ˆå°±è¦ è€ƒè™‘æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œç³»ç»Ÿå¤æ‚åº¦å¤ªé«˜ï¼Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚Kafka ä¼šå‡åŒ€åœ°å°†ä¸€ä¸ª partition çš„æ‰€æœ‰ replica åˆ†å¸ƒåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·æ‰å¯ä»¥æé«˜å®¹é”™æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹å›¾ï¼Œå°±æ˜¯Kafkaçš„é«˜å¯ç”¨åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1140467/202009/1140467-20200911211906275-189343591.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·çš„ä¸€å¥—æ¶æ„ä¸‹ï¼ŒKafkaå°±å®ç°é«˜å¯ç”¨äº†ã€‚å› ä¸ºå¦‚æœæŸä¸ªBrokeræŒ‚æ‰äº†ï¼Œä»–çš„partitionåœ¨å…¶ä»–Brokerä¸­éƒ½æœ‰å‰¯æœ¬ã€‚å¦‚æœæŒ‚æ‰çš„Brokerä¸Šæœ‰æŸä¸ª partition çš„ leaderï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šä» follower ä¸­é‡æ–°é€‰ä¸¾ä¸€ä¸ªæ–°çš„ leader å‡ºæ¥ï¼Œå¤§å®¶ç»§ç»­è¯»å†™é‚£ä¸ªæ–°çš„ leader å³å¯ã€‚è¿™å°±æœ‰æ‰€è°“çš„é«˜å¯ç”¨æ€§äº†ã€‚&lt;/p&gt;
&lt;p&gt;å†™æ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å°±å‘ leaderå†™æ•°æ®ï¼Œç„¶å leader å°†æ•°æ®è½åœ°å†™æœ¬åœ°ç£ç›˜ï¼Œæ¥ç€å…¶ä»– follower è‡ªå·±ä¸»åŠ¨ä» leader æ¥ pull æ•°æ®ã€‚ä¸€æ—¦æ‰€æœ‰ follower åŒæ­¥å¥½æ•°æ®äº†ï¼Œå°±ä¼šå‘é€ ack ç»™ leaderï¼Œleader æ”¶åˆ°æ‰€æœ‰ follower çš„ ack ä¹‹åï¼Œå°±ä¼šè¿”å›å†™æˆåŠŸçš„æ¶ˆæ¯ç»™ç”Ÿäº§è€…ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™åªæ˜¯å…¶ä¸­ä¸€ç§æ¨¡å¼ï¼Œè¿˜å¯ä»¥é€‚å½“è°ƒæ•´è¿™ä¸ªè¡Œä¸ºï¼‰&lt;/p&gt;
&lt;p&gt;æ¶ˆè´¹çš„æ—¶å€™ï¼Œåªä¼šä» leader å»è¯»ï¼Œä½†æ˜¯åªæœ‰å½“ä¸€ä¸ªæ¶ˆæ¯å·²ç»è¢«æ‰€æœ‰ follower éƒ½åŒæ­¥æˆåŠŸè¿”å› ack çš„æ—¶å€™ï¼Œè¿™ä¸ªæ¶ˆæ¯æ‰ä¼šè¢«æ¶ˆè´¹è€…è¯»åˆ°ã€‚&lt;/p&gt;
&lt;h3&gt;Â &lt;/h3&gt;
&lt;h3&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ç›¸ä¿¡å°ä¼™ä¼´ä»¬å¯¹äºRabbitMQå’ŒKafkaçš„é«˜å¯ç”¨é›†ç¾¤åŸç†ä¸€å®šä¼šæœ‰ä¸ªå¾ˆæ·±çš„è®¤è¯†äº†å§ã€‚é‚£ç‹å­ç»™å¤§å®¶ç•™ä¸‹ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œç°åœ¨ä½ èƒ½è‡ªå·±è¯´å‡ºRabbitMQã€Kafkaã€RocketMQçš„é«˜å¯ç”¨é›†ç¾¤æœ‰ä»€ä¹ˆä¸åŒäº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œæ¬¢è¿å¤§å®¶æŒç»­é˜…è¯»ç‹å­çš„æ¶ˆæ¯ä¸­é—´ä»¶ä¸“è¾‘ï¼Œä¸€èµ·é—²è°ˆæ¶ˆæ¯ä¸­é—´ä»¶çš„é‡Œé‡Œå¤–å¤–å§ã€‚&lt;/p&gt;

&lt;p&gt;å¾€æœŸæ–‡ç« æ¨èï¼š&lt;/p&gt;
&lt;p&gt;ä¸­é—´ä»¶ä¸“è¾‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/8YQBWSEcYqP9OwqEDx9WSg&quot; target=&quot;_blank&quot;&gt;ä»€ä¹ˆæ˜¯æ¶ˆæ¯ä¸­é—´ä»¶ï¼Ÿä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/9-nwO3sXU1EqRW3QTIbH8g&quot; target=&quot;_blank&quot;&gt;å¸¸è§çš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰å“ªäº›ï¼Ÿä½ ä»¬æ˜¯æ€ä¹ˆè¿›è¡ŒæŠ€æœ¯é€‰å‹çš„ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/9K6Ijo4Bgo5MCYg3mANXPA&quot; target=&quot;_blank&quot;&gt;ä½ æ‡‚RocketMQ çš„æ¶æ„åŸç†å—ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/hXvBbKzCDAPNB24MGlnqSQ&quot; target=&quot;_blank&quot;&gt;èŠä¸€èŠRocketMQçš„æ³¨å†Œä¸­å¿ƒNameServer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/bRPpqkPGKHZnyaoouSUqoA&quot; target=&quot;_blank&quot;&gt;Brokerçš„ä¸»ä»æ¶æ„æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/96ydDrg3LuUmg02ARKCcww&quot; target=&quot;_blank&quot;&gt;RocketMQç”Ÿäº§éƒ¨ç½²æ¶æ„å¦‚ä½•è®¾è®¡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç®—æ³•ä¸“è¾‘ï¼š&lt;/p&gt;
&lt;p id=&quot;activity-name&quot; class=&quot;rich_media_title&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/6tP1vDJ5lQcA-xvUoKWIZA&quot; target=&quot;_blank&quot;&gt;å’ŒåŒäº‹è°ˆè°ˆFlood Fill ç®—æ³•&lt;/a&gt;&lt;/p&gt;
&lt;p class=&quot;rich_media_title&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/Bge_Q20FIb6AZghL4UneGg&quot; target=&quot;_blank&quot;&gt;è¯¦è§£è‚¡ç¥¨ä¹°å–ç®—æ³•çš„æœ€ä¼˜è§£(ä¸€)&lt;/a&gt;&lt;/p&gt;
&lt;p class=&quot;rich_media_title&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/25M8TrKcCvLlLe2v7OSfBA&quot; target=&quot;_blank&quot;&gt;è¯¦è§£è‚¡ç¥¨ä¹°å–ç®—æ³•çš„æœ€ä¼˜è§£(äºŒ)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1140467/202009/1140467-20200901142419527-2040845842.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

</description>
<pubDate>Fri, 11 Sep 2020 13:38:00 +0000</pubDate>
<dc:creator>H.U.C-ç‹å­</dc:creator>
<og:description>å‰è¨€ å°ä¼™ä¼´ä»¬ï¼Œé€šè¿‡å‰è¾¹æ–‡ç« çš„é˜…è¯»ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»å¯¹RocketMQçš„åŸºæœ¬åŸç†æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒæ·±å…¥çš„äº†è§£ï¼Œé‚£ä¹ˆå¤§å®¶å¯¹å½“å‰æ¯”è¾ƒå¸¸ç”¨çš„RabbitMQå’ŒKafkaæ˜¯ä¸æ˜¯ä¹Ÿæœ‰å…´è¶£äº†è§£ä¸€äº›å‘¢ï¼Œäº†è§£çš„å¤šä¸€äº›ä¹Ÿä¸æ˜¯åäº‹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/lm970585581/p/13652841.html</dc:identifier>
</item>
<item>
<title>LCç®—æ³•æŠ€å·§æ€»ç»“ï¼ˆäºŒï¼‰ï¼šåŒæŒ‡é’ˆå’Œæ»‘åŠ¨çª—å£æŠ€å·§ - RioTian</title>
<link>http://www.cnblogs.com/RioTian/p/13654412.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/RioTian/p/13654412.html</guid>
<description>&lt;p&gt;æˆ‘æŠŠåŒæŒ‡é’ˆæŠ€å·§å†åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ã€Œå¿«æ…¢æŒ‡é’ˆã€ï¼Œä¸€ç±»æ˜¯ã€Œå·¦å³æŒ‡é’ˆã€ã€‚å‰è€…è§£å†³ä¸»è¦è§£å†³é“¾è¡¨ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚å…¸å‹çš„åˆ¤å®šé“¾è¡¨ä¸­æ˜¯å¦åŒ…å«ç¯ï¼›åè€…ä¸»è¦è§£å†³æ•°ç»„ï¼ˆæˆ–è€…å­—ç¬¦ä¸²ï¼‰ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚äºŒåˆ†æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€å¿«æ…¢æŒ‡é’ˆçš„å¸¸è§ç®—æ³•&quot;&gt;ä¸€ã€å¿«æ…¢æŒ‡é’ˆçš„å¸¸è§ç®—æ³•&lt;/h2&gt;
&lt;p&gt;å¿«æ…¢æŒ‡é’ˆä¸€èˆ¬éƒ½åˆå§‹åŒ–æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ headï¼Œå‰è¿›æ—¶å¿«æŒ‡é’ˆ fast åœ¨å‰ï¼Œæ…¢æŒ‡é’ˆ slow åœ¨åï¼Œå·§å¦™è§£å†³ä¸€äº›é“¾è¡¨ä¸­çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€åˆ¤å®šé“¾è¡¨ä¸­æ˜¯å¦å«æœ‰ç¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™åº”è¯¥å±äºé“¾è¡¨æœ€åŸºæœ¬çš„æ“ä½œäº†ï¼Œå¦‚æœè¯»è€…å·²ç»çŸ¥é“è¿™ä¸ªæŠ€å·§ï¼Œå¯ä»¥è·³è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;å•é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯æ¯ä¸ªèŠ‚ç‚¹åªçŸ¥é“ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸€ä¸ªæŒ‡é’ˆçš„è¯æ— æ³•åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å«æœ‰ç¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé“¾è¡¨ä¸­ä¸å«ç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ°ç©ºæŒ‡é’ˆ null è¡¨ç¤ºé“¾è¡¨åˆ°å¤´äº†ï¼Œè¿™è¿˜å¥½è¯´ï¼Œå¯ä»¥åˆ¤æ–­è¯¥é“¾è¡¨ä¸å«ç¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;boolean hasCycle(ListNode head) {
    while (head != null)
        head = head.next;
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœé“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæŒ‡é’ˆå°±ä¼šé™·å…¥æ­»å¾ªç¯ï¼Œå› ä¸ºç¯å½¢æ•°ç»„ä¸­æ²¡æœ‰ null æŒ‡é’ˆä½œä¸ºå°¾éƒ¨èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç»å…¸è§£æ³•å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªè·‘å¾—å¿«ï¼Œä¸€ä¸ªè·‘å¾—æ…¢ã€‚å¦‚æœä¸å«æœ‰ç¯ï¼Œè·‘å¾—å¿«çš„é‚£ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ° nullï¼Œè¯´æ˜é“¾è¡¨ä¸å«ç¯ï¼›å¦‚æœå«æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¶…æ…¢æŒ‡é’ˆä¸€åœˆï¼Œå’Œæ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜é“¾è¡¨å«æœ‰ç¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;boolean hasCycle(ListNode head) {
    ListNode fast, slow;
    fast = slow = head;
    while (fast != null &amp;amp;&amp;amp; fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;

        if (fast == slow) return true;
    }
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2ã€å·²çŸ¥é“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œè¿”å›è¿™ä¸ªç¯çš„èµ·å§‹ä½ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911211528.png&quot; alt=&quot;img&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜ä¸€ç‚¹éƒ½ä¸å›°éš¾ï¼Œæœ‰ç‚¹ç±»ä¼¼è„‘ç­‹æ€¥è½¬å¼¯ï¼Œå…ˆç›´æ¥çœ‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;ListNode detectCycle(ListNode head) {
    ListNode fast, slow;
    fast = slow = head;
    while (fast != null &amp;amp;&amp;amp; fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;
        if (fast == slow) break;
    }
    // ä¸Šé¢çš„ä»£ç ç±»ä¼¼ hasCycle å‡½æ•°
    slow = head;
    while (slow != fast) {
        fast = fast.next;
        slow = slow.next;
    }
    return slow;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä»»ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åè®©å®ƒä¿©ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå†æ¬¡ç›¸é‡æ—¶æ‰€åœ¨çš„èŠ‚ç‚¹ä½ç½®å°±æ˜¯ç¯å¼€å§‹çš„ä½ç½®ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œå‡è®¾æ…¢æŒ‡é’ˆ slow èµ°äº† k æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ fast ä¸€å®šèµ°äº† 2k æ­¥ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯” slow å¤šèµ°äº† k æ­¥ï¼ˆä¹Ÿå°±æ˜¯ç¯çš„é•¿åº¦ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911211536.png&quot; alt=&quot;img&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º mï¼Œé‚£ä¹ˆç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹ head çš„è·ç¦»ä¸º k - mï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä» head å‰è¿› k - m æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿› k - m æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911211614.png&quot; alt=&quot;img&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåªè¦æˆ‘ä»¬æŠŠå¿«æ…¢æŒ‡é’ˆä¸­çš„ä»»ä¸€ä¸ªé‡æ–°æŒ‡å‘ headï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåŒé€Ÿå‰è¿›ï¼Œk - m æ­¥åå°±ä¼šç›¸é‡ï¼Œç›¸é‡ä¹‹å¤„å°±æ˜¯ç¯çš„èµ·ç‚¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®©å¿«æŒ‡é’ˆä¸€æ¬¡å‰è¿›ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡å‰è¿›ä¸€æ­¥ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°½å¤´æ—¶ï¼Œæ…¢æŒ‡é’ˆå°±å¤„äºé“¾è¡¨çš„ä¸­é—´ä½ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;while (fast != null &amp;amp;&amp;amp; fast.next != null) {
    fast = fast.next.next;
    slow = slow.next;
}
// slow å°±åœ¨ä¸­é—´ä½ç½®
return slow;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“é“¾è¡¨çš„é•¿åº¦æ˜¯å¥‡æ•°æ—¶ï¼Œslow æ°å·§åœåœ¨ä¸­ç‚¹ä½ç½®ï¼›å¦‚æœé•¿åº¦æ˜¯å¶æ•°ï¼Œslow æœ€ç»ˆçš„ä½ç½®æ˜¯ä¸­é—´åå³ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911211604.png&quot; alt=&quot;img&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯»æ‰¾é“¾è¡¨ä¸­ç‚¹çš„ä¸€ä¸ªé‡è¦ä½œç”¨æ˜¯å¯¹é“¾è¡¨è¿›è¡Œå½’å¹¶æ’åºã€‚&lt;/p&gt;
&lt;p&gt;å›æƒ³æ•°ç»„çš„å½’å¹¶æ’åºï¼šæ±‚ä¸­ç‚¹ç´¢å¼•é€’å½’åœ°æŠŠæ•°ç»„äºŒåˆ†ï¼Œæœ€ååˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ã€‚å¯¹äºé“¾è¡¨ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨æ˜¯å¾ˆç®€å•çš„ï¼Œéš¾ç‚¹å°±åœ¨äºäºŒåˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç°åœ¨ä½ å­¦ä¼šäº†æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå°±èƒ½å®ç°é“¾è¡¨çš„äºŒåˆ†äº†ã€‚å…³äºå½’å¹¶æ’åºçš„å…·ä½“å†…å®¹æœ¬æ–‡å°±ä¸å…·ä½“å±•å¼€äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€å¯»æ‰¾é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªå…ƒç´ &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„æ€è·¯è¿˜æ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œè®©å¿«æŒ‡é’ˆå…ˆèµ° k æ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆå¼€å§‹åŒé€Ÿå‰è¿›ã€‚è¿™æ ·å½“å¿«æŒ‡é’ˆèµ°åˆ°é“¾è¡¨æœ«å°¾ null æ—¶ï¼Œæ…¢æŒ‡é’ˆæ‰€åœ¨çš„ä½ç½®å°±æ˜¯å€’æ•°ç¬¬ k ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼ˆä¸ºäº†ç®€åŒ–ï¼Œå‡è®¾ k ä¸ä¼šè¶…è¿‡é“¾è¡¨é•¿åº¦ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-Java&quot;&gt;ListNode slow, fast;
slow = fast = head;
while (k-- &amp;gt; 0) 
    fast = fast.next;

while (fast != null) {
    slow = slow.next;
    fast = fast.next;
}
return slow;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•&quot;&gt;äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•&lt;/h2&gt;
&lt;p&gt;å·¦å³æŒ‡é’ˆåœ¨æ•°ç»„ä¸­å®é™…æ˜¯æŒ‡ä¸¤ä¸ªç´¢å¼•å€¼ï¼Œä¸€èˆ¬åˆå§‹åŒ–ä¸º left = 0, right = nums.length - 1 ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€äºŒåˆ†æŸ¥æ‰¾&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å‰å†™çš„ã€ŠäºŒåˆ†æŸ¥æ‰¾ã€‹æœ‰è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œåªå†™æœ€ç®€å•çš„äºŒåˆ†ç®—æ³•ï¼Œæ—¨åœ¨çªå‡ºå®ƒçš„åŒæŒ‡é’ˆç‰¹æ€§ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;int binarySearch(int[] nums, int target) {
    int left = 0; 
    int right = nums.length - 1;
    while(left &amp;lt;= right) {
        int mid = (right + left) / 2;
        if(nums[mid] == target)
            return mid; 
        else if (nums[mid] &amp;lt; target)
            left = mid + 1; 
        else if (nums[mid] &amp;gt; target)
            right = mid - 1;
    }
    return -1;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2ã€ä¸¤æ•°ä¹‹å’Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›´æ¥çœ‹ä¸€é“ LeetCode é¢˜ç›®ï¼ˆç»å…¸Two Sumï¼‰å§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911211657.png&quot; alt=&quot;img&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åªè¦æ•°ç»„æœ‰åºï¼Œå°±åº”è¯¥æƒ³åˆ°åŒæŒ‡é’ˆæŠ€å·§ã€‚è¿™é“é¢˜çš„è§£æ³•æœ‰ç‚¹ç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾ï¼Œé€šè¿‡è°ƒèŠ‚ left å’Œ right å¯ä»¥è°ƒæ•´ sum çš„å¤§å°ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-Java&quot;&gt;int[] twoSum(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left &amp;lt; right) {
        int sum = nums[left] + nums[right];
        if (sum == target) {
            // é¢˜ç›®è¦æ±‚çš„ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„
            return new int[]{left + 1, right + 1};
        } else if (sum &amp;lt; target) {
            left++; // è®© sum å¤§ä¸€ç‚¹
        } else if (sum &amp;gt; target) {
            right--; // è®© sum å°ä¸€ç‚¹
        }
    }
    return new int[]{-1, -1};
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;3ã€åè½¬æ•°ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-Java&quot;&gt;void reverse(int[] nums) {
    int left = 0;
    int right = nums.length - 1;
    while (left &amp;lt; right) {
        // swap(nums[left], nums[right])
        int temp = nums[left];
        nums[left] = nums[right];Java
        nums[right] = temp;
        left++; right--;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;4ã€æ»‘åŠ¨çª—å£ç®—æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿè®¸æ˜¯åŒæŒ‡é’ˆæŠ€å·§çš„æœ€é«˜å¢ƒç•Œäº†ï¼Œå¦‚æœæŒæ¡äº†æ­¤ç®—æ³•ï¼Œå¯ä»¥è§£å†³ä¸€å¤§ç±»å­å­—ç¬¦ä¸²åŒ¹é…çš„é—®é¢˜ï¼Œä¸è¿‡ã€Œæ»‘åŠ¨çª—å£ã€ç¨å¾®æ¯”ä¸Šè¿°çš„è¿™äº›ç®—æ³•å¤æ‚äº›ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦æƒ…è§ä¸‹æ–‡ï¼ˆæ¥è‡ªä¸œå“¥çš„ç®—æ³•è®²è§£çš„æ€è·¯ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;ä¸‰ã€æ»‘åŠ¨çª—å£æŠ€å·§&quot;&gt;ä¸‰ã€æ»‘åŠ¨çª—å£æŠ€å·§&lt;/h2&gt;
&lt;p&gt;æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ä¸­ï¼Œè¿™é‡Œè½¬è‡ªä¸€é¦–å°è¯—æ¥ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com//riotian/blogimage/raw/master/img/20200911212036.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°±è§£å†³ä¸€ç±»æœ€éš¾æŒæ¡çš„åŒæŒ‡é’ˆæŠ€å·§ï¼šæ»‘åŠ¨çª—å£æŠ€å·§ã€‚æ€»ç»“å‡ºä¸€å¥—æ¡†æ¶ï¼Œå¯ä»¥ä¿ä½ é—­ç€çœ¼ç›éƒ½èƒ½å†™å‡ºæ­£ç¡®çš„è§£æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¯´èµ·æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œå¾ˆå¤šè¯»è€…éƒ½ä¼šå¤´ç–¼ã€‚è¿™ä¸ªç®—æ³•æŠ€å·§çš„æ€è·¯éå¸¸ç®€å•ï¼Œå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œä¸æ–­æ»‘åŠ¨ï¼Œç„¶åæ›´æ–°ç­”æ¡ˆä¹ˆã€‚LeetCode ä¸Šæœ‰èµ·ç  10 é“è¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•çš„é¢˜ç›®ï¼Œéš¾åº¦éƒ½æ˜¯ä¸­ç­‰å’Œå›°éš¾ã€‚è¯¥ç®—æ³•çš„å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;int left = 0, right = 0;

while (right &amp;lt; s.size()) {`
    // å¢å¤§çª—å£
    window.add(s[right]);
    right++;

    while (window needs shrink) {
        // ç¼©å°çª—å£
        window.remove(s[left]);
        left++;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªç®—æ³•æŠ€å·§çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œæ¯”å­—ç¬¦ä¸²æš´åŠ›ç®—æ³•è¦é«˜æ•ˆå¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å›°æ‰°å¤§å®¶çš„ï¼Œä¸æ˜¯ç®—æ³•çš„æ€è·¯ï¼Œè€Œæ˜¯å„ç§ç»†èŠ‚é—®é¢˜ã€‚æ¯”å¦‚è¯´å¦‚ä½•å‘çª—å£ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œå¦‚ä½•ç¼©å°çª—å£ï¼Œåœ¨çª—å£æ»‘åŠ¨çš„å“ªä¸ªé˜¶æ®µæ›´æ–°ç»“æœã€‚å³ä¾¿ä½ æ˜ç™½äº†è¿™äº›ç»†èŠ‚ï¼Œä¹Ÿå®¹æ˜“å‡º bugï¼Œæ‰¾ bug è¿˜ä¸çŸ¥é“æ€ä¹ˆæ‰¾ï¼ŒçœŸçš„æŒºè®©äººå¿ƒçƒ¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰€ä»¥ä»Šå¤©æˆ‘å°±å†™ä¸€å¥—æ»‘åŠ¨çª—å£ç®—æ³•çš„ä»£ç æ¡†æ¶ï¼Œæˆ‘è¿å†å“ªé‡Œåšè¾“å‡º debug éƒ½ç»™ä½ å†™å¥½äº†ï¼Œä»¥åé‡åˆ°ç›¸å…³çš„é—®é¢˜ï¼Œä½ å°±é»˜å†™å‡ºæ¥å¦‚ä¸‹æ¡†æ¶ç„¶åæ”¹ä¸‰ä¸ªåœ°æ–¹å°±è¡Œï¼Œè¿˜ä¸ä¼šå‡º bug&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;/* æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ */
void slidingWindow(string s, string t) {
    unordered_map&amp;lt;char, int&amp;gt; need, window;
    for (char c : t) need[c]++;

    int left = 0, right = 0;
    int valid = 0; 
    while (right &amp;lt; s.size()) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        char c = s[right];
        // å³ç§»çª—å£
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        ...

        /*** debug è¾“å‡ºçš„ä½ç½® ***/
        printf(&quot;window: [%d, %d)\n&quot;, left, right);
        /********************/

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (window needs shrink) {
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            char d = s[left];
            // å·¦ç§»çª—å£
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            ...
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å…¶ä¸­ä¸¤å¤„&lt;/strong&gt; &lt;strong&gt;&lt;code&gt;...&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåˆ°æ—¶å€™ä½ ç›´æ¥å¾€é‡Œé¢å¡«å°±è¡Œäº†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”ï¼Œè¿™ä¸¤ä¸ª &lt;code&gt;...&lt;/code&gt; å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯å³ç§»å’Œå·¦ç§»çª—å£æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¯´å¥é¢˜å¤–è¯ï¼Œæˆ‘å‘ç°å¾ˆå¤šäººå–œæ¬¢æ‰§ç€äºè¡¨è±¡ï¼Œä¸å–œæ¬¢æ¢æ±‚é—®é¢˜çš„æœ¬è´¨ã€‚æ¯”å¦‚è¯´æœ‰å¾ˆå¤šäººè¯„è®ºæˆ‘è¿™ä¸ªæ¡†æ¶ï¼Œè¯´ä»€ä¹ˆæ•£åˆ—è¡¨é€Ÿåº¦æ…¢ï¼Œä¸å¦‚ç”¨æ•°ç»„ä»£æ›¿æ•£åˆ—è¡¨ï¼›è¿˜æœ‰å¾ˆå¤šäººå–œæ¬¢æŠŠä»£ç å†™å¾—ç‰¹åˆ«çŸ­å°ï¼Œè¯´æˆ‘è¿™æ ·ä»£ç å¤ªå¤šä½™ï¼Œå½±å“ç¼–è¯‘é€Ÿåº¦ï¼ŒLeetCode ä¸Šé€Ÿåº¦ä¸å¤Ÿå¿«ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æœäº†ã€‚ç®—æ³•çœ‹çš„æ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œä½ èƒ½ç¡®ä¿è‡ªå·±çš„æ—¶é—´å¤æ‚åº¦æœ€ä¼˜ï¼Œå°±è¡Œäº†ã€‚è‡³äº LeetCode æ‰€è°“çš„è¿è¡Œé€Ÿåº¦ï¼Œé‚£ä¸ªéƒ½æ˜¯ç„å­¦ï¼Œåªè¦ä¸æ˜¯æ…¢çš„ç¦»è°±å°±æ²¡å•¥é—®é¢˜ï¼Œæ ¹æœ¬ä¸å€¼å¾—ä½ ä»ç¼–è¯‘å±‚é¢ä¼˜åŒ–ï¼Œä¸è¦èˆæœ¬é€æœ«â€¦â€¦&lt;/p&gt;
</description>
<pubDate>Fri, 11 Sep 2020 13:23:00 +0000</pubDate>
<dc:creator>RioTian</dc:creator>
<og:description>æˆ‘æŠŠåŒæŒ‡é’ˆæŠ€å·§å†åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ã€Œå¿«æ…¢æŒ‡é’ˆã€ï¼Œä¸€ç±»æ˜¯ã€Œå·¦å³æŒ‡é’ˆã€ã€‚å‰è€…è§£å†³ä¸»è¦è§£å†³é“¾è¡¨ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚å…¸å‹çš„åˆ¤å®šé“¾è¡¨ä¸­æ˜¯å¦åŒ…å«ç¯ï¼›åè€…ä¸»è¦è§£å†³æ•°ç»„ï¼ˆæˆ–è€…å­—ç¬¦ä¸²ï¼‰ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚äºŒåˆ†æŸ¥æ‰¾ã€‚ ä¸€ã€å¿«æ…¢æŒ‡é’ˆçš„å¸¸</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/RioTian/p/13654412.html</dc:identifier>
</item>
<item>
<title>é€šä¿—è¯­è¨€è§£é‡Šæ•°æ®ä»“åº“ã€æ•°æ®æ¹–ã€æ•°æ®ä¸­å° - å¹¶ä¸æ˜¯è§¦æ‰‹</title>
<link>http://www.cnblogs.com/bbscs/p/13654309.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bbscs/p/13654309.html</guid>
<description>
&lt;p&gt;&lt;span&gt;å¦‚ä½•ç†è§£æ•°æ®ä»“åº“ï¼Ÿä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æˆ‘ç°åœ¨æ‰“ç®—å­¦ä¹ å¤§æ•°æ®çš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘çœ‹äº†CSDNï¼Œåšå®¢å›­ï¼Œå¾®ä¿¡çš„å¤§æ•°æ®å…¬ä¼—å·ï¼Œä¸€äº›å®ä½“ä¹¦ç­‰ç­‰ï¼Œå¹¶ä¸”æˆ‘åœ¨çœ‹æŸäº›è¿™äº›ä¸œè¥¿çš„æ—¶å€™ï¼Œæœ‰äº›ä¸é”™çš„æ–‡ç« æˆ‘éƒ½æ”¶è—äº†ï¼Œå‚¨å­˜åœ¨è¿™äº›è®ºå›çš„è´¦å·ä¸­ï¼Œå®ä½“ä¹¦æˆ‘ä¹Ÿåšäº†å¾ˆå¤šæ ‡è®°ï¼Œæ¥æ ‡å‡ºé‚£äº›å¯¹æˆ‘æœ‰ç”¨çš„éƒ¨åˆ†ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;çœ‹äº†å¥½å‡ ä¸ªæœˆä¹‹åï¼Œæˆ‘æ‰“ç®—æ¥ä¸€æ¬¡æ•´ä½“çš„å¤ä¹ ï¼Œç»“æœè¿™ä¸ªæ—¶å€™é‡åˆ°äº†å›°éš¾ï¼š&lt;span&gt;æˆ‘æ”¶è—çš„æ–‡ç« å¤ªå¤šäº†ï¼Œæˆ‘å®Œå…¨è®°ä¸å¾—åˆ°åº•å“ªäº›æ–‡ç« åœ¨å“ªé‡Œäº†ï¼Œå¦‚æœæˆ‘è¦æ‰¾æŸä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å¯èƒ½è¦ä»å¤´å¼€å§‹ä¸€ä¸ªä¸€ä¸ªçš„ç¿»æ‰¾è¿™äº›è®ºå›çš„æ”¶è—å¤¹ï¼Œçœ‹çœ‹æˆ‘è¦æ‰¾çš„ä¸œè¥¿åˆ°åº•åœ¨å“ªé‡Œï¼Œå†µä¸”è¿˜è¦å®ä½“ä¹¦å‘¢ï¼ä¹Ÿè¦ç¿»ä¸€éï¼&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  è¿™å·¥ä½œé‡ä¹Ÿå¤ªå¤§äº†ï¼Œè€Œä¸”æˆ‘æ¯æ‰¾ä¸€æ¬¡ä¸œè¥¿éƒ½è¦å‡ ä¹ä»å¤´å¼€å§‹æ‰¾ä¸€æ¬¡ï¼Œå¤ªéº»çƒ¦äº†ï¼Œæ­¤æ—¶æˆ‘æƒ³åˆ°ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸æŠŠæˆ‘æ”¶è—å¤¹çš„é‚£äº›ä¸œè¥¿éƒ½æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹å‘¢ï¼Ÿè¿™æ ·æˆ‘ä¹Ÿä¸ç”¨ç™»å½•å¾ˆå¤šè´¦å·æ‰¾äº†ï¼Œæ­¤æ—¶æˆ‘å°±æƒ³åˆ°ï¼Œæˆ‘æ˜¯ä¸æ˜¯å¯ä»¥ç”¨Wordè½¯ä»¶å‘¢ï¼ŸæŠŠæ”¶è—å¤¹é‡Œé¢çš„æ–‡ç« éƒ½å¤åˆ¶åˆ°Wordé‡Œä¸å°±å¯ä»¥äº†å—ï¼Ÿè€Œä¸”Wordè½¯ä»¶è¿˜æœ‰æŸ¥æ‰¾åŠŸèƒ½ï¼Œæ¯”è¿™æ ·ç¿»æ‰¾çš„å¿«å¤ªå¤šäº†ï¼ç«‹é©¬è¡ŒåŠ¨ï¼Œæˆ‘å¼€å§‹æŠŠä¸€ç¯‡æ–‡ç« ä»æ ‡é¢˜åˆ°å†…å®¹å…¨éƒ½å¤åˆ¶åˆ°Wordæ–‡æ¡£é‡Œï¼Œå®ä½“ä¹¦ä¸Šçš„æˆ‘ä¹Ÿæ‰“å­—æ‰“è¿›æ¥ï¼ŒèŠ±äº†å¥½å‡ å¤©æ—¶é—´ï¼Œæˆ‘ç»ˆäºæŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ¬åˆ°Wordæ–‡æ¡£ä¸Šäº†ï¼ŒçœŸæ˜¯ç´¯æ­»äº†ï¼&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  è¿™ä¸ªæ—¶å€™æˆ‘åˆæœ‰äº†æ–°çš„éº»çƒ¦ï¼š&lt;span&gt;è™½ç„¶æˆ‘æŒ‰ç…§ä¸€ç¯‡æ–‡æ¡£ä¸€ä¸ªæ–‡ä»¶æ¥åˆ†å¼€ï¼Œä½†æ˜¯è¿™äº›æ–‡ä»¶éå¸¸å¤šï¼Œè€Œä¸”æ ‡é¢˜éƒ½ä¸æ˜ç¡®ï¼Œå•ä»æ–‡ä»¶åå­—ä¸Šæ¥çœ‹æ ¹æœ¬å°±ä¸çŸ¥é“å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå¦‚æœè¦çŸ¥é“æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œè¿˜æ˜¯éœ€è¦ä¸€ä¸ªä¸€ä¸ªæ‰“å¼€æ¥çœ‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  è¿™æ ·å¹¶ä¸æ¯”ä¹‹å‰çš„æ“ä½œè¦è½»æ¾å•Šï¼Ÿæˆ‘èŠ±äº†è¿™ä¹ˆå¤šçš„æ—¶é—´ï¼Œç»“æœä¹Ÿå°±çœäº†ä¸€ä¸ªæ‰“å¼€ç½‘é¡µçš„æ“ä½œï¼Œåè€Œåˆå¢åŠ äº†ä¸€ä¸ªæ‰“å¼€Wordæ–‡æ¡£çš„æ“ä½œï¼Œè¿™æ ·ä¼¼ä¹æ¯”ä¹‹å‰æ›´éº»çƒ¦äº†ï¼Œæ¯•ç«Ÿæˆ‘çš„ç”µè„‘æ‰“å¼€ç½‘é¡µè¿˜å¥½ï¼Œæ‰“å¼€Wordå¯æ…¢å¤šäº†ï¼Œè¿™è¦æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¿™æ—¶å€™æˆ‘åˆæƒ³åˆ°äº†ä¸€ä¸ªåŠæ³•ï¼šæŠŠè¿™äº›æ–‡æ¡£å…¨éƒ¨æ‰“å¼€çœ‹çœ‹ï¼Œç„¶åæŠŠæ–‡ä»¶åå­—æ”¹å¥½ï¼Œæ”¹æˆæˆ‘ä¸€çœ¼å°±èƒ½çœ‹å¾—æ‡‚çš„åå­—ï¼Œè¿™æ ·å°±å¾ˆä¾¿äºæŸ¥æ‰¾äº†å§ï¼Œæ¯•ç«Ÿçœ‹ä¸€çœ¼åå­—å°±çŸ¥é“è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œäºæ˜¯æˆ‘åˆèŠ±äº†å¥½å‡ å¤©çš„æ—¶é—´ï¼ŒæŠŠè¿™äº›æ–‡æ¡£æŒ‰ç…§æ–‡ç« çš„å†…å®¹ï¼Œæ¦‚æ‹¬å‡ºæ¥ä¸€ä¸ªä¸»é¢˜ï¼ŒæŠŠå®ƒå½“ä½œæ–‡æ¡£çš„åå­—ï¼Œå½“æˆ‘å®Œæˆä¹‹åæˆ‘è§‰å¾—ç›®å‰å°±å¯ä»¥å¾ˆè½»æ¾çš„é€šè¿‡Wrodè‡ªå¸¦çš„æŸ¥æ‰¾åŠŸèƒ½æ¥æ‰¾åˆ°æˆ‘æƒ³è¦çš„æ–‡æ¡£æ¥çœ‹äº†ï¼Œæˆ‘è§‰å¾—æˆ‘çš„æ•´ç†å·¥ä½œä»¥åŠç»“æŸäº†&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  å¯æ˜¯å½“æˆ‘å¼€å§‹å¤ä¹ è¿™äº›èµ„æ–™çš„æ—¶å€™ï¼Œåˆå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼š&lt;span&gt;è¿™äº›æ–‡æ¡£è¯»èµ·æ¥å¾ˆå†—ä½™ï¼Œå¾ˆå¤šçš„åœ°æ–¹éƒ½æ˜¯é‡å¤çš„ï¼Œè€Œä¸”æœ‰çš„å‡ ä¹éƒ½å…¨éƒ¨é‡å¤äº†ä»…ä»…æœ‰ä¸€å°éƒ¨åˆ†æ‰æ˜¯ä¸åŒçš„&lt;/span&gt;ï¼Œæ¯”å¦‚ä»€ä¹ˆHadoopçš„å®šä¹‰å•¥çš„ï¼Œè¿™äº›å¾ˆå¤šæ–‡æ¡£éƒ½å†™äº†ï¼Œè€Œä¸”éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ¯æ¬¡æ‰“å¼€æ–‡æ¡£éƒ½è¦çœ‹ä¸€éï¼Œè€Œä¸”è¿˜å¾ˆå ç”¨æˆ‘çš„ç£ç›˜ç©ºé—´ï¼Œè€Œå¦å¤–ä¸€äº›ï¼Œæ¯”å¦‚Hadoopçš„ç‰ˆæœ¬è§£è¯»ï¼Œæˆ‘æœé›†çš„è¿™äº›æ–‡æ¡£ï¼Œä»1.0.xåˆ°3.0.xçš„ç‰ˆæœ¬è§£è¯»éƒ½æœ‰ï¼Œä½†æ˜¯æˆ‘æƒ³è¦ä»1.0åˆ°3.0çš„ç‰ˆæœ¬å˜åŒ–ï¼Œè¿™æ ·çš„è¯çš„å¾—æŠŠè¿™äº›æ–‡æ¡£å…¨éƒ¨éƒ½æ‰“å¼€ï¼Œç„¶åä¸€ä¸ªæ–‡æ¡£ä¸€ä¸ªæ–‡æ¡£çš„çœ‹ï¼Œæ¯æ¬¡è¿™æ ·ç¿»æˆ‘ä¹Ÿå¾ˆçƒ¦èºï¼Œæˆ‘åªæƒ³æ›´æ‡’ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ä¸€ä¸ªæ–‡æ¡£æ•´ç†äº†ä»1.0åˆ°3.0æ‰€æœ‰çš„ç‰ˆæœ¬å˜åŒ–å‘¢ï¼Ÿæˆ‘åœ¨ç½‘ä¸Šä¹Ÿæ²¡æ‰¾åˆ°ï¼Œå“ï¼Œé äººä¸å¦‚é è‡ªå·±ï¼Œæˆ‘è¿˜æ˜¯è‡ªå·±æ¥å§ï¼&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  è¿™ä¸ªæ—¶å€™æˆ‘ç»è¿‡äº†å‰ä¸¤æ¬¡çš„æ•´ç†ç»å†ä¹‹åæˆ‘å­¦èªæ˜äº†ï¼Œæˆ‘æ²¡æœ‰ä¸€å¼€å§‹å°±ç€æ‰‹æ•´ç†ï¼Œæˆ‘æƒ³äº†ä¸€ä¸‹ï¼Œæˆ‘ç°åœ¨åˆ°åº•éœ€è¦æ•´ç†æˆä»€ä¹ˆæ ·å­ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.ä¸å˜çš„ä¸œè¥¿æ•´ç†åˆ°ä¸€ä¸ªæ–‡æ¡£é‡Œé¢å»ï¼Œä¸Šé¢å†™ä¸Šxxxxå®šä¹‰Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.ä¼šå˜çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ç‰ˆæœ¬è§£è¯»å•¥çš„ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½ä¼šæœ‰ä¸€ä¸ªæ–‡æ¡£ï¼Œè¿™äº›æˆ‘ä¹Ÿæ•´ç†åˆ°ä¸€ä¸ªæ–‡æ¡£é‡Œé¢å»ï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨åˆ°å¤„ç¿»æ¥ç¿»å»äº†&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3.ä½†æ˜¯ä¹‹å‰çš„è¿™äº›ä¸œè¥¿æˆ‘ä¸èƒ½åˆ æ‰ï¼Œæˆ‘è‡ªå·±åˆå¹¶çš„ä¸œè¥¿å¯èƒ½æœ‰çš„ä¸å…¨ï¼Œæˆ–è€…æ˜¯åˆå¹¶çš„æœ‰é—®é¢˜ï¼Œæˆ‘éœ€è¦æ‰¾åŸæ¥çš„æ–‡æ¡£å¯¹æ¯”ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘æŠŠä¹‹å‰çš„åˆ æ‰ï¼Œä¸€æ—¦æˆ‘æ‰“é”™äº†å­—ï¼Œæˆ‘å¯èƒ½å°±ä¼šä¸€ç›´å­¦äº†é”™çš„çŸ¥è¯†äº†&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  å¥½å§ï¼Œæˆ‘ç›®å‰å°±æƒ³åˆ°è¿™ä¹ˆå¤šï¼Œé‚£æˆ‘å°±å¼€å§‹æ•´ç†å§ï¼äºæ˜¯æˆ‘åˆèŠ±äº†å¥½å‡ å¤©çš„æ—¶é—´ï¼ŒæŠŠåŸæ¥çš„æ–‡æ¡£ä¸­çš„ä¸œè¥¿æå–å‡ºæ¥ï¼Œé‡å¤çš„å®šä¹‰éƒ½åˆå¹¶åˆ°ä¸€èµ·å¹¶ä¸”åªç•™ä¸€ä»½ï¼Œä¸åŒçš„ç‰ˆæœ¬è§£è¯»æˆ‘æ”¾åˆ°ä¸€ä¸ªæ–‡æ¡£é‡Œé¢å»ï¼Œç„¶åæˆ‘è¦ä¿å­˜ä¹‹å‰çš„é‚£äº›åŸå§‹çš„æ–‡æ¡£ï¼Œè¿™ä¿©ä¸œè¥¿ä¸èƒ½éƒ½åœ¨ä¸€ä¸ªéƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢å§ï¼Œè¿™æ ·ä¹Ÿå¤ªä¹±äº†ï¼Œäºæ˜¯æˆ‘åˆæ‰“ç®—å§è¿™ä¸¤ä¸ªæ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œæˆ‘åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªå­˜æ”¾åŸå§‹çš„æ–‡æ¡£ï¼Œä¸€ä¸ªå­˜æ”¾æˆ‘æ•´ç†å¥½çš„æ–‡æ¡£ï¼Œç„¶åæŠŠè¿™ä¿©æ–‡ä»¶å¤¹éƒ½æ”¾åˆ°&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä¸€ä¸ªå«çŸ¥è¯†åº“çš„æ–‡ä»¶å¤¹é‡Œé¢ï¼Œè¿™æ ·æˆ‘çš„æ•´ç†å·¥ä½œè²Œä¼¼çœŸçš„å·²ç»å®Œæˆäº†ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ç°åœ¨ï¼Œæˆ‘æƒ³çœ‹Hadoopç›¸å…³çš„ç‰ˆæœ¬è§£è¯»çš„è¯ï¼Œæˆ‘å°±æ‰“å¼€ç‰ˆæœ¬è§£è¯»æ–‡æ¡£å°±å¯ä»¥äº†ï¼Œå¦‚æœæˆ‘æƒ³çœ‹Hadoopçš„å®šä¹‰å’Œç‰ˆæœ¬è§£è¯»å‘¢ï¼Ÿæˆ‘å°±æ‰“å¼€è¿™ä¸¤ä¸ªæ–‡æ¡£ï¼Œä¸€ä¸ªæ”¾åœ¨å±å¹•å·¦è¾¹ï¼Œä¸€ä¸ªæ”¾åœ¨å³è¾¹ï¼Œè¿™æ ·çœ‹èµ·æ¥ä¹Ÿå¾ˆèˆ’æœï¼Œè‡³æ­¤ï¼Œæˆ‘çš„æ•´ç†å·¥ä½œçœŸçš„ç®—å®Œæˆäº†ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  ç„¶åæˆ‘çªç„¶æƒ³åˆ°ï¼Œ&lt;span&gt;æˆ‘Xï¼Œæˆ‘ä¸å°±æ˜¯åœ¨æ­å»ºæ•°æ®ä»“åº“å—ï¼Ÿï¼Ÿï¼Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  æ˜¯çš„ï¼Œå¤§å®¶çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœå¯¹æ•°æ®ä»“åº“æœ‰äº†ä¸€äº›äº†è§£çš„è¯å·²ç»çŸ¥é“äº†æ•°æ®ä»“åº“çš„ä¸€èˆ¬æµç¨‹äº†ï¼ŒæŠŠä¸Šæ–‡çš„ä¸€äº›åè¯æ¢æˆæ•°æ®ä»“åº“çš„åè¯ï¼š&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  å„ä¸ªè®ºå›å’Œå®ä½“ä¹¦çš„æ–‡ç«  -&amp;gt;æ­å»ºæ•°ä»“ä¹‹å‰å„ä¸ªç³»ç»Ÿçš„æ•°æ®æºï¼Œæ¯”å¦‚MySQLï¼ŒOracleç­‰ä¼ ç»Ÿå…³ç³»å‹æ•°æ®ï¼Œè¿˜è¦ä¸€äº›ä¸šåŠ¡æ—¥å¿—å’ŒåŸ‹ç‚¹æ—¥å¿—ï¼ˆæ¯”å¦‚è¯´ä½ åœ¨æŸå®ç‚¹å‡»æŸä¸ªå•†å“å•Šï¼Œæµè§ˆäº†æŸäº›å•†å“å•Šï¼Œè¿™äº›éƒ½æ˜¯æœ‰è®°å½•çš„ï¼Œä¹Ÿå«åšåŸ‹ç‚¹æ•°æ®ï¼Œå‰ç«¯å·²ç»åœ¨ä½ ç‚¹å‡»è¿›å…¥è¿™ä¸ªå•†å“çš„è¯¦æƒ…é¡µçš„æ—¶å€™åšäº†åŸ‹ç‚¹ï¼Œä½ ç‚¹è¿›å»å°±ä¼šäº§ç”Ÿäº†ä¸€æ¡æ•°æ®ï¼Œä¼šè®°å½•ä½ ç‚¹å‡»çš„å•†å“è®°å½•å’Œä½ è¿™ä¸ªç”¨æˆ·çš„ä¸€èˆ¬ä¿¡æ¯ï¼Œè¿™å°±å«åšåŸ‹ç‚¹æ—¥å¿—ï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  æŠŠè¿™äº›ä¸åœ¨åŒä¸€ä¸ªè®ºå›ï¼Œç”šè‡³åœ¨å®ä½“ä¹¦ä¸Šçš„æ–‡ç« ï¼Œéƒ½ç»Ÿä¸€æ”¾åˆ°Wordæ–‡æ¡£ä¸Šï¼Œå¹¶ä¸”ç¨å¾®æ”¹ä¸ªæ–‡ä»¶å ---&amp;gt;åˆ©ç”¨ä¸€äº›æ•°æ®å¯¼å…¥å·¥å…·ï¼Œæ¯”å¦‚Sqoopï¼ŒFlumeï¼ŒDataXï¼ˆé˜¿é‡Œäº‘çš„äº§å“ï¼Œä½†å·²å¼€æºï¼‰ï¼ŒæŠŠè¿™äº›ä¸åŒç³»ç»Ÿä¸Šé¢çš„æ•°æ®ï¼Œéƒ½å¯¼å…¥åˆ°åŒä¸€ä¸ªæ¡†æ¶é‡Œï¼Œè¿™é‡Œå¤§éƒ¨åˆ†éƒ½æ˜¯å¯¼å…¥åˆ°Hiveé‡Œï¼Œå®ƒåˆ©ç”¨HDFSå­˜å‚¨ï¼Œå…·æœ‰å¤©ç„¶çš„å®¹ç¾æ€§ï¼ŒæŸ¥è¯¢çš„å¼•æ“æ˜¯MRï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨Sparkï¼‰ï¼Œå¯¹äºè¿™ä¹ˆå¤§çš„æ•°æ®é‡æ˜¯å†é€‚åˆä¸è¿‡äº†ã€‚è¿™ç§è¿ç§»æ•°æ®çš„è¡Œä¸ºå·²ç»æ˜¯æ­å»ºæ•°ä»“çš„ä¸€éƒ¨åˆ†äº†ï¼Œè¿™äº›è¿ç§»è¿‡æ¥çš„æ•°æ®ä½œä¸ºæ•°æ®ä»“åº“çš„ODSå±‚ï¼ˆæ•°æ®å‡†å¤‡å±‚ï¼‰ï¼Œè¿™ä¸€å±‚æ˜¯ä¸ºåŠ ä¸‹æ¥çš„æ•°æ®å±‚æä¾›åŸå§‹æ•°æ®ï¼Œæˆ‘ä»¬å°½é‡ä¸åšä»€ä¹ˆå˜åŠ¨ï¼Œåªåšä¸€äº›æ•°æ®æŒ‰æ—¥æœŸåˆ†è¡¨å­˜å‚¨ï¼ŒæŠŠè¿™äº›æ•°æ®æŒ‰ç…§ä¸»é¢˜å’Œé€»è¾‘åˆ’åˆ†å¥½ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  æŠŠæ–‡ç« å»é‡ï¼ŒæŠŠç‰ˆæœ¬è§£è¯»æ”¾åˆ°ä¸€èµ· ---&amp;gt;å¯¹åº”æ•°æ®ä»“åº“çš„DWå±‚ï¼Œè¿™ä¸€å±‚çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯æŠŠåŸå§‹æ•°æ®è¿›è¡ŒETLï¼ŒæŠŠåŸå§‹æ•°æ®åˆ†ä¸ºç»´åº¦è¡¨å’Œäº‹å®è¡¨ï¼ˆè¿™ç§æ–¹æ³•ç§°ä¸ºç»´åº¦å»ºæ¨¡ï¼‰ï¼ŒæŠŠç»†ç²’åº¦çš„æ•°æ®èšåˆæˆç²—ç²’çš„è¡¨ï¼ŒæŠŠä¸€äº›ç»´åº¦é€€åŒ–ï¼Œå½¢æˆä¸šåŠ¡å®½è¡¨ç­‰ç­‰&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  ä½¿ç”¨æ–‡æ¡£Â  ---&amp;gt;å¯¹åº”æ•°æ®ä»“åº“çš„ADSå±‚ï¼ˆä¹Ÿå«STå±‚ï¼‰ï¼ŒSTå±‚é¢å‘ç”¨æˆ·åº”ç”¨å’Œåˆ†æéœ€æ±‚ï¼ŒåŒ…æ‹¬å‰ç«¯æŠ¥è¡¨ã€åˆ†æå›¾è¡¨ã€KPIã€ä»ªè¡¨ç›˜ã€OLAPã€ä¸“é¢˜ç­‰åˆ†æï¼Œé¢å‘æœ€ç»ˆç»“æœç”¨æˆ·&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„æ•°æ®ä»“åº“ï¼ˆä¸‰å±‚ï¼‰ï¼Œå…¶ä¸­DWå±‚è¿˜å¯ä»¥ç»†åˆ†ä¸ºDWD,DMç­‰ï¼Œè¿™ä¸ªå°±çœ‹å®é™…æƒ…å†µäº†ï¼Œçµæ´»åˆ†å±‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span&gt;è‡³äºæ•°æ®æ¹–å’Œæ•°æ®ä¸­å°å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  æˆ‘æ˜¯è¿™æ ·ç†è§£æ•°æ®æ¹–çš„ï¼Œä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åœ¨æŠŠå„ç§ä¸åŒè®ºå›çš„æ–‡ç« å¯¼å…¥åˆ°Wordæ–‡æ¡£ä¸­çš„æ—¶å€™ï¼Œå…¶å®å·²ç»ä¸¢å¤±æ‰äº†ä¸€å±‚ä¿¡æ¯ï¼šæ¥æº&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ”¾åˆ°Wordæ–‡æ¡£ä¹‹åï¼Œä½ å°±æ— æ³•çŸ¥é“æŸç¯‡æ–‡ç« åˆ°åº•æ¥è‡ªäºå“ªä¸ªè®ºå›çš„äº† ï¼Œè€Œæ•°æ®æ¹–å‘¢ï¼Ÿæ•°æ®æ¹–æ˜¯å°½åŠ›ä¿æŒæ‰€æœ‰æ•°æ®çš„åŸå§‹é¢è²Œï¼Œä¸ä¸¢å¤±ä»»ä½•ä¿¡æ¯ï¼ŒåŒæ ·ï¼Œä¹Ÿä¸ä¼šåšä»»ä½•çš„å¤„ç†ï¼ˆå› ä¸ºä½ å¤„ç†æ•°æ®å¤šå¤šå°‘å°‘ä¼šä¸¢å¤±æ‰ä¸€éƒ¨åˆ†ä¿¡æ¯ï¼‰ï¼Œå°½åŠ›ä¿æŒæ•°æ®çš„åŸæ±åŸå‘³ï¼Œå› ä¸ºè°ä¹Ÿä¸çŸ¥é“ä»¥åæŸäº›æ•°æ®åˆæ‹¥æœ‰å¤šè¾¾çš„ä»·å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿æŒæ•°æ®çš„åŸå°åŸè²Œï¼Œè€Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®ä»“åº“æƒ³è±¡æˆä¸€ä¸ªåœ¨æ¹–è¾¹çš„çŸ¿æ³‰æ°´åŠ å·¥å‚ï¼Œä¸€è¾¹æŠ½å–æ¹–ä¸­çš„æ°´ï¼ˆæ•°æ®ï¼‰ï¼Œè¿›è¡Œå„ç§æ¸…æ´—æ¶ˆæ¯’åŠ å·¥ï¼Œæœ€åç”Ÿäº§å‡ºå„ç§å„æ ·åŒ…è£…çš„çŸ¿æ³‰æ°´æ¥ï¼Œè¿™å°±æ˜¯è¿™ä¸¤ä¸ªæ¦‚å¿µæˆ‘è‡ªå·±ç†è§£ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  ä¸‹é¢æ˜¯ç»´åŸºç™¾ç§‘ä¸Šå…³äºæ•°æ®æ¹–çš„å®šä¹‰ï¼š&lt;span&gt;æ•°æ®æ¹–ï¼ˆData Lakeï¼‰æ˜¯ä¸€ä¸ªå­˜å‚¨ä¼ä¸šçš„å„ç§å„æ ·åŸå§‹æ•°æ®çš„å¤§å‹ä»“åº“ï¼Œå…¶ä¸­çš„æ•°æ®å¯ä¾›å­˜å–ã€å¤„ç†ã€åˆ†æåŠä¼ è¾“ã€‚æ•°æ®æ¹–æ˜¯ä»¥å…¶è‡ªç„¶æ ¼å¼å­˜å‚¨çš„æ•°æ®çš„ç³»ç»Ÿæˆ–å­˜å‚¨åº“ï¼Œé€šå¸¸æ˜¯å¯¹è±¡blobæˆ–æ–‡ä»¶ã€‚æ•°æ®æ¹–é€šå¸¸æ˜¯ä¼ä¸šæ‰€æœ‰æ•°æ®çš„å•ä¸€å­˜å‚¨ï¼ŒåŒ…æ‹¬æºç³»ç»Ÿæ•°æ®çš„åŸå§‹å‰¯æœ¬ï¼Œä»¥åŠç”¨äºæŠ¥å‘Šã€å¯è§†åŒ–ã€åˆ†æå’Œæœºå™¨å­¦ä¹ ç­‰ä»»åŠ¡çš„è½¬æ¢æ•°æ®ã€‚æ•°æ®æ¹–å¯ä»¥åŒ…æ‹¬æ¥è‡ªå…³ç³»æ•°æ®åº“ï¼ˆè¡Œå’Œåˆ—ï¼‰çš„ç»“æ„åŒ–æ•°æ®ï¼ŒåŠç»“æ„åŒ–æ•°æ®ï¼ˆCSVï¼Œæ—¥å¿—ï¼ŒXMLï¼ŒJSONï¼‰ï¼Œéç»“æ„åŒ–æ•°æ®ï¼ˆç”µå­é‚®ä»¶ï¼Œæ–‡æ¡£ï¼ŒPDFï¼‰å’ŒäºŒè¿›åˆ¶æ•°æ®ï¼ˆå›¾åƒï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘ï¼‰&lt;/span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è‡³äºæ•°æ®ä¸­å°å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹æ•°æ®ä¸­å°çš„å®šä¹‰ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;Â  æ•°æ®ä¸­å°æ˜¯æŒ‡é€šè¿‡ä¼ä¸šå†…å¤–éƒ¨å¤šæºå¼‚æ„çš„æ•°æ®é‡‡é›†ã€æ²»ç†ã€å»ºæ¨¡ã€åˆ†æï¼Œåº”ç”¨ï¼Œä½¿æ•°æ®å¯¹å†…ä¼˜åŒ–ç®¡ç†æé«˜ä¸šåŠ¡ï¼Œå¯¹å¤–å¯ä»¥æ•°æ®åˆä½œä»·å€¼é‡Šæ”¾ï¼Œæˆä¸ºä¼ä¸šæ•°æ®èµ„äº§ç®¡ç†ä¸­æ¢ã€‚æ•°æ®ä¸­å°å»ºç«‹åï¼Œä¼šå½¢æˆæ•°æ®APIï¼Œä¸ºä¼ä¸šå’Œå®¢æˆ·æä¾›é«˜æ•ˆå„ç§æ•°æ®æœåŠ¡ã€‚&lt;/span&gt;ï¼ˆè¿™ä¸ªæ¦‚å¿µæœ€æ—©ç”±é˜¿é‡Œæå‡ºï¼Œå®é™…ä¸Šé˜¿é‡Œäº‘çš„ä¸€äº›äº‘äº§å“å°±æ˜¯ä¸€ä¸ªå¤§çš„æ•°æ®ä¸­å°ï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  åˆå›åˆ°ä¹‹å‰è¯´çš„çŸ¿æ³‰æ°´åŠ å·¥å‚çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬åªæœ‰ä¸€ä¸ªåŠ å·¥å‚ï¼Œé‚£è‚¯å®šæ˜¯ä»…ä»…ä¸å¤Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä»…è¦å–æ°´ï¼Œè¿˜è¦å–çš„æ˜¯å®‰å…¨å¥åº·çš„æ°´ï¼Œè¿™ä¸ªæ£€æµ‹å¦‚æœå·¥å‚å†…è‡ªå·±åšï¼Œå¤§å®¶è¿˜æ˜¯ä¸å¤ªç›¸ä¿¡çš„ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦åˆ«äººæ¥æ£€æµ‹ï¼Œç›‘ç®¡åŠ å·¥å‚çš„è´¨é‡å’Œæ°´è´¨ç­‰å®‰å…¨é—®é¢˜ï¼Œè¿™äº›çš„ç›‘ç®¡æ£€æµ‹æœºåˆ¶ï¼Œè€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼ŒåŠ å·¥å‚ç¼ºå°‘ä¸€ä¸ªç®¡è´¦çš„ï¼Œå†…éƒ¨çš„è´¢åŠ¡çŠ¶å†µå¾ˆæ··ä¹±ï¼Œ å› æ­¤ï¼ŒåŠ å·¥å‚åˆè¯·äº†å¦ä¸€å®¶å…¬å¸æ¥ä¸ºä»–ä»¬åšè´¢åŠ¡ç®¡ç†ï¼Œå¦‚æ­¤ï¼Œå†åŠ ä¸ŠåŠ å·¥å‚å†…éƒ¨çš„æ›´æ–°æ¢ä»£ï¼Œåˆå¢åŠ äº†æ–°æŠ€æœ¯æ¥åŠ å·¥çŸ¿æ³‰æ°´ï¼ˆæœºå™¨å­¦ä¹ ï¼Œæ•°æ®æŒ–æ˜ç­‰ï¼‰ï¼ŒåŠ å·¥å‚æ˜¯è¶Šæ¥è¶Šå¤§äº†ï¼Œè€ŒåŒ…å«å…¼ç®¡äººå‘˜ï¼Œè´¢åŠ¡ç®¡ç†å’Œæ•´ä¸ªåŠ å·¥å‚åœ¨å†…çš„ï¼Œå°±æ˜¯å¤§å®¶å¸¸è¯´çš„æ•°æ®ä¸­å°äº†ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;div&gt;&lt;span&gt;&lt;img src=&quot;https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/ZBjVrHIdkOmjpTzdkPiaxG1thv6u0CmUgntSf48ww6Wmg5ulOuzYyvBMLm5S9dYJsAt8S4MkRHMLXb98vskd7zA/640?wx_fmt=png&quot; width=&quot;1080&quot; height=&quot;476&quot;/&gt;&lt;/span&gt;&lt;/div&gt;



&lt;p&gt;&lt;span&gt;ä»¥ä¸Šå°±æ˜¯æˆ‘è‡ªå·±ç†è§£çš„æ•°æ®ä»“åº“ã€æ•°æ®æ¹–å’Œæ•°æ®ä¸­å°çš„æ¦‚å¿µäº†ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡æ­£ï¼&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Fri, 11 Sep 2020 13:10:00 +0000</pubDate>
<dc:creator>å¹¶ä¸æ˜¯è§¦æ‰‹</dc:creator>
<og:description>æ•°æ®ä»“åº“ å¦‚ä½•ç†è§£æ•°æ®ä»“åº“ï¼Ÿä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚ æˆ‘ç°åœ¨æ‰“ç®—å­¦ä¹ å¤§æ•°æ®çš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘çœ‹äº†CSDNï¼Œåšå®¢å›­ï¼Œå¾®ä¿¡çš„å¤§æ•°æ®å…¬ä¼—å·ï¼Œä¸€äº›å®ä½“ä¹¦ç­‰ç­‰ï¼Œå¹¶ä¸”æˆ‘åœ¨çœ‹æŸäº›è¿™äº›ä¸œè¥¿çš„æ—¶å€™ï¼Œæœ‰äº›ä¸é”™çš„æ–‡ç« æˆ‘éƒ½æ”¶è—äº†ï¼Œå‚¨å­˜åœ¨</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bbscs/p/13654309.html</dc:identifier>
</item>
<item>
<title>[ä¸šç•Œæ–¹æ¡ˆ]ç”¨Jaegeræ¥å­¦ä¹ åˆ†å¸ƒå¼è¿½è¸ªç³»ç»ŸOpentracing - ç½—è¥¿çš„æ€è€ƒ</title>
<link>http://www.cnblogs.com/rossiXYZ/p/13654065.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/rossiXYZ/p/13654065.html</guid>
<description>&lt;p&gt;ç¬”è€…ä¹‹å‰æœ‰è¿‡zipkinçš„ç»éªŒï¼Œå¸Œæœ›æ‰©å±•åˆ°Opentracingï¼Œäºæ˜¯åœ¨å­¦ä¹ JaegeråŸºç¡€ä¸Šæ€»ç»“å‡ºæ­¤æ–‡ï¼Œä¸å¤§å®¶åˆ†äº«ã€‚&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;600.16498493288&quot;&gt;


&lt;h2 id=&quot;0x00-æ‘˜è¦&quot;&gt;0x00 æ‘˜è¦&lt;/h2&gt;
&lt;p&gt;ç¬”è€…ä¹‹å‰æœ‰è¿‡zipkinçš„ç»éªŒï¼Œå¸Œæœ›æ‰©å±•åˆ°Opentracingï¼Œäºæ˜¯åœ¨å­¦ä¹ JaegeråŸºç¡€ä¸Šæ€»ç»“å‡ºæ­¤æ–‡ï¼Œä¸å¤§å®¶åˆ†äº«ã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x01-ç¼˜ç”±--é—®é¢˜&quot;&gt;0x01 ç¼˜ç”± &amp;amp; é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&quot;11-é€‰æ‹©jaeger&quot;&gt;1.1 é€‰æ‹©Jaeger&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Jaeger&lt;/code&gt; æ˜¯ &lt;code&gt;Uber&lt;/code&gt; å¼€å‘çš„ä¸€æ¬¾è°ƒç”¨é“¾æœåŠ¡ç«¯äº§å“ï¼Œå¼€å‘è¯­è¨€ä¸º &lt;code&gt;golang&lt;/code&gt; ï¼Œèƒ½å¤Ÿå…¼å®¹æ¥æ”¶ &lt;code&gt;OpenTracing&lt;/code&gt; æ ¼å¼çš„æ•°æ®ã€‚æ ¹æ®å…¶å‘å±•å†å²ï¼Œå¯ä»¥è¯´æ˜¯ &lt;code&gt;Zipkin&lt;/code&gt; çš„å‡çº§ç‰ˆã€‚å¦å¤–ï¼Œå…¶åŸºäº &lt;code&gt;udp&lt;/code&gt; ï¼ˆä¹Ÿå¯ä»¥ &lt;code&gt;http&lt;/code&gt; ï¼‰çš„ä¼ è¾“åè®®ï¼Œæ›´åŠ å®šä½äº†å…¶é«˜æ•ˆã€è¿…é€Ÿçš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‰æ–‡ &lt;a href=&quot;https://www.cnblogs.com/rossiXYZ/p/13641637.html&quot;&gt;[ä¸šç•Œæ–¹æ¡ˆ] ç”¨SOFATracerå­¦ä¹ åˆ†å¸ƒå¼è¿½è¸ªç³»ç»ŸOpentracing&lt;/a&gt; ï¼Œæˆ‘ä»¬ä½¿ç”¨SOFATraceræ¥è¿›è¡Œå­¦ä¹ ï¼Œæœ¬æ¬¡æˆ‘ä»¬é€‰æ‹©äº†Jaegerï¼Œè¿™åˆæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Jaegeræ˜¯Opentracingå®˜æ–¹æ¨èçš„ã€‚&lt;/li&gt;
&lt;li&gt;Jaegeræ”¯æŒOpentracingé«˜ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è€Œä¸”æˆ‘ä»¬æ­£å¥½å¯ä»¥å’ŒSOFATracerè¿›è¡Œå¯¹æ¯”å°è¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;12-é—®é¢˜&quot;&gt;1.2 é—®é¢˜&lt;/h3&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç”¨é—®é¢˜æ¥å¼•å¯¼é˜…è¯»ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Jaeger å’Œ SOFATracer å¯¹æ¯”å¦‚ä½•ï¼Ÿ&lt;/li&gt;
&lt;li&gt;spanIdæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™?&lt;/li&gt;
&lt;li&gt;traceIdæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å“ªé‡Œç”Ÿæˆçš„Spanï¼Ÿ&lt;/li&gt;
&lt;li&gt;ParentSpan ä»å“ªå„¿æ¥ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ChildSpanç”±ParentSpanåˆ›å»ºï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿ&lt;/li&gt;
&lt;li&gt;Traceä¿¡æ¯æ€ä¹ˆä¼ é€’ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¹‹ååšä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;SpanContextåœ¨æœåŠ¡å™¨ç«¯æ€ä¹ˆå¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é“¾è·¯ä¿¡æ¯å¦‚ä½•æœé›†ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;13-æœ¬æ–‡è®¨è®ºèŒƒå›´&quot;&gt;1.3 æœ¬æ–‡è®¨è®ºèŒƒå›´&lt;/h3&gt;
&lt;h4 id=&quot;131-jaegeræ„æˆ&quot;&gt;1.3.1 Jaegeræ„æˆ&lt;/h4&gt;
&lt;p&gt;Jaegerä¸»è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Jaeger Clientï¼š ä¸ºäº†ä¸åŒè¯­è¨€å®ç°äº†ç¬¦åˆOpenTracingæ ‡å‡†çš„SDKã€‚åº”ç”¨ç¨‹åºé€šè¿‡APIå†™å…¥æ•°æ®ï¼Œ client libraryæŠŠtraceä¿¡æ¯æŒ‰ç…§åº”ç”¨ç¨‹åºåˆ¶å®šçš„é‡‡æ ·ç­–ç•¥ä¼ é€’ç»™jaeger-agentã€‚&lt;/li&gt;
&lt;li&gt;Agentï¼š ä»–æ˜¯ä¸€ä¸ªç›‘å¬åœ¨UDPç«¯å£ä¸Šæ¥æ”¶spanæ•°æ®çš„ç½‘ç»œå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ƒä¼šå°†æ•°æ®æ‰¹é‡å‘é€ç»™collectorã€‚ä»–è¢«è®¾è®¡æˆä¸€ä¸ªåŸºç¡€ç»„ä»¶ï¼Œéƒ¨ç½²åˆ°æ‰€æœ‰çš„å®¿ä¸»æœºä¸Šã€‚Agentå°†client libraryå’Œcollectorè§£è€¦ï¼Œä¸ºclient libraryå±è”½äº†è·¯ç”±å’Œå‘ç°collectorçš„ç»†èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;Collectorï¼šæ¥æ”¶jaeger-agentå‘é€æ¥çš„æ•°æ®ï¼Œç„¶åå°†æ•°æ®å†™å…¥åç«¯å­˜å‚¨ã€‚Collectorè¢«è®¾è®¡æˆæ— çŠ¶æ€çš„ç»„ä»¶ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥è¿è¡Œä»»æ„æ•°é‡çš„Collectorã€‚&lt;/li&gt;
&lt;li&gt;Data Storeï¼šåç«¯å­˜å‚¨è¢«è®¾è®¡æˆä¸€ä¸ªå¯æ’æ‹”çš„ç»„ä»¶ï¼Œæ”¯æŒæ•°æ®å†™å…¥cassandraï¼Œ elastic searchã€‚&lt;/li&gt;
&lt;li&gt;Queryï¼šæ¥æ”¶æŸ¥è¯¢è¯·æ±‚ï¼Œç„¶åä»åç«¯å­˜å‚¨ç³»ç»Ÿä¸­æ£€ç´¢tarceå¹¶é€šè¿‡UIè¿›è¡Œå±•ç¤ºã€‚Queryæ˜¯æ— çŠ¶æ€çš„ï¼Œå¯ä»¥å¯åŠ¨å¤šä¸ªå®ä¾‹ã€‚æŠŠä»–ä»¬éƒ¨ç½²åœ¨nginxè¿™æ ·çš„è´Ÿè½½å‡è¡¡å™¨åé¢ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;u&gt;æœ¬æ–‡åªè®¨è®º Jaeger Client åŠŸèƒ½&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&quot;132-å…¨é“¾è·¯è·Ÿè¸ª&quot;&gt;1.3.2 å…¨é“¾è·¯è·Ÿè¸ª&lt;/h4&gt;
&lt;p&gt;å…¨é“¾è·¯è·Ÿè¸ªåˆ†æˆä¸‰ä¸ªè·Ÿè¸ªçº§åˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è·¨è¿›ç¨‹è·Ÿè¸ª (cross-process)(è°ƒç”¨å¦ä¸€ä¸ªå¾®æœåŠ¡)&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“è·Ÿè¸ª&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹å†…éƒ¨çš„è·Ÿè¸ª (in-process)(åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„è·Ÿè¸ª)&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;u&gt;æœ¬æ–‡åªè®¨è®º è·¨è¿›ç¨‹è·Ÿè¸ª (cross-process)&lt;/u&gt;ï¼Œå› ä¸ºè·¨è¿›ç¨‹è·Ÿè¸ªæ˜¯æœ€ç®€å•çš„ ^_^ã€‚å¯¹äºè·¨è¿›ç¨‹è·Ÿè¸ªï¼Œä½ å¯ä»¥ç¼–å†™æ‹¦æˆªå™¨æˆ–è¿‡æ»¤å™¨æ¥è·Ÿè¸ªæ¯ä¸ªè¯·æ±‚ï¼Œå®ƒåªéœ€è¦ç¼–å†™æå°‘çš„ä»£ç ã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x02-èƒŒæ™¯çŸ¥è¯†&quot;&gt;0x02 èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;å› ä¸ºå‰æ–‡å·²ç»å¯¹èƒŒæ™¯çŸ¥è¯†åšäº†è¾ƒè¯¦ç»†çš„ä»‹ç»ï¼Œæœ¬æ–‡åªæ˜¯æä¸€ä¸‹å‡ ä¸ªå¿…è¦æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿå‘å±•å¾ˆå¿«ï¼Œç§ç±»ç¹å¤šï¼Œä½†æ ¸å¿ƒæ­¥éª¤ä¸€èˆ¬æœ‰ä¸‰ä¸ªï¼š&lt;strong&gt;ä»£ç åŸ‹ç‚¹ï¼Œæ•°æ®å­˜å‚¨ã€æŸ¥è¯¢å±•ç¤º&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ•°æ®é‡‡é›†è¿‡ç¨‹ï¼Œéœ€è¦ä¾µå…¥ç”¨æˆ·ä»£ç åšåŸ‹ç‚¹ï¼Œä¸åŒç³»ç»Ÿçš„APIä¸å…¼å®¹ä¼šå¯¼è‡´åˆ‡æ¢è¿½è¸ªç³»ç»Ÿéœ€è¦åšå¾ˆå¤§çš„æ”¹åŠ¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯ç”Ÿäº†opentracing è§„èŒƒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-ruby&quot;&gt;   +-------------+  +---------+  +----------+  +------------+
   | Application |  | Library |  |   OSS    |  |  RPC/IPC   |
   |    Code     |  |  Code   |  | Services |  | Frameworks |
   +-------------+  +---------+  +----------+  +------------+
          |              |             |             |
          |              |             |             |
          v              v             v             v
     +-----------------------------------------------------+
     | Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· OpenTracing Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· |
     +-----------------------------------------------------+
       |               |                |               |
       |               |                |               |
       v               v                v               v
 +-----------+  +-------------+  +-------------+  +-----------+
 |  Tracing  |  |   Logging   |  |   Metrics   |  |  Tracing  |
 | System A  |  | Framework B |  | Framework C |  | System D  |
 +-----------+  +-------------+  +-------------+  +-----------+
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¤§å¤šæ•°åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿçš„æ€æƒ³æ¨¡å‹éƒ½æ¥è‡ªGoogle's Dapperè®ºæ–‡ï¼Œ&lt;strong&gt;OpenTracing&lt;/strong&gt;ä¹Ÿä½¿ç”¨ç›¸ä¼¼çš„&lt;strong&gt;æœ¯è¯­&lt;/strong&gt;ã€‚æœ‰å‡ ä¸ªåŸºæœ¬æ¦‚å¿µæˆ‘ä»¬éœ€è¦æå‰äº†è§£æ¸…æ¥šï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Trace(è¿½è¸ª) ï¼šDapper å°†ä¸€ä¸ªè°ƒç”¨è¿‡ç¨‹æ„å»ºæˆä¸€æ£µè°ƒç”¨æ ‘(ç§°ä¸ºTracer)ï¼ŒTraceræ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºé“¾è·¯è°ƒç”¨ä¸­çš„ä¸€ä¸ªæ¨¡å—æˆ–ç³»ç»Ÿã€‚ é€šè¿‡ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ traceId æ¥æ ‡è¯†ä¸€ä¸ªè¯·æ±‚è°ƒç”¨é“¾ã€‚&lt;u&gt;åœ¨å¹¿ä¹‰ä¸Šï¼Œä¸€ä¸ªtraceä»£è¡¨äº†ä¸€ä¸ªäº‹åŠ¡æˆ–è€…æµç¨‹åœ¨ï¼ˆåˆ†å¸ƒå¼ï¼‰ç³»ç»Ÿä¸­çš„æ‰§è¡Œè¿‡ç¨‹&lt;/u&gt;ã€‚åœ¨OpenTracingæ ‡å‡†ä¸­ï¼Œtraceæ˜¯å¤šä¸ªspanç»„æˆçš„ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œæ¯ä¸€ä¸ªspanä»£è¡¨traceä¸­è¢«å‘½åå¹¶è®¡æ—¶çš„è¿ç»­æ€§çš„æ‰§è¡Œç‰‡æ®µã€‚&lt;/li&gt;
&lt;li&gt;Span(è·¨åº¦) ï¼š&lt;u&gt;ä¸€ä¸ªspanä»£è¡¨ç³»ç»Ÿä¸­å…·æœ‰å¼€å§‹æ—¶é—´å’Œæ‰§è¡Œæ—¶é•¿çš„é€»è¾‘è¿è¡Œå•å…ƒï¼Œå³åº”ç”¨ä¸­çš„ä¸€ä¸ªé€»è¾‘æ“ä½œ&lt;/u&gt;ã€‚spanä¹‹é—´é€šè¿‡åµŒå¥—æˆ–è€…é¡ºåºæ’åˆ—å»ºç«‹é€»è¾‘å› æœå…³ç³»ã€‚ä¸€ä¸ªspanå¯ä»¥è¢«ç†è§£ä¸ºä¸€æ¬¡æ–¹æ³•è°ƒç”¨ï¼Œä¸€ä¸ªç¨‹åºå—çš„è°ƒç”¨ï¼Œæˆ–è€…ä¸€æ¬¡RPC/æ•°æ®åº“è®¿é—®ï¼Œåªè¦æ˜¯ä¸€ä¸ªå…·æœ‰å®Œæ•´æ—¶é—´å‘¨æœŸçš„ç¨‹åºè®¿é—®ï¼Œéƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªspanã€‚&lt;u&gt;Dapperä¸­&lt;/u&gt;ï¼Œä¸€ä¸ªspan åŒ…å«ä»¥ä¸‹é˜¶æ®µï¼ˆä¸åŒè½¯ä»¶å¯èƒ½æœ‰ä¸åŒçš„å®ç° ï¼Œæ¯”å¦‚æœ‰çš„ä¼šç»†åˆ†ä¸º Client Span å’Œ Server Spanï¼‰ï¼š
&lt;ul&gt;&lt;li&gt;Start: å‘èµ·è°ƒç”¨&lt;/li&gt;
&lt;li&gt;cleint send(cs): å®¢æˆ·ç«¯å‘é€è¯·æ±‚&lt;/li&gt;
&lt;li&gt;Server Recv(sr)ï¼šæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚&lt;/li&gt;
&lt;li&gt;Server Send(ss): æœåŠ¡ç«¯å‘é€å“åº”&lt;/li&gt;
&lt;li&gt;Client Recv(cr) : å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯å“åº”&lt;/li&gt;
&lt;li&gt;Endï¼š æ•´ä¸ªé“¾è·¯å®Œæˆã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;     Client                             Server

+--------------+     Request        +--------------+
| Client Send  | +----------------&amp;gt; |Server Receive|
+------+-------+                    +------+-------+
       |                                   |
       |                                   v
       |                            +------+--------+
       |                            |Server Business|
       |                            +------+--------+
       |                                   |
       |                                   |
       v                                   v
+------+--------+    Response       +------+-------+
|Client Receive | &amp;lt;---------------+ |Server Send   |
+------+--------+                   +------+-------+
       |                                   |
       |                                   |
       v                                   v
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;Logs ï¼šæ¯ä¸ªspanå¯ä»¥è¿›è¡Œå¤šæ¬¡Logsæ“ä½œï¼Œæ¯ä¸€æ¬¡Logsæ“ä½œï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¸¦æ—¶é—´æˆ³çš„æ—¶é—´åç§°ï¼Œä»¥åŠå¯é€‰çš„ä»»æ„å¤§å°çš„å­˜å‚¨ç»“æ„ã€‚æ¯”è¾ƒé€‚åˆè®°å½•æ—¥å¿—ã€å¼‚å¸¸æ ˆç­‰ä¸€äº›å’Œæ—¶é—´ç›¸å…³çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;Tags ï¼šæ¯ä¸ªspanå¯ä»¥æœ‰å¤šä¸ªé”®å€¼å¯¹ï¼ˆkey ï¼švalueï¼‰å½¢å¼çš„Tagsï¼ŒTagsæ˜¯æ²¡æœ‰æ—¶é—´æˆ³çš„ï¼Œæ”¯æŒç®€å•çš„å¯¹spanè¿›è¡Œæ³¨è§£å’Œè¡¥å……ã€‚è®°å½•çš„ä¿¡æ¯é€‚ç”¨äºspanä»åˆ›å»ºåˆ°å®Œæˆçš„ä»»ä½•æ—¶åˆ»ã€‚å†è¯´ç›´ç™½ç‚¹å°±æ˜¯è®°å½•å’Œæ—¶é—´ç‚¹æ— å…³çš„ä¿¡æ¯ï¼Œè¿™ä¸ªä¸»è¦æ˜¯å’Œä¸‹é¢çš„Logsä½œåŒºåˆ†ã€‚&lt;/li&gt;
&lt;li&gt;Baggage Itemsï¼šè¿™ä¸ªä¸»è¦æ˜¯ç”¨äºè·¨è¿›ç¨‹å…¨å±€ä¼ è¾“æ•°æ®&lt;/li&gt;
&lt;li&gt;SpanContext ï¼š&lt;code&gt;SpanContext&lt;/code&gt;æ›´åƒæ˜¯ä¸€ä¸ªâ€œæ¦‚å¿µâ€ï¼Œè€Œä¸æ˜¯é€šç”¨ OpenTracing å±‚çš„æœ‰ç”¨åŠŸèƒ½ã€‚åœ¨åˆ›å»º&lt;code&gt;Span&lt;/code&gt;ã€å‘ä¼ è¾“åè®®&lt;code&gt;Inject&lt;/code&gt;ï¼ˆæ³¨å…¥ï¼‰å’Œä»ä¼ è¾“åè®®ä¸­&lt;code&gt;Extract&lt;/code&gt;ï¼ˆæå–ï¼‰è°ƒç”¨é“¾ä¿¡æ¯æ—¶ï¼Œ&lt;code&gt;SpanContext&lt;/code&gt;å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;0x03-ç¤ºä¾‹ä»£ç &quot;&gt;0x03 ç¤ºä¾‹ä»£ç &lt;/h2&gt;
&lt;h3 id=&quot;31-ä»£ç &quot;&gt;3.1 ä»£ç &lt;/h3&gt;
&lt;p&gt;ä»£ç å…¨éƒ¨æ¥è‡ª &lt;a href=&quot;https://github.com/yurishkuro/opentracing-tutorial&quot;&gt;https://github.com/yurishkuro/opentracing-tutorial&lt;/a&gt;ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„tracerä½¿ç”¨çš„æ˜¯ JaegerTracerã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Hello {

    private final Tracer tracer;
    private final OkHttpClient client;

    private Hello(Tracer tracer) {
        this.tracer = tracer;
        this.client = new OkHttpClient();
    }

    private String getHttp(int port, String path, String param, String value) {
        try {
            HttpUrl url = new HttpUrl.Builder().scheme(&quot;http&quot;).host(&quot;localhost&quot;).port(port).addPathSegment(path)
                    .addQueryParameter(param, value).build();
            Request.Builder requestBuilder = new Request.Builder().url(url);
            
            Span activeSpan = tracer.activeSpan();
            Tags.SPAN_KIND.set(activeSpan, Tags.SPAN_KIND_CLIENT);
            Tags.HTTP_METHOD.set(activeSpan, &quot;GET&quot;);
            Tags.HTTP_URL.set(activeSpan, url.toString());
            tracer.inject(activeSpan.context(), Format.Builtin.HTTP_HEADERS, Tracing.requestBuilderCarrier(requestBuilder));

            Request request = requestBuilder.build();
            Response response = client.newCall(request).execute();

            Tags.HTTP_STATUS.set(activeSpan, response.code());
            if (response.code() != 200) {
                throw new RuntimeException(&quot;Bad HTTP result: &quot; + response);
            }
            return response.body().string();
        } catch (Exception e) {
            Tags.ERROR.set(tracer.activeSpan(), true);
            tracer.activeSpan().log(ImmutableMap.of(Fields.EVENT, &quot;error&quot;, Fields.ERROR_OBJECT, e));
            throw new RuntimeException(e);
        }
    }

    private void sayHello(String helloTo, String greeting) {
        Span span = tracer.buildSpan(&quot;say-hello&quot;).start();
        try (Scope scope = tracer.scopeManager().activate(span)) {
            span.setTag(&quot;hello-to&quot;, helloTo);
            span.setBaggageItem(&quot;greeting&quot;, greeting);

            String helloStr = formatString(helloTo);
            printHello(helloStr);
        } finally {
            span.finish();
        }
    }

    private String formatString(String helloTo) {
        Span span = tracer.buildSpan(&quot;formatString&quot;).start();
        try (Scope scope = tracer.scopeManager().activate(span)) {
            String helloStr = getHttp(8081, &quot;format&quot;, &quot;helloTo&quot;, helloTo);
            span.log(ImmutableMap.of(&quot;event&quot;, &quot;string-format&quot;, &quot;value&quot;, helloStr));
            return helloStr;
        } finally {
            span.finish();
        }
    }

    private void printHello(String helloStr) {
        Span span = tracer.buildSpan(&quot;printHello&quot;).start();
        try (Scope scope = tracer.scopeManager().activate(span)) {
            getHttp(8082, &quot;publish&quot;, &quot;helloStr&quot;, helloStr);
            span.log(ImmutableMap.of(&quot;event&quot;, &quot;println&quot;));
        } finally {
            span.finish();
        }
    }

    public static void main(String[] args) {
        try (JaegerTracer tracer = Tracing.init(&quot;hello-world&quot;)) {
            new Hello(tracer).sayHello(&quot;helloTo&quot;, &quot;greeting&quot;);
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;32-dropwizard&quot;&gt;3.2 dropwizard&lt;/h3&gt;
&lt;p&gt;æ­¤å¤„è™½ç„¶ä¸æ˜¯SOFATracerå’ŒJaegerçš„æœ¬è´¨åŒºåˆ«ï¼Œä½†æ˜¯ä¹ŸæŒºæœ‰è¶£ï¼Œå³&lt;u&gt;SOFATraceræ˜¯ä½¿ç”¨SprintBootæ¥åšç¤ºä¾‹ä»£ç ï¼Œè€Œæ­¤å¤„æ˜¯ä½¿ç”¨dropwizardæ¥åšç¤ºä¾‹&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½æœ‰äººå¯¹dropwizardä¸ç†Ÿæ‚‰ï¼Œç°åœ¨å¤§è‡´è®²è§£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Dropwizardæ˜¯&lt;code&gt;Coda Hale&lt;/code&gt;åœ¨&lt;code&gt;Yammer&lt;/code&gt;å…¬å¸æ—¶åˆ›ç«‹çš„ï¼Œå®ƒæ—¨åœ¨æå‡å…¬å¸åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¶æ„ï¼ˆç°åœ¨å«ï¼šå¾®æœåŠ¡ï¼‰ã€‚è™½ç„¶å®ƒæœ€æ—©è¢«ç”¨æ¥æ„å»ºREST Web æœåŠ¡ï¼Œè€Œç°åœ¨å®ƒå…·å¤‡äº†è¶Šæ¥è¶Šå¤šçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®æ ‡å§‹ç»ˆæ˜¯ä½œä¸ºè½»é‡åŒ–ã€ä¸ºç”Ÿäº§ç¯å¢ƒå‡†å¤‡ä¸”å®¹æ˜“ä½¿ç”¨çš„webæ¡†æ¶ã€‚&lt;/li&gt;
&lt;li&gt;Dropwizardä¸Spring Bootç±»ä¼¼ï¼Œä¹Ÿæ˜¯æ„å»ºå¾®æœåŠ¡å¯é€‰çš„å·¥å…·ï¼Œä½†æ˜¯å®ƒæ˜¾å¾—æ¯”Spring Bootæ›´åŠ è§„èŒƒä¸€äº›ã€‚å®ƒä½¿ç”¨çš„ç»„ä»¶ä¸€èˆ¬ä¸ä¼šåšå¯é€‰æ›¿æ¢ï¼Œè€Œå¥½å¤„æ˜¯å¯ä»¥ä¸éœ€è¦é‚£ä¹ˆå¤šçš„ä¿®é¥°ï¼Œæ¯”å¦‚å†™åŸºäºRESTçš„webæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;Dropwizardé»˜è®¤ä¹Ÿä¸å…·å¤‡ä¾èµ–æ³¨å…¥çš„å®¹å™¨ï¼ˆåƒSpringæˆ–è€…CDIï¼‰ï¼Œä½ å½“ç„¶å¯ä»¥è‡ªè¡Œæ·»åŠ ï¼Œä½†æ˜¯Dropwizardæ¨èä½ æŠŠå¾®æœåŠ¡å¼„çš„ç®€å•ä¸€äº›ï¼Œä¸éœ€è¦è¿™äº›é¢å¤–çš„ç»„ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å°±åƒSpring Bootä¸€æ ·ï¼ŒDropwizardæ¨èå°†æ•´ä¸ªå·¥ç¨‹æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„jarï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¼€å‘äººå‘˜ä¸ç”¨åœ¨æ‹…å¿ƒç¨‹åºè¿è¡Œçš„åº”ç”¨æœåŠ¡å™¨æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä»€ä¹ˆé¢å¤–çš„é…ç½®ï¼Œåº”ç”¨å†ä¹Ÿä¸éœ€è¦è¢«æ„å»ºæˆwaråŒ…äº†ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šæœ‰é‚£ä¹ˆå¤šå¤æ‚å±‚çº§çš„ç±»åŠ è½½å™¨äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Dropwizardåœ¨ä¼˜ç§€çš„ä¸‰æ–¹åº“ååŠ©ä¸‹ï¼Œæä¾›äº†ä¸é”™çš„æŠ½è±¡å±‚ï¼Œä½¿ä¹‹æ›´æœ‰æ•ˆç‡ï¼Œæ›´ç®€å•çš„ç¼–å†™ç”Ÿäº§ç”¨é€”çš„å¾®æœåŠ¡ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Servletå®¹å™¨ä½¿ç”¨&lt;code&gt;Jetty&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;REST/JAX-RSå®ç°ä½¿ç”¨&lt;code&gt;Jersey&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;JSONåºåˆ—åŒ–ä½¿ç”¨&lt;code&gt;Jackson&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é›†æˆ&lt;code&gt;Hibernate Validator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Guava&lt;/li&gt;
&lt;li&gt;Metrics&lt;/li&gt;
&lt;li&gt;SLF4J + Logback&lt;/li&gt;
&lt;li&gt;æ•°æ®è®¿é—®å±‚ä¸Šä½¿ç”¨&lt;code&gt;JDBI&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Dropwizardåæ‰§çš„è®¤ä¸ºæ¡†æ¶å°±æ˜¯ç”¨æ¥å†™ä»£ç çš„ï¼Œå› æ­¤å¯¹äºæ¡†æ¶çš„åº•å±‚æŠ€æœ¯æ ˆçš„è°ƒæ•´ï¼ŒåŸåˆ™ä¸ŠDropwizardæ˜¯æ‹’ç»çš„ã€‚æ­£å› ä¸ºå®ƒè¿™ä¹ˆåšï¼Œä½¿å¾—Dropwizardå¼€å‘èµ·ä»£ç æ¥æ›´å¿«ï¼Œè€Œä¸”é…ç½®æ›´åŠ å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ä»£ç ï¼Œå¯¹Dropwizardä½¿ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼Œå³ä½¿ç”¨ Dropwizard å»ºç«‹äº†ä¸¤ä¸ªæœåŠ¡å’Œä¸€ä¸ªæµ‹è¯•clientã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;io.dropwizard.Application

public class Formatter extends Application&amp;lt;Configuration&amp;gt; {

    private final Tracer tracer;

    private Formatter(Tracer tracer) {
        this.tracer = tracer;
    }

    @Path(&quot;/format&quot;)
    @Produces(MediaType.TEXT_PLAIN)
    public class FormatterResource {

        @GET
        public String format(@QueryParam(&quot;helloTo&quot;) String helloTo, @Context HttpHeaders httpHeaders) {
            Span span = Tracing.startServerSpan(tracer, httpHeaders, &quot;format&quot;);
            try (Scope scope = tracer.scopeManager().activate(span)) {
                String greeting = span.getBaggageItem(&quot;greeting&quot;);
                if (greeting == null) {
                    greeting = &quot;Hello&quot;;
                }
                String helloStr = String.format(&quot;%s, %s!&quot;, greeting, helloTo);
                span.log(ImmutableMap.of(&quot;event&quot;, &quot;string-format&quot;, &quot;value&quot;, helloStr));
                return helloStr;
            } finally {
                span.finish();
            }
        }
    }

    @Override
    public void run(Configuration configuration, Environment environment) throws Exception {
        environment.jersey().register(new FormatterResource());
    }

    public static void main(String[] args) throws Exception {
        System.setProperty(&quot;dw.server.applicationConnectors[0].port&quot;, &quot;8081&quot;);
        System.setProperty(&quot;dw.server.adminConnectors[0].port&quot;, &quot;9081&quot;);
        try (JaegerTracer tracer = Tracing.init(&quot;formatter&quot;)) {
            new Formatter(tracer).run(&quot;server&quot;);
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;0x04-é“¾è·¯é€»è¾‘&quot;&gt;0x04 é“¾è·¯é€»è¾‘&lt;/h2&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªç»„ä»¶æ¥è¯´ï¼Œä¸€æ¬¡å¤„ç†è¿‡ç¨‹ä¸€èˆ¬æ˜¯äº§ç”Ÿä¸€ä¸ª Spanï¼›è¿™ä¸ª Span çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»æ¥æ”¶åˆ°è¯·æ±‚åˆ°è¿”å›å“åº”è¿™æ®µè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯å¦‚ä½•ä¸ä¸Šä¸‹æ¸¸é“¾è·¯å…³è”èµ·æ¥å‘¢ï¼Ÿåœ¨ Opentracing è§„èŒƒä¸­ï¼Œå¯ä»¥åœ¨ Tracer ä¸­ extract å‡ºä¸€ä¸ªè·¨è¿›ç¨‹ä¼ é€’çš„ SpanContext ã€‚ç„¶åé€šè¿‡è¿™ä¸ª SpanContext æ‰€æºå¸¦çš„ä¿¡æ¯å°†å½“å‰èŠ‚ç‚¹å…³è”åˆ°æ•´ä¸ª Tracer é“¾è·¯ä¸­å»ï¼Œå½“ç„¶æœ‰æå–ï¼ˆextractï¼‰å°±ä¼šæœ‰å¯¹åº”çš„æ³¨å…¥ï¼ˆinjectï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é“¾è·¯çš„æ„å»ºä¸€èˆ¬æ˜¯ client-server-client-server è¿™ç§æ¨¡å¼çš„ï¼Œé‚£è¿™é‡Œå°±å¾ˆæ¸…æ¥šäº†ï¼Œå°±æ˜¯ä¼šåœ¨ client ç«¯è¿›è¡Œæ³¨å…¥ï¼ˆinjectï¼‰ï¼Œç„¶åå† server ç«¯è¿›è¡Œæå–ï¼ˆextractï¼‰ï¼Œåå¤è¿›è¡Œï¼Œç„¶åä¸€ç›´ä¼ é€’ä¸‹å»ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ‹¿åˆ° SpanContext ä¹‹åï¼Œæ­¤æ—¶å½“å‰çš„ Span å°±å¯ä»¥å…³è”åˆ°è¿™æ¡é“¾è·¯ä¸­äº†ï¼Œé‚£ä¹ˆå‰©ä½™çš„äº‹æƒ…å°±æ˜¯æ”¶é›†å½“å‰ç»„ä»¶çš„ä¸€äº›æ•°æ®ï¼›æ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä»è¯·æ±‚ä¸­æå– spanContext&lt;/li&gt;
&lt;li&gt;æ„å»º Spanï¼Œå¹¶å°†å½“å‰ Span å­˜å…¥å½“å‰ tracerä¸Šä¸‹æ–‡ä¸­ï¼ˆSofaTraceContext.push(Span)ï¼‰ ã€‚&lt;/li&gt;
&lt;li&gt;è®¾ç½®ä¸€äº›ä¿¡æ¯åˆ° Span ä¸­&lt;/li&gt;
&lt;li&gt;è¿”å›å“åº”&lt;/li&gt;
&lt;li&gt;Span ç»“æŸ&amp;amp;ä¸ŠæŠ¥&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;0x05-æ•°æ®æ¨¡å‹&quot;&gt;0x05 æ•°æ®æ¨¡å‹&lt;/h2&gt;
&lt;h3 id=&quot;51-tracer--jaegertracer&quot;&gt;5.1 Tracer &amp;amp; JaegerTracer&lt;/h3&gt;
&lt;p&gt;Jaegerä¸­çš„Traceræ§åˆ¶äº†ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡çš„è¿½è¸ªï¼ŒåŒ…æ‹¬æ³¨å†ŒæœåŠ¡åï¼ˆserviceNameï¼‰ï¼Œå‘é€spanï¼ˆreporterï¼‰ï¼Œé‡‡æ ·ï¼ˆsamplerï¼‰ï¼Œå¯¹spançš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ä»¥åŠä¼ è¾“ï¼ˆregistryçš„injector,extractorï¼‰ï¼Œç»Ÿè®¡è¿½è¸ªç³»ç»Ÿçš„ä¿¡æ¯ï¼ˆmetricsï¼Œå¦‚å‘é€spanæˆåŠŸæ•°é‡ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤opentracingå»ºè®®æ¯ä¸ªæœåŠ¡ä½¿ç”¨ä¸€ä¸ªTracerï¼Œé™¤æ­¤ä¹‹å¤–Tracerè¿˜æ‹…è´Ÿæ„é€ spanï¼Œè·å–å½“å‰spanä»¥åŠè·å–scopeManagerçš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡opentracingçš„è§„èŒƒäº¦å¯ä»¥çœ‹å‡ºï¼Œopentracingå¯¹Tracerçš„åŠŸèƒ½æè¿°ä¸ºï¼šTracer is a simple, thin interface for Span creation and propagation across arbitrary transportsã€‚è€Œjaegeråªæ˜¯åœ¨å…¶åŸºç¡€ä¸Šå¢åŠ äº†å…¶ä»–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;Traceræ˜¯opentracingç»™å‡ºçš„æ¥å£ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package io.opentracing;
public interface Tracer extends Closeable {
    ScopeManager scopeManager();
    Span activeSpan();
    Scope activateSpan(Span var1);
    Tracer.SpanBuilder buildSpan(String var1);
    &amp;lt;C&amp;gt; void inject(SpanContext var1, Format&amp;lt;C&amp;gt; var2, C var3);
    &amp;lt;C&amp;gt; SpanContext extract(Format&amp;lt;C&amp;gt; var1, C var2);
    void close();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;JaegerTracer å®ç°äº† io.opentracing.Tracerã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class JaegerTracer implements Tracer, Closeable {
    private final String version;
    private final String serviceName;
    private final Reporter reporter;
    private final Sampler sampler;
    private final Map&amp;lt;String, ?&amp;gt; tags;
    private final boolean zipkinSharedRpcSpan;
    private final boolean expandExceptionLogs;
    private final boolean useTraceId128Bit;
    private final PropagationRegistry registry;
    private final Clock clock;
    private final Metrics metrics;
    private final ScopeManager scopeManager;
    private final BaggageSetter baggageSetter;
    private final JaegerObjectFactory objectFactory;
    private final int ipv4;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;52-span--jaegerspan&quot;&gt;5.2 Span &amp;amp; JaegerSpan&lt;/h3&gt;
&lt;p&gt;io.opentracing.Span æ˜¯ Opentracing ç»™å‡ºçš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public interface Span {
    SpanContext context();
    Span setTag(String var1, String var2);
    Span setTag(String var1, boolean var2);
    Span setTag(String var1, Number var2);
    &amp;lt;T&amp;gt; Span setTag(Tag&amp;lt;T&amp;gt; var1, T var2);
    Span setBaggageItem(String var1, String var2);
    String getBaggageItem(String var1);
    Span setOperationName(String var1);
    void finish();
    void finish(long var1);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;JaegerSpan å®ç°äº† io.opentracing.SPanã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class JaegerSpan implements Span {
  private final JaegerTracer tracer;
  private final long startTimeMicroseconds;
  private final long startTimeNanoTicks;
  private final boolean computeDurationViaNanoTicks;
  private final Map&amp;lt;String, Object&amp;gt; tags;
  private long durationMicroseconds; // span durationMicroseconds
  private String operationName;
  private final List&amp;lt;Reference&amp;gt; references;
  private JaegerSpanContext context;
  private List&amp;lt;LogData&amp;gt; logs;
  private boolean finished = false; // to prevent the same span from getting reported multiple times
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨jaegerçš„å®ç°ä¸­ï¼Œ&lt;code&gt;Span&lt;/code&gt;çš„ä¿¡æ¯åˆ†ä¸ºå¦‚ä¸‹å‡ æ–¹é¢ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;spanæ ¸å¿ƒä¿¡æ¯ï¼Œå¦‚ï¼štraceIdï¼ŒspanIdï¼ŒparentIdï¼Œbaggageç­‰&lt;/li&gt;
&lt;li&gt;logä¿¡æ¯ ä¸tagçš„åŒºåˆ«æ˜¯å¸¦æœ‰æ—¶é—´æˆ³&lt;/li&gt;
&lt;li&gt;tagä¿¡æ¯&lt;/li&gt;
&lt;li&gt;spançš„å…¶ä»–ä¿¡æ¯ï¼Œå¦‚ï¼šstartTime,duration&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;u&gt;å…¶ä¸­spançš„æ ¸å¿ƒä¿¡æ¯å­˜å‚¨åœ¨&lt;code&gt;SpanContext&lt;/code&gt;ä¸­&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;53-spancontext--jaegerspancontext&quot;&gt;5.3 SpanContext &amp;amp; JaegerSpanContext&lt;/h3&gt;
&lt;p&gt;JaegerSpanContext å®ç°äº† io.opentracing.SpanContext&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public interface SpanContext {
    String toTraceId();
    String toSpanId();
    Iterable&amp;lt;Entry&amp;lt;String, String&amp;gt;&amp;gt; baggageItems();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class JaegerSpanContext implements SpanContext {
  protected static final byte flagSampled = 1;
  protected static final byte flagDebug = 2;
  private final long traceIdLow;
  private final long traceIdHigh;
  private final long spanId;
  private final long parentId;
  private final byte flags;
  private final Map&amp;lt;String, String&amp;gt; baggage;
  private final String debugId;
  private final JaegerObjectFactory objectFactory;
  private final String traceIdAsString;
  private final String spanIdAsString;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;spançš„æ ¸å¿ƒä¿¡æ¯å­˜å‚¨åœ¨&lt;code&gt;SpanContext&lt;/code&gt;ä¸­ï¼Œåœ¨æ„å»ºspanæ—¶å€™å°±ä¼šåˆ›å»ºï¼Œä¸ºäº†é˜²æ­¢ç”¨æˆ·æ“…è‡ªä¿®æ”¹æ ¸å¿ƒä¿¡æ¯ï¼ŒspanContextä¸­çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯finalä¿®é¥°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®opentracingçš„è§„èŒƒï¼Œ &lt;code&gt;SpanContext&lt;/code&gt; &lt;em&gt;represents Span state that must propagate to descendant Spans and across process boundaries. SpanContext is logically divided into two pieces:&lt;br/&gt;(1) the user-level &quot;Baggage&quot; that propagates across Span boundaries and&lt;br/&gt;(2) any Tracer-implementation-specific fields that are needed to identify or otherwise contextualize the associated Span instance (e.g., a tuple).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æ˜¯è¯´SpanContextä»£è¡¨çš„æ˜¯spanä¸­å¿…é¡»ä¼ é€’çš„ä¿¡æ¯ï¼Œåœ¨é€»è¾‘ä¸Šåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€åˆ†éƒ¨åˆ†æ˜¯æ™®é€šçš„traceIdï¼ŒspanIdç­‰ä¿¡æ¯ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯baggageè¿™ç§ç”¨æˆ·è‡ªå®šä¹‰éœ€è¦ä¼ é€’çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;u&gt;JaegerSpanContextè¿™é‡Œåªæ˜¯ä¿å­˜äº†ä¸Šä¸‹æ–‡ç¯å¢ƒåº”æœ‰çš„ä¿¡æ¯ï¼Œä¸ SofaTraceContext ä¸åŒï¼ŒSofaTraceContext é‡Œé¢è¿˜å­˜æœ‰Spanï¼Œä½†æ˜¯åœ¨ Jaegerï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯åœ¨ ScopeManagerä¸­å®Œæˆçš„&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;54-reporter&quot;&gt;5.4 Reporter&lt;/h3&gt;
&lt;p&gt;é»˜è®¤çš„ RemoteReporter å®ç°äº† Reporterï¼ŒåŠŸèƒ½å°±æ˜¯æˆ‘ä»¬åœ¨å‰æ–‡ä¸­æ‰€è¯´çš„å‘é€æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class RemoteReporter implements Reporter {
  private static final int DEFAULT_CLOSE_ENQUEUE_TIMEOUT_MILLIS = 1000;
  public static final int DEFAULT_FLUSH_INTERVAL_MS = 1000;
  public static final int DEFAULT_MAX_QUEUE_SIZE = 100;

  private final Sender sender;
  private final int closeEnqueueTimeout;

  @ToString.Exclude private final BlockingQueue&amp;lt;Command&amp;gt; commandQueue;
  @ToString.Exclude private final Timer flushTimer;
  @ToString.Exclude private final Thread queueProcessorThread;
  @ToString.Exclude private final QueueProcessor queueProcessor;
  @ToString.Exclude private final Metrics metrics;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;55-scope&quot;&gt;5.5 Scope&lt;/h3&gt;
&lt;p&gt;OpenTracing æŠ½è±¡äº†&lt;strong&gt;Scope&lt;/strong&gt;(active span) å’Œ &lt;strong&gt;ScopeManager&lt;/strong&gt;(è®¾ç½®Scopeä¸è·å–å½“å‰Scope)æ¦‚å¿µã€‚ç®€å•æ¥è¯´ï¼ŒOpenTracing-Javaçš„å®ç°ä¸­ï¼Œ ç”¨&lt;strong&gt;Scope&lt;/strong&gt;å’Œ&lt;strong&gt;ScopeManager&lt;/strong&gt; æ¥å¤„ç†äº†OpenTracingä¸­çš„ä¸Šä¸‹æ–‡ ï¼ˆå³ï¼šget_current_span è¿‡ç¨‹ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦æŠ½è±¡å‡ºScopeçš„æ¦‚å¿µï¼Ÿç›´æ¥ä½¿ç”¨ThreadLocal å­˜å‚¨Spanä¸å°±å¯ä»¥äº†å—ï¼Ÿ&lt;/p&gt;
&lt;blockquote readability=&quot;19&quot;&gt;
&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š é¦–å…ˆç†è§£Scopeæ˜¯ä»€ä¹ˆï¼ŸScope æ˜¯Active Spançš„ä¸€ä¸ªå®¹å™¨ï¼Œ Scope ä»£è¡¨ç€å½“å‰æ´»è·ƒçš„Span; æ˜¯å¯¹å½“å‰æ´»è·ƒSpançš„ä¸€ä¸ªæŠ½è±¡ï¼Œ ä»£è¡¨äº†å½“å‰ä¸Šä¸‹æ–‡æ‰€å¤„äºçš„ä¸€ä¸ªè¿‡ç¨‹ï¼›&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ &lt;strong&gt;ThreadLocalScope&lt;/strong&gt; è¿˜è®°å½•äº† &lt;strong&gt;toRestore Span&lt;/strong&gt;, è¿™æ ·ç»“æŸæ—¶ï¼Œå¯ä»¥æ¢å¤åˆ°ä¸Šä¸€ä¸ªSpançš„çŠ¶æ€ï¼›&lt;/p&gt;
&lt;p&gt;æˆ‘ç†è§£å¦‚æœåªæ˜¯ get_current_span() é€»è¾‘çš„è¯ï¼Œç›´æ¥æŠŠ span å¡åˆ° ThreadLocalé‡Œå°±å¯ä»¥åœ¨çº¿ç¨‹å†…ä¼ é€’äº†ï¼›ä½†æ˜¯ScopeManagerçœ‹ä»£ç æ˜¯è¿™æ ·å®ç°çš„ï¼ŒScopeManager åŒ…å«ä¸€ä¸ª Scope, Scope åˆåŒ…å«äº† å½“å‰Span, recover Scopeï¼›æˆ‘ç†è§£å®ƒçš„å¥½å¤„æ˜¯ï¼š è¿™æ ·å°±ä¿è¯äº†ï¼Œå¦‚æœå¼€å¯ä¸€ä¸ªå­Spanï¼ˆå­span ä¼šäº§ç”Ÿå­™å­spanï¼‰ï¼Œ è¿™æ · å­span ç»“æŸåï¼Œè¿˜å¯ä»¥å›åˆ° çˆ¶span ï¼ˆè¿™æ ·å¯ä»¥ç»§ç»­äº§ç”Ÿä»¥ çˆ¶span ä¸ºåŸºç¡€çš„å…„å¼Ÿspanï¼‰, å¦‚æœåªæ˜¯ThreadLocal é‡Œå¡ä¸€ä¸ªå½“å‰spançš„è¯ï¼Œæ˜¯è§£å†³ä¸äº†è¿™ç§æƒ…å†µçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ–è€…è¯´&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹&lt;code&gt;ScopeManager&lt;/code&gt;ç®¡ç†ç€å„ä¸ªçº¿ç¨‹çš„&lt;code&gt;Scope&lt;/code&gt;ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹ä¸­çš„&lt;code&gt;Scope&lt;/code&gt;ç®¡ç†ç€è¯¥çº¿ç¨‹ä¸­çš„&lt;code&gt;Span&lt;/code&gt;ã€‚è¿™æ ·å½“æŸä¸ªçº¿ç¨‹éœ€è¦è·å–å…¶çº¿ç¨‹ä¸­å½“å‰ &lt;em&gt;æ´»åŠ¨çš„&lt;/em&gt; spanæ—¶ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;ScopeManager&lt;/code&gt;æ‰¾åˆ°å¯¹åº”è¯¥çº¿ç¨‹çš„&lt;code&gt;Scope&lt;/code&gt;ï¼Œå¹¶ä»&lt;code&gt;Scope&lt;/code&gt;ä¸­å–å‡ºè¯¥çº¿ç¨‹ &lt;em&gt;æ´»åŠ¨çš„&lt;/em&gt; spanã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Scope å¯¹è±¡æ˜¯ Active Spançš„å®¹å™¨ï¼›é€šè¿‡Scopeèƒ½æ‹¿åˆ°å½“å‰ä¸Šä¸‹æ–‡å†…çš„Active Span;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;io.opentracing.util.ThreadLocalScope&lt;/strong&gt; æ˜¯Scopeçš„ä¸€ä¸ªå®ç°ï¼Œé€šè¿‡ThreadLocal æ¥å­˜å‚¨ï¼›&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ„é€ å‡½æ•°å°±æ˜¯æŠŠç›®å‰Spanæš‚å­˜ï¼Œç„¶åæŠŠä¼ å…¥çš„å‚æ•°Spanè®¾ç½®ä¸ºå½“å‰Spanã€‚å³ å°†ä¹‹å‰æ´»åŠ¨çš„scopeä½œä¸ºå½“å‰scopeçš„å±æ€§&lt;code&gt;toRestore&lt;/code&gt;æ¥å­˜å‚¨ï¼Œå¹¶å°†å½“å‰scopeè®¾ç½®åˆ°scopeManagerä¸­ä½œä¸ºå½“å‰çº¿ç¨‹æœ€æ–°çš„scopeã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ“ä½œå½“spanæ“ä½œå®Œæˆï¼ˆspan.finishï¼‰æ—¶ï¼Œéœ€è¦è°ƒç”¨scope.closeæ–¹æ³•åšæ¢å¤ï¼Œè§¦å‘å…³è”æ–°çš„æ¿€æ´»spanï¼Œå¦åˆ™è°ƒç”¨é“¾æ¡ä¼šå‡ºé”™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class ThreadLocalScope implements Scope {
    private final ThreadLocalScopeManager scopeManager;
    private final Span wrapped; // å½“å‰ Active Span
    private final ThreadLocalScope toRestore; // ä¸Šä¸€Active Span,wrapped ç»“æŸæ—¶ï¼Œä¼šæ¢å¤åˆ°æ­¤Span

    ThreadLocalScope(ThreadLocalScopeManager scopeManager, Span wrapped) {
        this.scopeManager = scopeManager;
        this.wrapped = wrapped;
        // è¿™ä¸¤å¥è®¾ç½®äº†å½“å‰æ´»åŠ¨Scope
        this.toRestore = scopeManager.tlsScope.get();
        scopeManager.tlsScope.set(this);
    }

    @Override
    public void close() {
        if (scopeManager.tlsScope.get() != this) {
            // This shouldn't happen if users call methods in the expected order. Bail out.
            return;
        }
        scopeManager.tlsScope.set(toRestore);
    }

    Span span() {
        return wrapped;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;56-scopemanager&quot;&gt;5.6 ScopeManager&lt;/h3&gt;
&lt;p&gt;Scopeæ˜¯ç«™åœ¨CPUè§’åº¦æ¿€æ´»æˆ–è€…å¤±æ•ˆSpanã€‚ScopeManagerç®¡ç†Scopeã€‚ä¸€ä¸ªScopeé‡Œå¯ä»¥æœ‰å¤šä¸ªspanï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªæ¿€æ´»çš„spanã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹&lt;code&gt;ScopeManager&lt;/code&gt;ç®¡ç†ç€å„ä¸ªçº¿ç¨‹çš„&lt;code&gt;Scope&lt;/code&gt;ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹ä¸­çš„&lt;code&gt;Scope&lt;/code&gt;ç®¡ç†ç€è¯¥çº¿ç¨‹ä¸­çš„&lt;code&gt;Span&lt;/code&gt;ã€‚è¿™æ ·å½“æŸä¸ªçº¿ç¨‹éœ€è¦è·å–å…¶çº¿ç¨‹ä¸­å½“å‰&lt;em&gt;æ´»åŠ¨çš„&lt;/em&gt; spanæ—¶ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;ScopeManager&lt;/code&gt;æ‰¾åˆ°å¯¹åº”è¯¥çº¿ç¨‹çš„&lt;code&gt;Scope&lt;/code&gt;ï¼Œå¹¶ä»&lt;code&gt;Scope&lt;/code&gt;ä¸­å–å‡ºè¯¥çº¿ç¨‹ &lt;em&gt;æ´»åŠ¨çš„&lt;/em&gt; spanã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰äº†ScopeManagerï¼Œ æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ &lt;code&gt;scopeManager.activeSpan()&lt;/code&gt; æ–¹æ³•è·å–åˆ°å½“å‰Spanï¼Œ å¹¶ä¸”é€šè¿‡&lt;code&gt;scopeManager().activate(span)&lt;/code&gt; æ–¹æ³•è®¾ç½®å½“å‰ä¸Šä¸‹æ–‡&lt;strong&gt;active span&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;io.opentracing.util.ThreadLocalScopeManager&lt;/strong&gt; æ˜¯opentracingæä¾›çš„ScopeManagerçš„å®ç°ï¼ŒJaegerå¹¶æ²¡æœ‰è‡ªå·±é‡å†™ä¸€ä¸ªæ–°ç±»ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ThreadLocalScopeManagerã€‚&lt;/p&gt;
&lt;ul readability=&quot;2.5&quot;&gt;&lt;li readability=&quot;5&quot;&gt;
&lt;p&gt;activate å‡½æ•°çš„ä½œç”¨æ˜¯ æ¿€æ´»å½“å‰ Spanã€‚è¿”å›Scopeï¼ˆå¯ä»¥ç†è§£ä¸º ä»£è¡¨å½“å‰ Span æ´»è·ƒçš„ä¸€ä¸ªé˜¶æ®µï¼‰ã€‚å³è°ƒç”¨&lt;code&gt;ThreadLocalScope&lt;/code&gt;çš„æ„é€ æ–¹æ³•ï¼Œå°†ä¼ å…¥çš„spanæ¿€æ´»ä¸º &lt;em&gt;å½“å‰æ´»åŠ¨çš„&lt;/em&gt; spanã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ThreadLocalScopeæ„é€ å‡½æ•°å°±èƒ½å‘ç°ï¼Œä¸å…¶è¯´æ˜¯æ¿€æ´»ä¼ å…¥çš„spanå€’ä¸å¦‚è¯´æ˜¯æ¿€æ´»&lt;strong&gt;åŒ…è£¹(wrapped)è¯¥spançš„scope&lt;/strong&gt;ä¸º &lt;em&gt;å½“å‰æ´»åŠ¨çš„&lt;/em&gt; scopeã€‚&lt;/p&gt;
&lt;p&gt;Span æ´»è·ƒæœŸç»“æŸåï¼Œéœ€è¦å…³é—­ Scope, æ¨èä½¿ç”¨ try-with-resources å…³é—­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;activeSpanå‡½æ•°åˆ™æ˜¯è¿”å›å½“å‰ æ¿€æ´»ï¼ˆactiveï¼‰çŠ¶æ€Span, æ— åˆ™è¿”å›nullã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class ThreadLocalScopeManager implements ScopeManager {
    // ä½¿ç”¨åŸå§‹çš„ThreadLocal æ¥å­˜å‚¨ Active Span; ScopeManagerä¸­ä»…åŒ…å«ä¸€ä¸ª Scope( Active Span)ï¼Œ å³å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„ active span
    final ThreadLocal&amp;lt;ThreadLocalScope&amp;gt; tlsScope = new ThreadLocal&amp;lt;ThreadLocalScope&amp;gt;();

    // å¯ä»¥çœ‹åˆ°ï¼Œactivate å‡½æ•°å°±æ˜¯æŠŠspanæ”¾è¿›ä¸€ä¸ªæ–°ç”Ÿæˆçš„ ThreadLocalScope ä¸­ï¼Œå…¶å®å°±æ˜¯tlsScope æˆå‘˜å˜é‡ä¸­ã€‚
    @Override
    public Scope activate(Span span) {
        return new ThreadLocalScope(this, span);
    }

    @Override
    public Span activeSpan() { 
        ThreadLocalScope scope = tlsScope.get();
        return scope == null ? null : scope.span();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Jaegerä½¿ç”¨scopeManageræ¥å¤„ç†ç®¡ç†äº†ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ä» scopeManagerä¸­æ‹¿åˆ°å½“å‰ä¸Šä¸‹æ–‡Spanï¼›é‚£å…·ä½“æ˜¯åœ¨å“ªé‡Œè®¾ç½®çš„çˆ¶å­å…³ç³»å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨OpenTracing-Javaå®ç°ä¸­ï¼Œ æ˜¯åœ¨ &lt;code&gt;tracer.start()&lt;/code&gt; æ–¹æ³•ä¸­å¤„ç†çš„ï¼›&lt;code&gt;start()&lt;/code&gt; æ–¹æ³•ä¸­é€šè¿‡ scopeManager åˆ¤æ–­æ˜¯å­˜åœ¨active spanï¼Œè‹¥å­˜åœ¨åˆ™ç”ŸæˆCHILD_OFå…³ç³»çš„ä¸Šä¸‹æ–‡ï¼Œ å¦‚æœä¸å­˜åœ¨åˆ™createNewContext;&lt;/p&gt;
&lt;p&gt;&lt;u&gt;è¿™ç‚¹å’ŒSOFATtacerä¸åŒï¼ŒSOFATtaceræŠŠè¿™ä¸ªä¸Šä¸‹æ–‡ç®¡ç†åŠŸèƒ½æ”¾åœ¨äº†SofaTraceContextä¹‹ä¸­ï¼Œç¡®å®åœ¨åˆ†æä»£ç æ—¶å€™æ„Ÿåˆ°æœ‰äº›è®¸æ··ä¹±ã€‚&lt;/u&gt;&lt;/p&gt;
&lt;h3 id=&quot;57-spanid--traceid&quot;&gt;5.7 SpanID &amp;amp; TraceID&lt;/h3&gt;
&lt;p&gt;SpanId å’Œ TraceID éƒ½æ˜¯åœ¨æ„å»ºSpanContext æ—¶å€™ç”Ÿæˆçš„ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private JaegerSpanContext createNewContext() {
  String debugId = getDebugId();
  long spanId = Utils.uniqueId();  // span
  long traceIdLow = spanId;  // trace
  long traceIdHigh = isUseTraceId128Bit() ? Utils.uniqueId() : 0;
        ......
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public static long uniqueId() {
  long val = 0;
  while (val == 0) {
    val = Java6CompatibleThreadLocalRandom.current().nextLong();
  }
  return val;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åæ˜¯è°ƒç”¨åˆ°äº†ThreadLocalRandom # currentã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public static Random current() {
  if (threadLocalRandomPresent) {
    return ThreadLocalRandomAccessor.getCurrentThreadLocalRandom();
  } else {
    return threadLocal.get();
  }
}

static class ThreadLocalRandomAccessor {
    @IgnoreJRERequirement
    private static Random getCurrentThreadLocalRandom() {
      return ThreadLocalRandom.current();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;context = {JaegerSpanContext@1701} &quot;c29c9e0f4a0a681c:36217443515fc248:c29c9e0f4a0a681c:1&quot;
 traceIdLow = -4423486945480775652
 traceIdHigh = 0
 spanId = 3900526584756421192
 parentId = -4423486945480775652
 flags = 1
 baggage = {HashMap@1693}  size = 1
 debugId = null
 objectFactory = {JaegerObjectFactory@1673} 
 traceIdAsString = &quot;c29c9e0f4a0a681c&quot;
 spanIdAsString = &quot;36217443515fc248&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;0x06-å¯åŠ¨&quot;&gt;0x06 å¯åŠ¨&lt;/h2&gt;
&lt;h3 id=&quot;61-æ‰‹åŠ¨åŸ‹ç‚¹&quot;&gt;6.1 æ‰‹åŠ¨åŸ‹ç‚¹&lt;/h3&gt;
&lt;p&gt;è¦é€šè¿‡Jaegerå°†Javaåº”ç”¨æ•°æ®ä¸ŠæŠ¥è‡³é“¾è·¯è¿½è¸ªæ§åˆ¶å°ï¼Œé¦–å…ˆéœ€è¦å®ŒæˆåŸ‹ç‚¹å·¥ä½œã€‚&lt;u&gt;æœ¬ç¤ºä¾‹ä¸ºæ‰‹åŠ¨åŸ‹ç‚¹&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;62-pomé…ç½®&quot;&gt;6.2 pomé…ç½®&lt;/h3&gt;
&lt;p&gt;pom.xmlä¸­æ·»åŠ äº†å¯¹Jaegerå®¢æˆ·ç«¯çš„ä¾èµ–ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;io.jaegertracing&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jaeger-client&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${jaeger.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;63-å¯åŠ¨&quot;&gt;6.3 å¯åŠ¨&lt;/h3&gt;
&lt;p&gt;ç¤ºä¾‹ä»£ç å¹¶æ²¡æœ‰ä½¿ç”¨æ³¨å…¥çš„ç»„ä»¶ï¼Œè€Œæ˜¯æ‰‹åŠ¨å¯åŠ¨ï¼Œå…·ä½“å¯åŠ¨/åˆå§‹åŒ–ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public final class Tracing {
    private Tracing() { }
    
    public static JaegerTracer init(String service) {
        SamplerConfiguration samplerConfig = SamplerConfiguration.fromEnv()
                .withType(ConstSampler.TYPE)
                .withParam(1);

        ReporterConfiguration reporterConfig = ReporterConfiguration.fromEnv()
                .withLogSpans(true);

        // è¿™é‡Œå¯åŠ¨
        Configuration config = new Configuration(service)
                .withSampler(samplerConfig)
                .withReporter(reporterConfig);

        return config.getTracer();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¤ºä¾‹ä¸­å¯åŠ¨çš„ io.dropwizard.Application éƒ½ä¼šè°ƒç”¨initè¿›è¡Œåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;try (JaegerTracer tracer = Tracing.init(&quot;publisher&quot;)) {
    new Publisher(tracer).run(&quot;server&quot;);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…·ä½“å¯åŠ¨é€»è¾‘éƒ½æ˜¯åœ¨ io.jaegertracing.Configuration ä¸­å®Œæˆçš„ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°&lt;u&gt;å…¶ä¸­å®ç°äº†ä¼—å¤šé…ç½®å’Œä¸€ä¸ªtracer&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;64-æ„å»ºtracer&quot;&gt;6.4 æ„å»ºTracer&lt;/h3&gt;
&lt;p&gt;ä¸ŠèŠ‚ä»£ç ä¸­æœ‰ &lt;code&gt;config.getTracer();&lt;/code&gt; ï¼Œè¿™å°±æ˜¯ jaegeré‡‡ç”¨builderæ¨¡å¼æ¥æ„å»º&lt;code&gt;Tracer&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Configuration {
    private String serviceName;
    private Configuration.SamplerConfiguration samplerConfig;
    private Configuration.ReporterConfiguration reporterConfig;
    private Configuration.CodecConfiguration codecConfig;
    private MetricsFactory metricsFactory;
    private Map&amp;lt;String, String&amp;gt; tracerTags;
    private boolean useTraceId128Bit;
    private JaegerTracer tracer;
  
    public synchronized JaegerTracer getTracer() {
      if (tracer != null) {
        return tracer;
      }

      tracer = getTracerBuilder().build(); // æ„å»º
      return tracer;
    }
  
    ......
}  
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;build()&lt;/code&gt;æ–¹æ³•æœ€ç»ˆå®Œæˆäº†&lt;code&gt;Tracer&lt;/code&gt;å¯¹è±¡çš„æ„é€ ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é»˜è®¤ä½¿ç”¨&lt;code&gt;RemoteReporter&lt;/code&gt;æ¥report &lt;code&gt;Span&lt;/code&gt;åˆ°agentï¼Œ&lt;/li&gt;
&lt;li&gt;é‡‡æ ·é»˜è®¤ä½¿ç”¨&lt;code&gt;RemoteControlledSampler&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å…±åŒä½¿ç”¨çš„&lt;code&gt;metrics&lt;/code&gt;æ˜¯åœ¨Builderå†…éƒ¨ç±»ä¸­çš„æœ‰é»˜è®¤å€¼çš„æˆå‘˜å˜é‡&lt;code&gt;metrics&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public JaegerTracer build() {
  if (reporter == null) {
    reporter = new RemoteReporter.Builder()
        .withMetrics(metrics)
        .build();
  }
  if (sampler == null) {
    sampler = new RemoteControlledSampler.Builder(serviceName)
        .withMetrics(metrics)
        .build();
  }
  return createTracer();
}

protected JaegerTracer createTracer() {
      return new JaegerTracer(this);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Tracerå¯¹è±¡å¯ä»¥ç”¨æ¥åˆ›å»ºSpanå¯¹è±¡ä»¥ä¾¿è®°å½•åˆ†å¸ƒå¼æ“ä½œæ—¶é—´ã€é€šè¿‡Extract/Injectæ–¹æ³•è·¨æœºå™¨é€ä¼ æ•°æ®ã€æˆ–è®¾ç½®å½“å‰Spanã€‚Tracerå¯¹è±¡è¿˜é…ç½®äº†ä¸ŠæŠ¥æ•°æ®çš„ç½‘å…³åœ°å€ã€æœ¬æœºIPåœ°å€ã€é‡‡æ ·ç‡ã€æœåŠ¡åç­‰æ•°æ®ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è°ƒæ•´é‡‡æ ·ç‡æ¥å‡å°‘å› ä¸ŠæŠ¥æ•°æ®äº§ç”Ÿçš„å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¯åŠ¨ä¹‹åï¼Œç”¨æˆ·å¾—åˆ° Tracer æ¥è¿›è¡Œåç»­æ‰‹åŠ¨åŸ‹ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;JaegerTracer tracer = Tracing.init(&quot;hello-world&quot;)
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;0x07-å®¢æˆ·ç«¯å‘é€&quot;&gt;0x07 å®¢æˆ·ç«¯å‘é€&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢éƒ½æ˜¯æ‰‹åŠ¨åŸ‹ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;71-æ„å»ºspan&quot;&gt;7.1 æ„å»ºSpan&lt;/h3&gt;
&lt;p&gt;æ„é€ &lt;code&gt;Span&lt;/code&gt;å¯¹è±¡æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹æƒ…ï¼Œé€šè¿‡opentracingå¯¹&lt;code&gt;Tracer&lt;/code&gt;æ¥å£çš„è§„å®šå¯çŸ¥&lt;code&gt;Span&lt;/code&gt;æ˜¯ç”±&lt;code&gt;Tracer&lt;/code&gt;è´Ÿè´£æ„é€ çš„ï¼Œå¦‚ä¸‹æˆ‘ä»¬â€œå¯åŠ¨â€äº†ä¸€ä¸ª&lt;code&gt;Span&lt;/code&gt;ï¼ˆå®é™…ä¸Šåªæ˜¯æ„é€ äº†è¯¥å¯¹è±¡è€Œå·²ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;Span span = tracer.buildSpan(&quot;printHello&quot;).start();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Tracerä¸­çš„startæ–¹æ³•(&lt;strong&gt;å¼€å¯ä¸€ä¸ªSpan&lt;/strong&gt;) ä½¿ç”¨äº†scopeManager æ¥è·å–ä¸Šä¸‹æ–‡ï¼Œä»è€Œæ¥å¤„ç†çˆ¶å­å…³ç³»ï¼›&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public JaegerSpan start() {
      // æ­¤å¤„ä»ScopeManagerè·å–ä¸Šä¸‹æ–‡ï¼ˆçº¿ç¨‹ï¼‰ä¸­ï¼Œè·å–åˆ°æ¿€æ´»çš„Span, è€Œååˆ›å»ºçˆ¶å­å…³ç³»
      if (this.references.isEmpty() &amp;amp;&amp;amp; !this.ignoreActiveSpan &amp;amp;&amp;amp; null != JaegerTracer.this.scopeManager.activeSpan()) {
                this.asChildOf(JaegerTracer.this.scopeManager.activeSpan());
      }

      JaegerSpanContext context;
      if (!this.references.isEmpty() &amp;amp;&amp;amp; ((Reference)this.references.get(0)).getSpanContext().hasTrace()) {
                context = this.createChildContext();
      } else {
                context = this.createNewContext();
      }
      ...
      return jaegerSpan;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;72-parent-span&quot;&gt;7.2 Parent Span&lt;/h3&gt;
&lt;p&gt;æœ¬ç¤ºä¾‹ä¸­ä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªSpanï¼šParent Span å’Œ Child Spanã€‚æˆ‘ä»¬é¦–å…ˆä»‹ç» Parent Spanã€‚&lt;/p&gt;
&lt;p&gt;å…¶å¤§è‡´ç­–ç•¥æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è°ƒç”¨ tracer.buildSpan(&quot;say-hello&quot;).start() ç”ŸæˆSpan
&lt;ul&gt;&lt;li&gt;asChildOf(scopeManager.activeSpan()); è¿™é‡Œæ„å»ºäº†Spanä¹‹é—´çš„å…³ç³»ï¼Œå³æœ¬ spanåœ¨åˆå§‹åŒ–æ—¶å°±å…ˆæ„å»ºäº†ä¸ä¹‹å‰spançš„å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;createNewContext() æˆ–è€… createChildContext()ã€‚å¦‚æœæ˜¯root spanå°±éšæœºç”Ÿæˆidä½œä¸ºtraceIdä¸spanIdï¼Œå¦‚æœä¸æ˜¯root spanåˆ™ä½¿ç”¨&lt;code&gt;reference&lt;/code&gt;å±æ€§ä¸­æ‰¾åˆ°è¯¥spançš„parent spanï¼ˆæ ¹æ®æ˜¯å¦ä¸ºchild_ofçš„å…³ç³»æ¥åˆ¤æ–­ï¼‰è·å–å…¶traceIdä½œä¸ºè‡ªå·±çš„traceIdï¼Œè·å–å…¶spanIdä½œä¸ºè‡ªå·±çš„parentIdã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ tracer.scopeManager().activate å‡½æ•°å°±æ˜¯æŠŠspanæ”¾è¿›ä¸€ä¸ªæ–°ç”Ÿæˆçš„ ThreadLocalScope ä¸­ï¼Œå…¶å®å°±æ˜¯ tlsScope æˆå‘˜å˜é‡ä¸­ã€‚ ç»“æœæ˜¯åç»­å¯ä»¥é€šè¿‡tracer.scopeManager.activeSpan();è·å–spanä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;setTag&lt;/li&gt;
&lt;li&gt;setBaggageItem&lt;/li&gt;
&lt;li&gt;æœ€åfinish&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void sayHello(String helloTo, String greeting) {
        Span span = tracer.buildSpan(&quot;say-hello&quot;).start();
        try (Scope scope = tracer.scopeManager().activate(span)) {
            span.setTag(&quot;hello-to&quot;, helloTo);
            span.setBaggageItem(&quot;greeting&quot;, greeting);
            String helloStr = formatString(helloTo);
            printHello(helloStr);
        } finally {
            span.finish();
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾—åˆ°çš„è¿è¡Œæ—¶Spanå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;span = {JaegerSpan@1685} 
 startTimeMicroseconds = 1598707136698000
 startTimeNanoTicks = 1018098763618500
 computeDurationViaNanoTicks = true
 tags = {HashMap@1700}  size = 2
 durationMicroseconds = 0
 operationName = &quot;say-hello&quot;
 references = {ArrayList@1701}  size = 0
 context = {JaegerSpanContext@1666} &quot;c8b87cc5fb01ef31:c8b87cc5fb01ef31:0:1&quot;
  traceIdLow = -3983296680647594191
  traceIdHigh = 0
  spanId = -3983296680647594191
  parentId = 0
  flags = 1
  baggage = {Collections$EmptyMap@1704}  size = 0
  debugId = null
  objectFactory = {JaegerObjectFactory@994} 
  traceIdAsString = &quot;c8b87cc5fb01ef31&quot;
  spanIdAsString = &quot;c8b87cc5fb01ef31&quot;
 logs = null
 finished = false
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;73-child-span&quot;&gt;7.3 Child Span&lt;/h3&gt;
&lt;p&gt;ç¤ºä¾‹ä»£ç ç„¶ååœ¨ formatString ä¸­ä¼šï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç”Ÿæˆä¸€ä¸ªå­ Span&lt;/li&gt;
&lt;li&gt;åŠ å…¥äº†Tag&lt;/li&gt;
&lt;li&gt;è°ƒç”¨Injectæ–¹æ³•ä¼ å…¥Contextä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¹¶ä¸”ä¼šè°ƒç”¨httpè¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private String getHttp(int port, String path, String param, String value) {
                HttpUrl url = new HttpUrl.Builder().scheme(&quot;http&quot;).host(&quot;localhost&quot;).port(port).addPathSegment(path)
                    .addQueryParameter(param, value).build();
                Request.Builder requestBuilder = new Request.Builder().url(url);
  
        Span activeSpan = tracer.activeSpan();

    Tags.SPAN_KIND.set(activeSpan, Tags.SPAN_KIND_CLIENT);
    Tags.HTTP_METHOD.set(activeSpan, &quot;GET&quot;);
    Tags.HTTP_URL.set(activeSpan, url.toString());

    tracer.inject(activeSpan.context(), Format.Builtin.HTTP_HEADERS, 
                  Tracing.requestBuilderCarrier(requestBuilder));

    Request request = requestBuilder.build();
    Response response = client.newCall(request).execute();
}  
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;74-inject&quot;&gt;7.4 Inject&lt;/h3&gt;
&lt;p&gt;ä¸Šæ–‡ä¸­çš„ tracer.inject å‡½æ•°ï¼Œæ˜¯ç”¨æ¥æŠŠ SpanContext çš„ä¿¡æ¯åºåˆ—åŒ–åˆ° Request.Builder ä¹‹ä¸­ã€‚è¿™æ ·åç»­æ“ä½œå°±å¯ä»¥æŠŠåºåˆ—åŒ–ä¹‹åçš„ä¿¡æ¯è½¬æ¢åˆ° Headerä¹‹ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;tracer.inject(activeSpan.context(), Format.Builtin.HTTP_HEADERS, 
              Tracing.requestBuilderCarrier(requestBuilder));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…·ä½“åºåˆ—åŒ–ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public void inject(JaegerSpanContext spanContext, TextMap carrier) {
  carrier.put(contextKey, encodedValue(contextAsString(spanContext)));
  for (Map.Entry&amp;lt;String, String&amp;gt; entry : spanContext.baggageItems()) {
    carrier.put(keys.prefixedKey(entry.getKey(), baggagePrefix), encodedValue(entry.getValue()));
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;75-finish&quot;&gt;7.5 Finish&lt;/h3&gt;
&lt;p&gt;&lt;u&gt;å½“æœåŠ¡ç«¯è¿”å›ä¹‹åï¼Œåœ¨Clientç«¯ï¼Œjaegerä¼šè¿›è¡Œåç»­æ“ä½œï¼šfinishï¼Œreport&lt;/u&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒç”¨&lt;code&gt;span.finish()&lt;/code&gt;æ–¹æ³•æ ‡å¿—ç€spançš„ç»“æŸã€‚finishæ–¹æ³•åº”è¯¥æ˜¯å¯¹åº”spanå®ä¾‹çš„æœ€åä¸€ä¸ªè°ƒç”¨çš„æ–¹æ³•ã€‚åœ¨spanä¸­finishæ–¹æ³•è¿˜åªæ˜¯æ ¡éªŒå’Œè®°å½•çš„ä½œç”¨ï¼ŒçœŸæ­£å‘é€spançš„å°±æ˜¯å¼€å¤´æåˆ°çš„tracerï¼ŒtraceråŒ…å«äº†samplerã€reportç­‰å…¨å±€çš„åŠŸèƒ½ï¼Œå› æ­¤åœ¨finishä¸­è°ƒç”¨äº†&lt;code&gt;tracer.report(span)&lt;/code&gt;æ–¹æ³•ã€‚è€Œtracerä¸­çš„reportæ–¹æ³•æ˜¯ä½¿ç”¨å…¶æˆå‘˜&lt;code&gt;report&lt;/code&gt;çš„reportæ–¹æ³•ï¼Œä¸Šé¢è®²è¿‡é»˜è®¤å®ç°æ˜¯&lt;code&gt;RemoteReporter&lt;/code&gt;ï¼Œå®ƒé»˜è®¤ä½¿ç”¨çš„æ˜¯&lt;code&gt;UdpSender&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;span.finishä¼šè§¦å‘spanä¸ŠæŠ¥ã€‚è°ƒç”¨äº† JaegerSpan.finishWithDurationã€‚å…¶ä¸­ä¼šåˆ¤æ–­æœ¬æ¬¡Traceæ˜¯å¦é‡‡æ ·ã€‚å¦‚æœæ˜¯é‡‡æ ·äº†ï¼Œå°±ä¼šä¸ŠæŠ¥ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;  @Override
  public void finish(long finishMicros) {
    finishWithDuration(finishMicros - startTimeMicroseconds);
  }

  private void finishWithDuration(long durationMicros) {
    synchronized (this) {
      if (finished) {
        log.warn(&quot;Span has already been finished; will not be reported again.&quot;);
        return;
      }
      finished = true;

      this.durationMicroseconds = durationMicros;
    }

    if (context.isSampled()) {
      tracer.reportSpan(this);
    }
  }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;76-reporter&quot;&gt;7.6 Reporter&lt;/h3&gt;
&lt;p&gt;ä¸ŠæŠ¥æ˜¯åœ¨ RemoteReporter ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;RemoteReporter&lt;/code&gt;ä¸­æœ‰ä¸€ä¸ª&lt;code&gt;BlockingQueue&lt;/code&gt;é˜Ÿåˆ—å…¶ä½œç”¨æ˜¯æ¥æ”¶Commandæ¥å£çš„å®ç°ç±»ï¼Œå…¶é•¿åº¦å¯åœ¨æ„é€ æ–¹æ³•ä¸­ä¼ å…¥ã€‚åœ¨&lt;code&gt;RemoteReporter&lt;/code&gt;çš„æ„é€ å‡½æ•°ä¸­å¼€å¯äº†ä¸¤ä¸ªå®ˆæŠ¤çº¿ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹å®šæ—¶å¾€&lt;code&gt;BlockingQueue&lt;/code&gt;é˜Ÿåˆ—ä¸­æ·»åŠ flushå‘½ä»¤ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸åœçš„ä»&lt;code&gt;BlockingQueue&lt;/code&gt;é˜Ÿåˆ—ä¸­takeæ•°æ®ï¼Œç„¶åæ‰§è¡ŒCommand.excute()æ–¹æ³•ã€‚è€Œreport(span)æ–¹æ³•å°±æ˜¯å¾€&lt;code&gt;BlockingQueue&lt;/code&gt;é˜Ÿåˆ—ä¸­æ·»åŠ &lt;code&gt;AppendCommand&lt;/code&gt;ç±»ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;  @Override
  public void report(JaegerSpan span) {
    // Its better to drop spans, than to block here
    boolean added = commandQueue.offer(new AppendCommand(span));

    if (!added) {
      metrics.reporterDropped.inc(1);
    }
  }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å¦‚æœè¿”å›çš„addedå˜é‡ä¸ºfalseï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—æ»¡äº†æ— æ³•å†åŠ å…¥æ•°æ®ï¼Œå°±ä¼šæŠ›å¼ƒè¯¥spançš„ï¼Œæœ€ç»ˆè¯¥spançš„ä¿¡æ¯ä¸ä¼šå‘é€åˆ°agentä¸­ã€‚å› æ­¤é˜Ÿåˆ—çš„é•¿åº¦ä¹Ÿæ˜¯æœ‰ä¸€å®šçš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ&lt;code&gt;AppendCommand&lt;/code&gt;ç±»çš„excute()æ–¹æ³•ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;class AppendCommand implements Command {
    private final Span span;

    public AppendCommand(Span span) {
      this.span = span;
    }

    @Override
    public void execute() throws SenderException {
      sender.append(span);
    }
  }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œexecute()æ–¹æ³•å¹¶ä¸æ˜¯çœŸæ­£çš„å‘é€spanäº†ï¼Œè€Œåªæ˜¯æŠŠspanæ·»åŠ åˆ°senderä¸­å»ï¼Œç”±senderå®ç°spançš„å‘é€ï¼Œreporterç±»åªè´Ÿè´£å‘é€åˆ·æ–°ä¸å‘é€çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ç»§ç»­æ·±å…¥ä¸‹å»ï¼Œä¼šå‘ç°&lt;code&gt;UdpSender&lt;/code&gt;æ˜¯æŠ½è±¡ç±»&lt;code&gt;ThriftSender&lt;/code&gt;çš„å®ç°ç±»ï¼Œ&lt;code&gt;sender.append(span)&lt;/code&gt;æ–¹æ³•è°ƒç”¨çš„æ˜¯&lt;code&gt;ThriftSender&lt;/code&gt;çš„&lt;code&gt;append(Span)&lt;/code&gt;æ–¹æ³•ï¼Œè€Œè¯¥æ–¹æ³•åˆä¼šè°ƒç”¨&lt;code&gt;ThriftSender&lt;/code&gt;çš„&lt;code&gt;flush()&lt;/code&gt;æ–¹æ³•ï¼Œæœ€åè¿™ä¸ª&lt;code&gt;flush()&lt;/code&gt;æ–¹æ³•ä¼šè°ƒç”¨æŠ½è±¡ç±»&lt;code&gt;ThriftSender&lt;/code&gt;çš„æŠ½è±¡æ–¹æ³•&lt;code&gt;send(Process process, List spans)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Jaegerä¸­å…¶ä»–Reporterå¦‚ä¸‹ ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;CompositeReporter&lt;/code&gt;é¡¾åæ€ä¹‰å°±æ˜¯å°†å„ä¸ªreporterç»„åˆèµ·æ¥ï¼Œå†…éƒ¨æœ‰ä¸€ä¸ªlistï¼Œå®ƒæ‰€å®ç°çš„æ¥å£çš„ &lt;code&gt;report(Span span)&lt;/code&gt;æ–¹æ³•ä¹Ÿåªæ˜¯æŠŠlistä¸­çš„æ‰€æœ‰reporterä¾æ¬¡è°ƒç”¨&lt;code&gt;report(Span span)&lt;/code&gt;æ–¹æ³•è€Œå·²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;InMemoryReporter&lt;/code&gt;ç±»æ˜¯å°†&lt;code&gt;Span&lt;/code&gt;å­˜åˆ°å†…å­˜ä¸­ï¼Œè¯¥ç±»å«æœ‰ä¸€ä¸ªlistç”¨äºå­˜å‚¨spanï¼Œè¯¥ç±»ä¸­çš„reportæ–¹æ³•å³ä¸ºå°†spané€šè¿‡addæ–¹æ³•æ·»åŠ åˆ°listä¸­ï¼Œé€šè¿‡&lt;code&gt;getSpans()&lt;/code&gt;æ–¹æ³•è·å–åˆ°listï¼ŒåŒæ—¶æœ‰&lt;code&gt;clear()&lt;/code&gt;æ–¹æ³•æ¸…é™¤listæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LoggingReporter&lt;/code&gt;ç±»ä½œç”¨æ˜¯å°†spanä½œä¸ºæ—¥å¿—å†…å®¹æ‰“å°å‡ºæ¥ï¼Œå…¶reportæ–¹æ³•å³ä¸º&lt;code&gt;log.info()&lt;/code&gt;æ‰“å°spançš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NoopReporter&lt;/code&gt;æ˜¯ä¸€ä¸ªå®ç°äº†&lt;code&gt;Reporter&lt;/code&gt;æ¥å£ä½†æ˜¯å®ç°æ–¹æ³•ä¸ºç©ºçš„ä¸€ä¸ªç±»ï¼Œè¡¨ç¤ºä½¿ç”¨è¯¥ç±»report spanå°†æ¯«æ— å½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;0x08-æœåŠ¡ç«¯æ¥å—&quot;&gt;0x08 æœåŠ¡ç«¯æ¥å—&lt;/h2&gt;
&lt;h3 id=&quot;81-æ‰‹åŠ¨åŸ‹ç‚¹&quot;&gt;8.1 æ‰‹åŠ¨åŸ‹ç‚¹&lt;/h3&gt;
&lt;p&gt;æœåŠ¡ç«¯ä¹Ÿæ˜¯æ‰‹åŠ¨åŸ‹ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class FormatterResource {
    @GET
    public String format(@QueryParam(&quot;helloTo&quot;) String helloTo, @Context HttpHeaders httpHeaders) {
        Span span = Tracing.startServerSpan(tracer, httpHeaders, &quot;format&quot;);
        try (Scope scope = tracer.scopeManager().activate(span)) {
            String greeting = span.getBaggageItem(&quot;greeting&quot;);
            if (greeting == null) {
                greeting = &quot;Hello&quot;;
            }
            String helloStr = String.format(&quot;%s, %s!&quot;, greeting, helloTo);
            span.log(ImmutableMap.of(&quot;event&quot;, &quot;string-format&quot;, &quot;value&quot;, helloStr));
            return helloStr;
        } finally {
            span.finish();
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;82-ä¸šåŠ¡é€»è¾‘&quot;&gt;8.2 ä¸šåŠ¡é€»è¾‘&lt;/h3&gt;
&lt;p&gt;ä¸šåŠ¡é€»è¾‘åœ¨ startServerSpan ä¹‹ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è°ƒç”¨Extractæ–¹æ³•è§£æContextä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ˜¯å¦æœ‰Parent Context æ¥è¿›è¡ŒSpanæ„å»ºï¼Œå…¶ä¸­ä¼šç”¨åˆ°SpanContextã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public static Span startServerSpan(Tracer tracer, javax.ws.rs.core.HttpHeaders httpHeaders, String operationName) {
        // format the headers for extraction
        MultivaluedMap&amp;lt;String, String&amp;gt; rawHeaders = httpHeaders.getRequestHeaders();
        final HashMap&amp;lt;String, String&amp;gt; headers = new HashMap&amp;lt;String, String&amp;gt;();
        for (String key : rawHeaders.keySet()) {
            headers.put(key, rawHeaders.get(key).get(0));
        }

        Tracer.SpanBuilder spanBuilder;
        try {
            SpanContext parentSpanCtx = tracer.extract(Format.Builtin.HTTP_HEADERS, new TextMapAdapter(headers));
            if (parentSpanCtx == null) {
                spanBuilder = tracer.buildSpan(operationName);
            } else {
                spanBuilder = tracer.buildSpan(operationName).asChildOf(parentSpanCtx);
            }
        } catch (IllegalArgumentException e) {
            spanBuilder = tracer.buildSpan(operationName);
        }
        // TODO could add more tags like http.url
        return spanBuilder.withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_SERVER).start();
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;83-è§£æcontext&quot;&gt;8.3 è§£æContext&lt;/h3&gt;
&lt;p&gt;è§£æä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public JaegerSpanContext extract(TextMap carrier) {
  JaegerSpanContext context = null;
  Map&amp;lt;String, String&amp;gt; baggage = null;
  String debugId = null;
  for (Map.Entry&amp;lt;String, String&amp;gt; entry : carrier) {
    // TODO there should be no lower-case here
    String key = entry.getKey().toLowerCase(Locale.ROOT);
    if (key.equals(contextKey)) {
      context = contextFromString(decodedValue(entry.getValue()));
    } else if (key.equals(Constants.DEBUG_ID_HEADER_KEY)) {
      debugId = decodedValue(entry.getValue());
    } else if (key.startsWith(baggagePrefix)) {
      if (baggage == null) {
        baggage = new HashMap&amp;lt;String, String&amp;gt;();
      }
      baggage.put(keys.unprefixedKey(key, baggagePrefix), decodedValue(entry.getValue()));
    } else if (key.equals(Constants.BAGGAGE_HEADER_KEY)) {
      baggage = parseBaggageHeader(decodedValue(entry.getValue()), baggage);
    }
  }
  if (debugId == null &amp;amp;&amp;amp; baggage == null) {
    return context;
  }
  return objectFactory.createSpanContext(
    context == null ? 0L : context.getTraceIdHigh(),
    context == null ? 0L : context.getTraceIdLow(),
    context == null ? 0L : context.getSpanId(),
    context == null ? 0L : context.getParentId(),
    context == null ? (byte)0 : context.getFlags(),
    baggage,
    debugId);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;0x09-é—®é¢˜è§£ç­”&quot;&gt;0x09 é—®é¢˜è§£ç­”&lt;/h2&gt;
&lt;ul readability=&quot;7&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Jaeger å’Œ SOFATracer å¯¹æ¯”å¦‚ä½•ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Jaegerå¯¹OpenTracingæ”¯æŒçš„æ›´å®Œå¤‡ï¼Œç‰ˆæœ¬æ›´é«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;spanIdæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™?&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;traceIdæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™ï¼Ÿ&lt;/p&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æœ€ç»ˆéƒ½æ˜¯è°ƒç”¨åˆ° ThreadLocalRandom # current # nextLong å®Œæˆï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt; traceIdLow = -4423486945480775652
 traceIdHigh = 0
 spanId = 3900526584756421192
 parentId = -4423486945480775652
&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å®¢æˆ·ç«¯å“ªé‡Œç”Ÿæˆçš„Spanï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æœ¬ç¤ºä¾‹ä»£ç æ˜¯æ‰‹åŠ¨è°ƒç”¨ tracer.buildSpan(&quot;say-hello&quot;).start() ç”ŸæˆSpanã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ParentSpan ä»å“ªå„¿æ¥ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ChildSpanç”±ParentSpanåˆ›å»ºï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åœ¨OpenTracing-Javaå®ç°ä¸­ï¼Œ æ˜¯åœ¨ &lt;code&gt;tracer.start()&lt;/code&gt; æ–¹æ³•ä¸­å¤„ç†çš„ï¼›&lt;code&gt;start()&lt;/code&gt; æ–¹æ³•ä¸­é€šè¿‡ scopeManager åˆ¤æ–­æ˜¯å­˜åœ¨active span ï¼Œè‹¥å­˜åœ¨åˆ™ç”ŸæˆCHILD_OFå…³ç³»çš„ä¸Šä¸‹æ–‡ï¼Œ å¦‚æœä¸å­˜åœ¨åˆ™createNewContext;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Traceä¿¡æ¯æ€ä¹ˆä¼ é€’ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æŠŠ SpanContext çš„ä¿¡æ¯åºåˆ—åŒ–åˆ° Request.Builder ä¹‹ä¸­ã€‚åç»­æ“ä½œæŠŠåºåˆ—åŒ–ä¹‹åçš„ä¿¡æ¯è½¬æ¢åˆ° Headerä¹‹ä¸­ï¼Œç„¶åå°±å¯ä»¥ä¼ é€’ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¹‹ååšä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è°ƒç”¨Extractæ–¹æ³•è§£æContextä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ˜¯å¦æœ‰Parent Context æ¥è¿›è¡ŒSpanæ„å»ºï¼Œå…¶ä¸­ä¼šç”¨åˆ°SpanContextã€‚&lt;/li&gt;
&lt;li&gt;è¿›è¡Œå…·ä½“å…¶ä»–ä¸šåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;SpanContextåœ¨æœåŠ¡å™¨ç«¯æ€ä¹ˆå¤„ç†ï¼Ÿè§ä¸Šé—®é¢˜å›ç­”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;é“¾è·¯ä¿¡æ¯å¦‚ä½•æœé›†ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é‡‡æ ·æ˜¯å¯¹äºæ•´æ¡é“¾è·¯æ¥è¯´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä» RootSpan è¢«åˆ›å»ºå¼€å§‹ï¼Œå°±å·²ç»å†³å®šäº†å½“å‰é“¾è·¯æ•°æ®æ˜¯å¦ä¼šè¢«è®°å½•äº†ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå·²ç»ç¡®å®šæœ¬æ¬¡Traceè¢«é‡‡æ ·ï¼Œå°±ä¼šå‘é€æŠ¥å‘Šã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;0xff-å‚è€ƒ&quot;&gt;0xFF å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/83654617&quot;&gt;åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ -- Opentracing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/yunqiinsight/article/details/80134045&quot;&gt;å¼€æ”¾åˆ†å¸ƒå¼è¿½è¸ªï¼ˆOpenTracingï¼‰å…¥é—¨ä¸ Jaeger å®ç°&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/7a08e7c1835c&quot;&gt;OpenTracing è¯­ä¹‰è¯´æ˜&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/71024024&quot;&gt;åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿæ¦‚è¿°åŠä¸»æµå¼€æºç³»ç»Ÿå¯¹æ¯”&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/41252484&quot;&gt;Skywalkingåˆ†å¸ƒå¼è¿½è¸ªä¸ç›‘æ§ï¼šèµ·å§‹ç¯‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/82cd923191fb&quot;&gt;åˆ†å¸ƒå¼å…¨é“¾è·¯ç›‘æ§ -- opentracingå°è¯•&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/170290448&quot;&gt;opentracingå®æˆ˜&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/79419529&quot;&gt;Goå¾®æœåŠ¡å…¨é“¾è·¯è·Ÿè¸ªè¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://niyanchun.com/opentracing-java-library-tutorial-3.html&quot;&gt;OpenTracing Java Libraryæ•™ç¨‹(3)â€”â€”è·¨æœåŠ¡ä¼ é€’SpanContext&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://niyanchun.com/opentracing-java-library-tutorial-1.html&quot;&gt;OpenTracing Java Libraryæ•™ç¨‹(1)â€”â€”traceå’Œspanå…¥é—¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.sofastack.tech/blog/sofa-tracer-overview/&quot;&gt;èš‚èšé‡‘æœåˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ªç»„ä»¶ SOFATracer æ€»è§ˆ|å‰–æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.sofastack.tech/blog/sofa-tracer-unvarnished-transmission-slf4j-mdc/&quot;&gt;èš‚èšé‡‘æœå¼€æºåˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ªç»„ä»¶ SOFATracer é“¾è·¯é€ä¼ åŸç†ä¸SLF4J MDC çš„æ‰©å±•èƒ½åŠ›å‰–æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.sofastack.tech/blog/sofa-tracer-sampling-tracking-deep-dive/&quot;&gt;èš‚èšé‡‘æœå¼€æºåˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ªç»„ä»¶ SOFATracer é‡‡æ ·ç­–ç•¥å’Œæºç å‰–æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/sofastack-guides/sofa-tracer-guides&quot;&gt;https://github.com/sofastack-guides/sofa-tracer-guides&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://opentracing.io/specification/&quot;&gt;The OpenTracing Semantic Specification&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://niyanchun.com/opentracing-java-library-tutorial-2.html&quot;&gt;OpenTracing Java Libraryæ•™ç¨‹(2)â€”â€”è¿›ç¨‹é—´ä¼ é€’SpanContext&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://niyanchun.com/opentracing-java-library-tutorial-4.html&quot;&gt;OpenTracing Java Libraryæ•™ç¨‹(4)â€”â€”Baggageä»‹ç»&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/yurishkuro/opentracing-tutorial&quot;&gt;https://github.com/yurishkuro/opentracing-tutorial&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/95d9f9f3fdc5&quot;&gt;å¾®æœåŠ¡ç³»ç»Ÿæ¶æ„ä¹‹åˆ†å¸ƒå¼traceIdè¿½è¸ªå‚è€ƒå®ç°&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/47bc00a07eb4&quot;&gt;ç›‘æ§ä¹‹traceid&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/2f5d5638b8b0&quot;&gt;jaegerä»£ç é˜…è¯»æ€è·¯æ•´ç†&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/tong-yuan/p/12128796.html&quot;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¦‚ä½•ä¼˜é›…åœ°è¿½è¸ªæ—¥å¿—ï¼ˆåŸç†ç¯‡ï¼‰traceid&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000007219902&quot;&gt;sky-walkingçš„traceIdç”Ÿæˆ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/4f12f5bfe2dc&quot;&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»åˆ—ç•ªå¤–ç¯‡ä¸€ï¼ˆjaegerå¼‚æ­¥æ‰¹é‡å‘é€spanï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/e26c5a9b5261&quot;&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»åˆ—ç•ªå¤–ç¯‡äºŒï¼ˆSpark Jobä¼˜åŒ–è®°ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/85068093f9ac&quot;&gt;JaegeræœåŠ¡ç«¯åŸ‹ç‚¹åˆ†æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.alibabacloud.com/help/zh/doc-detail/90501.html&quot;&gt;é€šè¿‡Jaegerä¸ŠæŠ¥Javaåº”ç”¨æ•°æ®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102298986&quot;&gt;OpenTracing(Jaeger) é­é‡å¤šçº¿ç¨‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/shuai_wy/article/details/107744631&quot;&gt;OpenTracing-Java Scopeä¸ScopeManager&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/shuai_wy/article/details/107743925&quot;&gt;OpenTracing-Javaå®ç°çš„çµé­‚åé—®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/shuai_wy/article/details/107447779&quot;&gt;OpenTracingå®ç°æ€è·¯ï¼ˆé™„OpenTracing-Jaeger-Javaå®ä¾‹ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/hanjiangxue1006/article/details/105626862&quot;&gt;OpenTracing API è‡ªåŠ¨åŸ‹ç‚¹è°ƒç ”&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/85068093f9ac&quot;&gt;JaegeræœåŠ¡ç«¯åŸ‹ç‚¹åˆ†æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102298986&quot;&gt;OpenTracing(Jaeger) é­é‡å¤šçº¿ç¨‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/edi-kai/p/9779932.html&quot;&gt;jaegeropentracingçš„Java-clientå®Œæ•´åˆ†å¸ƒå¼è¿½è¸ªé“¾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/fbedfcdea606&quot;&gt;åŸºäºopentracing + jaeger å®ç°å…¨é“¾è·¯è¿½è¸ª&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/2f5d5638b8b0&quot;&gt;jaegerä»£ç é˜…è¯»æ€è·¯æ•´ç†&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Fri, 11 Sep 2020 12:42:00 +0000</pubDate>
<dc:creator>ç½—è¥¿çš„æ€è€ƒ</dc:creator>
<og:description>ç¬”è€…ä¹‹å‰æœ‰è¿‡zipkinçš„ç»éªŒï¼Œå¸Œæœ›æ‰©å±•åˆ°Opentracingï¼Œäºæ˜¯åœ¨å­¦ä¹ JaegeråŸºç¡€ä¸Šæ€»ç»“å‡ºæ­¤æ–‡ï¼Œä¸å¤§å®¶åˆ†äº«ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/rossiXYZ/p/13654065.html</dc:identifier>
</item>
</channel>
</rss>