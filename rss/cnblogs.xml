<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>apache igniteç³»åˆ—ï¼ˆäº”ï¼‰ï¼šåˆ†å¸ƒå¼è®¡ç®— - å •è½é—¨å¾’</title>
<link>http://www.cnblogs.com/cord/p/9431867.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/cord/p/9431867.html</guid>
<description>&lt;h3 id=&quot;igniteåˆ†å¸ƒå¼è®¡ç®—&quot;&gt;igniteåˆ†å¸ƒå¼è®¡ç®—&lt;/h3&gt;
&lt;p&gt;åœ¨igniteä¸­ï¼Œæœ‰ä¼ ç»Ÿçš„MapReduceæ¨¡å‹çš„åˆ†å¸ƒå¼è®¡ç®—ï¼Œä¹Ÿæœ‰åŸºäºåˆ†å¸ƒå¼å­˜å‚¨çš„å¹¶ç½®è®¡ç®—ï¼Œå½“æ•°æ®åˆ†æ•£åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šæ—¶ï¼Œæ ¹æ®æä¾›çš„å¹¶ç½®é”®ï¼Œè®¡ç®—ä¼šä¼ æ’­åˆ°æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹è¿›è¡Œè®¡ç®—ï¼Œå†ç»“åˆæ•°æ®å¹¶ç½®ï¼Œç›¸å…³è”çš„æ•°æ®å­˜å‚¨åœ¨ç›¸åŒèŠ‚ç‚¹ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨è®¡ç®—è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°å¤§é‡çš„æ•°æ®ç§»åŠ¨ï¼Œæœ‰æ•ˆä¿è¯è®¡ç®—çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;igniteåˆ†å¸ƒå¼è®¡ç®—çš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;5.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;è‡ªåŠ¨éƒ¨ç½²&lt;/td&gt;
&lt;td&gt;è®¡ç®—ç”¨åˆ°çš„ç±»å¯ä»¥è‡ªåŠ¨ä¼ æ’­ï¼Œè€Œä¸éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹éƒ½éƒ¨ç½²ç›¸å…³çš„ç±»ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡é…ç½®&lt;code&gt;peerClassLoadingEnabled&lt;/code&gt;é€‰é¡¹å¼€å¯è®¡ç®—ç±»çš„è‡ªåŠ¨ä¼ æ’­ï¼Œä½†æ˜¯ç¼“å­˜çš„å®ä½“ç±»æ˜¯æ— æ³•è‡ªåŠ¨ä¼ æ’­çš„ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;å¹³è¡¡åŠ è½½&lt;/td&gt;
&lt;td&gt;æ•°æ®åœ¨åŠ è½½ä¹‹åä¼šåœ¨é›†ç¾¤ä¸­è¿›è¡Œä¸€ä¸ªå†å¹³è¡¡çš„è¿‡ç¨‹ï¼Œä¿è¯æ•°æ®å‡åŒ€åˆ†å¸ƒåœ¨å„ä¸ªèŠ‚ç‚¹ï¼Œå½“æœ‰è®¡ç®—åœ¨é›†ç¾¤ä¸­æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®æä¾›çš„å¹¶ç½®é”®å®šä½åˆ°æ•°æ®æ‰€åœ¨èŠ‚ç‚¹è¿›è¡Œè®¡ç®—ï¼Œä¹Ÿå°±æ˜¯å¹¶ç½®è®¡ç®—ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;æ•…éšœè½¬ç§»&lt;/td&gt;
&lt;td&gt;å½“èŠ‚ç‚¹å‡ºç°æ•…éšœæˆ–è€…å…¶å®ƒè®¡ç®—çš„æ—¶å€™ï¼Œä»»åŠ¡ä¼šè‡ªåŠ¨è½¬ç§»åˆ°é›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h4 id=&quot;åˆ†å¸ƒå¼é—­åŒ…&quot;&gt;1.åˆ†å¸ƒå¼é—­åŒ…:&lt;/h4&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;Igniteè®¡ç®—ç½‘æ ¼å¯ä»¥å¯¹é›†ç¾¤æˆ–è€…é›†ç¾¤ç»„å†…çš„ä»»ä½•é—­åŒ…è¿›è¡Œå¹¿æ’­å’Œè´Ÿè½½å¹³è¡¡ï¼ŒåŒ…æ‹¬çº¯Javaçš„&lt;code&gt;runnables&lt;/code&gt;å’Œ&lt;code&gt;callables&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;3.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;broadcast&lt;/td&gt;
&lt;td&gt;å°†ä»»åŠ¡ä¼ æ’­åˆ°éƒ¨åˆ†æŒ‡å®šèŠ‚ç‚¹æˆ–è€…å…¨éƒ¨èŠ‚ç‚¹&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;call/run&lt;/td&gt;
&lt;td&gt;æ‰§è¡Œå•ä¸ªä»»åŠ¡æˆ–è€…ä»»åŠ¡é›†&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;apply&lt;/td&gt;
&lt;td&gt;applyæ¥æ”¶ä¸€ä¸ªé—­åŒ…å’Œä¸€ä¸ªé›†åˆä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆä¸å‚æ•°æ•°é‡ç­‰é‡çš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡åˆ†åˆ«æ˜¯å°†é—­åŒ…åº”ç”¨åœ¨å…¶ä¸­ä¸€ä¸ªå‚æ•°ä¸Šï¼Œå¹¶ä¸”ä¼šè¿”å›ç»“æœé›†ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;code&gt;ComputeTestController.java&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;
    /** broadCastæµ‹è¯•*/
    @RequestMapping(&quot;/broadcast&quot;)
    String broadcastTest(HttpServletRequest request, HttpServletResponse response) {
//        IgniteCompute compute = ignite.compute(ignite.cluster().forRemotes());  //åªä¼ æ’­è¿œç¨‹èŠ‚ç‚¹
        IgniteCompute compute = ignite.compute();
        compute.broadcast(() -&amp;gt; System.out.println(&quot;Hello Node: &quot; + ignite.cluster().localNode().id()));
        return &quot;all executed.&quot;;
    }

    /** callå’Œrunæµ‹è¯• */
    @RequestMapping(&quot;/call&quot;)
    public @ResponseBody
    String callTest(HttpServletRequest request, HttpServletResponse response) {
        Collection&amp;lt;IgniteCallable&amp;lt;Integer&amp;gt;&amp;gt; calls = new ArrayList&amp;lt;&amp;gt;();

        /** call */
        System.out.println(&quot;-----------call-----------&quot;);
        for(String word : &quot;How many characters&quot;.split(&quot; &quot;)) {
            calls.add(word::length);
//            calls.add(() -&amp;gt; word.length());
        }
        Collection&amp;lt;Integer&amp;gt; res = ignite.compute().call(calls);
        int total = res.stream().mapToInt(Integer::intValue).sum();
        System.out.println(String.format(&quot;the total lengths of all words is [%s].&quot;, total));

        /** run */
        System.out.println(&quot;-----------run-----------&quot;);
        for (String word : &quot;Print words on different cluster nodes&quot;.split(&quot; &quot;)) {
            ignite.compute().run(() -&amp;gt; System.out.println(word));
        }

        /** async call */
        System.out.println(&quot;-----------async call-----------&quot;);
        IgniteCompute asyncCompute =  ignite.compute().withAsync();
        asyncCompute.call(calls);
        asyncCompute.future().listen(fut -&amp;gt; {
            Collection&amp;lt;Integer&amp;gt; result = (Collection&amp;lt;Integer&amp;gt;)fut.get();
            int t = result.stream().mapToInt(Integer::intValue).sum();
            System.out.println(&quot;Total number of characters: &quot; + total);
        });

        /** async run */
        System.out.println(&quot;-----------async run-----------&quot;);
        Collection&amp;lt;ComputeTaskFuture&amp;lt;?&amp;gt;&amp;gt; futs = new ArrayList&amp;lt;&amp;gt;();
        asyncCompute = ignite.compute().withAsync();
        for (String word : &quot;Print words on different cluster nodes&quot;.split(&quot; &quot;)) {
            asyncCompute.run(() -&amp;gt; System.out.println(word));
            futs.add(asyncCompute.future());
        }
        futs.stream().forEach(ComputeTaskFuture::get);

        return &quot;all executed.&quot;;
    }

    /** applyæµ‹è¯• */
    @RequestMapping(&quot;/apply&quot;)
    public @ResponseBody
    String applyTest(HttpServletRequest request, HttpServletResponse response) {
        /** apply */
        System.out.println(&quot;-----------apply-----------&quot;);
        IgniteCompute compute = ignite.compute();
        Collection&amp;lt;Integer&amp;gt; res = compute.apply(
                String::length,
                Arrays.asList(&quot;How many characters&quot;.split(&quot; &quot;))
        );
        int total = res.stream().mapToInt(Integer::intValue).sum();
        System.out.println(String.format(&quot;the total lengths of all words is [%s].&quot;, total));

        /** async apply */
        IgniteCompute asyncCompute = ignite.compute().withAsync();
        res = asyncCompute.apply(
                String::length,
                Arrays.asList(&quot;How many characters&quot;.split(&quot; &quot;))
        );
        asyncCompute.future().listen(fut -&amp;gt; {
            int t = ((Collection&amp;lt;Integer&amp;gt;)fut.get()).stream().mapToInt(Integer::intValue).sum();
            System.out.println(String.format(&quot;Total number of characters: &quot; + total));
        });

        return &quot;all executed.&quot;;
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;mapreduce&quot;&gt;2. MapReduce:&lt;/h4&gt;
&lt;p&gt;åœ¨igniteä¸­MapReduceçš„å®ç°æ˜¯&lt;code&gt;ComputeTask&lt;/code&gt;ï¼Œå…¶ä¸»è¦æ–¹æ³•æ˜¯map()å’Œreduce()ï¼Œmap()å¯ä»¥æ§åˆ¶ä»»åŠ¡æ˜ å°„åˆ°èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œè€Œreduce()åˆ™æ˜¯å¯¹æœ€ç»ˆè®¡ç®—ç»“æœé›†çš„ä¸€ä¸ªå¤„ç†ã€‚&lt;code&gt;ComputeTask&lt;/code&gt;æœ‰ä¸¤ä¸ªä¸»è¦å®ç°&lt;code&gt;ComputeTaskAdapter&lt;/code&gt;å’Œ&lt;code&gt;ComputeTaskSplitAdapter&lt;/code&gt;, ä¸»è¦çš„åŒºåˆ«åœ¨äº&lt;code&gt;ComputeTaskAdapter&lt;/code&gt;éœ€è¦æ‰‹åŠ¨å®ç°map()æ–¹æ³•ï¼Œè€Œ&lt;code&gt;ComputeTaskSplitAdapter&lt;/code&gt;å¯ä»¥è‡ªåŠ¨æ˜ å°„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ComputeTaskAdapter&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;    /**ComputeTaskAdapter*/
    @RequestMapping(&quot;/taskMap&quot;)
    public @ResponseBody
    String taskMapTest(HttpServletRequest request, HttpServletResponse response) {
        /**ComputeTaskMap*/
        int cnt = ignite.compute().execute(MapExampleCharacterCountTask.class, &quot;Hello Ignite Enable World!&quot;);

        System.out.println(String.format(&quot;&amp;gt;&amp;gt;&amp;gt; Total number of characters in the phrase is %s.&quot;, cnt));

        return &quot;all executed.&quot;;
    }

    private static class MapExampleCharacterCountTask extends ComputeTaskAdapter&amp;lt;String, Integer&amp;gt; {
        /**èŠ‚ç‚¹æ˜ å°„*/
        @Override
        public Map&amp;lt;? extends ComputeJob, ClusterNode&amp;gt; map(List&amp;lt;ClusterNode&amp;gt; nodes, String arg) throws IgniteException {
            Map&amp;lt;ComputeJob, ClusterNode&amp;gt; map = new HashMap&amp;lt;&amp;gt;();
            Iterator&amp;lt;ClusterNode&amp;gt; it = nodes.iterator();
            for (final String word : arg.split(&quot; &quot;)) {
                // If we used all nodes, restart the iterator.
                if (!it.hasNext()) {
                    it = nodes.iterator();
                }
                ClusterNode node = it.next();
                map.put(new ComputeJobAdapter() {
                    @Override
                    public Object execute() throws IgniteException {
                        System.out.println(&quot;-------------------------------------&quot;);
                        System.out.println(String.format(&quot;&amp;gt;&amp;gt;&amp;gt; Printing [%s] on this node from ignite job.&quot;, word));
                        return word.length();
                    }
                }, node);
            }
            return map;
        }
        /**ç»“æœæ±‡æ€»*/
        @Override
        public Integer reduce(List&amp;lt;ComputeJobResult&amp;gt; results) throws IgniteException {
            int sum = 0;
            for (ComputeJobResult res : results) {
                sum += res.&amp;lt;Integer&amp;gt;getData();
            }
            return sum;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœ:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;-------------------------------------
&amp;gt;&amp;gt;&amp;gt; Printing [Ignite] on this node from ignite job.
-------------------------------------
&amp;gt;&amp;gt;&amp;gt; Printing [World!] on this node from ignite job.
&amp;gt;&amp;gt;&amp;gt; Total number of characters in the phrase is 23.&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ComputeTaskSplitAdapter&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;    /**ComputeTaskSplitAdapter*/
    @RequestMapping(&quot;/taskSplit&quot;)
    public @ResponseBody
    String taskSplitTest(HttpServletRequest request, HttpServletResponse response) {
        /**ComputeTaskSplitAdapter(è‡ªåŠ¨æ˜ å°„) */
        int result = ignite.compute().execute(SplitExampleDistributedCompute.class, null);
        System.out.println(String.format(&quot;&amp;gt;&amp;gt;&amp;gt; result: [%s]&quot;, result));

        return &quot;all executed.&quot;;
    }

    private static class SplitExampleDistributedCompute extends ComputeTaskSplitAdapter&amp;lt;String, Integer&amp;gt; {

        @Override
        protected Collection&amp;lt;? extends ComputeJob&amp;gt; split(int gridSize, String arg) throws IgniteException {
            Collection&amp;lt;ComputeJob&amp;gt; jobs = new LinkedList&amp;lt;&amp;gt;();
            jobs.add(new ComputeJobAdapter() {
                @Override
                public Object execute() throws IgniteException {
//                    IgniteCache&amp;lt;Long, Student&amp;gt; cache = Ignition.ignite().cache(CacheKeyConstant.STUDENT);
                    IgniteCache&amp;lt;Long, BinaryObject&amp;gt; cache = Ignition.ignite().cache(CacheKeyConstant.STUDENT).withKeepBinary();
                    /**æ™®é€šæŸ¥è¯¢*/
                    String sql_query = &quot;name = ? and email = ?&quot;;
//                    SqlQuery&amp;lt;Long, Student&amp;gt; cSqlQuery = new SqlQuery&amp;lt;&amp;gt;(Student.class, sql_query);
                    SqlQuery&amp;lt;Long, BinaryObject&amp;gt; cSqlQuery = new SqlQuery&amp;lt;&amp;gt;(Student.class, sql_query);
                    cSqlQuery.setReplicatedOnly(true).setArgs(&quot;student_54&quot;, &quot;student_54gmail.com&quot;);
//                  List&amp;lt;Cache.Entry&amp;lt;Long, Student&amp;gt;&amp;gt; result = cache.query(cSqlQuery).getAll();
                    List&amp;lt;Cache.Entry&amp;lt;Long, BinaryObject&amp;gt;&amp;gt; result = cache.query(cSqlQuery).getAll();
                    System.out.println(&quot;--------------------&quot;);
                    result.stream().map(x -&amp;gt; {
                        Integer studId = x.getValue().field(&quot;studId&quot;);
                        String name = x.getValue().field(&quot;name&quot;);
                        return String.format(&quot;name=[%s], studId=[%s].&quot;, name, studId);
                    }).forEach(System.out::println);
                    System.out.println(String.format(&quot;the query size is [%s].&quot;, result.size()));
                    return result.size();
                }
            });
            return jobs;
        }

        @Override
        public Integer reduce(List&amp;lt;ComputeJobResult&amp;gt; results) throws IgniteException {
            int sum = results.stream().mapToInt(x -&amp;gt; x.&amp;lt;Integer&amp;gt;getData()).sum();
            return sum;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœ:&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;--------------------
name=[student_54], studId=[54].
the query size is [1].
&amp;gt;&amp;gt;&amp;gt; result: [1]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;MapReduceçš„å±€é™æ€§:&lt;/p&gt;
&lt;p&gt;MapReduceé€‚åˆè§£å†³å¹¶è¡Œå’Œæ‰¹å¤„ç†çš„åœºæ™¯ï¼Œä¸é€‚åˆä¸²è¡Œï¼Œè¿­ä»£å’Œé€’å½’ä¸€ç±»æ— æ³•å¹¶è¡Œå’Œåˆ†å‰²ä»»åŠ¡çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;h5 id=&quot;åˆ†å¸ƒå¼è®¡ç®—å­˜åœ¨çš„é—®é¢˜ä»¥åŠæ³¨æ„ç‚¹&quot;&gt;åˆ†å¸ƒå¼è®¡ç®—å­˜åœ¨çš„é—®é¢˜ä»¥åŠæ³¨æ„ç‚¹&lt;/h5&gt;
&lt;pre&gt;
&lt;code&gt;   åœ¨ä½¿ç”¨igniteçš„åˆ†å¸ƒå¼è®¡ç®—åŠŸèƒ½çš„æ—¶å€™ï¼Œå¦‚æœç”¨åˆ°äº†ç¼“å­˜, å¹¶ä¸”ç¼“å­˜valueä¸æ˜¯å¹³å°ç±»å‹(javaåŸºç¡€ç±»å‹)ï¼Œåˆ™éœ€è¦è€ƒè™‘ååºåˆ—åŒ–çš„é—®é¢˜ã€‚&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;em&gt;éƒ¨ç½²ç¼“å­˜å®ä½“ç±»åŒ…åˆ°igniteèŠ‚ç‚¹&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ç¼“å­˜å®ä½“ç±»å¾—å®ç°Serializableæ¥å£ï¼Œ&lt;u&gt;å¹¶ä¸”å¾—æŒ‡å®šserialVersionUID&lt;/u&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;serialVersionUIDè¡¨ç¤ºå®ä½“ç±»çš„å½“å‰ç‰ˆæœ¬ï¼Œæ¯ä¸ªå®ç°Serializableæ¥å£çš„ç±»éƒ½æœ‰ï¼Œå¦‚æœæ²¡æœ‰çš„è®¾ç½®è¯¥å€¼ï¼Œjavaåºåˆ—åŒ–æœºåˆ¶ä¼šå¸®ä½ é»˜è®¤ç”Ÿæˆä¸€ä¸ªã€‚æœ€å¥½åœ¨ä½¿ç”¨serializableæ¥å£æ—¶ï¼Œè®¾å®šserialVersionUIDä¸ºæŸä¸ªå€¼ï¼Œä¸ç„¶å½“åœ¨ä¼ è¾“çš„æŸä¸€ç«¯ä¿®æ”¹å®ä½“ç±»æ—¶ï¼ŒserialVersionUIDä¼šè¢«è™šæ‹Ÿæœºè®¾ç½®æˆä¸€ä¸ªæ–°çš„å€¼ï¼Œé€ æˆä¸¤ç«¯çš„serialVersionUIDä¸ä¸€è‡´ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public class Student implements Serializable {

    private static final long serialVersionUID = -5941489737545326242L;
    ....
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°†å®ä½“ç±»æ‰“åŒ…æˆæ™®é€šjaråŒ…ï¼Œå¹¶æ”¾åœ¨$IGNITE_HOME/libs/è·¯å¾„ä¸‹é¢:&lt;/p&gt;
&lt;p&gt;&lt;u&gt;æ³¨æ„ï¼šæ‰“åŒ…çš„æ—¶å€™ä¸èƒ½æ‰“åŒ…æˆspring-bootçš„å¯æ‰§è¡ŒåŒ…ï¼Œè¦æ‰“åŒ…æˆæ™®é€šjaråŒ…ï¼Œè¿™æ ·ç›¸å…³ç±»æ‰èƒ½æ­£å¸¸åŠ è½½ã€‚å½“ç„¶å¦‚æœé›†ç¾¤é‡Œçš„èŠ‚ç‚¹å‡ä¸ºåº”ç”¨èŠ‚ç‚¹ï¼Œåˆ™å¯ä»¥ä¸ç”¨è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/564309/201808/564309-20180823232807163-1113327437.png&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; IgniteCache&amp;lt;Long, BinaryObject&amp;gt; cache = ignite.cache(&quot;student&quot;).withKeepBinary();
 BinaryObject obj = cache.get(k);  //è·å–äºŒè¿›åˆ¶å¯¹è±¡
 String name = obj.&amp;lt;String&amp;gt;field(&quot;name&quot;);  //è¯»å–äºŒè¿›åˆ¶å¯¹è±¡å±æ€§å€¼&amp;lt;ä½¿ç”¨fieldæ–¹æ³•&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;å¹¶ç½®è®¡ç®—&quot;&gt;3.å¹¶ç½®è®¡ç®—ï¼š&lt;/h4&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;affinityCall(...)&lt;/code&gt;å’Œ&lt;code&gt;affinityRun(...)&lt;/code&gt;æ–¹æ³•ä½¿ä½œä¸šå’Œç¼“å­˜ç€æ•°æ®çš„èŠ‚ç‚¹ä½äºä¸€å¤„ï¼Œæ¢å¥è¯è¯´ï¼Œç»™å®šç¼“å­˜åå­—å’Œå…³ç³»é”®ï¼Œè¿™äº›æ–¹æ³•ä¼šè¯•å›¾åœ¨æŒ‡å®šçš„ç¼“å­˜ä¸­å®šä½é”®æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç„¶ååœ¨é‚£é‡Œæ‰§è¡Œä½œä¸šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¹¶ç½®çš„ä¸¤ç§ç±»å‹ä»¥åŠåŒºåˆ«:&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;æ•°æ®å¹¶ç½®&lt;/td&gt;
&lt;td&gt;å°†ç›¸å…³çš„ç¼“å­˜æ•°æ®å¹¶ç½®åˆ°ä¸€èµ·ï¼Œç¡®ä¿å…¶æ‰€æœ‰é”®ä¼šç¼“å­˜åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œé¿å…èŠ‚ç‚¹é—´æ•°æ®ç§»åŠ¨äº§ç”Ÿçš„ç½‘ç»œå¼€é”€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;è®¡ç®—å¹¶ç½®&lt;/td&gt;
&lt;td&gt;æ ¹æ®å…³ç³»é”®å’Œç¼“å­˜åç§°ï¼Œå®šä½å…³ç³»é”®æ‰€åœ¨èŠ‚ç‚¹ï¼Œå¹¶åœ¨è¯¥èŠ‚ç‚¹æ‰§è¡Œä½œä¸šå•å…ƒã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/564309/201808/564309-20180823232826330-1445768498.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ComputeTestController.class&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;    /**å¹¶ç½®è®¡ç®—æµ‹è¯•*/
    @RequestMapping(&quot;/affinity&quot;)
    public @ResponseBody
    String affinityTest(HttpServletRequest request, HttpServletResponse response) {

        /** affinityRun call */
        System.out.println(&quot;-----------affinityRun call-----------&quot;);
        IgniteCompute compute = ignite.compute();
//        IgniteCompute compute = ignite.compute(ignite.cluster().forRemotes());
        for(int key = 0; key &amp;lt; 100; key++) {
//            final long k = key;
            //ç”Ÿæˆéšæœºkå€¼
            final long k = IntStream.generate(() -&amp;gt; (int)(System.nanoTime() % 100)).limit(1).findFirst().getAsInt();
            compute.affinityRun(CacheKeyConstant.STUDENT, k, () -&amp;gt; {
                IgniteCache&amp;lt;Long, BinaryObject&amp;gt; cache = ignite.cache(CacheKeyConstant.STUDENT).withKeepBinary();
                BinaryObject obj = cache.get(k);
                if(obj!=null) {
                    System.out.println(String.format(&quot;Co-located[key= %s, value= %s]&quot;, k, obj.&amp;lt;String&amp;gt;field(&quot;name&quot;)));
                }
            });
        }

        IgniteCache&amp;lt;Long, BinaryObject&amp;gt; cache = ignite.cache(CacheKeyConstant.STUDENT).withKeepBinary();
        cache.forEach(lo -&amp;gt; compute.affinityRun(CacheKeyConstant.STUDENT, lo.getKey(), () -&amp;gt; {
            System.out.println(lo.getValue().&amp;lt;String&amp;gt;field(&quot;name&quot;));
        }));

        return &quot;all executed.&quot;;
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœ:&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;-----------affinityRun call-----------
student_495
student_496
student_498
...&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤ï¼Œigniteåˆ†å¸ƒå¼è®¡ç®—å®Œæ¯•ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 15:29:00 +0000</pubDate>
<dc:creator>å •è½é—¨å¾’</dc:creator>
<og:description>igniteåˆ†å¸ƒå¼è®¡ç®— åœ¨igniteä¸­ï¼Œæœ‰ä¼ ç»Ÿçš„MapReduceæ¨¡å‹çš„åˆ†å¸ƒå¼è®¡ç®—ï¼Œä¹Ÿæœ‰åŸºäºåˆ†å¸ƒå¼å­˜å‚¨çš„å¹¶ç½®è®¡ç®—ï¼Œå½“æ•°æ®åˆ†æ•£åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šæ—¶ï¼Œæ ¹æ®æä¾›çš„å¹¶ç½®é”®ï¼Œè®¡ç®—ä¼šä¼ æ’­åˆ°æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹è¿›è¡Œè®¡ç®—ï¼Œå†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/cord/p/9431867.html</dc:identifier>
</item>
<item>
<title>Java å¤šçº¿ç¨‹(äºŒï¼‰ä¹‹ Thread ä¼˜å…ˆçº§ - é˜¿è¿›çš„å†™å­—å°</title>
<link>http://www.cnblogs.com/homejim/p/9527226.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/homejim/p/9527226.html</guid>
<description>&lt;h2 id=&quot;thread-ä¸­çº¿ç¨‹ä¼˜å…ˆçº§ç›¸å…³å±æ€§&quot;&gt;Thread ä¸­çº¿ç¨‹ä¼˜å…ˆçº§ç›¸å…³å±æ€§&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ªçº¿ç¨‹å‡æœ‰ä¼˜å…ˆçº§ï¼Œåœ¨ Thread ä¸­ï¼Œ ä¸ä¼˜å…ˆçº§å¯¹åº”çš„å±æ€§å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/**
 * çº¿ç¨‹çš„ä¼˜å…ˆçº§å±æ€§
 */
private int priority;
/**
 * çº¿ç¨‹æ‰€èƒ½æ‹¥æœ‰çš„æœ€å¤§ä¼˜å…ˆçº§.
 */
public final static int MIN_PRIORITY = 1;

/**
 * çº¿ç¨‹é»˜è®¤çš„ä¼˜å…ˆçº§.
 */
public final static int NORM_PRIORITY = 5;

/**
 * çº¿ç¨‹æ‰€èƒ½æ‹¥æœ‰çš„æœ€å¤§ä¼˜å…ˆçº§.
 */
public final static int MAX_PRIORITY = 10;&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ç›¸å…³å‡½æ•°&quot;&gt;ç›¸å…³å‡½æ•°&lt;/h2&gt;
&lt;p&gt;åœ¨æ­¤åªè®¨è®º Thread ç±»ä¸­çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼˜å…ˆçº§åˆå§‹åŒ–&quot;&gt;ä¼˜å…ˆçº§åˆå§‹åŒ–&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt; private void init(ThreadGroup g, Runnable target, String name,
                      long stackSize, AccessControlContext acc) {
    // ....
    this.priority = parent.getPriority();
    setPriority(priority);
   // ....
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;init() å‡½æ•°å¯¹ä¼˜å…ˆçº§è¿›è¡Œäº†åˆå§‹åŒ–ã€‚å¹¶è°ƒç”¨ setPriority(priority) å‡½æ•°è¿›è¡Œè®¾ç½®ã€‚ä»ä¸­å¾—çŸ¥ï¼Œ çº¿ç¨‹çš„ä¼˜å…ˆçº§æ˜¯ç»§æ‰¿äºåˆ›å»ºå®ƒçš„çº¿ç¨‹çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è®¾ç½®ä¼˜å…ˆçº§&quot;&gt;è®¾ç½®ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;åœ¨ init() ä¸­ï¼Œ é™¤äº†ç»™ this.priority èµ‹å€¼ï¼Œ è¿˜è°ƒç”¨äº† setPriority(priority) å‡½æ•°ï¼Œ å› ä¸ºåœ¨è¯¥å‡½æ•°å†…éƒ¨è¿˜è°ƒç”¨äº†ä¸€ä¸ª native æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public final void setPriority(int newPriority) {
    ThreadGroup g;
    checkAccess();
    // ä¸èƒ½å¤§äºæœ€å¤§ä¼˜å…ˆçº§ MAX_PRIORITY
    if (newPriority &amp;gt; MAX_PRIORITY || newPriority &amp;lt; MIN_PRIORITY) {
        throw new IllegalArgumentException();
    }
    if((g = getThreadGroup()) != null) {
        // å¦‚æ¯”æ‰€å±çº¿ç¨‹ç»„çš„æœ€å¤§ä¼˜å…ˆçº§è¿˜å¤§ï¼Œ åˆ™å–çº¿ç¨‹ç»„çš„æœ€å¤§ä¼˜å…ˆçº§
        if (newPriority &amp;gt; g.getMaxPriority()) {
            newPriority = g.getMaxPriority();
        }
        setPriority0(priority = newPriority);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç”±ä»£ç å¯çŸ¥ï¼Œ è®¾ç½®çš„ä¼˜å…ˆçº§ä¸èƒ½å¤§äºæœ€å¤§ä¼˜å…ˆçº§ï¼Œä¹Ÿä¸èƒ½å¤§äºæ‰€åœ¨çº¿ç¨‹ç»„çš„æœ€é«˜ä¼˜å…ˆçº§&lt;/p&gt;
&lt;h3 id=&quot;è·å–ä¼˜å…ˆçº§&quot;&gt;è·å–ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;è·å–å½“å‰çš„ä¼˜å…ˆçº§ï¼Œ å…¶å®å°±æ˜¯è¿”å› priority å±æ€§çš„å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public final int getPriority() {
    return priority;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»ä»¥ä¸Šå¯çŸ¥ï¼Œ åœ¨ Thread ä¸­ï¼Œ çº¿ç¨‹çš„ä¼˜å…ˆçº§æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Java çº¿ç¨‹çš„ä¼˜å…ˆçº§ä» 1~10ï¼›&lt;/li&gt;
&lt;li&gt;Java çº¿ç¨‹é»˜è®¤ä¼˜å…ˆçº§æ˜¯ 5ï¼›&lt;/li&gt;
&lt;li&gt;Java çº¿ç¨‹çš„ä¼˜å…ˆçº§ç»§æ‰¿äºåˆ›å»ºå®ƒçš„çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ˜¯ä¸æ˜¯æ„Ÿè§‰ 2 å’Œ 3 æœ‰æ‰€çŸ›ç›¾å‘¢ï¼Ÿå¯ä»¥åœ¨åé¢çš„ä»£ç å’Œç»“æœä¸­æ‰¾ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&quot;é»˜è®¤ä¼˜å…ˆçº§&quot;&gt;é»˜è®¤ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;p&gt;å…ˆä¸Šä»£ç æ¥æ„Ÿå—ä¸€ä¸‹çº¿ç¨‹ä¼˜å…ˆçº§çš„ä½œç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public class ThreadPriorityTest {
    class PrimeRun implements Runnable {
        public void run() {
            System.out.println(Thread.currentThread().getName() +&quot;::&quot;+
                    Thread.currentThread().getPriority());
            System.out.println(Thread.currentThread().getName() + &quot; Run begin&quot;);
            for (int i = 0; i &amp;lt; 10; i++) {
                System.out.println(Thread.currentThread().getName()+&quot;::&quot;+i);
            }
            System.out.println(Thread.currentThread().getName() + &quot; Run end&quot;);
        }
    }

    public void test(){
        System.out.println(Thread.currentThread().getName()+&quot; begin&quot;);
        Thread p4 = new Thread(new PrimeRun());
        Thread p6 = new Thread(new PrimeRun());
        p4.setName(&quot;P4&quot;);
        p6.setName(&quot;P6&quot;);
        p4.start();
        p6.start();
        System.out.println(Thread.currentThread().getName()+&quot; end&quot;);
    }

    public static void main(String[] args) {
        new ThreadPriorityTest().test();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ PrimeRun ç±»çš„ run() æ–¹æ³•ä¸­ï¼Œ åªæ˜¯å¯¹ 0 åˆ° 10 è¿›è¡Œè¾“å‡ºï¼Œ å‰é¢åŠ ä¸Šçº¿ç¨‹åå­—ä»¥è¯†åˆ«ã€‚æ²¡æœ‰å¯¹çº¿ç¨‹è¿›è¡Œè®¾ç½®ï¼Œ æŒ‰ä»¥ä¸Šåˆ†æçš„ init() æ–¹æ³•å¯çŸ¥ï¼Œ ä¼˜å…ˆçº§ç»§æ‰¿äº ThreadPriorityTest ä¸­çš„ä¼˜å…ˆçº§ï¼Œ æ²¡è¿›è¡Œè®¾ç½®ä¼˜å…ˆçº§é»˜è®¤ä¸º 5ã€‚ è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdn.net/20180823231537178?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNzEzOTE5Nw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70&quot; alt=&quot;è¾“å‡º&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° p4 å’Œ p6 çš„çº¿ç¨‹ä¼˜å…ˆçº§éƒ½æ˜¯ 5ï¼Œ è¾“å‡ºæ˜¯æ— åºçš„ï¼Œ P4 å’Œ P6 äº¤å‰è¾“å‡ºï¼Œ å› æ­¤æ¯æ¬¡çš„ç»“æœéƒ½ä¸ä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;å°†çº¿ç¨‹ä¸­çš„ä¼˜å…ˆçº§æ”¹ä¸€ä¸‹ï¼Œ test() å‡½æ•°å˜æˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public void test(){
    System.out.println(Thread.currentThread().getName()+&quot; begin&quot;);
    Thread p4 = new Thread(new PrimeRun());
    Thread p6 = new Thread(new PrimeRun());
    p4.setName(&quot;P4&quot;);
    p4.setPriority(4);
    p6.setName(&quot;P6&quot;);
    p6.setPriority(6);
    p4.start();
    p6.start();
    System.out.println(Thread.currentThread().getName()+&quot; end&quot;);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨è¿è¡Œä¹‹åçš„è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdn.net/2018082323161222?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNzEzOTE5Nw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70&quot; alt=&quot;è®¾ç½®ä¼˜å…ˆçº§åè¾“å‡º&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œ P6 å…ˆäº P4 è¿è¡Œå®Œã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ³¨æ„äº‹é¡¹&quot;&gt;æ³¨æ„äº‹é¡¹&lt;/h2&gt;
&lt;p&gt;ä½†æ˜¯ï¼ˆä¸€èˆ¬ ã€Œä½†æ˜¯ã€ åé¢çš„ä¸œè¥¿éƒ½è¦æ³¨æ„ï¼‰&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;ä¼˜å…ˆçº§å’Œæ“ä½œç³»ç»ŸåŠè™šæ‹Ÿæœºç‰ˆæœ¬ç›¸å…³ã€‚&lt;br/&gt;++ä¼˜å…ˆçº§åªæ˜¯ä»£è¡¨å‘ŠçŸ¥äº† ã€Œçº¿ç¨‹è°ƒåº¦å™¨ã€è¯¥çº¿ç¨‹çš„é‡è¦åº¦æœ‰å¤šå¤§ã€‚å¦‚æœæœ‰å¤§é‡çº¿ç¨‹éƒ½è¢«å µå¡ï¼Œéƒ½åœ¨ç­‰å€™è¿&lt;br/&gt;è¡Œï¼Œè°ƒè¯•ç¨‹åºä¼šé¦–å…ˆè¿è¡Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„é‚£ä¸ªçº¿ç¨‹ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸è¡¨ç¤ºä¼˜å…ˆçº§è¾ƒä½çš„çº¿ç¨‹ä¸ä¼šè¿è¡Œï¼ˆæ¢è¨€ä¹‹ï¼Œä¸ä¼šå› ä¸ºå­˜åœ¨ä¼˜å…ˆçº§è€Œå¯¼è‡´æ­»é”ï¼‰ã€‚è‹¥çº¿ç¨‹çš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œåªä¸è¿‡è¡¨ç¤ºå®ƒè¢«å‡†è®¸è¿è¡Œçš„æœºä¼šå°ä¸€äº›è€Œå·²ã€‚++&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› æ­¤ï¼Œ åœ¨å®é™…çš„ç¼–ç æ—¶ï¼Œ è®¤ä¸ºé«˜ä¼˜å…ˆçº§ä¸€å®šå…ˆäºä½ä¼˜å…ˆçº§çš„çº¿ç¨‹æ‰§è¡Œï¼Œ æœ€åä¼šå‡ºé—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¼˜å…ˆçº§ç»§æ‰¿&quot;&gt;ä¼˜å…ˆçº§ç»§æ‰¿&lt;/h2&gt;
&lt;p&gt;è€Œå…³äºç‰¹ç‚¹ 2 å’Œ 3 çš„åŒºåˆ«ï¼Œ æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡ test() æ—¶ï¼Œ P4 å’Œ P6 çš„ä¼˜å…ˆçº§éƒ½æ˜¯ 5ï¼Œ æˆ‘ä»¬å°†å‡½æ•°æ”¹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; public void test(){
    Thread.currentThread().setPriority(10);
    System.out.println(Thread.currentThread().getName()+&quot; begin&quot;);
    Thread p4 = new Thread(new PrimeRun());
    Thread p6 = new Thread(new PrimeRun());
    p4.setName(&quot;P4&quot;);
    p6.setName(&quot;P6&quot;);
    p4.start();
    p6.start();
    System.out.println(Thread.currentThread().getName()+&quot; end&quot;);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨åˆ›å»º P4 å’Œ P6 ä¹‹å‰å°†å½“å‰çº¿ç¨‹çš„ä¼˜å…ˆçº§è®¾ç½®ä¸º 10ï¼Œ å¹¶åœ¨ run() ä¸­å»æ‰ä¸€äº›æ— å…³çš„è¾“å‡ºï¼Œ æœ€åè¾“å…¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdn.net/20180823231643934?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNzEzOTE5Nw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70&quot; alt=&quot;ç»§æ‰¿ä¼˜å…ˆçº§&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 15:23:00 +0000</pubDate>
<dc:creator>é˜¿è¿›çš„å†™å­—å°</dc:creator>
<og:description>ä»‹ç»äº† Thread ç±»ç›¸å…³çš„ä¼˜å…ˆçº§</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/homejim/p/9527226.html</dc:identifier>
</item>
<item>
<title>å‚è€ƒKOAï¼Œ5æ­¥æ‰‹å†™ä¸€æ¬¾ç²—ç³™çš„webæ¡†æ¶ - cherryvsun</title>
<link>http://www.cnblogs.com/cherryvenus/p/9527211.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/cherryvenus/p/9527211.html</guid>
<description>&lt;p&gt;æˆ‘ç»å¸¸åœ¨ç½‘ä¸Šçœ‹åˆ°ç±»ä¼¼äº&lt;code&gt;KOA VS express&lt;/code&gt;çš„æ–‡ç« ï¼Œå¤§å®¶éƒ½åœ¨è®¨è®ºå“ªä¸€ä¸ªå¥½ï¼Œå“ªä¸€ä¸ªæ›´å¥½ã€‚ä½œä¸ºå°ç™½ï¼Œæˆ‘çœŸå¿ƒçœ‹ä¸å‡ºä»–ä¸¤whoæ›´èƒœä¸€ç­¹ã€‚æˆ‘åªçŸ¥é“ï¼Œæˆ‘åªä¼šè·Ÿç€å®˜æ–¹æ–‡æ¡£çš„startåšä¸€ä¸ªDEMOï¼Œç„¶åæˆ‘å°±ä¼šå®£ç§°æˆ‘ä¼šç”¨KOAæˆ–è€…expressæ¡†æ¶äº†ã€‚ä½†æ˜¯å‡ ä¸ªç¤¼æ‹œåï¼Œæˆ‘å°±å…¨å¿˜äº†ã€‚webæ¡†æ¶å°±ç›¸å½“äºä¸€ä¸ªå·¥å…·ï¼Œè¦ä½¿ç”¨èµ·æ¥ï¼Œé‚£æ˜¯åˆ†åˆ†é’Ÿçš„äº‹ã€‚æ¯•ç«Ÿäººå®¶å†™è¿™ä¸ªæ¡†æ¶å°±æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§å®¶ä¸Šæ‰‹ä½¿ç”¨ã€‚ä½†æ˜¯è¿™ç§ç”Ÿç¡¬çš„ç…§æ¬æ¨¡å¼ï¼Œä¸é€‚åˆæˆ‘è¿™ç§ç†è§£èƒ½åŠ›æå·®çš„ä½¿ç”¨è€…ã€‚å› æ­¤æˆ‘å†³å®šæ‰’ä¸€æ‰’æºç ï¼Œé€šè¿‡å®˜æ–¹APIï¼Œè‡ªå·±å†™ä¸€ä¸ªwebæ¡†æ¶ï¼Œå…¶å®å°±ç›¸å½“äºâ€œæŠ„â€ä¸€éæºç ï¼ŒåŠ ä¸Šè‡ªå·±çš„ç†è§£ï¼Œä»è€ŒåŠ æ·±å½±å“ã€‚ä¸ä»…éœ€è¦çŸ¥å…¶ç„¶ï¼Œè¿˜è¦éœ€è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™é‡Œé€‰æ‹©KOAä½œä¸ºå‚è€ƒèŒƒæœ¬ï¼Œåªæœ‰ä¸€ä¸ªåŸå› ï¼ä»–éå¸¸çš„ç²¾ç®€ï¼æ ¸å¿ƒåªæœ‰4ä¸ªjsæ–‡ä»¶ï¼åŸºæœ¬ä¸Šå°±æ˜¯å¯¹createServerçš„ä¸€ä¸ªå°è£…ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼€å§‹è§£åˆ¨KOAä¹‹å‰ï¼ŒcreateServerçš„ç”¨æ³•è¿˜æ˜¯éœ€è¦å›é¡¾ä¸‹çš„ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;const http = require('http');
let app=http.createServer((req, res) =&amp;gt; {
    //æ­¤å¤„çœç•¥å…¶ä»–æ“ä½œ
    res.writeHead(200, { 'Content-Type': 'text/plain' });
    res.body=&quot;æˆ‘æ˜¯createServer&quot;;
    res.end('okay');
});
app.listen(3000)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å›é¡¾äº†createServerï¼Œæ¥ä¸‹æ¥å°±æ˜¯è§£åˆ¨KOAçš„é‚£4ä¸ªæ–‡ä»¶äº†ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;application.js
&lt;ul&gt;&lt;li&gt;è¿™ä¸ªjsä¸»è¦å°±æ˜¯å¯¹createServerçš„å°è£…ï¼Œå…¶ä¸­ä¸€ä¸ªæœ€ä¸»è¦çš„ç›®çš„å°±æ˜¯å°†ä»–çš„callbackåˆ†ç¦»å‡ºæ¥ï¼Œè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code&gt;app.use(callback);&lt;/code&gt;æ¥è°ƒç”¨ï¼Œå…¶ä¸­&lt;code&gt;callback&lt;/code&gt;å¤§æ¦‚å°±æ˜¯ä»¤å¤§å®¶é—»é£ä¸§èƒ†çš„ä¸­é—´ä»¶ï¼ˆmiddleWareï¼‰äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;request.js
&lt;ul&gt;&lt;li&gt;å°è£…createServerä¸­è¿”å›çš„reqï¼Œä¸»è¦ç”¨äºè¯»å†™å±æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;response.js
&lt;ul&gt;&lt;li&gt;å°è£…createServerä¸­è¿”å›çš„resï¼Œä¸»è¦ç”¨äºè¯»å†™å±æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;context.js
&lt;ul&gt;&lt;li&gt;è¿™ä¸ªæ–‡ä»¶å°±å¾ˆé‡è¦äº†ï¼Œå®ƒä¸»è¦æ˜¯å°è£…äº†requestå’Œresponseï¼Œç”¨äºæ¡†æ¶å’Œä¸­é—´ä»¶çš„æ²Ÿé€šã€‚æ‰€ä»¥ä»–å«ä¸Šä¸‹æ–‡ï¼Œä¹Ÿæ˜¯æœ‰é“ç†çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¥½äº†ï½å¼€å§‹å†™æ¡†æ¶å’¯ï½&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä»…åˆ†æå¤§æ¦‚æ€è·¯ï¼Œåˆ†æKOAçš„åŸç†ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯100%é‡ç°KOAã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/nanaSun/myHTTP&quot;&gt;ç‚¹æˆ‘&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;step1-å°è£…http.createserver&quot;&gt;step1 å°è£…&lt;code&gt;http.createServer&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;å…ˆå†™ä¸€ä¸ªåˆå§‹ç‰ˆçš„&lt;code&gt;application&lt;/code&gt;ï¼Œè®©ç¨‹åºå…ˆè·‘èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬ä»…ä»…å®ç°ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å°è£…&lt;code&gt;http.createServer&lt;/code&gt;åˆ°myhttpçš„ç±»&lt;/li&gt;
&lt;li&gt;å°†å›è°ƒç‹¬ç«‹å‡ºæ¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;listen&lt;/code&gt;æ–¹æ³•å¯ä»¥ç›´æ¥ç”¨&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;step1/application.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;let http=require(&quot;http&quot;)
class myhttp{
    handleRequest(req,res){
        console.log(req,res)
    }
    listen(...args){
        // èµ·ä¸€ä¸ªæœåŠ¡
        let server = http.createServer(this.handleRequest.bind(this));
        server.listen(...args)
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¿™è¾¹çš„&lt;code&gt;listen&lt;/code&gt;å®Œå…¨å’Œ&lt;code&gt;server.listen&lt;/code&gt;çš„ç”¨æ³•ä¸€æ‘¸ä¸€æ ·ï¼Œå°±æ˜¯ä¼ é€’äº†ä¸‹å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å‹æƒ…é“¾æ¥&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://nodejs.cn/api/http.html#http_server_listen&quot;&gt;&lt;code&gt;server.listen&lt;/code&gt;çš„API&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment&quot;&gt;ES6è§£æ„èµ‹å€¼&lt;code&gt;...&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step1/testhttp.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;let myhttp=require(&quot;./application&quot;)
let app= new myhttp()
app.listen(3000)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ&lt;code&gt;testhttp.js&lt;/code&gt;ï¼Œç»“æœæ‰“å°å‡ºäº†&lt;code&gt;req&lt;/code&gt;å’Œ&lt;code&gt;res&lt;/code&gt;å°±æˆåŠŸäº†~&lt;/p&gt;
&lt;h2 id=&quot;step2-å°è£…åŸç”Ÿreqå’Œres&quot;&gt;step2 å°è£…åŸç”Ÿreqå’Œres&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬éœ€è¦åšçš„å°è£…ï¼Œæ‰€éœ€åªæœ‰ä¸¤æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è¯»å–ï¼ˆgetï¼‰reqå’Œresçš„å†…å®¹&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ï¼ˆsetï¼‰resçš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;step2/request.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;let request={
    get url(){
        return this.req.url
    }
}
module.exports=request&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;step2/response.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;let response={
    get body(){
        return this.res.body
    },
    set body(value){
        this.res.body=value
    }
}
module.exports=response&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœpoä¸Šä»£ç ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œéœ€è¦çš„å±æ€§å¯ä»¥è‡ªå·±åŠ ä¸Šå»ã€‚é‚£ä¹ˆé—®é¢˜æ¥è¿™ä¸ª&lt;code&gt;this&lt;/code&gt;æŒ‡å‘å“ªé‡Œï¼Ÿï¼Ÿä»£ç æ˜¯å¾ˆç®€å•ï¼Œä½†æ˜¯è¿™ä¸ªæŒ‡å‘ï¼Œå¹¶ä¸ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°æˆ‘ä»¬çš„&lt;code&gt;application.js&lt;/code&gt;ï¼Œè®©è¿™ä¸ª&lt;code&gt;this&lt;/code&gt;æŒ‡å‘æˆ‘ä»¬çš„myhttpçš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step2/application.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class myhttp{
    constructor(){
        this.request=Object.create(request)
        this.response=Object.create(response)
    }
    handleRequest(req,res){
        let request=Object.create(this.request)
        let response=Object.create(this.response)
        request.req=req
        request.request=request
        response.req=req
        response.response=response
        console.log(request.headers.host,request.req.headers.host,req.headers.host)
    }
    ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤å¤„ï¼Œæˆ‘ä»¬ç”¨&lt;code&gt;Object.create&lt;/code&gt;æ‹·è´äº†ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åæŠŠrequestå’Œresponseåˆ†åˆ«æŒ‚ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€åçš„ä¸€ä¸ªæµ‹è¯•çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡&lt;code&gt;request.headers.host&lt;/code&gt;è®¿é—®æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ï¼Œè€Œå¯ä»¥ä¸ç”¨é€šè¿‡&lt;code&gt;request.req.headers.host&lt;/code&gt;è¿™ä¹ˆé•¿çš„ä¸€ä¸ªæŒ‡ä»¤ã€‚è¿™ä¸ºæˆ‘ä»¬ä¸‹ä¸€æ­¥ï¼Œå°†&lt;code&gt;request&lt;/code&gt;å’Œ&lt;code&gt;response&lt;/code&gt;æŒ‚åˆ°&lt;code&gt;context&lt;/code&gt;æ‰“äº†åŸºç¡€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;step3-contexté—ªäº®ç™»åœº&quot;&gt;step3 &lt;code&gt;context&lt;/code&gt;é—ªäº®ç™»åœº&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;context&lt;/code&gt;çš„åŠŸèƒ½ï¼Œæˆ‘å¯¹ä»–æ²¡æœ‰å…¶ä»–è¦æ±‚ï¼Œå°±å¯ä»¥ç›´æ¥&lt;code&gt;context.headers.host&lt;/code&gt;ï¼Œè€Œä¸ç”¨&lt;code&gt;context.request.headers.host&lt;/code&gt;,ä½†æ˜¯æˆ‘ä¸å¯èƒ½æ¯æ¬¡æ–°å¢éœ€è¦çš„å±æ€§ï¼Œéƒ½å»å†™ä¸€ä¸ªget/setå§ï¼Ÿäºæ˜¯&lt;code&gt;Object.defineProperty&lt;/code&gt;è¿™ä¸ªç¥æ“ä½œæ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step3/content.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;let context = {
}
//å¯è¯»å¯å†™
function access(target,property){
   Object.defineProperty(context,property,{
        get(){
            return this[target][property]
        },
        set(value){
            this[target][property]=value
        }
   })
}
//åªå¯è¯»
function getter(target,property){
   Object.defineProperty(context,property,{
        get(){
            return this[target][property]
        }
   })
}
getter('request','headers')
access('response','body')
...&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå®šä¹‰æ•°æ®äº†ï¼Œä¸è¿‡éœ€è¦æ³¨æ„åœ°æ˜¯ï¼Œ&lt;code&gt;Object.defineProperty&lt;/code&gt;åœ°å¯¹è±¡åªèƒ½å®šä¹‰ä¸€æ¬¡ï¼Œä¸èƒ½å¤šæ¬¡å®šä¹‰ï¼Œä¼šæŠ¥é”™æ»´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step3/application.js&lt;/strong&gt;&lt;br/&gt;æ¥ä¸‹æ¥å°±æ˜¯è¿æ¥&lt;code&gt;context&lt;/code&gt;å’Œ&lt;code&gt;request&lt;/code&gt;å’Œ&lt;code&gt;response&lt;/code&gt;äº†ï¼Œæ–°å»ºä¸€ä¸ª&lt;code&gt;createContext&lt;/code&gt;ï¼Œå°†&lt;code&gt;response&lt;/code&gt;å’Œ&lt;code&gt;request&lt;/code&gt;é¢ æ¥å€’å»åœ°æŒ‚åˆ°&lt;code&gt;context&lt;/code&gt;å°±å¯äº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class myhttp{
    constructor(){
        this.context=Object.create(context)
        ...
    }
    createContext(req,res){
        let ctx=Object.create(this.context)
        let request=Object.create(this.request)
        let response=Object.create(this.response)
        ctx.request=request
        ctx.response=response
        ctx.request.req=ctx.req=req
        ctx.response.res=ctx.res=res
        return ctx
    }
    handleRequest(req,res){
        let ctx=this.createContext(req,res)
        console.log(ctx.headers)
        ctx.body=&quot;text&quot;
        console.log(ctx.body,res.body)
        res.end(ctx.body);
    }
    ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Š3æ­¥ç»ˆäºæŠŠå‡†å¤‡å·¥ä½œåšå¥½äº†ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ã€‚ğŸ˜­&lt;br/&gt;&lt;em&gt;å‹æƒ…é“¾æ¥ï¼š&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;step4-å®ç°use&quot;&gt;step4 å®ç°&lt;code&gt;use&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæˆ‘éœ€è¦å®Œæˆä¸¤ä¸ªåŠŸèƒ½ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;use&lt;/code&gt;å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä¸­é—´ä»¶middleWareæŒ‰é¡ºåºæ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;use&lt;/code&gt;ä¸­ä¼ å…¥&lt;code&gt;ctx&lt;/code&gt;ä¸Šä¸‹æ–‡ï¼Œä¾›ä¸­é—´ä»¶middleWareè°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æƒ³è¦å¤šä¸ªä¸­é—´ä»¶æ‰§è¡Œï¼Œé‚£ä¹ˆå°±å»ºä¸€ä¸ªæ•°ç»„ï¼Œå°†æ‰€æœ‰åœ°æ–¹æ³•éƒ½ä¿å­˜åœ¨é‡Œå¤´ï¼Œç„¶åç­‰åˆ°æ‰§è¡Œçš„åœ°æ—¶å€™forEachä¸€ä¸‹ï¼Œé€ä¸ªæ‰§è¡Œã€‚ä¼ å…¥çš„&lt;code&gt;ctx&lt;/code&gt;å°±åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼ å…¥å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step4/application.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class myhttp{
    constructor(){
        this.middleWares=[]
        ...
    }
    use(callback){
        this.middleWares.push(callback)
        return this;
    }
    ...
    handleRequest(req,res){
        ...
        this.middleWares.forEach(m=&amp;gt;{
            m(ctx)
        })
        ...
    }
    ...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤å¤„åœ¨&lt;code&gt;use&lt;/code&gt;ä¸­åŠ äº†ä¸€ä¸ªå°åŠŸèƒ½ï¼Œå°±æ˜¯è®©useå¯ä»¥å®ç°é“¾å¼è°ƒç”¨ï¼Œç›´æ¥è¿”å›&lt;code&gt;this&lt;/code&gt;å³å¯ï¼Œå› ä¸º&lt;code&gt;this&lt;/code&gt;å°±æŒ‡ä»£äº†&lt;code&gt;myhttp&lt;/code&gt;çš„å®ä¾‹&lt;code&gt;app&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;step4/testhttp.js&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;...
app.use(ctx=&amp;gt;{
    console.log(1)
}).use(ctx=&amp;gt;{
    console.log(2)
})
app.use(ctx=&amp;gt;{
    console.log(3)
})
...&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;step5-å®ç°ä¸­é—´ä»¶çš„å¼‚æ­¥æ‰§è¡Œ&quot;&gt;&lt;strong&gt;step5 å®ç°ä¸­é—´ä»¶çš„å¼‚æ­¥æ‰§è¡Œ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;ä»»ä½•ç¨‹åºåªè¦åŠ ä¸Šäº†å¼‚æ­¥ä¹‹åï¼Œæ„Ÿè§‰éš¾åº¦å°±è¹­è¹­è¹­å¾€ä¸Šæ¶¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¦åˆ†ä¸¤ç‚¹æ¥å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;use&lt;/code&gt;ä¸­ä¸­é—´ä»¶çš„å¼‚æ­¥æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;ä¸­é—´ä»¶çš„å¼‚æ­¥å®Œæˆå&lt;code&gt;compose&lt;/code&gt;çš„å¼‚æ­¥æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;em&gt;é¦–å…ˆæ˜¯&lt;code&gt;use&lt;/code&gt;ä¸­çš„å¼‚æ­¥&lt;/em&gt;&lt;br/&gt;å¦‚æœæˆ‘éœ€è¦ä¸­é—´ä»¶æ˜¯å¼‚æ­¥çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨async/awaitè¿™ä¹ˆå†™ï¼Œè¿”å›ä¸€ä¸ªpromise&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;app.use(async (ctx,next)=&amp;gt;{
    await next()//ç­‰å¾…ä¸‹æ–¹å®Œæˆåå†ç»§ç»­æ‰§è¡Œ
    ctx.body=&quot;aaa&quot;
})&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ˜¯promiseï¼Œé‚£ä¹ˆæˆ‘å°±ä¸èƒ½æŒ‰ç…§æ™®é€šçš„ç¨‹åºforeachæ‰§è¡Œäº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®Œæˆä¹‹ååœ¨æ‰§è¡Œå¦ä¸€ä¸ªï¼Œé‚£ä¹ˆè¿™è¾¹æˆ‘ä»¬å°±éœ€è¦å°†è¿™äº›å‡½æ•°ç»„åˆæ”¾å…¥å¦ä¸€ä¸ªæ–¹æ³•&lt;code&gt;compose&lt;/code&gt;ä¸­è¿›è¡Œå¤„ç†ï¼Œç„¶åè¿”å›ä¸€ä¸ªpromiseï¼Œæœ€åæ¥ä¸€ä¸ª&lt;code&gt;then&lt;/code&gt;ï¼Œå‘Šè¯‰ç¨‹åºæˆ‘æ‰§è¡Œå®Œäº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;handleRequest(req,res){
    ....
    this.compose(ctx,this.middleWares).then(()=&amp;gt;{
        res.end(ctx.body)
    }).catch(err=&amp;gt;{
        console.log(err)
    })
    
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆcomposeæ€ä¹ˆå†™å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¿™ä¸ªmiddlewareséœ€è¦ä¸€ä¸ªæ‰§è¡Œå®Œä¹‹åå†è¿›è¡Œä¸‹ä¸€ä¸ªçš„æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å›è°ƒã€‚å…¶æ¬¡composeéœ€è¦è¿”å›ä¸€ä¸ªpromiseï¼Œä¸ºäº†å‘Šè¯‰æœ€åæˆ‘æ‰§è¡Œå®Œæ¯•äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç‰ˆæœ¬composeï¼Œç®€æ˜“çš„å›è°ƒï¼Œåƒè¿™æ ·ã€‚ä¸è¿‡è¿™ä¸ªå’Œ&lt;code&gt;foreach&lt;/code&gt;å¹¶æ— å·®åˆ«ã€‚è¿™é‡Œçš„&lt;code&gt;fn&lt;/code&gt;å°±æ˜¯æˆ‘ä»¬çš„ä¸­é—´ä»¶ï¼Œ&lt;code&gt;()=&amp;gt;dispatch(index+1)&lt;/code&gt;å°±æ˜¯&lt;code&gt;next&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;compose(ctx,middlewares){
    function dispatch(index){
        console.log(index)
        if(index===middlewares.length) return;
        let fn=middlewares[index]
        fn(ctx,()=&amp;gt;dispatch(index+1));
    }
    dispatch(0)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¬¬äºŒç‰ˆæœ¬composeï¼Œæˆ‘ä»¬åŠ ä¸Šasync/awaitï¼Œå¹¶è¿”å›promiseï¼Œåƒè¿™æ ·ã€‚ä¸è¿‡è¿™ä¸ªå’Œ&lt;code&gt;foreach&lt;/code&gt;å¹¶æ— å·®åˆ«ã€‚&lt;code&gt;dispatch&lt;/code&gt;ä¸€å®šè¦è¿”å›ä¸€ä¸ªpromiseã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;compose(ctx,middlewares){
    async function dispatch(index){
        console.log(index)
        if(index===middlewares.length) return;
        let fn=middlewares[index]
        return await fn(ctx,()=&amp;gt;dispatch(index+1));
    }
    return dispatch(0)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;return await fn(ctx,()=&amp;gt;dispatch(index+1));&lt;/code&gt;æ³¨æ„æ­¤å¤„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨&lt;code&gt;next&lt;/code&gt;å‰é¢åŠ ä¸Šawaitæ‰èƒ½ç”Ÿæ•ˆï¼Ÿä½œä¸ºpromiseçš„&lt;code&gt;fn&lt;/code&gt;å·²ç»æ‰§è¡Œå®Œæ¯•äº†ï¼Œå¦‚æœä¸ç­‰å¾…åæ–¹çš„promiseï¼Œé‚£ä¹ˆå°±ç›´æ¥&lt;code&gt;then&lt;/code&gt;äº†ï¼Œåæ–¹çš„&lt;code&gt;next&lt;/code&gt;å°±è‡ªç”Ÿè‡ªç­äº†ã€‚æ‰€ä»¥å¦‚æœæ˜¯å¼‚æ­¥çš„ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä¸­é—´ä»¶ä¸ŠåŠ ä¸Š&lt;code&gt;async/await&lt;/code&gt;ä»¥ä¿è¯&lt;code&gt;next&lt;/code&gt;æ‰§è¡Œå®Œä¹‹åå†è¿”å›ä¸Šä¸€ä¸ª&lt;code&gt;promise&lt;/code&gt;ã€‚æ— æ³•ç†è§£ï¼ŸğŸ˜·äº†ï¼Ÿæˆ‘ä»¬çœ‹å‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;function makeAPromise(ctx){
    return new Promise((rs,rj)=&amp;gt;{
        setTimeout(()=&amp;gt;{
            ctx.body=&quot;bbb&quot;
            rs()
        },1000)
    })
}
//å¦‚æœä¸‹æ–¹æœ‰éœ€è¦æ‰§è¡Œçš„å¼‚æ­¥æ“ä½œ
app.use(async (ctx,next)=&amp;gt;{
    await next()//ç­‰å¾…ä¸‹æ–¹å®Œæˆåå†ç»§ç»­æ‰§è¡Œ
    ctx.body=&quot;aaa&quot;
})
app.use(async (ctx,next)=&amp;gt;{
    await makeAPromise(ctx).then(()=&amp;gt;{next()})
})&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šè¿°ä»£ç å…ˆæ‰§è¡Œ&lt;code&gt;ctx.body=&quot;bbb&quot;&lt;/code&gt;å†æ‰§è¡Œ&lt;code&gt;ctx.body=&quot;aaa&quot;&lt;/code&gt;ï¼Œå› æ­¤æ‰“å°å‡ºæ¥æ˜¯&lt;code&gt;aaa&lt;/code&gt;ã€‚å¦‚æœæˆ‘ä»¬åä¸€åï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;app.use(async (ctx,next)=&amp;gt;{
    ctx.body=&quot;aaa&quot;
    await next()//ç­‰å¾…ä¸‹æ–¹ä»£ç å®Œæˆ
})&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆä¸Šè¿°ä»£ç å°±å…ˆæ‰§è¡Œ&lt;code&gt;ctx.body=&quot;aaa&quot;&lt;/code&gt;å†æ‰§è¡Œ&lt;code&gt;ctx.body=&quot;bb&quot;&lt;/code&gt;ï¼Œå› æ­¤æ‰“å°å‡ºæ¥æ˜¯&lt;code&gt;bbb&lt;/code&gt;ã€‚&lt;br/&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¼šæƒ³ï¼Œæ—¢ç„¶æˆ‘è¿™ä¸ªä¸­é—´ä»¶ä¸æ˜¯å¼‚æ­¥çš„ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±å¯ä»¥ä¸ç”¨åŠ ä¸Šasync/awaitäº†å‘¢ï¼Ÿå®è·µå‡ºçœŸç†ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;app.use((ctx,next)=&amp;gt;{
    ctx.body=&quot;aaa&quot;
    next()//ä¸ç­‰äº†
})&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆç¨‹åºå°±ä¸ä¼šç­‰åé¢çš„å¼‚æ­¥ç»“æŸå°±å…ˆç»“æŸäº†ã€‚å› æ­¤å¦‚æœæœ‰å¼‚æ­¥çš„éœ€æ±‚ï¼Œå°¤å…¶æ˜¯éœ€è¦é å¼‚æ­¥æ‰§è¡Œå†è¿›è¡Œä¸‹ä¸€æ­¥çš„çš„æ“ä½œï¼Œå°±ç®—æœ¬ä¸­é—´ä»¶æ²¡æœ‰å¼‚æ­¥éœ€æ±‚ï¼Œä¹Ÿè¦åŠ ä¸Šasync/awaitã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ç»ˆäºå†™å®Œäº†ï¼Œæ„Ÿè§‰è„‘ç»†èƒæ­»äº†ä¸å°‘ï¼Œæ¥ä¸‹æ¥æˆ‘å»ç ”ç©¶routerå’Œejsï¼Œç­‰è¿™ä¸€å—åŠ å…¥æˆ‘çš„webæ¡†æ¶ä¹‹åï¼Œå°±å¾ˆå®Œç¾äº†~&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 15:16:00 +0000</pubDate>
<dc:creator>cherryvsun</dc:creator>
<og:description>æˆ‘ç»å¸¸åœ¨ç½‘ä¸Šçœ‹åˆ°ç±»ä¼¼äº çš„æ–‡ç« ï¼Œå¤§å®¶éƒ½åœ¨è®¨è®ºå“ªä¸€ä¸ªå¥½ï¼Œå“ªä¸€ä¸ªæ›´å¥½ã€‚ä½œä¸ºå°ç™½ï¼Œæˆ‘çœŸå¿ƒçœ‹ä¸å‡ºä»–ä¸¤whoæ›´èƒœä¸€ç­¹ã€‚æˆ‘åªçŸ¥é“ï¼Œæˆ‘åªä¼šè·Ÿç€å®˜æ–¹æ–‡æ¡£çš„startåšä¸€ä¸ªDEMOï¼Œç„¶åæˆ‘å°±ä¼šå®£ç§°æˆ‘ä¼šç”¨KOAæˆ–è€…exp</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/cherryvenus/p/9527211.html</dc:identifier>
</item>
<item>
<title>æˆ‘è¯»ã€Š2017è½¯ä»¶æµ‹è¯•è¡Œä¸šè°ƒæŸ¥æŠ¥å‘Šã€‹ - è™«å¸ˆ</title>
<link>http://www.cnblogs.com/fnng/p/9527132.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/fnng/p/9527132.html</guid>
<description>&lt;p&gt;è¯¥æŠ¥å‘Šç”±51Testing å‘å¸ƒï¼Œä»–ä»¬ä¼šåœ¨æ¯å¹´å¹´ä¸­å‘å¸ƒä¼šä¸€ä»½æµ‹è¯•è¡Œä¸šè°ƒæŸ¥æŠ¥å‘Šï¼Œä»Šå¹´æ˜¯åœ¨6æœˆä»½å‘å¸ƒçš„ï¼Œç›¸ä¿¡æœ‰åŒå­¦å·²ç»çœ‹è¿‡äº†ï¼Œä¸è¿‡ï¼Œæˆ‘è¿™é‡Œä¼šæŒ‘è‡ªå·±æ„Ÿå…´è¶£çš„ç»Ÿè®¡ç»“æœå’Œå¤§å®¶åˆ†äº«ã€‚&lt;br/&gt;è¯´æ˜ï¼šè¯¥æŠ¥å‘Šæ”¶é›†é—®å·ä¸¤åƒä½™ä»½ï¼Œæ¥è‡ªå…¨å›½ä¸åŒçš„åŸå¸‚ã€‚é¦–å…ˆï¼Œè¿™ä¸ªç»Ÿè®¡é‡ç›¸æ¯”å…¨å›½æµ‹è¯•äººå‘˜æ¥è¯´å¹¶ä¸å¤§ï¼ˆå…¶å®ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸­å›½åˆ°åº•æœ‰å¤šå°‘æµ‹è¯•ä»ä¸šäººå‘˜ï¼Œä½†è‚¯å®šè¿œè¿œå¤§äºä¸¤åƒäººï¼‰ã€‚å…¶æ¬¡ï¼Œå…¨å›½ä¸åŒçš„åŸå¸‚è–ªèµ„å’ŒæŠ€èƒ½è¦æ±‚ä¼šæœ‰ä¸€å®šçš„å·®è·ï¼Œå¤§å®¶åˆç†çœ‹å¾…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225252485-998104892.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿæµ‹è¯•ä¾ç„¶æ˜¯ä¸»è¦æµ‹è¯•æ‰‹æ®µï¼Œè™½ç„¶ï¼Œæµ‹è¯•è¡Œä¸šç»å†äº†è¿™ä¹ˆå¤šå¹´çš„å‘å±•ï¼Œå„ç§è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·å±‚å‡ºä¸ç©·ï¼Œä½†ä¾ç„¶æ— æ³•æ›¿ä»£ç³»ç»Ÿæµ‹è¯•ã€‚å¹¶ä¸”æˆ‘è®¤ä¸ºå®ƒä¼šé•¿æœŸæ˜¯è½¯ä»¶æµ‹è¯•çš„ä¸»è¦æ‰‹æ®µã€‚é™¤éï¼Œå‡ºç°é¢ è¦†æ€§çš„æŠ€æœ¯ã€‚å› ä¸ºï¼Œè½¯ä»¶æŠ€æœ¯æ›´æ–°å¤ªäº†ï¼Œè½¯ä»¶ä¸šåŠ¡ä¹Ÿæ¶‰åŠåˆ°å„è¡Œå„ä¸šï¼Œæœ‰äº›ä¸šåŠ¡åˆ™éå¸¸å¤æ‚ï¼Œè¿™ç§æƒ…å†µä¸‹åªæœ‰äººæ‰èƒ½å¿«é€Ÿé€‚åº”è¿™ç§å˜åŒ–ï¼Œåšå¥½ç³»ç»Ÿæµ‹è¯•æ‰èƒ½ä¿è¯è½¯ä»¶è´¨é‡å’Œä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225302939-826214726.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225309765-1234781061.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç½—åˆ—çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œä½†å®é™…åœ¨é¡¹ç›®ä¸­åº”ç”¨åˆ°ä»€ä¹ˆç¨‹åº¦å°±æœ‰å¾ˆå¤§å·®åˆ«äº†ã€‚æˆ‘åœ¨é¢è¯•çš„æ—¶å€™ä¼šé—®ä½ å†™äº†å¤šå°‘æ¡ç”¨ä¾‹ï¼Œæ¯•ç«Ÿä¸€ä¸ªå‡ ç™¾æ¡ç”¨ä¾‹çš„è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®å’Œä¸€ä¸ªå‡ æ¡ç”¨ä¾‹çš„demoåŒºåˆ«è¿˜æ˜¯å¾ˆå¤§çš„ã€‚&lt;br/&gt;å»ºè®®å¤§å®¶æ·±å…¥å­¦ä¹ å’Œé€‚ç”¨ä¸€åˆ°ä¸¤æ¬¾è‡ªåŠ¨åŒ–æµ‹å¼å·¥å…·ï¼Œæ¯•ç«Ÿæ˜¯åœ¨é¢è¯•ä¸­çš„åŠ åˆ†é¡¹ã€‚ä¸è¿‡ï¼Œæˆ‘è®¤ä¸ºå­¦å¥½ä¸€é—¨ç¼–ç¨‹è¯­è¨€è¿œæ¯”å¤šä¼šä¸¤ä¸ªå·¥å…·çš„æ”¶ç›Šè¦å¤§ã€‚è¿™é‡Œå°±ä¸å±•å¼€è§£é‡Šäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225320077-1868388838.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å‰æ˜¯LoadRunnerä¸€å®¶ç‹¬å¤§ï¼Œç°åœ¨JMeterå·²ç»ä¸å…¶æŒå¹³äº†ã€‚æœªæ¥çš„å æ¯”åº”è¯¥ä¼šåè¶…ã€‚ä»èº«è¾¹çš„äººä¹Ÿèƒ½æ„Ÿå—åˆ°JMeterè¶Šæ¥è¶Šä¸»æµã€‚JMeteræ˜¯æˆ‘ä»¬éœ€è¦èŠ±æ—¶é—´å­¦ä¹ å’ŒæŒæ¡çš„ä¸€ä¸ªæµ‹è¯•å·¥å…·ã€‚ä¸»è¦ç”¨å®ƒæ¥å®Œæˆæ¥å£è‡ªåŠ¨åŒ–ï¼Œä»¥åŠæ€§èƒ½æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225327798-1425817890.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡ŒJUnitçš„ä½¿ç”¨å æ¯”å¦‚æ­¤é«˜æˆ‘å…¶å®æ˜¯æœ‰ç–‘é—®çš„ï¼Œéš¾é“æ··å…¥äº†Javaå¼€å‘äººå‘˜ï¼Ÿå¤§å¤šæ•°æµ‹è¯•ä½¿ç”¨å•å…ƒæµ‹è¯•æ¡†æ¶ä¸»è¦ç”¨æ¥åšUIè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè€Œåœ¨Javaè¯­è¨€ä¸­TestNGæ›´é€‚åˆæ¥åšUIè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚&lt;br/&gt;å…¶æ¬¡ï¼Œç”¨Pythonè¯­è¨€çš„æµ‹è¯•äººå‘˜ä¹Ÿéå¸¸å¤šï¼ŒPyUnitçš„å æ¯”å¹¶ä¸é«˜ã€‚pyunitæ˜¯unittestçš„å‰èº«ï¼›å¦‚æœæƒ³å­¦å¥½Selenium/appiumçš„è¯ï¼Œå•å…ƒæµ‹è¯•æ¡†æ¶æ˜¯ç»•ä¸å¼€çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225639436-1134260046.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;90å~95åçš„å æ¯”è¶Šæ¥è¶Šé«˜ï¼Œä¾§é¢å°è¯â€œç¨‹åºå‘˜æ˜¯åƒé’æ˜¥é¥­â€ï¼Œæˆ–è€…è¯´å¹´é¾„å¤§çš„è¦ä¹ˆè½¬è¡Œäº†ï¼Œè¦ä¹ˆå‡ç®¡ç†äº†ï¼Œæˆ‘è¿˜èƒ½åšæŒå‡ å¹´ï¼Ÿå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225340048-2079412120.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ¬ç§‘æ˜¯ä¸»åŠ›ï¼Œæµ‹è¯•çš„é—¨æ§›ä¹Ÿåœ¨ä¸æ–­æé«˜ï¼Œä¸“ç§‘å†å¹´çš„å æ¯”åœ¨é€’å‡ï¼Œè¶Šæ¥è¶Šéš¾è¸å…¥è¿™ä¸ªè¡Œä¸šäº†ã€‚&lt;br/&gt;å‰ä¸¤å¤©æœ‰åŒå­¦è¿™è·Ÿæˆ‘æŠ±æ€¨ï¼Œä»–ä¸€ç›´æƒ³åŠ å…¥çš„æŸå…¬å¸å¡ä»–å­¦å†ï¼Œæˆ‘é—®ä¸ºä»€ä¹ˆæƒ³åŠ å…¥æŸå…¬å¸ï¼Œä»–è¯´ç¦»å®¶è¿‘ã€æµ‹è¯•å›¢é˜Ÿå¼ºï¼Œèƒ½å­¦åˆ°ä¸œè¥¿ã€‚è¿™æ˜æ˜¾å› æœå€’ç½®äº†ï¼Œå…¬å¸æ‹›è˜ä¸€ä¸ªå‘˜å·¥è€ƒè™‘çš„æ˜¯ä½ èƒ½ä¸ºå…¬å¸å¸¦æ¥ä»€ä¹ˆï¼Ÿå¾ˆå¼ºçš„æŠ€æœ¯å’Œèƒ½åŠ›ï¼Ÿå¦‚æœä¸æ˜¯æ‹”å°–çš„ä¼˜ç§€ï¼Œé‚£å°±ç”¨å­¦å†æŠŠä½ å¡æ‰ï¼&lt;br/&gt;æ‰€ä»¥ï¼Œè¦ä¹ˆæå‡å­¦å†ï¼Œè¦ä¹ˆæå‡èƒ½åŠ›ã€‚æˆ–è€…åŠ å…¥ä¸ªåˆ›ä¸šå›¢é˜Ÿä¹ŸæŒºå¥½ï¼Œè¯´ä¸å®šå°±åƒæ‹¼å¤šå¤šä¸€æ ·å¾ˆå¿«å°±ä¸Šå¸‚äº†å‘¢ï¼...&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225501447-1187135382.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¤§å¤šå…¬å¸çš„â€œè‡ªåŠ¨åŒ–æµ‹è¯•â€å’Œâ€œæ€§èƒ½æµ‹è¯•â€éƒ½æ˜¯ç”±æµ‹è¯•/é«˜çº§æµ‹è¯•å·¥ç¨‹å¸ˆæ‹…ä»»ï¼Œå•ç‹¬è®¾ç«‹è¿™ä¸¤ä¸ªå²—ä½çš„å…¬å¸å¹¶ä¸å¤šï¼Œè€Œä¸”ï¼Œå®ƒä»¬å’Œæµ‹è¯•çš„ä¸šåŠ¡å¯†åˆ‡ç›¸å…³ï¼Œæœ¬æ¥å°±åº”è¯¥æ˜¯æµ‹è¯•äººå‘˜å¿…å¤‡çš„æŠ€èƒ½ä¹‹ä¸€ï¼Œå•ç‹¬åˆ’åˆ†æœ‰äº›ä¸å¦¥ï¼Œæ‰€ä»¥ï¼Œçœ‹åˆ°å æ¯”å¾ˆä½ã€‚&lt;br/&gt;å…¶å®ï¼Œè¿™é‡Œåªæ˜¯ä¸€ä¸ªèŒç§°ï¼Œä¸åŒçš„å…¬å¸çš„åˆ’åˆ†çš„æ ‡å‡†ä¹Ÿä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225448344-1693955923.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯å¤§å®¶å–œé—»ä¹è§çš„äº†ã€‚çœ‹çœ‹ä½ å±äºå“ªä¸ªèŒƒå›´ï¼Ÿä¸è¿‡ï¼Œè¿™æ˜¯å…¨å›½çš„ç»Ÿè®¡ç»“æœï¼Œä¸€çº¿åŸå¸‚çš„å°ä¼™ä¼´æ˜æ˜¾æ„Ÿè§‰åä½äº†ã€‚&lt;br/&gt;æ‰€ä»¥ï¼Œè–ªèµ„åä½çš„å°ä¼™ä¼´ä¸€æ–¹é¢å¯èƒ½å—åˆ°æ‰€åœ¨åŸå¸‚çš„å±€é™ï¼Œæ¯”å¦‚ï¼Œä½ åœ¨äºŒä¸‰çº¿åŸå¸‚ï¼Œå¦ä¸€æ–¹é¢å—åˆ°è‡ªèº«æŠ€èƒ½çš„å±€é™ã€‚&lt;br/&gt;æ¯”å¦‚ï¼Œä»Šå¤©ä¸‹åˆæˆ‘é¢è¯•çš„ä¸€ä¸ªæµ‹è¯•ï¼Œå·¥ä½œäº”å¹´çš„ç»éªŒå’Œä¸¤ä¸‰å¹´æ²¡ä»€ä¹ˆæ˜æ˜¾åŒºåˆ«ã€‚å¹¶ä¸æ˜¯è¯´ä¸æ»¡è¶³è¦æ±‚ï¼Œè€Œæ˜¯è¿™ä¼šé¢„ç¤ºç€ä½ æœªæ¥ä¸ªäººæå‡ç©ºé—´ã€‚å› ä¸ºå…¬å¸çš„å‘å±•å’Œå‘˜å·¥ä¸ªäººçš„å‘å±•æ˜¯åˆ†ä¸å¼€çš„ã€‚æƒ³æƒ³ï¼Œä½ æ˜¯ä¸æ˜¯æ‰é˜Ÿäº†ï¼Œæˆ–è€…ä½ çš„æŠ€èƒ½æ˜¯å¦åŒ¹é…ä½ çš„å·¥é¾„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/311516/201808/311516-20180823225426562-330077642.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªäººæ¯ä¸ªé˜¶æ®µéƒ½ä¼šæœ‰è¿·èŒ«ï¼Œåˆä½•æ­¢æ˜¯æµ‹è¯•å‘¢ï¼&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 14:58:00 +0000</pubDate>
<dc:creator>è™«å¸ˆ</dc:creator>
<og:description>è¯¥æŠ¥å‘Šç”±51Testing å‘å¸ƒï¼Œä»–ä»¬ä¼šåœ¨æ¯å¹´å¹´ä¸­å‘å¸ƒä¼šä¸€ä»½æµ‹è¯•è¡Œä¸šè°ƒæŸ¥æŠ¥å‘Šã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/fnng/p/9527132.html</dc:identifier>
</item>
<item>
<title>CAPå¸¦ä½ è½»æ¾ç©è½¬Asp.Net Coreæ¶ˆæ¯é˜Ÿåˆ— - ç å†œé˜¿å®‡</title>
<link>http://www.cnblogs.com/CoderAyu/p/9527012.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/CoderAyu/p/9527012.html</guid>
<description>&lt;p&gt;CAPæ˜¯ç”±æˆ‘ä»¬å›­å­é‡Œçš„æ¨æ™“ä¸œå¤§ç¥å¼€å‘å‡ºæ¥çš„ä¸€å¥—åˆ†å¸ƒå¼äº‹åŠ¡çš„å†³ç»æ–¹æ¡ˆï¼Œæ˜¯.Net Core Communityä¸­çš„ç¬¬ä¸€ä¸ªåƒæ˜Ÿé¡¹ç›®ï¼ˆç›®å‰å·²ç»1656 Startï¼‰ï¼Œå…·æœ‰è½»é‡çº§ã€æ˜“ä½¿ç”¨ã€é«˜æ€§èƒ½ç­‰ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://camo.githubusercontent.com/452505edb71d41f2c1bd18907275b76291621e46/687474703a2f2f696d61676573323031352e636e626c6f67732e636f6d2f626c6f672f3235303431372f3230313730372f3235303431372d32303137303730353137353832373132382d313230333239313436392e706e67&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;https://github.com/dotnetcore/CAP&quot; href=&quot;https://github.com/dotnetcore/CAP&quot;&gt;https://github.com/dotnetcore/CAP&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬åšå®¢ä¸»è¦é’ˆå¯¹æ˜“ç”¨æ€§è¿™ä¸€ç‚¹ï¼Œå±•å¼€å™è¿°ï¼Œä¸€èµ·çœ‹çœ‹CAPå¦‚ä½•ç»“åˆEF Coreå’ŒRabbitMQå¸¦é¢†å°ç™½è½»æ¾èµ°å…¥åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸–ç•Œã€‚&lt;img class=&quot;wlEmoticon wlEmoticon-ninja&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223217112-1299271687.png&quot; alt=&quot;å¿è€…&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œä½ éœ€è¦æ­å»ºä¸€å¥—RabbitMQç³»ç»Ÿï¼Œæ­å»ºè¿‡ç¨‹åœ¨æ­¤ä¸å†å™è¿°ï¼Œå¦‚æœå¤§å®¶è§‰å¾—éº»çƒ¦ï¼Œå¯ä»¥ç”¨æˆ‘æ­å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;HostName: &lt;strong&gt;&lt;span&gt;coderayu.cn&lt;/span&gt;&lt;/strong&gt;Â  UserName:guest Password:guestÂ  (ä»…ä»…å¯ç”¨ä½œå®éªŒï¼Œæ•°æ®ä¸¢å¤±ä¸è´Ÿè´£)&lt;/p&gt;
&lt;p&gt;åˆ›å»ºAsp.Net Core é¡¹ç›®ï¼Œå¹¶å¼•å…¥NugetåŒ…&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥è¿è¡Œä»¥ä¸‹ä¸‹å‘½ä»¤åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£… CAPã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
PM&amp;gt; Install-Package DotNetCore.CAP
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœä½ çš„æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨çš„æ˜¯ Kafka çš„è¯ï¼Œä½ å¯ä»¥ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
PM&amp;gt; Install-Package DotNetCore.CAP.Kafka
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœä½ çš„æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨çš„æ˜¯ RabbitMQ çš„è¯ï¼Œä½ å¯ä»¥ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
PM&amp;gt; Install-Package DotNetCore.CAP.RabbitMQ
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CAP æä¾›äº† Sql Server, MySql, PostgreSQL çš„æ‰©å±•ä½œä¸ºæ•°æ®åº“å­˜å‚¨ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; æŒ‰éœ€é€‰æ‹©å®‰è£…ä½ æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“&lt;/span&gt;
PM&amp;gt; Install-&lt;span&gt;Package DotNetCore.CAP.SqlServer
PM&lt;/span&gt;&amp;gt; Install-&lt;span&gt;Package DotNetCore.CAP.MySql
PM&lt;/span&gt;&amp;gt; Install-Package DotNetCore.CAP.PostgreSql
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºæˆ‘é‡‡ç”¨çš„æ˜¯EF Coreï¼Œæ‰€ä»¥é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªDbContextä¸Šä¸‹æ–‡ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; CapDbContext:DbContext
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; CapDbContext(DbContextOptions options) : &lt;span&gt;base&lt;/span&gt;&lt;span&gt;(options)
        {
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é¦–å…ˆéœ€è¦åœ¨ConfigureServiceså‡½æ•°ä¸­è¿›è¡Œç›¸å…³æœåŠ¡çš„æ³¨å…¥ï¼Œå¯¹åº”çš„æ“ä½œå’ŒåŠŸèƒ½è§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ConfigureServices(IServiceCollection services)
        {
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ³¨å…¥DbContextä¸Šä¸‹æ–‡ï¼Œå¦‚æœç”¨çš„æ˜¯Mysqlå¯èƒ½è¿˜éœ€è¦æ·»åŠ Pomelo.EntityFrameworkCore.MySqlè¿™ä¸ªNugetåŒ…&lt;/span&gt;
            services.AddDbContext&amp;lt;CapDbContext&amp;gt;(options =&amp;gt;&lt;span&gt;
                options.UseMySql(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Server=127.0.0.1;Database=testcap;UserId=root;Password=123456;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;));

            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;é…ç½®CAP&lt;/span&gt;
            services.AddCap(x =&amp;gt;&lt;span&gt;
            {
                x.UseEntityFramework&lt;/span&gt;&amp;lt;CapDbContext&amp;gt;&lt;span&gt;();

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¯ç”¨æ“ä½œé¢æ¿&lt;/span&gt;
&lt;span&gt;                x.UseDashboard();
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä½¿ç”¨RabbitMQ&lt;/span&gt;
                x.UseRabbitMQ(rb =&amp;gt;&lt;span&gt;
                {
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;rabbitmqæœåŠ¡å™¨åœ°å€&lt;/span&gt;
                    rb.HostName = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;coderayu.cn&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;

                    rb.UserName &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;guest&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                    rb.Password &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;guest&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;

                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æŒ‡å®šTopic exchangeåç§°ï¼Œä¸æŒ‡å®šçš„è¯ä¼šç”¨é»˜è®¤çš„&lt;/span&gt;
                    rb.ExchangeName = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;cap.text.exchange&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
                });

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è®¾ç½®å¤„ç†æˆåŠŸçš„æ•°æ®åœ¨æ•°æ®åº“ä¸­ä¿å­˜çš„æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œä¸ºä¿è¯ç³»ç»Ÿæ–°èƒ½ï¼Œæ•°æ®ä¼šå®šæœŸæ¸…ç†ã€‚&lt;/span&gt;
                x.SucceedMessageExpiredAfter = &lt;span&gt;24&lt;/span&gt; * &lt;span&gt;3600&lt;/span&gt;&lt;span&gt;;

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è®¾ç½®å¤±è´¥é‡è¯•æ¬¡æ•°&lt;/span&gt;
                x.FailedRetryCount = &lt;span&gt;5&lt;/span&gt;&lt;span&gt;;
            });

            services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ€åè¿˜è¦å†Congiureä¸­å¯ç”¨CAPä¸­é—´ä»¶&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Configure(IApplicationBuilder app, IHostingEnvironment env)
        {
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (env.IsDevelopment())
            {
                app.UseDeveloperExceptionPage();
            }
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¯ç”¨capä¸­é—´ä»¶&lt;/span&gt;
&lt;span&gt;            app.UseCap();

            app.UseMvc();
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å†ç¨‹åºåŒ…ç®¡ç†æ§åˆ¶å°ä¸­ä¾æ­¤è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¡Œ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
PM&amp;gt; Add-Migration Init
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
PM&amp;gt; update-database
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœæˆæˆåŠŸæ‰§è¡Œï¼Œé‚£ä¹ˆæ‰“å¼€æ•°æ®åº“ï¼Œå°±å¯ä»¥çœ‹åˆ°ç”¨æ¥å­˜å‚¨CAPå‘é€å’Œæ¥æ”¶æ•°æ®çš„è¡¨æ ¼äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223218169-1774047530.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223220086-1005431922.png&quot; alt=&quot;image&quot; width=&quot;598&quot; height=&quot;247&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¡¨æ ¼ä¸­æ¯åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223221133-501501519.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223222169-1257462300.png&quot; alt=&quot;image&quot; width=&quot;800&quot; height=&quot;117&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;æˆ‘ä»¬ç›´æ¥åœ¨ValuesControllerçš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹é€ ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Controller ä¸­æ³¨å…¥ &lt;code&gt;ICapPublisher&lt;/code&gt; ç„¶åä½¿ç”¨ &lt;code&gt;ICapPublisher&lt;/code&gt; è¿›è¡Œæ¶ˆæ¯å‘é€&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;private&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt;&lt;span&gt; ICapPublisher _publisher;

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; ValuesController(ICapPublisher publisher)
        {
            _publisher &lt;/span&gt;=&lt;span&gt; publisher;
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‘é€æ¶ˆæ¯&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[HttpGet]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Get(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; message)
        {
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;&quot;cap.test.queue&quot;æ˜¯å‘é€çš„æ¶ˆæ¯RouteKeyï¼Œå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯ç®¡é“çš„åç§°&lt;/span&gt;
            _publisher.Publish(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;cap.test.queue&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,message);

            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;å‘é€æˆåŠŸ&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®¢é˜…æ¶ˆæ¯&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;       //&lt;/span&gt;&lt;span&gt;&quot;cap.test.queue&quot;ä¸ºå‘é€æ¶ˆæ¯æ—¶çš„RauteKeyï¼Œä¹Ÿå¯ä»¥æ¨¡ç³ŠåŒ¹é…
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯¦æƒ…https:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.rabbitmq.com/tutorials/tutorial-four-dotnet.html&lt;/span&gt;
        [CapSubscribe(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;cap.test.queue&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; HandleMessage(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; message)
        {
            Console.Write(DateTime.Now.ToString()&lt;/span&gt;+&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æ”¶åˆ°æ¶ˆæ¯:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;+&lt;span&gt;message);
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯åŠ¨ç¨‹åºåï¼Œé¦–å…ˆçœ‹åˆ°CAPå¯åŠ¨æˆåŠŸ&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223223141-1167108160.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223223408-363283128.png&quot; alt=&quot;image&quot; width=&quot;765&quot; height=&quot;499&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç´§éšå…¶åï¼Œæ¶ˆè´¹è€…ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„è®¢é˜…æ–¹æ³•åœ¨RabbitMQæœåŠ¡å™¨ä¸Šæ³¨å†ŒæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223224104-2142746154.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223224377-1308092235.png&quot; alt=&quot;image&quot; width=&quot;777&quot; height=&quot;78&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‘é€æ¶ˆæ¯ï¼Œå‘é€æˆåŠŸï¼Œå¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223225024-1567260376.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223225288-706638154.png&quot; alt=&quot;image&quot; width=&quot;760&quot; height=&quot;155&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‘é€åï¼Œç«‹å³åœ¨æ§åˆ¶å°çœ‹åˆ°äº†è®¢é˜…æ–¹æ³•è¾“å‡ºçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223226090-1389439519.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223226319-699234549.png&quot; alt=&quot;image&quot; width=&quot;768&quot; height=&quot;163&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;åœ¨è®¢é˜…æ–¹æ³•ä¸­ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆCAPå°±ä¼šè®¤ä¸ºè¯¥æ¡æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œé‡è¯•ï¼Œé‡è¯•æ¬¡æ•°åœ¨å‰æ–¹å·²ç»è¿›è¡Œäº†é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠè®¢é˜…æ–¹æ³•åšä¸€ä¸ªæ”¹åŠ¨ï¼Œæ‰“å°æ¥æ”¶çš„ä¿¡æ¯åˆ°æ§åˆ¶å°ä¸­ï¼Œå¹¶æŠ›å‡ºå¼‚å¸¸&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;&quot;cap.test.queue&quot;ä¸ºå‘é€æ¶ˆæ¯æ—¶çš„RauteKeyï¼Œä¹Ÿå¯ä»¥æ¨¡ç³ŠåŒ¹é…
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯¦æƒ…https:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.rabbitmq.com/tutorials/tutorial-four-dotnet.html&lt;/span&gt;
        [CapSubscribe(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;cap.test.queue&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; HandleMessage(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; message)
        {
            Console.WriteLine(DateTime.Now.ToString()&lt;/span&gt;+&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æ”¶åˆ°æ¶ˆæ¯:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;+&lt;span&gt;message);
            &lt;/span&gt;&lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; Exception(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æµ‹è¯•å¤±è´¥é‡è¯•&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œç«‹å³è¿›è¡Œäº†ä¸‰æ¬¡é‡è¯•&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223226541-1906064604.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223227080-989110196.png&quot; alt=&quot;image&quot; width=&quot;753&quot; height=&quot;160&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯æ˜¯åœ¨å‰é¢ï¼Œæˆ‘ä»¬è®¾ç½®çš„å¤±è´¥é‡è¯•æ¬¡æ•°æ˜¯5æ¬¡ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œåªé‡è¯•ä¸‰æ¬¡å—ï¼Ÿæ˜¯ä¸æ˜¯è¦å«æ™“ä¸œè¿‡æ¥æ”¹BUGäº†å‘¢&lt;img class=&quot;wlEmoticon wlEmoticon-eyerollingsmile&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223227322-812043582.png&quot; alt=&quot;è½¬åŠ¨çœ¼ç›&quot;/&gt;ï¼Ÿå½“ç„¶ä¸æ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;è§‚å¯Ÿå‘ç°ï¼ŒCAPé‡è¯•çš„å‰ä¸‰æ¬¡æ˜¯ç«‹å³è¿›è¡Œçš„ï¼Œè€Œåé¢çš„é‡è¯•ï¼Œæ˜¯æ¯éš”ä¸€æ®µæ—¶é—´è¿›è¡Œçš„ï¼Œå½“åœ¨åˆ†å¸ƒå¼é€šè®¯çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‡ºç°äº†é—®é¢˜ç¡®å®ä¸ä¼šç«‹å³ä¿®å¤è§£å†³ï¼Œå¯èƒ½è¿‡äº†ä¸€å®šæ—¶é—´ï¼Œç³»ç»Ÿå°±è‡ªåŠ¨æ¢å¤äº†ï¼Œå¦‚ç½‘ç»œæŠ–åŠ¨ã€‚&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223227573-1757949775.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223227905-1506383649.png&quot; alt=&quot;image&quot; width=&quot;752&quot; height=&quot;450&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‘é€æˆåŠŸäº†äº”æ¡æ¶ˆæ¯ï¼ŒæˆåŠŸæ¥æ”¶å¤„ç†äº†ä¸‰æ¡ï¼Œä¸¤æ¡å¤„ç†å¤±è´¥ï¼Œå¤„ç†å¤±è´¥çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é¢æ¿ä¸­è¿›è¡Œé‡æ–°æ¶ˆè´¹ï¼Œå¯è°“éå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223228230-913920982.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223228489-1386462518.png&quot; alt=&quot;image&quot; width=&quot;774&quot; height=&quot;196&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œå¤„ç†å¤±è´¥çš„æ¶ˆæ¯ï¼Œç‚¹å‡»æ¶ˆæ¯çš„ç¼–å·åï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ¶ˆæ¯çš„å†…å®¹å’Œå¼‚å¸¸åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223229128-864642936.png&quot;&gt;&lt;img title=&quot;image&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223230027-560616924.png&quot; alt=&quot;image&quot; width=&quot;617&quot; height=&quot;395&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CAPå¦‚æ­¤å¼ºå¤§ï¼Œè®©æ¶ˆæ¯é˜Ÿåˆ—è¿™ç§é«˜å¤§ä¸Šäº§å“æ“ä½œSo Easyï¼Œå­¦ä¼šäº†CAP,ä¹Ÿå¯ä»¥å¹ç‰›è¯´ï¼Œæˆ‘ä¹Ÿæ‡‚åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†å•¦&lt;img class=&quot;wlEmoticon wlEmoticon-laughingoutloud&quot; src=&quot;https://images2018.cnblogs.com/blog/1293736/201808/1293736-20180823223230254-900629696.png&quot; alt=&quot;å¤§å£°ç¬‘&quot;/&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢æ™“ä¸œå¼€å‘å‡ºå¦‚æ­¤å¼ºå¤§çš„é¡¹ç›®ï¼ŒåŒæ—¶æ„Ÿè°¢.Net Core Communityã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒ CAP Github wiki&lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;https://github.com/dotnetcore/CAP/wiki&quot; href=&quot;https://github.com/dotnetcore/CAP/wiki&quot;&gt;https://github.com/dotnetcore/CAP/wiki&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬åšå®¢Demoä»£ç &lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;https://github.com/liuzhenyulive/CAP.Demo&quot; href=&quot;https://github.com/liuzhenyulive/CAP.Demo&quot;&gt;https://github.com/liuzhenyulive/CAP.Demo&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 14:33:00 +0000</pubDate>
<dc:creator>ç å†œé˜¿å®‡</dc:creator>
<og:description>CAPæ˜¯ä»€ä¹ˆï¼Ÿ CAPæ˜¯ç”±æˆ‘ä»¬å›­å­é‡Œçš„æ¨æ™“ä¸œå¤§ç¥å¼€å‘å‡ºæ¥çš„ä¸€å¥—åˆ†å¸ƒå¼äº‹åŠ¡çš„å†³ç»æ–¹æ¡ˆï¼Œæ˜¯.Net Core Communityä¸­çš„ç¬¬ä¸€ä¸ªåƒæ˜Ÿé¡¹ç›®ï¼ˆç›®å‰å·²ç»1656 Startï¼‰ï¼Œå…·æœ‰è½»é‡çº§ã€æ˜“ä½¿ç”¨ã€é«˜æ€§</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/CoderAyu/p/9527012.html</dc:identifier>
</item>
<item>
<title>Gitä¸­çš„&quot;pull request&quot;çœŸæ­£æ¯”è¾ƒçš„æ˜¯ä»€ä¹ˆï¼Ÿ - xiaoxi666</title>
<link>http://www.cnblogs.com/xiaoxi666/p/9526896.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xiaoxi666/p/9526896.html</guid>
<description>&lt;h2&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;åˆ©ç”¨gitç‰ˆæœ¬æ§åˆ¶å·¥å…·æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä»ä¸»åˆ†æ”¯æ‹‰å‡ºæ–°åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼Œå¼€å‘å®Œæˆååˆ›å»ºprï¼ˆä¹Ÿå°±æ˜¯pull requestï¼‰ï¼Œè®©å…¶ä»–å°ä¼™ä¼´å¸®å¿™reviewï¼Œç¡®å®šä»£ç æ²¡æœ‰é—®é¢˜åå†å°†æ–°åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ä½†æ˜¯ï¼Œä½ çœŸçš„ç†è§£pull requestä¸­æ¯”è¾ƒçš„ä¸¤ä¸ªåˆ†æ”¯åˆ°åº•æ˜¯è°å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä»¥ä¸€ä¸ªè™šæ‹Ÿæ¡ˆä¾‹è¿›è¡Œè¯´æ˜ï¼šå‡è®¾ä¸»åˆ†æ”¯åä¸ºâ€œMasterâ€ï¼Œæ‹‰å‡ºæ¥çš„æ–°åˆ†æ”¯åä¸ºâ€œdevelopBrance1â€ã€‚&lt;/p&gt;
&lt;h2&gt;é¦–å…ˆçœ‹æœ€ç®€å•çš„æƒ…å†µ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/609124/201808/609124-20180823213030984-1343936089.png&quot; alt=&quot;&quot; width=&quot;600&quot; height=&quot;240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬ä»ä¸»åˆ†æ”¯Masterçš„m1æäº¤ç‚¹æ‹‰å‡ºæ–°åˆ†æ”¯developBranch1ï¼Œç„¶ååœ¨developBranch1åˆ†æ”¯ä¸Šå¼€å‘ï¼ˆå¼€å‘è¿‡ç¨‹ä¸­äº§ç”Ÿäº†d1ã€d2ã€d3å…±3ä¸ªæäº¤ï¼‰ï¼Œå¼€å‘å®Œæˆååˆ›å»ºprï¼Œç„¶åç»è¿‡Reviewåå°†å…¶åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šå½¢æˆæ–°çš„æäº¤ç‚¹Nã€‚è‡ªç„¶è€Œç„¶åœ°ï¼Œæˆ‘ä»¬åˆ›å»ºpræ—¶é€‰æ‹©çš„æºå’Œç›®æ ‡ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;src[&lt;strong&gt;developBranch1&lt;/strong&gt;] -&amp;gt; dest[&lt;strong&gt;Master&lt;/strong&gt;]&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æœŸæœ›præ¯”è¾ƒçš„æ˜¯developBranch1å’ŒMasterè¿™ä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°æäº¤ç‚¹ï¼Œprå®é™…æ¯”è¾ƒçš„ä¹Ÿæ˜¯&lt;span&gt;developBranch1çš„&lt;span&gt;d3æäº¤ç‚¹&lt;/span&gt;&lt;/span&gt;å’Œ&lt;span&gt;Masteråˆ†æ”¯çš„&lt;span&gt;m1æäº¤ç‚¹&lt;/span&gt;&lt;/span&gt;ä¹‹é—´çš„å·®å¼‚ã€‚&lt;/p&gt;
&lt;h2&gt;å¢åŠ ä¸€ç‚¹å¤æ‚åº¦&lt;/h2&gt;
&lt;p&gt;å‡è®¾ç°åœ¨æœ‰å…¶ä»–å°ä¼™ä¼´å’Œä½ ä¸€åŒå·¥ä½œï¼ˆè¿™æ‰æ˜¯å·¥ä½œä¸­çš„åœºæ™¯ï¼‰ï¼Œå¦å¤–ä¸€åå°ä¼™ä¼´ä¹Ÿä»Masteråˆ†æ”¯çš„m1æäº¤ç‚¹æ‹‰å‡ºåˆ†æ”¯developBranch2è¿›è¡Œå¼€å‘ï¼Œå¹¶äº§ç”Ÿäº†è‹¥å¹²æäº¤ï¼Œè€Œä¸”åœ¨æˆ‘ä»¬å¼€å‘å®Œæˆä¹‹å‰å·²ç»åˆå¹¶åˆ°äº†Masteråˆ†æ”¯ä¸Šï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/609124/201808/609124-20180823215957286-1745046739.png&quot; alt=&quot;&quot; width=&quot;606&quot; height=&quot;328&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬åˆ›å»ºpræ—¶ï¼Œæºå’Œç›®æ ‡è‡ªç„¶è¿˜æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;src[&lt;strong&gt;developBranch1&lt;/strong&gt;] -&amp;gt; dest[&lt;strong&gt;Master&lt;/strong&gt;]&lt;/p&gt;
&lt;p&gt;ä½†æ­¤æ—¶prå®é™…æ¯”è¾ƒçš„æ˜¯developBranch1å’ŒMasterè¿™ä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°æäº¤ç‚¹å—ï¼ˆÂ &lt;span&gt;developBranch1çš„&lt;/span&gt;&lt;span&gt;d3æäº¤ç‚¹&lt;/span&gt;å’Œ&lt;span&gt;Masteråˆ†æ”¯çš„&lt;/span&gt;&lt;span&gt;m2æäº¤ç‚¹&lt;/span&gt;ä¹‹é—´çš„å·®å¼‚ï¼‰ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆï¼šä¸æ˜¯çš„ã€‚ç°åœ¨præ¯”è¾ƒçš„å…¶å®æ˜¯&lt;span&gt;developBranch1çš„&lt;/span&gt;&lt;span&gt;d3æäº¤ç‚¹&lt;span&gt;å’Œ&lt;/span&gt;&lt;span&gt;Masteråˆ†æ”¯çš„&lt;/span&gt;m1æäº¤ç‚¹&lt;span&gt;ï¼Œå’Œä¸Šé¢çš„æƒ…å†µå®Œå…¨æ²¡æœ‰å·®å¼‚ï¼&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;span&gt;å…¶å®prçš„åº•å±‚è¿™æ ·å®ç°éå¸¸æœ‰é“ç†ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;æˆ‘ä»¬åˆ›å»ºpræ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯æ¯”è¾ƒçš„å·®å¼‚åªæ˜¯è‡ªå·±å¼€å‘çš„å†…å®¹ã€‚è¯•æƒ³ï¼Œå¦‚æœåˆä½œå¼€å‘æƒ…å†µä¸‹æ¯”è¾ƒdevelopBranch1çš„d3æäº¤ç‚¹å’ŒMasteråˆ†æ”¯çš„m2æäº¤ç‚¹ä¹‹é—´çš„å·®å¼‚ï¼Œé‚£æˆ‘ä»¬ä¼šåŒæ—¶çœ‹åˆ°å…¶ä»–å°ä¼™ä¼´çš„å¼€å‘å†…å®¹ï¼Œä½ ä¼šæƒ³ï¼Œè¿™ä¸æ˜¯ååº”äº†â€œæœ€æ–°å·¥ä½œè¿›åº¦â€å—ï¼Ÿä¸å°±æ˜¯å¤šçœ‹ä¸€ä¸ªå°ä¼™ä¼´çš„ä»£ç å—ï¼Ÿ&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;å¥½ï¼Œå†è¯•æƒ³å¦‚æœåŒæ—¶æœ‰å¾ˆå¤šäººå¼€å‘ï¼Œæˆ‘ä»¬æäº¤è‡ªå·±çš„ä»£ç æ—¶ï¼Œå¤¹æ‚äº†è®¸å¤šå…¶ä»–å°ä¼™ä¼´çš„ä»£ç ï¼Œä½ ä¼šä¸ä¼šå› æ‰¾ä¸åˆ°è‡ªå·±å¼€å‘çš„ä»£ç è€Œå‘ç–¯ï¼Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;â€œæœ€æ–°å·¥ä½œè¿›åº¦â€çš„ç–‘æƒ‘è¿˜åœ¨å§ï¼Ÿä¸‹é¢æ¥è§£ç­”ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;&lt;span&gt;gitæ˜¯å¦‚ä½•åæ˜ æœ€æ–°å·¥ä½œè¿›åº¦çš„ï¼Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Â å…¶å®ï¼Œgitåˆå¹¶ä¸åŒåˆ†æ”¯æ—¶ï¼Œä¼šè‡ªåŠ¨å–å®ƒä»¬çš„&lt;strong&gt;å¹¶é›†&lt;/strong&gt;ï¼Œä»¥ä¿æŒæœ€ç»ˆå·¥ä½œè¿›åº¦ã€‚å°±æ‹¿ä¸Šå›¾è¯´ï¼Œå¦‚æœdevelopBranch1çš„d3æäº¤ç‚¹å’ŒdevelopBranch2çš„o2æäº¤ç‚¹ä¹‹é—´ä¸å­˜åœ¨å†²çªï¼Œä¸¤è€…çš„å¼€å‘å·¥ä½œæœ€ç»ˆéƒ½ä¼šåœ¨m3ä¸­ä½“ç°ï¼ˆå½“ç„¶ï¼Œæœ‰å†²çªäº†å°±éœ€è¦æ‰‹åŠ¨è§£å†³ï¼‰ã€‚&lt;/p&gt;
&lt;h2&gt;ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œpræ¯”è¾ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;præ¯”è¾ƒçš„æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;æºåˆ†æ”¯çš„æœ€è¿‘æäº¤ç‚¹&lt;/strong&gt;&lt;/span&gt;å’Œ&lt;span&gt;&lt;strong&gt;æºåˆ†æ”¯å’Œç›®æ ‡åˆ†æ”¯çš„æœ€è¿‘å…¬å…±çˆ¶æäº¤èŠ‚ç‚¹&lt;/strong&gt;&lt;/span&gt;ä¹‹é—´çš„å·®å¼‚ã€‚åœ¨æ–‡ä¸­ç¬¬äºŒå¼ å›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æºåˆ†æ”¯æ˜¯developBranch1ï¼Œç›®æ ‡åˆ†æ”¯æ˜¯Masterï¼Œä¸¤ä¸ªåˆ†æ”¯çš„æœ€è¿‘å…¬å…±çˆ¶æäº¤èŠ‚ç‚¹æ˜¯m1ï¼›æ‰€ä»¥æœ€ç»ˆæ¯”è¾ƒçš„å°±æ˜¯&lt;span&gt;æºåˆ†æ”¯çš„æœ€è¿‘æäº¤ç‚¹d3&lt;/span&gt;å’Œ&lt;span&gt;m1ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;æ¢ç´¢æ¬²å¼ºçš„è¯»è€…ä¹Ÿå¯ä»¥è¯•è¯•æŠŠä¸åŒåˆ†æ”¯åˆ†åˆ«ä½œä¸ºprçš„æºå’Œç›®æ ‡ï¼Œçœ‹çœ‹git diffçš„è¾“å‡ºï¼Œä»¥åŠ æ·±å°è±¡ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;åè®°&lt;/h2&gt;
&lt;p&gt;å…¶ä»–æ›´ä¸ºå¤æ‚çš„åˆ†æ”¯pråŸç†ç±»ä¼¼ï¼Œåªæ˜¯éœ€è¦ç»“åˆæ›´ä¸ºå¤æ‚çš„åˆå¹¶ç­–ç•¥è¿›è¡Œåˆ†æã€‚æ–‡ä¸­è‹¥æœ‰ç–æ¼ï¼Œæ¬¢è¿æŒ‡æ­£è¡¥å……ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œè¯¥å»å¤ä¹ å¤ä¹ å¯»æ‰¾ä¸¤èŠ‚ç‚¹æœ€è¿‘å…¬å…±çˆ¶èŠ‚ç‚¹çš„åŸç†äº†^_^&lt;/p&gt;

&lt;h2&gt;æ¯”è¾ƒå¥½çš„æ–‡ç« æ¨è&lt;/h2&gt;
&lt;blockquote readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a title=&quot;çŸ¥ä¹â€”â€”Gitç”±æµ…å…¥æ·±ä¹‹åˆ†æ”¯ç®¡ç†&quot; href=&quot;https://zhuanlan.zhihu.com/p/26227256&quot; target=&quot;_blank&quot;&gt;https://zhuanlan.zhihu.com/p/26227256&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

</description>
<pubDate>Thu, 23 Aug 2018 14:21:00 +0000</pubDate>
<dc:creator>xiaoxi666</dc:creator>
<og:description>å‰è¨€ åˆ©ç”¨gitç‰ˆæœ¬æ§åˆ¶å·¥å…·æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä»ä¸»åˆ†æ”¯æ‹‰å‡ºæ–°åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼Œå¼€å‘å®Œæˆååˆ›å»ºprï¼ˆä¹Ÿå°±æ˜¯pull requestï¼‰ï¼Œè®©å…¶ä»–å°ä¼™ä¼´å¸®å¿™reviewï¼Œç¡®å®šä»£ç æ²¡æœ‰é—®é¢˜åå†å°†æ–°åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ä½†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/xiaoxi666/p/9526896.html</dc:identifier>
</item>
<item>
<title>Spring Cloud Config åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€Finchley ç‰ˆã€‘ - Jreey</title>
<link>http://www.cnblogs.com/JreeyQi/p/9526850.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/JreeyQi/p/9526850.html</guid>
<description>&lt;h2 id=&quot;ä¸€-ä»‹ç»&quot;&gt;ä¸€ã€ ä»‹ç»&lt;/h2&gt;
&lt;h4 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦é…ç½®ä¸­å¿ƒ&quot;&gt;1ï¼Œä¸ºä»€ä¹ˆéœ€è¦é…ç½®ä¸­å¿ƒï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å½“æœåŠ¡éƒ¨ç½²çš„è¶Šæ¥è¶Šå¤šï¼Œè§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œå¯¹åº”çš„æœºå™¨æ•°é‡ä¹Ÿè¶Šæ¥è¶Šåºå¤§ï¼Œé äººå·¥æ¥ç®¡ç†å’Œç»´æŠ¤æœåŠ¡çš„é…ç½®ä¿¡æ¯ï¼Œå˜å¾—å›°éš¾ï¼Œå®¹æ˜“å‡ºé”™ã€‚&lt;br/&gt;å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªèƒ½å¤ŸåŠ¨æ€æ³¨å†Œå’Œè·å–æœåŠ¡ä¿¡æ¯çš„åœ°æ–¹ï¼Œæ¥ç»Ÿä¸€ç®¡ç†æœåŠ¡åç§°å’Œå…¶å¯¹åº”çš„æœåŠ¡å™¨åˆ—è¡¨ä¿¡æ¯ï¼Œç§°ä¹‹ä¸ºæœåŠ¡é…ç½®ä¸­å¿ƒã€‚æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå°†å…¶æä¾›çš„æœåŠ¡åç§°ã€æœåŠ¡å™¨åœ°å€æ³¨å†Œåˆ°æœåŠ¡é…ç½®ä¸­å¿ƒã€‚æœåŠ¡æ¶ˆè´¹è€…é€šè¿‡æœåŠ¡é…ç½®ä¸­å¿ƒæ¥è·å¾—éœ€è¦è°ƒç”¨çš„æœåŠ¡ï¼Œé€šè¿‡ç›¸åº”çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰æ‹©å…¶ä¸­ä¸€å°æœåŠ¡å™¨å¼€å§‹è°ƒç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ä»€ä¹ˆæ˜¯-spring-cloud-config&quot;&gt;2ï¼Œä»€ä¹ˆæ˜¯ Spring Cloud Config&lt;/h4&gt;
&lt;p&gt;spring cloud config æ˜¯ spring cloud ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶ï¼Œå®ƒæ”¯æŒé…ç½®æœåŠ¡æ”¾åœ¨é…ç½®æœåŠ¡çš„å†…å­˜ä¸­ï¼ˆå³æœ¬åœ°ï¼‰ï¼Œä¹Ÿæ”¯æŒæ”¾åœ¨è¿œç¨‹Gitä»“åº“ä¸­ã€‚åœ¨spring cloud config ç»„ä»¶ä¸­ï¼Œåˆ†ä¸¤ä¸ªè§’è‰²ï¼Œä¸€æ˜¯config serverï¼ŒäºŒæ˜¯config clientã€‚&lt;/p&gt;
&lt;h2 id=&quot;äºŒ-spring-cloud-config-å®æˆ˜&quot;&gt;äºŒã€ Spring Cloud Config å®æˆ˜&lt;/h2&gt;
&lt;h3 id=&quot;æ„å»ºconfig-server&quot;&gt;2.1ï¼Œæ„å»ºConfig Server&lt;/h3&gt;
&lt;h4 id=&quot;åˆ›å»ºä¸€ä¸ªåä¸ºconfig-server-çš„-spring-booté¡¹ç›®pom.xmlä¾èµ–å¦‚ä¸‹-æ³¨æ„ç»„ä»¶ç‰ˆæœ¬æˆ‘ç”¨çš„æ˜¯-spring-boot-2.0.x&quot;&gt;2.1.1ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºconfig-server çš„ spring-booté¡¹ç›®ï¼Œpom.xmlä¾èµ–å¦‚ä¸‹: æ³¨æ„ç»„ä»¶ç‰ˆæœ¬æˆ‘ç”¨çš„æ˜¯ &lt;code&gt;Spring Boot 2.0.x&lt;/code&gt;&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt; &amp;lt;parent&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.0.4.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt;
    &amp;lt;/parent&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;project.reporting.outputEncoding&amp;gt;UTF-8&amp;lt;/project.reporting.outputEncoding&amp;gt;
        &amp;lt;java.version&amp;gt;1.8&amp;lt;/java.version&amp;gt;
        &amp;lt;spring-cloud.version&amp;gt;Finchley.RELEASE&amp;lt;/spring-cloud.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-config-server&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;åœ¨å…¥å£ç±»configserverapplication-æ·»åŠ æ³¨è§£-enableconfigserverå¼€å¯configé…ç½®ä¸­å¿ƒæœåŠ¡ç«¯&quot;&gt;2.2ï¼Œåœ¨å…¥å£ç±»ConfigServerApplication æ·»åŠ æ³¨è§£ &lt;code&gt;@EnableConfigServer&lt;/code&gt;,å¼€å¯Configé…ç½®ä¸­å¿ƒæœåŠ¡ç«¯&lt;/h4&gt;
&lt;h4 id=&quot;åœ¨æ ¹ç›®å½•æ–°å»ºçš„é…ç½®æ–‡ä»¶-config-dev.ymlå¹¶æäº¤åˆ°gitä»“åº“å®ä¾‹æ˜¯mysqlçš„æ•°æ®åŸæœ¬é…ç½®ä¿¡æ¯æäº¤çš„githubä¸­é…ç½®æ–‡ä»¶å¦‚ä¸‹&quot;&gt;2.3ï¼Œåœ¨æ ¹ç›®å½•æ–°å»ºçš„é…ç½®æ–‡ä»¶ &lt;code&gt;config-dev.yml&lt;/code&gt;ï¼Œå¹¶æäº¤åˆ°gitä»“åº“ï¼Œå®ä¾‹æ˜¯mysqlçš„æ•°æ®åŸæœ¬é…ç½®ä¿¡æ¯ï¼Œæäº¤çš„githubä¸­ï¼Œé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://192.168.10.100:3306/spring?useSSL=false
    username: test
    password: 123456&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;é…ç½®-application.yml-é…ç½®å¦‚ä¸‹&quot;&gt;2.4ï¼Œé…ç½® application.yml ,é…ç½®å¦‚ä¸‹ï¼š&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;spring:
  application:
    name: config-server
  cloud:
    config:
      server:
        git:
          uri: https://github.com/jarvisqi/spring-cloud-microservice
          search-paths: config-server
          username:
          password:
          default-label: master
server:
  port: 9400
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;spring.cloud.config.server.git.url :æŒ‡å®šgitçš„ä»“åº“åœ°å€ï¼Œæ”¹æˆä½ è‡ªå·±çš„&lt;/li&gt;
&lt;li&gt;spring.cloud.config.server.git.search-paths :æŒ‡å®šä½ çš„é…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•&lt;/li&gt;
&lt;li&gt;usernameï¼Œpassword å¦‚æœæ˜¯githubå…¬å¼€çš„å°±ä¸ç”¨æ·»åŠ ï¼Œè‡ªå·±çš„ç§æœ‰ä»“åº“è‡ªå·±æ·»åŠ &lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;å¯åŠ¨config-serverå¹¶è®¿é—®httplocalhost9400configdev-åœ°å€çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯è¯´æ˜æœåŠ¡ç«¯æ­£å¸¸è¿è¡Œ&quot;&gt;2.4ï¼Œå¯åŠ¨Config-Serverï¼Œå¹¶è®¿é—®ï¼š&lt;code&gt;http://localhost:9400/config/dev&lt;/code&gt; åœ°å€ï¼Œçœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜æœåŠ¡ç«¯æ­£å¸¸è¿è¡Œï¼š&lt;/h4&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;name&quot;: &quot;config&quot;,
    &quot;profiles&quot;: [
        &quot;dev&quot;
    ],
    &quot;label&quot;: null,
    &quot;version&quot;: &quot;e64289cb775e2ac7db7494c07d7e8c4933163daf&quot;,
    &quot;state&quot;: null,
    &quot;propertySources&quot;: [
        {
            &quot;name&quot;: &quot;https://github.com/jarvisqi/spring-cloud-microservice/config-server/config-dev.yml&quot;,
            &quot;source&quot;: {
                &quot;spring.datasource.driver-class-name&quot;: &quot;com.mysql.jdbc.Driver&quot;,
                &quot;spring.datasource.url&quot;: &quot;jdbc:mysql://192.168.10.100:3306/spring?useSSL=false&quot;,
                &quot;spring.datasource.username&quot;: &quot;test&quot;,
                &quot;spring.datasource.password&quot;: 123456
            }
        }
    ]
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;source ä¸‹é¢çš„keyå°±æ˜¯é…ç½®çš„ä¿¡æ¯ï¼Œhttpè¯·æ±‚åœ°å€å’Œèµ„æºæ–‡ä»¶æ˜ å°„å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/{application}/{profile}[/{label}]
/{application}-{profile}.yml
/{label}/{application}-{profile}.yml
/{application}-{profile}.properties
/{label}/{application}-{profile}.properties&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;æ„å»ºconfig-client&quot;&gt;2.2ï¼Œæ„å»ºConfig Client&lt;/h3&gt;
&lt;h4 id=&quot;åˆ›å»ºä¸€ä¸ªåä¸ºconfig-client-çš„-spring-booté¡¹ç›®pom.xmlä¾èµ–å¦‚ä¸‹-æ³¨æ„ç»„ä»¶ç‰ˆæœ¬æˆ‘ç”¨çš„æ˜¯-spring-boot-2.0.x&quot;&gt;2.2.1ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºconfig-client çš„ spring-booté¡¹ç›®ï¼Œpom.xmlä¾èµ–å¦‚ä¸‹: æ³¨æ„ç»„ä»¶ç‰ˆæœ¬æˆ‘ç”¨çš„æ˜¯ &lt;code&gt;Spring Boot 2.0.x&lt;/code&gt;&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;  &amp;lt;parent&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.0.4.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt;
    &amp;lt;/parent&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;project.reporting.outputEncoding&amp;gt;UTF-8&amp;lt;/project.reporting.outputEncoding&amp;gt;
        &amp;lt;java.version&amp;gt;1.8&amp;lt;/java.version&amp;gt;
        &amp;lt;spring-cloud.version&amp;gt;Finchley.RELEASE&amp;lt;/spring-cloud.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-config&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-actuator&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;é…ç½®-application.yml-é…ç½®å¦‚ä¸‹-1&quot;&gt;2.2.2ï¼Œé…ç½® application.yml ,é…ç½®å¦‚ä¸‹ï¼š&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;spring:
  application:
    name: config-client
  cloud:
    config:
      uri: http://localhost:9400
      name: config
      profile: dev
      label: master
server:
  port: 9410
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;spring.cloud.config.uri : æŒ‡å®šconfig-server æœåŠ¡ç«¯åœ°å€ï¼Œæ³¨æ„å¹¶ä¸æ˜¯gitä»“åº“åœ°å€&lt;/li&gt;
&lt;li&gt;spring.cloud.config.nameï¼š&lt;code&gt;æ³¨æ„&lt;/code&gt; å¦‚æœ&lt;code&gt;name&lt;/code&gt;å€¼ä¸å†™ï¼Œä¼šé»˜è®¤å– &lt;code&gt;spring.application.name&lt;/code&gt;çš„å€¼ï¼Œèµ„æºæ–‡ä»¶åå°±å˜æˆäº† &lt;code&gt;config-client-dev&lt;/code&gt;ï¼Œæ ¹æ®httpè¯·æ±‚åœ°å€å’Œèµ„æºæ–‡ä»¶æ˜ å°„ï¼Œè‚¯å®šæ‰¾ä¸åˆ°ï¼Œä¼šæŠ¥é”™ï¼Œæ— æ³•å¯åŠ¨&lt;/li&gt;
&lt;li&gt;spring.cloud.config.profileï¼šä¸€èˆ¬å°±æ˜¯ dev ,test ,prd,ä½ è‡ªå®šä¹‰ä¹Ÿè¡Œï¼Œå› ä¸ºæˆ‘æäº¤çš„æ–‡ä»¶å†™çš„æ˜¯ dev&lt;/li&gt;
&lt;li&gt;spring.cloud.config.label ï¼šgitçš„åˆ†æ”¯&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;é…ç½®-boostrap.yml-é…ç½®å¦‚ä¸‹&quot;&gt;2.2.3ï¼Œé…ç½® boostrap.yml ,é…ç½®å¦‚ä¸‹ï¼š&lt;/h4&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;spring:
  cloud:
    config:
      uri: http://localhost:9400&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„&lt;/code&gt;ï¼Œæ­¤å¤„æœ‰å‘ï¼Œå¦‚æœä½ ä¸æ·»åŠ  &lt;code&gt;boostrap.yml&lt;/code&gt;æ–‡ä»¶å¹¶é‡æ–°æŒ‡å®šæŒ‡å®š &lt;code&gt;spring.cloud.config.uri&lt;/code&gt;,å¯åŠ¨å®¢æˆ·ç«¯ä¼šæŠ¥é”™ï¼Œä¼šé»˜è®¤æŒ‡å®š ç«¯å£ï¼š8888ï¼Œä¸æ˜¯è‡ªå®šä¹‰çš„ç«¯å£ï¼Œæ— æ³•å¯åŠ¨ä¼šæŠ¥é”™ï¼Œå½“ç„¶ä½ å¯ä»¥ç›´æ¥ç”¨ &lt;code&gt;boostrap.yml&lt;/code&gt; ï¼Œæˆ‘çœ‹é‚£æ­¤å¤„å¾ˆå¤šäººé‡åˆ°é—®é¢˜ï¼Œé‡åˆ°é—®é¢˜å°±è¯´é™ä½ç‰ˆæœ¬åˆ°1.5.Xå°±æ­£ç¡®ï¼Œè¿™ä¹Ÿèƒ½ç®—è§£å†³æ–¹æ¡ˆï¼Ÿ&lt;/p&gt;
&lt;h4 id=&quot;æ·»åŠ -configcontroller-æ¥å£å¹¶è·å–é…ç½®ä¿¡æ¯ä»£ç å¦‚ä¸‹&quot;&gt;2.2.4ï¼Œæ·»åŠ  ConfigController æ¥å£ï¼Œå¹¶è·å–é…ç½®ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/h4&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@RestController
public class ConfigController {

    @Value(&quot;${spring.datasource.driver-class-name}&quot;)
    private String driverClassName;

    @Value(&quot;${spring.datasource.url}&quot;)
    private String url;

    @Value(&quot;${spring.datasource.username}&quot;)
    private String username;

    @Value(&quot;${spring.datasource.password}&quot;)
    private String password;

    @RequestMapping(&quot;/dataconfig&quot;)
    public DataConfig getDataConfig() {
        DataConfig config = new DataConfig(driverClassName, url, username, password);
        return config;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;é¦–å…ˆå¯åŠ¨config-serverä¿è¯è¿è¡Œæ­£å¸¸å†å¯åŠ¨-config-clientå¹¶è¯·æ±‚åœ°å€-httplocalhost9410dataconfigå¾—åˆ°å¦‚ä¸‹ç»“æœè¯´æ˜é…ç½®ä¸­å¿ƒå®Œæˆ&quot;&gt;2.2.5ï¼Œé¦–å…ˆå¯åŠ¨config-server,ä¿è¯è¿è¡Œæ­£å¸¸ï¼Œå†å¯åŠ¨ config-client,å¹¶è¯·æ±‚åœ°å€ &lt;code&gt;http://localhost:9410/dataconfig&lt;/code&gt;,å¾—åˆ°å¦‚ä¸‹ç»“æœï¼Œè¯´æ˜é…ç½®ä¸­å¿ƒå®Œæˆï¼š&lt;/h4&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;driverClassName&quot;: &quot;com.mysql.jdbc.Driver&quot;,
    &quot;url&quot;: &quot;jdbc:mysql://192.168.10.100:3306/spring?useSSL=false&quot;,
    &quot;username&quot;: &quot;test&quot;,
    &quot;password&quot;: &quot;123456&quot;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šï¼Œå°±å¯ä»¥å•ç‹¬éƒ¨ç½²é…ç½®ä¸­å¿ƒï¼Œé…ç½®ä¿¡æ¯å€¼éœ€è¦gitæäº¤åˆ°æŒ‡å®šçš„ç›®å½•ï¼Œå¾®æœåŠ¡å„ä¸ªç‹¬ç«‹çš„æœåŠ¡åº”ç”¨éƒ½èƒ½è·å–ã€‚&lt;/p&gt;
&lt;p&gt;é™„ä¸Šæºç ï¼š&lt;a href=&quot;https://github.com/jarvisqi/spring-cloud-microservice.git&quot; class=&quot;uri&quot;&gt;https://github.com/jarvisqi/spring-cloud-microservice.git&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Thu, 23 Aug 2018 14:15:00 +0000</pubDate>
<dc:creator>Jreey</dc:creator>
<og:description>ä¸€ã€ ä»‹ç» 1ï¼Œä¸ºä»€ä¹ˆéœ€è¦é…ç½®ä¸­å¿ƒï¼Ÿ å½“æœåŠ¡éƒ¨ç½²çš„è¶Šæ¥è¶Šå¤šï¼Œè§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œå¯¹åº”çš„æœºå™¨æ•°é‡ä¹Ÿè¶Šæ¥è¶Šåºå¤§ï¼Œé äººå·¥æ¥ç®¡ç†å’Œç»´æŠ¤æœåŠ¡çš„é…ç½®ä¿¡æ¯ï¼Œå˜å¾—å›°éš¾ï¼Œå®¹æ˜“å‡ºé”™ã€‚ å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªèƒ½å¤ŸåŠ¨æ€æ³¨å†Œå’Œè·å–æœåŠ¡ä¿¡æ¯çš„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/JreeyQi/p/9526850.html</dc:identifier>
</item>
<item>
<title>javaå¯¼å‡ºExcelæ–‡ä»¶ - çƒ¦åš£çš„äºº</title>
<link>http://www.cnblogs.com/wuyoucao/p/9526620.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wuyoucao/p/9526620.html</guid>
<description>&lt;h2 id=&quot;ä¸€èƒŒæ™¯&quot;&gt;ä¸€ã€èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;â€ƒâ€ƒæœ€è¿‘åœ¨javaä¸Šåšäº†ä¸€ä¸ªEXCELçš„å¯¼å‡ºåŠŸèƒ½ï¼Œå†™äº†ä¸€ä¸ªé€šç”¨ç±»ï¼Œåœ¨è¿™é‡Œåˆ†äº«åˆ†äº«ï¼Œè¯¥ç±»æ”¯æŒå¤šsheetï¼Œä¸”æ— éœ€æ‰‹åŠ¨è¿›è¡Œå¤æ‚çš„ç±»å‹è½¬æ¢ï¼Œåªéœ€æä¾›ä¸‰ä¸ªå‚æ•°å³å¯ï¼š&lt;/p&gt;
&lt;ul readability=&quot;6&quot;&gt;&lt;li&gt;
&lt;p&gt;&lt;code&gt;fileName&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;excelæ–‡ä»¶å&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;code&gt;HasMap&amp;lt;String,List&amp;lt;?&amp;gt;&amp;gt; data&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„æ•°æ®ï¼Œæ¯ä¸ªListä»£è¡¨ä¸€å¼ è¡¨çš„æ•°æ®ï¼Œï¼Ÿè¡¨ç¤ºå¯ä¸ºä»»æ„çš„è‡ªå®šä¹‰å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;code&gt;LinkedHashMap&amp;lt;String,String[][]&amp;gt; headers&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Stirng&lt;/code&gt;ä»£è¡¨sheetåã€‚æ¯ä¸ª&lt;code&gt;String[][]&lt;/code&gt;ä»£è¡¨ä¸€ä¸ªsheetçš„å®šä¹‰ï¼Œä¸¾ä¸ªä¾‹å­å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;String[][] header = {
    {&quot;field1&quot;,&quot;å‚æ•°1&quot;}
    ï¼Œ{&quot;field2&quot;,&quot;å‚æ•°2&quot;}
    ï¼Œ{&quot;field3&quot;,&quot;å‚æ•°3&quot;}
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­çš„field1ï¼Œfield2ï¼Œfield3ä¸ºå¯¹è±¡ä¸­çš„å±æ€§åï¼Œå‚æ•°1ï¼Œå‚æ•°2ï¼Œå‚æ•°3ä¸ºåˆ—åï¼Œå®é™…ä¸Šè¿™ä¸ªæŒ‡å®šäº†åˆ—çš„åç§°å’Œè¿™ä¸ªåˆ—ç”¨åˆ°æ•°æ®å¯¹è±¡çš„å“ªä¸ªå±æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;äºŒæ€ä¹ˆç”¨&quot;&gt;äºŒã€æ€ä¹ˆç”¨&lt;/h2&gt;
&lt;p&gt;â€ƒâ€ƒä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜æ€ä¹ˆç”¨ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªç±»Aå’ŒBå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public class A{
    private String name;
    private String address;
}
public class B{
    private int id;
    private double sum;
    private String cat;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬é€šè¿‡æŸ¥è¯¢æ•°æ®åº“è·å¾—äº†Aå’ŒBçš„ä¸¤ä¸ªåˆ—è¡¨ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;List&amp;lt;A&amp;gt; dataA = .....;
List&amp;lt;B&amp;gt; dataB = .....;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å°†è¿™ä¸¤ä¸ªå¯¼å‡ºåˆ°excelä¸­ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰sheetï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;String[][] sheetA = {
    {&quot;name&quot;,&quot;å§“å&quot;}
    ,{&quot;address&quot;,&quot;ä½å€&quot;}
}
String[][] sheetB = {
    {&quot;id&quot;,&quot;ID&quot;}
    ,{&quot;sum&quot;,&quot;ä½™é¢&quot;}
    ,{&quot;cat&quot;,&quot;çŒ«çš„åå­—&quot;}
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åå°†æ•°æ®æ±‡æ€»æ„é€ ä¸€ä¸ªExcelUtilï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;String fileName = &quot;æµ‹è¯•Excel&quot;;
HashMap&amp;lt;String,List&amp;lt;?&amp;gt;&amp;gt; data = new HashMap&amp;lt;&amp;gt;();
//ASheetä¸ºè¡¨åï¼Œåé¢headersé‡Œçš„keyè¦è·Ÿè¿™é‡Œä¸€è‡´
data.put(&quot;ASheet&quot;,dataA);
data.put(&quot;BSheet&quot;,dataB);
LinkedHashMap&amp;lt;String,String[][]&amp;gt; headers = new LinkedHashMap&amp;lt;&amp;gt;();
headers.put(&quot;ASheet&quot;,sheetA);
headers.put(&quot;BSheet&quot;,sheetB);
ExcelUtil excelUtil = new ExcelUtil(fileName,data,headers);
//è·å–è¡¨æ ¼å¯¹è±¡
HSSFWorkbook workbook = excelUtil.createExcel();
//è¿™é‡Œå†…ç½®äº†ä¸€ä¸ªå†™åˆ°responseçš„æ–¹æ³•ï¼ˆåˆ¤æ–­æµè§ˆå™¨ç±»å‹è®¾ç½®åˆé€‚çš„å‚æ•°ï¼‰ï¼Œå¦‚æœæƒ³å†™åˆ°æ–‡ä»¶ä¹Ÿæ˜¯ç±»ä¼¼çš„
workbook.writeToResponse(workbook,request,response);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“ç„¶é€šå¸¸æ•°æ®æ˜¯é€šè¿‡æ•°æ®åº“æŸ¥è¯¢çš„ï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿æ²¡æœ‰ä»æ•°æ®åº“æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸‰å®ç°åŸç†&quot;&gt;ä¸‰ã€å®ç°åŸç†&lt;/h2&gt;
&lt;p&gt;â€ƒâ€ƒè¿™é‡Œç®€å•è¯´æ˜ä¸‹å®ç°è¿‡ç¨‹ï¼Œä»è°ƒç”¨&lt;code&gt;createExcel()&lt;/code&gt;è¿™é‡Œå¼€å§‹&lt;/p&gt;

&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;    public HSSFWorkbook createExcel() throws Exception {
        try {
            HSSFWorkbook workbook = new HSSFWorkbook();
            //éå†headersåˆ›å»ºè¡¨æ ¼
            for (String key : headers.keySet()) {
                this.createSheet(workbook, key, headers.get(key), this.data.get(key));
            }
            return workbook;
        } catch (Exception e) {
            log.error(&quot;åˆ›å»ºè¡¨æ ¼å¤±è´¥:{}&quot;, e.getMessage());
            throw e;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°†workbookï¼Œsheetåï¼Œè¡¨å¤´æ•°æ®ï¼Œè¡Œæ•°æ®ä¼ å…¥crateSheetæ–¹æ³•ä¸­åˆ›å»ºsheetã€‚&lt;/p&gt;
&lt;h4 id=&quot;åˆ›å»ºè¡¨å¤´&quot;&gt;2ã€åˆ›å»ºè¡¨å¤´&lt;/h4&gt;
&lt;p&gt;â€ƒâ€ƒè¡¨å¤´ä¹Ÿå°±æ˜¯ä¸€ä¸ªè¡¨æ ¼çš„ç¬¬ä¸€è¡Œï¼Œé€šå¸¸ç”¨æ¥å¯¹åˆ—è¿›è¡Œè¯´æ˜&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;        HSSFSheet sheet = workbook.createSheet(sheetName);
        // åˆ—æ•°
        int cellNum = header.length;
        // å•å…ƒè¡Œï¼Œå•å…ƒæ ¼
        HSSFRow row;
        HSSFCell cell;
        // è¡¨å¤´å•å…ƒæ ¼æ ·å¼
        HSSFCellStyle columnTopStyle = this.getColumnTopStyle(workbook);
        // è®¾ç½®è¡¨å¤´
        row = sheet.createRow(0);
        for (int i = 0; i &amp;lt; cellNum; i++) {
            cell = row.createCell(i);
            cell.setCellStyle(columnTopStyle);
            String str = header[i][1];
            cell.setCellValue(str);
            // è®¾ç½®åˆ—å®½ä¸ºè¡¨å¤´çš„æ–‡å­—å®½åº¦+6ä¸ªåŠè§’ç¬¦å·å®½åº¦
            sheet.setColumnWidth(i, (str.getBytes(&quot;utf-8&quot;).length + 6) * 256);
        }&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;æ’å…¥è¡Œæ•°æ®&quot;&gt;3ã€æ’å…¥è¡Œæ•°æ®&lt;/h4&gt;
&lt;p&gt;â€ƒâ€ƒè¿™é‡Œæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œé¦–å…ˆé€šè¿‡æ•°æ®çš„ç±»å¯¹è±¡è·å–å®ƒçš„åå°„å±æ€§Fieldç±»ï¼Œç„¶åå°†å±æ€§åå’ŒFieldåšä¸€ä¸ªhashæ˜ å°„ï¼Œé¿å…å¾ªç¯æŸ¥æ‰¾ï¼Œæé«˜æ’å…¥é€Ÿåº¦ï¼Œæ¥ç€é€šè¿‡ä¸€ä¸ªswitchè¯­å¥ï¼Œæ ¹æ®å±æ€§ç±»åˆ«è®¾å€¼ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * è®¾ç½®å•å…ƒæ ¼,æ ¹æ®fieldNameè·å–å¯¹åº”çš„Fieldç±»ï¼Œä½¿ç”¨åå°„å¾—åˆ°å€¼
 *
 * @param cell å•å…ƒæ ¼å®ä¾‹
 * @param obj å­˜æœ‰å±æ€§çš„å¯¹è±¡å®ä¾‹
 * @param fieldMap  å±æ€§åä¸Fieldçš„æ˜ å°„
 * @param fieldName å±æ€§å
 */
private void setCell(HSSFCell cell, Object obj, Map&amp;lt;String, Field&amp;gt; fieldMap, String fieldName) throws Exception {
    //è·å–è¯¥å±æ€§çš„Fieldå¯¹è±¡
    Field field = fieldMap.get(fieldName);
    //é€šè¿‡åå°„è·å–å±æ€§çš„å€¼ï¼Œç”±äºä¸èƒ½ç¡®å®šè¯¥å€¼çš„ç±»å‹ï¼Œç”¨ä¸‹é¢çš„åˆ¤æ–­è¯­å¥è¿›è¡Œåˆé€‚çš„è½¬å‹
    Object value = field.get(obj);
    if (value == null) {
        cell.setCellValue(&quot;&quot;);
    } else {
        switch (field.getGenericType().getTypeName()) {
        case &quot;java.lang.String&quot;:
            cell.setCellValue((String) value);
            break;
        case &quot;java.lang.Integer&quot;:
        case &quot;int&quot;:
            cell.setCellValue((int) value);
            break;
        case &quot;java.lang.Double&quot;:
        case &quot;double&quot;:
            cell.setCellValue((double) value);
            break;
        case &quot;java.util.Date&quot;:
            cell.setCellValue(this.dateFormat.format((Date) value));
            break;
        default:
            cell.setCellValue(obj.toString());
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®Œæ•´ä»£ç å¯ä»¥åˆ°githubä¸ŠæŸ¥çœ‹ä¸‹è½½ï¼Œè¿™é‡Œå°±ä¸åˆ—å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/FleyX/demo-project/blob/master/excel%E5%AF%BC%E5%87%BA.java&quot;&gt;ç‚¹å‡»è·³è½¬&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 13:46:00 +0000</pubDate>
<dc:creator>çƒ¦åš£çš„äºº</dc:creator>
<og:description>ä¸€ã€èƒŒæ™¯ â€ƒâ€ƒæœ€è¿‘åœ¨javaä¸Šåšäº†ä¸€ä¸ªEXCELçš„å¯¼å‡ºåŠŸèƒ½ï¼Œå†™äº†ä¸€ä¸ªé€šç”¨ç±»ï¼Œåœ¨è¿™é‡Œåˆ†äº«åˆ†äº«ï¼Œè¯¥ç±»æ”¯æŒå¤šsheetï¼Œä¸”æ— éœ€æ‰‹åŠ¨è¿›è¡Œå¤æ‚çš„ç±»å‹è½¬æ¢ï¼Œåªéœ€æä¾›ä¸‰ä¸ªå‚æ•°å³å¯ï¼š excelæ–‡</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wuyoucao/p/9526620.html</dc:identifier>
</item>
<item>
<title>scalaçš„å¤šç§é›†åˆçš„ä½¿ç”¨(3)ä¹‹éå†é›†åˆçš„æ–¹æ³• - IoTæ…§æ™ºæ˜Ÿ</title>
<link>http://www.cnblogs.com/zhaohadoopone/p/9525317.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zhaohadoopone/p/9525317.html</guid>
<description>&lt;h3&gt;&lt;span&gt;&lt;span&gt;éå†é›†åˆçš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;h2&gt;&lt;span&gt;1.ç”¨foreachå¾ªç¯éå†ä¸€ä¸ªé›†åˆ&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;foreachæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚å®šä¹‰çš„å‡½æ•°åº”è¯¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œç„¶åä¸è¦è¿”å›ä»»ä½•çš„ä¸œè¥¿ã€‚è¾“å…¥çš„å‚æ•°çš„ç±»å‹åº”è¯¥åŒ¹é…é›†åˆä¸­çš„ç±»å‹ã€‚éšç€foreachçš„æ‰§è¡Œï¼Œå®ƒæ¯æ¬¡éƒ½ä¼šæŠŠä¸€ä¸ªå…ƒç´ ä¼ ç»™ä½ çš„å‡½æ•°ï¼Œç›´åˆ°é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;foreachå¸¸ç”¨çš„å°±æ˜¯è¾“å‡ºä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val x = Vector(1,2,3)
x: scala.collection.immutable.Vector[Int] = Vector(1, 2, 3)

scala&amp;gt; x.foreach((i:Int) =&amp;gt; println(i))
1
2
3
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å¯¹äºè¡¨è¾¾å¼ï¼Œè¿˜æœ‰å…¶ä»–å†™æ³•ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;x.foreach(i =&amp;gt; println(i))

x.foreach(println(_))

x.foreach(println)ã€€&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å¯¹äºæœ€åä¸€ç§è¡¨è¾¾å¼ï¼Œæƒ…å†µæ˜¯ä¸€ä¸ªåªæœ‰ä¸€æ¡è¯­å¥ç»„æˆå¹¶ä¸”æ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°å¯ä»¥ç®€å†™æˆè¿™ç§å½¢å¼ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;2.ç”¨forå¾ªç¯éå†ä¸€ä¸ªé›†åˆ&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Â &lt;span&gt;å¯ä»¥ç”¨forå¾ªç¯éå†ä»»æ„ä¸€ç§Traversableçš„ç±»å‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val fruits = Traversable(&quot;apple&quot;,&quot;orange&quot;,&quot;banana&quot;)
fruits: Traversable[String] = List(apple, orange, banana)

scala&amp;gt; for(i &amp;lt;- fruits) println(i)
apple
orange
banana&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;å¦‚æœç®—æ³•å¾ˆé•¿ï¼Œå¯ä»¥åœ¨forå¾ªç¯çš„ä»£ç å—é‡Œæ‰§è¡Œã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ä¸‹é¢å±•ç¤ºäº†forå¾ªç¯é‡Œä½¿ç”¨è®¡æ•°å™¨çš„å‡ ç§æ–¹å¼ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val fruits = Array(&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;)
fruits: Array[String] = Array(apple, banana, orange)

scala&amp;gt; for(i &amp;lt;- 0 until fruits.size) println(s&quot;$i is ${fruits(i)}&quot;)
0 is apple
1 is banana
2 is orange
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val fruits = Array(&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;)
fruits: Array[String] = Array(apple, banana, orange)

scala&amp;gt; for((elem,count) &amp;lt;- fruits.zipWithIndex){
     | println(s&quot;$count is $elem&quot;)
     | }
0 is apple
1 is banana
2 is orange
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val fruits = Array(&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;)
fruits: Array[String] = Array(apple, banana, orange)

scala&amp;gt; for((elem,count) &amp;lt;- fruits.zip(Stream from 1)){
     | println(s&quot;$count is $elem&quot;)
     | }
1 is apple
2 is banana
3 is orange&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;3.ç”¨zipWithIndexåˆ›å»ºå¾ªç¯è®¡æ•°å™¨&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Â (1)ä»¥foreachçš„å½¢å¼éå†é›†åˆ&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;48&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val days = Array(&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tusday&quot;,&quot;Wednsday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;)
days: Array[String] = Array(Sunday, Monday, Tusday, Wednsday, Thursday, Friday,Saturday)

scala&amp;gt; days.zipWithIndex.foreach{
         | case(day,count) =&amp;gt; println(s&quot;${count+1} is $day&quot;)
         | }
1 is Sunday
2 is Monday
3 is Tusday
4 is Wednsday
5 is Thursday
6 is Friday
7 is Saturday&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;ã€€å¦å¤–çš„ä¸€ç§è¡¨ç¤ºæ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;47&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val days = Array(&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tusday&quot;,&quot;Wednsday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;)
days: Array[String] = Array(Sunday, Monday, Tusday, Wednsday, Thursday, Friday,Saturday)

scala&amp;gt; days.zipWithIndex.foreach{ d=&amp;gt;
         | println(s&quot;${d._2+1} is ${d._1}&quot;)
         | }
1 is Sunday
2 is Monday
3 is Tusday
4 is Wednsday
5 is Thursday
6 is Friday
7 is Saturday&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;(2) ä»¥forçš„å½¢å¼å¾ªç¯éå†&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;48&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val days = Array(&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tusday&quot;,&quot;Wednsday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;)
days: Array[String] = Array(Sunday, Monday, Tusday, Wednsday, Thursday, Friday,Saturday)

scala&amp;gt; for ((day,count) &amp;lt;- days.zipWithIndex){
         | println(s&quot;${count+1} is $day&quot;)
         | }
1 is Sunday
2 is Monday
3 is Tusday
4 is Wednsday
5 is Thursday
6 is Friday
7 is Saturday&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;4.ç”¨zipåˆ›å»ºå¾ªç¯è®¡æ•°å™¨&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Â åœ¨zipä¸­ä½¿ç”¨Streamæ˜¯ä¸€ç§ç”Ÿå­˜è®¡æ•°å™¨çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;48&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val days = Array(&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tusday&quot;,&quot;Wednsday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;)
days: Array[String] = Array(Sunday, Monday, Tusday, Wednsday, Thursday, Friday,Saturday)

scala&amp;gt; for ((day,count) &amp;lt;- days.zip(Stream from 1)){
         | println(s&quot;$count is $day&quot;)
         | }
1 is Sunday
2 is Monday
3 is Tusday
4 is Wednsday
5 is Thursday
6 is Friday
7 is Saturday&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;5.rangeå¾ªç¯è®¡æ•°å™¨&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Â å¦‚æœåªæ˜¯éœ€è¦é‡å¤åšæŸäº‹å¤šæ¬¡ï¼Œå¯ä»¥ç”¨rangeã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val fruits = Array(&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;)
fruits: Array[String] = Array(apple, banana, orange)

scala&amp;gt; for(i &amp;lt;- 0 until fruits.size) {
         | println(s&quot;$i is ${fruits(i)}&quot;)}
0 is apple
1 is banana
2 is orange&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;6.ç”¨reduceæ–¹æ³•éå†é›†åˆ&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;ä½¿ç”¨reduceLeftå’ŒreduceRightæ–¹æ³•æ¥éå†åºåˆ—ä¸­çš„å…ƒç´ ï¼ŒæŠŠç›¸é‚»çš„å…ƒç´ ä¼ ç»™ä½ çš„å‡½æ•°æˆæˆä¸€ä¸ªæ–°çš„ç»“æœï¼Œä¹‹åå’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒåœ¨ç”Ÿæˆæ–°çš„ç»“æœã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;reduceLeftæ–¹æ³•æ˜¯ä»å·¦åˆ°å³éå†ä¸€ä¸ªåºåˆ—ï¼Œåœ¨ç®—æ³•ä¸­é¦–å…ˆä¼šå¯¹å‰ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åè¿”å›ä¸€ä¸ªç»“æœã€‚è¯¥ç»“æœä¼šä¸ç¬¬ä¸‰ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒä¹‹ååœ¨äº§ç”Ÿä¸€ä¸ªæ–°ç»“æœï¼Œæ¥ç€åœ¨äºç¬¬å››ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œä»¥æ­¤ç±»æ¨&lt;/span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;42&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val a = Array(12,3,4,5,67)
a: Array[Int] = Array(12, 3, 4, 5, 67)

scala&amp;gt; a.reduceLeft(_ + _)
res4: Int = 91

scala&amp;gt; a.reduceLeft(_ min _)
res5: Int = 3

scala&amp;gt; a.reduceLeft(_ max _)
res6: Int = 67&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;è¿™é‡Œé¢çš„ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œå®ƒä»¬ä»£è¡¨ä¼ ç»™å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;reduceRightä¸reduceLeftåŒç†çš„ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;7.ç”¨foldæ–¹æ³•éå†é›†åˆ&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Â foldLeftæ–¹æ³•å¦‚åŒreduceLeftï¼Œå®ƒä¼šè®¾ç½®ä¸€ä¸ªç§å­å€¼ç”¨äºç¬¬ä¸€ä¸ªå…ƒç´ ã€‚foldLeftæ¥æ”¶ä¸¤ä¸ªå‚æ•°åˆ—è¡¨ã€‚ç¬¬ä¸€ä¸ªåˆ—è¡¨æœ‰ä¸€ä¸ªå­—æ®µï¼Œç§å­å€¼ã€‚ç¬¬äºŒä¸ªåˆ—è¡¨æ˜¯è¦è¿è¡Œçš„ä»£ç å—ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;41&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&lt;span&gt;scala&amp;gt; val a = Array(12,3,4,5,67)
a: Array[Int] = Array(12, 3, 4, 5, 67)

scala&amp;gt; a.reduceLeft(_ + _)
res8: Int = 91

scala&amp;gt; a.foldLeft(20)(_ + _)
res9: Int = 111&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</description>
<pubDate>Thu, 23 Aug 2018 13:02:00 +0000</pubDate>
<dc:creator>IoTæ…§æ™ºæ˜Ÿ</dc:creator>
<og:description>éå†é›†åˆçš„æ–¹æ³• 1.ç”¨foreachå¾ªç¯éå†ä¸€ä¸ªé›†åˆ foreachæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚å®šä¹‰çš„å‡½æ•°åº”è¯¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œç„¶åä¸è¦è¿”å›ä»»ä½•çš„ä¸œè¥¿ã€‚è¾“å…¥çš„å‚æ•°çš„ç±»å‹åº”è¯¥åŒ¹é…é›†åˆä¸­çš„ç±»å‹ã€‚éšç€fo</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/zhaohadoopone/p/9525317.html</dc:identifier>
</item>
<item>
<title>çæƒœç›¸èšï¼Œäº¦çæƒœç¦»åˆ« - Angel_Kitty</title>
<link>http://www.cnblogs.com/ECJTUACM-873284962/p/9526246.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ECJTUACM-873284962/p/9526246.html</guid>
<description>&lt;p&gt;ç”Ÿå‘½å°±æ˜¯ä¸€åœºç»å†ã€‚æ—¢ç„¶æ˜¯ç»å†ï¼Œå°±æ²¡æœ‰å¥½åï¼Œæ²¡æœ‰è¾“èµ¢ï¼›æ²¡æœ‰æ­£ä¹‰å’Œé‚ªæ¶ï¼Œæ²¡æœ‰çœŸå®å’Œè™šä¼ªï¼›æ²¡æœ‰çœŸå’Œå‡ï¼Œä¹Ÿæ²¡æœ‰å¯¹å’Œé”™ã€‚å½“ç„¶ï¼Œä¹Ÿæ²¡æœ‰ç›¸èšå’Œç¦»åˆ«ã€‚æ¯ä¸€æ¬¡çš„ç¦»åˆ«ï¼Œéƒ½æ˜¯ä¸ºäº†ä¸‹ä¸€æ¬¡çš„ç›¸èšã€‚&lt;/p&gt;
&lt;p&gt;è½¦ç«™ã€æœºåœºï¼Œæ¯å¤©éƒ½åœ¨ä¸Šæ¼”ç€ä¸€åœºåœºçš„æ¥é€çš„å¾®ç”µå½±ï¼Œæœ‰æ¬¢ç¬‘ï¼Œäº¦æœ‰æ³ªæ°´ã€‚æˆ‘ä»¬éƒ½å–œæ¬¢å»è½¦ç«™ã€æœºåœºè¿æ¥ç›¼æœ›å·²ä¹…çš„äººã€‚åŸæ¥è‡ªå·±ä¹Ÿæ˜¯é‚£ä¸ªè¢«çœ·é¡¾çš„äººå•Šã€‚å›é¦–ã€å‘ç°å›æƒ³å¾ˆå¤šã€‚å†å›é¦–ã€å‘ç°å¤±è½æ›´å¤šã€‚ç”Ÿå‘½ä¸­èµ°è¿‡çš„æ¯ä¸€ä¸ªä¸­å¤®ï¼Œæ¯ä¸€ä¸ªäººï¼Œä¹Ÿéƒ½æˆä¸ºäº†é©¿ç«™ã€æˆä¸ºäº†è¿‡å®¢ã€‚ä¸€å‘å–œæ¬¢å›æƒ³ã€å–œæ¬¢å›å¿†ï¼Œå–œæ¬¢ä¸é—å¿˜ã€‚æ›¾ç»ä¹ æ°”äº†è¿™æ ·çš„æ³¢æ¶›ä¸æƒŠï¼Œçºµå®¹ç€æ¼«æ— è¾¹æ²¿çš„å¯‚å¯¥ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº›äººå°±æ˜¯å¦‚æ­¤çš„åˆ»åœ¨æˆ‘ä»¬å¿ƒåº•çš„è®°å¿†é‡Œã€‚å³ä¾¿é—å¿˜äº†å¥¹çš„å£°éŸ³ï¼Œé—å¿˜äº†å¥¹çš„ç¬‘å®¹ï¼Œé—å¿˜äº†å¥¹çš„è„¸åºã€‚ä½†æ˜¯æ¯å½“æƒ³èµ·å¥¹çš„æ—¶å€™ï¼Œé‚£ç§æ„Ÿè§‰æ˜¯æ°¸è¿œä¹Ÿä¸ä¼šæ”¹å˜çš„ï¼Œå³ä¾¿æ˜¯å…‰é˜´çš„æ— æƒ…å†²åˆ·ï¼Œäº¦é›·æ‰“ä¸åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å›æƒ³èµ·å¤ä»¤è¥çš„ç‚¹ç‚¹æ»´æ»´ï¼Œä»æŠ¥ååˆ°å‚åŠ é€‰æ‹”èµ›ï¼ŒçŸ­çŸ­åœ°äºŒåå¤©ï¼Œæˆ‘ä¸ºè¿™ä¸€åˆ»ç–¯ç‹‚çš„å‡†å¤‡ç€ï¼Œåˆ·äº†å¾ˆå¤šå¾ˆå¤šæ°´é¢˜ï¼Œä¹Ÿå­¦åˆ°äº†ä¸å°‘æ–°å§¿åŠ¿ï¼Œæˆ‘ä¹Ÿè®¸æ˜¯é‚£ä¸ªè¢«ä¸Šå¸çœ·é¡¾çš„å­©å­ï¼Œæˆ‘å¾ˆé¡ºåˆ©åœ°è‹Ÿæ´»è¿›å…¥äº†å—å¼€å¤§å­¦å­¦ä¹ ï¼Œå–œæ‚¦ä¹‹æ„Ÿéš¾ä»¥è¨€è¡¨ï¼QAQ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/08/23/5b7e71e61d943.png&quot; alt=&quot;5b7e71e61d943&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯æˆ‘äººç”Ÿç¬¬ä¸€æ¬¡ï¼Œä¸€ä¸ªäººå¼€å§‹äº†æ¼«é•¿çš„åŒ—æ¼‚ä¹‹æ—…ã€‚(çˆ¶æ¯ä¸€ç›´éƒ½å¾ˆæ‹…å¿ƒæˆ‘ï¼Œæ¯•ç«Ÿå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§å•Š)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/08/23/5b7e72ec8ca3b.jpeg&quot; alt=&quot;5b7e72ec8ca3b&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åšå®¢çœŸæ˜¯ä¸ªå¥½ä¸œè¥¿å‘¢ï¼æˆ‘å‘äº†ä¸€æ¡æˆ‘åˆ°å¤©æ´¥æ¥å­¦ä¹ çš„æ¶ˆæ¯åˆ°æœ‹å‹åœˆï¼Œç«‹é©¬æœ‰åšå®¢å›­çš„ç²‰ä¸å›å¤æˆ‘ï¼Œè¿˜ä¸è¿œåƒé‡Œåˆ°å¤©æ´¥å—ç«™æ¥æ¥åº”æˆ‘ï¼Œå¹¶ä¸”é€æˆ‘å»å—å¼€å¤§å­¦ï¼Œè®¤è¯†ä½ ä»¬çœŸå¥½ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/08/23/5b7e76da5e43f.jpeg&quot; alt=&quot;5b7e76da5e43f&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å›æƒ³èµ·åœ¨å—å¼€å­¦ä¹ çš„ç‚¹ç‚¹æ»´æ»´ï¼Œæˆ‘å¾ˆé«˜å…´æˆ‘ç¬¬ä¸€æ¬¡ä¸ºè‡ªå·±çš„äººç”Ÿåšäº†ä¸€æ¬¡é€‰æ‹©ã€‚è¿‡å»çš„æ—¥å­é‡Œï¼Œæˆ‘è§‰å¾—æˆ‘åªæ˜¯æ´»åœ¨èº«è¾¹äººçš„æœŸæœ›ä¸­ï¼Œæœ‰çˆ¶æ¯çš„æœŸæœ›ï¼Œå¸ˆé•¿çš„æœŸæœ›ï¼Œè™½ç„¶çœ‹ä¸Šå»æˆ‘ä¹Ÿä¸è´Ÿä»–ä»¬æ‰€æœ›ï¼Œä½†æˆ‘å´ä¸å¿«ä¹ï¼Œæˆ‘è§‰å¾—å”¯ç‹¬å¿½ç•¥äº†æˆ‘è‡ªå·±ã€‚æˆ‘è‡ªå‘ï¼Œæˆ‘ä½è°ƒï¼Œæˆ‘æƒ³èå…¥å¤§ä¼—ä¸­ï¼Œå› ä¸ºæˆ‘è§‰å¾—è¿™æ ·æœ‰å®‰å…¨æ„Ÿã€‚æˆ‘æ¯”è¾ƒåœ¨æ„åˆ«äººçš„çœ‹æ³•ï¼Œæˆ‘åŠªåŠ›å»è¿åˆåˆ«äººçš„æƒ³æ³•ï¼Œå»åšåˆ«äººçœ¼ä¸­çš„è‡ªå·±ï¼Œæ€»ä¹‹ï¼Œè¿‡çš„å¾ˆç´¯ï¼Œä¸æ´’è„±ã€‚è€Œæ¥åˆ°äº†è¿™é‡Œï¼Œæˆ‘èƒ½å¤Ÿå’Œä¸€ç¾¤å®Œå…¨ä¸è®¤è¯†çš„äººæ‰“æˆäº†ä¸€ç‰‡ï¼Œæˆ‘åœ¨è¿™é‡Œèƒ½å¤Ÿå’Œæ¥è‡ªä¸åŒé«˜æ ¡çš„å¤§å¸ˆå‚…ä»¬ä¸€èµ·äº¤æµå­¦ä¹ ï¼Œèƒ½å¤Ÿè°ˆç¬‘é£ç”Ÿï¼Œè‡³å°‘æˆ‘åœ¨è¿™é‡Œå˜å¾—æ›´åŠ è‡ªä¿¡äº†ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;å’Œé˜Ÿå‹åœ¨ä¸€èµ·å¹¶è‚©ä½œæˆ˜çš„æ„Ÿè§‰çœŸå¥½ï¼Œä¸€èµ·æ‰“æ¯”èµ›ï¼Œä¸€èµ·åšé¢˜ï¼Œä¸€èµ·è®¨è®ºæŠ€æœ¯çŸ¥è¯†ï¼Œç›¸äº’å­¦ä¹ ï¼Œç¬‘è°ˆäººç”Ÿæœªæ¥ï¼Œç¬¬ä¸€æ¬¡æ´»å‡ºäº†çœŸå®çš„è‡ªæˆ‘ï¼ŒåŸæ¥è¿™å°±æ˜¯ä¼™ä¼´ï¼Œè¿™å°±æ˜¯å›¢é˜Ÿå•Šï¼Œè¿™ç§æ„Ÿè§‰çœŸå¥½ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æ‰‹æŒ‡é£è·ƒåœ¨é”®ç›˜ä¸Šï¼Œæˆ‘ä¸çŸ¥é“æˆ‘åœ¨æ•²å‡»ç€é‚£ä¸ªå­—æ¯ï¼Œä¹Ÿè®¸åªæ˜¯éšå¿ƒè€ŒåŠ¨å§ï¼Œæˆ‘åªå–œæ¬¢è·Ÿç€å¿ƒèµ°ã€‚æ”¾çºµç€è‡ªç”±ï¼Œæ”¾çºµç€è‡ªå·±ã€‚æˆ‘å–œæ¬¢è¿™ç§æ„Ÿè§‰ï¼Œå–œæ¬¢æ”¾é£è‡ªç”±çš„æˆ‘ï¼Œå–œæ¬¢å’Œæœ‹å‹ä»¬åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å—å¼€å­¦ä¹ çš„è¿™æ®µæ—¶é—´é‡Œï¼Œæˆ‘æ¥è§¦åˆ°äº†å¤ªå¤šå¤ªå¤šä»¥å‰æ²¡æœ‰æ¥è§¦åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œæ¥åˆ°è¿™é‡Œæˆ‘æ‰å‘ç°æˆ‘å•¥éƒ½ä¸ä¼šï¼Œå•¥éƒ½ä¸æ‡‚ï¼Œå°±æ˜¯ä¸€åªèœé¸Ÿï¼Œæœ€çªå‡ºçš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯çŸ¥è¯†é¢å¤ªçª„äº†ï¼ŒçŸ¥é“çš„ä¸œè¥¿å¤ªå°‘äº†ï¼ŒèŠ±çš„æ—¶é—´è¿˜ä¸å¤Ÿå¤šã€‚æ¥åˆ°è¿™é‡Œï¼Œæˆ‘æ‰çŸ¥é“ï¼Œæ¯”ä½ ä¼˜ç§€çš„äººæ¯”ä½ è¿˜åŠªåŠ›ã€‚æˆ‘ä¹Ÿè§è¯äº†å¤§å¸ˆå‚…ä»¬æ—©ä¸Šæ—©èµ·å åº§ä½ï¼Œç™½å¤©è®¤çœŸå¬è®²ï¼Œæ™šä¸Šç‚¹ç¯ç†¬å¤œçš„åœ¨åšé¢˜ã€‚å†å¯¹æ¯”å¯¹æ¯”è‡ªå·±ï¼Œç®€ç›´æ˜¯åˆæ‡’åˆèœï¼Œå¤§å¸ˆå‚…ä»¬éƒ½é‚£ä¹ˆå¼ºè¿˜è¿™ä¹ˆåŠªåŠ›ï¼Œæˆ‘åˆä½•å°ä¸é€šå®µå­¦ä¹ å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨å—å¼€å­¦ä¹ çš„è¿™æ®µæ—¶é—´é‡Œï¼Œæˆ‘æŠŠæˆ‘å­¦åˆ°çš„ä¸€äº›å§¿åŠ¿æ€»ç»“æˆäº†æ–‡ç« ï¼Œå¾—åˆ°äº†æ¢…å­é…’å¸ˆå‚…å’Œå°è¥¿å¸ˆå‚…ä»¥åŠåœ¨åœºå„ä½çš„è®¤å¯ï¼Œæ–‡ç« è¿˜è¢«ä¸€ä½å¤§å¸ˆå‚…è½¬è½½åˆ°å…¬ä¼—å·ä¸Šå»äº†ï¼Œæˆ‘å¼€å¿ƒåˆ°é£èµ·æ¥äº†ï¼Œå› ä¸ºæˆ‘çŸ¥é“ï¼Œæˆ‘è¿˜æ˜¯ä¸ªå¯å¡‘ä¹‹äººï¼Œæˆ‘æœ‰åšè¿™ä¸€è¡Œçš„æ½œåŠ›å’Œä¿¡å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å—å¼€å­¦ä¹ çš„è¿™æ®µæ—¶é—´é‡Œï¼Œæˆ‘æ¥è§¦åˆ°äº†è®¸å¤šå›½å†…çŸ¥åæˆ˜é˜Ÿçš„å¤§å¸ˆå‚…ä»¬ï¼Œæ¯”å¦‚Blue-Lotusæˆ˜é˜Ÿçš„å°è¥¿å¸ˆå‚…ï¼Œåˆ˜å¸ˆå‚…ç­‰ç­‰ï¼ŒåŒæ—¶åœ¨è¿™é‡Œä¹Ÿåˆ·æ–°äº†æˆ‘çš„ä¸€ä¸ªè§‚å¿µï¼šè¿™äº›ä»£è¡¨å›½å†…é¡¶å°–æ°´å¹³çš„å¤§å¸ˆå‚…ä»¬ï¼Œä¸ºäººéƒ½æŒºå’Œå–„çš„ï¼Œæå€¡å¼€æºå…±äº«ï¼Œä»æ¥æ²¡æœ‰é‚£ç§ç§ä¸èµ·å¼±è€…ä¹‹ç±»çš„ï¼Œæ‰“å¿ƒåº•é‡Œä¸ºä»–ä»¬ç‚¹ä¸ªèµï¼Œæˆ‘ä¹Ÿåœ¨ä¸€ç›´åŠªåŠ›ç€æˆä¸ºåƒä»–ä»¬ä¸€æ ·çš„å¤§å¸ˆå‚…ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å—å¼€å­¦ä¹ çš„è¿™æ®µæ—¶é—´é‡Œï¼Œæˆ‘æœ€æ„Ÿè°¢çš„æ˜¯æˆ‘å¹¶è‚©ä½œæˆ˜çš„ä¸‰ä½é˜Ÿå‹ï¼Œä»–ä»¬ä¸ç¦»ä¸å¼ƒï¼Œéå¸¸è€å¿ƒç»†è‡´åœ°æŒ‡å¯¼æˆ‘ï¼Œæ•™ä¼šäº†æˆ‘è®¸å¤šä¸œè¥¿ï¼Œè®©æˆ‘å¯¹æœªæ¥æœ‰äº†æ›´å‘¨å…¨çš„è€ƒè™‘ï¼Œæˆ‘åœ¨è¿½æ¢¦çš„é“è·¯ä¸Šå¿…å°†èµ°çš„æ›´è¿œã€‚&lt;/p&gt;
&lt;p&gt;å›æƒ³åœ¨è¥åœ°å‘†è¿‡çš„é‚£äº›æ—¥å­ï¼Œè¿™é‡Œç»™æˆ‘ç•™ä¸‹äº†å¤ªå¤šå®è´µçš„å›å¿†ï¼šç¬¬ä¸€æ¬¡ä½“éªŒåˆ°äº†å›¢é˜Ÿçš„åŠ›é‡ï¼Œç¬¬ä¸€æ¬¡åé£æœºï¼Œç¬¬ä¸€æ¬¡å°è¯•äº†ä¸€ä¸‹å¤©æ´¥çš„ç‹—ä¸ç†åŒ…å­(æ—¢ç„¶æ¥åˆ°äº†å¤©æ´¥è‚¯å®šæ˜¯è¦æ¥ç©çš„)ï¼Œç¬¬ä¸€æ¬¡å‚åŠ å›½å®¶å®‰å…¨ä¼šè®®ï¼Œç¬¬ä¸€æ¬¡å»ä¼ä¸šå‚è§‚(360å’Œåä¸ºï¼Œå¿µå¿µä¸å¿˜360çš„é¥­èœ)ï¼Œç¬¬ä¸€æ¬¡é›¶è·ç¦»å’Œå¤§å¸ˆå‚…ä»¬è°ˆç¬‘é£ç”Ÿï¼Œç¬¬ä¸€æ¬¡è®¤è¯†åˆ°äº†è¿™ä¹ˆå¤šå¿—åŒé“åˆçš„å°ä¼™ä¼´ä»¬ï¼Œç¬¬ä¸€æ¬¡å‚åŠ çº¿ä¸‹çš„æ”»é˜²èµ›ï¼Œä½“éªŒäº†è¢«å¤§å¸ˆå‚…ä»¬åŠæ‰“çš„æ„Ÿè§‰......&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/08/23/5b7ea738ccd0d.jpg&quot; alt=&quot;5b7ea738ccd0d&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç»†æƒ³è¿™äº›å¹´ä¸€ä¸ªäººå­¤å•èµ°è¿‡çš„å…‰é˜´ï¼Œæœ‰è¿‡å¾ˆå±¡æ¬¡çš„é”™è¿‡ã€‚èµ°çš„ä¹Ÿæ˜¯æœ‰ä¸€äº›å›°éš¾ï¼Œæœ‰ä¸€äº›ç–²æƒ«ï¼Œæ›´å¤šçš„æ˜¯æ‰§ç€ã€‚å¹´é¾„åœ¨å¢é•¿ï¼Œå¿ƒæ€ä¹Ÿæ—¥è¶‹å¹³å’Œï¼Œä¸èƒ½è¯´æ‚Ÿé€ç”Ÿå‘½ï¼Œå´æ‡‚å¾—äº†çæƒœï¼Œçœ‹ç€èº«è¾¹æœ‰å¾ˆå¤šäººåœ¨å¯»å¯»è§…è§…ï¼Œå¯»è§…å¿«ä¹ï¼Œå¯»è§…å¹¸ç¦ï¼Œå¯»è§…è‡ªæˆ‘çš„ä½ç½®ï¼Œå¯»è§…äººç”Ÿçš„ä»·å€¼ã€‚å³ä¾¿æ²¿é€”ä¸­æœ‰é£é›¨é›·ç”µï¼Œæ²Ÿæ²Ÿååï¼Œå´ä»ç„¶ä¸çŸ¥ç–²å€¦çš„å•ç‹¬ä¸Šè·¯ã€‚è‡ªå·±åˆä½•å°ä¸æ˜¯å¦‚æ­¤å‘¢ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“å‘ç°è‡ªå·±çš„èƒ½åŠ›é©¾é©­ä¸äº†è‡ªå·±çš„ç›®æ ‡æ—¶ï¼Œå¿ƒæƒ…æ€»æ˜¯ä¼šååˆ†çš„ä½è½ï¼Œå¯è¿™åˆèƒ½æ€ªå¾—äº†è°å‘¢ï¼Ÿåªèƒ½æ€ªè‡ªå·±å¤ªæ„šè ¢ï¼Ÿæ€ªè‡ªå·±ä¸å¤ŸåŠªåŠ›ï¼Ÿä¸å…¶è‡ªæˆ‘å°é—­ï¼Œç”Ÿé—·æ°”ï¼Œè¿˜ä¸å¦‚æŠŠå‘ç‰¢éªšçš„æ—¶é—´æ‹¿æ¥æŸ¥æ¼è¡¥ç¼ºï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¸æ˜¯å¤©æ‰ï¼Œæˆ‘ä»¬åªæ˜¯ä¸€ä¸ªæ™®é€šäººï¼Œåªè¦è¶³å¤ŸåŠªåŠ›äº†ï¼Œç»“æœå…¶å®å¹¶ä¸ä¼šå¤ªå·®ï¼Œå½“ä½ è¶³å¤Ÿä¼˜ç§€çš„æ—¶å€™ï¼Œä½ æƒ³è¦çš„éƒ½ä¼šæ¥æ‰¾ä½ ã€‚&lt;/p&gt;
&lt;p&gt;â€é•¿äº­å¤–ï¼Œå¤é“è¾¹ï¼ŒèŠ³è‰ç¢§è¿å¤©ã€‚æ™šé£æ‹‚æŸ³ç¬›å£°æ®‹ï¼Œå¤•é˜³å±±å¤–å±±......â€œï¼Œè€³è¾¹åˆå›å“èµ·ç«¥å¹´æ—¶å€™çš„æ­Œè°£ã€‚ä¸€æ¬¡æ¬¡çš„ç¦»åˆ«ï¼Œè®©æˆ‘äº†è§£äº†ç›¸èšå’Œç¦»åˆ«åªæ˜¯äººç”Ÿçš„ä¸€ç§å¸¸æ€ã€‚æœ‰ç›¸èšï¼Œå°±æœ‰ç¦»åˆ«ï¼›æœ‰ç¦»åˆ«ï¼Œæ‰ä¼šç›¸èšã€‚ç›¸èšç¦»å¼€ï¼Œéƒ½æœ‰æ—¶å€™ã€‚ç¦»åˆ«æ—¶ï¼Œå¿ƒä¸­æ€€ç€ç›¸èšçš„æœŸç›¼ï¼Œç¦»åˆ«å°±ä¸ä¼šå¤ªä¼¤æ„Ÿï¼›ç›¸èšæ—¶ï¼Œå¿ƒä¸­æ€€ç€çæƒœçš„æƒ…æ„«ï¼Œç›¸èšå°±æ›´ä»¤äººæ€€å¿µï¼åŸæ¥ï¼Œç¦»åˆ«ä¹Ÿåªæœ‰ç­‰åˆ°ç›¸èšäº†ï¼Œæ‰å¾—ä»¥åœ†æ»¡ï¼è¿™ä¸€æ¬¡çš„ç¦»åˆ«æ˜¯ä¸ºäº†ä¸‹ä¸€æ¬¡çš„ç›¸èšã€‚æˆ‘ä»¬è¯¥çæƒœæ¯ä¸€æ¬¡çš„ç›¸èšï¼Œäº¦çæƒœæ¯ä¸€æ¬¡çš„ç¦»åˆ«ï¼&lt;/p&gt;
&lt;p&gt;ä¸€åˆ‡åˆæ¢å¤åˆ°äº†å¾€å¸¸çš„å®é™ï¼Œæ­¤åˆ»ï¼Œæ·±å¤œæ¥ä¸´ï¼Œå¾ˆå–œæ¬¢è¿™æ ·é™è°§çš„å…‰é˜´ï¼Œé™é™çš„ååœ¨ç”µè„‘å‰ã€‚åˆä¸Šçš„é—¨çª—ï¼Œéš”ç»è¿™ä¸ªåŸå¸‚çš„å–§åš£ä¸é…·æš‘çš„ä¾µè¢­ã€‚åœ¨å²æœˆçš„é•¿æ²³ä¸­ï¼Œç›¸å®ˆä¸€ä»½æ¸©æƒ…ã€ä¸€ä»½äº†è§£ã€ä¸€ä»½å®½å®¹ã€ä¸€ä»½é»˜å¥‘ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 23 Aug 2018 12:51:00 +0000</pubDate>
<dc:creator>Angel_Kitty</dc:creator>
<og:description>çæƒœç›¸èšï¼Œäº¦çæƒœç¦»åˆ« ç”Ÿå‘½å°±æ˜¯ä¸€åœºç»å†ã€‚æ—¢ç„¶æ˜¯ç»å†ï¼Œå°±æ²¡æœ‰å¥½åï¼Œæ²¡æœ‰è¾“èµ¢ï¼›æ²¡æœ‰æ­£ä¹‰å’Œé‚ªæ¶ï¼Œæ²¡æœ‰çœŸå®å’Œè™šä¼ªï¼›æ²¡æœ‰çœŸå’Œå‡ï¼Œä¹Ÿæ²¡æœ‰å¯¹å’Œé”™ã€‚å½“ç„¶ï¼Œä¹Ÿæ²¡æœ‰ç›¸èšå’Œç¦»åˆ«ã€‚æ¯ä¸€æ¬¡çš„ç¦»åˆ«ï¼Œéƒ½æ˜¯ä¸ºäº†ä¸‹ä¸€æ¬¡çš„ç›¸èšã€‚ è½¦ç«™ã€</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/ECJTUACM-873284962/p/9526246.html</dc:identifier>
</item>
</channel>
</rss>