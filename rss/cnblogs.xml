<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>åœ¨ ubuntu20 ä¸Šå®‰è£… docker - é«˜æ–¹ä¹Ÿ</title>
<link>http://www.cnblogs.com/gaofangye/p/12812486.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/gaofangye/p/12812486.html</guid>
<description>&lt;h2 id=&quot;æ›´æ–°-apt-get-æº&quot;&gt;æ›´æ–° apt-get æº&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get update
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®‰è£…åŒ…å…è®¸-apt-get-é€šè¿‡-https-ä½¿ç”¨ä»“åº“&quot;&gt;å®‰è£…åŒ…å…è®¸ apt-get é€šè¿‡ https ä½¿ç”¨ä»“åº“&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get install apt-transport-https ca-certificates curl software-properties-common
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ·»åŠ -docker-å®˜æ–¹-gpg-key&quot;&gt;æ·»åŠ  docker å®˜æ–¹ GPG key&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è®¾ç½®-docker-ç¨³å®šç‰ˆä»“åº“&quot;&gt;è®¾ç½® docker ç¨³å®šç‰ˆä»“åº“&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è®¾ç½®å®Œæ¯•ä»“åº“ï¼Œé‡æ–°æ›´æ–°æº&quot;&gt;è®¾ç½®å®Œæ¯•ä»“åº“ï¼Œé‡æ–°æ›´æ–°æº&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get update
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ›´æ–°ä¸Šé¢çš„æºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯&quot;&gt;æ›´æ–°ä¸Šé¢çš„æºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;è·å–:1 http://security.ubuntu.com/ubuntu focal-security InRelease [107 kB]                                                                                                   
å¿½ç•¥:2 https://download.docker.com/linux/ubuntu focal InRelease                                                                                                                          
é”™è¯¯:3 https://download.docker.com/linux/ubuntu focal Release                                                                                              
  404  Not Found [IP: 13.225.103.65 443]
å‘½ä¸­:4 http://mirrors.163.com/ubuntu focal InRelease                                                                                  
å‘½ä¸­:5 http://mirrors.163.com/ubuntu focal-updates InRelease                                                                          
å‘½ä¸­:6 http://mirrors.163.com/ubuntu focal-backports InRelease                                                 
å¿½ç•¥:7 http://dl.google.com/linux/chrome/deb stable InRelease                                     
å‘½ä¸­:8 http://dl.google.com/linux/chrome/deb stable Release                  
å‘½ä¸­:9 http://archive.ubuntukylin.com:10006/ubuntukylin trusty InRelease
æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ                                                                                                                                                                                  
E: ä»“åº“ â€œhttps://download.docker.com/linux/ubuntu focal Releaseâ€ æ²¡æœ‰ Release æ–‡ä»¶ã€‚
N: æ— æ³•å®‰å…¨åœ°ç”¨è¯¥æºè¿›è¡Œæ›´æ–°ï¼Œæ‰€ä»¥é»˜è®¤ç¦ç”¨è¯¥æºã€‚
N: å‚è§ apt-secure(8) æ‰‹å†Œä»¥äº†è§£ä»“åº“åˆ›å»ºå’Œç”¨æˆ·é…ç½®æ–¹é¢çš„ç»†èŠ‚ã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å¤„ç†æ–¹æ³•&quot;&gt;å¤„ç†æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&quot;åœ¨-etcaptsourcelist-æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹é…ç½®&quot;&gt;åœ¨ /etc/apt/source.list æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹é…ç½®&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å†æ¬¡æ›´æ–°æº&quot;&gt;å†æ¬¡æ›´æ–°æº&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get update
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯&quot;&gt;å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;è·å–:1 http://security.ubuntu.com/ubuntu focal-security InRelease [107 kB]                                                                                                   
è·å–:2 https://download.docker.com/linux/ubuntu bionic InRelease [64.4 kB]                                                                                                               
å‘½ä¸­:3 http://mirrors.163.com/ubuntu focal InRelease                                                                                                                                     
å‘½ä¸­:4 http://mirrors.163.com/ubuntu focal-updates InRelease                                                                          
å‘½ä¸­:5 http://mirrors.163.com/ubuntu focal-backports InRelease                                                                      
å¿½ç•¥:6 http://dl.google.com/linux/chrome/deb stable InRelease                                                                       
å‘½ä¸­:7 http://dl.google.com/linux/chrome/deb stable Release                                       
å‘½ä¸­:8 http://archive.ubuntukylin.com:10006/ubuntukylin trusty InRelease                          
å¿½ç•¥:10 https://download.docker.com/linux/ubuntu focal InRelease             
è·å–:11 https://download.docker.com/linux/ubuntu bionic/stable amd64 Packages [11.0 kB]
é”™è¯¯:12 https://download.docker.com/linux/ubuntu focal Release                  
  404  Not Found [IP: 13.225.103.32 443]
æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ                                                                                                                                                                                  
E: ä»“åº“ â€œhttps://download.docker.com/linux/ubuntu focal Releaseâ€ æ²¡æœ‰ Release æ–‡ä»¶ã€‚
N: æ— æ³•å®‰å…¨åœ°ç”¨è¯¥æºè¿›è¡Œæ›´æ–°ï¼Œæ‰€ä»¥é»˜è®¤ç¦ç”¨è¯¥æºã€‚
N: å‚è§ apt-secure(8) æ‰‹å†Œä»¥äº†è§£ä»“åº“åˆ›å»ºå’Œç”¨æˆ·é…ç½®æ–¹é¢çš„ç»†èŠ‚ã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œä¸Šé¢çš„-11-å·²ç»æ˜¯æˆåŠŸçš„ï¼Œ12-æ˜¯é”™è¯¯çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å…¶-etcaptsourcelist-ä¸­åˆ é™¤æ‰æŠ¥é”™å¯¹åº”çš„å†…å®¹&quot;&gt;å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œä¸Šé¢çš„ 11 å·²ç»æ˜¯æˆåŠŸçš„ï¼Œ12 æ˜¯é”™è¯¯çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å…¶ /etc/apt/source.list ä¸­åˆ é™¤æ‰æŠ¥é”™å¯¹åº”çš„å†…å®¹&lt;/h3&gt;
&lt;h2 id=&quot;å†æ¬¡æ›´æ–°æº-2&quot;&gt;å†æ¬¡æ›´æ–°æº&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get update
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®‰è£…æœ€æ–°çš„-docker-ce&quot;&gt;å®‰è£…æœ€æ–°çš„ docker-ce&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo apt-get install docker-ce
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;é¿å…æ¯æ¬¡ä½¿ç”¨-docker-å‘½ä»¤éƒ½éœ€è¦åŠ ä¸Š-sudo&quot;&gt;é¿å…æ¯æ¬¡ä½¿ç”¨ docker å‘½ä»¤éƒ½éœ€è¦åŠ ä¸Š sudo&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo usermod -a -G docker $USER
or
sudo usermod -aG docker $USER
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;é‡å¯ç³»ç»Ÿ&quot;&gt;é‡å¯ç³»ç»Ÿ&lt;/h2&gt;
</description>
<pubDate>Fri, 01 May 2020 00:34:00 +0000</pubDate>
<dc:creator>é«˜æ–¹ä¹Ÿ</dc:creator>
<og:description>æ­¥éª¤å¦‚ä¸‹ æ›´æ–° apt get æº å®‰è£…åŒ…å…è®¸ apt get é€šè¿‡ https ä½¿ç”¨ä»“åº“ æ·»åŠ  docker å®˜æ–¹ GPG key è®¾ç½® docker ç¨³å®šç‰ˆä»“åº“ è®¾ç½®å®Œæ¯•ä»“åº“ï¼Œé‡æ–°æ›´æ–°æº æ›´æ–°ä¸Šé¢</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/gaofangye/p/12812486.html</dc:identifier>
</item>
<item>
<title>Blazor WebAssembly 3.2.0 æ­£å¼èµ·é£ï¼Œblazor é€‚åˆä½ å—ï¼Ÿ - å¼ å–„å‹</title>
<link>http://www.cnblogs.com/shanyou/p/12774965.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/shanyou/p/12774965.html</guid>
<description>&lt;p&gt;æœ€è¿‘blazoræ›´æ–°å¾ˆå¿«ï¼Œä»Šå¤©åœ¨å®˜æ–¹åšå®¢ä¸Šå‘å¸ƒäº†&lt;a href=&quot;https://www.cnblogs.com/shanyou/p/12765062.html&quot;&gt;Blazor WebAssembly 3.2.0&lt;/a&gt; RCï¼š&lt;a href=&quot;https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-release-candidate-now-available/&quot;&gt;https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-release-candidate-now-available/&lt;/a&gt; ï¼Œè¿™æ˜¯æœ€åä¸€æ¬¡é¢„è§ˆç‰ˆäº†ï¼ŒåŠŸèƒ½å¼€å‘éƒ½å·²ç»å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2020.cnblogs.com/blog/510/202005/510-20200501074403141-973434682.png&quot;&gt;&lt;img width=&quot;535&quot; height=&quot;480&quot; title=&quot;image&quot; alt=&quot;image&quot; src=&quot;https://img2020.cnblogs.com/blog/510/202005/510-20200501074403828-1822534477.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5.19çš„å¾®è½¯Buildå¤§ä¼šä¸Šå°±æ­£å¼å‘å¸ƒäº†ï¼Œæˆ‘æœ€è¿‘ä¹Ÿåœ¨ç§¯æçš„ç ”ç©¶å­¦ä¹ blazorï¼Œåœ¨åšå®¢å’Œå…¬ä¼—å·å‘äº†å‡ ç¯‡æœ€æ–°ç‰ˆæœ¬å‘å¸ƒçš„æ–‡ç« ï¼Œåœ¨è¯„è®ºåŒºè¿˜æ˜¯å¾®ä¿¡ç¾¤ï¼Œæœ‰äººé—®æˆ‘ï¼Œä¸ºä»€ä¹ˆä½ å¯¹blazorå¦‚æ­¤çƒ­æƒ…ï¼Œè¿™äº›åŒå­¦éƒ½åœ¨ä½¿ç”¨vue/angular/reactç­‰å‰ç«¯æ¡†æ¶ï¼Œblazoræ­£å¥½æ˜¯åˆ©ç”¨WebAssembly å¼€å‘çš„å‰ç«¯æ¡†æ¶ï¼Œç¼–ç¨‹è¯­è¨€ä»jså˜æˆäº†c#ï¼Œ æˆ‘è§‰å¾—å¦‚æœæ‚¨å¯¹ä½ çš„å‰ç«¯æŠ€æœ¯æ ˆæ„Ÿåˆ°æ»¡æ„ï¼Œä½ å¯ä»¥ç»§ç»­ä½¿ç”¨ç°åœ¨ä½ æ‰€ç”¨çš„æ¡†æ¶ç»§ç»­å‰è¿›ï¼Œä¹Ÿè®¸blazorå¹¶ä¸é€‚åˆä½  ï¼Œå·§çš„æ˜¯æœ€è¿‘vue3 ä¹Ÿå‘å¸ƒäº†betaç‰ˆæœ¬ï¼Œvue3 è¦çœŸæ­£æ™®åŠä¹Ÿæ˜¯éœ€è¦è‡³å°‘ä¸€å¹´çš„æ—¶é—´ï¼Œblazor å¯ä»¥å……åˆ†çš„å¸æ”¶å‰ç«¯æŠ€æœ¯æ ˆçš„ç²¾åï¼Œä¸ºæˆ‘æ‰€ç”¨ï¼Œæˆ‘å°†åœ¨æ–‡ç« çš„æœ«å°¾åˆ—å‡ºä¸€äº›blazor å¸æ”¶å‰ç«¯æŠ€æœ¯åœˆçš„æˆæœçš„å¼€æºé¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;blazoré€‚ç”¨äºç¼–å†™å†…éƒ¨åº”ç”¨ç¨‹åºï¼Œä¼ä¸šåº”ç”¨å¼€å‘äººå‘˜å¼€å‘çš„B2Bå’ŒB2Cçš„åº”ç”¨ç¨‹åºéƒ½é€‚åˆä½¿ç”¨blazorå¼€å‘ï¼Œç°åœ¨å·²ç»æœ‰å¾ˆå¤šä¼ä¸šåº”ç”¨å¼€å‘äººå‘˜æ¥å—äº†JavaScriptï¼Œè¿˜æœ‰è®¸å¤šä¼ä¸šå¼€å‘äººå‘˜æ²¡æœ‰ï¼Œç‰¹åˆ«æ˜¯winformï¼Œwpf ç­‰å¼€å‘äººå‘˜ï¼Œä»–ä»¬ç‰¹åˆ«å¸Œæœ›èƒ½å¤Ÿé«˜æ•ˆçš„çš„å®Œæˆå¼€å‘å·¥ä½œï¼Œè¿™é‡Œé¢æœ‰å¾ˆå¤šçš„å¼€å‘äººå‘˜éƒ½å¾ˆè®¤åŒSliverlight æ˜¯ä»–ä»¬äº¤ä»˜Webåº”ç”¨ç¨‹åºçš„æ·å¾„ï¼Œä¸€æœè¢«è›‡å’¬ï¼Œåå¹´æ€•äº•ç»³ï¼Œæœ‰äººè®¤ä¸ºblazor åªæ˜¯ Silverlight vNextã€‚æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç›¸ä¿¡å¾®è½¯è¿™æ¬¡ä¸ä¼šæ€æ­»å®ƒï¼Ÿè¿™ç§è§‚ç‚¹å¯ä»¥ç†è§£ï¼Œä½†æ˜¯å°†blazor çš„æœªæ¥ä¸Sliverlightçš„è¿‡å»æ··ä¸ºä¸€è°ˆæ˜¯è’è°¬çš„ã€‚&lt;/p&gt;
&lt;p&gt;Silverlightæ˜¯æµè§ˆå™¨æ’ä»¶æ¨¡å‹çš„ç‰ºç‰²å“ã€‚2010å¹´Flashæ˜¯æµè§ˆå™¨ä¸Šéå¸¸æµè¡Œçš„æ’ä»¶ï¼Œå²è’‚å¤«-ä¹”å¸ƒæ–¯ï¼ˆSteve Jobsï¼‰æ€æ­»äº†ä»–ï¼ŒiOSè®¾å¤‡ä¸Šä¸æ”¯æŒFlashï¼Œå½“æ—¶Silverlight ä¹Ÿæ˜¯å¦‚æ—¥ä¸­å¤©ï¼Œå¾®è½¯äº²æ‰‹æ€æ­»äº†å®ƒï¼Œæ‹¥æŠ±äº†Html5è¿™ç§æ— æ’ä»¶æ¨¡å‹ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œblazoræ˜¯åœ¨WebAssemblyæ ‡å‡†ä¹‹ä¸‹çš„ç°ä»£æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ¯ä¸ªä¸»æµæµè§ˆå™¨ï¼ˆIE11é™¤å¤–ï¼‰ï¼Œç”šè‡³æ˜¯iOSè®¾å¤‡ä¸Šçš„Safari éƒ½æ”¯æŒblazorï¼Œè¿™é‡Œè¦åæ§½ä¸‹å¾®ä¿¡é‡Œé¢çš„å“ªä¸ªæµè§ˆå™¨è²Œä¼¼æ”¯æŒä¸å¤ªå¥½ã€‚æˆ‘ä»¬å¯ä»¥å°†WebAssemblyè§†ä¸ºåœ¨JavaScriptè¿è¡Œæ‰€åœ¨çš„æ²™ç®±ä¸­è¿è¡Œçš„äºŒè¿›åˆ¶ç¼–è¯‘ä»£ç ï¼Œblazor æ­£å¼å€ŸåŠ©äºWebAssembly å®ç°äº†å°†.NET è¿è¡Œæ—¶è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚è¿™ä¸ªè¿è¡Œæ—¶å¤„ç† JavaScript äº’æ“ä½œï¼Œå¹¶æä¾›åŸºæœ¬æœåŠ¡ï¼ˆå¦‚åƒåœ¾å›æ”¶ï¼‰å’Œæ›´é«˜çº§åˆ«çš„åŠŸèƒ½ï¼ˆå¸ƒå±€ã€è·¯ç”±å’Œç”¨æˆ·ç•Œé¢å°éƒ¨ä»¶ç­‰ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œblazorä½¿ç”¨äº†ä¸€ä¸ªé©»ç•™åœ¨å¦ä¸€ä¸ªè™šæ‹Ÿæœºä¸­çš„è™šæ‹Ÿæœºï¼Œå ªç§°ã€Šç›—æ¢¦ç©ºé—´ã€‹çº§åˆ«çš„æ‚–è®ºï¼Œä¹Ÿæ˜¯ä¸€ç§åœ¨æµè§ˆå™¨ä¸­è¿è¡Œé JavaScript åº”ç”¨ç¨‹åºæ¡†æ¶çš„å·§å¦™æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œæ—¶ä½¿å¾—blazor å’Œ WebAssembly ä¸Šè¿è¡Œçš„å…¶ä»–è¯­è¨€ä¸ä¼—ä¸åŒï¼ŒMonoCLR ç¼–è¯‘ä¸ºWebAssemblyã€‚ä»»ä½•.NET Standard 2.1çš„ä»£ç éƒ½å¯ä»¥åœ¨ä¸Šé¢è¿è¡Œï¼Œè¿™æ ·å°±å¯ä»¥æŠŠ.NETç”Ÿæ€çš„å¤§é‡åº“å¸¦åˆ°å‰ç«¯å¼€å‘ï¼Œå…¶ä»–çš„è¯­è¨€åªå®ç°äº†ç›´æ¥ç¼–è¯‘ä¸ºWebAssemblyï¼Œblazorå½“å‰åˆ©ç”¨WebAssembly çš„ä¸€ä¸ªç‹¬ç‰¹åˆ›æ–°ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œè¿˜æ²¡æœ‰ä¸€ä¸ªç±»ä¼¼äºblazorè¿™æ ·çš„WebAssemblyè¿è¡Œæ—¶å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;blazor çœŸæ­£æ˜¯ä¸€ä¸ªç»„ä»¶æ¨¡å‹ï¼Œç»„ä»¶æ¨¡å‹ä¹Ÿå¾ˆä¼˜é›…ï¼Œblazorçš„ç»‘å®šæ¨¡å‹ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚äº‹ä»¶æ¨¡å‹å’Œæ ‡å‡†çš„C# ä¸€æ ·ï¼Œéšç€è¯¸å¦‚DevExpressã€Telerikã€Radzenã€Syncfusionç­‰æ§ä»¶å‚å•†æä¾›äº†å¤§é‡çš„æ§ä»¶ï¼Œä¼ä¸šåº”ç”¨å¼€å‘äººå‘˜æœ‰ç†ç”±å¼€å§‹blazorä¹‹æ—…ã€‚&lt;code&gt;InfoQçš„ä¸€ç¯‡æ–‡ç« ã€Š&lt;a href=&quot;https://www.infoq.cn/article/po1Eiy9vERsOUtHEyxtg&quot;&gt;Mono ç°çŠ¶ä¸æœªæ¥ï¼š ä» Xamarin åˆ° WebAssemblyã€Blazor åŠ.NET 5&lt;/a&gt;ã€‹æœ‰åŠ©äºå¤§å®¶ç†è§£blazorå’Œ.NETçš„å…³ç³»ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æˆ‘è¿™é‡Œä¹ŸæœŸæœ›JavaScriptçš„å¼€å‘åŒå­¦ä¸€èµ·æ¥ä½¿ç”¨è¿™é¡¹åˆ›æ–°çš„å‰ç«¯å¼€å‘æ¡†æ¶ï¼Œäººä»¬ç»å¸¸è¯´ï¼ŒWebAssembly å¹¶ä¸æ˜¯ç”¨æ¥ä»£æ›¿ JavaScript çš„ã€‚ä½†è¿™å¥è¯å¯¹æ‰€æœ‰é©å‘½æ€§å¹³å°éƒ½æ˜¯ä¸€æ ·çš„ã€‚JavaScript å½“åˆå¹¶ä¸æ˜¯è¦å–ä»£åµŒå…¥æµè§ˆå™¨çš„ Javaã€‚Web åº”ç”¨ç¨‹åºå¹¶éæ—¨åœ¨æ›¿ä»£æ¡Œé¢åº”ç”¨ã€‚ä½†ä¸€æ—¦èƒ½åšåˆ°è¿™äº›ï¼Œå®ƒä»¬å¿…ç„¶ä¼šèµ°ä¸Šé‚£æ¡è·¯ã€‚ åœ¨ç¤¾åŒºä¹Ÿå‡ºç°äº†å¤§é‡çš„blazor å¼€æºé¡¹ç›®ï¼Œè¿™é¡¹å¼€æºé¡¹ç›®éƒ½æ˜¯æ€¥éœ€å‰ç«¯å¼€å‘åŒå­¦çš„å‚ä¸ï¼š&lt;/code&gt;&lt;/p&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li&gt;å¼€æºé¡¹ç›® ant-design-blazorï¼Œç›®æ ‡æ˜¯æˆä¸ºAnt Designå®˜æ–¹è®¤å¯çš„Blazorå®ç°ï¼Œå¹¶ä¸°å¯ŒBlazorç”Ÿæ€&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;p&gt;Githubï¼š&lt;a href=&quot;https://github.com/ElderJames/ant-design-blazor&quot;&gt;https://github.com/ElderJames/ant-design-blazor&lt;/a&gt;&lt;br/&gt;Demoï¼š&lt;a href=&quot;https://ant-design-blazor.gitee.io&quot;&gt;https://ant-design-blazor.gitee.io&lt;/a&gt;&lt;br/&gt;å¼€å‘æ–‡æ¡£ï¼š&lt;a href=&quot;https://github.com/ElderJames/ant-design-blazor/wiki&quot;&gt;https://github.com/ElderJames/ant-design-blazor/wiki&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Bootstrap æ˜¯ BlazoråŸºäºBootstrap ï¼Œè¿™ä¸ªUIåº“ç›®å‰åªæœ‰æœåŠ¡å™¨ç«¯ï¼Œå®¢æˆ·ç«¯wasmæ¨¡å¼ç­‰æ­£å¼ç‰ˆå‡ºæ¥ä¼šæ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â Â Â Â Â Â  ä»“åº“åœ°å€ï¼š&lt;a href=&quot;https://gitee.com/LongbowEnterprise/BootstrapBlazor&quot;&gt;https://gitee.com/LongbowEnterprise/BootstrapBlazor&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â  æ¼”ç¤ºåœ°å€ï¼š&lt;a href=&quot;https://www.cnblogs.com/shanyou/p/%20http://blazor.sdgxgz.com&quot;&gt;blazor.sdgxgz.com&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;BlazuiÂ  Elementçš„blazorç‰ˆæœ¬ï¼Œç”¨ .NET å†™å‰ç«¯çš„ UI æ¡†æ¶&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â Â Â Â Â Â  ä»“åº“åœ°å€ï¼š&lt;a href=&quot;https://github.com/wzxinchen/Blazui&quot;&gt;https://github.com/wzxinchen/Blazui&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â  æ¼”ç¤ºåœ°å€ &lt;a href=&quot;http://blazui.com:9000&quot;&gt;http://blazui.com:9000&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Blazorise æ˜¯ä¸€ä¸ªç»„ä»¶åº“ï¼ŒåŸºäº åƒBootstrap, Bulma å’ŒMaterial ç­‰CSS frameworks&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â Â Â Â Â  githubï¼š&lt;a href=&quot;https://github.com/stsrki/Blazorise&quot;&gt;https://github.com/stsrki/Blazorise&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;Â Â Â Â Â  å®˜ç½‘ï¼š&lt;a href=&quot;https://blazorise.com/&quot;&gt;https://blazorise.com/&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Skclusive-UI Component library for Blazor using Material Design.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â Â Â Â Â  githubï¼š &lt;a href=&quot;https://github.com/skclusive/Skclusive.Material.Component&quot;&gt;https://github.com/skclusive/Skclusive.Material.Component&lt;/a&gt;Â Â Â &lt;/p&gt;
&lt;p&gt;Â Â Â Â Â  githubï¼š&lt;a href=&quot;https://github.com/SamProf/MatBlazor&quot;&gt;https://github.com/SamProf/MatBlazor&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;githubçš„ä»“åº“ï¼š &lt;a href=&quot;https://github.com/AdrienTorris/awesome-blazor&quot;&gt;https://github.com/AdrienTorris/awesome-blazor&lt;/a&gt; æ”¶é›†äº†æ›´å…¨é¢çš„blazor å’Œwebassemblyç›¸å…³çš„èµ„æ–™ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 23:44:00 +0000</pubDate>
<dc:creator>å¼ å–„å‹</dc:creator>
<og:description>æœ€è¿‘blazoræ›´æ–°å¾ˆå¿«ï¼Œä»Šå¤©åœ¨å®˜æ–¹åšå®¢ä¸Šå‘å¸ƒäº†Blazor WebAssembly 3.2.0 RCï¼šhttps://devblogs.microsoft.com/aspnet/blazor-web</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/shanyou/p/12774965.html</dc:identifier>
</item>
<item>
<title>æ•°æ®æŒ–æ˜å…¥é—¨ç³»åˆ—æ•™ç¨‹ï¼ˆåä¸€ç‚¹äº”ï¼‰ä¹‹CNNç½‘ç»œä»‹ç» - æ®µå°è¾‰</title>
<link>http://www.cnblogs.com/xiaohuiduan/p/12812288.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xiaohuiduan/p/12812288.html</guid>
<description>&lt;p&gt;åœ¨å‰é¢çš„ä¸¤ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†DNNï¼ˆæ·±åº¦ç¥ç»ç½‘ç»œï¼‰å¹¶ä½¿ç”¨keraså®ç°äº†ä¸€ä¸ªç®€å•çš„DNNã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­å°†ä»‹ç»CNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰ï¼Œç„¶ååœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­å°†ä½¿ç”¨kerasæ„å»ºä¸€ä¸ªç®€å•çš„CNNï¼Œå¯¹&lt;code&gt;cifar10&lt;/code&gt;æ•°æ®é›†è¿›è¡Œåˆ†ç±»é¢„æµ‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;cnnç®€ä»‹&quot;&gt;CNNç®€ä»‹&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦å¯¹äººè¿›è¡Œè¯†åˆ«åˆ†ç±»ï¼Œæ ¹æ®æˆ‘ä»¬äººç±»çš„æ€ç»´ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯æ¯”è¾ƒä»–çš„ğŸ‘€æ˜¯ä¸æ˜¯ä¸€æ ·çš„ï¼ŒğŸ‘ƒæ˜¯ä¸æ˜¯ä¸€æ ·å¤§å°ï¼Œæ˜¯ä¸æ˜¯åŒï¼ˆor ä¸‰ï¼‰ä¸‹å·´ã€‚æ¢å¥è¯æ¥è¯´ï¼Œæˆ‘ä»¬çš„åˆ¤æ–­æ ‡å‡†æ˜¯ä¸€ä¸ªå¯è§†çš„èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;CNNå°±æ˜¯å—åˆ°äº†äººç±»è§†è§‰ç¥ç»ç³»ç»Ÿçš„å¯å‘ï¼Œä½¿ç”¨å·ç§¯æ ¸æ¥ä»£æ›¿äººç±»ä¸­çš„è§†é‡ï¼Œè¿™æ ·æ—¢èƒ½å¤Ÿé™ä½è®¡ç®—é‡ï¼Œåˆèƒ½å¤Ÿæœ‰æ•ˆçš„ä¿ç•™å›¾åƒçš„ç‰¹å¾ï¼ŒåŒæ—¶å¯¹å›¾ç‰‡çš„å¤„ç†æ›´åŠ çš„é«˜æ•ˆã€‚æˆ‘ä»¬å¯ä»¥æƒ³ä¸€æƒ³å‰é¢ä»‹ç»çš„DNNç½‘ç»œï¼Œå®ƒæ˜¯å°†ä¸€ä¸ªä¸€ä¸ªçš„åƒç´ ç‚¹è¿›è¡Œè®¡ç®—çš„ï¼Œæ¯‹åº¸ç½®ç–‘ï¼Œè¿™æ ·å¿…ç„¶ä¼šå¸¦æ¥å‚æ•°çš„è†¨èƒ€ï¼Œæ¯”å¦‚è¯´cifar-10ä¸­ä¸€å¼ 32*32*3çš„å›¾åƒï¼Œç¬¬ä¸€ä¸ªéšè—å±‚çš„ä¸­çš„å•ä¸ªç¥ç»å…ƒå°±æœ‰&lt;span class=&quot;math inline&quot;&gt;\(32 \times 32 \times 3 = 3072\)&lt;/span&gt;ä¸ªæƒé‡ï¼Œä¼¼ä¹æŒºå°çš„ï¼Œä½†æ˜¯å¦‚æœå›¾ç‰‡çš„åƒç´ å†å¤§ä¸€ç‚¹ï¼Œåˆ™å‚æ•°ä¼šé£é€ŸçŒ›å¢ï¼ŒåŒæ—¶å‚æ•°å¢åŠ çš„åŒæ—¶å°±ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯æˆ‘ä½¿ç”¨DNNç½‘ç»œå»è®­ç»ƒcifar-10å¾—åˆ°çš„ç»“æœï¼Œå¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°è¿‡æ‹Ÿåˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010630808-1216210410.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è€ŒCNNå°±æ˜¯å°†DNNä¸­å¤æ‚çš„é—®é¢˜ç®€å•åŒ–ï¼ˆå®é™…ä¸Šæ›´å¤æ‚ï¼Œä½†æ˜¯å‚æ•°ç®€å•åŒ–äº†ï¼‰ã€‚è¿™é‡Œå€Ÿç”¨&lt;a href=&quot;https://easyai.tech/ai-definition/cnn/&quot;&gt;Easyai&lt;/a&gt;çš„å‡ å¼ å›¾å’Œå‡ æ®µè¯ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œæœ‰âšªæ˜¯1ï¼Œå¦åˆ™å°±æ˜¯0ï¼Œâšªçš„ä½ç½®ä¸åŒï¼Œäº§ç”Ÿçš„æ•°æ®ä¹Ÿå°±ä¸åŒï¼Œä½†æ˜¯ä»è§†è§‰çš„è§’åº¦ä¸Šé¢æ¥è¯´ï¼Œä¸¤å¼ å›¾çš„å†…å®¹æ˜¯å·®ä¸å¤šçš„ï¼Œåªåœ¨äºâšªçš„ä½ç½®çš„ä¸åŒç½¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010631031-1643187444.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è€Œ CNN è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–ç”¨ç±»ä¼¼è§†è§‰çš„æ–¹å¼ä¿ç•™äº†å›¾åƒçš„ç‰¹å¾ï¼Œå½“å›¾åƒåšç¿»è½¬ï¼Œæ—‹è½¬æˆ–è€…å˜æ¢ä½ç½®æ—¶ï¼Œå®ƒä¹Ÿèƒ½æœ‰æ•ˆçš„è¯†åˆ«å‡ºæ¥æ˜¯ç±»ä¼¼çš„å›¾åƒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€å¼ æ¥è‡ªcs231nä¸­ä¸€å¼ è¯†åˆ«æ±½è½¦çš„å›¾ï¼Œä½¿ç”¨çš„æ˜¯CNNç½‘ç»œï¼Œé‡Œé¢åŒ…å«äº†CNNç½‘ç»œçš„ç½‘ç»œå±‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010631384-847965261.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå›¾ä¸­çš„CNNç½‘ç»œä¸­ï¼Œç½‘ç»œå±‚æœ‰ä¸€ä¸‹ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;CONVï¼šå·ç§¯å±‚ï¼Œè¿›è¡Œå·ç§¯è®¡ç®—ç„¶åæ±‚å’Œã€‚&lt;/li&gt;
&lt;li&gt;Reluï¼šæ¿€åŠ±å±‚ï¼Œæ¿€åŠ±å‡½æ•°ä¸ºRelu&lt;/li&gt;
&lt;li&gt;POOLï¼šæ± åŒ–å±‚&lt;/li&gt;
&lt;li&gt;FCï¼šå…¨è¿æ¥å±‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼ŒCNNç½‘ç»œä¸DNNç½‘ç»œæœ‰ç›¸ä¼¼ï¼Œä¹Ÿæœ‰ä¸åŒã€‚åœ¨CNNç½‘ç»œä¸­ï¼Œä½¿ç”¨äº†å·ç§¯å±‚å’Œæ± åŒ–å±‚ï¼Œæœ€åæ‰ä½¿ç”¨å…¨è¿æ¥å±‚ï¼Œè€Œå·ç§¯å±‚å°±æ˜¯CNNçš„æ ¸å¿ƒã€‚ä½†æ˜¯åœ¨DNNç½‘ç»œä¸­å…¨éƒ¨éƒ½æ˜¯å…¨è¿æ¥å±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å°†å¯¹è¿™å‡ å±‚è¿›è¡Œä»‹ç»ï¼Œå…¶ä¸­å‚è€ƒäº†YouTubeä¸Š&lt;a href=&quot;https://www.youtube.com/watch?v=FmpDIaiMIeA&amp;amp;feature=youtu.be&quot;&gt;How Convolutional Neural Networks work&lt;/a&gt;è¿™ä¸ªè§†é¢‘ã€‚è¯¥è§†é¢‘æœ‰æ¡ä»¶çš„å»ºè®®å»çœ‹ä¸€çœ‹ï¼Œè®²çš„è¿˜æ˜¯è›®å½¢è±¡ç”ŸåŠ¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥è¯†åˆ«ä¸€å¼ ç…§ç‰‡æ˜¯&lt;code&gt;X&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;O&lt;/code&gt;ä½œä¸ºæˆ‘ä»¬çš„è¯†åˆ«ç›®çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010631691-1041161381.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¦‚ä½•è¯†åˆ«ä¸€å¼ æ–°çš„å›¾ç‰‡æ˜¯&lt;code&gt;X&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;O&lt;/code&gt;ï¼Œè‚¯å®šæ˜¯æ‹¿è¯¥ç…§ç‰‡ä¸&lt;strong&gt;å·²æœ‰çš„æ ‡å‡†&lt;code&gt;X&lt;/code&gt;å’Œ&lt;code&gt;O&lt;/code&gt;ç…§ç‰‡&lt;/strong&gt;è¿›è¡Œå¯¹æ¯”ï¼Œå“ªä¸€ä¸ªç›¸ä¼¼åº¦é«˜ï¼Œåˆ™å°±è®¤ä¸ºæ–°çš„ç…§ç‰‡æ˜¯å±äºå“ªä¸€ä¸ªç±»åˆ«ã€‚&lt;strong&gt;å¯¹æ¯”&lt;/strong&gt;å¯¹äºäººç±»æ¥è¯´å¾ˆç®€å•ï¼Œä½†æ˜¯ï¼Œå¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œåº”è¯¥æ€ä¹ˆå¯¹æ¯”å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è®¡ç®—æœºå¯ä»¥è¿›è¡Œéå†å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ ç‚¹çš„åƒç´ å€¼ï¼Œç„¶åä¸æ ‡å‡†å›¾ç‰‡çš„åƒç´ å€¼è¿›è¡Œæ¯”è¾ƒï¼Œä½†æ˜¯æ¯‹åº¸ç½®ç–‘ï¼Œè¿™æ ·è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œæ¯”å¦‚è¯´åœ¨ä¸‹å›¾ä¸­è®¡ç®—æœºå°±è®¤ä¸ºåªæœ‰ä¸­é—´çš„æ˜¯ä¸€æ ·çš„ï¼Œå…¶å®ƒå››ä¸ªè§’éƒ½ä¸åŒï¼Œå› æ­¤å¯èƒ½ä¼šå¾—å‡ºè¿™å¼ å›¾ç‰‡ä¸æ˜¯&lt;code&gt;X&lt;/code&gt;è¿™ä¸ªç»“è®ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010631918-89589828.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›ä¸ç®¡åœ¨å¹³ç§»ï¼Œæ—‹è½¬ï¼Œè¿˜æ˜¯å˜å½¢çš„æƒ…å†µä¸‹ï¼ŒCNNæ¨¡å‹éƒ½å¯ä»¥è¯†åˆ«å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010632233-1280519225.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;soï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒèŒƒå›´ç”±åƒç´ ç‚¹æ‰©å¤§åˆ°æŸä¸€ä¸ªèŒƒå›´ï¼Œåœ¨CNNæ¨¡å‹ä¸­ï¼Œä¼šæ¯”è¾ƒä¸¤å¼ å›¾ç‰‡çš„çš„å„ä¸ªå±€éƒ¨ï¼Œè¿™äº›å±€éƒ¨ç§°ä¹‹ä¸ºç‰¹å¾ï¼ˆfeaturesï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010632465-1565415422.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªfeatureéƒ½æ˜¯ä¸€å¼ å°å›¾ï¼Œä¹Ÿå°±æ˜¯æ›´å°çš„äºŒç»´çŸ©é˜µã€‚è¿™äº›ç‰¹å¾ä¼šæ•æ‰å›¾ç‰‡ä¸­çš„å…±åŒè¦ç´ ã€‚ä»¥&lt;code&gt;X&lt;/code&gt;å›¾ç‰‡ä¸ºä¾‹ï¼Œå®ƒæœ€é‡è¦çš„ç‰¹å¾å°±æ˜¯å¯¹è§’çº¿å’Œä¸­é—´çš„äº¤å‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•å‰å‰çš„çº¿æ¡æˆ–ä¸­å¿ƒç‚¹åº”è¯¥éƒ½ä¼šç¬¦åˆè¿™äº›ç‰¹å¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010632667-1004177286.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­ä¸€å¼ å›¾ç‰‡ä¸­æ˜¯å¦æœ‰ç›¸ç¬¦åˆçš„ç‰¹å¾ï¼Œç„¶åç¬¦åˆçš„ç‰¹å¾æœ‰å¤šå°‘ä¸ªï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ•°å­¦çš„æ–¹æ³•å·ç§¯ï¼ˆconvolutionï¼‰è¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªä¹Ÿå°±æ˜¯CNNåå­—çš„ç”±æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å·ç§¯å±‚convolution-layer&quot;&gt;å·ç§¯å±‚(Convolution Layer)&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æˆ‘è¿˜æ˜¯å°†ä»¥è¯†åˆ«&lt;code&gt;X&lt;/code&gt;ä½œä¸ºä¾‹å­æ¥è®²è§£ä¸€ä¸‹å¦‚ä½•è¿›è¡Œè¿›è¡Œå·ç§¯ã€‚å·ç§¯çš„ç›®çš„æ˜¯ä¸ºäº†è®¡ç®—ç‰¹å¾ä¸å›¾ç‰‡å±€éƒ¨çš„ç›¸ç¬¦ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;\[\frac{(1 \times 1) + (-1\times -1) + (-1\times -1) + (-1\times -1) + (1\times 1) + (-1\times -1)+ (-1\times -1) + (-1\times -1) + (1\times 1)}{9} = 1s \]&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010633442-1212686892.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬å°†è¿™ä¸ª&lt;span class=&quot;math inline&quot;&gt;\(3 \times 3\)&lt;/span&gt;çš„ç‰¹å¾çŸ©é˜µæ²¿ç€è¯¥å›¾ç‰‡ä»¥stide = 1ï¼ˆä¹Ÿå°±æ˜¯æ¯æ¬¡æ»‘åŠ¨ä¸€æ ¼ï¼‰ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ª&lt;span class=&quot;math inline&quot;&gt;\(7 \times 7\)&lt;/span&gt;çš„çŸ©é˜µï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010633873-500768462.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå®¹æ˜“ç†è§£ï¼Œå·ç§¯ä¹‹åçš„ç»“æœè¶Šæ¥è¿‘1ï¼Œåˆ™ç›¸å½“ä¸å¯¹åº”ä½ç½®ä¸ç‰¹å¾featureè¶Šæ¥è¿‘ã€‚åˆ†åˆ«ä¸ä¸‰ä¸ªç‰¹å¾è¿›è¡Œå·ç§¯çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œå¾—åˆ°äº†feature mapï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010634104-828071227.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ä¸€å¼ æ¥è‡ªcs231nçš„ä¸€å¼ å·ç§¯ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è¿™é‡Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰å–å¹³å‡å€¼ï¼ŒåŒæ—¶åŠ ä¸Šäº†ä¸€ä¸ªåç½®&lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;ï¼ŒåŒæ—¶æœ€åçš„ç»“æœæ˜¯ä¸‰ä¸ªçš„çš„å·ç§¯çš„å’Œã€‚å¹¶ä¸”åŠ ä¸Šäº†ä¸€ä¸ªpaddingï¼ˆä¹Ÿå°±æ˜¯å¤–é¢é‚£ä¸€å±‚ç°è‰²å–0çš„åœ°æ–¹ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010634451-506564523.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è®¾è¾“å…¥çš„ä¸º&lt;span class=&quot;math inline&quot;&gt;\(W_1 \times H_1 \times D_1\)&lt;/span&gt;ï¼Œå·ç§¯æ ¸çš„å¤§å°æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(F \times F\)&lt;/span&gt;ï¼Œå·ç§¯æ ¸çš„æ•°é‡æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(K\)&lt;/span&gt;ï¼Œpaddingçš„å¤§å°æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt;ï¼Œstrideæ­¥ä¸º&lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt;ï¼Œè¾“å‡ºçš„çŸ©é˜µçš„å¤§å°æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(W_2 \times H_2 \times D_2\)&lt;/span&gt;ï¼Œåˆ™ï¼š&lt;/p&gt;
&lt;p&gt;\[W_{2}=\left(W_{1}-F+2 P\right) / S+1\\ H_{2}=\left(H_{1}-F+2 P\right) / S+1 \\ D_{2}=K \]&lt;/p&gt;
&lt;h2 id=&quot;reluæ¿€åŠ±å±‚&quot;&gt;Reluæ¿€åŠ±å±‚&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æ•´æµçº¿æ€§å•ä½å‡½æ•°&lt;/strong&gt;ï¼ˆRectified Linear Unit, &lt;strong&gt;ReLU&lt;/strong&gt;ï¼‰,åˆç§°&lt;strong&gt;ä¿®æ­£çº¿æ€§å•å…ƒ&lt;/strong&gt;, æ˜¯ä¸€ç§äººå·¥ç¥ç»ç½‘ç»œä¸­å¸¸ç”¨çš„æ¿€åŠ±å‡½æ•°ï¼ˆactivation functionï¼‰ï¼Œé€šå¸¸æŒ‡ä»£ä»¥æ–œå¡å‡½æ•°åŠå…¶å˜ç§ä¸ºä»£è¡¨çš„éçº¿æ€§å‡½æ•°ã€‚æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;\[\begin{equation}f(x)=\max (0, x)\end{equation} \]&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010634859-294640999.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Reluæ¿€åŠ±å±‚çš„å·¥ä½œæµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010635160-1459865213.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å°†å·ç§¯å±‚çš„è¾“å‡ºé€šè¿‡æ¿€åŠ±å±‚åçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010635498-968449470.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å±‚è¿˜æ˜¯è›®ç®€å•çš„ï¼Œå¯èƒ½å¤§å®¶ä¼šå‘ç°ï¼Œåœ¨æ·±åº¦ç¥ç»ç½‘ç»œä¸­ï¼Œsigmoidæ¿€æ´»å‡½æ•°å°±å¾ˆå°‘ä½¿ç”¨äº†ï¼Œè¿™æ˜¯å› ä¸ºsigmoidå‡½æ•°å¤ªå°äº†ï¼Œåœ¨å¤šå±‚ç¥ç»ç½‘ç»œä¸‹ä¼šå‡ºç°â€æ¢¯åº¦æ¶ˆå¤±â€œç°è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010635735-83404454.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ± åŒ–ï¼ˆpoolingï¼‰&quot;&gt;æ± åŒ–ï¼ˆPoolingï¼‰&lt;/h2&gt;
&lt;p&gt;æ± åŒ–å±‚å°±æ›´åŠ çš„ç®€å•äº†ï¼Œæ± åŒ–å±‚å¯ä»¥å¤§å¹…åº¦çš„é™ä½æ•°æ®çš„ç»´åº¦ã€‚æ± åŒ–å±‚å¤šç§ï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§ç®€å•å¸¸ç”¨çš„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;å¹³å‡æ± åŒ–&lt;/strong&gt;ï¼ˆ&lt;code&gt;average pooling&lt;/code&gt;ï¼‰ï¼šè®¡ç®—å›¾åƒåŒºåŸŸçš„å¹³å‡å€¼ä½œä¸ºè¯¥åŒºåŸŸæ± åŒ–åçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€å¤§æ± åŒ–&lt;/strong&gt;ï¼ˆ&lt;code&gt;max pooling&lt;/code&gt;ï¼‰ï¼šé€‰å›¾åƒåŒºåŸŸçš„æœ€å¤§å€¼ä½œä¸ºè¯¥åŒºåŸŸæ± åŒ–åçš„å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;é‚£ä¹ˆæ± åŒ–æ˜¯æ€ä¹ˆæ“ä½œçš„å‘¢ï¼Œä¸‹é¢æ˜¯&lt;strong&gt;æœ€å¤§æ± åŒ–&lt;/strong&gt;è¿›è¡Œæ“ä½œçš„ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010636047-1432043584.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ± åŒ–å±‚ä¹Ÿå°±æ˜¯ä»ä¸€å®šçš„èŒƒå›´ï¼ˆä¹Ÿå°±æ˜¯æ± åŒ–å±‚çš„å¤§å°ï¼‰ä¸­é€‰å‡ºä¸€ä¸ªï¼ˆæˆ–è€…è®¡ç®—å‡ºä¸€ä¸ªï¼‰å€¼ä½œä¸ºè¿™ä¸ªåŒºåŸŸèŒƒå›´çš„ä»£è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹æ‰€æœ‰çš„feature mapéƒ½è¿›è¡Œæ± åŒ–ï¼Œæœ€åçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010636435-1860721875.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å› ä¸ºæœ€å¤§æ± åŒ–ï¼ˆmax-poolingï¼‰ä¿ç•™äº†æ¯ä¸€ä¸ªå°å—å†…çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥å®ƒç›¸å½“äºä¿ç•™äº†è¿™ä¸€å—æœ€ä½³çš„åŒ¹é…ç»“æœï¼ˆå› ä¸ºå€¼è¶Šæ¥è¿‘1è¡¨ç¤ºåŒ¹é…è¶Šå¥½ï¼‰ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å®ƒä¸ä¼šå…·ä½“å…³æ³¨çª—å£å†…åˆ°åº•æ˜¯å“ªä¸€ä¸ªåœ°æ–¹åŒ¹é…äº†ï¼Œè€Œåªå…³æ³¨æ˜¯ä¸æ˜¯æœ‰æŸä¸ªåœ°æ–¹åŒ¹é…ä¸Šäº†ã€‚è¿™ä¹Ÿå°±èƒ½å¤Ÿçœ‹å‡ºï¼ŒCNNèƒ½å¤Ÿå‘ç°å›¾åƒä¸­æ˜¯å¦å…·æœ‰æŸç§ç‰¹å¾ï¼Œè€Œä¸ç”¨åœ¨æ„åˆ°åº•åœ¨å“ªé‡Œå…·æœ‰è¿™ç§ç‰¹å¾ã€‚è¿™ä¹Ÿå°±èƒ½å¤Ÿå¸®åŠ©è§£å†³ä¹‹å‰æåˆ°çš„è®¡ç®—æœºé€ä¸€åƒç´ åŒ¹é…çš„æ­»æ¿åšæ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è®¾è¾“å…¥çš„ä¸º&lt;span class=&quot;math inline&quot;&gt;\(W_1 \times H_1 \times D_1\)&lt;/span&gt;ï¼Œæ± åŒ–å±‚çš„å¤§å°æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(F \times F\)&lt;/span&gt;ï¼Œstrideæ­¥ä¸º&lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt;ï¼Œè¾“å‡ºçš„çŸ©é˜µçš„å¤§å°æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(W_2 \times H_2 \times D_2\)&lt;/span&gt;ï¼Œåˆ™ï¼š&lt;/p&gt;
&lt;p&gt;\[\begin{equation}\begin{aligned} &amp;amp;W_{2}=\left(W_{1}-F\right) / S+1\\ &amp;amp;H_{2}=\left(H_{1}-F\right) / S+1\\ &amp;amp;D_{2}=D_{1} \end{aligned}\end{equation} \]&lt;/p&gt;
&lt;h2 id=&quot;ç»“åˆå·ç§¯å±‚ã€æ¿€åŠ±å±‚ã€æ± åŒ–å±‚&quot;&gt;ç»“åˆå·ç§¯å±‚ã€æ¿€åŠ±å±‚ã€æ± åŒ–å±‚&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å°†å‰é¢æ‰€è®²çš„å·ç§¯å±‚ï¼Œæ¿€åŠ±å±‚ï¼Œæ± åŒ–å±‚è¿›è¡Œç»“åˆï¼Œæ‰€å¾—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010636689-961127816.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŠ å¤§ç½‘ç»œçš„å±‚æ•°å°±å¾—åˆ°äº†æ·±åº¦ç¥ç»ç½‘ç»œï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010636906-708902769.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å…¨è¿æ¥å±‚fully-connected-layers&quot;&gt;å…¨è¿æ¥å±‚(Fully connected layers)&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å‰é¢å¾—å·ç§¯ï¼Œæ± åŒ–æ“ä½œï¼Œæˆ‘ä»¬æˆåŠŸå¾—å°†æ•°æ®è¿›è¡Œäº†é™ç»´ï¼Œå¾—åˆ°é™ç»´åçš„æ•°æ®åï¼Œæˆ‘ä»¬åœ¨å°†å…¶æ”¾å…¥å…¨è¿æ¥å±‚ä¸­ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç»ˆå¾—ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010637087-520706494.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä»¥ä¸Šé¢è¯†åˆ«Xä¸ºä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010637438-1934035574.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç§°ä¹‹è¿™ä¸€å±‚ä¸ºå…¨è¿æ¥å±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010637708-2059898769.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶å…¨è¿æ¥å±‚ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010637936-1200838535.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œæ‰€æœ‰å¾—ç»“æ„æˆ‘ä»¬å¯ä»¥è¡¨è¾¾ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010638178-582869951.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶æˆ‘ä»¬å¯ä»¥ä¸CS231nçš„å›¾ç‰‡ä½œæ¯”è¾ƒï¼Œä¸¤è€…æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1439869/202005/1439869-20200501010638449-857969044.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€ç¯‡åšå®¢ä¸»è¦æ˜¯ä»‹ç»äº†æ¯ä¸€å±‚çš„åŠŸèƒ½ï¼Œä»¥åŠæ¯ä¸€å±‚å·¥ä½œçš„åŸç†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¯¹å…¶æ•°å­¦å…¬å¼ç»§ç»­å®æ¨å¯¼ï¼Œå¦‚æœæƒ³æ›´å¤šçš„äº†è§£CNNçš„å‰å‘å’Œåå‘ä¼ æ’­ç®—æ³•ï¼Œå¯ä»¥å»å‚è€ƒè¿™ä¸€ç¯‡&lt;a href=&quot;https://www.cnblogs.com/pinard/p/6494810.html&quot;&gt;åšå®¢&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­ï¼Œå°†ä»‹ç»ä½¿ç”¨CNNå¯¹cifar-10ï¼ˆä¹Ÿå¯èƒ½æ˜¯cifar-100ï¼‰è¿›è¡Œè®­ç»ƒé¢„æµ‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h3&gt;
</description>
<pubDate>Thu, 30 Apr 2020 16:59:00 +0000</pubDate>
<dc:creator>æ®µå°è¾‰</dc:creator>
<og:description>åœ¨å‰é¢çš„ä¸¤ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†DNNï¼ˆæ·±åº¦ç¥ç»ç½‘ç»œï¼‰å¹¶ä½¿ç”¨keraså®ç°äº†ä¸€ä¸ªç®€å•çš„DNNã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­å°†ä»‹ç»CNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰ï¼Œç„¶ååœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­å°†ä½¿ç”¨kerasæ„å»ºä¸€ä¸ªç®€å•çš„CNNï¼Œå¯¹ æ•°æ®é›†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xiaohuiduan/p/12812288.html</dc:identifier>
</item>
<item>
<title>é˜»å¡é˜Ÿåˆ—BlockingQueue - MXCè‚–æŸæŸ</title>
<link>http://www.cnblogs.com/bbgs-xc/p/12811803.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bbgs-xc/p/12811803.html</guid>
<description>&lt;h2 id=&quot;æ¦‚å¿µ&quot;&gt;æ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&quot;é˜Ÿåˆ—&quot;&gt;é˜Ÿåˆ—&lt;/h3&gt;
&lt;p&gt;é˜Ÿåˆ—å°±å¯ä»¥æƒ³æˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä»ä¸€å¤´è¿›å…¥ï¼Œä¸€å¤´å‡ºå»ï¼Œæ’é˜Ÿä¹°é¥­&lt;/p&gt;
&lt;h3 id=&quot;é˜»å¡é˜Ÿåˆ—-2&quot;&gt;é˜»å¡é˜Ÿåˆ—&lt;/h3&gt;
&lt;p&gt;BlockingQueue é˜»å¡é˜Ÿåˆ—ï¼Œæ’é˜Ÿæ‹¥å µï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè€Œä¸€ä¸ªé˜»å¡é˜Ÿåˆ—åœ¨æ•°æ®ç»“æ„ä¸­æ‰€èµ·çš„ä½œç”¨å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1405595/202004/1405595-20200430231733399-1775925894.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹1å¾€é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œè€Œçº¿ç¨‹2ä»é˜»å¡é˜Ÿåˆ—ä¸­ç§»é™¤å…ƒç´ &lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ è¯•å›¾ä»ç©ºçš„é˜»å¡é˜Ÿåˆ—ä¸­è·å–å…ƒç´ çš„çº¿ç¨‹å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶å®ƒçº¿ç¨‹å¾€ç©ºçš„é˜Ÿåˆ—æ’å…¥æ–°çš„å…ƒç´ &lt;/p&gt;
&lt;p&gt;åŒç†ï¼Œè¯•å›¾å¾€å·²ç»æ»¡çš„é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ æ–°å…ƒç´ çš„çº¿ç¨‹ï¼Œç›´åˆ°å…¶å®ƒçº¿ç¨‹å¾€æ»¡çš„é˜Ÿåˆ—ä¸­ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œæˆ–è€…å®Œå…¨æ¸…ç©ºé˜Ÿåˆ—åï¼Œä½¿é˜Ÿåˆ—é‡æ–°å˜å¾—ç©ºé—²èµ·æ¥ï¼Œå¹¶åç»­æ–°å¢&lt;/p&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ&quot;&gt;ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å»æµ·åº•æåƒé¥­ï¼Œå¤§å…æ»¡äº†ï¼Œéœ€è¦è¿›å€™å…ç­‰å¾…ï¼Œä½†æ˜¯è¿™äº›ç­‰å¾…çš„å®¢æˆ·èƒ½å¤Ÿå¯¹å•†å®¶å¸¦æ¥åˆ©æ¶¦ï¼Œå› æ­¤æˆ‘ä»¬éå¸¸æ¬¢è¿ä»–ä»¬é˜»å¡&lt;/p&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹é¢†åŸŸï¼šæ‰€è°“çš„é˜»å¡ï¼Œåœ¨æŸäº›æ¸…ç©ºä¸‹ä¼šæŒ‚èµ·çº¿ç¨‹ï¼ˆå³é˜»å¡ï¼‰ï¼Œä¸€æ—¦æ¡ä»¶æ»¡è¶³ï¼Œè¢«æŒ‚èµ·çš„çº¿ç¨‹åˆä¼šè‡ªåŠ¨å”¤é†’&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦blockingqueue&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦BlockingQueue&lt;/h3&gt;
&lt;p&gt;å¥½å¤„æ˜¯æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒä»€ä¹ˆæ—¶å€™éœ€è¦é˜»å¡çº¿ç¨‹ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å”¤é†’çº¿ç¨‹ï¼Œå› ä¸ºè¿™ä¸€åˆ‡BlockingQueueéƒ½å¸®ä½ ä¸€æ‰‹åŒ…åŠäº†&lt;/p&gt;
&lt;p&gt;åœ¨concurrentåŒ…å‘å¸ƒä»¥å‰ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ¯ä¸ªç¨‹åºå‘˜éƒ½å¿…é¡»è‡ªå·±å–æ§åˆ¶è¿™äº›ç»†èŠ‚ï¼Œå°¤å…¶è¿˜è¦å…¼é¡¾æ•ˆç‡å’Œçº¿ç¨‹å®‰å…¨ï¼Œè€Œè¿™ä¼šç»™æˆ‘ä»¬çš„ç¨‹åºå¸¦æ¥ä¸å°çš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¶æ„&quot;&gt;æ¶æ„&lt;/h2&gt;
&lt;pre&gt;
&lt;code&gt;// ä½ ç”¨è¿‡Listé›†åˆç±»

// ArrayListé›†åˆç±»ç†Ÿæ‚‰ä¹ˆï¼Ÿ

// è¿˜ç”¨è¿‡ CopyOnWriteList  å’Œ BlockingQueue
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;BlockingQueueé˜»å¡é˜Ÿåˆ—æ˜¯å±äºä¸€ä¸ªæ¥å£ï¼Œåº•ä¸‹æœ‰ä¸ƒä¸ªå®ç°ç±»&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ArrayBlockQueueï¼šç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;LinkedBlockingQueueï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œï¼ˆä½†æ˜¯é»˜è®¤å¤§å° Integer.MAX_VALUEï¼‰çš„é˜»å¡é˜Ÿåˆ—
&lt;ul&gt;&lt;li&gt;æœ‰ç•Œï¼Œä½†æ˜¯ç•Œé™éå¸¸å¤§ï¼Œç›¸å½“äºæ— ç•Œï¼Œå¯ä»¥å½“æˆæ— ç•Œ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;PriorityBlockQueueï¼šæ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;DelayQueueï¼šä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°çš„å»¶è¿Ÿæ— ç•Œé˜»å¡é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ï¼Œä¹Ÿå³å•ä¸ªå…ƒç´ çš„é˜Ÿåˆ—
&lt;ul&gt;&lt;li&gt;ç”Ÿäº§ä¸€ä¸ªï¼Œæ¶ˆè´¹ä¸€ä¸ªï¼Œä¸å­˜å‚¨å…ƒç´ ï¼Œä¸æ¶ˆè´¹ä¸ç”Ÿäº§&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;LinkedTransferQueueï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;LinkedBlockingDequeï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„åŒå‘é˜»å¡é˜Ÿåˆ—&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿™é‡Œéœ€è¦æŒæ¡çš„æ˜¯ï¼šArrayBlockQueueã€LinkedBlockingQueueã€SynchronousQueue&lt;/p&gt;
&lt;h2 id=&quot;blockingqueueæ ¸å¿ƒæ–¹æ³•&quot;&gt;BlockingQueueæ ¸å¿ƒæ–¹æ³•&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1405595/202004/1405595-20200430231912810-1670124647.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æŠ›å‡ºå¼‚å¸¸&lt;/th&gt;
&lt;th&gt;å½“é˜»å¡é˜Ÿåˆ—æ»¡æ—¶ï¼šåœ¨å¾€é˜Ÿåˆ—ä¸­addæ’å…¥å…ƒç´ ä¼šæŠ›å‡º IIIegalStateExceptionï¼šQueue full å½“é˜»å¡é˜Ÿåˆ—ç©ºæ—¶ï¼šå†å¾€é˜Ÿåˆ—ä¸­removeç§»é™¤å…ƒç´ ï¼Œä¼šæŠ›å‡ºNoSuchException&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;ç‰¹æ®Šæ€§&lt;/td&gt;
&lt;td&gt;æ’å…¥æ–¹æ³•ï¼ŒæˆåŠŸtrueï¼Œå¤±è´¥false ç§»é™¤æ–¹æ³•ï¼šæˆåŠŸè¿”å›å‡ºé˜Ÿåˆ—å…ƒç´ ï¼Œé˜Ÿåˆ—æ²¡æœ‰å°±è¿”å›ç©º&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;ä¸€ç›´é˜»å¡&lt;/td&gt;
&lt;td&gt;å½“é˜»å¡é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”Ÿäº§è€…ç»§ç»­å¾€é˜Ÿåˆ—é‡Œputå…ƒç´ ï¼Œé˜Ÿåˆ—ä¼šä¸€ç›´é˜»å¡ç”Ÿäº§çº¿ç¨‹ç›´åˆ°putæ•°æ®orå“åº”ä¸­æ–­é€€å‡ºï¼Œ å½“é˜»å¡é˜Ÿåˆ—ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹è¯•å›¾ä»é˜Ÿåˆ—é‡Œtakeå…ƒç´ ï¼Œé˜Ÿåˆ—ä¼šä¸€ç›´é˜»å¡æ¶ˆè´¹è€…çº¿ç¨‹ç›´åˆ°é˜Ÿåˆ—å¯ç”¨ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;è¶…æ—¶é€€å‡º&lt;/td&gt;
&lt;td&gt;å½“é˜»å¡é˜Ÿåˆ—æ»¡æ—¶ï¼Œé˜Ÿé‡Œä¼šé˜»å¡ç”Ÿäº§è€…çº¿ç¨‹ä¸€å®šæ—¶é—´ï¼Œè¶…è¿‡é™æ—¶åç”Ÿäº§è€…çº¿ç¨‹ä¼šé€€å‡º&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3 id=&quot;æŠ›å‡ºå¼‚å¸¸ç»„&quot;&gt;æŠ›å‡ºå¼‚å¸¸ç»„&lt;/h3&gt;
&lt;p&gt;ä½†æ‰§è¡Œaddæ–¹æ³•ï¼Œå‘å·²ç»æ»¡çš„ArrayBlockingQueueä¸­æ·»åŠ å…ƒç´ æ—¶å€™ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// é˜»å¡é˜Ÿåˆ—ï¼Œéœ€è¦å¡«å…¥é»˜è®¤å€¼
BlockingQueue&amp;lt;String&amp;gt; blockingQueue = new ArrayBlockingQueue&amp;lt;&amp;gt;(3);

System.out.println(blockingQueue.add(&quot;a&quot;));
System.out.println(blockingQueue.add(&quot;b&quot;));
System.out.println(blockingQueue.add(&quot;c&quot;));

System.out.println(blockingQueue.add(&quot;XXX&quot;));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œåï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;true
true
true
Exception in thread &quot;main&quot; java.lang.IllegalStateException: Queue full
        at java.util.AbstractQueue.add(AbstractQueue.java:98)
        at java.util.concurrent.ArrayBlockingQueue.add(ArrayBlockingQueue.java:312)
        at com.moxi.interview.study.queue.BlockingQueueDemo.main(BlockingQueueDemo.java:25)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ—¶å¦‚æœæˆ‘ä»¬å¤šå–å‡ºå…ƒç´ çš„æ—¶å€™ï¼Œä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæˆ‘ä»¬å‡è®¾åªå­˜å‚¨äº†3ä¸ªå€¼ï¼Œä½†æ˜¯å–çš„æ—¶å€™ï¼Œå–äº†å››æ¬¡&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// é˜»å¡é˜Ÿåˆ—ï¼Œéœ€è¦å¡«å…¥é»˜è®¤å€¼
BlockingQueue&amp;lt;String&amp;gt; blockingQueue = new ArrayBlockingQueue&amp;lt;&amp;gt;(3);
System.out.println(blockingQueue.add(&quot;a&quot;));
System.out.println(blockingQueue.add(&quot;b&quot;));
System.out.println(blockingQueue.add(&quot;c&quot;));

System.out.println(blockingQueue.remove());
System.out.println(blockingQueue.remove());
System.out.println(blockingQueue.remove());
System.out.println(blockingQueue.remove());
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆå‡ºç°å¼‚å¸¸&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;true
true
true
a
b
c
Exception in thread &quot;main&quot; java.util.NoSuchElementException
        at java.util.AbstractQueue.remove(AbstractQueue.java:117)
        at com.moxi.interview.study.queue.BlockingQueueDemo.main(BlockingQueueDemo.java:30)
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å¸ƒå°”ç±»å‹ç»„&quot;&gt;å¸ƒå°”ç±»å‹ç»„&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨ offerçš„æ–¹æ³•ï¼Œæ·»åŠ å…ƒç´ æ—¶å€™ï¼Œå¦‚æœé˜»å¡é˜Ÿåˆ—æ»¡äº†åï¼Œä¼šè¿”å›falseï¼Œå¦è€…è¿”å›true&lt;/p&gt;
&lt;p&gt;åŒæ—¶åœ¨å–çš„æ—¶å€™ï¼Œå¦‚æœé˜Ÿåˆ—å·²ç©ºï¼Œé‚£ä¹ˆä¼šè¿”å›null&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;BlockingQueue blockingQueue = new ArrayBlockingQueue(3);

System.out.println(blockingQueue.offer(&quot;a&quot;));
System.out.println(blockingQueue.offer(&quot;b&quot;));
System.out.println(blockingQueue.offer(&quot;c&quot;));
System.out.println(blockingQueue.offer(&quot;d&quot;));

System.out.println(blockingQueue.poll());
System.out.println(blockingQueue.poll());
System.out.println(blockingQueue.poll());
System.out.println(blockingQueue.poll());
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœ&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;true
true
true
false
a
b
c
null
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;é˜»å¡é˜Ÿåˆ—ç»„&quot;&gt;é˜»å¡é˜Ÿåˆ—ç»„&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨ putçš„æ–¹æ³•ï¼Œæ·»åŠ å…ƒç´ æ—¶å€™ï¼Œå¦‚æœé˜»å¡é˜Ÿåˆ—æ»¡äº†åï¼Œæ·»åŠ æ¶ˆæ¯çš„çº¿ç¨‹ï¼Œä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—å…ƒç´ å‡å°‘ï¼Œä¼šè¢«æ¸…ç©ºï¼Œæ‰ä¼šå”¤é†’&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬åœ¨æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œæ¯”å¦‚RabbitMQä¸­ä¼šä½¿ç”¨åˆ°ï¼Œå› ä¸ºéœ€è¦ä¿è¯æ¶ˆæ¯ç™¾åˆ†ç™¾ä¸ä¸¢å¤±ï¼Œå› æ­¤åªæœ‰è®©å®ƒé˜»å¡&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;BlockingQueue&amp;lt;String&amp;gt; blockingQueue = new ArrayBlockingQueue&amp;lt;&amp;gt;(3);
blockingQueue.put(&quot;a&quot;);
blockingQueue.put(&quot;b&quot;);
blockingQueue.put(&quot;c&quot;);
System.out.println(&quot;================&quot;);

blockingQueue.take();
blockingQueue.take();
blockingQueue.take();
blockingQueue.take();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ—¶ä½¿ç”¨takeå–æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¦‚æœå†…å®¹ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œä¹Ÿä¼šè¢«é˜»å¡&lt;/p&gt;
&lt;h3 id=&quot;ä¸è§ä¸æ•£ç»„&quot;&gt;ä¸è§ä¸æ•£ç»„&lt;/h3&gt;
&lt;p&gt;offer( ) ï¼Œ poll åŠ æ—¶é—´&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨offeræ’å…¥çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šæ—¶é—´ï¼Œå¦‚æœ2ç§’è¿˜æ²¡æœ‰æ’å…¥ï¼Œé‚£ä¹ˆå°±æ”¾å¼ƒæ’å…¥&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;BlockingQueue&amp;lt;String&amp;gt; blockingQueue = new ArrayBlockingQueue&amp;lt;&amp;gt;(3);
System.out.println(blockingQueue.offer(&quot;a&quot;, 2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.offer(&quot;b&quot;, 2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.offer(&quot;c&quot;, 2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.offer(&quot;d&quot;, 2L, TimeUnit.SECONDS));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ—¶å–çš„æ—¶å€™ä¹Ÿè¿›è¡Œåˆ¤æ–­&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;System.out.println(blockingQueue.poll(2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.poll(2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.poll(2L, TimeUnit.SECONDS));
System.out.println(blockingQueue.poll(2L, TimeUnit.SECONDS));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœ2ç§’å†…å–ä¸å‡ºæ¥ï¼Œé‚£ä¹ˆå°±è¿”å›null&lt;/p&gt;
&lt;h2 id=&quot;synchronousqueue&quot;&gt;SynchronousQueue&lt;/h2&gt;
&lt;p&gt;SynchronousQueueæ²¡æœ‰å®¹é‡ï¼Œä¸å…¶ä»–BlockingQueueä¸åŒï¼ŒSynchronousQueueæ˜¯ä¸€ä¸ªä¸å­˜å‚¨çš„BlockingQueueï¼Œæ¯ä¸€ä¸ªputæ“ä½œå¿…é¡»ç­‰å¾…ä¸€ä¸ªtakeæ“ä½œï¼Œå¦è€…ä¸èƒ½ç»§ç»­æ·»åŠ å…ƒç´ &lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æµ‹è¯•SynchronousQueueæ·»åŠ å…ƒç´ çš„è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨äºç”Ÿäº§ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨äºæ¶ˆè´¹&lt;/p&gt;
&lt;p&gt;ç”Ÿäº§çš„çº¿ç¨‹åˆ†åˆ«putäº† Aã€Bã€Cè¿™ä¸‰ä¸ªå­—æ®µ&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;BlockingQueue&amp;lt;String&amp;gt; blockingQueue = new SynchronousQueue&amp;lt;&amp;gt;();

new Thread(() -&amp;gt; {
    try {       
        System.out.println(Thread.currentThread().getName() + &quot;\t put A &quot;);
        blockingQueue.put(&quot;A&quot;);
       
        System.out.println(Thread.currentThread().getName() + &quot;\t put B &quot;);
        blockingQueue.put(&quot;B&quot;);        
        
        System.out.println(Thread.currentThread().getName() + &quot;\t put C &quot;);
        blockingQueue.put(&quot;C&quot;);        
        
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
}, &quot;t1&quot;).start();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¶ˆè´¹çº¿ç¨‹ä½¿ç”¨takeï¼Œæ¶ˆè´¹é˜»å¡é˜Ÿåˆ—ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”æ¯æ¬¡æ¶ˆè´¹å‰ï¼Œéƒ½ç­‰å¾…5ç§’&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;        new Thread(() -&amp;gt; {
            try {

                try {
                    TimeUnit.SECONDS.sleep(5);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                blockingQueue.take();
                System.out.println(Thread.currentThread().getName() + &quot;\t take A &quot;);

                try {
                    TimeUnit.SECONDS.sleep(5);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                blockingQueue.take();
                System.out.println(Thread.currentThread().getName() + &quot;\t take B &quot;);

                try {
                    TimeUnit.SECONDS.sleep(5);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                blockingQueue.take();
                System.out.println(Thread.currentThread().getName() + &quot;\t take C &quot;);

            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }, &quot;t2&quot;).start();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åç»“æœè¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;t1    put A 
t2       take A 

5ç§’å...

t1       put B 
t2       take B 

5ç§’å...

t1       put C 
t2       take C 
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ä»æœ€åçš„è¿è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ¯æ¬¡t1çº¿ç¨‹å‘é˜Ÿåˆ—ä¸­æ·»åŠ é˜»å¡é˜Ÿåˆ—æ·»åŠ å…ƒç´ åï¼Œt1è¾“å…¥çº¿ç¨‹å°±ä¼šç­‰å¾… t2æ¶ˆè´¹çº¿ç¨‹ï¼Œt2æ¶ˆè´¹åï¼Œt2å¤„äºæŒ‚èµ·çŠ¶æ€ï¼Œç­‰å¾…t1åœ¨å­˜å…¥ï¼Œä»è€Œå‘¨è€Œå¤å§‹ï¼Œå½¢æˆ ä¸€å­˜ä¸€å–çš„çŠ¶æ€&lt;/p&gt;
&lt;h2 id=&quot;é˜»å¡é˜Ÿåˆ—çš„ç”¨å¤„&quot;&gt;é˜»å¡é˜Ÿåˆ—çš„ç”¨å¤„&lt;/h2&gt;
&lt;h3 id=&quot;ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼&quot;&gt;ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªåˆå§‹å€¼ä¸º0çš„å˜é‡ï¼Œä¸¤ä¸ªçº¿ç¨‹å¯¹å…¶äº¤æ›¿æ“ä½œï¼Œä¸€ä¸ªåŠ 1ï¼Œä¸€ä¸ªå‡1ï¼Œæ¥5è½®&lt;/p&gt;
&lt;p&gt;å…³äºå¤šçº¿ç¨‹çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦è®°ä½ä¸‹é¢å‡ å¥&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;çº¿ç¨‹ æ“ä½œ èµ„æºç±»&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­ å¹²æ´» é€šçŸ¥&lt;/li&gt;
&lt;li&gt;é˜²æ­¢è™šå‡å”¤é†’æœºåˆ¶&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æˆ‘ä»¬ä¸‹é¢å®ç°ä¸€ä¸ªç®€å•çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œé¦–å…ˆæœ‰èµ„æºç±»ShareData&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/**
 * èµ„æºç±»
 */
class ShareData {

    private int number = 0;

    private Lock lock = new ReentrantLock();

    private Condition condition = lock.newCondition();

    public void increment() throws Exception{
        // åŒæ­¥ä»£ç å—ï¼ŒåŠ é”
        lock.lock();
        try {
            // åˆ¤æ–­
            while(number != 0) {
                // ç­‰å¾…ä¸èƒ½ç”Ÿäº§
                condition.await();
            }

            // å¹²æ´»
            number++;

            System.out.println(Thread.currentThread().getName() + &quot;\t &quot; + number);

            // é€šçŸ¥ å”¤é†’
            condition.signalAll();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

    public void decrement() throws Exception{
        // åŒæ­¥ä»£ç å—ï¼ŒåŠ é”
        lock.lock();
        try {
            // åˆ¤æ–­
            while(number == 0) {
                // ç­‰å¾…ä¸èƒ½æ¶ˆè´¹
                condition.await();
            }

            // å¹²æ´»
            number--;

            System.out.println(Thread.currentThread().getName() + &quot;\t &quot; + number);

            // é€šçŸ¥ å”¤é†’
            condition.signalAll();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‡Œé¢æœ‰ä¸€ä¸ªnumberå˜é‡ï¼ŒåŒæ—¶æä¾›äº†increment å’Œ decrementçš„æ–¹æ³•ï¼Œåˆ†åˆ«è®©number åŠ 1å’Œå‡1&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»¬åœ¨è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™ï¼Œä¸ºäº†é˜²æ­¢å‡ºç°è™šå‡å”¤é†’æœºåˆ¶ï¼Œä¸èƒ½ä½¿ç”¨ifæ¥è¿›è¡Œåˆ¤æ–­ï¼Œè€Œåº”è¯¥ä½¿ç”¨while&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// åˆ¤æ–­
while(number != 0) {
    // ç­‰å¾…ä¸èƒ½ç”Ÿäº§
    condition.await();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸èƒ½ä½¿ç”¨ ifåˆ¤æ–­&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// åˆ¤æ–­
if(number != 0) {
    // ç­‰å¾…ä¸èƒ½ç”Ÿäº§
    condition.await();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®Œæ•´ä»£ç &lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/**
 * ç”Ÿäº§è€…æ¶ˆè´¹è€… ä¼ ç»Ÿç‰ˆ
 * é¢˜ç›®ï¼šä¸€ä¸ªåˆå§‹å€¼ä¸º0çš„å˜é‡ï¼Œä¸¤ä¸ªçº¿ç¨‹å¯¹å…¶äº¤æ›¿æ“ä½œï¼Œä¸€ä¸ªåŠ 1ï¼Œä¸€ä¸ªå‡1ï¼Œæ¥5è½®
 */
/**
 * çº¿ç¨‹ æ“ä½œ èµ„æºç±»
 * åˆ¤æ–­ å¹²æ´» é€šçŸ¥
 * é˜²æ­¢è™šå‡å”¤é†’æœºåˆ¶
 */

/**
 * èµ„æºç±»
 */
class ShareData {

    private int number = 0;

    private Lock lock = new ReentrantLock();

    private Condition condition = lock.newCondition();

    public void increment() throws Exception{
        // åŒæ­¥ä»£ç å—ï¼ŒåŠ é”
        lock.lock();
        try {
            // åˆ¤æ–­
            while(number != 0) {
                // ç­‰å¾…ä¸èƒ½ç”Ÿäº§
                condition.await();
            }

            // å¹²æ´»
            number++;

            System.out.println(Thread.currentThread().getName() + &quot;\t &quot; + number);

            // é€šçŸ¥ å”¤é†’
            condition.signalAll();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

    public void decrement() throws Exception{
        // åŒæ­¥ä»£ç å—ï¼ŒåŠ é”
        lock.lock();
        try {
            // åˆ¤æ–­
            while(number == 0) {
                // ç­‰å¾…ä¸èƒ½æ¶ˆè´¹
                condition.await();
            }

            // å¹²æ´»
            number--;

            System.out.println(Thread.currentThread().getName() + &quot;\t &quot; + number);

            // é€šçŸ¥ å”¤é†’
            condition.signalAll();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

}
public class ProdConsumerTraditionDemo {

    public static void main(String[] args) {

        // é«˜å†…èšï¼Œä½è€¦åˆ    å†…èšæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªç©ºè°ƒï¼Œè‡ªèº«å¸¦æœ‰è°ƒèŠ‚æ¸©åº¦é«˜ä½çš„æ–¹æ³•
        ShareData shareData = new ShareData();

        // t1çº¿ç¨‹ï¼Œç”Ÿäº§
        new Thread(() -&amp;gt; {
            for (int i = 0; i &amp;lt; 5; i++) {
                try {
                    shareData.increment();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }, &quot;t1&quot;).start();

        // t2çº¿ç¨‹ï¼Œæ¶ˆè´¹
        new Thread(() -&amp;gt; {
            for (int i = 0; i &amp;lt; 5; i++) {
                try {
                    shareData.decrement();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }, &quot;t2&quot;).start();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åè¿è¡ŒæˆåŠŸåï¼Œæˆ‘ä»¬ä¸€ä¸ªè¿›è¡Œç”Ÿäº§ï¼Œä¸€ä¸ªè¿›è¡Œæ¶ˆè´¹&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;t1    1
t2       0
t1       1
t2       0
t1       1
t2       0
t1       1
t2       0
t1       1
t2       0
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ç”Ÿæˆè€…å’Œæ¶ˆè´¹è€…30&quot;&gt;ç”Ÿæˆè€…å’Œæ¶ˆè´¹è€…3.0&lt;/h2&gt;
&lt;p&gt;åœ¨concurrentåŒ…å‘å¸ƒä»¥å‰ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ¯ä¸ªç¨‹åºå‘˜éƒ½å¿…é¡»è‡ªå·±å»æ§åˆ¶è¿™äº›ç»†èŠ‚ï¼Œå°¤å…¶è¿˜è¦å…¼é¡¾æ•ˆç‡å’Œçº¿ç¨‹å®‰å…¨ï¼Œåˆ™è¿™ä¼šç»™æˆ‘ä»¬çš„ç¨‹åºå¸¦æ¥ä¸å°çš„æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬ä½¿ç”¨æ–°ç‰ˆçš„é˜»å¡é˜Ÿåˆ—ç‰ˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œä½¿ç”¨ï¼švolatileã€CASã€atomicIntegerã€BlockQueueã€çº¿ç¨‹äº¤äº’ã€åŸå­å¼•ç”¨&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/**
 * ç”Ÿäº§è€…æ¶ˆè´¹è€…  é˜»å¡é˜Ÿåˆ—ç‰ˆ
 * ä½¿ç”¨ï¼švolatileã€CASã€atomicIntegerã€BlockQueueã€çº¿ç¨‹äº¤äº’ã€åŸå­å¼•ç”¨
 *
 */

class MyResource {
    // é»˜è®¤å¼€å¯ï¼Œè¿›è¡Œç”Ÿäº§æ¶ˆè´¹
    // è¿™é‡Œç”¨åˆ°äº†volatileæ˜¯ä¸ºäº†ä¿æŒæ•°æ®çš„å¯è§æ€§ï¼Œä¹Ÿå°±æ˜¯å½“TLAGä¿®æ”¹æ—¶ï¼Œè¦é©¬ä¸Šé€šçŸ¥å…¶å®ƒçº¿ç¨‹è¿›è¡Œä¿®æ”¹
    private volatile boolean FLAG = true;

    // ä½¿ç”¨åŸå­åŒ…è£…ç±»ï¼Œè€Œä¸ç”¨number++
    private AtomicInteger atomicInteger = new AtomicInteger();

    // è¿™é‡Œä¸èƒ½ä¸ºäº†æ»¡è¶³æ¡ä»¶ï¼Œè€Œå®ä¾‹åŒ–ä¸€ä¸ªå…·ä½“çš„SynchronousBlockingQueue
    BlockingQueue&amp;lt;String&amp;gt; blockingQueue = null;

    // è€Œåº”è¯¥é‡‡ç”¨ä¾èµ–æ³¨å…¥é‡Œé¢çš„ï¼Œæ„é€ æ³¨å…¥æ–¹æ³•ä¼ å…¥
    public MyResource(BlockingQueue&amp;lt;String&amp;gt; blockingQueue) {
        this.blockingQueue = blockingQueue;
        // æŸ¥è¯¢å‡ºä¼ å…¥çš„classæ˜¯ä»€ä¹ˆ
        System.out.println(blockingQueue.getClass().getName());
    }

    /**
     * ç”Ÿäº§
     * @throws Exception
     */
    public void myProd() throws Exception{
        String data = null;
        boolean retValue;
        // å¤šçº¿ç¨‹ç¯å¢ƒçš„åˆ¤æ–­ï¼Œä¸€å®šè¦ä½¿ç”¨whileè¿›è¡Œï¼Œé˜²æ­¢å‡ºç°è™šå‡å”¤é†’
        // å½“FLAGä¸ºtrueçš„æ—¶å€™ï¼Œå¼€å§‹ç”Ÿäº§
        while(FLAG) {
            data = atomicInteger.incrementAndGet() + &quot;&quot;;

            // 2ç§’å­˜å…¥1ä¸ªdata
            retValue = blockingQueue.offer(data, 2L, TimeUnit.SECONDS);
            if(retValue) {
                System.out.println(Thread.currentThread().getName() + &quot;\t æ’å…¥é˜Ÿåˆ—:&quot; + data  + &quot;æˆåŠŸ&quot; );
            } else {
                System.out.println(Thread.currentThread().getName() + &quot;\t æ’å…¥é˜Ÿåˆ—:&quot; + data  + &quot;å¤±è´¥&quot; );
            }

            try {
                TimeUnit.SECONDS.sleep(1);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

        System.out.println(Thread.currentThread().getName() + &quot;\t åœæ­¢ç”Ÿäº§ï¼Œè¡¨ç¤ºFLAG=falseï¼Œç”Ÿäº§ä»‹ç»&quot;);
    }

    /**
     * æ¶ˆè´¹
     * @throws Exception
     */
    public void myConsumer() throws Exception{
        String retValue;
        // å¤šçº¿ç¨‹ç¯å¢ƒçš„åˆ¤æ–­ï¼Œä¸€å®šè¦ä½¿ç”¨whileè¿›è¡Œï¼Œé˜²æ­¢å‡ºç°è™šå‡å”¤é†’
        // å½“FLAGä¸ºtrueçš„æ—¶å€™ï¼Œå¼€å§‹ç”Ÿäº§
        while(FLAG) {
            // 2ç§’å­˜å…¥1ä¸ªdata
            retValue = blockingQueue.poll(2L, TimeUnit.SECONDS);
            if(retValue != null &amp;amp;&amp;amp; retValue != &quot;&quot;) {
                System.out.println(Thread.currentThread().getName() + &quot;\t æ¶ˆè´¹é˜Ÿåˆ—:&quot; + retValue  + &quot;æˆåŠŸ&quot; );
            } else {
                FLAG = false;
                System.out.println(Thread.currentThread().getName() + &quot;\t æ¶ˆè´¹å¤±è´¥ï¼Œé˜Ÿåˆ—ä¸­å·²ä¸ºç©ºï¼Œé€€å‡º&quot; );

                // é€€å‡ºæ¶ˆè´¹é˜Ÿåˆ—
                return;
            }
        }
    }

    /**
     * åœæ­¢ç”Ÿäº§çš„åˆ¤æ–­
     */
    public void stop() {
        this.FLAG = false;
    }

}
public class ProdConsumerBlockingQueueDemo {

    public static void main(String[] args) {
        // ä¼ å…¥å…·ä½“çš„å®ç°ç±»ï¼Œ ArrayBlockingQueue
        MyResource myResource = new MyResource(new ArrayBlockingQueue&amp;lt;String&amp;gt;(10));

        new Thread(() -&amp;gt; {
            System.out.println(Thread.currentThread().getName() + &quot;\t ç”Ÿäº§çº¿ç¨‹å¯åŠ¨&quot;);
            System.out.println(&quot;&quot;);
            System.out.println(&quot;&quot;);
            try {
                myResource.myProd();
                System.out.println(&quot;&quot;);
                System.out.println(&quot;&quot;);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }, &quot;prod&quot;).start();


        new Thread(() -&amp;gt; {
            System.out.println(Thread.currentThread().getName() + &quot;\t æ¶ˆè´¹çº¿ç¨‹å¯åŠ¨&quot;);

            try {
                myResource.myConsumer();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }, &quot;consumer&quot;).start();

        // 5ç§’åï¼Œåœæ­¢ç”Ÿäº§å’Œæ¶ˆè´¹
        try {
            TimeUnit.SECONDS.sleep(5);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println(&quot;&quot;);
        System.out.println(&quot;&quot;);
        System.out.println(&quot;5ç§’ä¸­åï¼Œç”Ÿäº§å’Œæ¶ˆè´¹çº¿ç¨‹åœæ­¢ï¼Œçº¿ç¨‹ç»“æŸ&quot;);
        myResource.stop();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åè¿è¡Œç»“æœ&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;java.util.concurrent.ArrayBlockingQueue
prod     ç”Ÿäº§çº¿ç¨‹å¯åŠ¨


consumer         æ¶ˆè´¹çº¿ç¨‹å¯åŠ¨
prod     æ’å…¥é˜Ÿåˆ—:1æˆåŠŸ
consumer         æ¶ˆè´¹é˜Ÿåˆ—:1æˆåŠŸ
prod     æ’å…¥é˜Ÿåˆ—:2æˆåŠŸ
consumer         æ¶ˆè´¹é˜Ÿåˆ—:2æˆåŠŸ
prod     æ’å…¥é˜Ÿåˆ—:3æˆåŠŸ
consumer         æ¶ˆè´¹é˜Ÿåˆ—:3æˆåŠŸ
prod     æ’å…¥é˜Ÿåˆ—:4æˆåŠŸ
consumer         æ¶ˆè´¹é˜Ÿåˆ—:4æˆåŠŸ
prod     æ’å…¥é˜Ÿåˆ—:5æˆåŠŸ
consumer         æ¶ˆè´¹é˜Ÿåˆ—:5æˆåŠŸ


5ç§’ä¸­åï¼Œç”Ÿäº§å’Œæ¶ˆè´¹çº¿ç¨‹åœæ­¢ï¼Œçº¿ç¨‹ç»“æŸ
prod     åœæ­¢ç”Ÿäº§ï¼Œè¡¨ç¤ºFLAG=falseï¼Œç”Ÿäº§ä»‹ç»
&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Thu, 30 Apr 2020 15:33:00 +0000</pubDate>
<dc:creator>MXCè‚–æŸæŸ</dc:creator>
<og:description>é˜»å¡é˜Ÿåˆ— æ¦‚å¿µ é˜Ÿåˆ— é˜Ÿåˆ—å°±å¯ä»¥æƒ³æˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä»ä¸€å¤´è¿›å…¥ï¼Œä¸€å¤´å‡ºå»ï¼Œæ’é˜Ÿä¹°é¥­ é˜»å¡é˜Ÿåˆ— BlockingQueue é˜»å¡é˜Ÿåˆ—ï¼Œæ’é˜Ÿæ‹¥å µï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè€Œä¸€ä¸ªé˜»å¡é˜Ÿåˆ—åœ¨æ•°æ®ç»“æ„ä¸­æ‰€èµ·çš„ä½œç”¨å¤§è‡´å¦‚ä¸‹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bbgs-xc/p/12811803.html</dc:identifier>
</item>
<item>
<title>MinIO çš„åˆ†å¸ƒå¼éƒ¨ç½² - MasonæŠ€æœ¯è®°å½•</title>
<link>http://www.cnblogs.com/masonlee/p/12811784.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/masonlee/p/12811784.html</guid>
<description>&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;é«˜å¯ç”¨åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨ï¼ŒMinIO è½»æ¾å®ç°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/rzaqPmpTOUJJsKISr6eF9Q&quot;&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä»‹ç»äº†ä½¿ç”¨å¯¹è±¡å­˜å‚¨å·¥å…· MinIO æ­å»ºä¸€ä¸ªä¼˜é›…ã€ç®€å•ã€åŠŸèƒ½å®Œå¤‡çš„é™æ€èµ„æºæœåŠ¡ï¼Œå¯è§å…¶æ“ä½œç®€å•ï¼ŒåŠŸèƒ½å®Œå¤‡ã€‚ä½†ç”±äºæ˜¯å•èŠ‚ç‚¹éƒ¨ç½²ï¼Œéš¾å…ä¼šå‡ºç°å•ç‚¹æ•…éšœï¼Œæ— æ³•åšåˆ°æœåŠ¡çš„é«˜å¯ç”¨ã€‚MinIO å·²ç»æä¾›äº†åˆ†å¸ƒå¼éƒ¨ç½²çš„è§£å†³æ–¹æ¡ˆï¼Œå®ç°é«˜å¯é ã€é«˜å¯ç”¨çš„èµ„æºå­˜å‚¨ï¼ŒåŒæ ·çš„æ“ä½œç®€å•ï¼ŒåŠŸèƒ½å®Œå¤‡ã€‚æœ¬æ–‡å°†å¯¹ MinIO çš„åˆ†å¸ƒå¼éƒ¨ç½²è¿›è¡Œæè¿°ï¼Œä¸»è¦åˆ†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;

&lt;p&gt;åˆ†å¸ƒå¼å­˜å‚¨ï¼Œå¾ˆå…³é”®çš„ç‚¹åœ¨äºæ•°æ®çš„å¯é æ€§ï¼Œå³ä¿è¯æ•°æ®çš„å®Œæ•´ï¼Œä¸ä¸¢å¤±ï¼Œä¸æŸåã€‚åªæœ‰åœ¨å¯é æ€§å®ç°çš„å‰æä¸‹ï¼Œæ‰æœ‰äº†è¿½æ±‚ä¸€è‡´æ€§ã€é«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„åŸºç¡€ã€‚è€Œå¯¹äºåœ¨å­˜å‚¨é¢†åŸŸï¼Œä¸€èˆ¬å¯¹äºä¿è¯æ•°æ®å¯é æ€§çš„æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç±»ï¼Œä¸€ç±»æ˜¯å†—ä½™æ³•ï¼Œä¸€ç±»æ˜¯æ ¡éªŒæ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;21-å†—ä½™&quot;&gt;2.1 å†—ä½™&lt;/h2&gt;
&lt;p&gt;å†—ä½™æ³•æœ€ç®€å•ç›´æ¥ï¼Œå³å¯¹å­˜å‚¨çš„æ•°æ®è¿›è¡Œå‰¯æœ¬å¤‡ä»½ï¼Œå½“æ•°æ®å‡ºç°ä¸¢å¤±ï¼ŒæŸåï¼Œå³å¯ä½¿ç”¨å¤‡ä»½å†…å®¹è¿›è¡Œæ¢å¤ï¼Œè€Œå‰¯æœ¬ å¤‡ä»½çš„å¤šå°‘ï¼Œå†³å®šäº†æ•°æ®å¯é æ€§çš„é«˜ä½ã€‚è¿™å…¶ä¸­ä¼šæœ‰æˆæœ¬çš„è€ƒé‡ï¼Œå‰¯æœ¬æ•°æ®è¶Šå¤šï¼Œæ•°æ®è¶Šå¯é ï¼Œä½†éœ€è¦çš„è®¾å¤‡å°±è¶Šå¤šï¼Œæˆæœ¬å°±è¶Šé«˜ã€‚å¯é æ€§æ˜¯å…è®¸ä¸¢å¤±å…¶ä¸­ä¸€ä»½æ•°æ®ã€‚å½“å‰å·²æœ‰å¾ˆå¤šåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯é‡‡ç”¨æ­¤ç§æ–¹å¼å®ç°ï¼Œå¦‚ Hadoop çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆ3ä¸ªå‰¯æœ¬ï¼‰ï¼ŒRedis çš„é›†ç¾¤ï¼ŒMySQL çš„ä¸»å¤‡æ¨¡å¼ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;22-æ ¡éªŒ&quot;&gt;2.2 æ ¡éªŒ&lt;/h2&gt;
&lt;p&gt;æ ¡éªŒæ³•å³é€šè¿‡æ ¡éªŒç çš„æ•°å­¦è®¡ç®—çš„æ–¹å¼ï¼Œå¯¹å‡ºç°ä¸¢å¤±ã€æŸåçš„æ•°æ®è¿›è¡Œæ ¡éªŒã€è¿˜åŸã€‚æ³¨æ„ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªä½œç”¨ï¼Œä¸€ä¸ªæ ¡éªŒï¼Œé€šè¿‡å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒå’Œ( checksum )è¿›è¡Œè®¡ç®—ï¼Œå¯ä»¥æ£€æŸ¥æ•°æ®æ˜¯å¦å®Œæ•´ï¼Œæœ‰æ— æŸåæˆ–æ›´æ”¹ï¼Œåœ¨æ•°æ®ä¼ è¾“å’Œä¿å­˜æ—¶ç»å¸¸ç”¨åˆ°ï¼Œå¦‚ TCP åè®®ï¼›äºŒæ˜¯æ¢å¤è¿˜åŸï¼Œé€šè¿‡å¯¹æ•°æ®ç»“åˆæ ¡éªŒç ï¼Œé€šè¿‡æ•°å­¦è®¡ç®—ï¼Œè¿˜åŸä¸¢å¤±æˆ–æŸåçš„æ•°æ®ï¼Œå¯ä»¥åœ¨ä¿è¯æ•°æ®å¯é çš„å‰æä¸‹ï¼Œé™ä½å†—ä½™ï¼Œå¦‚å•æœºç¡¬ç›˜å­˜å‚¨ä¸­çš„ RAID æŠ€æœ¯ï¼Œçº åˆ ç ï¼ˆErasure Codeï¼‰æŠ€æœ¯ç­‰ã€‚MinIO é‡‡ç”¨çš„å°±æ˜¯çº åˆ ç æŠ€æœ¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;31-æ¦‚å¿µç†è§£&quot;&gt;3.1 æ¦‚å¿µç†è§£&lt;/h2&gt;
&lt;p&gt;åœ¨éƒ¨ç½²åˆ†å¸ƒå¼ MinIO å‰ï¼Œéœ€è¦å¯¹ä¸‹é¢çš„æ¦‚å¿µè¿›è¡Œäº†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç¡¬ç›˜ï¼ˆDriveï¼‰ï¼šå³å­˜å‚¨æ•°æ®çš„ç£ç›˜ï¼Œåœ¨ MinIO å¯åŠ¨æ—¶ï¼Œä»¥å‚æ•°çš„æ–¹å¼ä¼ å…¥ã€‚&lt;/li&gt;
&lt;li&gt;ç»„ï¼ˆ Set ï¼‰ï¼šå³ä¸€ç»„ Drive çš„é›†åˆï¼Œåˆ†å¸ƒå¼éƒ¨ç½²æ ¹æ®é›†ç¾¤è§„æ¨¡è‡ªåŠ¨åˆ’åˆ†ä¸€ä¸ªæˆ–å¤šä¸ª Set ï¼Œæ¯ä¸ª Set ä¸­çš„ Drive åˆ†å¸ƒåœ¨ä¸åŒä½ç½®ã€‚ä¸€ä¸ªå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ª Set ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;æ¡¶ï¼ˆBucketï¼‰ï¼šæ–‡ä»¶å¯¹è±¡å­˜å‚¨çš„é€»è¾‘ä½ç½®ï¼Œå¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œå°±ç›¸å½“äºä¸€ä¸ªå­˜æ”¾æ–‡ä»¶çš„é¡¶å±‚æ–‡ä»¶å¤¹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;32-çº åˆ ç ecï¼ˆerasure-codeï¼‰&quot;&gt;3.2 çº åˆ ç ECï¼ˆErasure Codeï¼‰&lt;/h2&gt;
&lt;p&gt;MinIO ä½¿ç”¨çº åˆ ç æœºåˆ¶æ¥ä¿è¯é«˜å¯é æ€§ï¼Œä½¿ç”¨ highwayhash æ¥å¤„ç†æ•°æ®æŸåï¼ˆ Bit Rot Protection ï¼‰ã€‚å…³äºçº åˆ ç ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥é€šè¿‡æ•°å­¦è®¡ç®—ï¼ŒæŠŠä¸¢å¤±çš„æ•°æ®è¿›è¡Œè¿˜åŸï¼Œå®ƒå¯ä»¥å°†nä»½åŸå§‹æ•°æ®ï¼Œå¢åŠ mä»½æ•°æ®ï¼Œå¹¶èƒ½é€šè¿‡n+mä»½ä¸­çš„ä»»æ„nä»½æ•°æ®ï¼Œè¿˜åŸä¸ºåŸå§‹æ•°æ®ã€‚å³å¦‚æœæœ‰ä»»æ„å°äºç­‰äºmä»½çš„æ•°æ®å¤±æ•ˆï¼Œä»ç„¶èƒ½é€šè¿‡å‰©ä¸‹çš„æ•°æ®è¿˜åŸå‡ºæ¥ã€‚ä¸¾ä¸ªæœ€ç®€å•ä¾‹å­å°±æ˜¯æœ‰ä¸¤ä¸ªæ•°æ®(d1, d2)ï¼Œç”¨ä¸€ä¸ªæ ¡éªŒå’Œyï¼ˆ&lt;code&gt;d1 + d2 = y&lt;/code&gt;ï¼‰å³å¯ä¿è¯å³ä½¿ä¸¢å¤±å…¶ä¸­ä¸€ä¸ªï¼Œä¾ç„¶å¯ä»¥è¿˜åŸæ•°æ®ã€‚å¦‚ä¸¢å¤± d1 ï¼Œåˆ™ä½¿ç”¨ &lt;code&gt;y - d2 = d1&lt;/code&gt; è¿˜åŸï¼ŒåŒç†ï¼Œd2 ä¸¢å¤±æˆ–è€…yä¸¢å¤±ï¼Œå‡å¯é€šè¿‡è®¡ç®—å¾—å‡ºã€‚&lt;/p&gt;
&lt;p&gt;EC çš„å…·ä½“åº”ç”¨å®ç°ä¸­ï¼Œ RSï¼ˆReed-Solomenï¼‰æ˜¯ EC çš„ä¸€ç§æ›´ç®€å•å¿«æ·çš„å®ç°ï¼Œå¯ä»¥é€šè¿‡çŸ©é˜µè¿ç®—ï¼Œè¿˜åŸæ•°æ®ã€‚MinIO å°†å¯¹è±¡æ‹†åˆ†æˆN/2æ•°æ®å’ŒN/2 æ ¡éªŒå— ã€‚å…·ä½“çš„æ•°å­¦çŸ©é˜µè¿ç®—åŠè¯æ˜ï¼Œå¯ä»¥å‚è€ƒæ–‡ç« ã€Š&lt;a href=&quot;https://blog.openacid.com/storage/ec-1/&quot;&gt;Erasure-Code-æ“¦é™¤ç -1-åŸç†ç¯‡&lt;/a&gt;ã€‹åŠã€Š&lt;a href=&quot;https://blog.csdn.net/shelldon/article/details/54144730&quot;&gt;ECçº åˆ ç åŸç†&lt;/a&gt;ã€‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;33-å­˜å‚¨å½¢å¼&quot;&gt;3.3 å­˜å‚¨å½¢å¼&lt;/h2&gt;
&lt;p&gt;æ–‡ä»¶å¯¹è±¡ä¸Šä¼ åˆ° MinIO ï¼Œä¼šåœ¨å¯¹åº”çš„æ•°æ®å­˜å‚¨ç£ç›˜ä¸­ï¼Œä»¥ Bucket åç§°ä¸ºç›®å½•ï¼Œæ–‡ä»¶åç§°ä¸ºä¸‹ä¸€çº§ç›®å½•ï¼Œæ–‡ä»¶åç§°ä¸‹æ˜¯ part.1 å’Œ xl.jsonï¼Œå‰è€…æ˜¯ç¼–ç æ•°æ®å—åŠæ£€éªŒå—ï¼Œåè€…æ˜¯å…ƒæ•°æ®æ–‡ä»¶ã€‚å¦‚æœ‰4ä¸ªç£ç›˜ï¼Œå½“æ–‡ä»¶ä¸Šä¼ åï¼Œä¼šæœ‰2ä¸ªç¼–ç æ•°æ®å—ï¼Œ2ä¸ªæ£€éªŒå—ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨4ä¸ªç£ç›˜ä¸­ã€‚å¦‚ä¸‹å›¾ï¼Œ&lt;code&gt;bg-01.jpg&lt;/code&gt; æ˜¯ä¸Šä¼ çš„æ–‡ä»¶å¯¹è±¡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/mianshenglee/datastorage/raw/master/md-photo/20200331-minio/store-cotent.png&quot; alt=&quot;å­˜å‚¨ç»“æ„&quot;/&gt;&lt;/p&gt;

&lt;h2 id=&quot;41-å•èŠ‚ç‚¹éƒ¨ç½²å¤šç£ç›˜&quot;&gt;4.1 å•èŠ‚ç‚¹éƒ¨ç½²å¤šç£ç›˜&lt;/h2&gt;
&lt;p&gt;åœ¨å¯åŠ¨ MinIO æ—¶ï¼Œè‹¥ä¼ å…¥å‚æ•°æ˜¯å¤šä¸ªç›®å½•ï¼Œåˆ™ä¼šä»¥çº åˆ ç çš„å½¢å¼è¿è¡Œï¼Œå³å…·å¤‡é«˜å¯é æ€§æ„ä¹‰ã€‚å³åœ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆå•èŠ‚ç‚¹ï¼‰ä¸Šå¯¹ï¼Œå¤šä¸ªç£ç›˜ä¸Šè¿è¡Œ MinIOã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œå‘½ä»¤ä¹Ÿå¾ˆç®€å•ï¼Œå‚æ•°ä¼ å…¥å¤šä¸ªç›®å½•å³å¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MINIO_ACCESS_KEY=${ACCESS_KEY} MINIO_SECRET_KEY=${SECRET_KEY} nohup ${MINIO_HOME}/minio server --address &quot;${MINIO_HOST}:${MINIO_PORT}&quot; /opt/min-data1 /opt/min-data2 /opt/min-data3 /opt/min-data4 &amp;gt; ${MINIO_LOGFILE} 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„æ›¿æ¢å‘½ä»¤ä¸­çš„å˜æ›´ï¼Œè¿è¡Œåè¾“å‡ºä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/mianshenglee/datastorage/raw/master/md-photo/20200331-minio/start-ok.png&quot; alt=&quot;å¯åŠ¨&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯è§ MinIO ä¼šåˆ›å»ºä¸€ä¸ª1ä¸ª setï¼Œset ä¸­æœ‰4ä¸ª drive ï¼Œå…¶ä¸­å®ƒä¼šæç¤ºä¸€ä¸ªè­¦å‘Šï¼Œæç¤ºä¸€ä¸ªèŠ‚ç‚¹çš„ set ä¸­å­˜åœ¨å¤šäº2ä¸ªçš„driveï¼Œå¦‚æœèŠ‚ç‚¹æŒ‚æ‰ï¼Œåˆ™æ•°æ®éƒ½ä¸å¯ç”¨äº†ï¼Œè¿™ä¸ EC ç çš„è§„åˆ™ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id=&quot;42-å¤šèŠ‚ç‚¹éƒ¨ç½²&quot;&gt;4.2 å¤šèŠ‚ç‚¹éƒ¨ç½²&lt;/h2&gt;
&lt;h3 id=&quot;421-éƒ¨ç½²è„šæœ¬&quot;&gt;4.2.1 éƒ¨ç½²è„šæœ¬&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢å•ç‚¹æ•…éšœï¼Œåˆ†å¸ƒå¼å­˜å‚¨è‡ªç„¶æ˜¯éœ€è¦å¤šèŠ‚ç‚¹éƒ¨ç½²ï¼Œä»¥è¾¾åˆ°é«˜å¯é å’Œé«˜å¯ç”¨çš„èƒ½åŠ›ã€‚MinIO å¯¹äºå¤šèŠ‚ç‚¹çš„éƒ¨ç½²ï¼Œä¹Ÿæ˜¯åœ¨å¯åŠ¨æ—¶é€šè¿‡æŒ‡å®šæœ‰ Host å’Œç«¯å£çš„ç›®å½•åœ°å€ï¼Œå³å¯å®ç°ã€‚ä¸‹é¢åœ¨å•å°æœºå™¨ä¸Šï¼Œé€šè¿‡ä¸åŒçš„ç«¯å£æ¨¡æ‹Ÿåœ¨4å°æœºå™¨èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œå­˜å‚¨ç›®å½•ä¾ç„¶æ˜¯ min-data1&lt;sub&gt;4ï¼Œè€Œå¯¹åº”çš„ç«¯å£æ˜¯9001&lt;/sub&gt;9004ã€‚è„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;RUNNING_USER=root
MINIO_HOME=/opt/minio
MINIO_HOST=192.168.222.10
#accesskey and secretkey
ACCESS_KEY=minio 
SECRET_KEY=minio123

for i in {01..04}; do
    START_CMD=&quot;MINIO_ACCESS_KEY=${ACCESS_KEY} MINIO_SECRET_KEY=${SECRET_KEY} nohup ${MINIO_HOME}/minio  server --address &quot;${MINIO_HOST}:90${i}&quot; http://${MINIO_HOST}:9001/opt/min-data1 http://${MINIO_HOST}:9002/opt/min-data2 http://${MINIO_HOST}:9003/opt/min-data3 http://${MINIO_HOST}:9004/opt/min-data4 &amp;gt; ${MINIO_HOME}/minio-90${i}.log 2&amp;gt;&amp;amp;1 &amp;amp;&quot;
    su - ${RUNNING_USER} -c &quot;${START_CMD}&quot;
done
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ¬ç¤ºä¾‹ä¸­ï¼Œminio çš„å¯åŠ¨å‘½ä»¤è¿è¡Œäº†4æ¬¡ï¼Œç›¸å½“äºåœ¨å››å°æœºå™¨èŠ‚ç‚¹ä¸Šéƒ½åˆ†åˆ«è¿è¡Œä¸€ä¸ªminioå®ä¾‹ï¼Œä»è€Œæ¨¡æ‹Ÿå››ä¸ªèŠ‚ç‚¹ã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/mianshenglee/datastorage/raw/master/md-photo/20200331-minio/dis-start-log.png&quot; alt=&quot;åˆ†å¸ƒå¼å¯åŠ¨&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹è¿›ç¨‹&lt;code&gt;ps -ef |grep minio&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/mianshenglee/datastorage/raw/master/md-photo/20200331-minio/dis-ps.png&quot; alt=&quot;åˆ†å¸ƒå¼è¿›ç¨‹&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;422-éƒ¨ç½²æ³¨æ„ç‚¹&quot;&gt;4.2.2 éƒ¨ç½²æ³¨æ„ç‚¹&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;æ‰€æœ‰è¿è¡Œåˆ†å¸ƒå¼ MinIO çš„èŠ‚ç‚¹éœ€è¦å…·æœ‰ç›¸åŒçš„è®¿é—®å¯†é’¥å’Œç§˜å¯†å¯†é’¥æ‰èƒ½è¿æ¥ã€‚å»ºè®®åœ¨æ‰§è¡Œ MINIO æœåŠ¡å™¨å‘½ä»¤ä¹‹å‰ï¼Œå°†è®¿é—®å¯†é’¥ä½œä¸ºç¯å¢ƒå˜é‡ï¼ŒMINIO access key å’Œ MINIO secret key å¯¼å‡ºåˆ°æ‰€æœ‰èŠ‚ç‚¹ä¸Š ã€‚&lt;/li&gt;
&lt;li&gt;Minio åˆ›å»º4åˆ°16ä¸ªé©±åŠ¨å™¨çš„æ“¦é™¤ç¼–ç é›†ã€‚&lt;/li&gt;
&lt;li&gt;Minio é€‰æ‹©æœ€å¤§çš„ EC é›†å¤§å°ï¼Œè¯¥é›†å¤§å°é™¤ä»¥ç»™å®šçš„é©±åŠ¨å™¨æ€»æ•°ã€‚ ä¾‹å¦‚ï¼Œ8ä¸ªé©±åŠ¨å™¨å°†ç”¨ä½œä¸€ä¸ªå¤§å°ä¸º8çš„ EC é›†ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå¤§å°ä¸º4çš„ EC é›† ã€‚&lt;/li&gt;
&lt;li&gt;å»ºè®®æ‰€æœ‰è¿è¡Œåˆ†å¸ƒå¼ MinIO è®¾ç½®çš„èŠ‚ç‚¹éƒ½æ˜¯åŒæ„çš„ï¼Œå³ç›¸åŒçš„æ“ä½œç³»ç»Ÿã€ç›¸åŒæ•°é‡çš„ç£ç›˜å’Œç›¸åŒçš„ç½‘ç»œäº’è¿ ã€‚&lt;/li&gt;
&lt;li&gt;è¿è¡Œåˆ†å¸ƒå¼ MinIO å®ä¾‹çš„æœåŠ¡å™¨æ—¶é—´å·®ä¸åº”è¶…è¿‡15åˆ†é’Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿è¡Œèµ·æ¥åï¼Œä½¿ç”¨ &lt;code&gt;http://${MINIO_HOST}:9001&lt;/code&gt; åˆ°&lt;code&gt;http://${MINIO_HOST}:9004&lt;/code&gt; å‡å¯ä»¥è®¿é—®åˆ° MinIO çš„ä½¿ç”¨ç•Œé¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;423-ä½¿ç”¨-nginx-è´Ÿè½½å‡è¡¡&quot;&gt;4.2.3 ä½¿ç”¨ nginx è´Ÿè½½å‡è¡¡&lt;/h3&gt;
&lt;p&gt;å‰é¢å•ç‹¬å¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œè®¿é—®æ˜¾ç„¶ä¸åˆç†ï¼Œé€šè¿‡ä½¿ç”¨ nginx ä»£ç†ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡åˆ™å¾ˆæœ‰å¿…è¦ã€‚ç®€å•çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;upstream http_minio {
    server 192.168.222.10:9001;
    server 192.168.222.10:9002;
    server 192.168.222.10:9003;
    server 192.168.222.10:9004;
}

server{
    listen       8888;
    server_name  192.168.222.10;

    ignore_invalid_headers off;
    client_max_body_size 0;
    proxy_buffering off;

    location / {
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   X-Forwarded-Host  $host:$server_port;
        proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header   X-Forwarded-Proto  $http_x_forwarded_proto;

        proxy_connect_timeout 300;
        proxy_http_version 1.1;
        chunked_transfer_encoding off;
        proxy_ignore_client_abort on;

        proxy_pass http://http_minio;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ä¸»è¦æ˜¯ upstream åŠ proxy_pass çš„é…ç½®ã€‚å¦‚æ­¤ï¼Œå³å¯ä½¿ç”¨&lt;code&gt;http://${MINIO_HOST}:8888&lt;/code&gt; è¿›è¡Œè®¿é—®ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼å­˜å‚¨ï¼Œé«˜å¯é å¿…æ˜¯é¦–è¦è€ƒè™‘çš„å› ç´ ï¼ŒMinIO å·²ç»æä¾›äº†åˆ†å¸ƒå¼éƒ¨ç½²çš„è§£å†³æ–¹æ¡ˆï¼Œå®ç°é«˜å¯é ã€é«˜å¯ç”¨çš„èµ„æºå­˜å‚¨ã€‚æœ¬æ–‡å¯¹å¯é æ€§çš„å®ç°æ–¹æ³•è¿›è¡Œæè¿°ï¼Œæ¢è®¨äº† MinIO çš„å­˜å‚¨æœºåˆ¶ï¼Œå¹¶é€šè¿‡è„šæœ¬æ¨¡æ‹Ÿå®è·µ MinIO çš„åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚&lt;/p&gt;


&lt;p&gt;æˆ‘çš„å…¬ä¼—å·ï¼ˆæœç´¢&lt;code&gt;MasonæŠ€æœ¯è®°å½•&lt;/code&gt;ï¼‰ï¼Œè·å–æ›´å¤šæŠ€æœ¯è®°å½•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/mianshenglee/datastorage/raw/master/md-photo/myphoto/wx/wx-public.jpg&quot; alt=&quot;mason&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 15:28:00 +0000</pubDate>
<dc:creator>MasonæŠ€æœ¯è®°å½•</dc:creator>
<og:description>é«˜å¯ç”¨åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨ï¼ŒMinIO è½»æ¾å®ç°ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/masonlee/p/12811784.html</dc:identifier>
</item>
<item>
<title>javaå¤šçº¿ç¨‹4ï¼šsynchronizedå…³é”®å­— - 16bit</title>
<link>http://www.cnblogs.com/dslx/p/12787683.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dslx/p/12787683.html</guid>
<description>&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;ã€€ã€€javaæœ‰å„ç§å„æ ·çš„é”ï¼Œå¹¶ä¸”æ¯ç§é”çš„ç‰¹æ€§ä¸åŒï¼Œåˆç†åœºæ™¯ä¸‹åˆ©ç”¨é”å¯ä»¥å±•ç°å‡ºéå¸¸é«˜çš„æ•ˆç‡ã€‚&lt;span&gt;synchronizedå†…ç½®é”å°±æ˜¯Javaçš„ä¸€ç§é‡é‡çº§é”ï¼Œå®ƒèƒ½å¤Ÿè§£å†³å¹¶å‘ç¼–ç¨‹ä¸­å‡ºç°å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå…±äº«ï¼Œå¯å˜çš„ä¸´ç•Œèµ„æºæ—¶å‡ºç°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚è®©å¤šä¸ªçº¿ç¨‹åºåˆ—åŒ–è®¿é—®ä¸´ç•Œèµ„æºï¼ŒåŒä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ä¸´ç•Œèµ„æºï¼ŒåŒæ­¥äº’æ–¥ï¼Œè¿™æ ·å°±ä¿è¯äº†æ“ä½œçš„åŸå­æ€§ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200427165927453-1203520197.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;synchronizedä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;åŒæ­¥æ–¹æ³•å—&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; ThreadDemo5 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Runnable{

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;&lt;span&gt;){
            &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; ++&lt;span&gt;i){
                count&lt;/span&gt;++&lt;span&gt;;
                System.out.println(&lt;/span&gt;&quot;æ‰§è¡Œçš„çº¿ç¨‹æ˜¯=&amp;gt;&quot; + Thread.currentThread().getName() + &quot;æ‰§è¡Œç»“æœä¸º-&amp;gt;&quot; +&lt;span&gt; count);
            }
        }

    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        ThreadDemo5 threadDemo5 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ThreadDemo5();
        Thread thread1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(threadDemo5,&quot;thread1&quot;&lt;span&gt;);
        Thread thread2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(threadDemo5,&quot;thread2&quot;&lt;span&gt;);
        thread1.start();
        thread2.start();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;1&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;2&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;3&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;4&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;5&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;6&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;7&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;8&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;9&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread1æ‰§è¡Œç»“æœä¸º-&amp;gt;10&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;11&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;12&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;13&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;14&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;15&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;16&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;17&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;18&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;19&lt;span&gt;
æ‰§è¡Œçš„çº¿ç¨‹æ˜¯&lt;/span&gt;=&amp;gt;thread2æ‰§è¡Œç»“æœä¸º-&amp;gt;20
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â åŒæ­¥æ–¹æ³•å—ï¼Œsynchronizedé”çš„æ˜¯æ‹¬å·é‡Œçš„å¯¹è±¡ï¼Œæ¯ä¸ªçº¿ç¨‹è¦è¿›å…¥ä»£ç å—å‰å¿…é¡»å…ˆè·å–å¯¹è±¡çš„çš„é”ï¼Œæ‰å¯æ‰§è¡Œã€‚synchronizedæ˜¯ä¸€ä¸ªéšå¼é”ï¼Œä¹Ÿæ˜¯jvmå†…ç½®çš„é”ï¼Œå®ƒä¼šè‡ªåŠ¨åŠ é”å’Œè§£é”ï¼ŒåŒæ—¶javaçš„æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºé”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ™®é€šåŒæ­¥æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; ThreadDemo6 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Runnable {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        say();
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;synchronized&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; say(){
        &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; ++&lt;span&gt;i){
            count&lt;/span&gt;++&lt;span&gt;;
            System.out.println(&lt;/span&gt;&quot;ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ=&amp;gt;&quot; + Thread.currentThread().getName() + &quot;ç»“æœä¸º-&amp;gt;&quot; +&lt;span&gt; count);
        }
        &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
            Thread.sleep(&lt;/span&gt;5000&lt;span&gt;);
        } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
            e.printStackTrace();
        }
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        ThreadDemo6 threadDemo6 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ThreadDemo6();
        Thread thread1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(threadDemo6,&quot;Thread-1&quot;&lt;span&gt;);
        Thread thread2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(threadDemo6,&quot;Thread-2&quot;&lt;span&gt;);
        thread1.start();
        thread2.start();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;1&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;2&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;3&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;4&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;5&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;6&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;7&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;8&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;9&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;10&lt;br/&gt;/*åœé¡¿5ç§’*/&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;11&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;12&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;13&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;14&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;15&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;16&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;17&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;18&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;19&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;20
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ™®é€šåŒæ­¥æ–¹æ³•ï¼Œé€šè¿‡ä¾‹å­å¯ä»¥çŸ¥é“ä»–æ˜¯ä¸€ä¸ªå¯¹è±¡é”ï¼Œçº¿ç¨‹1æœªé‡Šæ”¾é”ï¼Œçº¿ç¨‹2åªèƒ½è¢«åŠ¨ç­‰å¾…ï¼Œæ”¹ä¸‹ä»£ç &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        Thread thread1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; ThreadDemo6(),&quot;Thread-1&quot;&lt;span&gt;);
        Thread thread2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; ThreadDemo6(),&quot;Thread-2&quot;&lt;span&gt;);
        thread1.start();
        thread2.start();
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;1&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;2&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;3&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;4&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;5&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;6&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;7&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;8&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;9&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;10&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;1&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;2&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;3&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;4&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;5&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;6&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;7&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;8&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;9&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;10&lt;br/&gt;åœé¡¿ã€‚ã€‚
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡é”ï¼Œæ‰€ä»¥çº¿ç¨‹1å’Œçº¿ç¨‹2ä¸å­˜åœ¨é”çš„äº’æ–¥ï¼Œå¹¶ä¸”ä¸å­˜åœ¨å…±äº«èµ„æºcountå˜é‡ï¼Œæ‰€ä»¥å¤šä¸ªçº¿ç¨‹è®¿é—®çš„å¿…é¡»æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œé”æ‰ä¼šå˜å¾—æœ‰æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é™æ€åŒæ­¥æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; ThreadDemo6 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Runnable {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        say();
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;synchronized&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; say(){
        &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; ++&lt;span&gt;i){
            count&lt;/span&gt;++&lt;span&gt;;
            System.out.println(&lt;/span&gt;&quot;ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ=&amp;gt;&quot; + Thread.currentThread().getName() + &quot;ç»“æœä¸º-&amp;gt;&quot; +&lt;span&gt; count);
        }
        &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
            Thread.sleep(&lt;/span&gt;5000&lt;span&gt;);
        } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
            e.printStackTrace();
        }
    }


    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        Thread thread1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; ThreadDemo6(),&quot;Thread-1&quot;&lt;span&gt;);
        Thread thread2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; ThreadDemo6(),&quot;Thread-2&quot;&lt;span&gt;);
        thread1.start();
        thread2.start();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;1&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;2&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;3&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;4&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;5&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;6&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;7&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;8&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;9&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-1ç»“æœä¸º-&amp;gt;10
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;åœé¡¿&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;11&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;12&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;13&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;14&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;15&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;16&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;17&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;18&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;19&lt;span&gt;
ç°åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œ&lt;/span&gt;=&amp;gt;Thread-2ç»“æœä¸º-&amp;gt;20
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å³ä½¿ä»–ä»¬æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œä½†æ‰§è¡Œçš„éƒ½æ˜¯ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œåœ¨æ‰§è¡ŒåŒæ­¥é™æ€æ–¹æ³•æ—¶ï¼Œäº‰æŠ¢çš„æ˜¯ç±»é”ï¼Œè¿™ä¹Ÿæ˜¯å’Œéé™æ€åŒæ­¥æ–¹æ³•æ‰€åŒºåˆ«å¼€æ¥ã€‚å› ä¸ºä»–ä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„é”ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡é”ï¼Œä¸€ä¸ªæ˜¯ç±»é”ã€‚æ‰€ä»¥ï¼Œåœ¨ä»£ç ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶æŠ¢æœ‰å¯¹è±¡é”ï¼Œç±»é”ã€‚&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Â monitorå’Œmonitorexit&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Javaçš„äº’æ–¥é”æ˜¯å¦‚ä½•çš„å®ç°çš„ï¼Œ&lt;code class=&quot;language-bash hljs&quot;&gt;javap -verbose ThreadDemo3.class&lt;/code&gt; çœ‹ä¸‹å­—èŠ‚ç å­ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ­¥ä»£ç å—&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430153943891-1937958587.png&quot; alt=&quot;&quot;/&gt;Â Â Â  &lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430153957075-1110824226.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â éé™æ€æ–¹æ³•åŒæ­¥&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430155541997-2055383624.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â é™æ€æ–¹æ³•åŒæ­¥&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430155905332-2082251002.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â åŒæ­¥å—ä¸­monitorè¢«å ç”¨å°±å¤„äºé”å®šçŠ¶æ€ï¼Œå…¶ä»–æœ¬æ¬¡æŠ¢é”å¤±è´¥çš„çº¿ç¨‹å°†ä¼šæ”¾å…¥Wait Setç­‰å¾…åŒæ­¥é˜Ÿåˆ—ä¸­è¿›è¡Œç­‰å¾…ï¼Œå ç”¨é”çš„çº¿ç¨‹æ‰§è¡Œå®ŒåŒæ­¥å—å¹¶ä¸”é‡Šæ”¾é”åå°†ä¼šé€šçŸ¥æ”¾å…¥åŒæ­¥é˜Ÿåˆ—çš„çš„å…¶ä»–çº¿ç¨‹ï¼Œé€šçŸ¥ä»–ä»¬ï¼Œæˆ‘é‡Šæ”¾é”äº†èµ¶ç´§æ¥æŠ¢å§ï¼è€Œç›¸å¯¹äºæ™®é€šçš„é™æ€åŒæ­¥æ–¹æ³•å’Œéé™æ€åŒæ­¥æ–¹æ³•ï¼Œå¸¸é‡æ± æ±‡ä¸­å¤šäº†ACC_SYNCHRONIZEDæ ‡è®°ï¼Œæ–¹æ³•è°ƒç”¨å°±ä¼šå»æ£€æŸ¥æ˜¯ä¸æ˜¯æœ‰è¿™ä¸ªæ ‡è®°å¦‚æœæœ‰ï¼Œjvmå°±ä¼šè¦æ±‚çº¿ç¨‹åœ¨è°ƒç”¨å‰å…ˆè¯·æ±‚é”ï¼Œä½†æ— è®ºå“ªç§å®ç°ï¼Œåœ¨å®è´¨ä¸Šè¿˜æ˜¯é€šè¿‡å¯¹è±¡ç›¸å…³è”çš„çš„monitorè·å–çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430205057774-483911882.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è€Œmonitoræ˜¯ä»€ä¹ˆå“ªï¼Ÿå®ƒæ˜¯æ¯ä¸ªå¯¹è±¡åˆ›å»ºä¹‹åéƒ½ä¼šåœ¨jvmå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªä¸ä¹‹å¯¹åº”Monitorï¼ˆç›‘è§†å™¨é”ï¼‰ä¹Ÿæœ‰äººå«ç®¡ç¨‹åæ­£éƒ½æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œå¯ä»¥ç†è§£ä¸ºæ¯ä¸ªå¯¹è±¡å¤©ç”Ÿéƒ½æœ‰ä¸€æŠŠçœ‹ä¸è§çš„é”æˆ‘ä»¬å«ä»–monitoré”ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹ä¼šæœ‰ä¸€ä¸ªå¯ç”¨çš„MRï¼ˆMonitor Recordï¼‰åˆ—è¡¨ï¼Œè¿˜æœ‰ä¸€ä¸ªå…¨å±€å¯ç”¨åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªè¢«é”ä½çš„å¯¹è±¡éƒ½ä¼šå’Œä¸€ä¸ªMRç›¸å…³è”ï¼Œå¹¶ä¸”å¯¹è±¡monitorä¸­ä¼šæœ‰ä¸€ä¸ªownerå­—æ®µå­˜æ”¾å ç”¨è¯¥é”çº¿ç¨‹å”¯ä¸€æ ‡è¯†ï¼Œè¡¨ç¤ºè¿™ä¸ªé”å·²ç»è¢«å“ªä¸ªçº¿ç¨‹å ç”¨ï¼Œ&lt;span&gt;synchronized&lt;/span&gt;å°±æ˜¯åŸºäºè¿›å…¥ä¸é€€å‡ºMonitorå¯¹è±¡å®ç°æ–¹æ³•ä¸ä»£ç å—åŒæ­¥ï¼Œè€Œç›‘è§†å™¨é”çš„å®ç°å“ªæ˜¯ä¾èµ–åº•å±‚æ“ä½œç³»ç»ŸMutexÂ lockï¼ˆäº’æ–¥é”)ï¼Œå®ƒæ˜¯ä¸€ä¸ªé‡é‡çº§é”ï¼Œæ¯æ¬¡ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…çš„æ€çš„èµ„æºæ¶ˆè€—æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œä¹Ÿå› æ­¤ä»jdk1.6åï¼Œjavaå¯¹synchronizedè¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»ä¸€å¼€å§‹çš„æ— é”çŠ¶æ€-&amp;gt;åå‘é”çŠ¶æ€-&amp;gt;è½»é‡çº§é”çŠ¶æ€-&amp;gt;é‡é‡çº§é”çŠ¶æ€ï¼Œå¹¶ä¸”è¿™ä¸ªçŠ¶æ€æ˜¯ä¸å¯é€†çš„ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;jvmåŠ é”è¿‡ç¨‹&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430214727110-880942735.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;Â å¯¹è±¡å†…å­˜ç»“æ„&lt;/h3&gt;
&lt;p&gt;Â ä¸Šæ–‡è¯´è¿‡æ¯ä¸ªJavaå¯¹è±¡éƒ½æ˜¯å¤©ç”Ÿçš„é”ï¼Œå­˜æ”¾åœ¨Javaçš„å¯¹è±¡å¤´ä¸­ï¼Œå¯¹è±¡å¤´åŒ…å«ä¸‰ä¸ªåŒºåŸŸï¼Œå¯¹è±¡å¤´ï¼Œå®ä¾‹æ•°æ®ï¼Œè¡¥é½å¡«å……&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1333075/202004/1333075-20200430221131763-160044015.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€éƒ¨åˆ†æ˜¯å­˜å‚¨å¯¹è±¡è‡ªèº«è¿è¡Œæ—¶çš„æ•°æ®ï¼Œå“ˆå¸Œç ï¼ŒGCï¼Œåå‘æ—¶é—´æˆ³ï¼Œä¿å­˜å¯¹è±¡çš„åˆ†ä»£å¹´é¾„ï¼Œé”çŠ¶æ€æ ‡å¿—ï¼Œåå‘é”çº¿ç¨‹idï¼Œçº¿ç¨‹æŒæœ‰çš„é”ï¼Œå¦‚æœæ˜¯æ•°ç»„è¿˜éœ€è¦ä¸€å—åŒºåŸŸå­˜æ”¾æ•°ç»„å¤§å°ï¼Œclassçš„å¯¹è±¡æŒ‡é’ˆæ˜¯è™šæ‹Ÿæœºé€šè¿‡ä»–ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ï¼Œæˆ‘ä»¬å¹³æ—¶getClassç›´æ¥è·å–ç±»å°±è·Ÿè¿™ä¸ªæœ‰å…³ï¼Œå®˜æ–¹ç§°è¿™éƒ¨åˆ†ä¸ºMark Wordï¼Œç¬¬äºŒéƒ¨åˆ†ç•¥è¿‡ï¼Œç¬¬ä¸‰éƒ¨åˆ†è§„å®šå¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€ï¼Œè‡³äºä¸ºä»€ä¹ˆï¼Œlzæ²¡å»æ·±ç©¶æš‚æ—¶ä¸çŸ¥é“ã€‚æˆ‘ä»¬é‡ç‚¹å…³æ³¨æ˜¯Mark Wordçš„é”æ ‡å¿—ä½ï¼Œæ‰€ä»¥é”çš„çŠ¶æ€æ˜¯ä¿å­˜åœ¨å¯¹è±¡å¤´ä¸­çš„ï¼Œè‡³äºåå‘çŠ¶æ€ï¼Œç¯‡å¹…æœ‰é™ï¼Œä¸‹èŠ‚åœ¨è°ˆã€‚&lt;/p&gt;
&lt;h3&gt;é”çš„ç²—åŒ–å’Œæ¶ˆé™¤&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é”çš„ç²—åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é”å¸¦æ¥æ€§èƒ½å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œä¸ºäº†ä¿è¯å¤šçº¿ç¨‹çš„å¹¶å‘æ“ä½œï¼Œé€šå¸¸ä¼šè¦æ±‚æ¯ä¸ªçº¿ç¨‹æŒæœ‰é”çš„æ—¶é—´è¶ŠçŸ­è¶Šå¥½ï¼Œä½†å¦‚æœé‡åˆ°ä¸€è¿ä¸²å¯¹åŒä¸€æŠŠé”è¿›è¡Œè¯·æ±‚å’Œé‡Šæ”¾çš„æ“ä½œï¼Œjvmä¼šè¿›è¡Œä¼˜åŒ–æ™ºèƒ½çš„æŠŠé”æ“ä½œçš„æ•´åˆæˆä¸€ä¸ªè¾ƒå¤§åŒæ­¥å—ï¼Œä»è€Œå‡å°‘äº†å¯¹é”çš„é¢‘ç¹ç”³è¯·å’Œé‡Šæ”¾æé«˜æ€§èƒ½ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; ThreadDemo7 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Runnable {
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; test(){
        &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;&lt;span&gt;){
            System.out.println(&lt;/span&gt;1111&lt;span&gt;);
        }
        &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;&lt;span&gt;){
            System.out.println(&lt;/span&gt;222&lt;span&gt;);
        }
        &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;&lt;span&gt;){
            System.out.println(&lt;/span&gt;333&lt;span&gt;);
        }
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        ThreadDemo7 threadDemo7 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ThreadDemo7();
        Thread thread &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Thread(threadDemo7);
        thread.start();
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        test();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;é”çš„æ¶ˆé™¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è®¾ç½®äº†åŒæ­¥å—ï¼Œåœ¨å­—èŠ‚ç ä¸­ä¹Ÿå‘ç°äº†monitorenterå’Œmonitorexitï¼Œè‡³å°‘çœ‹ä¸Šå»æœ‰é”çš„è·å–å’Œé‡Šæ”¾è¿‡ç¨‹ï¼Œä½†æ‰§è¡Œçš„ç»“æœä¸æˆ‘ä»¬é¢„æµ‹çš„é£é©¬ç‰›ä¸ç›¸åŠã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; ThreadDemo8 &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Runnable {
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Object()){
            count&lt;/span&gt;++&lt;span&gt;;
            System.out.println(&lt;/span&gt;&quot;é”çš„æ¶ˆé™¤...=&amp;gt;&quot;  + Thread.currentThread().getName() + &quot;å€¼=&amp;gt;&quot; +&lt;span&gt; count);
        }
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        ThreadDemo8 threadDemo8 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ThreadDemo8();
        &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; ++&lt;span&gt;i){
            Thread thread &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Thread(threadDemo8);
            thread.start();
        }
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
é”çš„æ¶ˆé™¤...=&amp;gt;Thread-6å€¼=&amp;gt;4&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-4å€¼=&amp;gt;2&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-5å€¼=&amp;gt;4&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-0å€¼=&amp;gt;4&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-1å€¼=&amp;gt;6&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-2å€¼=&amp;gt;6&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-3å€¼=&amp;gt;7&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-9å€¼=&amp;gt;8&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-7å€¼=&amp;gt;9&lt;span&gt;
é”çš„æ¶ˆé™¤...&lt;/span&gt;=&amp;gt;Thread-8å€¼=&amp;gt;10
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºjitåœ¨ç¼–è¯‘ä»£ç æ—¶ï¼Œä½¿ç”¨äº†é€ƒé€¸åˆ†æçš„æŠ€æœ¯ï¼Œåˆ¤æ–­ç¨‹åºä¸­çš„ä½¿ç”¨é”çš„å¯¹è±¡æ˜¯å¦è¢«å…¶ä»–çº¿ç¨‹ä½¿ç”¨ï¼Œå¦‚æœåªè¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œè¿™ä¸ªåŒæ­¥ä»£ç å°±ä¸ä¼šç”Ÿæˆsynchronizedé”æ ‡è¯†çš„é”ç”³è¯·å’Œé‡Šæ”¾çš„æœºå™¨ç ï¼Œæ¶ˆé™¤äº†é”çš„ä½¿ç”¨æµç¨‹ã€‚æ‰€ä»¥ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡éƒ½å­˜æ”¾åœ¨å †åŒºï¼Œå¦‚æœå‘ç”Ÿçº¿ç¨‹é€ƒé€¸è¡Œä¸ºï¼Œå°†ä¼šå­˜å‚¨åœ¨çº¿ç¨‹æ ˆä¸Šã€‚&lt;/p&gt;
&lt;h3&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;é”çš„é‡å…¥å’Œé”è†¨èƒ€å‡çº§ï¼Œåœ¨åæœŸåœ¨æ…¢æ…¢æ•´ç†ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒ&lt;/p&gt;
&lt;p&gt;https://blog.csdn.net/axiaoboge/article/details/84335452&lt;/p&gt;
&lt;p&gt;https://www.cnblogs.com/xrq730/p/4853578.html&lt;/p&gt;

</description>
<pubDate>Thu, 30 Apr 2020 15:21:00 +0000</pubDate>
<dc:creator>16bit</dc:creator>
<og:description>æ¦‚è¿° javaæœ‰å„ç§å„æ ·çš„é”ï¼Œå¹¶ä¸”æ¯ç§é”çš„ç‰¹æ€§ä¸åŒï¼Œåˆç†åœºæ™¯ä¸‹åˆ©ç”¨é”å¯ä»¥å±•ç°å‡ºéå¸¸é«˜çš„æ•ˆç‡ã€‚synchronizedå†…ç½®é”å°±æ˜¯Javaçš„ä¸€ç§é‡é‡çº§é”ï¼Œå®ƒèƒ½å¤Ÿè§£å†³å¹¶å‘ç¼–ç¨‹ä¸­å‡ºç°å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå…±äº«ï¼Œ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/dslx/p/12787683.html</dc:identifier>
</item>
<item>
<title>abp(net core)+easyui+efcoreå®ç°ä»“å‚¨ç®¡ç†ç³»ç»Ÿâ€”â€”å…¥åº“ç®¡ç†ä¹‹å(å››åå…­)  - DotNetèœå›­</title>
<link>http://www.cnblogs.com/chillsrc/p/12811725.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/chillsrc/p/12811725.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;å››&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;ã€ä¿®æ”¹ä¸åˆ é™¤&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;å…¥åº“å•&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.åœ¨Visual Studio 2017çš„è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ä¸­ï¼ŒæŒ‰F5è¿è¡Œåº”ç”¨ç¨‹åºã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.åœ¨æµè§ˆå™¨ä¸­çš„åœ°å€æ ä¸­è¾“å…¥â€œhttp://localhost:5000/â€ï¼Œç„¶åè¾“å…¥ç®¡ç†å‘˜ç”¨æˆ·åè¿›è¡Œç™»å½•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3.åœ¨ä¸»ç•Œé¢çš„èœå•ä¸­ï¼Œé€‰æ‹©â€œBusiness-&amp;gt;&lt;span&gt;å…¥åº“&lt;/span&gt;&lt;span&gt;ç®¡ç†&lt;/span&gt;â€èœå•é¡¹ï¼Œæµè§ˆå™¨ä¸­å‘ˆç°ä¸€ä¸ªç»„ç»‡ä¿¡æ¯åˆ—è¡¨ä¸&lt;span&gt;äº”&lt;/span&gt;&lt;span&gt;ä¸ªæŒ‰é’®ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231305924-798308475.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4.ç„¶ååœ¨ç»„ç»‡ä¿¡æ¯åˆ—è¡¨ä¸­é€‰ä¸­ä¸€æ¡&lt;span&gt;å…¥åº“å•&lt;/span&gt;&lt;span&gt;ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨é¼ æ ‡ç‚¹å‡»&lt;/span&gt;â€œä¿®æ”¹â€æŒ‰é’®ï¼Œå¯¹&lt;span&gt;å…¥åº“å•&lt;/span&gt;&lt;span&gt;è¿›è¡Œä¿®æ”¹ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231316039-1155309718.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;5.å¯¹äº&lt;span&gt;å…¥åº“å•&lt;/span&gt;&lt;span&gt;ä¿¡æ¯è¿›è¡Œä¿®æ”¹å®Œæˆä¹‹åï¼Œç‚¹å‡»&lt;/span&gt;â€œä¿å­˜â€æŒ‰é’®ï¼Œå¼¹å‡ºä¸€ä¸ªâ€œæ‚¨ç¡®è®¤è¦&lt;span&gt;ä¿®æ”¹&lt;/span&gt;&lt;span&gt;å—ï¼Ÿ&lt;/span&gt;â€å¯¹è¯æ¡†ã€‚ç‚¹å‡»å¯¹è¯æ¡†ä¸­çš„â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;span&gt;ç„¶åä¼šå‡ºç°ä¿®æ”¹å…¥åº“å•ç•Œé¢ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231323785-459611947.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;6.å¦‚æœä¿®æ”¹æˆåŠŸï¼Œä¼šæœ‰ä¸€ä¸ªâ€œ&lt;span&gt;æ›´æ–°&lt;/span&gt;&lt;span&gt;æˆåŠŸ&lt;/span&gt;â€çš„æç¤ºä¿¡æ¯ï¼ŒåŒæ—¶æ›´æ–°&lt;span&gt;å…¥åº“å•ç®¡ç†&lt;/span&gt;&lt;span&gt;åˆ—è¡¨ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231331039-186973431.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;7.&lt;span&gt;åœ¨&lt;/span&gt;&lt;span&gt;å…¥åº“å•ç®¡ç†&lt;/span&gt;&lt;span&gt;åˆ—è¡¨ä¸­é€‰ä¸­ä¸€æ¡&lt;/span&gt;&lt;span&gt;å…¥åº“å•ä¿¡&lt;/span&gt;&lt;span&gt;æ¯ï¼Œç„¶åä½¿ç”¨é¼ æ ‡ç‚¹å‡»&lt;/span&gt;â€œåˆ é™¤â€æŒ‰é’®ã€‚ä¼š&lt;span&gt;å¼¹å‡ºä¸€ä¸ª&lt;/span&gt;â€œæ‚¨ç¡®è®¤è¦åˆ é™¤å—ï¼Ÿâ€å¯¹è¯æ¡†ã€‚ç‚¹å‡»å¯¹è¯æ¡†ä¸­çš„â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;span&gt;å¦‚ä¸‹å›¾ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231338860-1051824871.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;8.&lt;span&gt;å¦‚æœåˆ é™¤æˆåŠŸï¼Œä¼šæœ‰ä¸€ä¸ª&lt;/span&gt;â€œåˆ é™¤æˆåŠŸï¼â€çš„æç¤ºä¿¡æ¯ï¼ŒåŒæ—¶æ›´æ–°&lt;span&gt;å…¥åº“å•ç®¡ç†&lt;/span&gt;&lt;span&gt;åˆ—è¡¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/10343/202004/10343-20200430231347158-646224267.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 15:14:00 +0000</pubDate>
<dc:creator>DotNetèœå›­</dc:creator>
<og:description>åœ¨ä¹‹å‰çš„æ–‡ç« abp(net core)+easyui+efcoreå®ç°ä»“å‚¨ç®¡ç†ç³»ç»Ÿâ€”â€”å…¥åº“ç®¡ç†ä¹‹ä¹(å››åäº”) ä¸­æˆ‘ä»¬å·²ç»å®ç°äº†ä¿®æ”¹ä¸åˆ é™¤å…¥åº“å•ï¼Œä»Šå¤©æ¥æµ‹è¯•ä¸€ä¸‹å…¥åº“å•çš„ä¿®æ”¹ä¸åˆ é™¤åŠŸèƒ½ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/chillsrc/p/12811725.html</dc:identifier>
</item>
<item>
<title>é€å½»ç†è§£C++11æ–°ç‰¹æ€§ï¼šå³å€¼å¼•ç”¨ã€std::moveã€std::forward - KillerAery</title>
<link>http://www.cnblogs.com/KillerAery/p/12802771.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/KillerAery/p/12802771.html</guid>
<description>&lt;p&gt;C++11å‡ºç°çš„å³å€¼ç›¸å…³è¯­æ³•å¯è°“æ˜¯å¾ˆå¤šC++ç¨‹åºå‘˜éš¾ä»¥ç†è§£çš„æ–°ç‰¹æ€§ï¼Œä¸å°‘äººçŸ¥å…¶ç„¶è€Œä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œé¢è¯•è¢«é—®åˆ°æ—¶å¤§æ¦‚å°±åªçŸ¥é“å¯ä»¥å‡å°‘å¼€é”€ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå‡å°‘å¼€é”€ã€å‡å°‘äº†å¤šå°‘å¼€é”€ã€ä»€ä¹ˆæ—¶å€™ç”¨...è¿™äº›é—®é¢˜ä¹Ÿä¸ä¸€å®šçŸ¥é“ï¼Œäºæ˜¯æˆ‘å†™ä¸‹äº†è¿™ç¯‡å¤¹å¸¦è‡ªå·±ç†è§£çš„åšæ–‡ï¼Œå¸Œæœ›å®ƒå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;åœ¨ä»‹ç»å³å€¼å¼•ç”¨ç­‰æ¦‚å¿µä¹‹å‰ï¼Œå¯ä»¥å…ˆæ¥è®¤è¯†ä¸‹æµ…æ‹·è´ï¼ˆshallow copyï¼‰å’Œæ·±æ‹·è´ï¼ˆdeep copyï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;class Vector{
    int num;
    int* a;
public:
    void ShallowCopy(Vector&amp;amp; v);
    void DeepCopy(Vector&amp;amp; v);
};
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;æµ…æ‹·è´ï¼šæŒ‰ä½æ‹·è´å¯¹è±¡ï¼Œåˆ›å»ºçš„æ–°å¯¹è±¡æœ‰ç€åŸå§‹å¯¹è±¡å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ï¼ˆä½†ä¸åŒ…æ‹¬æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//æµ…æ‹·è´
void Vector::ShallowCopy(Vector&amp;amp; v){
    this.num = v.num;
    this.a = v.a;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;æ·±æ‹·è´ï¼šæ‹·è´æ‰€æœ‰çš„å±æ€§ï¼ˆåŒ…æ‹¬å±æ€§æŒ‡å‘çš„åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œå½“å¯¹è±¡å’Œå®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ä¸€èµ·æ‹·è´æ—¶å³å‘ç”Ÿæ·±æ‹·è´ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//æ·±æ‹·è´
void Vector::DeepCopy(Vector&amp;amp; v){
    this.num = v.num;
    this.a = new int[num];
    for(int i=0;i&amp;lt;num;++i){a[i]=v.a[i]}
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæ·±æ‹·è´çš„å¼€é”€å¾€å¾€æ¯”æµ…æ‹·è´å¤§ï¼ˆé™¤éæ²¡æœ‰æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„å±æ€§ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å€¾å‘å°½å¯èƒ½ä½¿ç”¨æµ…æ‹·è´ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æµ…æ‹·è´çš„æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå½“æœ‰æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„å±æ€§æ—¶ï¼Œä¼šé€ æˆå¤šä¸ªå¯¹è±¡å…±ç”¨è¿™å—åŠ¨æ€åˆ†é…å†…å­˜ï¼Œä»è€Œå¯èƒ½å¯¼è‡´å†²çªã€‚ä¸€ä¸ªå¯è¡Œçš„åŠæ³•æ˜¯ï¼šæ¯æ¬¡åšæµ…æ‹·è´åï¼Œå¿…é¡»ä¿è¯åŸå§‹å¯¹è±¡ä¸å†è®¿é—®è¿™å—å†…å­˜ï¼ˆå³è½¬ç§»æ‰€æœ‰æƒï¼‰ï¼Œè¿™æ ·å°±ä¿è¯è¿™å—å†…å­˜æ°¸è¿œåªè¢«ä¸€ä¸ªå¯¹è±¡ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æœ‰ä»€ä¹ˆå¯¹è±¡åœ¨è¢«æ‹·è´åå¯ä»¥ä¿è¯ä¸å†è®¿é—®è¿™å—å†…å­˜å‘¢ï¼Ÿç›¸ä¿¡å¤§å®¶å¿ƒé‡Œéƒ½æœ‰ç­”æ¡ˆï¼šä¸´æ—¶å¯¹è±¡ã€‚&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;ä¸ºäº†è®©ç¼–è¯‘å™¨è¯†åˆ«å‡ºä¸´æ—¶å¯¹è±¡ï¼Œä»è€Œå¥½åšæµ…æ‹·è´ä¼˜åŒ–ï¼Œäºæ˜¯C++å¼•å…¥äº†å·¦å€¼ï¼ˆlvalueï¼‰ã€å³å€¼ï¼ˆrvalueï¼‰çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å·¦å€¼ï¼šè¡¨è¾¾å¼ç»“æŸåä¾ç„¶å­˜åœ¨çš„æŒä¹…å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;å³å€¼ï¼šè¡¨è¾¾å¼ç»“æŸåå°±ä¸å†å­˜åœ¨çš„ä¸´æ—¶å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¹‹æ‰€ä»¥å–åå·¦å€¼å³å€¼ï¼Œæ˜¯å› ä¸ºåœ¨ç­‰å¼å·¦è¾¹çš„å€¼å¾€å¾€æ˜¯æŒä¹…å­˜åœ¨çš„å·¦å€¼ç±»å‹ï¼Œåœ¨ç­‰å¼å³è¾¹çš„è¡¨è¾¾å¼å€¼å¾€å¾€æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;a = ++b;
a = b+c*2;
a = func();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ›´ç›´è§‚çš„ç†è§£æ˜¯ï¼šæœ‰å˜é‡åã€å¯ä»¥å–åœ°å€çš„å¯¹è±¡éƒ½æ˜¯å·¦å€¼ï¼Œæ²¡æœ‰å˜é‡åã€ä¸å¯ä»¥å–åœ°å€çš„éƒ½æ˜¯å³å€¼ã€‚ï¼ˆå› ä¸ºæœ‰æ— å˜é‡åæ„å‘³ç€è¿™ä¸ªå¯¹è±¡æ˜¯å¦åœ¨ä¸‹ä¸€è¡Œä»£ç æ—¶ä¾ç„¶å­˜åœ¨ï¼‰&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;æœ‰äº†å·¦å€¼ã€å³å€¼çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å°±å¾ˆæ¸…æ¥šè®¤è¯†åˆ°å³å€¼éƒ½æ˜¯äº›çŸ­æš‚å­˜åœ¨çš„ä¸´æ—¶å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ï¼ŒC++11 ä¸ºäº†åŒ¹é…è¿™äº›å·¦å³å€¼ç±»å‹ï¼Œå¼•å…¥äº†å³å€¼å¼•ç”¨ç±»å‹ &lt;strong&gt;&amp;amp;&amp;amp;&lt;/strong&gt; ã€‚&lt;br/&gt;å³å€¼å¼•ç”¨ç±»å‹è´Ÿè´£åŒ¹é…å³å€¼ï¼Œå·¦å€¼å¼•ç”¨åˆ™è´Ÿè´£åŒ¹é…å·¦å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤åˆšåˆšçš„æµ…æ‹·è´ã€æ·±æ‹·è´ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥æ— éœ€æ˜¾å¼è°ƒç”¨æµ…æ‹·è´æˆ–æ·±æ‹·è´å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨é‡è½½å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//å·¦å€¼å¼•ç”¨å½¢å‚=&amp;gt;åŒ¹é…å·¦å€¼
void Vector::Copy(Vector&amp;amp; v){
    this.num = v.num;
    this.a = new int[num];
    for(int i=0;i&amp;lt;num;++i){a[i]=v.a[i]}
}

//å³å€¼å¼•ç”¨å½¢å‚=&amp;gt;åŒ¹é…å³å€¼
void Vector::Copy(Vector&amp;amp;&amp;amp; temp){
    this.num = temp.num;
    this.a = temp.a;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“ç„¶ï¼Œæœ€æ ‡å‡†è¿˜æ˜¯ç¼–å†™æˆå„ç§æ„é€ å‡½æ•°ï¼ˆæ‹·è´æ„é€ ã€ç§»åŠ¨æ„é€ ã€èµ‹å€¼æ„é€ ã€ç§»åŠ¨èµ‹å€¼æ„é€ ï¼‰ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;ç§»åŠ¨çš„æ„æ€æ˜¯è½¬ç§»æ‰€æœ‰æƒã€‚ç”±äºå³å€¼ &lt;strong&gt;å¤§éƒ¨åˆ†&lt;/strong&gt; éƒ½æ˜¯ä¸´æ—¶çš„å€¼ï¼Œä¸´æ—¶å€¼é‡Šæ”¾åä¹Ÿå°±ä¸å†æŒæœ‰å±æ€§çš„æ‰€æœ‰æƒï¼Œå› æ­¤è¿™ç›¸å½“äºè½¬ç§»æ‰€æœ‰æƒçš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//æ‹·è´æ„é€ å‡½æ•°ï¼šè¿™æ„å‘³ç€æ·±æ‹·è´
Vector::Vector(Vector&amp;amp; v){
    this.num = v.num;
    this.a = new int[num];
    for(int i=0;i&amp;lt;num;++i){a[i]=v.a[i]}
}
//ç§»åŠ¨æ„é€ å‡½æ•°ï¼šè¿™æ„å‘³ç€æµ…æ‹·è´
Vector::Vector(Vector&amp;amp;&amp;amp; temp){
    this.num = temp.num;
    this.a = temp.a;
    temp.a = nullptr;    //å®é™…ä¸ŠVectorä¸€èˆ¬éƒ½ä¼šåœ¨ææ„å‡½æ•°æ¥é‡Šæ”¾æŒ‡å‘çš„å†…å­˜ï¼Œæ‰€ä»¥éœ€èµ‹å€¼ç©ºåœ°å€é¿å…é‡Šæ”¾
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;è™½ç„¶ä»ä¼˜é›…çš„å®ç°æ·±ã€æµ…æ‹·è´è¿™ä¸ªç›®çš„å¼€å§‹å‡ºå‘ï¼ŒC++11çš„ç§»åŠ¨è¯­ä¹‰å¯ä»¥ä¸æ­¢ç”¨äºæµ…æ‹·è´ï¼Œå¾—ç›Šäºè½¬ç§»æ‰€æœ‰æƒçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšå…¶å®ƒäº‹æƒ…ï¼Œä¾‹å¦‚åœ¨å³å€¼æ‰€å æœ‰çš„ç©ºé—´ä¸´æ—¶å­˜æ”¾ä¸€äº›ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr/&gt;&lt;p&gt;é™¤äº†ä¸Šé¢è¯´çš„ä¸´æ—¶å€¼ï¼Œæœ‰äº›å·¦å€¼å…¶å®ä¹Ÿå¾ˆé€‚åˆè½¬ç§»æ‰€æœ‰æƒï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;void func(){
    Vector result;
    //...DoSomehing with ans
    if(xxx){ans = result;}  //ç°åœ¨æˆ‘å¸Œæœ›æŠŠç»“æœæå–åˆ°å¤–éƒ¨çš„å˜é‡aä¸Šã€‚
    return;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°resultèµ‹å€¼ç»™ansåå°±ä¸å†è¢«ä½¿ç”¨ï¼Œæˆ‘ä»¬æœŸæœ›å®ƒè°ƒç”¨çš„æ˜¯ç§»åŠ¨èµ‹å€¼æ„é€ å‡½æ•°ã€‚&lt;br/&gt;ä½†æ˜¯resultæ˜¯ä¸€ä¸ªæœ‰å˜é‡åçš„å·¦å€¼ç±»å‹ï¼Œå› æ­¤ans = result è°ƒç”¨çš„æ˜¯èµ‹å€¼æ„é€ å‡½æ•°è€Œéç§»åŠ¨èµ‹å€¼æ„é€ å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å°†æŸäº›å·¦å€¼å½“æˆå³å€¼ä½¿ç”¨ï¼ŒC++11 æä¾›äº† &lt;strong&gt;std::move&lt;/strong&gt; å‡½æ•°ä»¥ç”¨äºå°†æŸäº›å·¦å€¼è½¬æˆå³å€¼ï¼Œä»¥åŒ¹é…å³å€¼å¼•ç”¨ç±»å‹ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯ç§»åŠ¨è¯­ä¹‰çš„ç”±æ¥ï¼šæ— è®ºæ˜¯ä¸´æ—¶å€¼è¿˜æ˜¯è¢«å¼ºè½¬çš„å·¦å€¼ï¼Œåªè¦éµå®ˆè½¬ç§»æ‰€æœ‰æƒçš„ä¿è¯ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;void func(){
    Vector result;
    //...DoSomehing with ans
    if(xxx){ans = std::move(result);}   //è°ƒç”¨çš„æ˜¯ç§»åŠ¨èµ‹å€¼æ„é€ å‡½æ•°
    return;
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;hr/&gt;&lt;h2 id=&quot;å³å€¼å¼•ç”¨ç±»å‹å’Œå³å€¼çš„å…³ç³»&quot;&gt;å³å€¼å¼•ç”¨ç±»å‹å’Œå³å€¼çš„å…³ç³»&lt;/h2&gt;
&lt;p&gt;æœ‰äº†ä¸Šé¢çš„çŸ¥è¯†åï¼Œæˆ‘ä»¬æ¥é‡æ–°å®¡è§†ä¸€ä¸‹å³å€¼å¼•ç”¨ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;void test(Vector&amp;amp; o) {std::cout &amp;lt;&amp;lt; &quot;ä¸ºå·¦å€¼ã€‚&quot; &amp;lt;&amp;lt; std::endl;}
void test(Vector&amp;amp;&amp;amp; temp) {std::cout &amp;lt;&amp;lt; &quot;ä¸ºå³å€¼ã€‚&quot; &amp;lt;&amp;lt; std::endl;}

int main(){
    Vector a;
        Vector&amp;amp;&amp;amp; b = Vector();
        //è¯·åˆ†åˆ«å›ç­”ï¼šaã€std::move(a)ã€b åˆ†åˆ«æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Ÿ
        test(a);
        test(std::move(a));
        test(b);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç­”ï¼šaæ˜¯å·¦å€¼ï¼Œstd::move(a)æ˜¯å³å€¼ï¼Œä½†bå´æ˜¯å·¦å€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œbè™½ç„¶æ˜¯ Vector&amp;amp;&amp;amp; ç±»å‹ï¼Œä½†å´å› ä¸ºæœ‰å˜é‡åï¼ˆå³å¯æŒä¹…å­˜åœ¨ï¼‰ï¼Œè¢«ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å·¦å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//å³ä½¿å‡½æ•°è¿”è¿˜å€¼æ˜¯ä¸´æ—¶å€¼ï¼Œä½†è¿”è¿˜ç±»å‹æ˜¯å·¦å€¼å¼•ç”¨ç±»å‹ï¼Œå› æ­¤è¢«è®¤ä¸ºæ˜¯æŒä¹…å­˜åœ¨çš„å·¦å€¼ã€‚
Vector&amp;amp; func1();
//å‡½æ•°è¿”è¿˜å€¼ä¸ºå³å€¼å¼•ç”¨ç±»å‹=&amp;gt;æ˜¯çŸ­æš‚å­˜åœ¨çš„å³å€¼ã€‚
Vector&amp;amp;&amp;amp; func2();
//å‡½æ•°è¿”è¿˜å€¼ä¸ºæ­£å¸¸ç±»å‹=&amp;gt;æ˜¯çŸ­æš‚å­˜åœ¨çš„å³å€¼ã€‚
Vector func3();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼šå³å€¼å¼•ç”¨ç±»å‹åªæ˜¯ç”¨äºåŒ¹é…å³å€¼ï¼Œè€Œå¹¶éè¡¨ç¤ºä¸€ä¸ªå³å€¼ã€‚å› æ­¤ï¼Œå°½é‡ä¸è¦å£°æ˜å³å€¼å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œè€Œåªåœ¨å‡½æ•°å½¢å‚ä½¿ç”¨å®ƒä»¥åŒ¹é…å³å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;å®é™…ä¸ŠC++ std::moveçš„å®ç°åŸç†å°±æ˜¯çš„å¼ºè½¬å³å€¼å¼•ç”¨ç±»å‹å¹¶è¿”è¿˜ä¹‹ï¼Œç”±äºå‡½æ•°è¿”è¿˜å€¼ç±»å‹æ˜¯ä¸´æ—¶å€¼ï¼Œä¸”è¿”è¿˜çš„è¿˜æ˜¯å³å€¼å¼•ç”¨ç±»å‹ï¼ˆéå·¦å€¼å¼•ç”¨ç±»å‹ï¼‰ï¼Œå› æ­¤è¯¥è¿”è¿˜å€¼ä¼šè¢«åˆ¤æ–­ä¸ºå³å€¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å‡½æ•°å‚æ•°ä¼ é€’&quot;&gt;å‡½æ•°å‚æ•°ä¼ é€’&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;void func1(Vector v) {return;}
void func2(Vector &amp;amp;&amp;amp; v) {return;}

int main() {
        Vector a;
        Vector &amp;amp;b = a;
        Vector c;
        Vector d;

    //è¯·å›ç­”ï¼šä¸å¼€ä¼˜åŒ–çš„ç‰ˆæœ¬ä¸‹ï¼Œè°ƒç”¨ä»¥ä¸‹å‡½æ•°åˆ†åˆ«æœ‰å¤šå°‘Copy Consturctã€Move Constructçš„å¼€é”€ï¼Ÿ
        func1(a);
        func1(b);
        func1(std::move(c));
        func2(std::move(d));
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®é™…ä¸Šåœ¨ä¸å¼€ä¼˜åŒ–çš„ç‰ˆæœ¬ä¸‹ï¼Œå¦‚æœå®å‚ä¸ºå³å€¼ï¼Œè°ƒç”¨func1çš„å¼€é”€åªæ¯”func2å¤šäº†ä¸€æ¬¡ç§»åŠ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å®å‚ä¼ é€’ç»™å½¢å‚ï¼Œå³å½¢å‚ä¼šæ ¹æ®å®å‚æ¥æ„é€ ã€‚å…¶ç»“æœæ˜¯è°ƒç”¨äº†ç§»åŠ¨æ„é€ å‡½æ•°ï¼›å‡½æ•°ç»“æŸæ—¶åˆ™é‡Šæ”¾å½¢å‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å€˜è‹¥è¯´å¯¹è±¡çš„ç§»åŠ¨æ„é€ å‡½æ•°å¼€é”€è¾ƒä½ï¼ˆä¾‹å¦‚å†…éƒ¨ä»…ä¸€ä¸ªæŒ‡é’ˆå±æ€§ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨æ— å¼•ç”¨ç±»å‹çš„å½¢å‚å‡½æ•°æ˜¯æ›´ä¼˜é›…çš„é€‰æ‹©ï¼Œè€Œä¸”è¿˜èƒ½æ¥å—å·¦å€¼å¼•ç”¨ç±»å‹æˆ–æ— å¼•ç”¨çš„å®å‚ï¼ˆå°½ç®¡è¿™ä¸¤ç§å®å‚éƒ½ä¼šå¯¼è‡´ä¸€æ¬¡Copy Consturctï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æˆ‘ä»¬åœ¨å†™ä¸€èˆ¬å‡½æ•°å½¢å‚çš„æ—¶å€™ï¼Œæœ‰å¿…è¦æ¯ä¸ªå‡½æ•°éƒ½æä¾›å…³äº&amp;amp;&amp;amp;å½¢å‚çš„é‡è½½ç‰ˆæœ¬å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å›ç­”ï¼šä¸€èˆ¬æ¥è¯´æ˜¯æ²¡å¿…è¦çš„ã€‚å¯¹è±¡çš„ç§»åŠ¨æ„é€ ï¼ˆèµ‹å€¼ï¼‰å‡½æ•°å¼€é”€ä¸å¤§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åªæä¾›éå¼•ç”¨ç±»å‹å’Œå·¦å€¼å¼•ç”¨ç±»å‹ï¼ˆé¿å…Copy Constructï¼‰çš„é‡è½½ç‰ˆæœ¬ï¼Œè€Œä¸å¿…ç¼–å†™å³å€¼å¼•ç”¨ç±»å‹çš„é‡è½½ç‰ˆæœ¬ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‡½æ•°è¿”è¿˜å€¼ä¼ é€’&quot;&gt;å‡½æ•°è¿”è¿˜å€¼ä¼ é€’&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;Vector func1() {
    Vector a;
        return a;
}

Vector func2() {
        Vector a;
        return std::move(a);
}

Vector&amp;amp;&amp;amp; func3() {
        Vector a;
        return std::move(a);
}

int main() {
    //è¯·å›ç­”ï¼šä¸å¼€ä¼˜åŒ–çš„ç‰ˆæœ¬ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹3è¡Œä»£ç åˆ†åˆ«æœ‰å¤šå°‘Copy Consturctã€Move Constructçš„å¼€é”€ï¼Ÿ
        Vector test1 = func1();
        Vector test2 = func2();
        Vector test3 = func3();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ ·çš„é“ç†ï¼Œæ‰§è¡Œè¿™3è¡Œä»£ç å®é™…ä¸Šéƒ½æ²¡æœ‰ä»»ä½•Copy Constructçš„å¼€é”€ï¼ˆè¿™å…¶ä¸­ä¹Ÿæœ‰NRVæŠ€æœ¯çš„åŠŸåŠ³ï¼‰ï¼Œéƒ½æ˜¯åªæœ‰ä¸€æ¬¡Move Constructçš„å¼€é”€ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ­¤å¤–ä¸€æï¼Œfunc3æ˜¯å±é™©çš„ã€‚å› ä¸ºå±€éƒ¨å˜é‡é‡Šæ”¾åï¼Œå‡½æ•°è¿”è¿˜å€¼ä»æŒæœ‰å®ƒçš„å³å€¼å¼•ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› æ­¤ï¼Œè¿™é‡Œä¹Ÿä¸å»ºè®®å‡½æ•°è¿”è¿˜å³å€¼å¼•ç”¨ç±»å‹ï¼ŒåŒå‰é¢ä¼ é€’å‚æ•°ç±»ä¼¼çš„ï¼Œç§»åŠ¨æ„é€ å¼€é”€ä¸å¤§çš„æ—¶å€™ï¼Œç›´æ¥è¿”è¿˜éå¼•ç”¨ç±»å‹å°±è¶³å¤Ÿäº†ï¼ˆåœ¨æŸäº›ç‰¹æ®Šåœºåˆæœ‰ç‰¹åˆ«ä½œç”¨ï¼Œä¾‹å¦‚std::moveçš„å®ç°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼šæˆ‘ä»¬åº”è¯¥æŠŠç¼–å†™å³å€¼å¼•ç”¨ç±»å‹ç›¸å…³çš„ä»»åŠ¡æ”¾åœ¨å¯¹è±¡çš„æ„é€ ã€èµ‹å€¼å‡½æ•°ä¸Šï¼Œè€Œéä¸€èˆ¬å‡½æ•°ã€‚ä»æºå¤´ä¸Šå‡ºå‘ï¼Œä½ å°±ä¼šå‘ç°åœ¨ç¼–å†™å…¶å®ƒä»£ç æ—¶å°±ä¼šè‡ªç„¶è€Œç„¶äº«å—åˆ°äº†ç§»åŠ¨æ„é€ ã€ç§»åŠ¨èµ‹å€¼çš„ä¼˜åŒ–æ•ˆæœã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;æ¥ä¸‹æ¥çš„å†…å®¹éƒ½æ˜¯å±äºæ¨¡æ¿çš„éƒ¨åˆ†äº†ï¼šä¸‡èƒ½å¼•ç”¨ã€å¼•ç”¨æŠ˜å ã€å®Œç¾è½¬å‘ã€‚è¿™éƒ¨åˆ†æ›´åŠ éš¾ä»¥ç†è§£ï¼Œä¸ç¼–å†™æ¨¡æ¿ä»£ç çš„è¯å¯ä»¥ç»•é“äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‡èƒ½å¼•ç”¨ï¼ˆUniversal Referenceï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å‘ç”Ÿç±»å‹æ¨å¯¼ï¼ˆä¾‹å¦‚æ¨¡æ¿ã€autoï¼‰çš„æ—¶å€™ï¼Œä½¿ç”¨T&amp;amp;&amp;amp;ç±»å‹è¡¨ç¤ºä¸ºä¸‡èƒ½å¼•ç”¨ï¼Œå¦åˆ™è¡¨ç¤ºå³å€¼å¼•ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‡èƒ½å¼•ç”¨ç±»å‹çš„å½¢å‚æ—¢èƒ½åŒ¹é…ä»»æ„å¼•ç”¨ç±»å‹çš„å·¦å€¼ã€å³å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ç¼–å†™æ¨¡æ¿å‡½æ•°æ—¶ï¼Œåªæä¾›ä¸‡èƒ½å¼•ç”¨å½¢å‚ä¸€ä¸ªç‰ˆæœ¬å°±å¯ä»¥åŒ¹é…å·¦å€¼ã€å³å€¼ï¼Œä¸å¿…ç¼–å†™å¤šä¸ªé‡è½½ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;template&amp;lt;class T&amp;gt;
void func(T&amp;amp;&amp;amp; t){
    return;
}

int main() {
    Vector a,b;
        func(a);                //OK
        func(std::move(b));     //OK
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ­¤å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ä¸‡èƒ½å¼•ç”¨å‚æ•°çš„å‡½æ•°æ˜¯æœ€è´ªå©ªçš„å‡½æ•°ï¼Œå®¹æ˜“è®©éœ€è¦éšå¼è½¬æ¢çš„å®å‚åŒ¹é…åˆ°ä¸å¸Œæœ›çš„è½¬å‘å¼•ç”¨å‡½æ•°ã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;template&amp;lt;class T&amp;gt;
  void f(T&amp;amp;&amp;amp; value);

void f(int a);
//å½“è°ƒç”¨f(longç±»å‹çš„å‚æ•°)æˆ–è€…f(shortç±»å‹çš„å‚æ•°)ï¼Œåˆ™ä¸ä¼šåŒ¹é…intç‰ˆæœ¬è€Œæ˜¯åŒ¹é…åˆ°ä¸‡èƒ½å¼•ç”¨çš„ç‰ˆæœ¬
&lt;/code&gt;
&lt;/pre&gt;

&lt;hr/&gt;&lt;p&gt;ä½¿ç”¨ä¸‡èƒ½å¼•ç”¨é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯æ¨å¯¼ç±»å‹ä¼šå‡ºç°ä¸æ­£ç¡®çš„å¼•ç”¨ç±»å‹ï¼šä¾‹å¦‚å½“æ¨¡æ¿å‚æ•°Tä¸ºVector&amp;amp;æˆ–Vector&amp;amp;&amp;amp;ï¼Œæ¨¡æ¿å‡½æ•°å½¢å‚ä¸ºT&amp;amp;&amp;amp;æ—¶ï¼Œå±•å¼€åå˜æˆVector&amp;amp; &amp;amp;&amp;amp;æˆ–è€…Vector&amp;amp;&amp;amp; &amp;amp;&amp;amp;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;template&amp;lt;class T&amp;gt;
void func(T&amp;amp;&amp;amp; t){
    return;
}

int main(){
    func(Vector()); //æ¨¡æ¿å‚æ•°Tè¢«æ¨å¯¼ä¸ºVector&amp;amp;&amp;amp;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¾ç„¶C++ä¸­æ˜¯ä¸å…è®¸å¯¹å¼•ç”¨å†è¿›è¡Œå¼•ç”¨çš„ï¼Œäºæ˜¯ä¸ºäº†è®©æ¨¡æ¿å‚æ•°æ­£ç¡®ä¼ é€’å¼•ç”¨æ€§è´¨ï¼ŒC++å®šä¹‰äº†ä¸€å¥—ç”¨äºæ¨å¯¼ç±»å‹çš„å¼•ç”¨æŠ˜å ï¼ˆReference Collapseï¼‰è§„åˆ™ï¼š&lt;br/&gt;æ‰€æœ‰çš„æŠ˜å å¼•ç”¨æœ€ç»ˆéƒ½ä»£è¡¨ä¸€ä¸ªå¼•ç”¨ï¼Œè¦ä¹ˆæ˜¯å·¦å€¼å¼•ç”¨ï¼Œè¦ä¹ˆæ˜¯å³å€¼å¼•ç”¨ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å¼•ç”¨æŠ˜å &lt;/th&gt;
&lt;th&gt;&amp;amp;&lt;/th&gt;
&lt;th&gt;&amp;amp;&amp;amp;&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&amp;amp;&lt;/td&gt;
&lt;td&gt;&amp;amp;&lt;/td&gt;
&lt;td&gt;&amp;amp;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;amp;&amp;amp;&lt;/td&gt;
&lt;td&gt;&amp;amp;&lt;/td&gt;
&lt;td&gt;&amp;amp;&amp;amp;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;Example1ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;func(Vector());
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¨¡æ¿å‡½æ•°funcçš„Tè¢«æ¨å¯¼ä¸ºVector&amp;amp;&amp;amp;ï¼Œå½¢å‚objectä¸ºT&amp;amp;&amp;amp;å³å±•å¼€åä¸ºVector&amp;amp;&amp;amp; &amp;amp;&amp;amp;ã€‚ç”±äºæŠ˜å è§„åˆ™çš„å­˜åœ¨ï¼Œå½¢å‚objectæœ€ç»ˆè¢«æŠ˜å æ¨å¯¼ä¸ºVector&amp;amp;&amp;amp;ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;Example2ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;func(a);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¨¡æ¿å‡½æ•°funcçš„Tåœ¨è¿™é‡Œè¢«æ¨å¯¼ä¸ºVector&amp;amp;ï¼Œå½¢å‚objectä¸ºT&amp;amp;&amp;amp;å³å±•å¼€åä¸ºVector&amp;amp; &amp;amp;&amp;amp;ã€‚ç”±äºæŠ˜å è§„åˆ™çš„å­˜åœ¨ï¼Œå½¢å‚objectæœ€ç»ˆè¢«æ¨å¯¼ä¸ºVector&amp;amp;ç±»å‹ã€‚&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨äº†ä¸‡èƒ½å¼•ç”¨æ—¶ï¼Œå³ä½¿å¯ä»¥åŒæ—¶åŒ¹é…å·¦å€¼ã€å³å€¼ï¼Œä½†éœ€è¦è½¬å‘å‚æ•°ç»™å…¶ä»–å‡½æ•°æ—¶ï¼Œä¼šä¸¢å¤±å¼•ç”¨æ€§è´¨ï¼ˆå½¢å‚æ˜¯ä¸ªå·¦å€¼ï¼Œä»è€Œæ— æ³•åˆ¤æ–­åˆ°åº•åŒ¹é…çš„æ˜¯ä¸ªå·¦å€¼è¿˜æ˜¯å³å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;//å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆå¦‚ä¸‹é‡è½½ä»£ç ï¼Œä½†æ˜¯è¿™å·²ç»è¿èƒŒäº†ä½¿ç”¨ä¸‡èƒ½å¼•ç”¨çš„åˆè¡·ï¼ˆä»…ç¼–å†™ä¸€ä¸ªæ¨¡æ¿å‡½æ•°å°±å¯ä»¥åŒ¹é…å·¦å€¼ã€å³å€¼ï¼‰
template&amp;lt;class T&amp;gt;
void func(T&amp;amp; t){
    doSomething(t);
}

template&amp;lt;class T&amp;gt;
void func(T&amp;amp;&amp;amp; t){
    doSomething(std::move(t));
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®Œç¾è½¬å‘ï¼ˆPerfect Forwardingï¼‰ï¼šC++11æä¾›äº†å®Œç¾è½¬å‘å‡½æ•° &lt;strong&gt;std:forward&amp;lt;T&amp;gt;&lt;/strong&gt; ã€‚å®ƒå¯ä»¥åœ¨æ¨¡æ¿å‡½æ•°å†…ç»™å¦ä¸€ä¸ªå‡½æ•°ä¼ é€’å‚æ•°æ—¶ï¼Œå°†å‚æ•°ç±»å‹ä¿æŒåŸæœ¬çŠ¶æ€ä¼ å…¥ï¼ˆå¦‚æœå½¢å‚æ¨å¯¼å‡ºæ˜¯å³å€¼å¼•ç”¨åˆ™ä½œä¸ºå³å€¼ä¼ å…¥ï¼Œå¦‚æœæ˜¯å·¦å€¼å¼•ç”¨åˆ™ä½œä¸ºå·¦å€¼ä¼ å…¥ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·åšäº†:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot;&gt;template&amp;lt;class T&amp;gt;
void func(T&amp;amp;&amp;amp; object){
    doSomething(std::forward&amp;lt;T&amp;gt;(object));
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸å€ŸåŠ©std::forward&amp;lt;T&amp;gt;é—´æ¥ä¼ å…¥å‚æ•°çš„è¯ï¼Œæ— è®ºobjectæ˜¯å·¦å€¼å¼•ç”¨ç±»å‹ï¼Œè¿˜æ˜¯å³å€¼å¼•ç”¨ç±»å‹ï¼Œéƒ½ä¼šè¢«è§†ä¸ºå·¦å€¼ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p&gt;std::forward&amp;lt;T&amp;gt;()çš„å®ç°ä¸»è¦å°±ä¸€å¥return static_cast&amp;lt;T&amp;amp;&amp;amp;&amp;gt;(å½¢å‚)ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯åˆ©ç”¨äº†æŠ˜å è§„åˆ™ã€‚ä»è€Œæ¥å—å³å€¼å¼•ç”¨ç±»å‹æ—¶ï¼Œå°†å³å€¼å¼•ç”¨ç±»å‹çš„å€¼è¿”è¿˜ï¼ˆè¿”è¿˜å€¼ä¸ºå³å€¼ï¼‰ã€‚æ¥å—å·¦å€¼å¼•ç”¨ç±»å‹æ—¶ï¼Œå°†å·¦å€¼å¼•ç”¨ç±»å‹çš„å€¼è¿”è¿˜ï¼ˆè¿”è¿˜å€¼ä¸ºå·¦å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è€Œstd::move&amp;lt;T&amp;gt;()çš„å®ç°è¿˜éœ€è¦å…ˆç§»é™¤å½¢å‚çš„æ‰€æœ‰å¼•ç”¨æ€§è´¨å¾—åˆ°æ— å¼•ç”¨æ€§è´¨çš„ç±»å‹ï¼ˆå‡è®¾ä¸ºT2ï¼‰ï¼Œç„¶åå†return static_cast&amp;lt;T2&amp;amp;&amp;amp;&amp;gt;(å½¢å‚)ï¼Œä»è€Œä¿è¯ä¸ä¼šå‘ç”Ÿå¼•ç”¨æŠ˜å ï¼Œè€Œæ˜¯ç›´æ¥ä½œä¸ºå³å€¼å¼•ç”¨ç±»å‹çš„å€¼è¿”è¿˜ï¼ˆè¿”è¿˜å€¼ä¸ºå³å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Thu, 30 Apr 2020 14:59:00 +0000</pubDate>
<dc:creator>KillerAery</dc:creator>
<og:description>[toc] C++11å‡ºç°çš„å³å€¼ç›¸å…³è¯­æ³•å¯è°“æ˜¯å¾ˆå¤šC++ç¨‹åºå‘˜éš¾ä»¥ç†è§£çš„æ–°ç‰¹æ€§ï¼Œä¸å°‘äººçŸ¥å…¶ç„¶è€Œä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œé¢è¯•è¢«é—®åˆ°æ—¶å¤§æ¦‚å°±åªçŸ¥é“å¯ä»¥å‡å°‘å¼€é”€ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå‡å°‘å¼€é”€ã€å‡å°‘äº†å¤šå°‘å¼€é”€ã€ä»€ä¹ˆæ—¶å€™ç”¨...è¿™</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/KillerAery/p/12802771.html</dc:identifier>
</item>
<item>
<title>Javaä¸­çš„å°æ•°è¿ç®—ä¸ç²¾åº¦æŸå¤± - wunsiang</title>
<link>http://www.cnblogs.com/wunsiang/p/12811661.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wunsiang/p/12811661.html</guid>
<description>&lt;p&gt;åœ¨é˜…è¯»ã€Šé˜¿é‡Œå·´å·´javaå¼€å‘æ‰‹å†Œã€‹æ—¶çœ‹åˆ°äº†å…³äºfloatåšç²¾åº¦è¿ç®—æ—¶çš„è¦æ±‚ï¼Œå°±é¡ºä¾¿æŠŠJavaä¸­æœ‰å…³æµ®ç‚¹è¿ç®—éƒ¨åˆ†æ¢³ç†ä¸‹ï¼Œåšä¸ªæ€»ç»“ã€‚&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;129.5&quot;&gt;
&lt;h2 id=&quot;floatã€doubleç±»å‹çš„é—®é¢˜&quot;&gt;floatã€doubleç±»å‹çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè®¡ç®—æœºæ˜¯ä½¿ç”¨äºŒè¿›åˆ¶å­˜å‚¨æ•°æ®çš„ã€‚è€Œå¹³å¸¸ç”Ÿæ´»ä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨çš„åè¿›åˆ¶ï¼Œå› æ­¤è®¡ç®—æœºæ˜¾ç¤ºç»™æˆ‘ä»¬çœ‹çš„å†…å®¹å¤§å¤šæ•°ä¹Ÿæ˜¯åè¿›åˆ¶çš„ï¼Œè¿™å°±ä½¿å¾—å¾ˆå¤šæ—¶å€™æ•°æ®éœ€è¦åœ¨äºŒè¿›åˆ¶ä¸åè¿›åˆ¶ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚å¯¹äºæ•´æ•°æ¥è¯´ï¼Œä¸¤ç§è¿›åˆ¶å¯ä»¥åšåˆ°ä¸€ä¸€å¯¹åº”ã€‚è€Œå¯¹äºå°æ•°æ¥è®²å°±ä¸æ˜¯è¿™æ ·çš„å•¦ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹åè¿›åˆ¶å°æ•°è½¬äºŒè¿›åˆ¶å°æ•°çš„æ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹å°æ•°ç‚¹ä»¥åçš„æ•°ä¹˜ä»¥2ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå–ç»“æœçš„æ•´æ•°éƒ¨åˆ†ï¼ˆä¸æ˜¯1å°±æ˜¯0ï¼‰ï¼Œç„¶åå†ç”¨å°æ•°éƒ¨åˆ†å†ä¹˜ä»¥2ï¼Œå†å–ç»“æœçš„æ•´æ•°éƒ¨åˆ†â€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°å°æ•°éƒ¨åˆ†ä¸º0æˆ–è€…ä½æ•°å·²ç»å¤Ÿäº†ã€‚é¡ºåºå–æ¯æ¬¡è¿ç®—å¾—åˆ°çš„æ•´æ•°éƒ¨åˆ†ï¼Œå³ä¸ºè½¬æ¢åçš„å°æ•°éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;æ¼”ç¤ºï¼š 
0.125 Ã—2=0.25 .......................0
0.25Ã—2=0.5.............................0
0.5Ã—2=1.0................................1
å³ 0.125çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸ºå°æ•°éƒ¨åˆ†ä¸º0.001
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶å®æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ–¹æ³•å®è´¨ä¸Šå°±æ˜¯ç”¨1/2,1/4,8/1...æ¥ç»„åˆåŠ å‡ºæˆ‘ä»¬è¦è½¬æ¢çš„æ•°æ®å€¼ï¼Œä½†æ˜¾ç„¶ä¸æ˜¯æ‰€æœ‰çš„æ•°éƒ½èƒ½å¤Ÿç»„åˆå‡ºæ¥çš„ã€‚å¦‚0.1ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; 0.1Ã—2=0.2 .....................0

 0.2Ã—2=0.4 ......................0

 0.4Ã—2=0.8 .....................0

 0.8Ã—2=1.6.......................1

 0.6Ã—2=1.2.......................1

 0.2Ã—2=0.4.......................0
 .....
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»ä¸Šè¿°è®¡ç®—è¿‡ç¨‹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯ä¸ªæ— é™å°æ•°ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬çš„floatã€doubleåªèƒ½èˆå»ä¸€äº›ä½ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ç›´æ¥ç»™floatèµ‹å€¼åœ¨è¾“å‡ºæ—¶æ²¡æœ‰çœ‹åˆ°ç²¾åº¦æŸå¤±è€Œåœ¨è¿ç®—æ—¶å´ä¼šå‡ºç°å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¡®å®æ˜¯è¿™æ ·ï¼Œå¦‚ä¸‹&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;float a = 0.2f;
System.out.println(a);
//è¾“å‡º0.2
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯¹äºä¸Šè¿°æƒ…å†µæˆ‘åªæ˜¯æŸ¥äº†èµ„æ–™ï¼Œå¥½åƒæ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šè¿›è¡Œä¼˜åŒ–ï¼Œå½“æˆ‘ä»¬å­˜å‚¨çš„æ•°æ®ç‰¹åˆ«æ¥è¿‘çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šå¾ˆè´´å¿ƒçš„è¿”å›æˆ‘ä»¬æƒ³çœ‹åˆ°çš„æ•°å€¼ï¼ˆå³äºŒè¿›åˆ¶æµ®ç‚¹æ•°å¹¶ä¸èƒ½å‡†ç¡®çš„è¡¨ç¤º0.1è¿™ä¸ªåè¿›åˆ¶å°æ•°ï¼Œå®ƒä½¿ç”¨äº†0.100000001490116119384765625æ¥ä»£æ›¿0.1ã€‚ï¼‰ï¼Œè‡³äºåˆ°äº†è¿ç®—ä¸­ï¼Œå°±ä¼šå‡ºç°ç²¾åº¦æŸå¤±è¾ƒå¤§ä»è€Œçœ‹åˆ°äº†çœŸç›¸ã€‚å¦‚æœè¿™å—è¯´çš„ä¸å¯¹æ¬¢è¿å°ä¼™ä¼´ä»¬åœ¨è¯„è®ºåŒºæŒ‡æ­£ï¼&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³æ–¹æ³•&quot;&gt;è§£å†³æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&quot;bigdecimal-åŸç†&quot;&gt;BigDecimalÂ åŸç†&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨&lt;br/&gt;BigDecimalÂ æ¥é¿å…å‡ºç°ç²¾åº¦ä¸¢å¤±é—®é¢˜ï¼Œè‡³äºä¸ºä»€ä¹ˆBigDecimalÂ å¯ä»¥é¿å…ï¼Œè€Œfloatæˆ–doubleä¸è¡Œï¼Œæˆ‘ä»¬åœ¨æ­¤ä¸è¯¦ç»†è®¨è®ºï¼Œç®€å•æ¥è¯´å°±æ˜¯&lt;strong&gt;BigDecimalÂ é€šè¿‡å€ŸåŠ©æ•´æ•°æ¥è¡¨ç¤ºå°æ•°çš„æ–¹å¼&lt;/strong&gt;ï¼Œå› ä¸ºå¯¹äºæ•´æ•°è€Œè¨€ï¼ŒäºŒè¿›åˆ¶å’Œåè¿›åˆ¶æ˜¯å®Œå…¨ä¸€ä¸€å¯¹åº”çš„ï¼Œç”¨æ•´æ•°æ¥è¡¨ç¤ºå°æ•°ï¼Œå†è®°å½•ä¸‹å°æ•°çš„ä½æ•°ï¼Œå°±å¯ä»¥å®Œç¾çš„è§£å†³è¯¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;bigdecimal-ç”¨æ³•&quot;&gt;BigDecimalÂ ç”¨æ³•&lt;/h3&gt;
&lt;p&gt;java.math.BinInteger ç±»å’Œ java.math.BigDecimal ç±»éƒ½æ˜¯Javaæä¾›çš„ç”¨äºé«˜ç²¾åº¦è®¡ç®—çš„ç±».å…¶ä¸­ BigInteger ç±»æ˜¯é’ˆå¯¹å¤§æ•´æ•°çš„å¤„ç†ç±»,è€Œ BigDecimal ç±»åˆ™æ˜¯é’ˆå¯¹å¤§å°æ•°çš„å¤„ç†ç±».&lt;/p&gt;
&lt;h4 id=&quot;bigdecimalæ„é€ æ–¹æ³•&quot;&gt;BigDecimalæ„é€ æ–¹æ³•&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;BigDecimal BigDecimal(double d); //ä¸å…è®¸ä½¿ç”¨
BigDecimal BigDecimal(String s); //å¸¸ç”¨,æ¨èä½¿ç”¨
static BigDecimal valueOf(double d); //å¸¸ç”¨,æ¨èä½¿ç”¨
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;double å‚æ•°çš„æ„é€ æ–¹æ³•,ä¸å…è®¸ä½¿ç”¨!!!!å› ä¸ºå®ƒä¸èƒ½ç²¾ç¡®çš„å¾—åˆ°ç›¸åº”çš„å€¼;&lt;/li&gt;
&lt;li&gt;String æ„é€ æ–¹æ³•æ˜¯å®Œå…¨å¯é¢„çŸ¥çš„: å†™å…¥ new BigDecimal(&quot;0.1&quot;) å°†åˆ›å»ºä¸€ä¸ª BigDecimal,å®ƒæ­£å¥½ç­‰äºé¢„æœŸçš„0.1; å› æ­¤,é€šå¸¸å»ºè®®ä¼˜å…ˆä½¿ç”¨ String æ„é€ æ–¹æ³•;&lt;/li&gt;
&lt;li&gt;é™æ€æ–¹æ³• valueOf(double val) å†…éƒ¨å®ç°,ä»æ˜¯å°† double ç±»å‹è½¬ä¸º String ç±»å‹; è¿™é€šå¸¸æ˜¯å°† double(æˆ–float)è½¬åŒ–ä¸º BigDecimal çš„é¦–é€‰æ–¹æ³•;&lt;/li&gt;
&lt;/ol&gt;&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;System.out.println(new BigDecimal(0.1));
System.out.println(BigDecimal.valueOf(0.1));
\\è¾“å‡º*****************************************
0.1000000000000000055511151231257827021181583404541015625
0.1
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;bigdecimalå¸¸ç”¨æ“ä½œ&quot;&gt;BigDecimalå¸¸ç”¨æ“ä½œ&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå·¥å…·ç±»æºç æ¥ä½“ä¼šBigDecimalçš„å¸¸è§„ç”¨æ³•&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package com.util;
 
import java.math.BigDecimal;
 
/**
 * æä¾›ç²¾ç¡®çš„æµ®ç‚¹æ•°è¿ç®—(åŒ…æ‹¬åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å››èˆäº”å…¥)å·¥å…·ç±»
 */
public class ArithUtil {
 
        // é™¤æ³•è¿ç®—é»˜è®¤ç²¾åº¦
        private static final int DEF_DIV_SCALE = 10;
 
        private ArithUtil() {
 
        }
 
        /**
         * ç²¾ç¡®åŠ æ³•
         */
        public static double add(double value1, double value2) {
                BigDecimal b1 = BigDecimal.valueOf(value1);
                BigDecimal b2 = BigDecimal.valueOf(value2);
                return b1.add(b2).doubleValue();
        }
 
        /**
         * ç²¾ç¡®å‡æ³•
         */
        public static double sub(double value1, double value2) {
                BigDecimal b1 = BigDecimal.valueOf(value1);
                BigDecimal b2 = BigDecimal.valueOf(value2);
                return b1.subtract(b2).doubleValue();
        }
 
        /**
         * ç²¾ç¡®ä¹˜æ³•
         */
        public static double mul(double value1, double value2) {
                BigDecimal b1 = BigDecimal.valueOf(value1);
                BigDecimal b2 = BigDecimal.valueOf(value2);
                return b1.multiply(b2).doubleValue();
        }
 
        /**
         * ç²¾ç¡®é™¤æ³• ä½¿ç”¨é»˜è®¤ç²¾åº¦
         */
        public static double div(double value1, double value2) throws IllegalAccessException {
                return div(value1, value2, DEF_DIV_SCALE);
        }
 
        /**
         * ç²¾ç¡®é™¤æ³•
         * @param scale ç²¾åº¦
         */
        public static double div(double value1, double value2, int scale) throws IllegalAccessException {
                if(scale &amp;lt; 0) {
                        throw new IllegalAccessException(&quot;ç²¾ç¡®åº¦ä¸èƒ½å°äº0&quot;);
                }
                BigDecimal b1 = BigDecimal.valueOf(value1);
                BigDecimal b2 = BigDecimal.valueOf(value2);
                // return b1.divide(b2, scale).doubleValue();
                return b1.divide(b2, scale, BigDecimal.ROUND_HALF_UP).doubleValue();
        }
 
        /**
         * å››èˆäº”å…¥
         * @param scale å°æ•°ç‚¹åä¿ç•™å‡ ä½
         */
        public static double round(double v, int scale) throws IllegalAccessException {
                return div(v, 1, scale);
        }
        
        /**
         * æ¯”è¾ƒå¤§å°
         */
        public static boolean equalTo(BigDecimal b1, BigDecimal b2) {
                if(b1 == null || b2 == null) {
                        return false;
                }
                return 0 == b1.compareTo(b2);
        }
}
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</description>
<pubDate>Thu, 30 Apr 2020 14:56:00 +0000</pubDate>
<dc:creator>wunsiang</dc:creator>
<og:description>åœ¨é˜…è¯»ã€Šé˜¿é‡Œå·´å·´javaå¼€å‘æ‰‹å†Œã€‹æ—¶çœ‹åˆ°äº†å…³äºfloatåšç²¾åº¦è¿ç®—æ—¶çš„è¦æ±‚ï¼Œå°±é¡ºä¾¿æŠŠJavaä¸­æœ‰å…³æµ®ç‚¹è¿ç®—éƒ¨åˆ†æ¢³ç†ä¸‹ï¼Œåšä¸ªæ€»ç»“ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/wunsiang/p/12811661.html</dc:identifier>
</item>
<item>
<title>C#å¤šçº¿ç¨‹(16)ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ’¸ä¸€ä¸ªå·¥ä½œæµ - ç—´è€…å·¥è‰¯</title>
<link>http://www.cnblogs.com/whuanle/p/12811429.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/whuanle/p/12811429.html</guid>
<description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;å‰é¢å­¦ä¹ äº†å¾ˆå¤šå¤šçº¿ç¨‹å’Œä»»åŠ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œè¿™é‡Œè¦æ¥å®è·µä¸€ä¸‹å•¦ã€‚é€šè¿‡æœ¬ç¯‡æ•™ç¨‹ï¼Œä½ å¯ä»¥å†™å‡ºä¸€ä¸ªç®€å•çš„å·¥ä½œæµå¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ•™ç¨‹å†…å®¹å®Œæˆæ˜¯åŸºäºä»»åŠ¡çš„ï¼Œåªéœ€è¦çœ‹è¿‡ç¬”è€…çš„ä¸‰ç¯‡å…³äºå¼‚æ­¥çš„æ–‡ç« ï¼ŒæŒæ¡ C# åŸºç¡€ï¼Œå³å¯è½»æ¾å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæœ¬ç¯‡æ–‡ç« ç¼–å†™çš„å·¥ä½œæµç¨‹åºï¼Œä¸»è¦ä½¿ç”¨ä»»åŠ¡ï¼Œæœ‰äº›é€»è¾‘è¿‡ç¨‹ä¼šæ¯”è¾ƒéš¾ç†è§£ï¼Œå¤šæµ‹è¯•ä¸€ä¸‹å°±å¥½ã€‚ä»£ç ä¸»è¦è¿˜æ˜¯ C# åŸºç¡€ï¼Œä¸ºä»€ä¹ˆè¯´ç®€å•ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä¸åŒ…å« async ã€await&lt;/li&gt;
&lt;li&gt;å‡ ä¹ä¸å«åŒ…å«å¤šçº¿ç¨‹(æœ‰ä¸ªè¯»å†™é”)&lt;/li&gt;
&lt;li&gt;ä¸åŒ…å«è¡¨è¾¾å¼æ ‘&lt;/li&gt;
&lt;li&gt;å‡ ä¹ä¸å«åå°„(æœ‰ä¸ªå°åœ°æ–¹éœ€è¦åå°„ä¸€ä¸‹ï¼Œä½†æ˜¯éå¸¸ç®€å•)&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰å¤æ‚çš„ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å› ä¸ºæ˜¯åŸºäºä»»åŠ¡(Task)çš„ï¼Œæ‰€ä»¥å¯ä»¥è½»æ¾è®¾è®¡ç»„åˆæµç¨‹ï¼Œç»„æˆå¤æ‚çš„å·¥ä½œæµã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºåªæ˜¯è®²è¿°åŸºç¡€ï¼Œæ‰€ä»¥ä¸ä¼šåŒ…å«å¾ˆå¤šç§æµç¨‹æ§åˆ¶ï¼Œè¿™é‡Œåªå®ç°ä¸€äº›ç®€å•çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆè¯´æ˜ï¼Œåˆ«ç”¨åˆ°ä¸šåŠ¡ä¸Šã€‚ã€‚ã€‚è¿™ä¸ªå·¥ä½œæµéå¸¸ç®€å•ï¼Œå°±å‡ ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªå·¥ä½œæµæ˜¯åŸºäºç¬”è€…çš„å¤šçº¿ç¨‹ç³»åˆ—æ–‡ç« çš„çŸ¥è¯†ç‚¹ã€‚å†™è¿™ä¸ªä¸œè¥¿æ˜¯ä¸ºäº†è®²è§£ä»»åŠ¡æ“ä½œï¼Œè®©è¯»è€…æ›´åŠ æ·±å…¥ç†è§£ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç åœ°å€ï¼š&lt;a href=&quot;https://github.com/whuanle/CZGL.FLow&quot;&gt;https://github.com/whuanle/CZGL.FLow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤å¤©å¿™ç€æ¬ä¸œè¥¿ï¼Œä»Šå¤©æ²¡è®¤çœŸå†™æ–‡ç« ï¼Œä»£ç ä¸æ˜ç™½çš„åœ°æ–¹ï¼Œå¯ä»¥åˆ°å¾®ä¿¡ç¾¤æ‰¾æˆ‘ã€‚å¾®ä¿¡åç§°ï¼šç—´è€…å·¥è‰¯ï¼Œdotnet çš„ç¾¤åŸºæœ¬æˆ‘éƒ½åœ¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;èŠ‚ç‚¹&quot;&gt;èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;åœ¨å¼€å§‹å‰ï¼Œæˆ‘ä»¬æ¥è®¾è®¡å‡ ç§æµç¨‹æ§åˆ¶çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;å°†ä¸€ä¸ª æ­¥éª¤/æµç¨‹/èŠ‚ç‚¹ ç§°ä¸º stepã€‚&lt;/p&gt;
&lt;h3 id=&quot;then&quot;&gt;Then&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªæ™®é€šçš„èŠ‚ç‚¹ï¼ŒåŒ…å«ä¸€ä¸ªä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ª Then èŠ‚ç‚¹ï¼Œå¯ä»¥ç»„æˆä¸€æ¡è¿ç»­çš„å·¥ä½œæµã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1315495/202004/1315495-20200430220622058-489359544.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;parallel&quot;&gt;Parallel&lt;/h3&gt;
&lt;p&gt;å¹¶è¡ŒèŠ‚ç‚¹ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªå¹¶è¡ŒèŠ‚ç‚¹æ”¾åˆ° Parallel ä¸­ï¼Œä»¥åŠåœ¨é‡Œé¢ä¸ºä»»ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»ºæ–°çš„åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1315495/202004/1315495-20200430220652329-699283834.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;schedule&quot;&gt;Schedule&lt;/h3&gt;
&lt;p&gt;å®šæ—¶èŠ‚ç‚¹ï¼Œåˆ›å»ºåä¼šåœ¨ä¸€å®šæ—¶é—´åæ‰§è¡ŒèŠ‚ç‚¹ä¸­çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1315495/202004/1315495-20200430220708154-698640693.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;delay&quot;&gt;Delay&lt;/h3&gt;
&lt;p&gt;è®©å½“å‰ä»»åŠ¡é˜»å¡ä¸€æ®µæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1315495/202004/1315495-20200430220841819-1384392480.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;è¯•ç”¨ä¸€ä¸‹&quot;&gt;è¯•ç”¨ä¸€ä¸‹&lt;/h2&gt;
&lt;h3 id=&quot;é¡ºåºèŠ‚ç‚¹&quot;&gt;é¡ºåºèŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€ä½ çš„ VS ï¼Œåˆ›å»ºé¡¹ç›®ï¼ŒNuget å¼•ç”¨ &lt;code&gt;CZGL.DoFlow&lt;/code&gt; ï¼Œç‰ˆæœ¬ 1.0.2 ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªç±» &lt;code&gt;MyFlow1&lt;/code&gt;ï¼Œç»§æ‰¿ &lt;code&gt;IDoFlow&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;    public class MyFlow1 : IDoFlow
    {
        public int Id =&amp;gt; 1;

        public string Name =&amp;gt; &quot;éšä¾¿èµ·ä¸ªåå­—&quot;;

        public int Version =&amp;gt; 1;

        public IDoFlowBuilder Build(IDoFlowBuilder builder)
        {
            throw new NotImplementedException();
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½ å¯ä»¥åˆ›å»ºå¤šä¸ªå·¥ä½œæµä»»åŠ¡ï¼Œæ¯ä¸ªå·¥ä½œæµçš„ Id å¿…é¡»å”¯ä¸€ã€‚Name å’Œ Version éšä¾¿å¡«ï¼Œå› ä¸ºè¿™é‡Œç¬”è€…æ²¡æœ‰å¯¹è¿™å‡ ä¸ªå­—æ®µåšé€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;IDoFlowBuilder&lt;/code&gt; æ˜¯æ„å»ºå·¥ä½œæµçš„ä¸€ä¸ªæ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥å†™ä¸€ä¸ªå·¥ä½œæµæµ‹è¯•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;/// &amp;lt;summary&amp;gt;
/// æ™®é€šèŠ‚ç‚¹ Then ä½¿ç”¨æ–¹æ³•
/// &amp;lt;/summary&amp;gt;
public class MyFlow1 : IDoFlow
{
    public int Id =&amp;gt; 1;
    public string Name =&amp;gt; &quot;test&quot;;
    public int Version =&amp;gt; 1;

    public IDoFlowBuilder Build(IDoFlowBuilder builder)
    {
        builder.StartWith(() =&amp;gt;
        {
            Console.WriteLine(&quot;å·¥ä½œæµå¼€å§‹&quot;);
        }).Then(() =&amp;gt;
        {
            Console.WriteLine(&quot;ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&quot;);
        }).Then(() =&amp;gt;
         {
             Console.WriteLine(&quot;æœ€åä¸€ä¸ªèŠ‚ç‚¹&quot;);
         });
        return builder;
    }
} 
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Main æ–¹æ³•ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;        static void Main(string[] args)
        {
            FlowCore.RegisterWorkflow&amp;lt;MyFlow1&amp;gt;();
            // FlowCore.RegisterWorkflow(new MyFlow1());
            FlowCore.Start(1);
            Console.ReadKey();
        }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;.StartWith()&lt;/code&gt; æ–¹æ³•å¼€å§‹ä¸€ä¸ªå·¥ä½œæµï¼›&lt;/p&gt;
&lt;p&gt;&lt;code&gt;FlowCore.RegisterWorkflow&amp;lt;T&amp;gt;()&lt;/code&gt; æ³¨å†Œä¸€ä¸ªå·¥ä½œæµï¼›&lt;/p&gt;
&lt;p&gt;&lt;code&gt;FlowCore.Start();&lt;/code&gt;æ‰§è¡Œä¸€ä¸ªå·¥ä½œæµï¼›&lt;/p&gt;
&lt;h3 id=&quot;å¹¶è¡Œä»»åŠ¡&quot;&gt;å¹¶è¡Œä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;å…¶ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;    /// &amp;lt;summary&amp;gt;
    /// å¹¶è¡ŒèŠ‚ç‚¹ Parallel ä½¿ç”¨æ–¹æ³•
    /// &amp;lt;/summary&amp;gt;
    public class MyFlow2 : IDoFlow
    {
        public int Id =&amp;gt; 2;
        public string Name =&amp;gt; &quot;test&quot;;
        public int Version =&amp;gt; 1;

        public IDoFlowBuilder Build(IDoFlowBuilder builder)
        {
            builder.StartWith()
                .Parallel(steps =&amp;gt;
                {
                    // æ¯ä¸ªå¹¶è¡Œä»»åŠ¡ä¹Ÿå¯ä»¥è®¾è®¡åé¢ç»§ç»­æ‰§è¡Œå…¶å®ƒä»»åŠ¡
                    steps.Do(() =&amp;gt;
                    {
                        Console.WriteLine(&quot;å¹¶è¡Œ1&quot;);
                    }).Do(() =&amp;gt;
                    {
                        Console.WriteLine(&quot;å¹¶è¡Œ2&quot;);
                    });
                    steps.Do(() =&amp;gt;
                    {
                        Console.WriteLine(&quot;å¹¶è¡Œ3&quot;);
                    });

                    // å¹¶è¡Œä»»åŠ¡è®¾è®¡å®Œæˆåï¼Œå¿…é¡»è°ƒç”¨æ­¤æ–¹æ³•
                    // æ­¤æ–¹æ³•å¿…é¡»æ”¾åœ¨æ‰€æœ‰å¹¶è¡Œä»»åŠ¡ .Do() çš„æœ€å
                    steps.EndParallel();

                    // å¦‚æœ .Do() åœ¨ EndParallel() åï¼Œé‚£ä¹ˆä¸ä¼šç­‰å¾…æ­¤ä»»åŠ¡
                    steps.Do(() =&amp;gt; { Console.WriteLine(&quot;å¹¶è¡Œå¼‚æ­¥&quot;); });

                    // å¼€å¯æ–°çš„åˆ†æ”¯
                    steps.StartWith()
                    .Then(() =&amp;gt;
                    {
                        Console.WriteLine(&quot;æ–°çš„åˆ†æ”¯&quot; + Task.CurrentId);
                    }).Then(() =&amp;gt; { Console.WriteLine(&quot;åˆ†æ”¯2.0&quot; + Task.CurrentId); });

                }, false)
                .Then(() =&amp;gt;
                {
                    Console.WriteLine(&quot;11111111111111111 &quot;);
                });

            return builder;
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Main æ–¹æ³•ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;        static void Main(string[] args)
        {
            FlowCore.RegisterWorkflow&amp;lt;MyFlow2&amp;gt;();
            FlowCore.Start(2);
            Console.ReadKey();
        }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œå¯ä»¥å¤§æ¦‚äº†è§£æœ¬ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è¦å†™çš„ç¨‹åºã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç¼–å†™å·¥ä½œæµ&quot;&gt;ç¼–å†™å·¥ä½œæµ&lt;/h2&gt;
&lt;p&gt;å»ºç«‹ä¸€ä¸ªç±»åº“é¡¹ç›®ï¼Œåä¸º &lt;code&gt;DoFlow&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å»ºç«‹ &lt;code&gt;Extensions&lt;/code&gt;ã€&lt;code&gt;Interfaces&lt;/code&gt;ã€&lt;code&gt;Services&lt;/code&gt; ä¸‰ä¸ªç›®å½•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ¥å£æ„å»ºå™¨&quot;&gt;æ¥å£æ„å»ºå™¨&lt;/h3&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;IStepBuilder&lt;/code&gt; æ¥å£æ–‡ä»¶åˆ° &lt;code&gt;Interfaces&lt;/code&gt; ç›®å½•ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using System;

namespace DoFlow.Interfaces
{
    public interface IStepBuilder
    {
        /// &amp;lt;summary&amp;gt;
        /// æ™®é€šèŠ‚ç‚¹
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;stepBuilder&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepBuilder Then(Action action);

        /// &amp;lt;summary&amp;gt;
        /// å¤šä¸ªèŠ‚ç‚¹
        /// &amp;lt;para&amp;gt;é»˜è®¤ä¸‹ï¼Œéœ€è¦ç­‰å¾…æ‰€æœ‰çš„ä»»åŠ¡å®Œæˆï¼Œè¿™ä¸ªstepæ‰ç®—å®Œæˆ&amp;lt;/para&amp;gt;
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;param name=&quot;anyWait&quot;&amp;gt;ä»»æ„ä¸€ä¸ªä»»åŠ¡å®Œæˆå³å¯è·³è½¬åˆ°ä¸‹ä¸€ä¸ªstep&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepBuilder Parallel(Action&amp;lt;IStepParallel&amp;gt; action, bool anyWait = false);

        /// &amp;lt;summary&amp;gt;
        /// èŠ‚ç‚¹å°†åœ¨æŸä¸ªæ—¶é—´é—´éš”åæ‰§è¡Œ
        /// &amp;lt;para&amp;gt;å¼‚æ­¥ï¼Œä¸ä¼šé˜»å¡å½“å‰å·¥ä½œæµçš„è¿è¡Œï¼Œè®¡åˆ’ä»»åŠ¡å°†åœ¨ä¸€æ®µæ—¶é—´åè§¦å‘&amp;lt;/para&amp;gt;
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepBuilder Schedule(Action action, TimeSpan time);

        /// &amp;lt;summary&amp;gt;
        /// é˜»å¡ä¸€æ®µæ—¶é—´
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;time&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepBuilder Delay(TimeSpan time);
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;IStepParallel&lt;/code&gt; æ–‡ä»¶åˆ° &lt;code&gt;Interfaces&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using System;

namespace DoFlow.Interfaces
{
    /// &amp;lt;summary&amp;gt;
    /// å¹¶è¡Œä»»åŠ¡
    ///  &amp;lt;para&amp;gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰è¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å¹¶è¡Œä»»åŠ¡éƒ½å®Œæˆåï¼Œè¿™ä¸ªèŠ‚ç‚¹æ‰ç®—å®Œæˆ&amp;lt;/para&amp;gt;
    /// &amp;lt;/summary&amp;gt;
    public interface IStepParallel
    {
        /// &amp;lt;summary&amp;gt;
        /// ä¸€ä¸ªå¹¶è¡Œä»»åŠ¡
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepParallel Do(Action action);

        /// &amp;lt;summary&amp;gt;
        /// å¼€å§‹ä¸€ä¸ªåˆ†æ”¯
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        IStepBuilder StartWith(Action action = null);

        /// &amp;lt;summary&amp;gt;
        /// å¿…é¡»ä½¿ç”¨æ­¤æ–¹æ³•ç»“æŸä¸€ä¸ªå¹¶è¡Œä»»åŠ¡
        /// &amp;lt;/summary&amp;gt;
        void EndParallel();
    }

    /// &amp;lt;summary&amp;gt;
    /// å¹¶è¡Œä»»åŠ¡
    /// &amp;lt;para&amp;gt;ä»»æ„ä¸€ä¸ªä»»åŠ¡å®Œæˆåï¼Œå°±å¯ä»¥è·³è½¬åˆ°ä¸‹ä¸€ä¸ª step&amp;lt;/para&amp;gt;
    /// &amp;lt;/summary&amp;gt;
    public interface IStepParallelAny : IStepParallel
    {

    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å·¥ä½œæµæ„å»ºå™¨&quot;&gt;å·¥ä½œæµæ„å»ºå™¨&lt;/h3&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;IDoFlowBuilder&lt;/code&gt; æ¥å£æ–‡ä»¶åˆ° &lt;code&gt;Interfaces&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using System;
using System.Threading.Tasks;

namespace DoFlow.Interfaces
{
    /// &amp;lt;summary&amp;gt;
    /// æ„å»ºå·¥ä½œæµä»»åŠ¡
    /// &amp;lt;/summary&amp;gt;
    public interface IDoFlowBuilder
    {
        /// &amp;lt;summary&amp;gt;
        /// å¼€å§‹ä¸€ä¸ª step
        /// &amp;lt;/summary&amp;gt;
        IStepBuilder StartWith(Action action = null);
        void EndWith(Action action);

        Task ThatTask { get; }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;IDoFlow&lt;/code&gt; æ¥å£æ–‡ä»¶åˆ° &lt;code&gt;Interfaces&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;namespace DoFlow.Interfaces
{

    /// &amp;lt;summary&amp;gt;
    /// å·¥ä½œæµ
    /// &amp;lt;para&amp;gt;æ— å‚æ•°ä¼ é€’&amp;lt;/para&amp;gt;
    /// &amp;lt;/summary&amp;gt;
    public interface IDoFlow
    {
        /// &amp;lt;summary&amp;gt;
        /// å…¨å±€å”¯ä¸€æ ‡è¯†
        /// &amp;lt;/summary&amp;gt;
        int Id { get; }

        /// &amp;lt;summary&amp;gt;
        /// æ ‡è¯†æ­¤å·¥ä½œæµçš„åç§°
        /// &amp;lt;/summary&amp;gt;
        string Name { get; }

        /// &amp;lt;summary&amp;gt;
        /// æ ‡è¯†æ­¤å·¥ä½œæµçš„ç‰ˆæœ¬
        /// &amp;lt;/summary&amp;gt;
        int Version { get; }

        IDoFlowBuilder Build(IDoFlowBuilder builder);
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;ä¾èµ–æ³¨å…¥&quot;&gt;ä¾èµ–æ³¨å…¥&lt;/h3&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;DependencyInjectionService&lt;/code&gt; æ–‡ä»¶åˆ° &lt;code&gt;Services&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨äºå®ç°ä¾èµ–æ³¨å…¥å’Œè§£è€¦ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Extensions;
using Microsoft.Extensions.DependencyInjection;
using System;

namespace DoFlow.Services
{
    /// &amp;lt;summary&amp;gt;
    /// ä¾èµ–æ³¨å…¥æœåŠ¡
    /// &amp;lt;/summary&amp;gt;
    public static class DependencyInjectionService
    {
        private static IServiceCollection _servicesList;
        private static IServiceProvider _services;
        static DependencyInjectionService()
        {
            IServiceCollection services = new ServiceCollection();
            _servicesList = services;
            // æ³¨å…¥å¼•æ“éœ€è¦çš„æœåŠ¡
            InitExtension.StartInitExtension();
            var serviceProvider = services.BuildServiceProvider();
            _services = serviceProvider;
        }

        /// &amp;lt;summary&amp;gt;
        /// æ·»åŠ ä¸€ä¸ªæ³¨å…¥åˆ°å®¹å™¨æœåŠ¡
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;typeparam name=&quot;TService&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;
        /// &amp;lt;typeparam name=&quot;TImplementation&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;
        public static void AddService&amp;lt;TService, TImplementation&amp;gt;()
            where TService : class
            where TImplementation : class, TService
        {
            _servicesList.AddTransient&amp;lt;TService, TImplementation&amp;gt;();
        }

        /// &amp;lt;summary&amp;gt;
        /// è·å–éœ€è¦çš„æœåŠ¡
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;typeparam name=&quot;TIResult&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        public static TIResult GetService&amp;lt;TIResult&amp;gt;()
        {
            TIResult Tservice = _services.GetService&amp;lt;TIResult&amp;gt;();
            return Tservice;
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ·»åŠ ä¸€ä¸ª &lt;code&gt;InitExtension&lt;/code&gt; æ–‡ä»¶åˆ° &lt;code&gt;Extensions&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;
using DoFlow.Services;

namespace DoFlow.Extensions
{
    public static class InitExtension
    {
        private static bool IsInit = false;
        public static void StartInitExtension()
        {
            if (IsInit) return;
            IsInit = true;
            DependencyInjectionService.AddService&amp;lt;IStepBuilder, StepBuilder&amp;gt;();
            DependencyInjectionService.AddService&amp;lt;IDoFlowBuilder, DoFlowBuilder&amp;gt;();
            DependencyInjectionService.AddService&amp;lt;IStepParallel, StepParallelWhenAll&amp;gt;();
            DependencyInjectionService.AddService&amp;lt;IStepParallelAny, StepParallelWhenAny&amp;gt;();
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å®ç°å·¥ä½œæµè§£æ&quot;&gt;å®ç°å·¥ä½œæµè§£æ&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹æ–‡ä»¶å‡åœ¨ &lt;code&gt;Services&lt;/code&gt; ç›®å½•å»ºç«‹ã€‚&lt;/p&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;StepBuilder&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨äºè§£æèŠ‚ç‚¹ï¼Œæ„å»ºä»»åŠ¡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;
using System;
using System.Threading.Tasks;

namespace DoFlow.Services
{

    /// &amp;lt;summary&amp;gt;
    /// èŠ‚ç‚¹å·¥ä½œå¼•æ“
    /// &amp;lt;/summary&amp;gt;
    public class StepBuilder : IStepBuilder
    {
        private Task _task;

        /// &amp;lt;summary&amp;gt;
        /// å»¶è¿Ÿæ‰§è¡Œ
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;time&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        public IStepBuilder Delay(TimeSpan time)
        {
            Task.Delay(time).Wait();
            return this;
        }

        /// &amp;lt;summary&amp;gt;
        /// å¹¶è¡Œ step
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        public IStepBuilder Parallel(Action&amp;lt;IStepParallel&amp;gt; action, bool anyAwait = false)
        {
            IStepParallel parallel = anyAwait ? DependencyInjectionService.GetService&amp;lt;IStepParallelAny&amp;gt;() : DependencyInjectionService.GetService&amp;lt;IStepParallel&amp;gt;();
            Task task = new Task(() =&amp;gt;
            {
                action.Invoke(parallel);
            });

            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt;
            {
                task.Start();
            });
            _task = task;
            return this;
        }

        /// &amp;lt;summary&amp;gt;
        /// è®¡åˆ’ä»»åŠ¡
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;param name=&quot;time&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        public IStepBuilder Schedule(Action action, TimeSpan time)
        {
            Task.Factory.StartNew(() =&amp;gt;
            {
                Task.Delay(time).Wait();
                action.Invoke();
            });
            return this;
        }

        /// &amp;lt;summary&amp;gt;
        /// æ™®é€š step
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;action&quot;&amp;gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
        public IStepBuilder Then(Action action)
        {
            Task task = new Task(action);
            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt;
            {
                task.Start();
                task.Wait();
            });
            _task = task;
            return this;
        }

        public void SetTask(Task task)
        {
            _task = task;
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;StepParallel&lt;/code&gt; æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªç±»ï¼Œç”¨äºå®ç°åŒæ­¥ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;
using System;
using System.Collections.Generic;
using System.Threading.Tasks;

namespace DoFlow.Services
{
    /// &amp;lt;summary&amp;gt;
    /// ç¬¬ä¸€å±‚æ‰€æœ‰ä»»åŠ¡ç»“æŸåæ‰èƒ½è·³è½¬ä¸‹ä¸€ä¸ª step
    /// &amp;lt;/summary&amp;gt;
    public class StepParallelWhenAll : IStepParallel
    {
        private Task _task;
        private readonly List&amp;lt;Task&amp;gt; _tasks = new List&amp;lt;Task&amp;gt;();
        public StepParallelWhenAll()
        {
            _task = new Task(() =&amp;gt; { },TaskCreationOptions.AttachedToParent);
        }
        public IStepParallel Do(Action action)
        {
            _tasks.Add(Task.Run(action));
            return this;
        }

        public void EndParallel()
        {
            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt;
            {
                Task.WhenAll(_tasks).Wait();
            });
        }

        public IStepBuilder StartWith(Action action = null)
        {
            Task task =
                action is null ? new Task(() =&amp;gt; { })
                : new Task(action);
            var _stepBuilder = DependencyInjectionService.GetService&amp;lt;IStepBuilder&amp;gt;();
            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt; { task.Start(); });

            return _stepBuilder;
        }
    }

    /// &amp;lt;summary&amp;gt;
    /// å®Œæˆä»»æ„ä¸€ä¸ªä»»åŠ¡å³å¯è·³è½¬åˆ°ä¸‹ä¸€ä¸ª step
    /// &amp;lt;/summary&amp;gt;
    public class StepParallelWhenAny : IStepParallelAny
    {
        private Task _task;
        private readonly List&amp;lt;Task&amp;gt; _tasks = new List&amp;lt;Task&amp;gt;();
        public StepParallelWhenAny()
        {
            _task = Task.Run(() =&amp;gt; { });
        }
        public IStepParallel Do(Action action)
        {
            _tasks.Add(Task.Run(action));
            return this;
        }

        public void EndParallel()
        {
            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt;
            {
                Task.WhenAny(_tasks).Wait();
            });
        }

        public IStepBuilder StartWith(Action action = null)
        {
            Task task =
                action is null ? new Task(() =&amp;gt; { })
                : new Task(action);
            var _stepBuilder = DependencyInjectionService.GetService&amp;lt;IStepBuilder&amp;gt;();
            _task.ConfigureAwait(false).GetAwaiter().OnCompleted(() =&amp;gt; { task.Start(); });

            return _stepBuilder;
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;DoFlowBuilder&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨äºæ„å»ºå·¥ä½œæµã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;
using System;
using System.Threading.Tasks;

namespace DoFlow.Services
{
    public class DoFlowBuilder : IDoFlowBuilder
    {
        private Task _task;
        public Task ThatTask =&amp;gt; _task;

        public void EndWith(Action action)
        {
            _task.Start();
        }

        public IStepBuilder StartWith(Action action = null)
        {
            if (action is null)
                _task = new Task(() =&amp;gt; { });
            else _task = new Task(action);

            IStepBuilder _stepBuilder = DependencyInjectionService.GetService&amp;lt;IStepBuilder&amp;gt;();
            ((StepBuilder)_stepBuilder).SetTask(_task);
            return _stepBuilder;
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;FlowEngine&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨äºæ‰§è¡Œå·¥ä½œæµã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;

namespace DoFlow.Services
{
    /// &amp;lt;summary&amp;gt;
    /// å·¥ä½œæµå¼•æ“
    /// &amp;lt;/summary&amp;gt;
    public class FlowEngine
    {
        private readonly IDoFlow _flow;
        public FlowEngine(IDoFlow flow)
        {
            _flow = flow;
        }

        /// &amp;lt;summary&amp;gt;
        /// å¼€å§‹ä¸€ä¸ªå·¥ä½œæµ
        /// &amp;lt;/summary&amp;gt;
        public void Start()
        {
            IDoFlowBuilder builder = DependencyInjectionService.GetService&amp;lt;IDoFlowBuilder&amp;gt;();
            _flow.Build(builder).ThatTask.Start();
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–°å»º &lt;code&gt;FlowCore&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨å’Œç´¢å¼•å·¥ä½œæµã€‚ä½¿ç”¨è¯»å†™é”è§£å†³å¹¶å‘å­—å…¸é—®é¢˜ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;using DoFlow.Interfaces;
using System;
using System.Collections.Generic;
using System.Threading;

namespace DoFlow.Services
{
    public static class FlowCore
    {
        private static Dictionary&amp;lt;int, FlowEngine&amp;gt; flowEngines = new Dictionary&amp;lt;int, FlowEngine&amp;gt;();

        // è¯»å†™é”
        private static ReaderWriterLockSlim readerWriterLockSlim = new ReaderWriterLockSlim();

        /// &amp;lt;summary&amp;gt;
        /// æ³¨å†Œå·¥ä½œæµ
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;flow&quot;&amp;gt;&amp;lt;/param&amp;gt;
        public static bool RegisterWorkflow(IDoFlow flow)
        {
            try
            {
                readerWriterLockSlim.EnterReadLock();
                if (flowEngines.ContainsKey(flow.Id))
                    return false;
                flowEngines.Add(flow.Id, new FlowEngine(flow));
                return true;
            }
            finally
            {
                readerWriterLockSlim.ExitReadLock();
            }
        }

        /// &amp;lt;summary&amp;gt;
        /// æ³¨å†Œå·¥ä½œæµ
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;flow&quot;&amp;gt;&amp;lt;/param&amp;gt;
        public static bool RegisterWorkflow&amp;lt;TDoFlow&amp;gt;()
        {

            Type type = typeof(TDoFlow);
            IDoFlow flow = (IDoFlow)Activator.CreateInstance(type);
            try
            {
                readerWriterLockSlim.EnterReadLock();
                if (flowEngines.ContainsKey(flow.Id))
                    return false;
                flowEngines.Add(flow.Id, new FlowEngine(flow));
                return true;
            }
            finally
            {
                readerWriterLockSlim.ExitReadLock();
            }
        }

        /// &amp;lt;summary&amp;gt;
        /// è¦å¯åŠ¨çš„å·¥ä½œæµ
        /// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&quot;id&quot;&amp;gt;&amp;lt;/param&amp;gt;
        public static bool Start(int id)
        {
            FlowEngine engine;
            // è¯»å†™é”
            try
            {
                readerWriterLockSlim.EnterUpgradeableReadLock();

                if (!flowEngines.ContainsKey(id))
                    return default;
                try
                {
                    readerWriterLockSlim.EnterWriteLock();
                    engine = flowEngines[id];
                }
                catch { return default; }
                finally
                {
                    readerWriterLockSlim.ExitWriteLock();
                }
            }
            catch { return default; }
            finally
            {
                readerWriterLockSlim.ExitUpgradeableReadLock();
            }

            engine.Start();
            return true;
        }
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°±è¿™æ ·ç¨‹åºå†™å®Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¿™å»äº†ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 14:08:00 +0000</pubDate>
<dc:creator>ç—´è€…å·¥è‰¯</dc:creator>
<og:description>[TOC] å‰è¨€ å‰é¢å­¦ä¹ äº†å¾ˆå¤šå¤šçº¿ç¨‹å’Œä»»åŠ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œè¿™é‡Œè¦æ¥å®è·µä¸€ä¸‹å•¦ã€‚é€šè¿‡æœ¬ç¯‡æ•™ç¨‹ï¼Œä½ å¯ä»¥å†™å‡ºä¸€ä¸ªç®€å•çš„å·¥ä½œæµå¼•æ“ã€‚ æœ¬ç¯‡æ•™ç¨‹å†…å®¹å®Œæˆæ˜¯åŸºäºä»»åŠ¡çš„ï¼Œåªéœ€è¦çœ‹è¿‡ç¬”è€…çš„ä¸‰ç¯‡å…³äºå¼‚æ­¥çš„æ–‡ç« ï¼ŒæŒæ¡ C</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/whuanle/p/12811429.html</dc:identifier>
</item>
</channel>
</rss>