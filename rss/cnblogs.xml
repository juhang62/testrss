<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>Rediså“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼å¿«é€Ÿå…¥é—¨ - å…¨èœå·¥ç¨‹å¸ˆå°è¾‰</title>
<link>http://www.cnblogs.com/mseddl/p/11495405.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mseddl/p/11495405.html</guid>
<description>&lt;p&gt;æ›´å¤šå†…å®¹ï¼Œæ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šå…¨èœå·¥ç¨‹å¸ˆå°è¾‰ã€‚å…¬ä¼—å·å›å¤å…³é”®è¯ï¼Œé¢†å–å…è´¹å­¦ä¹ èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚ æ‰€ä»¥æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘å“¨å…µ(sentinel) æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;Redis sentinelæ˜¯Redisé«˜å¯ç”¨å®ç°æ–¹æ¡ˆï¼šæ•…éšœå‘ç°ã€æ•…éšœè‡ªåŠ¨è½¬ç§»ã€é…ç½®ä¸­å¿ƒã€å®¢æˆ·ç«¯é€šçŸ¥ã€‚ä»Redisçš„2.6ç‰ˆæœ¬å¼€å§‹æä¾›çš„ï¼Œä½†æ˜¯å½“æ—¶è¿™ä¸ªç‰ˆæœ¬çš„æ¨¡å¼æ˜¯ä¸ç¨³å®šçš„ï¼Œç›´åˆ°Redisçš„2.8ç‰ˆæœ¬ä»¥åï¼Œè¿™ä¸ªå“¨å…µæ¨¡å¼æ‰ç¨³å®šä¸‹æ¥ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨Redisçš„å“¨å…µæ¨¡å¼ï¼Œä¹Ÿä¼šå°½é‡ä½¿ç”¨Redisçš„2.8ç‰ˆæœ¬ä¹‹åçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å“¨å…µè™½ç„¶æœ‰ä¸€ä¸ªå•ç‹¬çš„å¯æ‰§è¡Œæ–‡ä»¶Redis-sentinel ï¼Œä½†å®é™…ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç‰¹æ®Šæ¨¡å¼ä¸‹çš„ RedisæœåŠ¡å™¨ï¼Œä½ å¯ä»¥åœ¨å¯åŠ¨ä¸€ä¸ªæ™®é€šRedisæœåŠ¡å™¨æ—¶é€šè¿‡ç»™å®š&lt;code&gt;--sentinel&lt;/code&gt;é€‰é¡¹æ¥å¯åŠ¨å“¨å…µï¼Œå“¨å…µçš„ä¸€äº›è®¾è®¡æ€è·¯å’Œzookeeperéå¸¸ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085844408-294742149.png&quot; alt=&quot;Rediså“¨å…µæ¨¡å¼&quot;/&gt;&lt;/p&gt;

&lt;p&gt;sentinelæœºåˆ¶ä¸­æœ‰ä¸‰ç§é‡è¦çš„å®šæ—¶ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ¯10ç§’æ¯ä¸ªsentinelå¯¹masterå’Œslaveæ‰§è¡Œinfo&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å‘ç°slaveèŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;ç¡®è®¤ä¸»ä»å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;ol&gt;&lt;li&gt;æ¯2ç§’æ¯ä¸ªsentinelé€šè¿‡masterèŠ‚ç‚¹çš„channeläº¤æ¢ä¿¡æ¯(pub/sub)&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;äº’ç›¸é€šä¿¡æŒæ¡èŠ‚ç‚¹çš„ä¿¡æ¯å’Œè‡ªèº«ä¿¡æ¯ï¼Œå¯ä»¥æ„ŸçŸ¥æ–°åŠ å…¥çš„sentinel&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;é€šè¿‡masterèŠ‚ç‚¹çš„__sentinel__:helloé¢‘é“è¿›è¡Œäº¤äº’ï¼Œæ‰€æœ‰sentinelè®¢é˜…è¿™ä¸ªé¢‘é“å¹¶æ¯2ç§’å‘è¯¥é¢‘é“å‘å¸ƒä¿¡æ¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;&lt;li&gt;æ¯1ç§’æ¯ä¸ªsentinelå¯¹å…¶ä»–sentinelå’Œmasterï¼Œslaveè¿›è¡Œping&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¿ƒè·³æ£€æµ‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä¸»è§‚ä¸‹çº¿&quot;&gt;ä¸»è§‚ä¸‹çº¿&lt;/h2&gt;
&lt;p&gt;ä¸»è§‚ä¸‹çº¿ï¼šå•ä¸ªsentinelèŠ‚ç‚¹å¯¹RedisèŠ‚ç‚¹é€šä¿¡å¤±è´¥çš„â€œåè§â€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ç§ä¸»è§‚ä¸‹çº¿ã€‚å› ä¸ºåœ¨å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œè¿™ä¸ªsentinelä¸è¿™ä¸ªmasterä¸é€šï¼Œä½†æ˜¯å¦‚æœmasterä¸å…¶ä»–çš„sentineléƒ½æ˜¯é€šçš„å‘¢ï¼Ÿæ‰€ä»¥æ˜¯ä¸€ç§â€œåè§â€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¾é çš„ç¬¬ä¸‰ç§å®šæ—¶ï¼šæ¯ç§’å»pingä¸€ä¸‹å‘¨å›´çš„sentinelå’ŒRedisã€‚å¯¹äºslave Redis,å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¸»è§‚ä¸‹çº¿ï¼Œå› ä¸ºä»–ä¸éœ€è¦è¿›è¡Œæ•…éšœè½¬ç§»ï¼›ä½†æ˜¯å¯¹äºmaster Redisï¼Œå¿…é¡»ä½¿ç”¨å®¢è§‚ä¸‹çº¿ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®¢è§‚ä¸‹çº¿&quot;&gt;å®¢è§‚ä¸‹çº¿&lt;/h2&gt;
&lt;p&gt;å®¢è§‚ä¸‹çº¿ï¼šæ‰€æœ‰sentinelèŠ‚ç‚¹å¯¹master RedisèŠ‚ç‚¹å¤±è´¥â€œè¾¾æˆå…±è¯†â€ï¼ˆè¶…è¿‡quorumä¸ªåˆ™ç»Ÿä¸€ï¼Œquorumå¯é…ç½®ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¾é çš„ç¬¬äºŒç§å®šæ—¶ï¼šæ¯ä¸¤ç§’ï¼Œsentinelä¹‹é—´è¿›è¡Œâ€œå•†é‡â€ï¼ˆä¸€ä¸ª sentinel å¯ä»¥é€šè¿‡å‘å¦ä¸€ä¸ª sentinel å‘é€ SENTINEL is-master-down-by-addr å‘½ä»¤æ¥è¯¢é—®å¯¹æ–¹æ˜¯å¦è®¤ä¸ºç»™å®šçš„æœåŠ¡å™¨å·²ä¸‹çº¿ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;å¯¹äºmaster redisçš„ä¸‹çº¿ï¼Œå¿…é¡»è¦è¾¾æˆå…±è¯†æ‰å¯ä»¥ï¼Œå› ä¸ºæ¶‰åŠæ•…éšœè½¬ç§»ï¼Œä»…ä»…ä¾é ä¸€ä¸ªsentinelåˆ¤æ–­æ˜¯ä¸å¤Ÿçš„&lt;/p&gt;

&lt;p&gt;å½“sentinelé›†ç¾¤éœ€è¦æ•…éšœè½¬ç§»çš„æ—¶å€™ä¼šåœ¨é›†ç¾¤ä¸­é€‰å‡ºLeaderæ‰§è¡Œæ•…éšœè½¬ç§»æ“ä½œã€‚sentinelé‡‡ç”¨äº†Raftåè®®å®ç°äº†sentinelé—´é€‰ä¸¾Leaderçš„ç®—æ³•ï¼Œä¸è¿‡ä¹Ÿä¸å®Œå…¨è·Ÿè®ºæ–‡æè¿°çš„æ­¥éª¤ä¸€è‡´ã€‚sentinelé›†ç¾¤è¿è¡Œè¿‡ç¨‹ä¸­æ•…éšœè½¬ç§»å®Œæˆï¼Œæ‰€æœ‰sentinelåˆä¼šæ¢å¤å¹³ç­‰ã€‚Leaderä»…ä»…æ˜¯æ•…éšœè½¬ç§»æ“ä½œå‡ºç°çš„è§’è‰²ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é€‰ä¸¾æµç¨‹&quot;&gt;é€‰ä¸¾æµç¨‹&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;æŸä¸ªsentinelè®¤å®šmasterå®¢è§‚ä¸‹çº¿çš„èŠ‚ç‚¹åï¼Œè¯¥sentinelä¼šå…ˆçœ‹çœ‹è‡ªå·±æœ‰æ²¡æœ‰æŠ•è¿‡ç¥¨ï¼Œå¦‚æœè‡ªå·±å·²ç»æŠ•è¿‡ç¥¨ç»™å…¶ä»–sentineläº†ï¼Œåœ¨2å€æ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´è‡ªå·±å°±ä¸ä¼šæˆä¸ºLeaderã€‚ç›¸å½“äºå®ƒæ˜¯ä¸€ä¸ªFollowerã€‚&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè¯¥sentinelè¿˜æ²¡æŠ•è¿‡ç¥¨ï¼Œé‚£ä¹ˆå®ƒå°±æˆä¸ºCandidateã€‚&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;å’ŒRaftåè®®æè¿°çš„ä¸€æ ·ï¼Œæˆä¸ºCandidateï¼Œsentineléœ€è¦å®Œæˆå‡ ä»¶äº‹æƒ…&lt;br/&gt;3.1 æ›´æ–°æ•…éšœè½¬ç§»çŠ¶æ€ä¸ºstart&lt;br/&gt;3.2 å½“å‰epochåŠ 1ï¼Œç›¸å½“äºè¿›å…¥ä¸€ä¸ªæ–°termï¼Œåœ¨sentinelä¸­epochå°±æ˜¯Raftåè®®ä¸­çš„termã€‚&lt;br/&gt;3.3 æ›´æ–°è‡ªå·±çš„è¶…æ—¶æ—¶é—´ä¸ºå½“å‰æ—¶é—´éšæœºåŠ ä¸Šä¸€æ®µæ—¶é—´ï¼Œéšæœºæ—¶é—´ä¸º1så†…çš„éšæœºæ¯«ç§’æ•°ã€‚&lt;br/&gt;3.4 å‘å…¶ä»–èŠ‚ç‚¹å‘é€is-master-down-by-addrå‘½ä»¤è¯·æ±‚æŠ•ç¥¨ã€‚å‘½ä»¤ä¼šå¸¦ä¸Šè‡ªå·±çš„epochã€‚&lt;br/&gt;3.5 ç»™è‡ªå·±æŠ•ä¸€ç¥¨ï¼Œåœ¨sentinelä¸­ï¼ŒæŠ•ç¥¨çš„æ–¹å¼æ˜¯æŠŠè‡ªå·±masterç»“æ„ä½“é‡Œçš„leaderå’Œleader_epochæ”¹æˆæŠ•ç»™çš„sentinelå’Œå®ƒçš„epochã€‚&lt;/li&gt;
&lt;li&gt;å…¶ä»–sentinelä¼šæ”¶åˆ°Candidateçš„is-master-down-by-addrå‘½ä»¤ã€‚å¦‚æœsentinelå½“å‰epochå’ŒCandidateä¼ ç»™ä»–çš„epochä¸€æ ·ï¼Œè¯´æ˜ä»–å·²ç»æŠŠè‡ªå·±masterç»“æ„ä½“é‡Œçš„leaderå’Œleader_epochæ”¹æˆå…¶ä»–Candidateï¼Œç›¸å½“äºæŠŠç¥¨æŠ•ç»™äº†å…¶ä»–Candidateã€‚æŠ•è¿‡ç¥¨ç»™åˆ«çš„sentinelåï¼Œåœ¨å½“å‰epochå†…è‡ªå·±å°±åªèƒ½æˆä¸ºFollowerã€‚&lt;/li&gt;
&lt;li&gt;Candidateä¼šä¸æ–­çš„ç»Ÿè®¡è‡ªå·±çš„ç¥¨æ•°ï¼Œç›´åˆ°ä»–å‘ç°è®¤åŒä»–æˆä¸ºLeaderçš„ç¥¨æ•°è¶…è¿‡ä¸€åŠè€Œä¸”è¶…è¿‡å®ƒé…ç½®çš„quorumï¼ˆquorumå¯ä»¥å‚è€ƒã€Šredis sentinelè®¾è®¡ä¸å®ç°ã€‹ï¼‰ã€‚sentinelæ¯”Raftåè®®å¢åŠ äº†quorumï¼Œè¿™æ ·ä¸€ä¸ªsentinelèƒ½å¦å½“é€‰Leaderè¿˜å–å†³äºå®ƒé…ç½®çš„quorumã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ä¸€ä¸ªé€‰ä¸¾æ—¶é—´å†…ï¼ŒCandidateæ²¡æœ‰è·å¾—è¶…è¿‡ä¸€åŠä¸”è¶…è¿‡å®ƒé…ç½®çš„quorumçš„ç¥¨æ•°ï¼Œè‡ªå·±çš„è¿™æ¬¡é€‰ä¸¾å°±å¤±è´¥äº†ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ä¸€ä¸ªepochå†…ï¼Œæ²¡æœ‰ä¸€ä¸ªCandidateè·å¾—æ›´å¤šçš„ç¥¨æ•°ã€‚é‚£ä¹ˆç­‰å¾…è¶…è¿‡2å€æ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´åï¼ŒCandidateå¢åŠ epoché‡æ–°æŠ•ç¥¨ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŸä¸ªCandidateè·å¾—è¶…è¿‡ä¸€åŠä¸”è¶…è¿‡å®ƒé…ç½®çš„quorumçš„ç¥¨æ•°ï¼Œé‚£ä¹ˆå®ƒå°±æˆä¸ºäº†Leaderã€‚&lt;/li&gt;
&lt;li&gt;ä¸Raftåè®®ä¸åŒï¼ŒLeaderå¹¶ä¸ä¼šæŠŠè‡ªå·±æˆä¸ºLeaderçš„æ¶ˆæ¯å‘ç»™å…¶ä»–sentinelã€‚å…¶ä»–sentinelç­‰å¾…Leaderä»slaveé€‰å‡ºmasteråï¼Œæ£€æµ‹åˆ°æ–°çš„masteræ­£å¸¸å·¥ä½œåï¼Œå°±ä¼šå»æ‰å®¢è§‚ä¸‹çº¿çš„æ ‡è¯†ï¼Œä»è€Œä¸éœ€è¦è¿›å…¥æ•…éšœè½¬ç§»æµç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;&lt;li&gt;å½“å¤šä¸ªsentinelå‘ç°å¹¶ç¡®è®¤äº†masteræœ‰é—®é¢˜&lt;/li&gt;
&lt;li&gt;æ¥ç€ä¼šé€‰ä¸¾å‡ºä¸€ä¸ªsentinelä½œä¸ºé¢†å¯¼&lt;/li&gt;
&lt;li&gt;å†é€‰ä¸¾å‡ºä¸€ä¸ªslaveä½œä¸ºmaster&lt;/li&gt;
&lt;li&gt;é€šçŸ¥å…¶ä½™çš„slaveï¼Œæ–°çš„masteræ˜¯è°&lt;/li&gt;
&lt;li&gt;é€šçŸ¥å®¢æˆ·ç«¯ä¸€ä¸ªä¸»ä»çš„å˜åŒ–&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œsentinelä¼šç­‰å¾…æ—§çš„masterå¤æ´»ï¼Œç„¶åå°†æ–°masteræˆä¸ºslave&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•é€‰æ‹©â€œåˆé€‚â€çš„slaveèŠ‚ç‚¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;é€‰æ‹©slave-priority(slaveèŠ‚ç‚¹ä¼˜å…ˆçº§ï¼Œäººä¸ºé…ç½®)æœ€é«˜çš„slaveèŠ‚ç‚¹ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›ï¼Œä¸å­˜åœ¨åˆ™ç»§ç»­ã€‚&lt;/li&gt;
&lt;li&gt;å…¶æ¬¡ä¼šé€‰æ‹©å¤åˆ¶åç§»é‡æœ€å¤§çš„slaveèŠ‚ç‚¹(å¤åˆ¶å¾—æœ€å®Œæ•´)ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›ï¼Œä¸å­˜åœ¨åˆ™ç»§ç»­&lt;/li&gt;
&lt;li&gt;æœ€åä¼šé€‰æ‹©run_idæœ€å°çš„slaveèŠ‚ç‚¹(å¯åŠ¨æœ€æ—©çš„èŠ‚ç‚¹)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•…éšœè½¬ç§»åå®¢æˆ·ç«¯æ— æ³•æ„ŸçŸ¥å°†æ— æ³•ä¿è¯æ­£å¸¸çš„ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œå®ç°å®¢æˆ·ç«¯é«˜å¯ç”¨çš„æ­¥éª¤å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å®¢æˆ·ç«¯è·å–sentinelèŠ‚ç‚¹é›†åˆ&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085845265-1264156447.png&quot; alt=&quot;Rediså“¨å…µæ¨¡å¼&quot;/&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å®¢æˆ·ç«¯é€šè¿‡sentinel get-master-addr-by-name master-nameè¿™ä¸ªapiæ¥è·å–å¯¹åº”ä¸»èŠ‚ç‚¹ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085846719-737461915.png&quot; alt=&quot;Rediså“¨å…µæ¨¡å¼&quot;/&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å®¢æˆ·ç«¯éªŒè¯å½“å‰è·å–çš„â€œä¸»èŠ‚ç‚¹â€æ˜¯çœŸæ­£çš„ä¸»èŠ‚ç‚¹ï¼Œè¿™æ ·çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢æ•…éšœè½¬ç§»æœŸé—´ä¸»èŠ‚ç‚¹çš„å˜åŒ–&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085848783-891612354.png&quot; alt=&quot;Rediså“¨å…µæ¨¡å¼&quot;/&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å®¢æˆ·ç«¯ä¿æŒå’ŒsentinelèŠ‚ç‚¹é›†åˆçš„è”ç³»ï¼Œå³è®¢é˜…sentinelèŠ‚ç‚¹ç›¸å…³é¢‘é“ï¼Œæ—¶åˆ»è·å–å…³äºä¸»èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085849474-1384257786.png&quot; alt=&quot;Rediså“¨å…µæ¨¡å¼&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢çš„æ¨¡å‹å¯ä»¥çœ‹å‡ºï¼ŒRedis sentinelå®¢æˆ·ç«¯åªæœ‰åœ¨åˆå§‹åŒ–å’Œåˆ‡æ¢ä¸»èŠ‚ç‚¹æ—¶éœ€è¦å’Œsentinelè¿›è¡Œé€šä¿¡æ¥è·å–ä¸»èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨è®¾è®¡å®¢æˆ·ç«¯æ—¶éœ€è¦å°†sentinelèŠ‚ç‚¹é›†åˆè€ƒè™‘æˆé…ç½®ï¼ˆç›¸å…³èŠ‚ç‚¹ä¿¡æ¯å’Œå˜åŒ–ï¼‰å‘ç°æœåŠ¡ã€‚&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;å°½å¯èƒ½åœ¨ä¸åŒç‰©ç†æœºä¸Šå’ŒåŒä¸€ä¸ªç½‘ç»œéƒ¨ç½²Redis sentinelçš„æ‰€æœ‰èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;Redis sentinelä¸­çš„sentinelèŠ‚ç‚¹ä¸ªæ•°åº”è¯¥å¤§äºç­‰äº3ä¸”æœ€å¥½æ˜¯å¥‡æ•°ã€‚ï¼ˆèŠ‚ç‚¹æ•°å¤šå¯ä»¥ä¿è¯é«˜å¯ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;Redis sentinelä¸­çš„æ•°æ®èŠ‚ç‚¹å’Œæ™®é€šæ•°æ®èŠ‚ç‚¹æ²¡æœ‰åŒºåˆ«ã€‚æ¯ä¸ªsentinelèŠ‚ç‚¹åœ¨æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªRediså®ä¾‹ï¼Œåªä¸è¿‡å’ŒRedisæ•°æ®èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ç›‘æ§Redisæ•°æ®èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯åˆå§‹åŒ–æ—¶è¿æ¥çš„æ˜¯sentinelèŠ‚ç‚¹é›†åˆï¼Œä¸å†æ˜¯å…·ä½“çš„RedisèŠ‚ç‚¹ï¼Œä½†sentinelåªæ˜¯é…ç½®ä¸­å¿ƒä¸æ˜¯ä»£ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ›´å¤šå†…å®¹ï¼Œæ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šå…¨èœå·¥ç¨‹å¸ˆå°è¾‰ã€‚å…¬ä¼—å·å›å¤å…³é”®è¯ï¼Œé¢†å–å…è´¹å­¦ä¹ èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1327889/201909/1327889-20190910085850720-1636355776.gif&quot; alt=&quot;å“å‘€ï¼Œå¦‚æœæˆ‘çš„åç‰‡ä¸¢äº†ã€‚å¾®ä¿¡æœç´¢â€œå…¨èœå·¥ç¨‹å¸ˆå°è¾‰â€ï¼Œä¾ç„¶å¯ä»¥æ‰¾åˆ°æˆ‘&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:59:00 +0000</pubDate>
<dc:creator>å…¨èœå·¥ç¨‹å¸ˆå°è¾‰</dc:creator>
<og:description>æ›´å¤šå†…å®¹ï¼Œæ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šå…¨èœå·¥ç¨‹å¸ˆå°è¾‰ã€‚å…¬ä¼—å·å›å¤å…³é”®è¯ï¼Œé¢†å–å…è´¹å­¦ä¹ èµ„æ–™ã€‚ å½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mseddl/p/11495405.html</dc:identifier>
</item>
<item>
<title>èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ - å°__ä¼Ÿ</title>
<link>http://www.cnblogs.com/qwlscn/p/11495402.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qwlscn/p/11495402.html</guid>
<description>&lt;h2&gt;1. å‰è¨€&lt;/h2&gt;
&lt;p&gt;éšç€äº’è”ç½‘çš„é«˜é€Ÿå‘å±•ï¼Œå‰ç«¯é¡µé¢çš„å±•ç¤ºã€äº¤äº’ä½“éªŒè¶Šæ¥è¶Šçµæ´»ã€ç‚«ä¸½ï¼Œå“åº”ä½“éªŒä¹Ÿè¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œåç«¯æœåŠ¡çš„é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜æ‰©å±•ç­‰ç‰¹æ€§çš„è¦æ±‚ä¹Ÿæ„ˆåŠ è‹›åˆ»ï¼Œä»è€Œå¯¼è‡´å‰åç«¯ç ”å‘å„è‡ªä¸“æ³¨äºè‡ªå·±æ“…é•¿çš„é¢†åŸŸæ·±è€•ç»†ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œå¸¦æ¥çš„å¦ä¸€ä¸ªé—®é¢˜ï¼šå‰åç«¯çš„å¯¹æ¥ç•Œé¢åŒæ–¹å´å…³æ³¨ç”šå°‘ï¼Œæ²¡æœ‰ä»»ä½•æ¥å£çº¦å®šè§„èŒƒæƒ…å†µä¸‹å„è‡ªå¹²å„è‡ªçš„ï¼Œå¯¼è‡´æˆ‘ä»¬åœ¨äº§å“é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‰åç«¯çš„æ¥å£è”è°ƒå¯¹æ¥å·¥ä½œé‡å æ¯”åœ¨30%-50%å·¦å³ï¼Œç”šè‡³ä¼šæ›´é«˜ã€‚å¾€å¾€å‰åç«¯æ¥å£è”è°ƒå¯¹æ¥åŠç³»ç»Ÿé—´çš„è”è°ƒå¯¹æ¥éƒ½æ˜¯æ•´ä¸ªäº§å“é¡¹ç›®ç ”å‘çš„è½¯è‚‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡çš„ä¸»è¦åˆè¡·å°±æ˜¯è§„èŒƒçº¦å®šå…ˆè¡Œï¼Œå°½é‡é¿å…æ²Ÿé€šè”è°ƒäº§ç”Ÿçš„ä¸å¿…è¦çš„é—®é¢˜ï¼Œè®©å¤§å®¶èº«å¿ƒæ„‰å¿«åœ°ä¸“æ³¨äºå„è‡ªæ“…é•¿çš„é¢†åŸŸã€‚&lt;/p&gt;
&lt;h2&gt;2. ä¸ºä½•è¦åˆ†ç¦»&lt;/h2&gt;
&lt;p&gt;å‚è€ƒä¸¤ç¯‡æ–‡ç« ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;http://blog.jobbole.com/65509/&lt;br/&gt;http://blog.jobbole.com/56161/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›®å‰ç°æœ‰å‰åç«¯å¼€å‘æ¨¡å¼ï¼šâ€œåç«¯ä¸ºä¸»çš„MVCæ—¶ä»£â€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;12&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTItMTU1NzAxOTg0Ny5qcGc?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTItMTU1NzAxOTg0Ny5qcGc?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java2-1557019847.jpg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åç«¯ä¸ºä¸»çš„MVCæ—¶ä»£&lt;/p&gt;
&lt;p&gt;ä»£ç å¯ç»´æŠ¤æ€§å¾—åˆ°æ˜æ˜¾å¥½è½¬ï¼ŒMVC æ˜¯ä¸ªéå¸¸å¥½çš„åä½œæ¨¡å¼ï¼Œä»æ¶æ„å±‚é¢è®©å¼€å‘è€…æ‡‚å¾—ä»€ä¹ˆä»£ç åº”è¯¥å†™åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚ä¸ºäº†è®© View å±‚æ›´ç®€å•å¹²è„†ï¼Œè¿˜å¯ä»¥é€‰æ‹© Velocityã€Freemaker ç­‰æ¨¡æ¿ï¼Œä½¿å¾—æ¨¡æ¿é‡Œå†™ä¸äº† Java ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹èµ·æ¥æ˜¯åŠŸèƒ½å˜å¼±äº†ï¼Œä½†æ­£æ˜¯è¿™ç§é™åˆ¶ä½¿å¾—å‰åç«¯åˆ†å·¥æ›´æ¸…æ™°ã€‚ç„¶è€Œä¾æ—§å¹¶ä¸æ˜¯é‚£ä¹ˆæ¸…æ™°ï¼Œè¿™ä¸ªé˜¶æ®µçš„å…¸å‹é—®é¢˜æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰ç«¯å¼€å‘é‡åº¦ä¾èµ–å¼€å‘ç¯å¢ƒï¼Œå¼€å‘æ•ˆç‡ä½ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ¶æ„ä¸‹ï¼Œå‰åç«¯åä½œæœ‰ä¸¤ç§æ¨¡å¼ï¼šä¸€ç§æ˜¯å‰ç«¯å†™demoï¼Œå†™å¥½åï¼Œè®©åç«¯å»å¥—æ¨¡æ¿ ã€‚æ·˜å®æ—©æœŸåŒ…æ‹¬ç°åœ¨ä¾æ—§æœ‰å¤§é‡ä¸šåŠ¡çº¿æ˜¯è¿™ç§æ¨¡å¼ã€‚å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œdemo å¯ä»¥æœ¬åœ°å¼€å‘ï¼Œå¾ˆé«˜æ•ˆã€‚ä¸è¶³æ˜¯è¿˜éœ€è¦åç«¯å¥—æ¨¡æ¿ï¼Œæœ‰å¯èƒ½å¥—é”™ï¼Œå¥—å®Œåè¿˜éœ€è¦å‰ç«¯ç¡®å®šï¼Œæ¥å›æ²Ÿé€šè°ƒæ•´çš„æˆæœ¬æ¯”è¾ƒå¤§ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ç§åä½œæ¨¡å¼æ˜¯å‰ç«¯è´Ÿè´£æµè§ˆå™¨ç«¯çš„æ‰€æœ‰å¼€å‘å’ŒæœåŠ¡å™¨ç«¯çš„ View å±‚æ¨¡æ¿å¼€å‘ï¼Œæ”¯ä»˜å®æ˜¯è¿™ç§æ¨¡å¼ã€‚å¥½å¤„æ˜¯ UI ç›¸å…³çš„ä»£ç éƒ½æ˜¯å‰ç«¯å»å†™å°±å¥½ï¼Œåç«¯ä¸ç”¨å¤ªå…³æ³¨ï¼Œä¸è¶³å°±æ˜¯å‰ç«¯å¼€å‘é‡åº¦ç»‘å®šåç«¯ç¯å¢ƒï¼Œç¯å¢ƒæˆä¸ºå½±å“å‰ç«¯å¼€å‘æ•ˆç‡çš„é‡è¦å› ç´ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰åç«¯èŒè´£ä¾æ—§çº ç¼ ä¸æ¸…ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Velocity æ¨¡æ¿è¿˜æ˜¯è›®å¼ºå¤§çš„ï¼Œå˜é‡ã€é€»è¾‘ã€å®ç­‰ç‰¹æ€§ï¼Œä¾æ—§å¯ä»¥é€šè¿‡æ‹¿åˆ°çš„ä¸Šä¸‹æ–‡å˜é‡æ¥å®ç°å„ç§ä¸šåŠ¡é€»è¾‘ã€‚è¿™æ ·ï¼Œåªè¦å‰ç«¯å¼±åŠ¿ä¸€ç‚¹ï¼Œå¾€å¾€å°±ä¼šè¢«åç«¯è¦æ±‚åœ¨æ¨¡æ¿å±‚å†™å‡ºä¸å°‘ä¸šåŠ¡ä»£ç ã€‚è¿˜æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç°è‰²åœ°å¸¦æ˜¯ Controllerï¼Œé¡µé¢è·¯ç”±ç­‰åŠŸèƒ½æœ¬åº”è¯¥æ˜¯å‰ç«¯æœ€å…³æ³¨çš„ï¼Œä½†å´æ˜¯ç”±åç«¯æ¥å®ç°ã€‚Controller æœ¬èº«ä¸ Model å¾€å¾€ä¹Ÿä¼šçº ç¼ ä¸æ¸…ï¼Œçœ‹äº†è®©äººå’¬ç‰™çš„ä¸šåŠ¡ä»£ç ç»å¸¸ä¼šå‡ºç°åœ¨ Controller å±‚ã€‚è¿™äº›é—®é¢˜ä¸èƒ½å…¨å½’ç»“äºç¨‹åºå‘˜çš„ç´ å…»ï¼Œå¦åˆ™ JSP å°±å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹å‰ç«¯å‘æŒ¥çš„å±€é™ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€§èƒ½ä¼˜åŒ–å¦‚æœåªåœ¨å‰ç«¯åšç©ºé—´éå¸¸æœ‰é™ï¼Œäºæ˜¯æˆ‘ä»¬ç»å¸¸éœ€è¦åç«¯åˆä½œæ‰èƒ½ç¢°æ’å‡ºç«èŠ±ï¼Œä½†ç”±äºåç«¯æ¡†æ¶é™åˆ¶ï¼Œæˆ‘ä»¬å¾ˆéš¾ä½¿ç”¨Cometã€Bigpipeç­‰æŠ€æœ¯æ–¹æ¡ˆæ¥ä¼˜åŒ–æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¸Šæ‰€è¿°ï¼Œå°±è·Ÿä¸ºä»€éº½è¦ä»£ç é‡æ„ä¸€æ ·ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;å…³æ³¨ç‚¹åˆ†ç¦»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;èŒè´£åˆ†ç¦»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹çš„äººåšå¯¹çš„äº‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´å¥½çš„å…±å»ºæ¨¡å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¿«é€Ÿçš„ååº”å˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2&gt;3. ä»€ä¹ˆæ˜¯åˆ†ç¦»&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬ç°åœ¨è¦åšçš„å‰ååˆ†ç¦»ç¬¬ä¸€é˜¶æ®µï¼šâ€œåŸºäº Ajax å¸¦æ¥çš„ SPA æ—¶ä»£â€ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;11&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTEwLTE1NTcwMTk4NDcuanBn?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTEwLTE1NTcwMTk4NDcuanBn?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java10-1557019847.jpg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åŸºäº Ajax å¸¦æ¥çš„ SPA æ—¶ä»£&lt;/p&gt;
&lt;p&gt;è¿™ç§æ¨¡å¼ä¸‹ï¼Œå‰åç«¯çš„åˆ†å·¥éå¸¸æ¸…æ™°ï¼Œå‰åç«¯çš„å…³é”®åä½œç‚¹æ˜¯ Ajax æ¥å£ã€‚çœ‹èµ·æ¥æ˜¯å¦‚æ­¤ç¾å¦™ï¼Œä½†å›è¿‡å¤´æ¥çœ‹çœ‹çš„è¯ï¼Œè¿™ä¸ JSP æ—¶ä»£åŒºåˆ«ä¸å¤§ã€‚å¤æ‚åº¦ä»æœåŠ¡ç«¯çš„ JSP é‡Œç§»åˆ°äº†æµè§ˆå™¨çš„ JavaScriptï¼Œæµè§ˆå™¨ç«¯å˜å¾—å¾ˆå¤æ‚ã€‚ç±»ä¼¼ Spring MVCï¼Œè¿™ä¸ªæ—¶ä»£å¼€å§‹å‡ºç°æµè§ˆå™¨ç«¯çš„åˆ†å±‚æ¶æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;10&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTUtMTU1NzAxOTg0OC5qcGc?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTUtMTU1NzAxOTg0OC5qcGc?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java5-1557019848.jpg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨ç«¯çš„åˆ†å±‚æ¶æ„&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¸€SPAé˜¶æ®µï¼Œå‰åç«¯åˆ†ç¦»æœ‰å‡ ä¸ªé‡è¦æŒ‘æˆ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰åç«¯æ¥å£çš„çº¦å®šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœåç«¯çš„æ¥å£ä¸€å¡Œç³Šæ¶‚ï¼Œå¦‚æœåç«¯çš„ä¸šåŠ¡æ¨¡å‹ä¸å¤Ÿç¨³å®šï¼Œé‚£ä¹ˆå‰ç«¯å¼€å‘ä¼šå¾ˆç—›è‹¦ã€‚è¿™ä¸€å—åœ¨ä¸šç•Œæœ‰ API Blueprint ç­‰æ–¹æ¡ˆæ¥çº¦å®šå’Œæ²‰æ·€æ¥å£ï¼Œ==åœ¨é˜¿é‡Œï¼Œä¸å°‘å›¢é˜Ÿä¹Ÿæœ‰ç±»ä¼¼å°è¯•ï¼Œé€šè¿‡æ¥å£è§„åˆ™ã€æ¥å£å¹³å°ç­‰æ–¹å¼æ¥åšã€‚æœ‰äº†å’Œåç«¯ä¸€èµ·æ²‰æ·€çš„æ¥å£è§„åˆ™ï¼Œè¿˜å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿæ•°æ®ï¼Œä½¿å¾—å‰åç«¯å¯ä»¥åœ¨çº¦å®šæ¥å£åå®ç°é«˜æ•ˆå¹¶è¡Œå¼€å‘ã€‚== ç›¸ä¿¡è¿™ä¸€å—ä¼šè¶Šåšè¶Šå¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰ç«¯å¼€å‘çš„å¤æ‚åº¦æ§åˆ¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;SPA åº”ç”¨å¤§å¤šä»¥åŠŸèƒ½äº¤äº’å‹ä¸ºä¸»ï¼ŒJavaScript ä»£ç è¿‡åä¸‡è¡Œå¾ˆæ­£å¸¸ã€‚å¤§é‡ JS ä»£ç çš„ç»„ç»‡ï¼Œä¸ View å±‚çš„ç»‘å®šç­‰ï¼Œéƒ½ä¸æ˜¯å®¹æ˜“çš„äº‹æƒ…ã€‚å…¸å‹çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸šç•Œçš„ Backboneï¼Œä½† Backbone åšçš„äº‹è¿˜å¾ˆæœ‰é™ï¼Œä¾æ—§å­˜åœ¨å¤§é‡ç©ºç™½åŒºåŸŸéœ€è¦æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h2&gt;4. å¦‚ä½•åšåˆ†ç¦»&lt;/h2&gt;
&lt;h3&gt;4.1 èŒè´£åˆ†ç¦»&lt;/h3&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;9&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTUtMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTUtMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java5-1557019848.jpeg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;èŒè´£åˆ†ç¦»&lt;/p&gt;

&lt;ul readability=&quot;0&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å‰åç«¯ä»…ä»…é€šè¿‡å¼‚æ­¥æ¥å£(AJAX/JSONP)æ¥ç¼–ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å‰åç«¯éƒ½å„è‡ªæœ‰è‡ªå·±çš„å¼€å‘æµç¨‹ï¼Œæ„å»ºå·¥å…·ï¼Œæµ‹è¯•é›†åˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œå‰åç«¯å˜å¾—ç›¸å¯¹ç‹¬ç«‹å¹¶æ¾è€¦åˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;8&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTgtMTU1NzAxOTg0OC5wbmc?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTgtMTU1NzAxOTg0OC5wbmc?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java8-1557019848.png&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;4.2 å¼€å‘æµç¨‹&lt;/h3&gt;
&lt;ul readability=&quot;1&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åç«¯ç¼–å†™å’Œç»´æŠ¤æ¥å£æ–‡æ¡£ï¼Œåœ¨ API å˜åŒ–æ—¶æ›´æ–°æ¥å£æ–‡æ¡£&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åç«¯æ ¹æ®æ¥å£æ–‡æ¡£è¿›è¡Œæ¥å£å¼€å‘&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å‰ç«¯æ ¹æ®æ¥å£æ–‡æ¡£è¿›è¡Œå¼€å‘ + Mockå¹³å°&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å¼€å‘å®Œæˆåè”è°ƒå’Œæäº¤æµ‹è¯•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Mock æœåŠ¡å™¨æ ¹æ®æ¥å£æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ Mock æ•°æ®ï¼Œå®ç°äº†æ¥å£æ–‡æ¡£å³APIï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;7&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTYtMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTYtMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java6-1557019848.jpeg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å¼€å‘æµç¨‹&lt;/p&gt;
&lt;h3&gt;4.3 å…·ä½“å®æ–½&lt;/h3&gt;
&lt;p&gt;ç°åœ¨å·²åŸºæœ¬å®Œæˆäº†ï¼Œæ¥å£æ–¹é¢çš„å®æ–½ï¼š&lt;/p&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ¥å£æ–‡æ¡£æœåŠ¡å™¨ï¼šå¯å®ç°æ¥å£å˜æ›´å®æ—¶åŒæ­¥ç»™å‰ç«¯å±•ç¤ºï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Mockæ¥å£æ•°æ®å¹³å°ï¼šå¯å®ç°æ¥å£å˜æ›´å®æ—¶Mockæ•°æ®ç»™å‰ç«¯ä½¿ç”¨ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;æ¥å£è§„èŒƒå®šä¹‰ï¼šå¾ˆé‡è¦ï¼Œæ¥å£å®šä¹‰çš„å¥½åç›´æ¥å½±å“åˆ°å‰ç«¯çš„å·¥ä½œé‡å’Œå®ç°é€»è¾‘ï¼›å…·ä½“å®šä¹‰è§„èŒƒè§ä¸‹èŠ‚ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;6&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTktMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTktMTU1NzAxOTg0OC5qcGVn?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java9-1557019848.jpeg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ¥å£æ–‡æ¡£+Mockå¹³å°æœåŠ¡å™¨&lt;/p&gt;
&lt;h2&gt;5. æ¥å£è§„èŒƒV1.0.0&lt;/h2&gt;
&lt;h3&gt;5.1 è§„èŒƒåŸåˆ™&lt;/h3&gt;
&lt;ul readability=&quot;1&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ¥å£è¿”å›æ•°æ®å³æ˜¾ç¤ºï¼šå‰ç«¯ä»…åšæ¸²æŸ“é€»è¾‘å¤„ç†ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ¸²æŸ“é€»è¾‘ç¦æ­¢è·¨å¤šä¸ªæ¥å£è°ƒç”¨ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å‰ç«¯å…³æ³¨äº¤äº’ã€æ¸²æŸ“é€»è¾‘ï¼Œå°½é‡é¿å…ä¸šåŠ¡é€»è¾‘å¤„ç†çš„å‡ºç°ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;è¯·æ±‚å“åº”ä¼ è¾“æ•°æ®æ ¼å¼ï¼šJSONï¼ŒJSONæ•°æ®å°½é‡ç®€å•è½»é‡ï¼Œé¿å…å¤šçº§JSONçš„å‡ºç°ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;5.2 åŸºæœ¬æ ¼å¼&lt;/h3&gt;
&lt;p&gt;5.2.1 è¯·æ±‚åŸºæœ¬æ ¼å¼&lt;/p&gt;
&lt;p&gt;GETè¯·æ±‚ã€POSTè¯·æ±‚==å¿…é¡»åŒ…å«keyä¸ºbodyçš„å…¥å‚ï¼Œæ‰€æœ‰è¯·æ±‚æ•°æ®åŒ…è£…ä¸ºJSONæ ¼å¼ï¼Œå¹¶å­˜æ”¾åˆ°å…¥å‚bodyä¸­==ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GETè¯·æ±‚ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;POSTè¯·æ±‚ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;å›¾åƒ&quot; data-cke-widget-id=&quot;4&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTYtMTU1NzAxOTg0OS5qcGVn?x-oss-process=image/format,png&quot; alt=&quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&quot; data-cke-saved-src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuamF2YXpoaXlpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDUvamF2YTYtMTU1NzAxOTg0OS5qcGVn?x-oss-process=image/format,png&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;https://www.javazhiyin.com/wp-content/uploads/2019/05/java6-1557019849.jpeg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;èŠèŠå‰åç«¯åˆ†ç¦»æ¥å£è§„èŒƒ&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;5.2.2 å“åº”åŸºæœ¬æ ¼å¼&lt;/p&gt;

&lt;p&gt;code : è¯·æ±‚å¤„ç†çŠ¶æ€&lt;/p&gt;
&lt;p&gt;data.message: è¯·æ±‚å¤„ç†æ¶ˆæ¯&lt;/p&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;code=200 ä¸” data.message=&quot;success&quot;: è¯·æ±‚å¤„ç†æˆåŠŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;code=200 ä¸” data.message!=&quot;success&quot;: è¯·æ±‚å¤„ç†æˆåŠŸ, æ™®é€šæ¶ˆæ¯æç¤ºï¼šmessageå†…å®¹&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;code=500: è¯·æ±‚å¤„ç†å¤±è´¥ï¼Œè­¦å‘Šæ¶ˆæ¯æç¤ºï¼šmessageå†…å®¹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;5.3 å“åº”å®ä½“æ ¼å¼&lt;/h3&gt;

&lt;p&gt;data.entity: å“åº”è¿”å›çš„å®ä½“æ•°æ®&lt;/p&gt;
&lt;h3&gt;5.4 å“åº”åˆ—è¡¨æ ¼å¼&lt;/h3&gt;
&lt;p&gt;data.list: å“åº”è¿”å›çš„åˆ—è¡¨æ•°æ®&lt;/p&gt;
&lt;h3&gt;5.5 å“åº”åˆ†é¡µæ ¼å¼&lt;/h3&gt;


&lt;ul readability=&quot;2&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;data.recordCount: å½“å‰é¡µè®°å½•æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;data.totalCount: æ€»è®°å½•æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;data.pageNo: å½“å‰é¡µç &lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;data.pageSize: æ¯é¡µå¤§å°&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;data.totalPage: æ€»é¡µæ•°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;5.6 ç‰¹æ®Šå†…å®¹è§„èŒƒ&lt;/h3&gt;
&lt;p&gt;5.6.1 ä¸‹æ‹‰æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†&lt;/p&gt;
&lt;p&gt;ç”±åç«¯æ¥å£ç»Ÿä¸€é€»è¾‘åˆ¤å®šæ˜¯å¦é€‰ä¸­ï¼Œé€šè¿‡isSelectæ ‡ç¤ºæ˜¯å¦é€‰ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;ç¦æ­¢ä¸‹æ‹‰æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†åˆ¤å®šé€‰ä¸­é€»è¾‘ç”±å‰ç«¯æ¥å¤„ç†ï¼Œç»Ÿä¸€ç”±åç«¯é€»è¾‘åˆ¤å®šé€‰ä¸­è¿”å›ç»™å‰ç«¯å±•ç¤ºï¼›&lt;/p&gt;
&lt;p&gt;5.6.2 Booleanç±»å‹&lt;/p&gt;
&lt;p&gt;å…³äºBooleanç±»å‹ï¼ŒJSONæ•°æ®ä¼ è¾“ä¸­ä¸€å¾‹ä½¿ç”¨1/0æ¥æ ‡ç¤ºï¼Œ1ä¸ºæ˜¯/Trueï¼Œ0ä¸ºå¦/Falseï¼›&lt;/p&gt;
&lt;p&gt;5.6.3 æ—¥æœŸç±»å‹&lt;/p&gt;
&lt;p&gt;å…³äºæ—¥æœŸç±»å‹ï¼ŒJSONæ•°æ®ä¼ è¾“ä¸­ä¸€å¾‹ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå…·ä½“æ—¥æœŸæ ¼å¼å› ä¸šåŠ¡è€Œå®šï¼›&lt;/p&gt;
&lt;h2&gt;6. æœªæ¥çš„å¤§å‰ç«¯&lt;/h2&gt;
&lt;p&gt;ç›®å‰æˆ‘ä»¬ç°åœ¨ç”¨çš„å‰åç«¯åˆ†ç¦»æ¨¡å¼å±äºç¬¬ä¸€é˜¶æ®µï¼Œç”±äºä½¿ç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯jqueryç­‰ï¼Œå¯¹äºä¸€äº›é¡µé¢å±•ç¤ºã€æ•°æ®æ¸²æŸ“è¿˜æ˜¯æ¯”è¾ƒå¤æ‚ï¼Œä¸èƒ½å¤Ÿå¾ˆå¥½çš„è¾¾åˆ°å¤ç”¨ã€‚å¯¹äºå‰ç«¯è¿˜æ˜¯æœ‰å¾ˆå¤§çš„å·¥ä½œé‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€é˜¶æ®µå¯ä»¥åœ¨å‰ç«¯å·¥ç¨‹åŒ–æ–¹é¢ï¼Œå¯¹æŠ€æœ¯æ¡†æ¶çš„é€‰æ‹©ã€å‰ç«¯æ¨¡å—åŒ–é‡ç”¨æ–¹é¢ï¼Œå¯å¤šåšè€ƒé‡ã€‚ä¹Ÿå°±æ˜¯è¦è¿æ¥â€œ==å‰ç«¯ä¸ºä¸»çš„ MV* æ—¶ä»£==â€ã€‚å¤§å¤šæ•°çš„å…¬å¸ä¹ŸåŸºæœ¬éƒ½å¤„äºè¿™ä¸ªåˆ†ç¦»é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;æœ€åé˜¶æ®µå°±æ˜¯==Node å¸¦æ¥çš„å…¨æ ˆæ—¶ä»£==ï¼Œå®Œå…¨æœ‰å‰ç«¯æ¥æ§åˆ¶é¡µé¢ï¼ŒURLï¼ŒControllerï¼Œè·¯ç”±ç­‰ï¼Œåç«¯çš„åº”ç”¨å°±é€æ­¥å¼±åŒ–ä¸ºçœŸæ­£çš„æ•°æ®æœåŠ¡+ä¸šåŠ¡æœåŠ¡ï¼Œåšä¸”ä»…èƒ½åšçš„æ˜¯æä¾›æ•°æ®ã€å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå…³æ³¨é«˜å¯ç”¨ã€é«˜å¹¶å‘ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªé˜¶æ®µä»…åšç®€å•ä»‹ç»ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å‚è€ƒä¸‹é¢çš„èµ„æ–™ã€‚&lt;/p&gt;
&lt;h3&gt;7. å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;https://www.zhihu.com/question/28207685&lt;br/&gt;http://taobaofed.org/&lt;br/&gt;http://2014.jsconf.cn/slides/herman-taobaoweb&lt;br/&gt;http://blog.jobbole.com/65509/&lt;br/&gt;https://blog.kaolafed.com/&lt;br/&gt;http://blog.jobbole.com/65513/&lt;br/&gt;http://blog.jobbole.com/65534/&lt;br/&gt;http://blog.jobbole.com/65541/&lt;br/&gt;http://blog.jobbole.com/56161/&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:58:00 +0000</pubDate>
<dc:creator>å°__ä¼Ÿ</dc:creator>
<og:description>1. å‰è¨€ éšç€äº’è”ç½‘çš„é«˜é€Ÿå‘å±•ï¼Œå‰ç«¯é¡µé¢çš„å±•ç¤ºã€äº¤äº’ä½“éªŒè¶Šæ¥è¶Šçµæ´»ã€ç‚«ä¸½ï¼Œå“åº”ä½“éªŒä¹Ÿè¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œåç«¯æœåŠ¡çš„é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜æ‰©å±•ç­‰ç‰¹æ€§çš„è¦æ±‚ä¹Ÿæ„ˆåŠ è‹›åˆ»ï¼Œä»è€Œå¯¼è‡´å‰åç«¯ç ”å‘å„è‡ªä¸“æ³¨äºè‡ªå·±æ“…é•¿</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/qwlscn/p/11495402.html</dc:identifier>
</item>
<item>
<title>ç”¨.NETå†™â€œç®—å‘½â€ç¨‹åº - .NETéªšæ“ä½œ</title>
<link>http://www.cnblogs.com/sdflysha/p/20190905-fortune-with-dotnet.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/sdflysha/p/20190905-fortune-with-dotnet.html</guid>
<description>&lt;p&gt;â€œç®—å‘½â€ï¼Œæ˜¯ä¸€ç§è¿·ä¿¡ï¼Œæˆ‘çˆ¶äº²é‚£ä¸€è¾ˆå´æ‰§è¿·ä¸æ‚Ÿï¼Œæœ‰æ—¶æ·±é™·å…¶ä¸­ï¼Œæœ‰æ—¶ä¸ºæ±‚ä¸€â€œä¸Šä¸Šç­¾â€ï¼Œç”šè‡³ä¸æƒœé‡é‡‘ï¼Œå‘â€œå¤©ç¥â€ä¿ä½‘ã€‚æˆ‘æ›¾çœ‹åˆ°è¿‡æœ‰äº›ç®—å‘½ç½‘ç«™ï¼Œå¯ä»¥æ ¹æ®äººçš„ç”Ÿè¾°å…«å­—ï¼Œæ¥æ±‚å¾—è¿™ä¸ªäººä¸€ç”Ÿçš„è´¢è¿ã€æ¡ƒèŠ±è¿ï¼Œå¦‚æœç¬¬ä¸€å¦ç®—å¾—ä¸å¥½ï¼Œè¿˜å¯ä»¥å‘â€œå¤©ç¥â€â€œè¯·æ„¿â€ï¼ˆå……é’±ï¼‰ï¼Œå†ç®—ä¸€å¦ï¼Œç›´åˆ°è¾¾åˆ°å¥½è¿ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªæ·±ä¿¡å”¯ç‰©è¾©è¯æ³•çš„äººæ¥è¯´ï¼Œè¿™äº›ä¸œè¥¿å½“ç„¶æ˜¯ä¸ä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä»”ç»†å£å‘³ï¼Œå‘ç°è¿™äº›ä¸œè¥¿å…¶ä¸­éœ€è¦æœ‰äº›ç§‘å­¦é“ç†ã€‚æˆ‘å¯ä»¥å°†&lt;code&gt;ç®—å‘½&lt;/code&gt;æ€»ç»“ä¸ºä»¥ä¸‹â€œä¸‰è¦ç´ â€ï¼š&lt;/p&gt;
&lt;ol readability=&quot;3&quot;&gt;&lt;li&gt;
&lt;p&gt;ä¸€è‡´æ€§&lt;/p&gt;
â€œå‘½ä¸­æ³¨å®šâ€ï¼Œå› æ­¤â€œç®—â€å‡ºæ¥çš„ä¸œè¥¿ï¼Œä¸ç®¡æ—©ç®—è¿˜æ˜¯æ™šç®—ï¼Œä»€ä¹ˆæ—¶å€™ç®—ï¼Œç»“æœåº”è¯¥éƒ½ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;æ— è§„å¾‹æ€§&lt;/p&gt;
&lt;p&gt;â€œå¤©æœºä¸å¯æ³„éœ²â€ï¼Œå› æ­¤è¾“å…¥ç›¸è¿‘çš„å§“åç­‰å‚æ•°ï¼Œè¾“å‡ºåº”è¯¥ç›¸å·®è¾ƒè¿œã€‚â€œæ¯ä¸ªäººçš„å‘½è¿å„ä¸ç›¸åŒâ€ï¼Œæ¯”å¦‚ç‹—äºŒå’Œç‹—ä¸‰ï¼Œç›¸å·®åªæœ‰ä¸€ä¸ªå­—ï¼Œä½†ä»–ä»¬çš„å‘½è¿å¹¶ä¸ä¸€å®šä¼šå‡ ä¹ä¸€æ ·ã€‚ç®—æ³•åº”è¯¥ä¹Ÿè€ƒè™‘è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;ä¸ªæ€§åŒ–&lt;/p&gt;
&lt;p&gt;è¾“å…¥å‚æ•°åº”è¯¥å°½é‡ä¸ªæ€§åŒ–ï¼Œä¸è¦åƒ&lt;code&gt;åäºŒç”Ÿè‚–&lt;/code&gt;/&lt;code&gt;åäºŒæ˜Ÿåº§&lt;/code&gt;é‚£æ ·ï¼Œå’Œ&lt;code&gt;æ€§åˆ«&lt;/code&gt;åšæ’åˆ—ç»„åˆï¼Œåªæœ‰&lt;code&gt;12x2=24&lt;/code&gt;ç§ç»“æœã€‚å¦åˆ™æ’è½¦çš„äººå¤ªå¤šï¼Œå®¹æ˜“éœ²é¦…ğŸ˜‚ã€‚å› æ­¤è¾“å…¥å‚æ•°å¿…é¡»ä¸ªæ€§åŒ–ï¼Œæœ€å¥½æ˜¯&lt;code&gt;å§“å&lt;/code&gt;ã€&lt;code&gt;æ€§åˆ«&lt;/code&gt;å†åŠ ä¸Š&lt;code&gt;ç”Ÿè¾°å…«å­—&lt;/code&gt;ï¼ˆå‡ºç”Ÿæ—¶é—´ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;å¯æ“ä½œæ€§&lt;/p&gt;
&lt;p&gt;å­œå­œä¸å€¦çš„æ±‚å¦è€…ï¼Œå¯èƒ½ä¼šâ€œè¯šå¿ƒè¯šæ„â€æƒ³æ±‚ä¸ªâ€œä¸Šä¸Šç­¾â€ï¼Œå› æ­¤åœ¨ä¸€è‡´æ€§çš„åŸºç¡€ä¸Šï¼Œå¿…é¡»è¦åŠ ä¸€ç‚¹ç‚¹â€œ&lt;strong&gt;å¯æ“ä½œæ€§&lt;/strong&gt;â€ã€‚è¿™ä¸ªå¯ä»¥å½“ä½œä¸€ä¸ªå•ç‹¬çš„è¾“å…¥å‚æ•°æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¦‚æœå°†&lt;code&gt;ç®—å‘½&lt;/code&gt;å½“ä½œä¸€ä¸ªå‡½æ•°ï¼Œé‚£å®ƒçš„è¾“å…¥æ— ç–‘æ˜¯&lt;code&gt;å§“å&lt;/code&gt;ã€&lt;code&gt;å…¶å®ƒä¸ªäººä¿¡æ¯&lt;/code&gt;å’Œ&lt;code&gt;è¯šå¿ƒ&lt;/code&gt;ã€‚ï¼Œè¾“å‡ºå°±æ˜¯ä¸€ä¸ªåˆ†æ•°ï¼ˆ&lt;code&gt;0&lt;/code&gt;-&lt;code&gt;100&lt;/code&gt;ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹å›¾çš„ä»£ç è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int destinyScore = f(name, otherPersonalInformation, faith);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸‹é¢ï¼Œæˆ‘å°†ç”¨&lt;code&gt;.NET&lt;/code&gt;å®ç°è¿™ä¸ªâ€œç®—å‘½â€çš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æœ€åˆæƒ³æ³•&quot;&gt;æœ€åˆæƒ³æ³•&lt;/h2&gt;
&lt;p&gt;å¦‚æœåªä»¥&lt;code&gt;å§“å&lt;/code&gt;ä½œä¸ºè¾“å…¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å¯ä»¥ç®€åŒ–ä¸ºï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int destinyScore = f(name);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™å¯èƒ½å°±å¥½åŠå¤šäº†ï¼Œå¦‚&lt;code&gt;.NET&lt;/code&gt;ä¸­çš„&lt;code&gt;.GetHashCode()&lt;/code&gt;ï¼Œå³å¯å¿«é€Ÿè·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ï¼Œè¿™ä¸ªå“ˆå¸Œå€¼&lt;strong&gt;åº”è¯¥&lt;/strong&gt;æ˜¯å›ºå®šçš„ï¼ˆ&lt;strong&gt;å—ï¼Ÿ&lt;/strong&gt;ï¼‰ï¼Œè¯¥å€¼çš„å–å€¼èŒƒå›´æ˜¯&lt;code&gt;int.MinValue&lt;/code&gt;-&lt;code&gt;int.MaxValue&lt;/code&gt;ã€‚å› æ­¤æœ€ç®€å•çš„åŠæ³•ï¼Œå¯ä»¥å…ˆå¯ä»¥é€šè¿‡å¯¹&lt;code&gt;100&lt;/code&gt;æ±‚æ¨¡ï¼Œæ­¤æ—¶çš„å–å€¼èŒƒå›´æ˜¯&lt;code&gt;-99~99&lt;/code&gt;ï¼›ç„¶åå†å–ç»å¯¹å€¼+1å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int GetForturn(string name)
{
    return Math.Abs(name.GetHashCode() % 100) + 1;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨&lt;code&gt;.NET Framework 4.8&lt;/code&gt;ä¸­è¿è¡Œï¼Œå¯ä»¥ç®—å‡ºæˆ‘ï¼ˆå‘¨æ°ï¼‰çš„å¾—åˆ†å›ºå®šä¸º15åˆ†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æœ€ç®€å•ç®—æ³•çš„ç¼ºç‚¹-.net-coreçš„ä¸ä¸€è‡´&quot;&gt;æœ€ç®€å•ç®—æ³•çš„ç¼ºç‚¹-&lt;code&gt;.NET Core&lt;/code&gt;çš„ä¸ä¸€è‡´&lt;/h2&gt;
&lt;p&gt;åœ¨&lt;code&gt;.NET Core&lt;/code&gt;ä¸­ï¼Œè¿™ä¸ªç®—æ³•æ¯æ¬¡é‡æ–°è¿è¡Œï¼Œç®—å‡ºçš„ç»“æœéƒ½ä¸åŒï¼Œå› ä¸º&lt;code&gt;.NET Core&lt;/code&gt;ä¸ºäº†ç¡®ä¿å®‰å…¨æ€§ï¼Œåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¼šéšæœºç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²å“ˆå¸Œå€¼ç§å­ï¼Œå› æ­¤æ¯æ¬¡&lt;code&gt;exe&lt;/code&gt;è¿è¡Œï¼Œå“ˆå¸Œå€¼éƒ½ä¼šå˜ï¼Œæ–‡æ¡£æ˜¯è¿™ä¹ˆè¯´çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å“ˆå¸Œä»£ç æœ¬èº«ä¸ä¸€å®šæ˜¯ç¨³å®šçš„ã€‚ å¯¹äºå•ä¸ªç‰ˆæœ¬çš„ .NET, ç›¸åŒå­—ç¬¦ä¸²çš„å“ˆå¸Œä»£ç å¯èƒ½è·¨ .net å®ç°ã€è·¨ .NET ç‰ˆæœ¬å’Œè·¨ .NET å¹³å° (å¦‚32ä½å’Œ64ä½) ä¸åŒã€‚ åœ¨æŸäº›æƒ…å†µä¸‹, å®ƒä»¬ç”šè‡³ä¸åŒäºåº”ç”¨ç¨‹åºåŸŸã€‚ è¿™æ„å‘³ç€, åŒä¸€ç¨‹åºçš„ä¸¤æ¬¡åç»­è¿è¡Œå¯èƒ½è¿”å›ä¸åŒçš„å“ˆå¸Œä»£ç ã€‚&lt;/em&gt;ï¼ˆæºè‡ªï¼š&lt;a href=&quot;https://docs.microsoft.com/zh-cn/dotnet/api/system.string.gethashcode?view=netframework-4.8&quot; class=&quot;uri&quot;&gt;https://docs.microsoft.com/zh-cn/dotnet/api/system.string.gethashcode?view=netframework-4.8&lt;/a&gt; ï¼‰&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ç¬¦åˆâ€œä¸€è‡´æ€§â€ï¼Œçœ‹æ¥æƒ³ç®€å•åœ°é€šè¿‡&lt;code&gt;GetHashCode()&lt;/code&gt;å¿«é€Ÿâ€œç®—å‘½â€çš„æƒ³æ³•è½ç©ºäº†ï¼Œåªèƒ½ä½¿ç”¨æ ‡å‡†çš„&lt;strong&gt;å“ˆå¸Œç®—æ³•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å½“ç„¶ï¼Œä½¿ç”¨å¦‚æ­¤ç®€å•çš„ç®—æ³•ï¼Œå®¢æˆ·çŸ¥é“äº†ï¼Œå¯èƒ½ä¹Ÿä¸å¤ªæƒ…æ„¿æ¶ˆè´¹æ›´å¤šçš„â€œè¯šæ„é‡‘â€äº†ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;å“ˆå¸Œç®—æ³•&quot;&gt;å“ˆå¸Œç®—æ³•&lt;/h2&gt;
&lt;p&gt;å“ˆå¸Œç®—æ³•å¯ä»¥ç»™ä»»æ„é•¿åº¦çš„å­—ç¬¦è½¬æ¢ä¸ºä¸€ä¸²äºŒè¿›åˆ¶æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯å“ˆå¸Œå€¼ã€‚&lt;code&gt;.NET&lt;/code&gt;å†…ç½®äº†è®¸å¤šä¸åŒçš„å“ˆå¸Œç®—æ³•å¯ä¾›é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æœ‰å•çº¯çš„å“ˆå¸Œï¼Œå¦‚&lt;code&gt;MD5&lt;/code&gt;ã€&lt;code&gt;SHA1&lt;/code&gt;ä¹‹ç±»ï¼›&lt;/li&gt;
&lt;li&gt;æœ‰â€œåŠ ç›â€çš„å“ˆå¸Œï¼Œå¦‚&lt;code&gt;HMACSHA&lt;/code&gt;ã€&lt;code&gt;HMACSHA256&lt;/code&gt;ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;æœ‰å¯æŒ‡å®šç”Ÿæˆé•¿åº¦ã€å¯å¤šæ¬¡è¿­ä»£ã€ç»¼åˆæ€§â€œåŠ ç›â€çš„å“ˆå¸Œï¼Œå¦‚&lt;code&gt;Rfc2898DeriveBytes&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æˆ‘ä»¬è¦æŒ‡å®šä¸€ç‚¹ç‚¹â€œå¤©æœºâ€ï¼ˆåŠ ç›ï¼‰ï¼Œä½†â€œå¤©æœºä¸å¯æ³„éœ²â€ï¼Œå› æ­¤ç®€å•åœ°&lt;code&gt;MD5&lt;/code&gt;ç­‰å•çº¯å“ˆå¸Œç®—æ³•æ’é™¤ï¼›&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦è½¬åŒ–ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œæœ€å¤§çš„æ•´æ•°ç±»å‹ï¼Œ&lt;code&gt;long&lt;/code&gt;/&lt;code&gt;Int64&lt;/code&gt;ï¼Œä¸º&lt;code&gt;64&lt;/code&gt;ä½ï¼Œè€Œæœ€å°çš„å†…ç½®å“ˆå¸Œç®—æ³•ï¼Œ&lt;code&gt;MD5&lt;/code&gt;ï¼Œå°±å·²è¾¾&lt;code&gt;128&lt;/code&gt;ä½ã€‚å› æ­¤ä¹Ÿè¦æ’é™¤&lt;code&gt;HMACSHA&lt;/code&gt;ç­‰â€œåŠ ç›â€å“ˆå¸Œã€‚å½“ç„¶è¿™äº›å“ˆå¸Œå€¼ä¹Ÿå¯ä»¥æ‰‹åŠ¨æˆªå–éƒ¨åˆ†é•¿åº¦ï¼Œä½†å®‰å…¨æ€§æ˜¯ä¸ªé—®å·ï¼ˆä¹Ÿå—å¼ºè¿«ç—‡å½±å“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æè¿‡&lt;code&gt;ASP.NET Identity&lt;/code&gt;ç™»å½•çš„éƒ½çŸ¥é“é‡Œé¢ç”¨åˆ°äº†&lt;code&gt;Rfc2898DeriveBytes&lt;/code&gt;ï¼Œå®ƒé»˜è®¤ä¸º&lt;code&gt;ASP.NET Core&lt;/code&gt;åšäº†&lt;code&gt;10000&lt;/code&gt;æ¬¡è¿­ä»£ï¼Œç”¨å¤šæ¬¡è¿­ä»£çš„æ–¹å¼ï¼ˆè€Œä¸æ˜¯å¼•å…¥ä¸€ä¸ªæ–°å“ˆå¸Œç®—æ³•çš„æ–¹å¼ï¼‰ï¼Œç¡®ä¿äº†å®‰å…¨æ€§ã€‚æå¯¹ç§°åŠ å¯†çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¹Ÿç”¨è¿™ä¸ªç±»å°†å®¢æˆ·çš„å¯†ç è½¬æ¢ä¸ºåŠ å¯†ç®—æ³•çš„&lt;code&gt;å¯†é’¥&lt;/code&gt;(&lt;code&gt;key&lt;/code&gt;)ï¼Œéå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬é€‰æ‹©äº†&lt;code&gt;Rfc2898DeriveBytes&lt;/code&gt;ï¼Œè¯¥ç®—æ³•å¯ä»¥ç”Ÿæˆä»»æ„æŒ‡å®šé•¿åº¦çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°è¦æ±‚è¾“å…¥ä¸€ä¸ªç›å€¼å’Œè¿­ä»£æ¬¡æ•°ï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æˆ‘ä»¬å–ä¸€ä¸ªåˆ«äººä¸çŸ¥é“çš„å€¼ï¼ˆä»£ç ä¸­å†™æ­»äº†ï¼Œä½ ä»¬å‡è£…ä¸çŸ¥é“ï¼Œä½ ä»¬æƒ³ç”¨è¿™ä¸ªä»£ç æ—¶å¯ä»¥æ”¹æ”¹ğŸ˜ï¼‰ã€‚å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int GetForturn(string name)
{
    using (var h = new Rfc2898DeriveBytes(name, 
        salt: new byte[8] { 44, 2, 3, 4, 5, 6, 7, 8}, 
        iterations: 10086))
    {
        return (int)(BitConverter.ToUInt64(h.GetBytes(8), 0) % 100) + 1;
    };
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯è§ç®—å‡ºä¸€å¦80åˆ†ä»¥ä¸Šçš„â€œä¸Šç­¾â€ï¼Œå·²ç»éå¸¸ä¸å®¹æ˜“äº†ã€‚æˆ‘ä»ç½‘ä¸Šè‡ªåŠ¨ç”Ÿæˆäº†888ä¸ªå§“åï¼Œç„¶åè°ƒç”¨è¯¥å‡½æ•°ï¼Œå‘ç°å¾—åˆ†è¶…è¿‡&lt;code&gt;90&lt;/code&gt;åˆ†â€œä¸Šä¸Šç­¾â€æ ‡å‡†çš„ï¼Œåªæœ‰83ä¸ªï¼Œç›¸åŒäºååˆ†ä¹‹ä¸€ï¼Œç¬¦åˆåˆ†å¸ƒç‰¹ç‚¹ï¼ˆè¯¦æƒ…è§&lt;code&gt;Github&lt;/code&gt;ä¸Šçš„ä»£ç ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸‹ä»£ç ï¼Œå¯ä»¥ç®—å‡ºâ€œç‹—äºŒâ€æ˜¯48åˆ†ï¼Œâ€œç‹—ä¸‰â€æ˜¯96åˆ†ï¼Œå¯è§ä¸€å­—ä¹‹å·®ç›¸å·®ç”šè¿œï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;GetForturn(&quot;ç‹—äºŒ&quot;).Dump(); // 48
GetForturn(&quot;ç‹—ä¸‰&quot;).Dump(); // 96&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®Œæ•´ç®—æ³•&quot;&gt;å®Œæ•´ç®—æ³•&lt;/h2&gt;
&lt;p&gt;æœ€åï¼Œä¾è‘«èŠ¦ç”»ç“¢ï¼ŒåŠ ä¸Šä¸ªäººä¿¡æ¯å‚æ•°ï¼ˆç”Ÿæ—¥ï¼‰å’Œâ€œè¯šæ„é‡‘æ¬¡æ•°â€ï¼Œå®Œæˆæœ€åçš„ç®—æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;int GetForturn(string name, DateTime birthDay, int faithCount)
{
    using (var h = new Rfc2898DeriveBytes(name + birthDay + faithCount,
        salt: new byte[8] { 44, 2, 3, 4, 5, 6, 7, 8 },
        iterations: 10086))
    {
        return (int)(BitConverter.ToUInt64(h.GetBytes(8), 0) % 100) + 1;
    };
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶ååˆæ˜¯â€œç‹—äºŒâ€å’Œâ€œç‹—ä¸‰â€ï¼ŒåŠ ä¸Šä»–ä»¬çš„ç”Ÿæ—¥å‚æ•°åï¼Œé»˜è®¤ä»–ä»¬çš„å¾—åˆ†æ˜¯95åˆ†å’Œ3åˆ†ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;GetForturn(&quot;ç‹—äºŒ&quot;, new DateTime(1994, 5, 17), 0).Dump(); // 95
GetForturn(&quot;ç‹—ä¸‰&quot;, new DateTime(1996, 11, 3), 0).Dump(); // 3&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½†ç‹—ä¸‰ç»è¿‡1æ¬¡â€œè¯šæ„é‡‘â€åï¼Œä¹Ÿæ±‚å¾—äº†é«˜è¾¾99åˆ†ä»¥ä¸Šçš„â€œä¸Šä¸Šç­¾â€ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;GetForturn(&quot;ç‹—äºŒ&quot;, new DateTime(1994, 5, 17), 0).Dump(); // 98
GetForturn(&quot;ç‹—ä¸‰&quot;, new DateTime(1996, 11, 3), ).Dump(); // 99&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;Rfc2898DeriveBytes&lt;/code&gt;éå¸¸æœ‰ç”¨ï¼Œæœ¬æ–‡è¯´äº†&lt;code&gt;Rfc2898DeriveBytes&lt;/code&gt;çš„ä¸€ç§ä½¿ç”¨åœºæ™¯ï¼Œç›¸ä¿¡å„ä½åœ¨å·¥ä½œå½“æ—¶ä¹Ÿç»å¸¸ä¼šæœ‰æœºä¼šå»æ¥è§¦å®ƒã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å°†ä¸Šè¿°åŠŸèƒ½åšäº†ä¸€ä¸ªé¡µé¢ï¼Œæ„¿åšå›ä¸€ç¬‘ï¼š&lt;a href=&quot;https://destiny.starworks.cc/&quot; class=&quot;uri&quot;&gt;https://destiny.starworks.cc/&lt;/a&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201909/233608-20190909215240434-1933311131.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ‰€ç”¨ä»£ç ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://github.com/sdcb/blog-data/tree/master/2019/20190905-fortune-with-dotnet&quot; class=&quot;uri&quot;&gt;https://github.com/sdcb/blog-data/tree/master/2019/20190905-fortune-with-dotnet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯·å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼šã€DotNetéªšæ“ä½œã€‘ï¼Œ&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/233608/201908/233608-20190825165420518-990227633.jpg&quot; alt=&quot;DotNetéªšæ“ä½œ&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:51:00 +0000</pubDate>
<dc:creator>.NETéªšæ“ä½œ</dc:creator>
<og:description>â€œç®—å‘½â€ï¼Œæ˜¯ä¸€ç§è¿·ä¿¡ï¼Œæˆ‘çˆ¶äº²é‚£ä¸€è¾ˆå´æ‰§è¿·ä¸æ‚Ÿï¼Œæœ‰æ—¶æ·±é™·å…¶ä¸­ï¼Œæœ‰æ—¶ä¸ºæ±‚ä¸€â€œä¸Šä¸Šç­¾â€ï¼Œç”šè‡³ä¸æƒœé‡é‡‘ï¼Œå‘â€œå¤©ç¥â€ä¿ä½‘ã€‚æˆ‘æ›¾çœ‹åˆ°è¿‡æœ‰äº›ç®—å‘½ç½‘ç«™ï¼Œå¯ä»¥æ ¹æ®äººçš„ç”Ÿè¾°å…«å­—ï¼Œæ¥æ±‚å¾—è¿™ä¸ªäººä¸€ç”Ÿçš„è´¢è¿ã€æ¡ƒèŠ±è¿ï¼Œå¦‚æœç¬¬ä¸€å¦</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/sdflysha/p/20190905-fortune-with-dotnet.html</dc:identifier>
</item>
<item>
<title>å·¥ä½œä¸­é‡åˆ°çš„99%SQLä¼˜åŒ–ï¼Œè¿™é‡Œéƒ½èƒ½ç»™ä½ è§£å†³æ–¹æ¡ˆ(ä¸‰) - å°å¼ºçš„è¿›é˜¶ä¹‹è·¯</title>
<link>http://www.cnblogs.com/xiaoqiang-code/p/11495376.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xiaoqiang-code/p/11495376.html</guid>
<description>&lt;pre&gt;
&lt;code&gt;-- ç¤ºä¾‹è¡¨
CREATE TABLE `employees` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(24) NOT NULL DEFAULT '' COMMENT 'å§“å',
  `age` int(20) NOT NULL DEFAULT '0' COMMENT 'å¹´é¾„',
  `position` varchar(20) NOT NULL DEFAULT '' COMMENT 'èŒä½',
  `hire_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'å…¥èŒæ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_name_age_position` (`name`,`age`,`position`) USING BTREE,
  KEY `idx_age` (`age`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=136326 DEFAULT CHARSET=utf8 COMMENT='å‘˜å·¥è¡¨'

--åˆ›å»º100000æ¡è®°å½•
drop procedure if EXISTS insert_emp;
delimiter ;;
create procedure insert_emp()
BEGIN
    declare i int;
    set i=1;
    while(i &amp;lt; 100000)DO
        INSERT INTO employees(name,age,position) values(CONCAT('xiaoqiang',i),i,'coder');
        SET i=i+1;
    end WHILE;
end;;
delimiter ;
call insert_emp();&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;æ ¹æ®è‡ªå¢ä¸”è¿ç»­çš„ä¸»é”®æ’åºçš„åˆ†é¡µæŸ¥è¯¢&quot;&gt;æ ¹æ®è‡ªå¢ä¸”è¿ç»­çš„ä¸»é”®æ’åºçš„åˆ†é¡µæŸ¥è¯¢&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;select * from employees LIMIT 9999 ,5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957201-583356763.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957365-1168505638.jpg&quot;/&gt;&lt;br/&gt;è¡¨ç¤ºä»è¡¨employees ä¸­å–å‡ºä»10000è¡Œå¼€å§‹çš„5è¡Œè®°å½•ã€‚çœ‹ä¼¼åªæŸ¥è¯¢5æ¡è®°å½•ï¼Œå®é™…è¿™æ¡SQLæ˜¯å…ˆè¯»å–10005æ¡è®°å½•ï¼Œç„¶åæŠ›å¼ƒå‰10000æ¡è®°å½•ï¼Œç„¶åè¯»åˆ°åé¢5æ¡æƒ³è¦çš„æ•°æ®ã€‚æ²¡æœ‰æ·»åŠ å•ç‹¬çš„order byï¼Œè¡¨ç¤ºé€šè¿‡ä¸»é”®æ’åºã€‚&lt;br/&gt;å› æ­¤è¦æŸ¥è¯¢ä¸€å¼ å¤§è¡¨æ¯”è¾ƒé åçš„æ•°æ®ï¼Œæ‰§è¡Œæ•ˆç‡æ˜¯éå¸¸ä½çš„ã€‚&lt;br/&gt;å› ä¸ºä¸»é”®æ˜¯è‡ªå¢ä¸”è¿ç»­çš„ï¼Œæ‰€ä»¥å¯ä»¥æ”¹å†™æˆæŒ‰ç…§ä¸»é”®æŸ¥è¯¢ä»ç¬¬10001å¼€å§‹çš„äº”è¡Œæ•°æ®ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from  employees WHERE id &amp;gt; 9999 limit 5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957515-68702251.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957651-1075823864.jpg&quot;/&gt;&lt;br/&gt;å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªsqlçš„æ‰§è¡Œè®¡åˆ’ï¼Œæ˜¾ç„¶æ”¹å†™åçš„sqlèµ°äº†ç´¢å¼•ï¼Œè€Œä¸”æ‰«æçš„è¡Œæ•°å¤§å¤§å‡å°‘ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæ›´é«˜ã€‚ä½†æ˜¯ï¼Œè¿™æ¡æ”¹å†™çš„sqlåœ¨å¾ˆå¤šåœºæ™¯ä¸‹å¹¶ä¸å®ç”¨ï¼Œå› ä¸ºè¡¨ä¸­å¯èƒ½æŸäº›è®°å½•è¢«åˆ é™¤åï¼Œä¸»é”®ç©ºç¼ºï¼Œå¯¼è‡´ç»“æœä¸ä¸€è‡´ã€‚&lt;br/&gt;å…ˆåˆ é™¤ä¸€æ¡è®°å½•ï¼Œç„¶åæµ‹è¯•ä¸‹åŸæ¥sqlå’Œä¼˜åŒ–åçš„sqlï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from employees LIMIT 9999 ,5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957823-1634758047.jpg&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; select * from employees where id&amp;gt; 9999 limit 5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084957954-1377303408.jpg&quot;/&gt;&lt;br/&gt;ä¸¤æ¡sqlçš„ç»“æœä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œå¦‚æœä¸»é”®ä¸è¿ç»­ï¼Œä¸èƒ½ä½¿ç”¨ä¸Šé¢æè¿°çš„æ–¹æ³•ã€‚&lt;br/&gt;å¦å¤–ç”±äºåŸæ¥sqlæ˜¯order byéä¸»é”®å­—æ®µï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æ”¹å†™sqlçš„ç»“æœä¸ä¸€è‡´ã€‚æ‰€ä»¥è¿™ç§æ”¹å†™å¾—æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from employees order by name limit 9000, 5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084958076-259543668.jpg&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; explain select * from employees order by name limit 9000, 5;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084958196-633674116.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;keyå­—æ®µå¯¹åº”çš„å€¼ä¸ºnullï¼Œå‘ç°å¹¶æ²¡æœ‰ä½¿ç”¨nameå­—æ®µçš„ç´¢å¼•ã€‚å› ä¸ºæ‰«ææ•´ä¸ªç´¢å¼•å¹¶æŸ¥æ‰¾åˆ°æ²¡æœ‰ç´¢å¼•çš„è¡Œï¼Œå¯èƒ½è¦ä¾¿åˆ©å¤šä¸ªç´¢å¼•æ ‘ï¼Œå…¶æˆæœ¬æ¯”æ‰«æå…¨è¡¨çš„æˆæœ¬æ›´é«˜ï¼Œç´¢å¼•ä¼˜åŒ–å™¨æ”¾å¼ƒä½¿ç”¨ç´¢å¼•ã€‚&lt;br/&gt;ä¼˜åŒ–çš„å…³é”®æ˜¯ï¼šè®©æ’åºæ—¶è¿”å›çš„å­—æ®µå°½å¯èƒ½çš„å°‘ï¼Œæ‰€ä»¥å¯ä»¥è®©æ’åºå’Œåˆ†é¡µæ“ä½œå…ˆæŸ¥å‡ºä¸»é”®ï¼Œç„¶åæ ¹æ®ä¸»é”®æŸ¥åˆ°å¯¹åº”çš„è®°å½•ã€‚&lt;br/&gt;æ”¹ä¸‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from employees as e inner join(select id from employees order by name limit 9000,5) as ed on e.id=ed.id;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084958322-122460881.jpg&quot;/&gt;&lt;br/&gt;å¯ä»¥çœ‹åˆ°ç»“æœä¸åŸæ¥çš„sqlç»“æœæ˜¯ä¸€è‡´çš„ï¼Œæ‰§è¡Œæ—¶é—´å‡å°‘äº†ä¸€èˆ¬ä»¥ä¸Šï¼Œå†å¯¹æ¯”ä¸‹æ‰§è¡Œè®¡åˆ’ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084958454-642359635.jpg&quot;/&gt;&lt;br/&gt;åŸæ¥çš„sqlä½¿ç”¨çš„æ˜¯filesortæ’åºï¼Œè€Œä¼˜åŒ–åçš„sqlä½¿ç”¨çš„æ˜¯ç´¢å¼•æ’åºã€‚&lt;/p&gt;
&lt;h4 id=&quot;inå’Œexistsä¼˜åŒ–&quot;&gt;inå’Œexistsä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;åŸåˆ™ï¼šå°è¡¨é©±åŠ¨å¤§è¡¨ï¼Œå³å°è¡¨çš„æ•°æ®é›†é©±åŠ¨å¤§è¡¨çš„æ•°æ®é›†&lt;br/&gt;inï¼šå½“Bè¡¨çš„æ•°æ®é›†å°äºAè¡¨çš„æ•°æ®é›†æ—¶ï¼Œinç”±äºexists&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from A where id in(select id from B)
ç­‰ä»·äº
 for(select id from B){
     select * from A where A.id=B.id
 }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;exists:å½“Aè¡¨çš„æ•°æ®é›†å°äºBè¡¨çš„æ•°æ®é›†æ—¶ï¼Œexitstsä¼˜äºin&lt;br/&gt;å½“è‘—æŸ¥è¯¢Açš„æ•°æ®ï¼Œæ”¾åˆ°å­æŸ¥è¯¢Bä¸­åšæ¡ä»¶éªŒè¯ï¼Œæ ¹æ®éªŒè¯ç»“æœï¼ˆtrueæˆ–falseï¼‰æ¥å†³å®šè‘—æŸ¥è¯¢çš„æ•°æ®æ˜¯å¦ä¿ç•™ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;select * from A  exists(select 1 from B where A.id=B.id)

ç­‰ä»·äº
for(select * from A){
    select * from B where A.id=B.id
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;countæŸ¥è¯¢ä¼˜åŒ–&quot;&gt;count(*)æŸ¥è¯¢ä¼˜åŒ–&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;explain select count(1) from employees;
explain select count(id) from employees;
explain select count(name) from employees;
explain select count(*) from employees;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084958587-1559409854.jpg&quot;/&gt;&lt;br/&gt;å››ä¸ªsqlçš„æ‰§è¡Œè®¡åˆ’å‡ ä¹ä¸€æ ·çš„ï¼Œcount(name)ä½¿ç”¨çš„æ˜¯è”åˆç´¢å¼•ï¼Œ ä¸»è¦åŒºåˆ«æ ¹æ®æŸä¸ªå­—æ®µåšcountæ“ä½œä¸ä¼šç»Ÿè®¡å­—æ®µä¸ºnullçš„å€¼çš„æ•°æ®è¡Œã€‚&lt;br/&gt;é™¤äº†count(name)çš„å…¶ä»–countæ“ä½œï¼Œéƒ½æ˜¯ç”¨çš„è¾…åŠ©ç´¢å¼•è€Œä¸æ˜¯ä¸»é”®ç´¢å¼•ï¼Œ å› ä¸ºäºŒçº§ç´¢å¼•å­˜å‚¨æ•°æ®æ›´å°‘ï¼Œæ£€ç´¢æ€§èƒ½æ›´é«˜ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;è¿˜æ²¡å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;&lt;li&gt;æ‰«æ–‡æœ«äºŒç»´ç å…³æ³¨å…¬ä¼—å·ã€å°å¼ºçš„è¿›é˜¶ä¹‹è·¯ã€‘å¯é¢†å–å¦‚ä¸‹:&lt;/li&gt;
&lt;li&gt;å­¦ä¹ èµ„æ–™ï¼š 1Tè§†é¢‘æ•™ç¨‹ï¼šæ¶µç›–Javawebå‰åç«¯æ•™å­¦è§†é¢‘ã€æœºå™¨å­¦ä¹ /äººå·¥æ™ºèƒ½æ•™å­¦è§†é¢‘ã€Linuxç³»ç»Ÿæ•™ç¨‹è§†é¢‘ã€é›…æ€è€ƒè¯•è§†é¢‘æ•™ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;100å¤šæœ¬ä¹¦ï¼šåŒ…å«C/C++ã€Javaã€Pythonä¸‰é—¨ç¼–ç¨‹è¯­è¨€çš„ç»å…¸å¿…çœ‹å›¾ä¹¦ã€LeetCodeé¢˜è§£å¤§å…¨ï¼›&lt;/li&gt;
&lt;li&gt;è½¯ä»¶å·¥å…·ï¼šå‡ ä¹åŒ…æ‹¬ä½ åœ¨ç¼–ç¨‹é“è·¯ä¸Šçš„å¯èƒ½ä¼šç”¨åˆ°çš„å¤§éƒ¨åˆ†è½¯ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;é¡¹ç›®æºç ï¼š20ä¸ªJavaWebé¡¹ç›®æºç ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1771943/201909/1771943-20190910084959332-2004126400.png&quot; alt=&quot;å°å¼ºçš„è¿›é˜¶ä¹‹è·¯äºŒç»´ç &quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Tue, 10 Sep 2019 00:50:00 +0000</pubDate>
<dc:creator>å°å¼ºçš„è¿›é˜¶ä¹‹è·¯</dc:creator>
<og:description>``` ç¤ºä¾‹è¡¨ CREATE TABLE ( int(11) NOT NULL AUTO_INCREMENT, varchar(24) NOT NULL DEFAULT '' COMMENT 'å§“å'</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xiaoqiang-code/p/11495376.html</dc:identifier>
</item>
<item>
<title>ã€Œæ¯æ—¥äº”åˆ†é’Ÿï¼Œç©è½¬JVMã€ï¼šå¯¹è±¡å†…å­˜å¸ƒå±€ - Viçš„æŠ€æœ¯åšå®¢</title>
<link>http://www.cnblogs.com/viyoung/p/11495362.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/viyoung/p/11495362.html</guid>
<description>&lt;h3 id=&quot;æ¦‚è§ˆ&quot;&gt;æ¦‚è§ˆ&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªå¯¹è±¡æ ¹æ®ä¸åŒæƒ…å†µå¯ä»¥è¢«åˆ’åˆ†æˆä¸¤ç§æƒ…å†µï¼Œå½“å¯¹è±¡æ˜¯ä¸€ä¸ªéæ•°ç»„å¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹è±¡å¤´ï¼Œå®ä¾‹æ•°æ®ï¼Œå¯¹é½å¡«å……åœ¨å†…å­˜ä¸­ä¸‰åˆ†å¤©ä¸‹ï¼Œè€Œæ•°ç»„å¯¹è±¡ä¸­åœ¨å¯¹è±¡å¤´ä¸­å¤šäº†ä¸€ä¸ªç”¨äºæè¿°æ•°ç»„å¯¹è±¡é•¿åº¦çš„éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-141859.png&quot; alt=&quot;image-20190823221858767&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¯¹è±¡å¤´&quot;&gt;å¯¹è±¡å¤´&lt;/h3&gt;
&lt;p&gt;å¯¹è±¡å¤´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†ç§°ä¹‹ä¸º&lt;strong&gt;&quot;Mark Word&quot;&lt;/strong&gt;ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ç”¨äºè·å–è¯¥å¯¹è±¡ç±»å‹çš„&lt;strong&gt;ç±»å‹æŒ‡é’ˆ&lt;/strong&gt;ï¼Œå¦‚æœæ˜¯æ•°ç»„å¯¹è±¡è¿˜åŒ…æ‹¬è®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™äº›åŒºåŸŸæ‰€å çš„å†…å­˜ä¹Ÿä¸åŒï¼Œåœ¨32ä½çš„ç³»ç»Ÿä¸­ï¼ŒMarkWordå ç”¨32bitçš„ç©ºé—´ï¼ˆä¹Ÿå°±æ˜¯4å­—èŠ‚ï¼‰ã€‚ç±»å‹æŒ‡é’ˆå’Œæ•°ç»„é•¿åº¦æ•°æ®ä¸€æ ·åˆä½œå ç”¨32bitçš„ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨64ä½çš„æ“ä½œç³»ç»Ÿä¸­ï¼ŒMarkWordå ç”¨64bitçš„ç©ºé—´ï¼Œç±»å‹æŒ‡é’ˆåœ¨ä¸å¼€å¯æŒ‡é’ˆå‹ç¼©ï¼ˆCompressedOOPsï¼‰çš„æƒ…å†µä¸‹æ˜¯64bitï¼ˆ8 byteï¼‰ï¼Œè€Œåœ¨å¼€å¯æŒ‡é’ˆå‹ç¼©çš„æƒ…å†µä¸‹ï¼Œä»…å‰©32bitï¼ˆ4 byteï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-145704.png&quot; alt=&quot;image-20190823225703812&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;mark-word&quot;&gt;Mark Word&lt;/h4&gt;
&lt;p&gt;è¿™ä¸€éƒ¨åˆ†å­˜å‚¨çš„æ˜¯&lt;strong&gt;å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®&lt;/strong&gt;ï¼Œè¿™ä¸€å—å„¿å†…å®¹çš„æ•°æ®ç»“æ„å¹¶ä¸å›ºå®šï¼Œå®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-150559.png&quot; alt=&quot;image-20190823230559543&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æ‘˜è‡ªmarkOop.hppæ–‡ä»¶ä¸­çš„ç‰‡æ®µï¼Œå…¶ä¸­è¡¨ç¤ºäº†å¯¹è±¡çš„ä»¥ä¸‹äº”ç§çŠ¶æ€ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;01&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;æ— é”&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;01&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;åå‘é”&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;00&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;td&gt;è½»é‡çº§é”&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;td&gt;é‡é‡çº§é”&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;td&gt;GC Mark&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æˆ‘ä»¬æ¥ä¸‹æ¥æ¥ç€å»çœ‹MarkWordçš„ç»“æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-151212.png&quot; alt=&quot;image-20190823231212050&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåˆå§‹åŒ–çš„æ—¶å€™åªæ˜¯å®šä¹‰äº†æ— é”å’Œåå‘é”çŠ¶æ€çš„ç»“æ„ï¼ˆä¸ŠåŠéƒ¨åˆ†æ˜¯æ²¡æœ‰å¼€å¯COOPs-æŒ‡é’ˆå‹ç¼©çš„ç»“æ„ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯å¼€å¯äº†æŒ‡é’ˆå‹ç¼©çš„ç»“æ„ï¼‰ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å½“å¤„äºè½»é‡çº§é”ã€é‡é‡çº§é”æ—¶ï¼Œè®°å½•çš„å¯¹è±¡æŒ‡é’ˆï¼Œæ ¹æ®JVMçš„è¯´æ˜ï¼Œæ­¤æ—¶è®¤ä¸ºæŒ‡é’ˆä»ç„¶æ˜¯64ä½ï¼Œæœ€ä½ä¸¤ä½å‡å®šä¸º0;å½“å¤„äºåå‘é”æ—¶ï¼Œè®°å½•çš„ä¸ºè·å¾—åå‘é”çš„çº¿ç¨‹æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆä¹Ÿæ˜¯64ä½ï¼›&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-151522.png&quot; alt=&quot;image-20190823231522289&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-23-154630.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ›´å¤šçš„å†…å®¹æˆ‘ä»¬å°±ä¸å†è¿™é‡Œæ‰©å±•äº†ï¼Œæ ¹æ®åé¦ˆçš„æƒ…å†µï¼Œæˆ‘ä¼šåœ¨åé¢å¹¶å‘ç¼–ç¨‹ä¸­å•å¼€ä¸€ç¯‡æ¥èŠèŠé”çš„è¿›åŒ–ä¹‹è·¯ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç±»å‹æŒ‡é’ˆ&quot;&gt;ç±»å‹æŒ‡é’ˆ&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªä¸œè¥¿æœ‰æ—¶å€™ä¼šç”¨åˆ°å»ç¡®å®šè¯¥å¯¹è±¡å±äº&lt;strong&gt;å“ªä¸ªç±»çš„å®ä¾‹&lt;/strong&gt;ï¼Œä¹Ÿæœ‰ç”¨ä¸åˆ°çš„æ—¶å€™ï¼Œè¿™ä¸ªè¦æ ¹æ®ä¸åŒçš„è™šæ‹Ÿæœºå¯¹äºå¯¹è±¡çš„å®šä½å®ç°ç®—æ³•çš„é€‰æ‹©æ¥è¿›è¡Œï¼ˆæ¯”å¦‚HotSpot JVMå°±ä½¿ç”¨è¯¥ç±»å‹æŒ‡é’ˆå»è·å–è¯¥å¯¹è±¡ç±»å‹æ•°æ®ï¼‰&lt;/p&gt;
&lt;h3 id=&quot;å®ä¾‹æ•°æ®&quot;&gt;å®ä¾‹æ•°æ®&lt;/h3&gt;
&lt;p&gt;å®ä¾‹æ•°æ®æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä»£ç ä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„&lt;strong&gt;å­—æ®µå†…å®¹&lt;/strong&gt;ï¼Œè¿™é‡Œçš„å­—æ®µå†…å®¹ä¸ä»…ä»…åŒ…æ‹¬å½“å‰ç±»çš„å­—æ®µï¼Œä¹ŸåŒ…æ‹¬ä»–çš„çˆ¶ç±»ä¸­æ‰€å®šä¹‰çš„å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;è¿™éƒ¨åˆ†çš„å­˜å‚¨è§„åˆ™éµå¾ªè™šæ‹Ÿæœºåˆ†é…ç­–ç•¥å‚æ•°å’Œå­—æ®µåœ¨Javaæºç ä¸­çš„å®šä¹‰é¡ºåºï¼ŒHotSpot JVMé»˜è®¤çš„åˆ†é…ç­–ç•¥æ˜¯long/doubleï¼Œ intï¼Œshort/charï¼Œbyte/booleanï¼Œoopsï¼ˆæ™®é€šå¯¹è±¡æŒ‡é’ˆï¼ŒOrdinary Object Pointersï¼‰ä¹Ÿå¯ä»¥ç†è§£ä¸ºreferenceï¼Œå…³äºæŒ‡é’ˆå‹ç¼©æˆ‘ä»¬ä¸‹èŠ‚å»è¯´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œåœ¨çˆ¶ç±»ä¸­å®šä¹‰çš„å˜é‡ä¼šå‡ºç°åœ¨å­ç±»å‰ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†CompactFiledså‚æ•°è®¾ç½®ä¸ºtrueï¼Œå°†å­ç±»ä¸­è¾ƒå°çš„å˜é‡æ’å…¥åˆ°çˆ¶ç±»å¤§å˜é‡çš„ç©ºéš™ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-24-040848.png&quot; alt=&quot;image-20190824120847519&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¯¹é½å¡«å……&quot;&gt;å¯¹é½å¡«å……&lt;/h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†å†…å®¹å¹¶ä¸æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œå› ä¸ºHot Spot JVMä¸­è§„å®šäº†&lt;strong&gt;å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€&lt;/strong&gt;ï¼Œåœ¨C/C++ä¸­ç±»ä¼¼çš„åŠŸèƒ½è¢«ç§°ä¹‹ä¸º&lt;strong&gt;å†…å­˜å¯¹é½&lt;/strong&gt;ï¼Œå†…å­˜ç©ºé—´éƒ½æ˜¯æŒ‰ç…§ byte åˆ’åˆ†çš„ï¼Œä»ç†è®ºä¸Šè®²ä¼¼ä¹å¯¹ä»»ä½•ç±»å‹çš„å˜é‡çš„è®¿é—®å¯ä»¥ä»ä»»ä½•åœ°å€å¼€å§‹ï¼Œä½†å®é™…æƒ…å†µæ˜¯åœ¨è®¿é—®ç‰¹å®šç±»å‹å˜é‡çš„æ—¶å€™ç»å¸¸åœ¨ç‰¹å®šçš„å†…å­˜åœ°å€è®¿é—®ï¼Œè¿™å°±éœ€è¦å„ç§ç±»å‹æ•°æ®æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åœ¨ç©ºé—´ä¸Šæ’åˆ—ï¼Œè€Œä¸æ˜¯é¡ºåºçš„ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ’æ”¾ï¼Œè¿™å°±æ˜¯å¯¹é½ã€‚&lt;/p&gt;
&lt;p&gt;å†…å­˜å¯¹é½éµå¾ªä¸¤ä¸ªè§„åˆ™ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul readability=&quot;0&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;å‡è®¾ç¬¬ä¸€ä¸ªæˆå‘˜çš„èµ·å§‹åœ°å€ä¸º0ï¼Œæ¯ä¸ªæˆå‘˜çš„èµ·å§‹åœ°å€ï¼ˆstartposï¼‰å¿…é¡»æ˜¯å…¶æ•°æ®ç±»å‹æ‰€å ç©ºé—´å¤§å°çš„æ•´æ•°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;ç»“æ„ä½“çš„æœ€ç»ˆå¤§å°å¿…é¡»æ˜¯å…¶æˆå‘˜ï¼ˆåŸºç¡€æ•°æ®ç±»å‹æˆå‘˜ï¼‰é‡Œæœ€å¤§æˆå‘˜æ‰€å å¤§å°çš„æ•´æ•°å€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;è¿™é‡Œä¹Ÿå°±ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆJVMè§„å®šå¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€äº†ï¼Œå› ä¸ºåœ¨64ä½ç³»ç»Ÿä¸‹ï¼ˆä¸å¼€å¯æŒ‡é’ˆå‹ç¼©ï¼‰ï¼Œå¯¹è±¡ä¸­å­˜åœ¨å¾ˆå¤šå ç”¨8 byteçš„æ•°æ®ç±»å‹ã€‚ä½†æ˜¯åŒæ—¶ä¹Ÿå­˜åœ¨ä¸€äº›4 byteçš„æ•°æ®ç±»å‹ï¼Œè¿™æ—¶æˆ‘ä»¬çš„Paddingå°±èµ·åˆ°äº†ä½œç”¨ï¼Œå»è¡¥å……ä¸æ»¡8 byteçš„éƒ¨åˆ†ï¼Œå‡‘é½8çš„æ•´æ•°å€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://viyoungblog.oss-cn-beijing.aliyuncs.com/2019-08-24-041115.png&quot; alt=&quot;image-20190824121114907&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å…¬ä¼—å·&quot;&gt;å…¬ä¼—å·&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1528535/201909/1528535-20190910084605081-708186693.png&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:46:00 +0000</pubDate>
<dc:creator>Viçš„æŠ€æœ¯åšå®¢</dc:creator>
<og:description>æ¦‚è§ˆ ä¸€ä¸ªå¯¹è±¡æ ¹æ®ä¸åŒæƒ…å†µå¯ä»¥è¢«åˆ’åˆ†æˆä¸¤ç§æƒ…å†µï¼Œå½“å¯¹è±¡æ˜¯ä¸€ä¸ªéæ•°ç»„å¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹è±¡å¤´ï¼Œå®ä¾‹æ•°æ®ï¼Œå¯¹é½å¡«å……åœ¨å†…å­˜ä¸­ä¸‰åˆ†å¤©ä¸‹ï¼Œè€Œæ•°ç»„å¯¹è±¡ä¸­åœ¨å¯¹è±¡å¤´ä¸­å¤šäº†ä¸€ä¸ªç”¨äºæè¿°æ•°ç»„å¯¹è±¡é•¿åº¦çš„éƒ¨åˆ† å¯¹è±¡å¤´ å¯¹è±¡å¤´åˆ†ä¸ºä¸¤</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/viyoung/p/11495362.html</dc:identifier>
</item>
<item>
<title>å¹¶å‘Bugä¹‹æºæœ‰ä¸‰ï¼Œè¯·çå¤§çœ¼ç›çœ‹æ¸…å®ƒä»¬ - æ—¥æ‹±ä¸€å…µ</title>
<link>http://www.cnblogs.com/FraserYu/p/11495334.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/FraserYu/p/11495334.html</guid>
<description>&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;&lt;li&gt;ç”Ÿæ´»ä¸­ä½ ä¸€å®šå¬è¯´è¿‡â€”â€”èƒ½è€…å¤šåŠ³&lt;/li&gt;
&lt;li&gt;ä½œä¸º Java ç¨‹åºå‘˜ï¼Œä½ ä¸€å®šå¬è¿‡â€”â€”è¿™ä¸ªåŠŸèƒ½è¯·æ±‚æ…¢ï¼Œèƒ½åŠ ä¸€å±‚ç¼“å­˜æˆ–ä¼˜åŒ–ä¸€ä¸‹ SQL å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;çœ‹è¿‡ä¸­å›½å¤ä»£ç¥è¯æ•…äº‹çš„ä¹Ÿä¸€å®šå¬è¿‡â€”â€”å¤©ä¸Šä¸€å¤©ï¼Œåœ°ä¸Šä¸€å¹´&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083149335-166058393.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸€åˆ‡è®¾è®¡æ¥æºäºç”Ÿæ´»ï¼Œä¸Šä¸€ç«  &lt;a href=&quot;https://mp.weixin.qq.com/s/SrNsvp2NjhAEqYugx6c-3Q&quot;&gt;å­¦å¹¶å‘ç¼–ç¨‹ï¼Œé€å½»ç†è§£è¿™ä¸‰ä¸ªæ ¸å¿ƒæ˜¯å…³é”®&lt;/a&gt; ä¸­æœ‰è®²è¿‡ï¼Œä½œä¸º&quot;èµ„æœ¬å®¶&quot;ï¼Œä½ è¦å°½å¯èƒ½çš„æ¦¨å– CPUï¼Œå†…å­˜ä¸ IO çš„å‰©ä½™ä»·å€¼ï¼Œä½†ä¸‰è€…å®Œæˆä»»åŠ¡çš„é€Ÿåº¦ç›¸å·®å¾ˆå¤§ï¼ŒCPU &amp;gt; å†…å­˜ &amp;gt; IOåˆ†ï¼ŒCPU æ˜¯å¤©ï¼Œé‚£å†…å­˜å°±æ˜¯åœ°ï¼Œå†…å­˜æ˜¯å¤©ï¼Œé‚£ IO å°±æ˜¯åœ°ï¼Œé‚£æ€æ ·å¹³è¡¡ä¸‰è€…ï¼Œæå‡æ•´ä½“é€Ÿåº¦å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;CPU å¢åŠ ç¼“å­˜ï¼Œè¿˜ä¸æ­¢ä¸€å±‚ç¼“å­˜ï¼Œå¹³è¡¡å†…å­˜çš„æ…¢&lt;/li&gt;
&lt;li&gt;CPU èƒ½è€…å¤šåŠ³ï¼Œé€šè¿‡åˆ†æ—¶å¤ç”¨ï¼Œå¹³è¡¡ IO çš„é€Ÿåº¦å·®å¼‚&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç¼–è¯‘æŒ‡ä»¤&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä¸Šé¢çš„æ–¹å¼è²Œä¼¼è§£å†³äº†æœ¨æ¡¶çŸ­æ¿é—®é¢˜ï¼Œä½†åŒæ—¶è¿™ç§è§£å†³æ–¹æ¡ˆä¹Ÿä¼´éšç€äº§ç”Ÿæ–°çš„&lt;strong&gt;å¯è§æ€§ï¼ŒåŸå­æ€§ï¼Œå’Œæœ‰åºæ€§&lt;/strong&gt;çš„é—®é¢˜ï¼Œä¸”çœ‹&lt;/p&gt;
&lt;h2 id=&quot;ä¸‰å¤§é—®é¢˜&quot;&gt;ä¸‰å¤§é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&quot;å¯è§æ€§&quot;&gt;å¯è§æ€§&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿç«‹åˆ»çœ‹åˆ°ï¼Œæˆ‘ä»¬ç§°ä¸ºå¯è§æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è°ˆåˆ°å¯è§æ€§ï¼Œè¦å…ˆå¼•å‡º JMM (Java Memory Model) æ¦‚å¿µ, å³ Java å†…å­˜æ¨¡å‹ï¼ŒJava å†…å­˜æ¨¡å‹è§„å®šï¼Œå°†æ‰€æœ‰çš„å˜é‡éƒ½å­˜æ”¾åœ¨ &lt;strong&gt;ä¸»å†…å­˜&lt;/strong&gt; ä¸­ï¼Œå½“çº¿ç¨‹ä½¿ç”¨å˜é‡æ—¶ï¼Œä¼šæŠŠä¸»å†…å­˜é‡Œé¢çš„å˜é‡ &lt;strong&gt;å¤åˆ¶&lt;/strong&gt; åˆ°è‡ªå·±çš„å·¥ä½œç©ºé—´æˆ–è€…å«ä½œ &lt;strong&gt;ç§æœ‰å†…å­˜&lt;/strong&gt; ï¼Œçº¿ç¨‹è¯»å†™å˜é‡æ—¶æ“ä½œçš„æ˜¯è‡ªå·±å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ Git çš„å·¥ä½œæµç¨‹ç†è§£ä¸Šé¢çš„æè¿°å°±å¾ˆç®€å•äº†ï¼Œ&lt;strong&gt;Git è¿œç¨‹ä»“åº“å°±æ˜¯ä¸»å†…å­˜ï¼ŒGit æœ¬åœ°ä»“åº“å°±æ˜¯è‡ªå·±çš„å·¥ä½œå†…å­˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ–‡å­—æè¿°æœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥å›¾è§£è¯´æ˜:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083149668-219233983.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;çœ‹è¿™ä¸ªåœºæ™¯:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;ä¸»å†…å­˜ä¸­æœ‰å˜é‡ xï¼Œåˆå§‹å€¼ä¸º 0&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ A è¦å°† x åŠ  1ï¼Œå…ˆå°† x=0 æ‹·è´åˆ°è‡ªå·±çš„ç§æœ‰å†…å­˜ä¸­ï¼Œç„¶åæ›´æ–° x çš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹ A å°†æ›´æ–°åçš„ x å€¼å›åˆ·åˆ°ä¸»å†…å­˜çš„æ—¶é—´æ˜¯ä¸å›ºå®šçš„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åˆšå¥½åœ¨çº¿ç¨‹ A æ²¡æœ‰å›åˆ· x åˆ°ä¸»å†…å­˜æ—¶ï¼Œçº¿ç¨‹ B åŒæ ·ä»ä¸»å†…å­˜ä¸­è¯»å– xï¼Œæ­¤æ—¶ä¸º 0ï¼Œå’Œçº¿ç¨‹ A ä¸€æ ·çš„æ“ä½œï¼Œæœ€åæœŸç›¼çš„ x=2 å°±ä¼šç¼–ç¨‹ x=1&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;è¿™å°±æ˜¯çº¿ç¨‹å¯è§æ€§çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;JMM æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œåœ¨å®é™…å®ç°ä¸­ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜æ˜¯è¿™æ ·çš„:&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083149869-271492925.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¹³è¡¡å†…å­˜/IO çŸ­æ¿ï¼Œä¼šåœ¨ CPU ä¸Šå¢åŠ ç¼“å­˜ï¼Œæ¯ä¸ªæ ¸éƒ½åªæœ‰è‡ªå·±çš„ä¸€çº§ç¼“å­˜ï¼Œç”šè‡³æœ‰ä¸€ä¸ªæ‰€æœ‰ CPU éƒ½å…±äº«çš„äºŒçº§ç¼“å­˜ï¼Œå°±æ˜¯ä¸Šå›¾çš„æ ·å­äº†ï¼Œéƒ½è¯´è¿™ä¹ˆè®¾è®¡æ˜¯ç¡¬ä»¶åŒå­¦ç•™ç»™è½¯ä»¶åŒå­¦çš„ä¸€ä¸ªå‘ï¼Œä½†èƒ½å¦è·³è¿‡å»è¿™ä¸ªå‘ä¹Ÿæ˜¯è¡¡é‡è½¯ä»¶åŒå­¦æ˜¯å¦èµ°å‘ Java è¿›é˜¶çš„å…³é”®æŒ‡æ ‡å§......&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;h4 id=&quot;å°æç¤º&quot;&gt;å°æç¤º&lt;/h4&gt;
&lt;p&gt;ä»ä¸Šå›¾ä¸­ä½ ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨ Java ä¸­ï¼Œæ‰€æœ‰çš„å®ä¾‹åŸŸï¼Œé™æ€åŸŸå’Œæ•°ç»„å…ƒç´ éƒ½å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå †å†…å­˜åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œè¿™äº›åœ¨åç»­æ–‡ç« ä¸­éƒ½ç§°ä¹‹ä¸ºã€Œå…±äº«å˜é‡ã€ï¼Œå±€éƒ¨å˜é‡ï¼Œæ–¹æ³•å®šä¹‰å‚æ•°å’Œå¼‚å¸¸å¤„ç†å™¨å‚æ•°ä¸ä¼šåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œæ‰€ä»¥ä»–ä»¬ä¸ä¼šæœ‰å†…å­˜å¯è§æ€§çš„é—®é¢˜ï¼Œä¹Ÿå°±ä¸å—å†…å­˜æ¨¡å‹çš„å½±å“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸€å¥è¯ï¼Œè¦æƒ³è§£å†³å¤šçº¿ç¨‹å¯è§æ€§é—®é¢˜ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¿…é¡»è¦åˆ·å–ä¸»å†…å­˜ä¸­çš„å˜é‡&lt;/strong&gt;&lt;br/&gt;æ€ä¹ˆè§£å†³å¯è§æ€§é—®é¢˜å‘¢ï¼ŸJava å…³é”®å­— &lt;strong&gt;volatile&lt;/strong&gt; å¸®ä½ æå®šï¼Œåç»­ç« èŠ‚ä¼šåˆ†æ......&lt;/p&gt;
&lt;h3 id=&quot;åŸå­æ€§&quot;&gt;åŸå­æ€§&lt;/h3&gt;
&lt;p&gt;åŸå­ï¼ˆatomï¼‰æŒ‡åŒ–å­¦ååº”ä¸å¯å†åˆ†çš„åŸºæœ¬å¾®ç²’ï¼ŒåŸå­æ€§æ“ä½œä½ åº”è¯¥èƒ½æ„Ÿå—åˆ°å…¶å«ä¹‰:&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ‰€è°“åŸå­æ“ä½œæ˜¯æŒ‡ä¸ä¼šè¢«çº¿ç¨‹è°ƒåº¦æœºåˆ¶æ‰“æ–­çš„æ“ä½œï¼›è¿™ç§æ“ä½œä¸€æ—¦å¼€å§‹ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°ç»“æŸï¼Œä¸­é—´ä¸ä¼šæœ‰ä»»ä½• context switch&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°å“ã€Œé’Ÿç‚¹å·¥ã€æœ‰ä¸€å¥éå¸¸ç»å…¸çš„å°è¯ï¼Œè¦æŠŠå¤§è±¡è£…å†°ç®±ï¼Œæ€»å…±åˆ†å‡ æ­¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ¥çœ‹ä¸€å°æ®µç¨‹åº:&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083151915-1125038039.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¤šçº¿ç¨‹æƒ…å†µä¸‹èƒ½å¾—åˆ°æˆ‘ä»¬æœŸç›¼çš„ &lt;code&gt;count = 20000&lt;/code&gt; çš„å€¼å—ï¼Ÿ ä¹Ÿè®¸æœ‰åŒå­¦ä¼šè®¤ä¸ºï¼Œçº¿ç¨‹è°ƒç”¨çš„ counter æ–¹æ³•åªæœ‰ä¸€ä¸ª count++ æ“ä½œï¼Œæ˜¯å•ä¸€æ“ä½œï¼Œæ‰€ä»¥æ˜¯åŸå­æ€§çš„ï¼Œéä¹Ÿã€‚åœ¨çº¿ç¨‹ç¬¬ä¸€è®²ä¸­è¯´è¿‡æˆ‘ä»¬ä¸èƒ½ç”¨é«˜çº§è¯­è¨€æ€ç»´æ¥ç†è§£ CPU çš„å¤„ç†æ–¹å¼ï¼Œcount++ è½¬æ¢æˆ CPU æŒ‡ä»¤åˆ™éœ€è¦ä¸‰æ­¥ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤è§£æå‡ºæ±‡ç¼–æŒ‡ä»¤ç­‰ä¿¡æ¯:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;javap -c UnsafeCounter &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆªå– counter æ–¹æ³•çš„æ±‡ç¼–æŒ‡ä»¤æ¥çœ‹:&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083153160-14832998.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ä¸Šé¢çš„æŒ‡ä»¤ï¼Œ&lt;br/&gt;16 : è·å–å½“å‰ count å€¼ï¼Œå¹¶ä¸”æ”¾å…¥æ ˆé¡¶&lt;br/&gt;19 : å°†å¸¸é‡ 1 æ”¾å…¥æ ˆé¡¶&lt;br/&gt;20 : å°†å½“å‰æ ˆé¡¶ä¸­ä¸¤ä¸ªå€¼ç›¸åŠ ï¼Œå¹¶æŠŠç»“æœæ”¾å…¥æ ˆé¡¶&lt;br/&gt;21 : æŠŠæ ˆé¡¶çš„ç»“æœå†èµ‹å€¼ç»™ count&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼Œç®€å•çš„ count++ ä¸æ˜¯ä¸€æ­¥æ“ä½œï¼Œè¢«è½¬æ¢ä¸ºæ±‡ç¼–åå°±ä¸å…·å¤‡åŸå­æ€§äº†ï¼Œå°±å¥½æ¯”å¤§è±¡è£…å†°ç®±ï¼Œå…¶å®è¦åˆ†ä¸‰æ­¥:&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼ŒæŠŠå†°ç®±é—¨æ‰“å¼€ï¼›ç¬¬äºŒæ­¥ï¼ŒæŠŠå¤§è±¡æ”¾è¿›å»ï¼›ç¬¬ä¸‰æ­¥ï¼ŒæŠŠå†°ç®±é—¨å¸¦ä¸Š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»“åˆ JMM ç»“æ„å›¾ç†è§£ï¼Œè¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆå¾ˆéš¾å¾—åˆ° &lt;code&gt;count=20000&lt;/code&gt; çš„ç»“æœ:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083153431-571999528.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¤šçº¿ç¨‹è®¡æ•°å™¨ï¼Œå¦‚ä½•ä¿è¯å¤šä¸ªæ“ä½œçš„åŸå­æ€§å‘¢ï¼Ÿæœ€ç²—æš´çš„æ–¹å¼æ˜¯åœ¨æ–¹æ³•ä¸ŠåŠ  &lt;strong&gt;synchronized&lt;/strong&gt; å…³é”®å­—ï¼Œæ¯”å¦‚è¿™æ ·:&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083154271-1845781132.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ˜¯è§£å†³äº†ï¼Œå¦‚æœ synchronized æ˜¯ä¸‡èƒ½è‰¯æ–¹ï¼Œé‚£ä¹ˆä¹Ÿè®¸å¹¶å‘å°±æ²¡é‚£ä¹ˆå¤šäº‹äº†ï¼Œå¯ä»¥é ä¸€ä¸ª synchronized èµ°å¤©ä¸‹äº†ï¼Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·ï¼Œsynchronized æ˜¯ç‹¬å é” (åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è°ƒç”¨)ï¼Œæ²¡æœ‰è·å–é”çš„çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼›å¦å¤–ä¹Ÿä¼šå¸¦æ¥å¾ˆå¤šçº¿ç¨‹åˆ‡æ¢çš„ä¸Šä¸‹æ–‡å¼€é”€&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ JDK ä¸­å°±æœ‰äº†éé˜»å¡ CAS (Compare and &lt;strong&gt;Swap&lt;/strong&gt;) ç®—æ³•å®ç°çš„åŸå­æ“ä½œç±» AtomicLong ç­‰å·¥å…·ç±»ï¼Œçœ‹è¿‡æºç çš„åŒå­¦ä¹Ÿè®¸ä¼šå‘ç°ä¸€ä¸ªå…±åŒç‰¹ç‚¹ï¼Œæ‰€æœ‰åŸå­ç±»ä¸­éƒ½æœ‰ä¸‹é¢è¿™æ ·ä¸€æ®µä»£ç :&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private static final Unsafe unsafe = Unsafe.getUnsafe();&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªç±»æ˜¯ JDK çš„ rt.jar åŒ…ä¸­çš„ Unsafe ç±»æä¾›äº† &lt;strong&gt;ç¡¬ä»¶çº§åˆ«&lt;/strong&gt; çš„åŸå­æ€§æ“ä½œï¼Œç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ native ä¿®é¥°çš„ï¼Œåé¢ä»‹ç»åŸå­ç±»ä¹‹å‰ä¹Ÿä¼šå…ˆè¯´æ˜è¿™ä¸ªç±»ä¸­çš„å‡ ä¸ªæ–¹æ³•ï¼Œè¿™é‡Œå…ˆç®€å•ä»‹ç»æœ‰ä¸ªå°è±¡å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰åŒå­¦ä¸ç†è§£æˆ‘åˆšåˆšæåˆ°çš„çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¾ˆå¤§æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä¸¾ 2ä¸ªä¾‹å­ä½ å°±æ‡‚äº†:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;&lt;li&gt;ä½ (CPU)åœ¨çœ‹ä¸¤æœ¬ä¹¦(ä¸¤ä¸ªçº¿ç¨‹)ï¼Œçœ‹ç¬¬ä¸€æœ¬ä¹¦å¾ˆçŸ­æ—¶é—´åè¦å»çœ‹ç¬¬äºŒæœ¬ä¹¦ï¼Œçœ‹ç¬¬äºŒæœ¬ä¹¦å¾ˆçŸ­æ—¶é—´ååˆå›çœ‹ç¬¬ä¸€æœ¬ä¹¦ï¼Œå¹¶è¦ç²¾ç¡®çš„è®°å¾—çœ‹åˆ°ç¬¬å‡ è¡Œï¼Œå½“åˆçœ‹åˆ°äº†ä»€ä¹ˆ(CPU è®°ä½çº¿ç¨‹çº§åˆ«çš„ä¿¡æ¯)ï¼Œå½“è®©ä½  &lt;strong&gt;&quot;åŒæ—¶&quot;&lt;/strong&gt; çœ‹ 10 æœ¬ç”šè‡³æ›´å¤šï¼Œåˆ‡æ¢çš„å¼€é”€å°±å¾ˆå¤§äº†å§&lt;/li&gt;
&lt;li&gt;ç»¼è‰ºèŠ‚ç›®ä¸­æœ‰å¾ˆå¤šæ¸¸æˆï¼Œè®©ä½ ä¸€è¾¹æ•°é’±ï¼Œåˆè¦ä¸€è¾¹åšå…¶ä»–çš„äº‹ï¼Œæœ€ç»ˆä¿è¯å¤šæ ·äº‹æƒ…éƒ½åšæ­£ç¡®ï¼Œå¤§è„‘å¼€é”€å¤§ä¸å¤§ï¼Œä½ è¯•è¯•å°±çŸ¥é“äº†ğŸ˜Š&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;h3 id=&quot;æœ‰åºæ€§&quot;&gt;æœ‰åºæ€§&lt;/h3&gt;
&lt;p&gt;ç”Ÿæ´»ä¸­ä½ é—®å€™ä»–äººã€Œåƒäº†å—ä½ ï¼Ÿã€å’Œã€Œä½ åƒäº†å—ï¼Ÿã€æ˜¯ä¸€ä¸ªæ„æ€ï¼Œä½ å†™çš„æ˜¯ä¸‹é¢ç¨‹åº:&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;a = 1ï¼›
b =  2;
System.out.println(a);
System.out.println(b);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¼–è¯‘å™¨ä¼˜åŒ–åå¯èƒ½å°±å˜æˆäº†è¿™æ ·:&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;b =  2;
a = 1ï¼›
System.out.println(a);
System.out.println(b);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªæƒ…å†µï¼Œç¼–è¯‘å™¨è°ƒæ•´äº†è¯­å¥é¡ºåºæ²¡ä»€ä¹ˆå½±å“ï¼Œä½†ç¼–è¯‘å™¨ &lt;strong&gt;æ“…è‡ª&lt;/strong&gt; ä¼˜åŒ–é¡ºåºï¼Œå°±ç»™æˆ‘ä»¬åŸ‹ä¸‹äº†é›·ï¼Œæ¯”å¦‚åº”ç”¨åŒé‡æ£€æŸ¥æ–¹å¼å®ç°çš„å•ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083155200-1988793753.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸€åˆ‡åˆå¾ˆå®Œç¾æ˜¯ä¸æ˜¯ï¼Œéä¹Ÿï¼Œé—®é¢˜å‡ºç°åœ¨ &lt;code&gt;instance = new Singleton();&lt;/code&gt;ï¼Œè¿™ 1 è¡Œä»£ç è½¬æ¢æˆäº† CPU æŒ‡ä»¤ååˆå˜æˆäº† 3 ä¸ªï¼Œæˆ‘ä»¬ç†è§£ new å¯¹è±¡åº”è¯¥æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åˆ†é…ä¸€å—å†…å­˜ M&lt;/li&gt;
&lt;li&gt;åœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡&lt;/li&gt;
&lt;li&gt;ç„¶å M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä½†ç¼–è¯‘å™¨&lt;strong&gt;æ“…è‡ª&lt;/strong&gt;ä¼˜åŒ–åå¯èƒ½å°±å˜æˆäº†è¿™æ ·:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åˆ†é…ä¸€å—å†…å­˜ M&lt;/li&gt;
&lt;li&gt;ç„¶åå°† M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡&lt;/li&gt;
&lt;li&gt;åœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;é¦–å…ˆ new å¯¹è±¡åˆ†äº†ä¸‰æ­¥ï¼Œç»™ CPU ç•™ä¸‹äº†åˆ‡æ¢çº¿ç¨‹çš„æœºä¼šï¼›å¦å¤–ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–åçš„é¡ºåºå¯èƒ½å¯¼è‡´é—®é¢˜çš„å‘ç”Ÿï¼Œæ¥çœ‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;çº¿ç¨‹ A å…ˆæ‰§è¡Œ getInstance æ–¹æ³•ï¼Œå½“æ‰§è¡Œåˆ°æŒ‡ä»¤ 2 æ—¶ï¼Œæ°å¥½å‘ç”Ÿäº†çº¿ç¨‹åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ B åˆšè¿›å…¥åˆ° getInstance æ–¹æ³•ï¼Œåˆ¤æ–­ if è¯­å¥ instance æ˜¯å¦ä¸ºç©º&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ A å·²ç»å°† M çš„åœ°å€èµ‹å€¼ç»™äº† instance å˜é‡ï¼Œæ‰€ä»¥çº¿ç¨‹ B è®¤ä¸º instance ä¸ä¸ºç©º&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ B ç›´æ¥ return instance å˜é‡&lt;/li&gt;
&lt;li&gt;CPU åˆ‡æ¢å›çº¿ç¨‹ Aï¼Œçº¿ç¨‹ A å®Œæˆåç»­åˆå§‹åŒ–å†…å®¹&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜æ˜¯ç”»ä¸ªå›¾è¯´æ˜ä¸€ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083155661-136395980.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹ A æ‰§è¡Œåˆ°ç¬¬ 2 æ­¥ï¼Œçº¿ç¨‹åˆ‡æ¢ï¼Œç”±äºçº¿ç¨‹ A æ²¡æœ‰æŠŠçº¢è‰²ç®­å¤´æ‰§è¡Œå®Œå…¨ï¼Œçº¿ç¨‹ B å°±ä¼šå¾—åˆ°ä¸€ä¸ªæœªåˆå§‹åŒ–å®Œå…¨çš„å¯¹è±¡ï¼Œè®¿é—® instance æˆå‘˜å˜é‡çš„æ—¶å€™å°±å¯èƒ½å‘ç”Ÿ NPEï¼Œå¦‚æœå°†å˜é‡ instance ç”¨ volatile æˆ–è€… final ä¿®é¥°(æ¶‰åŠåˆ°ç±»çš„åŠ è½½æœºåˆ¶ï¼Œå¯çœ‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç« : &lt;a href=&quot;https://mp.weixin.qq.com/s/Dnr1jLebvBUHnziZzSfcrA&quot;&gt;åŒäº²å§”æ´¾æ¨¡å‹ï¼šå¤§å‚é«˜é¢‘é¢è¯•é¢˜ï¼Œè½»æ¾æå®š&lt;/a&gt;)ï¼Œé—®é¢˜å°±è§£å†³äº†.&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;ä½ æ‰€çœ‹åˆ°çš„ç¨‹åºå¹¶ä¸ä¸€å®šæ˜¯ç¼–è¯‘å™¨ä¼˜åŒ–/ç¼–è¯‘åçš„ CPU æŒ‡ä»¤ï¼Œå¤§è±¡è£…å†°ç®±æ˜¯æ˜¯ä¸ªç¨‹åºï¼Œä½†å…¶éšå«ä¸‰ä¸ªæ­¥éª¤ï¼Œå­¦ä¹ å¹¶å‘ç¼–ç¨‹ï¼Œä½ è¦æŒ‰ç…§ CPU çš„æ€ç»´è€ƒè™‘é—®é¢˜ï¼Œæ‰€ä»¥ä½ éœ€è¦æ·±åˆ»ç†è§£ &lt;strong&gt;å¯è§æ€§/åŸå­æ€§/æœ‰åºæ€§&lt;/strong&gt; ï¼Œè¿™æ˜¯äº§ç”Ÿå¹¶å‘ Bug çš„æºå¤´&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚è¯´æ˜äº†ä¸‰ä¸ªé—®é¢˜ï¼Œä¸‹é¢çš„æ–‡ç« ä¹Ÿä¼šé€ä¸ªåˆ†æè§£å†³ä»¥ä¸Šé—®é¢˜çš„åŠæ³•ï¼Œä»¥åŠç›¸å¯¹ä¼˜çš„æ–¹æ¡ˆï¼Œè¯·æŒç»­å…³æ³¨ï¼Œå¦å¤–å…³äºå¹¶å‘çš„æµ‹è¯•ä»£ç æˆ‘éƒ½ä¼šæŒ‰ä¾‹ä¸Šä¼ åˆ° githubï¼Œå…¬ä¼—å·å›å¤ã€Œdemoã€â€”â€”&amp;gt; concurrency è·å–æ›´å¤šå†…å®¹&lt;/p&gt;
&lt;h2 id=&quot;çµé­‚è¿½é—®&quot;&gt;çµé­‚è¿½é—®&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;ä¸ºä»€ä¹ˆç”¨ final ä¿®é¥°çš„å˜é‡å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†å‘¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä½ ä¼šç»å¸¸æŸ¥çœ‹ CPU æ±‡ç¼–æŒ‡ä»¤å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚æœè®©ä½ å†™å•ä¾‹ï¼Œä½ é€šå¸¸ä¼šé‡‡ç”¨å“ªç§å®ç°ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;æé«˜æ•ˆç‡å·¥å…·&quot;&gt;æé«˜æ•ˆç‡å·¥å…·&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083155810-755712823.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;material-theme-ui&quot;&gt;Material Theme UI&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€æ¬¾ IDEA çš„ä¸»é¢˜æ’ä»¶ï¼Œå®‰è£…åï¼Œé€‰æ‹© &lt;code&gt;Material Palenight&lt;/code&gt; ä¸»é¢˜ï¼ŒåŒæ—¶ä½œå‡ºå¦‚ä¸‹è®¾ç½®&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083158943-1962656352.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è®¾ç½®å®Œåï¼Œä½ çš„ IDEA å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼Œå¼•èµ·æåº¦èˆ’é€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083202763-2022194341.jpg&quot;/&gt;&lt;br/&gt;--------&lt;/p&gt;
&lt;h2 id=&quot;æ¨èé˜…è¯»&quot;&gt;æ¨èé˜…è¯»&lt;/h2&gt;
&lt;hr/&gt;&lt;blockquote&gt;
&lt;h3 id=&quot;æ¬¢è¿æŒç»­å…³æ³¨å…¬ä¼—å·æ—¥æ‹±ä¸€å…µ&quot;&gt;æ¬¢è¿æŒç»­å…³æ³¨å…¬ä¼—å·ï¼šã€Œæ—¥æ‹±ä¸€å…µã€&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;å‰æ²¿ Java æŠ€æœ¯å¹²è´§åˆ†äº«&lt;/li&gt;
&lt;li&gt;é«˜æ•ˆå·¥å…·æ±‡æ€» | å›å¤ã€Œå·¥å…·ã€&lt;/li&gt;
&lt;li&gt;é¢è¯•é—®é¢˜åˆ†æä¸è§£ç­”&lt;/li&gt;
&lt;li&gt;æŠ€æœ¯èµ„æ–™é¢†å– | å›å¤ã€Œèµ„æ–™ã€&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;ä»¥è¯»ä¾¦æ¢å°è¯´æ€ç»´è½»æ¾è¶£å‘³å­¦ä¹  Java æŠ€æœ¯æ ˆç›¸å…³çŸ¥è¯†ï¼Œæœ¬ç€å°†å¤æ‚é—®é¢˜ç®€å•åŒ–ï¼ŒæŠ½è±¡é—®é¢˜å…·ä½“åŒ–å’Œå›¾å½¢åŒ–åŸåˆ™é€æ­¥åˆ†è§£æŠ€æœ¯é—®é¢˜ï¼ŒæŠ€æœ¯æŒç»­æ›´æ–°ï¼Œè¯·æŒç»­å…³æ³¨......&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1583165/201909/1583165-20190910083203588-504864575.png&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:32:00 +0000</pubDate>
<dc:creator>æ—¥æ‹±ä¸€å…µ</dc:creator>
<og:description>å†™åœ¨å‰é¢ ç”Ÿæ´»ä¸­ä½ ä¸€å®šå¬è¯´è¿‡â€”â€”èƒ½è€…å¤šåŠ³ ä½œä¸º Java ç¨‹åºå‘˜ï¼Œä½ ä¸€å®šå¬è¿‡â€”â€”è¿™ä¸ªåŠŸèƒ½è¯·æ±‚æ…¢ï¼Œèƒ½åŠ ä¸€å±‚ç¼“å­˜æˆ–ä¼˜åŒ–ä¸€ä¸‹ SQL å—ï¼Ÿ çœ‹è¿‡ä¸­å›½å¤ä»£ç¥è¯æ•…äº‹çš„ä¹Ÿä¸€å®šå¬è¿‡â€”â€”å¤©ä¸Šä¸€å¤©ï¼Œåœ°ä¸Šä¸€å¹´ ä¸€åˆ‡è®¾è®¡æ¥</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/FraserYu/p/11495334.html</dc:identifier>
</item>
<item>
<title>æ”¹è¿›ç‰ˆæ¢¯åº¦ä¸‹é™ - Timcode</title>
<link>http://www.cnblogs.com/TimVerion/p/11495327.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/TimVerion/p/11495327.html</guid>
<description>&lt;h2 class=&quot;md-end-block md-heading md-focus&quot;&gt;&lt;span class=&quot;md-plain md-expand&quot;&gt;æ”¹è¿›ç‰ˆæ¢¯åº¦ä¸‹é™&lt;/span&gt;&lt;/h2&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å‘å±•å†å²&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232145882-1421968396.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232145882-1421968396.png&quot; alt=&quot;img&quot; width=&quot;456&quot; height=&quot;121&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;æ ‡å‡†æ¢¯åº¦ä¸‹é™æ³•çš„ç¼ºé™·&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232206305-1372345460.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232206305-1372345460.png&quot; alt=&quot;img&quot; width=&quot;528&quot; height=&quot;302&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¦‚æœå­¦ä¹ ç‡é€‰çš„ä¸æ°å½“ä¼šå‡ºç°ä»¥ä¸Šæƒ…å†µ&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å› æ­¤æœ‰ä¸€äº›è‡ªåŠ¨è°ƒå­¦ä¹ ç‡çš„æ–¹æ³•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œéšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ ï¼Œå­¦ä¹ ç‡åº”è¯¥è¶Šæ¥è¶Šå°ï¼Œå› ä¸ºè¿­ä»£æ¬¡æ•°å¢åŠ åï¼Œå¾—åˆ°çš„è§£åº”è¯¥æ¯”è¾ƒé è¿‘æœ€ä¼˜è§£ï¼Œæ‰€ä»¥è¦ç¼©å°æ­¥é•¿Î·ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆå…¬å¼å—ï¼Ÿæ¯”å¦‚ï¼š&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232224163-1424039140.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190702232224163-1424039140.png&quot; alt=&quot;img&quot; data-alt=&quot;img&quot;/&gt;&lt;span class=&quot;md-plain&quot;&gt;ï¼Œä½†æ˜¯è¿™æ ·åšåï¼Œæ‰€æœ‰å‚æ•°æ›´æ–°æ—¶ä»éƒ½é‡‡ç”¨åŒä¸€ä¸ªå­¦ä¹ ç‡ï¼Œå³å­¦ä¹ ç‡ä¸èƒ½é€‚åº”æ‰€æœ‰çš„å‚æ•°æ›´æ–°ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;è§£å†³æ–¹æ¡ˆæ˜¯ï¼š&lt;span&gt;&lt;strong&gt;ç»™ä¸åŒçš„å‚æ•°ä¸åŒçš„å­¦ä¹ ç‡&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 class=&quot;md-end-block md-heading md-focus&quot;&gt;&lt;span&gt;Adagradæ³•&lt;/span&gt;&lt;/h3&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å‡è®¾Nå…ƒå‡½æ•°f(x)ï¼Œé’ˆå¯¹ä¸€ä¸ªè‡ªå˜é‡ç ”ç©¶Adagradæ¢¯åº¦ä¸‹é™çš„è¿­ä»£è¿‡ç¨‹ï¼Œ&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134149503-286131798.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134149503-286131798.png&quot; alt=&quot;img&quot; width=&quot;232&quot; height=&quot;71&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯ä»¥çœ‹å‡ºï¼ŒAdagradç®—æ³•ä¸­æœ‰è‡ªé€‚åº”è°ƒæ•´æ¢¯åº¦çš„æ„å‘³ï¼ˆadaptive gradientï¼‰ï¼Œ&lt;span&gt;&lt;strong&gt;å­¦ä¹ ç‡éœ€è¦é™¤ä»¥ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯å‰næ¬¡è¿­ä»£è¿‡ç¨‹ä¸­åå¯¼æ•°çš„å¹³æ–¹å’Œå†åŠ ä¸€ä¸ªå¸¸é‡æœ€åå¼€æ ¹å·&lt;/strong&gt;&lt;span class=&quot;md-plain&quot;&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸¾ä¾‹ï¼šä½¿ç”¨Adagradç®—æ³•æ±‚y = x2çš„æœ€å°å€¼ç‚¹&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯¼å‡½æ•°ä¸ºg(x) = 2x&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;åˆå§‹åŒ–x(0) = 4ï¼Œå­¦ä¹ ç‡Î·=0.25ï¼ŒÎµ=0.1&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘ æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134228647-998159348.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134228647-998159348.png&quot; alt=&quot;img&quot; width=&quot;382&quot; height=&quot;54&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘¡æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134308074-1444174784.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134308074-1444174784.png&quot; alt=&quot;img&quot; width=&quot;540&quot; height=&quot;48&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘¢æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134332187-1980529925.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134332187-1980529925.png&quot; alt=&quot;img&quot; width=&quot;549&quot; height=&quot;42&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;æ±‚è§£çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;Â &lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134354667-1305978580.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134354667-1305978580.png&quot; alt=&quot;img&quot; width=&quot;707&quot; height=&quot;333&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain md-expand&quot;&gt;å¯¹åº”ä»£ç ä¸ºï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; matplotlib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; pyplot as plt
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; numpy as np
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; mpl_toolkits.mplot3d &lt;span&gt;import&lt;/span&gt;&lt;span&gt; Axes3D

fig &lt;/span&gt;=&lt;span&gt; plt.figure()
x &lt;/span&gt;= np.arange(-4, 4, 0.025&lt;span&gt;)
plt.plot(x,x&lt;/span&gt;**2&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;y = x^2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; x**2
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; h(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; 2*&lt;span&gt;x
Î· &lt;/span&gt;= 0.25&lt;span&gt;
Îµ &lt;/span&gt;= 0.1&lt;span&gt;
x &lt;/span&gt;= 4&lt;span&gt;
iters &lt;/span&gt;=&lt;span&gt; 0
sum_square_grad &lt;/span&gt;=&lt;span&gt; 0
X &lt;/span&gt;=&lt;span&gt; []
Y &lt;/span&gt;=&lt;span&gt; []
&lt;/span&gt;&lt;span&gt;while&lt;/span&gt; iters&amp;lt;12&lt;span&gt;:
    iters&lt;/span&gt;+=1&lt;span&gt;
    X.append(x)
    Y.append(f(x))
    sum_square_grad &lt;/span&gt;+= h(x)**2&lt;span&gt;
    x &lt;/span&gt;= x - Î·/np.sqrt(sum_square_grad+Îµ)*&lt;span&gt;h(x)
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(iters,x)
plt.plot(X,Y,&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ro&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
ax &lt;/span&gt;=&lt;span&gt; plt.subplot()
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; range(len(X)):
    ax.text(X[i], (X[i])&lt;/span&gt;**2, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;({:.3f},{:.3f})&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;.format(X[i], (X[i])**2), color=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;red&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain md-expand&quot;&gt;ç¼ºç‚¹ï¼šç”±äºåˆ†æ¯æ˜¯ç´¯åŠ æ¢¯åº¦çš„å¹³æ–¹ï¼Œåˆ°åé¢ç´¯åŠ çš„æ¯”è¾ƒå¤§æ—¶ï¼Œä¼šå¯¼è‡´æ¢¯åº¦æ›´æ–°ç¼“æ…¢&lt;/span&gt;&lt;/p&gt;
&lt;h3 class=&quot;md-end-block md-heading&quot;&gt;&lt;span&gt;RMSpropæ³•&lt;/span&gt;&lt;/h3&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;AdaGradç®—æ³•åœ¨è¿­ä»£åæœŸç”±äºå­¦ä¹ ç‡è¿‡å°ï¼Œå¯èƒ½è¾ƒéš¾æ‰¾åˆ°ä¸€ä¸ªæœ‰ç”¨çš„è§£ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒRMSpropç®—æ³•å¯¹Adagradç®—æ³•åšäº†ä¸€ç‚¹å°å°çš„ä¿®æ”¹ï¼ŒRMSpropä½¿ç”¨äº†åŠ æƒå¹³å‡çš„æ–¹æ³•,ç”±ç´¯ç§¯å¹³æ–¹æ¢¯åº¦å˜æˆå¹³å‡å¹³æ–¹æ¢¯åº¦,è§£å†³äº†åæœŸå­¦ä¹ ç‡å¤ªå°çš„ç¼ºç‚¹.(ç±»ä¼¼äºåŠ¨é‡æ¢¯åº¦ä¸‹é™)&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å‡è®¾Nå…ƒå‡½æ•°f(x)ï¼Œé’ˆå¯¹ä¸€ä¸ªè‡ªå˜é‡ç ”ç©¶RMSpropæ¢¯åº¦ä¸‹é™çš„è¿­ä»£è¿‡ç¨‹ï¼Œ&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1507784/201909/1507784-20190910082250821-128786568.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯ä»¥çœ‹å‡ºåˆ†æ¯ä¸å†æ˜¯ä¸€å‘³çš„å¢åŠ ï¼Œå®ƒä¼šé‡ç‚¹è€ƒè™‘è·ç¦»ä»–è¾ƒè¿‘çš„æ¢¯åº¦ï¼ˆæŒ‡æ•°è¡°å‡çš„æ•ˆæœï¼‰ï¼Œä¹Ÿå°±ä¸ä¼šå‡ºç°Adagradåˆ°åæœŸæ”¶æ•›ç¼“æ…¢çš„é—®é¢˜&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸¾ä¾‹ï¼šä½¿ç”¨RMSpropç®—æ³•æ±‚y = x2çš„æœ€å°å€¼ç‚¹&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯¼å‡½æ•°ä¸ºh(x) = 2x&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;åˆå§‹åŒ–g(0) = 1ï¼Œx(0) = 4ï¼ŒÏ=0.9ï¼ŒÎ·=0.01ï¼ŒÎµ=10-10&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘ æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134825988-722663580.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134825988-722663580.png&quot; alt=&quot;img&quot; width=&quot;309&quot; height=&quot;84&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘¡æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134834239-1810360221.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134834239-1810360221.png&quot; alt=&quot;img&quot; width=&quot;326&quot; height=&quot;75&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;æ±‚è§£çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134849805-1127173238.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703134849805-1127173238.png&quot; alt=&quot;img&quot; width=&quot;613&quot; height=&quot;294&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯¹åº”ä»£ç ä¸ºï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;Â &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; matplotlib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; pyplot as plt
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; numpy as np
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; mpl_toolkits.mplot3d &lt;span&gt;import&lt;/span&gt;&lt;span&gt; Axes3D

fig &lt;/span&gt;=&lt;span&gt; plt.figure()
x &lt;/span&gt;= np.arange(-4, 4, 0.025&lt;span&gt;)
plt.plot(x,x&lt;/span&gt;**2&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;y = x^2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; x**2
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; h(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; 2*&lt;span&gt;x
g &lt;/span&gt;= 1&lt;span&gt;
x &lt;/span&gt;= 4&lt;span&gt;
Ï &lt;/span&gt;= 0.9&lt;span&gt;
Î· &lt;/span&gt;= 0.01&lt;span&gt;
Îµ &lt;/span&gt;= 10e-10&lt;span&gt;
iters &lt;/span&gt;=&lt;span&gt; 0
X &lt;/span&gt;=&lt;span&gt; []
Y &lt;/span&gt;=&lt;span&gt; []
&lt;/span&gt;&lt;span&gt;while&lt;/span&gt; iters&amp;lt;12&lt;span&gt;:
    iters&lt;/span&gt;+=1&lt;span&gt;
    X.append(x)
    Y.append(f(x))
    g &lt;/span&gt;= Ï*g+(1-Ï)*h(x)**2&lt;span&gt;
    x &lt;/span&gt;= x - Î·/np.sqrt(g+Îµ)*&lt;span&gt;h(x)
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(iters,x)
plt.plot(X,Y,&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ro&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
ax &lt;/span&gt;=&lt;span&gt; plt.subplot()
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; range(len(X)):
    ax.text(X[i], (X[i])&lt;/span&gt;**2, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;({:.3f},{:.3f})&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;.format(X[i], (X[i])**2), color=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;red&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 class=&quot;md-end-block md-heading&quot;&gt;&lt;span class=&quot;md-expand&quot;&gt;Momentumæ³•&lt;/span&gt;&lt;/h3&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;Momentumæ˜¯åŠ¨é‡çš„æ„æ€ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªå°è½¦ä»é«˜å¡ä¸Šå†²ä¸‹æ¥ï¼Œä»–ä¸ä¼šåœåœ¨æœ€ä½ç‚¹ï¼Œå› ä¸ºä»–è¿˜æœ‰ä¸€ä¸ªåŠ¨é‡ï¼Œè¿˜ä¼šå‘å‰å†²ï¼Œç”šè‡³å¯ä»¥å†²è¿‡ä¸€äº›å°çš„å±±ä¸˜ï¼Œå¦‚æœé¢å¯¹çš„æ˜¯è¾ƒå¤§çš„å¡ï¼Œä»–å¯èƒ½çˆ¬ä¸ä¸Šå»ï¼Œæœ€ç»ˆåˆä¼šå€’è½¦å›æ¥ï¼ŒæŠ˜å å‡ æ¬¡ï¼Œåœåœ¨è°·åº•ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135026548-183730178.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135026548-183730178.png&quot; alt=&quot;img&quot; width=&quot;571&quot; height=&quot;215&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¦‚æœä½¿ç”¨çš„æ˜¯æ²¡æœ‰åŠ¨é‡çš„æ¢¯åº¦ä¸‹é™æ³•ï¼Œåˆ™å¯èƒ½ä¼šåœåˆ°ç¬¬ä¸€ä¸ªæ¬¡ä¼˜è§£&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135113046-618759366.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135113046-618759366.png&quot; alt=&quot;img&quot; width=&quot;555&quot; height=&quot;198&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;æœ€ç›´è§‚çš„ç†è§£å°±æ˜¯ï¼Œè‹¥å½“å‰çš„æ¢¯åº¦æ–¹å‘ä¸ç´¯ç§¯çš„å†å²æ¢¯åº¦æ–¹å‘ä¸€è‡´ï¼Œåˆ™å½“å‰çš„æ¢¯åº¦ä¼šè¢«åŠ å¼ºï¼Œä»è€Œè¿™ä¸€æ­¥ä¸‹é™çš„å¹…åº¦æ›´å¤§ã€‚è‹¥å½“å‰çš„æ¢¯åº¦æ–¹å‘ä¸ç´¯ç§¯çš„æ¢¯åº¦æ–¹å‘ä¸ä¸€è‡´ï¼Œåˆ™ä¼šå‡å¼±å½“å‰ä¸‹é™çš„æ¢¯åº¦å¹…åº¦ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135157742-169502057.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135157742-169502057.png&quot; alt=&quot;img&quot; width=&quot;434&quot; height=&quot;311&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä»è¿™å¹…å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“å°çƒåˆ°è¾¾Aç‚¹å¤„ï¼Œè´Ÿæ¢¯åº¦æ–¹å‘çš„çº¢ç®­å¤´æœç€xè½´è´Ÿå‘ï¼Œä½†æ˜¯åŠ¨é‡æ–¹å‘ï¼ˆç»¿ç®­å¤´ï¼‰æœç€xè½´çš„æ­£å‘å¹¶ä¸”é•¿åº¦å¤§äºçº¢ç®­å¤´ï¼Œå› æ­¤å°çƒåœ¨Aå¤„è¿˜ä¼šæœç€xè½´æ­£å‘ç§»åŠ¨ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸‹é¢æ­£å¼ä»‹ç»Momentumæ³•&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å‡è®¾Nå…ƒå‡½æ•°f(x)ï¼Œé’ˆå¯¹ä¸€ä¸ªè‡ªå˜é‡ç ”ç©¶Momentumæ¢¯åº¦ä¸‹é™çš„è¿­ä»£è¿‡ç¨‹ï¼Œ&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135214379-1455238698.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135214379-1455238698.png&quot; alt=&quot;img&quot; width=&quot;165&quot; height=&quot;76&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;vè¡¨ç¤ºåŠ¨é‡ï¼Œåˆå§‹v=0&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;Î±æ˜¯ä¸€ä¸ªæ¥è¿‘äº1çš„æ•°ï¼Œä¸€èˆ¬è®¾ç½®ä¸º0.9ï¼Œä¹Ÿå°±æ˜¯æŠŠä¹‹å‰çš„åŠ¨é‡ç¼©å‡åˆ°0.9å€&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;Î·æ˜¯å­¦ä¹ ç‡&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¼”ç¤ºä¸€ä¸‹ï¼Œæ±‚y = 2*x^4-x^3-x^2çš„æå°å€¼ç‚¹&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135316532-1321014342.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135316532-1321014342.png&quot; alt=&quot;img&quot; width=&quot;552&quot; height=&quot;283&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯ä»¥çœ‹å‡ºä»-0.8å¼€å§‹è¿­ä»£ï¼Œä¾é åŠ¨é‡æˆåŠŸè¶Šè¿‡ç¬¬ä¸€ä¸ªæ¬¡ä¼˜è§£ï¼Œå‘ç°æ— æ³•è¶Šè¿‡æœ€ä¼˜è§£ï¼ŒæŠ˜å å›æ¥ï¼Œæœ€ç»ˆæ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚å¯¹åº”ä»£ç å¦‚ä¸‹:&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; matplotlib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; pyplot as plt
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; numpy as np

fig &lt;/span&gt;=&lt;span&gt; plt.figure()
x &lt;/span&gt;= np.arange(-0.8, 1.2, 0.025&lt;span&gt;)
plt.plot(x,&lt;/span&gt;-x**3-x**2+2*x**4&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;y = 2*x^4-x^3-x^2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; 2*x**4-x**3-x**2
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; h(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; 8*x**3 - 3*x**2 - 2*&lt;span&gt;x
Î· &lt;/span&gt;= 0.05&lt;span&gt;
Î± &lt;/span&gt;= 0.9&lt;span&gt;
v &lt;/span&gt;=&lt;span&gt; 0
x &lt;/span&gt;= -0.8&lt;span&gt;
iters &lt;/span&gt;=&lt;span&gt; 0
X &lt;/span&gt;=&lt;span&gt; []
Y &lt;/span&gt;=&lt;span&gt; []
&lt;/span&gt;&lt;span&gt;while&lt;/span&gt; iters&amp;lt;12&lt;span&gt;:
    iters&lt;/span&gt;+=1&lt;span&gt;
    X.append(x)
    Y.append(f(x))
    v &lt;/span&gt;= Î±*v - Î·*&lt;span&gt;h(x)
    x &lt;/span&gt;= x +&lt;span&gt; v
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(iters,x)
plt.plot(X,Y)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 class=&quot;md-end-block md-heading&quot;&gt;&lt;span&gt;Adamæ³•&lt;/span&gt;&lt;/h3&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain md-expand&quot;&gt;Adamå®é™…ä¸Šæ˜¯æŠŠmomentumå’ŒRMSpropç»“åˆèµ·æ¥çš„ä¸€ç§ç®—æ³•&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å‡è®¾Nå…ƒå‡½æ•°f(x)ï¼Œé’ˆå¯¹ä¸€ä¸ªè‡ªå˜é‡ç ”ç©¶Adamæ¢¯åº¦ä¸‹é™çš„è¿­ä»£è¿‡ç¨‹ï¼Œ&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸‹é¢ä¾æ¬¡è§£é‡Šè¿™äº”ä¸ªå¼å­ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1507784/201909/1507784-20190910082641303-1089503937.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain md-expand&quot;&gt;åœ¨â‘ å¼ä¸­ï¼Œæ³¨æ„m(n)æ˜¯åå‘çš„åŠ¨é‡ä¸æ¢¯åº¦çš„å’Œï¼ˆè€Œåœ¨Momentumä¸­æ˜¯æ­£å‘åŠ¨é‡ä¸è´Ÿæ¢¯åº¦çš„å’Œï¼Œå› æ­¤â‘¤å¼å¯¹åº”çš„æ˜¯å‡å·ï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;åœ¨â‘¡å¼ä¸­ï¼Œå€Ÿé‰´çš„æ˜¯RMSpropçš„æŒ‡æ•°è¡°å‡&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;â‘¢å’Œâ‘£å¼ç›®çš„æ˜¯çº æ­£åå·®&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;â‘¤å¼è¿›è¡Œæ¢¯åº¦æ›´æ–°&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ä¸¾ä¾‹ï¼šä½¿ç”¨Adagradç®—æ³•æ±‚y = x2çš„æœ€å°å€¼ç‚¹&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯¼å‡½æ•°ä¸ºh(x) = 2x&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;åˆå§‹åŒ–x(0) = 4ï¼Œm(0) = 0ï¼Œv(0) = 0ï¼ŒÎ²1=0.9ï¼ŒÎ²2=0.999ï¼ŒÎµ=10-8ï¼ŒÎ· = 0.001&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘ æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135502705-454790823.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135502705-454790823.png&quot; alt=&quot;img&quot; width=&quot;342&quot; height=&quot;178&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;ç¬¬â‘¡æ¬¡è¿­ä»£ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135511106-96974125.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135511106-96974125.png&quot; alt=&quot;img&quot; width=&quot;442&quot; height=&quot;176&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;æ±‚è§£çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º:&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;&lt;span class=&quot;md-image md-img-loaded&quot; data-src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135525336-1238134557.png&quot;&gt;&lt;img title=&quot;&quot; src=&quot;https://img2018.cnblogs.com/blog/1244340/201907/1244340-20190703135525336-1238134557.png&quot; alt=&quot;img&quot; width=&quot;610&quot; height=&quot;298&quot; data-alt=&quot;img&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;md-end-block md-p&quot;&gt;&lt;span class=&quot;md-plain&quot;&gt;å¯¹åº”ä»£ç ä¸ºï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; matplotlib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; pyplot as plt
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; numpy as np
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; mpl_toolkits.mplot3d &lt;span&gt;import&lt;/span&gt;&lt;span&gt; Axes3D

fig &lt;/span&gt;=&lt;span&gt; plt.figure()
x &lt;/span&gt;= np.arange(-4, 4, 0.025&lt;span&gt;)
plt.plot(x,x&lt;/span&gt;**2&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;y = x^2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; x**2
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; h(x):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; 2*&lt;span&gt;x
x &lt;/span&gt;= 4&lt;span&gt;
m &lt;/span&gt;=&lt;span&gt; 0
v &lt;/span&gt;=&lt;span&gt; 0
Î²1 &lt;/span&gt;= 0.9&lt;span&gt;
Î²2 &lt;/span&gt;= 0.999&lt;span&gt;
Î· &lt;/span&gt;= 0.001&lt;span&gt;
Îµ &lt;/span&gt;= 10e-8&lt;span&gt;
iters &lt;/span&gt;=&lt;span&gt; 0
X &lt;/span&gt;=&lt;span&gt; []
Y &lt;/span&gt;=&lt;span&gt; []
&lt;/span&gt;&lt;span&gt;while&lt;/span&gt; iters&amp;lt;12&lt;span&gt;:
    iters&lt;/span&gt;+=1&lt;span&gt;
    X.append(x)
    Y.append(f(x))
    m &lt;/span&gt;= Î²1*m + (1-Î²1)*&lt;span&gt;h(x)
    v &lt;/span&gt;= Î²2*v + (1-Î²2)*h(x)**2&lt;span&gt;
    m_het &lt;/span&gt;= m/(1-Î²1**&lt;span&gt;iters)
    v_het &lt;/span&gt;= v/(1-Î²2**&lt;span&gt;iters)
    x &lt;/span&gt;= x - Î·/np.sqrt(v_het+Îµ)*&lt;span&gt;m_het
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(iters,x)
plt.plot(X,Y,&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ro&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
ax &lt;/span&gt;=&lt;span&gt; plt.subplot()
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; range(len(X)):
    ax.text(X[i], (X[i])&lt;/span&gt;**2, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;({:.3f},{:.3f})&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;.format(X[i], (X[i])**2), color=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;red&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p class=&quot;md-end-block md-p md-focus&quot;&gt;Â &lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:28:00 +0000</pubDate>
<dc:creator>Timcode</dc:creator>
<og:description>æ”¹è¿›ç‰ˆæ¢¯åº¦ä¸‹é™ å‘å±•å†å² æ ‡å‡†æ¢¯åº¦ä¸‹é™æ³•çš„ç¼ºé™· å¦‚æœå­¦ä¹ ç‡é€‰çš„ä¸æ°å½“ä¼šå‡ºç°ä»¥ä¸Šæƒ…å†µ å› æ­¤æœ‰ä¸€äº›è‡ªåŠ¨è°ƒå­¦ä¹ ç‡çš„æ–¹æ³•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œéšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ ï¼Œå­¦ä¹ ç‡åº”è¯¥è¶Šæ¥è¶Šå°ï¼Œå› ä¸ºè¿­ä»£æ¬¡æ•°å¢åŠ åï¼Œå¾—åˆ°çš„è§£åº”è¯¥æ¯”è¾ƒ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/TimVerion/p/11495327.html</dc:identifier>
</item>
<item>
<title>ä¸€æ–‡çœ‹å°½Java-å¤šçº¿ç¨‹æ¦‚å¿µ - å¤§é­”ç‹å…ˆç”Ÿ</title>
<link>http://www.cnblogs.com/wtzbk/p/11489059.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wtzbk/p/11489059.html</guid>
<description>&lt;p&gt;&lt;strong&gt;ä¸€ã€å‰è¨€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  ä¸»è¦è®²è§£ä¸€ä¸‹å¤šçº¿ç¨‹ä¸­çš„ä¸€äº›æ¦‚å¿µï¼Œæœ¬æ–‡ä¹‹åå°±å¼€å§‹é’ˆå¯¹JUCåŒ…çš„è®¾è®¡å¼€å§‹è§£è¯»ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äºŒã€æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  çº¿ç¨‹å®‰å…¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;1.å­˜åœ¨å…±äº«æ•°æ®(ä¸´ç•Œèµ„æº)ï¼›2.å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œå…±äº«æ•°æ®ï¼›åªæœ‰åŒæ—¶å‡ºç°è¿™ä¸¤ç§æƒ…å†µçš„æ—¶å€™æ‰ä¼šé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;è§£å†³çº¿ç¨‹å®‰å…¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;åŒä¸€æ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œå…±äº«æ•°æ®ï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰åˆ°è¯¥çº¿ç¨‹å¤„ç†å®Œæ•°æ®ä»¥ååœ¨å¯¹å…±äº«æ•°æ®è¿›è¡Œæ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;å¤šçº¿ç¨‹ç‰¹æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  åŸå­æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; ç°åœ¨çš„æ“ä½œç³»ç»Ÿä¸»è¦æ˜¯é€šè¿‡æ—¶é—´åˆ†ç‰‡çš„å½¢å¼æ¥ç®¡ç†çº¿ç¨‹æˆ–è€…è¿›ç¨‹ï¼ŒJavaç¼–ç¨‹è¯­è¨€ä¸€å¥è¯­è¨€éœ€è¦å¤šæ¡CPUæŒ‡ä»¤æ¥å®Œæˆï¼ŒJavaåœ¨å¤šçº¿ç¨‹åˆ‡æ¢çš„æ—¶å€™ç”±äºä¸æ»¡è¶³åŸå­æ€§çš„ç‰¹å¾ï¼Œå¯¼è‡´å…±äº«å˜é‡äº§ç”Ÿæ„æ–™ä¹‹å¤–çš„ç»“æœï¼›å…¸å‹çš„count+=1ï¼Œå¦‚ä¸‹å›¾ï¼Œå…±äº«å˜é‡çš„countçš„æŒ‡æœ€ç»ˆç»“æœæ˜¯1è€Œä¸æ˜¯2ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201909/1005447-20190908210105040-550255983.png&quot; alt=&quot;&quot; width=&quot;490&quot; height=&quot;269&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  å¯è§æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;&lt;/strong&gt;åœ¨å¤šå¤„ç†å™¨(CPU)ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ï¼Œè€Œå®ƒä»¬åˆå…±äº«åŒä¸€ä¸»å†…å­˜ï¼Œæ•´ä½“ç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;&lt;strong&gt;Â  Â Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201909/1005447-20190908211732045-765161641.png&quot; alt=&quot;&quot; width=&quot;659&quot; height=&quot;258&quot;/&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨å•æ ¸CPUçš„æƒ…å†µä¸‹ï¼ŒCPUç¼“å­˜ä¸å†…å­˜æ•°æ®ä¸€è‡´æ€§é—®é¢˜å®¹æ˜“å¤„ç†ï¼Œå› ä¸ºæ‰€æœ‰çº¿ç¨‹çš„æ“ä½œéƒ½æ˜¯é’ˆå¯¹åŒä¸€ä¸ªCPUçš„ç¼“å­˜ï¼Œä¸€ä¸ªçº¿ç¨‹å¯¹ç¼“å­˜çš„å†™å¯¹äºå¦å¤–çš„çº¿ç¨‹ä¸€å®šæ˜¯å¯è§çš„ï¼Œæ•´ä½“çš„æ‰§è¡Œæƒ…å†µå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201909/1005447-20190908212216876-1922987092.png&quot; alt=&quot;&quot; width=&quot;448&quot; height=&quot;295&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨å¤šCPUçš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªCPUéƒ½æœ‰è‡ªå·±çš„ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ¯ä¸ªå…±äº«å˜é‡åœ¨CPUä¸­çš„ç¼“å­˜éƒ½æ˜¯ä¸å¯è§çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±äº§ç”Ÿäº†CPUç¼“å­˜ä¸å†…å­˜æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œæ•´ä½“æ‰§è¡Œçš„æƒ…å†µå¦‚ä¸‹å›¾ï¼Œç”±äºcountå˜é‡åˆ†åˆ«åœ¨ä¸åŒçš„CPUä¸Šæ‰§è¡Œï¼Œç›¸äº’çœ‹ä¸åˆ°å¯¹æ–¹çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™å˜é‡countå°±ä¼šä¸ä¸€è‡´ï¼Œäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„ç»“æœï¼Œé’ˆå¯¹è¿™ç§æˆ‘ä¹Ÿå†™äº†ä¸€ä¸ªdemoï¼›&lt;/p&gt;
&lt;p&gt;Â  Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201909/1005447-20190908213504419-739530906.png&quot; alt=&quot;&quot; width=&quot;607&quot; height=&quot;339&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('62be0fb5-1d87-4338-bb6f-679c31782a37')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_62be0fb5-1d87-4338-bb6f-679c31782a37&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_62be0fb5-1d87-4338-bb6f-679c31782a37&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('62be0fb5-1d87-4338-bb6f-679c31782a37',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_62be0fb5-1d87-4338-bb6f-679c31782a37&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt; wtz
 *
 * çº¿ç¨‹å¯è§æ€§demo
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; ThreadVisiable {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; add() {
        &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; retry = 0&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (retry &amp;lt; 10000&lt;span&gt;) {
            count &lt;/span&gt;+= 1&lt;span&gt;;
            retry&lt;/span&gt;++&lt;span&gt;;
        }
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; sumCount() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; InterruptedException {

        Thread thread1 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(() -&amp;gt;&lt;span&gt; {
            add();
        });

        Thread thread2 &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Thread(() -&amp;gt;&lt;span&gt; {
            add();
        });

        thread1.start();
        thread2.start();

        thread1.join();
        thread2.join();

        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; count;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; main(String[] args) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; InterruptedException {
        ThreadVisiable threadVisiable &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ThreadVisiable();
        &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; count =&lt;span&gt; threadVisiable.sumCount();
        System.out.println(count);
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;Â  Â Â &lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; ç¼–è¯‘å™¨ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæœ‰çš„æ—¶å€™ä¼šæ”¹å˜ç¨‹åºä¸­è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼Œåœ¨Javaç»å…¸çš„åŒé‡æ£€æŸ¥åˆ›å»ºå•ä¾‹æ¨¡å¼ï¼Œå°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªä½“ç°ï¼Œä»£ç å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('29aba8b7-9d3c-47f5-b824-26cc89a87c22')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_29aba8b7-9d3c-47f5-b824-26cc89a87c22&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_29aba8b7-9d3c-47f5-b824-26cc89a87c22&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('29aba8b7-9d3c-47f5-b824-26cc89a87c22',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_29aba8b7-9d3c-47f5-b824-26cc89a87c22&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt; wtz
 * &amp;lt;p&amp;gt;
 * åŒé‡é”å®šå•ä¾‹æ¨¡å¼ æŒ‡ä»¤é‡æ’
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Singleton {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Singleton singleton;

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Singleton() {
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; Singleton getInstance() {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (singleton == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
            &lt;/span&gt;&lt;span&gt;synchronized&lt;/span&gt; (Singleton.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;) {
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (singleton == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
                    singleton &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Singleton();
                }
            }
        }
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; singleton;
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  ä»£ç æ•´ä½“ä¸Šçœ‹èµ·æ¥æ— ä»»ä½•ç‘•ç–µï¼Œä½†æ˜¯å®é™…è¿™ä¸ªæ–¹æ³•å¹¶ä¸å®Œç¾ï¼Œé—®é¢˜å‡ºåœ¨newçš„æ“ä½œä¸Šï¼Œæ­£å¸¸æƒ…å†µä¸‹new Singleton()æ‰§è¡Œçš„æ“ä½œå¦‚ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.åœ¨å†…å­˜ä¸­åˆ†é…ä¸€å—ç©ºé—´ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.åœ¨å†…å­˜ä¸Šåˆå§‹åŒ–Singletonå¯¹è±¡ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.å°†å†…å­˜åœ°å€èµ‹å€¼ç»™singletonå˜é‡ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  ç»è¿‡ç¼–è¯‘å™¨ä¼˜åŒ–ä»¥åå¯èƒ½æ˜¯è¿™ä¸ªæ ·å­ï¼š&lt;strong&gt;Â Â &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  1.åœ¨å†…å­˜ä¸­åˆ†é…ä¸€å—ç©ºé—´ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.å°†å†…å­˜åœ°å€èµ‹å€¼ç»™singletonå˜é‡ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.åœ¨å†…å­˜ä¸Šåˆå§‹åŒ–Singletonå¯¹è±¡ï¼›Â &lt;/p&gt;
&lt;p&gt;Â  Â  ä¼˜åŒ–ä»¥åå½“CPUæ—¶é—´ç‰‡åˆ‡æ¢æ—¶é—´åˆšå¥½æ˜¯çº¿ç¨‹Båˆ¤æ–­ä¸ºç©ºçš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™singletonæ­¤æ—¶ä¸ä¸ºç©ºï¼Œä¸éœ€è¦è¿›å…¥é”ä¸­ï¼Œè¿™ä¸ªæ—¶å€™å°±è¿”å›ä¸ºåˆå§‹åŒ–çš„singleton,æ•´ä½“æ€§æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201909/1005447-20190908215816413-644391312.png&quot; alt=&quot;&quot; width=&quot;557&quot; height=&quot;363&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Â  Â  ç«æ€æ¡ä»¶&amp;amp;ä¸´ç•ŒåŒº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;å½“ä¸¤ä¸ªçº¿ç¨‹ç«äº‰åŒä¸€èµ„æºæ—¶ï¼Œå¦‚æœå¯¹èµ„æºçš„è®¿é—®é¡ºåºæ•æ„Ÿï¼Œå°±ç§°å­˜åœ¨ç«æ€æ¡ä»¶ã€‚å¯¼è‡´ç«æ€æ¡ä»¶å‘ç”Ÿçš„ä»£ç åŒºç§°ä½œä¸´ç•ŒåŒºï¼›&lt;/p&gt;
&lt;p&gt;Â  Â Â &lt;strong&gt;äº’æ–¥é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â Â &lt;/strong&gt;äº’æ–¥é”è§£å†³äº†å¹¶å‘ç¨‹åºä¸­çš„åŸå­æ€§é—®é¢˜,ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œä¿è¯äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œåœ¨CPUæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸è¢«ä¸­æ–­ï¼ŒJavaåŸç”Ÿè¯­è¨€ä¸»è¦æ˜¯é€šè¿‡synchronizedå®ç°äº’æ–¥é”ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Javaå†…å­˜æ¨¡å‹&lt;/strong&gt;Â &lt;/p&gt;
&lt;p&gt;Â  Â  Javaå†…å­˜æ¨¡å‹ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å†…å­˜å¯è§æ€§å’ŒæŒ‡ä»¤é‡æ’(ç¼–è¯‘ä¼˜åŒ–)çš„é—®é¢˜ï¼Œä½¿ç”¨å†…å­˜æ¨¡å‹çº¦æŸäº†CPUç¼“å­˜å’Œç¼–è¯‘ä¼˜åŒ–ï¼›Javaå†…å­˜æ¨¡å‹(JMM)ä»ä¸åŒçš„è§’åº¦æ¥è¯´éƒ½å¯ä»¥è¯´å¾ˆå¤šçš„ä¸œè¥¿ï¼Œæ¯”å¦‚ä»çº¿ç¨‹è§’åº¦æ¥è¯´ï¼ŒJMMè§„èŒƒä¸åŒçº¿ç¨‹ä¹‹é—´çº¿ç¨‹é€šä¿¡çš„é—®é¢˜ï¼Œä»æ“ä½œç³»ç»Ÿçš„è§’åº¦æ¥è¯´ï¼ŒJMMè§„èŒƒäº†å·¥ä½œçº¿ç¨‹ä¸å†…å­˜ä¹‹é—´è®¿é—®çš„é—®é¢˜ï¼›æˆ‘ä»¬ä¸»è¦ä»ç¨‹åºå‘˜è§’åº¦æ¥çœ‹è¿™ä¸ªé—®é¢˜çš„è¯æˆ‘è®¤ä¸ºå¯ä»¥ä»ä¸‰æ–¹é¢è¯´èµ·ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.volatileã€synchronizedå’Œfinalè¯­ä¹‰ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.JUCå¹¶å‘åŒ…ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.happens-beforeï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  æˆ‘ä»¬ä¸»è¦è¯´ç¬¬3ç‚¹ï¼Œç¬¬1ï¼Œ2ç‚¹ä»¥ååœ¨è¡¥å……ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç™½ä¸€äº›æ¦‚å¿µï¼Œæ‰èƒ½æ›´å¥½çš„ç†è§£åé¢çš„ä¸€äº›å†…å®¹ï¼›happens-beforeä¸»è¦æœ‰8ä¸ªåŸåˆ™ï¼Œæˆ‘ä»¬é€šä¿—çš„è¯æ¥è®²è®²ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.ç¨‹åºçš„é¡ºåºæ€§ï¼Œå•çº¿ç¨‹çš„æ¯ä¸ªå‰é¢çš„æ“ä½œä¼˜å…ˆäºåé¢çš„æ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.volatileï¼Œå¯¹äºvolatileä¿®é¥°çš„å˜é‡ï¼Œå†™çš„æ“ä½œä¸€å®šä¼˜å…ˆäºè¯»çš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹å˜é‡å†™æ“ä½œå¯¹äºåç»­çš„è¯»æ“ä½œéƒ½æ˜¯å¯è§çš„ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.é”ï¼Œè§£é”çš„æ“ä½œä¼˜å…ˆäºåŠ é”çš„æ“ä½œï¼Œåœ¨Javaé”æŒ‡çš„å°±æ˜¯synchronizedï¼Œå˜é‡åœ¨è§£é”ä¹‹å‰çš„æ“ä½œï¼Œåœ¨é‡æ–°åŠ é”ä¹‹åä¸€å®šå¯ä»¥çœ‹åˆ°ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  4.ä¼ é€’æ€§ï¼ŒAä¼˜å…ˆäºBï¼ŒBä¼˜å…ˆäºCï¼Œåˆ™Aä¼˜å…ˆäºCï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  5.çº¿ç¨‹å¼€å§‹åŸåˆ™ï¼Œä¸»çº¿ç¨‹Aå¯åŠ¨å­çº¿ç¨‹Bï¼Œåˆ™å­çº¿ç¨‹Bèƒ½å¤Ÿçœ‹åˆ°ä¸»çº¿ç¨‹Aåœ¨å¯åŠ¨Bå­çº¿ç¨‹ä¹‹å‰çš„æ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  6.çº¿ç¨‹ç»ˆæ­¢åŸåˆ™ï¼Œä¸»çº¿ç¨‹Aç­‰å¾…å­çº¿ç¨‹Bå®Œæˆï¼Œå½“å­çº¿ç¨‹Bå®Œæˆä»¥åï¼Œä¸»çº¿ç¨‹Aèƒ½å¤Ÿçœ‹åˆ°å­çº¿ç¨‹çš„Bçš„æ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  7.çº¿ç¨‹ä¸­æ–­åŸåˆ™ï¼Œå¯¹çº¿ç¨‹interrupt()æ–¹æ³•ä¼˜å…ˆäºå‘ç”Ÿè¢«ä¸­æ–­çº¿ç¨‹æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  8.å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œä¸€å®šä¼˜å…ˆäºå®ƒçš„finalizeæ–¹æ³•ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;ç­‰å¾…-é€šçŸ¥æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; ç­‰å¾…-é€šçŸ¥æœºåˆ¶ä¸»è¦æ˜¯ä¸ºäº†å¤„ç†å¾ªç¯ç­‰å¾…é€ æˆçš„CPUæ¶ˆè€—é—®é¢˜ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.çº¿ç¨‹é¦–å…ˆè·å–äº’æ–¥é”ï¼Œå½“çº¿ç¨‹è¦æ±‚çš„æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé‡Šæ”¾äº’æ–¥é”ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.å½“è¦æ±‚çš„æ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€šçŸ¥ç­‰å¾…çš„çº¿ç¨‹ï¼Œé‡æ–°è·å–äº’æ–¥é”ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  JavaåŸç”Ÿè¯­è¨€ä¸»è¦æ˜¯é€šè¿‡&lt;code&gt;synchronized + wait + notify/notifyAllå®ç°ï¼›&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Â  Â Â &lt;strong&gt;æ´»è·ƒæ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  æ­»é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; æ­»é”çš„å®šä¹‰ä¸€ç»„ç›¸äº’ç«äº‰èµ„æºçš„çº¿ç¨‹å› ç›¸äº’ç­‰å¾…ï¼Œå¯¼è‡´æ°¸ä¹…é˜»å¡çš„ç°è±¡ï¼Œå‘ç”Ÿæ­»é”å¿…å¤‡çš„å››ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.äº’æ–¥ï¼Œå…±äº«èµ„æºåŒæ—¶åªæœ‰å ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.å æœ‰ä¸”ç­‰å¾…ï¼Œçº¿ç¨‹Aè·å–å…±äº«èµ„æºXï¼Œåœ¨ç­‰å¾…å…±äº«èµ„æºYçš„æ—¶å€™ï¼Œä¸æ˜¯é‡Šæ”¾å…±äº«èµ„æºYï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.ä¸å¯æŠ¢å ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½æŠ¢å çº¿ç¨‹Aè·å–çš„å…±äº«èµ„æºï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  4.å¾ªç¯ç­‰å¾…ï¼Œçº¿ç¨‹Aç­‰å¾…çº¿ç¨‹Bè·å–çš„å…±äº«èµ„æºï¼Œçº¿ç¨‹Bç­‰å¾…çº¿ç¨‹Aè·å–çš„å…±äº«èµ„æºï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  åªè¦ç ´åå…¶ä¸­ä»»æ„ä¸€ä¸ªæ¡ä»¶å°±å¯ä»¥è·‘åæ­»é”ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;æ´»é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; çº¿ç¨‹ä¹‹é—´äº’ç›¸è°¦è®©ï¼Œå¯¼è‡´çº¿ç¨‹æ— æ³•æ‰§è¡Œä¸‹å»ï¼Œè§£å†³æ–¹æ¡ˆé€šè¿‡ç»™çº¿ç¨‹éšæœºç­‰å¾…ä¸€ä¸ªæ—¶é—´ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;é¥¥é¥¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â &lt;/strong&gt; çº¿ç¨‹ä¸èƒ½æ­£å¸¸çš„è®¿é—®å…±äº«èµ„æºï¼Œå¹¶ä¸”æ— æ³•æ‰§è¡Œä¸‹å»ï¼Œè§£å†³çº¿ç¨‹é¥¥é¥¿çš„åŠæ³•ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  1.ä¿è¯èµ„æºçš„å…¬å¹³æ€§ï¼Œä¹Ÿå°±çº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸€æ ·ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  2.ä¿è¯èµ„æºå……è¶³ï¼›&lt;/p&gt;
&lt;p&gt;Â  Â  3.é¿å…çº¿ç¨‹é•¿æ—¶é—´å ç”¨é”æ‰§è¡Œï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â ä¸‰ã€ç»“æŸ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â Â &lt;/strong&gt;æ¬¢è¿å¤§å®¶åŠ ç¾¤438836709ï¼æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘ï¼&lt;/p&gt;
&lt;p&gt;Â  Â  Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1005447/201906/1005447-20190620221533393-1847070636.png&quot; alt=&quot;&quot; width=&quot;363&quot; height=&quot;305&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:27:00 +0000</pubDate>
<dc:creator>å¤§é­”ç‹å…ˆç”Ÿ</dc:creator>
<og:description>ä¸€ã€å‰è¨€ ä¸»è¦è®²è§£ä¸€ä¸‹å¤šçº¿ç¨‹ä¸­çš„ä¸€äº›æ¦‚å¿µï¼Œæœ¬æ–‡ä¹‹åå°±å¼€å§‹é’ˆå¯¹JUCåŒ…çš„è®¾è®¡å¼€å§‹è§£è¯»ï¼› äºŒã€æ¦‚å¿µ çº¿ç¨‹å®‰å…¨ 1.å­˜åœ¨å…±äº«æ•°æ®(ä¸´ç•Œèµ„æº)ï¼›2.å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œå…±äº«æ•°æ®ï¼›åªæœ‰åŒæ—¶å‡ºç°è¿™ä¸¤ç§æƒ…å†µçš„æ—¶å€™æ‰ä¼šé€ </og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/wtzbk/p/11489059.html</dc:identifier>
</item>
<item>
<title>ä¸è¦å°çœ‹å°å°çš„ emoji è¡¨æƒ… - crossoverJie</title>
<link>http://www.cnblogs.com/crossoverJie/p/11495319.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/crossoverJie/p/11495319.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082109805-1343494230.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œæœ€è¿‘äº‹æ¯”è¾ƒå¤šï¼Œæˆ–è®¸ä¸‹ä¸ªæœˆå°±ä¼šæ¢å¤åˆ°æ­£å¸¸çš„å‘æ–‡é¢‘æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« å¾—ä»ä¸€ä¸ª &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…å¼€å§‹ï¼Œæˆ‘ä¹‹å‰å¼€æºçš„ä¸€ä¸ª &lt;code&gt;IM&lt;/code&gt; é¡¹ç›®ä¸­æœ‰æœ‹å‹æåˆ°å¸Œæœ›å¯ä»¥æ”¯æŒ &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/crossoverJie/cim/issues/12&quot; class=&quot;uri&quot;&gt;https://github.com/crossoverJie/cim/issues/12&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082112119-1967054692.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ­£å¥½é‚£æ®µæ—¶é—´æœ‰ç©ºï¼ŒåŠ ä¸Šè¿™åŠŸèƒ½çœ‹ç€ä¹Ÿæ¯”è¾ƒç®€å•å‡†å¤‡æŠŠå®ƒå®ç°äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†åœ¨çœŸæ­£å®ç°æ—¶å´å‘ç°æ²¡é‚£ä¹ˆç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082112351-991754317.jpg&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;æˆ‘é¦–å…ˆå°è¯•å°†ä¸€ä¸ª &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…å­˜å…¥æ•°æ®åº“çœ‹çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082112531-1187598615.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœä¸å…¶ç„¶çš„å‡ºé”™äº†ï¼Œå¯¼è‡´è¿™ä¸ªå¼‚å¸¸çš„åŸå› æ˜¯ç›®å‰æ•°æ®åº“æ‰€æ”¯æŒçš„ç¼–ç ä¸­å¹¶ä¸èƒ½å­˜æ”¾ &lt;code&gt;emoji&lt;/code&gt;ï¼Œé‚£ &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ä¸Šæ¥è¯´è®¡ç®—æœºæ‰€å­˜å‚¨çš„ä¿¡æ¯éƒ½æ˜¯äºŒè¿›åˆ¶ &lt;code&gt;01&lt;/code&gt;ï¼Œ&lt;code&gt;emoji&lt;/code&gt; ä¹Ÿä¸ä¾‹å¤–ï¼Œåªè¦å­˜å‚¨å’Œè¯»å–ï¼ˆç¼–è§£ç ï¼‰çš„æ–¹å¼ä¸€è‡´é‚£å°±å¯ä»¥å‡†ç¡®çš„å±•ç¤ºè¿™ä¸ªä¿¡æ¯ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;æ›´å¤šç¼–è§£ç çš„å†…å®¹åæ–‡å†ä»‹ç»ï¼Œè¿™é‡Œå…ˆæƒ³æƒ³å¦‚ä½•å¿«é€Ÿè§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è™½è¯´æƒ³è¦åœ¨ &lt;code&gt;MySQL&lt;/code&gt; ä¸­å­˜å‚¨ &lt;code&gt;emoji&lt;/code&gt; çš„æ–¹å¼ä¹Ÿæœ‰å¥½å‡ ç§ï¼Œæ¯”å¦‚å¯ä»¥å‡çº§å­˜å‚¨å­—ç¬¦é›†åˆ°å¯ä»¥å­˜æ”¾ &lt;code&gt;emoji&lt;/code&gt; ï¼Œä½†è¿™ç§éœ€è¦ &lt;code&gt;MySQL&lt;/code&gt; çš„ç‰ˆæœ¬æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ›´ä¿é™©çš„æ–¹å¼è¿˜æ˜¯åœ¨åº”ç”¨å±‚è§£å†³ï¼Œæ¯”å¦‚æˆ‘ä»¬æ˜¯å¦å¯ä»¥å°† emoji å½“åšå­—ç¬¦ä¸²å­˜å‚¨ï¼Œåªæ˜¯æ˜¾ç¤ºçš„æ—¶å€™è¦æ ¼å¼åŒ–ä¸ºä¸€ä¸ª emoji è¡¨æƒ…ï¼Œè¿™æ ·å¯¹äºæ‰€æœ‰çš„æ•°æ®åº“ç‰ˆæœ¬éƒ½å¯å…¼å®¹ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯æˆ‘ä»¬è¿™é‡Œçš„éœ€æ±‚æ˜¯ä¸€ä¸ª &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ŒåŒæ—¶è¿˜å¾—å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸º emojiã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºæ­¤æˆ‘åœ¨ &lt;code&gt;GitHub&lt;/code&gt; ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªåº“ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿çš„å°†ä¸€ä¸ª &lt;code&gt;emoji&lt;/code&gt; è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„åˆ«åï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå°†è¿™ä¸ªåˆ«åè½¬æ¢ä¸º &lt;code&gt;emoji&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/vdurmont/emoji-java&quot; class=&quot;uri&quot;&gt;https://github.com/vdurmont/emoji-java&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;    @Test
    public void emoji() throws Exception{
        String str = &quot;An :grinning:awesome :smiley:string &amp;amp;#128516;with a few :wink:emojis!&quot;;
        String result = EmojiParser.parseToUnicode(str);
        System.out.println(result);

        result = EmojiParser.parseToAliases(str);
        System.out.println(result);

    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082113024-1143483669.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åŸºäºè¿™ä¸ªåŸºç¡€åº“æœ€ç»ˆå®ç°äº†è¡¨æƒ…åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082114747-4260807.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®å®ƒæœ¬è´¨ä¸Šæ˜¯è‡ªå·±ç»´æŠ¤äº†ä¸€ä¸ª emoji çš„åˆ«ååŠå®ƒçš„ Unicode ç¼–ç (æœ¬è´¨ä¸Šæ˜¯ &lt;code&gt;UTF-16&lt;/code&gt;)çš„æ˜ å°„å…³ç³»ï¼Œå†æ¯æ¬¡æ ¼å¼åŒ–æ•°æ®çš„æ—¶å€™éƒ½ä¼šä»è¿™ä¸ªè¡¨ä¸­è¿›è¡Œç¿»è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082116905-1266313205.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è‡ªæ­¤éœ€æ±‚æ˜¯å®Œæˆäº†ï¼Œä½†è¿˜æœ‰å‡ ä¸ªé—®é¢˜å¾…è§£å†³ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Java&lt;/code&gt; ä¸­æ˜¯å¦‚ä½•å­˜å‚¨ &lt;code&gt;emoji&lt;/code&gt; çš„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;emoji&lt;/code&gt; æ˜¯å¦‚ä½•è¿›è¡Œç¼–ç çš„ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ascii&quot;&gt;ASCII&lt;/h2&gt;
&lt;p&gt;åœ¨è°ˆ &lt;code&gt;emoji&lt;/code&gt; ä¹‹å‰éå¸¸æœ‰å¿…è¦äº†è§£ä¸‹è®¡ç®—æœºç¼–ç é¼»ç¥–çš„ ASCII ç ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å®¶ç°åœ¨éƒ½çŸ¥é“åœ¨è®¡ç®—æœºå†…éƒ¨å­˜å‚¨æ•°æ®æœ¬è´¨ä¸Šéƒ½æ˜¯äºŒè¿›åˆ¶çš„ 0/1ï¼Œå¯¹äºä¸€ä¸ªå­—èŠ‚æ¥è¯´æœ‰ 8 ä½ï¼›æ¯ä¸€ä½å¯ä»¥è¡¨ç¤ºä¸¤ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ 0 æˆ– 1ï¼Œè¿™æ ·æ’åˆ—ç»„åˆä¸‹æ¥ï¼Œä¸€ä¸ªå­—èŠ‚å°±å¯ä»¥è¡¨ç¤º 256(2âˆ§8) ç§ä¸åŒçš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082117171-975280922.jpg&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;å¯¹äºç¾å›½æ¥è¯´ä»–ä»¬æ—¥å¸¸ä½¿ç”¨çš„è‹±è¯­åªéœ€è¦ 26 ä¸ªè‹±æ–‡å­—æ¯ï¼Œå†åŠ ä¸Šä¸€äº›æ ‡ç‚¹ç¬¦å·å°±è¶³å¤Ÿç”¨è®¡ç®—æœºæ¥è¿›è¡Œä¿¡æ¯äº¤æµã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ä¸Šä¸ªä¸–çºª 60å¹´ä»£å®šä¹‰äº†ä¸€å¥—äºŒè¿›åˆ¶ä¸è‹±æ–‡å­—ç¬¦çš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥è¡¨æ˜ 128 ä¸ªä¸åŒçš„è‹±æ–‡å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨çš„ &lt;code&gt;ASCII&lt;/code&gt; ç ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºç°ä»£è‹±æ–‡ï¼Œçœ‹èµ·æ¥éå¸¸ä¸é”™ã€‚&lt;/p&gt;
&lt;h2 id=&quot;unicode&quot;&gt;Unicode&lt;/h2&gt;
&lt;p&gt;éšç€è®¡ç®—æœºçš„å‘å±•ï¼Œé€æ¸åœ¨æ¬§æ´²ã€äºšæ´²åœ°åŒºæµè¡Œï¼›å†åˆ©ç”¨è¿™å¥— &lt;code&gt;ASCII&lt;/code&gt; ç è¿›è¡Œä¿¡æ¯äº¤æµæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œå¾ˆå¤šåœ°åŒºå‹æ ¹å°±ä¸ä½¿ç”¨è‹±æ–‡ï¼Œè€Œä¸”ä¹Ÿè¿œè¶…äº† 128 ä½å­—ç¬¦ï¼ˆä¸­æ–‡å°±æ›´ä¸ç”¨è¯´äº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´ä¸€ä¸ªå­—èŠ‚åœ¨ &lt;code&gt;ASCII&lt;/code&gt; ç ä¸­åªç”¨äº† &lt;code&gt;128&lt;/code&gt; ä½ï¼Œä½†å‰©ä¸‹(&lt;code&gt;258-128&lt;/code&gt;)çš„ä¾ç„¶ä¸è¶³ç”¨ç”¨äºæè¿°å…¶ä»–è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å¦‚æœèƒ½æœ‰ä¸€ç§åŒ…å«äº†ä¸–ç•Œä¸Šæ‰€æœ‰çš„æ–‡å­—çš„å­—ç¬¦é›†ï¼Œæ¯ä¸€ä¸ªåœ°åŒºçš„æ–‡å­—éƒ½åœ¨è¿™ä¸ªå­—ç¬¦é›†ä¸­æœ‰å”¯ä¸€çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œè¿™æ ·ä¾¿ä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Unicode&lt;/code&gt; å°±æ˜¯æ¥åšè¿™ä¸ªçš„ï¼Œæˆªæ­¢ç›®å‰ &lt;code&gt;Unicode&lt;/code&gt; å·²ç»æ”¶å½•äº† 10W+ çš„å­—ç¬¦ï¼Œä½ æ‰€èƒ½ä½¿ç”¨çš„å­—ç¬¦éƒ½åŒ…å«è¿›å»äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;utf-8&quot;&gt;UTF-8&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Unicode&lt;/code&gt; è™½è¯´åŒ…å«äº†å‡ ä¹æ‰€æœ‰çš„æ–‡å­—ï¼Œä½†åœ¨æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨å¥½åƒå¾ˆå°‘çœ‹åˆ°ä»–çš„èº«å½±ï¼Œæˆ‘ä»¬ç”¨çš„æ›´å¤šçš„è¿˜æ˜¯ &lt;code&gt;UTF-8&lt;/code&gt; è¿™æ ·çš„ç¼–ç è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæœ‰å‡ æ–¹é¢çš„åŸå› ï¼Œæ¯”å¦‚è¯´é™¤å¼€è‹±æ–‡ï¼Œå…¶ä»–å¤§éƒ¨åˆ†çš„æ–‡å­—éƒ½éœ€è¦ç”¨ 2 ä¸ªç”šè‡³æ›´å¤šçš„å­—èŠ‚æ¥è¡¨ç¤ºï¼›å¦‚æœç»Ÿä¸€éƒ½ç”¨ Unicode æ¥è¡¨ç¤ºï¼Œé‚£å¿…ç„¶éœ€è¦ä»¥å ç”¨å­—èŠ‚æœ€å¤šçš„å­—ç¬¦é•¿åº¦ä¸ºæ ‡å‡†ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æ±‰å­—éœ€è¦ 2 ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼Œè€Œè‹±æ–‡åªéœ€è¦ä¸€ä¸ªå­—èŠ‚ï¼›è¿™æ—¶å°±å¾—è§„å®š 2 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œä¸ç„¶æ±‰å­—å°±æ²¡æ³•è¡¨ç¤ºäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†è¿™æ ·ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºè‹±æ–‡ä¼šä½¿å¾—ç¬¬ä¸€ä¸ªå­—èŠ‚å®Œå…¨æ˜¯æµªè´¹çš„ï¼Œå¦‚æœä¸€æ®µä¿¡æ¯å…¨æ˜¯è‹±æ–‡é‚£å¯¹å†…å­˜çš„æµªè´¹æ˜¯å·¨å¤§çš„ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;è¿™æ—¶å¤§å®¶åº”è¯¥éƒ½èƒ½æƒ³åˆ°ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯å˜çš„é•¿åº¦çš„å­—ç¬¦ç¼–ç è§„åˆ™ï¼Œå½“æ˜¯è‹±æ–‡æ—¶æˆ‘ä»¬å°±ç”¨ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œç”šè‡³å¯ä»¥å®Œå…¨å…¼å®¹ ASCII ç ã€‚&lt;/p&gt;
&lt;p&gt;UTF-8 ä¾¿æ˜¯å®ç°è¿™ä¸ªéœ€æ±‚çš„ï¼Œå®ƒåˆ©ç”¨ä¸¤ç§è§„åˆ™å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚ä»¥åŠå¤šå­—èŠ‚çš„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082117614-1640146331.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¤§è‡´è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å½“ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¬¬ä¸€ä½ä¸º 0 æ—¶ä¾¿è¡¨ç¤ºä¸ºå•å­—èŠ‚å­—ç¬¦ï¼Œæ­¤æ—¶å’Œ ASCII ç ä¸€è‡´ï¼Œå®Œå…¨å…¼å®¹ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º 1 æ—¶ï¼Œæœ‰å‡ ä¸ª 1 ä¾¿ä»£è¡¨æ˜¯å‡ ä¸ªå­—èŠ‚ Unicode å­—ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿™æ ·ä¾¿å¯æ ¹æ®å­—ç¬¦çš„é•¿åº¦æœ€å¤§ç¨‹åº¦çš„èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿˜æœ‰å…¶ä»–çš„ç¼–ç è§„åˆ™ï¼Œæ¯”å¦‚ &lt;code&gt;UTF-16&lt;/code&gt;ã€&lt;code&gt;UTF-32&lt;/code&gt;ï¼Œå¹³æ—¶ç”¨çš„ä¸å¤šï¼Œä½†æœ¬è´¨ä¸Šéƒ½å’Œ &lt;code&gt;UTF-8&lt;/code&gt; ä¸€æ ·ï¼Œéƒ½æ˜¯ &lt;code&gt;Unicode&lt;/code&gt; çš„ä¸åŒå®ç°ï¼Œä¹Ÿæ˜¯ç”¨äºè¡¨ç¤ºä¸–ç•Œä¸Šå¤§éƒ¨åˆ†æ–‡å­—çš„å­—ç¬¦é›†ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æ¥å›åˆ°æœ¬æ¬¡çš„ä¸»é¢˜ï¼Œ&lt;code&gt;emoji&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆšæ‰è¯´åˆ° &lt;code&gt;Unicode&lt;/code&gt; åŒ…å«äº†ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†çš„å­—ç¬¦ï¼Œ&lt;code&gt;emoji&lt;/code&gt; è‡ªç„¶ä¹Ÿä¸ä¾‹å¤–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082120026-659514237.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://apps.timwhitlock.info/emoji/tables/unicode&quot; class=&quot;uri&quot;&gt;https://apps.timwhitlock.info/emoji/tables/unicode&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¡¨æ ¼ä¸­åŒ…å«äº†æ‰€æœ‰çš„ &lt;code&gt;emoji&lt;/code&gt; ä»¥åŠå®ƒæ‰€å¯¹åº”çš„ &lt;code&gt;Unicode&lt;/code&gt; ç¼–ç ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¯¹åº”çš„ &lt;code&gt;UTF-8&lt;/code&gt; ç¼–ç çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­ä¹Ÿå¯ä»¥çœ‹å‡º &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…ç”¨ &lt;code&gt;UTF-8&lt;/code&gt; è¡¨ç¤ºæ—¶ä¼šå ç”¨ 4 ä¸ªå­—èŠ‚ï¼Œé‚£åœ¨ Java ä¸­å®ƒä¼šæ˜¯æ€ä¹ˆå­˜å‚¨çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œdebug ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082121203-2005964474.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Java&lt;/code&gt; ä¸­ä¹Ÿæ˜¯é€šè¿‡ &lt;code&gt;char&lt;/code&gt; æ¥å­˜å‚¨ &lt;code&gt;emoji&lt;/code&gt; çš„ï¼Œ&lt;code&gt;char&lt;/code&gt; ä½œä¸ºåŸºæœ¬æ•°æ®ç±»å‹ä¼šå ç”¨ 2 ä¸ªå­—èŠ‚ï¼›ä»åˆšæ‰çš„å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œ&lt;code&gt;emoji&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;UTF-8&lt;/code&gt; ä¼šå ç”¨å››ä¸ªå­—èŠ‚ï¼Œè¿™æ ·å¾ˆæ˜æ˜¾ &lt;code&gt;char&lt;/code&gt; æ˜¯æ²¡æ³•å­˜å‚¨çš„ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå…¶å®æ˜¯ä½¿ç”¨ &lt;code&gt;UTF-16&lt;/code&gt; ç¼–ç è¿›è¡Œå­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºè¿™ä¸ªåŸç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®ç°å°†ä¸€ä¸ª &lt;code&gt;emoji&lt;/code&gt; è¡¨æƒ…è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ŒåŒæ—¶ä¹Ÿå¯é€šè¿‡å­—ç¬¦ä¸²è½¬æ¢ä¸º &lt;code&gt;emoji&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201909/1431471-20190910082122945-1680691556.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä»è¿™æ¬¡ç ”ç©¶ &lt;code&gt;emoji&lt;/code&gt; å¯ä»¥çœ‹å‡ºï¼Œä»»ä½•ä¸€é—¨åŸºç¡€çŸ¥è¯†éƒ½æ˜¯åº”ç”¨çš„æ ¹åŸºï¼Œåœ¨è®¡ç®—æœºè¡Œä¸šå°¤ä¸ºçªå‡ºï¼Œå¸Œæœ›å¤§å®¶çœ‹å®Œè¿™ç¯‡èƒ½å›å¿†èµ·å¤§å­¦è¯¾å ‚è¢«è€å¸ˆæ”¯é…çš„ææƒ§ğŸ˜‚ã€‚&lt;/p&gt;
&lt;p&gt;éšä¾¿æä¸€ä¸‹ï¼Œç›¸å…³æºç å¯åœ¨è¿™é‡ŒæŸ¥çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/crossoverJie/cim&quot; class=&quot;uri&quot;&gt;https://github.com/crossoverJie/cim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½ çš„ç‚¹èµä¸åˆ†äº«æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒ&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Sep 2019 00:21:00 +0000</pubDate>
<dc:creator>crossoverJie</dc:creator>
<og:description>å‰è¨€ å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œæœ€è¿‘äº‹æ¯”è¾ƒå¤šï¼Œæˆ–è®¸ä¸‹ä¸ªæœˆå°±ä¼šæ¢å¤åˆ°æ­£å¸¸çš„å‘æ–‡é¢‘æ¬¡ã€‚ è¿™ç¯‡æ–‡ç« å¾—ä»ä¸€ä¸ª è¡¨æƒ…å¼€å§‹ï¼Œæˆ‘ä¹‹å‰å¼€æºçš„ä¸€ä¸ª é¡¹ç›®ä¸­æœ‰æœ‹å‹æåˆ°å¸Œæœ›å¯ä»¥æ”¯æŒ è¡¨æƒ…ä¼ è¾“ã€‚ 'https://github.com/</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/crossoverJie/p/11495319.html</dc:identifier>
</item>
<item>
<title>Spring.Netæ˜¯æ€ä¹ˆåœ¨MVCä¸­å®ç°æ³¨å…¥çš„ï¼ˆåŸç†ï¼‰ - MedlarCanFly</title>
<link>http://www.cnblogs.com/MedlarCanFly/p/11488689.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MedlarCanFly/p/11488689.html</guid>
<description>&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»Spring.Netï¼ˆä¸ä»…ä»…æ˜¯Spring.Net,å…¶å®æ‰€æœ‰çš„IoCå®¹å™¨è¦å‘æ§åˆ¶å™¨ä¸­è¿›è¡Œæ³¨å…¥ï¼ŒåŸç†éƒ½æ˜¯å·®ä¸å¤šçš„ï¼‰åœ¨MVCæ§åˆ¶å™¨ä¸­ä¾èµ–æ³¨å…¥çš„å®ç°åŸç†ï¼Œ&lt;strong&gt;æœ¬æ–‡å¹¶æ²¡æœ‰å…³äºåœ¨MVCä½¿ç”¨Springæ€ä¹ˆé…ç½®ï¼Œæ€ä¹ˆä½¿ç”¨ï¼Œæ€ä¹ˆå®ç°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼•è¨€æ”¾åœ¨å‰é¢ï¼Œåªæ˜¯ä¸ºäº†é¿å…æµªè´¹ä½ çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;æœ›ä½ èƒ½&lt;strong&gt;é™å¿ƒç‰‡åˆ»&lt;/strong&gt;ï¼Œè®¤çœŸé˜…è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é˜²æ­¢çˆ¬è™«ï¼ŒåŠ ä¸ªé“¾æ¥ï¼š&lt;a title=&quot;https://www.cnblogs.com/MedlarCanFly/p/11488689.html&quot; href=&quot;https://www.cnblogs.com/MedlarCanFly/p/11488689.html&quot;&gt;https://www.cnblogs.com/MedlarCanFly/p/11488689.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('abf860a5-876b-4cce-a5f8-1a6101abfa2a')&quot; readability=&quot;32&quot;&gt;&lt;img id=&quot;code_img_closed_abf860a5-876b-4cce-a5f8-1a6101abfa2a&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_abf860a5-876b-4cce-a5f8-1a6101abfa2a&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('abf860a5-876b-4cce-a5f8-1a6101abfa2a',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_abf860a5-876b-4cce-a5f8-1a6101abfa2a&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;59&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; HomeController : Controller
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿™æ˜¯ä¸€ä¸ªå¾ˆç¥å¥‡çš„æ³¨å…¥&lt;/span&gt;
&lt;span&gt;4&lt;/span&gt;         &lt;span&gt;private&lt;/span&gt; IBLL.IUserInfoService UserInfoService { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;&lt;span&gt; ActionResult Index()
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; Content(UserInfoService.GetName());
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

&lt;p&gt;æ¯æ¬¡çœ‹ä»£ç éƒ½æœ‰ä¸ä¸€æ ·çš„ç†è§£ï¼Œä»Šå¤©æˆ‘åœ¨çœ‹MVCæ§åˆ¶å™¨ä¸­ä¸€ä¸ªé€šè¿‡Spring.Netä¾èµ–æ³¨å…¥çš„UserInfoServiceå±æ€§æ—¶ï¼Œçªç„¶æœ‰äº›ç–‘é—®ï¼Œ&lt;strong&gt;æ³¨å…¥çš„å‰ææ˜¯æ§åˆ¶åè½¬&lt;/strong&gt;ï¼Œè¿™ä¹ˆè¯´æˆ‘çš„&lt;strong&gt;Controlleræ˜¯ä»IoCå®¹å™¨ä¸­æ¥çš„äº†ï¼Ÿ&lt;/strong&gt;ä½†æ˜¯æˆ‘ä¸è®°å¾—åœ¨å“ªä¸ªåœ°æ–¹æœ‰é…ç½®é¢ï¼Œå¯¹æ­¤æˆ‘å±•å¼€äº†æ·±å…¥çš„ç ”ç©¶ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è¦ææ‡‚MVCæœ¬èº«æ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼è·å–æ§åˆ¶å™¨å¯¹è±¡çš„ï¼Œ&lt;strong&gt;æœ¬è´¨å¦‚æœéƒ½æ²¡æœ‰ææ‡‚ï¼Œåˆä½•æ¥æ‰©å±•å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨MVCæ¨¡å¼ä¸‹ï¼Œé€šè¿‡å®ç°IControllerFactoryæ¥å£çš„å¯¹è±¡æ¥è·å–å½“å‰è¯·æ±‚çš„æ§åˆ¶å™¨å¯¹è±¡ï¼Œå®ç°IControllerFactoryæ¥å£çš„å¯¹è±¡ä¹Ÿå°±æ˜¯æ§åˆ¶å™¨çš„åˆ›å»ºå·¥å‚ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•çœ‹ä¸‹IControllerFactory&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('1681a876-94b7-4029-a73e-b42bb3be24b8')&quot; readability=&quot;33.5&quot;&gt;&lt;img id=&quot;code_img_closed_1681a876-94b7-4029-a73e-b42bb3be24b8&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_1681a876-94b7-4029-a73e-b42bb3be24b8&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('1681a876-94b7-4029-a73e-b42bb3be24b8',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_1681a876-94b7-4029-a73e-b42bb3be24b8&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;62&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     å®šä¹‰æ§åˆ¶å™¨å·¥å‚æ‰€éœ€çš„æ–¹æ³•ã€‚&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; IControllerFactory
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     ä½¿ç”¨æŒ‡å®šçš„è¯·æ±‚ä¸Šä¸‹æ–‡æ¥åˆ›å»ºæŒ‡å®šçš„æ§åˆ¶å™¨ã€‚
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¯·æ±‚ä¸Šä¸‹æ–‡ã€‚
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerName:
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„åç§°ã€‚
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨ã€‚&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;         IController CreateController(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName);
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;21&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è·å–æ§åˆ¶å™¨çš„ä¼šè¯è¡Œä¸ºã€‚
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;24&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¯·æ±‚ä¸Šä¸‹æ–‡ã€‚
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;28&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerName:
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     ä½ æƒ³è¦è·å–å™¨å…¶ä¼šè¯è¡Œä¸ºçš„æ§åˆ¶å™¨çš„åç§°ã€‚
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;31&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„ä¼šè¯è¡Œä¸ºã€‚&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt;         SessionStateBehavior GetControllerSessionBehavior(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName);
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;35&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     é‡Šæ”¾æŒ‡å®šçš„æ§åˆ¶å™¨ã€‚
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;38&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controller:
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨ã€‚&lt;/span&gt;
&lt;span&gt;41&lt;/span&gt;         &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ReleaseController(IController controller);
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

&lt;p&gt;ä¸€ä¸ªHttpè¯·æ±‚è¿‡æ¥ï¼Œé€‰æ‹©å“ªä¸ªæ§åˆ¶å™¨æ˜¯é€šè¿‡MvcHandleræ¥å¤„ç†çš„&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ§åˆ¶å™¨å·¥å‚æ˜¯é€šè¿‡ControllerBuilderçš„Currentå±æ€§æä¾›ç»™MvcHandlerä½¿ç”¨çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„ä»£ç æ˜¯åç¼–è¯‘è¿‡æ¥çš„ï¼Œç®€å•çœ‹ä¸‹å³å¯(å› ä¸ºæˆ‘è¦æ ‡è®°é»„è‰²é«˜äº®éƒ¨åˆ†ï¼Œæ‰€ä»¥æ²¡æœ‰æŠ˜å )&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt;&lt;span&gt; ControllerBuilder ControllerBuilder
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;get&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;this&lt;/span&gt;._controllerBuilder == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;             &lt;span&gt;&lt;span&gt;this&lt;/span&gt;._controllerBuilder =&lt;span&gt; ControllerBuilder.Current;
&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;&lt;span&gt;._controllerBuilder;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;set&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;._controllerBuilder =&lt;span&gt; value;
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;52&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MvcHandler : IHttpAsyncHandler, IHttpHandler, IRequiresSessionState
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Fields&lt;/span&gt;
&lt;span&gt;&lt;span&gt; 4&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt;&lt;span&gt; ControllerBuilder _controllerBuilder;
&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt; _processRequestTag;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; MvcVersion;
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; MvcVersionHeaderName;
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; 
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Methods&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;     &lt;span&gt;static&lt;/span&gt;&lt;span&gt; MvcHandler();
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; MvcHandler(RequestContext requestContext);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; AddVersionHeader(HttpContextBase httpContext);
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; IAsyncResult BeginProcessRequest(HttpContext httpContext, AsyncCallback callback, &lt;span&gt;object&lt;/span&gt;&lt;span&gt; state);
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; IAsyncResult BeginProcessRequest(HttpContextBase httpContext, AsyncCallback callback, &lt;span&gt;object&lt;/span&gt;&lt;span&gt; state);
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; EndProcessRequest(IAsyncResult asyncResult);
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; GetMvcVersionString();
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ProcessRequest(HttpContext httpContext);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ProcessRequest(HttpContextBase httpContext);
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; ProcessRequestInit(HttpContextBase httpContext, &lt;span&gt;out&lt;/span&gt; IController controller, &lt;span&gt;out&lt;/span&gt;&lt;span&gt; IControllerFactory factory);
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; RemoveOptionalRoutingParameters();
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     IAsyncResult IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, &lt;span&gt;object&lt;/span&gt;&lt;span&gt; extraData);
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; IHttpAsyncHandler.EndProcessRequest(IAsyncResult result);
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; IHttpHandler.ProcessRequest(HttpContext httpContext);
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; 
&lt;span&gt;25&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Properties&lt;/span&gt;
&lt;span&gt;&lt;span&gt;26&lt;/span&gt;     &lt;span&gt;internal&lt;/span&gt; ControllerBuilder ControllerBuilder { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; DisableMvcResponseHeader { &lt;span&gt;get&lt;/span&gt;; [CompilerGenerated] &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; IsReusable { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; RequestContext RequestContext { &lt;span&gt;get&lt;/span&gt;; [CompilerGenerated] &lt;span&gt;private&lt;/span&gt; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;     &lt;span&gt;bool&lt;/span&gt; IHttpHandler.IsReusable { &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; 
&lt;span&gt;32&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Nested Types&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt; &lt;span&gt;    [Serializable, CompilerGenerated]
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;sealed&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &amp;lt;&amp;gt;&lt;span&gt;c
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Fields&lt;/span&gt;
&lt;span&gt;37&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; MvcHandler.&amp;lt;&amp;gt;c &amp;lt;&amp;gt;&lt;span&gt;9&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; BeginInvokeDelegate&amp;lt;MvcHandler.ProcessRequestState&amp;gt; &amp;lt;&amp;gt;&lt;span&gt;9__20_0;
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; EndInvokeVoidDelegate&amp;lt;MvcHandler.ProcessRequestState&amp;gt; &amp;lt;&amp;gt;&lt;span&gt;9__20_1;
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; Func&amp;lt;KeyValuePair&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;object&lt;/span&gt;&amp;gt;, &lt;span&gt;bool&lt;/span&gt;&amp;gt; &amp;lt;&amp;gt;&lt;span&gt;9__26_0;
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; 
&lt;span&gt;42&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Methods&lt;/span&gt;
&lt;span&gt;43&lt;/span&gt;         &lt;span&gt;static&lt;/span&gt; &amp;lt;&amp;gt;&lt;span&gt;c();
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &amp;lt;&amp;gt;&lt;span&gt;c();
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt; IAsyncResult &amp;lt;BeginProcessRequest&amp;gt;b__20_0(AsyncCallback asyncCallback, &lt;span&gt;object&lt;/span&gt;&lt;span&gt; asyncState, MvcHandler.ProcessRequestState innerState);
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &amp;lt;BeginProcessRequest&amp;gt;&lt;span&gt;b__20_1(IAsyncResult asyncResult, MvcHandler.ProcessRequestState innerState);
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; &amp;lt;RemoveOptionalRoutingParameters&amp;gt;b__26_0(KeyValuePair&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;object&lt;/span&gt;&amp;gt;&lt;span&gt; entry);
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt; 
&lt;span&gt;50&lt;/span&gt; &lt;span&gt;    [StructLayout(LayoutKind.Sequential)]
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt;&lt;span&gt; ProcessRequestState
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt;&lt;span&gt; IAsyncController AsyncController;
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt;&lt;span&gt; IControllerFactory Factory;
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt;&lt;span&gt; RequestContext RequestContext;
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt;         &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ReleaseController();
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; &lt;span&gt;}&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ControllerBuilderå†…éƒ¨ä¼šåˆ›å»ºä¸€ä¸ªDefaultControllerFactoryç±»å‹çš„å¯¹è±¡ï¼Œä»¥æä¾›å¤„ç†è¯·æ±‚ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DefaultControllerFactoryæ˜¯å®ç°IControllerFactoryæ¥å£çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('0500e219-3322-462d-8912-3612ed434c53')&quot; readability=&quot;34.5&quot;&gt;&lt;img id=&quot;code_img_closed_0500e219-3322-462d-8912-3612ed434c53&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_0500e219-3322-462d-8912-3612ed434c53&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('0500e219-3322-462d-8912-3612ed434c53',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_0500e219-3322-462d-8912-3612ed434c53&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;64&quot;&gt;
&lt;pre&gt;
&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;  2&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt;  3&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¡¨ç¤ºé»˜è®¤æƒ…å†µä¸‹å·²æ³¨å†Œçš„æ§åˆ¶å™¨å·¥å‚ã€‚&lt;/span&gt;
&lt;span&gt;  4&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; DefaultControllerFactory : IControllerFactory
&lt;/span&gt;&lt;span&gt;  5&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;  6&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt;  7&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt;  8&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     åˆå§‹åŒ– System.Web.Mvc.DefaultControllerFactory ç±»çš„æ–°å®ä¾‹ã€‚&lt;/span&gt;
&lt;span&gt;  9&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;&lt;span&gt; DefaultControllerFactory();
&lt;/span&gt;&lt;span&gt; 10&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 11&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 12&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     ä½¿ç”¨æ§åˆ¶å™¨æ¿€æ´»å™¨æ¥åˆå§‹åŒ– System.Web.Mvc.DefaultControllerFactory ç±»çš„æ–°å®ä¾‹ã€‚
&lt;/span&gt;&lt;span&gt; 13&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 14&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 15&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerActivator:
&lt;/span&gt;&lt;span&gt; 16&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     å®ç°æ§åˆ¶å™¨æ¿€æ´»å™¨æ¥å£çš„å¯¹è±¡ã€‚&lt;/span&gt;
&lt;span&gt; 17&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;&lt;span&gt; DefaultControllerFactory(IControllerActivator controllerActivator);
&lt;/span&gt;&lt;span&gt; 18&lt;/span&gt; 
&lt;span&gt; 19&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 20&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 21&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     ä½¿ç”¨æŒ‡å®šçš„è¯·æ±‚ä¸Šä¸‹æ–‡æ¥åˆ›å»ºæŒ‡å®šçš„æ§åˆ¶å™¨ã€‚
&lt;/span&gt;&lt;span&gt; 22&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 23&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 24&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt; 25&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     HTTP è¯·æ±‚çš„ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬ HTTP ä¸Šä¸‹æ–‡å’Œè·¯ç”±æ•°æ®ã€‚
&lt;/span&gt;&lt;span&gt; 26&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 27&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerName:
&lt;/span&gt;&lt;span&gt; 28&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„åç§°ã€‚
&lt;/span&gt;&lt;span&gt; 29&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 30&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt; 31&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨ã€‚
&lt;/span&gt;&lt;span&gt; 32&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 33&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å¼‚å¸¸:
&lt;/span&gt;&lt;span&gt; 34&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   T:System.ArgumentNullException:
&lt;/span&gt;&lt;span&gt; 35&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     requestContext å‚æ•°ä¸º nullã€‚
&lt;/span&gt;&lt;span&gt; 36&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 37&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   T:System.ArgumentException:
&lt;/span&gt;&lt;span&gt; 38&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     controllerName å‚æ•°ä¸º null æˆ–ä¸ºç©ºã€‚&lt;/span&gt;
&lt;span&gt; 39&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; IController CreateController(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName);
&lt;/span&gt;&lt;span&gt; 40&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 41&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 42&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     é‡Šæ”¾æŒ‡å®šçš„æ§åˆ¶å™¨ã€‚
&lt;/span&gt;&lt;span&gt; 43&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 44&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 45&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controller:
&lt;/span&gt;&lt;span&gt; 46&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¦é‡Šæ”¾çš„æ§åˆ¶å™¨ã€‚&lt;/span&gt;
&lt;span&gt; 47&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ReleaseController(IController controller);
&lt;/span&gt;&lt;span&gt; 48&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 49&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 50&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ£€ç´¢æŒ‡å®šè¯·æ±‚ä¸Šä¸‹æ–‡å’Œæ§åˆ¶å™¨ç±»å‹çš„æ§åˆ¶å™¨å®ä¾‹ã€‚
&lt;/span&gt;&lt;span&gt; 51&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 52&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 53&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt; 54&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     HTTP è¯·æ±‚çš„ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬ HTTP ä¸Šä¸‹æ–‡å’Œè·¯ç”±æ•°æ®ã€‚
&lt;/span&gt;&lt;span&gt; 55&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 56&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerType:
&lt;/span&gt;&lt;span&gt; 57&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„ç±»å‹ã€‚
&lt;/span&gt;&lt;span&gt; 58&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 59&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt; 60&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨å®ä¾‹ã€‚
&lt;/span&gt;&lt;span&gt; 61&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 62&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å¼‚å¸¸:
&lt;/span&gt;&lt;span&gt; 63&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   T:System.Web.HttpException:
&lt;/span&gt;&lt;span&gt; 64&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     controllerType ä¸º nullã€‚
&lt;/span&gt;&lt;span&gt; 65&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 66&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   T:System.ArgumentException:
&lt;/span&gt;&lt;span&gt; 67&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ— æ³•åˆ†é… controllerTypeã€‚
&lt;/span&gt;&lt;span&gt; 68&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 69&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   T:System.InvalidOperationException:
&lt;/span&gt;&lt;span&gt; 70&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ— æ³•åˆ›å»º controllerType çš„å®ä¾‹ã€‚&lt;/span&gt;
&lt;span&gt; 71&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; IController GetControllerInstance(RequestContext requestContext, Type controllerType);
&lt;/span&gt;&lt;span&gt; 72&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 73&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 74&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¿”å›æ§åˆ¶å™¨çš„ä¼šè¯è¡Œä¸ºã€‚
&lt;/span&gt;&lt;span&gt; 75&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 76&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 77&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt; 78&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     è¯·æ±‚ä¸Šä¸‹æ–‡ã€‚
&lt;/span&gt;&lt;span&gt; 79&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 80&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerType:
&lt;/span&gt;&lt;span&gt; 81&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„ç±»å‹ã€‚
&lt;/span&gt;&lt;span&gt; 82&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 83&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt; 84&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„ä¼šè¯è¡Œä¸ºã€‚&lt;/span&gt;
&lt;span&gt; 85&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; SessionStateBehavior GetControllerSessionBehavior(RequestContext requestContext, Type controllerType);
&lt;/span&gt;&lt;span&gt; 86&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 87&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‘˜è¦:
&lt;/span&gt;&lt;span&gt; 88&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ£€ç´¢æŒ‡å®šåç§°å’Œè¯·æ±‚ä¸Šä¸‹æ–‡çš„æ§åˆ¶å™¨ç±»å‹ã€‚
&lt;/span&gt;&lt;span&gt; 89&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 90&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‚æ•°:
&lt;/span&gt;&lt;span&gt; 91&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   requestContext:
&lt;/span&gt;&lt;span&gt; 92&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     HTTP è¯·æ±‚çš„ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬ HTTP ä¸Šä¸‹æ–‡å’Œè·¯ç”±æ•°æ®ã€‚
&lt;/span&gt;&lt;span&gt; 93&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 94&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   controllerName:
&lt;/span&gt;&lt;span&gt; 95&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨çš„åç§°ã€‚
&lt;/span&gt;&lt;span&gt; 96&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;
&lt;span&gt; 97&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿”å›ç»“æœ:
&lt;/span&gt;&lt;span&gt; 98&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;     æ§åˆ¶å™¨ç±»å‹ã€‚&lt;/span&gt;
&lt;span&gt; 99&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; Type GetControllerType(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName);
&lt;/span&gt;&lt;span&gt;100&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;Controllerç±»éœ€è¦æä¾›é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œå› ä¸ºDefaultControllerFactoryæ˜¯é€šè¿‡åå°„æ¥åˆ›å»ºControllerå¯¹è±¡å®ä¾‹çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœæˆ‘ä»¬å®šä¹‰çš„Controlleréœ€è¦é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºï¼Œæˆ–è€…é€šè¿‡æŸä¸ªIoCå®¹å™¨ç®¡ç†Controllerï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ§åˆ¶å™¨å·¥å‚æ¥å®ç°ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¯´è¿™ä¹ˆå¤šå…³äºæ§åˆ¶å™¨å·¥å‚çš„ä¸œè¥¿å‘¢ï¼Œå…¶å®&lt;strong&gt;Spring.Netå°±æ˜¯é€šè¿‡ç»§æ‰¿DefaultControllerFactoryåˆ›å»º&lt;span class=&quot;pl-en&quot;&gt;SpringControllerFactoryçš„ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯´äº†è¿™ä¹ˆå¤šå°±æ˜¯ä¸ºäº†åé¢å¯ä»¥æ›´å®¹æ˜“çš„ç†è§£Spring.Netçš„æ§åˆ¶å™¨å·¥å‚æºç ç½¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;å›å½’æ­£é¢˜ï¼Œæ¥ç€åˆ›å»ºè‡ªå·±çš„æ§åˆ¶å™¨å·¥å‚ã€‚&lt;/p&gt;
&lt;h2&gt;1.Homeæ§åˆ¶å™¨å†…å®¹å¦‚ä¸‹&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; HomeController : Controller
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         &lt;span&gt;private&lt;/span&gt; IUserInfoService UserInfoService { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;&lt;span&gt; HomeController(IUserInfoService userInfoService)
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;             UserInfoService =&lt;span&gt; userInfoService;
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;&lt;span&gt; ActionResult Index()
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; Content(UserInfoService.GetName());
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„UserInfoServiceåªæ˜¯ä¸€ä¸ªå¾ˆç®€é™‹çš„æµ‹è¯•ç±»ï¼Œåªæœ‰ä¸€ä¸ªGetName()æ–¹æ³•ç”¨æ¥è¿”å›â€œå°æ˜â€ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°†&lt;strong&gt;é€šè¿‡è‡ªå®šä¹‰æ§åˆ¶å™¨å·¥å‚å®ç°æ„é€ æ³¨å…¥UserInfoService&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;2.åˆ›å»ºæ§åˆ¶å™¨å·¥å‚MyControllerFactory&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºäº†æ–¹ä¾¿æˆ‘ç›´æ¥ç»§æ‰¿äº†DefaultControllerFactoryï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å®ç°IControllerFactoryæ¥åˆ›å»º&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MyControllerFactory : DefaultControllerFactory
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; IBLL.IUserInfoService userInfoService = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; BLL.UserInfoService();
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é‡å†™CreateController&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; IController CreateController(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;             IController controller = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (controllerName == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Home&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¦‚æœæ˜¯æˆ‘ä»¬åˆ¶å®šçš„Homeæ§åˆ¶å™¨åˆ™ç»™å…¶å®ä¾‹åŒ–ï¼Œå¹¶é€šè¿‡æ„é€ å‚æ•°æ³¨å…¥userInfoService&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;                 controller = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HomeController(userInfoService);
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;else&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é€šè¿‡é»˜è®¤æ§åˆ¶å™¨å·¥å‚åˆ›å»ºæ§åˆ¶å™¨&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;                 controller = &lt;span&gt;base&lt;/span&gt;&lt;span&gt;.CreateController(requestContext, controllerName);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; controller;
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;3.åœ¨Global.asaxä¸­æ³¨å†Œ&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Application_Start()
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;             MyControllerFactory myControllerFactory = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; MyControllerFactory();
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é€šè¿‡ControllerBuilderè®¾ç½®åˆ¶å®šçš„æ§åˆ¶å™¨å·¥å‚&lt;/span&gt;
&lt;span&gt;5&lt;/span&gt; &lt;span&gt;            ControllerBuilder.Current.SetControllerFactory(myControllerFactory);
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; &lt;span&gt;            AreaRegistration.RegisterAllAreas();
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt; &lt;span&gt;            RouteConfig.RegisterRoutes(RouteTable.Routes);
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt;         }
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;4.è¿è¡Œæµ‹è¯•ï¼ˆç¥å¥‡ä¸å†ç¥å¥‡ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1603175/201909/1603175-20190909230311746-1819068782.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ„æ–™ä¹‹å¤–ï¼Œæƒ…ç†ä¹‹ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨æ§åˆ¶å™¨ä¸­å®ä¾‹åŒ–ï¼Œç»“æœå´å‡ºæ¥äº†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆå®ä¾‹åŒ–åœ¨å·¥å‚ä¸­å®Œæˆäº†ï¼‰&lt;/p&gt;


&lt;p&gt;è¯´äº†è¿™ä¹ˆå¤šï¼Œå›å¤´çœ‹çœ‹æ ‡é¢˜â€œSpring.Netæ˜¯æ€ä¹ˆåœ¨MVCä¸­å®ç°æ³¨å…¥çš„â€ï¼Œä½ å€’æ˜¯è¯´å•Šï¼Œç­‰çš„èŠ±éƒ½è°¢äº†ï¼Œè¿Spring.Netçš„æ¯›éƒ½æ²¡çœ‹åˆ°.....&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼Œ&lt;strong&gt;å¦‚æœä½ æ˜¯è®¤çœŸè¯»è¿‡æ¥çš„ï¼Œç­”æ¡ˆåœ¨ä½ å¿ƒä¸­åº”è¯¥å·²ç»æœ‰äº†ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æŠ˜å ï¼Œå°±æ˜¯ç­”æ¡ˆ&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('e74582dc-256c-488b-aec5-7e43d9f6b38d')&quot; readability=&quot;35.5&quot;&gt;&lt;img id=&quot;code_img_closed_e74582dc-256c-488b-aec5-7e43d9f6b38d&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_e74582dc-256c-488b-aec5-7e43d9f6b38d&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('e74582dc-256c-488b-aec5-7e43d9f6b38d',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_e74582dc-256c-488b-aec5-7e43d9f6b38d&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;66&quot;&gt;
&lt;pre&gt;
&lt;span&gt;  1&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; Spring.Web.Mvc
&lt;/span&gt;&lt;span&gt;  2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt;  3&lt;/span&gt;     &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt;  4&lt;/span&gt;     &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Controller Factory for ASP.NET MVC
&lt;/span&gt;&lt;span&gt;  5&lt;/span&gt;     &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt;  6&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; SpringControllerFactory : DefaultControllerFactory
&lt;/span&gt;&lt;span&gt;  7&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;  8&lt;/span&gt;         &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; IApplicationContext _context;
&lt;/span&gt;&lt;span&gt;  9&lt;/span&gt; 
&lt;span&gt; 10&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 11&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Gets the application context.
&lt;/span&gt;&lt;span&gt; 12&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 13&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;value&amp;gt;&lt;/span&gt;&lt;span&gt;The application context.&lt;/span&gt;&lt;span&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
&lt;span&gt; 14&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; IApplicationContext ApplicationContext
&lt;/span&gt;&lt;span&gt; 15&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 16&lt;/span&gt;             &lt;span&gt;get&lt;/span&gt;
&lt;span&gt; 17&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt; 18&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; (_context == &lt;span&gt;null&lt;/span&gt; || _context.Name !=&lt;span&gt; ApplicationContextName)
&lt;/span&gt;&lt;span&gt; 19&lt;/span&gt; &lt;span&gt;                {
&lt;/span&gt;&lt;span&gt; 20&lt;/span&gt;                     &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;string&lt;/span&gt;&lt;span&gt;.IsNullOrEmpty(ApplicationContextName))
&lt;/span&gt;&lt;span&gt; 21&lt;/span&gt; &lt;span&gt;                    {
&lt;/span&gt;&lt;span&gt; 22&lt;/span&gt;                         _context =&lt;span&gt; ContextRegistry.GetContext();
&lt;/span&gt;&lt;span&gt; 23&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt; 24&lt;/span&gt;                     &lt;span&gt;else&lt;/span&gt;
&lt;span&gt; 25&lt;/span&gt; &lt;span&gt;                    {
&lt;/span&gt;&lt;span&gt; 26&lt;/span&gt;                         _context =&lt;span&gt; ContextRegistry.GetContext(ApplicationContextName);
&lt;/span&gt;&lt;span&gt; 27&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt; 28&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt; 29&lt;/span&gt; 
&lt;span&gt; 30&lt;/span&gt;                 &lt;span&gt;return&lt;/span&gt;&lt;span&gt; _context;
&lt;/span&gt;&lt;span&gt; 31&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 32&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt; 33&lt;/span&gt; 
&lt;span&gt; 34&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 35&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Gets or sets the name of the application context.
&lt;/span&gt;&lt;span&gt; 36&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 37&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;remarks&amp;gt;&lt;/span&gt;
&lt;span&gt; 38&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Defaults to using the root (default) Application Context.
&lt;/span&gt;&lt;span&gt; 39&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/remarks&amp;gt;&lt;/span&gt;
&lt;span&gt; 40&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;value&amp;gt;&lt;/span&gt;&lt;span&gt;The name of the application context.&lt;/span&gt;&lt;span&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
&lt;span&gt; 41&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; ApplicationContextName { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt; 42&lt;/span&gt; 
&lt;span&gt; 43&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 44&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Creates the specified controller by using the specified request context.
&lt;/span&gt;&lt;span&gt; 45&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 46&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;requestContext&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The context of the HTTP request, which includes the HTTP context and route data.&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt; 47&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;controllerName&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The name of the controller.&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt; 48&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&lt;/span&gt;&lt;span&gt;A reference to the controller.&lt;/span&gt;&lt;span&gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt; 49&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;exception cref=&quot;T:System.ArgumentNullException&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The &lt;/span&gt;&lt;span&gt;&amp;lt;paramref name=&quot;requestContext&quot;/&amp;gt;&lt;/span&gt;&lt;span&gt; parameter is null.&lt;/span&gt;&lt;span&gt;&amp;lt;/exception&amp;gt;&lt;/span&gt;
&lt;span&gt; 50&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;exception cref=&quot;T:System.ArgumentException&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The &lt;/span&gt;&lt;span&gt;&amp;lt;paramref name=&quot;controllerName&quot;/&amp;gt;&lt;/span&gt;&lt;span&gt; parameter is null or empty.&lt;/span&gt;&lt;span&gt;&amp;lt;/exception&amp;gt;&lt;/span&gt;
&lt;span&gt; 51&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; IController CreateController(RequestContext requestContext, &lt;span&gt;string&lt;/span&gt;&lt;span&gt; controllerName)
&lt;/span&gt;&lt;span&gt; 52&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 53&lt;/span&gt; &lt;span&gt;            IController controller;
&lt;/span&gt;&lt;span&gt; 54&lt;/span&gt; 
&lt;span&gt; 55&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (ApplicationContext.ContainsObjectDefinition(controllerName))
&lt;/span&gt;&lt;span&gt; 56&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt; 57&lt;/span&gt;                 controller = ApplicationContext.GetObject(controllerName) &lt;span&gt;as&lt;/span&gt;&lt;span&gt; IController;
&lt;/span&gt;&lt;span&gt; 58&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 59&lt;/span&gt;             &lt;span&gt;else&lt;/span&gt;
&lt;span&gt; 60&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt; 61&lt;/span&gt;                 controller = &lt;span&gt;base&lt;/span&gt;&lt;span&gt;.CreateController(requestContext, controllerName);
&lt;/span&gt;&lt;span&gt; 62&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 63&lt;/span&gt; 
&lt;span&gt; 64&lt;/span&gt; &lt;span&gt;            AddActionInvokerTo(controller);
&lt;/span&gt;&lt;span&gt; 65&lt;/span&gt; 
&lt;span&gt; 66&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; controller;
&lt;/span&gt;&lt;span&gt; 67&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt; 68&lt;/span&gt; 
&lt;span&gt; 69&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 70&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Retrieves the controller instance for the specified request context and controller type.
&lt;/span&gt;&lt;span&gt; 71&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt; 72&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;requestContext&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The context of the HTTP request, which includes the HTTP context and route data.&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt; 73&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;controllerType&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The type of the controller.&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt; 74&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&lt;/span&gt;&lt;span&gt;The controller instance.&lt;/span&gt;&lt;span&gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt; 75&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;exception cref=&quot;T:System.Web.HttpException&quot;&amp;gt;&lt;/span&gt;
&lt;span&gt; 76&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;     &lt;span&gt;&amp;lt;paramref name=&quot;controllerType&quot;/&amp;gt;&lt;/span&gt;&lt;span&gt; is null.&lt;/span&gt;&lt;span&gt;&amp;lt;/exception&amp;gt;&lt;/span&gt;
&lt;span&gt; 77&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;exception cref=&quot;T:System.ArgumentException&quot;&amp;gt;&lt;/span&gt;
&lt;span&gt; 78&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;     &lt;span&gt;&amp;lt;paramref name=&quot;controllerType&quot;/&amp;gt;&lt;/span&gt;&lt;span&gt; cannot be assigned.&lt;/span&gt;&lt;span&gt;&amp;lt;/exception&amp;gt;&lt;/span&gt;
&lt;span&gt; 79&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;exception cref=&quot;T:System.InvalidOperationException&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;An instance of &lt;/span&gt;&lt;span&gt;&amp;lt;paramref name=&quot;controllerType&quot;/&amp;gt;&lt;/span&gt;&lt;span&gt; cannot be created.&lt;/span&gt;&lt;span&gt;&amp;lt;/exception&amp;gt;&lt;/span&gt;
&lt;span&gt; 80&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; IController GetControllerInstance(RequestContext requestContext, Type controllerType)
&lt;/span&gt;&lt;span&gt; 81&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt; 82&lt;/span&gt;             IController controller = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 83&lt;/span&gt; 
&lt;span&gt; 84&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (controllerType != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 85&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt; 86&lt;/span&gt;                 &lt;span&gt;var&lt;/span&gt; controllers =&lt;span&gt; ApplicationContext.GetObjectsOfType(controllerType);
&lt;/span&gt;&lt;span&gt; 87&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; (controllers.Count &amp;gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 88&lt;/span&gt; &lt;span&gt;                {
&lt;/span&gt;&lt;span&gt; 89&lt;/span&gt;                     controller =&lt;span&gt; (IController)controllers.First().Value;
&lt;/span&gt;&lt;span&gt; 90&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt; 91&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 92&lt;/span&gt; 
&lt;span&gt; 93&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (controller == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 94&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt; 95&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;pass to base class for remainder of handling if can't find it in the context&lt;/span&gt;
&lt;span&gt; 96&lt;/span&gt;                 controller = &lt;span&gt;base&lt;/span&gt;&lt;span&gt;.GetControllerInstance(requestContext, controllerType);
&lt;/span&gt;&lt;span&gt; 97&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 98&lt;/span&gt;             
&lt;span&gt; 99&lt;/span&gt; &lt;span&gt;            AddActionInvokerTo(controller);
&lt;/span&gt;&lt;span&gt;100&lt;/span&gt; 
&lt;span&gt;101&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt;&lt;span&gt; controller;
&lt;/span&gt;&lt;span&gt;102&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;103&lt;/span&gt; 
&lt;span&gt;104&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt;105&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt;&lt;span&gt; Adds the action invoker to the controller instance.
&lt;/span&gt;&lt;span&gt;106&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt;107&lt;/span&gt;         &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;controller&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;The controller.&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt;108&lt;/span&gt;         &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; AddActionInvokerTo(IController controller)
&lt;/span&gt;&lt;span&gt;109&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;110&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (controller == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;111&lt;/span&gt;                 &lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;112&lt;/span&gt; 
&lt;span&gt;113&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(Controller).IsAssignableFrom(controller.GetType()))
&lt;/span&gt;&lt;span&gt;114&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt;115&lt;/span&gt;                 ((Controller)controller).ActionInvoker = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; SpringActionInvoker(ApplicationContext);
&lt;/span&gt;&lt;span&gt;116&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;117&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;118&lt;/span&gt; 
&lt;span&gt;119&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;120&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

&lt;p&gt;å…³äºä»£ç æˆ‘æƒ³å°±ä¸ç”¨è¿‡å¤šè§£é‡Šäº†ï¼Œæœ‰äº†ä¸Šé¢çš„çŸ¥è¯†åŸºç¡€ï¼Œè¿™å°±æ˜¯ä¸€çœ‹å°±æ‡‚çš„é‚£ç§ã€‚&lt;/p&gt;
&lt;p&gt;ç®—äº†ï¼Œæˆ‘è¿˜æ˜¯è¯´ä¸€ä¸‹CreateControlleræ–¹æ³•å§ï¼Œé˜²æ­¢æœ‰ä¸ç†Ÿæ‚‰Spring.Netçš„å°ä¼™ä¼´ã€‚&lt;/p&gt;

&lt;p&gt;ApplicationContextï¼šè¿™å°±æ˜¯ç›¸å½“äºIoCå®¹å™¨çš„ä¸œè¥¿&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;pl-k&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;ApplicationContext.&lt;span class=&quot;pl-en&quot;&gt;ContainsObjectDefinition(&lt;span class=&quot;pl-smi&quot;&gt;controllerName)ï¼šè¿”å›å®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨åç§°ä¸ºcontrollerNameçš„å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;ä»”ç»†å“å‘³æ¯ä¸€è¡Œä»£ç ï¼Œä¼šå‘ç°ä»»ä½•ä¸œè¥¿éƒ½æ²¡æœ‰è¡¨é¢ä¸Šé‚£ä¹ˆç®€å•ï¼Œ&lt;strong&gt;æ¯ä¸€ä¸ªå®ç°çš„èƒŒåéƒ½å€¼å¾—æ·±å…¥ç ”ç©¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç äº†è¿™ä¹ˆé•¿æ—¶é—´ï¼Œ&lt;strong&gt;å¸Œæœ›èƒ½å¯¹æ­£åœ¨é˜…è¯»çš„ä½ æœ‰æ‰€å¸®åŠ©ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‚è€ƒä¹¦ç±ï¼šã€ŠASP.NETæœ¬è´¨è®ºã€‹&lt;/p&gt;

&lt;p&gt;å¦‚æœ‰è¯´çš„ä¸æ¸…æ¥šæˆ–è€…é”™è¯¯çš„åœ°æ–¹ï¼Œè¿˜æœ›æŒ‡æ­£&lt;/p&gt;

</description>
<pubDate>Tue, 10 Sep 2019 00:18:00 +0000</pubDate>
<dc:creator>MedlarCanFly</dc:creator>
<og:description>æœ¬æ–‡å°†ä»‹ç»Spring.Netï¼ˆä¸ä»…ä»…æ˜¯Spring.Net,å…¶å®æ‰€æœ‰çš„IoCå®¹å™¨è¦å‘æ§åˆ¶å™¨ä¸­è¿›è¡Œæ³¨å…¥ï¼ŒåŸç†éƒ½æ˜¯å·®ä¸å¤šçš„ï¼‰åœ¨MVCæ§åˆ¶å™¨ä¸­ä¾èµ–æ³¨å…¥çš„å®ç°åŸç†ï¼Œæœ¬æ–‡å¹¶æ²¡æœ‰å…³äºåœ¨MVCä½¿ç”¨Springæ€ä¹ˆ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/MedlarCanFly/p/11488689.html</dc:identifier>
</item>
</channel>
</rss>