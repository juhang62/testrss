<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>æ®è¯´æ¯”Springå¿«44å€çš„webå¼€å‘æ¡†æ¶ï¼Œä¸å¦¨è¯•è¯• - å­—æ¯å“¥åšå®¢</title>
<link>http://www.cnblogs.com/zimug/p/13320730.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zimug/p/13320730.html</guid>
<description>&lt;p&gt;è¯¥æ¡†æ¶ç§°ä¸ºï¼š**light-4j **ã€‚å®˜æ–¹ç½‘ç«™ç®€ä»‹ï¼šA fast, lightweight and more productive microservices frameworkã€‚å¾ˆç®€å•ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šä¸€ä¸ªå¿«é€Ÿã€è½»é‡çº§å’Œæ›´é«˜æ•ˆçš„å¾®æœåŠ¡æ¡†æ¶.&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå«light-4jï¼Ÿå…¨ç§°åº”è¯¥æ˜¯ï¼šLight for Javaï¼Œæ„å‘³ç€è½»é‡çº§ï¼Œå¹¶ä»¥é—ªç”µèˆ¬çš„é€Ÿåº¦æ¥è¿›è¡Œ Java ç¼–ç¨‹.&lt;/p&gt;
&lt;h2 id=&quot;ç”¨è¿™ä¸ªæ¡†æ¶æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ&quot;&gt;ç”¨è¿™ä¸ªæ¡†æ¶æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&quot;1-é™ä½æˆæœ¬&quot;&gt;1. é™ä½æˆæœ¬&lt;/h3&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¯´å®ƒèƒ½é™ä½æˆæœ¬ï¼Œå› ä¸ºå®ƒé€Ÿåº¦éå¸¸å¿«ï¼Œå ç”¨å†…å­˜ä¹Ÿéå¸¸å°.&lt;/p&gt;
&lt;p&gt;é‡ç‚¹æ¥äº†ï¼Œå®ƒæ¯”ç±»ä¼¼ Spring Boot è¿™ç§å†…åµŒ Tomcat å¼çš„ä¸»æµå¾®æœåŠ¡æ¡†æ¶å¹³å°è¦å¿« 44 å€ï¼Œå¹¶ä¸”åªéœ€è¦ç”¨å…¶ 1/5 å†…å­˜ï¼Œå¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç‰›é€¼ï¼Œç¡®å®æ˜¯èŠ‚çº¦äº†ä¸å°‘å†…å­˜ç©ºé—´.&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªåŸºå‡†æµ‹è¯•æŠ¥å‘Šï¼Œä¸Spring Bootå’Œå…¶ä»–å¾®æœåŠ¡å¹³å°è¿›è¡Œäº†æ¯”è¾ƒï¼š&lt;/p&gt;
&lt;p&gt;è¯¦ç»†æŠ¥å‘Šï¼š&lt;a href=&quot;https://github.com/networknt/microservices-framework-benchmark&quot;&gt;https://github.com/networknt/microservices-framework-benchmark&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¼ºå¤§ï¼Œæ€§èƒ½ä¸ Go è¯­è¨€å¹¶è‚©ï¼Œå¹¶ä¸”æ‹¥æœ‰æ›´ä½çš„å¹³å‡å»¶è¿Ÿ.&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯ä¸å…¶ä»–Webæ¡†æ¶çš„æ¯”è¾ƒï¼š&lt;/p&gt;
&lt;p&gt;è¯¦ç»†æŠ¥å‘Šï¼š&lt;a href=&quot;https://www.techempower.com/benchmarks/#section=data-r15&amp;amp;hw=ph&amp;amp;test=plaintext&quot;&gt;https://www.techempower.com/benchmarks/#section=data-r15&amp;amp;hw=ph&amp;amp;test=plaintext&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;2ä¸°å¯Œçš„åŠŸèƒ½&quot;&gt;2.ä¸°å¯Œçš„åŠŸèƒ½&lt;/h3&gt;
&lt;ul readability=&quot;14&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å…·æœ‰å¯åŠ¨/å…³é—­æŒ‚é’©å’Œå„ç§ä¸­é—´ä»¶çš„æ’ä»¶æ¶æ„&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åˆ†å¸ƒå¼OAuth2 JWTå®‰å…¨éªŒè¯ä½œä¸ºæ¡†æ¶çš„ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åŸºäºOpenAPIè§„èŒƒçš„è¯·æ±‚å’Œå“åº”éªŒè¯&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ”¶é›†æµ‹é‡æŒ‡æ ‡ä»¥åŠæ”¯æŒæœåŠ¡å’Œæ§åˆ¶å°ä¸Šæ˜¾ç¤ºçš„å®¢æˆ·&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å…¨å±€è¿è¡Œæ—¶å¼‚å¸¸å¤„ç†ï¼Œä¾‹å¦‚APIå¼‚å¸¸å’Œå…¶ä»–æ£€æŸ¥çš„å¼‚å¸¸&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åœ¨æ—¥å¿—è¾“å‡ºä¹‹å‰å¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¾‹å¦‚ä¿¡ç”¨å¡ï¼ŒSINå·ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ¸…é™¤è¯·æ±‚å‚æ•°ï¼Œè¯·æ±‚æ ‡å¤´å’Œæ­£æ–‡çš„è·¨ç«™ç‚¹æ”»å‡»è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å®¡æ ¸é‡è¦ä¿¡æ¯æˆ–æ•´ä¸ªè¯·æ±‚/å“åº”&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;è¯·æ±‚ä¸»ä½“æ”¯æŒå„ç§ç±»å‹çš„å†…å®¹ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;é…ç½®æ ‡å‡†åŒ–çš„å“åº”ä»£ç å’Œå“åº”æ¶ˆæ¯&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ”¯æŒå¤–éƒ¨é…ç½®çš„Dockerç¯å¢ƒçš„æ‰€æœ‰æ¨¡å—&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ¥è‡ªå…¶ä»–åŸŸåçš„è·¨åŸŸå¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ”¯æŒé™é€Ÿå¤„ç†å¤–éƒ¨æä¾›çš„æœåŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æœåŠ¡å‘ç°å’Œæ³¨å†Œæ”¯æŒç›´æ¥è¿æ¥ï¼Œé¢†äº‹å’ŒZookeeper&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å®¢æˆ·ç«¯å‘ç°å’Œè´Ÿè½½å¹³è¡¡ï¼Œæ¶ˆé™¤äº†ä»£ç†å±‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä¸Light-OAuth2ç´§å¯†é›†æˆå¹¶æ”¯æŒå¯è¿½æº¯æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;é¦–å…ˆåœ¨è¿™é‡Œä»‹ç»ï¼Œæ¯ä¸ªæœ‰å…´è¶£çš„äººéƒ½å¯ä»¥å»Githubä¿®è¡¥ä¸€ä¸‹...&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/networknt/light-4j&quot;&gt;https://github.com/networknt/light-4j&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æœ€å&quot;&gt;æœ€å&lt;/h2&gt;
&lt;p&gt;é˜…è¯»å®Œä¹‹åï¼Œæ‚¨å¯èƒ½ä¼šé—®ï¼Œç›®å‰æœ‰åœ¨å¹¿æ³›çš„ä½¿ç”¨å—ï¼Ÿè¿™ä¸ªæˆ‘ç›®å‰æ²¡æœ‰å¯é æ•°æ®ï¼Œä½†è¿™ä¸ªæ¡†æ¶çš„æ€§èƒ½è¡¨ç°å’Œå†…å­˜æ¶ˆè€—çœŸçš„éå¸¸æƒŠäººï¼Œä»¥åŠå®ƒçš„å„ç§åŠŸèƒ½ç‰¹æ€§éƒ½å€¼å¾—å€Ÿé‰´ã€‚&lt;/p&gt;
&lt;p&gt;æ¯” Spring Boot æ¡†æ¶è¦å¿« 44 å€ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ä¸ªå¤§å®¶ä¹Ÿä¸ç”¨å¤ªçº ç»“ï¼ŒSpring å‘å±•åˆ°ä»Šå¤©ï¼Œç»è¿‡å›½å¤–å„ç§å¤§ç¥çš„æ‰“ç£¨ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸ç²¾æ¹›.Spring æ—¥ç›Šå® å¤§çš„åŒæ—¶ï¼Œå…¶å†…éƒ¨ä¾èµ–é›†æˆäº†å¤ªå¤šä¸œè¥¿ï¼Œåœ¨æ€§èƒ½è¿™æ–¹é¢æ²¡å…¶ä»–æ¡†æ¶å¼ºï¼Œç¡®å®èƒ½å¤Ÿç†è§£ï¼Œä½† Spring çš„ç”Ÿæ€åœˆæ˜¯æ²¡æœ‰ä»»ä½•æ¡†æ¶å¯ä»¥æ¯”æ‹Ÿçš„ã€‚åœ¨è¿½æ±‚ç”Ÿæ€å®Œæ•´æ€§çš„åŒæ—¶ï¼Œå®ƒè‚¯å®šä¹Ÿä¼šç‰ºç‰²å¾ˆå¤šä¸œè¥¿ï¼Œæ‰€ä»¥ï¼Œæˆ‘è§‰å¾—ä¸€ä¸ªç”Ÿæ€ç¹è£çš„æŠ€æœ¯å¹³å°æ¯”è¿½æ±‚æ€§èƒ½æ›´é‡è¦.&lt;/p&gt;
&lt;h2 id=&quot;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&quot;&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;æœ¬æ–‡è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ˆå¿…é¡»å¸¦è¿æ¥ï¼Œä¸èƒ½åªè½¬æ–‡å­—ï¼‰ï¼š&lt;a href=&quot;http://www.zimug.com&quot;&gt;å­—æ¯å“¥åšå®¢&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;è§‰å¾—å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¸®æˆ‘ç‚¹èµã€åˆ†äº«ï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä¸ç«­çš„åˆ›ä½œåŠ¨åŠ›ï¼&lt;/strong&gt; ã€‚å¦å¤–ï¼Œç¬”è€…æœ€è¿‘ä¸€æ®µæ—¶é—´è¾“å‡ºäº†å¦‚ä¸‹çš„ç²¾å“å†…å®¹ï¼ŒæœŸå¾…æ‚¨çš„å…³æ³¨ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 16 Jul 2020 00:48:00 +0000</pubDate>
<dc:creator>å­—æ¯å“¥åšå®¢</dc:creator>
<og:description>è¯¥æ¡†æ¶ç§°ä¸ºï¼š**light-4j **ã€‚å®˜æ–¹ç½‘ç«™ç®€ä»‹ï¼šA fast, lightweight and more productive microservices frameworkã€‚å¾ˆç®€å•ï¼Œç¿»è¯‘è¿‡æ¥å°±</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/zimug/p/13320730.html</dc:identifier>
</item>
<item>
<title>.NET å¼€æºé¡¹ç›® StreamJsonRpc ä»‹ç»[ä¸‹ç¯‡] - ç²¾è‡´ç å†œ</title>
<link>http://www.cnblogs.com/willick/p/13320711.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/willick/p/13320711.html</guid>
<description>&lt;p&gt;é˜…è¯»æœ¬æ–‡å¤§æ¦‚éœ€è¦ 9 åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¤§å®¶å¥½ï¼Œè¿™æ˜¯ .NET å¼€æºé¡¹ç›® StreamJsonRpc ä»‹ç»çš„æœ€åä¸€ç¯‡ã€‚&lt;a href=&quot;https://mp.weixin.qq.com/s/3V4mCdFvNzUzqkqKm-rzpw&quot;&gt;ä¸Šç¯‡&lt;/a&gt;ä»‹ç»äº†ä¸€äº›é¢„å¤‡çŸ¥è¯†ï¼ŒåŒ…æ‹¬ JSON-RPC åè®®ä»‹ç»ï¼ŒStreamJsonRpc æ˜¯ä¸€ä¸ªå®ç°äº† JSON-RPC åè®®çš„åº“ï¼Œå®ƒåŸºäº Streamã€WebSocket å’Œè‡ªå®šä¹‰çš„å…¨åŒå·¥ç®¡é“ä¼ è¾“ã€‚&lt;a href=&quot;https://mp.weixin.qq.com/s/NgifmBGV7ipxNMCyDmG0FA&quot;&gt;ä¸­ç¯‡&lt;/a&gt;é€šè¿‡ç¤ºä¾‹è®²è§£äº† StreamJsonRpc å¦‚ä½•ä½¿ç”¨å…¨åŒå·¥çš„ Stream ä½œä¸ºä¼ è¾“ç®¡é“å®ç° RPC é€šè®¯ã€‚æœ¬ç¯‡ï¼ˆä¸‹ç¯‡ï¼‰å°†ç»§ç»­é€šè¿‡ç¤ºä¾‹è®²è§£å¦‚ä½•åŸºäº WebSocket ä¼ è¾“ç®¡é“å®ç° RPC é€šè®¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ç¤ºä¾‹çš„å®Œæ•´æ€§ï¼Œæœ¬æ–‡ç¤ºä¾‹ç»§ç»­åœ¨&lt;a href=&quot;https://mp.weixin.qq.com/s/NgifmBGV7ipxNMCyDmG0FA&quot;&gt;ä¸­ç¯‡&lt;/a&gt;åˆ›å»ºçš„ç¤ºä¾‹åŸºç¡€ä¸Šè¿›è¡Œã€‚è¯¥ç¤ºä¾‹çš„ GitHub åœ°å€ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/liamwang/StreamJsonRpcSamples&quot;&gt;github.com/liamwang/StreamJsonRpcSamples&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç»§ç»­æ·»åŠ ä¸‰ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯åä¸º WebSocketSample.Client çš„ Console åº”ç”¨ï¼Œä¸€ä¸ªæ˜¯åä¸º WebSocketSample.Server çš„ ASP.NET Core åº”ç”¨ï¼Œè¿˜æœ‰ä¸€ä¸ªåä¸º Contract çš„å¥‘çº¦ç±»åº“ï¼ˆå’Œ gRPC ç±»ä¼¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715201442433-108032433.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ç›´æ¥å¤åˆ¶å¹¶æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¸€é”®å®Œæˆå¤§éƒ¨åˆ†å‡†å¤‡å·¥ä½œï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;dotnet new console -n WebSocketSample.Client # å»ºæ–°å®¢æˆ·ç«¯åº”ç”¨
dotnet new webapi -n WebSocketSample.Server # æ–°å»ºæœåŠ¡ç«¯åº”ç”¨
dotnet new classlib -n Contract # æ–°å»ºå¥‘çº¦ç±»åº“
dotnet sln add WebSocketSample.Client WebSocketSample.Server Contract # å°†é¡¹ç›®æ·»åŠ åˆ°è§£å†³æ–¹æ¡ˆ
dotnet add WebSocketSample.Client package StreamJsonRpc # ä¸ºå®¢æˆ·ç«¯å®‰è£… StreamJsonRpc åŒ…
dotnet add WebSocketSample.Server package StreamJsonRpc # ä¸ºæœåŠ¡ç«¯å®‰è£… StreamJsonRpc åŒ…
dotnet add WebSocketSample.Client reference Contract # æ·»åŠ å®¢æˆ·ç«¯å¼•ç”¨ Common å¼•ç”¨
dotnet add WebSocketSample.Server reference Contract # æ·»åŠ æœåŠ¡ç«¯å¼•ç”¨ Common å¼•ç”¨
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸ºäº†æŠŠé‡ç‚¹æ”¾åœ¨å®ç°ä¸Šï¼Œè¿™æ¬¡æˆ‘ä»¬ä¾ç„¶ä»¥ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ä½œä¸ºç¤ºä¾‹ã€‚è¯¥ç¤ºä¾‹å®ç°å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªé—®å€™æ•°æ®ï¼Œç„¶åæœåŠ¡ç«¯å“åº”ä¸€ä¸ªæ¶ˆæ¯ã€‚ä¸ºäº†æ›´è´´åˆå®é™…çš„åœºæ™¯ï¼Œè¿™æ¬¡ä½¿ç”¨å¼ºç±»å‹è¿›è¡Œæ“ä½œã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ Contract é¡¹ç›®ä¸­æ·»åŠ ä¸‰ä¸ªç±»ç”¨æ¥çº¦å®šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šè®¯çš„æ•°æ®ç»“æ„å’Œæ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨äºå®¢æˆ·ç«¯å‘é€çš„æ•°æ®çš„ HelloRequest ç±»ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public class HelloRequest
{
    public string Name { get; set; }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç”¨äºæœåŠ¡ç«¯å“åº”çš„æ•°æ®çš„ HelloResponse ç±»ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public class HelloResponse
{
    public string Message { get; set; }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç”¨äºçº¦å®šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯è¡Œä¸ºçš„ IGreeter æ¥å£ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public interface IGreeter
{
    Task&amp;lt;HelloResponse&amp;gt; SayHelloAsync(HelloRequest request);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥å’Œä¸­ç¯‡ä¸€æ ·ï¼Œé€šè¿‡å»ºç«‹è¿æ¥ã€å‘é€è¯·æ±‚ã€æ¥æ”¶è¯·æ±‚ã€æ–­å¼€è¿æ¥è¿™å››ä¸ªæ­¥éª¤æ¼”ç¤ºå’Œè®²è§£ä¸€ä¸ªå®Œæ•´çš„åŸºäº WebSocket çš„ RPC é€šè®¯ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å»ºç«‹è¿æ¥&quot;&gt;å»ºç«‹è¿æ¥&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡è®²åˆ°è¦å®ç° JSON-RPC åè®®çš„é€šè®¯ï¼Œè¦æ±‚ä¼ è¾“ç®¡é“å¿…é¡»æ˜¯å…¨åŒå·¥çš„ã€‚è€Œ WebSocket å°±æ˜¯æ ‡å‡†çš„å…¨åŒå·¥é€šè®¯ï¼Œæ‰€ä»¥è‡ªç„¶å¯ä»¥ç”¨æ¥å®ç° JSON-RPC åè®®çš„é€šè®¯ã€‚.NET æœ¬èº«å°±æœ‰ç°æˆçš„ WebSocket å®ç°ï¼Œæ‰€ä»¥åœ¨å»ºç«‹è¿æ¥é˜¶æ®µå’Œ StreamJsonRpc æ²¡æœ‰å…³ç³»ã€‚æˆ‘ä»¬åªéœ€è¦æŠŠ WebSocket é€šè®¯ç®¡é“æ¶è®¾å¥½ï¼Œç„¶åå†ä½¿ç”¨ StreamJsonRpc æ¥å‘é€å’Œæ¥æ”¶è¯·æ±‚å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä½¿ç”¨ WebSocket å»ºç«‹è¿æ¥æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ &lt;code&gt;ClientWebSocket&lt;/code&gt; æ¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;using (var webSocket = new ClientWebSocket())
{
    Console.WriteLine(&quot;æ­£åœ¨ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥...&quot;);
    var uri = new Uri(&quot;ws://localhost:5000/rpc/greeter&quot;);
    await webSocket.ConnectAsync(uri, CancellationToken.None);
    Console.WriteLine(&quot;å·²å»ºç«‹è¿æ¥&quot;);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœåŠ¡ç«¯å»ºç«‹ WebSocket è¿æ¥æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ ASP.NET Coreï¼Œå€ŸåŠ© Kestrel å’Œ ASP.NET Core çš„ä¸­é—´ä»¶æœºåˆ¶å¯ä»¥è½»æ¾æ­å»ºåŸºäº WebSocket çš„ RPC æœåŠ¡ã€‚åªè¦ç®€å•çš„å°è£…è¿˜å¯ä»¥å®ç°åŒä¸€å¥—ä»£ç åŒæ—¶æä¾› RPC æœåŠ¡å’Œ Web API æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåœ¨æœåŠ¡ç«¯é¡¹ç›®çš„ Startup.cs ç±»çš„ &lt;code&gt;Configure&lt;/code&gt; æ–¹æ³•ä¸­å¼•å…¥ WebSocket ä¸­é—´ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    app.UseRouting();

    app.UseWebSockets(); // å¢åŠ æ­¤è¡Œï¼Œå¼•å…¥ WebSocket ä¸­é—´ä»¶

    app.UseEndpoints(endpoints =&amp;gt;
    {
        endpoints.MapControllers();
    });
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å†æ–°å»ºä¸€ä¸ª Controller å¹¶å®šä¹‰ä¸€ä¸ª Action ç”¨æ¥è·¯ç”±æ˜ å°„ WebSocket è¯·æ±‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public class RpcController : ControllerBase
{
    ...
    [Route(&quot;/rpc/greeter&quot;)]
    public async Task&amp;lt;IActionResult&amp;gt; Greeter()
    {
        if (!HttpContext.WebSockets.IsWebSocketRequest)
        {
            return new BadRequestResult();
        }

        var socket = await HttpContext.WebSockets.AcceptWebSocketAsync();

        ...
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œçš„ Greeter æä¾›çš„æœåŠ¡æ—¢èƒ½æ¥æ”¶ HTTP è¯·æ±‚ä¹Ÿèƒ½æ¥æ”¶ WebSocket è¯·æ±‚ã€‚&lt;code&gt;HttpContext&lt;/code&gt; ä¸­çš„ &lt;code&gt;WebSockets&lt;/code&gt; å±æ€§æ˜¯ä¸€ä¸ª &lt;code&gt;WebSocketManager&lt;/code&gt; å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦ä¸ºä¸€ä¸ª WebSocket è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ç­‰å¾…å’Œæ¥æ”¶ WebSocket è¿æ¥ï¼Œå³ä¸Šé¢ä»£ç ä¸­çš„ &lt;code&gt;AcceptWebSocketAsync&lt;/code&gt; æ–¹æ³•ã€‚å¦å¤–å®¢æˆ·ç«¯çš„ WebSocket çš„ Uri è·¯å¾„éœ€è¦ä¸ Router æŒ‡å®šçš„è·¯å¾„å¯¹åº”ã€‚&lt;/p&gt;
&lt;p&gt;è¿æ¥å·²ç»å»ºç«‹ï¼Œç°åœ¨åˆ°äº† StreamJsonRpc å‘æŒ¥ä½œç”¨çš„æ—¶å€™äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‘é€è¯·æ±‚&quot;&gt;å‘é€è¯·æ±‚&lt;/h2&gt;
&lt;p&gt;å®¢æˆ·ç«¯é€šè¿‡ WebSocket å‘é€è¯·æ±‚çš„æ–¹å¼å’Œå‰ä¸€ç¯‡è®²çš„ Stream æ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚è¿˜è®°å¾—å‰ä¸€ç¯‡è®²åˆ°çš„ JsonRpc ç±»çš„ Attach é™æ€æ–¹æ³•å—ï¼Ÿå®ƒå‘Šè¯‰ StreamJsonRpc å¦‚ä½•ä¼ è¾“æ•°æ®ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºè°ƒç”¨ RPC çš„å®¢æˆ·ç«¯ï¼Œå®ƒé™¤äº†å¯ä»¥æ¥æ”¶ Stream å‚æ•°å¤–è¿˜æœ‰å¤šä¸ªé‡è½½æ–¹æ³•ã€‚æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public static T Attach&amp;lt;T&amp;gt;(Stream stream);
public static T Attach&amp;lt;T&amp;gt;(IJsonRpcMessageHandler handler);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¬¬äºŒä¸ªé‡è½½æ–¹æ³•å¯ä»¥å®ç°æ›´çµæ´»çš„ Attach æ–¹å¼ï¼Œä½ å¯ä»¥ Attach ä¸€ä¸ªäº¤ç”± WebSocket ä¼ è¾“æ•°æ®çš„ç®¡é“ï¼Œä¹Ÿå¯ä»¥ Attach ç»™ä¸€ä¸ªè‡ªå®šä¹‰å®ç°çš„ TCP å…¨åŒå·¥ä¼ è¾“ç®¡é“ï¼ˆæ­¤æ–¹å¼æœ¬æ–‡ä¸è®²ï¼Œä½†æ–‡æœ«ä¼šç›´æ¥ç»™å‡ºç¤ºä¾‹ï¼‰ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®ç°äº† &lt;code&gt;IJsonRpcMessageHandler&lt;/code&gt; æ¥å£çš„å¤„ç†ç¨‹åºï¼ŒStreamJsonRpc å·²ç»å®ç°å¥½äº†ï¼Œå®ƒæ˜¯ &lt;code&gt;WebSocketMessageHandler&lt;/code&gt; ç±»ã€‚é€šè¿‡ Attach è¯¥å®ä¾‹ï¼Œå¯ä»¥æ‹¿åˆ°ä¸€ä¸ªç”¨äºè°ƒç”¨ RPC æœåŠ¡çš„å¯¹è±¡ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;Console.WriteLine(&quot;å¼€å§‹å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯...&quot;);
var messageHandler = new WebSocketMessageHandler(webSocket);
var greeterClient = JsonRpc.Attach&amp;lt;IGreeter&amp;gt;(messageHandler);
var request = new HelloRequest { Name = &quot;ç²¾è‡´ç å†œ&quot; };
var response = await greeterClient.SayHelloAsync(request);
Console.WriteLine($&quot;æ”¶åˆ°æ¥è‡ªæœåŠ¡ç«¯çš„å“åº”ï¼š{response.Message}&quot;);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½ ä¼šå‘ç°ï¼Œå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¥‘çº¦çš„å¥½å¤„æ˜¯å¯ä»¥å®ç°å¼ºç±»å‹ç¼–ç¨‹ã€‚æ¥ä¸‹æ¥çœ‹æœåŠ¡ç«¯å¦‚ä½•æ¥æ”¶å¹¶å¤„ç†å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¥æ”¶è¯·æ±‚&quot;&gt;æ¥æ”¶è¯·æ±‚&lt;/h2&gt;
&lt;p&gt;å’Œå‰ä¸€ç¯‡ä¸€æ ·ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ª GreeterServer ç±»ç”¨æ¥å¤„ç†æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public class GreeterServer : IGreeter
{
    private readonly ILogger&amp;lt;GreeterServer&amp;gt; _logger;
    public GreeterServer(ILogger&amp;lt;GreeterServer&amp;gt; logger)
    {
        _logger = logger;
    }

    public Task&amp;lt;HelloResponse&amp;gt; SayHelloAsync(HelloRequest request)
    {
        _logger.LogInformation(&quot;æ”¶åˆ°å¹¶å›å¤äº†å®¢æˆ·ç«¯æ¶ˆæ¯&quot;);
        return Task.FromResult(new HelloResponse
        {
            Message = $&quot;æ‚¨å¥½ï¼Œ {request.Name}ï¼&quot;
        });
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ ·ï¼ŒWebSocket æœåŠ¡ç«¯ä¹Ÿéœ€è¦ä½¿ç”¨ Attach æ¥å‘Šè¯‰ StreamJsonRpc æ•°æ®å¦‚ä½•é€šè®¯ï¼Œè€Œä¸”ä½¿ç”¨çš„ä¹Ÿæ˜¯ &lt;code&gt;WebSocketMessageHandler&lt;/code&gt; ç±»ï¼Œæ–¹æ³•ä¸å®¢æˆ·ç«¯ç±»ä¼¼ã€‚åœ¨å‰ä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬ Attach ä¸€ä¸ª Stream è°ƒç”¨çš„æ–¹æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public static JsonRpc Attach(Stream stream, object? target = null);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒç†ï¼Œæˆ‘ä»¬æ¨æµ‹åº”è¯¥ä¹Ÿæœ‰ä¸€ä¸ªè¿™æ ·çš„é™æ€é‡è½½æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public static JsonRpc Attach(IJsonRpcMessageHandler handler, object? target = null);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯æƒœï¼ŒStreamJsonRpc å¹¶æ²¡æœ‰æä¾›è¿™ä¸ªé™æ€æ–¹æ³•ã€‚æ—¢ç„¶ Attach æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª JsonRpc å¯¹è±¡ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥å®ä¾‹åŒ–è¯¥å¯¹è±¡å‘¢ï¼ŸæŸ¥çœ‹è¯¥ç±»çš„å®šä¹‰ï¼Œæˆ‘ä»¬å‘ç°æ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”æœ‰æˆ‘ä»¬éœ€è¦çš„æ„é€ å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public JsonRpc(IJsonRpcMessageHandler messageHandler, object? target);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±ç®€å•äº†ï¼Œä¸€åˆ‡å’Œå‰ä¸€ç¯‡çš„ Stream ç¤ºä¾‹éƒ½å·®ä¸å¤šã€‚åœ¨ RpcController çš„ Greeter Action ä¸­å®ä¾‹åŒ–ä¸€ä¸ª JsonRpcï¼Œç„¶åå¼€å¯æ¶ˆæ¯ç›‘å¬ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;public class RpcController : ControllerBase
{
    private readonly ILogger&amp;lt;RpcController&amp;gt; _logger;
    private readonly GreeterServer _greeterServer;

    public RpcController(ILogger&amp;lt;RpcController&amp;gt; logger, GreeterServer greeterServer)
    {
        _logger = logger;
        _greeterServer = greeterServer;
    }

    [Route(&quot;/rpc/greeter&quot;)]
    public async Task&amp;lt;IActionResult&amp;gt; Greeter()
    {
        if (!HttpContext.WebSockets.IsWebSocketRequest)
        {
            return new BadRequestResult();
        }

        _logger.LogInformation(&quot;ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...&quot;);
        var socket = await HttpContext.WebSockets.AcceptWebSocketAsync();
        _logger.LogInformation(&quot;å·²ä¸å®¢æˆ·ç«¯å»ºç«‹è¿æ¥&quot;);

        var handler = new WebSocketMessageHandler(socket);

        using (var jsonRpc = new JsonRpc(handler, _greeterServer))
        {
            _logger.LogInformation(&quot;å¼€å§‹ç›‘å¬å®¢æˆ·ç«¯æ¶ˆæ¯...&quot;);
            jsonRpc.StartListening();
            await jsonRpc.Completion;
            _logger.LogInformation(&quot;å®¢æˆ·ç«¯æ–­å¼€äº†è¿æ¥&quot;);
        }

        return new EmptyResult();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çœ‹èµ·æ¥å’Œæˆ‘ä»¬å¹³æ—¶å†™ Web API å·®ä¸å¤šï¼ŒåŒºåˆ«ä»…ä»…æ˜¯å¯¹è¯·æ±‚çš„å¤„ç†æ–¹å¼ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒWebSocket æ˜¯é•¿è¿æ¥ï¼Œå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰äº‹æƒ…å¯ä»¥å¤„ç†äº†ï¼Œæœ€å¥½ä¸»åŠ¨æ–­å¼€ä¸æœåŠ¡ç«¯çš„è¿æ¥ã€‚å¦‚æœå®¢æˆ·å®¢æˆ·æ²¡æœ‰æ–­å¼€è¿æ¥ï¼Œæ‰§è¡Œçš„ä¸Šä¸‹æ–‡å°±ä¼šåœåœ¨ &lt;code&gt;await jsonRpc.Completion&lt;/code&gt; å¤„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ–­å¼€è¿æ¥&quot;&gt;æ–­å¼€è¿æ¥&lt;/h2&gt;
&lt;p&gt;é€šå¸¸æ–­å¼€è¿æ¥æ˜¯ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·çš„ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ä¸éœ€è¦åšä»€ä¹ˆå¤„ç†ã€‚æœåŠ¡ç«¯å“åº”å®Œæ¶ˆæ¯åï¼Œåªéœ€ä½¿ç”¨ &lt;code&gt;jsonRpc.Completion&lt;/code&gt; ç­‰å¾…å®¢æˆ·ç«¯æ–­å¼€è¿æ¥å³å¯ï¼Œä¸Šä¸€èŠ‚çš„ä»£ç ç¤ºä¾‹ä¸­å·²ç»åŒ…å«äº†è¿™éƒ¨åˆ†ä»£ç ï¼Œå°±ä¸å†ç´¯è¿°äº†ã€‚å¦‚æœç‰¹æ®Šæƒ…å†µä¸‹æœåŠ¡ç«¯éœ€è¦æ–­å¼€è¿æ¥ï¼Œè°ƒç”¨ JsonRpc å¯¹è±¡çš„ Dispose æ–¹æ³•å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç®¡æ˜¯ Stream è¿˜æ˜¯ WebSocketï¼Œå…¶å®¢æˆ·ç«¯å¯¹è±¡éƒ½æä¾›äº† Close æˆ– Dispose æ–¹æ³•ï¼Œè¿æ¥ä¼šéšç€å¯¹è±¡çš„é‡Šæ”¾è‡ªåŠ¨æ–­å¼€ã€‚ä½†æœ€å¥½è¿˜æ˜¯ä¸»åŠ¨è°ƒç”¨ Close æ–¹æ³•æ–­å¼€è¿æ¥ï¼Œä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°æ–­å¼€çš„è¯·æ±‚ã€‚å¯¹äº ClientWebSocketï¼Œéœ€è¦è°ƒç”¨ CloseAsync æ–¹æ³•ã€‚å®¢æˆ·ç«¯å®Œæ•´ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cs&quot;&gt;static async Task Main(string[] args)
{
    using (var webSocket = new ClientWebSocket())
    {
        Console.WriteLine(&quot;æ­£åœ¨ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥...&quot;);
        var uri = new Uri(&quot;ws://localhost:5000/rpc/greeter&quot;);
        await webSocket.ConnectAsync(uri, CancellationToken.None);
        Console.WriteLine(&quot;å·²å»ºç«‹è¿æ¥&quot;);

        Console.WriteLine(&quot;å¼€å§‹å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯...&quot;);
        var messageHandler = new WebSocketMessageHandler(webSocket);
        var greeterClient = JsonRpc.Attach&amp;lt;IGreeter&amp;gt;(messageHandler);
        var request = new HelloRequest { Name = &quot;ç²¾è‡´ç å†œ&quot; };
        var response = await greeterClient.SayHelloAsync(request);
        Console.WriteLine($&quot;æ”¶åˆ°æ¥è‡ªæœåŠ¡ç«¯çš„å“åº”ï¼š{response.Message}&quot;);

        Console.WriteLine(&quot;æ­£åœ¨æ–­å¼€è¿æ¥...&quot;);
        await webSocket.CloseAsync(WebSocketCloseStatus.NormalClosure, &quot;æ–­å¼€è¿æ¥&quot;, CancellationToken.None);
        Console.WriteLine(&quot;å·²æ–­å¼€è¿æ¥&quot;);
    }

    Console.ReadKey();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨å®é™…é¡¹ç›®ä¸­å¯èƒ½è¿˜éœ€è¦å› å¼‚å¸¸è€Œæ–­å¼€è¿æ¥çš„æƒ…å†µåšå¤„ç†ï¼Œæ¯”å¦‚ç½‘ç»œä¸ç¨³å®šå¯èƒ½å¯¼è‡´è¿æ¥ä¸­æ–­ï¼Œè¿™ç§æƒ…å†µå¯èƒ½éœ€è¦åŠ å…¥é‡è¯•æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¿è¡Œç¤ºä¾‹&quot;&gt;è¿è¡Œç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;ç”±äºæœåŠ¡ç«¯ä½¿ç”¨çš„æ˜¯ ASP.NET Core æ¨¡æ¿ï¼ŒVS é»˜è®¤ä½¿ç”¨ IIS Express å¯åŠ¨ï¼Œå¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€ç½‘é¡µï¼Œè¿™æ ·çœ‹ä¸åˆ° Console çš„æ—¥å¿—ä¿¡æ¯ã€‚æ‰€ä»¥éœ€è¦æŠŠæœåŠ¡ç«¯é¡¹ç›® WebSocketSample.Server çš„å¯åŠ¨æ–¹å¼æ”¹æˆè‡ªå¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715203513168-761745528.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä¸ºäº†æ›´æ–¹ä¾¿åœ°åŒæ—¶è¿è¡Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åº”ç”¨ï¼Œå¯ä»¥æŠŠè§£å†³æ–¹æ¡ˆè®¾ç½®æˆå¤šå¯åŠ¨ã€‚å³é”®è§£å†³æ–¹æ¡ˆï¼Œé€‰æ‹©â€œPropertiesâ€ï¼ŒæŠŠå¯¹åº”çš„é¡¹ç›®è®¾ç½®â€œStartâ€å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715202446183-1806619492.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯ VS Codeï¼Œä¹Ÿæ˜¯æ”¯æŒå¤šå¯åŠ¨è°ƒè¯•çš„ï¼Œå…·ä½“æ–¹æ³•ä½ è‡ªè¡Œ Googleã€‚å¦‚æœä½ ç”¨çš„æ˜¯ &lt;code&gt;dotnet run&lt;/code&gt; å‘½ä»¤è¿è¡Œé¡¹ç›®å¯å¿½ç•¥ä»¥ä¸Šè®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;é¡¹ç›®è¿è¡Œåçš„æˆªå›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715224827257-1003905483.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å®ç° TCP å…¨åŒå·¥é€šè®¯ç®¡é“ï¼Œä½†æ¯”è¾ƒå¤æ‚è€Œä¸”ä¹Ÿå¾ˆå°‘è¿™ä¹ˆåšï¼Œæ‰€ä»¥å°±ç•¥è¿‡ä¸è®²äº†ã€‚ä½†æˆ‘åœ¨ GitHub çš„ç¤ºä¾‹ä»£ç ä¹Ÿæ”¾äº†ä¸€ä¸ªè‡ªå®šä¹‰å…¨åŒå·¥ç®¡é“å®ç°çš„ç¤ºä¾‹ï¼Œæ„Ÿå…´è¶£çš„è¯ä½ å¯ä»¥å…‹éš†ä¸‹æ¥ç ”ç©¶ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715224142892-442190843.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç¤ºä¾‹è¿è¡Œæˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/191097/202007/191097-20200715223542031-1422704591.png&quot; alt=&quot; &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æœ¬ç¯‡æ€»ç»“&quot;&gt;æœ¬ç¯‡æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡é€šè¿‡ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ StreamJsonRpc åŸºäº WebSocket æ•°æ®ä¼ è¾“å®ç° JSON-RPC åè®®çš„ RPC é€šè®¯ã€‚å…¶ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰å…±åŒçš„å¥‘çº¦éƒ¨åˆ†ï¼Œå®ç°äº†å¼ºç±»å‹ç¼–ç¨‹ã€‚é€šè¿‡ç¤ºä¾‹æˆ‘ä»¬ä¹Ÿæ¸…æ¥šäº† StreamJsonRpc è¿™ä¸ªåº“ä¸ºäº†å®ç° RPC é€šè®¯åšäº†å“ªäº›å·¥ä½œï¼Œå…¶å®å®ƒå°±æ˜¯åœ¨ç°æœ‰ä¼ è¾“ç®¡é“ï¼ˆStreamã€WebSocket å’Œ è‡ªå®šä¹‰ TCP è¿æ¥ï¼‰ä¸Šè¿›è¡Œæ•°æ®é€šè®¯ã€‚æ­£å¦‚å‰ä¸€ç¯‡æ‰€è¯´ï¼Œç”±äº StreamJsonRpc æŠŠå¤§éƒ¨åˆ†æˆ‘ä»¬ä¸å¿…è¦çŸ¥é“çš„ç»†èŠ‚åšäº†å°è£…ï¼Œæ‰€ä»¥åœ¨ç¤ºä¾‹ä¸­æ„Ÿè§‰ä¸åˆ° JSON-RPC åè®®å¸¦æ¥çš„ç»Ÿä¸€è§„èŒƒï¼Œä¹Ÿæ²¡çœ‹åˆ°å…·ä½“çš„ JSON æ ¼å¼çš„æ•°æ®ã€‚å…¶å®åªè¦éµå¾ªäº† JSON-RPC åè®®å®ç°çš„å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯ï¼Œä¸ç®¡æ˜¯ç”¨ä»€ä¹ˆè¯­è¨€å®ç°ï¼Œéƒ½æ˜¯å¯ä»¥äº’ç›¸é€šè®¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›è¿™ä¸‰ç¯‡å…³äº StreamJsonRpc çš„ä»‹ç»èƒ½è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œå¦‚æœä½ åœ¨å·¥ä½œä¸­è®¡åˆ’ä½¿ç”¨ StreamJsonRpcï¼Œè¿™å‡ ç¯‡æ–‡ç« åŒ…æ‹¬ç¤ºä¾‹ä»£ç åº”è¯¥æœ‰å€¼å¾—å‚è€ƒçš„åœ°æ–¹ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 16 Jul 2020 00:40:00 +0000</pubDate>
<dc:creator>ç²¾è‡´ç å†œ</dc:creator>
<og:description>é˜…è¯»æœ¬æ–‡å¤§æ¦‚éœ€è¦ 9 åˆ†é’Ÿã€‚ å¤§å®¶å¥½ï¼Œè¿™æ˜¯ .NET å¼€æºé¡¹ç›® StreamJsonRpc ä»‹ç»çš„æœ€åä¸€ç¯‡ã€‚ä¸Šç¯‡ä»‹ç»äº†ä¸€äº›é¢„å¤‡çŸ¥è¯†ï¼ŒåŒ…æ‹¬ JSON-RPC åè®®ä»‹ç»ï¼ŒStreamJsonRpc æ˜¯ä¸€ä¸ª</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/willick/p/13320711.html</dc:identifier>
</item>
<item>
<title>[è¯‘]ä½¿ç”¨DOTè¯­è¨€å’ŒGraphvizOnlineæ¥å¯è§†åŒ–ä½ çš„ASP.NETCore3.0ç»ˆç»“ç‚¹01 - ä¾ä¹ç¥</title>
<link>http://www.cnblogs.com/yilezhu/p/13301981.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yilezhu/p/13301981.html</guid>
<description>&lt;p&gt;è¿™æ˜¯ç³»åˆ—æ–‡ç« ä¸­çš„ç¬¬ä¸€ç¯‡ï¼šä½¿ç”¨GraphvizOnlineå¯è§†åŒ–ASP.NETCore3.0ç»ˆç»“ç‚¹ã€‚.&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ç¬¬1éƒ¨åˆ†-ä½¿ç”¨DOTè¯­è¨€æ¥å¯è§†åŒ–ä½ çš„ASP.NETCore3.0ç»ˆç»“ç‚¹(æœ¬æ–‡)&lt;/li&gt;
&lt;li&gt;ç¬¬2éƒ¨åˆ†-å‘ASP.NET Coreåº”ç”¨ç¨‹åºæ·»åŠ ç»ˆç»“ç‚¹å›¾&lt;/li&gt;
&lt;li&gt;ç¬¬3éƒ¨åˆ†-ä½¿ç”¨ImpromptuInterfaceåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„DfaGraphWriterï¼Œä»¥ä¾¿äºåå°„&lt;/li&gt;
&lt;/ol&gt;&lt;blockquote readability=&quot;1.2324324324324&quot;&gt;
&lt;p&gt;ä½œè€…ï¼šä¾ä¹ç¥&lt;br/&gt;åŸæ–‡ï¼š&lt;a href=&quot;https://andrewlock.net/visualizing-asp-net-core-endpoints-using-graphvizonline-and-the-dot-language/&quot;&gt;https://andrewlock.net/visualizing-asp-net-core-endpoints-using-graphvizonline-and-the-dot-language/&lt;/a&gt;&lt;br/&gt;è¯‘æ–‡ï¼š&lt;a href=&quot;https://www.cnblogs.com/yilezhu/p/13301981.html&quot;&gt;https://www.cnblogs.com/yilezhu/p/13301981.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•åœ¨ASP.NETCore3.0åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨&lt;a href=&quot;https://dreampuf.github.io/GraphvizOnline&quot;&gt;GraphvizOnline&lt;/a&gt;æœåŠ¡ã€‚è¿™ä½¿æ‚¨å¯ä»¥åˆ›å»ºå¦‚ä¸‹æ‰€ç¤ºçš„å›¾è¡¨ï¼Œè¿™äº›å›¾è¡¨æè¿°äº†åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰ç«¯ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214912871-1523655150.png&quot; alt=&quot;An example endpoint routing graph&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç”¨graphvizonlineå’Œdotè¯­è¨€ç»˜åˆ¶å›¾å½¢&quot;&gt;ç”¨GraphvizOnlineå’ŒDOTè¯­è¨€ç»˜åˆ¶å›¾å½¢&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://dreampuf.github.io/GraphvizOnline&quot;&gt;GraphvizOnline&lt;/a&gt;æ˜¯ä¸€ä¸ªGitHubä¸Šçš„&lt;a href=&quot;https://github.com/dreampuf/GraphvizOnline&quot;&gt;å¼€æºé¡¹ç›®&lt;/a&gt;ï¼Œå®ƒä¸º&lt;a href=&quot;https://en.wikipedia.org/wiki/DOT_(graph_description_language)&quot;&gt;DOTå›¾å½¢æè¿°è¯­è¨€&lt;/a&gt; æä¾›äº†ä¸€ä¸ªåœ¨çº¿å¯è§†åŒ–å·¥å…·ã€‚è¿™æ˜¯ä¸€ç§ç®€å•çš„è¯­è¨€ï¼Œå®ƒå…è®¸æ‚¨å®šä¹‰å„ç§ç±»å‹çš„å›¾å½¢ï¼Œå®ƒå°†èŠ‚ç‚¹ä¸è¾¹è¿æ¥èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä¸€ä¸ªåŸºæœ¬çš„&lt;em&gt;æ— å‘å›¾&lt;/em&gt;å¯ä»¥å®šä¹‰ä¸º&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;graph MyGraph {
  a -- b -- c;
  b -- d;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®ƒæè¿°äº†ä»¥ä¸‹å›¾è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214913827-1107720432.png&quot; alt=&quot;A simple undirected graph&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªåç§°(&lt;code&gt;a&lt;/code&gt;, &lt;code&gt;b&lt;/code&gt;, &lt;code&gt;c&lt;/code&gt;, &lt;code&gt;d&lt;/code&gt;)ï¼Œå¹¶ä¸”&lt;code&gt;--&lt;/code&gt;å®šä¹‰èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ç¼˜ã€‚è¾¹å®šä¹‰èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥ï¼Œä½†å®ƒä»¬æ²¡æœ‰æ–¹å‘(å› æ­¤åç§°ï¼Œ&lt;em&gt;æ— å‘ã€undirectedã€‘&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ª&lt;em&gt;æœ‰å‘&lt;/em&gt;å›¾ï¼Œå…¶ä¸­è¾¹æ˜¯æœ‰æ–¹å‘çš„ã€‚å¯¹äºæœ‰å‘è¾¹ï¼Œä½¿ç”¨&lt;code&gt;-&amp;gt;&lt;/code&gt;è€Œä¸æ˜¯&lt;code&gt;--&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;digraph MyGraph {
  a -&amp;gt; b -&amp;gt; c;
  d -&amp;gt; b;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®ƒæè¿°äº†ä»¥ä¸‹å›¾è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214913617-645854220.png&quot; alt=&quot;A simple directed graph&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥è‡ªå®šä¹‰èŠ‚ç‚¹å’Œè¾¹ç¼˜ä»¥å¤šç§æ–¹å¼æ˜¾ç¤ºçš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æ ‡è®°èŠ‚ç‚¹å’Œè¾¹ç¼˜ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;digraph MySimpleGraph {
   // The label attribute can be used to change the label of a node...
   a [label=&quot;Foo&quot;];
   b [label=&quot;Bar&quot;];
   // ... or an edge
   a -&amp;gt; b [label=&quot;Baz&quot;];
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214913386-1984742219.png&quot; alt=&quot;A labelled graph&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨&lt;a href=&quot;https://en.wikipedia.org/wiki/DOT_(graph_description_language)&quot;&gt;DOTå›¾å½¢æè¿°è¯­è¨€&lt;/a&gt;åš&lt;a href=&quot;https://www.graphviz.org/doc/info/attrs.html&quot;&gt;æ›´å¤š&lt;/a&gt;çš„äº‹æƒ…ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬ç°åœ¨æ‰€éœ€è¦çš„ã€‚é‚£ä¹ˆï¼Œè¿™å¦‚ä½•åº”ç”¨äºASP.NET Coreåº”ç”¨ç¨‹åºå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨æœ‰å‘å›¾æ¥å¯è§†åŒ–aspnet-coreç»ˆç»“ç‚¹&quot;&gt;ä½¿ç”¨æœ‰å‘å›¾æ¥å¯è§†åŒ–ASP.NET Coreç»ˆç»“ç‚¹&lt;/h2&gt;
&lt;p&gt;ASP.NETCoreä¸­çš„ç»ˆç»“ç‚¹è·¯ç”±ç³»ç»Ÿé€šè¿‡åˆ›å»ºç«¯ç‚¹URLæ®µçš„æœ‰å‘å›¾æ¥æœ‰æ•ˆåœ°å·¥ä½œã€‚ç„¶åå°†ä¼ å…¥çš„è¯·æ±‚ä¸å›¾è¿›è¡ŒåŒ¹é…ï¼ˆä¸€æ¬¡ä¸€ä¸ªæ®µï¼‰ï¼Œä»¥ç¡®å®šè¦æ‰§è¡Œçš„ç»ˆç»“ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä»¥ä¸‹ç®€å•æœ‰å‘å›¾è¡¨ç¤ºASP.NET Core3.0 RazorPages é»˜è®¤åº”ç”¨ç¨‹åºæ¨¡æ¿ä¸­çš„ç»ˆç»“ç‚¹(&lt;code&gt;dotnet new webapp&lt;/code&gt;)ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªRazoré¡µé¢ï¼š&lt;em&gt;Index.cshtml&lt;/em&gt;, &lt;em&gt;Error.cshtml&lt;/em&gt;å’Œ&lt;em&gt;Privacy.cshtml&lt;/em&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;digraph DFA {
  1 [label=&quot;/Error/&quot;]
  2 [label=&quot;/Index/&quot;]
  3 [label=&quot;/Privacy/&quot;]
  4 -&amp;gt; 1 [label=&quot;/Error&quot;]
  4 -&amp;gt; 2 [label=&quot;/Index&quot;]
  4 -&amp;gt; 3 [label=&quot;/Privacy&quot;]
  4 [label=&quot;/&quot;]
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­æè¿°ä¸ºå¦‚ä¸‹å›¾è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214913129-2133100582.png&quot; alt=&quot;A basic Razor Pages application&quot; loading=&quot;lazy&quot;/&gt;.&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„DOTæ–‡ä»¶ä¸­ï¼ŒèŠ‚ç‚¹è¢«èµ‹äºˆé¡ºåºçš„æ•´æ•°åï¼Œ&lt;code&gt;1&lt;/code&gt;, &lt;code&gt;2&lt;/code&gt;, &lt;code&gt;3&lt;/code&gt;ç­‰ï¼Œå¹¶ä½¿ç”¨ç«¯ç‚¹åç§°è¿›è¡Œæ ‡è®°ã€‚è¿™æ˜¯ASP.NET Coreç”¨äºè¡¨ç¤ºç»ˆç»“ç‚¹å›¾çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹äºRazoré¡µé¢ï¼Œè·¯ç”±éå¸¸ç®€å•ï¼Œæ‰€ä»¥å›¾éå¸¸æ˜æ˜¾ã€‚ASP.NET Core WebAPIåº”ç”¨ç¨‹åºç”Ÿæˆäº†ä¸€ä¸ªæ›´æœ‰è¶£çš„å›¾è¡¨ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¾ç¤ºçš„ASP.NET Core 2.0é»˜è®¤æ¨¡æ¿ä¸­åŒ…å«çš„&lt;code&gt;ValuesController&lt;/code&gt;ã€‚å®ƒä½¿ç”¨å¤šä¸ªHTTPè°“è¯ï¼Œä»¥åŠç¨å¾®å¤æ‚çš„URLç»“æ„ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;[Route(&quot;api/[controller]&quot;)]
[ApiController]
public class ValuesController : ControllerBase
{
    // GET api/values
    [HttpGet]
    public ActionResult&amp;lt;IEnumerable&amp;lt;string&amp;gt;&amp;gt; Get() =&amp;gt; new string[] { &quot;value1&quot;, &quot;value2&quot; };

    // GET api/values/5
    [HttpGet(&quot;{id}&quot;)]
    public ActionResult&amp;lt;string&amp;gt; Get(int id) =&amp;gt; &quot;value&quot;;

    // POST api/values
    [HttpPost]
    public void Post([FromBody] string value) { }

    // PUT api/values/5
    [HttpPut(&quot;{id}&quot;)]
    public void Put(int id, [FromBody] string value) { }

    // DELETE api/values/5
    [HttpDelete(&quot;{id}&quot;)]
    public void Delete(int id) { }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸ºäº†æ›´å¥½åœ°åº¦é‡ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªåŸºæœ¬çš„å¥åº·æ£€æŸ¥ç«¯ç‚¹ã€‚&lt;code&gt;UseEndpoints()&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;app.UseEndpoints(endpoints =&amp;gt;
{
    endpoints.MapHealthChecks(&quot;/healthz&quot;);
    endpoints.MapControllers();
});
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤åº”ç”¨ç¨‹åºç”Ÿæˆä»¥ä¸‹å›¾è¡¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;digraph DFA {
  1 [label=&quot;/healthz/&quot;] 
  2 [label=&quot;/api/Values/{...}/ HTTP: GET&quot;] 
  3 [label=&quot;/api/Values/{...}/ HTTP: PUT&quot;] 
  4 [label=&quot;/api/Values/{...}/ HTTP: DELETE&quot;] 
  5 [label=&quot;/api/Values/{...}/ HTTP: *&quot;] 
  6 -&amp;gt; 2 [label=&quot;HTTP: GET&quot;]
  6 -&amp;gt; 3 [label=&quot;HTTP: PUT&quot;]
  6 -&amp;gt; 4 [label=&quot;HTTP: DELETE&quot;]
  6 -&amp;gt; 5 [label=&quot;HTTP: *&quot;]
  6 [label=&quot;/api/Values/{...}/&quot;] 
  7 [label=&quot;/api/Values/ HTTP: GET&quot;] 
  8 [label=&quot;/api/Values/ HTTP: POST&quot;] 
  9 [label=&quot;/api/Values/ HTTP: *&quot;] 
  10 -&amp;gt; 6 [label=&quot;/*&quot;]
  10 -&amp;gt; 7 [label=&quot;HTTP: GET&quot;]
  10 -&amp;gt; 8 [label=&quot;HTTP: POST&quot;]
  10 -&amp;gt; 9 [label=&quot;HTTP: *&quot;]
  10 [label=&quot;/api/Values/&quot;] 
  11 -&amp;gt; 10 [label=&quot;/Values&quot;]
  11 [label=&quot;/api/&quot;] 
  12 -&amp;gt; 1 [label=&quot;/healthz&quot;]
  12 -&amp;gt; 11 [label=&quot;/api&quot;]
  12 [label=&quot;/&quot;] 
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¡¨ç°ä¸ºå¦‚ä¸‹å›¾è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214912871-1523655150.png&quot; alt=&quot;A ValuesController endpoint routing application&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªå›¾ä¸­è¿˜æœ‰å¾ˆå¤šäº‹æƒ…è¦åšï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨æœ‰äº†å¯å˜çš„è·¯ç”±å‚æ•°å€¼(è·¯ç”±æ¨¡æ¿ä¸­çš„&lt;code&gt;{id}&lt;/code&gt;ï¼Œåœ¨å›¾ä¸­æ˜¾ç¤ºä¸º&lt;code&gt;{...}&lt;/code&gt;)å’ŒHTTPåŠ¨è¯çº¦æŸ(&lt;code&gt;GET&lt;/code&gt;/&lt;code&gt;PUT&lt;/code&gt;/&lt;code&gt;POST&lt;/code&gt;ç­‰ç­‰)&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªå›¾è¡¨æ—¶ï¼Œæˆ‘å¾ˆéš¾ç†è§£å®ƒã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç»ˆç»“ç‚¹å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œå¦‚&lt;code&gt;/api/&lt;/code&gt;ä¸åº”è¯¥äº§ç”Ÿå“åº”ã€‚é‚£è¿™ä¸ªå‘¢ï¼Ÿè‡³äº&lt;code&gt;HTTP: *&lt;/code&gt;ç«¯ç‚¹å‘¢ï¼Œå®ƒä»¬ä¼šäº§ç”Ÿå“åº”å—ï¼Ÿ&lt;/p&gt;
&lt;blockquote readability=&quot;5.3448275862069&quot;&gt;
&lt;p&gt;ä¸ºäº†è¿›ä¸€æ­¥äº†è§£ï¼Œæˆ‘æŸ¥é˜…äº†&lt;a href=&quot;https://github.com/dotnet/aspnetcore/blob/master/src/Http/Routing/src/Matching/DfaMatcherBuilder.cs&quot;&gt;å¯ä»¥ç”Ÿæˆè¿™äº›å›¾çš„ASP.NET Coreä¸­çš„ä»£ç &lt;/a&gt;ï¼Œä½†å®ƒæœ‰ç‚¹å¤æ‚ï¼Œä¸å¹¸çš„æ˜¯ï¼Œç”±äºå¤§é‡ä½¿ç”¨&lt;code&gt;internal&lt;/code&gt;ç±»ã€‚æˆ‘å°†åœ¨ç¨åçš„æ–‡ç« ä¸­æ¢è®¨è¿™äº›ä»£ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºäº†æ›´å¥½åœ°ç†è§£ç«¯ç‚¹å›¾ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å¹¶éæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶è¿™ä¸ªç®€å•å›¾ä¸­çš„ä¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œç„¶åç ”ç©¶ä¸€ä¸ªæ›´å¥½çš„å›¾å½¢è¡¨ç¤ºï¼ˆè‡³å°‘åœ¨æˆ‘çœ‹æ¥ï¼ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;äº†è§£ä¸åŒç±»å‹çš„èŠ‚ç‚¹ã€‚&quot;&gt;äº†è§£ä¸åŒç±»å‹çš„èŠ‚ç‚¹ã€‚&lt;/h2&gt;
&lt;p&gt;å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸ç»™å®šçš„â€œæ·±åº¦â€ç›¸å…³è”ã€‚è¿™æ˜¯åº”è¯¥å·²ç»åŒ¹é…çš„URLæ®µæ•°ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;/api/Values/&lt;/code&gt;èŠ‚ç‚¹çš„æ·±åº¦ä¸º2-å®ƒè¦æ±‚ç©ºæ®µ&lt;code&gt;/&lt;/code&gt;å’Œ&lt;code&gt;/api&lt;/code&gt;æ®µå·²ç»åŒ¹é…ã€‚&lt;/p&gt;
&lt;p&gt;å½“è¯·æ±‚åˆ°è¾¾&lt;code&gt;EndpointRoutingMiddleware&lt;/code&gt;(ç”±&lt;code&gt;UseRouting()&lt;/code&gt;æ·»åŠ )æ—¶ï¼Œå°†ä¼ å…¥çš„è¯·æ±‚URLä¸æ­¤å›¾è¿›è¡Œæ¯”è¾ƒã€‚è¯•å›¾ä»æ ‘æ¢¢çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€šè¿‡å›¾è¡¨æ‰¾åˆ°ä¸€æ¡è·¯å¾„ã€‚URLæ®µä¸å›¾ä¸­çš„è¾¹è¿›è¡Œå¢é‡åŒ¹é…ï¼Œå¹¶åœ¨å›¾ä¸­éå†ä¸€æ¡è·¯å¾„ï¼Œç›´åˆ°æ•´ä¸ªè¯·æ±‚URLåŒ¹é…ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªèŠ‚ç‚¹(ç”±&lt;a href=&quot;https://github.com/dotnet/aspnetcore/blob/cc3d47f5501cdfae3e5b5be509ef2c0fb8cca069/src/Http/Routing/src/Matching/DfaNode.cs&quot;&gt;åœ¨ASP.NET Coreä¸­çš„&lt;code&gt;DfaNode&lt;/code&gt;ä¸­&lt;/a&gt;)æœ‰å‡ ä¸ªå±æ€§ã€‚æˆ‘ä»¬ç›®å‰æ„Ÿå…´è¶£çš„å±æ€§æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Matches&lt;/code&gt;*è¿™æ˜¯ä¸è¯¥èŠ‚ç‚¹ç›¸å…³è”çš„&lt;code&gt;Endpoint&lt;/code&gt;(S)ã€‚å¦‚æœé€šè¿‡è·¯ç”±åŒ¹é…æ­¤èŠ‚ç‚¹ï¼Œåˆ™è¿™æ˜¯å°†è¢«é€‰æ‹©ç”¨äºæ‰§è¡Œçš„&lt;code&gt;Endpoint&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Literals&lt;/code&gt;è¿™äº›æ˜¯è¿æ¥èŠ‚ç‚¹çš„è¾¹ç¼˜ã€‚å¦‚æœ&lt;code&gt;DfaNode&lt;/code&gt;æœ‰&lt;code&gt;Literals&lt;/code&gt;ï¼Œå®ƒå…·æœ‰å¯ä»¥è¿›ä¸€æ­¥éå†ä»¥åˆ°è¾¾å…¶ä»–èŠ‚ç‚¹çš„æ–‡å­—æ®µã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;/api/&lt;/code&gt;èŠ‚ç‚¹åŒ…å«ä¸€ä¸ªæœ‰&lt;code&gt;/Values&lt;/code&gt;å€¼çš„&lt;code&gt;Literal&lt;/code&gt;ï¼Œåˆ™æŒ‡å‘&lt;code&gt;/api/Values&lt;/code&gt;èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PolicyEdges&lt;/code&gt;è¿™äº›è¾¹ç¼˜æ˜¯åŸºäºURLä»¥å¤–çš„çº¦æŸè¿›è¡ŒåŒ¹é…çš„ã€‚ä¾‹å¦‚ï¼Œå›¾ä¸­åŸºäºåŠ¨è¯çš„è¾¹ï¼Œå¦‚&lt;code&gt;HTTP: GET&lt;/code&gt;ï¼Œæ˜¯ç­–ç•¥çš„è¾¹ç¼˜ï¼ŒæŒ‡çš„æ˜¯ä¸åŒçš„&lt;code&gt;DfaNode&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Parameters&lt;/code&gt;å¦‚æœèŠ‚ç‚¹å…·æœ‰æ”¯æŒè·¯ç”±å‚æ•°çš„è¾¹ç¼˜(ä¾‹å¦‚ï¼Œ&lt;code&gt;{id}&lt;/code&gt;), &lt;code&gt;Parameters&lt;/code&gt;æŒ‡å‘å¤„ç†åŒ¹é…å‚æ•°çš„èŠ‚ç‚¹ã€‚è¿™åœ¨å›¾ä¸­æ˜¯ç”¨&lt;code&gt;/*&lt;/code&gt;è¾¹è¡¨ç¤ºçš„ã€‚.&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé™„åŠ çš„å±æ€§ï¼Œ&lt;code&gt;CatchAll&lt;/code&gt;ï¼Œè¿™åœ¨æŸäº›å›¾å½¢ä¸­æ˜¯ç›¸å…³çš„ï¼Œä½†æˆ‘ç°åœ¨å°†å¿½ç•¥å®ƒï¼Œå› ä¸ºæˆ‘ä»¬çš„APIå›¾å¹¶ä¸éœ€è¦å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŸºäºè¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨&lt;a href=&quot;https://www.graphviz.org/doc/info/attrs.html&quot;&gt;DOTè¯­è¨€çš„å…¶ä»–ç‰¹æ€§&lt;/a&gt;ï¼Œå¦‚å½¢çŠ¶ã€é¢œè‰²ã€çº¿å‹å’Œç®­å¤´ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1377250/202007/1377250-20200714214912405-1570561611.png&quot; alt=&quot;A ValuesController endpoint routing application with different styling&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­æ·»åŠ äº†ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ²¡æœ‰ä»»ä½•å…³è”çš„èŠ‚ç‚¹&lt;code&gt;Endpoint&lt;/code&gt;éƒ½ä»¥é»˜è®¤æ ·å¼æ˜¾ç¤ºï¼Œå³é»‘è‰²æ°”æ³¡ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰&lt;code&gt;Matches&lt;/code&gt;çš„æ˜¾ç¤ºä¸ºå¡«å……çš„æ£•è‰²ç›’å­ã€‚è¿™äº›èŠ‚ç‚¹å…·æœ‰&lt;code&gt;Endpoint&lt;/code&gt;ï¼Œè¿™å¯ä»¥äº§ç”Ÿå“åº”ã€‚å¯¹äºä¸Šé¢çš„APIç¤ºä¾‹ï¼Œè¿™é€‚ç”¨äºå·²é€‰æ‹©è°“è¯çš„èŠ‚ç‚¹ä»¥åŠå¥åº·æ£€æŸ¥ç«¯ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡å­—æ®µè¾¹ç¼˜æ˜¾ç¤ºä¸ºé»˜è®¤çš„é»‘è‰²è¾¹ç¼˜ï¼Œå¸¦æœ‰ä¸€ä¸ªå¡«å……ç®­å¤´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Parameters&lt;/code&gt;è¾¹ç¼˜(&lt;code&gt;/*&lt;/code&gt;)ä»¥è“è‰²æ˜¾ç¤ºï¼Œä½¿ç”¨è±å½¢ç®­å¤´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PolicyEdges&lt;/code&gt;ä»¥çº¢è‰²æ˜¾ç¤ºï¼Œå¸¦æœ‰è™šçº¿å’Œç©ºä¸‰è§’å½¢ç®­å¤´ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ç°åœ¨ï¼Œæˆ‘æ‰¿è®¤æˆ‘çš„è®¾è®¡æŠ€å·§å¾ˆçƒ‚ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºæ‚¨å¯ä»¥åŒæ„è¿™ä¸ªå›¾è¡¨æ˜¾ç¤ºçš„ä¿¡æ¯æ¯”é»˜è®¤çš„è¦å¤šï¼ğŸ™‚--è¿™æ˜¯ç”Ÿæˆä¸Šé¢çš„å›¾å½¢çš„å®šä¹‰ï¼Œè¯·è®°ä½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨&lt;a href=&quot;https://dreampuf.github.io/GraphvizOnline/&quot;&gt;åœ¨çº¿ç¼–è¾‘&lt;/a&gt;æ¥å¯è§†åŒ–å’Œæ’­æ”¾æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-javascript&quot;&gt;digraph DFA {
  1 [label=&quot;/healthz/&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  2 [label=&quot;/api/Values/{...}/ HTTP: GET&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  3 [label=&quot;/api/Values/{...}/ HTTP: PUT&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  4 [label=&quot;/api/Values/{...}/ HTTP: DELETE&quot; shape=box style=filled color=&quot;brown&quot;  fontcolor=&quot;white&quot;]
  5 [label=&quot;/api/Values/{...}/ HTTP: *&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  6 -&amp;gt; 2 [label=&quot;HTTP: GET&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  6 -&amp;gt; 3 [label=&quot;HTTP: PUT&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  6 -&amp;gt; 4 [label=&quot;HTTP: DELETE&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  6 -&amp;gt; 5 [label=&quot;HTTP: *&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  6 [label=&quot;/api/Values/{...}/&quot;]
  7 [label=&quot;/api/Values/ HTTP: GET&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  8 [label=&quot;/api/Values/ HTTP: POST&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  9 [label=&quot;/api/Values/ HTTP: *&quot; shape=box style=filled color=&quot;brown&quot; fontcolor=&quot;white&quot;]
  10 -&amp;gt; 6 [label=&quot;/*&quot; arrowhead=diamond color=&quot;blue&quot;]
  10 -&amp;gt; 7 [label=&quot;HTTP: GET&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  10 -&amp;gt; 8 [label=&quot;HTTP: POST&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  10 -&amp;gt; 9 [label=&quot;HTTP: *&quot; color=&quot;red&quot; style=dashed arrowhead=open]
  10 [label=&quot;/api/Values/&quot;]
  11 -&amp;gt; 10 [label=&quot;/Values&quot;]
  11 [label=&quot;/api/&quot;]
  12 -&amp;gt; 1 [label=&quot;/healthz&quot;]
  12 -&amp;gt; 11 [label=&quot;/api&quot;]
  12 [label=&quot;/&quot;]
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ³¨æ„&lt;code&gt;&quot;HTTP: *&quot;&lt;/code&gt;èŠ‚ç‚¹ä¸ç«¯ç‚¹å…³è”ï¼Œå³ä½¿æ‚¨å¯èƒ½ä¸æœŸæœ›å®ƒï¼Œå› ä¸ºå®ƒä»¬è¿”å›&lt;code&gt;405 Method Not Allowed&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•è‡ªåŠ¨ä¸ºè‡ªå·±çš„ASP.NET Coreåº”ç”¨ç¨‹åºç”Ÿæˆç«¯ç‚¹å›¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»‹ç»äº†ç”¨äºæè¿°å›¾å½¢çš„DOTè¯­è¨€ï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨&lt;a href=&quot;https://dreampuf.github.io/GraphvizOnline&quot;&gt;åœ¨çº¿ç¼–è¾‘&lt;/a&gt;ä»å›¾è¡¨ä¸­åˆ›å»ºå›¾åƒã€‚ç„¶åï¼Œæˆ‘å±•ç¤ºäº†å¦‚ä½•å°†ASP.NETCore 3.xåº”ç”¨ç¨‹åºä¸­çš„ç«¯ç‚¹è·¯ç”±è¡¨ç¤ºä¸ºæœ‰å‘å›¾ã€‚æˆ‘æè¿°äº†ç«¯ç‚¹å›¾ä¸­ä¸åŒèŠ‚ç‚¹å’Œè¾¹ç¼˜ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶è°ƒæ•´äº†å›¾å½¢çš„æ˜¾ç¤ºä»¥æ›´å¥½åœ°è¡¨ç¤ºè¿™äº›å·®å¼‚ã€‚åœ¨åé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆè‡ªå·±çš„ç«¯ç‚¹å›¾ï¼Œå¦‚ä½•è‡ªå®šä¹‰æ˜¾ç¤ºï¼Œä»¥åŠå¦‚ä½•åšçš„ä¸ä»…ä»…æ˜¯æŸ¥çœ‹å›¾å½¢ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 16 Jul 2020 00:30:00 +0000</pubDate>
<dc:creator>ä¾ä¹ç¥</dc:creator>
<og:description>è¿™æ˜¯ç³»åˆ—æ–‡ç« ä¸­çš„ç¬¬ä¸€ç¯‡ï¼šä½¿ç”¨GraphvizOnlineå¯è§†åŒ–ASP.NETCore3.0ç»ˆç»“ç‚¹ã€‚. ç¬¬1éƒ¨åˆ†-ä½¿ç”¨DOTè¯­è¨€æ¥å¯è§†åŒ–ä½ çš„ASP.NETCore3.0ç»ˆç»“ç‚¹(æœ¬æ–‡) ç¬¬2éƒ¨åˆ†-å‘ASP</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yilezhu/p/13301981.html</dc:identifier>
</item>
<item>
<title>.Net Coreå¾®æœåŠ¡å…¥é—¨å…¨çºªå½•ï¼ˆå®Œç»“ï¼‰â€”â€”Ocelotä¸Swagger - xhznl</title>
<link>http://www.cnblogs.com/xhznl/p/13305767.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xhznl/p/13305767.html</guid>
<description>&lt;p&gt;Tipsï¼šæœ¬ç¯‡å·²åŠ å…¥&lt;a href=&quot;https://www.cnblogs.com/xhznl/p/13259036.html&quot; target=&quot;_blank&quot;&gt;ç³»åˆ—æ–‡ç« é˜…è¯»ç›®å½•&lt;/a&gt;ï¼Œå¯ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç›¸å…³æ–‡ç« ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šä¸€ç¯‡ã€&lt;a href=&quot;https://www.cnblogs.com/xhznl/p/13268940.html&quot;&gt;.Net Coreå¾®æœåŠ¡å…¥é—¨å…¨çºªå½•ï¼ˆå…«ï¼‰â€”â€”Docker Composeä¸å®¹å™¨ç½‘ç»œ&lt;/a&gt;ã€‘å®Œæˆäº†docker-compose.ymlæ–‡ä»¶çš„ç¼–å†™ï¼Œæœ€åä½¿ç”¨docker composeçš„ä¸€ä¸ªupæŒ‡ä»¤å³å¯åœ¨dockerä¸­è¿è¡Œæ•´ä¸ªå¤æ‚çš„ç¯å¢ƒã€‚æœ¬ç¯‡ç®€å•ä»‹ç»ä¸€ä¸‹Ocelotä¸Swaggerçš„é›†æˆï¼Œæ–¹ä¾¿åœ¨ç½‘å…³é¡¹ç›®ä¸­ç»Ÿä¸€æŸ¥çœ‹å„ä¸ªæœåŠ¡çš„apiæ–‡æ¡£ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œç½‘å…³é¡¹ç›®ï¼ŒæœåŠ¡é¡¹ç›® NuGetå®‰è£…&lt;code&gt;Swashbuckle.AspNetCore&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715101033247-1995013261.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æœåŠ¡é¡¹ç›®&quot;&gt;æœåŠ¡é¡¹ç›®&lt;/h2&gt;
&lt;p&gt;Order.APIé¡¹ç›®Startupï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;public void ConfigureServices(IServiceCollection services)
{
    services.AddSwaggerGen(c =&amp;gt;
    {
        c.SwaggerDoc(&quot;v1&quot;, new OpenApiInfo { Title = &quot;Order API&quot;, Version = &quot;v1&quot;, Description = &quot;# order service api...&quot; });
        // Set the comments path for the Swagger JSON and UI.
        var xmlFile = $&quot;{Assembly.GetExecutingAssembly().GetName().Name}.xml&quot;;
        var xmlPath = Path.Combine(AppContext.BaseDirectory, xmlFile);
        c.IncludeXmlComments(xmlPath);
        c.AddSecurityDefinition(&quot;Bearer&quot;, new OpenApiSecurityScheme()
        {
            Description = &quot;åœ¨ä¸‹æ¡†ä¸­è¾“å…¥è¯·æ±‚å¤´ä¸­éœ€è¦æ·»åŠ JwtæˆæƒTokenï¼šBearer Token&quot;,
            Name = &quot;Authorization&quot;,
            In = ParameterLocation.Header,
            Type = SecuritySchemeType.ApiKey,
            BearerFormat = &quot;JWT&quot;,
            Scheme = &quot;Bearer&quot;
        });

        c.AddSecurityRequirement(new OpenApiSecurityRequirement
        {
            {
                new OpenApiSecurityScheme{
                    Reference = new OpenApiReference {
                        Type = ReferenceType.SecurityScheme,
                        Id = &quot;Bearer&quot;}
                },new string[] { }
            }
        });
    });

    services.AddControllers();

    ......
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;public void Configure(IApplicationBuilder app, IWebHostEnvironment env, IHostApplicationLifetime lifetime, OrderContext orderContext)
{
    ......

    app.UseSwagger();
    app.UseSwaggerUI(c =&amp;gt;
    {
        c.SwaggerEndpoint(&quot;/swagger/v1/swagger.json&quot;, &quot;Order API V1&quot;);
    });

    app.UseRouting();

    ......
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰“å¼€é¡¹ç›®æ–‡ä»¶Order.API.csprojï¼Œæ·»åŠ ç”Ÿæˆæ–‡æ¡£çš„é…ç½®ï¼Œswaggerè¦ç”¨åˆ°ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;GenerateDocumentationFile&amp;gt;true&amp;lt;/GenerateDocumentationFile&amp;gt;
&amp;lt;NoWarn&amp;gt;$(NoWarn);1591&amp;lt;/NoWarn&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715140427198-1895302198.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Product.APIé¡¹ç›®ä¹Ÿæ˜¯ç±»ä¼¼çš„ä¿®æ”¹ï¼Œå°±ä¸è´´äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç½‘å…³é¡¹ç›®&quot;&gt;ç½‘å…³é¡¹ç›®&lt;/h2&gt;
&lt;p&gt;ç„¶åæ˜¯Ocelotç½‘å…³é¡¹ç›®çš„Startupï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;public void ConfigureServices(IServiceCollection services)
{
    services.AddSwaggerGen(c =&amp;gt;
    {
        c.SwaggerDoc(&quot;v1&quot;,
            new OpenApiInfo {Title = &quot;Gateway API&quot;, Version = &quot;v1&quot;, Description = &quot;# gateway api...&quot;});
    });

    services.AddControllers();

    ......
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    app.UseSwagger();
    app.UseSwaggerUI(c =&amp;gt;
    {
        c.SwaggerEndpoint(&quot;/order/swagger/v1/swagger.json&quot;, &quot;Order API V1&quot;);
        c.SwaggerEndpoint(&quot;/product/swagger/v1/swagger.json&quot;, &quot;Product API V1&quot;);
    });

    //è®¾ç½®Ocelotä¸­é—´ä»¶
    app.UseOcelot().Wait();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ocelot.jsoné…ç½®æ–‡ä»¶ï¼ŒRoutesèŠ‚ç‚¹ä¸‹å¢åŠ 2ä¸ªè·¯ç”±é…ç½®ï¼Œä¸åšæˆæƒï¼Œé™æµï¼Œç†”æ–­ç­‰é™åˆ¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-json&quot;&gt;{
  &quot;DownstreamPathTemplate&quot;: &quot;/swagger/v1/swagger.json&quot;,
  &quot;DownstreamScheme&quot;: &quot;http&quot;,
  &quot;UpstreamPathTemplate&quot;: &quot;/product/swagger/v1/swagger.json&quot;,
  &quot;UpstreamHttpMethod&quot;: [ &quot;Get&quot; ],
  &quot;ServiceName&quot;: &quot;ProductService&quot;,
  &quot;LoadBalancerOptions&quot;: {
    &quot;Type&quot;: &quot;RoundRobin&quot;
  }
},
{
  &quot;DownstreamPathTemplate&quot;: &quot;/swagger/v1/swagger.json&quot;,
  &quot;DownstreamScheme&quot;: &quot;http&quot;,
  &quot;UpstreamPathTemplate&quot;: &quot;/order/swagger/v1/swagger.json&quot;,
  &quot;UpstreamHttpMethod&quot;: [ &quot;Get&quot; ],
  &quot;ServiceName&quot;: &quot;OrderService&quot;,
  &quot;LoadBalancerOptions&quot;: {
    &quot;Type&quot;: &quot;RoundRobin&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è¿è¡Œæµ‹è¯•&quot;&gt;è¿è¡Œæµ‹è¯•&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨docker-compose buildï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715141738081-807649742.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;buildå®Œæˆåå¯åŠ¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715141812247-907876642.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨è®¿é—®ç½‘å…³é¡¹ç›®ï¼š&lt;a href=&quot;http://localhost:9070/swagger&quot;&gt;http://localhost:9070/swagger&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715142132398-1619949664.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¥å£æµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715142446759-641899842.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å› ä¸ºæ²¡æœ‰æˆæƒæ‰€ä»¥è¿”å›401ï¼Œä¸ºäº†æ–¹ä¾¿è·å–tokenï¼Œæˆ‘åœ¨IDS4.AuthCenteré¡¹ç›®å¢åŠ äº†ä¸€ä¸ªå®¢æˆ·ç«¯é…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-csharp&quot;&gt;new Client
{
    ClientId = &quot;postman client&quot;,
    ClientName = &quot;Postman Client&quot;,

    AllowedGrantTypes = GrantTypes.ClientCredentials,
    ClientSecrets = { new Secret(&quot;postman client secret&quot;.Sha256()) },

    AllowedScopes = new [] {&quot;orderApiScope&quot;, &quot;productApiScope&quot;},
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨postmanè·å–tokenï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715143128615-939765931.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‹¿åˆ°tokenå¡«å…¥æ–‡æœ¬æ¡†ï¼Œæ ¼å¼æ˜¯Bearer xxxxxxï¼Œæ³¨æ„ç©ºæ ¼ã€‚è¿™é‡Œçš„æç¤ºæ–‡å­—ä¹±ç äº†ï¼Œåº”è¯¥æ˜¯åœ¨dockerä¸­è¿è¡Œçš„åŸå› ï¼Œè¿™ä¸ªä¸å½±å“å…ˆä¸ç®¡ä»–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715143328545-1483362985.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¡«å…¥tokenåå†æ¬¡è¯·æ±‚æ¥å£ï¼Œå°±å¯ä»¥æ­£å¸¸è¿”å›äº†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/610959/202007/610959-20200715143813223-1885532782.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒOcelotä¸Swaggerçš„é›†æˆå°±å®Œæˆäº†ã€‚æœ¬ç¯‡å†…å®¹æ¯”è¾ƒç®€å•ï¼Œswaggeråº”è¯¥å¤§éƒ¨åˆ†äººéƒ½ç”¨è¿‡ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—åšå®¢å°±åˆ°æ­¤ç»“æŸäº†ï¼Œæœ¬æ¥ä¹Ÿå°±æ˜¯å…¥é—¨çº§åˆ«çš„ã€‚å†å¾€åå¯èƒ½å°±æ˜¯æ›´æ·±å…¥çš„æœåŠ¡æ²»ç†ï¼Œæ¯”å¦‚æ—¥å¿—ã€ç›‘æ§ã€é“¾è·¯è¿½è¸ªç­‰ï¼›æœåŠ¡çš„æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ï¼›å®¹å™¨ç¼–æ’ï¼ˆk8sï¼‰ï¼›æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰ç­‰ç­‰ã€‚ã€‚ã€‚è¿™äº›éƒ½ä¸å±äºå…¥é—¨çš„èŒƒå›´äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¸æ˜¯æ¯ä¸ªå…¬å¸éƒ½é€‚åˆk8sï¼Œä¹Ÿä¸æ˜¯æ¯ä¸ªé¡¹ç›®éƒ½è¦åšå¾®æœåŠ¡ã€‚ä¸ºäº†ç›²ç›®æ¨å´‡æŸä¸ªæŠ€æœ¯è€Œå»ä½¿ç”¨å®ƒæ—¶ï¼Œå®ƒä¾¿å¤±å»äº†åŸæœ¬çš„ä»·å€¼ã€‚æŠ€æœ¯æœ¬ä¸åˆ†é«˜ä½ï¼Œé€‚åˆè‡ªå·±çš„å°±æ˜¯æœ€å¥½çš„ã€‚æ„Ÿè°¢å…³æ³¨æˆ‘çš„å°ä¼™ä¼´ä»¬ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;æ¨èå‡ ä¸ªå­¦ä¹ å…¥å£ï¼š&lt;br/&gt;&lt;a href=&quot;https://space.bilibili.com/361469957/&quot;&gt;https://space.bilibili.com/361469957/&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://space.bilibili.com/431596483/&quot;&gt;https://space.bilibili.com/431596483/&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://github.com/dotnet-architecture/eShopOnContainers&quot;&gt;https://github.com/dotnet-architecture/eShopOnContainers&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://docs.microsoft.com/&quot;&gt;https://docs.microsoft.com/&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 16 Jul 2020 00:20:00 +0000</pubDate>
<dc:creator>xhznl</dc:creator>
<og:description>Tipsï¼šæœ¬ç¯‡å·²åŠ å…¥ç³»åˆ—æ–‡ç« é˜…è¯»ç›®å½•ï¼Œå¯ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç›¸å…³æ–‡ç« ã€‚ å‰è¨€ ä¸Šä¸€ç¯‡ã€.Net Coreå¾®æœåŠ¡å…¥é—¨å…¨çºªå½•ï¼ˆå…«ï¼‰â€”â€”Docker Composeä¸å®¹å™¨ç½‘ç»œã€‘å®Œæˆäº†docker-compose.y</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xhznl/p/13305767.html</dc:identifier>
</item>
<item>
<title>Flutter å¿«æ·å¼€å‘ Mac Android Studio ç¯‡ - è€å­ŸFlutter</title>
<link>http://www.cnblogs.com/mengqd/p/13320641.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mengqd/p/13320641.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072416321-1369196971.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;4.280487804878&quot;&gt;
&lt;p&gt;è€å­Ÿå¯¼è¯»ï¼šæ­¤å¿«æ·æ–¹å¼é€‚ç”¨äºMacä¸‹çš„ Android Studio ã€‚Windows ä¸‹çš„å¿«æ·æ–¹å¼è¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š&lt;a href=&quot;https://juejin.im/post/5efe71365188252e7d7fd0ca&quot;&gt;https://juejin.im/post/5efe71365188252e7d7fd0ca&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ–°çš„stateless-or-statefulç»„ä»¶&quot;&gt;å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ–°çš„Stateless or Statefulç»„ä»¶&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºæ–°çš„ Stateless ç»„ä»¶ï¼Œè¾“å…¥stlessï¼Œå›è½¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072416794-1158056129.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºæ–°çš„ Stateful ç»„ä»¶ï¼Œè¾“å…¥ stfulï¼Œå›è½¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072417154-1587405525.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºæ–°çš„ åŠ¨ç”»ç»„ä»¶ï¼Œè¾“å…¥ stanimï¼Œå›è½¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072417461-358360686.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å…¶ä»–çš„ä¸€äº›å¿«æ·æ–¹å¼ï¼Œè¿™é‡Œä¸ä¸€ä¸€ä»‹ç»ï¼Œè¿™äº›å¿«æ·æ–¹å¼åœ¨ &lt;strong&gt;Preferences&lt;/strong&gt; ä¸­å¯ä»¥æ‰¾åˆ°ï¼Œè·¯å¾„ï¼šPreferences -&amp;gt; Editor -&amp;gt; Live Templates:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072417835-756910151.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Dart å’Œ Flutter ä¸‹å°±æ˜¯å¿«æ·æ–¹å¼ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œä¸Šé¢æˆ‘çš„å¿«æ·æ–¹å¼ç›´æ¥å¯¼å…¥åŒ…å’Œæ³¨é‡Šï¼Œæ˜¯è‡ªå·±åŠ çš„ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072418596-1141512837.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰å¿«æ·é”®ï¼Œé€‰ä¸­ Flutterï¼Œç‚¹å‡»å³ä¸Šè§’çš„ &lt;strong&gt;+&lt;/strong&gt; å·ï¼Œé€‰æ‹© Live Templateï¼Œç„¶åè¾“å…¥åç§°å’Œç”Ÿæˆçš„ä»£ç ï¼Œç‚¹å‡» &lt;strong&gt;OK&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072418921-1844245099.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€ä½éƒ¨ä¼šå‡ºç°è­¦å‘Šï¼Œé€‰ä¸­ Dart ï¼Œç‚¹å‡» OKã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072419222-1592800041.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œè¾“å…¥ testï¼Œå›è½¦å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;file-and-code-templates&quot;&gt;File And Code Templates&lt;/h3&gt;
&lt;p&gt;åˆ›å»º Dart æ–‡ä»¶æ—¶ï¼Œç”Ÿæˆé»˜è®¤ä»£ç ï¼Œæ‰“å¼€ Preferences -&amp;gt; Editor -&amp;gt; File And Code Templatesï¼Œé€‰ä¸­å³ä¾§çš„ Files æ ‡ç­¾ï¼Œé»˜è®¤é‡Œé¢æ˜¯ç©ºçš„&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072419445-1973265751.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŠ å…¥è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;import 'package:flutter/material.dart';

///
/// des:
///
class ${NAME} extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Container();
  }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072419675-569298730.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ª home_page çš„ dart æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072419955-1655326514.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ–°åˆ›å»ºçš„ dart æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆäº†é¢„ç½®çš„ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ ¼å¼åŒ–ä»£ç &quot;&gt;æ ¼å¼åŒ–ä»£ç &lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼šoption + command + Lï¼ˆå­—æ¯ L é”®ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072420227-144247190.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ¸…é™¤æ— ç”¨å¼•ç”¨&quot;&gt;æ¸…é™¤æ— ç”¨å¼•ç”¨&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼šcontrol + option + Oï¼ˆå­—æ¯ O é”®ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072420473-1868397000.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰è¿›åé€€å…‰æ ‡çš„ä½ç½®&quot;&gt;å‰è¿›/åé€€å…‰æ ‡çš„ä½ç½®&lt;/h3&gt;
&lt;p&gt;å½“è·Ÿè¸ªä»£ç çš„æ—¶å€™ï¼Œç»å¸¸è·³è½¬åˆ°å…¶ä»–ç±»ï¼Œåé€€å¿«æ·é”®ï¼šoption+command+æ–¹å‘å·¦é”®ï¼Œå‰è¿›å¿«æ·é”®ï¼šoption+command+æ–¹å‘å³é”®ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072421258-138501585.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥çœ‹å½“å‰ç±»çš„ç»§æ‰¿å…³ç³»&quot;&gt;æŸ¥çœ‹å½“å‰ç±»çš„ç»§æ‰¿å…³ç³»&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼š control + H&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072421674-49898877.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æ³¨æ„ï¼šé€‰ä¸­ build ä¸­ Container ï¼ŒæŒ‰å¿«æ·é”®æ— æ•ˆï¼Œå¿…é¡»è¿›å…¥ Container æºä»£ç ï¼Œé€‰ä¸­ Container ç±»åï¼Œæ‰å¯ä»¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;æ³¨é‡Š&quot;&gt;æ³¨é‡Š&lt;/h3&gt;
&lt;p&gt;å•è¡Œæ³¨é‡Šï¼šcommand + / ã€‚&lt;/p&gt;
&lt;p&gt;å¤šè¡Œæ³¨é‡Š/**/ï¼šoption + command + / æˆ–è€…é€‰ä¸­å¤šè¡Œ ï¼šcommand + /&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072422342-1115250399.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥æ‰¾å¼•ç”¨&quot;&gt;æŸ¥æ‰¾å¼•ç”¨&lt;/h3&gt;
&lt;p&gt;é€‰ä¸­è¦æŸ¥æ‰¾çš„ç±»æˆ–è€…æ–¹æ³•ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼šcommand + Gï¼Œåº•éƒ¨å¼¹å‡ºå¼•ç”¨åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072422743-60109253.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è‡ªåŠ¨å¼•å…¥åŒ…&quot;&gt;è‡ªåŠ¨å¼•å…¥åŒ…&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼šoption + å›è½¦ï¼Œé€‰æ‹©æ­£ç¡®çš„åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072423004-1120885309.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è‡ªåŠ¨å®šä½&quot;&gt;è‡ªåŠ¨å®šä½&lt;/h3&gt;
&lt;p&gt;å³ä¾§è¿›å…¥ä¸€ä¸ªä»£ç æ–‡ä»¶æ—¶ï¼Œå·¦ä¾§è‡ªå®šå®šä½åˆ°æ­¤æ–‡ä»¶ï¼Œåœ¨ project æ ‡ç­¾ è®¾ç½®ä¸­å‹¾é€‰ Autoscroll to source å’Œ Autoscroll from sourceã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072423202-1068119381.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„å·¦ä¾§ project æ ‡ç­¾å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072423533-375781048.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å½“å‰æ–‡ä»¶æœç´¢&quot;&gt;å½“å‰æ–‡ä»¶æœç´¢&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼š command + F&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072423765-1661274111.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å…¨å±€æœç´¢&quot;&gt;å…¨å±€æœç´¢&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼šcommand + shift + F&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072423925-159500341.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æœç´¢æ–‡ä»¶ï¼š&quot;&gt;æœç´¢æ–‡ä»¶ï¼š&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼šç‚¹å‡»2æ¬¡ shift&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072424142-140318151.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ï¼š&quot;&gt;è‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ï¼š&lt;/h3&gt;
&lt;p&gt;é€‰ä¸­ final å‚æ•°ï¼Œå¿«æ·é”®ï¼šoption + å›è½¦&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072424511-237765495.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ·»åŠ çˆ¶ç»„ä»¶ã€å˜ä¸ºå­ç»„ä»¶ã€åˆ é™¤å­ç»„ä»¶&quot;&gt;æ·»åŠ çˆ¶ç»„ä»¶ã€å˜ä¸ºå­ç»„ä»¶ã€åˆ é™¤å­ç»„ä»¶&lt;/h3&gt;
&lt;p&gt;å¿«æ·é”®ï¼š option+å›è½¦&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072429272-1676272846.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç»™å½“å‰ç»„ä»¶æ·»åŠ  &lt;strong&gt;Center&lt;/strong&gt;ã€ &lt;strong&gt;Padding&lt;/strong&gt;ã€&lt;strong&gt;Column&lt;/strong&gt; ç­‰çˆ¶ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€‰æ‹©ç»„ä»¶è¿›è¡Œåˆ é™¤ã€ç§»åŠ¨ç»„ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥çœ‹uiå¤§çº²&quot;&gt;æŸ¥çœ‹UIå¤§çº²&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€ &lt;strong&gt;Flutter Outline&lt;/strong&gt; æ ‡ç­¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072429622-506375342.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ¸…æ¥šçš„çœ‹æ¸… UI ç»“æ„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å°†ä»£ç æå–åˆ°æ–¹æ³•ä¸­&quot;&gt;å°†ä»£ç æå–åˆ°æ–¹æ³•ä¸­&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€ &lt;strong&gt;Flutter Outline&lt;/strong&gt; æ ‡ç­¾ï¼Œç‚¹å‡»å‘å³ç®­å¤´çš„å›¾æ ‡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072430234-1727585758.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;flutter-èµ„æºç½‘ç«™&quot;&gt;Flutter èµ„æºç½‘ç«™&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;å®˜ç½‘ï¼š&lt;a href=&quot;https://flutter.dev/&quot;&gt;https://flutter.dev/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¸­æ–‡ç½‘ï¼š&lt;a href=&quot;https://flutterchina.club/&quot;&gt;https://flutterchina.club/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Flutter ä¸­æ–‡ç¤¾åŒºèµ„æºï¼š&lt;a href=&quot;https://flutter-io.cn/&quot;&gt;https://flutter-io.cn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pub(å›½å†…)ï¼š&lt;a href=&quot;https://pub.flutter-io.cn/&quot;&gt;https://pub.flutter-io.cn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pubï¼š&lt;a href=&quot;https://pub.dev/&quot;&gt;https://pub.dev/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;DartPadï¼š&lt;a href=&quot;https://dartpad.dartlang.org/&quot;&gt;https://dartpad.dartlang.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Dart å®˜ç½‘ï¼š&lt;a href=&quot;https://dart.dev/&quot;&gt;https://dart.dev/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CodePenï¼š&lt;a href=&quot;https://codepen.io/&quot;&gt;https://codepen.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Json è½¬å®ä½“ç±»ï¼š&lt;a href=&quot;https://javiercbk.github.io/json_to_dart/&quot;&gt;https://javiercbk.github.io/json_to_dart/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æœ€åéš†é‡æ¨èä¸€ä¸‹æˆ‘çš„åšå®¢ï¼š&lt;a href=&quot;http://laomengit.com/flutter/widgets/widgets_structure.html&quot;&gt;http://laomengit.com/flutter/widgets/widgets_structure.html&lt;/a&gt;ï¼ŒåŒ…å«äº† 330 ä¸ªç»„ä»¶è¯¦ç»†ç”¨æ³•å’Œ Flutter å®æˆ˜ç³»åˆ—æ–‡ç« ã€‚&lt;/p&gt;
&lt;h2 id=&quot;äº¤æµ&quot;&gt;äº¤æµ&lt;/h2&gt;
&lt;p&gt;è€å­ŸFlutteråšå®¢åœ°å€ï¼ˆ330ä¸ªæ§ä»¶ç”¨æ³•ï¼‰ï¼š&lt;a href=&quot;http://laomengit.com&quot;&gt;http://laomengit.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿åŠ å…¥Flutteräº¤æµç¾¤ï¼ˆå¾®ä¿¡ï¼šlaomengitï¼‰ã€å…³æ³¨å…¬ä¼—å·ã€è€å­ŸFlutterã€‘ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th/&gt;
&lt;th/&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072430976-1013436672.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202007/467322-20200716072431887-1440468136.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</description>
<pubDate>Wed, 15 Jul 2020 23:25:00 +0000</pubDate>
<dc:creator>è€å­ŸFlutter</dc:creator>
<og:description>è€å­Ÿå¯¼è¯»ï¼šæ­¤å¿«æ·æ–¹å¼é€‚ç”¨äºMacä¸‹çš„ Android Studio ã€‚Windows ä¸‹çš„å¿«æ·æ–¹å¼è¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps://juejin.im/post/5efe71365188252e7d7f</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mengqd/p/13320641.html</dc:identifier>
</item>
<item>
<title>Babelï¼šä¸‹ä¸€ä»£Javascriptè¯­æ³•ç¼–è¯‘å™¨ - ä¸°è‡£æ­£ä¸€</title>
<link>http://www.cnblogs.com/cnroadbridge/p/13311360.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/cnroadbridge/p/13311360.html</guid>
<description>&lt;h2 id=&quot;å®šä¹‰&quot;&gt;å®šä¹‰&lt;/h2&gt;
&lt;p&gt;Babelæ˜¯ä¸€ä¸ªJavascriptçš„ç¼–è¯‘å™¨ï¼Œé€šè¿‡å®ƒä½ å¯ä»¥å°†ä¸€äº›æ–°ç‰ˆæœ¬çš„ECMAScriptè¯­æ³•è½¬æ¢æˆä½ç‰ˆæœ¬çš„è¯­æ³•ã€‚ä»¥ä¾¿èƒ½å¤Ÿåœ¨ä½ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–è€…å…¶å®ƒç¯å¢ƒå¹³ç¨³è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æˆªè‡³ç›®å‰ç¬”è€…å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œbabelçš„ç‰ˆæœ¬æ˜¯7.10.0&lt;/p&gt;
&lt;h2 id=&quot;å®è·µ&quot;&gt;å®è·µ&lt;/h2&gt;
&lt;h3 id=&quot;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®&quot;&gt;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;mkdir babel-study &amp;amp;&amp;amp; cd babel-study&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®ï¼Œå¹¶å®‰è£…ç›¸å…³ä¾èµ–åŒ…&quot;&gt;ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®ï¼Œå¹¶å®‰è£…ç›¸å…³ä¾èµ–åŒ…&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;npm init -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;npm i @babel/cli @babel/core @babel/preset-env --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç›¸å…³ä¾èµ–åŒ…è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;@babel/cli: helloï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯è„šæ‰‹æ¶å·¥å…·ï¼Œæˆ‘å¯ä»¥é€šè¿‡ä¸€äº›å‘½ä»¤å°†æºæ–‡ä»¶ç¼–è¯‘æˆç›®æ ‡ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;@babel/core: helloï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯ä¸€ä¸ªä»£ç åˆ†æé€‰æ‰‹ï¼Œæˆ‘è´Ÿè´£å°†ä»£ç åˆ†æç§°astï¼Œæ–¹ä¾¿å…¶ä»–æ’ä»¶è¿›è¡Œç›¸å…³å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;@babel/preset-env: helloï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯ä¸€ä¸ªè¯­æ³•è½¬ä¹‰å™¨ï¼Œæˆ‘è´Ÿè´£çš„å†…å®¹æ˜¯å°†JSçš„ç›¸å…³è¯­æ³•è¿›è¡Œç¼–è¯‘ï¼Œå…³äºè½¬ä¹‰æ–°å¢çš„APIå’Œå…¨å±€å¯¹è±¡è¿™ä¸ªæˆ‘ä¸è´Ÿè´£çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¬¬ä¸‰æ­¥ï¼šé…ç½®babelrc&quot;&gt;ç¬¬ä¸‰æ­¥ï¼šé…ç½®.babelrc&lt;/h3&gt;
&lt;p&gt;æ¥¼ä¸‹è¿™å‡ ä½å°±æ˜¯å¸¸ç”¨çš„babelé…ç½®å‚æ•°äº†ï¼Œè¿™é‡Œåšç®€è¦ä»‹ç»&lt;/p&gt;
&lt;h4 id=&quot;presetsé¢„è®¾&quot;&gt;presets(é¢„è®¾)&lt;/h4&gt;
&lt;p&gt;æ—©æœŸçš„ç‰ˆæœ¬å…¶å®æ˜¯å¼•å…¥ç±»ä¼¼&lt;code&gt;babel-preset-x&lt;/code&gt;,è¿™ç§å½¢å¼çš„åŒ…ï¼Œç°åœ¨å®˜æ–¹æ¨èç»Ÿä¸€ç”¨&lt;code&gt;@babel/preset-env&lt;/code&gt;,è¿™ä¸ªåŒ…æ¥åšè¯­æ³•è½¬ä¹‰å™¨è¿™éƒ¨åˆ†çš„å·¥ä½œã€‚&lt;/p&gt;
&lt;h4 id=&quot;pluginsæ’ä»¶&quot;&gt;plugins(æ’ä»¶)&lt;/h4&gt;
&lt;p&gt;å¼¥è¡¥babelæœ¬èº«ä¸Šçš„åŠŸèƒ½ä¸è¶³ï¼Œæ¯”å¦‚è½¬ä¹‰æ–°å¢çš„APIå’Œå…¨å±€å¯¹è±¡å¯èƒ½å°±éœ€è¦ç”¨åˆ°ä¸€äº›æ–°çš„æ’ä»¶æ¥åšè¿™éƒ¨åˆ†å·¥ä½œï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè¡¥ä¸è½¬ä¹‰å™¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ignoreå¿½ç•¥&quot;&gt;ignore(å¿½ç•¥)&lt;/h4&gt;
&lt;p&gt;æŠŠä¸éœ€è¦babelç¼–è¯‘çš„æ–‡ä»¶å†™é…ç½®åˆ°è¿™ä¸ªå‚æ•°é‡Œé¢ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ã€‚&lt;/p&gt;
&lt;h4 id=&quot;minifiedï¼ˆå‹ç¼©ï¼‰&quot;&gt;minifiedï¼ˆå‹ç¼©ï¼‰&lt;/h4&gt;
&lt;p&gt;Booleanç±»å‹çš„ï¼Œå°†å…¶è®¾ç½®ä¸ºtrueåï¼Œç¼–è¯‘åçš„æ–‡ä»¶ä¼šè¢«å‹ç¼©ã€‚&lt;/p&gt;

&lt;p&gt;Booleanç±»å‹çš„ï¼Œå°†å…¶è®¾ç½®ä¸ºtrueåï¼Œç¼–è¯‘åçš„æ–‡ä»¶ä¼šæœ‰æ³¨é‡Šï¼ˆä½ é¡¹ç›®å¼€å‘ä¸­å†™çš„æ³¨é‡Šï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&quot;envç¯å¢ƒå˜é‡&quot;&gt;env(ç¯å¢ƒå˜é‡)&lt;/h4&gt;
&lt;p&gt;babelè¿è¡Œçš„ç¯å¢ƒå˜é‡ï¼Œå¦‚æœè®¾ç½®äº†&lt;code&gt;BABEL_ENV&lt;/code&gt;åˆ™ä½¿ç”¨å®ƒï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œå®ƒä¼šå»æ‰¾æœ‰æ²¡æœ‰&lt;code&gt;NODE_ENV&lt;/code&gt;ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œé‚£å°±æ˜¯èµ°é»˜è®¤&lt;code&gt;development&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œé™„ä¸Šä¸€ä»½æˆ‘è°ƒç ”åçš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;{
  &quot;presets&quot;: [[
    &quot;@babel/preset-env&quot;, {
      // &quot;modules&quot;: false,
      &quot;corejs&quot;: &quot;3&quot;, 
      &quot;useBuiltIns&quot;: &quot;usage&quot;,
      &quot;targets&quot;: {
        &quot;node&quot;: &quot;4&quot;
        // &quot;browsers&quot;: [&quot;last 2 versions&quot;]
      }
    }
  ]],
  &quot;plugins&quot;: [&quot;@babel/plugin-transform-runtime&quot;],
  &quot;env&quot;: {
    &quot;test&quot;: {
      &quot;presets&quot;: [[
        &quot;@babel/preset-env&quot;, {
          &quot;modules&quot;: false,
          &quot;targets&quot;: {
            &quot;node&quot;: &quot;current&quot;,
            // &quot;chrome&quot;: &quot;83&quot;,
            // &quot;edge&quot;: &quot;17&quot;,
            // &quot;firefox&quot;: &quot;68&quot;,
            // &quot;ie&quot;: &quot;11&quot;,
            // &quot;ios&quot;: &quot;11.3&quot;,
            // &quot;safari&quot;: &quot;5.1&quot;,
            // &quot;samsung&quot;: &quot;9.2&quot;,
            &quot;browsers&quot;: [&quot;last 2 versions&quot;]
          }
        }
      ]],
      &quot;minified&quot;: true,  
      &quot;comments&quot;: true,
      &quot;ignore&quot;: [&quot;./src/test.js&quot;]
    },
    &quot;development&quot;: {
      &quot;presets&quot;: [[
        &quot;@babel/preset-env&quot;, {
          &quot;targets&quot;: {
            &quot;browsers&quot;: [&quot;last 2 versions&quot;, &quot;safari 7&quot;]
          }
        }
      ]]
    },
    &quot;production&quot;: {
      &quot;presets&quot;: [[
        &quot;@babel/preset-env&quot;, {
          &quot;targets&quot;: {
            &quot;browsers&quot;: [&quot;&amp;gt; 1%&quot;, &quot;last 2 versions&quot;, &quot;not ie &amp;lt;= 8&quot;]
          }
        }
      ]],
      &quot;plugins&quot;: [&quot;@babel/runtime&quot;],
      &quot;minified&quot;: true,  
      &quot;comments&quot;: true
    }
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œç®€è¦è¯´æ˜ä¸‹ï¼Œmodulesé»˜è®¤ä¸ºtrueçš„ï¼Œåœ¨nodeçš„ç¯å¢ƒä¸‹ï¼ˆæ”¯æŒCOMMONJSï¼‰ï¼Œå¦‚æœä½¿ç”¨ES Moduleçš„è¯­æ³•ï¼ˆimportã€exportï¼‰ï¼Œç„¶åå°†å…¶è®¾ç½®ä¸ºfalseï¼Œä½ ä¼šå‘ç°å…¥å£æ–‡ä»¶æ²¡æœ‰è¢«ç¼–è¯‘ï¼Œæ‰€æœ‰è¿™é‡ŒæŠŠå®ƒå»æ‰äº†ã€‚ç„¶åtargetsä¸‹é¢ä½ å¯ä»¥å•ç‹¬è®¾ç½®ç›¸å…³ç¯å¢ƒçš„æ”¯æŒç‰ˆæœ¬ï¼Œbrowsersçš„ä¼˜å…ˆçº§é«˜äºå…¶ä»–çš„ã€‚babel7.4.0ä»¥åï¼ŒåºŸå¼ƒäº†polyfillï¼Œéœ€è¦å•ç‹¬å®‰è£…core-js&lt;/p&gt;
&lt;h3 id=&quot;ç¬¬å››æ­¥ï¼šç¼–å†™ç›¸å…³æµ‹è¯•ä»£ç &quot;&gt;ç¬¬å››æ­¥ï¼šç¼–å†™ç›¸å…³æµ‹è¯•ä»£ç &lt;/h3&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬æµ‹è¯•ä¸‹ES Moduleå†™æ³•ï¼Œç„¶åä¸€äº›æ–°çš„APIçš„è½¬ä¹‰æƒ…å†µ,æ¯”å¦‚æ•°ç»„çš„includeï¼Œç®­å¤´å‡½æ•°ã€æ¨¡æ¿å­—ç¬¦ä¸²ã€Promiseç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è€ƒè™‘ç›¸å…³çš„å†™æ³•æ˜¯ä¸æ˜¯å†—ä½™ï¼Œå•çº¯åœ°å°±æ˜¯ä¸ºäº†æµ‹è¯•ä¸‹ç¼–è¯‘æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;animal.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Animal {
  constructor(name) {
    this.name = name;
  }

  eat() {
    console.log(`${this.name} is eating!`);
  }
}

export default Animal;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;person.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;import Animal from './animal';

class Person extends Animal {
  constructor(name, sex) {
    super(name);
    this.name = name;
    this.sex = sex;
    this.sexMap = new Map([[1, 'ç”·'], [0, 'å¥³']]);
  }

  sing() {
    console.log(`${this.name} is singing!`);
  }

  getSex() {
    if (![0, 1].includes(this.sex)) {
      return false;
    } else {
      return this.sexMap.get(this.sex);
    }
  }

  testArr(arr) {
    return arr.map(item =&amp;gt; item * 2);
  }

  testPromise() {
    return new Promise((resolve, reject) =&amp;gt; {
      setTimeout(() =&amp;gt; {
        resolve(2020);
      }, 2000);
    });
  }
}

export default Person;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;index.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;import Person from './person';
// æˆ‘å°±æ˜¯è¯•è¯•
let ataola = new Person('ataola', 1);
ataola.eat();
ataola.sing();
const sex = ataola.getSex();
console.log(sex);
let testArr = ataola.testArr([0, 1, 2]);
console.log(testArr);
ataola.testPromise().then(res =&amp;gt; {
  console.log(res);
});
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;ç¬¬äº”æ­¥ï¼šbabel-cliçš„ä½¿ç”¨&quot;&gt;ç¬¬äº”æ­¥ï¼šbabel-cliçš„ä½¿ç”¨&lt;/h3&gt;
&lt;h4 id=&quot;ç¼–è¯‘é¡¹ç›®æ–‡ä»¶&quot;&gt;ç¼–è¯‘é¡¹ç›®æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;# å•çº¯æ‰§è¡Œ, å®ƒä¼šåœ¨æ§åˆ¶å°æ‰“å‡ºç¼–è¯‘åçš„ä¿¡æ¯
babel index.js

# å®Œæ•´å†™æ³•
babel index.js --out-file bundle.js
# ç®€å†™å½¢å¼
babel index.js -o bundle.js
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;ç¼–è¯‘é¡¹ç›®æ–‡ä»¶å¤¹&quot;&gt;ç¼–è¯‘é¡¹ç›®æ–‡ä»¶å¤¹&lt;/h4&gt;
&lt;pre&gt;
&lt;code&gt;# å®Œæ•´å†™æ³•
babel src -out-dir dist
# ç®€å†™å½¢å¼
babel src -d dist
# ç”Ÿæˆsourc mapæ–‡ä»¶
babel src -d dist -s
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;babel-node&quot;&gt;babel-node&lt;/h4&gt;
&lt;p&gt;babel-cliå¤©ç„¶è‡ªå¸¦äº†ä¸€ä¸ªbabel-nodeçš„å‘½ä»¤ï¼Œæ‹†åˆ†ä¸€ä¸‹ä¹Ÿå°±æ˜¯babel + nodeï¼Œæä¾›äº†ä¸€ä¸ªæ”¯æŒES6çš„REPLç¯å¢ƒï¼Œä½ å¯ä»¥è¿™ä¹ˆç©ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# ç›´æ¥è¿›åˆ°è¿™ä¸ªç¯å¢ƒ
babel-node

# ç›´æ¥æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶çš„ä»£ç 
babel-node index.js
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åé™„ä¸Šæˆ‘çš„æµ‹è¯•è„šæœ¬&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; ...
 &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;amp;&amp;amp; exit 1&quot;,
    &quot;build:dir&quot;: &quot;babel src -d dist&quot;,
    &quot;build:dir:prod&quot;: &quot;cross-env BABEL_ENV=production babel src -d dist&quot;,
    &quot;build:dir:dev&quot;: &quot;cross-env BABEL_ENV=development babel src -d dist&quot;,
    &quot;build:dir:test&quot;: &quot;cross-env BABEL_ENV=test babel src -d dist&quot;,
    &quot;build:dir:s&quot;: &quot;babel src -d dist -s&quot;,
    &quot;build:file&quot;: &quot;babel ./test/babel_core.test.js -o bundle.js&quot;
  },
  ...
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;é¡¹ç›®åœ°å€ï¼š&lt;/strong&gt; &lt;a href=&quot;https://github.com/ataola/JavaScript-Tsukuki/tree/master/code/babel-study&quot;&gt;https://github.com/ataola/JavaScript-Tsukuki/tree/master/code/babel-study&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜æ€è€ƒ&quot;&gt;é—®é¢˜æ€è€ƒ&lt;/h2&gt;
&lt;h3 id=&quot;åœ¨é¡¹ç›®ä¸­ä½¿ç”¨babelï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…è¿™ä¹ˆè¯´å®ƒçš„æ„ä¹‰ä½•åœ¨ï¼Ÿ&quot;&gt;åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Babelï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…è¿™ä¹ˆè¯´å®ƒçš„æ„ä¹‰ä½•åœ¨ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å°†é«˜ç‰ˆæœ¬çš„JSè¯­æ³•è½¬æ¢æˆä½ç‰ˆæœ¬çš„JSè¯­æ³•ï¼Œå¯å…¼å®¹ä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–è€…è¿è¡Œç¯å¢ƒï¼Œåˆ’é‡ç‚¹ï¼Œè§£å†³äº†ä»£ç åœ¨ä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚äººçš„è„‘å®¹é‡éƒ½æ˜¯æœ‰é™çš„ï¼Œå…¼å®¹çš„äº‹æƒ…å°±æ„‰å¿«åœ°äº¤ç»™å®ƒå§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨babelåï¼ŒæŠŠæºä»£ç ç¼–è¯‘æˆæ›´å¤æ‚æ›´éš¾æ‡‚ä¸€å¨å¨çš„ä¸œè¥¿ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦å»ç”¨å®ƒï¼Ÿ&quot;&gt;ä½¿ç”¨Babelåï¼ŒæŠŠæºä»£ç ç¼–è¯‘æˆæ›´å¤æ‚æ›´éš¾æ‡‚ä¸€å¨å¨çš„ä¸œè¥¿ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦å»ç”¨å®ƒï¼Ÿ&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œè¿™ç»å¯¹ä¸æ˜¯ä¸ºäº†è£…é€¼ï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†æ··æ·†ä»£ç ã€‚æˆ‘ä»¬å…ˆæ€è€ƒä¸‹ä½¿ç”¨é«˜ç‰ˆæœ¬çš„è¯­æ³•å®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿæœ‰ä¸€äº›å…¶å®æ˜¯ä½ç‰ˆæœ¬çš„è¯­æ³•ç³–ï¼Œä½¿ç”¨äº†è¿™äº›æˆ‘ä»¬å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œç„¶åå‡è½»ç»´æŠ¤æˆæœ¬ã€‚ä½†æ˜¯ECMAScriptå®ƒæ˜¯ä¸€ä¸ªè¯­æ³•æ ‡å‡†ï¼Œä¸åŒçš„JSå¼•æ“ä»¥åŠæµè§ˆå™¨å¯¹å®ƒçš„å®ç°å’Œæ”¯æŒåˆä¸å¤§ä¸€æ ·ï¼Œæ‰€æœ‰æˆ‘ä»¬ä¸èƒ½å¤Ÿä¿è¯ä½¿ç”¨é«˜ç‰ˆæœ¬çš„è¯­æ³•å®ƒèƒ½å¤Ÿå®Œç¾åœ¨å„å¹³å°è¿è¡Œï¼Œè¿™ä¹Ÿå°±æ˜¯babelçš„ä½œç”¨ä½“ç°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;esçš„è¯­æ³•æœ‰é‚£ä¹ˆå¤šç‰ˆæœ¬ï¼Œbabelçš„é…ç½®æœ‰é‚£ä¹ˆå¤šä¸ªç‰ˆæœ¬ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é€‰æ‹©å‘¢ï¼Ÿ&quot;&gt;ESçš„è¯­æ³•æœ‰é‚£ä¹ˆå¤šç‰ˆæœ¬ï¼ŒBabelçš„é…ç½®æœ‰é‚£ä¹ˆå¤šä¸ªç‰ˆæœ¬ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é€‰æ‹©å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æ—©æœŸåœ°é¢„è®¾æœ‰babel-preset-es2015ã€babel-preset-stage-xä¹‹ç±»çš„å•¥çš„ï¼Œç°åœ¨å®˜æ–¹æ¨èç»Ÿä¸€@babel/preset-env,è„šæ‰‹æ¶ç»Ÿä¸€@babel/cli,å¯¹ï¼Œä¸æˆæ–‡åœ°è§„å®šå°±æ˜¯@babelæ‰“å¤´åŸºæœ¬æ˜¯å¯¹çš„ï¼Œpolyfillé™¤å¤–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;babelxxxå’Œ-babel-xxxçš„ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ç§ï¼Œè¯¥ç”¨å“ªä¸ªï¼Ÿ&quot;&gt;@babel/xxxå’Œ babel-xxxçš„ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ç§ï¼Œè¯¥ç”¨å“ªä¸ªï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å…ˆè¯´ç»“è®ºï¼Œç”¨å‰è€…@babel/xxx, @xxxå°±ç›¸å½“äºæ³¨å†Œäº†ä¸€ä¸ªå‘½åç©ºé—´ï¼Œç‰¹æŒ‡è¿™ä¸ªæ˜¯xxxä¸‹çš„æŸåŒ…ï¼Œå®ƒæ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œæ˜¯ä¸€ç§ç»„ç»‡çš„ä½“ç°å½¢å¼ï¼Œä¾‹å¦‚@ataola/zjt,&lt;/p&gt;
&lt;h3 id=&quot;babelrcæ–‡ä»¶æˆ‘ä¸å†™è¡Œä¸è¡Œï¼Œèƒ½è¿è¡Œå—ï¼Ÿ&quot;&gt;.babelrcæ–‡ä»¶æˆ‘ä¸å†™è¡Œä¸è¡Œï¼Œèƒ½è¿è¡Œå—ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å¦‚æœåªæ˜¯åˆ›å»ºä¸€ä¸ª.babelrcé‡Œé¢ä»€ä¹ˆéƒ½ä¸å†™ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºbabelä¼šè¯»å–é‡Œé¢çš„æ ¼å¼ï¼ŒåŠ ä¸ª&lt;code&gt;{}&lt;/code&gt;ï¼Œè¿™ä¸ªæ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œé‡Œé¢ä»€ä¹ˆéƒ½ä¸å†™ã€‚è¿™é‡Œæ€è€ƒä¸‹babelçš„é»˜è®¤è¡Œä¸ºæ˜¯ä»€ä¹ˆï¼Ÿåªæ˜¯è½¬æ¢äº†Javascriptçš„è¯­æ³•ï¼Œè€Œä¸å¯¹æ–°çš„APIè¿›è¡Œè½¬æ¢ï¼Œæ–°çš„è¿˜æ˜¯è¦ç”¨æ’ä»¶çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯è¯­æ³•è½¬ä¹‰å™¨ï¼Œä»€ä¹ˆæ˜¯è¡¥ä¸è½¬ä¹‰å™¨ï¼Ÿ&quot;&gt;ä»€ä¹ˆæ˜¯è¯­æ³•è½¬ä¹‰å™¨ï¼Œä»€ä¹ˆæ˜¯è¡¥ä¸è½¬ä¹‰å™¨ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;åœ¨presetsé‡Œçš„å½¢å¦‚@babel/preset-envå°±æ˜¯è¯­æ³•è½¬ä¹‰å™¨ï¼Œåœ¨pluginsä¸‹çš„æ’ä»¶åŒ…å°±æ˜¯è¡¥ä¸è½¬ä¹‰å™¨ï¼Œå®ƒä»¬çš„åˆ†å·¥ä¸åŒï¼Œå‰è€…æ˜¯å°†ç›¸å…³è¯­æ³•è¿›è¡Œç¼–è¯‘ï¼Œåè€…å¼¥è¡¥äº†å‰è€…çš„ä¸€äº›ä¸è¶³ï¼Œæ•…ç§°ä¹‹ä¸ºè¡¥ä¸ã€‚&lt;/p&gt;
&lt;h3 id=&quot;targetsé‡Œè®¾ç½®browsersçš„ä¼˜å…ˆçº§é«˜ï¼Œè¿˜æ˜¯ç›´æ¥è®¾ç½®æµè§ˆå™¨çš„ä¼˜å…ˆçº§é«˜ï¼Ÿ&quot;&gt;targetsé‡Œè®¾ç½®browsersçš„ä¼˜å…ˆçº§é«˜ï¼Œè¿˜æ˜¯ç›´æ¥è®¾ç½®æµè§ˆå™¨çš„ä¼˜å…ˆçº§é«˜ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;è®¾ç½®browsersçš„ä¼˜å…ˆçº§é«˜äºç›´æ¥è®¾ç½®æµè§ˆå™¨çš„ï¼Œä¼šè¦†ç›–åè€…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä»€ä¹ˆå°†modulesè®¾ç½®æˆfalseï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–è®¾ç½®æ–¹æ¡ˆï¼Ÿ&quot;&gt;ä¸ºä»€ä¹ˆå°†modulesè®¾ç½®æˆfalseï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–è®¾ç½®æ–¹æ¡ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;è¯´æ˜å…¶é»˜è®¤ä¸ºtrueï¼Œé»˜è®¤éƒ½æ˜¯æ”¯æŒcommonjsè§„èŒƒçš„ã€‚è¿˜å¯ä»¥è®¾ç½®æˆamdã€umdä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;transform-runtimeè§£å†³äº†ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Ÿ&quot;&gt;transform-runtimeè§£å†³äº†ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;è§£å†³äº†es6è¯­æ³•ä¸­å…¨å±€å¯¹è±¡æˆ–è€…å…¨å±€å¯¹è±¡æ–¹æ³•ç¼–è¯‘ä¸è¶³çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ—¢ç„¶transform-runtimeåªæ˜¯è§£å†³es6ï¼Œé‚£æˆ‘è¦æ˜¯ç”¨es7ã€es8ã€es9ç”šè‡³æ›´é«˜æ€ä¹ˆåŠå‘¢ï¼Ÿ&quot;&gt;æ—¢ç„¶transform-runtimeåªæ˜¯è§£å†³es6ï¼Œé‚£æˆ‘è¦æ˜¯ç”¨es7ã€es8ã€es9ç”šè‡³æ›´é«˜æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;s&gt;babel-polyfill&lt;/s&gt; , core-jsã€regenerator-runtime&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä»€ä¹ˆä¸æ¨èå…¨å±€å®‰è£…è„šæ‰‹æ¶ï¼Ÿ&quot;&gt;ä¸ºä»€ä¹ˆä¸æ¨èå…¨å±€å®‰è£…è„šæ‰‹æ¶ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ç‰ˆæœ¬æ›´æ–°è¿­ä»£å¤ªå¿«äº†ï¼Œå®‰è£…åœ¨é¡¹ç›®æœ¬åœ°æ˜“å‡çº§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;babel_envæˆ–è€…node_envçš„è®¾ç½®æ–¹å¼&quot;&gt;BABEL_ENVæˆ–è€…NODE_ENVçš„è®¾ç½®æ–¹å¼&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;# osx|linux
export NODE_ENV=production

#window
SET NODE_ENV=production
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;babelçš„é»˜è®¤è¡Œä¸ºæ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;Babelçš„é»˜è®¤è¡Œä¸ºæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;è½¬æ¢äº†å½¢å¦‚letã€ç®­å¤´å‡½æ•°ä¹‹ç±»çš„è¯­æ³•ï¼Œ å¦‚æœè¦å®Œå…¨çš„ES6è¯­æ³•æ”¯æŒéœ€è¦å®‰è£…plugin-transform-runtimeæ’ä»¶ï¼Œå¦‚æœéœ€è¦æ›´é«˜ç‰ˆæœ¬çš„è¯ï¼Œé‚£å°±éœ€è¦å®‰è£…polyfillæ’ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;
&lt;p&gt;babelå®˜ç½‘ï¼š&lt;a href=&quot;https://babeljs.io/&quot;&gt;https://babeljs.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;@babel/preset-envæ–‡æ¡£ï¼š&lt;a href=&quot;https://babeljs.io/docs/en/babel-preset-env/&quot;&gt;https://babeljs.io/docs/en/babel-preset-env/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;@babel/plugin-transform-runtime:&lt;a href=&quot;https://babeljs.io/docs/en/next/babel-plugin-transform-runtime.html&quot;&gt;https://babeljs.io/docs/en/next/babel-plugin-transform-runtime.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;@babel/cliæ–‡æ¡£ï¼š&lt;a href=&quot;https://babeljs.io/docs/en/babel-cli&quot;&gt;https://babeljs.io/docs/en/babel-cli&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;babelé…ç½®æ–‡ä»¶ï¼š&lt;a href=&quot;https://babeljs.io/docs/en/config-files#file-relative-configuration&quot;&gt;https://babeljs.io/docs/en/config-files#file-relative-configuration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;babelç¯å¢ƒå˜é‡é…ç½®ï¼š&lt;a href=&quot;https://babeljs.io/docs/en/options#envname&quot;&gt;https://babeljs.io/docs/en/options#envname&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;@xxx npmåŒ…çš„è§£é‡Š About Scope: &lt;a href=&quot;https://docs.npmjs.com/about-scopes&quot;&gt;https://docs.npmjs.com/about-scopes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img alt=&quot;çŸ¥è¯†å…±äº«è®¸å¯åè®®&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;/&gt;&lt;/a&gt;&lt;br/&gt;æœ¬ä½œå“é‡‡ç”¨&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®&lt;/a&gt;è¿›è¡Œè®¸å¯ã€‚&lt;/p&gt;
</description>
<pubDate>Wed, 15 Jul 2020 16:28:00 +0000</pubDate>
<dc:creator>ä¸°è‡£æ­£ä¸€</dc:creator>
<og:description>å®šä¹‰ Babelæ˜¯ä¸€ä¸ªJavascriptçš„ç¼–è¯‘å™¨ï¼Œé€šè¿‡å®ƒä½ å¯ä»¥å°†ä¸€äº›æ–°ç‰ˆæœ¬çš„ECMAScriptè¯­æ³•è½¬æ¢æˆä½ç‰ˆæœ¬çš„è¯­æ³•ã€‚ä»¥ä¾¿èƒ½å¤Ÿåœ¨ä½ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–è€…å…¶å®ƒç¯å¢ƒå¹³ç¨³è¿è¡Œã€‚ æˆªè‡³ç›®å‰ç¬”è€…å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/cnroadbridge/p/13311360.html</dc:identifier>
</item>
<item>
<title>ä¸Šäº¿æ•°æ®æ€ä¹ˆç©æ·±åº¦åˆ†é¡µï¼Ÿå…¼å®¹MySQL + ES + MongoDB - Super-Kerwin</title>
<link>http://www.cnblogs.com/kkzhilu/p/13311250.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kkzhilu/p/13311250.html</guid>
<description>&lt;h2 id=&quot;é¢è¯•é¢˜--çœŸå®ç»å†&quot;&gt;é¢è¯•é¢˜ &amp;amp; çœŸå®ç»å†&lt;/h2&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;é¢è¯•é¢˜ï¼š&lt;/strong&gt;&lt;/em&gt;åœ¨æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆå®ç°æ·±åº¦åˆ†é¡µï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¤§å®¶åœ¨é¢è¯•æ—¶ï¼Œæˆ–è€…å‡†å¤‡é¢è¯•ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸Šè¿°çš„é—®é¢˜ï¼Œå¤§å¤šçš„å›ç­”åŸºæœ¬ä¸Šæ˜¯&lt;code&gt;åˆ†åº“åˆ†è¡¨å»ºç´¢å¼•&lt;/code&gt;ï¼Œè¿™æ˜¯ä¸€ç§å¾ˆ&lt;code&gt;æ ‡å‡†çš„æ­£ç¡®å›ç­”&lt;/code&gt;ï¼Œä½†ç°å®æ€»æ˜¯å¾ˆéª¨æ„Ÿï¼Œæ‰€ä»¥é¢è¯•å®˜ä¸€èˆ¬ä¼šè¿½é—®ä½ ä¸€å¥ï¼Œ&lt;span&gt;ç°åœ¨å·¥æœŸä¸è¶³ï¼Œäººå‘˜ä¸è¶³ï¼Œè¯¥æ€ä¹ˆå®ç°æ·±åº¦åˆ†é¡µï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™æ²¡æœ‰å®é™…ç»éªŒçš„åŒå­¦åŸºæœ¬éº»çˆªï¼ŒSoï¼Œè¯·å¬æˆ‘å¨“å¨“é“æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æƒ¨ç—›çš„æ•™è®­&quot;&gt;æƒ¨ç—›çš„æ•™è®­&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;é¦–å…ˆå¿…é¡»æ˜ç¡®ä¸€ç‚¹ï¼š&lt;/strong&gt;&lt;/em&gt;æ·±åº¦åˆ†é¡µå¯ä»¥åšï¼Œä½†æ˜¯&lt;span&gt;æ·±åº¦éšæœºè·³é¡µç»å¯¹éœ€è¦ç¦æ­¢ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šä¸€å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDA4MzAxMzA5NWY?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½ ä»¬çŒœï¼Œæˆ‘ç‚¹ä¸€ä¸‹ç¬¬&lt;code&gt;142360&lt;/code&gt;é¡µï¼ŒæœåŠ¡ä¼šä¸ä¼šçˆ†ç‚¸ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åƒ&lt;code&gt;MySQL&lt;/code&gt;ï¼Œ&lt;code&gt;MongoDB&lt;/code&gt;æ•°æ®åº“è¿˜å¥½ï¼Œæœ¬èº«å°±æ˜¯ä¸“ä¸šçš„æ•°æ®åº“ï¼Œå¤„ç†çš„ä¸å¥½ï¼Œæœ€å¤šå°±æ˜¯æ…¢ï¼Œä½†å¦‚æœæ¶‰åŠåˆ°&lt;code&gt;ES&lt;/code&gt;ï¼Œæ€§è´¨å°±ä¸ä¸€æ ·äº†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åˆ©ç”¨ &lt;code&gt;SearchAfter&lt;/code&gt; Apiï¼Œå»å¾ªç¯è·å–æ•°æ®ï¼Œè¿™å°±ç‰µæ‰¯åˆ°å†…å­˜å ç”¨çš„é—®é¢˜ï¼Œå¦‚æœå½“æ—¶ä»£ç å†™çš„ä¸ä¼˜é›…ï¼Œç›´æ¥å°±å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆä¸èƒ½å…è®¸éšæœºæ·±åº¦è·³é¡µ&quot;&gt;ä¸ºä»€ä¹ˆä¸èƒ½å…è®¸éšæœºæ·±åº¦è·³é¡µ&lt;/h2&gt;
&lt;p&gt;ä»æŠ€æœ¯çš„è§’åº¦æµ…æ˜¾çš„èŠä¸€èŠä¸ºä»€ä¹ˆä¸èƒ½å…è®¸éšæœºæ·±åº¦è·³é¡µï¼Œæˆ–è€…è¯´ä¸ºä»€ä¹ˆä¸å»ºè®®æ·±åº¦åˆ†é¡µ&lt;/p&gt;
&lt;h3 id=&quot;mysql&quot;&gt;MySQL&lt;/h3&gt;
&lt;p&gt;åˆ†é¡µçš„åŸºæœ¬åŸç†ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-mysql&quot;&gt;SELECT * FROM test ORDER BY id DESC LIMIT 10000, 20;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;LIMIT 10000 , 20çš„æ„æ€æ‰«ææ»¡è¶³æ¡ä»¶çš„10020è¡Œï¼Œæ‰”æ‰å‰é¢çš„10000è¡Œï¼Œè¿”å›æœ€åçš„20è¡Œã€‚å¦‚æœæ˜¯LIMIT 1000000 , 100ï¼Œéœ€è¦æ‰«æ1000100 è¡Œï¼Œåœ¨ä¸€ä¸ªé«˜å¹¶å‘çš„åº”ç”¨é‡Œï¼Œæ¯æ¬¡æŸ¥è¯¢éœ€è¦æ‰«æè¶…è¿‡100Wè¡Œï¼Œä¸ç‚¸æ‰æ€ªã€‚&lt;/p&gt;
&lt;h3 id=&quot;mongodb&quot;&gt;MongoDB&lt;/h3&gt;
&lt;p&gt;åˆ†é¡µçš„åŸºæœ¬åŸç†ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-mysql&quot;&gt;db.t_data.find().limit(5).skip(5);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ ·çš„ï¼Œéšç€é¡µç çš„å¢å¤§ï¼Œskip è·³è¿‡çš„æ¡ç›®ä¹Ÿä¼šéšä¹‹å˜å¤§ï¼Œè€Œè¿™ä¸ªæ“ä½œæ˜¯é€šè¿‡ cursor çš„è¿­ä»£å™¨æ¥å®ç°çš„ï¼Œå¯¹äºcpuçš„æ¶ˆè€—ä¼šéå¸¸æ˜æ˜¾ï¼Œå½“é¡µç éå¸¸å¤§æ—¶ä¸”é¢‘ç¹æ—¶ï¼Œå¿…ç„¶çˆ†ç‚¸ã€‚&lt;/p&gt;
&lt;h3 id=&quot;elasticsearch&quot;&gt;ElasticSearch&lt;/h3&gt;
&lt;p&gt;ä»ä¸šåŠ¡çš„è§’åº¦æ¥è¯´ï¼Œ&lt;code&gt;ElasticSearch&lt;/code&gt;ä¸æ˜¯å…¸å‹çš„æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœç´¢å¼•æ“ï¼Œå¦‚æœåœ¨ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æœç´¢å‡ºæƒ³è¦çš„æ•°æ®ï¼Œç»§ç»­æ·±åº¦åˆ†é¡µä¹Ÿä¸ä¼šæ‰¾åˆ°æƒ³è¦çš„æ•°æ®ï¼Œé€€ä¸€æ­¥è®²ï¼Œå‡å¦‚æˆ‘ä»¬æŠŠ&lt;code&gt;ES&lt;/code&gt;ä½œä¸ºæ•°æ®åº“æ¥ä½¿ç”¨è¿›è¡ŒæŸ¥è¯¢ï¼Œåœ¨è¿›è¡Œåˆ†é¡µçš„æ—¶å€™ä¸€å®šä¼šé‡åˆ°&lt;code&gt;max_result_window&lt;/code&gt; çš„é™åˆ¶ï¼Œçœ‹åˆ°æ²¡ï¼Œå®˜æ–¹éƒ½å‘Šè¯‰ä½ æœ€å¤§åç§»é‡é™åˆ¶æ˜¯ä¸€ä¸‡ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢æµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;å¦‚æŸ¥è¯¢ç¬¬501é¡µï¼Œæ¯é¡µ10æ¡ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°æŸèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;æ­¤èŠ‚ç‚¹å°†æ•°æ®å¹¿æ’­åˆ°å„ä¸ªåˆ†ç‰‡ï¼Œå„åˆ†ç‰‡å„è‡ªæŸ¥è¯¢å‰ 5010 æ¡æ•°æ®&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢ç»“æœè¿”å›è‡³è¯¥èŠ‚ç‚¹ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œæ•´åˆï¼Œå–å‡ºå‰ 5010 æ¡æ•°æ®&lt;/li&gt;
&lt;li&gt;è¿”å›ç»™å®¢æˆ·ç«¯&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ç”±æ­¤å¯ä»¥çœ‹å‡ºä¸ºä»€ä¹ˆè¦é™åˆ¶åç§»é‡ï¼Œå¦å¤–ï¼Œå¦‚æœä½¿ç”¨ &lt;code&gt;Search After&lt;/code&gt; è¿™ç§æ»šåŠ¨å¼APIè¿›è¡Œæ·±åº¦è·³é¡µæŸ¥è¯¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·éœ€è¦æ¯æ¬¡æ»šåŠ¨å‡ åƒæ¡ï¼Œå¯èƒ½ä¸€å…±éœ€è¦æ»šåŠ¨ä¸Šç™¾ä¸‡ï¼Œåƒä¸‡æ¡æ•°æ®ï¼Œå°±ä¸ºäº†æœ€åçš„20æ¡æ•°æ®ï¼Œæ•ˆç‡å¯æƒ³è€ŒçŸ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å†æ¬¡å’Œäº§å“å¯¹çº¿&quot;&gt;å†æ¬¡å’Œäº§å“å¯¹çº¿&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;ä¿—è¯è¯´çš„å¥½ï¼ŒæŠ€æœ¯è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå°±ç”±ä¸šåŠ¡æ¥è§£å†³ï¼&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®ä¹ çš„æ—¶å€™ä¿¡äº†äº§å“çš„é‚ªï¼Œå¿…é¡»å®ç°æ·±åº¦åˆ†é¡µ + è·³é¡µï¼Œå¦‚ä»Šå¿…é¡»&lt;code&gt;æ‹¨ä¹±åæ­£&lt;/code&gt;ï¼Œä¸šåŠ¡ä¸Šå¿…é¡»æœ‰å¦‚ä¸‹æ›´æ”¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;span&gt;å°½å¯èƒ½çš„å¢åŠ é»˜è®¤çš„ç­›é€‰æ¡ä»¶ï¼Œå¦‚ï¼šæ—¶é—´å‘¨æœŸ&lt;/span&gt;ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘æ•°æ®é‡çš„å±•ç¤º&lt;/li&gt;
&lt;li&gt;&lt;span&gt;ä¿®æ”¹è·³é¡µçš„å±•ç°æ–¹å¼ï¼Œæ”¹ä¸ºæ»šåŠ¨æ˜¾ç¤ºï¼Œæˆ–å°èŒƒå›´è·³é¡µ&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ»šåŠ¨æ˜¾ç¤ºå‚è€ƒå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDBjNWIyMTNmMTc?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å°è§„æ¨¡è·³é¡µå‚è€ƒå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDBlY2M2MzQ1NzA?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;é€šç”¨è§£å†³æ–¹æ¡ˆ&quot;&gt;é€šç”¨è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;çŸ­æ—¶é—´å†…å¿«é€Ÿè§£å†³çš„æ–¹æ¡ˆä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¿…å¤‡ï¼šå¯¹æ’åºå­—æ®µï¼Œç­›é€‰æ¡ä»¶åŠ¡å¿…è®¾ç½®å¥½ç´¢å¼•&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒï¼š&lt;span&gt;åˆ©ç”¨å°èŒƒå›´é¡µç çš„å·²çŸ¥æ•°æ®ï¼Œæˆ–è€…æ»šåŠ¨åŠ è½½çš„å·²çŸ¥æ•°æ®ï¼Œå‡å°‘åç§»é‡&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;é¢å¤–ï¼šå¦‚æœé‡åˆ°ä¸å¥½å¤„ç†çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥è·å–å¤šä½™çš„æ•°æ®ï¼Œè¿›è¡Œä¸€å®šçš„æˆªå–ï¼Œæ€§èƒ½å½±å“å¹¶ä¸å¤§&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;mysql-2&quot;&gt;MySQL&lt;/h3&gt;
&lt;p&gt;åŸåˆ†é¡µSQLï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-mysql&quot;&gt;# ç¬¬ä¸€é¡µ
SELECT * FROM `year_score` where `year` = 2017 ORDER BY id limit 0, 20;

# ç¬¬Né¡µ
SELECT * FROM `year_score` where `year` = 2017 ORDER BY id limit (N - 1) * 20, 20; 
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡ä¸Šä¸‹æ–‡å…³ç³»ï¼Œæ”¹å†™ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-mysql&quot;&gt;# XXXX ä»£è¡¨å·²çŸ¥çš„æ•°æ®
SELECT * FROM `year_score` where `year` = 2017 and id &amp;gt; XXXX ORDER BY id limit 20;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ &lt;a href=&quot;https://juejin.im/post/5ea16dede51d45470b4ffc5b#heading-9&quot;&gt;æ²¡å†…é¬¼ï¼Œæ¥ç‚¹å¹²è´§ï¼SQLä¼˜åŒ–å’Œè¯Šæ–­&lt;/a&gt; ä¸€æ–‡ä¸­æåˆ°è¿‡ï¼ŒLIMITä¼šåœ¨æ»¡è¶³æ¡ä»¶ä¸‹åœæ­¢æŸ¥è¯¢ï¼Œå› æ­¤è¯¥æ–¹æ¡ˆçš„æ‰«ææ€»é‡ä¼šæ€¥å‰§å‡å°‘ï¼Œæ•ˆç‡æå‡Maxï¼&lt;/p&gt;
&lt;h3 id=&quot;es&quot;&gt;ES&lt;/h3&gt;
&lt;p&gt;æ–¹æ¡ˆå’Œ&lt;code&gt;MySQL&lt;/code&gt;ç›¸åŒï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥éšç”¨æ‰€æ¬²çš„ä½¿ç”¨ &lt;code&gt;FROM-TO&lt;/code&gt; Apiï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘æœ€å¤§é™åˆ¶çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;mongodb-2&quot;&gt;MongoDB&lt;/h3&gt;
&lt;p&gt;æ–¹æ¡ˆåŸºæœ¬ç±»ä¼¼ï¼ŒåŸºæœ¬ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDExOWVhNjcxMDU?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç›¸å…³æ€§èƒ½æµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDEzOGUwMTQ2YjE?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¦‚æœéè¦æ·±åº¦éšæœºè·³é¡µ&quot;&gt;å¦‚æœéè¦æ·±åº¦éšæœºè·³é¡µ&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æ²¡æœ‰æ è¿‡äº§å“ç»ç†ï¼Œåˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Œæ²¡å…³ç³»ï¼Œè¿˜æœ‰ä¸€ä¸ä¸çš„æœºä¼šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;a href=&quot;https://juejin.im/post/5ea16dede51d45470b4ffc5b#heading-8&quot;&gt;SQLä¼˜åŒ–&lt;/a&gt; ä¸€æ–‡ä¸­è¿˜æåˆ°è¿‡&lt;code&gt;MySQL&lt;/code&gt;æ·±åº¦åˆ†é¡µçš„å¤„ç†æŠ€å·§ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-mysql&quot;&gt;# åä¾‹ï¼ˆè€—æ—¶129.570sï¼‰
select * from task_result LIMIT 20000000, 10;

# æ­£ä¾‹ï¼ˆè€—æ—¶5.114sï¼‰
SELECT a.* FROM task_result a, (select id from task_result LIMIT 20000000, 10) b where a.id = b.id;

# è¯´æ˜
# task_resultè¡¨ä¸ºç”Ÿäº§ç¯å¢ƒçš„ä¸€ä¸ªè¡¨ï¼Œæ€»æ•°æ®é‡ä¸º3400ä¸‡ï¼Œidä¸ºä¸»é”®ï¼Œåç§»é‡è¾¾åˆ°2000ä¸‡
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥æ–¹æ¡ˆçš„æ ¸å¿ƒé€»è¾‘å³åŸºäº&lt;code&gt;èšç°‡ç´¢å¼•&lt;/code&gt;ï¼Œåœ¨ä¸é€šè¿‡&lt;code&gt;å›è¡¨&lt;/code&gt;çš„æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ‹¿åˆ°æŒ‡å®šåç§»é‡æ•°æ®çš„ä¸»é”®IDï¼Œç„¶ååˆ©ç”¨&lt;code&gt;èšç°‡ç´¢å¼•&lt;/code&gt;è¿›è¡Œå›è¡¨æŸ¥è¯¢ï¼Œæ­¤æ—¶æ€»é‡ä»…ä¸º10æ¡ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘ä»¬åœ¨å¤„ç†&lt;code&gt;MySQL&lt;/code&gt;ï¼Œ&lt;code&gt;ES&lt;/code&gt;ï¼Œ&lt;code&gt;MongoDB&lt;/code&gt;æ—¶ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ä¸€æ ·çš„åŠæ³•ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;é™åˆ¶è·å–çš„å­—æ®µï¼Œåªé€šè¿‡ç­›é€‰æ¡ä»¶ï¼Œæ·±åº¦åˆ†é¡µè·å–ä¸»é”®ID&lt;/li&gt;
&lt;li&gt;é€šè¿‡ä¸»é”®IDå®šå‘æŸ¥è¯¢éœ€è¦çš„æ•°æ®&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ç‘•ç–µï¼šå½“åç§»é‡éå¸¸å¤§æ—¶ï¼Œè€—æ—¶è¾ƒé•¿ï¼Œå¦‚æ–‡ä¸­çš„ 5s&lt;/p&gt;
&lt;h2 id=&quot;æœ€å&quot;&gt;æœ€å&lt;/h2&gt;
&lt;p&gt;å‚è€ƒæ–‡ç« ï¼š&lt;a href=&quot;https://mongoing.com/archives/25469&quot;&gt;MongoDBä¸­æ–‡ç¤¾åŒº&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢ @ç¨‹å¤§è®¾è®¡å¸ˆ ä¸ºæˆ‘å€¾æƒ…è®¾è®¡çš„äºŒç»´ç ğŸ˜œ&lt;/p&gt;
&lt;p&gt;å¦‚æœè§‰å¾—å¯¹ä½ æœ‰ç”¨çš„è¯ï¼Œä¸è¦å¿˜è®°ç‚¹ä¸ªèµå•Š~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC83LzE1LzE3MzRlNDE2YTRkMDRjZTQ?x-oss-process=image/format,png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 15 Jul 2020 15:59:00 +0000</pubDate>
<dc:creator>Super-Kerwin</dc:creator>
<og:description>é¢è¯•é¢˜ &amp;amp;amp; çœŸå®ç»å† ***é¢è¯•é¢˜ï¼š***åœ¨æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆå®ç°æ·±åº¦åˆ†é¡µï¼Ÿ å¤§å®¶åœ¨é¢è¯•æ—¶ï¼Œæˆ–è€…å‡†å¤‡é¢è¯•ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸Šè¿°çš„é—®é¢˜ï¼Œå¤§å¤šçš„å›ç­”åŸºæœ¬ä¸Šæ˜¯åˆ†åº“åˆ†è¡¨å»ºç´¢å¼•ï¼Œè¿™æ˜¯ä¸€ç§å¾ˆæ ‡å‡†çš„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kkzhilu/p/13311250.html</dc:identifier>
</item>
<item>
<title>åŸå‹æ¨¡å¼ - ä¸å¯ä¹</title>
<link>http://www.cnblogs.com/dwlovelife/p/13311211.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dwlovelife/p/13311211.html</guid>
<description>&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;åºè¨€ï¼šä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸‹åŸå‹æ¨¡å¼ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºåŸå‹æ¨¡å¼çš„å‘½åä¸å¤ªå¥½ç†è§£ï¼Œç§°å‘¼å…¶ä¸ºå…‹éš†æ¨¡å¼ä¼šæ›´å¦¥å½“ä¸€ç‚¹ã€‚åŸå‹æ¨¡å¼çš„ç›®çš„æ˜¯é€šè¿‡å¤åˆ¶ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŸå‹æ¨¡å¼çš„åŸºæœ¬ä»‹ç»&quot;&gt;åŸå‹æ¨¡å¼çš„åŸºæœ¬ä»‹ç»&lt;/h2&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;ç”¨å·²ç»åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¤åˆ¶å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªå’ŒåŸå‹ç›¸åŒçš„å¯¹è±¡æˆ–ç›¸ä¼¼çš„æ–°å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;åŸå‹æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œä¸»è¦é€šè¿‡ &lt;code&gt;Cloneable&lt;/code&gt; æ¥å£å»å®Œæˆ å¯¹è±¡çš„å¤åˆ¶&lt;/p&gt;

&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1348730/202007/1348730-20200715234540482-1998230981.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨åŸå‹æ¨¡å¼ç»“æ„å›¾ä¸­ï¼Œä¼šæœ‰è¿™ä¹ˆå‡ ä¸ªè§’è‰²&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æŠ½è±¡åŸå‹è§’è‰²ï¼ˆPrototypeï¼‰ï¼šæ˜¯å£°æ˜å…‹éš†æ–¹æ³•çš„æ¥å£ï¼Œæ˜¯æ‰€æœ‰åŸå‹ç±»çš„å…¬å…±çˆ¶ç±»&lt;/li&gt;
&lt;li&gt;å…·ä½“åŸå‹è§’è‰²ï¼ˆRealizetypeï¼‰ï¼šå®ƒå®ç°åœ¨æŠ½è±¡åŸå‹ç±»ä¸­æ‰€å£°æ˜çš„å…‹éš†æ–¹æ³•ï¼Œåœ¨å…‹éš†æ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªå…‹éš†å¯¹è±¡&lt;/li&gt;
&lt;li&gt;è®¿é—®è§’è‰²ï¼ˆPrototypeTestï¼‰ï¼š ä½¿ç”¨å…·ä½“åŸå‹ç±»ä¸­çš„ clone() æ–¹æ³•æ¥å¤åˆ¶æ–°çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦æ³¨æ„çš„ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ Java ä¸­ èƒ½å¤Ÿå…‹éš†çš„ Javaç±» åŠ¡å¿…å¾— å®ç° &lt;code&gt;Cloneable&lt;/code&gt; æ¥å£ï¼Œè¡¨ç¤ºè¿™ä¸ª ç±» èƒ½å¤Ÿè¢« â€œå¤åˆ¶â€ï¼Œè‡³äºè¿™ä¸ª å¤åˆ¶çš„æ•ˆæœ åˆ™ä¸æˆ‘ä»¬çš„å®ç°æœ‰å…³ï¼Œé€šå¸¸ clone()æ–¹æ³•æ»¡è¶³ä»¥ä¸‹çš„æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¯¹ä»»ä½•çš„å¯¹è±¡xï¼Œéƒ½æœ‰ï¼šx.clone()!=x ã€‚æ¢è¨€ä¹‹ï¼Œå…‹éš†å¯¹è±¡ä¸å…ƒå¯¹è±¡ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡&lt;/li&gt;
&lt;li&gt;å¯¹ä»»ä½•çš„å¯¹è±¡xï¼Œéƒ½æœ‰ï¼šx.clone().getClass==x.getClass()ï¼Œæ¢è¨€ä¹‹ï¼Œå…‹éš†å¯¹è±¡ä¸å…ƒå¯¹è±¡çš„ç±»å‹ä¸€æ ·&lt;/li&gt;
&lt;li&gt;å¯¹ä»»ä½•çš„å¯¹è±¡xï¼Œå¦‚æœ equals() æ–¹æ³•ç¼–å†™å¾—å½“çš„è¯ï¼Œ é‚£ä¹ˆx.clone().equals(x)åº”è¯¥æ˜¯æˆç«‹çš„&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;åœ¨æ­£å¼å¼€å§‹åŸå‹æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µ &lt;strong&gt;æµ…å…‹éš†å’Œæ·±å…‹éš†&lt;/strong&gt;ï¼Œ&lt;strong&gt;æµ…å…‹éš†å’Œæ·±å…‹éš†çš„ä¸»è¦åŒºåˆ«åœ¨äºæ˜¯å¦æ”¯æŒå¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡çš„å¤åˆ¶&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;åŸå‹æ¨¡å¼ï¼ˆæµ…å…‹éš†ï¼‰&quot;&gt;åŸå‹æ¨¡å¼ï¼ˆæµ…å…‹éš†ï¼‰&lt;/h2&gt;
&lt;p&gt;åœ¨æµ…å…‹éš†ä¸­ï¼Œå¦‚æœåŸå‹å¯¹è±¡çš„æˆå‘˜å˜é‡æ˜¯å€¼ç±»å‹ï¼Œå°†å¤åˆ¶ä¸€ä»½ç»™å…‹éš†å¯¹è±¡ï¼›å¦‚æœåŸå‹å¯¹è±¡çš„æˆå‘˜å˜é‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™å°†å¼•ç”¨å¯¹è±¡çš„åœ°å€ å¤åˆ¶ ä¸€ä»½ç»™å…‹éš†å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´åŸå‹å¯¹è±¡å’Œå…‹éš†å¯¹è±¡çš„æˆå‘˜å˜é‡æŒ‡å‘ ç›¸åŒ çš„å†…å­˜åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹é¢æˆ‘ä»¬ä»¥ èŠ±å›­å’ŒèŠ± ä¸ºæ¡ˆä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªèŠ±å›­ï¼Œæˆ‘ä»¬åœ¨èŠ±å›­é‡Œç§æ¤ä¸Šå¥½çš„ç‰¡ä¸¹èŠ±ï¼Œæœ‰ä¸€å¤©çªç„¶æƒ³ç…§ç€ç‰¡ä¸¹å›­å†å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å›­å­ï¼Œåªæ˜¯åœ¨èŠ±å›­ä¸­æ”¹ç§ç«ç‘°&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * èŠ±å›­ 
 */
@Data
@AllArgsConstructor
public class Garden implements Cloneable {
        
        //é¢ç§¯
        private double area;
        private Flower flower;
        
        @Override
        protected Garden clone() {
                Garden garden = null;
                try {
                        garden = (Garden) super.clone();
                } catch (Exception e) {
                        e.printStackTrace();
                }
                return garden;
        }
        
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Data
@AllArgsConstructor
public class Flower {
        
        private String name;
        private String color;
        
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;ä¸‹é¢æ¥æµ‹è¯•ä¸€ä¸‹åŸå‹æ¨¡å¼ï¼ˆæµ…å…‹éš†ï¼‰&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Client {
        public static void main(String[] args) {
                // ç‰¡ä¸¹èŠ±
                Flower peony = new Flower(&quot;ç‰¡ä¸¹&quot;, &quot;blue&quot;);
                // ç‰¡ä¸¹å›­
                Garden peonyGarden = new Garden(1000, peony);
                System.out.println(&quot;åˆå§‹çš„ç‰¡ä¸¹å›­:&quot; + peonyGarden);
                // ç‰¡ä¸¹å›­çš„å¤åˆ¶å»ºé€  ä½†æ˜¯èŠ±æ”¹æˆç«ç‘° æ”¹åç«ç‘°å›­
                Garden roseGarden = peonyGarden.clone();
                //æµ…å¤åˆ¶åªä¼šå¤åˆ¶å¼•ç”¨åœ°å€ï¼Œå¹¶æ²¡æœ‰é‡æ–°å¤åˆ¶ä¸€ä¸ªå¯¹è±¡
                System.out.println(peonyGarden.getFlower() == roseGarden.getFlower());
                // æ”¹ä¸ºç§æ¤ç«ç‘°èŠ±
                roseGarden.getFlower().setName(&quot;ç«ç‘°&quot;);
                roseGarden.getFlower().setColor(&quot;red&quot;);
                System.out.println(&quot;ç«ç‘°å›­ï¼š&quot; + roseGarden);
                System.out.println(&quot;ç‰¡ä¸¹å›­ï¼š&quot; + peonyGarden);
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1348730/202007/1348730-20200715234554393-417887192.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬æƒ³åœ¨æ–°å¼€æ‹“çš„èŠ±å›­ä¸­æ”¹ç§ç«ç‘°åï¼Œä¼šå½±å“åŸèŠ±å›­çš„èŠ±å‰çš„å“ç§ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ&lt;/p&gt;
&lt;p&gt;ä»è¿™é‡Œæˆ‘ä»¬ä¹Ÿçœ‹å‡ºæ¥äº†ï¼Œ&lt;strong&gt;æµ…å…‹éš† åœ¨å…‹éš†ä¸€ä¸ªå¯¹è±¡çš„ å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡æ—¶ åªæ˜¯å¤åˆ¶å…¶åœ°å€å€¼ï¼Œå¹¶æ²¡æœ‰å¤åˆ¶è¯¥å¯¹è±¡&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;åŸå‹æ¨¡å¼ï¼ˆæ·±å…‹éš†ï¼‰&quot;&gt;åŸå‹æ¨¡å¼ï¼ˆæ·±å…‹éš†ï¼‰&lt;/h2&gt;
&lt;p&gt;åœ¨æ·±å…‹éš†ä¸­ï¼Œæ— è®ºåŸå‹å¯¹è±¡çš„æˆå‘˜å˜é‡æ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œéƒ½å°†å¤åˆ¶ä¸€ä»½ç»™å…‹éš†å¯¹è±¡ï¼Œæ·±å…‹éš†å°†åŸå‹å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨å¯¹è±¡ä¹Ÿå¤åˆ¶ä¸€ä»½ç»™å…‹éš†å¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œåœ¨æ·±å…‹éš†ä¸­ï¼Œé™¤äº†å¯¹è±¡æœ¬èº«è¢«å¤åˆ¶å¤–ï¼Œå¯¹è±¡æ‰€åŒ…å«çš„æ‰€æœ‰æˆå‘˜å˜é‡ä¹Ÿå°†å¤åˆ¶ã€‚&lt;br/&gt;Â &lt;br/&gt;åœ¨ Java ä¸­æƒ³å®ç° &lt;strong&gt;æ·±å…‹éš†&lt;/strong&gt;ï¼Œé€šå¸¸æœ‰ &lt;strong&gt;ä¸¤ç§æ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¯¹äºå…‹éš†å¯¹è±¡çš„ å¼•ç”¨ç±»å‹ï¼Œé€å±‚å…‹éš†&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åºåˆ—åŒ–æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;é€å±‚å…‹éš†&quot;&gt;é€å±‚å…‹éš†&lt;/h3&gt;
&lt;p&gt;é€å±‚å…‹éš†æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬è¦æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­ è‹¥æœ‰å¤šä¸ªå¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œå®ƒä»¬éƒ½è¦å®ç°å…‹éš†æ–¹æ³•ï¼Œè‹¥åµŒå¥—å¤šå±‚å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œåˆ™é€å±‚ å®ç° &lt;code&gt;Cloneable&lt;/code&gt; æ¥å£&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;**
 * èŠ±å›­ 
 */
@Data
@AllArgsConstructor
public class Garden implements Cloneable {
        
        //é¢ç§¯
        private double area;
        private Flower flower;
        
        @Override
        protected Garden clone() {
                Garden garden = null;
                try {
                        garden = (Garden) super.clone();
                        garden.flower = garden.flower.clone();
                } catch (Exception e) {
                        e.printStackTrace();
                }
                return garden;
        }
        
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Data
@AllArgsConstructor
public class Flower implements Cloneable {

        private String name;
        private String color;
        
        @Override
        protected Flower clone() {
                Flower flower = null;
                try {
                        flower = (Flower) super.clone();
                } catch (Exception e) {
                        e.printStackTrace();
                }
                return flower;
        }
        
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œä½¿ç”¨é€å±‚å®ç° &lt;code&gt;Cloneable&lt;/code&gt; æ¥å£ è€Œå®Œæˆçš„æ·±å…‹éš†&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Client {
        public static void main(String[] args) {
                // ç‰¡ä¸¹èŠ±
                Flower peony = new Flower(&quot;ç‰¡ä¸¹&quot;, &quot;blue&quot;);
                // ç‰¡ä¸¹å›­
                Garden peonyGarden = new Garden(1000, peony);
                // ç‰¡ä¸¹å›­çš„å¤åˆ¶å»ºé€  ä½†æ˜¯èŠ±æ”¹æˆç«ç‘° æ”¹åç«ç‘°å›­
                Garden roseGarden = peonyGarden.clone();
                // æ·±å…‹éš† é¢å¯¹å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡ ä¹Ÿé‡æ–°å¤åˆ¶äº†ä¸€ä¸ªå¯¹è±¡
                System.out.println(peonyGarden.getFlower() == roseGarden.getFlower());
                // æ”¹ä¸ºç§æ¤ç«ç‘°èŠ±
                roseGarden.getFlower().setName(&quot;ç«ç‘°&quot;);
                roseGarden.getFlower().setColor(&quot;red&quot;);
                System.out.println(&quot;ç«ç‘°å›­ï¼š&quot; + roseGarden);
                System.out.println(&quot;ç‰¡ä¸¹å›­ï¼š&quot; + peonyGarden);
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1348730/202007/1348730-20200715234608577-191322028.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;h3 id=&quot;åºåˆ—åŒ–&quot;&gt;åºåˆ—åŒ–&lt;/h3&gt;
&lt;p&gt;æ·±å…‹éš†æ¨¡å¼ï¼Œé‡‡å–åºåˆ—åŒ–è¿™ç§æ–¹å¼å¯èƒ½æ›´ç®€å•ä¸€äº›ï¼Œæ‰€ä»¥çš„å¼•ç”¨ç±»å‹ æˆå‘˜å˜é‡ï¼Œéƒ½å®ç°åºåˆ—åŒ–æ¥å£ï¼ŒåŸå‹å¯¹è±¡ è‡ªå®ç° &lt;code&gt;deepClone&lt;/code&gt; æ–¹æ³•å³å¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * èŠ±å›­ 
 */
@Data
@AllArgsConstructor
public class Garden implements Serializable {
        
        private static final long serialVersionUID = 2231850409918603998L;
        //é¢ç§¯
        private double area;
        private Flower flower;
        
        //æ·±æ‹·è´-æ–¹å¼2 ä½¿ç”¨åºåˆ—åŒ–æ–¹å¼
        public Garden deepClone(){
                //åˆ›å»ºæµå¯¹è±¡
                ByteArrayOutputStream bos = null;
                ObjectOutputStream oos = null;
                ByteArrayInputStream bis = null;
                ObjectInputStream ois = null;
                Garden garden = null;
                try {
                        //åºåˆ—åŒ–
                        bos = new ByteArrayOutputStream();
                        oos = new ObjectOutputStream(bos);
                        oos.writeObject(this); //å½“å‰è¿™ä¸ªå¯¹è±¡ä»¥å¯¹è±¡çš„æ–¹å¼è¾“å‡º
                        
                        //ååºåˆ—åŒ–
                        bis = new ByteArrayInputStream(bos.toByteArray());
                        ois = new ObjectInputStream(bis);
                        garden = (Garden) ois.readObject();
                } catch (Exception e) {
                        e.printStackTrace();
                }
                return garden;
        }
        
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Data
@AllArgsConstructor
public class Flower implements Serializable {

        private static final long serialVersionUID = 126839939664064143L;
        
        private String name;
        private String color;
        
        @Override
        protected Flower clone() {
                Flower flower = null;
                try {
                        flower = (Flower) super.clone();
                } catch (Exception e) {
                        e.printStackTrace();
                }
                return flower;
        }
        
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;ä¸‹é¢æˆ‘ä»¬è¿›è¡Œåºåˆ—åŒ–æ·±å…‹éš†çš„æµ‹è¯•&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Client {
        public static void main(String[] args) {
                // ç‰¡ä¸¹èŠ±
                Flower peony = new Flower(&quot;ç‰¡ä¸¹&quot;, &quot;blue&quot;);
                // ç‰¡ä¸¹å›­
                Garden peonyGarden = new Garden(1000, peony);
                // ç‰¡ä¸¹å›­çš„å¤åˆ¶å»ºé€  ä½†æ˜¯èŠ±æ”¹æˆç«ç‘° æ”¹åç«ç‘°å›­
                Garden roseGarden = peonyGarden.deepClone();
                // æ·±å…‹éš† é¢å¯¹å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡ ä¹Ÿé‡æ–°å¤åˆ¶äº†ä¸€ä¸ªå¯¹è±¡
                System.out.println(peonyGarden.getFlower() == roseGarden.getFlower());
                // æ”¹ä¸ºç§æ¤ç«ç‘°èŠ±
                roseGarden.getFlower().setName(&quot;ç«ç‘°&quot;);
                roseGarden.getFlower().setColor(&quot;red&quot;);
                System.out.println(&quot;ç«ç‘°å›­ï¼š&quot; + roseGarden);
                System.out.println(&quot;ç‰¡ä¸¹å›­ï¼š&quot; + peonyGarden);
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1348730/202007/1348730-20200715234623031-640254673.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šè¿°æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ&lt;strong&gt;æ·±å…‹éš†ä¸ä»…åœ¨å †å†…å­˜ä¸Šå¼€è¾Ÿäº†ç©ºé—´ä»¥å­˜å‚¨å¤åˆ¶å‡ºçš„å¯¹è±¡ï¼Œç”šè‡³è¿å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»å‹çš„å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿå¾—ä»¥å¤åˆ¶ï¼Œé‡æ–°å¼€è¾Ÿäº†å †ç©ºé—´å­˜å‚¨ã€‚&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 15 Jul 2020 15:55:00 +0000</pubDate>
<dc:creator>ä¸å¯ä¹</dc:creator>
<og:description>åºè¨€ï¼šä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸‹åŸå‹æ¨¡å¼ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºåŸå‹æ¨¡å¼çš„å‘½åä¸å¤ªå¥½ç†è§£ï¼Œç§°å‘¼å…¶ä¸ºå…‹éš†æ¨¡å¼ä¼šæ›´å¦¥å½“ä¸€ç‚¹ã€‚åŸå‹æ¨¡å¼çš„ç›®çš„æ˜¯é€šè¿‡å¤åˆ¶ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–çš„æ–¹æ³•ã€‚ åŸå‹æ¨¡å¼çš„åŸºæœ¬ä»‹ç»</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/dwlovelife/p/13311211.html</dc:identifier>
</item>
<item>
<title>æ·±å…¥ç†è§£JVMï¼ˆâ‘¢ï¼‰å†è°ˆçº¿ç¨‹å®‰å…¨ - çºªè«</title>
<link>http://www.cnblogs.com/jimoer/p/13308699.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jimoer/p/13308699.html</guid>
<description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯æœ‰ä¸ªé¡ºåºçš„ï¼Œå°±æ˜¯å…ˆå®ç°å†ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰›Pç¨‹åºéƒ½æ˜¯ä¸€æ¬¡å°±å†™å‡ºæ¥çš„ï¼Œè‚¯å®šéƒ½æ˜¯ä¸æ–­çš„ä¼˜åŒ–å®Œå–„æ¥æŒç»­å®ç°çš„ã€‚å› æ­¤æˆ‘ä»¬åœ¨è€ƒè™‘å®ç°é«˜å¹¶å‘ç¨‹åºçš„æ—¶å€™ï¼Œè¦å…ˆä¿è¯å¹¶å‘çš„æ­£ç¡®æ€§ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šæ¥å®ç°é«˜æ•ˆã€‚æ‰€ä»¥&lt;strong&gt;çº¿ç¨‹å®‰å…¨&lt;/strong&gt;æ˜¯é«˜å¹¶å‘ç¨‹åºé¦–å…ˆéœ€è¦ä¿è¯çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çº¿ç¨‹å®‰å…¨å®šä¹‰&quot;&gt;çº¿ç¨‹å®‰å…¨å®šä¹‰&lt;/h2&gt;
&lt;p&gt;å¯¹äºçº¿ç¨‹å®‰å…¨çš„å®šä¹‰å¯ä»¥ç†è§£ä¸ºï¼š&lt;mark&gt;&lt;strong&gt;å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœä¸ç”¨è€ƒè™‘è¿™äº›çº¿ç¨‹åœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸‹çš„è°ƒåº¦å’Œäº¤æ›¿æ‰§è¡Œï¼Œä¹Ÿä¸éœ€è¦è¿›è¡Œé¢å¤–çš„åŒæ­¥ï¼Œæˆ–è€…åœ¨è°ƒç”¨æ–¹è¿›è¡Œä»»ä½•å…¶ä»–çš„åè°ƒæ“ä½œï¼Œè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºéƒ½å¯ä»¥è·å¾—æ­£ç¡®çš„ç»“æœï¼Œé‚£å°±ç§°è¿™ä¸ªå¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/strong&gt;&lt;/mark&gt;ã€‚&lt;br/&gt;è¿™ä¸ªå®šä¹‰æ˜¯å¾ˆä¸¥è°¨ä¸”æœ‰å¯æ“ä½œæ€§ï¼Œå®ƒè¦æ±‚çº¿ç¨‹å®‰å…¨çš„ä»£ç éƒ½å¿…é¡»å…·å¤‡ä¸€ä¸ªå…±åŒç‰¹å¾ï¼šä»£ç æœ¬èº«å°è£…äº†æ‰€æœ‰å¿…è¦çš„æ­£ç¡®æ€§ä¿éšœæ‰‹æ®µï¼ˆäº’æ–¥ã€åŒæ­¥ç­‰ï¼‰ï¼Œä»¤è°ƒç”¨è€…æ— é¡»å…³å¿ƒå¤šçº¿ç¨‹ä¸‹çš„è°ƒç”¨é—®é¢˜ï¼Œæ›´æ— é¡»è‡ªå·±å®ç°ä»»ä½•æªæ–½æ¥ä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ­£ç¡®è°ƒç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;javaä¸­çš„çº¿ç¨‹å®‰å…¨&quot;&gt;Javaä¸­çš„çº¿ç¨‹å®‰å…¨&lt;/h2&gt;
&lt;p&gt;è¦è®¨è®ºJavaä¸­çš„çº¿ç¨‹å®‰å…¨ï¼Œæˆ‘ä»¬è¦ä»¥å¤šä¸ªçº¿ç¨‹ä¹‹é—´å­˜åœ¨å…±äº«æ•°æ®è®¿é—®ä¸ºå‰æã€‚æˆ‘ä»¬å¯ä»¥ä¸æŠŠçº¿ç¨‹å®‰å…¨å½“ä½œä¸€ä¸ªéçœŸå³å‡çš„äºŒå…ƒæ’ä»–é€‰é¡¹æ¥çœ‹å¾…ï¼Œè€Œæ˜¯æŒ‰ç…§çº¿ç¨‹å®‰å…¨çš„â€œå®‰å…¨ç¨‹åº¦â€ç”±å¼ºè‡³å¼±æ¥æ’åºï¼Œå°†Javaä¸­å„æ“ä½œå…±äº«çš„æ•°æ®åˆ†ä¸ºä»¥ä¸‹äº”ç±»ï¼š&lt;mark&gt;&lt;strong&gt;ä¸å¯å˜ã€ç»å¯¹çº¿ç¨‹å®‰å…¨ã€ç›¸å¯¹ç›¸å¯¹å®‰å…¨ã€çº¿ç¨‹å…¼å®¹å’Œçº¿ç¨‹å¯¹ç«‹&lt;/strong&gt;&lt;/mark&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸å¯å˜&quot;&gt;ä¸å¯å˜&lt;/h3&gt;
&lt;p&gt;Javaå†…å­˜æ¨¡å‹ä¸­ï¼Œä¸å¯å˜çš„å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ— è®ºå¯¹è±¡çš„æ–¹æ³•å®ç°è¿˜æ˜¯æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œéƒ½ä¸éœ€è¦å†è¿›è¡Œä»»ä½•çº¿ç¨‹å®‰å…¨ä¿éšœæªæ–½ã€‚åœ¨&lt;a href=&quot;https://blog.csdn.net/qq_35165000/article/details/107073028&quot;&gt;å­¦ä¹ Javaå†…å­˜æ¨¡å‹&lt;/a&gt;è¿™ä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬åœ¨ä»‹ç»Javaå†…å­˜æ¨¡å‹çš„ä¸‰ä¸ªç‰¹æ€§çš„å¯è§æ€§çš„æ—¶å€™è¯´åˆ°ï¼Œ&lt;strong&gt;è¢«finalä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦è¢«åˆå§‹åŒ–å®Œæˆï¼Œå¹¶ä¸”æ„é€ å™¨æ²¡æœ‰å§â€œthisâ€çš„å¼•ç”¨ä¼ é€’å‡ºå»ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–çº¿ç¨‹ä¸­å°±èƒ½çœ‹è§finalå­—æ®µçš„å€¼&lt;/strong&gt;ã€‚å¹¶ä¸”å¤–éƒ¨å¯è§çŠ¶æ€æ°¸è¿œéƒ½ä¸ä¼šæ”¹å˜ï¼Œæ°¸è¿œéƒ½ä¸ä¼šçœ‹åˆ°å®ƒåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹ä¸­å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ã€‚â€œä¸å¯å˜â€å¸¦æ¥çš„å®‰å…¨æ€§æ˜¯æœ€ç›´æ¥ã€æœ€çº¯ç²¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaä¸­å¦‚æœå…±äº«æ•°æ®æ˜¯ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ—¶ä½¿ç”¨finalä¿®é¥°å®ƒå°±å¯ä»¥ä¿è¯å®ƒæ˜¯ä¸å¯å˜çš„ã€‚å¦‚æœå…±äº«æ•°æ®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å°±éœ€è¦å¯¹è±¡è‡ªè¡Œä¿è¯å…¶è¡Œä¸ºä¸ä¼šå¯¹å…¶çŠ¶æ€äº§ç”Ÿä»»ä½•å½±å“æ‰è¡Œã€‚ä¾‹å¦‚&lt;code&gt;java.lang.String&lt;/code&gt;ç±»çš„å¯¹è±¡å®ä¾‹ï¼Œå®ƒçš„substring()ã€replace()ã€concat()è¿™äº›æ–¹æ³•éƒ½ä¸ä¼šå½±å“å®ƒåŸæ¥çš„å€¼ï¼Œåªä¼šè¿”å›ä¸€ä¸ªæ–°æ„é€ çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚&lt;br/&gt;ä¿è¯å¯¹è±¡è¡Œä¸ºä¸å½±å“è‡ªå·±çŠ¶æ€çš„é€”å¾„æœ‰å¾ˆå¤šç§ï¼Œæœ€ç®€å•çš„ä¸€ç§å°±æ˜¯æŠŠå¯¹è±¡é‡Œé¢å¸¦æœ‰çŠ¶æ€çš„å˜é‡éƒ½å£°æ˜ä¸ºfinalï¼Œè¿™æ ·åœ¨æ„é€ å‡½æ•°ç»“æŸåï¼Œä»–å°±æ˜¯ä¸å¯å˜çš„ã€‚&lt;br/&gt;ä¾‹å¦‚&lt;code&gt;java.lang.Integer&lt;/code&gt;æ„é€ å‡½æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * The value of the {@code Integer}.
 *
 * @serial
 */
private final int value;

/**
 * Constructs a newly allocated {@code Integer} object that
 * represents the specified {@code int} value.
 *
 * @param   value   the value to be represented by the
 *                  {@code Integer} object.
 */
public Integer(int value) {
    this.value = value;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é™¤äº†Stringä¹‹å¤–ï¼Œè¿˜æœ‰æšä¸¾ç±»å‹ä»¥åŠ&lt;code&gt;java.lang.Number&lt;/code&gt;çš„éƒ¨åˆ†å­ç±»ï¼Œå¦‚&lt;code&gt;Long&lt;/code&gt;å’Œ&lt;code&gt;Double&lt;/code&gt;ç­‰æ•°å€¼åŒ…è£…ç±»å‹ã€&lt;code&gt;BigInteger&lt;/code&gt;å’Œ&lt;code&gt;BigDecimal&lt;/code&gt;ç­‰å¤§æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç»å¯¹çº¿ç¨‹å®‰å…¨&quot;&gt;ç»å¯¹çº¿ç¨‹å®‰å…¨&lt;/h3&gt;
&lt;p&gt;ç»å¯¹çº¿ç¨‹å®‰å…¨æ˜¯èƒ½å¤Ÿå®Œå…¨æ»¡è¶³ä¸Šé¢çš„çº¿ç¨‹å®‰å…¨çš„å®šä¹‰ï¼Œè¿™ä¸ªç»å¯¹çº¿ç¨‹å®‰å…¨çš„å®šä¹‰æ˜¯å¾ˆä¸¥æ ¼çš„ï¼šâ€œä¸ç®¡è¿è¡Œæ—¶ç¯å¢ƒå¦‚ä½•ï¼Œè°ƒç”¨è€…éƒ½ä¸éœ€è¦ä»»ä½•é¢å¤–çš„åŒæ­¥æªæ–½â€ã€‚Javaçš„APIä¸­æ ‡æ³¨è‡ªå·±æ˜¯çº¿ç¨‹å®‰å…¨çš„ç±»ï¼Œå¤§å¤šæ•°éƒ½ä¸æ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ã€‚&lt;br/&gt;ä¾‹å¦‚&lt;code&gt;java.util.Vector&lt;/code&gt;æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Œç›¸ä¿¡æ‰€æœ‰çš„Javaç¨‹åºå‘˜å¯¹æ­¤éƒ½ä¸ä¼šæœ‰å¼‚è®®ï¼Œå› ä¸ºå®ƒçš„add()ã€get()ã€å’Œsize()ç­‰æ–¹æ³•éƒ½è¢«&lt;code&gt;synhronized&lt;/code&gt;ä¿®é¥°ã€‚ä½†æ˜¯è¿™æ ·å¹¶ä¸æ„å‘³ç€è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œå°±æ°¸è¿œä¸å†éœ€è¦åŒæ­¥æ‰‹æ®µäº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class VectorTest {

    private static Vector&amp;lt;Integer&amp;gt; vector = new Vector&amp;lt;Integer&amp;gt;();

    public static void main(String[] args){
        while (true){
            for (int i=0;i&amp;lt;10;i++){
                vector.add(i);
            }

            Thread removeThread = new Thread(new Runnable() {
                @Override
                public void run() {
                    for (int i=0;i&amp;lt;vector.size();i++){
                        vector.remove(i);
                    }
                }
            });

            Thread printThread = new Thread(new Runnable() {
                @Override
                public void run() {
                    for(int i=0;i&amp;lt;vector.size();i++){
                        System.out.println(vector.get(i));
                    }
                }
            });

            removeThread.start();
            printThread.start();

            while (Thread.activeCount() &amp;gt; 20);
        }
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;Exception in thread &quot;Thread-653&quot; java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 18
        at java.util.Vector.get(Vector.java:748)
        at com.eurekaclient2.test.jvm3.VectorTest$2.run(VectorTest.java:33)
        at java.lang.Thread.run(Thread.java:748)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡ä¸Šè¿°ä»£ç çš„ä¾‹å­ï¼Œå°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œå°½ç®¡Vectorçš„get()ã€remove()å’Œsize()æ–¹æ³•éƒ½æ˜¯åŒæ­¥çš„ï¼Œä½†æ˜¯åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­ï¼Œå¦‚æœè°ƒç”¨ç«¯ä¸åšé¢å¤–çš„åŒæ­¥æªæ–½ï¼Œä½¿ç”¨è¿™æ®µä»£ç ä»ç„¶æ˜¯ä¸å®‰å…¨çš„ã€‚å› ä¸ºåœ¨å¹¶å‘è¿è¡Œä¸­ï¼Œå¦‚æœæå‰åˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œè€Œåé¢è¿˜è¦å»æ‰“å°å®ƒï¼Œå°±ä¼šæŠ›å‡ºæ•°ç»„è¶Šç•Œçš„å¼‚å¸¸ã€‚&lt;br/&gt;å¦‚æœéè¦è¿™æ®µä»£ç æ­£ç¡®æ‰§è¡Œä¸‹å»ï¼Œå°±å¿…é¡»æŠŠ&lt;code&gt;removeThread&lt;/code&gt;å’Œ&lt;code&gt;printThread&lt;/code&gt;è¿›è¡ŒåŠ é”æ“ä½œã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;Thread removeThread = new Thread(new Runnable() {
    @Override
    public void run() {
        synchronized (vector){
            for (int i=0;i&amp;lt;vector.size();i++){
                vector.remove(i);
            }
        }
    }
});

Thread printThread = new Thread(new Runnable() {
    @Override
    public void run() {
        synchronized (vector){
            for(int i=0;i&amp;lt;vector.size();i++){
                System.out.println(vector.get(i));
            }
        }
    }
});
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;ç›¸å¯¹çº¿ç¨‹å®‰å…¨&quot;&gt;ç›¸å¯¹çº¿ç¨‹å®‰å…¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç›¸å¯¹çº¿ç¨‹å®‰å…¨å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è®²çš„çº¿ç¨‹å®‰å…¨ï¼Œå®ƒéœ€è¦ä¿è¯å¯¹è¿™ä¸ªå¯¹è±¡å•è¯çš„æ“ä½œæ—¶çº¿ç¨‹å®‰å…¨çš„ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™ä¸éœ€è¦è¿›è¡Œé¢å¤–çš„ä¿è¯æªæ–½ï¼Œä½†æ˜¯å¯¹äºä¸€äº›ç‰¹å®šé¡ºåºçš„è¿ç»­è°ƒç”¨ï¼Œå°±å¯èƒ½éœ€è¦åœ¨è°ƒç”¨ç«¯ä½¿ç”¨é¢å¤–çš„åŒæ­¥æ‰‹æ®µæ¥ä¿è¯è°ƒç”¨çš„æ­£ç¡®æ€§&lt;/strong&gt;ã€‚ä¸Šé¢çš„ä»£ç ä¾‹å­å°±æ˜¯ç›¸å¯¹çº¿ç¨‹å®‰å…¨çš„æ¡ˆä¾‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çº¿ç¨‹å…¼å®¹&quot;&gt;çº¿ç¨‹å…¼å®¹&lt;/h3&gt;
&lt;p&gt;çº¿ç¨‹å…¼å®¹æ˜¯æŒ‡å¯¹è±¡æœ¬èº«å¹¶ä¸çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨è°ƒç”¨ç«¯æ­£ç¡®åœ°ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥ä¿è¯å¯¹è±¡åœ¨å¹¶å‘ç¯å¢ƒä¸­å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ã€‚Javaç±»åº“APIä¸­å¤§éƒ¨åˆ†çš„ç±»éƒ½æ˜¯çº¿ç¨‹å…¼å®¹çš„ï¼Œå¦‚&lt;code&gt;ArrayList&lt;/code&gt;ã€&lt;code&gt;HashMap&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çº¿ç¨‹å¯¹ç«‹&quot;&gt;çº¿ç¨‹å¯¹ç«‹&lt;/h3&gt;
&lt;p&gt;çº¿ç¨‹å¯¹ç«‹æ˜¯æŒ‡ä¸ç®¡è°ƒç”¨ç«¯æ˜¯å¦é‡‡ç”¨äº†åŒæ­¥æªæ–½ï¼Œéƒ½æ— æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¹¶å‘æ˜¯ä½¿ç”¨ä»£ç ã€‚ç”±äºJavaè¯­è¨€å¤©ç”Ÿå°±æ”¯æŒå¤šçº¿ç¨‹çš„ç‰¹æ€§ï¼Œæ­¤æ¡ˆä»å¯¹ç«‹è¿™ç§æ’æ–¥å¤šçº¿ç¨‹çš„ä»£ç æ—¶å¾ˆå°‘å‡ºç°çš„ï¼Œè€Œä¸”é€šå¸¸éƒ½æ˜¯æœ‰å®³çš„ï¼Œåº”å½“å°½é‡é¿å…ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹æ³•&quot;&gt;çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;Javaè™šæ‹Ÿæœºä¸ºå®ç°çº¿ç¨‹å®‰å…¨ï¼Œæä¾›äº†åŒæ­¥å’Œé”æœºåˆ¶ï¼Œåœ¨äº†è§£äº†Javaè™šæ‹Ÿæœºçº¿ç¨‹å®‰å…¨æªæ–½çš„åŸç†ä¸è¿ä½œè¿‡ç¨‹ï¼Œå†å»ç”¨ä»£ç å®ç°çº¿ç¨‹å®‰å…¨å°±ä¸æ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äº’æ–¥åŒæ­¥&quot;&gt;äº’æ–¥åŒæ­¥&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;äº’æ–¥åŒæ­¥&lt;/mark&gt;ï¼ˆMutual Exclusion &amp;amp; Synchronizationï¼‰æ˜¯ä¸€ç§å¸¸è§ä¹Ÿæ˜¯æœ€ä¸»è¦çš„å¹¶å‘æ­£ç¡®æ€§ä¿éšœæ‰‹æ®µã€‚&lt;br/&gt;&lt;mark&gt;åŒæ­¥&lt;/mark&gt;æ˜¯æŒ‡å¤š&lt;strong&gt;ä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®å…±äº«æ•°æ®æ—¶ï¼Œä¿è¯å…±äº«æ•°æ®åœ¨åŒä¸€æ—¶åˆ»åªè¢«ä¸€æ¡çº¿ç¨‹ä½¿ç”¨&lt;/strong&gt;ã€‚&lt;br/&gt;&lt;mark&gt;äº’æ–¥&lt;/mark&gt;æ˜¯æŒ‡&lt;strong&gt;å®ç°åŒæ­¥çš„ä¸€ç§æ‰‹æ®µï¼Œä¸´ç•ŒåŒºï¼ˆCritical Sectionï¼‰ã€äº’æ–¥é‡ï¼ˆMutexï¼‰å’Œä¿¡å·é‡ï¼ˆSemaphoreï¼‰éƒ½æ˜¯å¸¸è§çš„äº’æ–¥å®ç°æ–¹å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaé‡Œï¼Œæœ€åŸºæœ¬çš„äº’æ–¥åŒæ­¥æ‰‹æ®µå°±æ˜¯&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—ï¼Œè¿™æ˜¯ä¸€ç§å—ç»“æ„çš„åŒæ­¥è¯­æ³•ã€‚åœ¨Javaä»£ç é‡Œå¦‚æœ&lt;code&gt;synchronized&lt;/code&gt;æ˜ç¡®æŒ‡å®šäº†å¯¹è±¡å‚æ•°ï¼Œé‚£å°±ä»¥è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ä½œä¸º&lt;code&gt;reference&lt;/code&gt;ï¼›å¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šï¼Œé‚£å°†æ ¹æ®&lt;code&gt;synchronized&lt;/code&gt;ä¿®é¥°çš„æ–¹æ³•ç±»å‹ï¼ˆå¦‚å®ä¾‹æ–¹æ³•æˆ–ç±»æ–¹æ³•ï¼‰ï¼Œæ¥å†³å®šæ˜¯å–ä»£ç æ‰€åœ¨çš„å¯¹è±¡å®ä¾‹è¿˜æ˜¯å–ç±»å‹å¯¹åº”çš„Classå¯¹è±¡æ¥ä½œä¸ºçº¿ç¨‹è¦æŒæœ‰çš„é”ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨&lt;code&gt;sychronized&lt;/code&gt;æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;mark&gt;è¢«&lt;code&gt;synchronized&lt;/code&gt;ä¿®é¥°çš„åŒæ­¥å—å¯¹åŒä¸€æ¡çº¿ç¨‹æ¥è¯´æ˜¯å¯é‡å…¥çš„&lt;/mark&gt;ã€‚è¿™æ„å‘³ç€åŒä¸€çº¿ç¨‹åå¤è¿›å…¥åŒæ­¥å—ä¹Ÿä¸ä¼šå‡ºç°è‡ªå·±æŠŠè‡ªå·±é”æ­»çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;è¢«&lt;code&gt;synchronized&lt;/code&gt;ä¿®é¥°çš„åŒæ­¥å—åœ¨æŒæœ‰é”çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•å¹¶é‡Šæ”¾é”ä¹‹å‰ï¼Œä¼šæ— æ¡ä»¶åœ°é˜»å¡åé¢å…¶ä»–çº¿ç¨‹çš„è¿›å…¥&lt;/mark&gt;ã€‚è¿™æ„å‘³ç€æ— æ³•åƒå¤„ç†æŸäº›æ•°æ®åº“ä¸­çš„é”é‚£æ ·ï¼Œå¼ºåˆ¶å·²è·å–é”çš„çº¿ç¨‹é‡Šæ”¾é”ï¼›ä¹Ÿæ— æ³•å¼ºåˆ¶æ­£åœ¨ç­‰å¾…é”çš„çº¿ç¨‹ä¸­æ–­ç­‰å¾…æˆ–è¶…æ—¶é€€å‡ºã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;é™¤äº†&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—ä»¥å¤–ï¼Œè‡ªJDK5èµ·ï¼ŒJavaç±»åº“ä¸­æ–°æä¾›äº†&lt;code&gt;java.util.concurrent&lt;/code&gt;åŒ…ï¼ˆJ.U.CåŒ…ï¼‰ï¼Œå…¶ä¸­&lt;code&gt;java.util.concurrent.locks.Lock&lt;/code&gt;æ¥å£ä¾¿æˆäº†Javaçš„å¦ä¸€ç§å…¨æ–°çš„äº’æ–¥åŒæ­¥æ‰‹æ®µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‡å…¥é”ï¼ˆReentrantLockï¼‰&lt;/strong&gt;æ˜¯Lockæ¥å£æœ€å¸¸è§çš„ä¸€ç§å®ç°ï¼Œå®ƒä¸&lt;code&gt;synchronized&lt;/code&gt;ä¸€æ ·æ˜¯å¯é‡å…¥çš„ã€‚åœ¨åŸºæœ¬ç”¨æ³•æ˜¯ï¼Œ&lt;code&gt;ReentrantLock&lt;/code&gt;ä¸&lt;code&gt;synchronized&lt;/code&gt;å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯ä»£ç å†™æ³•ä¸Šç¨æœ‰åŒºåˆ«è€Œå·²ã€‚&lt;br/&gt;ä½†æ˜¯&lt;code&gt;ReentrantLock&lt;/code&gt;ä¸&lt;code&gt;synchronized&lt;/code&gt;ç›¸æ¯”å¢åŠ äº†ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;mark&gt;&lt;strong&gt;ç­‰å¾…å¯ä¸­æ–­&lt;/strong&gt;&lt;/mark&gt;ï¼šæ˜¯æŒ‡å½“æŒæœ‰é”çš„çº¿ç¨‹é•¿æœŸä¸é‡Šæ”¾çš„æ—¶å€™ï¼Œæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚å¯ä¸­æ–­ç‰¹æ€§å¯¹å¤„ç†æ‰§è¡Œæ—¶é—´éå¸¸é•¿çš„åŒæ­¥å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;&lt;strong&gt;å…¬å¹³é”&lt;/strong&gt;&lt;/mark&gt;ï¼šæ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªé”æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ç”³è¯·é”çš„æ—¶é—´é¡ºåºæ¥ä¾æ¬¡è·å¾—é”ï¼›è€Œéå…¬å¹³é”åˆ™ä¸ä¿è¯è¿™ä¸€ç‚¹ï¼Œåœ¨é”è¢«é‡Šæ”¾æ—¶ï¼Œä»»ä½•ä¸€ä¸ªç­‰å¾…é”çš„çº¿ç¨‹éƒ½æœ‰æœºä¼šè·å¾—é”ã€‚&lt;br/&gt;&lt;code&gt;synchronized&lt;/code&gt;æ˜¯éå…¬å¹³é”ï¼ŒReentrantLockåœ¨é»˜è®¤æƒ…å†µç³»ä¹Ÿæ˜¯éå…¬å¹³é”ï¼Œä½†å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°çš„å‚æ•°è®¾ç½®æˆå…¬å¹³é”ï¼Œä¸è¿‡ä¸€æ—¦è®¾ç½®äº†å…¬å¹³é”ï¼ŒReentrantLockæ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œä¼šæ˜æ˜¾å½±å“æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;&lt;strong&gt;é”ç»‘å®šå¤šä¸ªæ¡ä»¶&lt;/strong&gt;&lt;/mark&gt;ï¼šæ˜¯æŒ‡ä¸€ä¸ªReentrantLockå¯¹è±¡å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªConditionå¯¹è±¡ã€‚åœ¨&lt;code&gt;synchronized&lt;/code&gt;ä¸­ï¼Œé”å¯¹è±¡çš„wait()è·Ÿå®ƒçš„notify()æˆ–è€…notifyAll()æ–¹æ³•é…åˆå¯ä»¥å®ç°ä¸€ä¸ªéšå«æ¡ä»¶ï¼Œå¦‚æœè¦å’Œå¤šäºä¸€ä¸ªçš„æ¡ä»¶å…³è”çš„æ—¶å€™ï¼Œå°±ä¸å¾—ä¸é¢å¤–æ·»åŠ ä¸€ä¸ªé”ï¼›è€ŒReentrantLockåˆ™æ— é¡»è¿™æ ·åšï¼Œå¤šæ¬¡è°ƒç”¨newCondition()æ–¹æ³•å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è™½ç„¶è¯´ReentrantLockæ¯”&lt;code&gt;synchronized&lt;/code&gt;å¢åŠ äº†ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œä½†æ˜¯ä»JDK6å¯¹&lt;code&gt;synchronized&lt;/code&gt;åšäº†å¾ˆå¤šçš„ä¼˜åŒ–åï¼Œä»–ä¿©çš„æ€§èƒ½å…¶å®å‡ ä¹ç›¸å·®æ— å‡ äº†ã€‚å¹¶ä¸”åœ¨ä»¥ä¸‹çš„å‡ ç§æƒ…å†µä¸‹è™½ç„¶&lt;code&gt;synchronized&lt;/code&gt;å’ŒReentrantLockéƒ½å¯ä»¥æ»¡è¶³éœ€æ±‚æ—¶ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨&lt;code&gt;synchronized&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;synchronized&lt;/code&gt;æ˜¯åœ¨Javaè¯­æ³•å±‚é¢çš„åŒæ­¥ï¼Œæ¸…æ™°ç®€å•ã€‚å¹¶ä¸”è¢«å¹¿æ³›ç†ŸçŸ¥ï¼Œä½†J.U.Cä¸­çš„Lockæ¥å£å¹¶éå¦‚æ­¤ã€‚å› æ­¤åœ¨åªéœ€è¦åŸºç¡€çš„åŒæ­¥åŠŸèƒ½æ—¶ï¼Œæ›´æ¨è&lt;code&gt;synchronized&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Lockåº”è¯¥ç¡®ä¿åœ¨finallyå—ä¸­é‡Šæ”¾é”ï¼Œå¦åˆ™ä¸€æ—¦å—åŒæ­¥ä¿æŠ¤çš„ä»£ç å—ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™æœ‰å¯èƒ½æ°¸è¿œä¸é‡Šæ”¾æŒæœ‰çš„é”ã€‚&lt;/li&gt;
&lt;li&gt;å°½ç®¡åœ¨JDK5æ—¶ä»£ReentrantLockæ›¾ç»åœ¨æ€§èƒ½ä¸Šé¢†å…ˆè¿‡&lt;code&gt;synchronized&lt;/code&gt;ï¼Œä½†è¿™å·²ç»æ˜¯åå¤šå¹´ä¹‹å‰çš„èƒœåˆ©ã€‚ä»é•¿è¿œçœ‹ï¼ŒJavaè™šæ‹Ÿæœºæ›´å®¹æ˜“é’ˆå¯¹&lt;code&gt;synchronized&lt;/code&gt;æ¥è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºJavaè™šæ‹Ÿæœºå¯ä»¥åœ¨çº¿ç¨‹å’Œå¯¹è±¡çš„å…ƒæ•°æ®ä¸­è®°å½•&lt;code&gt;synchronized&lt;/code&gt;ä¸­é”çš„ç›¸å…³ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;éåŒæ­¥é˜»å¡&quot;&gt;éåŒæ­¥é˜»å¡&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;äº’æ–¥åŒæ­¥&lt;/mark&gt;é¢ä¸´çš„ä¸»è¦é—®é¢˜æ—¶è¿›è¡Œçº¿ç¨‹é˜»å¡å’Œå”¤é†’æ‰€å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œå› æ­¤è¿™ç§åŒæ­¥ä¹Ÿè¢«ç§°ä¸º&lt;mark&gt;é˜»å¡åŒæ­¥ï¼ˆBlocking Synchronizedï¼‰&lt;/mark&gt;ã€‚ä»è§£å†³é—®é¢˜çš„è§’åº¦æ¥çœ‹ï¼Œäº’æ–¥åŒæ­¥æ˜¯ä¸€ç§æ‚²è§‚çš„å¹¶å‘ç­–ç•¥ï¼Œæ— è®ºå…±äº«çš„æ•°æ®æ˜¯å¦çœŸçš„ä¼šå‡ºç°ç«äº‰ï¼Œéƒ½ä¼šè¿›è¡ŒåŠ é”ã€‚&lt;br/&gt;éšç€ç¡¬ä»¶æŒ‡ä»¤é›†çš„å‘å±•ï¼Œå‡ºç°äº†å¦ä¸€ç§é€‰æ‹©ï¼ŒåŸºäºå†²çªæ£€æµ‹çš„ä¹è§‚å¹¶å‘ç­–ç•¥ï¼Œé€šä¿—åœ°è¯´å°±æ˜¯ä¸ç®¡é£é™©ï¼Œå…ˆè¿›è¡Œæ“ä½œï¼Œå‘ç”Ÿäº†å†²çªï¼Œåœ¨è¿›è¡Œè¡¥å¿ï¼Œæœ€å¸¸ç”¨çš„è¡¥å¿å°±æ˜¯ä¸æ–­é‡è¯•ï¼Œç›´åˆ°å‡ºç°æ²¡æœ‰ç«äº‰çš„æ•°æ®ä¸ºæ­¢ã€‚ä½¿ç”¨è¿™ç§ä¹è§‚å¹¶å‘ç­–ç•¥ä¸å†éœ€è¦çº¿ç¨‹é˜»å¡æŒ‚èµ·ï¼Œå› æ­¤è¿™ç§åŒæ­¥æ“ä½œè¢«ç§°ä¸º&lt;mark&gt;éé˜»å¡åŒæ­¥ï¼ˆNon-Blocking Synchronizedï¼‰&lt;/mark&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œæ“ä½œå’Œå†²çªæ£€æµ‹æ—¶è¿™ä¸ªæ­¥éª¤è¦ä¿è¯åŸå­æ€§ï¼Œç¡¬ä»¶å¯ä»¥åªé€šè¿‡ä¸€æ¡å¤„ç†å™¨æŒ‡ä»¤å°±èƒ½å®Œæˆï¼Œè¿™ç±»æŒ‡ä»¤å¸¸ç”¨çš„æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;æµ‹è¯•å¹¶è®¾ç½®ï¼ˆTest and Setï¼‰&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·å–å¹¶å¢åŠ ï¼ˆFetch and Incrementï¼‰&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº¤æ¢ï¼ˆSwapï¼‰&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCompare adn Swapï¼Œç®€ç§°&lt;mark&gt;CAS&lt;/mark&gt;)&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ è½½é“¾æ¥/æ¡ä»¶å­˜å‚¨ï¼ˆLoad-Linked/Store-Conditionalï¼Œç®€ç§°LL/SCï¼‰&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;mark&gt;Javaç±»åº“ä»JDK5ä¹‹åæ‰å¼€å§‹ä½¿ç”¨CASæ“ä½œï¼Œå¹¶ä¸”è¯¥æ“ä½œæœ‰sun.misc.Unsafeç±»é‡Œé¢çš„compareAndSwapInt()å’ŒcompareAndSwapLong()ç­‰å‡ ä¸ªæ–¹æ³•åŒ…è£…æä¾›ã€‚ä½†æ˜¯Unsafeçš„é™åˆ¶äº†ä¸æä¾›ç»™ç”¨æˆ·è°ƒç”¨ï¼Œå› æ­¤åœ¨JDK9ä¹‹å‰åªæœ‰Javaç±»åº“å¯ä»¥ä½¿ç”¨CASï¼Œè­¬å¦‚J.U.CåŒ…é‡Œé¢çš„æ•´æ•°åŸå­ç±»ï¼Œå…¶ä¸­çš„compareAndSet()å’ŒgetAndIncrement()ç­‰æ–¹æ³•éƒ½ä½¿ç”¨äº†Unsafeç±»çš„CASæ“ä½œæ¥å®ç°ã€‚ç›´åˆ°JDK9ï¼ŒJavaç±»åº“æ‰åœ¨VarHandleç±»é‡Œå¼€æ”¾äº†é¢å‘ç”¨æˆ·ç¨‹åºä½¿ç”¨çš„CASæ“ä½œ&lt;/mark&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­&lt;/strong&gt;ï¼š&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200715214836483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SmlNb2Vy,size_30,color_FFFFFF,t_70&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;è¿™æ˜¯ä¹‹å‰çš„ä¸€ä¸ªä¾‹å­åœ¨éªŒè¯volatileå˜é‡ä¸ä¸€å®šå®Œå…¨å…·å¤‡åŸå­æ€§çš„æ—¶å€™çš„ä»£ç ã€‚20ä¸ªçº¿ç¨‹è‡ªå¢10000æ¬¡çš„æ“ä½œæœ€ç»ˆçš„ç»“æœä¸€ç›´ä¸ä¼šå¾—åˆ°200000ã€‚å¦‚æœæŒ‰ä¹‹å‰çš„ç†è§£å°±ä¼šæŠŠrace++æ“ä½œæˆ–increase()æ–¹æ³•ç”¨åŒæ­¥å—åŒ…èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœæ”¹æˆä¸‹é¢çš„ä»£ç ï¼Œæ•ˆç‡å°†ä¼šæé«˜è®¸å¤šã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class AtomicTest {

    public static AtomicInteger race = new AtomicInteger(0);

    public static void increase(){
        race.incrementAndGet();
    }

    private static final int THREADS_COUNT = 20;
    
    public static void main(String[] args) throws Exception{
        Thread[] threads = new Thread[THREADS_COUNT];
        for (int i = 0;i&amp;lt;THREADS_COUNT;i++){
            threads[i] = new Thread(() -&amp;gt; {
                for(int i1 = 0; i1 &amp;lt;10000; i1++){
                    increase();
                }
            });

            threads[i].start();
        }

        while (Thread.activeCount() &amp;gt; 2){
            Thread.yield();
        }

        System.out.println(race);
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæ•ˆæœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;200000
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨å“¦AtomicIntegerä»£æ›¿intåï¼Œå¾—åˆ°äº†æ­£ç¡®ç»“æœï¼Œä¸»è¦å½’åŠŸäºincrementAndGet()æ–¹æ³•çš„åŸå­æ€§ï¼ŒincrementAndGet()ä½¿ç”¨çš„å°±æ˜¯CASï¼Œåœ¨æ­¤æ–¹æ³•å†…éƒ¨æœ‰ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ï¼Œä¸æ–­å°è¯•è®²ä¸€ä¸ªæ¯”å½“å‰å€¼å¤§ä¸€çš„æ–°å€¼èµ‹å€¼ç»™è‡ªå·±ã€‚å¦‚æœå¤±è´¥äº†ï¼Œé‚£è¯´æ˜åœ¨æ‰§è¡ŒCASæ“ä½œçš„æ—¶å€™ï¼Œæ—§å€¼å·²ç»å‘ç”Ÿæ”¹å˜ï¼Œäºæ˜¯å†æ¬¡å¾ªç¯è¿›è¡Œä¸‹ä¸€æ¬¡æ“ä½œï¼Œç›´åˆ°è®¾ç½®æˆåŠŸä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ— åŒæ­¥æ–¹æ¡ˆ&quot;&gt;æ— åŒæ­¥æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¹Ÿä¸ä¸€å®šéè¦ç”¨åŒæ­¥ï¼Œçº¿ç¨‹å®‰å…¨ä¸åŒæ­¥æ²¡æœ‰å¿…ç„¶å…³ç³»ï¼Œå¦‚æœèƒ½è®©ä¸€ä¸ªæ–¹æ³•æœ¬æ¥å°±ä¸æ¶‰åŠå…±äº«æ•°æ®ï¼Œé‚£å®ƒè‡ªç„¶å°±ä¸éœ€è¦ä»»ä½•åŒæ­¥æªæ–½å»ä¿è¯æ­£ç¡®æ€§ï¼Œå› æ­¤æœ‰ä¸€äº›ä»£ç å¤©ç”Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸»è¦æœ‰è¿™ä¸¤ç±»ï¼š&lt;br/&gt;&lt;mark&gt;&lt;strong&gt;å¯é‡å…¥ä»£ç &lt;/strong&gt;&lt;/mark&gt;ï¼šæ˜¯æŒ‡å¯ä»¥åœ¨ä»£ç æ‰§è¡Œçš„ä»»ä½•æ—¶åˆ»ä¸­æ–­å®ƒï¼Œç„¶åå»æ‰§è¡Œå¦å¤–ä¸€æ®µä»£ç ï¼Œè€Œæ§åˆ¶æƒè¿”å›åï¼ŒåŸæ¥çš„ç¨‹åºä¸ä¼šå‡ºç°ä»»ä½•é”™è¯¯ï¼Œä¹Ÿä¸ä¼šå¯¹ç»“æœæœ‰æ‰€å½±å“ã€‚&lt;br/&gt;å¯é‡å…¥ä»£ç æœ‰ä¸€äº›å…±åŒç‰¹å¾ï¼š&lt;br/&gt;&lt;strong&gt;ä¸ä¾èµ–å…¨å±€å˜é‡ã€å­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®å’Œå…¬ç”¨çš„ç³»ç»Ÿèµ„æºï¼Œç”¨åˆ°çš„çŠ¶æ€é‡éƒ½ç”±å‚æ•°ä¼ å…¥ï¼Œä¸è°ƒç”¨éå¯é‡å…¥çš„æ–¹æ³•ç­‰&lt;/strong&gt;ã€‚&lt;br/&gt;ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªåŸåˆ™ï¼š&lt;mark&gt;å¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœæ˜¯å¯ä»¥é¢„æµ‹çš„ï¼Œåªè¦è¾“å…¥äº†ç›¸åŒçš„æ•°æ®ï¼Œå°±èƒ½è¿”å›ç›¸åŒçš„ç»“æœï¼Œé‚£å®ƒå°±æ»¡è¶³å¯é‡å…¥æ€§çš„è¦æ±‚ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/mark&gt;ã€‚&lt;br/&gt;&lt;mark&gt;&lt;strong&gt;çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThread Local Storageï¼‰&lt;/strong&gt;&lt;/mark&gt;ï¼š&lt;strong&gt;å¦‚æœä¸€æ®µä»£ç ä¸­æ‰€éœ€çš„æ•°æ®å¿…é¡»ä¸å…¶ä»–ä»£ç å…±äº«ï¼Œé‚£å°±çœ‹çœ‹è¿™äº›å…±äº«æ•°æ®çš„ä»£ç æ˜¯å¦èƒ½ä¿è¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œã€‚å¦‚æœèƒ½ï¼Œå°±å¯ä»¥æŠŠå…±äº«æ•°æ®çš„å¯è§èŒƒå›´é™åˆ¶åœ¨åŒä¸€ä¸ªçº¿ç¨‹å†…ï¼Œè¿™æ ·æ— é¡»åŒæ­¥ä¹Ÿèƒ½ä¿è¯çº¿ç¨‹ä¹‹é—´ä¸å‡ºç°æ•°æ®äº‰ç”¨çš„é—®é¢˜&lt;/strong&gt;ã€‚&lt;br/&gt;å¦‚å¤§éƒ¨åˆ†ä½¿ç”¨æ¶ˆè´¹é˜Ÿåˆ—çš„æ¶æ„æ¨¡å¼ï¼Œéƒ½ä¼šå°†äº§å“çš„æ¶ˆè´¹è¿‡ç¨‹é™åˆ¶åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ¶ˆè´¹å®Œï¼Œæœ€ç»å…¸ä¸€ä¸ªå®ä¾‹å°±æ˜¯Webäº¤äº’æ¨¡å¼ä¸­çš„â€œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæœåŠ¡å™¨çº¿ç¨‹â€çš„å¤„ç†æ–¹å¼ï¼Œè¿™ç§å¤„ç†æ–¹å¼çš„å¹¿æ³›åº”ç”¨ä½¿å¾—å¾ˆå¤šWebæœåŠ¡ç«¯åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å­˜å‚¨æ¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
</description>
<pubDate>Wed, 15 Jul 2020 15:48:00 +0000</pubDate>
<dc:creator>çºªè«</dc:creator>
<og:description>å‰è¨€ æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯æœ‰ä¸ªé¡ºåºçš„ï¼Œå°±æ˜¯å…ˆå®ç°å†ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰›Pç¨‹åºéƒ½æ˜¯ä¸€æ¬¡å°±å†™å‡ºæ¥çš„ï¼Œè‚¯å®šéƒ½æ˜¯ä¸æ–­çš„ä¼˜åŒ–å®Œå–„æ¥æŒç»­å®ç°çš„ã€‚å› æ­¤æˆ‘ä»¬åœ¨è€ƒè™‘å®ç°é«˜å¹¶å‘ç¨‹åºçš„æ—¶å€™ï¼Œè¦å…ˆä¿è¯å¹¶å‘çš„æ­£ç¡®æ€§ï¼Œç„¶</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/jimoer/p/13308699.html</dc:identifier>
</item>
<item>
<title>ç†è§£Springï¼ˆä¸€ï¼‰ï¼šSpring ä¸ IoC - å¼ æ°¸æ’</title>
<link>http://www.cnblogs.com/yonghengzh/p/13311192.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yonghengzh/p/13311192.html</guid>
<description>&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-spring&quot;&gt;ä»€ä¹ˆæ˜¯ Spring&lt;/h2&gt;
&lt;p&gt;Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒäº2004å¹´å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå…¶ç›®çš„æ˜¯ç”¨äºç®€åŒ–ä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¼ ç»Ÿåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æ˜¯ç”±ä¸€ç»„ç›¸äº’åä½œçš„å¯¹è±¡ç»„æˆï¼Œå¼€å‘ä¸€ä¸ªåº”ç”¨é™¤äº†è¦å¼€å‘ä¸šåŠ¡é€»è¾‘ä¹‹å¤–ï¼Œæ›´å¤šçš„æ˜¯å…³æ³¨å¦‚ä½•ä½¿è¿™äº›å¯¹è±¡åä½œæ¥å®Œæˆæ‰€éœ€åŠŸèƒ½ï¼Œè€Œä¸”è¦é«˜å†…èšï¼Œä½è€¦åˆã€‚è™½ç„¶ä¸€äº›è®¾è®¡æ¨¡å¼å¯ä»¥å¸®æˆ‘ä»¬è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå¯æ˜¯è¿™åˆå¾’å¢äº†æˆ‘ä»¬çš„è´Ÿæ‹…ã€‚å¦‚æœèƒ½é€šè¿‡é…ç½®çš„æ–¹å¼æ¥åˆ›å»ºå¯¹è±¡ï¼Œç®¡ç†å¯¹è±¡ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆå°±èƒ½å¤Ÿå‡å°‘è®¸å¤šå·¥ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚Spring æ¡†æ¶ä¸»è¦å°±æ˜¯æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½çš„ã€‚&lt;/p&gt;
&lt;p&gt;Spring æ¡†æ¶é™¤äº†å¸®æˆ‘ä»¬ç®¡ç†å¯¹è±¡åŠå…¶ä¾èµ–å…³ç³»ä¹‹å¤–ï¼Œè¿˜æä¾›äº†é¢å‘åˆ‡é¢ç¼–ç¨‹çš„èƒ½åŠ›ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå…è®¸æˆ‘ä»¬å¯¹ä¸€äº›é€šç”¨ä»»åŠ¡å¦‚æ—¥å¿—è®°å½•ã€å®‰å…¨æ§åˆ¶ã€å¼‚å¸¸å¤„ç†ç­‰è¿›è¡Œé›†ä¸­å¼ç®¡ç†ï¼Œè¿˜èƒ½å¸®æˆ‘ä»¬ç®¡ç†æœ€å¤´ç–¼çš„æ•°æ®åº“äº‹åŠ¡ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›äº†ç²˜åˆå…¶ä»–æ¡†æ¶çš„èƒ½åŠ›ï¼Œä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ä¸å„ç§ç¬¬ä¸‰æ–¹æ¡†æ¶è¿›è¡Œé›†æˆï¼Œè€Œä¸”ä¸ç®¡æ˜¯ Java SE åº”ç”¨ç¨‹åºè¿˜æ˜¯ JavaEE åº”ç”¨ç¨‹åºéƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¹³å°è¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;Spring æ˜¯åŸºäº &lt;strong&gt;IoC&lt;/strong&gt; å’Œ &lt;strong&gt;AOP&lt;/strong&gt; ä¸¤å¤§æ€æƒ³ç†è®ºè¡ç”Ÿè€Œæ¥çš„ï¼Œå¯ä»¥è¯´ï¼ŒSpringæ˜¯ä¸€ä¸ªåŒæ—¶å®ç°äº† IoC å’Œ AOP çš„æ¡†æ¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;spring-çš„æ•´ä½“æ¶æ„&quot;&gt;Spring çš„æ•´ä½“æ¶æ„&lt;/h2&gt;
&lt;p&gt;Spring çš„æ•´ä½“æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;img src=&quot;https://img2020.cnblogs.com/blog/1555451/202007/1555451-20200715233519469-2015600342.png&quot; width=&quot;500&quot; height=&quot;350&quot; align=&quot;bottom&quot;/&gt;&lt;p&gt;æ ¸å¿ƒæ¨¡å—åªæœ‰3ä¸ªï¼šBeansã€Coreã€å’Œ Context ï¼Œå®ƒä»¬æ„å»ºèµ·äº†æ•´ä¸ª Spring çš„éª¨æ¶ï¼Œæ²¡æœ‰å®ƒä»¬å°±ä¸å¯èƒ½æœ‰ AOPã€Web ç­‰ä¸Šå±‚çš„ç‰¹æ€§åŠŸèƒ½ã€‚å¦‚æœåœ¨å®ƒä»¬3ä¸ªä¸­é€‰å‡ºä¸€ä¸ªæœ€æ ¸å¿ƒçš„æ¨¡å—çš„è¯ï¼Œé‚£å°±é Beans æ¨¡å—è«å±äº†ï¼Œå…¶å® Spring å°±æ˜¯é¢å‘ Bean çš„ç¼–ç¨‹ï¼ˆBOP, Bean Oriented Programmingï¼‰ï¼ŒBean åœ¨ Spring ä¸­æ‰æ˜¯çœŸæ­£çš„ä¸»è§’ã€‚å…³äº Bean çš„è§‚å¿µï¼Œä¼šåœ¨åé¢è¿›è¡Œä»‹ç»ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-ioc&quot;&gt;ä»€ä¹ˆæ˜¯ IoC&lt;/h2&gt;
&lt;p&gt;IoCï¼ˆInverse Of Controlï¼Œæ§åˆ¶åè½¬ï¼‰æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œç›®æ ‡æ˜¯å®ç°è§£è€¦ã€‚æ‰€è°“æ§åˆ¶åè½¬ï¼Œæ˜¯æŒ‡å¯¹èµ„æºçš„æ§åˆ¶æ–¹å¼åè½¬äº†ã€‚è¿™é‡Œè¯´çš„èµ„æºä¸»è¦æŒ‡æˆ‘ä»¬çš„ä¸šåŠ¡å¯¹è±¡ï¼Œå¯¹è±¡ä¹‹é—´å¾€å¾€ä¼šå­˜åœ¨æŸç§ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¾èµ–å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯åœ¨å®ƒå†…éƒ¨ç›´æ¥ new ä¸€ä¸ªå‡ºæ¥ï¼Œå³ç”±å¯¹è±¡è‡ªå·±è´Ÿè´£åˆ›å»ºå¹¶ç®¡ç†å®ƒæ‰€ä¾èµ–çš„èµ„æºï¼Œè¿™æ˜¯ä¼ ç»Ÿçš„å¯¹èµ„æºçš„æ§åˆ¶æ–¹å¼ã€‚IoC å°±æ˜¯å°†å…¶é¢ å€’è¿‡æ¥ï¼Œå¯¹è±¡ç”±ä¸»åŠ¨æ§åˆ¶æ‰€éœ€èµ„æºå˜æˆäº†è¢«åŠ¨æ¥å—ï¼Œç”±ç¬¬ä¸‰æ–¹ï¼ˆIoC å®¹å™¨ï¼‰å¯¹èµ„æºè¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œå¯¹è±¡éœ€è¦ä»€ä¹ˆèµ„æºå°±ä»IoCå®¹å™¨ä¸­å–ï¼Œæˆ–è€…è®©å®¹å™¨ä¸»åŠ¨å°†æ‰€éœ€èµ„æºæ³¨å…¥è¿›æ¥ã€‚&lt;/p&gt;
&lt;p&gt;IoC ä¹‹åï¼Œå¯¹è±¡ä¸æ‰€éœ€èµ„æºä¹‹é—´ä¸å†å…·æœ‰å¼ºè€¦åˆæ€§ï¼Œèµ„æºå¯ä»¥è¢«ç›´æ¥æ›¿æ¢ï¼Œè€Œæ— éœ€æ”¹åŠ¨éœ€æ±‚æ–¹çš„ä»£ç ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè‘£äº‹é•¿éœ€è¦ä¸€ä¸ªç§˜ä¹¦ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯ï¼Œè‘£äº‹é•¿è‡ªå·±å»æŒ‡å®šä¸€ä¸ªç§˜ä¹¦ï¼Œæ§åˆ¶æƒåœ¨ä»–è‡ªå·±æ‰‹ä¸Šï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ä»–ä¸ç§˜ä¹¦ä¹‹é—´çš„è€¦åˆæ€§è¾ƒå¼ºï¼Œä¸€æ—¦æƒ³æ¢ç§˜ä¹¦äº†ï¼Œå°±å¾—ä¿®æ”¹è‡ªå·±çš„ä»£ç ã€‚IoC çš„åšæ³•æ˜¯ï¼Œè‘£äº‹é•¿å£°æ˜è‡ªå·±éœ€è¦ä¸€ä¸ªç§˜ä¹¦ï¼Œç”±IoC å®¹å™¨ä¸ºä»–æŒ‡å®šä¸€ä¸ªç§˜ä¹¦ï¼Œè‡³äºæ˜¯å“ªä¸ªç§˜ä¹¦ï¼Œç”·çš„è¿˜æ˜¯å¥³çš„ï¼Œä¸€åˆ‡ç”±å®¹å™¨è¯´äº†ç®—ï¼Œå¦‚æœè¦æ¢ç§˜ä¹¦ï¼Œä¹Ÿæ˜¯ä¿®æ”¹å®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œä¸è‘£äº‹é•¿æ— å…³ï¼Œè¿™æ ·å°±å®ç°äº†ä¸¤è€…é—´çš„è§£è€¦ã€‚&lt;/p&gt;
&lt;p&gt;IoC çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;DIï¼ˆDependency Injectionï¼Œä¾èµ–æ³¨å…¥ï¼‰ã€‚æ‰€è°“ä¾èµ–æ³¨å…¥ï¼Œæ˜¯æŒ‡å¯¹è±¡æ‰€ä¾èµ–çš„èµ„æºé€šè¿‡è¢«åŠ¨æ³¨å…¥çš„æ–¹å¼å¾—åˆ°ï¼Œæ¢è¨€ä¹‹ï¼Œå®¹å™¨ä¼šä¸»åŠ¨åœ°æ ¹æ®é¢„å…ˆé…ç½®çš„ä¾èµ–å…³ç³»å°†èµ„æºæ³¨å…¥è¿›æ¥ã€‚&lt;/li&gt;
&lt;li&gt;DLï¼ˆDependency Lookupï¼Œä¾èµ–æŸ¥æ‰¾ï¼‰ã€‚ä¾èµ–æŸ¥æ‰¾æ˜¯æ—©å…ˆçš„ä¸€ç§ IoC å®ç°æ–¹å¼ï¼Œç°å·²è¿‡æ—¶ã€‚å¯¹è±¡éœ€è¦è°ƒç”¨å®¹å™¨çš„APIæŸ¥æ‰¾å®ƒæ‰€ä¾èµ–çš„èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;bean-çš„æ¦‚å¿µ&quot;&gt;Bean çš„æ¦‚å¿µ&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;åœ¨ Java ä¸­ï¼Œâ€œBeanâ€æ˜¯å¯¹ç”¨Javaè¯­è¨€ç¼–å†™çš„â€œå¯é‡ç”¨ç»„ä»¶â€çš„æƒ¯ç”¨å«æ³•ã€‚å¯ä»¥ä»å­—é¢æ„æ€å»ç†è§£ï¼ŒJava åŸæœ¬æŒ‡çˆªå“‡å’–å•¡ï¼Œbean æŒ‡å’–å•¡è±†ï¼Œè€Œå’–å•¡çš„â€œå¯é‡ç”¨ç»„ä»¶â€å°±æ˜¯å’–å•¡è±†å˜›ã€‚å®˜æ–¹å¹¶æ²¡æœ‰è¯´æ˜æ‰€è°“çš„â€œç»„ä»¶â€å…·ä½“æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Œå› ä¸ºâ€œç»„ä»¶â€æœ¬èº«å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯å¯¹è½¯ä»¶ç»„æˆéƒ¨åˆ†çš„æŠ½è±¡ï¼Œå› æ­¤ï¼ŒBeanä½œä¸ºå¯é‡ç”¨ç»„ä»¶çš„ä»£ç§°ï¼Œæ—¢å¯æŒ‡ç±»ï¼Œä¹Ÿå¯æŒ‡å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ Spring ä¸­ï¼ŒBean çš„æ¦‚å¿µåŒä¸Šï¼Œæœ‰æ—¶ä¹Ÿç§° Componentã€‚ ç”± Spring çš„ IoCå®¹å™¨æ‰€ç®¡ç†çš„ Bean ç§°ä½œ Spring Beanã€‚&lt;/li&gt;
&lt;li readability=&quot;0.5&quot;&gt;æ‰©å±•ï¼š
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;em&gt;Java Bean&lt;/em&gt; çš„æ¦‚å¿µä¸åŒäº &lt;em&gt;Bean&lt;/em&gt;ï¼ŒJava Bean æ˜¯æŒ‡ç¬¦åˆ &lt;em&gt;JavaBeans&lt;/em&gt; è§„èŒƒçš„ä¸€ç§ç‰¹æ®Šçš„ Beanï¼Œå³ï¼šæ‰€æœ‰å±æ€§å‡ä¸º privateï¼Œæä¾› getter å’Œ setterï¼Œæä¾›é»˜è®¤æ„é€ æ–¹æ³•ã€‚JavaBean ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯éµå¾ªç‰¹å®šçº¦å®šçš„POJOã€‚&lt;/p&gt;
&lt;p&gt;POJOï¼ˆPlain Ordinary Java Objectï¼‰æ˜¯æŒ‡ç®€å•å’Œæ™®é€šçš„ Java å¯¹è±¡ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œå®ƒä¸ç»§æ‰¿ç±»ï¼Œä¸å®ç°æ¥å£ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œä»…ç”¨äºå°è£…æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;spring-çš„åŸºæœ¬ä½¿ç”¨&quot;&gt;Spring çš„åŸºæœ¬ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆé…ç½® Bean ä¿¡æ¯ï¼Œå‘ Spring çš„ IoC å®¹å™¨ï¼ˆæˆ–ç®€ç§° Spring å®¹å™¨ï¼‰ä¸­æ³¨å†Œ Beanã€‚ä»¥ XML æ–¹å¼ä¸ºä¾‹ï¼Œå¦‚ä¸‹é…ç½®äº†ä¸¤ä¸ª Beanï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªä¾èµ–ç¬¬äºŒä¸ªï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;bean id=&quot;John&quot; class=&quot;Person&quot;&amp;gt;
        &amp;lt;property name=&quot;lover&quot;&amp;gt;
                &amp;lt;ref bean=&quot;Mary&quot;/&amp;gt;
        &amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;
&amp;lt;bean id=&quot;Mary&quot; class=&quot;Person&quot;/&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶ååˆ›å»º Spring å®¹å™¨ï¼ŒåŒæ—¶ç»‘å®šé…ç½®æ–‡ä»¶ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ApplicationContext container = new ClassPathXmlApplicationContext(&quot;bean-config.xml&quot;);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶åé€šè¿‡å®¹å™¨çš„ getBean æ–¹æ³•å³å¯å¾—åˆ°æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„ Bean çš„å®ä¾‹ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;Person John = container.getBean(&quot;John&quot;);
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;spring-çš„ä¸¤ç§-ioc-å®¹å™¨&quot;&gt;Spring çš„ä¸¤ç§ IoC å®¹å™¨&lt;/h2&gt;
&lt;p&gt;Spring æä¾›äº†ä¸¤ç§ IoC å®¹å™¨ï¼š BeanFactory å’Œ ApplicationContext ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;BeanFactory æä¾›åŸºæœ¬çš„ IoC æœåŠ¡æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;ApplicationContext å¯¹ BeanFactory è¿›è¡Œäº†æ‰©å±•ä¸å¢å¼ºï¼Œé™¤äº†æ‹¥æœ‰ BeanFactory çš„æ‰€æœ‰èƒ½åŠ›å¤–ï¼Œè¿˜æä¾›äº†è®¸å¤šé«˜çº§ç‰¹æ€§ï¼Œå¦‚äº‹ä»¶å‘å¸ƒã€èµ„æºåŠ è½½ã€å›½é™…åŒ–æ¶ˆæ¯ç­‰ã€‚ApplicationContext æ¥å£ç»§æ‰¿äº† BeanFactory æ¥å£ï¼Œå®ƒçš„å®ç°ç±»ä¸­ä¹Ÿæ˜¯ç›´æ¥å¤ç”¨äº† BeanFactoryï¼Œå› æ­¤å¯ä»¥è¯´ï¼ŒApplicationContext æ˜¯ BeanFactory çš„å¢å¼ºç‰ˆã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¸¤è€…åœ¨æ ¸å¿ƒåŠŸèƒ½ä¸Šçš„åŒºåˆ«ä¸»è¦æ˜¯é»˜è®¤çš„åŠ è½½ç­–ç•¥ä¸åŒï¼Œè¿™ç‚¹åŒºåˆ«å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨æ›´ä¸ºå¼ºå¤§çš„ ApplicationContextï¼Œå¾ˆå°‘ä¼šç›´æ¥ä½¿ç”¨ BeanFactoryã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯å‡ ä¸ªæœ€å¸¸ç”¨çš„ ApplicationContext å®ç°ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ClassPathXmlApplicationContext&lt;/li&gt;
&lt;li&gt;AnnotationConfigApplicationContext&lt;/li&gt;
&lt;li&gt;AnnotationConfigWebApplicationContext&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;spring-å®¹å™¨çš„åŸºæœ¬å·¥ä½œåŸç†&quot;&gt;Spring å®¹å™¨çš„åŸºæœ¬å·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯å®¹å™¨ï¼Œé‚£å®ƒæœ€åº•å±‚è‚¯å®šæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚é€šè¿‡è·Ÿè¸ª getBean æ–¹æ³•ï¼Œæˆ‘ä»¬å‘ç°å®ƒæ˜¯ä»ä¸€ä¸ªå«ä½œ &lt;em&gt;singletonObjects&lt;/em&gt; çš„ Map é›†åˆä¸­è·å– Bean å®ä¾‹çš„ã€‚&lt;em&gt;singletonObjects&lt;/em&gt; çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1555451/202007/1555451-20200715233448720-414347563.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ–­å®šï¼Œå®ƒå°±æ˜¯ Spring å®¹å™¨çš„æ ¸å¿ƒï¼Œå‡¡æ˜¯ä½œç”¨åŸŸä¸ºå•ä¾‹çš„ Bean çš„å®ä¾‹éƒ½ä¿å­˜åœ¨è¯¥ Map é›†åˆä¸­ï¼Œæˆ‘æŠŠå®ƒç§°ä¹‹ä¸º&lt;strong&gt;å•ä¾‹æ± &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ getBean æ–¹æ³•åšäº†å“ªäº›äº‹æƒ…å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;getBean æ–¹æ³•é¦–å…ˆä¼šä»å•ä¾‹æ± ä¸­è·å– Bean å®ä¾‹ï¼Œå¦‚æœå–åˆ°äº†å°±ç›´æ¥è¿”å›ï¼Œå¦åˆ™ï¼Œå¦‚æœæœ‰çˆ¶å®¹å™¨ï¼Œå°è¯•ä»çˆ¶å®¹å™¨ä¸­è·å–ï¼Œå¦‚æœä¹Ÿæ²¡è·å–åˆ°ï¼Œåˆ™åˆ›å»ºå®ä¾‹ã€‚åˆ›å»ºå®ä¾‹ä¹‹å‰å…ˆç¡®ä¿è¯¥ Bean æ‰€ä¾èµ–çš„ Bean å…¨éƒ¨åˆå§‹åŒ–ï¼Œç„¶åï¼Œå¦‚æœæ˜¯åŸå‹ Beanï¼Œåˆ›å»ºå¥½å®ä¾‹åç›´æ¥è¿”å›ï¼Œå¦‚æœæ˜¯å•ä¾‹ Beanï¼Œåˆ›å»ºå¥½å®ä¾‹åå°†å…¶æ”¾è¿›å•ä¾‹æ± ï¼Œç„¶åå†ä»å•ä¾‹æ± ä¸­è·å–å¹¶è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;å½“ Spring å®¹å™¨è¢«åˆ›å»ºæ—¶ï¼Œå®ƒåˆæ˜¯å¦‚ä½•å®Œæˆåˆå§‹åŒ–çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»¥ &lt;code&gt;ClassPathXmlApplicationContext&lt;/code&gt;ä¸ºä¾‹ï¼Œå®ƒçš„æ„é€ æ–¹æ³•ä¸»è¦åšçš„äº‹æƒ…å°±æ˜¯è°ƒç”¨ refresh() æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public void refresh() throws BeansException, IllegalStateException {
    synchronized (this.startupShutdownMonitor) {
        // å‡†å¤‡å¥½è‡ªå·±
        prepareRefresh();
        // åˆ›å»ºå¹¶åˆå§‹åŒ–BeanFactory
        ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();
        // å‡†å¤‡å¥½è¦ä½¿ç”¨çš„BeanFactory
        prepareBeanFactory(beanFactory);
        try {
            // å¯¹BeanFactoryè¿›è¡Œåç½®å¤„ç†
            postProcessBeanFactory(beanFactory);
            // è°ƒç”¨BeanFactoryçš„åç½®å¤„ç†å™¨
            invokeBeanFactoryPostProcessors(beanFactory);
            // æ³¨å†ŒBeançš„åç½®å¤„ç†å™¨
            registerBeanPostProcessors(beanFactory);
            // åˆå§‹åŒ–æ¶ˆæ¯æº
            initMessageSource();
            // åˆå§‹åŒ–äº‹ä»¶å¤šæ’­å™¨
            initApplicationEventMulticaster();
            // åˆå§‹åŒ–å…¶ä»–ç‰¹æ®Šçš„bean
            onRefresh();
            // æ£€æµ‹å¹¶æ³¨å†Œç›‘å¬å™¨Bean
            registerListeners();
            // å®ä¾‹åŒ–å…¶ä½™æ‰€æœ‰ï¼ˆéæ‡’åŠ è½½ï¼‰çš„å•ä¾‹Bean
            finishBeanFactoryInitialization(beanFactory);
            // æœ€åä¸€æ­¥ï¼šå‘å¸ƒç›¸åº”çš„äº‹ä»¶
            finishRefresh();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;refresh() æ–¹æ³•çš„ä¸»è¦æ‰§è¡Œæµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;è°ƒç”¨ &lt;code&gt;refreshBeanFactory()&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šé¦–å…ˆæ–°å»ºæˆ–é‡å»º BeanFactory å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ç›¸åº”çš„&lt;code&gt;BeanDefinitionReader&lt;/code&gt; è¯»å–å¹¶è§£æ Bean å®šä¹‰ä¿¡æ¯ï¼Œå°†æ¯ä¸ª Bean å®šä¹‰ä¿¡æ¯ä¾æ¬¡å°è£…æˆ &lt;code&gt;BeanDefinition&lt;/code&gt; å¯¹è±¡ï¼Œå¹¶å°†è¿™äº› &lt;code&gt;BeanDefinition&lt;/code&gt; å¯¹è±¡æ³¨å†Œåˆ° &lt;code&gt;BeanDefinitionRegistery&lt;/code&gt;ã€‚è¿™ä¸€æ­¥ï¼Œå®Œæˆäº† BeanFactory çš„åˆ›å»ºï¼Œä»¥åŠ Bean å®šä¹‰ä¿¡æ¯çš„åŠ è½½ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½® BeanFactoryï¼Œå¯¹ BeanFactory åšä¸€äº›åç½®å¤„ç†ï¼Œæ³¨å†Œ Bean çš„åç½®å¤„ç†å™¨ï¼Œåˆå§‹åŒ–æ¶ˆæ¯æºå’Œäº‹ä»¶å¤šæ’­å™¨ï¼Œæ³¨å†Œç›‘å¬å™¨ç­‰ã€‚è¿™ä¸€æ­¥ï¼Œå®Œæˆäº† Spring å®¹å™¨çš„é…ç½®å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;finishBeanFactoryInitialization()&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šéå†ä¹‹å‰æ³¨å†Œåˆ° &lt;code&gt;BeanDefinitionRegistery&lt;/code&gt; ä¸­çš„æ‰€æœ‰ &lt;code&gt;BeanDefinition&lt;/code&gt; ï¼Œä¾æ¬¡å®ä¾‹åŒ–é‚£äº›éæŠ½è±¡éæ‡’åŠ è½½çš„å•ä¾‹ Beanï¼Œå¹¶å°†å…¶åŠ å…¥å•ä¾‹æ± ã€‚è¿™ä¸€æ­¥ï¼Œå®Œæˆäº† Bean çš„å®ä¾‹åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Spring å®¹å™¨çš„å‡ ä¸ªæ ¸å¿ƒç±»ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;code&gt;DefaultListableBeanFactory&lt;/code&gt;&lt;/strong&gt; æ˜¯ä¸€ä¸ªé€šç”¨çš„ &lt;code&gt;BeanFactory&lt;/code&gt; å®ç°ç±»ï¼Œå®ƒè¿˜åŒæ—¶å®ç°äº†&lt;code&gt;BeanDefinitionRegistry&lt;/code&gt; æ¥å£ã€‚ä» ApplicationContext å®ç°ç±»çš„æºç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å®ƒå†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ª &lt;code&gt;DefaultListableBeanFactory&lt;/code&gt; çš„å®ä¾‹ï¼Œæ‰€æœ‰çš„ IoC æœåŠ¡éƒ½å§”æ‰˜ç»™è¯¥ BeanFactory å®ä¾‹æ¥æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;BeanDefinitionRegistry&lt;/code&gt;&lt;/strong&gt; è´Ÿè´£ç»´æŠ¤ &lt;code&gt;BeanDefinition&lt;/code&gt; å®ä¾‹ï¼Œè¯¥æ¥å£ä¸»è¦å®šä¹‰äº†&lt;code&gt;registerBeanDefinition()&lt;/code&gt;ã€&lt;code&gt;getBeanDefinition()&lt;/code&gt; ç­‰æ–¹æ³•ï¼Œç”¨äºæ³¨å†Œå’Œè·å– Bean ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;BeanDefinition&lt;/code&gt;&lt;/strong&gt; ç”¨äºå°è£… Bean çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»åã€æ˜¯å¦æ˜¯å•ä¾‹Beanã€æ„é€ æ–¹æ³•å‚æ•°ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ª Spring Bean éƒ½ä¼šæœ‰ä¸€ä¸ª &lt;code&gt;BeanDefinition&lt;/code&gt; çš„å®ä¾‹ä¸ä¹‹ç›¸å¯¹åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;BeanDefinitionReader&lt;/code&gt;&lt;/strong&gt; è´Ÿè´£è¯»å–ç›¸åº”é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å¹¶å°†å…¶æ˜ å°„åˆ° &lt;code&gt;BeanDefinition&lt;/code&gt; ï¼Œç„¶åå°†æ˜ å°„åçš„ &lt;code&gt;BeanDefinition&lt;/code&gt; å®ä¾‹æ³¨å†Œåˆ° &lt;code&gt;BeanDefinitionRegistry&lt;/code&gt;ï¼Œç”± &lt;code&gt;BeanDefinitionRegistry&lt;/code&gt; æ¥ä¿ç®¡å®ƒä»¬ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;spring-bean-çš„æ³¨å†Œä¸è£…é…&quot;&gt;Spring Bean çš„æ³¨å†Œä¸è£…é…&lt;/h2&gt;
&lt;p&gt;ä¸ªäººç†è§£ï¼Œæ³¨å†Œä¸è£…é…æ˜¯ä¸åŒçš„ä¸¤ä¸ªè¿‡ç¨‹ã€‚æ³¨å†ŒæŒ‡çš„æ˜¯å°† Bean çº³å…¥ IoC å®¹å™¨ã€‚è£…é…æŒ‡çš„æ˜¯å»ºç«‹ Bean ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;Bean çš„æ³¨å†Œæ–¹å¼æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åœ¨ XMLæ–‡ä»¶ä¸­é…ç½®&lt;/li&gt;
&lt;li&gt;åœ¨ JavaConfig ä¸­é…ç½®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;@ComponentScan&lt;/code&gt;ã€&lt;code&gt;@Component&lt;/code&gt;ç­‰æ³¨è§£è¿›è¡Œé…ç½®&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Bean çš„è£…é…åˆ†ä¸ºæ‰‹åŠ¨è£…é…å’Œè‡ªåŠ¨è£…é…ã€‚&lt;/p&gt;
&lt;p&gt;æ‰‹åŠ¨è£…é…åŒæ ·æœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åœ¨ XMLæ–‡ä»¶ ä¸­é…ç½®&lt;/li&gt;
&lt;li&gt;åœ¨ JavaConfig ä¸­é…ç½®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;@Resource&lt;/code&gt; ç­‰æ³¨è§£æ¥é…ç½®ã€‚
&lt;ul&gt;&lt;li&gt;è¿™ç§æ–¹å¼æ—¢å¯ä»¥ç®—ä½œæ‰‹åŠ¨è£…é…ï¼Œä¹Ÿå¯ä»¥ç®—ä½œè‡ªåŠ¨è£…é…ã€‚å½“æˆ‘ä»¬åœ¨ @Resource æ³¨è§£ä¸­æ˜ç¡®æŒ‡å®šæ³¨å…¥å“ªä¸€ä¸ª Bean æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯æ‰‹åŠ¨è£…é…ï¼Œè€Œå½“æˆ‘ä»¬ä¸è¿›è¡ŒæŒ‡å®šæ—¶ï¼Œåˆ™ç®—ä½œè‡ªåŠ¨è£…é…ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è‡ªåŠ¨è£…é…ä¹Ÿç§°è‡ªåŠ¨æ³¨å…¥ï¼Œæœ‰ä¸¤ç§å¼€å¯æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¼€å¯ç²—ç²’åº¦çš„è‡ªåŠ¨è£…é…ï¼Œå³å¼€å¯ Bean çš„é»˜è®¤è‡ªåŠ¨è£…é…ã€‚åœ¨&lt;code&gt;&amp;lt;bean&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¸­é…ç½®&lt;code&gt;default-autowire&lt;/code&gt;å±æ€§ï¼Œæˆ–åœ¨&lt;code&gt;@Bean&lt;/code&gt;æ³¨è§£ä¸­é…ç½®&lt;code&gt;autowire&lt;/code&gt;å±æ€§ã€‚å¼€å¯äº†é»˜è®¤è‡ªåŠ¨è£…é…çš„ Beanï¼ŒSpring ä¼šå¯¹å®ƒçš„å…¨éƒ¨å±æ€§éƒ½å°è¯•æ³¨å…¥å€¼ï¼Œè¿™ç§æ–¹å¼ä¸å®‰å…¨ï¼Œå› æ­¤å¾ˆå°‘ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å¯ç»†ç²’åº¦çš„è‡ªåŠ¨è£…é…ï¼Œå³åœ¨ç»„ä»¶ç±»ä¸­ä½¿ç”¨&lt;code&gt;@Autowired&lt;/code&gt;ç­‰æ³¨è§£å¯¹å•ä¸ªå±æ€§å¼€å¯è‡ªåŠ¨è£…é…ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Spring æ”¯æŒä»¥ä¸‹å››ç§ç”¨äºè‡ªåŠ¨è£…é…çš„æ³¨è§£ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Spring è‡ªå¸¦çš„ &lt;code&gt;@Autowired&lt;/code&gt; æ³¨è§£&lt;/li&gt;
&lt;li&gt;JSR-330 çš„ &lt;code&gt;@Inject&lt;/code&gt; æ³¨è§£&lt;/li&gt;
&lt;li&gt;JSR-250 çš„ &lt;code&gt;@Resource&lt;/code&gt; æ³¨è§£&lt;/li&gt;
&lt;li&gt;Spring æ–°å¢çš„ &lt;code&gt;@Value&lt;/code&gt; æ³¨è§£ï¼Œç”¨äºè£…é… String å’ŒåŸºæœ¬ç±»å‹çš„å€¼ã€‚&lt;code&gt;@Value&lt;/code&gt;æ³¨è§£ç»å¸¸é…åˆ SpEL è¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;SpEL è¡¨è¾¾å¼çš„ä¸»è¦è¯­æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;${}&lt;/code&gt;ï¼Œè¡¨ç¤ºä» Properties æ–‡ä»¶ä¸­è¯»å–ç›¸åº”å±æ€§çš„å€¼ã€‚é€šå¸¸éœ€è¦åŒ&lt;code&gt;@PropertySource&lt;/code&gt;æ³¨è§£é…åˆä½¿ç”¨ï¼Œè¯¥æ³¨è§£ç”¨äºæŒ‡å®šä»å“ªä¸ª Properties æ–‡ä»¶ä¸­è¯»å–å±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#{}&lt;/code&gt;ï¼Œè¡¨ç¤ºä» Spring Bean ä¸­è¯»å–ç›¸åº”å±æ€§çš„å€¼ã€‚å¦‚ï¼Œ#{user1.name}è¡¨ç¤ºä»åç§°ä¸º user1 çš„ Bean ä¸­ è¯»å– name å±æ€§å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å†’å·&lt;code&gt;:&lt;/code&gt;ç”¨äºæŒ‡å®šé»˜è®¤å€¼ï¼Œå¦‚${server.port:80}ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;spring-bean-çš„ä½œç”¨åŸŸä¸ç”Ÿå‘½å‘¨æœŸ&quot;&gt;Spring Bean çš„ä½œç”¨åŸŸä¸ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;
&lt;p&gt;æœªå®Œå¾…ç»­&lt;/p&gt;
</description>
<pubDate>Wed, 15 Jul 2020 15:46:00 +0000</pubDate>
<dc:creator>å¼ æ°¸æ’</dc:creator>
<og:description>ä»€ä¹ˆæ˜¯ Spring Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒäº2004å¹´å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå…¶ç›®çš„æ˜¯ç”¨äºç®€åŒ–ä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚ åœ¨ä¼ ç»Ÿåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æ˜¯ç”±ä¸€ç»„ç›¸äº’åä½œçš„å¯¹è±¡ç»„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yonghengzh/p/13311192.html</dc:identifier>
</item>
</channel>
</rss>