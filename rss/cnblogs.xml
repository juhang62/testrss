<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>JMH-å¤§å‚æ˜¯å¦‚ä½•ä½¿ç”¨JMHè¿›è¡ŒJavaä»£ç æ€§èƒ½æµ‹è¯•çš„ï¼Ÿå¿…é¡»æŒæ¡ï¼ - æœªè¯»ä»£ç </title>
<link>http://www.cnblogs.com/niumoo/p/13557754.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/niumoo/p/13557754.html</guid>
<description>&lt;h2 id=&quot;java-æ€§èƒ½æµ‹è¯•éš¾é¢˜&quot;&gt;Java æ€§èƒ½æµ‹è¯•éš¾é¢˜&lt;/h2&gt;
&lt;p&gt;ç°åœ¨çš„ JVM å·²ç»è¶Šæ¥è¶Šä¸ºæ™ºèƒ½ï¼Œå®ƒå¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µã€åŠ è½½é˜¶æ®µã€è¿è¡Œé˜¶æ®µå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚æ¯”å¦‚ä½ å†™äº†ä¸€æ®µä¸æ€ä¹ˆèªæ˜çš„ä»£ç ï¼Œåˆ°äº† JVM è¿™é‡Œï¼Œå®ƒå‘ç°å‡ å¤„å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå°±é¡ºæ‰‹å¸®ä½ ä¼˜åŒ–äº†ä¸€æŠŠã€‚è¿™å¯¹ç¨‹åºçš„è¿è¡Œå›ºç„¶ç¾å¦™ï¼Œå´è®©å¼€å‘è€…ä¸èƒ½å‡†ç¡®äº†è§£ç¨‹åºçš„è¿è¡Œæƒ…å†µã€‚åœ¨éœ€è¦è¿›è¡Œæ€§èƒ½æµ‹è¯•æ—¶ï¼Œå¦‚æœä¸çŸ¥é“ JVM ä¼˜åŒ–ç»†èŠ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä½ çš„æµ‹è¯•ç»“æœå·®ä¹‹æ¯«å˜ï¼Œå¤±ä¹‹åƒé‡Œï¼ŒåŒæ ·çš„ï¼ŒJava è¯ç”Ÿä¹‹åˆå°±æœ‰ä¸€æ¬¡ç¼–è¯‘ã€éšå¤„è¿è¡Œçš„å£å·ï¼ŒJVM æä¾›äº†åº•å±‚æ”¯æŒï¼Œä¹Ÿæä¾›äº†å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶éƒ½ä¼šå¯¹æˆ‘ä»¬çš„æ€§èƒ½æµ‹è¯•ç»“æœé€ æˆä¸å¯é¢„æµ‹çš„å½±å“ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;long start = System.currentTimeMillis();
// ....
long end = System.currentTimeMillis();
System.out.println(end - start);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢å¯èƒ½å°±æ˜¯ä½ æœ€å¸¸è§çš„æ€§èƒ½æµ‹è¯•äº†ï¼Œè¿™æ ·çš„æµ‹è¯•ç»“æœçœŸçš„å‡†ç¡®å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå®ƒæœ‰ä¸‹é¢å‡ ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ—¶é—´ç²¾åº¦é—®é¢˜ï¼Œæœ¬èº«è·å–åˆ°çš„æ—¶é—´æˆ³å°±æ˜¯å­˜åœ¨&lt;strong&gt;è¯¯å·®&lt;/strong&gt;çš„ï¼Œå®ƒå’Œæ“ä½œç³»ç»Ÿæœ‰å…³ã€‚&lt;/li&gt;
&lt;li&gt;JVM åœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œ&lt;strong&gt;ä»£ç é¢„çƒ­&lt;/strong&gt;ï¼Œè¯´ç™½äº†å°±æ˜¯&lt;strong&gt;è¶Šè·‘è¶Šå¿«&lt;/strong&gt;ã€‚å› ä¸ºç±»éœ€è¦è£…è½½ã€éœ€è¦å‡†å¤‡æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;JVM ä¼šåœ¨å„ä¸ªé˜¶æ®µéƒ½æœ‰å¯èƒ½å¯¹ä½ çš„ä»£ç è¿›è¡Œ&lt;strong&gt;ä¼˜åŒ–å¤„ç†&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºå›æ”¶&lt;/strong&gt;çš„ä¸ç¡®å®šæ€§ï¼Œå¯èƒ½è¿è¡Œå¾ˆå¿«ï¼Œå›æ”¶å¾ˆæ…¢ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¸¦ç€è¿™äº›é—®é¢˜ï¼Œçªç„¶å‘ç°è¿›è¡Œä¸€æ¬¡ä¸¥æ ¼çš„åŸºå‡†æµ‹è¯•çš„éš¾åº¦å¤§å¤§å¢åŠ ã€‚é‚£ä¹ˆå¦‚ä½•æ‰èƒ½è¿›è¡Œä¸€æ¬¡ä¸¥æ ¼çš„åŸºå‡†æµ‹è¯•å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;jmh-ä»‹ç»&quot;&gt;JMH ä»‹ç»&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•å¯¹ Java ç¨‹åºè¿›è¡Œä¸€æ¬¡ç²¾å‡†çš„æ€§èƒ½æµ‹è¯•å‘¢ï¼Ÿéš¾é“éœ€è¦æŒæ¡å¾ˆå¤š JVM ä¼˜åŒ–ç»†èŠ‚å—ï¼Ÿéš¾é“è¦ç ”ç©¶å¦‚ä½•é¿å…ï¼Œå¹¶è¿›è¡Œæ­£ç¡®ç¼–ç æ‰èƒ½è¿›è¡Œä¸¥æ ¼çš„æ€§èƒ½æµ‹è¯•å—ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæœªå…è¿‡äºå›°éš¾äº†ï¼Œå¥½åœ¨æœ‰ä¸€æ¬¾ä¸€æ¬¾å®˜æ–¹çš„å¾®åŸºå‡†æµ‹è¯•å·¥å…· - &lt;strong&gt;JMH&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JMH&lt;/strong&gt; çš„å…¨åæ˜¯ Java Microbenchmark Harnessï¼Œå®ƒæ˜¯ç”± &lt;strong&gt;Java è™šæ‹Ÿæœºå›¢é˜Ÿ&lt;/strong&gt;å¼€å‘çš„ä¸€æ¬¾ç”¨äº Java &lt;strong&gt;å¾®åŸºå‡†æµ‹è¯•å·¥å…·&lt;/strong&gt;ã€‚ç”¨è‡ªå·±å¼€å‘çš„å·¥å…·æµ‹è¯•è‡ªå·±å¼€å‘çš„å¦ä¸€æ¬¾å·¥å…·ï¼Œä»¥å­ä¹‹çŸ›ï¼Œæ”»å­ä¹‹ç›¾æœçœŸæ‰‹åˆ°æ“’æ¥ï¼Œå¦‚è‡‚ä½¿æŒ‡ã€‚ä½¿ç”¨ &lt;strong&gt;JMH&lt;/strong&gt; å¯ä»¥è®©ä½ æ–¹ä¾¿å¿«é€Ÿçš„è¿›è¡Œä¸€æ¬¡ä¸¥æ ¼çš„ä»£ç åŸºå‡†æµ‹è¯•ï¼Œå¹¶ä¸”æœ‰å¤šç§æµ‹è¯•æ¨¡å¼ï¼Œå¤šç§æµ‹è¯•ç»´åº¦å¯ä¾›é€‰æ‹©ï¼›è€Œä¸”ä½¿ç”¨ç®€å•ã€å¢åŠ æ³¨è§£ä¾¿å¯å¯åŠ¨æµ‹è¯•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;jmh-ä½¿ç”¨&quot;&gt;JMH ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;JMH çš„ä½¿ç”¨é¦–å…ˆå¼•å…¥ maven æ‰€éœ€ä¾èµ–ï¼Œå½“å‰æœ€æ–°ç‰ˆ ä¸º 1.23 ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;!--jmh åŸºå‡†æµ‹è¯• --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.openjdk.jmh&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jmh-core&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.23&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.openjdk.jmh&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jmh-generator-annprocess&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.23&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å¿«é€Ÿæµ‹è¯•&quot;&gt;å¿«é€Ÿæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢ä½¿ç”¨æ³¨è§£çš„æ–¹å¼æŒ‡å®šæµ‹è¯•å‚æ•°ï¼Œé€šè¿‡ä¸€ä¸ªä¾‹å­å±•ç¤º JMH åŸºå‡†æµ‹è¯•çš„å…·ä½“ç”¨æ³•ï¼Œå…ˆçœ‹ä¸€æ¬¡è¿è¡Œæ•ˆæœï¼Œç„¶åå†äº†è§£æ¯ä¸ªæ³¨è§£çš„å…·ä½“å«ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¾‹å­æ˜¯ä½¿ç”¨ JMH æµ‹è¯•ï¼Œä½¿ç”¨åŠ å·æ‹¼æ¥å­—ç¬¦ä¸²å’Œä½¿ç”¨ &lt;code&gt;StringBuilder&lt;/code&gt; çš„ &lt;code&gt;append&lt;/code&gt; æ–¹æ³•æ‹¼æ¥å­—ç¬¦ä¸²æ—¶çš„é€Ÿåº¦å¦‚ä½•ï¼Œæ¯æ¬¡æ‹¼æ¥1000ä¸ªæ•°å­—è¿›è¡Œå¹³å‡é€Ÿåº¦æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;import java.util.concurrent.TimeUnit;
import org.openjdk.jmh.annotations.*;
import org.openjdk.jmh.runner.Runner;
import org.openjdk.jmh.runner.RunnerException;
import org.openjdk.jmh.runner.options.Options;
import org.openjdk.jmh.runner.options.OptionsBuilder;

/**
 * &amp;lt;p&amp;gt;
 * JMH åŸºå‡†æµ‹è¯•å…¥é—¨
 *
 * @author niujinpeng
 * @Date 2020/8/21 1:13
 */
@BenchmarkMode(Mode.AverageTime)
@State(Scope.Thread)
@Fork(1)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
@Warmup(iterations = 3)
@Measurement(iterations = 5)
public class JmhHello {

    String string = &quot;&quot;;
    StringBuilder stringBuilder = new StringBuilder();

    @Benchmark
    public String stringAdd() {
        for (int i = 0; i &amp;lt; 1000; i++) {
            string = string + i;
        }
        return string;
    }

    @Benchmark
    public String stringBuilderAppend() {
        for (int i = 0; i &amp;lt; 1000; i++) {
            stringBuilder.append(i);
        }
        return stringBuilder.toString();
    }

    public static void main(String[] args) throws RunnerException {
        Options opt = new OptionsBuilder()
            .include(JmhHello.class.getSimpleName())
            .build();
        new Runner(opt).run();
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»£ç å¾ˆç®€å•ï¼Œä¸åšè§£é‡Šï¼Œ&lt;code&gt;stringAdd&lt;/code&gt; ä½¿ç”¨åŠ å·æ‹¼æ¥å­—ç¬¦ä¸² 1000æ¬¡ï¼Œ&lt;code&gt;stringBuilderAppend&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;append&lt;/code&gt; æ‹¼æ¥å­—ç¬¦ä¸² 1000æ¬¡ã€‚ç›´æ¥è¿è¡Œ main æ–¹æ³•ï¼Œç¨ç­‰ç‰‡åˆ»åå¯ä»¥å¾—åˆ°è¯¦ç»†çš„è¿è¡Œè¾“å‡ºç»“æœã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-log&quot;&gt;// å¼€å§‹æµ‹è¯• stringAdd æ–¹æ³•
# JMH version: 1.23
# VM version: JDK 1.8.0_181, Java HotSpot(TM) 64-Bit Server VM, 25.181-b13
# VM invoker: D:\develop\Java\jdk8_181\jre\bin\java.exe
# VM options: -javaagent:C:\ideaIU-2020.1.3.win\lib\idea_rt.jar=50363:C:\ideaIU-2020.1.3.win\bin -Dfile.encoding=UTF-8
# Warmup: 3 iterations, 10 s each  // é¢„çƒ­è¿è¡Œä¸‰æ¬¡
# Measurement: 5 iterations, 10 s each // æ€§èƒ½æµ‹è¯•5æ¬¡ 
# Timeout: 10 min per iteration  // è¶…æ—¶æ—¶é—´10åˆ†é’Ÿ
# Threads: 1 thread, will synchronize iterations  // çº¿ç¨‹æ•°é‡ä¸º1
# Benchmark mode: Average time, time/op  // ç»Ÿè®¡æ–¹æ³•è°ƒç”¨ä¸€æ¬¡çš„å¹³å‡æ—¶é—´
# Benchmark: net.codingme.jmh.JmhHello.stringAdd // æœ¬æ¬¡æ‰§è¡Œçš„æ–¹æ³•

# Run progress: 0.00% complete, ETA 00:02:40
# Fork: 1 of 1
# Warmup Iteration   1: 95.153 ms/op  // ç¬¬ä¸€æ¬¡é¢„çƒ­ï¼Œè€—æ—¶95ms
# Warmup Iteration   2: 108.927 ms/op // ç¬¬äºŒæ¬¡é¢„çƒ­ï¼Œè€—æ—¶108ms
# Warmup Iteration   3: 167.760 ms/op // ç¬¬ä¸‰æ¬¡é¢„çƒ­ï¼Œè€—æ—¶167ms
Iteration   1: 198.897 ms/op  // æ‰§è¡Œäº”æ¬¡è€—æ—¶åº¦é‡
Iteration   2: 243.437 ms/op
Iteration   3: 271.171 ms/op
Iteration   4: 295.636 ms/op
Iteration   5: 327.822 ms/op


Result &quot;net.codingme.jmh.JmhHello.stringAdd&quot;:
  267.393 Â±(99.9%) 189.907 ms/op [Average]
  (min, avg, max) = (198.897, 267.393, 327.822), stdev = 49.318  // æ‰§è¡Œçš„æœ€å°ã€å¹³å‡ã€æœ€å¤§ã€è¯¯å·®å€¼
  CI (99.9%): [77.486, 457.299] (assumes normal distribution)
  
// å¼€å§‹æµ‹è¯• stringBuilderAppend æ–¹æ³•
# Benchmark: net.codingme.jmh.JmhHello.stringBuilderAppend

# Run progress: 50.00% complete, ETA 00:01:21
# Fork: 1 of 1
# Warmup Iteration   1: 1.872 ms/op
# Warmup Iteration   2: 4.491 ms/op
# Warmup Iteration   3: 5.866 ms/op
Iteration   1: 6.936 ms/op
Iteration   2: 8.465 ms/op
Iteration   3: 8.925 ms/op
Iteration   4: 9.766 ms/op
Iteration   5: 10.143 ms/op


Result &quot;net.codingme.jmh.JmhHello.stringBuilderAppend&quot;:
  8.847 Â±(99.9%) 4.844 ms/op [Average]
  (min, avg, max) = (6.936, 8.847, 10.143), stdev = 1.258
  CI (99.9%): [4.003, 13.691] (assumes normal distribution)


# Run complete. Total time: 00:02:42

REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial
experiments, perform baseline and negative tests that provide experimental control, make sure
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.
Do not assume the numbers tell you what you want them to tell.
// æµ‹è¯•ç»“æœå¯¹æ¯”
Benchmark                     Mode  Cnt    Score     Error  Units
JmhHello.stringAdd            avgt    5  267.393 Â± 189.907  ms/op
JmhHello.stringBuilderAppend  avgt    5    8.847 Â±   4.844  ms/op

Process finished with exit code 0
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æ—¥å¿—é‡Œçš„ &lt;code&gt;//&lt;/code&gt; æ³¨é‡Šæ˜¯æˆ‘æ‰‹åŠ¨å¢åŠ ä¸Šå»çš„ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦çœ‹ä¸‹é¢çš„æœ€ç»ˆç»“æœå°±å¯ä»¥äº†ï¼Œå¯ä»¥çœ‹åˆ° &lt;code&gt;stringAdd&lt;/code&gt; æ–¹æ³•å¹³å‡è€—æ—¶ 267.393msï¼Œè€Œ &lt;code&gt;stringBuilderAppend&lt;/code&gt; æ–¹æ³•å¹³å‡è€—æ—¶åªæœ‰ 8.847msï¼Œå¯è§ &lt;code&gt;StringBuilder&lt;/code&gt; çš„ &lt;code&gt;append&lt;/code&gt; æ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥é€Ÿåº¦å¿«çš„å¤šï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ¨èä½¿ç”¨ &lt;code&gt;append&lt;/code&gt; è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„åŸå› ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ³¨è§£è¯´æ˜&quot;&gt;æ³¨è§£è¯´æ˜&lt;/h3&gt;
&lt;p&gt;ç»è¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæƒ³å¿…ä½ ä¹Ÿå¯ä»¥å¿«é€Ÿçš„ä½¿ç”¨ JMH è¿›è¡ŒåŸºå‡†æµ‹è¯•äº†ï¼Œä¸è¿‡ä¸Šé¢çš„è¯¸å¤šæ³¨è§£ä½ å¯èƒ½è¿˜æœ‰ç–‘æƒ‘ï¼Œä¸‹é¢ä¸€ä¸€ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç±»ä¸Š&lt;/strong&gt;ä½¿ç”¨äº†å…­ä¸ªæ³¨è§£ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@BenchmarkMode(Mode.AverageTime)
@State(Scope.Thread)
@Fork(1)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
@Warmup(iterations = 3)
@Measurement(iterations = 5)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;@BenchmarkMode(Mode.AverageTime)&lt;/strong&gt; è¡¨ç¤ºç»Ÿè®¡å¹³å‡å“åº”æ—¶é—´ï¼Œä¸ä»…å¯ä»¥ç”¨åœ¨ç±»ä¸Šï¼Œä¹Ÿå¯ç”¨åœ¨&lt;strong&gt;æµ‹è¯•æ–¹æ³•&lt;/strong&gt;ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥å–å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Throughputï¼šç»Ÿè®¡å•ä½æ—¶é—´å†…å¯ä»¥å¯¹æ–¹æ³•æµ‹è¯•å¤šå°‘æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;SampleTimeï¼šç»Ÿè®¡æ¯ä¸ªå“åº”æ—¶é—´èŒƒå›´å†…çš„å“åº”æ¬¡æ•°ï¼Œæ¯”å¦‚ 0-1msï¼Œ3æ¬¡ï¼›1-2msï¼Œ5æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;SingleShotTimeï¼šè·³è¿‡é¢„çƒ­é˜¶æ®µï¼Œç›´æ¥è¿›è¡Œ&lt;strong&gt;ä¸€æ¬¡****å¾®åŸºå‡†&lt;/strong&gt;æµ‹è¯•ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;@State(Scope.Thread)&lt;/strong&gt;ï¼šæ¯ä¸ªè¿›è¡ŒåŸºå‡†æµ‹è¯•çš„çº¿ç¨‹éƒ½ä¼šç‹¬äº«ä¸€ä¸ªå¯¹è±¡ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–è¿˜èƒ½å–å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Benchmarkï¼šå¤šçº¿ç¨‹å…±äº«ä¸€ä¸ªç¤ºä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;Groupï¼šçº¿ç¨‹ç»„å…±äº«ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨æµ‹è¯•æ–¹æ³•ä¸Šä½¿ç”¨ @Group è®¾ç½®çº¿ç¨‹ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;@Fork(1)&lt;/strong&gt;ï¼šè¡¨ç¤ºå¼€å¯ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;**OutputTimeUnit(TimeUnit.MILLISECONDS)ï¼šè¾“å‡ºçš„æ—¶é—´å•ä½ï¼Œè¿™é‡Œå†™çš„æ˜¯æ¯«ç§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@Warmup(iterations = 3)&lt;/strong&gt;ï¼šå¾®åŸºå‡†æµ‹è¯•å‰è¿›è¡Œä¸‰æ¬¡é¢„çƒ­æ‰§è¡Œï¼Œä¹Ÿå¯ç”¨åœ¨&lt;strong&gt;æµ‹è¯•æ–¹æ³•&lt;/strong&gt;ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@Measurement(iterations = 5)&lt;/strong&gt;ï¼šè¿›è¡Œ 5 æ¬¡å¾®åŸºå‡†æµ‹è¯•ï¼Œä¹Ÿå¯ç”¨åœ¨&lt;strong&gt;æµ‹è¯•æ–¹æ³•&lt;/strong&gt;ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸¤ä¸ªæµ‹è¯•æ–¹æ³•ä¸Šåªä½¿ç”¨äº†ä¸€ä¸ªæ³¨è§£ &lt;strong&gt;@Benchmark&lt;/strong&gt;ï¼Œè¿™ä¸ªæ³¨è§£è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•æ˜¯è¦è¿›è¡ŒåŸºå‡†æµ‹è¯•çš„æ–¹æ³•ï¼Œå®ƒç±»ä¼¼äº Junit ä¸­çš„ &lt;strong&gt;@Test&lt;/strong&gt; æ³¨è§£ã€‚ä¸Šé¢è¿˜æåˆ°æŸäº›æ³¨è§£è¿˜å¯ä»¥ç”¨åˆ°æµ‹è¯•æ–¹æ³•ä¸Šï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº† &lt;strong&gt;@Benchmark&lt;/strong&gt; çš„æ–¹æ³•ä¹‹ä¸Šï¼Œå¦‚æœç±»ä¸Šå’Œæµ‹è¯•æ–¹æ³•åŒæ—¶å­˜åœ¨æ³¨è§£ï¼Œä¼šä»¥&lt;strong&gt;æ–¹æ³•ä¸Šçš„æ³¨è§£&lt;/strong&gt;ä¸ºå‡†ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å® JMH ä¹Ÿå¯ä»¥æŠŠè¿™äº›å‚æ•°ç›´æ¥åœ¨ main æ–¹æ³•ä¸­æŒ‡å®šï¼Œè¿™æ—¶ main æ–¹æ³•ä¸­æŒ‡å®šçš„çº§åˆ«æœ€é«˜ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public static void main(String[] args) throws RunnerException {
    Options opt = new OptionsBuilder()
            .include(JmhHello.class.getSimpleName())
            .forks(1)
            .warmupIterations(5)
            .measurementIterations(10)
            .build();
    new Runner(opt).run();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ­£ç¡®çš„å¾®åŸºå‡†æµ‹è¯•&quot;&gt;æ­£ç¡®çš„å¾®åŸºå‡†æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;å¦‚æœç¼–å†™çš„ä»£ç æœ¬èº«å°±å­˜åœ¨ç€è¯¸å¤šé—®é¢˜ï¼Œé‚£ä¹ˆå³ä½¿ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•æ–¹æ³•ï¼Œä¹Ÿä¸å¯èƒ½å¾—åˆ°æ­£ç¡®çš„æµ‹è¯•ç»“æœã€‚è¿™äº›æµ‹è¯•ä»£ç ä¸­çš„é—®é¢˜åº”è¯¥ç”±æˆ‘ä»¬è¿›è¡Œä¸»åŠ¨é¿å…ï¼Œé‚£ä¹ˆæœ‰å“ªäº›å¸¸è§é—®é¢˜å‘¢ï¼Ÿä¸‹é¢ä»‹ç»ä¸¤ç§æœ€å¸¸è§çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ— ç”¨ä»£ç æ¶ˆé™¤-ï¼ˆ-dead-code-elimination-ï¼‰&quot;&gt;æ— ç”¨ä»£ç æ¶ˆé™¤ ï¼ˆ Dead Code Elimination ï¼‰&lt;/h3&gt;
&lt;p&gt;ä¹Ÿæœ‰ç½‘å‹å½¢è±¡çš„ç¿»è¯‘æˆ&lt;strong&gt;æ­»ä»£ç &lt;/strong&gt;ï¼Œæ­»ä»£ç æ˜¯æŒ‡é‚£äº› JVM ç»è¿‡æ£€æŸ¥å‘ç°çš„æ ¹æœ¬ä¸ä¼šä½¿ç”¨åˆ°çš„ä»£ç ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä»£ç ç‰‡æ®µã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;import java.util.concurrent.TimeUnit;
import org.openjdk.jmh.annotations.*;
import org.openjdk.jmh.runner.Runner;
import org.openjdk.jmh.runner.RunnerException;
import org.openjdk.jmh.runner.options.Options;
import org.openjdk.jmh.runner.options.OptionsBuilder;

/**
 * &amp;lt;p&amp;gt;
 * æµ‹è¯•æ­»ä»£ç æ¶ˆé™¤
 *
 * @author niujinpeng
 * @Date 2020/8/21 8:04
 */
@BenchmarkMode(Mode.AverageTime)
@State(Scope.Thread)
@Fork(1)
@OutputTimeUnit(TimeUnit.MICROSECONDS)
@Warmup(iterations = 3, time = 3)
@Measurement(iterations = 5, time = 3)
public class JmhDCE {

    @Benchmark
    public double test1() {
        return Math.log(Math.PI);
    }
    @Benchmark
    public void test2() {
        double result = Math.log(Math.PI);
        result = Math.log(result);
    }

    public static void main(String[] args) throws RunnerException {
        Options opt = new OptionsBuilder()
                .include(JmhDCE.class.getSimpleName())
                .build();
        new Runner(opt).run();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µé‡Œé‡Œï¼Œ&lt;code&gt;test1&lt;/code&gt; æ–¹æ³•å¯¹åœ†å‘¨ç‡è¿›è¡Œå¯¹æ•°è®¡ç®—ï¼Œå¹¶è¿”å›è®¡ç®—ç»“æœï¼›è€Œ &lt;code&gt;test2&lt;/code&gt; ä¸­ä¸ä»…å¯¹åœ†å‘¨ç‡è¿›è¡Œå¯¹æ•°è®¡ç®—ï¼Œè¿˜å¯¹è®¡ç®—çš„ç»“æœå†æ¬¡å¯¹æ•°è®¡ç®—ï¼Œçœ‹èµ·æ¥å¤æ‚ä¸€äº›ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰ç”¨åˆ°è®¡ç®—ç»“æœï¼Œæ‰€ä»¥ JVM ä¼šè‡ªåŠ¨æ¶ˆé™¤è¿™æ®µä»£ç ï¼Œ å› ä¸ºå®ƒæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Benchmark     Mode  Cnt   Score    Error  Units
JmhDCE.test1  avgt    5   0.002 Â±  0.001  us/op
JmhDCE.test2  avgt    5  â‰ˆ 10â»â´           us/op
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æµ‹è¯•ç»“æœé‡Œä¹Ÿå¯ä»¥çœ‹åˆ° &lt;code&gt;test&lt;/code&gt; å¹³å‡è€—æ—¶ 0.0004 å¾®ç§’ï¼Œè€Œ &lt;code&gt;test1&lt;/code&gt; å¹³å‡è€—æ—¶ 0.002 å¾®ç§’ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¸¸é‡æŠ˜å -ï¼ˆconstant-foldingï¼‰&quot;&gt;å¸¸é‡æŠ˜å  ï¼ˆConstant Foldingï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨å¯¹ Java æºæ–‡ä»¶ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨é€šè¿‡è¯­æ³•åˆ†æï¼Œå¯ä»¥å‘ç°æŸäº›èƒ½ç›´æ¥å¾—åˆ°è®¡ç®—ç»“æœè€Œä¸ä¼šå†æ¬¡æ›´æ”¹çš„ä»£ç ï¼Œç„¶åä¼šå°†è®¡ç®—ç»“æœè®°å½•ä¸‹æ¥ï¼Œè¿™æ ·åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å°±ä¸éœ€è¦å†æ¬¡è¿ç®—äº†ã€‚æ¯”å¦‚è¿™æ®µä»£ç ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;import java.util.concurrent.TimeUnit;
import org.openjdk.jmh.annotations.*;
import org.openjdk.jmh.runner.Runner;
import org.openjdk.jmh.runner.RunnerException;
import org.openjdk.jmh.runner.options.Options;
import org.openjdk.jmh.runner.options.OptionsBuilder;

/**
 * &amp;lt;p&amp;gt;
 * æµ‹è¯•å¸¸é‡æŠ˜å 
 * 
 * @author niujinpeng
 * @Date 2020/8/21 8:23
 */
@BenchmarkMode(Mode.AverageTime)
@State(Scope.Thread)
@Fork(1)
@OutputTimeUnit(TimeUnit.MICROSECONDS)
@Warmup(iterations = 3, time = 3)
@Measurement(iterations = 5, time = 3)
public class JmhConstantFolding {

    final double PI1 = 3.14159265358979323846;
    double PI2 = 3.14159265358979323846;

    @Benchmark
    public double test1() {
        return Math.log(PI1) * Math.log(PI1);
    }

    @Benchmark
    public double test2() {
        return Math.log(PI2) * Math.log(PI2);
    }

    public static void main(String[] args) throws RunnerException {
        Options opt = new OptionsBuilder().include(JmhConstantFolding.class.getSimpleName()).build();
        new Runner(opt).run();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;test&lt;/code&gt;1 ä¸­ä½¿ç”¨ &lt;code&gt;final&lt;/code&gt; ä¿®é¥°çš„ PI1 è¿›è¡Œå¯¹è±¡è®¡ç®—ï¼Œå› ä¸º PI1 ä¸èƒ½å†æ¬¡æ›´æ”¹ï¼Œæ‰€ä»¥ &lt;code&gt;test1&lt;/code&gt; çš„è®¡ç®—ç»“æœå¿…å®šæ˜¯ä¸ä¼šæ›´æ”¹çš„ï¼Œæ‰€ä»¥ JVM ä¼šè¿›è¡Œå¸¸é‡æŠ˜å ä¼˜åŒ–ï¼Œè€Œ &lt;code&gt;test2&lt;/code&gt; ä½¿ç”¨çš„ &lt;code&gt;PI2&lt;/code&gt; å¯èƒ½ä¼šè¢«ä¿®æ”¹ï¼Œæ‰€ä»¥åªèƒ½æ¯æ¬¡è¿›è¡Œè®¡ç®—ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Benchmark                 Mode  Cnt  Score    Error  Units
JmhConstantFolding.test1  avgt    5  0.002 Â±  0.001  us/op
JmhConstantFolding.test2  avgt    5  0.019 Â±  0.001  us/op
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° &lt;code&gt;test2&lt;/code&gt; è€—æ—¶è¦å¤šçš„å¤šï¼Œè¾¾åˆ°äº† 0.019 å¾®ç§’ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å® JVM åšçš„ä¼˜åŒ–æ“ä½œè¿œä¸æ­¢ä¸Šé¢è¿™äº›ï¼Œè¿˜æœ‰æ¯”å¦‚å¸¸é‡ä¼ æ’­ï¼ˆConstant Propagationï¼‰ã€å¾ªç¯å±•å¼€ï¼ˆLoop Unwindingï¼‰ã€å¾ªç¯è¡¨è¾¾å¼å¤–æï¼ˆLoop Expression Hoistingï¼‰ã€æ¶ˆé™¤å…¬å…±å­è¡¨è¾¾å¼ï¼ˆCommon Subexpression Eliminationï¼‰ã€æœ¬å—é‡æ’åºï¼ˆBasic Block Reorderingï¼‰ã€èŒƒå›´æ£€æŸ¥æ¶ˆé™¤ï¼ˆRange Check Eliminationï¼‰ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;JMH è¿›è¡ŒåŸºå‡†æµ‹è¯•çš„ä½¿ç”¨è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼ŒåŒä¸º Java è™šæ‹Ÿæœºå›¢é˜Ÿå¼€å‘ï¼Œå‡†ç¡®æ€§æ¯‹å®¹ç½®ç–‘ã€‚ä½†æ˜¯åœ¨è¿›è¡ŒåŸºå‡†æµ‹è¯•æ—¶è¿˜æ˜¯è¦æ³¨æ„è‡ªå·±çš„ä»£ç é—®é¢˜ï¼Œå¦‚æœç¼–å†™çš„è¦è¿›è¡Œæµ‹è¯•çš„ä»£ç æœ¬èº«å­˜åœ¨é—®é¢˜ï¼Œé‚£ä¹ˆæµ‹è¯•çš„ç»“æœå¿…å®šæ˜¯ä¸å‡†çš„ã€‚æŒæ¡äº† JMH åŸºå‡†æµ‹è¯•ä¹‹åï¼Œå¯ä»¥å°è¯•æµ‹è¯•ä¸€äº›å¸¸ç”¨çš„å·¥å…·æˆ–è€…æ¡†æ¶çš„æ€§èƒ½å¦‚ä½•ï¼Œçœ‹çœ‹å“ªä¸ªå·¥å…·çš„æ€§èƒ½æœ€å¥½ï¼Œæ¯”å¦‚ FastJSON çœŸçš„æ¯” GSON åœ¨è¿›è¡Œ JSON è½¬æ¢æ—¶æ›´ Fast å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ€åçš„è¯&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6.2348178137652&quot;&gt;
&lt;p&gt;æ–‡ç« å·²ç»æ”¶å½•åœ¨ &lt;a href=&quot;https://github.com/niumoo/JavaNotes&quot;&gt;Github.com/niumoo/JavaNotes&lt;/a&gt; ï¼Œæ¬¢è¿Starå’ŒæŒ‡æ•™ã€‚æ›´æœ‰ä¸€çº¿å¤§å‚é¢è¯•ç‚¹ï¼ŒJavaç¨‹åºå‘˜éœ€è¦æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ç­‰æ–‡ç« ï¼Œä¹Ÿæ•´ç†äº†å¾ˆå¤šæˆ‘çš„æ–‡å­—ï¼Œæ¬¢è¿ &lt;strong&gt;Star&lt;/strong&gt; å’Œå®Œå–„ï¼Œå¸Œæœ›æˆ‘ä»¬ä¸€èµ·å˜å¾—ä¼˜ç§€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ–‡ç« æœ‰å¸®åŠ©å¯ä»¥ç‚¹ä¸ªã€Œ&lt;strong&gt;èµ&lt;/strong&gt;ã€æˆ–ã€Œ&lt;strong&gt;åˆ†äº«&lt;/strong&gt;ã€ï¼Œéƒ½æ˜¯æ”¯æŒï¼Œæˆ‘éƒ½å–œæ¬¢ï¼&lt;br/&gt;æ–‡ç« æ¯å‘¨æŒç»­æ›´æ–°ï¼Œè¦å®æ—¶å…³æ³¨æˆ‘æ›´æ–°çš„æ–‡ç« ä»¥åŠåˆ†äº«çš„å¹²è´§ï¼Œå¯ä»¥å…³æ³¨ã€Œ &lt;strong&gt;æœªè¯»ä»£ç &lt;/strong&gt; ã€å…¬ä¼—å·æˆ–è€…&lt;a href=&quot;https://www.wdbyte.com/&quot;&gt;æˆ‘çš„åšå®¢&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets@439f6a5f6bd130e2aec56f3527656d6edb487b91/webinfo/weixin-public.jpg&quot; alt=&quot;å…¬ä¼—å·&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 25 Aug 2020 00:48:00 +0000</pubDate>
<dc:creator>æœªè¯»ä»£ç </dc:creator>
<og:description>Java æ€§èƒ½æµ‹è¯•éš¾é¢˜ ç°åœ¨çš„ JVM å·²ç»è¶Šæ¥è¶Šä¸ºæ™ºèƒ½ï¼Œå®ƒå¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µã€åŠ è½½é˜¶æ®µã€è¿è¡Œé˜¶æ®µå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚æ¯”å¦‚ä½ å†™äº†ä¸€æ®µä¸æ€ä¹ˆèªæ˜çš„ä»£ç ï¼Œåˆ°äº† JVM è¿™é‡Œï¼Œå®ƒå‘ç°å‡ å¤„å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå°±é¡ºæ‰‹å¸®ä½ ä¼˜</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/niumoo/p/13557754.html</dc:identifier>
</item>
<item>
<title>Httpè¯·æ±‚-okhttp3åŸºæœ¬ç”¨æ³• - è°ä¸»æ²‰æµ®oo7</title>
<link>http://www.cnblogs.com/feifuzeng/p/13554288.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/feifuzeng/p/13554288.html</guid>
<description>&lt;p&gt;HTTPæ˜¯ç°ä»£åº”ç”¨å¸¸ç”¨çš„ä¸€ç§äº¤æ¢æ•°æ®å’Œåª’ä½“çš„ç½‘ç»œæ–¹å¼ï¼Œé«˜æ•ˆåœ°ä½¿ç”¨HTTPèƒ½è®©èµ„æºåŠ è½½æ›´å¿«ï¼ŒèŠ‚çœå¸¦å®½ã€‚OkHttpæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„HTTPå®¢æˆ·ç«¯ï¼Œå®ƒæœ‰ä»¥ä¸‹é»˜è®¤ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ”¯æŒHTTP/2ï¼Œå…è®¸æ‰€æœ‰åŒä¸€ä¸ªä¸»æœºåœ°å€çš„è¯·æ±‚å…±äº«åŒä¸€ä¸ªsocketè¿æ¥&lt;/li&gt;
&lt;li&gt;è¿æ¥æ± å‡å°‘è¯·æ±‚å»¶æ—¶&lt;/li&gt;
&lt;li&gt;é€æ˜çš„GZIPå‹ç¼©å‡å°‘å“åº”æ•°æ®çš„å¤§å°&lt;/li&gt;
&lt;li&gt;ç¼“å­˜å“åº”å†…å®¹ï¼Œé¿å…ä¸€äº›å®Œå…¨é‡å¤çš„è¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æºç ï¼š&lt;a href=&quot;https://github.com/square/okhttp&quot;&gt;https://github.com/square/okhttp&lt;/a&gt;&lt;br/&gt;è¯´æ˜ï¼šOkHttpæ”¯æŒAndroid 2.3åŠä»¥ä¸Šç‰ˆæœ¬Androidå¹³å°,å¯¹äºJava, JDK1.7åŠä»¥ä¸Šã€‚&lt;br/&gt;å½“ç½‘ç»œå‡ºç°é—®é¢˜çš„æ—¶å€™OkHttpä¾ç„¶åšå®ˆè‡ªå·±çš„èŒè´£ï¼Œå®ƒä¼šè‡ªåŠ¨æ¢å¤ä¸€èˆ¬çš„è¿æ¥é—®é¢˜ï¼Œå¦‚æœä½ çš„æœåŠ¡æœ‰å¤šä¸ªIPåœ°å€ï¼Œå½“ç¬¬ä¸€ä¸ªIPè¯·æ±‚å¤±è´¥æ—¶ï¼ŒOkHttpä¼šäº¤æ›¿å°è¯•ä½ é…ç½®çš„å…¶ä»–IPï¼ŒOkHttpä½¿ç”¨ç°ä»£TLSæŠ€æœ¯(SNI, ALPN)åˆå§‹åŒ–æ–°çš„è¿æ¥ï¼Œå½“æ¡æ‰‹å¤±è´¥æ—¶ä¼šå›é€€åˆ°TLS 1.0ã€‚&lt;/p&gt;

&lt;p&gt;å¼•å…¥mavenä¾èµ–&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;dependency&amp;gt;
   &amp;lt;groupId&amp;gt;com.squareup.okhttp3&amp;lt;/groupId&amp;gt;
   &amp;lt;artifactId&amp;gt;okhttp&amp;lt;/artifactId&amp;gt;
   &amp;lt;version&amp;gt;4.0.0-RC1&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è¯·æ±‚æ–¹æ³•&quot;&gt;è¯·æ±‚æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&quot;åŒæ­¥è¯·æ±‚&quot;&gt;åŒæ­¥è¯·æ±‚&lt;/h3&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å°±æ˜¯æ‰§è¡Œè¯·æ±‚çš„æ“ä½œæ˜¯é˜»å¡å¼ï¼Œç›´åˆ° HTTP å“åº”è¿”å›ã€‚å®ƒå¯¹åº” OKHTTP ä¸­çš„ execute æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;getè¯·æ±‚&quot;&gt;GETè¯·æ±‚&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    /**
     * åŒæ­¥getæ–¹å¼è¯·æ±‚
     *
     * @param url
     * @return
     * @throws IOException
     */
    public static String doGet(String url) throws IOException {
        OkHttpClient client = new OkHttpClient();
        Request request = new Request.Builder()
                .url(url)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;postè¯·æ±‚&quot;&gt;POSTè¯·æ±‚&lt;/h4&gt;
&lt;h4 id=&quot;jsonæäº¤å‚æ•°&quot;&gt;Jsonæäº¤å‚æ•°&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
     * åŒæ­¥postæ–¹å¼è¯·æ±‚-jsonæäº¤å‚æ•°
     *
     * @param url
     * @param json
     * @return
     * @throws IOException
     */
    public static String doPost(String url, final String json) throws IOException {
        OkHttpClient client = new OkHttpClient();
        RequestBody body = RequestBody.create(JSON, json);
        Request request = new Request.Builder()
                .url(url)
                .post(body)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }

    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;formè¡¨å•æäº¤å‚æ•°&quot;&gt;formè¡¨å•æäº¤å‚æ•°&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    /**
     * åŒæ­¥postæ–¹å¼è¯·æ±‚-formè¡¨å•æäº¤å‚æ•°
     *
     * @param url
     * @param paramsMap
     * @return
     * @throws IOException
     */
    public static String doPost(String url, Map&amp;lt;String, String&amp;gt; paramsMap) throws IOException {
        OkHttpClient client = new OkHttpClient();
        FormBody.Builder builder = new FormBody.Builder();
        for (String key : paramsMap.keySet()) {
            builder.add(key, paramsMap.get(key));
        }
        RequestBody formBody = builder.build();
        Request request = new Request.Builder()
                .url(url)
                .post(formBody)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }

    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å¼‚æ­¥è¯·æ±‚&quot;&gt;å¼‚æ­¥è¯·æ±‚&lt;/h3&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å°±æ˜¯ç±»ä¼¼äºéé˜»å¡å¼çš„è¯·æ±‚ï¼Œå®ƒçš„æ‰§è¡Œç»“æœä¸€èˆ¬éƒ½æ˜¯é€šè¿‡æ¥å£å›è°ƒçš„æ–¹å¼å‘ŠçŸ¥è°ƒç”¨è€…ã€‚å®ƒå¯¹åº” OKHTTP ä¸­çš„ enqueue æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ˜¯å¼‚æ­¥è¯·æ±‚ï¼Œæ‰€ä»¥è°ƒç”¨enqueueåˆ™æ— éœ€å†å¼€å¯å­çº¿ç¨‹ï¼Œenqueueæ–¹æ³•ä¼šè‡ªåŠ¨å°†ç½‘ç»œè¯·æ±‚éƒ¨åˆ†æ”¾å…¥å­çº¿ç¨‹ä¸­æ‰§è¡Œã€‚enqueueå›è°ƒæ–¹æ³•onResponseä¸onFailureéƒ½æ‰§è¡Œåœ¨å­çº¿ç¨‹ä¸­ã€‚&lt;br/&gt;æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;ol&gt;&lt;li&gt;å›è°ƒæ¥å£çš„onFailureæ–¹æ³•å’ŒonResponseæ‰§è¡Œåœ¨å­çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;Response.codeæ˜¯httpå“åº”è¡Œä¸­çš„codeï¼Œå¦‚æœè®¿é—®æˆåŠŸåˆ™è¿”å›200.è¿™ä¸ªä¸æ˜¯æœåŠ¡å™¨è®¾ç½®çš„ï¼Œè€Œæ˜¯httpåè®®ä¸­è‡ªå¸¦çš„ã€‚resä¸­çš„codeæ‰æ˜¯æœåŠ¡å™¨è®¾ç½®çš„ã€‚æ³¨æ„äºŒè€…çš„åŒºåˆ«ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;response.body().string()æœ¬è´¨æ˜¯è¾“å…¥æµçš„è¯»æ“ä½œï¼Œæ‰€ä»¥å®ƒè¿˜æ˜¯ç½‘ç»œè¯·æ±‚çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥è¿™è¡Œä»£ç å¿…é¡»æ”¾åœ¨å­çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;response.body().string()åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ—¶æœ‰è¿”å›å€¼ï¼Œç¬¬äºŒæ¬¡å†è°ƒç”¨æ—¶å°†ä¼šè¿”å›nullã€‚åŸå› æ˜¯ï¼šresponse.body().string()çš„æœ¬è´¨æ˜¯è¾“å…¥æµçš„è¯»æ“ä½œï¼Œå¿…é¡»æœ‰æœåŠ¡å™¨çš„è¾“å‡ºæµçš„å†™æ“ä½œæ—¶å®¢æˆ·ç«¯çš„è¯»æ“ä½œæ‰èƒ½å¾—åˆ°æ•°æ®ã€‚è€ŒæœåŠ¡å™¨çš„å†™æ“ä½œåªæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯çš„è¯»æ“ä½œä¹Ÿåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡å°†è¿”å›nullã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;5&quot;&gt;&lt;li&gt;å†æ¬¡å¼ºè°ƒï¼Œresponse.body().string()æ–¹æ³•å¿…é¡»æ”¾åœ¨å­çº¿ç¨‹ä¸­ã€‚å½“æ‰§è¡Œè¿™è¡Œä»£ç å¾—åˆ°ç»“æœåï¼Œå†è·³è½¬åˆ°UIçº¿ç¨‹ä¿®æ”¹UIã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¼‚æ­¥è¯·æ±‚è‡ªå®šä¹‰å›è°ƒå‡½æ•°&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
     * okhttp å¼‚æ­¥è°ƒç”¨å›è°ƒå‡½æ•°
     */
    static class OkHttpCallback implements Callback {
        @Override
        public void onFailure(@NotNull Call call, @NotNull IOException e) {
            log.error(e);
        }

        @Override
        public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {
            if (response.isSuccessful()) {
                log.info(&quot;Successful data acquisition . . . &quot;);
                log.info(&quot;response.code()==&quot; + response.code());
                log.info(&quot;response.body().string()==&quot; + response.body().string());
            }
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;getè¯·æ±‚-2&quot;&gt;GETè¯·æ±‚&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    /**
     * å¼‚æ­¥getæ–¹å¼è¯·æ±‚
     *
     * @param url
     * @return
     * @throws IOException
     */
    public static void doSyncGet(String url) {
        OkHttpClient okHttpClient = new OkHttpClient();
        final Request request = new Request.Builder()
                .url(url)
                .get()
                .build();
        Call call = okHttpClient.newCall(request);
        call.enqueue(new OkHttpCallback());
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;postè¯·æ±‚-2&quot;&gt;POSTè¯·æ±‚&lt;/h4&gt;
&lt;h4 id=&quot;jsonæäº¤å‚æ•°-2&quot;&gt;Jsonæäº¤å‚æ•°&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    /**
     * å¼‚æ­¥postæ–¹å¼è¯·æ±‚-jsonæäº¤å‚æ•°
     *
     * @param url
     * @param json
     * @return
     * @throws IOException
     */
    public static void doSyncPost(String url, final String json) {
        OkHttpClient client = new OkHttpClient();
        RequestBody body = RequestBody.create(JSON, json);
        Request request = new Request.Builder()
                .url(url)
                .post(body)
                .build();
        client.newCall(request).enqueue(new OkHttpCallback());

    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;formè¡¨å•æäº¤å‚æ•°-2&quot;&gt;formè¡¨å•æäº¤å‚æ•°&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt; /**
     * å¼‚æ­¥postæ–¹å¼è¯·æ±‚-formè¡¨å•æäº¤å‚æ•°
     *
     * @param url
     * @param paramsMap
     * @return
     * @throws IOException
     */
    public static void doSyncPost(String url, Map&amp;lt;String, String&amp;gt; paramsMap) {
        OkHttpClient client = new OkHttpClient();
        FormBody.Builder builder = new FormBody.Builder();
        for (String key : paramsMap.keySet()) {
            builder.add(key, paramsMap.get(key));
        }
        RequestBody formBody = builder.build();
        Request request = new Request.Builder()
                .url(url)
                .post(formBody)
                .build();
        client.newCall(request).enqueue(new OkHttpCallback());

    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package com.ohaotian.feifz.style.study.utils;

import lombok.extern.log4j.Log4j2;
import okhttp3.Call;
import okhttp3.Callback;
import okhttp3.FormBody;
import okhttp3.MediaType;
import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.RequestBody;
import okhttp3.Response;
import org.jetbrains.annotations.NotNull;

import java.io.IOException;
import java.util.Map;

/**
 * @author feifz
 * @version 1.0.0
 * @Description httpå·¥å…·ç±»ï¼ŒåŸºäºokhttp3
 * @createTime 2019å¹´06æœˆ06æ—¥ 09:30:00
 */
@Log4j2
public class HttpUtil {

    public static final MediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);


    /**
     * åŒæ­¥getæ–¹å¼è¯·æ±‚
     *
     * @param url
     * @return
     * @throws IOException
     */
    public static String doGet(String url) throws IOException {
        OkHttpClient client = new OkHttpClient();
        Request request = new Request.Builder()
                .url(url)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }
    }

    /**
     * å¼‚æ­¥getæ–¹å¼è¯·æ±‚
     *
     * @param url
     * @return
     * @throws IOException
     */
    public static void doSyncGet(String url) {
        OkHttpClient okHttpClient = new OkHttpClient();
        final Request request = new Request.Builder()
                .url(url)
                .get()
                .build();
        Call call = okHttpClient.newCall(request);
        call.enqueue(new OkHttpCallback());
    }

    /**
     * åŒæ­¥postæ–¹å¼è¯·æ±‚-jsonæäº¤å‚æ•°
     *
     * @param url
     * @param json
     * @return
     * @throws IOException
     */
    public static String doPost(String url, final String json) throws IOException {
        OkHttpClient client = new OkHttpClient();
        RequestBody body = RequestBody.create(JSON, json);
        Request request = new Request.Builder()
                .url(url)
                .post(body)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }

    }

    /**
     * å¼‚æ­¥postæ–¹å¼è¯·æ±‚-jsonæäº¤å‚æ•°
     *
     * @param url
     * @param json
     * @return
     * @throws IOException
     */
    public static void doSyncPost(String url, final String json) {
        OkHttpClient client = new OkHttpClient();
        RequestBody body = RequestBody.create(JSON, json);
        Request request = new Request.Builder()
                .url(url)
                .post(body)
                .build();
        client.newCall(request).enqueue(new OkHttpCallback());

    }

    /**
     * åŒæ­¥postæ–¹å¼è¯·æ±‚-formè¡¨å•æäº¤å‚æ•°
     *
     * @param url
     * @param paramsMap
     * @return
     * @throws IOException
     */
    public static String doPost(String url, Map&amp;lt;String, String&amp;gt; paramsMap) throws IOException {
        OkHttpClient client = new OkHttpClient();
        FormBody.Builder builder = new FormBody.Builder();
        for (String key : paramsMap.keySet()) {
            builder.add(key, paramsMap.get(key));
        }
        RequestBody formBody = builder.build();
        Request request = new Request.Builder()
                .url(url)
                .post(formBody)
                .build();
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                return response.body().string();
            } else {
                throw new IOException(&quot;Unexpected code &quot; + response);
            }
        }

    }

    /**
     * å¼‚æ­¥postæ–¹å¼è¯·æ±‚-formè¡¨å•æäº¤å‚æ•°
     *
     * @param url
     * @param paramsMap
     * @return
     * @throws IOException
     */
    public static void doSyncPost(String url, Map&amp;lt;String, String&amp;gt; paramsMap) {
        OkHttpClient client = new OkHttpClient();
        FormBody.Builder builder = new FormBody.Builder();
        for (String key : paramsMap.keySet()) {
            builder.add(key, paramsMap.get(key));
        }
        RequestBody formBody = builder.build();
        Request request = new Request.Builder()
                .url(url)
                .post(formBody)
                .build();
        client.newCall(request).enqueue(new OkHttpCallback());

    }

    /**
     * okhttp å¼‚æ­¥è°ƒç”¨å›è°ƒå‡½æ•°
     */
    static class OkHttpCallback implements Callback {
        @Override
        public void onFailure(@NotNull Call call, @NotNull IOException e) {
            log.error(e);
        }

        @Override
        public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {
            if (response.isSuccessful()) {
                log.info(&quot;Successful data acquisition . . . &quot;);
                log.info(&quot;response.code()==&quot; + response.code());
                log.info(&quot;response.body().string()==&quot; + response.body().string());
            }
        }
    }


}


&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ç»“è¯­&quot;&gt;ç»“è¯­&lt;/h2&gt;
&lt;p&gt;æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€ç ä»”zonEã€ï¼Œä¸“æ³¨äºåˆ†äº«Javaã€äº‘è®¡ç®—ç›¸å…³å†…å®¹ï¼ŒåŒ…æ‹¬SpringBootã€SpringCloudã€å¾®æœåŠ¡ã€Dockerã€Kubernetesã€Pythonç­‰é¢†åŸŸç›¸å…³æŠ€æœ¯å¹²è´§ï¼ŒæœŸå¾…ä¸æ‚¨ç›¸é‡ï¼&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/908629/202008/908629-20200824100239333-1750093094.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 25 Aug 2020 00:48:00 +0000</pubDate>
<dc:creator>è°ä¸»æ²‰æµ®oo7</dc:creator>
<og:description>ç®€ä»‹ HTTPæ˜¯ç°ä»£åº”ç”¨å¸¸ç”¨çš„ä¸€ç§äº¤æ¢æ•°æ®å’Œåª’ä½“çš„ç½‘ç»œæ–¹å¼ï¼Œé«˜æ•ˆåœ°ä½¿ç”¨HTTPèƒ½è®©èµ„æºåŠ è½½æ›´å¿«ï¼ŒèŠ‚çœå¸¦å®½ã€‚OkHttpæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„HTTPå®¢æˆ·ç«¯ï¼Œå®ƒæœ‰ä»¥ä¸‹é»˜è®¤ç‰¹æ€§ï¼š æ”¯æŒHTTP/2ï¼Œå…è®¸æ‰€æœ‰åŒä¸€ä¸ªä¸»</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/feifuzeng/p/13554288.html</dc:identifier>
</item>
<item>
<title>GitHub çƒ­ç‚¹é€Ÿè§ˆ Vol.34ï¼šäºšé©¬é€Šã€å¾®è½¯å¼€æºé¡¹ç›®å¸¦ä½ å­¦ç¡¬æ ¸æŠ€æœ¯ - å‰Šå¾®å¯’</title>
<link>http://www.cnblogs.com/xueweihan/p/13557070.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xueweihan/p/13557070.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230332585-1697508771.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼šHelloGitHub-&lt;strong&gt;å°é±¼å¹²&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;æ‘˜è¦ï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šæ‰èƒ½çœ‹å¾—æ›´è¿œï¼Œæœ¬å‘¨ä¸Šæ¦œçš„ computervision-recipes ä¾¿æ˜¯å…¸å‹ä»£è¡¨ï¼Œè¿™ä¸ªç”±å¾®è½¯å¼€æºçš„è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µé¡¹ç›®ï¼Œå¤šæ¬¡ä¸Š GitHub Trendingï¼Œå®ƒæœ¬èº«å¹¶éæ˜¯ä¸€ä¸ªä»é›¶å¼€å§‹çš„é¡¹ç›®å®ƒä»ç°æœ‰çš„æœ€å…ˆè¿›çš„åº“ä¸­æå–ç¨‹åºï¼Œå¯è°“æ˜¯è®¡ç®—æœºè§†è§‰çš„é›†å¤§æˆè€…ï¼Œè€Œäºšé©¬é€Šåˆ™æ›´ç›´æ¥ï¼Œä»¥ MLUâ€”â€”æœºå™¨å­¦ä¹ å¤§å­¦ä¸ºååœ¨ aws-machine-learning-university-accelerated-nlp ä¸­æ”¶å½•äº†å¤§é‡çš„è‡ªç„¶è¯­è¨€å¤„ç†èµ„æºï¼Œæ—¢ç„¶å‰äººç§æ ‘ï¼Œæˆ‘ä»¬è¿™äº›â€œåè¾ˆâ€è«è¾œè´Ÿäº†è¿™ä¸€ä»½&lt;del&gt;å‡‰&lt;/del&gt; æš–æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹æ‘˜å½•è‡ªå¾®åš&lt;a href=&quot;https://www.weibo.com/hellogithub/&quot;&gt;@HelloGitHub&lt;/a&gt; çš„ GitHub Trending åŠ Hacker News çƒ­å¸–ï¼ˆç®€ç§° HN çƒ­å¸–ï¼‰ï¼Œé€‰é¡¹æ ‡å‡†ï¼š&lt;code&gt;æ–°å‘å¸ƒ&lt;/code&gt; | &lt;code&gt;å®ç”¨&lt;/code&gt; | &lt;code&gt;æœ‰è¶£&lt;/code&gt;ï¼Œæ ¹æ®é¡¹ç›® release æ—¶é—´åˆ†ç±»ï¼Œå‘å¸ƒæ—¶é—´ä¸è¶…è¿‡ 7 day çš„é¡¹ç›®ä¼šæ ‡æ³¨ &lt;code&gt;New&lt;/code&gt;ï¼Œæ— è¯¥æ ‡å¿—åˆ™è¯´æ˜é¡¹ç›® release è¶…è¿‡ä¸€å‘¨ã€‚ç”±äºæœ¬æ–‡ç¯‡å¹…æœ‰é™ï¼Œè¿˜æœ‰éƒ¨åˆ†é¡¹ç›®æœªèƒ½åœ¨æœ¬æ–‡å±•ç¤ºï¼Œæœ›å‘¨çŸ¥ ğŸŒ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æœ¬æ–‡ç›®å½•
&lt;ul&gt;&lt;li&gt;
&lt;ol&gt;&lt;li&gt;æœ¬å‘¨ç‰¹æ¨&lt;/li&gt;
&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;1.1 è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µï¼šcomputervision-recipes&lt;/li&gt;
&lt;li&gt;1.2 ä¸œåŠçƒæœ€é…·çš„å­¦ä¹ é¡¹ç›®ï¼šhello-algorithm&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;GitHub Trending å‘¨æ¦œ&lt;/li&gt;
&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;2.1 å‰ç«¯ä»£ç è‡ªåŠ¨è¿ç§»ï¼šts-migrate&lt;/li&gt;
&lt;li&gt;2.2 ä¸‡ç‰©çš†å¯ RSSï¼šRSSHub&lt;/li&gt;
&lt;li&gt;2.3 â€œäººè‚‰â€å·¥å…·ï¼šsherlock&lt;/li&gt;
&lt;li&gt;2.4 çˆ¬è™«å·¥å…·ï¼šInfoSpider&lt;/li&gt;
&lt;li&gt;2.5 æ—¥å†å°æ’ä»¶ï¼šfullcalendar&lt;/li&gt;
&lt;li&gt;2.6 æœºå™¨å­¦ä¹ å¤§å­¦ï¼šaws-machine-learning-university-accelerated-nlp&lt;/li&gt;
&lt;li&gt;2.7 è§†é¢‘ä¸‹è½½å™¨ï¼šannie&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;Emoji Time&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;æ¨èé˜…è¯»&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;1-æœ¬å‘¨ç‰¹æ¨&quot;&gt;1. æœ¬å‘¨ç‰¹æ¨&lt;/h2&gt;
&lt;h3 id=&quot;11-è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µï¼šcomputervision-recipes&quot;&gt;1.1 è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µï¼šcomputervision-recipes&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š1540+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;computervision-recipes æ˜¯å¾®è½¯å¼€æºçš„è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µï¼Œå®ƒåˆ©ç”¨æœ€å…ˆè¿›çš„è®¡ç®—æœºè§†è§‰ç®—æ³•ã€ç¥ç»ç³»ç»Ÿæ­å»ºäº†ä¸€å¥—å…¨é¢çš„è®¡ç®—æœºè§†è§‰å·¥å…·å’Œä»£ç ç¤ºä¾‹ï¼Œå¦‚æœä½ æƒ³äº†è§£è®¡ç®—æœºè§†è§‰ï¼Œä¸å¦¨ç«™åœ¨è¿™ä¸ªâ€œå·¨äººâ€çš„è‚©è†€ä¸Šå­¦ä¹ å›¾åƒåŠ è½½ã€ä¼˜åŒ–å’Œè¯„ä¼°æ¨¡å‹ä»¥åŠä¸Šäº‘çš„ç›¸å…³å†…å®¹ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/microsoft/computervision-recipes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230345008-1652582319.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;12-ä¸œåŠçƒæœ€é…·çš„å­¦ä¹ é¡¹ç›®ï¼šhello-algorithm&quot;&gt;1.2 ä¸œåŠçƒæœ€é…·çš„å­¦ä¹ é¡¹ç›®ï¼šhello-algorithm&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š3900+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;hello-algorithm è¿™ä¸ªå’Œ HelloGitHub åŒæ„å¼‚åçš„é¡¹ç›®æ˜¯ä¸€ä¸ªå·ç§°â€œä¸œåŠçƒæœ€é…·çš„å­¦ä¹ é¡¹ç›®â€ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é¡¹ç›®ä½œè€…å°æµ©å†™çš„ä¸‰åä¸‡å­—å›¾è§£ç®—æ³•é¢˜å…¸&lt;/li&gt;
&lt;li&gt;100 å¼ å„è¯­è¨€æ€ç»´å¯¼å›¾å’Œ 1000 æœ¬ç¼–ç¨‹ç”µå­&lt;/li&gt;
&lt;li&gt;100 ç¯‡å¤§å‚é¢ç»&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¯ä»¥ç®—æ˜¯æ¯”è¾ƒå…¨é¢çš„è®¡ç®—æœºèµ„æ–™æ•´åˆé¡¹ç›®äº†ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/geekxh/hello-algorithm&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230354200-1118407397.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-github-trending-å‘¨æ¦œ&quot;&gt;2. GitHub Trending å‘¨æ¦œ&lt;/h2&gt;
&lt;h3 id=&quot;21-å‰ç«¯ä»£ç è‡ªåŠ¨è¿ç§»ï¼šts-migrate&quot;&gt;2.1 å‰ç«¯ä»£ç è‡ªåŠ¨è¿ç§»ï¼šts-migrate&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š1800+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;New&lt;/code&gt; ts-migrate æ˜¯ä¸€ä¸ªå¯ä»¥å°† JavaScript ä»£ç å¿«é€Ÿè½¬ä¸º TypeScript ä»£ç çš„å·¥å…·ã€‚å®ƒæ¥å—ä¸€ä¸ª JavaScript æˆ–éƒ¨åˆ† TypeScript é¡¹ç›®ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç¼–è¯‘çš„ TypeScript é¡¹ç›®ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/airbnb/ts-migrate&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230401460-566855034.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š700+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RSS æ˜¯ä¸€ç§å°é±¼å¹²å¾ˆå–œæ¬¢çš„å†…å®¹å½¢å¼ï¼Œè€Œ RSSHub æ˜¯å›½äººå¼€æºçš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/DIYgod/RSSHub&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230408881-365106892.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;23-äººè‚‰å·¥å…·ï¼šsherlock&quot;&gt;2.3 â€œäººè‚‰â€å·¥å…·ï¼šsherlock&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š800+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;sherlock æ˜¯ä¸€ä¸ªå¯é€šè¿‡ç¤¾äº¤ç½‘ç»œä¸Šçš„ç”¨æˆ·åè·¨å¹³å°æœå¯»ç¤¾äº¤å¹³å°å¸æˆ·çš„å·¥å…·ï¼Œä¸€æ—¦ä½ å®‰è£…äº† sherlock ä¹‹åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨ç›´æ¥ä½¿ç”¨å®ƒã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/sherlock-project/sherlock&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230414981-33186099.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;24-çˆ¬è™«å·¥å…·ï¼šinfospider&quot;&gt;2.4 çˆ¬è™«å·¥å…·ï¼šInfoSpider&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š600+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;New&lt;/code&gt; InfoSpider æ˜¯ä¸€ä¸ªé›†ä¼—å¤šæ•°æ®æºäºä¸€èº«çš„çˆ¬è™«å·¥å…·ç®±ï¼Œæ—¨åœ¨å®‰å…¨å¿«æ·åœ°å¸®åŠ©ç”¨æˆ·æ‹¿å›è‡ªå·±çš„æ•°æ®ï¼Œå·¥å…·ä»£ç å¼€æºï¼Œæµç¨‹é€æ˜ã€‚æ”¯æŒæ•°æ®æºåŒ…æ‹¬ GitHubã€QQ é‚®ç®±ã€ç½‘æ˜“é‚®ç®±ã€é˜¿é‡Œé‚®ç®±ã€æ–°æµªé‚®ç®±ã€Hotmail é‚®ç®±ã€Outlook é‚®ç®±ã€äº¬ä¸œã€æ·˜å®ã€æ”¯ä»˜å®ã€ä¸­å›½ç§»åŠ¨ã€ä¸­å›½è”é€šã€ä¸­å›½ç”µä¿¡ã€çŸ¥ä¹ã€å“”å“©å“”å“©ã€ç½‘æ˜“äº‘éŸ³ä¹ã€QQ å¥½å‹ã€QQ ç¾¤ã€ç”Ÿæˆæœ‹å‹åœˆç›¸å†Œã€æµè§ˆå™¨æµè§ˆå†å²ã€12306ã€åšå®¢å›­ã€CSDN åšå®¢ã€å¼€æºä¸­å›½åšå®¢ã€ç®€ä¹¦ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/kangvcar/InfoSpider&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230421541-372849563.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;25-æ—¥å†å°æ’ä»¶ï¼šfullcalendar&quot;&gt;2.5 æ—¥å†å°æ’ä»¶ï¼šfullcalendar&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š750+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;fullcalendar æ˜¯ä¸€æ¬¾ç”¨æ¥ç®¡ç†æ—¥ç¨‹å®‰æ’ã€å·¥ä½œè®¡åˆ’çš„æ—¥å†å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„å±æ€§è®¾ç½®å’Œæ–¹æ³•è°ƒç”¨ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®æä¾›çš„ API å¿«é€Ÿå®Œæˆä¸€ä¸ªæ—¥å†æ—¥ç¨‹çš„å¼€å‘ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/fullcalendar/fullcalendar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230427855-1821566570.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;26-æœºå™¨å­¦ä¹ å¤§å­¦ï¼šaws-machine-learning-university-accelerated-nlp&quot;&gt;2.6 æœºå™¨å­¦ä¹ å¤§å­¦ï¼šaws-machine-learning-university-accelerated-nlp&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š750+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;New&lt;/code&gt; aws-machine-learning-university-accelerated-nlp æ”¶å½•äº†æœºå™¨å­¦ä¹ å¤§å­¦ï¼ˆMLUï¼‰åŠ é€Ÿè‡ªç„¶è¯­è¨€å¤„ç†è¯¾ç¨‹çš„å¹»ç¯ç‰‡ã€ç¬”è®°æœ¬å’Œæ•°æ®é›†ã€‚æœ¬è¯¾ç¨‹æ—¨åœ¨å¸®åŠ©ä½ å¼€å§‹å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ï¼Œå­¦ä¹ å¹¿æ³›ä½¿ç”¨çš„æŠ€æœ¯å¹¶å°†å…¶åº”ç”¨äºå®é™…é—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/aws-samples/aws-machine-learning-university-accelerated-nlp&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230433732-2052880046.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;27-è§†é¢‘ä¸‹è½½å™¨ï¼šannie&quot;&gt;2.7 è§†é¢‘ä¸‹è½½å™¨ï¼šannie&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ¬å‘¨ star å¢é•¿æ•°ï¼š400+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;annie ä¸€æ¬¾ç”¨ Go ç¼–å†™çš„å¿«é€Ÿï¼Œç®€å•ï¼Œå¹²å‡€çš„ä¸‹è½½å™¨ï¼Œå¯ä¸‹è½½è§†é¢‘ã€å›¾ç‰‡ã€æ’­æ”¾åˆ—è¡¨ç­‰ç­‰ï¼Œæ”¯æŒ MacOSã€Windowsã€Linux ç­‰æ“ä½œç³»ç»Ÿï¼Œæ— å‹åŠ›ä¸‹è½½æŠ–éŸ³ã€B ç«™ã€ä¼˜é…·ã€æ²¹ç®¡ç­‰è§†é¢‘ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;GitHub åœ°å€â†’https://github.com/iawia002/annie&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;3-ttime&quot;&gt;3. TTime&lt;/h2&gt;
&lt;p&gt;Talk Time (&lt;sup&gt;o&lt;/sup&gt;)/ æ¥è¯´è¯´ #è¯´åˆ°å¤§å‚å¼€æºï¼Œä½ ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„é¡¹ç›®#æ˜¯ä»€ä¹ˆå§ ğŸŒš &lt;code&gt;React&lt;/code&gt; ç®—ä¸ç®—æ˜¯å¤§å‚å¼€æºé¡¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;4-æ¨èé˜…è¯»&quot;&gt;4. æ¨èé˜…è¯»&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šä¸º 2020 å¹´ç¬¬ 34 ä¸ªå·¥ä½œå‘¨çš„ GitHub Trending ğŸ‰å¦‚æœä½  Pick å…¶ä»–å¥½ç©ã€å®ç”¨çš„ GitHub é¡¹ç›®ï¼Œè®°å¾—æ¥ &lt;a href=&quot;https://github.com/521xueweihan/HelloGitHub&quot;&gt;HelloGitHub&lt;/a&gt; issue åŒºå’Œæˆ‘ä»¬åˆ†äº«ä¸‹å“Ÿ ğŸŒ&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;HelloGitHub äº¤æµç¾¤ç°å·²å…¨é¢å¼€æ”¾ï¼Œæ·»åŠ å¾®ä¿¡å·ï¼šHelloGitHub ä¸ºå¥½å‹å…¥ç¾¤ï¼Œå¯åŒå‰ç«¯ã€Javaã€Go ç­‰å„ç•Œå¤§ä½¬è°ˆç¬‘é£ç”Ÿã€åˆ‡ç£‹æŠ€æœ¯~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr/&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/759200/202008/759200-20200824230442707-1043516024.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³æ³¨å…¬ä¼—å·åŠ å…¥äº¤æµç¾¤&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 25 Aug 2020 00:33:00 +0000</pubDate>
<dc:creator>å‰Šå¾®å¯’</dc:creator>
<og:description>ä½œè€…ï¼šHelloGitHub-å°é±¼å¹² æ‘˜è¦ï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šæ‰èƒ½çœ‹å¾—æ›´è¿œï¼Œæœ¬å‘¨ä¸Šæ¦œçš„ computervision-recipes ä¾¿æ˜¯å…¸å‹ä»£è¡¨ï¼Œè¿™ä¸ªç”±å¾®è½¯å¼€æºçš„è®¡ç®—æœºè§†è§‰æœ€ä½³å®è·µé¡¹ç›®ï¼Œå¤šæ¬¡ä¸Š Git</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xueweihan/p/13557070.html</dc:identifier>
</item>
<item>
<title>ä¸ƒå¤•ä¹Ÿè¦å­¦èµ·æ¥ï¼Œå“ˆå¸Œå“ˆå¸Œå“ˆå¸Œï¼ - å½¤å“¥è¯»æºç </title>
<link>http://www.cnblogs.com/tong-yuan/p/13557670.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/tong-yuan/p/13557670.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072509837-1766043783.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;4.0625&quot;&gt;
&lt;p&gt;æœ¬æ–‡æ”¶å½•äºä¸“è¾‘ï¼š&lt;a href=&quot;http://dwz.win/HjK&quot;&gt;http://dwz.win/HjK&lt;/a&gt;ï¼Œç‚¹å‡»è§£é”æ›´å¤šæ•°æ®ç»“æ„ä¸ç®—æ³•çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯å½¤å“¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼Œåœ¨Javaä¸­å¦‚ä½•æ„å»ºé«˜æ€§èƒ½é˜Ÿåˆ—ï¼Œé‡Œé¢ç‰µæ¶‰åˆ°å¾ˆå¤šåº•å±‚çš„çŸ¥è¯†ï¼Œä¸çŸ¥é“ä½ æœ‰Getåˆ°å¤šå°‘å‘¢ï¼Ÿï¼&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚ï¼Œæˆ‘æƒ³è·Ÿç€å¤§å®¶ä¸€èµ·é‡æ–°å­¦ä¹ ä¸‹å…³äºå“ˆå¸Œçš„ä¸€åˆ‡â€”â€”å“ˆå¸Œã€å“ˆå¸Œå‡½æ•°ã€å“ˆå¸Œè¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰è€…æœ‰ä»€ä¹ˆæ ·çš„çˆ±æ¨æƒ…ä»‡ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆObjectç±»ä¸­éœ€è¦æœ‰ä¸€ä¸ªhashCode()æ–¹æ³•ï¼Ÿå®ƒè·Ÿequals()æ–¹æ³•æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚ä½•ç¼–å†™ä¸€ä¸ªé«˜æ€§èƒ½çš„å“ˆå¸Œè¡¨ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Javaä¸­çš„HashMapä¸­çš„çº¢é»‘æ ‘å¯ä»¥ä½¿ç”¨å…¶å®ƒæ•°æ®ç»“æ„æ›¿æ¢å—ï¼Ÿ&lt;/p&gt;

&lt;p&gt;Hashï¼Œæ˜¯æŒ‡æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥é€šè¿‡ä¸€å®šçš„ç®—æ³•å˜æˆ&lt;strong&gt;å›ºå®šé•¿åº¦çš„è¾“å‡º&lt;/strong&gt;çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¾“å‡ºç§°ä½œHashå€¼ï¼Œæˆ–è€…Hashç ï¼Œè¿™ä¸ªç®—æ³•å«åšHashç®—æ³•ï¼Œæˆ–è€…Hashå‡½æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä¸€èˆ¬å°±ç§°ä½œHashï¼Œæˆ–è€…è®¡ç®—Hashï¼ŒHashç¿»è¯‘ä¸ºä¸­æ–‡æœ‰å“ˆå¸Œã€æ•£åˆ—ã€æ‚å‡‘ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072510315-622554911.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯å›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œé‚£å°±æ„å‘³ç€è¾“å…¥æ˜¯æ— é™å¤šçš„ï¼Œè¾“å‡ºæ˜¯æœ‰é™çš„ï¼Œå¿…ç„¶ä¼šå‡ºç°ä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºçš„æƒ…å†µï¼Œæ‰€ä»¥ï¼ŒHashç®—æ³•ä¸€èˆ¬æ¥è¯´ä¹Ÿæ˜¯ä¸å¯é€†çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼ŒHashç®—æ³•æœ‰å“ªäº›ç”¨é€”å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å“ˆå¸Œç®—æ³•ï¼Œæ˜¯ä¸€ç§å¹¿ä¹‰çš„ç®—æ³•ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ç§æ€æƒ³ï¼Œå®ƒæ²¡æœ‰ä¸€ä¸ªå›ºå®šçš„å…¬å¼ï¼Œåªè¦æ»¡è¶³ä¸Šé¢å®šä¹‰çš„ç®—æ³•ï¼Œéƒ½å¯ä»¥ç§°ä½œHashç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æ¥è¯´ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç”¨é€”ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åŠ å¯†å¯†ç ï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨MD5+ç›çš„æ–¹å¼æ¥åŠ å¯†å¯†ç ï¼›&lt;/li&gt;
&lt;li&gt;å¿«é€ŸæŸ¥è¯¢ï¼Œæ¯”å¦‚ï¼Œå“ˆå¸Œè¡¨çš„ä½¿ç”¨ï¼Œé€šè¿‡å“ˆå¸Œè¡¨èƒ½å¤Ÿå¿«é€ŸæŸ¥è¯¢å…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;æ•°å­—ç­¾åï¼Œæ¯”å¦‚ï¼Œç³»ç»Ÿé—´è°ƒç”¨åŠ ä¸Šç­¾åï¼Œå¯ä»¥é˜²æ­¢ç¯¡æ”¹æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶æ£€éªŒï¼Œæ¯”å¦‚ï¼Œä¸‹è½½è…¾è®¯æ¸¸æˆçš„æ—¶å€™é€šå¸¸éƒ½æœ‰æœ‰ä¸€ä¸ªMD5å€¼ï¼Œå®‰è£…åŒ…ä¸‹è½½ä¸‹æ¥ä¹‹åè®¡ç®—å‡ºæ¥ä¸€ä¸ªMD5å€¼ä¸å®˜æ–¹çš„MD5å€¼è¿›è¡Œå¯¹æ¯”ï¼Œå°±å¯çŸ¥é“ä¸‹è½½è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰æ–‡ä»¶æŸåï¼Œæœ‰æ²¡æœ‰è¢«ç¯¡æ”¹ç­‰ï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¥½äº†ï¼Œè¯´èµ·Hashç®—æ³•ï¼Œæˆ–è€…Hashå‡½æ•°ï¼Œåœ¨Javaä¸­ï¼Œæ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»Objectéƒ½æœ‰ä¸€ä¸ªHashå‡½æ•°ï¼Œå³hashCode()æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆObjectç±»ä¸­éœ€è¦å®šä¹‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;ä¸¥æ ¼æ¥è¯´ï¼ŒHashç®—æ³•å’ŒHashå‡½æ•°è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼Œç›¸ä¿¡ä½ èƒ½æ ¹æ®è¯­å¢ƒè¿›è¡ŒåŒºåˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è®©æˆ‘ä»¬æ¥çœ‹çœ‹JDKæºç çš„æ³¨é‡Šæ€ä¹ˆè¯´ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072510847-97453556.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯·çœ‹çº¢æ¡†çš„éƒ¨åˆ†ï¼Œç¿»è¯‘ä¸€ä¸‹å¤§è‡´ä¸ºï¼šä¸ºè¿™ä¸ªå¯¹è±¡è¿”å›ä¸€ä¸ªHashå€¼ï¼Œå®ƒæ˜¯ä¸ºäº†æ›´å¥½åœ°æ”¯æŒå“ˆå¸Œè¡¨è€Œå­˜åœ¨çš„ï¼Œæ¯”å¦‚HashMapã€‚ç®€å•ç‚¹è¯´ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™HashMapç­‰å“ˆå¸Œè¡¨ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;// é»˜è®¤è¿”å›çš„æ˜¯å¯¹è±¡çš„å†…éƒ¨åœ°å€
public native int hashCode();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æèµ·Objectç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•â€”â€”equals()ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;// é»˜è®¤æ˜¯ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰
public boolean equals(Object obj) {
    return (this == obj);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;hashCode()å’Œequalsåˆæœ‰æ€æ ·çš„çº ç¼ å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é€šå¸¸æ¥è¯´ï¼ŒhashCode()å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å¼±æ¯”è¾ƒï¼Œå›å½’Hashçš„æœ¬è´¨ï¼Œå°†ä¸åŒçš„è¾“å…¥æ˜ å°„åˆ°å›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œé‚£ä¹ˆï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºå¿…ç„¶ç›¸åŒï¼›&lt;/li&gt;
&lt;li&gt;è¾“å…¥ä¸åŒï¼Œè¾“å‡ºå¯èƒ½ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸åŒï¼›&lt;/li&gt;
&lt;li&gt;è¾“å‡ºç›¸åŒï¼Œè¾“å…¥å¯èƒ½ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸åŒï¼›&lt;/li&gt;
&lt;li&gt;è¾“å‡ºä¸åŒï¼Œè¾“å…¥å¿…ç„¶ä¸åŒï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;è€Œequals()æ˜¯ä¸¥æ ¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡equals()ä¸ºtrueï¼Œé‚£ä¹ˆï¼Œå®ƒä»¬çš„hashCode()ä¸€å®šè¦ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰ä¼šæ€æ ·å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœequals()è¿”å›trueï¼Œè€ŒhashCode()ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆï¼Œè¯•æƒ³å°†è¿™ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºHashMapçš„keyï¼Œå®ƒä»¬å¾ˆå¤§å¯èƒ½ä¼šå®šä½åˆ°HashMapä¸åŒçš„æ§½ä¸­ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°ä¸€ä¸ªHashMapä¸­æ’å…¥äº†ä¸¤ä¸ªç›¸ç­‰çš„å¯¹è±¡ï¼Œè¿™æ˜¯ä¸å…è®¸çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé‡å†™äº†equals()æ–¹æ³•ä¸€å®šè¦é‡å†™hashCode()æ–¹æ³•çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼ŒStringè¿™ä¸ªç±»ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å®ƒçš„equals()æ–¹æ³•æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åœ°å€ï¼Œä¸‹é¢æ˜¯å®ƒçš„equals()æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public boolean equals(Object anObject) {
    if (this == anObject) {
        return true;
    }
    if (anObject instanceof String) {
        String anotherString = (String)anObject;
        int n = value.length;
        if (n == anotherString.value.length) {
            char v1[] = value;
            char v2[] = anotherString.value;
            int i = 0;
            while (n-- != 0) {
                if (v1[i] != v2[i])
                    return false;
                i++;
            }
            return true;
        }
    }
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯¹äºä¸‹é¢è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œä½¿ç”¨equals()æ¯”è¾ƒå®ƒä»¬æ˜¯ç›¸ç­‰çš„ï¼Œè€Œå®ƒä»¬çš„å†…å­˜åœ°å€å¹¶ä¸ç›¸åŒï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;String a = new String(&quot;123&quot;);
String b = new String(&quot;123&quot;);
System.out.println(a.equals(b)); // true
System.out.println(a == b); // false
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå¦‚æœä¸é‡å†™hashCode()æ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œaå’Œbå°†è¿”å›ä¸åŒçš„hashç ï¼Œå¯¹äºæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨Stringä½œä¸ºHashMapçš„keyå°†é€ æˆå·¨å¤§çš„å¹²æ‰°ï¼Œæ‰€ä»¥ï¼ŒStringé‡å†™çš„hashCode()æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public int hashCode() {
    int h = hash;
    if (h == 0 &amp;amp;&amp;amp; value.length &amp;gt; 0) {
        char val[] = value;

        for (int i = 0; i &amp;lt; value.length; i++) {
            h = 31 * h + val[i];
        }
        hash = h;
    }
    return h;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªç®—æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç”¨å…¬å¼æ¥è¡¨ç¤ºä¸ºï¼šs[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œæ—¢ç„¶è¿™é‡Œå±¡æ¬¡æåˆ°å“ˆå¸Œè¡¨ï¼Œé‚£æˆ‘ä»¬å°±æ¥çœ‹çœ‹å“ˆå¸Œè¡¨æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥è¿›åŒ–çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ•°ç»„&quot;&gt;æ•°ç»„&lt;/h2&gt;
&lt;p&gt;è®²å“ˆå¸Œè¡¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ•°æ®ç»“æ„çš„é¼»ç¥–â€”â€”æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;æ•°ç»„æ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œå¤§å®¶éƒ½ä¼šéƒ½æ‡‚ï¼Œè§ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072511275-602576671.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ•°ç»„çš„ä¸‹æ ‡ä¸€èˆ¬ä»0å¼€å§‹ï¼Œä¾æ¬¡å¾€åå­˜å‚¨å…ƒç´ ï¼ŒæŸ¥æ‰¾æŒ‡å®šå…ƒç´ ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåªèƒ½ä»å¤´ï¼ˆæˆ–ä»å°¾ï¼‰ä¾æ¬¡æŸ¥æ‰¾å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œè¦æŸ¥æ‰¾4è¿™ä¸ªå…ƒç´ ï¼Œä»å¤´å¼€å§‹æŸ¥æ‰¾çš„è¯éœ€è¦æŸ¥æ‰¾3æ¬¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ—©æœŸçš„å“ˆå¸Œè¡¨&quot;&gt;æ—©æœŸçš„å“ˆå¸Œè¡¨&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è®²äº†æ•°ç»„çš„ç¼ºç‚¹ï¼ŒæŸ¥æ‰¾æŸä¸ªå…ƒç´ åªèƒ½ä»å¤´æˆ–è€…ä»å°¾ä¾æ¬¡æŸ¥æ‰¾å…ƒç´ ï¼Œç›´åˆ°åŒ¹é…ä¸ºæ­¢ï¼Œå®ƒçš„å‡è¡¡æ—¶é—´å¤æ‚æ˜¯O(n)ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œåˆ©ç”¨æ•°ç»„æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å¿«é€Ÿçš„æŸ¥æ‰¾å…ƒç´ å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;èªæ˜çš„ç¨‹åºå‘˜å“¥å“¥ä»¬æƒ³åˆ°ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å…ƒç´ çš„å€¼ï¼Œç”¨è¿™ä¸ªå€¼ç¡®å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±èƒ½ç¼©çŸ­åˆ°O(1)äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œæœ‰5ä¸ªå…ƒç´ åˆ†åˆ«ä¸º3ã€5ã€4ã€1ï¼ŒæŠŠå®ƒä»¬æ”¾å…¥åˆ°æ•°ç»„ä¹‹å‰å…ˆé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—ä½ç½®ï¼Œç²¾ç¡®æ”¾ç½®ï¼Œè€Œä¸æ˜¯åƒç®€å•æ•°ç»„é‚£æ ·ä¾æ¬¡æ”¾ç½®å…ƒç´ ï¼ˆåŸºäºç´¢å¼•è€Œä¸æ˜¯å…ƒç´ å€¼æ¥æŸ¥æ‰¾ä½ç½®ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚ï¼Œè¿™é‡Œç”³è¯·çš„æ•°ç»„é•¿åº¦ä¸º8ï¼Œæˆ‘ä»¬å¯ä»¥é€ è¿™ä¹ˆä¸€ä¸ªå“ˆå¸Œå‡½æ•°ä¸ºhash(x) = x % 8ï¼Œé‚£ä¹ˆæœ€åçš„å…ƒç´ å°±å˜æˆäº†ä¸‹å›¾è¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072511600-46408959.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™æˆ‘ä»¬å†æŸ¥æ‰¾4è¿™ä¸ªå…ƒç´ ï¼Œå…ˆç®—ä¸€ä¸‹å®ƒçš„hashå€¼ä¸ºhash(4) = 4 % 8 = 4ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›4å·ä½ç½®çš„å…ƒç´ å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¿›åŒ–çš„å“ˆå¸Œè¡¨&quot;&gt;è¿›åŒ–çš„å“ˆå¸Œè¡¨&lt;/h2&gt;
&lt;p&gt;äº‹æƒ…çœ‹ç€æŒºå®Œç¾ï¼Œä½†æ˜¯ï¼Œæ¥äº†ä¸€ä¸ªå…ƒç´ 13ï¼Œè¦æ’å…¥çš„å“ˆå¸Œè¡¨ä¸­ï¼Œç®—äº†ä¸€ä¸‹å®ƒçš„hashå€¼ä¸ºhash(13) = 13 % 8 = 5ï¼Œçº³å°¼ï¼Œå®ƒè®¡ç®—çš„ä½ç½®ä¹Ÿæ˜¯5ï¼Œå¯æ˜¯5å·å·²ç»è¢«äººå…ˆä¸€æ­¥å é¢†äº†ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯&lt;strong&gt;å“ˆå¸Œå†²çª&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä»€ä¹ˆä¼šå‡ºç°å“ˆå¸Œå†²çªå‘¢ï¼Ÿ&quot;&gt;ä¸ºä»€ä¹ˆä¼šå‡ºç°å“ˆå¸Œå†²çªå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬ç”³è¯·çš„æ•°ç»„æ˜¯æœ‰é™é•¿åº¦çš„ï¼ŒæŠŠæ— é™çš„æ•°å­—æ˜ å°„åˆ°æœ‰é™çš„æ•°ç»„ä¸Šæ—©æ™šä¼šå‡ºç°å†²çªï¼Œå³å¤šä¸ªå…ƒç´ æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¥½å§ï¼Œæ—¢ç„¶å‡ºç°äº†å“ˆå¸Œå†²çªï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦è§£å†³å®ƒï¼Œå¿…é¡»å¹²ï¼&lt;/p&gt;
&lt;p&gt;How toï¼Ÿ&lt;/p&gt;
&lt;h3 id=&quot;çº¿æ€§æ¢æµ‹æ³•&quot;&gt;çº¿æ€§æ¢æµ‹æ³•&lt;/h3&gt;
&lt;p&gt;æ—¢ç„¶5å·ä½ç½®å·²ç»æœ‰ä¸»äº†ï¼Œé‚£æˆ‘å…ƒç´ 13è®¤æ€‚ï¼Œæˆ‘å¾€åæŒªä¸€ä½ï¼Œæˆ‘åˆ°6å·ä½ç½®å»ï¼Œè¿™å°±æ˜¯çº¿æ€§æ¢æµ‹æ³•ï¼Œå½“å‡ºç°å†²çªçš„æ—¶å€™ä¾æ¬¡å¾€åæŒªç›´åˆ°æ‰¾åˆ°ç©ºä½ç½®ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072511947-496591055.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç„¶é¹…ï¼Œåˆæ¥äº†ä¸ªæ–°å…ƒç´ 12ï¼Œç®—å¾—å…¶hashå€¼ä¸ºhash(12) = 12 % 8 = 4ï¼ŒWhatï¼ŸæŒ‰ç…§è¿™ç§æ–¹å¼ï¼Œè¦å¾€åç§»3æ¬¡åˆ°7å·ä½ç½®æ‰æœ‰ç©ºä½ç½®ï¼Œè¿™å°±å¯¼è‡´äº†æ’å…¥å…ƒç´ çš„æ•ˆç‡å¾ˆä½ï¼ŒæŸ¥æ‰¾ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Œå…ˆå®šä½çš„4å·ä½ç½®ï¼Œå‘ç°ä¸æ˜¯æˆ‘è¦æ‰¾çš„äººï¼Œå†æ¥ç€å¾€åç§»ï¼Œç›´åˆ°æ‰¾åˆ°7å·ä½ç½®ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äºŒæ¬¡æ¢æµ‹æ³•&quot;&gt;äºŒæ¬¡æ¢æµ‹æ³•&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨çº¿æ€§æ¢æµ‹æ³•æœ‰ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼Œå†²çªçš„å…ƒç´ å¾€å¾€ä¼šå †ç§¯åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚ï¼Œ12å·æ”¾åˆ°7å·ä½ç½®ï¼Œå†æ¥ä¸ª14å·ä¸€æ ·å†²çªï¼Œæ¥ç€å¾€åå†æ•°ç»„ç»“å°¾äº†ï¼Œå†ä»å¤´å¼€å§‹æ”¾åˆ°0å·ä½ç½®ï¼Œä½ ä¼šå‘ç°å†²çªçš„å…ƒç´ æœ‰èšé›†ç°è±¡ï¼Œè¿™å°±å¾ˆä¸åˆ©äºæŸ¥æ‰¾äº†ï¼ŒåŒæ ·ä¸åˆ©äºæ’å…¥æ–°çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™åˆæœ‰èªæ˜çš„ç¨‹åºå‘˜å“¥å“¥æå‡ºäº†æ–°çš„æƒ³æ³•â€”â€”äºŒæ¬¡æ¢æµ‹æ³•ï¼Œå½“å‡ºç°å†²çªæ—¶ï¼Œæˆ‘ä¸æ˜¯å¾€åä¸€ä½ä¸€ä½è¿™æ ·æ¥æ‰¾ç©ºä½ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨åŸæ¥çš„hashå€¼åŠ ä¸Šiçš„äºŒæ¬¡æ–¹æ¥å¯»æ‰¾ï¼Œiä¾æ¬¡ä»1ï¼Œ2ï¼Œ3...è¿™æ ·ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºä½ç½®ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä»¥ä¸Šé¢çš„ä¸ºä¾‹ï¼Œæ’å…¥12å·å…ƒç´ ï¼Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼Œæœ¬æ–‡æ¥æºäºå…¬ä¸»å·å½¤å“¥è¯»æºç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072512341-325567299.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±èƒ½å¾ˆå¿«åœ°æ‰¾åˆ°ç©ºä½ç½®æ”¾ç½®æ–°å…ƒç´ ï¼Œè€Œä¸”ä¸ä¼šå‡ºç°å†²çªå…ƒç´ å †ç§¯çš„ç°è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶é¹…ï¼Œåˆæ¥äº†æ–°å…ƒç´ 20ï¼Œä½ ç…ç…æ”¾å“ªï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‘ç°æ”¾å“ªéƒ½æ”¾ä¸è¿›å»äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç ”ç©¶è¡¨æ˜ï¼Œä½¿ç”¨äºŒæ¬¡æ¢æµ‹æ³•çš„å“ˆå¸Œè¡¨ï¼Œå½“æ”¾ç½®çš„å…ƒç´ è¶…è¿‡ä¸€åŠæ—¶ï¼Œå°±ä¼šå‡ºç°æ–°å…ƒç´ æ‰¾ä¸åˆ°ä½ç½®çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åˆå¼•å‡ºä¸€ä¸ªæ–°çš„æ¦‚å¿µâ€”â€”æ‰©å®¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯æ‰©å®¹ï¼Ÿ&quot;&gt;ä»€ä¹ˆæ˜¯æ‰©å®¹ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å·²æ”¾ç½®å…ƒç´ è¾¾åˆ°æ€»å®¹é‡çš„x%æ—¶ï¼Œå°±éœ€è¦æ‰©å®¹äº†ï¼Œè¿™ä¸ªx%æ—¶åˆå«ä½œ&lt;strong&gt;æ‰©å®¹å› å­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜¾ç„¶ï¼Œæ‰©å®¹å› å­è¶Šå¤§è¶Šå¥½ï¼Œè¡¨æ˜å“ˆå¸Œè¡¨çš„ç©ºé—´åˆ©ç”¨ç‡è¶Šé«˜ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¾ˆé—æ†¾ï¼ŒäºŒæ¬¡æ¢æµ‹æ³•æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„ç›®æ ‡ï¼Œæ‰©å®¹å› å­å¤ªå°äº†ï¼Œåªæœ‰0.5ï¼Œä¸€åŠçš„ç©ºé—´éƒ½æ˜¯æµªè´¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™åˆåˆ°äº†ç¨‹åºå‘˜å“¥å“¥ä»¬å‘æŒ¥ä»–ä»¬èªæ˜ç‰¹æ€§çš„æ—¶å€™äº†ï¼Œç»è¿‡996å¤´è„‘é£æš´åï¼Œåˆæƒ³å‡ºäº†ä¸€ç§æ–°çš„å“ˆå¸Œè¡¨å®ç°æ–¹å¼â€”â€”é“¾è¡¨æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é“¾è¡¨æ³•&quot;&gt;é“¾è¡¨æ³•&lt;/h2&gt;
&lt;p&gt;ä¸å°±æ˜¯è§£å†³å†²çªå˜›ï¼å‡ºç°å†²çªæˆ‘å°±ä¸å¾€æ•°ç»„ä¸­å»æ”¾äº†ï¼Œæˆ‘ç”¨ä¸€ä¸ªé“¾è¡¨æŠŠåŒä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ä½ç½®çš„å…ƒç´ è¿æ¥èµ·æ¥ï¼Œè¿™æ ·ä¸å°±å¯ä»¥å……åˆ†åˆ©ç”¨ç©ºé—´äº†å˜›ï¼Œå•Šå“ˆå“ˆå“ˆå“ˆ~~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072512656-1692749405.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å˜¿å˜¿å˜¿å˜¿ï¼Œå®Œç¾â–³â–³ã€‚&lt;/p&gt;
&lt;p&gt;çœŸçš„å®Œç¾å˜›ï¼Œæˆ‘æ˜¯ä¸€åé»‘å®¢ï¼Œæˆ‘ä¸€ç›´å¾€é‡Œé¢æ”¾*%8=4çš„å…ƒç´ ï¼Œç„¶åä½ å°±ä¼šå‘ç°å‡ ä¹æ‰€æœ‰çš„å…ƒç´ éƒ½è·‘åˆ°åŒä¸€ä¸ªé“¾è¡¨ä¸­å»äº†ï¼Œå‘µå‘µï¼Œæœ€åçš„ç»“æœå°±æ˜¯ä½ çš„å“ˆå¸Œè¡¨é€€åŒ–æˆäº†é“¾è¡¨ï¼ŒæŸ¥è¯¢æ’å…¥å…ƒç´ çš„æ•ˆç‡éƒ½å˜æˆäº†O(n)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072513012-1448295764.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå½“ç„¶æœ‰åŠæ³•ï¼Œæ‰©å®¹å› å­å¹²å•¥æ»´ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æ‰©å®¹å› å­è®¾ç½®ä¸º1ï¼Œå½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°8ä¸ªæ—¶ï¼Œæ‰©å®¹æˆä¸¤å€ï¼Œä¸€åŠçš„å…ƒç´ è¿˜åœ¨4å·ä½ç½®ï¼Œä¸€åŠçš„å…ƒç´ å»åˆ°äº†12å·ä½ç½®ï¼Œèƒ½ç¼“è§£å“ˆå¸Œè¡¨çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶é¹…ï¼Œä¾æ—§ä¸æ˜¯å¾ˆå®Œç¾ï¼Œä¹Ÿåªæ˜¯ä»ä¸€ä¸ªé“¾è¡¨å˜æˆä¸¤ä¸ªé“¾è¡¨ï¼Œæœ¬æ–‡æ¥æºäºå…¬ä¸»å·å½¤å“¥è¯»æºç ã€‚&lt;/p&gt;
&lt;p&gt;èªæ˜çš„ç¨‹åºå‘˜å“¥å“¥ä»¬è¿™æ¬¡å¼€å¯äº†ä¸€æ¬¡é•¿å¤§9127çš„å¤´è„‘é£æš´ï¼Œç»ˆäºæå‡ºäº†ä¸€ç§æ–°çš„ç»“æ„â€”â€”é“¾è¡¨æ ‘æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é“¾è¡¨æ ‘æ³•&quot;&gt;é“¾è¡¨æ ‘æ³•&lt;/h2&gt;
&lt;p&gt;è™½ç„¶ä¸Šé¢çš„æ‰©å®¹åœ¨å…ƒç´ ä¸ªæ•°æ¯”è¾ƒå°‘çš„æ—¶å€™èƒ½è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œæ•´ä½“çš„æŸ¥æ‰¾æ’å…¥æ•ˆç‡ä¹Ÿä¸ä¼šå¤ªä½ï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°å°‘å˜›ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œé»‘å®¢è¿˜åœ¨æ”»å‡»ï¼Œå…ƒç´ ä¸ªæ•°è¿˜åœ¨æŒç»­å¢åŠ ï¼Œå½“å¢åŠ åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œæ€»ä¼šå¯¼è‡´æŸ¥æ‰¾æ’å…¥æ•ˆç‡ç‰¹åˆ«ä½ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæ¢ä¸ªæ€è·¯ï¼Œæ—¢ç„¶é“¾è¡¨çš„æ•ˆç‡ä½ï¼Œæˆ‘æŠŠå®ƒå‡çº§ä¸€ä¸‹ï¼Œå½“é“¾è¡¨é•¿çš„æ—¶å€™å‡çº§æˆçº¢é»‘æ ‘æ€ä¹ˆæ ·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘çœ‹è¡Œï¼Œè¯´å¹²å°±å¹²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072513361-985213595.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œä¸é”™ä¸é”™ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸æ€•æˆ‘é­åˆ°é»‘å®¢æ”»å‡»äº†ï¼Œçº¢é»‘æ ‘çš„æŸ¥è¯¢æ•ˆç‡ä¸ºO(log n)ï¼Œæ¯”é“¾è¡¨çš„O(n)è¦é«˜ä¸å°‘ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåˆ°è¿™å°±ç»“æŸäº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½ æƒ³å¤šäº†ï¼Œæ¯æ¬¡æ‰©å®¹è¿˜æ˜¯è¦ç§»åŠ¨ä¸€åŠçš„å…ƒç´ å¥½ä¹ˆï¼Œä¸€é¢—æ ‘åˆ†åŒ–æˆä¸¤é¢—æ ‘ï¼Œè¿™æ ·çœŸçš„å¥½ä¹ˆå¥½ä¹ˆå¥½ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç¨‹åºå‘˜å“¥å“¥ä»¬å¤ªéš¾äº†ï¼Œè¿™æ¬¡ç»è¿‡äº†12127çš„å¤´è„‘é£æš´ï¼Œç»ˆäºæƒ³å‡ºä¸ªæ–°ç©æ„â€”â€”ä¸€è‡´æ€§Hashã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€è‡´æ€§hash&quot;&gt;ä¸€è‡´æ€§Hash&lt;/h2&gt;
&lt;p&gt;ä¸€è‡´æ€§Hashæ›´å¤šåœ°æ˜¯è¿ç”¨åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ¯”å¦‚è¯´Redisé›†ç¾¤éƒ¨ç½²äº†å››ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„hashå€¼å®šä¹‰ä¸º0~2^32ä¸ªï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šæ”¾ç½®å››åˆ†ä¹‹ä¸€çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;æ­¤å¤„åªä¸ºä¸¾ä¾‹ï¼Œå®é™…Redisé›†ç¾¤çš„åŸç†æ˜¯è¿™æ ·çš„ï¼Œå…·ä½“æ•°å€¼ä¸æ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå‡è®¾éœ€è¦ç»™Rediså¢åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¯”å¦‚node5ï¼Œæ”¾åœ¨node3å’Œnode4ä¸­é—´ï¼Œè¿™æ ·åªéœ€è¦æŠŠnode3åˆ°node4ä¸­é—´çš„å…ƒç´ ä»node4ç§»åŠ¨åˆ°node5ä¸Šé¢å°±è¡Œäº†ï¼Œå…¶å®ƒçš„å…ƒç´ ä¿æŒä¸å˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œå°±å¢åŠ äº†æ‰©å®¹çš„é€Ÿåº¦ï¼Œè€Œä¸”å½±å“çš„å…ƒç´ æ¯”è¾ƒå°‘ï¼Œå¤§éƒ¨åˆ†è¯·æ±‚å‡ ä¹æ— æ„ŸçŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1648938/202008/1648938-20200825072513846-364600782.jpg&quot; alt=&quot;file&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œåˆ°è¿™é‡Œå…³äºå“ˆå¸Œè¡¨çš„è¿›åŒ–å†å²å°±è®²åˆ°è¿™é‡Œäº†ï¼Œä½ æœ‰æ²¡æœ‰Getåˆ°å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æœ¬èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·é‡æ–°å­¦ä¹ äº†å…³äºå“ˆå¸Œã€å“ˆå¸Œå‡½æ•°ã€å“ˆå¸Œè¡¨ç›¸å…³çš„çŸ¥è¯†ï¼Œåœ¨Javaä¸­ï¼ŒHashMapçš„ç»ˆæå½¢æ€æ˜¯ä»¥æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„å½¢å¼å‘ˆç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ®è¯´ï¼Œè¿™ä¸ªçº¢é»‘æ ‘è¿˜å¯ä»¥æ¢æˆå…¶å®ƒçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚è·³è¡¨ï¼Œä½ é€ å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠ&lt;strong&gt;è·³è¡¨&lt;/strong&gt;è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥æ”¹å†™HashMapï¼Œæ¬²è·å–æœ€æ–°æ¨å¹¿ï¼Œå¿«ç‚¹æ¥å…³æ³¨æˆ‘å§ï¼&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å…³æ³¨å…¬å·ä¸»â€œå½¤å“¥è¯»æºç â€ï¼Œè§£é”æ›´å¤šæºç ã€åŸºç¡€ã€æ¶æ„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Mon, 24 Aug 2020 23:25:00 +0000</pubDate>
<dc:creator>å½¤å“¥è¯»æºç </dc:creator>
<og:description>å‰è¨€ æœ¬æ–‡æ”¶å½•äºä¸“è¾‘ï¼šhttp://dwz.win/HjKï¼Œç‚¹å‡»è§£é”æ›´å¤šæ•°æ®ç»“æ„ä¸ç®—æ³•çš„çŸ¥è¯†ã€‚ ä½ å¥½ï¼Œæˆ‘æ˜¯å½¤å“¥ã€‚ ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼Œåœ¨Javaä¸­å¦‚ä½•æ„å»ºé«˜æ€§èƒ½é˜Ÿåˆ—ï¼Œé‡Œé¢ç‰µæ¶‰åˆ°å¾ˆå¤šåº•å±‚çš„çŸ¥è¯†ï¼Œä¸çŸ¥</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/tong-yuan/p/13557670.html</dc:identifier>
</item>
<item>
<title>ã€Flutter å®æˆ˜ã€‘åŠ¨ç”»åºåˆ—ã€å…±äº«åŠ¨ç”»ã€è·¯ç”±åŠ¨ç”» - è€å­ŸFlutter</title>
<link>http://www.cnblogs.com/mengqd/p/13557663.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mengqd/p/13557663.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071144652-1508025987.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;è€å­Ÿå¯¼è¯»ï¼šæ­¤ç¯‡æ–‡ç« æ˜¯ Flutter åŠ¨ç”»ç³»åˆ—æ–‡ç« ç¬¬å››ç¯‡ï¼Œæœ¬æ–‡ä»‹ç»åŠ¨ç”»åºåˆ—ã€å…±äº«åŠ¨ç”»ã€è·¯ç”±åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŠ¨ç”»åºåˆ—&quot;&gt;åŠ¨ç”»åºåˆ—&lt;/h2&gt;
&lt;p&gt;Flutterä¸­ç»„åˆåŠ¨ç”»ä½¿ç”¨&lt;code&gt;Interval&lt;/code&gt;ï¼Œ&lt;code&gt;Interval&lt;/code&gt;ç»§æ‰¿è‡ª&lt;code&gt;Curve&lt;/code&gt;ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Animation _sizeAnimation = Tween(begin: 100.0, end: 300.0).animate(CurvedAnimation(
    parent: _animationController, curve: Interval(0.5, 1.0)));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¡¨ç¤º&lt;code&gt;_sizeAnimation&lt;/code&gt;åŠ¨ç”»ä»0.5ï¼ˆä¸€åŠï¼‰å¼€å§‹åˆ°ç»“æŸï¼Œå¦‚æœåŠ¨ç”»æ—¶é•¿ä¸º6ç§’ï¼Œ&lt;code&gt;_sizeAnimation&lt;/code&gt;åˆ™ä»ç¬¬3ç§’å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Interval&lt;/code&gt;ä¸­&lt;code&gt;begin&lt;/code&gt; å’Œ&lt;code&gt;end&lt;/code&gt;å‚æ•°å€¼çš„èŒƒå›´æ˜¯0.0åˆ°1.0ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å®ç°ä¸€ä¸ªå…ˆæ‰§è¡Œé¢œè‰²å˜åŒ–ï¼Œåœ¨æ‰§è¡Œå¤§å°å˜åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class AnimationDemo extends StatefulWidget {
  @override
  State&amp;lt;StatefulWidget&amp;gt; createState() =&amp;gt; _AnimationDemo();
}

class _AnimationDemo extends State&amp;lt;AnimationDemo&amp;gt;
    with SingleTickerProviderStateMixin {
  AnimationController _animationController;
  Animation _colorAnimation;
  Animation _sizeAnimation;

  @override
  void initState() {
    _animationController =
        AnimationController(duration: Duration(seconds: 5), vsync: this)
    ..addListener((){setState(() {
      
    });});

    _colorAnimation = ColorTween(begin: Colors.red, end: Colors.blue).animate(
        CurvedAnimation(
            parent: _animationController, curve: Interval(0.0, 0.5)));

    _sizeAnimation = Tween(begin: 100.0, end: 300.0).animate(CurvedAnimation(
        parent: _animationController, curve: Interval(0.5, 1.0)));

    //å¼€å§‹åŠ¨ç”»
    _animationController.forward();
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisSize: MainAxisSize.min,
        children: &amp;lt;Widget&amp;gt;[
          Container(
              height: _sizeAnimation.value,
              width: _sizeAnimation.value,
              color: _colorAnimation.value),
        ],
      ),
    );
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071145209-386192354.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®åŒæ—¶åŠ¨ç”»ï¼Œåªéœ€å°†2ä¸ª&lt;code&gt;Interval&lt;/code&gt;çš„å€¼éƒ½æ”¹ä¸º&lt;code&gt;Interval(0.0, 1.0)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è±¡ä¸‹é¢çš„åœºæ™¯ï¼Œä¸€ä¸ªçº¢è‰²çš„ç›’å­ï¼ŒåŠ¨ç”»æ—¶é•¿ä¸º6ç§’ï¼Œå‰40%çš„æ—¶é—´å¤§å°ä»100-&amp;gt;200ï¼Œç„¶åä¿æŒ200ä¸å˜20%çš„æ—¶é—´ï¼Œæœ€å40%çš„æ—¶é—´å¤§å°ä»200-&amp;gt;300ï¼Œè¿™ç§æ•ˆæœé€šè¿‡TweenSequenceå®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;_animation = TweenSequence([
  TweenSequenceItem(
      tween: Tween(begin: 100.0, end: 200.0)
          .chain(CurveTween(curve: Curves.easeIn)),
      weight: 40),
  TweenSequenceItem(tween: ConstantTween&amp;lt;double&amp;gt;(200.0), weight: 20),
  TweenSequenceItem(tween: Tween(begin: 200.0, end: 300.0), weight: 40),
]).animate(_animationController);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;weight&lt;/code&gt;è¡¨ç¤ºæ¯ä¸€ä¸ªTweençš„æƒé‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071146255-1549193890.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å…±äº«åŠ¨ç”»&quot;&gt;å…±äº«åŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;Heroæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„è¿‡æ¸¡åŠ¨ç”»ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ä¸€å¼ å›¾ç‰‡ï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªé¡µé¢æ—¶ï¼Œè¿™ä¸ªé¡µé¢ä¹Ÿæœ‰æ­¤å›¾ï¼Œé‚£ä¹ˆä½¿ç”¨Heroç»„ä»¶å°±åœ¨åˆé€‚ä¸è¿‡äº†ï¼Œå…ˆçœ‹ä¸‹Heroçš„æ•ˆæœå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071148436-323685068.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æ•ˆæœå®ç°çš„åˆ—è¡¨é¡µé¢ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class HeroDemo extends StatefulWidget {
  @override
  State&amp;lt;StatefulWidget&amp;gt; createState() =&amp;gt; _HeroDemo();
}

class _HeroDemo extends State&amp;lt;HeroDemo&amp;gt; {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: GridView(
        gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 3, crossAxisSpacing: 5, mainAxisSpacing: 3),
        children: List.generate(10, (index) {
          if (index == 6) {
            return InkWell(
              onTap: () {
                Navigator.push(
                    context,
                    new MaterialPageRoute(
                        builder: (context) =&amp;gt; new _Hero1Demo()));
              },
              child: Hero(
                tag: 'hero',
                child: Container(
                  child: Image.asset(
                    'images/bird.png',
                    fit: BoxFit.fitWidth,
                  ),
                ),
              ),
            );
          }
          return Container(
            color: Colors.red,
          );
        }),
      ),
    );
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¬¬äºŒä¸ªé¡µé¢ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class _Hero1Demo extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(),
      body: Container(
          alignment: Alignment.topCenter,
          child: Hero(
            tag: 'hero',
            child: Container(
              child: Image.asset(
                'images/bird.png',
              ),
            ),
          )),
    );
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2ä¸ªé¡µé¢éƒ½æœ‰Heroæ§ä»¶ï¼Œä¸”&lt;code&gt;tag&lt;/code&gt;å‚æ•°ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è·¯ç”±åŠ¨ç”»&quot;&gt;è·¯ç”±åŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;è½¬åœº&lt;/strong&gt; å°±æ˜¯ä»å½“å‰é¡µé¢è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œè·³è½¬é¡µé¢åœ¨ Flutter ä¸­é€šè¿‡ Navigatorï¼Œè·³è½¬åˆ°æ–°é¡µé¢å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Navigator.push(context, MaterialPageRoute(builder: (context) {
  return _TwoPage();
}));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å›é€€åˆ°å‰ä¸€ä¸ªé¡µé¢ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Navigator.pop(context);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Flutter æä¾›äº†ä¸¤ä¸ªè½¬åœºåŠ¨ç”»ï¼Œåˆ†åˆ«ä¸º &lt;strong&gt;MaterialPageRoute&lt;/strong&gt; å’Œ &lt;strong&gt;CupertinoPageRoute&lt;/strong&gt;ï¼ŒMaterialPageRoute æ ¹æ®ä¸åŒçš„å¹³å°æ˜¾ç¤ºä¸åŒçš„æ•ˆæœï¼ŒAndroidæ•ˆæœä¸ºä»ä¸‹åˆ°ä¸Šï¼ŒiOSæ•ˆæœä¸ºä»å·¦åˆ°å³ã€‚CupertinoPageRoute ä¸åˆ†å¹³å°ï¼Œéƒ½æ˜¯ä»å·¦åˆ°å³ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ MaterialPageRoute æ¡ˆä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class NavigationAnimation extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(),
      body: Center(
        child: OutlineButton(
          child: Text('è·³è½¬'),
          onPressed: () {
            Navigator.push(context, CupertinoPageRoute(builder: (context) {
              return _TwoPage();
            }));
          },
        ),
      ),
    );
  }
}

class _TwoPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(),
      body: Container(
        color: Colors.blue,
      ),
    );
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;iOSæ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071149056-1018134331.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»å¦‚ä½•åšï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰ä»»ä½•ç»„ä»¶éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœç³»ç»Ÿæœ‰ç±»ä¼¼çš„ï¼Œç›´æ¥çœ‹æºä»£ç æ˜¯å¦‚ä½•å®ç°çš„ï¼Œç„¶åæŒ‰ç…§å®ƒçš„æ¨¡ç‰ˆè‡ªå®šä¹‰ç»„ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å›åˆ°æ­£é¢˜ï¼Œçœ‹ MaterialPageRoute çš„ç»§æ‰¿å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071149446-1782814440.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;PageRoute çš„ç»§æ‰¿å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071149597-1296153496.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;MaterialPageRoute å’Œ CupertinoPageRoute éƒ½æ˜¯ç»§æ‰¿PageRouteï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯ PageRouteï¼ŒPageRoute æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶å­ç±»è¿˜æœ‰ä¸€ä¸ª PageRouteBuilderï¼Œçœ‹å…¶åå­—å°±çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå¯ä»¥è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœï¼ŒPageRouteBuilderæºä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071149835-1955910718.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pageBuilder&lt;/code&gt; è¡¨ç¤ºè·³è½¬çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;transitionsBuilder&lt;/code&gt; è¡¨ç¤ºé¡µé¢çš„åŠ¨ç”»æ•ˆæœï¼Œé»˜è®¤å€¼ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Widget _defaultTransitionsBuilder(BuildContext context, Animation&amp;lt;double&amp;gt; animation, Animation&amp;lt;double&amp;gt; secondaryAnimation, Widget child) {
  return child;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡æºä»£ç å‘ç°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰åŠ¨ç”»æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»åªéœ€ä¿®æ”¹&lt;code&gt;transitionsBuilder&lt;/code&gt;å³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Navigator.push(
    context,
    PageRouteBuilder(pageBuilder: (
      BuildContext context,
      Animation&amp;lt;double&amp;gt; animation,
      Animation&amp;lt;double&amp;gt; secondaryAnimation,
    ) {
      return _TwoPage();
    }, transitionsBuilder: (BuildContext context,
        Animation&amp;lt;double&amp;gt; animation,
        Animation&amp;lt;double&amp;gt; secondaryAnimation,
        Widget child) {
      return SlideTransition(
        position: Tween(begin: Offset(-1, 0), end: Offset(0, 0))
            .animate(animation),
        child: child,
      );
    }));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071150161-522688008.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å°†å…¶å°è£…ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class LeftToRightPageRoute extends PageRouteBuilder {
  final Widget newPage;

  LeftToRightPageRoute(this.newPage)
      : super(
          pageBuilder: (
            BuildContext context,
            Animation&amp;lt;double&amp;gt; animation,
            Animation&amp;lt;double&amp;gt; secondaryAnimation,
          ) =&amp;gt;
              newPage,
          transitionsBuilder: (
            BuildContext context,
            Animation&amp;lt;double&amp;gt; animation,
            Animation&amp;lt;double&amp;gt; secondaryAnimation,
            Widget child,
          ) =&amp;gt;
              SlideTransition(
            position: Tween(begin: Offset(-1, 0), end: Offset(0, 0))
                .animate(animation),
            child: child,
          ),
        );
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Navigator.push(context, LeftToRightPageRoute(_TwoPage()));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸ä»…æ˜¯è¿™äº›å¹³ç§»åŠ¨ç”»ï¼Œå‰é¢æ‰€å­¦çš„æ—‹è½¬ã€ç¼©æ”¾ç­‰åŠ¨ç”»ç›´æ¥æ›¿æ¢ SlideTransition å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„åŠ¨ç”»åªå¯¹æ–°çš„é¡µé¢è¿›è¡Œäº†åŠ¨ç”»ï¼Œå¦‚æœæƒ³å®ç°å½“å‰é¡µé¢è¢«æ–°é¡µé¢ä»é¡¶éƒ¨é¡¶å‡ºçš„æ•ˆæœï¼Œå®ç°æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class CustomPageRoute extends PageRouteBuilder {
  final Widget currentPage;
  final Widget newPage;

  CustomPageRoute(this.currentPage, this.newPage)
      : super(
          pageBuilder: (
            BuildContext context,
            Animation&amp;lt;double&amp;gt; animation,
            Animation&amp;lt;double&amp;gt; secondaryAnimation,
          ) =&amp;gt;
              currentPage,
          transitionsBuilder: (
            BuildContext context,
            Animation&amp;lt;double&amp;gt; animation,
            Animation&amp;lt;double&amp;gt; secondaryAnimation,
            Widget child,
          ) =&amp;gt;
              Stack(
            children: &amp;lt;Widget&amp;gt;[
              SlideTransition(
                position: new Tween&amp;lt;Offset&amp;gt;(
                  begin: const Offset(0, 0),
                  end: const Offset(0, -1),
                ).animate(animation),
                child: currentPage,
              ),
              SlideTransition(
                position: new Tween&amp;lt;Offset&amp;gt;(
                  begin: const Offset(0, 1),
                  end: Offset(0, 0),
                ).animate(animation),
                child: newPage,
              )
            ],
          ),
        );
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ¬è´¨å°±æ˜¯å¯¹ä¸¤ä¸ªé¡µé¢åšåŠ¨ç”»å¤„ç†ï¼Œä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;Navigator.push(context, CustomPageRoute(this, _TwoPage()));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071150717-1812373299.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†è‡ªå®šä¹‰è·¯ç”±åŠ¨ç”»ï¼Œåœ¨ Flutter 1.17 å‘å¸ƒå¤§ä¼šä¸Šï¼ŒFlutter å›¢é˜Ÿè¿˜å‘å¸ƒäº†æ–°çš„ Animations è½¯ä»¶åŒ…ï¼Œè¯¥è½¯ä»¶åŒ…æä¾›äº†å®ç°æ–°çš„ Material motion è§„èŒƒçš„é¢„æ„å»ºåŠ¨ç”»ã€‚&lt;/p&gt;
&lt;p&gt;é‡Œé¢æä¾›äº†ä¸€ç³»åˆ—åŠ¨ç”»ï¼Œéƒ¨åˆ†æ•ˆæœï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071151541-599668591.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071152479-1788130857.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯¦æƒ…ï¼š&lt;a href=&quot;https://juejin.im/post/6847902223909781511&quot;&gt;https://juejin.im/post/6847902223909781511&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;äº¤æµ&quot;&gt;äº¤æµ&lt;/h2&gt;
&lt;p&gt;è€å­ŸFlutteråšå®¢åœ°å€ï¼ˆ330ä¸ªæ§ä»¶ç”¨æ³•ï¼‰ï¼š&lt;a href=&quot;http://laomengit.com&quot;&gt;http://laomengit.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿åŠ å…¥Flutteräº¤æµç¾¤ï¼ˆå¾®ä¿¡ï¼šlaomengitï¼‰ã€å…³æ³¨å…¬ä¼—å·ã€è€å­ŸFlutterã€‘ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th/&gt;
&lt;th/&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071153666-1076309963.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200825071153890-28326395.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</description>
<pubDate>Mon, 24 Aug 2020 23:12:00 +0000</pubDate>
<dc:creator>è€å­ŸFlutter</dc:creator>
<og:description>è€å­Ÿå¯¼è¯»ï¼šæ­¤ç¯‡æ–‡ç« æ˜¯ Flutter åŠ¨ç”»ç³»åˆ—æ–‡ç« ç¬¬å››ç¯‡ï¼Œæœ¬æ–‡ä»‹ç»åŠ¨ç”»åºåˆ—ã€å…±äº«åŠ¨ç”»ã€è·¯ç”±åŠ¨ç”»ã€‚ åŠ¨ç”»åºåˆ— Flutterä¸­ç»„åˆåŠ¨ç”»ä½¿ç”¨Intervalï¼ŒIntervalç»§æ‰¿è‡ªCurveï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mengqd/p/13557663.html</dc:identifier>
</item>
<item>
<title>å®Œç¾è§£å†³æ–¹æ¡ˆ-é›ªèŠ±ç®—æ³•IDåˆ°å‰ç«¯ä¹‹åç²¾åº¦ä¸¢å¤±é—®é¢˜ - å­—æ¯å“¥åšå®¢</title>
<link>http://www.cnblogs.com/zimug/p/13557662.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zimug/p/13557662.html</guid>
<description>&lt;p&gt;æœ€è¿‘å…¬å¸çš„ä¸€ä¸ªé¡¹ç›®ç»„è¦æŠŠä»¥å‰çš„å•ä½“åº”ç”¨è¿›è¡Œä¸ºæœåŠ¡æ‹†åˆ†ï¼Œè¡¨çš„IDä¸»é”®ä½¿ç”¨Mybatis plusé»˜è®¤ çš„é›ªèŠ±ç®—æ³•æ¥ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;å¿«ä¸‹ç­çš„æ—¶å€™ï¼Œå°ä¼™ä¼´è·‘è¿‡æ¥æ‰¾æˆ‘ï¼Œï¼šâ€œå¿«ç»™æˆ‘çœ‹çœ‹è¿™é—®é¢˜ï¼Œå¡è¿™å¡äº†å°åŠå¤©äº†ï¼â€ã€‚è¿æ‹‰å¸¦æ‹½ï¼Œè¿å“„å¸¦éª—çš„æŠŠæˆ‘æ‹‰åˆ°ä»–çš„ç”µè„‘å‰é¢ã€‚è¿™ä½å°ä¼™ä¼´åœ¨æˆ‘çœ‹æ¥æŠ€æœ¯ä¸ç®—æ˜¯å¤§ç‰›ï¼Œä½†ç»éªŒä¹Ÿå¾ˆä¸°å¯Œäº†ã€‚ä»–éƒ½å¡äº†åŠå¤©çš„é—®é¢˜ï¼Œåº”è¯¥ä¸æ˜¯å°é—®é¢˜ï¼Œå¦‚æœæˆ‘ä¸€æ—¶åŠä¼šæä¸å®šï¼ŒçœŸçš„æ˜¯è€½è¯¯æˆ‘ä¸‹ç­äº†ï¼Œæ‰€ä»¥æˆ‘å¾ˆä¸æƒ…æ„¿çš„åœ¨ä»–çš„ä½ç½®åäº†ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€ç°è±¡æ˜¯è¿™æ ·çš„&quot;&gt;ä¸€ã€ç°è±¡æ˜¯è¿™æ ·çš„&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æˆ‘æŠŠå¼‚å¸¸çš„ç°è±¡ç»™å¤§å®¶æè¿°ä¸€ä¸‹ï¼Œå°ä¼™ä¼´å»ºäº†ä¸€å¼ è¡¨ï¼Œè¡¨çš„ä¸»é”®æ˜¯id BigINTï¼Œç”¨æ¥å­˜å‚¨é›ªèŠ±ç®—æ³•ç”Ÿæˆçš„IDï¼Œå—¯ï¼Œè¿™ä¸ªæ²¡æœ‰é—®é¢˜ï¼&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CREATE TABLE user
(
        id BIGINT(20) NOT NULL COMMENT 'ä¸»é”®ID',
        #å…¶ä»–å­—æ®µçœç•¥
);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨Long ç±»å‹å¯¹åº”æ•°æ®åº“IDæ•°æ®ã€‚å—¯ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œé›ªèŠ±ç®—æ³•ç”Ÿæˆçš„å°±æ˜¯ä¸€ä¸²æ•°å­—ï¼ŒLongç±»å‹å±äºæ ‡å‡†ç­”æ¡ˆï¼&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Data
public class User {
    private Long id;
//å…¶ä»–æˆå‘˜å˜é‡çœç•¥
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨åç«¯ä¸‹æ–­ç‚¹ã€‚çœ‹åˆ°æ•°æ®å“åº”ä»¥JSONå“åº”ç»™å‰ç«¯ï¼Œæ­£å¸¸&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;{
idï¼š1297873308628307970,
//å…¶ä»–å±æ€§çœç•¥
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åï¼Œè¿™æ¡æ•°æ®è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯æ¥æ”¶åˆ°ä¹‹åï¼Œä¿®æ”¹è¿™æ¡æ•°æ®ï¼Œåç«¯å†æ¬¡æ¥æ”¶å›æ¥ã€‚å¥‡æ€ªçš„é—®é¢˜å‡ºç°äº†ï¼š&lt;strong&gt;åç«¯é‡æ–°æ¥æ”¶å›æ¥çš„idå˜æˆäº†ï¼š12978733086283000000ï¼Œä¸å†æ˜¯1297873308628307970&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;äºŒã€åˆ†æé—®é¢˜&quot;&gt;äºŒã€åˆ†æé—®é¢˜&lt;/h2&gt;
&lt;p&gt;æˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰æ˜¯ï¼Œå¼€å‘å°ä¼™ä¼´æŠŠæ•°æ®ç»™ææ··äº†ï¼Œå¼ å† ææˆ´äº†ï¼ŒæŠŠXXXçš„å¯¹è±¡IDæ”¾åˆ°äº†YYYå¯¹è±¡çš„IDä¸Šã€‚æ‰€ä»¥ï¼Œå°±æŒ‰ç…§ä»£ç ä»å‰ç«¯åˆ°åç«¯ã€ä»åç«¯åˆ°å‰ç«¯è°ƒè¯•è·Ÿè¸ªäº†ä¸€éã€‚&lt;/p&gt;
&lt;p&gt;ä»ä»£ç çš„é€»è¾‘è§’åº¦ä¸Šæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚è¿™æ—¶ï¼Œæˆ‘æœ‰ç‚¹çƒ¦èºäº†ï¼ŒçœŸçš„æ˜¯è€½è¯¯æˆ‘ä¸‹ç­äº†ï¼ä½†å¼€å·¥æ²¡æœ‰å›å¤´ç®­ï¼Œæ—¢ç„¶åä¸‹æ¥äº†å°±å¾—å¸®ä»–è§£å†³ï¼Œä¸ç„¶ä»¥åè¿™é˜Ÿä¼æ€ä¹ˆå¸¦ï¼Ÿæƒ³åˆ°è¿™æˆ‘åˆé™ä¸‹å¿ƒæ¥ï¼Œå¼€å§‹æ€è€ƒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;1297873308628300000 ---&amp;gt; 1297873308628307970
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ•°é•¿å¾—è¿˜æŒºåƒçš„ï¼Œä¼¼ä¹æ˜¯è¢«å››èˆäº”å…¥äº†ã€‚æ­¤æ—¶è„‘è¢‹é‡Œé¢å†’å‡ºä¸€ä¸ªæƒ³æ³•ï¼Œæ˜¯ç²¾åº¦ä¸¢å¤±äº†ä¹ˆï¼Ÿå“ªé‡Œèƒ½å¯¼è‡´ç²¾åº¦ä¸¢å¤±ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æœåŠ¡ç«¯éƒ½æ˜¯Longç±»å‹çš„idï¼Œä¸å¯èƒ½ä¸¢å¤±&lt;/li&gt;
&lt;li&gt;å‰ç«¯æ˜¯ä»€ä¹ˆç±»å‹ï¼ŒJSONå­—ç¬¦ä¸²è½¬jså¯¹è±¡ï¼Œæ¥æ”¶Longç±»å‹çš„æ˜¯number&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹Numberç²¾åº¦æ˜¯16ä½ï¼ˆé›ªèŠ±IDæ˜¯19ä½çš„ï¼‰ï¼ŒSoï¼šJSçš„Numberæ•°æ®ç±»å‹å¯¼è‡´çš„ç²¾åº¦ä¸¢å¤±ã€‚é—®é¢˜æ˜¯æ‰¾åˆ°äº†ï¼&lt;br/&gt;å°ä¼™ä¼´æŠ•æ¥æ•¬ä½©çš„çœ¼å…‰ï¼Œ5åˆ†é’Ÿå°±æŠŠè¿™é—®é¢˜å‘ç°äº†ã€‚å¯æ˜¯å‘ç°äº†æœ‰ä»€ä¹ˆç”¨ï¼Ÿå¾—è§£å†³é—®é¢˜å•Šï¼&lt;/p&gt;
&lt;h2 id=&quot;ä¸‰ã€è§£å†³é—®é¢˜&quot;&gt;ä¸‰ã€è§£å†³é—®é¢˜&lt;/h2&gt;
&lt;p&gt;å¼€å‘å°ä¼™ä¼´è¯´ï¼šé‚£æˆ‘æŠŠæ‰€æœ‰çš„æ•°æ®åº“è¡¨è®¾è®¡ï¼Œidå­—æ®µç”±Longç±»å‹æ”¹æˆStringç±»å‹å§ã€‚æˆ‘é—®ä»–ä½ æœ‰å¤šå°‘å¼ è¡¨ï¼Ÿä»–è¯´100å¤šå¼ å§ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;100å¤šå¼ è¡¨è¿˜æœ‰100å¤šä¸ªå®ä½“ç±»éœ€è¦æ”¹&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰å„ç§ä½¿ç”¨åˆ°å®ä½“ç±»çš„Serviceå±‚è¦æ”¹&lt;/li&gt;
&lt;li&gt;Serviceç­‰æ”¹å®ŒControllerå±‚è¦æ”¹&lt;/li&gt;
&lt;li&gt;å…³é”®çš„æ˜¯Stringå’ŒLongéƒ½æ˜¯å¸¸ç”¨ç±»å‹ï¼Œä»–è¿˜ä¸æ•¢æ‰¹é‡æ›¿æ¢&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å°ä¼™ä¼´æ‹¿èµ·ç”µè¯æ‰“ç®—è®¢é¤ï¼Œè¯´ä»Šæ™šçš„åŠ ç­æ˜¯æ— æ³•é¿å…äº†ã€‚æˆ‘æƒ³äº†æƒ³è¯´ï¼šä½ æœ€å¥½åˆ«æ”¹ï¼Œ&lt;strong&gt;StringåšIDæŸ¥è¯¢æ€§èƒ½ä¼šä¸‹é™&lt;/strong&gt;ï¼Œæˆ‘å†æƒ³æƒ³ï¼åç«¯Aåˆ°å‰ç«¯Bå‡ºç°ç²¾åº¦ä¸¢å¤±ï¼Œè¦ä¹ˆæ”¹å‰ç«¯ï¼Œè¦ä¹ˆæ”¹åç«¯ï¼Œè¦ä¹ˆâ€¦â€¦ ã€‚â€œå“å“ï¼Œä½ ç­‰ç­‰å…ˆåˆ«è®¢é¤ï¼Œåç«¯Aåˆ°å‰ç«¯Bä½ ç”¨çš„ä»€ä¹ˆåšçš„åºåˆ—åŒ–ï¼Ÿâ€ å°ä¼™ä¼´å‘Šè¯‰æˆ‘è¯´ä½¿ç”¨çš„æ˜¯Jacksonï¼Œè¿™å°±å¥½åŠäº†ï¼ŒJacksonæˆ‘ç†Ÿæ‚‰å•Šï¼&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;è§£å†³æ€è·¯ï¼šåç«¯çš„ID(Long) ==&amp;gt; Jackson(Longè½¬String) ==&amp;gt; å‰ç«¯ä½¿ç”¨Stringç±»å‹çš„ID,å‰ç«¯ä½¿ç”¨js stringç²¾åº¦å°±ä¸ä¼šä¸¢å¤±äº†ã€‚&lt;/strong&gt; é‚£å‰ç«¯å†æŠŠStringç±»å‹çš„19ä½æ•°å­—ä¼ å›æœåŠ¡ç«¯çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨Longæ¥æ”¶ä¹ˆï¼Ÿå½“ç„¶å¯ä»¥ï¼Œè¿™æ˜¯Springååºåˆ—åŒ–å‚æ•°æ¥æ”¶é»˜è®¤æ”¯æŒçš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;æœ€ç»ˆæ–¹æ¡ˆå°±æ˜¯ï¼š&lt;strong&gt;å‰ç«¯ç”¨Stringç±»å‹çš„é›ªèŠ±IDä¿æŒç²¾åº¦ï¼Œåç«¯åŠæ•°æ®åº“ç»§ç»­ä½¿ç”¨Long(BigINT)ç±»å‹ä¸å½±å“æ•°æ®åº“æŸ¥è¯¢æ‰§è¡Œæ•ˆç‡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‰©ä¸‹çš„é—®é¢˜å°±æ˜¯ï¼šåœ¨Spring Bootåº”ç”¨ä¸­ï¼Œä½¿ç”¨Jacksonè¿›è¡ŒJSONåºåˆ—åŒ–çš„æ—¶å€™æ€ä¹ˆå°†Longç±»å‹IDè½¬æˆStringå“åº”ç»™å‰ç«¯ã€‚æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Configuration
public class JacksonConfig {

  @Bean
  @Primary
  @ConditionalOnMissingBean(ObjectMapper.class)
  public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder)
  {
    ObjectMapper objectMapper = builder.createXmlMapper(false).build();

    // å…¨å±€é…ç½®åºåˆ—åŒ–è¿”å› JSON å¤„ç†
    SimpleModule simpleModule = new SimpleModule();
    //JSON Long ==&amp;gt; String
    simpleModule.addSerializer(Long.class, ToStringSerializer.instance);
    objectMapper.registerModule(simpleModule);
    return objectMapper;
  }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°ä¼™ä¼´æ”¾ä¸‹ç”µè¯ï¼Œ å†æ¬¡æŠ•æ¥æ•¬ä½©çœ¼å…‰ã€‚â€œèµ°å§ï¼Œä¸€èµ·ä¸‹ç­ï¼â€æˆ‘å’Œå°ä¼™ä¼´è¯´ï¼Œå°ä¼™ä¼´ä¸€è·¯ä¸Šä¸€ç›´é—®æˆ‘ä½ æ˜¯æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿæˆ‘å† å†•å ‚çš‡çš„è¯´äº†ä¸€äº›å¤šæƒ³å¤šå­¦å¤šé—®ä¹‹ç±»çš„è¯ã€‚&lt;br/&gt;å…¶å®æˆ‘å¿ƒé‡Œåœ¨æƒ³ï¼šæˆ‘æ˜¯ä¸€ä¸ªæ‡’äººï¼Œä½†æˆ‘ä¸èƒ½è¯´ã€‚èƒ½èººç€ç»ä¸åç€ï¼Œèƒ½è‡ªåŠ¨ç»ä¸æ‰‹åŠ¨ï¼Œèƒ½æ‰“è½¦ç»ä¸è‡ªå·±å¼€è½¦ã€‚ç¬¬ä¸€æ¬¡å°±æŠŠäº‹æƒ…åšå¯¹ï¼Œæ‰æ˜¯çœæ—¶çœåŠ›åšå¥½çš„æ–¹æ³•ï¼è¿™ä¹ˆå¤šå¹´çš„â€œæ‡’â€ï¼Œå†³å®šäº†æˆ‘éœ€è¦å»æ€è€ƒæ›´å¤šçš„â€œæ·å¾„â€ï¼Œæ€è€ƒâ€œæ·å¾„â€çš„è¿‡ç¨‹æ˜¯æˆ‘ä¸æ–­è¿›é˜¶çš„è¯€çªï¼&lt;br/&gt;&lt;strong&gt;å‹¤å¥‹çš„äººæ˜¯ç¤¾ä¼šçš„ç”Ÿäº§åŠ›ï¼Œè€Œæ‡’äººæ˜¯ç¤¾ä¼šçš„åˆ›é€ åŠ›ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&quot;&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;æœ¬æ–‡è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ˆå¿…é¡»å¸¦è¿æ¥ï¼Œä¸èƒ½åªè½¬æ–‡å­—ï¼‰ï¼š&lt;a href=&quot;http://www.zimug.com&quot;&gt;å­—æ¯å“¥åšå®¢&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;è§‰å¾—å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¸®æˆ‘ç‚¹èµã€åˆ†äº«ï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä¸ç«­çš„åˆ›ä½œåŠ¨åŠ›ï¼&lt;/strong&gt; ã€‚å¦å¤–ï¼Œç¬”è€…æœ€è¿‘ä¸€æ®µæ—¶é—´è¾“å‡ºäº†å¦‚ä¸‹çš„ç²¾å“å†…å®¹ï¼ŒæœŸå¾…æ‚¨çš„å…³æ³¨ã€‚&lt;/p&gt;
</description>
<pubDate>Mon, 24 Aug 2020 23:11:00 +0000</pubDate>
<dc:creator>å­—æ¯å“¥åšå®¢</dc:creator>
<og:description>æœ€è¿‘å…¬å¸çš„ä¸€ä¸ªé¡¹ç›®ç»„è¦æŠŠä»¥å‰çš„å•ä½“åº”ç”¨è¿›è¡Œä¸ºæœåŠ¡æ‹†åˆ†ï¼Œè¡¨çš„IDä¸»é”®ä½¿ç”¨Mybatis plusé»˜è®¤ çš„é›ªèŠ±ç®—æ³•æ¥ç”Ÿæˆã€‚ å¿«ä¸‹ç­çš„æ—¶å€™ï¼Œå°ä¼™ä¼´è·‘è¿‡æ¥æ‰¾æˆ‘ï¼Œï¼šâ€œå¿«ç»™æˆ‘çœ‹çœ‹è¿™é—®é¢˜ï¼Œå¡è¿™å¡äº†å°åŠå¤©äº†ï¼â€ã€‚è¿æ‹‰</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/zimug/p/13557662.html</dc:identifier>
</item>
<item>
<title>æ•°æ®ç»“æ„å’Œç®—æ³•èº¬è¡Œè®°ï¼ˆ1ï¼‰â€”â€”é“¾è¡¨ - å’–å•¡æœºï¼ˆK.F.Jï¼‰</title>
<link>http://www.cnblogs.com/strick/p/13344157.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/strick/p/13344157.html</guid>
<description>&lt;p&gt;ã€€ã€€é“¾è¡¨ï¼ˆLinked Listï¼‰æ˜¯ä¸åŒäºæ•°ç»„çš„å¦ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒçš„å­˜å‚¨å•å…ƒï¼ˆå³ç»“ç‚¹æˆ–å…ƒç´ ï¼‰é™¤äº†åŒ…å«ä»»æ„ç±»å‹çš„æ•°æ®ä¹‹å¤–ï¼Œè¿˜éœ€è¦åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œåæ–‡ä¼šç”¨æœ¯è¯­é“¾æ¥è¡¨ç¤ºå¯¹ç»“ç‚¹çš„å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢ä¼šåˆ—å‡ºé“¾è¡¨ä¸æ•°ç»„çš„å…·ä½“ä¸åŒï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ1ï¼‰æ•°ç»„éœ€è¦ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨ï¼›è€Œé“¾è¡¨åˆ™æ°æ°ç›¸åï¼Œé€šè¿‡æŒ‡é’ˆå°†é›¶æ•£çš„å†…å­˜ä¸²è”åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ2ï¼‰æ•°ç»„åœ¨æ’å…¥å’Œåˆ é™¤æ—¶ï¼Œä¼šåšæ•°æ®æ¬ç§»ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼›è€Œé“¾è¡¨åªéœ€è€ƒè™‘ç›¸é‚»ç»“ç‚¹çš„æŒ‡é’ˆå˜åŒ–ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ3ï¼‰å½“éšæœºè®¿é—®ç¬¬ K ä¸ªå…ƒç´ æ—¶ï¼Œæ•°æ®å¯æ ¹æ®é¦–åœ°å€å’Œç´¢å¼•è®¡ç®—å‡ºå¯¹åº”çš„å†…å­˜åœ°å€ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼›è€Œé“¾è¡¨åˆ™éœ€è¦è®©æŒ‡é’ˆä¾æ¬¡éå†é“¾æ¥çš„ç»“ç‚¹ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€æœ¬ç³»åˆ—ä¸­é¢è¯•ä¾‹é¢˜æ¥æºäº&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problemset/all/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;LeetCode&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€ã€Š&lt;span&gt;&lt;a href=&quot;https://book.douban.com/subject/27008702/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å‰‘æŒ‡Offer&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‹ç­‰æ¸ é“ã€‚åƒä¸‹é¢è¿™æ ·ä»¥â€œé¢è¯•é¢˜â€ä¸ºå‰ç¼€çš„é¢˜ç›®ï¼Œå…¶è§£æ³•å¤§éƒ½æ¥æºäºã€Šå‰‘æŒ‡Offerã€‹ä¸€ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢è¯•é¢˜5 &lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;æ›¿æ¢ç©ºæ ¼&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚åˆå¹¶æ•°ç»„ï¼Œä»åå¾€å‰åˆå¹¶ï¼Œå‡å°‘æ•°å­—ç§»åŠ¨æ¬¡æ•°ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€é“¾è¡¨åŒ…å«ä¸‰ç§æœ€å¸¸è§çš„é“¾è¡¨ç»“æ„ï¼šå•é“¾è¡¨ã€åŒå‘é“¾è¡¨å’Œå¾ªç¯é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ï¼‰å•é“¾è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å•é“¾è¡¨çš„ç»“ç‚¹ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­nextæ˜¯åç»§æŒ‡é’ˆï¼Œå¯é“¾æ¥ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class Node {
  constructor(key&lt;/span&gt;=&lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.next = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.key =&lt;span&gt; key;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€è€Œå•é“¾è¡¨åˆå¯ä»¥ç»†åˆ†ä¸ºæœ‰å¤´ç»“ç‚¹çš„å•é“¾è¡¨å’Œæ— å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼Œå…¶ä¸­å¤´ç»“ç‚¹ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œå¦‚ä¸‹å›¾1æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202007/211606-20200720130315179-1666548122.png&quot; width=&quot;500&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å›¾ 1&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢ä»¥æœ‰å¤´ç»“ç‚¹çš„&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/GRoYevm&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å•é“¾è¡¨ä¸ºä¾‹&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ï¼Œæ¼”ç¤ºå•é“¾è¡¨çš„æ’å…¥ã€éå†å’Œåˆ é™¤ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  constructor() {
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.header = &lt;span&gt;new&lt;/span&gt; Node();   &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¤´ç»“ç‚¹&lt;/span&gt;
&lt;span&gt;  }
  add(node) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ’å…¥&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next) {
      &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.header.next =&lt;span&gt; node;
      &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
    }
    let current &lt;/span&gt;= &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (current.next != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
      current &lt;/span&gt;=&lt;span&gt; current.next;
    }
    current.next &lt;/span&gt;=&lt;span&gt; node;
  }
  traverse() {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;éå†&lt;/span&gt;
    let current = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt;&lt;span&gt; (current) {
      console.log(current.key);
      current &lt;/span&gt;=&lt;span&gt; current.next;
    }
  }
  del(node) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆ é™¤&lt;/span&gt;
    let current = &lt;span&gt;this&lt;/span&gt;.header.next,     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å½“å‰ç»“ç‚¹&lt;/span&gt;
      prev = &lt;span&gt;this&lt;/span&gt;.header;               &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‰é©±ç»“ç‚¹&lt;/span&gt;
    &lt;span&gt;while&lt;/span&gt; (current !=&lt;span&gt; node) {
      current &lt;/span&gt;=&lt;span&gt; current.next;
      prev &lt;/span&gt;=&lt;span&gt; prev.next;
    }
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (current) {
      prev.next &lt;/span&gt;=&lt;span&gt; current.next;
      current.next &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€å°½ç®¡åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œä½†éå†æŸ¥æ‰¾æ˜¯ä¸»è¦çš„è€—æ—¶ç‚¹ï¼Œå¤æ‚åº¦ä¸º O(n)ã€‚å› ä¸ºåœ¨åˆ é™¤æ—¶éœ€è¦çŸ¥é“å‰é©±ç»“ç‚¹ï¼Œè€Œå•é“¾è¡¨ä¸èƒ½ç›´æ¥è¯»å–ï¼Œåªèƒ½ä»å¤´å¼€å§‹éå†ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢è¯•é¢˜6 &lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚æ¯ç»è¿‡ä¸€ä¸ªç»“ç‚¹ï¼Œå°±æ”¾åˆ°æ ˆä¸­ã€‚å½“éå†å®Œåï¼Œä»æ ˆé¡¶è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢è¯•é¢˜18 &lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;åˆ é™¤é“¾è¡¨çš„ç»“ç‚¹&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚å°†ç»“ç‚¹ j è¦†ç›–ç»“ç‚¹ iï¼Œç»“ç‚¹ i çš„nextæŒ‡é’ˆæŒ‡å‘ j çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè¿™æ ·èƒ½é¿å…è·å–ç»“ç‚¹ i çš„å‰ç½®ç»“ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢è¯•é¢˜52 &lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚åˆ†åˆ«æŠŠä¸¤ä¸ªé“¾æ¥çš„ç»“ç‚¹æ”¾å…¥ä¸¤ä¸ªæ ˆä¸­ï¼Œå°¾ç»“ç‚¹å°±æ˜¯ä¸¤ä¸ªæ ˆçš„é¡¶éƒ¨ï¼Œå¦‚æœç›¸åŒå°±æ¥ç€æ¯”è¾ƒä¸‹ä¸€ä¸ªæ ˆé¡¶ï¼Œç›´è‡³æ‰¾åˆ°æœ€åä¸€ä¸ªç›¸åŒç»“ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ï¼‰åŒå‘é“¾è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åŒå‘é“¾è¡¨é¡¾åæ€ä¹‰åŒ…å«ä¸¤ä¸ªæ–¹å‘çš„æŒ‡é’ˆï¼šå‰é©±å’Œåç»§ï¼Œç»“ç‚¹ç»“æ„å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class Node {
  constructor(key &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.prev = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.key =&lt;span&gt; key;
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.next = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€åŒå‘é“¾è¡¨æ¯”å•é“¾è¡¨è¦å æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼Œä¾æ‰˜ç”¨ç©ºé—´æ¢æ—¶é—´çš„è®¾è®¡æ€æƒ³ï¼ŒåŒå‘é“¾è¡¨è¦æ¯”å•é“¾è¡¨æ›´åŠ çš„é«˜æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¾‹å¦‚ä¹‹å‰çš„åˆ é™¤ï¼Œç”±äºå·²ç»ä¿å­˜äº†å‰é©±ç»“ç‚¹ï¼Œä¹Ÿå°±é¿å…äº†å¤šä½™çš„éå†ï¼ˆ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/ExPdMLx&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ï¼‰ã€‚å½“å¸Œæœ›åœ¨æŸä¸ªç»“ç‚¹ä¹‹å‰æ’å…¥ç»“ç‚¹ï¼ŒåŒå‘é“¾è¡¨çš„ä¼˜åŠ¿ä¹Ÿå¾ˆæ˜æ˜¾ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  add(node) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ’å…¥&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next) {
      &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.header.next =&lt;span&gt; node;
      node.prev &lt;/span&gt;= &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header;
      &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
    }
    let current &lt;/span&gt;= &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (current.next != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
      current &lt;/span&gt;=&lt;span&gt; current.next;
    }
    current.next &lt;/span&gt;=&lt;span&gt; node;
    node.prev &lt;/span&gt;=&lt;span&gt; current;
  }
  del(node) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆ é™¤&lt;/span&gt;
    let current = &lt;span&gt;this&lt;/span&gt;.header.next;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å½“å‰ç»“ç‚¹&lt;/span&gt;
    &lt;span&gt;while&lt;/span&gt; (current !=&lt;span&gt; node) {
      current &lt;/span&gt;=&lt;span&gt; current.next;
    }
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (current) {
      current.prev.next &lt;/span&gt;=&lt;span&gt; current.next;
      current.next &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3ï¼‰å¾ªç¯é“¾è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å•é“¾è¡¨ï¼Œå®ƒçš„å°¾ç»“ç‚¹çš„åç»§ç»“ç‚¹æ˜¯å¤´ç»“ç‚¹ï¼Œé€‚åˆå¤„ç†å…·æœ‰ç¯å½¢ç»“æ„çš„é—®é¢˜ï¼Œä¾‹å¦‚çº¦ç‘Ÿå¤«ç¯ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢è¯•é¢˜62 &lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ç”¨ç¯å½¢é“¾è¡¨æ¨¡æ‹Ÿåœ†åœˆï¼Œæ¯åˆ é™¤ä¸€ä¸ªæ•°å­—éœ€è¦ m æ­¥è¿ç®—ï¼Œå…±æœ‰ n ä¸ªæ•°å­—ï¼Œæ—¶é—´å¤æ‚åº¦O(mn)ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ï¼‰å•é“¾è¡¨é€†åº&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä»é“¾è¡¨çš„ç¬¬äºŒä¸ªç»“ç‚¹å¼€å§‹ï¼ŒæŠŠéå†åˆ°çš„ç»“ç‚¹æ’å…¥åˆ°å¤´ç»“ç‚¹çš„åé¢ï¼Œç›´è‡³ç»“æŸï¼Œä¾‹å¦‚headâ†’1â†’2â†’3å˜ä¸º headâ†’2â†’1â†’3ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é‡‡ç”¨é€’å½’çš„æ–¹å¼å®Œæˆå•é“¾è¡¨çš„é€†åºï¼Œ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/WNrammY&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ä¾‹é¢˜ï¼šLeetCodeçš„&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/reverse-linked-list/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;206. åè½¬é“¾è¡¨&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  reverse() {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;é€†åº&lt;/span&gt;
    &lt;span&gt;this&lt;/span&gt;.recursive(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next);
  }
  recursive(node) {
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (!node) &lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
    const current &lt;/span&gt;=&lt;span&gt; node,
      next &lt;/span&gt;=&lt;span&gt; current.next;
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;next) {
      &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¤´ç»“ç‚¹æŒ‡å‘é€†åºåé“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹&lt;/span&gt;
      &lt;span&gt;this&lt;/span&gt;.header.next =&lt;span&gt; current;
      &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.recursive(next);
    &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;***********************************
    * ç§»åŠ¨ç»“ç‚¹
    * ä¾‹å¦‚Node(2).next.nextå°±æ˜¯Node(3)
    * å·§å¦™çš„å°†Node(3).nexté“¾æ¥ä¸ºNode(2)
    ***********************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    current.next.next &lt;/span&gt;=&lt;span&gt; current;
    current.next &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ï¼‰é“¾è¡¨ä¸­ç¯çš„æ£€æµ‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¬ä¸€ç§æ€è·¯æ˜¯ç¼“å­˜æ¯ä¸ªç»è¿‡çš„ç»“ç‚¹ï¼Œæ¯åˆ°ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œå°±åˆ¤æ–­å½“å‰åºåˆ—ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±è¯´æ˜è®¿é—®è¿‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¬äºŒç§æ€è·¯æ˜¯ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡å‰ç§»ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡å‰ç§»ä¸€æ­¥ï¼Œå½“ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ç›¸åŒç»“ç‚¹æ—¶ï¼Œå°±è¯æ˜æœ‰ç¯ï¼Œå¦åˆ™å°±æ²¡æœ‰ç¯ï¼Œ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/VweENWQ&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ä¾‹é¢˜ï¼šLeetCodeçš„&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/linked-list-cycle/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;141. ç¯å½¢é“¾è¡¨&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  isLoop() {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ£€æµ‹ç¯&lt;/span&gt;
    let fast = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next,
      slow &lt;/span&gt;= &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (fast &amp;amp;&amp;amp;&lt;span&gt; fast.next) {
      slow &lt;/span&gt;=&lt;span&gt; slow.next;
      fast &lt;/span&gt;=&lt;span&gt; fast.next.next;
      &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (slow == fast) &lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3ï¼‰åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç”¨ä¸¤ä¸ªæŒ‡é’ˆéå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå¦‚æœhead1æŒ‡å‘çš„æ•°æ®å°äºhead2çš„ï¼Œåˆ™å°†head1æŒ‡å‘çš„ç»“ç‚¹å½’å…¥åˆå¹¶åçš„é“¾è¡¨ä¸­ï¼Œå¦åˆ™ç”¨head2çš„ï¼Œ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/bGEmJMP&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ä¾‹é¢˜ï¼šLeetCodeçš„&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/merge-two-sorted-lists/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; merge(head1, head2) {
  let cur1 &lt;/span&gt;=&lt;span&gt; head1.next,
    cur2 &lt;/span&gt;=&lt;span&gt; head2.next,
    cur &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;,         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆå¹¶åçš„å°¾ç»“ç‚¹&lt;/span&gt;
    head = &lt;span&gt;null&lt;/span&gt;;        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆå¹¶åçš„å¤´ç»“ç‚¹&lt;/span&gt;
  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆå¹¶åé“¾è¡¨çš„å¤´ç»“ç‚¹ä¸ºç¬¬ä¸€ä¸ªç»“ç‚¹å…ƒç´ æœ€å°çš„é‚£ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹&lt;/span&gt;
  &lt;span&gt;if&lt;/span&gt; (cur1.key &amp;gt;&lt;span&gt; cur2.key) {
    head &lt;/span&gt;=&lt;span&gt; head2;
    cur &lt;/span&gt;=&lt;span&gt; cur2;
    cur2 &lt;/span&gt;=&lt;span&gt; cur2.next;
  } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
    head &lt;/span&gt;=&lt;span&gt; head1;
    cur &lt;/span&gt;=&lt;span&gt; cur1;
    cur1 &lt;/span&gt;=&lt;span&gt; cur1.next;
  }
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ¯æ¬¡æ‰¾é“¾è¡¨å‰©ä½™ç»“ç‚¹çš„æœ€å°å€¼å¯¹åº”çš„ç»“ç‚¹è¿æ¥åˆ°åˆå¹¶åé“¾è¡¨çš„å°¾éƒ¨&lt;/span&gt;
  &lt;span&gt;while&lt;/span&gt; (cur1 &amp;amp;&amp;amp;&lt;span&gt; cur2) {
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (cur1.key &amp;gt;&lt;span&gt; cur2.key) {
      cur.next &lt;/span&gt;=&lt;span&gt; cur2;
      cur &lt;/span&gt;=&lt;span&gt; cur2;
      cur2 &lt;/span&gt;=&lt;span&gt; cur2.next;
    } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
      cur.next &lt;/span&gt;=&lt;span&gt; cur1;
      cur &lt;/span&gt;=&lt;span&gt; cur1;
      cur1 &lt;/span&gt;=&lt;span&gt; cur1.next;
    }
  }
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å½“éå†å®Œä¸€ä¸ªé“¾è¡¨åæŠŠå¦å¤–ä¸€ä¸ªé“¾è¡¨å‰©ä½™çš„ç»“ç‚¹é“¾æ¥åˆ°åˆå¹¶åçš„é“¾è¡¨åé¢&lt;/span&gt;
  &lt;span&gt;if&lt;/span&gt; (cur1 != &lt;span&gt;null&lt;/span&gt;) cur.next =&lt;span&gt; cur1;
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (cur2 != &lt;span&gt;null&lt;/span&gt;) cur.next =&lt;span&gt; cur2;
  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; head;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;4ï¼‰æ‰¾å‡ºé“¾è¡¨å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯”æ…¢æŒ‡é’ˆå…ˆå‰ç§» n æ­¥ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶ç§»åŠ¨ã€‚å½“å¿«æŒ‡é’ˆåˆ°åº•åï¼Œæ…¢æŒ‡é’ˆçš„ä½ç½®å°±æ˜¯æ‰€è¦æ‰¾çš„ç»“ç‚¹ï¼Œ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/xxZmxWv&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ä¾‹é¢˜ï¼šLeetCodeçš„&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  findLast(n) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹&lt;/span&gt;
    let slow = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;,
      fast &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    slow &lt;/span&gt;= fast = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next;
    let i &lt;/span&gt;= 0&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‰ç§» n æ­¥&lt;/span&gt;
    &lt;span&gt;while&lt;/span&gt; (i &amp;lt; n &amp;amp;&amp;amp;&lt;span&gt; fast) {
      fast &lt;/span&gt;=&lt;span&gt; fast.next;
      i&lt;/span&gt;++&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt;&lt;span&gt; (fast) {
      fast &lt;/span&gt;=&lt;span&gt; fast.next;
      slow &lt;/span&gt;=&lt;span&gt; slow.next;
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; slow;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;5ï¼‰æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆä¸€èµ·éå†é“¾è¡¨ã€‚æ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ã€‚é‚£ä¹ˆå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨çš„æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆå¿…ç„¶å¤„äºä¸­é—´ä½ç½®ï¼Œ&lt;span&gt;&lt;a href=&quot;https://codepen.io/strick/pen/GRoPRPm&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;å¦‚ä¸‹æ‰€ç¤º&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚ä¾‹é¢˜ï¼šLeetCodeçš„&lt;span&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/middle-of-the-linked-list/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;class List {
  middle() {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹&lt;/span&gt;
    let slow = &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next,
      fast &lt;/span&gt;= &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.header.next;
    &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (slow &amp;amp;&amp;amp; fast &amp;amp;&amp;amp;&lt;span&gt; fast.next) {
      slow &lt;/span&gt;=&lt;span&gt; slow.next;
      fast &lt;/span&gt;=&lt;span&gt; fast.next.next;
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; slow;
  }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Mon, 24 Aug 2020 22:45:00 +0000</pubDate>
<dc:creator>å’–å•¡æœºï¼ˆK.F.Jï¼‰</dc:creator>
<og:description>é“¾è¡¨ï¼ˆLinked Listï¼‰æ˜¯ä¸åŒäºæ•°ç»„çš„å¦ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒçš„å­˜å‚¨å•å…ƒï¼ˆå³ç»“ç‚¹æˆ–å…ƒç´ ï¼‰é™¤äº†åŒ…å«ä»»æ„ç±»å‹çš„æ•°æ®ä¹‹å¤–ï¼Œè¿˜éœ€è¦åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œåæ–‡ä¼šç”¨æœ¯è¯­é“¾æ¥è¡¨ç¤ºå¯¹ç»“ç‚¹çš„å¼•ç”¨ã€‚ ä¸‹é¢ä¼šåˆ—å‡ºé“¾è¡¨ä¸</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/strick/p/13344157.html</dc:identifier>
</item>
<item>
<title>Nettyä¹‹æ—…äºŒï¼šå£å£ç›¸ä¼ çš„é«˜æ€§èƒ½Nettyåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ - ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«</title>
<link>http://www.cnblogs.com/wang-meng/p/13557635.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wang-meng/p/13557635.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-5cc3f85b621388a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;d0iosx.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é«˜æ¸…æ€ç»´å¯¼å›¾åŸä»¶(&lt;code&gt;xmind/pdf/jpg&lt;/code&gt;)å¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼š&lt;code&gt;ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«&lt;/code&gt; å›å¤&lt;code&gt;netty01&lt;/code&gt;å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« è®²äº†&lt;code&gt;NIO&lt;/code&gt;ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œç›¸æ¯”äºä¼ ç»Ÿ&lt;code&gt;IO&lt;/code&gt;ï¼Œ&lt;code&gt;NIO&lt;/code&gt;å·²ç»åšå¾—å¾ˆä¼˜é›…äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦ä½¿ç”¨&lt;code&gt;Netty&lt;/code&gt;ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« æœ€åç•™äº†å¾ˆå¤šå‘ï¼Œè®²äº†&lt;code&gt;NIO&lt;/code&gt;ä½¿ç”¨çš„å¼Šç«¯ï¼Œä¹Ÿæ˜¯ä¸ºäº†å¼•å‡º&lt;code&gt;Netty&lt;/code&gt;è€Œè®¾ç«‹çš„ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ¥å¥½å¥½æ­å¼€&lt;code&gt;Netty&lt;/code&gt;çš„ç¥ç§˜é¢çº±ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« çš„ç›®çš„å¾ˆç®€å•ï¼Œå¸Œæœ›çœ‹è¿‡åä½ èƒ½çœ‹æ‡‚&lt;code&gt;Netty&lt;/code&gt;çš„ç¤ºä¾‹ä»£ç ï¼Œé’ˆå¯¹äºç®€å•çš„ç½‘ç»œé€šä¿¡ï¼Œè‡ªå·±ä¹Ÿèƒ½ç”¨&lt;code&gt;Netty&lt;/code&gt;æ‰‹å†™ä¸€ä¸ªå¼€å‘åº”ç”¨å‡ºæ¥ï¼&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ä¸ªç®€å•çš„nettyç¤ºä¾‹&quot;&gt;ä¸€ä¸ªç®€å•çš„Nettyç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•èŠå¤©å®¤Serverç«¯çš„ç¨‹åºï¼Œä»£ç å‚è€ƒè‡ªï¼š&lt;code&gt;http://www.imooc.com/read/82/article/2166&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç æœ‰ç‚¹é•¿ï¼Œä¸»è¦æ ¸å¿ƒä»£ç æ˜¯åœ¨&lt;code&gt;main()&lt;/code&gt;æ–¹æ³•ä¸­ï¼Œè¿™é‡Œä»£ç ä¹Ÿå¸Œæœ›å¤§å®¶çœ‹æ‡‚ï¼Œåé¢ä¹Ÿä¼šä¸€æ­¥æ­¥å‰–æã€‚&lt;/p&gt;
&lt;p&gt;PSï¼šæˆ‘æ˜¯ç”¨&lt;code&gt;mac&lt;/code&gt;ç³»ç»Ÿï¼Œç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥&lt;code&gt;telnet 127.0.0.1 8007&lt;/code&gt; å³å¯å¯åŠ¨ä¸€ä¸ªèŠå¤©æ¡†ï¼Œå¦‚æœæç¤ºæ‰¾ä¸åˆ°&lt;code&gt;telnet&lt;/code&gt;å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;brew&lt;/code&gt;è¿›è¡Œå®‰è£…ï¼Œå…·ä½“æ­¥éª¤è¯·è‡ªè¡Œç™¾åº¦ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * @Description nettyç®€æ˜“èŠå¤©å®¤
 *
 * @Author ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«
 * @Date 2020/8/10 6:52 ä¸Šåˆ
 */
public final class NettyChatServer {

    static final int PORT = Integer.parseInt(System.getProperty(&quot;port&quot;, &quot;8007&quot;));

    public static void main(String[] args) throws Exception {
        // 1. EventLoopGroup
        EventLoopGroup bossGroup = new NioEventLoopGroup(1);
        EventLoopGroup workerGroup = new NioEventLoopGroup();
        try {
            // 2. æœåŠ¡ç«¯å¼•å¯¼å™¨
            ServerBootstrap serverBootstrap = new ServerBootstrap();
            // 3. è®¾ç½®çº¿bootStrapä¿¡æ¯
            serverBootstrap.group(bossGroup, workerGroup)
                    // 4. è®¾ç½®ServerSocketChannelçš„ç±»å‹
                    .channel(NioServerSocketChannel.class)
                    // 5. è®¾ç½®å‚æ•°
                    .option(ChannelOption.SO_BACKLOG, 100)
                    // 6. è®¾ç½®ServerSocketChannelå¯¹åº”çš„Handlerï¼Œåªèƒ½è®¾ç½®ä¸€ä¸ª
                    .handler(new LoggingHandler(LogLevel.INFO))
                    // 7. è®¾ç½®SocketChannelå¯¹åº”çš„Handler
                    .childHandler(new ChannelInitializer&amp;lt;SocketChannel&amp;gt;() {
                        @Override
                        public void initChannel(SocketChannel ch) throws Exception {
                            ChannelPipeline p = ch.pipeline();
                            // å¯ä»¥æ·»åŠ å¤šä¸ªå­Handler
                            p.addLast(new LoggingHandler(LogLevel.INFO));
                            p.addLast(new ChatNettyHandler());
                        }
                    });

            // 8. ç»‘å®šç«¯å£
            ChannelFuture f = serverBootstrap.bind(PORT).sync();
            // 9. ç­‰å¾…æœåŠ¡ç«¯ç›‘å¬ç«¯å£å…³é—­ï¼Œè¿™é‡Œä¼šé˜»å¡ä¸»çº¿ç¨‹
            f.channel().closeFuture().sync();
        } finally {
            // 10. ä¼˜é›…åœ°å…³é—­ä¸¤ä¸ªçº¿ç¨‹æ± 
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }

    private static class ChatNettyHandler extends SimpleChannelInboundHandler&amp;lt;ByteBuf&amp;gt; {
        @Override
        public void channelActive(ChannelHandlerContext ctx) {
            System.out.println(&quot;one conn active: &quot; + ctx.channel());
            // channelæ˜¯åœ¨ServerBootstrapAcceptorä¸­æ”¾åˆ°EventLoopGroupä¸­çš„
            ChatHolder.join((SocketChannel) ctx.channel());
        }

        @Override
        protected void channelRead0(ChannelHandlerContext ctx, ByteBuf byteBuf) throws Exception {
            byte[] bytes = new byte[byteBuf.readableBytes()];
            byteBuf.readBytes(bytes);
            String content = new String(bytes, StandardCharsets.UTF_8);
            System.out.println(content);

            if (content.equals(&quot;quit\r\n&quot;)) {
                ctx.channel().close();
            } else {
                ChatHolder.propagate((SocketChannel) ctx.channel(), content);
            }
        }

        @Override
        public void channelInactive(ChannelHandlerContext ctx) {
            System.out.println(&quot;one conn inactive: &quot; + ctx.channel());
            ChatHolder.quit((SocketChannel) ctx.channel());
        }
    }

    private static class ChatHolder {
        static final Map&amp;lt;SocketChannel, String&amp;gt; USER_MAP = new ConcurrentHashMap&amp;lt;&amp;gt;();

        /**
         * åŠ å…¥ç¾¤èŠ
         */
        static void join(SocketChannel socketChannel) {
            // æœ‰äººåŠ å…¥å°±ç»™ä»–åˆ†é…ä¸€ä¸ªid
            String userId = &quot;ç”¨æˆ·&quot;+ ThreadLocalRandom.current().nextInt(Integer.MAX_VALUE);
            send(socketChannel, &quot;æ‚¨çš„idä¸ºï¼š&quot; + userId + &quot;\n\r&quot;);

            for (SocketChannel channel : USER_MAP.keySet()) {
                send(channel, userId + &quot; åŠ å…¥äº†ç¾¤èŠ&quot; + &quot;\n\r&quot;);
            }

            // å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°mapä¸­
            USER_MAP.put(socketChannel, userId);
        }

        /**
         * é€€å‡ºç¾¤èŠ
         */
        static void quit(SocketChannel socketChannel) {
            String userId = USER_MAP.get(socketChannel);
            send(socketChannel, &quot;æ‚¨é€€å‡ºäº†ç¾¤èŠ&quot; + &quot;\n\r&quot;);
            USER_MAP.remove(socketChannel);

            for (SocketChannel channel : USER_MAP.keySet()) {
                if (channel != socketChannel) {
                    send(channel, userId + &quot; é€€å‡ºäº†ç¾¤èŠ&quot; + &quot;\n\r&quot;);
                }
            }
        }

        /**
         * æ‰©æ•£è¯´è¯çš„å†…å®¹
         */
        public static void propagate(SocketChannel socketChannel, String content) {
            String userId = USER_MAP.get(socketChannel);
            for (SocketChannel channel : USER_MAP.keySet()) {
                if (channel != socketChannel) {
                    send(channel, userId + &quot;: &quot; + content);
                }
            }
        }

        /**
         * å‘é€æ¶ˆæ¯
         */
        static void send(SocketChannel socketChannel, String msg) {
            try {
                ByteBufAllocator allocator = ByteBufAllocator.DEFAULT;
                ByteBuf writeBuffer = allocator.buffer(msg.getBytes().length);
                writeBuffer.writeCharSequence(msg, Charset.defaultCharset());
                socketChannel.writeAndFlush(writeBuffer);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-dcb49953adad8127.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dkeb0s.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç æœ‰ç‚¹é•¿ï¼Œæ‰§è¡Œå®Œçš„æ•ˆæœå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸‹é¢æ‰€æœ‰å†…å®¹éƒ½æ˜¯å›´ç»•ç€&lt;code&gt;å¦‚ä½•çœ‹æ‡‚&lt;/code&gt;ä»¥åŠ&lt;code&gt;å¦‚ä½•å†™å‡º&lt;/code&gt;è¿™æ ·çš„ä»£ç æ¥å±•å¼€çš„ï¼Œå¸Œæœ›ä½ çœ‹å®Œ ä¹Ÿèƒ½è½»æ¾æ‰‹å†™&lt;code&gt;Netty&lt;/code&gt;æœåŠ¡ç«¯ä»£ç ~ã€‚é€šè¿‡ç®€å•demoå¼€å‘è®©å¤§å®¶ä½“éªŒäº†&lt;code&gt;Netty&lt;/code&gt;å®ç°ç›¸æ¯”&lt;code&gt;NIO&lt;/code&gt;ç¡®å®è¦ç®€å•çš„å¤šï¼Œä½†ä¼˜ç‚¹ä¸é™äºæ­¤ï¼Œåªéœ€è¦çŸ¥é“é€‰æ‹©Nettyå°±å¯¹äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;nettyæ ¸å¿ƒç»„ä»¶&quot;&gt;Nettyæ ¸å¿ƒç»„ä»¶&lt;/h2&gt;
&lt;p&gt;å¯¹åº”ç€æ–‡ç« å¼€å¤´çš„æ€ç»´å¯¼å›¾ï¼Œæˆ‘ä»¬çŸ¥é“&lt;code&gt;Netty&lt;/code&gt;çš„æ ¸å¿ƒç»„ä»¶ä¸»è¦æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Bootstrap &amp;amp;&amp;amp; ServerBootstrap&lt;/li&gt;
&lt;li&gt;EventLoopGroup&lt;/li&gt;
&lt;li&gt;EventLoop&lt;/li&gt;
&lt;li&gt;ByteBuf&lt;/li&gt;
&lt;li&gt;Channel&lt;/li&gt;
&lt;li&gt;ChannelHandler&lt;/li&gt;
&lt;li&gt;ChannelFuture&lt;/li&gt;
&lt;li&gt;ChannelPipeline&lt;/li&gt;
&lt;li&gt;ChannelHandlerContext&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ç±»å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-dcf6d0f8af600df7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dk8ZC9.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;bootstrap--serverbootstrap&quot;&gt;Bootstrap &amp;amp; ServerBootstrap&lt;/h3&gt;
&lt;p&gt;ä¸€çœ‹åˆ°&lt;code&gt;BootStrap&lt;/code&gt;å¤§å®¶å°±åº”è¯¥æƒ³åˆ°&lt;strong&gt;å¯åŠ¨ç±»ã€å¼•å¯¼ç±»&lt;/strong&gt;è¿™æ ·çš„è¯æ±‡ï¼Œä¹‹å‰åˆ†æè¿‡&lt;a href=&quot;https://www.cnblogs.com/wang-meng/p/12089911.html&quot;&gt;EurekaServeré¡¹ç›®å¯åŠ¨ç±»æ—¶&lt;/a&gt;ä»‹ç»è¿‡&lt;code&gt;EurekaBootstrap&lt;/code&gt;ï¼Œ ä»–çš„ä½œç”¨å°±æ˜¯ä¸Šä¸‹æ–‡åˆå§‹åŒ–ã€é…ç½®åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;Netty&lt;/code&gt;ä¸­æˆ‘ä»¬ä¹Ÿæœ‰ç±»ä¼¼çš„ç±»ï¼Œ&lt;code&gt;Bootstrap&lt;/code&gt;å’Œ&lt;code&gt;ServerBootstrap&lt;/code&gt;å®ƒä»¬éƒ½æ˜¯&lt;code&gt;Netty&lt;/code&gt;ç¨‹åºçš„å¼•å¯¼ç±»ï¼Œä¸»è¦ç”¨äºé…ç½®å„ç§å‚æ•°ï¼Œå¹¶å¯åŠ¨æ•´ä¸ª&lt;code&gt;Netty&lt;/code&gt;æœåŠ¡ï¼Œæˆ‘ä»¬çœ‹ä¸‹æ–‡ç« å¼€å¤´çš„ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ServerBootstrap serverBootstrap = new ServerBootstrap();
serverBootstrap.group(bossGroup, workerGroup)      
        .channel(NioServerSocketChannel.class)
        .option(ChannelOption.SO_BACKLOG, 100)
        .handler(new LoggingHandler(LogLevel.INFO))
        .childHandler(new ChannelInitializer&amp;lt;SocketChannel&amp;gt;() {
            @Override
            public void initChannel(SocketChannel ch) throws Exception {
                ChannelPipeline p = ch.pipeline();
                p.addLast(new LoggingHandler(LogLevel.INFO));
                p.addLast(new ChatNettyHandler());
            }
        });
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Bootstrap&lt;/code&gt;å’Œ&lt;code&gt;ServerBootstrap&lt;/code&gt;æ˜¯é’ˆå¯¹äº&lt;code&gt;Client&lt;/code&gt;å’Œ&lt;code&gt;Server&lt;/code&gt;ç«¯å®šä¹‰çš„ä¸¤å¥—å¯åŠ¨ç±»ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Bootstrap&lt;/code&gt;æ˜¯å®¢æˆ·ç«¯å¼•å¯¼ç±»ï¼Œè€Œ&lt;code&gt;ServerBootstrap&lt;/code&gt;æ˜¯æœåŠ¡ç«¯å¼•å¯¼ç±»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bootstrap&lt;/code&gt;é€šå¸¸ä½¿ç”¨&lt;code&gt;connect()&lt;/code&gt;æ–¹æ³•è¿æ¥åˆ°è¿œç¨‹çš„ä¸»æœºå’Œç«¯å£ï¼Œä½œä¸ºä¸€ä¸ª&lt;code&gt;TCPå®¢æˆ·ç«¯&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ServerBootstrap&lt;/code&gt;é€šå¸¸ä½¿ç”¨&lt;code&gt;bind()&lt;/code&gt;æ–¹æ³•ç»‘å®šæœ¬åœ°çš„ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ServerBootstrap&lt;/code&gt;å¯ä»¥å¤„ç†&lt;code&gt;Accept&lt;/code&gt;äº‹ä»¶ï¼Œè¿™é‡Œé¢&lt;code&gt;childHandler&lt;/code&gt;æ˜¯ç”¨æ¥å¤„ç†&lt;code&gt;Channel&lt;/code&gt;è¯·æ±‚çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹&lt;code&gt;chaildHandler()&lt;/code&gt;æ–¹æ³•çš„æ³¨è§£ï¼š&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/08/15/dk884H.png&quot; alt=&quot;dk884H.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Bootstrap&lt;/code&gt;å®¢æˆ·ç«¯å¼•å¯¼åªéœ€è¦ä¸€ä¸ª&lt;code&gt;EventLoopGroup&lt;/code&gt;ï¼Œä½†æ˜¯ä¸€ä¸ª&lt;code&gt;ServerBootstrap&lt;/code&gt;é€šå¸¸éœ€è¦ä¸¤ä¸ª(ä¸Šé¢çš„&lt;code&gt;boosGroup&lt;/code&gt;å’Œ&lt;code&gt;workerGroup&lt;/code&gt;)ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;eventloopgroup--eventloop&quot;&gt;EventLoopGroup &amp;amp;&amp;amp; EventLoop&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;EventLoopGroup&lt;/code&gt;åŠ&lt;code&gt;EventLoop&lt;/code&gt;è¿™ä¸¤ä¸ªç±»åç§°å®šä¹‰çš„å¾ˆå¥‡æ€ªï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´å¾€å¾€æ— æ³•é€šè¿‡åç§°æ¥äº†è§£å…¶ä¸­çš„å«ä¹‰ï¼ŒåŒ…æ‹¬æˆ‘ä¹Ÿæ˜¯è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;EventLoopGroup&lt;/code&gt; å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå¯¹äºæœåŠ¡ç«¯ç¨‹åºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç»‘å®šä¸¤ä¸ªçº¿ç¨‹æ± ï¼Œä¸€ä¸ªç”¨äºå¤„ç† &lt;code&gt;Accept&lt;/code&gt; äº‹ä»¶ï¼Œä¸€ä¸ªç”¨äºå¤„ç†è¯»å†™äº‹ä»¶ï¼Œçœ‹ä¸‹&lt;code&gt;EventLoop&lt;/code&gt;ç³»åˆ—çš„ç±»ç›®å½•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-20c7c39cb233e867.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dU4Roj.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„ç±»å›¾ï¼Œæˆ‘ä»¬æ‰æç„¶å¤§æ‚Ÿï¼Œæˆ‘çš„äº²å¨˜å’§ï¼Œè¿™ä¸å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± å˜›ï¼Ÿ(åå­—æ°”çš„çŠ„è§’æ‹å¼¯çš„çœŸæ˜¯éš¾è®¤)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;EventLoopGroup&lt;/code&gt;æ˜¯&lt;code&gt;EventLoop&lt;/code&gt;çš„é›†åˆï¼Œä¸€ä¸ª&lt;code&gt;EventLoopGroup&lt;/code&gt; åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ª&lt;code&gt;EventLoop&lt;/code&gt;ã€‚æˆ‘ä»¬å¯ä»¥å°†&lt;code&gt;EventLoop&lt;/code&gt;çœ‹åš&lt;code&gt;EventLoopGroup&lt;/code&gt;çº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªä¸ªå·¥ä½œçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºè¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨åˆ°ä¸¤ä¸ªçº¿ç¨‹æ± ï¼Œå…·ä½“çš„å…¶å®å¯ä»¥å‚è€ƒ&lt;code&gt;Reactor&lt;/code&gt;è®¾è®¡æ¨¡å¼ï¼Œè¿™é‡Œæš‚æ—¶ä¸åšè¿‡å¤šçš„è®²è§£ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª EventLoopGroup åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª EventLoop ï¼Œå³ EventLoopGroup : EventLoop = 1 : n&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª EventLoop åœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œåªèƒ½ä¸ä¸€ä¸ª Thread ç»‘å®šï¼Œå³ EventLoop : Thread = 1 : 1&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰æœ‰ EventLoop å¤„ç†çš„ I/O äº‹ä»¶éƒ½å°†åœ¨å®ƒä¸“æœ‰çš„ Thread ä¸Šè¢«å¤„ç†ï¼Œä»è€Œä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå³ Thread : EventLoop = 1 : 1&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª Channel åœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸå†…åªèƒ½æ³¨å†Œåˆ°ä¸€ä¸ª EventLoop ä¸Šï¼Œå³ Channel : EventLoop = n : 1&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª EventLoop å¯è¢«åˆ†é…è‡³ä¸€ä¸ªæˆ–å¤šä¸ª Channel ï¼Œå³ EventLoop : Channel = 1 : n&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å½“ä¸€ä¸ªè¿æ¥åˆ°è¾¾æ—¶ï¼Œ&lt;code&gt;Netty&lt;/code&gt; å°±ä¼šåˆ›å»ºä¸€ä¸ª &lt;code&gt;Channel&lt;/code&gt;ï¼Œç„¶åä» &lt;code&gt;EventLoopGroup&lt;/code&gt; ä¸­åˆ†é…ä¸€ä¸ª &lt;code&gt;EventLoop&lt;/code&gt; æ¥ç»™è¿™ä¸ª &lt;code&gt;Channel&lt;/code&gt; ç»‘å®šä¸Šï¼Œåœ¨è¯¥ &lt;code&gt;Channel&lt;/code&gt; çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½æ˜¯æœ‰è¿™ä¸ªç»‘å®šçš„ &lt;code&gt;EventLoop&lt;/code&gt; æ¥æœåŠ¡çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;bytebuf&quot;&gt;ByteBuf&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;code&gt;Java NIO&lt;/code&gt;ä¸­æˆ‘ä»¬æœ‰ &lt;code&gt;ByteBuffer&lt;/code&gt;ç¼“å†²æ± ï¼Œå¯¹äºå®ƒçš„æ“ä½œæˆ‘ä»¬åº”è¯¥å°è±¡æ·±åˆ»ï¼Œå¾€&lt;code&gt;Buffer&lt;/code&gt;ä¸­å†™æ•°æ®æ—¶æˆ‘ä»¬éœ€è¦å…³æ³¨å†™å…¥çš„ä½ç½®ï¼Œåˆ‡æ¢æˆè¯»æ¨¡å¼æ—¶æˆ‘ä»¬è¿˜è¦åˆ‡æ¢è¯»å†™çŠ¶æ€ï¼Œä¸ç„¶å°†ä¼šå‡ºç°å¤§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹äº&lt;code&gt;NIO&lt;/code&gt;ä¸­è¶…çº§éš¾ç”¨çš„&lt;code&gt;Buffer&lt;/code&gt;ç±»ï¼Œ &lt;code&gt;Netty&lt;/code&gt; æä¾›äº†&lt;code&gt;ByteBuf&lt;/code&gt;æ¥æ›¿ä»£ã€‚&lt;code&gt;ByteBuf&lt;/code&gt;å£°æ˜äº†ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªè¯»æŒ‡é’ˆï¼Œä¸€ä¸ªå†™æŒ‡é’ˆï¼Œä½¿å¾—è¯»å†™æ“ä½œè¿›è¡Œåˆ†ç¦»ï¼Œç®€åŒ–&lt;code&gt;buffer&lt;/code&gt;çš„æ“ä½œæµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-b10ced8238b3b66e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dkQocV.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–&lt;code&gt;Netty&lt;/code&gt;æä¾›äº†å‘å‡ ç§&lt;code&gt;ByteBuf&lt;/code&gt;çš„å®ç°ä»¥ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œ&lt;code&gt;ByteBuf&lt;/code&gt;å¯ä»¥åˆ†ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Pooled&lt;/code&gt;å’Œ&lt;code&gt;Unpooled&lt;/code&gt; æ± åŒ–å’Œéæ± åŒ–&lt;/li&gt;
&lt;li&gt;Heap å’Œ Directï¼Œå †å†…å­˜å’Œå †å¤–å†…å­˜ï¼ŒNIOä¸­åˆ›å»ºBufferä¹Ÿå¯ä»¥æŒ‡å®š&lt;/li&gt;
&lt;li&gt;Safe å’Œ Unsafeï¼Œå®‰å…¨å’Œéå®‰å…¨&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-fed9e32fd4a0cdf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dkJ9TU.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¹ˆå¤šç§åˆ›å»º&lt;code&gt;Buffer&lt;/code&gt;çš„æ–¹å¼è¯¥æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿ&lt;code&gt;Netty&lt;/code&gt;ä¹Ÿä¸ºæˆ‘ä»¬å¤„ç†å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼ˆçœŸæ˜¯æš–ç”·&lt;code&gt;Ntetty&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ByteBufAllocator allocator = ByteBufAllocator.DEFAULT;
ByteBuf buffer = allocator.buffer(length);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒNettyå°†æœ€å¤§åŠªåŠ›çš„ä½¿ç”¨æ± åŒ–ã€Unsafeã€å¯¹å¤–å†…å­˜çš„æ–¹å¼ä¸ºæˆ‘ä»¬åˆ›å»ºbufferã€‚&lt;/p&gt;
&lt;h3 id=&quot;channel&quot;&gt;Channel&lt;/h3&gt;
&lt;p&gt;æèµ·&lt;code&gt;Channel&lt;/code&gt;å¹¶ä¸é™Œç”Ÿï¼Œä¸Šä¸€ç¯‡è®²&lt;code&gt;NIO&lt;/code&gt;çš„ä¸‰å¤§ç»„ä»¶æåˆ°è¿‡ï¼Œæœ€å¸¸è§çš„å°±æ˜¯&lt;code&gt;java.nio.SocketChannel&lt;/code&gt;å’Œ&lt;code&gt;java.nio.ServerSocketChannel&lt;/code&gt;ï¼Œä»–ä»¬ç”¨äºéé˜»å¡çš„I/0æ“ä½œã€‚ç±»ä¼¼äº&lt;code&gt;NIO&lt;/code&gt;çš„&lt;code&gt;Channel&lt;/code&gt;ï¼ŒNettyæä¾›äº†è‡ªå·±çš„&lt;code&gt;Channel&lt;/code&gt;å’Œå…¶å­ç±»å®ç°ï¼Œç”¨äºå¼‚æ­¥I/0æ“ä½œå’Œå…¶ä»–ç›¸å…³çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Netty&lt;/code&gt; ä¸­, &lt;code&gt;Channel&lt;/code&gt; æ˜¯ä¸€ä¸ª &lt;code&gt;Socket&lt;/code&gt; è¿æ¥çš„æŠ½è±¡, å®ƒä¸ºç”¨æˆ·æä¾›äº†å…³äºåº•å±‚ &lt;code&gt;Socket&lt;/code&gt; çŠ¶æ€(æ˜¯å¦æ˜¯è¿æ¥è¿˜æ˜¯æ–­å¼€) ä»¥åŠå¯¹ &lt;code&gt;Socket&lt;/code&gt; çš„è¯»å†™ç­‰æ“ä½œã€‚æ¯å½“ &lt;code&gt;Netty&lt;/code&gt; å»ºç«‹äº†ä¸€ä¸ªè¿æ¥å, éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ &lt;code&gt;Channel&lt;/code&gt; å®ä¾‹ã€‚å¹¶ä¸”ï¼Œæœ‰çˆ¶å­&lt;code&gt;channel&lt;/code&gt;çš„æ¦‚å¿µã€‚ æœåŠ¡å™¨è¿æ¥ç›‘å¬çš„&lt;code&gt;channel&lt;/code&gt; ï¼Œä¹Ÿå« &lt;code&gt;parent channel&lt;/code&gt;ã€‚ å¯¹åº”äºæ¯ä¸€ä¸ª &lt;code&gt;Socket&lt;/code&gt; è¿æ¥çš„&lt;code&gt;channel&lt;/code&gt;ï¼Œä¹Ÿå« &lt;code&gt;child channel&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶&lt;code&gt;channel&lt;/code&gt; æ˜¯ Netty æŠ½è±¡å‡ºæ¥çš„ç½‘ç»œ I/O è¯»å†™ç›¸å…³çš„æ¥å£ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨ &lt;code&gt;JDK NIO&lt;/code&gt; åŸç”Ÿçš„ &lt;code&gt;Channel&lt;/code&gt; è€Œè¦å¦èµ·ç‚‰ç¶å‘¢ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;JDK&lt;/code&gt; çš„ &lt;code&gt;SocketChannel&lt;/code&gt; å’Œ &lt;code&gt;ServersocketChannel&lt;/code&gt; æ²¡æœ‰ç»Ÿä¸€çš„ &lt;code&gt;Channel&lt;/code&gt; æ¥å£ä¾›ä¸šåŠ¡å¼€å‘è€…ä½¿ç”¨ï¼Œå¯¹ä¸€äºç”¨æˆ·è€Œè¨€ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„æ“ä½œè§†å›¾ï¼Œä½¿ç”¨èµ·æ¥å¹¶ä¸æ–¹ä¾¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JDK&lt;/code&gt; çš„ &lt;code&gt;SocketChannel&lt;/code&gt; å’Œ &lt;code&gt;ScrversockctChannel&lt;/code&gt; çš„ä¸»è¦èŒè´£å°±æ˜¯ç½‘ç»œ I/O æ“ä½œï¼Œç”±äºä»–ä»¬æ˜¯ &lt;code&gt;SPI&lt;/code&gt; ç±»æ¥å£ï¼Œç”±å…·ä½“çš„è™šæ‹Ÿæœºå‚å®¶æ¥æä¾›ï¼Œæ‰€ä»¥é€šè¿‡ç»§æ‰¿ SPI åŠŸèƒ½ç›´æ¥å®ç° &lt;code&gt;ServersocketChannel&lt;/code&gt; å’Œ &lt;code&gt;SocketChannel&lt;/code&gt; æ¥æ‰©å±•å…¶å·¥ä½œé‡å’Œé‡æ–° &lt;code&gt;Channel&lt;/code&gt; åŠŸç±»æ˜¯å·®ä¸å¤šçš„ã€‚&lt;/li&gt;
&lt;li&gt;Netty çš„ &lt;code&gt;ChannelPipeline Channel&lt;/code&gt; éœ€è¦å¤Ÿè·Ÿ Netty çš„æ•´ä½“æ¶æ„èåˆåœ¨ä¸€èµ·ï¼Œä¾‹å¦‚ I/O æ¨¡å‹ã€åŸºçš„å®šåˆ¶æ¨¡å‹ï¼Œä»¥åŠåŸºäºå…ƒæ•°æ®æè¿°é…ç½®åŒ–çš„ TCP å‚æ•°ç­‰ï¼Œè¿™äº› &lt;code&gt;JDK SocketChannel&lt;/code&gt; å’Œ&lt;code&gt;ServersocketChannel&lt;/code&gt;éƒ½æ²¡æœ‰æä¾›ï¼Œéœ€è¦é‡æ–°å°è£…ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰çš„ &lt;code&gt;Channel&lt;/code&gt; ï¼ŒåŠŸå®ç°æ›´åŠ çµæ´»ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;åŸºäºä¸Šè¿° 4 åŸå› ï¼Œå®ƒçš„è®¾è®¡åŸç†æ¯”è¾ƒç®€å•ï¼Œ Netty é‡æ–°è®¾è®¡äº† &lt;code&gt;Channel&lt;/code&gt; æ¥å£ï¼Œå¹¶ä¸”ç»™äºˆäº†å¾ˆå¤šä¸åŒçš„å®ç°ã€‚ä½†æ˜¯åŠŸèƒ½å´æ¯”è¾ƒç¹æ‚ï¼Œä¸»è¦çš„è®¾è®¡ç†å¿µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åœ¨ &lt;code&gt;Channel&lt;/code&gt; æ¥å£å±‚ï¼Œç›¸å…³è”çš„å…¶ä»–æ“ä½œå°è£…èµ·æ¥ï¼Œé‡‡ç”¨ &lt;code&gt;Facade&lt;/code&gt; æ¨¡å¼è¿›è¡Œç»Ÿä¸€å°è£…ï¼Œå°†ç½‘ç»œ I/O æ“ä½œã€ç½‘ç»œ I/O ç»Ÿä¸€å¯¹å¤–æä¾›ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Channel&lt;/code&gt; æ¥å£çš„å®šä¹‰å°½é‡å¤§è€Œå…¨ï¼Œç»Ÿä¸€çš„è§†å›¾ï¼Œç”±ä¸åŒå­ç±»å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œå…¬å…±åŠŸèƒ½åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å®ç°ï¼Œæœ€å¤§ç¨‹åº¦ä¸Šå®ç°æ¥å£çš„é‡ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å…·ä½“å®ç°é‡‡ç”¨èšåˆè€ŒéåŒ…å«çš„æ–¹å¼ï¼Œå°†ç›¸å…³çš„åŠŸç±»èšåˆåœ¨ &lt;code&gt;Channel&lt;/code&gt; ä¸­ï¼Œç”± &lt;code&gt;Channel&lt;/code&gt; ç»Ÿä¸€è´Ÿè´£åˆ†é…å’Œè°ƒåº¦ï¼ŒåŠŸèƒ½å®ç°æ›´åŠ çµæ´»ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;code&gt;Channel&lt;/code&gt; çš„å®ç°ç±»éå¸¸å¤šï¼Œç»§æ‰¿å…³ç³»å¤æ‚ï¼Œä»å­¦ä¹ çš„è§’åº¦æˆ‘ä»¬æŠ½å–æœ€é‡è¦çš„ä¸¤ä¸ª &lt;code&gt;NioServerSocketChannel&lt;/code&gt; å’Œ &lt;code&gt;NioSocketChannel&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç«¯ &lt;code&gt;NioServerSocketChannel&lt;/code&gt; çš„ç»§æ‰¿å…³ç³»ç±»å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-a82b11a120a58c85.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUn8G4.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯ &lt;code&gt;NioSocketChannel&lt;/code&gt; çš„ç»§æ‰¿å…³ç³»ç±»å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-321c8b4f8e0dda6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUnJz9.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åé¢æ–‡ç« æºç ç³»åˆ—ä¼šå…·ä½“åˆ†æï¼Œè¿™é‡Œå°±ä¸è¿›ä¸€æ­¥é˜è¿°åˆ†æäº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;channelhandler&quot;&gt;ChannelHandler&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ChannelHandler&lt;/code&gt; æ˜¯&lt;code&gt;Netty&lt;/code&gt;ä¸­æœ€å¸¸ç”¨çš„ç»„ä»¶ã€‚&lt;code&gt;ChannelHandler&lt;/code&gt; ä¸»è¦ç”¨æ¥å¤„ç†å„ç§äº‹ä»¶ï¼Œè¿™é‡Œçš„äº‹ä»¶å¾ˆå¹¿æ³›ï¼Œæ¯”å¦‚å¯ä»¥æ˜¯è¿æ¥ã€æ•°æ®æ¥æ”¶ã€å¼‚å¸¸ã€æ•°æ®è½¬æ¢ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ChannelHandler&lt;/code&gt; æœ‰ä¸¤ä¸ªæ ¸å¿ƒå­ç±» &lt;code&gt;ChannelInboundHandler&lt;/code&gt; å’Œ &lt;code&gt;ChannelOutboundHandler&lt;/code&gt;ï¼Œå…¶ä¸­ &lt;code&gt;ChannelInboundHandler&lt;/code&gt; ç”¨äºæ¥æ”¶ã€å¤„ç†å…¥ç«™( &lt;code&gt;Inbound&lt;/code&gt; )çš„æ•°æ®å’Œäº‹ä»¶ï¼Œè€Œ &lt;code&gt;ChannelOutboundHandler&lt;/code&gt; åˆ™ç›¸åï¼Œç”¨äºæ¥æ”¶ã€å¤„ç†å‡ºç«™( &lt;code&gt;Outbound&lt;/code&gt; )çš„æ•°æ®å’Œäº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-b76bf9284af32276.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dkJAp9.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;channelinboundhandler&quot;&gt;ChannelInboundHandler&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ChannelInboundHandler&lt;/code&gt;å¤„ç†å…¥ç«™æ•°æ®ä»¥åŠå„ç§çŠ¶æ€å˜åŒ–,å½“&lt;code&gt;Channel&lt;/code&gt;çŠ¶æ€å‘ç”Ÿæ”¹å˜ä¼šè°ƒç”¨&lt;code&gt;ChannelInboundHandler&lt;/code&gt;ä¸­çš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.è¿™äº›æ–¹æ³•ä¸&lt;code&gt;Channel&lt;/code&gt;çš„ç”Ÿå‘½å¯†åˆ‡ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;å…¥ç«™æ•°æ®,å°±æ˜¯è¿›å…¥&lt;code&gt;socket&lt;/code&gt;çš„æ•°æ®ã€‚ä¸‹é¢å±•ç¤ºä¸€äº›è¯¥æ¥å£çš„ç”Ÿå‘½å‘¨æœŸ&lt;code&gt;API&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-016fadc9b5211ee0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUntMR.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“æŸä¸ª &lt;code&gt;ChannelInboundHandler&lt;/code&gt;çš„å®ç°é‡å†™ &lt;code&gt;channelRead()&lt;/code&gt;æ–¹æ³•æ—¶ï¼Œå®ƒå°†è´Ÿè´£æ˜¾å¼åœ°é‡Šæ”¾ä¸æ± åŒ–çš„ &lt;code&gt;ByteBuf&lt;/code&gt; å®ä¾‹ç›¸å…³çš„å†…å­˜ã€‚ Netty ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªå®ç”¨æ–¹æ³•&lt;code&gt;ReferenceCountUtil.release()&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Sharable
public class DiscardHandler extends ChannelInboundHandlerAdapter {
        @Override
        public void channelRead(ChannelHandlerContext ctx, Object msg) {
                ReferenceCountUtil.release(msg);
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ç§æ–¹å¼è¿˜æŒºç¹ççš„,Nettyæä¾›äº†ä¸€ä¸ª&lt;code&gt;SimpleChannelInboundHandler&lt;/code&gt;,é‡å†™&lt;code&gt;channelRead0()&lt;/code&gt;æ–¹æ³•,å°±å¯ä»¥åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æº.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class SimpleDiscardHandler
        extends SimpleChannelInboundHandler&amp;lt;Object&amp;gt; {
        @Override
        public void channelRead0(ChannelHandlerContext ctx,
                                                                        Object msg) {
                        // ä¸ç”¨è°ƒç”¨ReferenceCountUtil.release(msg)ä¹Ÿä¼šé‡Šæ”¾èµ„æº
        }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;channeloutboundhandler&quot;&gt;ChannelOutboundHandler&lt;/h4&gt;
&lt;p&gt;å‡ºç«™æ“ä½œå’Œæ•°æ®å°†ç”± &lt;code&gt;ChannelOutboundHandler&lt;/code&gt; å¤„ç†ã€‚å®ƒçš„æ–¹æ³•å°†è¢« &lt;code&gt;Channel&lt;/code&gt;ã€ &lt;code&gt;ChannelPipeline&lt;/code&gt; ä»¥åŠ &lt;code&gt;ChannelHandlerContext&lt;/code&gt; è°ƒç”¨ã€‚&lt;br/&gt;&lt;code&gt;ChannelOutboundHandler&lt;/code&gt; çš„ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½æ˜¯å¯ä»¥æŒ‰éœ€æ¨è¿Ÿæ“ä½œæˆ–è€…äº‹ä»¶ï¼Œè¿™ä½¿å¾—å¯ä»¥é€šè¿‡ä¸€äº›å¤æ‚çš„æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œ å¦‚æœåˆ°è¿œç¨‹èŠ‚ç‚¹çš„å†™å…¥è¢«æš‚åœäº†ï¼Œ é‚£ä¹ˆä½ å¯ä»¥æ¨è¿Ÿå†²åˆ·æ“ä½œå¹¶åœ¨ç¨åç»§ç»­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-fe7e906d4f138340.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;d0PxbT.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ChannelPromise&lt;/code&gt;ä¸&lt;code&gt;ChannelFuture&lt;/code&gt;: &lt;code&gt;ChannelOutboundHandler&lt;/code&gt;ä¸­çš„å¤§éƒ¨åˆ†æ–¹æ³•éƒ½éœ€è¦ä¸€ä¸ª&lt;code&gt;ChannelPromise&lt;/code&gt;å‚æ•°ï¼Œ ä»¥ä¾¿åœ¨æ“ä½œå®Œæˆæ—¶å¾—åˆ°é€šçŸ¥ã€‚ &lt;code&gt;ChannelPromise&lt;/code&gt;æ˜¯&lt;code&gt;ChannelFuture&lt;/code&gt;çš„ä¸€ä¸ªå­ç±»ï¼Œå…¶å®šä¹‰äº†ä¸€äº›å¯å†™çš„æ–¹æ³•ï¼Œå¦‚&lt;code&gt;setSuccess()&lt;/code&gt;å’Œ&lt;code&gt;setFailure()&lt;/code&gt;ï¼Œä»è€Œä½¿&lt;code&gt;ChannelFuture&lt;/code&gt;ä¸å¯å˜ã€‚&lt;/p&gt;
&lt;h4 id=&quot;channelhandleradapter&quot;&gt;ChannelHandlerAdapter&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ChannelHandlerAdapter&lt;/code&gt;é¡¾åæ€ä¹‰,å°±æ˜¯&lt;code&gt;handler&lt;/code&gt;çš„é€‚é…å™¨ã€‚ä½ éœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Œå‡è®¾æœ‰ä¸€ä¸ªAæ¥å£ï¼Œæˆ‘ä»¬éœ€è¦Açš„&lt;code&gt;subclass&lt;/code&gt;å®ç°åŠŸèƒ½,ä½†æ˜¯Bç±»ä¸­æ­£å¥½æœ‰æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½ï¼Œä¸æƒ³å¤åˆ¶ç²˜è´´Bä¸­çš„æ–¹æ³•å’Œå±æ€§äº†ï¼Œé‚£ä¹ˆå¯ä»¥å†™ä¸€ä¸ªé€‚é…å™¨ç±»&lt;code&gt;Adpter&lt;/code&gt;ç»§æ‰¿Bå®ç°Aï¼Œè¿™æ ·ä¸€æ¥&lt;code&gt;Adapter&lt;/code&gt;æ˜¯Açš„å­ç±»å¹¶ä¸”èƒ½ç›´æ¥ä½¿ç”¨Bä¸­çš„æ–¹æ³•ï¼Œè¿™ç§æ¨¡å¼å°±æ˜¯é€‚é…å™¨æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ¯”å¦‚Nettyä¸­çš„&lt;code&gt;SslHandler&lt;/code&gt;ç±»ï¼Œæƒ³ä½¿ç”¨&lt;code&gt;ByteToMessageDecoder&lt;/code&gt;ä¸­çš„æ–¹æ³•è¿›è¡Œè§£ç ï¼Œä½†æ˜¯å¿…é¡»æ˜¯&lt;code&gt;ChannelHandler&lt;/code&gt;å­ç±»å¯¹è±¡æ‰èƒ½åŠ å…¥åˆ°&lt;code&gt;ChannelPipeline&lt;/code&gt;ä¸­ï¼Œé€šè¿‡å¦‚ä¸‹ç­¾åå’Œå…¶å®ç°ç»†èŠ‚(&lt;code&gt;SslHandler&lt;/code&gt;å®ç°ç»†èŠ‚å°±ä¸è´´äº†)å°±èƒ½å¤Ÿä½œä¸ºä¸€ä¸ª&lt;code&gt;handler&lt;/code&gt;å»å¤„ç†æ¶ˆæ¯äº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class SslHandler extends ByteToMessageDecoder implements ChannelOutboundHandler
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;ChannelHandlerAdapter&lt;/code&gt;æä¾›äº†ä¸€äº›å®ç”¨æ–¹æ³•&lt;code&gt;isSharable()&lt;/code&gt;å¦‚æœå…¶å¯¹åº”çš„å®ç°è¢«æ ‡æ³¨ä¸º &lt;code&gt;Sharable&lt;/code&gt;ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°†è¿”å› &lt;code&gt;true&lt;/code&gt;ï¼Œ è¡¨ç¤ºå®ƒå¯ä»¥è¢«æ·»åŠ åˆ°å¤šä¸ª &lt;code&gt;ChannelPipeline&lt;/code&gt;ä¸­ ã€‚å¦‚æœæƒ³åœ¨è‡ªå·±çš„&lt;code&gt;ChannelHandler&lt;/code&gt;ä¸­ä½¿ç”¨è¿™äº›é€‚é…å™¨ç±»ï¼Œåªéœ€è¦æ‰©å±•ä»–ä»¬ï¼Œé‡å†™é‚£äº›æƒ³è¦è‡ªå®šä¹‰çš„æ–¹æ³•å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;channelpipeline&quot;&gt;ChannelPipeline&lt;/h3&gt;
&lt;p&gt;æ¯ä¸€ä¸ªæ–°åˆ›å»ºçš„ &lt;code&gt;Channel&lt;/code&gt; éƒ½å°†ä¼šè¢«åˆ†é…ä¸€ä¸ªæ–°çš„ &lt;code&gt;ChannelPipeline&lt;/code&gt;ã€‚è¿™é¡¹å…³è”æ˜¯æ°¸ä¹…æ€§çš„ï¼› &lt;code&gt;Channel&lt;/code&gt; æ—¢ä¸èƒ½é™„åŠ å¦å¤–ä¸€ä¸ª &lt;code&gt;ChannelPipeline&lt;/code&gt;ï¼Œä¹Ÿä¸èƒ½åˆ†ç¦»å…¶å½“å‰çš„ã€‚åœ¨ Netty ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œè¿™æ˜¯ä¸€é¡¹å›ºå®šçš„æ“ä½œï¼Œä¸éœ€è¦å¼€å‘äººå‘˜çš„ä»»ä½•å¹²é¢„ã€‚&lt;/p&gt;
&lt;p&gt;Netty çš„ &lt;code&gt;ChannelHandler&lt;/code&gt; ä¸ºå¤„ç†å™¨æä¾›äº†åŸºæœ¬çš„æŠ½è±¡ï¼Œ ç›®å‰ä½ å¯ä»¥è®¤ä¸ºæ¯ä¸ª &lt;code&gt;ChannelHandler&lt;/code&gt; çš„å®ä¾‹éƒ½ç±»ä¼¼äºä¸€ç§ä¸ºäº†å“åº”ç‰¹å®šäº‹ä»¶è€Œè¢«æ‰§è¡Œçš„å›è°ƒã€‚ä»åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜çš„è§’åº¦æ¥çœ‹ï¼Œ å®ƒå……å½“äº†æ‰€æœ‰å¤„ç†å…¥ç«™å’Œå‡ºç«™æ•°æ®çš„åº”ç”¨ç¨‹åºé€»è¾‘çš„æ‹¦æˆªè½½ä½“ã€‚&lt;code&gt;ChannelPipeline&lt;/code&gt;æä¾›äº† &lt;code&gt;ChannelHandler&lt;/code&gt; é“¾çš„å®¹å™¨ï¼Œå¹¶å®šä¹‰äº†ç”¨äºåœ¨è¯¥é“¾ä¸Šä¼ æ’­å…¥ç«™å’Œå‡ºç«™äº‹ä»¶æµçš„ &lt;code&gt;API&lt;/code&gt;ã€‚å½“ &lt;code&gt;Channel&lt;/code&gt; è¢«åˆ›å»ºæ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨åœ°åˆ†é…åˆ°å®ƒä¸“å±çš„ &lt;code&gt;ChannelPipeline&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ChannelHandler&lt;/code&gt; å®‰è£…åˆ° &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸­çš„è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª&lt;code&gt;ChannelInitializer&lt;/code&gt;çš„å®ç°è¢«æ³¨å†Œåˆ°äº†&lt;code&gt;ServerBootstrap&lt;/code&gt;ä¸­&lt;/li&gt;
&lt;li&gt;å½“ &lt;code&gt;ChannelInitializer.initChannel()&lt;/code&gt;æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ&lt;code&gt;ChannelInitializer&lt;/code&gt;å°†åœ¨ &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸­å®‰è£…ä¸€ç»„è‡ªå®šä¹‰çš„ &lt;code&gt;ChannelHandler&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChannelInitializer&lt;/code&gt; å°†å®ƒè‡ªå·±ä» &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸­ç§»é™¤&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-6ba27f803a58bd1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dkJuTO.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šè¿™æ˜¯ä¸€ä¸ªåŒæ—¶å…·æœ‰å…¥ç«™å’Œå‡ºç«™ &lt;code&gt;ChannelHandler&lt;/code&gt; çš„ &lt;code&gt;ChannelPipeline&lt;/code&gt;çš„å¸ƒå±€ï¼Œå¹¶ä¸”å°è¯äº†æˆ‘ä»¬ä¹‹å‰çš„å…³äº &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸»è¦ç”±ä¸€ç³»åˆ—çš„ &lt;code&gt;ChannelHandler&lt;/code&gt; æ‰€ç»„æˆçš„è¯´æ³•ã€‚ &lt;code&gt;ChannelPipeline&lt;/code&gt;è¿˜æä¾›äº†é€šè¿‡ &lt;code&gt;ChannelPipeline&lt;/code&gt; æœ¬èº«ä¼ æ’­äº‹ä»¶çš„æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªå…¥ç«™äº‹ä»¶è¢«è§¦å‘ï¼Œå®ƒå°†è¢«ä» &lt;code&gt;ChannelPipeline&lt;/code&gt;çš„å¤´éƒ¨å¼€å§‹ä¸€ç›´è¢«ä¼ æ’­åˆ° Channel Pipeline çš„å°¾ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šè¯´ï¼Œ ä»äº‹ä»¶é€”ç» &lt;code&gt;ChannelPipeline&lt;/code&gt;çš„è§’åº¦æ¥çœ‹ï¼Œ &lt;code&gt;ChannelPipeline&lt;/code&gt; çš„å¤´éƒ¨å’Œå°¾ç«¯å–å†³äºè¯¥äº‹ä»¶æ˜¯å…¥ç«™çš„è¿˜æ˜¯å‡ºç«™çš„ã€‚ç„¶è€Œ Netty æ€»æ˜¯å°† &lt;code&gt;ChannelPipeline&lt;/code&gt;çš„å…¥ç«™å£ï¼ˆå›¾ çš„å·¦ä¾§ï¼‰ä½œä¸ºå¤´éƒ¨ï¼Œè€Œå°†å‡ºç«™å£ï¼ˆè¯¥å›¾çš„å³ä¾§ï¼‰ä½œä¸ºå°¾ç«¯ã€‚&lt;br/&gt;å½“ä½ å®Œæˆäº†é€šè¿‡è°ƒç”¨ &lt;code&gt;ChannelPipeline.add*()&lt;/code&gt;æ–¹æ³•å°†å…¥ç«™å¤„ç†å™¨ï¼ˆ &lt;code&gt;ChannelInboundHandler&lt;/code&gt;ï¼‰å’Œ å‡º ç«™ å¤„ ç† å™¨ ï¼ˆ &lt;code&gt;ChannelOutboundHandler&lt;/code&gt; ï¼‰ æ·· åˆ æ·» åŠ  åˆ° &lt;code&gt;ChannelPipeline&lt;/code&gt;ä¹‹ å ï¼Œ æ¯ ä¸€ ä¸ª&lt;code&gt;ChannelHandler&lt;/code&gt; ä»å¤´éƒ¨åˆ°å°¾ç«¯çš„é¡ºåºä½ç½®æ­£å¦‚åŒæˆ‘ä»¬æ–¹æ‰æ‰€å®šä¹‰å®ƒä»¬çš„ä¸€æ ·ã€‚å› æ­¤ï¼Œå¦‚æœä½ å°†å›¾ 6-3 ä¸­çš„å¤„ç†å™¨ï¼ˆ &lt;code&gt;ChannelHandler&lt;/code&gt;ï¼‰ä»å·¦åˆ°å³è¿›è¡Œç¼–å·ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªè¢«å…¥ç«™äº‹ä»¶çœ‹åˆ°çš„ &lt;code&gt;ChannelHandler&lt;/code&gt; å°†æ˜¯1ï¼Œè€Œç¬¬ä¸€ä¸ªè¢«å‡ºç«™äº‹ä»¶çœ‹åˆ°çš„ &lt;code&gt;ChannelHandler&lt;/code&gt; å°†æ˜¯ 5ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¼ æ’­äº‹ä»¶æ—¶ï¼Œå®ƒä¼šæµ‹è¯• &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸­çš„ä¸‹ä¸€ä¸ª ChannelHandler çš„ç±»å‹æ˜¯å¦å’Œäº‹ä»¶çš„è¿åŠ¨æ–¹å‘ç›¸åŒ¹é…ã€‚å¦‚æœä¸åŒ¹é…ï¼Œ &lt;code&gt;ChannelPipeline&lt;/code&gt; å°†è·³è¿‡è¯¥&lt;code&gt;ChannelHandler&lt;/code&gt; å¹¶å‰è¿›åˆ°ä¸‹ä¸€ä¸ªï¼Œç›´åˆ°å®ƒæ‰¾åˆ°å’Œè¯¥äº‹ä»¶æ‰€æœŸæœ›çš„æ–¹å‘ç›¸åŒ¹é…çš„ä¸ºæ­¢ã€‚ ï¼ˆå½“ç„¶ï¼Œ &lt;code&gt;ChannelHandler&lt;/code&gt; ä¹Ÿå¯ä»¥åŒæ—¶å®ç°&lt;code&gt;ChannelInboundHandler&lt;/code&gt; æ¥å£å’Œ &lt;code&gt;ChannelOutboundHandler&lt;/code&gt; æ¥å£ã€‚ï¼‰&lt;/p&gt;
&lt;h4 id=&quot;ä¿®æ”¹channelpipeline&quot;&gt;ä¿®æ”¹&lt;code&gt;ChannelPipeline&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;ä¿®æ”¹æŒ‡çš„æ˜¯æ·»åŠ æˆ–åˆ é™¤&lt;code&gt;ChannelHandler&lt;/code&gt;,è§ä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ChannelPipeline pipeline = ..;
FirstHandler firstHandler = new FirstHandler();
// å…ˆæ·»åŠ ä¸€ä¸ªHandleråˆ°ChannelPipelineä¸­
pipeline.addLast(&quot;handler1&quot;, firstHandler);
// è¿™ä¸ªHandleræ”¾åœ¨äº†first,æ„å‘³ç€æ”¾åœ¨äº†handler1ä¹‹å‰
pipeline.addFirst(&quot;handler2&quot;, new SecondHandler());
// è¿™ä¸ªHandlerè¢«æ”¾åˆ°äº†last,æ„å‘³ç€åœ¨handler1ä¹‹å
pipeline.addLast(&quot;handler3&quot;, new ThirdHandler());
...
// é€šè¿‡åç§°åˆ é™¤
pipeline.remove(&quot;handler3&quot;);
// é€šè¿‡å¯¹è±¡åˆ é™¤
pipeline.remove(firstHandler);
// åç§°&quot;handler2&quot;æ›¿æ¢æˆåç§°&quot;handler4&quot;,å¹¶åˆ‡handler2çš„å®ä¾‹æ›¿æ¢æˆäº†handler4çš„å®ä¾‹
pipeline.replace(&quot;handler2&quot;, &quot;handler4&quot;, new ForthHandler());
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;channelpipelineçš„å‡ºå…¥ç«™api&quot;&gt;&lt;code&gt;ChannelPipeline&lt;/code&gt;çš„å‡ºå…¥ç«™&lt;code&gt;API&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;å…¥ç«™&lt;code&gt;API&lt;/code&gt;æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;[å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-6037f5-1598167949595)]&lt;/p&gt;
&lt;p&gt;å‡ºç«™&lt;code&gt;API&lt;/code&gt;æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-93cd407346b35afe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUndZ6.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ChannelPipeline&lt;/code&gt; è¿™ä¸ªç»„ä»¶ä¸Šé¢æ‰€è®²çš„å¤§è‡´åªéœ€è¦è®°ä½è¿™ä¸‰ç‚¹å³å¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;ChannelPipeline&lt;/code&gt; ä¿å­˜äº†ä¸ &lt;code&gt;Channel&lt;/code&gt; ç›¸å…³è”çš„ &lt;code&gt;ChannelHandler&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChannelPipeline&lt;/code&gt; å¯ä»¥æ ¹æ®éœ€è¦ï¼Œé€šè¿‡æ·»åŠ æˆ–è€…åˆ é™¤ &lt;code&gt;ChannelHandler&lt;/code&gt; æ¥åŠ¨æ€åœ°ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChannelPipeline&lt;/code&gt; æœ‰ç€ä¸°å¯Œçš„&lt;code&gt;API&lt;/code&gt;ç”¨ä»¥è¢«è°ƒç”¨ï¼Œä»¥å“åº”å…¥ç«™å’Œå‡ºç«™äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;channelhandlercontext&quot;&gt;ChannelHandlerContext&lt;/h3&gt;
&lt;p&gt;å½“ &lt;code&gt;ChannelHandler&lt;/code&gt; è¢«æ·»åŠ åˆ° &lt;code&gt;ChannelPipeline&lt;/code&gt; æ—¶ï¼Œå®ƒå°†ä¼šè¢«åˆ†é…ä¸€ä¸ª &lt;code&gt;ChannelHandlerContext&lt;/code&gt; ï¼Œå®ƒä»£è¡¨äº† &lt;code&gt;ChannelHandler&lt;/code&gt; å’Œ &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¹‹é—´çš„ç»‘å®šã€‚&lt;code&gt;ChannelHandlerContext&lt;/code&gt; çš„ä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç†å®ƒæ‰€å…³è”çš„&lt;code&gt;ChannelHandler&lt;/code&gt;å’Œåœ¨åŒä¸€ä¸ª &lt;code&gt;ChannelPipeline&lt;/code&gt; ä¸­çš„å…¶ä»–&lt;code&gt;ChannelHandler&lt;/code&gt;ä¹‹é—´çš„äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè°ƒç”¨&lt;code&gt;Channel&lt;/code&gt;æˆ–&lt;code&gt;ChannelPipeline&lt;/code&gt;ä¸Šçš„æ–¹æ³•,ä¼šæ²¿ç€æ•´ä¸ª&lt;code&gt;ChannelPipeline&lt;/code&gt;ä¼ æ’­,å¦‚æœè°ƒç”¨&lt;code&gt;ChannelHandlerContext&lt;/code&gt;ä¸Šçš„ç›¸åŒæ–¹æ³•,åˆ™ä¼šä»å¯¹åº”çš„å½“å‰&lt;code&gt;ChannelHandler&lt;/code&gt;è¿›è¡Œä¼ æ’­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ChannelHandlerContext API&lt;/code&gt;å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-c08b22d37f156254.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUn0IO.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;ChannelHandlerContext&lt;/code&gt; å’Œ &lt;code&gt;ChannelHandler&lt;/code&gt;ä¹‹é—´çš„å…³è”ï¼ˆç»‘å®šï¼‰æ˜¯æ°¸è¿œä¸ä¼šæ”¹å˜çš„ï¼Œæ‰€ä»¥ç¼“å­˜å¯¹å®ƒçš„å¼•ç”¨æ˜¯å®‰å…¨çš„ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚åŒåœ¨æœ¬èŠ‚å¼€å¤´æ‰€è§£é‡Šçš„ä¸€æ ·ï¼Œç›¸å¯¹äºå…¶ä»–ç±»çš„åŒåæ–¹æ³•ï¼Œ&lt;code&gt;ChannelHandlerContext&lt;/code&gt;çš„æ–¹æ³•å°†äº§ç”Ÿæ›´çŸ­çš„äº‹ä»¶æµï¼Œ åº”è¯¥å°½å¯èƒ½åœ°åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥è·å¾—æœ€å¤§çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;ä¸channelhandlerã€channelpipelineçš„å…³è”ä½¿ç”¨&quot;&gt;ä¸&lt;code&gt;ChannelHandler&lt;/code&gt;ã€&lt;code&gt;ChannelPipeline&lt;/code&gt;çš„å…³è”ä½¿ç”¨&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-7fb2ed78ee2f7ce6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUnDiD.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»&lt;code&gt;ChannelHandlerContext&lt;/code&gt;è®¿é—®&lt;code&gt;channel&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ChannelHandlerContext ctx = ..;
// è·å–channelå¼•ç”¨
Channel channel = ctx.channel();
// é€šè¿‡channelå†™å…¥ç¼“å†²åŒº
channel.write(Unpooled.copiedBuffer(&quot;Netty in Action&quot;,
CharsetUtil.UTF_8));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»&lt;code&gt;ChannelHandlerContext&lt;/code&gt;è®¿é—®&lt;code&gt;ChannelPipeline&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ChannelHandlerContext ctx = ..;
// è·å–ChannelHandlerContext
ChannelPipeline pipeline = ctx.pipeline();
// é€šè¿‡ChannelPipelineå†™å…¥ç¼“å†²åŒº
pipeline.write(Unpooled.copiedBuffer(&quot;Netty in Action&quot;,
CharsetUtil.UTF_8));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-2342628bdea772bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUnrJe.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³ä»å¤´ä¼ é€’æ•°æ®,æƒ³è·³è¿‡å‡ ä¸ª&lt;code&gt;handler&lt;/code&gt;,ä»æŸä¸ª&lt;code&gt;handler&lt;/code&gt;å¼€å§‹ä¼ é€’æ•°æ®.æˆ‘ä»¬å¿…é¡»è·å–ç›®æ ‡&lt;code&gt;handler&lt;/code&gt;ä¹‹å‰çš„&lt;code&gt;handler&lt;/code&gt;å…³è”çš„&lt;code&gt;ChannelHandlerContext&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ChannelHandlerContext ctx = ..;
// ç›´æ¥é€šè¿‡ChannelHandlerContextå†™æ•°æ®,å‘é€åˆ°ä¸‹ä¸€ä¸ªhandler
ctx.write(Unpooled.copiedBuffer(&quot;Netty in Action&quot;, CharsetUtil.UTF_8));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-19b0ce78062e2ddf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUnyzd.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œ&lt;code&gt;ChannelHandlerContext&lt;/code&gt;çš„åŸºæœ¬ä½¿ç”¨åº”è¯¥æŒæ¡äº†,ä½†æ˜¯ä½ çœŸçš„ç†è§£&lt;code&gt;ChannelHandlerContext&lt;/code&gt;,&lt;code&gt;ChannelPipeline&lt;/code&gt;å’Œ&lt;code&gt;Channelhandler&lt;/code&gt;ä¹‹é—´çš„å…³ç³»äº†å—?ä¸ç†è§£ä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºæºç ä»¥åä¼šå¸®ä½ ç†è§£çš„æ›´ä¸ºæ·±åˆ»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ ¸å¿ƒç»„ä»¶ä¹‹é—´çš„å…³ç³»&quot;&gt;æ ¸å¿ƒç»„ä»¶ä¹‹é—´çš„å…³ç³»&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª &lt;code&gt;Channel&lt;/code&gt; å¯¹åº”ä¸€ä¸ª &lt;code&gt;ChannelPipeline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;ChannelPipeline&lt;/code&gt; åŒ…å«ä¸€æ¡åŒå‘çš„ &lt;code&gt;ChannelHandlerContext&lt;/code&gt; é“¾&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;ChannelHandlerContext&lt;/code&gt; ä¸­åŒ…å«ä¸€ä¸ª &lt;code&gt;ChannelHandler&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;Channel&lt;/code&gt; ä¼šç»‘å®šåˆ°ä¸€ä¸ª&lt;code&gt;EventLoop&lt;/code&gt;ä¸Š&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;NioEventLoop&lt;/code&gt; ç»´æŠ¤äº†ä¸€ä¸ª &lt;code&gt;Selectorï¼ˆ&lt;/code&gt;ä½¿ç”¨çš„æ˜¯ Java åŸç”Ÿçš„ Selectorï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;NioEventLoop&lt;/code&gt; ç›¸å½“äºä¸€ä¸ªçº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ç²˜åŒ…æ‹†åŒ…é—®é¢˜&quot;&gt;ç²˜åŒ…æ‹†åŒ…é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ç²˜åŒ…æ‹†åŒ…é—®é¢˜æ˜¯å¤„äºç½‘ç»œæ¯”è¾ƒåº•å±‚çš„é—®é¢˜ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ä»¥åŠä¼ è¾“å±‚éƒ½æœ‰å¯èƒ½å‘ç”Ÿã€‚æˆ‘ä»¬æ—¥å¸¸çš„ç½‘ç»œåº”ç”¨å¼€å‘å¤§éƒ½åœ¨ä¼ è¾“å±‚è¿›è¡Œï¼Œç”±äº&lt;code&gt;UDP&lt;/code&gt;æœ‰æ¶ˆæ¯ä¿æŠ¤è¾¹ç•Œï¼Œä¸ä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…é—®é¢˜ï¼Œè€Œå› æ­¤ç²˜åŒ…æ‹†åŒ…é—®é¢˜åªå‘ç”Ÿåœ¨&lt;code&gt;TCP&lt;/code&gt;åè®®ä¸­ã€‚å…·ä½“è®²&lt;code&gt;TCP&lt;/code&gt;æ˜¯ä¸ªâ€æµ&quot;åè®®ï¼Œåªæœ‰æµçš„æ¦‚å¿µï¼Œæ²¡æœ‰åŒ…çš„æ¦‚å¿µï¼Œå¯¹äºä¸šåŠ¡ä¸Šå±‚æ•°æ®çš„å…·ä½“å«ä¹‰å’Œè¾¹ç•Œå¹¶ä¸äº†è§£ï¼Œå®ƒåªä¼šæ ¹æ®&lt;code&gt;TCP&lt;/code&gt;ç¼“å†²åŒºçš„å®é™…æƒ…å†µè¿›è¡ŒåŒ…çš„åˆ’åˆ†ã€‚æ‰€ä»¥åœ¨ä¸šåŠ¡ä¸Šè®¤ä¸ºï¼Œä¸€ä¸ªå®Œæ•´çš„åŒ…å¯èƒ½ä¼šè¢«&lt;code&gt;TCP&lt;/code&gt;æ‹†åˆ†æˆå¤šä¸ªåŒ…è¿›è¡Œå‘é€ï¼Œä¹Ÿæœ‰å¯èƒ½æŠŠå¤šä¸ªå°çš„åŒ…å°è£…æˆä¸€ä¸ªå¤§çš„æ•°æ®åŒ…å‘é€ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„&lt;code&gt;TCP&lt;/code&gt;ç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é—®é¢˜ä¸¾ä¾‹è¯´æ˜&quot;&gt;é—®é¢˜ä¸¾ä¾‹è¯´æ˜&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢é’ˆå¯¹å®¢æˆ·ç«¯åˆ†åˆ«å‘é€äº†ä¸¤ä¸ªæ•°æ®è¡¨&lt;code&gt;Packet1&lt;/code&gt;å’Œ&lt;code&gt;Packet2&lt;/code&gt;ç»™æœåŠ¡ç«¯çš„æ—¶å€™ï¼Œ&lt;code&gt;TCP&lt;/code&gt;ç²˜åŒ…å’Œæ‹†åŒ…ä¼šå‡ºç°çš„æƒ…å†µè¿›è¡Œåˆ—ä¸¾è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æƒ…å†µï¼ŒæœåŠ¡ç«¯åˆ†ä¸¤æ¬¡æ­£å¸¸æ”¶åˆ°ä¸¤ä¸ªç‹¬ç«‹æ•°æ®åŒ…ï¼Œå³æ²¡æœ‰å‘ç”Ÿæ‹†åŒ…å’Œç²˜åŒ…çš„ç°è±¡ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-4d4679515945c3e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUncQA.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ç¬¬äºŒç§æƒ…å†µï¼Œæ¥æ”¶ç«¯åªæ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç”±äº&lt;code&gt;TCP&lt;/code&gt;æ˜¯ä¸ä¼šå‡ºç°ä¸¢åŒ…çš„ï¼Œæ‰€ä»¥è¿™ä¸€ä¸ªæ•°æ®åŒ…ä¸­åŒ…å«äº†å®¢æˆ·ç«¯å‘é€çš„ä¸¤ä¸ªæ•°æ®åŒ…çš„ä¿¡æ¯ï¼Œè¿™ç§ç°è±¡å³ä¸ºç²˜åŒ…ã€‚è¿™ç§æƒ…å†µç”±äºæ¥æ”¶ç«¯ä¸çŸ¥é“è¿™ä¸¤ä¸ªæ•°æ®åŒ…çš„ç•Œé™ï¼Œæ‰€ä»¥å¯¹äºæœåŠ¡æ¥æ”¶ç«¯æ¥è¯´å¾ˆéš¾å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-e28e48f4d54a9c17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUn2Lt.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æƒ…å†µï¼ŒæœåŠ¡ç«¯åˆ†ä¸¤æ¬¡è¯»å–åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œç¬¬ä¸€æ¬¡è¯»å–åˆ°äº†å®Œæ•´çš„&lt;code&gt;Packet1&lt;/code&gt;å’Œ&lt;code&gt;Packet2&lt;/code&gt;åŒ…çš„éƒ¨åˆ†å†…å®¹ï¼Œç¬¬äºŒæ¬¡è¯»å–åˆ°äº†&lt;code&gt;Packet2&lt;/code&gt;çš„å‰©ä½™å†…å®¹ï¼Œè¿™è¢«ç§°ä¸ºTCPæ‹†åŒ…ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-462747fa5bac0cff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;d0Pq8s.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰ç¬¬å››ç§æƒ…å†µï¼ŒæœåŠ¡ç«¯åˆ†ä¸¤æ¬¡è¯»å–åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œç¬¬ä¸€æ¬¡è¯»å–åˆ°äº†éƒ¨åˆ†çš„&lt;code&gt;Packet1&lt;/code&gt;å†…å®¹ï¼Œç¬¬äºŒæ¬¡è¯»å–åˆ°äº†&lt;code&gt;Packet1&lt;/code&gt;å‰©ä½™å†…å®¹å’Œ&lt;code&gt;Packet2&lt;/code&gt;çš„æ•´åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-839f6b6f14a91b4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dUn5FS.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ­¤æ—¶æœåŠ¡ç«¯TCPæ¥æ”¶æ»‘çª—éå¸¸å°ï¼Œè€Œæ•°æ®åŒ…&lt;code&gt;Packet1&lt;/code&gt;å’Œ&lt;code&gt;Packet2&lt;/code&gt;æ¯”è¾ƒå¤§ï¼Œå¾ˆæœ‰å¯èƒ½æœåŠ¡ç«¯éœ€è¦åˆ†å¤šæ¬¡æ‰èƒ½å°†ä¸¤ä¸ªåŒ…æ¥æ”¶å®Œå…¨ï¼ŒæœŸé—´å‘ç”Ÿå¤šæ¬¡æ‹†åŒ…ã€‚ä»¥ä¸Šåˆ—ä¸¾æƒ…å†µçš„èƒŒååŸå› åˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åº”ç”¨ç¨‹åºå†™å…¥çš„æ•°æ®å¤§äºå¥—æ¥å­—ç¼“å†²åŒºå¤§å°ï¼Œè¿™å°†ä¼šå‘ç”Ÿæ‹†åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºå†™å…¥æ•°æ®å°äºå¥—æ¥å­—ç¼“å†²åŒºå¤§å°ï¼Œç½‘å¡å°†åº”ç”¨å¤šæ¬¡å†™å…¥çš„æ•°æ®å‘é€åˆ°ç½‘ç»œä¸Šï¼Œè¿™å°†ä¼šå‘ç”Ÿç²˜åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;è¿›è¡Œ&lt;code&gt;MSS&lt;/code&gt;ï¼ˆæœ€å¤§æŠ¥æ–‡é•¿åº¦ï¼‰å¤§å°çš„&lt;code&gt;TCP&lt;/code&gt;åˆ†æ®µï¼Œå½“&lt;code&gt;TCP&lt;/code&gt;æŠ¥æ–‡é•¿åº¦-&lt;code&gt;TCP&lt;/code&gt;å¤´éƒ¨é•¿åº¦&amp;gt;&lt;code&gt;MSS&lt;/code&gt;çš„æ—¶å€™å°†å‘ç”Ÿæ‹†åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;æ¥æ”¶æ–¹æ³•ä¸åŠæ—¶è¯»å–å¥—æ¥å­—ç¼“å†²åŒºæ•°æ®ï¼Œè¿™å°†å‘ç”Ÿç²˜åŒ…ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;å¦‚ä½•åŸºäºnettyå¤„ç†ç²˜åŒ…ã€æ‹†åŒ…é—®é¢˜&quot;&gt;&lt;strong&gt;å¦‚ä½•åŸºäºNettyå¤„ç†ç²˜åŒ…ã€æ‹†åŒ…é—®é¢˜&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ç”±äºåº•å±‚çš„&lt;code&gt;TCP&lt;/code&gt;æ— æ³•ç†è§£ä¸Šå±‚çš„ä¸šåŠ¡æ•°æ®ï¼Œæ‰€ä»¥åœ¨åº•å±‚æ˜¯æ— æ³•ä¿è¯æ•°æ®åŒ…ä¸è¢«æ‹†åˆ†å’Œé‡ç»„çš„ï¼Œè¿™ä¸ªé—®é¢˜åªèƒ½é€šè¿‡ä¸Šå±‚çš„åº”ç”¨åè®®æ ˆè®¾è®¡æ¥è§£å†³ï¼Œæ ¹æ®ä¸šç•Œçš„ä¸»æµåè®®çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å½’çº³å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ¶ˆæ¯å®šé•¿ï¼Œä¾‹å¦‚æ¯ä¸ªæŠ¥æ–‡çš„å¤§å°ä¸ºå›ºå®šé•¿åº¦200å­—èŠ‚ï¼Œå¦‚æœä¸å¤Ÿï¼Œç©ºä½è¡¥ç©ºæ ¼ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨åŒ…å°¾å¢åŠ å›è½¦æ¢è¡Œç¬¦è¿›è¡Œåˆ†å‰²ï¼Œä¾‹å¦‚&lt;code&gt;FTP&lt;/code&gt;åè®®ï¼›&lt;/li&gt;
&lt;li&gt;å°†æ¶ˆæ¯åˆ†ä¸ºæ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ï¼Œæ¶ˆæ¯å¤´ä¸­åŒ…å«è¡¨ç¤ºæ¶ˆæ¯æ€»é•¿åº¦çš„å­—æ®µï¼Œé€šå¸¸è®¾è®¡æ€è·¯ä¸ºæ¶ˆæ¯å¤´çš„ç¬¬ä¸€ä¸ªå­—æ®µä½¿ç”¨&lt;code&gt;int32&lt;/code&gt;æ¥è¡¨ç¤ºæ¶ˆæ¯çš„æ€»é•¿åº¦ï¼›&lt;/li&gt;
&lt;li&gt;æ›´å¤æ‚çš„åº”ç”¨å±‚åè®®ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä¹‹å‰Nettyç¤ºä¾‹ä¸­å…¶å®å¹¶æ²¡æœ‰è€ƒè™‘è¯»åŠåŒ…é—®é¢˜ï¼Œè¿™åœ¨åŠŸèƒ½æµ‹è¯•å¾€å¾€æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦è¯·æ±‚æ•°è¿‡å¤šæˆ–è€…å‘é€å¤§æŠ¥æ–‡ä¹‹åï¼Œå°±ä¼šå­˜åœ¨è¯¥é—®é¢˜ã€‚å¦‚æœä»£ç æ²¡æœ‰è€ƒè™‘ï¼Œå¾€å¾€å°±ä¼šå‡ºç°è§£ç é”™ä½æˆ–è€…é”™è¯¯ï¼Œå¯¼è‡´ç¨‹åºä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œä¸‹é¢çœ‹çœ‹Nettyæ˜¯å¦‚ä½•æ ¹æ®ä¸»æµçš„è§£å†³æ–¹æ¡ˆè¿›è¡ŒæŠ½è±¡å®ç°æ¥å¸®å¿™è§£å†³è¿™ä¸€é—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ŒNettyä¸ºäº†æ‰¾å‡ºæ¶ˆæ¯çš„è¾¹ç•Œï¼Œé‡‡ç”¨å°å¸§æ–¹å¼ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æ–¹å¼&lt;/th&gt;
&lt;th&gt;è§£ç &lt;/th&gt;
&lt;th&gt;ç¼–ç &lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr&gt;&lt;td&gt;å›ºå®šé•¿åº¦&lt;/td&gt;
&lt;td&gt;&lt;code&gt;FixedLengthFrameDecoder&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç®€å•&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;åˆ†éš”ç¬¦&lt;/td&gt;
&lt;td&gt;&lt;code&gt;DelimiterBasedFrameDecoder&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç®€å•&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;ä¸“é—¨çš„ length å­—æ®µ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LengthFieldBasedFrameDecoder&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LengthFieldPrepender&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æ³¨æ„åˆ°ï¼ŒNettyæä¾›äº†å¯¹åº”çš„è§£ç å™¨æ¥è§£å†³å¯¹åº”çš„é—®é¢˜ï¼Œæœ‰äº†è¿™äº›è§£ç å™¨ï¼Œç”¨æˆ·ä¸éœ€è¦è‡ªå·±å¯¹è¯»å–çš„æŠ¥æ–‡è¿›è¡Œäººå·¥è§£ç ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘TCPçš„ç²˜åŒ…å’ŒåŠåŒ…é—®é¢˜ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿä¸‹é¢åˆ—ä¸¾ä¸€ä¸ªåŒ…å°¾å¢åŠ åˆ†éš”ç¬¦çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.channel.ChannelHandler;
import io.netty.channel.ChannelHandlerContext;
import io.netty.channel.ChannelInboundHandlerAdapter;
import io.netty.util.CharsetUtil;

import java.util.concurrent.atomic.AtomicInteger;

/**
 * @Author: wuxiaofei
 * @Date: 2020/8/15 0015 19:15
 * @Version: 1.0
 * @Description:å…¥ç«™å¤„ç†å™¨
 */
@ChannelHandler.Sharable
public class DelimiterServerHandler extends ChannelInboundHandlerAdapter {

    private AtomicInteger counter = new AtomicInteger(0);
    private AtomicInteger completeCounter = new AtomicInteger(0);

    /*** æœåŠ¡ç«¯è¯»å–åˆ°ç½‘ç»œæ•°æ®åçš„å¤„ç†*/
    @Override
    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
        ByteBuf in = (ByteBuf)msg;
        String request = in.toString(CharsetUtil.UTF_8);
        System.out.println(&quot;Server Accept[&quot;+request
                +&quot;] and the counter is:&quot;+counter.incrementAndGet());
        String resp = &quot;Hello,&quot;+request+&quot;. Welcome to Netty World!&quot;
                + DelimiterEchoServer.DELIMITER_SYMBOL;
        ctx.writeAndFlush(Unpooled.copiedBuffer(resp.getBytes()));
    }

    /*** æœåŠ¡ç«¯è¯»å–å®Œæˆç½‘ç»œæ•°æ®åçš„å¤„ç†*/
    @Override
    public void channelReadComplete(ChannelHandlerContext ctx)
            throws Exception {
        ctx.fireChannelReadComplete();
        System.out.println(&quot;the ReadComplete count is &quot;
                +completeCounter.incrementAndGet());
    }

    /*** å‘ç”Ÿå¼‚å¸¸åçš„å¤„ç†*/
    @Override
    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
        cause.printStackTrace();
        ctx.close();
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;import io.netty.bootstrap.ServerBootstrap;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.channel.Channel;
import io.netty.channel.ChannelFuture;
import io.netty.channel.ChannelInitializer;
import io.netty.channel.EventLoopGroup;
import io.netty.channel.nio.NioEventLoopGroup;
import io.netty.channel.socket.nio.NioServerSocketChannel;
import io.netty.handler.codec.DelimiterBasedFrameDecoder;

import java.net.InetSocketAddress;

/**
 * @Author: wuxiaofei
 * @Date: 2020/8/15 0015 19:17
 * @Version: 1.0
 * @Description:æœåŠ¡ç«¯
 */
public class DelimiterEchoServer {

    public static final String DELIMITER_SYMBOL = &quot;@~&quot;;
    public static final int PORT = 9997;

    public static void main(String[] args) throws InterruptedException {
        DelimiterEchoServer delimiterEchoServer = new DelimiterEchoServer();
        System.out.println(&quot;æœåŠ¡å™¨å³å°†å¯åŠ¨&quot;);
        delimiterEchoServer.start();
    }

    public void start() throws InterruptedException {
        final DelimiterServerHandler serverHandler = new DelimiterServerHandler();
        EventLoopGroup group = new NioEventLoopGroup();/*çº¿ç¨‹ç»„*/
        try {
            ServerBootstrap b = new ServerBootstrap();/*æœåŠ¡ç«¯å¯åŠ¨å¿…é¡»*/
            b.group(group)/*å°†çº¿ç¨‹ç»„ä¼ å…¥*/
                .channel(NioServerSocketChannel.class)/*æŒ‡å®šä½¿ç”¨NIOè¿›è¡Œç½‘ç»œä¼ è¾“*/
                .localAddress(new InetSocketAddress(PORT))/*æŒ‡å®šæœåŠ¡å™¨ç›‘å¬ç«¯å£*/
                /*æœåŠ¡ç«¯æ¯æ¥æ”¶åˆ°ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œå°±ä¼šæ–°å¯ä¸€ä¸ªsocketé€šä¿¡ï¼Œä¹Ÿå°±æ˜¯channelï¼Œ
                æ‰€ä»¥ä¸‹é¢è¿™æ®µä»£ç çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™ä¸ªå­channelå¢åŠ handle*/
                .childHandler(new ChannelInitializerImp());
            ChannelFuture f = b.bind().sync();/*å¼‚æ­¥ç»‘å®šåˆ°æœåŠ¡å™¨ï¼Œsync()ä¼šé˜»å¡ç›´åˆ°å®Œæˆ*/
            System.out.println(&quot;æœåŠ¡å™¨å¯åŠ¨å®Œæˆï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥å’Œæ•°æ®.....&quot;);
            f.channel().closeFuture().sync();/*é˜»å¡ç›´åˆ°æœåŠ¡å™¨çš„channelå…³é—­*/
        } finally {
            group.shutdownGracefully().sync();/*ä¼˜é›…å…³é—­çº¿ç¨‹ç»„*/
        }
    }

    private static class ChannelInitializerImp extends ChannelInitializer&amp;lt;Channel&amp;gt; {

        @Override
        protected void initChannel(Channel ch) throws Exception {
            ByteBuf delimiter = Unpooled.copiedBuffer(DELIMITER_SYMBOL
                    .getBytes());
            //æœåŠ¡ç«¯æ”¶åˆ°æ•°æ®åŒ…åç»è¿‡DelimiterBasedFrameDecoderå³åˆ†éš”ç¬¦åŸºç¡€æ¡†æ¶è§£ç å™¨è§£ç ä¸ºä¸€ä¸ªä¸ªå¸¦æœ‰åˆ†éš”ç¬¦çš„æ•°æ®åŒ…ã€‚
            ch.pipeline().addLast( new DelimiterBasedFrameDecoder(1024,
                    delimiter));
            ch.pipeline().addLast(new DelimiterServerHandler());
        }
    }

}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ·»åŠ åˆ°&lt;code&gt;ChannelPipeline&lt;/code&gt;çš„&lt;code&gt;DelimiterBasedFrameDecoder&lt;/code&gt;ç”¨äºå¯¹ä½¿ç”¨åˆ†éš”ç¬¦ç»“å°¾çš„æ¶ˆæ¯è¿›è¡Œè‡ªåŠ¨è§£ç ï¼Œå½“ç„¶è¿˜æœ‰æ²¡æœ‰ç”¨åˆ°çš„&lt;code&gt;FixedLengthFrameDecoder&lt;/code&gt;ç”¨äºå¯¹å›ºå®šé•¿åº¦çš„æ¶ˆæ¯è¿›è¡Œè‡ªåŠ¨è§£ç ç­‰è§£ç å™¨ã€‚æ­£å¦‚ä¸Šé—¨çš„ä»£ç ä½¿ç”¨æ¡ˆä¾‹ï¼Œæœ‰äº†Nettyæä¾›çš„å‡ ç å™¨å¯ä»¥è½»æ¾åœ°å®Œæˆå¯¹å¾ˆå¤šæ¶ˆæ¯çš„è‡ªåŠ¨è§£ç ï¼Œè€Œä¸”ä¸éœ€è¦è€ƒè™‘TCPç²˜åŒ…/æ‹†åŒ…å¯¼è‡´çš„è¯»åŠåŒ…é—®é¢˜ï¼Œæå¤§åœ°æå‡äº†å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;nettyç¤ºä¾‹ä»£ç è¯¦è§£&quot;&gt;Nettyç¤ºä¾‹ä»£ç è¯¦è§£&lt;/h2&gt;
&lt;p&gt;ç›¸ä¿¡çœ‹å®Œä¸Šé¢çš„é“ºå«ï¼Œä½ å¯¹Nettyç¼–ç æœ‰äº†ä¸€å®šçš„äº†è§£äº†ï¼Œä¸‹é¢å†æ¥æ•´ä½“æ¢³ç†ä¸€éå§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/5660078-d23f9bba3522c20b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;dVp7yn.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;1ã€è®¾ç½®&lt;code&gt;EventLoopGroup&lt;/code&gt;çº¿ç¨‹ç»„(&lt;code&gt;Reactor&lt;/code&gt;çº¿ç¨‹ç»„)&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;EventLoopGroup bossGroup = new NioEventLoopGroup(1);
EventLoopGroup workerGroup = new NioEventLoopGroup();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬è¯´è¿‡&lt;code&gt;Netty&lt;/code&gt;ä¸­ä½¿ç”¨&lt;code&gt;Reactor&lt;/code&gt;æ¨¡å¼ï¼Œ&lt;code&gt;bossGroup&lt;/code&gt;è¡¨ç¤ºæœåŠ¡å™¨è¿æ¥ç›‘å¬çº¿ç¨‹ç»„ï¼Œä¸“é—¨æ¥å— &lt;code&gt;Accept&lt;/code&gt; æ–°çš„å®¢æˆ·ç«¯&lt;code&gt;client&lt;/code&gt; è¿æ¥ã€‚å¦ä¸€ä¸ª&lt;code&gt;workerGroup&lt;/code&gt;è¡¨ç¤ºå¤„ç†æ¯ä¸€è¿æ¥çš„æ•°æ®æ”¶å‘çš„çº¿ç¨‹ç»„ï¼Œæ¥å¤„ç†æ¶ˆæ¯çš„è¯»å†™äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;2ã€æœåŠ¡ç«¯å¼•å¯¼å™¨&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ServerBootstrap serverBootstrap = new ServerBootstrap();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é›†æˆæ‰€æœ‰é…ç½®ï¼Œç”¨æ¥å¯åŠ¨&lt;code&gt;Netty&lt;/code&gt;æœåŠ¡ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;3ã€è®¾ç½®&lt;code&gt;ServerBootstrap&lt;/code&gt;ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;serverBootstrap.group(bossGroup, workerGroup);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°†ä¸¤ä¸ªçº¿ç¨‹ç»„è®¾ç½®åˆ°&lt;code&gt;ServerBootstrap&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;4ã€è®¾ç½®&lt;code&gt;ServerSocketChannel&lt;/code&gt;ç±»å‹&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;serverBootstrap.channel(NioServerSocketChannel.class);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è®¾ç½®é€šé“çš„&lt;code&gt;IO&lt;/code&gt;ç±»å‹ï¼Œ&lt;code&gt;Netty&lt;/code&gt;ä¸æ­¢æ”¯æŒ&lt;code&gt;Java NIO&lt;/code&gt;ï¼Œä¹Ÿæ”¯æŒé˜»å¡å¼&lt;code&gt;IO&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;code&gt;OIO&lt;/code&gt;&lt;strong&gt;OioServerSocketChannel.class)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;5ã€è®¾ç½®å‚æ•°&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;serverBootstrap.option(ChannelOption.SO_BACKLOG, 100);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;option()&lt;/code&gt;æ–¹æ³•å¯ä»¥è®¾ç½®å¾ˆå¤šå‚æ•°ï¼Œè¿™é‡Œ&lt;code&gt;SO_BACKLOG&lt;/code&gt;æ ‡è¯†æœåŠ¡ç«¯æ¥å—è¿æ¥çš„é˜Ÿåˆ—é•¿åº¦ï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå®¢æˆ·ç«¯è¿æ¥å°†è¢«æ‹’ç»ã€‚é»˜è®¤å€¼ï¼Œ&lt;code&gt;Windows&lt;/code&gt;ä¸º200ï¼Œå…¶ä»–ä¸º128ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯100ã€‚&lt;/p&gt;
&lt;p&gt;6ã€è®¾ç½®&lt;code&gt;Handler&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;serverBootstrap.handler(new LoggingHandler(LogLevel.INFO));
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è®¾ç½® &lt;code&gt;ServerSocketChannel&lt;/code&gt;å¯¹åº”çš„&lt;code&gt;Handler&lt;/code&gt;ï¼Œè¿™é‡Œåªèƒ½è®¾ç½®ä¸€ä¸ªï¼Œå®ƒä¼šåœ¨&lt;code&gt;SocketChannel&lt;/code&gt;å»ºç«‹èµ·æ¥ä¹‹å‰æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;7ã€è®¾ç½®å­Handler&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;serverBootstrap.childHandler(new ChannelInitializer&amp;lt;SocketChannel&amp;gt;() {
    @Override
    public void initChannel(SocketChannel ch) throws Exception {
        ChannelPipeline p = ch.pipeline();
        p.addLast(new LoggingHandler(LogLevel.INFO));
        p.addLast(new ChatNettyHandler());
    }
});
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Netty&lt;/code&gt;ä¸­æä¾›äº†ä¸€ç§å¯ä»¥è®¾ç½®å¤šä¸ª&lt;code&gt;Handler&lt;/code&gt;çš„é€”å¾„ï¼Œå³ä½¿ç”¨&lt;code&gt;ChannelInitializer&lt;/code&gt;æ–¹å¼ã€‚&lt;code&gt;ChannelPipeline&lt;/code&gt;æ˜¯&lt;code&gt;Netty&lt;/code&gt;å¤„ç†è¯·æ±‚çš„è´£ä»»é“¾ï¼Œè¿™æ˜¯ä¸€ä¸ª&lt;code&gt;ChannelHandler&lt;/code&gt;çš„é“¾è¡¨ï¼Œè€Œ&lt;code&gt;ChannelHandler&lt;/code&gt;å°±æ˜¯ç”¨æ¥å¤„ç†ç½‘ç»œè¯·æ±‚çš„å†…å®¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ª&lt;code&gt;channel&lt;/code&gt;ï¼Œéƒ½æœ‰ä¸€ä¸ªå¤„ç†å™¨æµæ°´çº¿ã€‚è£…é…&lt;code&gt;child channel&lt;/code&gt;æµæ°´çº¿ï¼Œè°ƒç”¨&lt;code&gt;childHandler()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ é€’ä¸€ä¸ª&lt;code&gt;ChannelInitializer&lt;/code&gt; çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;child channel&lt;/code&gt; åˆ›å»ºæˆåŠŸï¼Œå¼€å§‹é€šé“åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåœ¨bootstrapå¯åŠ¨å™¨ä¸­é…ç½®çš„&lt;code&gt;ChannelInitializer&lt;/code&gt; å®ä¾‹å°±ä¼šè¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ï¼Œæ‰çœŸæ­£çš„æ‰§è¡Œå»æ‰§è¡Œ &lt;code&gt;initChannel&lt;/code&gt; åˆå§‹åŒ–æ–¹æ³•ï¼Œå¼€å§‹é€šé“æµæ°´çº¿è£…é…ã€‚&lt;/p&gt;
&lt;p&gt;æµæ°´çº¿è£…é…ï¼Œä¸»è¦æ˜¯åœ¨æµæ°´çº¿&lt;code&gt;pipeline&lt;/code&gt;çš„åé¢ï¼Œå¢åŠ è´Ÿè´£æ•°æ®è¯»å†™ã€å¤„ç†ä¸šåŠ¡é€»è¾‘çš„&lt;code&gt;handler&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤„ç†å™¨ &lt;code&gt;ChannelHandler&lt;/code&gt; ç”¨æ¥å¤„ç†ç½‘ç»œè¯·æ±‚å†…å®¹ï¼Œæœ‰&lt;code&gt;ChannelInboundHandler&lt;/code&gt;å’Œ&lt;code&gt;ChannelOutboundHandler&lt;/code&gt;ä¸¤ç§ï¼Œ&lt;code&gt;ChannlPipeline&lt;/code&gt;ä¼šä»å¤´åˆ°å°¾é¡ºåºè°ƒç”¨&lt;code&gt;ChannelInboundHandler&lt;/code&gt;å¤„ç†ç½‘ç»œè¯·æ±‚å†…å®¹ï¼Œä»å°¾åˆ°å¤´è°ƒç”¨&lt;code&gt;ChannelOutboundHandler&lt;/code&gt;å¤„ç†ç½‘ç»œè¯·æ±‚å†…å®¹&lt;/p&gt;
&lt;p&gt;8ã€ç»‘å®šç«¯å£å·&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ChannelFuture f = serverBootstrap.bind(PORT).sync();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»‘å®šç«¯å£å·&lt;/p&gt;
&lt;p&gt;9ã€ç­‰å¾…æœåŠ¡ç«¯ç«¯å£å·å…³é—­&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;f.channel().closeFuture().sync();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç­‰å¾…æœåŠ¡ç«¯ç›‘å¬ç«¯å£å…³é—­ï¼Œ&lt;code&gt;sync()&lt;/code&gt;ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œå†…éƒ¨è°ƒç”¨çš„æ˜¯ &lt;code&gt;Object&lt;/code&gt; çš„ &lt;code&gt;wait()&lt;/code&gt;æ–¹æ³•&lt;/p&gt;
&lt;p&gt;10ã€å…³é—­EventLoopGroupçº¿ç¨‹ç»„&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;bossGroup.shutdownGracefully();
workerGroup.shutdownGracefully();
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»ä¸€ä¸ª&lt;code&gt;demo&lt;/code&gt;ä½œä¸ºå¼•å­ï¼Œç„¶åä»‹ç»äº†&lt;code&gt;Netty&lt;/code&gt;çš„åŒ…ç»“æ„ã€&lt;code&gt;Reactor&lt;/code&gt;æ¨¡å‹ã€ç¼–ç¨‹è§„èŒƒç­‰ç­‰ï¼Œç›®çš„å¾ˆç®€å•ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿè¯»æ‡‚è¿™æ®µ&lt;code&gt;demo&lt;/code&gt;å¹¶å†™å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;åé¢å¼€å§‹ç»§ç»­&lt;code&gt;Netty&lt;/code&gt;æºç è§£æéƒ¨åˆ†ï¼Œæ•¬è¯·æœŸå¾…ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;ã€ŠNetty in Actionã€‹ä¹¦ç±&lt;/li&gt;
&lt;li&gt;æ…•è¯¾Nettyä¸“æ &lt;/li&gt;
&lt;li&gt;æ˜é‡‘é—ªç”µä¾ Nettyå°å†Œ&lt;/li&gt;
&lt;li&gt;èŠ‹é“æºç Nettyä¸“æ &lt;/li&gt;
&lt;li&gt;Github[fork from krcys]&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ„Ÿè°¢Nettyä¸“æ ä½œè€…ä»¬ä¼˜ç§€çš„æ–‡ç« å†…å®¹~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/6/22/172d9428e6afd974?w=900&amp;amp;h=383&amp;amp;f=png&amp;amp;s=100094&quot; alt=&quot;åŸåˆ›å¹²è´§åˆ†äº«.png&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 24 Aug 2020 22:27:00 +0000</pubDate>
<dc:creator>ä¸€æèŠ±ç®—ä¸ç®—æµªæ¼«</dc:creator>
<og:description>é«˜æ¸…æ€ç»´å¯¼å›¾åŸä»¶(xmind/pdf/jpg)å¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼šä¸€æèŠ±ç®—ä¸ç®—æµªæ¼« å›å¤netty01å³å¯ã€‚ å‰è¨€ ä¸Šä¸€ç¯‡æ–‡ç« è®²äº†NIOç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œç›¸æ¯”äºä¼ ç»ŸIOï¼ŒNIOå·²ç»åšå¾—å¾ˆä¼˜é›…äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/wang-meng/p/13557635.html</dc:identifier>
</item>
<item>
<title>Springbootä¸­ç™»å½•åå…³äºcookieå’Œsessionæ‹¦æˆªæ¡ˆä¾‹ - å¹¸å­åœ¨ç¥å¥ˆå·</title>
<link>http://www.cnblogs.com/tenghw/p/13557327.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/tenghw/p/13557327.html</guid>
<description>&lt;h3 id=&quot;ä¸€ã€å‰è¨€&quot;&gt;ä¸€ã€å‰è¨€&lt;/h3&gt;
&lt;p&gt;1ã€ç®€å•çš„ç™»å½•éªŒè¯å¯ä»¥é€šè¿‡Sessionæˆ–è€…Cookieå®ç°ã€‚&lt;br/&gt;2ã€æ¯æ¬¡ç™»å½•çš„æ—¶å€™éƒ½è¦è¿›æ•°æ®åº“æ ¡éªŒä¸‹è´¦æˆ·åå’Œå¯†ç ï¼Œåªæ˜¯åŠ äº†cookie æˆ–sessionéªŒè¯åï¼›æ¯”å¦‚ç™»å½•é¡µé¢Aï¼Œç™»å½•æˆåŠŸåè¿›å…¥é¡µé¢Bï¼Œè‹¥æ­¤æ—¶cookieè¿‡æœŸï¼Œåœ¨é¡µé¢Bä¸­æ–°çš„è¯·æ±‚urlåˆ°é¡µé¢c,ç³»ç»Ÿä¼šè®©å®ƒå›åˆ°åˆå§‹çš„ç™»å½•é¡µé¢ã€‚ï¼ˆç±»ä¼¼å•ç‚¹ç™»å½•ssoï¼ˆsingle sign onï¼‰ï¼‰ã€‚&lt;br/&gt;3ã€å¦å¤–ï¼Œæ— è®ºåŸºäºSessionè¿˜æ˜¯Cookieçš„ç™»å½•éªŒè¯ï¼Œéƒ½éœ€è¦å¯¹HandlerInteceptorè¿›è¡Œé…ç½®ï¼Œå¢åŠ å¯¹URLçš„æ‹¦æˆªè¿‡æ»¤æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äºŒã€åˆ©ç”¨cookieè¿›è¡Œç™»å½•éªŒè¯&quot;&gt;äºŒã€åˆ©ç”¨Cookieè¿›è¡Œç™»å½•éªŒè¯&lt;/h3&gt;
&lt;p&gt;1ã€é…ç½®æ‹¦æˆªå™¨ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-@Slf4j&quot;&gt;public class CookiendSessionInterceptor implements HandlerInterceptor {     

@Override     
public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {         
      log.debug(&quot;è¿›å…¥æ‹¦æˆªå™¨&quot;);         
      Cookie[] cookies = request.getCookies();         
      if(cookies!=null &amp;amp;&amp;amp; cookies.length&amp;gt;0){             
            for(Cookie cookie:cookies) {                
                  log.debug(&quot;cookie===foréå†&quot;+cookie.getName());                 
                  if (StringUtils.equalsIgnoreCase(cookie.getName(), &quot;isLogin&quot;)) {                     
                        log.debug(&quot;æœ‰cookie ---isLoginï¼Œå¹¶ä¸”cookieè¿˜æ²¡è¿‡æœŸ...&quot;);                     
                       //éå†cookieå¦‚æœæ‰¾åˆ°ç™»å½•çŠ¶æ€åˆ™è¿”å›trueç»§ç»­æ‰§è¡ŒåŸæ¥è¯·æ±‚urlåˆ°controllerä¸­çš„æ–¹æ³•                     
                        return true;                 
                              }             
                        }         
                  }         
            log.debug(&quot;æ²¡æœ‰cookie-----cookieæ—¶é—´å¯èƒ½åˆ°æœŸï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µé¢åè¯·é‡æ–°ç™»å½•ã€‚ã€‚ã€‚&quot;);         
            response.sendRedirect(&quot;index.html&quot;);         
            //è¿”å›falseï¼Œä¸æ‰§è¡ŒåŸæ¥controllerçš„æ–¹æ³•         
            return false;     }     

  @Override     
  public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {   
     }     
  @Override   
  public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {    
      }  

}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2ã€åœ¨Springbootä¸­æ‹¦æˆªçš„è¯·æ±‚ä¸ç®¡æ˜¯é…ç½®ç›‘å¬å™¨(å®šä¹‰ä¸€ä¸ªç±»å®ç°ä¸€ä¸ªæ¥å£HttpSessionListener )ã€è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨,éƒ½è¦é…ç½®å¦‚ä¸‹æ­¤ç±»å®ç°ä¸€ä¸ªæ¥å£ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ã€‚&lt;br/&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Configuration 
public class WebConfig implements WebMvcConfigurer {     
// è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥é…ç½®é™æ€èµ„æºçš„ï¼Œæ¯”å¦‚htmlï¼Œjsï¼Œcssï¼Œç­‰ç­‰     
@Override     
public void addResourceHandlers(ResourceHandlerRegistry registry) {   
  }    

 // è¿™ä¸ªæ–¹æ³•ç”¨æ¥æ³¨å†Œæ‹¦æˆªå™¨ï¼Œæˆ‘ä»¬è‡ªå·±å†™å¥½çš„æ‹¦æˆªå™¨éœ€è¦é€šè¿‡è¿™é‡Œæ·»åŠ æ³¨å†Œæ‰èƒ½ç”Ÿæ•ˆ    
@Override     
public void addInterceptors(InterceptorRegistry registry) {         
//addPathPatterns(&quot;/**&quot;) è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚         
//excludePathPatterns(&quot;/firstLogin&quot;,&quot;/zhuce&quot;);è®¾ç½®ç™½åå•ï¼Œå°±æ˜¯æ‹¦æˆªå™¨ä¸æ‹¦æˆªã€‚é¦–æ¬¡è¾“å…¥è´¦å·å¯†ç ç™»å½•å’Œæ³¨å†Œä¸ç”¨æ‹¦æˆªï¼       
//ç™»å½•é¡µé¢åœ¨æ‹¦æˆªå™¨é…ç½®ä¸­é…ç½®çš„æ˜¯æ’é™¤è·¯å¾„ï¼Œå¯ä»¥çœ‹åˆ°å³ä½¿æ”¾è¡Œäº†ï¼Œè¿˜æ˜¯ä¼šè¿›å…¥prehandleï¼Œä½†æ˜¯ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚         
registry.addInterceptor(new CookiendSessionInterceptor()).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/&quot;,                                      
                                                                                                     &quot;/**/login&quot;,                                     
                                                                                                     &quot;/**/*.html&quot;,                                     
                                                                                                     &quot;/**/*.js&quot;,                                     
                                                                                                     &quot;/**/*.css&quot;,                                      
                                                                                                     &quot;/**/*.jpg&quot;);   
   } 

 }

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3.å‰å°ç™»å½•é¡µé¢index.htmlï¼ˆæˆ‘æŠŠè¿™ä¸ªhtmlæ”¾åœ¨é™æ€èµ„æºäº†ï¼Œä¹Ÿè®©æ‹¦æˆªå™¨æ”¾è¡Œäº†æ­¤è·¯ç”±urlï¼‰&lt;br/&gt;å‰ç«¯æµ‹è¯•å°±æ˜¯ä¸€ä¸ªç®€å•çš„formè¡¨å•æäº¤&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;!--æµ‹è¯•cookieå’Œsessionid--&amp;gt; 
&amp;lt;form action=&quot;/login&quot; method=&quot;post&quot;&amp;gt;     
  è´¦å·ï¼š&amp;lt;input type=&quot;text&quot; name=&quot;name1&quot; placeholder=&quot;è¯·è¾“å…¥è´¦å·&quot;&amp;gt;&amp;lt;br&amp;gt;     
  å¯†ç ï¼š&amp;lt;input type=&quot;password&quot; name=&quot;pass1&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot;&amp;gt;&amp;lt;br&amp;gt;     
  &amp;lt;input type=&quot;submit&quot; value=&quot;ç™»å½•&quot;&amp;gt; 
&amp;lt;/form&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;4ã€åå°æ§åˆ¶å±‚Controllerä¸šåŠ¡é€»è¾‘ï¼šç™»å½•é¡µé¢index.htmlï¼Œç™»å½•æˆåŠŸå loginSuccess.htmlã€‚&lt;br/&gt;åœ¨loginSuccess.htmlä¸­å¯æäº¤è¡¨å•è¿›å…¥æ¬¡é¡µdemo.htmlï¼Œä¹Ÿå¯ç‚¹å‡»â€œé€€å‡ºç™»å½•â€åå°æ¸…é™¤æ²¡æœ‰è¶…æ—¶çš„cookieï¼Œå¹¶ä¸”å›åˆ°åˆå§‹ç™»å½•é¡µé¢ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Controller 
@Slf4j 
@RequestMapping(value = &quot;/&quot;) 
public class TestCookieAndSessionController {     
@Autowired     JdbcTemplate jdbcTemplate;     
/**      * é¦–æ¬¡ç™»å½•ï¼Œè¾“å…¥è´¦å·å’Œå¯†ç ï¼Œæ•°æ®åº“éªŒè¯æ— è¯¯åï¼Œå“åº”è¿”å›ä½ è®¾ç½®çš„cookieã€‚å†æ¬¡è¾“å…¥è´¦å·å¯†ç ç™»å½•æˆ–è€…é¦–æ¬¡ç™»å½•åå†è¯·æ±‚ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œå°±ä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦cookie,      * å‰ææ˜¯cookieæ²¡æœ‰è¿‡æœŸã€‚      * æ­¤urlè¯·æ±‚æ–¹æ³•ä¸ç®¡æ˜¯é¦–æ¬¡ç™»å½•è¿˜æ˜¯ç¬¬næ¬¡ç™»å½•ï¼Œæ‹¦æˆªå™¨éƒ½ä¸ä¼šæ‹¦æˆªã€‚      * ä½†æ˜¯æ¯æ¬¡ï¼ˆé¦–æ¬¡æˆ–è€…ç¬¬Næ¬¡ï¼‰ç™»å½•éƒ½è¦è¿›è¡Œï¼Œæ•°æ®åº“æŸ¥è¯¢éªŒè¯è´¦å·å’Œå¯†ç ã€‚      * åšè¿™ä¸ªç›®çš„æ˜¯å¦‚æœç™»å½•é¡µé¢Aï¼Œç™»å½•æˆåŠŸåè¿›é¡µé¢Bï¼Œé¡µé¢Bæœ‰é“¾æ¥è¿›é¡µé¢Cï¼Œå¦‚æœcookieè¶…æ—¶ï¼Œé‡æ–°å›åˆ°ç™»å½•é¡µé¢Aã€‚ï¼ˆç±»ä¼¼å•ç‚¹ç™»å½•ï¼‰      */     

@PostMapping(value = &quot;login&quot;)     
public String test(HttpServletRequest request, HttpServletResponse response, @RequestParam(&quot;name1&quot;)String name,@RequestParam(&quot;pass1&quot;)String pass) throws Exception{         
  try {             
    Map&amp;lt;String, Object&amp;gt; result= jdbcTemplate.queryForMap(&quot;select * from userinfo where name=? and password=?&quot;, new Object[]{name, pass});             
      if(result==null || result.size()==0){                 
         log.debug(&quot;è´¦å·æˆ–è€…å¯†ç ä¸æ­£ç¡®æˆ–è€…æ­¤äººè´¦å·æ²¡æœ‰æ³¨å†Œ&quot;);                 
         throw new Exception(&quot;è´¦å·æˆ–è€…å¯†ç ä¸æ­£ç¡®æˆ–è€…æ­¤äººè´¦å·æ²¡æœ‰æ³¨å†Œï¼&quot;);             
      }else{                 
         log.debug(&quot;æŸ¥è¯¢æ»¡è¶³æ¡æ•°----&quot;+result);                 
         Cookie cookie = new Cookie(&quot;isLogin&quot;, &quot;success&quot;);                 
         cookie.setMaxAge(30);                 
         cookie.setPath(&quot;/&quot;);                
         response.addCookie(cookie);                 
         request.setAttribute(&quot;isLogin&quot;, name);                 
         log.debug(&quot;é¦–æ¬¡ç™»å½•ï¼ŒæŸ¥è¯¢æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç æ— è¯¯ï¼Œç™»å½•æˆåŠŸï¼Œè®¾ç½®cookieæˆåŠŸ&quot;);                 
         return &quot;loginSuccess&quot;;             }         
  } catch (DataAccessException e) {             
         e.printStackTrace();             
         return &quot;error1&quot;;         
      }    
  } 
    
/**æµ‹è¯•ç™»å½•æˆåŠŸåé¡µé¢loginSuccess ï¼Œè¿›å…¥æ¬¡é¡µdemo.html*/     
@PostMapping(value = &quot;sub&quot;)     
public String test() throws Exception{        
  return  &quot;demo&quot;;     
 }     
/** èƒ½è¿›åˆ°æ­¤æ–¹æ³•ä¸­ï¼Œcookieä¸€å®šæ²¡æœ‰è¿‡æœŸã€‚å› ä¸ºæ‹¦æˆªå™¨åœ¨å‰é¢å·²ç»åˆ¤æ–­åŠ›ã€‚è¿‡æœŸï¼Œæ‹¦æˆªå™¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚è¿‡æœŸé€€å‡ºç™»å½•ï¼Œæ¸…ç©ºcookieã€‚*/    
@RequestMapping(value = &quot;exit&quot;,method = RequestMethod.POST)     
public String exit(HttpServletRequest request,HttpServletResponse response) throws Exception{         
  Cookie[] cookies = request.getCookies();         
  for(Cookie cookie:cookies){            
    if(&quot;isLogin&quot;.equalsIgnoreCase(cookie.getName())){                
      log.debug(&quot;é€€å‡ºç™»å½•æ—¶,cookieè¿˜æ²¡è¿‡æœŸï¼Œæ¸…ç©ºcookie&quot;);                 
      cookie.setMaxAge(0);                 
      cookie.setValue(null);                 
      cookie.setPath(&quot;/&quot;);                
      response.addCookie(cookie);                
      break;             
       }         
     }         
  //é‡å®šå‘åˆ°ç™»å½•é¡µé¢         
   return  &quot;redirect:index.html&quot;;     
     } 

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;5ã€æ•ˆæœæ¼”ç¤ºï¼š&lt;br/&gt;â‘ åœ¨ç™»å½•â€œlocalhost:8082â€è¾“å…¥è´¦å·ç™»å½•é¡µé¢ç™»å½•ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004359025-1999872610.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;â‘¡æ‹¦æˆªå™¨æˆ‘è®¾ç½®äº†æ”¾è¡Œ/loginï¼Œæ‰€ä»¥è¯·æ±‚ç›´æ¥è¿›Controllerç›¸åº”çš„æ–¹æ³•ä¸­ï¼š&lt;br/&gt;æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004617255-1307204884.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼Œæµè§ˆå™¨æœ‰äº›è‡ªå¸¦çš„ä¸æ­¢ä¸€ä¸ªcookieï¼Œè¿™é‡Œä¸è¦ç®¡å®ƒä»¬ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004718359-1784740669.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;â‘¢åœ¨loginSuccess.htmlï¼Œè¿›å…¥æ¬¡é¡µdemo.htmlã€‚cookieæ²¡æœ‰è¿‡æœŸé¡ºåˆ©è¿›å…¥demo.htmlï¼Œå¹¶ä¸”/subæ–¹æ³•ç»è¿‡æ‹¦æˆªå™¨ï¼ˆæ­¤è¯·æ±‚è¯·æ±‚å¤´ä¸­æºå¸¦cookieï¼‰ã€‚&lt;br/&gt;è¿‡æœŸçš„è¯ç›´æ¥å›åˆ°ç™»å½•é¡µé¢ï¼ˆè¿™é‡Œä¸å±•ç¤ºäº†ï¼‰&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004824554-167947810.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;â‘£åœ¨loginSuccess.htmlç‚¹å‡»â€œé€€å‡ºç™»å½•â€ï¼Œåå°æ¸…é™¤æˆ‘è®¾ç½®çš„æ²¡è¿‡æœŸçš„cookie=isLogin,å›åˆ°ç™»å½•é¡µé¢ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;h3 id=&quot;ä¸‰ã€åˆ©ç”¨sessionè¿›è¡Œç™»å½•éªŒè¯&quot;&gt;ä¸‰ã€åˆ©ç”¨Sessionè¿›è¡Œç™»å½•éªŒè¯&lt;/h3&gt;
&lt;p&gt;1ã€ä¿®æ”¹æ‹¦æˆªå™¨é…ç½®ç•¥å¾®ä¿®æ”¹ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004927153-668778034.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;Interceptorä¹Ÿç•¥å¾®ä¿®æ”¹ä¸‹ï¼šè¿˜æ˜¯ä¸Šé¢çš„preHandleæ–¹æ³•ä¸­ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825004952391-842816912.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.æ ¸å¿ƒ&lt;br/&gt;å‰ç«¯æˆ‘å°±ä¸å±•ç¤ºäº†ï¼Œå°±æ˜¯ä¸€ä¸ªformè¡¨å•action=&quot;login1&quot;&lt;br/&gt;åå°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/**åˆ©ç”¨sessionè¿›è¡Œç™»å½•éªŒè¯*/    
@RequestMapping(value = &quot;login1&quot;,method = RequestMethod.POST)     
public String testSession(HttpServletRequest request,
                          HttpServletResponse response,
                          @RequestParam(&quot;name1&quot;)String name,                        
                          @RequestParam(&quot;pass1&quot;)String pass) throws Exception{         
  try {            
    Map&amp;lt;String, Object&amp;gt; result= jdbcTemplate.queryForMap(&quot;select * from userinfo where name=? and password=?&quot;, new Object[]{name, pass});             
      if(result!=null &amp;amp;&amp;amp; result.size()&amp;gt;0){                 
        String requestURI = request.getRequestURI();                 
        log.debug(&quot;æ­¤æ¬¡è¯·æ±‚çš„url:{}&quot;,requestURI);                 
        HttpSession session = request.getSession();                 
        log.debug(&quot;session=&quot;+session+&quot;session.getId()=&quot;+session.getId()+&quot;session.getMaxInactiveInterval()=&quot;+session.getMaxInactiveInterval());                 
        session.setAttribute(&quot;isLogin1&quot;, &quot;true1&quot;);             
     }         
   } catch (DataAccessException e) {             
       e.printStackTrace();            
       return &quot;error1&quot;;        
 }      
    return  &quot;loginSuccess&quot;;    
  }    

 //ç™»å‡ºï¼Œç§»é™¤ç™»å½•çŠ¶æ€å¹¶é‡å®šå‘çš„ç™»å½•é¡µ     
@RequestMapping(value = &quot;/exit1&quot;, method = RequestMethod.POST)     
public String loginOut(HttpServletRequest request) {         
  request.getSession().removeAttribute(&quot;isLogin1&quot;);         
  log.debug(&quot;è¿›å…¥exit1æ–¹æ³•ï¼Œç§»é™¤isLogin1&quot;);         
  return &quot;redirect:index.html&quot;;     
  }
 }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ—¥å¿—å¦‚ä¸‹ï¼šå¯ä»¥çœ‹è§springbootå†…ç½®çš„tomcatä¸­sessionidå°±æ˜¯è¯·æ±‚å¤´ä¸­çš„jsessionidï¼Œè€Œä¸”é»˜è®¤æ—¶é—´1800ç§’ï¼ˆ30åˆ†é’Ÿï¼‰ã€‚&lt;br/&gt;æˆ‘ä¹Ÿä¸æ¸…æ¥šä»€ä¹ˆè¿›å…¥æ‹¦æˆªå™¨2æ¬¡ï¼Œå› ä¸ºæˆ‘login1è®¾ç½®æ”¾è¡Œäº†ï¼Œè‚¯å®šä¸ä¼šè¿›å…¥æ‹¦æˆªå™¨ã€‚å¯èƒ½æ˜¯ä»€ä¹ˆé™æ€åˆ«çš„ä»€ä¹ˆèµ„æºå§ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825005439075-141673961.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;session.getId()=F88CF6850CD575DFB3560C3AA7BEC89F==ä¸‹å›¾çš„JSESSIONID&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825005600367-1179138658.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;//ç‚¹å‡»é€€å‡ºç™»å½•ï¼Œè¯·æ±‚é€€å‡ºurlçš„è¯·æ±‚å¤´è¿˜æ˜¯æºå¸¦JSESSIONID,é™¤éæµè§ˆå™¨å…³æ‰æ‰æ¶ˆå¤±ã€‚ï¼ˆè¯¥sessionè®¾ç½®çš„å±æ€§isLogin1ç§»é™¤äº†ï¼Œsessionåœ¨ä¸å…³æµè§ˆå™¨æƒ…å†µä¸‹æˆ–è€…è¶…è¿‡é»˜è®¤æ—¶é—´30åˆ†é’Ÿåï¼Œsessionæ‰ä¼šè‡ªåŠ¨æ¸…é™¤ï¼ï¼‰&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825005653973-489899796.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825005744557-532701420.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å››ã€å®Œç»“&quot;&gt;å››ã€å®Œç»“&lt;/h3&gt;
&lt;p&gt;æ–‡ç« å¦‚æœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œè¿˜è¯·æŒ‡æ•™ä¸€ä¸‹ï¼&lt;br/&gt;æˆ‘æ˜¯ç å†œå°ä¼Ÿï¼Œè°¢è°¢å°ä¼™ä¼´è§‚çœ‹ï¼Œç»™æˆ‘å…³æ³¨ç‚¹ä¸ªèµï¼Œè°¢è°¢å¤§å®¶ï¼&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2048038/202008/2048038-20200825010143240-221408760.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 24 Aug 2020 17:03:00 +0000</pubDate>
<dc:creator>å¹¸å­åœ¨ç¥å¥ˆå·</dc:creator>
<og:description>ä¸€ã€å‰è¨€ 1ã€ç®€å•çš„ç™»å½•éªŒè¯å¯ä»¥é€šè¿‡Sessionæˆ–è€…Cookieå®ç°ã€‚ 2ã€æ¯æ¬¡ç™»å½•çš„æ—¶å€™éƒ½è¦è¿›æ•°æ®åº“æ ¡éªŒä¸‹è´¦æˆ·åå’Œå¯†ç ï¼Œåªæ˜¯åŠ äº†cookie æˆ–sessionéªŒè¯åï¼›æ¯”å¦‚ç™»å½•é¡µé¢Aï¼Œç™»å½•æˆåŠŸåè¿›å…¥</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/tenghw/p/13557327.html</dc:identifier>
</item>
<item>
<title>NET Core Kestreléƒ¨ç½²HTTPS ä¸€ä¸ªæœåŠ¡å™¨ç»‘ä¸€ä¸ªè¯ä¹¦ ä¸€ä¸ªæœåŠ¡å™¨ç»‘å¤šä¸ªè¯ä¹¦ - FreeTimeWorker</title>
<link>http://www.cnblogs.com/zzfstudy/p/13557309.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zzfstudy/p/13557309.html</guid>
<description>&lt;p&gt;&lt;span&gt;Â .net core 3.0 ç½‘ç«™å‘å¸ƒåˆ°centosåï¼Œç»‘å®šsslè¯ä¹¦ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç»‘ä¸€ä¸ªè¯ä¹¦ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç»‘å¤šä¸ªè¯ä¹¦&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å¼€å§‹ä¹‹å‰ï¼šå¯¹äºwindowsæœåŠ¡å™¨ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œåœ¨iisä¸­ç»‘å®šè¯ä¹¦æ˜¯éå¸¸ç®€å•çš„ä¸€ä»¶äº‹ï¼Œä¸æ˜¯æœ¬ç¯‡åšå®¢è®¨è®ºçš„èŒƒå›´ï¼Œç»‘å®šå¤šä¸ªè¯ä¹¦ä¸€æ ·&lt;/p&gt;
&lt;p&gt;3.0ä¸­æŒ‡å®šurlçš„æ–¹å¼å¯ä»¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ urls:&quot;http://*:5000&quot;è¿™ç§æ–¹å¼æ¥æŒ‡å®š&lt;/p&gt;
&lt;p&gt;å‘å¸ƒåˆ°centosçš„.net coreç½‘ç«™æˆ‘æ˜¯ç”¨ Kestrelæ‰˜ç®¡çš„ã€‚è¿™é‡Œä¹Ÿåªé’ˆå¯¹è¿™ä¸€ç§æƒ…å†µè¿›è¡Œæè¿°&lt;/p&gt;
&lt;p&gt;1,åœ¨program.csä¸­CreateHostBuilder æ›¿æ¢æˆå¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
 public static IHostBuilder CreateHostBuilder(string[] args) =&amp;gt;
            Host.CreateDefaultBuilder(args)
                .ConfigureWebHostDefaults(webBuilder =&amp;gt;
                {
                    webBuilder.UseStartup&amp;lt;Startup&amp;gt;()
                    .UseKestrel((context, options) =&amp;gt;
                    {
                        options.Configure(context.Configuration.GetSection(&quot;Kestrel&quot;));
                    });
                });
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;è¿™æ®µä»£ç æè¿°çš„æ˜¯KestrelæœåŠ¡çš„optionä»é…ç½®æ–‡ä»¶ä¸­è¯»å–&lt;/strong&gt;ã€€&lt;/p&gt;
&lt;p&gt;ç´§æ¥ç€åœ¨startupä¸­å¢åŠ Â app.UseHttpsRedirection();Â app.UseHsts();//é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¸ç”¨ç®¡å®ƒ&lt;/p&gt;
&lt;p&gt;2ï¼Œåœ¨é…ç½®æ–‡ä»¶appsettings.jsonä¸­å¢åŠ ï¼Œè¿™æ˜¯å•ç‹¬çš„é…ç½®èŠ‚ç‚¹ ï¼Œå…¶ä¸­pathï¼Œæ˜¯pfxæ–‡ä»¶çš„ä½ç½®ï¼Œpasswordæ˜¯è¯ä¹¦çš„å¯†ç ï¼Œåœ¨é˜¿é‡Œäº‘ç”³è¯·çš„è¯ä¹¦ï¼Œä¸‹è½½iisç‰ˆçš„å°±æœ‰è¿™ä¸¤&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
  &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Kestrel&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: {
    &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Limits&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: {
      &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MaxRequestBodySize&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;9223372036854775807&lt;/span&gt;&lt;span&gt;,
      &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MaxRequestBufferSize&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;9223372036854775807&lt;/span&gt;&lt;span&gt;,
      &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MaxRequestLineSize&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;9223372036854775807&lt;/span&gt;&lt;span&gt;
    },
    &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Endpoints&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: {
      &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Https&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: {
        &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Url&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;https://*:443&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
        &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Certificate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: {
          &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Path&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/home/cert/www.xxxx.pfx&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
          &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Password&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
        }
      }
    }
  }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;è¿™é‡Œçš„é…ç½®é¡¹å¯ä»¥å‚è€ƒå¾®è½¯çš„æ–‡æ¡£,åŸºæœ¬ä¸Šå¤§å¤šæ•°éœ€è¦ä»£ç æ˜¾å¼æŒ‡å®šçš„é…ç½®åœ¨&lt;/strong&gt;appsettings.json&lt;strong&gt;ä¸­éƒ½æ˜¯å¯ä»¥ç›´æ¥é…ç½®çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒæ–‡æ¡£åœ°å€ï¼š&lt;/strong&gt;&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1#endpoint-configuration&quot;&gt;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1#endpoint-configuration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœä¸€å°æœåŠ¡å™¨é‡Œè¾¹åªæœ‰ä¸€ä¸ªéœ€è¦sslè¯ä¹¦çš„ç½‘ç«™ï¼Œé‚£ä¹ˆåˆ°è¿™é‡Œï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆä¸å¹¸ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯åœ¨ä¸€å°æœåŠ¡å™¨é‡Œè¾¹ä½¿ç”¨ä¸¤ä¸ªsslè¯ä¹¦ï¼Œåˆ†åˆ«å¯¹ä¸¤ä¸ªç½‘ç«™åšsslä¼ è¾“åŠ å¯†ï¼Œåœ¨æŸ¥è¿‡å¾®è½¯çš„éƒ¨åˆ†æ–‡æ¡£åï¼Œæ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„è§£å†³æ–¹æ¡ˆï¼Œåè€Œæ˜¯æ‰¾åˆ°äº†nginxã€‚åœ¨linuxç”¨nginxå¯ä»¥è§£å†³ä¸€å°æœåŠ¡å™¨ç»‘å®šä¸¤ä¸ªsslçš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯å®‰è£…ï¼šyum install nginx,ä¸€è·¯y,å®‰è£…å®Œæ¯•åï¼Œnginxçš„ä¸»é…ç½®æ–‡ä»¶æ˜¯Â  Â &lt;strong&gt;/etc/nginx/nginx.confÂ &lt;/strong&gt;ç›´æ¥ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«å¯¹Nä¸ªéœ€è¦sslçš„ç«™ç‚¹è¿›è¡Œé…ç½®,å¦‚ä¸‹ï¼Œç›‘å¬ç«¯å£éƒ½æ˜¯443ï¼ŒåŒºåˆ«æ˜¯server_name ,æ ¹æ®éœ€è¦é…ç½®çš„åŸŸåï¼Œåˆ†åˆ«å†™å¯¹åº”çš„server_name,&lt;/p&gt;
&lt;p&gt;åŠ ç²—éƒ¨åˆ†æ˜¯éœ€è¦ç‰¹åˆ«å…³æ³¨çš„ï¼Œpemï¼Œå’Œkeyè¿™ä¸¤ å¦‚æœæ˜¯åœ¨é˜¿é‡Œäº‘ç”³è¯·çš„sslï¼Œä¸‹è½½çš„æ—¶å€™é€‰æ‹© nginxç‰ˆçš„ï¼Œå°±åŒ…å«ä¸‹è¾¹éœ€è¦çš„ä¸¤æ–‡ä»¶ï¼Œå¯ä»¥æ”¾åˆ°ä»»æ„ä½ç½®ï¼Œè¿™é‡Œå¡«å†™çš„æ˜¯è¿™ä¸¤æ–‡ä»¶çš„è·¯å¾„ï¼Œlocationé‡Œè¾¹çš„å†…å®¹æ˜¯è½¬å‘çš„æœ¬åœ°ç«¯å£å¯¹åº”çš„å°±æ˜¯åŸŸåå¯¹åº”çš„å­ç½‘ç«™ã€‚å­ç½‘ç«™å¿…é¡»æ˜¯å‘å¸ƒäº†çš„ï¼Œå¯è®¿é—®çš„ç«™ç‚¹ï¼Œå¦å¤–éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹&lt;strong&gt;å­ç½‘ç«™ä¸éœ€è¦ä»»ä½•è¯ä¹¦ï¼Œåªéœ€è¦å¯ä»¥è®¿é—®å³å¯&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;server {
       listen &lt;/span&gt;&lt;span&gt;443&lt;/span&gt;&lt;span&gt;;
       server_name &lt;strong&gt;serverName1.com&lt;/strong&gt;;
       ssl on;
       root &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;;
       ssl_certificate &lt;/span&gt;&lt;strong&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxxx.pem&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;;
       ssl_certificate_key &lt;/span&gt;&lt;strong&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxxx.key&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;;
       ssl_session_cache shared:SSL:1m;
       ssl_session_timeout  10m;
       ssl_ciphers PROFILE&lt;/span&gt;=&lt;span&gt;SYSTEM;
       ssl_prefer_server_ciphers on;
       include &lt;/span&gt;/etc/nginx/&lt;span&gt;default&lt;/span&gt;.d&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;.conf;
       location / {
            &lt;strong&gt;proxy_pass &lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;http://127.0.0.1&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;:5000;&lt;/strong&gt;
       }
       error_page 404 /404.html;
           location = /40x.html {
       }

       error_page 500 502 503 504 /50x.html;
           location = /50x.html {
       }
   }&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;server {
       listen &lt;/span&gt;&lt;span&gt;443&lt;/span&gt;&lt;span&gt;;
       server_name &lt;strong&gt;serverName2.com&lt;/strong&gt;;
       ssl on;
       root &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;;
       ssl_certificate &lt;/span&gt;&lt;strong&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxxx.pem&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;;
       ssl_certificate_key &lt;/span&gt;&lt;strong&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxxx.key&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;;
       ssl_session_cache shared:SSL:1m;
       ssl_session_timeout  10m;
       ssl_ciphers PROFILE&lt;/span&gt;=&lt;span&gt;SYSTEM;
       ssl_prefer_server_ciphers on;
       include &lt;/span&gt;/etc/nginx/&lt;span&gt;default&lt;/span&gt;.d&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;.conf;
       location / {
            &lt;strong&gt;proxy_pass &lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;http://127.0.0.1&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;:5001;&lt;/strong&gt;
       }
       error_page 404 /404.html;
           location = /40x.html {
       }

       error_page 500 502 503 504 /50x.html;
           location = /50x.html {
       }
   }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åå¯åŠ¨nginxæœåŠ¡Â  systemctl restart nginx.service .å¦‚æœé…ç½®æ–‡ä»¶å†™çš„æœ‰é—®é¢˜ï¼ŒæœåŠ¡ä¼šå¯åŠ¨å¤±è´¥ï¼Œé”™è¯¯æ—¥å¿—ä½ç½®åœ¨nginx.confä¸­å¯ä»¥æ‰¾åˆ°&lt;/p&gt;
&lt;p&gt;æœåŠ¡å¯åŠ¨å®Œæ¯•åï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†&lt;/p&gt;
</description>
<pubDate>Mon, 24 Aug 2020 16:00:00 +0000</pubDate>
<dc:creator>FreeTimeWorker</dc:creator>
<og:description>.net core 3.0 ç½‘ç«™å‘å¸ƒåˆ°centosåï¼Œç»‘å®šsslè¯ä¹¦ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç»‘ä¸€ä¸ªè¯ä¹¦ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç»‘å¤šä¸ªè¯ä¹¦ å¼€å§‹ä¹‹å‰ï¼šå¯¹äºwindowsæœåŠ¡å™¨ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œåœ¨iisä¸­ç»‘å®šè¯ä¹¦æ˜¯éå¸¸ç®€å•çš„ä¸€ä»¶äº‹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/zzfstudy/p/13557309.html</dc:identifier>
</item>
</channel>
</rss>