<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>Goä¹‹è·å–ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ - goPsutil - å¸¸è§-youmen</title>
<link>http://www.cnblogs.com/you-men/p/14221464.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/you-men/p/14221464.html</guid>
<description>&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;psutil&lt;/code&gt;æ˜¯ä¸€ä¸ªè·¨å¹³å°è¿›ç¨‹å’Œç³»ç»Ÿç›‘æ§çš„Pythonåº“ï¼Œè€Œ&lt;code&gt;gopsutil&lt;/code&gt;æ˜¯å…¶Goè¯­è¨€ç‰ˆæœ¬çš„å®ç°ã€‚&lt;br/&gt;Goè¯­è¨€éƒ¨ç½²ç®€å•ã€æ€§èƒ½å¥½çš„ç‰¹ç‚¹éå¸¸é€‚åˆåšä¸€äº›è¯¸å¦‚é‡‡é›†ç³»ç»Ÿä¿¡æ¯å’Œç›‘æ§çš„æœåŠ¡ï¼Œæœ¬æ–‡ä»‹ç»çš„&lt;a href=&quot;https://github.com/shirou/gopsutil&quot; target=&quot;_blank&quot;&gt;gopsutil&lt;/a&gt;åº“æ˜¯çŸ¥åPythonåº“ï¼š&lt;a href=&quot;https://github.com/giampaolo/psutil&quot; target=&quot;_blank&quot;&gt;psutil&lt;/a&gt;çš„ä¸€ä¸ªGoè¯­è¨€ç‰ˆæœ¬çš„å®ç°ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç‰¹ç‚¹&quot;&gt;ç‰¹ç‚¹&lt;/h4&gt;
&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p&gt;gopsutilsä¸ºæˆ‘ä»¬å±è”½äº†å„ä¸ªç³»ç»Ÿä¹‹é—´çš„å·®å¼‚, å…·æœ‰éå¸¸å¼ºæ‚çš„å¯ç§»æ¤æ€§, æœ‰äº†gopsutil, æˆ‘ä»¬ä¸å†éœ€è¦é’ˆå¯¹ä¸åŒçš„ç³»ç»Ÿä½¿ç”¨syscallè°ƒç”¨å¯¹åº”çš„ç³»ç»Ÿæ–¹æ³•, æ›´æ£’çš„æ˜¯gopsutilçš„å®ç°ä¸­æ²¡æœ‰ä»»ä½•cgoçš„ä»£ç , ä½¿å¾—äº¤å‰ç¼–è¯‘æˆä¸ºå¯èƒ½.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å®‰è£…&quot;&gt;å®‰è£…&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;go get github.com/shirou/gopsutil
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;åŠŸèƒ½&quot;&gt;åŠŸèƒ½&lt;/h4&gt;
&lt;p&gt;gopsutilå°†ä¸åŒçš„åŠŸèƒ½åˆ’åˆ†åˆ°ä¸åŒçš„å­åŒ…ä¸­&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;/*
                cpu:            CPUç›¸å…³
                disk:           ç£ç›˜ç›¸å…³
                docker:   dockerç›¸å…³
                host:                   ä¸»æœºç›¸å…³
                mem:                    å†…å­˜ç›¸å…³
                net:                    ç½‘ç»œç›¸å…³
                process:  è¿›ç¨‹ç›¸å…³
*/
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;cpu&quot;&gt;CPU&lt;/h3&gt;
&lt;h4 id=&quot;é‡‡é›†cpuç›¸å…³ä¿¡æ¯&quot;&gt;é‡‡é›†CPUç›¸å…³ä¿¡æ¯&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/cpu&quot;
        &quot;time&quot;
)

// cpu info
func getCpuInfo() {
        cpuInfos, err := cpu.Info()
        if err != nil {
                fmt.Printf(&quot;get cpu info failed, err:%v&quot;, err)
        }
        for _, ci := range cpuInfos {
                fmt.Println(ci)
        }
        // CPUä½¿ç”¨ç‡
        for {
                percent, _ := cpu.Percent(time.Second, false)
                fmt.Printf(&quot;cpu percent:%v\n&quot;, percent)
        }
}

func main()  {
        getCpuInfo()
}

go run ps.go  
{&quot;cpu&quot;:0,&quot;vendorId&quot;:&quot;GenuineIntel&quot;,&quot;family&quot;:&quot;6&quot;,&quot;model&quot;:&quot;142&quot;,&quot;stepping&quot;:10,&quot;physicalId&quot;:&quot;&quot;,&quot;coreId&quot;:&quot;&quot;,&quot;cores&quot;:4,&quot;modelName&quot;:&quot;Intel(R) Core(TM) i5-8257U CPU @ 1.40GHz&quot;,&quot;mhz&quot;:1400,&quot;cacheSize&quot;:256,&quot;flags&quot;:[&quot;fpu&quot;,&quot;vme&quot;,&quot;de&quot;,&quot;pse&quot;,&quot;tsc&quot;,&quot;msr&quot;,&quot;pae&quot;,&quot;mce&quot;,&quot;cx8&quot;,&quot;apic&quot;,&quot;sep&quot;,&quot;mtrr&quot;,&quot;pge&quot;,&quot;mca&quot;,&quot;cmov&quot;,&quot;pat&quot;,&quot;pse36&quot;,&quot;clfsh&quot;,&quot;ds&quot;,&quot;acpi&quot;,&quot;mmx&quot;,&quot;fxsr&quot;,&quot;sse&quot;,&quot;sse2&quot;,&quot;ss&quot;,&quot;htt&quot;,&quot;tm&quot;,&quot;pbe&quot;,&quot;sse3&quot;,&quot;pclmulqdq&quot;,&quot;dtes64&quot;,&quot;mon&quot;,&quot;dscpl&quot;,&quot;vmx&quot;,&quot;est&quot;,&quot;tm2&quot;,&quot;ssse3&quot;,&quot;fma&quot;,&quot;cx16&quot;,&quot;tpr&quot;,&quot;pdcm&quot;,&quot;sse4.1&quot;,&quot;sse4.2&quot;,&quot;x2apic&quot;,&quot;movbe&quot;,&quot;popcnt&quot;,&quot;aes&quot;,&quot;pcid&quot;,&quot;xsave&quot;,&quot;osxsave&quot;,&quot;seglim64&quot;,&quot;tsctmr&quot;,&quot;avx1.0&quot;,&quot;rdrand&quot;,&quot;f16c&quot;,&quot;rdwrfsgs&quot;,&quot;tsc_thread_offset&quot;,&quot;sgx&quot;,&quot;bmi1&quot;,&quot;avx2&quot;,&quot;smep&quot;,&quot;bmi2&quot;,&quot;erms&quot;,&quot;invpcid&quot;,&quot;fpu_csds&quot;,&quot;mpx&quot;,&quot;rdseed&quot;,&quot;adx&quot;,&quot;smap&quot;,&quot;clfsopt&quot;,&quot;ipt&quot;,&quot;mdclear&quot;,&quot;tsxfa&quot;,&quot;ibrs&quot;,&quot;stibp&quot;,&quot;l1df&quot;,&quot;ssbd&quot;,&quot;syscall&quot;,&quot;xd&quot;,&quot;1gbpage&quot;,&quot;em64t&quot;,&quot;lahf&quot;,&quot;lzcnt&quot;,&quot;prefetchw&quot;,&quot;rdtscp&quot;,&quot;tsci&quot;],&quot;microcode&quot;:&quot;&quot;}
cpu percent:[10.099750623570355]
cpu percent:[7.615480649005255]
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;è·å–cpuè´Ÿè½½æ¶ˆæ¯&quot;&gt;&lt;strong&gt;è·å–CPUè´Ÿè½½æ¶ˆæ¯&lt;/strong&gt;&lt;/h4&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/load&quot;
)

func getCpuLoad()  {
        info, _ := load.Avg()
        fmt.Printf(&quot;%v\n&quot;,info)
}

func main()  {
        getCpuLoad()
}

go run ps.go 
{&quot;load1&quot;:2.591796875,&quot;load5&quot;:2.86572265625,&quot;load15&quot;:2.7578125}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;**&lt;/p&gt;
&lt;h3 id=&quot;memory&quot;&gt;Memory&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/mem&quot;
)

func getMemInfo()  {
        memInfo, _ := mem.VirtualMemory()
        fmt.Printf(&quot;mem info:%v\n&quot;,memInfo)
}

func main()  {
        getMemInfo()
}

go run ps.go
mem info:{&quot;total&quot;:8589934592,&quot;available&quot;:1984147456,&quot;used&quot;:6605787136,&quot;usedPercent&quot;:76.9014835357666,&quot;free&quot;:122396672,&quot;active&quot;:1884549120,&quot;inactive&quot;:1861750784,&quot;wired&quot;:2657144832,&quot;laundry&quot;:0,&quot;buffers&quot;:0,&quot;cached&quot;:0,&quot;writeback&quot;:0,&quot;dirty&quot;:0,&quot;writebacktmp&quot;:0,&quot;shared&quot;:0,&quot;slab&quot;:0,&quot;sreclaimable&quot;:0,&quot;sunreclaim&quot;:0,&quot;pagetables&quot;:0,&quot;swapcached&quot;:0,&quot;commitlimit&quot;:0,&quot;committedas&quot;:0,&quot;hightotal&quot;:0,&quot;highfree&quot;:0,&quot;lowtotal&quot;:0,&quot;lowfree&quot;:0,&quot;swaptotal&quot;:0,&quot;swapfree&quot;:0,&quot;mapped&quot;:0,&quot;vmalloctotal&quot;:0,&quot;vmallocused&quot;:0,&quot;vmallocchunk&quot;:0,&quot;hugepagestotal&quot;:0,&quot;hugepagesfree&quot;:0,&quot;hugepagesize&quot;:0}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;host&quot;&gt;Host&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/host&quot;
)

func getHostInfo() {
        hInfo, _ := host.Info()
        fmt.Printf(&quot;host info:%v uptime:%v boottime:%v\n&quot;, hInfo, hInfo.Uptime, hInfo.BootTime)
}

func main() {
        getHostInfo()
}

go run ps.go
host info:{&quot;hostname&quot;:&quot;youmendeMacBook-Pro.local&quot;,&quot;uptime&quot;:314216,&quot;bootTime&quot;:1609206164,&quot;procs&quot;:525,&quot;os&quot;:&quot;darwin&quot;,&quot;platform&quot;:&quot;darwin&quot;,&quot;platformFamily&quot;:&quot;Standalone Workstation&quot;,&quot;platformVersion&quot;:&quot;11.1&quot;,&quot;kernelVersion&quot;:&quot;20.2.0&quot;,&quot;kernelArch&quot;:&quot;x86_64&quot;,&quot;virtualizationSystem&quot;:&quot;&quot;,&quot;virtualizationRole&quot;:&quot;&quot;,&quot;hostid&quot;:&quot;82e2050c-5936-3d24-ad3b-ec4ec5c09e11&quot;} uptime:314216 boottime:1609206164
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;disk&quot;&gt;Disk&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/disk&quot;
)

// disk info
func getDiskInfo() {
        parts, err := disk.Partitions(true)
        if err != nil {
                fmt.Printf(&quot;get Partitions failed, err:%v\n&quot;, err)
                return
        }
        for _, part := range parts {
                fmt.Printf(&quot;part:%v\n&quot;, part.String())
                diskInfo, _ := disk.Usage(part.Mountpoint)
                fmt.Printf(&quot;disk info:used:%v free:%v\n&quot;, diskInfo.UsedPercent, diskInfo.Free)
        }

        ioStat, _ := disk.IOCounters()
        for k, v := range ioStat {
                fmt.Printf(&quot;%v:%v\n&quot;, k, v)
        }
}

func main() {
        getDiskInfo()
}




go run ps.go 
part:{&quot;device&quot;:&quot;/dev/disk1s2s1&quot;,&quot;mountpoint&quot;:&quot;/&quot;,&quot;fstype&quot;:&quot;apfs&quot;,&quot;opts&quot;:&quot;ro,journaled,multilabel&quot;}
disk info:used:21.590916437596942 free:54644285440
part:{&quot;device&quot;:&quot;devfs&quot;,&quot;mountpoint&quot;:&quot;/dev&quot;,&quot;fstype&quot;:&quot;devfs&quot;,&quot;opts&quot;:&quot;rw,nobrowse,multilabel&quot;}
disk info:used:100 free:0
part:{&quot;device&quot;:&quot;/dev/disk1s5&quot;,&quot;mountpoint&quot;:&quot;/System/Volumes/VM&quot;,&quot;fstype&quot;:&quot;apfs&quot;,&quot;opts&quot;:&quot;rw,noexec,nobrowse,journaled,multilabel,noatime&quot;}
disk info:used:3.781419239013729 free:54644285440
part:{&quot;device&quot;:&quot;/dev/disk1s3&quot;,&quot;mountpoint&quot;:&quot;/System/Volumes/Preboot&quot;,&quot;fstype&quot;:&quot;apfs&quot;,&quot;opts&quot;:&quot;rw,nobrowse,journaled,multilabel&quot;}
disk info:used:0.5894192171529189 free:54644285440
part:{&quot;device&quot;:&quot;/dev/disk1s6&quot;,&quot;mountpoint&quot;:&quot;/System/Volumes/Update&quot;,&quot;fstype&quot;:&quot;apfs&quot;,&quot;opts&quot;:&quot;rw,nobrowse,journaled,multilabel&quot;}
disk info:used:0.0014916323547500506 free:54644285440
part:{&quot;device&quot;:&quot;/dev/disk1s1&quot;,&quot;mountpoint&quot;:&quot;/System/Volumes/Data&quot;,&quot;fstype&quot;:&quot;apfs&quot;,&quot;opts&quot;:&quot;rw,nobrowse,journaled,multilabel&quot;}
disk info:used:76.48839834497826 free:54644285440
part:{&quot;device&quot;:&quot;map auto_home&quot;,&quot;mountpoint&quot;:&quot;/System/Volumes/Data/home&quot;,&quot;fstype&quot;:&quot;autofs&quot;,&quot;opts&quot;:&quot;rw,nobrowse,automounted,multilabel&quot;}
disk info:used:0 free:0
disk0:{&quot;readCount&quot;:7171236,&quot;mergedReadCount&quot;:0,&quot;writeCount&quot;:3480390,&quot;mergedWriteCount&quot;:0,&quot;readBytes&quot;:157156835328,&quot;writeBytes&quot;:130453229568,&quot;readTime&quot;:6791329,&quot;writeTime&quot;:2234950,&quot;iopsInProgress&quot;:0,&quot;ioTime&quot;:9026279,&quot;weightedIO&quot;:0,&quot;name&quot;:&quot;disk0&quot;,&quot;serialNumber&quot;:&quot;&quot;,&quot;label&quot;:&quot;&quot;}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;io&quot;&gt;IO&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-go&quot;&gt;package main

import (
        &quot;fmt&quot;
        &quot;github.com/shirou/gopsutil/net&quot;
)

func getNetInfo() {
        info, _ := net.IOCounters(true)
        for index, v := range info {
                fmt.Printf(&quot;%v:%v send:%v recv:%v\n&quot;, index, v, v.BytesSent, v.BytesRecv)
        }
}

func main() {
        getNetInfo()
}

 go run ps.go
0:{&quot;name&quot;:&quot;lo0&quot;,&quot;bytesSent&quot;:121344185,&quot;bytesRecv&quot;:121344185,&quot;packetsSent&quot;:433070,&quot;packetsRecv&quot;:433070,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:121344185 recv:121344185
1:{&quot;name&quot;:&quot;gif0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
2:{&quot;name&quot;:&quot;stf0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
3:{&quot;name&quot;:&quot;en3&quot;,&quot;bytesSent&quot;:14748522,&quot;bytesRecv&quot;:8111958,&quot;packetsSent&quot;:61122,&quot;packetsRecv&quot;:61250,&quot;errin&quot;:0,&quot;errout&quot;:1394,&quot;dropin&quot;:0,&quot;dropout&quot;:369,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:14748522 recv:8111958
4:{&quot;name&quot;:&quot;ap1&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
5:{&quot;name&quot;:&quot;en0&quot;,&quot;bytesSent&quot;:2744132038,&quot;bytesRecv&quot;:12672282198,&quot;packetsSent&quot;:7843906,&quot;packetsRecv&quot;:9697152,&quot;errin&quot;:0,&quot;errout&quot;:1194,&quot;dropin&quot;:0,&quot;dropout&quot;:666,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:2744132038 recv:12672282198
6:{&quot;name&quot;:&quot;en1&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
7:{&quot;name&quot;:&quot;en2&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
8:{&quot;name&quot;:&quot;awdl0&quot;,&quot;bytesSent&quot;:241402,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:1961,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:241402 recv:0
9:{&quot;name&quot;:&quot;llw0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
10:{&quot;name&quot;:&quot;utun0&quot;,&quot;bytesSent&quot;:187730,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:1629,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:187730 recv:0
11:{&quot;name&quot;:&quot;utun1&quot;,&quot;bytesSent&quot;:187730,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:1629,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:187730 recv:0
12:{&quot;name&quot;:&quot;en6&quot;,&quot;bytesSent&quot;:20906,&quot;bytesRecv&quot;:6600,&quot;packetsSent&quot;:149,&quot;packetsRecv&quot;:60,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:20906 recv:6600
13:{&quot;name&quot;:&quot;en7&quot;,&quot;bytesSent&quot;:20906,&quot;bytesRecv&quot;:6600,&quot;packetsSent&quot;:149,&quot;packetsRecv&quot;:60,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:20906 recv:6600
14:{&quot;name&quot;:&quot;bridg&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:0 recv:0
15:{&quot;name&quot;:&quot;bridg&quot;,&quot;bytesSent&quot;:41812,&quot;bytesRecv&quot;:12360,&quot;packetsSent&quot;:298,&quot;packetsRecv&quot;:120,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:41812 recv:12360
16:{&quot;name&quot;:&quot;bridg&quot;,&quot;bytesSent&quot;:41812,&quot;bytesRecv&quot;:12360,&quot;packetsSent&quot;:298,&quot;packetsRecv&quot;:120,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0} send:41812 recv:12360
&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Fri, 01 Jan 2021 17:37:00 +0000</pubDate>
<dc:creator>å¸¸è§-youmen</dc:creator>
<og:description>ç®€ä»‹ psutilæ˜¯ä¸€ä¸ªè·¨å¹³å°è¿›ç¨‹å’Œç³»ç»Ÿç›‘æ§çš„Pythonåº“ï¼Œè€Œgopsutilæ˜¯å…¶Goè¯­è¨€ç‰ˆæœ¬çš„å®ç°ã€‚ Goè¯­è¨€éƒ¨ç½²ç®€å•ã€æ€§èƒ½å¥½çš„ç‰¹ç‚¹éå¸¸é€‚åˆåšä¸€äº›è¯¸å¦‚é‡‡é›†ç³»ç»Ÿä¿¡æ¯å’Œç›‘æ§çš„æœåŠ¡ï¼Œæœ¬æ–‡ä»‹ç»çš„gopsu</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/you-men/p/14221464.html</dc:identifier>
</item>
<item>
<title>.NET äº‘åŸç”Ÿæ¶æ„å¸ˆè®­ç»ƒè¥ï¼ˆæ¨¡å—äºŒ åŸºç¡€å·©å›º MongoDB ä»‹ç»å’ŒåŸºç¡€ï¼‰--å­¦ä¹ ç¬”è®° - MingsonZheng</title>
<link>http://www.cnblogs.com/MingsonZheng/p/14221398.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MingsonZheng/p/14221398.html</guid>
<description>&lt;ul&gt;&lt;li&gt;mysql vs mongo&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿå¼€å§‹&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;mysql-vs-mongo&quot;&gt;mysql vs mongo&lt;/h2&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å¯¹æ¯”&lt;/th&gt;
&lt;th&gt;mysql&lt;/th&gt;
&lt;th&gt;mongo&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;12&quot;&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;æ•°æ®å­˜å‚¨&lt;/td&gt;
&lt;td&gt;table äºŒç»´è¡¨ç»“æ„ï¼Œéœ€è¦é¢„å…ˆå®šä¹‰ç»“æ„&lt;/td&gt;
&lt;td&gt;json ç±»æ–‡æ¡£ï¼Œä¸éœ€è¦é¢„å…ˆå®šä¹‰ç»“æ„ã€‚å¯éšæ„æ–°å¢æˆ–åˆ é™¤å­—æ®µï¼Œæ–°å¢å­—æ®µä¸ä¼šå¯¹å·²å­˜åœ¨çš„å­—æ®µäº§ç”Ÿå½±å“&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;æŸ¥è¯¢è¯­æ³•&lt;/td&gt;
&lt;td&gt;sql (structured query language)&lt;/td&gt;
&lt;td&gt;mongo&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;ç´¢å¼•&lt;/td&gt;
&lt;td&gt;å¦‚æœä¸å®šä¹‰ç´¢å¼•ï¼Œåˆ™è¿›è¡Œå…¨è¡¨æ‰«æ&lt;/td&gt;
&lt;td&gt;å¦‚æœä¸å®šä¹‰ç´¢å¼•ï¼Œåˆ™è¿›è¡Œå…¨è¡¨æ‰«æ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;é›†ç¾¤&lt;/td&gt;
&lt;td&gt;æ”¯æŒä¸»ä»å¤åˆ¶&lt;/td&gt;
&lt;td&gt;å†…ç½®å‰¯æœ¬é›†ã€åˆ†ç‰‡ã€å’Œè‡ªåŠ¨é€‰ä¸¾&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;åœºæ™¯&lt;/td&gt;
&lt;td&gt;å…³ç³»å‹ç»“æ„ï¼Œåœ¨å¤šè¡Œæ’å…¥æ—¶éœ€è¦äº‹åŠ¡ä¿éšœ&lt;/td&gt;
&lt;td&gt;å®æ—¶æ•°æ®åˆ†æã€å†…å®¹ç®¡ç†ã€iotè®¾å¤‡ã€ç§»åŠ¨è®¾å¤‡ï¼ˆäº‹åŠ¡éœ€è¦æœ‰å†…ç½®å‰¯æœ¬æ‰å¯ä»¥åšï¼‰&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;æ•°æ®ç»“æ„&lt;/td&gt;
&lt;td&gt;ç»“æ„åŒ–ã€æ•°æ® schema å®šä¹‰æ¸…æ™°&lt;/td&gt;
&lt;td&gt;æœªçŸ¥æ•°æ®ç»“æ„ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;é£é™©&lt;/td&gt;
&lt;td&gt;sql æ³¨å…¥æ”»å‡»&lt;/td&gt;
&lt;td&gt;ç›¸å¯¹æ¥è¯´é£é™©æ›´ä½&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;åˆ†æ&lt;/td&gt;
&lt;td&gt;ç¡®å®éœ€è¦å…³ç³»å‹æ•°æ®åº“æ¥ä¿éšœ&lt;/td&gt;
&lt;td&gt;å†™å…¥å¹¶å‘é«˜ï¼Œæ²¡æœ‰ DBA&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2 id=&quot;å¿«é€Ÿå¼€å§‹&quot;&gt;å¿«é€Ÿå¼€å§‹&lt;/h2&gt;
&lt;p&gt;å®‰è£… mongo in docker&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;docker run -it --volume=/root/docker/mongo01/data:/data/db -p 27017:27017 --name mongo01 -d mongo
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;robt 3t ä¸‹è½½åœ°å€ï¼š&lt;br/&gt;&lt;a href=&quot;https://download.studio3t.com/robomongo/windows/robo3t-1.4.2-windows-x86_64-8650949.exe&quot; target=&quot;_blank&quot;&gt;https://download.studio3t.com/robomongo/windows/robo3t-1.4.2-windows-x86_64-8650949.exe&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ–°å¢æ•°æ®åº“booksï¼Œæ–°å¢é›†åˆauthor&lt;/p&gt;
&lt;p&gt;å¢åˆ æ”¹æŸ¥&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// æ’å…¥
db.author.insertOne({&quot;name&quot;:&quot;mingson&quot;, &quot;age&quot;:25}) 
db.author.insertOne({&quot;name&quot;:&quot;jesse&quot;, &quot;age&quot;:18}) 
db.author.insertOne({&quot;name&quot;:&quot;bobo&quot;, &quot;age&quot;:18})

// æŸ¥è¯¢ 
db.getCollection('author').find({&quot;name&quot;:&quot;mingson&quot;})
db.getCollection('author').find({&quot;name&quot;:{$eq:&quot;mingson&quot;}})

// æ›´æ–°
db.author.updateOne({&quot;name&quot;:&quot;mingson&quot;},{$set:{&quot;age&quot;:20}})

// åˆ é™¤
db.author.deleteOne({&quot;name&quot;:&quot;bobo&quot;})

// è¿”å›å­—æ®µï¼Œ1è¿”å›ï¼Œ0ä¸è¿”å›
db.getCollection('author').find({&quot;name&quot;:&quot;mingson&quot;},{&quot;name&quot;:1,&quot;_id&quot;:0})

&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;mongo db æ–‡æ¡£ï¼š&lt;br/&gt;&lt;a href=&quot;https://docs.mongodb.com/manual/introduction/&quot; target=&quot;_blank&quot;&gt;https://docs.mongodb.com/manual/introduction/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡ mongo db æ‰‹å†Œï¼š&lt;br/&gt;&lt;a href=&quot;https://mongoing.com/docs/tutorial/insert-documents.html&quot; target=&quot;_blank&quot;&gt;https://mongoing.com/docs/tutorial/insert-documents.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ•°æ®åº“é›†åˆæ–‡æ¡£&quot;&gt;æ•°æ®åº“/é›†åˆ/æ–‡æ¡£&lt;/h2&gt;
&lt;p&gt;database/collection/document&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;mongo&lt;/th&gt;
&lt;th&gt;mysql&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;database&lt;/td&gt;
&lt;td&gt;database&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;collection&lt;/td&gt;
&lt;td&gt;table&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;document&lt;/td&gt;
&lt;td&gt;row&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;filed&lt;/td&gt;
&lt;td&gt;column&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3 id=&quot;æ•°æ®åº“&quot;&gt;æ•°æ®åº“&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;æ•°æ®åº“çš„åç§°æ˜¯å¤§å°å†™æ•æ„Ÿ&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;ä¸èƒ½åŒ…å«ä»¥ä¸‹å­—ç¬¦ï¼ˆwinï¼‰ï¼š/\.&quot;$*&amp;lt;&amp;gt;:|?
ä¸èƒ½åŒ…å«ä»¥ä¸‹å­—ç¬¦ï¼ˆunix/linuxï¼‰ï¼š/\.&quot;$
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;ä¸èƒ½è¶…è¿‡64ä¸ªå­—ç¬¦&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;é›†åˆ&quot;&gt;é›†åˆ&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;ä¸èƒ½åŒ…å«$&lt;/li&gt;
&lt;li&gt;ä¸èƒ½ä¸ºç©ºï¼Œä¸èƒ½åŒ…å«null&lt;/li&gt;
&lt;li&gt;ä¸èƒ½ä»¥system.å¼€å¤´&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;å­—æ®µå&quot;&gt;å­—æ®µå&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;ä¸èƒ½ä¸ºç©ºï¼Œä¸èƒ½åŒ…å«null&lt;/li&gt;
&lt;li&gt;é¡¶çº§å­—æ®µä¸èƒ½ä»¥$å¼€å¤´&lt;/li&gt;
&lt;li&gt;_idæ˜¯ä¿ç•™å­—æ®µåç§°&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;bosntypes&quot;&gt;BosnTypes&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://mongoing.com/docs/reference/bson-types.html&quot; target=&quot;_blank&quot;&gt;https://mongoing.com/docs/reference/bson-types.html&lt;/a&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;string&lt;/th&gt;
&lt;th&gt;string&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;bool&lt;/td&gt;
&lt;td&gt;Boolean&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;long&lt;/td&gt;
&lt;td&gt;long&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;decimal&lt;/td&gt;
&lt;td&gt;decimal&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;double&lt;/td&gt;
&lt;td&gt;double&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;date&lt;/td&gt;
&lt;td&gt;date&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;timestamp&lt;/td&gt;
&lt;td&gt;timestamp&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;null&lt;/td&gt;
&lt;td&gt;null&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;ul&gt;&lt;li&gt;object&lt;/li&gt;
&lt;li&gt;array&lt;/li&gt;
&lt;li&gt;objectid&lt;/li&gt;
&lt;li&gt;regex&lt;/li&gt;
&lt;li&gt;javascripe&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img alt=&quot;çŸ¥è¯†å…±äº«è®¸å¯åè®®&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬ä½œå“é‡‡ç”¨&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®&lt;/a&gt;è¿›è¡Œè®¸å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿è½¬è½½ã€ä½¿ç”¨ã€é‡æ–°å‘å¸ƒï¼Œä½†åŠ¡å¿…ä¿ç•™æ–‡ç« ç½²å éƒ‘å­é“­ ï¼ˆåŒ…å«é“¾æ¥ï¼š &lt;a href=&quot;http://www.cnblogs.com/MingsonZheng/&quot; target=&quot;_blank&quot;&gt;http://www.cnblogs.com/MingsonZheng/&lt;/a&gt; ï¼‰ï¼Œä¸å¾—ç”¨äºå•†ä¸šç›®çš„ï¼ŒåŸºäºæœ¬æ–‡ä¿®æ”¹åçš„ä½œå“åŠ¡å¿…ä»¥ç›¸åŒçš„è®¸å¯å‘å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·ä¸æˆ‘è”ç³» (MingsonZheng@outlook.com) ã€‚&lt;/p&gt;
</description>
<pubDate>Fri, 01 Jan 2021 16:35:00 +0000</pubDate>
<dc:creator>MingsonZheng</dc:creator>
<og:description>2.5.1 MongoDB -- ä»‹ç» mysql vs mongo å¿«é€Ÿå¼€å§‹ mysql vs mongo å¯¹æ¯” mysql mongo æ•°æ®å­˜å‚¨ table äºŒç»´è¡¨ç»“æ„ï¼Œéœ€è¦é¢„å…ˆå®šä¹‰ç»“æ„ json</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/MingsonZheng/p/14221398.html</dc:identifier>
</item>
<item>
<title>ç®€å•è°ˆè°ˆç½‘ç»œæŠ“åŒ…ï¼Œç‰¹åˆ«æ˜¯thrift æ¥å£ - KANLON</title>
<link>http://www.cnblogs.com/kanlon2015/p/14221216.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kanlon2015/p/14221216.html</guid>
<description>&lt;p&gt;æœ€è¿‘ï¼Œæˆ‘åœ¨å…¬å¸åšè¿™æ ·çš„ä¸€ä¸ªäº‹æƒ…ï¼Œæ•´ç†è€æ—§çš„apiæœåŠ¡ï¼Œéœ€è¦ç»Ÿè®¡æ¥å£çš„æ¯ä¸ªè¯·æ±‚çš„ipå’Œè¯·æ±‚å‚æ•°ï¼Œæ‰¾å‡ºå¯¹åº”çš„è°ƒç”¨çš„ipï¼Œä»¥ä¾¿é€šçŸ¥ä¸šåŠ¡æ–¹ä¿®æ”¹ä¸ºæ–°çš„apiæœåŠ¡ã€‚å…¶ä¸­æˆ‘ä»¬çš„è¿™ä¸ªapiæœåŠ¡è°ƒç”¨æœ‰åˆ†ä¸ºthriftè°ƒç”¨å’Œhttpè°ƒç”¨&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;117.05169686511&quot;&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;æŒ‰ç…§æƒ¯ä¾‹å…ˆè°ˆè°ˆæœ€è¿‘æƒ…å†µï¼Œæœ€è¿‘ä¸æ˜¯åˆšå¥½è·¨å¹´å—ï¼Ÿçœ‹åˆ°å¾ˆå¤šäººéƒ½åœ¨å†™å¹´åº¦æ€»ç»“ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿåœ¨å†™å¹´åº¦æ€»ç»“æ–‡ç« ï¼ˆå…¶å®ä¹‹å‰æˆ‘åŸºæœ¬æ²¡æœ‰å†™è¿‡çš„ï¼Œä»Šå¹´æœ‰ç‚¹æ„Ÿè§¦ï¼Œä¹Ÿæƒ³è®°å½•ä¸€ä¸‹ï¼‰ï¼Œç»“æœå‘ç°å†™èµ·æ¥æœ‰ç‚¹å¤šï¼Œä¹‹å‰è¿˜æƒ³ç€å…ƒæ—¦å‰å‘å‡ºæ¥ï¼Œç»“æœå…ƒæ—¦è¿‡åï¼Œä»Šå¤©æˆ‘ä¹Ÿè¿˜åœ¨å†™ï¼Œè€Œä¸”è¿˜å†™ä¸å®Œï¼Œä¸è¿‡ä¹Ÿå·®ä¸å¤šäº†ï¼Œé¢„è®¡æ˜å¤©ä¼šå‘å‡ºæ¥ã€‚ç„¶åæœ€è¿‘éœ€æ±‚æ¯”è¾ƒå¤šï¼Œå·¥ä½œæ¯”è¾ƒå¿™ï¼ŒåŒæ—¶é‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„éœ€æ±‚ï¼Œå°±æƒ³ç€è®°å½•ä¸€ä¸‹ï¼Œå…ˆå……å½“ä¸€ä¸‹è¿™å‘¨çš„æ–‡ç« ä»»åŠ¡ğŸ˜‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;èƒŒæ™¯&lt;/h3&gt;
&lt;p&gt;æœ€è¿‘ï¼Œæˆ‘åœ¨å…¬å¸åšè¿™æ ·çš„ä¸€ä¸ªäº‹æƒ…ï¼Œæ•´ç†è€æ—§çš„apiæœåŠ¡ï¼Œéœ€è¦ç»Ÿè®¡æ¥å£çš„æ¯ä¸ªè¯·æ±‚çš„ipå’Œè¯·æ±‚å‚æ•°ï¼Œæ‰¾å‡ºå¯¹åº”çš„è°ƒç”¨çš„ipï¼Œä»¥ä¾¿é€šçŸ¥ä¸šåŠ¡æ–¹ä¿®æ”¹ä¸ºæ–°çš„apiæœåŠ¡ã€‚å…¶ä¸­æˆ‘ä»¬çš„è¿™ä¸ªapiæœåŠ¡è°ƒç”¨æœ‰åˆ†ä¸ºthriftè°ƒç”¨å’Œhttpè°ƒç”¨ï¼Œç”±äºä¹‹å‰çš„æ—§çš„æœåŠ¡è®¾è®¡æ¯”è¾ƒç®€é™‹ï¼Œæ²¡æœ‰é€šè¿‡dubbo ç­‰æ³¨å†Œä¸­å¿ƒè°ƒç”¨ï¼Œä¹Ÿæ²¡æœ‰å®Œæ•´çš„ç›‘æ§ï¼ˆä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆæ²¡æœ‰ï¼Œæˆ‘ä¹Ÿå¾ˆæ— å¥ˆğŸ˜­ï¼‰ï¼Œå¯¼è‡´æˆ‘æƒ³æ‰¾å‡ºè°ƒç”¨ipä¹Ÿæ‰¾ä¸åˆ°ï¼Œæ—¥å¿—é‡Œé¢æ²¡æœ‰è®°å½•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…·ä½“æ“ä½œæ–¹æ³•&quot;&gt;å…·ä½“æ“ä½œæ–¹æ³•&lt;/h3&gt;
&lt;h4 id=&quot;æ–¹æ³•ä¸€ï¼Œç›´æ¥ä¿®æ”¹ä¸šåŠ¡ä»£ç &quot;&gt;æ–¹æ³•ä¸€ï¼Œç›´æ¥ä¿®æ”¹ä¸šåŠ¡ä»£ç &lt;/h4&gt;
&lt;p&gt;åˆšå¼€å§‹æˆ‘ä»¬æ˜¯æƒ³ä¿®æ”¹åŸä¸šåŠ¡ä»£ç ï¼ŒåŠ ä¸Šè°ƒç”¨ipå’Œè¯·æ±‚å‚æ•°çš„æ—¥å¿—æ‰“å°çš„ã€‚åŸæœ¬ä»¥ä¸ºä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬å‡†å¤‡å¼€å§‹åŠ¨æ‰‹æ”¹é€ çš„æ—¶å€™ï¼Œå‘ç°httpåè®®æä¾›çš„æ¥å£ï¼Œæ¯”è¾ƒå¥½æ”¹é€ ï¼Œç›´æ¥ httpRequest å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯ip ï¼Œè¯·æ±‚å‚æ•°ä¹Ÿå¾ˆå¥½æ‰“å°ã€‚æ¥ç€æˆ‘ä»¬æ‰“ç®—åŠ¨æ‰‹ä¹Ÿä¿®æ”¹ä¸€ä¸‹thrift æ¥å£çš„é‚£éƒ¨åˆ†ï¼ŒåŸæœ¬ä»¥ä¸ºéƒ½æ˜¯æ¥å£ï¼Œä¼°è®¡thriftæ¡†æ¶ä¹Ÿä¼šæä¾›å¯¹åº”çš„æ–¹å¼è·å–ï¼ˆæˆ‘ä»¬ä½¿ç”¨çš„åŸç”Ÿçš„apche thrift æ¡†æ¶æ¥æä¾›æœåŠ¡ï¼‰ï¼Œäºæ˜¯ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹ï¼Œå‘ç°thrift æ¥å£å¥½åƒå¹¶ http æ¥å£é‚£ä¹ˆå¥½æ”¹é€ ï¼Œç½‘ä¸Šè¯´éœ€è¦åŠ ä¸ªç›‘å¬ç±»ï¼Œç›‘å¬è¯·æ±‚ï¼Œç±»ä¼¼ä»¥ä¸‹æƒ…å†µï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;     /**
         * è°ƒç”¨RPCæœåŠ¡çš„æ—¶å€™è§¦å‘
         * æ¯è°ƒç”¨ä¸€æ¬¡æ–¹æ³•ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡
         */
        public void processContext(ServerContext serverContext, TTransport inputTransport, TTransport outputTransport)
        {
                /**
                 * æŠŠTTransportå¯¹è±¡è½¬æ¢æˆTSocketï¼Œç„¶ååœ¨TSocketé‡Œé¢è·å–Socketï¼Œå°±å¯ä»¥æ‹¿åˆ°å®¢æˆ·ç«¯IP  (è¿™é‡Œæœ‰å¯èƒ½è½¬åŒ–ä¸æˆåŠŸçš„ï¼ŒinputTransport ä¸ä¸€å®šä¸º TSocket ç±»æ¥çš„ï¼Œè¿˜æœ‰å¯èƒ½ä¸º TFrmef ï¼Œè¿™é‡Œä¾èµ–äºthrift æä¾›æœåŠ¡çš„æ–¹å¼ )
                 */
                TSocket socket = (TSocket)inputTransport;
                System.out.println(socket.getSocket().getRemoteSocketAddress());
        }

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å‚è€ƒï¼šä¸¤ç§æ–¹å¼è·å–Thriftè°ƒç”¨çš„å®¢æˆ·ç«¯IPåœ°å€&lt;br/&gt;&lt;a href=&quot;https://blog.csdn.net/mn960mn/article/details/50585278&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/mn960mn/article/details/50585278&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæˆ‘ä»¬å®é™…æ“ä½œçš„æ—¶å€™ï¼Œå»ºäº†è¿™ä¸ªç›‘å¬ç±»ï¼Œèµ·äº†è‡ªå·±çš„æœ¬åœ°æœåŠ¡ï¼Œå¹¶ç”¨å•å…ƒæµ‹è¯•å»æµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°æŠ¥äº†ä»¥ä¸‹è¿™æ ·çš„ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;org.apache.thrift.transport.TFramedTransport cannot be cast to org.apache.thrift.transport.TSocket
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯´TFramedTransport ä¸èƒ½è½¬æˆ TSocket è¿™ä¸ªç±» ï¼Œä¼°è®¡æ˜¯å®ä¾‹ç±»è·Ÿè¦å¼ºè½¬çš„ç±»ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹ï¼Œè¿˜ä»¥ä¸ºè‡ªå·±çš„å†™é”™äº†ï¼Œå¯¹ç€ç½‘ä¸Šçš„åšå®¢æ£€æŸ¥äº†ä»¥ä¸‹æ²¡æœ‰é—®é¢˜ã€‚åªæ˜¯å‘ç°è¿™ä¸ªå®é™…å®ä¾‹åŒ–å‡ºæ¥çš„ç±»ä¸æ˜¯ TSocket ç±»å‹ã€‚è¯•äº†å‡ æ¬¡åï¼Œå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œäºæ˜¯æœ‰æ ¹æ®è¿™ä¸ªé”™è¯¯åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹ï¼ŒTFramedTransport è·å– IP&lt;span&gt;(å‚è€ƒè¿™ä¸ªé”™è¯¯æè¿°ï¼š &lt;a href=&quot;https://www.oschina.net/question/858822_2182069&quot; target=&quot;_blank&quot;&gt;https://www.oschina.net/question/858822_2182069&lt;/a&gt;)&lt;/span&gt; ã€‚è¿™æ‰å‘ç°ï¼Œæˆ‘ä»¬çš„thriftæ¥å£æä¾›æ–¹å¼è·Ÿç½‘ä¸Šè¯´çš„ä¸ä¸€æ ·ï¼Œè€Œæˆ‘ä»¬è¿™ç§æƒ…å†µï¼Œå¦‚æœéœ€è¦è·å–Client Ip ï¼Œæœ‰è¿™å‡ ç§æ–¹å¼ï¼š1. ä¿®æ”¹thrift æ¡†æ¶æºç ï¼Œ 2. é‡æ–°ç»§æ‰¿TFramedTransportç±»é‡å†™é‡Œé¢çš„ä¸€ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸€ä¸‹å­å°±æ”¾å¼ƒäº†ï¼ŒåŸæœ¬æƒ³ç€åªæ˜¯ç®€å•åŠ ä¸ªç›‘æ§ï¼Œæ²¡æƒ³ç€ä¿®æ”¹å¤ªå¤šä¸œè¥¿ï¼Œå¦‚æœä¸ºäº†è§è¿™æ ·ä¸€ä¸ªç›‘æ§ï¼Œæ”¹åŠ¨é‚£ä¹ˆå¤§çš„ï¼Œå®³æ€•å½±å“ä¸šåŠ¡ï¼ˆæˆ‘ä»¬è¿™ä¸ªapiæœåŠ¡è¿˜æ˜¯æŒºå¤šä¸šåŠ¡æ–¹åœ¨ä½¿ç”¨çš„ï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ–¹æ³•äºŒï¼Œç½‘ç»œæŠ“åŒ…&quot;&gt;æ–¹æ³•äºŒï¼Œç½‘ç»œæŠ“åŒ…&lt;/h4&gt;
&lt;p&gt;äºæ˜¯ï¼Œæˆ‘ä»¬è€ƒè™‘èµ·ç¬¬äºŒç§æ–¹æ¡ˆï¼Œä½¿ç”¨æŠ“åŒ…å»æ‰“å°å‡ºå®¢æˆ·ç«¯ipå’Œè¯·æ±‚å‚æ•°ã€‚&lt;code&gt;tcpdump&lt;/code&gt; æ˜¯ä¸€å¼€å§‹å°±ä¼šæƒ³åˆ°çš„å·¥å…·ï¼Œå½“ç”¨ tcpdump å»æŠ“åŒ…çš„æ—¶å€™ï¼Œå‘ç° thrift æ¥å£æœ‰äº›æ˜¯ä¹±ç çš„ã€‚æ¥ç€å°±ç½‘ä¸Šæ‰¾ä¸€ä¸‹æ˜¯å¦thriftæ¥å£çš„ç›‘æ§å·¥å…·ï¼Œä¸€åœˆä¸‹æ¥ï¼Œè¯´ thrift-tool ï¼Œwiresharkï¼ˆtsharkï¼‰å¯ä»¥ä½¿ç”¨ï¼Œç„¶ååˆå»è¯•äº†ï¼Œå®‰è£…äº†æŒºä¹…çš„ï¼Œå‘ç°ç”±äºæˆ‘ä»¬æœºå™¨çš„ubuntuçš„ç‰ˆæœ¬å¤ªä¹…äº†ï¼Œå®‰è£…ä¸äº†æœ€æ–°çš„ thrift-tool &lt;span&gt;ï¼ˆè¿™ä¸ªæ˜¯å®‰è£…ä¹‹åï¼Œè¿˜è¦ä¾èµ–tcpdumpçš„ç‰ˆæœ¬ï¼Œtcpdumpç‰ˆæœ¬å¤ªè€ä¹Ÿä¸è¡Œï¼Œtcpdumpå‘½ä»¤é‡è£…ä¹Ÿé‡è£…äº†å¾ˆä¹…ğŸ˜°ï¼Œæœ€åå‘ç°ä¹Ÿå®‰è£…ä¸äº†æŒ‡å®šç‰ˆæœ¬ï¼‰&lt;/span&gt;å’Œ wireshark ï¼Œå‘ç°éƒ½æ²¡æœ‰åŠæ³•ä½¿ç”¨è¿™ä¸¤ç§å·¥å…·ã€‚è€ƒè™‘åˆ°æˆ‘ä»¬è¿™ä¸ªapiæœåŠ¡éƒ½éƒ¨ç½²åœ¨å¾ˆå¤šè€çš„ç‰©ç†æœºä¸Šé¢ï¼Œè€ƒè™‘å…¼å®¹æ€§é—®é¢˜å’Œå¯ä»¥æ–¹ä¾¿åœ¨å…¶ä»–æœºå™¨ä¸Šä¹Ÿéƒ¨ç½²ï¼ˆæˆ‘ä»¬è¿™ä¸ªapiæœåŠ¡åˆ†åˆ«éƒ¨ç½²åœ¨10å¤šå°çš„ç‰©ç†æœºä¸Šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯åˆé‡æ–°è€ƒè™‘å›tcpdump å‘½ä»¤äº†&lt;span&gt;å…œå…œè½¬è½¬ä¸€åœˆåˆå›åˆ°åŸç‚¹, tcpdump ğŸ®é€¼&lt;/span&gt;ã€‚ç®€å•å®éªŒäº†ä¸€ä¸‹ï¼ŒæŠ“åŒ…çš„å‡ºçš„thriftè¯·æ±‚å‚æ•°å’Œå“åº”ç»“æ„ï¼Œå¦‚æœæ˜¯è‹±æ–‡çš„ï¼Œå¤§éƒ¨åˆ†è¿˜æ˜¯èƒ½æ­£å¸¸æ˜¾ç¤ºçš„ï¼Œå¯ä»¥æ ¹æ® åˆ¤æ–­æ˜¯å¦åŒ…å« æ¥å£è¯·æ±‚å‚æ•°è‹±æ–‡å…³é”®å­— å’Œåˆ¤æ–­ç›®æ ‡ipå’Œç«¯å£ï¼Œè·å–åˆ°å¯¹åº”çš„è¯·æ±‚å‚æ•°å’Œçš„è¯·æ±‚ipã€‚å¦‚æœå‘é€çš„å‚æ•°ä¸ºè‹±æ–‡tcpdumpç›´æ¥æŠ“åŒ…æ˜¯èƒ½æ˜¾ç¤ºå¤§éƒ¨åˆ†å‚æ•°çš„ï¼Œéœ€è¦å®Œæ•´çš„å‚æ•°ä¿¡æ¯ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥åœ¨ä¸šåŠ¡ä»£ç ä¸­åŠ ç›‘æ§ï¼Œthrift æ¥å£åœ¨ä»£ç ä¸­ç›‘æ§å‘é€è¯·æ±‚å‚æ•°è¿˜æ˜¯æŒºç®€å•çš„ï¼Œä¸»è¦æ˜¯è·å–è¯·æ±‚ipæœ‰ç‚¹éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚å‘½ä»¤æ˜¯è¿™æ ·çš„ï¼ˆè¿™é‡Œå‡è®¾readä¸ºè¯·æ±‚å‚æ•°å…³é”®å­—ï¼‰&lt;br/&gt;&lt;code&gt;tcpdump -i any -A -s 0 'tcp port 9521' | grep -E &quot;read|&amp;gt; [0-9\.]+9521&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¯ä»¥è·å–åˆ° thrift æ¥å£è¯·æ±‚åˆ°çš„ 9521 ç«¯å£ çš„è®¿é—®ipå’Œè¯·æ±‚å‚æ•°ï¼Œä¸è¿‡æ‰“å°å‡ºæ¥çš„æ—¥å¿—ï¼Œè¿˜éœ€è¦è‡ªå·±çš„å»å¤„ç†ä¸€ä¸‹çš„ã€‚åŸºæœ¬ä¸Šçš„è¯·æ±‚å‚æ•°çš„ä¸Šä¸€è¡Œå°±æ˜¯è¯¥è¯·æ±‚çš„ipã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†è§£å†³è·å– thriftæ¥å£ çš„è¯·æ±‚å‚æ•°å’Œå®¢æˆ·ç«¯è¯·æ±‚ ip çš„é—®é¢˜ã€‚ç®—ä½œè®°å½•ä¸€ä¸‹è‡ªå·±çš„è§£å†³é—®é¢˜çš„æµç¨‹ã€‚å…¶ä¸­é¡ºä¾¿äº†è§£ä¸€ä¸‹æŠ“åŒ…å·¥å…· wireshark çš„ä½¿ç”¨ï¼Œä¹‹å‰ä¸€ç›´æœ‰å¬è¯´è¿‡è¿™ä¸ªè½¯ä»¶ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰å®é™…ä½¿ç”¨è¿‡ï¼Œæ„Ÿè§‰çš„ç¡®å¥½ç”¨ã€‚ å¦å¤–ç®—ä½œä¹Ÿæé†’è‡ªå·±åœ¨æ­å»ºapiæœåŠ¡çš„æ—¶å€™ï¼Œè®°å¾—åšå¥½æ¯æ¬¡æ¥å£è°ƒç”¨ipå’Œè¯·æ±‚ipçš„ç›‘æ§ï¼Œä¸ç„¶åé¢æ¥æ‰‹çš„äººæŸ¥èµ·æ¥çœŸçš„æƒ³å´©æºƒï¼Œä¾‹å¦‚ï¼šæˆ‘ğŸ˜ªã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡ä¹Ÿç®—ä¸€ç¯‡æ¯”è¾ƒæ°´çš„æ–‡ç« å§ï¼Œä¸è¿‡æˆ‘è‡ªå·±ä»è¿™æ¬¡è§£å†³é—®é¢˜ä¸­è¿˜æ˜¯å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿çš„ï¼Œç¨å¾®è®°å½•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;wireshark è¿‡æ»¤å¯ä»¥é€šè¿‡ &lt;code&gt;tcp and ip.addr == 127.0.0.1 and thrift&lt;/code&gt; å‘½ä»¤è®¾ç½®åœ¨ dispaly filter æ¥è·å–ç›®æ ‡çš„è¯·æ±‚ï¼Œ thrift è¡¨ç¤ºåè®®ï¼Œä¸è¿‡å¦‚æœwireshark ç‰ˆæœ¬å¤ªä½çš„è¯ï¼Œå¯ä»¥è¯†åˆ«ä¸äº†è¿™ä¸ªåè®®ã€‚&lt;/li&gt;
&lt;li&gt;wireshark çš„å‘½ä»¤è¡Œç‰ˆæœ¬ä¸ºï¼š tshark&lt;/li&gt;
&lt;li&gt;wireshark çš„å¸®åŠ©æ–‡æ¡£åœ°å€ &lt;a href=&quot;https://gitlab.com/wireshark/wireshark/-/wikis/home&quot; target=&quot;_blank&quot;&gt;https://gitlab.com/wireshark/wireshark/-/wikis/home&lt;/a&gt; ,wireshark çš„CaptureFiltersï¼ˆæ•æ‰å‰è¿‡æ»¤ï¼‰ å’ŒDisplayFiltersï¼ˆæ•æ‰åç­›é€‰ï¼‰ åŒºåˆ«&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo tshark -s 512 -i eth0 -n -f 'tcp dst port 9521' -l&lt;/code&gt; tshark çš„å‘½ä»¤ï¼Œæ•æ‰tcp çš„è¯·æ±‚çš„ï¼Œå‚è€ƒï¼š &lt;a href=&quot;https://www.cnblogs.com/liun1994/p/6142505.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/liun1994/p/6142505.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://s3.ax1x.com/2020/11/25/DdddOS.png&quot; alt=&quot;å¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Fri, 01 Jan 2021 15:09:00 +0000</pubDate>
<dc:creator>KANLON</dc:creator>
<og:description>æœ€è¿‘ï¼Œæˆ‘åœ¨å…¬å¸åšè¿™æ ·çš„ä¸€ä¸ªäº‹æƒ…ï¼Œæ•´ç†è€æ—§çš„apiæœåŠ¡ï¼Œéœ€è¦ç»Ÿè®¡æ¥å£çš„æ¯ä¸ªè¯·æ±‚çš„ipå’Œè¯·æ±‚å‚æ•°ï¼Œæ‰¾å‡ºå¯¹åº”çš„è°ƒç”¨çš„ipï¼Œä»¥ä¾¿é€šçŸ¥ä¸šåŠ¡æ–¹ä¿®æ”¹ä¸ºæ–°çš„apiæœåŠ¡ã€‚å…¶ä¸­æˆ‘ä»¬çš„è¿™ä¸ªapiæœåŠ¡è°ƒç”¨æœ‰åˆ†ä¸ºthriftè°ƒ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kanlon2015/p/14221216.html</dc:identifier>
</item>
<item>
<title>å¯¹å„å‘å¼‚æ€§é«˜å…‰çš„ç†è§£ - lxycg</title>
<link>http://www.cnblogs.com/leixinyue/p/14221200.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/leixinyue/p/14221200.html</guid>
<description>&lt;p&gt;åœ¨æ¸²æŸ“å¤´å‘ã€ä¸ç»¸ç­‰æè´¨æ—¶ï¼Œå¸¸è¦ç”¨åˆ°å„å‘å¼‚æ€§é«˜å…‰(Anisotropic highlighting)ã€‚ä»€ä¹ˆæ˜¯å„å‘å¼‚æ€§é«˜å…‰å‘¢ï¼Ÿå…ˆæ¥ä¸ªç›´è§‚çš„å¯¹æ¯”ï¼Œå¦‚ä¸‹é¢å›¾1ã€å›¾2ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images.cnblogs.com/cnblogs_com/leixinyue/1910003/o_210101150208Blinn-Phong.PNG&quot; alt=&quot;Blinn-Phong&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å›¾1 æ™®é€šçš„Blinn-Phongé«˜å…‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images.cnblogs.com/cnblogs_com/leixinyue/1910003/o_210101150200Aniso.PNG&quot; alt=&quot;Aniso&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å›¾2 å„é¡¹å¼‚æ€§é«˜å…‰&lt;/p&gt;
&lt;p&gt;å›¾1å’Œå›¾2æ˜¯åœ¨åŒä¸€ä¸ªåœºæ™¯é‡Œã€åŒä¸€ä¸ªæ¨¡å‹(ä¸€ä¸ªçƒ)ã€ç›¸æœºã€å…‰æº(åªæœ‰ä¸€ä¸ªå¹³è¡Œå…‰)ï¼Œç”šè‡³å®ƒä»¬çš„æ¼«åå°„å…‰ç…§ä¹Ÿä¸€æ ·ï¼Œåªæœ‰é«˜å…‰çš„è®¡ç®—æ–¹æ³•ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å›¾1ä½¿ç”¨çš„ä¼ ç»Ÿçš„Blinn-Phongé«˜å…‰ï¼Œå¯ä»¥çœ‹åˆ°é«˜å…‰å‘ˆä¸€ä¸ªåœ†å½¢äº®å…‰æ–‘ï¼Œæ¯”è¾ƒé›†ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-glsl&quot;&gt;// Blinn-Phong specular highlight
vec3 col = vec3(0.);
vec3 halfDir = normalize(viewDir + lightDir);
float nh = dot(normal, halfDir);
float spec = pow(nh, 100.);        
col += nl * lightColor * albedo + specColor * spec;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å›¾2ä¸­æ¸²æŸ“çš„æ˜¯å„å‘å¼‚æ€§é«˜å…‰ï¼Œå‘ˆç¯å½¢ï¼Œåœ¨å¤´å‘æ¸²æŸ“ä¸­åˆç§°ä¸ºâ€œå¤©ä½¿ç¯â€ï¼Œè¿™é‡Œä½¿ç”¨çš„å…‰ç…§æ¨¡å‹æ˜¯&lt;a href=&quot;http://web.engr.oregonstate.edu/~mjb/cs519/Projects/Papers/HairRendering.pdf&quot; target=&quot;_blank&quot;&gt;Kajiya-Kay Model&lt;/a&gt;ã€‚åœ¨å¾ˆå¤šæ¸¸æˆä¸­ï¼Œå¤´å‘æ¸²æŸ“éƒ½ä½¿ç”¨äº†Kajiya-Kay Modelï¼Œæ¯”å¦‚å´©å3(å½“ç„¶å´©å3åœ¨è¿™ä¸ªåŸºç¡€çš„æ¨¡å‹åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€äº›åˆ›æ–°ï¼Œä¸»è¦æ˜¯ä¸€äº›å‚æ•°çš„æ§åˆ¶ï¼Œæˆ‘åé¢ä¼šè¯´)ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-glsl&quot;&gt;// anisotropic highlighting
// http://web.engr.oregonstate.edu/~mjb/cs519/Projects/Papers/HairRendering.pdf 
// è®¡ç®—çƒåœ¨å½“å‰ç‚¹çš„åˆ‡çº¿
vec3 tangent = SphereTangent(pos, normal);
// åˆ‡çº¿åç§»ï¼Œå¯ä»¥ç§»åŠ¨â€œå¤©ä½¿ç¯â€çš„ä½ç½®ï¼Œåœ¨ä¸Šé¢é“¾æ¥é‡Œçš„PDFä¸­è¯¦ç»†è¯´æ˜ï¼Œæˆ‘ä¸ç»†è¯´äº†
//float shift = texelFetch(iChannel0, ivec2(0), 0).r;
//shift = shift * 2. - 1.;
//tangent = ShiftTangent(tangent, normal, shift);

vec3 col = vec3(0.);
vec3 halfDir = normalize(viewDir + lightDir);
float dotTH = dot(tangent, halfDir);
// å…³äºdirAttençš„è®¡ç®—è¯´æ˜è§ä¸‹æ–‡
float dirAtten = smoothstep(-1., 0., dotTH);
float sinTH = sqrt(1. - dotTH * dotTH);
// Kajiya-Kay Model
col += nl * lightColor * albedo + dirAtten * specColor * pow(sinTH, 100.);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://images.cnblogs.com/cnblogs_com/leixinyue/1910003/o_210101150213sinT.png&quot; alt=&quot;sinT&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å›¾3 Kajyiya-Kay Model&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢ä»£ç æ¥çœ‹Kajiya-Kay Modelæ¨¡å‹ä½¿ç”¨åˆ‡çº¿Tå’ŒåŠè§’å‘é‡H(å³ä»£ç ä¸­çš„halfDir)ä¹‹é—´å¤¹è§’çš„æ­£å¼¦å€¼æ¥è®¡ç®—é«˜å…‰ç³»æ•°(å³&lt;code&gt;pow(sinTH,100)&lt;/code&gt;)ï¼Œè€Œä¸æ˜¯Blinn-Phongä¸­çš„æ³•çº¿å’ŒHå‘é‡ä¹‹é—´å¤¹è§’çš„ä½™å¼¦(å³&lt;code&gt;pow(nh, 100.)&lt;/code&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;å›¾3ä¸­ï¼Œé»„è‰²çš„ç²—åœ†æŸ±è¡¨ç¤ºä¸€æ ¹å¤´å‘ï¼ŒTæ˜¯å…¶åˆ‡çº¿ï¼ŒVæ˜¯è§†çº¿ï¼ŒLæ˜¯å…‰æºæ–¹å‘, Hæ˜¯Lå’ŒVä¹‹é—´å¤¹è§’çš„ä¸€åŠã€‚&lt;strong&gt;å…¶å®Tå’ŒHå¤¹è§’çš„æ­£å¼¦æ°å¥½å°±æ˜¯å›¾3ä¸­Hå’ŒNä¹‹é—´çš„ä½™å¼¦å€¼&lt;/strong&gt;ï¼Œè¿™æ ·è¯´æ¥Kajiya-Kay Modelæœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨çš„ä½™å¼¦å€¼æ¥è®¡ç®—é«˜å…‰ç³»æ•°ã€‚ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯åœ¨æ¯æ ¹å¤´å‘çš„&lt;strong&gt;å›ºå®šç‚¹&lt;/strong&gt;å¤„ï¼ŒTæ€»æ˜¯ä¿æŒä¸å˜çš„ï¼ŒNæ˜¯éšè§†çº¿Vå˜åŒ–è€Œå˜åŒ–çš„ï¼ŒNæ€»æ˜¯åœ¨Tå’ŒVç»„æˆå¹³é¢å†…ã€‚&lt;strong&gt;ä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªè¢«æ¸²æŸ“çš„ç‚¹å¤„ï¼Œå…¶æ³•çº¿åœ¨å„ä¸ª(è§†çº¿)æ–¹å‘æ˜¯ä¸åŒçš„&lt;/strong&gt;ï¼Œ&lt;strong&gt;è¿™å¤§æ¦‚æ‰€è°“å°±æ˜¯çš„â€œå„å‘å¼‚æ€§â€&lt;/strong&gt;ã€‚è€Œæˆ‘ä»¬ä¹‹æ‰€ä»¥è¦æœ‰Tå°±æ˜¯ä¸ºäº†è®¡ç®—å‡ºè¿™ä¸ªéšè—åœ¨èƒŒåçš„æ³•çº¿Nã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®¡ç®—å‡ºè¿™ä¸ªNçš„ç¡®åˆ‡å€¼ï¼Œå…¶è•´å«åœ¨Tå’ŒHçš„æ­£å¼¦å€¼ä¸­ï¼ŒVè•´å«åœ¨Hä¸­ã€‚&lt;strong&gt;æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºKajiyaa-Kay Modelæœ¬è´¨ä¸Šä»ç„¶æ˜¯Blinn-Phongï¼Œåªæ˜¯å®ƒç”¨åˆ‡çº¿Tå¸®æˆ‘ä»¬æ‰¾åˆ°å½“å‰è§†çº¿ä¸‹çš„ä½¿é«˜å…‰æœ€å¼ºçš„æ³•çº¿N&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ³¨æ„ä¸Šé¢çš„&lt;strong&gt;æ–¹å‘è¡°å‡ç³»æ•°dirAttençš„è®¡ç®—&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-glsl&quot;&gt;float dirAtten = smoothstep(-1., 0., dotTH);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¡ç®—ï¼Ÿè²Œä¼¼å¥½å¤šäººéƒ½åªçŸ¥é“è¿™æ˜¯ä¸ªè¡°å‡ç³»æ•°ï¼Œè€Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¡ç®—ï¼Œæˆ–è€…è¯´ä¸å¤ªæ¸…æ¥šèƒŒåçš„å‡ ä½•æ„ä¹‰ã€‚è¿™ä¸ª&lt;strong&gt;æ–¹å‘è¡°å‡ç³»æ•°&lt;/strong&gt;å…¶å®æ¶‰åŠåˆ°ä¸¤ä¸ªæ–¹å‘ï¼Œä¸€ä¸ªæ˜¯å…‰æºçš„æ–¹å‘Lï¼Œä¸€ä¸ªæ˜¯è§†çº¿æ–¹å‘Vï¼Œå®ƒä»¬éƒ½è•´å«åœ¨Hä¸­ã€‚é¦–å…ˆï¼Œè¿™é‡Œ&lt;code&gt;smoothstep&lt;/code&gt;çš„ç¬¬3ä¸ªå‚æ•°ä¼ çš„æ˜¯dotTHï¼Œå³åˆ‡çº¿å’Œå’ŒHçš„ä½™å¼¦å€¼ã€‚è€Œè¿™é‡Œ&lt;a href=&quot;https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/smoothstep.xhtml&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;smoothstep&lt;/code&gt;&lt;/a&gt;çš„ç¬¬1ä¸ªå‚æ•°-1è¡¨æ˜å½“dotTH&lt;strong&gt;å°äºæˆ–ç­‰äº&lt;/strong&gt;-1æ—¶(å®é™…ä¸Šæœ€å¤šç­‰äº-1ï¼Œä¸ä¼šæ¯”-1è¿˜å°ï¼Œå› ä¸ºæ‰€æœ‰å‚ä¸è®¡ç®—çš„å‘é‡éƒ½æ˜¯è§„èŒƒåŒ–çš„)ï¼ŒdirAttenå€¼ä¸º0ã€‚ä»€ä¹ˆæ—¶å€™dotTHä¸º-1å‘¢ï¼Œå°±æ˜¯å›¾3ä¸­ï¼ŒHçš„æ–¹å‘æ°å¥½å’ŒTçš„æ–¹å‘ç›¸åæ—¶ï¼Œè¿™æ—¶å€™Tå’ŒHä¹‹é—´çš„å¤¹è§’ä¸º180åº¦ã€‚è€Œ&lt;code&gt;smoothstep&lt;/code&gt;çš„ç¬¬2ä¸ªå‚æ•°0è¡¨æ˜å½“dotTH&lt;strong&gt;å¤§äºæˆ–ç­‰äº&lt;/strong&gt;0æ—¶ï¼Œ&lt;code&gt;dirAtten&lt;/code&gt;çš„å€¼ä¸º1ã€‚æ³¨æ„dotTHæœ€å¤§å€¼ä¸º1ï¼Œæ­¤æ—¶Tå’ŒHçš„æ–¹å‘åˆšå¥½ç›¸åŒï¼Œä¸¤è€…ä¹‹é—´çš„å¤¹è§’ä¸º0åº¦ã€‚æ‰€ä»¥&lt;code&gt;smoothstep(-1., 0., dotTH)&lt;/code&gt;çš„ä½œç”¨å°±æ˜¯å–å’Œåˆ‡çº¿Tè§’å¤¹åœ¨0è‡³180åº¦ä¹‹é—´çš„Hã€‚å½“Tå’ŒHä¹‹é—´çš„å¤¹è§’ä¸åœ¨è¿™ä¸ªèŒƒå›´å†…æ—¶ï¼Œå¿…ç„¶å‡ºç°Hå’Œå¯¹åº”Nçš„ç‚¹ç§¯å°äº0ï¼Œå³&lt;strong&gt;æ­¤æ—¶é«˜å…‰ä¸º0&lt;/strong&gt; (æ­¤æ—¶å…‰æºç…§ä¸åˆ°å½“å‰ç€è‰²ç‚¹æˆ–ç›¸æœºçœ‹ä¸åˆ°å½“å‰ç€è‰²ç‚¹)ï¼Œæ­¤æ—¶dirAttençš„å€¼å°±åº”å½“ä¸º0(å³æ²¡æœ‰é«˜å…‰)ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä¸€èˆ¬çš„æˆ‘ä»¬å¯ä»¥å®šåˆ¶å„å‘å¼‚æ€§é«˜å…‰çš„å‚æ•°ï¼Œæ¯”å¦‚è®¡ç®—å„å‘å¼‚æ€§é«˜å…‰æ—¶&lt;code&gt;dirAtten * specColor * pow(sinTH, 100.);&lt;/code&gt;ï¼Œå…¶ä¸­çš„100å°±æ˜¯ä¸€ä¸ªå¯è°ƒå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å€¼è¶Šå¤§ï¼Œâ€œå¤©ä½¿ç¯â€çš„è¶Šç»†ï¼Œå…¶å€¼è¶Šå¤§ï¼Œâ€œå¤©ä½¿ç¯â€è¶Šå®½ã€‚è¿™ä¸€ç‚¹å¤§å®¶éƒ½å¯ä»¥ç†è§£ã€‚è€Œæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œç›´æ¥ä½¿ç”¨ä¸€å¼ è´´å›¾æ¥æ§åˆ¶â€œå¤©ä½¿ç¯â€åœ¨å„å¤„çš„å®½åº¦ï¼Œä½¿å…¶åœ¨å„å¤„çš„å®½åº¦ä¸åŒï¼Œç”šè‡³å¯ä»¥æŠŠâ€œå¤©ä½¿ç¯â€è°ƒæˆå„ç§æœ‰è¶£çš„å›¾æ¡ˆï¼Œä»¥è¾¾åˆ°æƒ³è¦çš„è‰ºæœ¯æ•ˆæœã€‚è¿˜æœ‰æ¸²æŸ“å¤´å‘ä¸€èˆ¬æœ‰ä¸¤ä¸ªâ€œå¤©â€ä½¿ç¯ï¼Œç¬¬äºŒä¸ªä¼šè¾ƒæš—ä¸€äº›ï¼Œä¸”æ˜¯æœ‰è‡ªå·±çš„é¢œè‰²çš„ï¼Œæ›´é è¿‘å‘æ ¹ã€‚åªè¦ç†è§£äº†ç¬¬ä¸€ä¸ªâ€œå¤©ä½¿ç¯â€çš„åŸç†ï¼Œç¬¬äºŒä¸ªåªæ˜¯åœ¨ç¬¬ä¸€ä¸ªåŸºç¡€ä¸Šè¿›è¡Œäº†åç§»ï¼Œé¢œè‰²ç¨å¾®æœ‰ç‚¹ä¸åŒè€Œå·²ï¼Œæˆ‘ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å†™äº†ä¸€ä¸ªShadertoy: &lt;a href=&quot;https://www.shadertoy.com/view/ttccRj&quot; target=&quot;_blank&quot;&gt;Anisotropic highlighting (shadertoy.com)&lt;/a&gt;ï¼Œæœ‰æºä»£ç ï¼Œåœ¨ç”µè„‘ä¸Šæ‰“å¼€æµè§ˆå™¨ï¼Œå¯åœ¨çº¿è¿è¡Œï¼Œå¯è¿›è¡Œäº¤äº’ï¼Œè°ƒæ•´å¤©ä½¿ç¯çš„ä½ç½®ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä¸€äº›åŒå­¦ã€‚å¦‚æœå› ä¸ºæŸäº›åŸå› ï¼Œæ‰“ä¸å¼€ç½‘å€ï¼Œæˆ‘ä¹Ÿå½•åˆ¶äº†ä¸€ä¸ª[è§†é¢‘](&lt;a href=&quot;https://www.zhihu.com/zvideo/1328388367751114752&quot; target=&quot;_blank&quot;&gt;A shdertoy: Anisotropic Hightlighting - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;)ï¼Œå¯åœ¨çŸ¥ä¹ä¸Šè§‚çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘æƒ³è®°å½•ä¸€ä¸‹åœ¨å†™è¿™ä¸ªShadertoyæ—¶ç”¨åˆ°çš„ä¸€ä¸ªå°æŠ€å·§: çƒçš„åˆ‡çº¿çš„è®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»£ç ä¸­ï¼Œé‚£ä¸ªçº¢è‰²çš„çƒæ˜¯ç”¨æ•°å­¦å…¬å¼å»ºæ¨¡çš„å³ $ length(p - center) = r$ï¼Œç„¶åä»ç›¸æœºå¤„å‘å°„å°„çº¿ï¼Œåˆ¤æ–­å°„çº¿ä¸çƒæ˜¯å¦ç›¸äº¤ä»¥åŠè·ç›¸æœºçš„è·ç¦»ï¼Œæ¥æ±‚å¾—äº¤ç‚¹ï¼Œå³å½“å‰ç€è‰²ç‚¹ã€‚æ³•çº¿çš„è®¡ç®—å¾ˆç®€å•ï¼Œä¸èµ˜è¿°ã€‚ä½†æ˜¯æ€ä¹ˆè®¡ç®—å‡ºåˆ‡çº¿å‘¢ï¼Ÿæˆ‘æ˜¯è¿™æ ·åšçš„: ç”¨å½“å‰ç€è‰²ç‚¹çš„ä¸‰ç»´åæ ‡åŠå…¶æ³•çº¿ç¡®å®šä¸€ä¸ªå¹³é¢ï¼Œç„¶åæŠŠå½“å‰ç€è‰²ç‚¹çš„yåæ ‡åŠ 1(å½“ç„¶åŠ åˆ«çš„æ•°å€¼åº”è¯¥ä¹Ÿå¯ä»¥)å¾—åˆ°åç§»åçš„ä¸€ä¸ªç‚¹ï¼Œç„¶åæŠŠè¿™ä¸ªåç§»åçš„ç‚¹å†æŠ•å½±åˆ°åˆšåˆšç¡®å®šçš„é‚£ä¸ªå¹³é¢ä¸Šï¼Œåˆ™æŠ•å½±å¾—åˆ°ç‚¹å‡å»å½“å‰ç€è‰²ç‚¹å¾—åˆ°çš„å‘é‡å°±æ˜¯å½“å‰ç€è‰²ç‚¹çš„ä¸€ä¸ªåˆ‡çº¿å‘é‡ï¼Œè¿›è¡Œè§„èŒƒåŒ–å³å¯ã€‚å…³äºå¹³é¢æ–¹ç¨‹åŠç‚¹æŠ•å½±åˆ°å¹³é¢ï¼Œå¯å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šå¹³é¢(Plane) - çŸ¥ä¹ (zhihu.com)ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-glsl&quot;&gt;// posæ˜¯å½“å‰ç€è‰²ç‚¹çš„ä¸‰ç»´åæ ‡
vec3 SphereTangent(vec3 pos, vec3 normal) {
    vec3 posOffseted = pos;
    posOffseted.y += 1.;
    float D = - dot(normal, pos);
    float distToPlane = dot(normal, posOffseted) + D;
    vec3 proj = posOffseted - normal * distToPlane;
    vec3 tangent = normalize(proj - pos);
    return tangent;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä¸çŸ¥é“æœ‰æ²¡æœ‰äººè¿™æ ·åšè¿‡ï¼Œæˆ‘æ˜¯ä¸´æ—¶æƒ³åˆ°çš„ï¼Œå®ç°äº†ä¸€ä¸‹æ•ˆæœè¿˜è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒ:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.shadertoy.com/view/ttccRj&quot; target=&quot;_blank&quot;&gt;Anisotropic highlighting (shadertoy.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://web.engr.oregonstate.edu/~mjb/cs519/Projects/Papers/HairRendering.pdf&quot; target=&quot;_blank&quot;&gt;Hair Rendering and Shading&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102514602&quot; target=&quot;_blank&quot;&gt;å¹³é¢(Plane) - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Fri, 01 Jan 2021 15:05:00 +0000</pubDate>
<dc:creator>lxycg</dc:creator>
<og:description>åœ¨æ¸²æŸ“å¤´å‘ã€ä¸ç»¸ç­‰æè´¨æ—¶ï¼Œå¸¸è¦ç”¨åˆ°å„å‘å¼‚æ€§é«˜å…‰(Anisotropic highlighting)ã€‚ä»€ä¹ˆæ˜¯å„å‘å¼‚æ€§é«˜å…‰å‘¢ï¼Ÿå…ˆæ¥ä¸ªç›´è§‚çš„å¯¹æ¯”ï¼Œå¦‚ä¸‹é¢å›¾1ã€å›¾2ã€‚ å›¾1 æ™®é€šçš„Blinn-Phongé«˜å…‰</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/leixinyue/p/14221200.html</dc:identifier>
</item>
<item>
<title> å®¹å™¨ç¼–æ’ç³»ç»ŸK8sä¹‹è®¿é—®æ§åˆ¶--å‡†å…¥æ§åˆ¶ - Linux-1874</title>
<link>http://www.cnblogs.com/qiuhom-1874/p/14220402.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qiuhom-1874/p/14220402.html</guid>
<description>&lt;p&gt;ã€€ã€€å‰æ–‡æˆ‘ä»¬èŠåˆ°äº†k8sçš„è®¿é—®æ§åˆ¶ç¬¬äºŒå…³RBACæˆæƒæ’ä»¶çš„ç›¸å…³è¯é¢˜ï¼Œå›é¡¾è¯·å‚è€ƒï¼š&lt;a href=&quot;https://www.cnblogs.com/qiuhom-1874/p/14216634.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/qiuhom-1874/p/14216634.html&lt;/a&gt;ï¼›ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸‹k8sä¸Šçš„è®¿é—®æ§åˆ¶ç¬¬ä¸‰å…³å‡†å…¥æ§åˆ¶ç›¸å…³è¯é¢˜ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨è¯´å‡†å…¥æ§åˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸‹ä¹‹å‰çš„ç”¨æˆ·è®¤è¯å’Œæˆæƒï¼Œåœ¨k8sä¸Šç”¨æˆ·è®¤è¯å’Œæˆæƒæœºåˆ¶éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªæ’ä»¶è¿›è¡ŒåŠŸèƒ½çš„æ‰©å±•ï¼Œæˆ‘ä»¬è¦è¦æƒ³ä½¿ç”¨æŸç§ç”¨æˆ·è®¤è¯å’Œæˆæƒæœºåˆ¶ï¼Œç›¸åº”çš„æˆ‘ä»¬åº”è¯¥å»å¯ç”¨å¯¹åº”çš„æ’ä»¶ï¼›å¯¹äºç”¨æˆ·è®¤è¯å’Œæˆæƒè¿™ä¸¤ä¸ªæœºåˆ¶æ¥è¯´ï¼Œå®ƒä»¬çš„å·¥ä½œé€»è¾‘éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä¸€ç¥¨é€šè¿‡çš„æœºåˆ¶ï¼Œä¸€ç¥¨é€šè¿‡æ˜¯æŒ‡å¯æœ‰å¤šä¸ªæ’ä»¶ï¼Œåªè¦å¯¹åº”ç”¨æˆ·æ¥è®¤è¯æˆ–åšæˆæƒéªŒè¯ï¼Œåªè¦æœ‰å…¶ä¸­çš„ä¸€ä¸ªæ’ä»¶æ»¡è¶³è¦æ±‚ï¼Œå¯¹åº”çš„ç”¨æˆ·å°±èƒ½é€šè¿‡è®¤è¯ï¼ŒåŒæ ·çš„é“ç†éªŒè¯æˆæƒä¹Ÿæ˜¯ï¼Œåœ¨k8sä¸Šæˆæƒæ’ä»¶æ˜¯æ˜¾å¼æˆæƒçš„ï¼Œå³åªè¦æ»¡è¶³å¯¹åº”å®šä¹‰çš„æˆæƒè§„åˆ™ï¼Œåˆ™å¯¹åº”çš„éªŒè¯æˆæƒå°±ä¼šè¢«é€šè¿‡ï¼Œåä¹‹æ²¡æœ‰æ˜¾å¼æˆæƒçš„ï¼Œå³ä¾¿è®¤çœŸé€šè¿‡æƒé™éªŒè¯ä¹Ÿæ˜¯ä¸èƒ½æ”¾è¡Œçš„ï¼›å¯¹äºå‡†å…¥æ§åˆ¶æ¥è¯´ï¼Œåœ¨k8sä¸Šå‡†å…¥æ§åˆ¶æ˜¯é€šè¿‡å‡†å…¥æ§åˆ¶å™¨å®ç°çš„ï¼Œä¸€ä¸ªå‡†å…¥æ§åˆ¶å™¨å°±å¯¹åº”äº†ä¸€ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨å¯¹åº”çš„å‡†å…¥æ§åˆ¶å™¨ï¼Œç›¸åº”æˆ‘ä»¬ä¹Ÿè¦å¯ç”¨å¯¹åº”çš„æ’ä»¶æ‰è¡Œï¼›åœ¨k8sä¸Šå‡†å…¥æ§åˆ¶ã€ç”¨æˆ·è®¤è¯ã€æˆæƒé»˜è®¤éƒ½å†…ç½®å¹¶å¯ç”¨ä¸€äº›æ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç¼–å†™å¯¹åº”çš„è§„åˆ™å³å¯ï¼›å‡†å…¥æ§åˆ¶å’Œç”¨æˆ·è®¤è¯ã€æˆæƒæœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå‡†å…¥æ§åˆ¶çš„å·¥ä½œé€»è¾‘æ˜¯ä¸€ç¥¨å¦å†³æœºåˆ¶ï¼Œæ‰€è°“ä¸€ç¥¨å¦å†³æ˜¯æŒ‡åœ¨å¤šä¸ªå‡†å…¥æ§åˆ¶è§„åˆ™å½“ä¸­ï¼Œåªè¦ä¸æ»¡è¶³å…¶ä¸­ä¸€ä¸ªè§„åˆ™ï¼Œå¯¹åº”çš„è¯·æ±‚å°±æ˜¯æ‹’ç»æ“ä½œçš„ï¼›å¯¹äºå‡†å…¥æ§åˆ¶æ¥è¯´ï¼Œå®ƒæœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯å˜å¼‚å‹ï¼Œä¸€ç§æ˜¯æ ¡éªŒå‹ï¼›æ‰€è°“å˜å¼‚å‹æ˜¯æŒ‡æˆ‘ä»¬åœ¨æäº¤ç»™apiserverè¿›è¡Œèµ„æºåˆ›å»ºæ—¶ï¼Œé»˜è®¤æ²¡æœ‰æŒ‡å®šçš„å¯¹åº”å­—æ®µçš„ä¿¡æ¯ï¼›å®ƒä¼šç»™æˆ‘ä»¬è¡¥ä¸Šï¼Œæˆ–è€…æˆ‘ä»¬å®šä¹‰èµ„æºçš„æŸäº›å±æ€§çš„å€¼ä¸å¤ªè§„èŒƒï¼Œå®ƒä¼šå¸®åŠ©æˆ‘ä»¬ä¿®æ”¹å¯¹åº”çš„å±æ€§çš„å€¼ä¸ºä¸€ä¸ªè§„èŒƒçš„å€¼ï¼Œç„¶åæäº¤ç»™apiserverï¼›è¿™ç§å‡†å…¥æ§åˆ¶å™¨é€šå¸¸æ˜¯å¸®åŠ©æˆ‘ä»¬æŠŠå¯¹åº”æäº¤çš„èµ„æºåˆ›å»ºä¿¡æ¯ï¼Œè§„èŒƒåæäº¤ç»™apiserverï¼Œä½¿å¾—æˆ‘ä»¬æäº¤èµ„æºçš„ä¿¡æ¯æ˜¯èƒ½å¤Ÿæ»¡è¶³å¯¹åº”apiè§„èŒƒï¼›æ ¡éªŒå‹å‡†å…¥æ§åˆ¶å™¨æ˜¯ç”¨æ¥é™åˆ¶æˆ‘ä»¬å¯¹åº”åˆ›å»ºèµ„æºæ˜¯å¦åˆç†ï¼Œæ˜¯å¦æ»¡è¶³æˆ‘ä»¬å®šä¹‰çš„è§„åˆ™ï¼Œå¦‚æœä¸æ»¡è¶³å°±ç›´æ¥æ‹’ç»æˆ‘ä»¬åˆ›å»ºï¼›è¿™ç§æ§åˆ¶å™¨ä¸»è¦ç”¨æ¥é™åˆ¶æˆ‘ä»¬å¯¹k8sä¸Šçš„èµ„æºçš„ä½¿ç”¨ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨k8sä¸Šå‡†å…¥æ§åˆ¶å™¨çš„æ¨¡å—æœ‰å¾ˆå¤šï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æœ‰LimitRangerã€ResourceQuotaã€ServiceAccountã€PodSecurityPolicyç­‰ç­‰ï¼Œå¯¹äºå‰é¢ä¸‰ç§å‡†å…¥æ§åˆ¶å™¨ç³»ç»Ÿé»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰å¯¹åº”çš„è§„åˆ™å³å¯ï¼›å¯¹äºPodSecurityPolicyè¿™ç§å‡†å…¥æ§åˆ¶å™¨ï¼Œç³»ç»Ÿé»˜è®¤æ²¡æœ‰å¯ç”¨ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ï¼Œå°±å¿…éœ€å¯ç”¨ä»¥åï¼Œå¯¹åº”è§„åˆ™æ‰ä¼šæ­£å¸¸ç”Ÿæ•ˆï¼›è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¯¹åº”pspå‡†å…¥æ§åˆ¶å™¨ï¼Œä¸€å®šè¦å…ˆå†™å¥½å¯¹åº”çš„è§„åˆ™ï¼ŒæŠŠè§„åˆ™å’Œæƒé™ç»‘å®šå¥½ä»¥åï¼Œåœ¨å¯ç”¨å¯¹åº”çš„å‡†å…¥æ§åˆ¶å™¨ï¼Œå¦åˆ™å…ˆå¯ç”¨å‡†å…¥æ§åˆ¶å™¨ï¼Œæ²¡æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œé»˜è®¤æƒ…å†µå®ƒæ˜¯æ‹’ç»æ“ä½œï¼Œåœ¨k8sä¸Šæ²¡æœ‰æ˜¾å¼å®šä¹‰è§„åˆ™éƒ½æ˜¯æ‹’ç»ï¼Œè¿™å¯èƒ½å¯¼è‡´ç°æœ‰çš„k8sç³»ç»Ÿè·‘çš„ç³»ç»Ÿçº§podæ— æ³•æ­£å¸¸å·¥ä½œï¼›æ‰€ä»¥å¯¹äºpspå‡†å…¥æ§åˆ¶å™¨è¦æ…ç”¨ï¼Œå¦‚æœè§„åˆ™å’Œæƒé™åšçš„è¶³å¤Ÿç²¾ç»†ï¼Œå®ƒä¼šç»™æˆ‘ä»¬çš„k8sç³»ç»Ÿå®‰å…¨å¸¦æ¥å¤§å¹…åº¦çš„æå‡ï¼Œåä¹‹ï¼Œå¯èƒ½å¯¼è‡´æ•´ä¸ªk8sç³»ç»Ÿä¸å¯ç”¨ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€æŸ¥çœ‹apiserverå¯ç”¨çš„å‡†å…¥æ§åˆ¶å™¨&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1503305/202101/1503305-20210101150844188-50787004.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šapiserverå¯ç”¨å‡†å…¥æ§åˆ¶æ’ä»¶éœ€è¦ä½¿ç”¨--enable-admission-pluginsé€‰é¡¹æ¥æŒ‡å®šï¼Œè¯¥é€‰é¡¹å¯ä»¥ä½¿ç”¨å¤šä¸ªå€¼ï¼Œç”¨é€—å·éš”å¼€è¡¨ç¤ºå¯ç”¨æŒ‡å®šçš„å‡†å…¥æ§åˆ¶æ’ä»¶ï¼›è¿™é‡Œé…ç½®æ–‡ä»¶ä¸­æ˜¾å¼å¯ç”¨äº†NodeRestricationè¿™ä¸ªæ’ä»¶ï¼›é»˜è®¤æ²¡æœ‰å†™åœ¨è¿™ä¸Šé¢çš„å†…ç½®å‡†å…¥æ§åˆ¶å™¨ï¼Œå®ƒä¹Ÿæ˜¯å¯ç”¨äº†çš„ï¼Œæ¯”å¦‚LimitRangerã€ResourceQuotaã€ServiceAccountç­‰ç­‰ï¼›å¯¹äºä¸åŒçš„k8sç‰ˆæœ¬ï¼Œå†…ç½®çš„å‡†å…¥æ§åˆ¶å™¨å’Œå¯ç”¨ä¸å¦è¯·æŸ¥çœ‹ç›¸å…³ç‰ˆæœ¬çš„å®˜æ–¹æ–‡æ¡£ï¼›å¯¹äºé‚£äº›æ²¡æœ‰å¯åŠ¨çš„å‡†å…¥æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢é€‰é¡¹ä¸­ç›´æ¥å¯ç”¨ï¼Œåˆ†åˆ«ç”¨é€—å·éš”å¼€å³å¯ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€LimitRangeræ§åˆ¶å™¨&lt;/p&gt;
&lt;p&gt;ã€€ã€€LimitRangerå‡†å…¥æ§åˆ¶å™¨æ˜¯k8sä¸Šä¸€ä¸ªå†…ç½®çš„å‡†å…¥æ§åˆ¶å™¨ï¼ŒLimitRangeæ˜¯k8sä¸Šçš„ä¸€ä¸ªæ ‡å‡†èµ„æºï¼Œå®ƒä¸»è¦ç”¨æ¥å®šä¹‰åœ¨æŸä¸ªåç§°ç©ºé—´ä¸‹é™åˆ¶podæˆ–podé‡Œçš„å®¹å™¨å¯¹k8sä¸Šçš„cpuå’Œå†…å­˜èµ„æºä½¿ç”¨ï¼›å®ƒèƒ½å¤Ÿå®šä¹‰æˆ‘ä»¬åœ¨æŸä¸ªåç§°ç©ºé—´ä¸‹åˆ›å»ºpodæ—¶ä½¿ç”¨çš„cpuå’Œå†…å­˜çš„ä¸Šé™å’Œä¸‹é™ä»¥åŠé»˜è®¤cpuã€å†…å­˜çš„ä¸Šä¸‹é™ï¼›å¦‚æœæˆ‘ä»¬åˆ›å»ºpodæ—¶å®šä¹‰äº†èµ„æºä¸Šä¸‹é™ï¼Œä½†ä¸æ»¡è¶³LimitRangeè§„åˆ™ä¸­å®šä¹‰çš„èµ„æºä¸Šä¸‹é™ï¼Œæ­¤æ—¶LimitRangerå°±ä¼šæ‹’ç»æˆ‘ä»¬åˆ›å»ºæ­¤podï¼›å¦‚æœæˆ‘ä»¬åœ¨LimitRangeè§„åˆ™ä¸­å®šä¹‰äº†é»˜è®¤çš„èµ„æºä¸Šä¸‹é™åˆ¶ï¼Œæˆ‘ä»¬åˆ›å»ºèµ„æºæ²¡æœ‰æŒ‡å®šå…¶èµ„æºé™åˆ¶ï¼Œå®ƒé»˜è®¤ä¼šä½¿ç”¨LimitRangeè§„åˆ™ä¸­çš„é»˜è®¤èµ„æºé™åˆ¶ï¼›åŒæ ·çš„é€»è¾‘LimitRangerå¯ä»¥é™åˆ¶ä¸€ä¸ªpodä½¿ç”¨èµ„æºçš„ä¸Šä¸‹é™ï¼Œå®ƒè¿˜å¯ä»¥é™åˆ¶podä¸­çš„å®¹å™¨çš„èµ„æºä¸Šä¸‹é™ï¼Œæ¯”é™åˆ¶podæ›´åŠ ç²¾å‡†ï¼›ä¸ç®¡æ˜¯é’ˆå¯¹podè¿˜æ˜¯podé‡Œçš„å®¹å™¨ï¼Œå®ƒå§‹ç»ˆåªæ˜¯é™åˆ¶å•ä¸ªpodèµ„æºä½¿ç”¨ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€LimitRangeè§„åˆ™å®šä¹‰&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat LimitRang-demo.yaml
apiVersion: v1
kind: Namespace
metadata: 
  name: myns
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-memory-limit-range
  namespace: myns
spec:
  limits:
  - default:
      cpu: 1000m
      memory: 1000Mi
    defaultRequest:
      cpu: 500m
      memory: 500Mi
    min:
      cpu: 500m
      memory: 500Mi
    max:
      cpu: 2000m
      memory: 2000Mi
    maxLimitRequestRatio:
      cpu: 4
      memory: 4
    type: Container
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šä»¥ä¸Šæ¸…å•ä¸»è¦å®šä¹‰äº†ä¸¤ä¸ªèµ„æºï¼Œä¸€ä¸ªåˆ›å»ºmynsåç§°ç©ºé—´ï¼Œä¸€ä¸ªæ˜¯åœ¨å¯¹åº”mynsåç§°ç©ºé—´ä¸‹å®šä¹‰äº†LimitRangeèµ„æºï¼›å…¶ä¸­LimitRangeèµ„æºçš„åç§°ä¸ºcpu-memory-limit-rangeï¼Œdefaultå­—æ®µç”¨æ¥æŒ‡å®šé»˜è®¤å®¹å™¨èµ„æºä¸Šé™å€¼ï¼›defaultRequestç”¨æ¥æŒ‡å®šé»˜è®¤å®¹å™¨èµ„æºä¸‹é™å€¼ï¼›minå­—æ®µç”¨æ¥æŒ‡å®šé™åˆ¶ç”¨æˆ·æŒ‡å®šçš„èµ„æºä¸‹é™ä¸èƒ½å°äºå¯¹åº”èµ„æºçš„å€¼ï¼›maxæ˜¯ç”¨æ¥é™åˆ¶ç”¨æˆ·æŒ‡å®šèµ„æºä¸Šé™å€¼ä¸èƒ½å¤§äºè¯¥å€¼ï¼›maxLimitRequestRatioå­—æ®µç”¨æ¥æŒ‡å®šèµ„æºçš„ä¸Šé™å’Œä¸‹é™çš„æ¯”å€¼ï¼›å³ä¸Šé™æ˜¯ä¸‹é™çš„å¤šå°‘å€ï¼›typeæ˜¯ç”¨æ¥æè¿°å¯¹åº”èµ„æºé™åˆ¶çš„çº§åˆ«ï¼Œè¯¥å­—æ®µæœ‰ä¸¤ä¸ªå€¼podå’Œcontainerï¼›ä¸Šè¿°èµ„æºæ¸…å•è¡¨ç¤ºåœ¨è¯¥åç§°ç©ºé—´ä¸‹åˆ›å»ºpodæ—¶ï¼Œé»˜è®¤ä¸æŒ‡å®šå…¶å®¹å™¨çš„èµ„æºé™åˆ¶ï¼Œå°±é™åˆ¶å¯¹åº”å®¹å™¨æœ€å°‘è¦æœ‰0.5ä¸ªæ ¸å¿ƒçš„cpuå’Œ500Mçš„å†…å­˜ï¼›æœ€å¤§ä¸º1ä¸ªæ ¸å¿ƒcpu,1gå†…å­˜ï¼›å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨å®šä¹‰äº†å®¹å™¨çš„èµ„æºé™åˆ¶ï¼Œé‚£ä¹ˆå¯¹åº”èµ„æºé™åˆ¶æœ€å°ä¸èƒ½å°äºcpuä¸º0.5ä¸ªæ ¸å¿ƒï¼Œå†…å­˜ä¸º500Mï¼Œæœ€å¤§ä¸èƒ½è¶…è¿‡cpuä¸º2ä¸ªæ ¸å¿ƒï¼Œå†…å­˜ä¸º2000Mï¼›å¦‚æœæˆ‘ä»¬åœ¨åˆ›å»ºpodæ—¶ï¼ŒåªæŒ‡å®šäº†å®¹å™¨çš„èµ„æºä¸Šé™æˆ–ä¸‹é™ï¼Œé‚£ä¹ˆä¸Šé™æœ€å¤§æ˜¯ä¸‹é™çš„çš„4å€ï¼Œå¦‚æœæŒ‡å®šcpuä¸Šé™ä¸º2000mé‚£ä¹ˆä¸‹é™ä¸€å®šä¸ä¼šå°äº500mï¼Œå¦‚æœåªæŒ‡å®šäº†cpuä¸‹é™ä¸º500mé‚£ä¹ˆä¸Šé™æœ€å¤§ä¸ä¼šè¶…è¿‡2000mï¼Œå¯¹äºå†…å­˜ä¹Ÿæ˜¯åŒæ ·çš„é€»è¾‘ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åº”ç”¨èµ„æºæ¸…å•&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# kubectl apply -f LimitRang-demo.yaml
namespace/myns created
limitrange/cpu-memory-limit-range created
[root@master01 ~]# kubectl get limitrange -n myns
NAME                     CREATED AT
cpu-memory-limit-range   2021-01-01T08:01:24Z
[root@master01 ~]# kubectl describe limitrange cpu-memory-limit-range -n myns                      
Name:       cpu-memory-limit-range
Namespace:  myns
Type        Resource  Min    Max     Default Request  Default Limit  Max Limit/Request Ratio
----        --------  ---    ---     ---------------  -------------  -----------------------
Container   cpu       500m   2       500m             1              4
Container   memory    500Mi  2000Mi  500Mi            1000Mi         4
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šèµ„æºæ¸…å•ä¸­å¦‚æœæŒ‡å®šäº†maxLimitRequestRatioï¼Œéœ€è¦æ³¨æ„minä¸­å’Œmaxä¸­çš„å¯¹åº”èµ„æºçš„å•ä½ï¼Œå¦‚æœæŒ‡å®šçš„å€æ•°å’Œmaxä¸minä¸­æŒ‡å®šçš„å€¼æ¯”ä¾‹ä¸åŒï¼Œå®ƒè¿™é‡Œä¼šä¸ä¼šè®©æˆ‘ä»¬åˆ›å»ºï¼›å¦‚ä¸‹æç¤º&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# kubectl apply -f LimitRang-demo.yaml
namespace/myns unchanged
The LimitRange &quot;cpu-limit-range&quot; is invalid: spec.limits[0].maxLimitRequestRatio[memory]: Invalid value: resource.Quantity{i:resource.int64Amount{value:4, scale:0}, d:resource.infDecAmount{Dec:(*inf.Dec)(nil)}, s:&quot;4&quot;, Format:&quot;DecimalSI&quot;}: ratio 4 is greater than max/min = 3.814697
[root@master01 ~]#
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šæˆ‘ä»¬åœ¨èµ„æºä¸­æŒ‡å®šmaxLimitRequestRatioï¼Œå®ƒå†…éƒ¨å°±æ˜¯ä½¿ç”¨max/min,æ‰€ä»¥å¯¹åº”çš„å€¼å¿…é¡»ç¬¦åˆmax/minçš„å€¼ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šåœ¨mynsåç§°ç©ºé—´ä¸‹åˆ›å»ºä¸€ä¸ªpodï¼Œé»˜è®¤ä¸æŒ‡å®šå…¶èµ„æºé™åˆ¶ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦ä¼šè¢«limitrangeè§„åˆ™è‡ªåŠ¨é™„åŠ å…¶èµ„æºé™åˆ¶ï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
[root@master01 manifests]# kubectl apply -f pod-demo.yaml
pod/nginx-pod-demo created
[root@master01 manifests]# kubectl get pods -n myns
NAME             READY   STATUS    RESTARTS   AGE
nginx-pod-demo   1/1     Running   0          15s
[root@master01 manifests]# kubectl describe pod nginx-pod-demo -n myns
Name:         nginx-pod-demo
Namespace:    myns
Priority:     0
Node:         node01.k8s.org/192.168.0.44
Start Time:   Fri, 01 Jan 2021 16:12:53 +0800
Labels:       &amp;lt;none&amp;gt;
Annotations:  kubernetes.io/limit-ranger: LimitRanger plugin set: cpu, memory request for container nginx; cpu, memory limit for container nginx
Status:       Running
IP:           10.244.1.108
IPs:
  IP:  10.244.1.108
Containers:
  nginx:
    Container ID:   docker://4d566a239fe3f80e823352ff2eb0f4bc9e5ca1c107c62d87a5035e2d70e7d8f2
    Image:          nginx:1.14-alpine
    Image ID:       docker-pullable://nginx@sha256:485b610fefec7ff6c463ced9623314a04ed67e3945b9c08d7e53a47f6d108dc7
    Port:           &amp;lt;none&amp;gt;
    Host Port:      &amp;lt;none&amp;gt;
    State:          Running
      Started:      Fri, 01 Jan 2021 16:12:54 +0800
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     1
      memory:  1000Mi
    Requests:
      cpu:        500m
      memory:     500Mi
    Environment:  &amp;lt;none&amp;gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-n6tg5 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  default-token-n6tg5:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-n6tg5
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  &amp;lt;none&amp;gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  33s   default-scheduler  Successfully assigned myns/nginx-pod-demo to node01.k8s.org
  Normal  Pulled     32s   kubelet            Container image &quot;nginx:1.14-alpine&quot; already present on machine
  Normal  Created    32s   kubelet            Created container nginx
  Normal  Started    32s   kubelet            Started container nginx
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨mynsåç§°ç©ºé—´ä¸‹åˆ›å»ºçš„podæ²¡æœ‰æŒ‡å®šå…¶å®¹å™¨èµ„æºé™åˆ¶ï¼Œåˆ›å»ºpodåï¼Œå…¶å†…éƒ¨å®¹å™¨è‡ªåŠ¨å°±æœ‰äº†é»˜è®¤çš„èµ„æºé™åˆ¶ï¼›å…¶å¤§å°å°±æ˜¯æˆ‘ä»¬åœ¨å®šä¹‰LimitRangeè§„åˆ™ä¸­çš„defaultå’ŒdefaultRequiteå­—æ®µä¸­æŒ‡å®šçš„èµ„æºé™åˆ¶ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šåˆ›å»ºä¸€ä¸ªpodæŒ‡å®šå…¶cpuä¸‹é™ä¸º200m,çœ‹çœ‹å¯¹åº”podæ˜¯å¦å…è®¸æˆ‘ä»¬åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo2
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
    resources:   
      requests:
        cpu: 200m
[root@master01 manifests]# kubectl apply -f pod-demo.yaml 
Error from server (Forbidden): error when creating &quot;pod-demo.yaml&quot;: pods &quot;nginx-pod-demo2&quot; is forbidden: [minimum cpu usage per Container is 500m, but request is 200m, cpu max limit to request ratio per Container is 4, but provided ratio is 5.000000]
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šæˆ‘ä»¬åœ¨åˆ›å»ºèµ„æºæ¸…å•ä¸­é™åˆ¶äº†å®¹å™¨ä½¿ç”¨cpuä¸º200mï¼Œåœ¨åº”ç”¨èµ„æºæ¸…å•æ—¶ï¼Œå®ƒè¿™é‡Œå°±ä¸å…è®¸æˆ‘ä»¬åˆ›å»ºï¼Œå…¶åŸå› æ˜¯æˆ‘ä»¬æŒ‡å®šçš„èµ„æºé™åˆ¶è§„åˆ™ä¸æ»¡è¶³LimitRangeè¿™æ¡å‡†å…¥æ§åˆ¶è§„åˆ™ï¼Œæ‰€ä»¥å¯¹åº”åˆ›å»ºpodçš„è¯·æ±‚è¢«æ‹’ç»ï¼›è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬åœ¨åˆ›å»ºpodæ—¶ï¼ŒæŒ‡å®šå®¹å™¨èµ„æºé™åˆ¶ä¸èƒ½ä½äºLimitRangeå‡†å…¥æ§åˆ¶è§„åˆ™ä¸­çš„æœ€ä½é™åˆ¶ï¼Œå¦åˆ™å¯¹åº”podä¸è¢«å…è®¸åˆ›å»ºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šåˆ›å»ºpodæ—¶æŒ‡å®šå…¶cpuæœ€å¤§é™åˆ¶ä¸º2500m,çœ‹çœ‹å¯¹åº”podæ˜¯å¦å…è®¸è¢«åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo2
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
    resources:   
      limits:
        cpu: 2500m
[root@master01 manifests]# kubectl apply -f pod-demo.yaml
Error from server (Forbidden): error when creating &quot;pod-demo.yaml&quot;: pods &quot;nginx-pod-demo2&quot; is forbidden: maximum cpu usage per Container is 2, but limit is 2500m
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°åœ¨podå®¹å™¨é‡ŒæŒ‡å®šå¯¹åº”çš„èµ„æºé™åˆ¶ä¸Šé™å¤§äºLimitRangeå‡†å…¥æ§åˆ¶è§„åˆ™ä¸­çš„maxå­—æ®µçš„å€¼æ—¶ï¼Œå¯¹åº”podæ˜¯ä¸è¢«å…è®¸åˆ›å»ºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šç»™å®špodå®¹å™¨çš„cpuä¸Šé™æˆ–ä¸‹é™ä¸ºå¯¹åº”èŒƒå›´å†…çš„å€¼çœ‹çœ‹å¯¹åº”podæ˜¯å¦å…è®¸è¢«åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo2
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
    resources:   
      requests:
        cpu: 700m
[root@master01 manifests]# kubectl apply -f pod-demo.yaml
pod/nginx-pod-demo2 created
[root@master01 manifests]# kubectl describe pod nginx-pod-demo2 -n myns
Name:         nginx-pod-demo2
Namespace:    myns
Priority:     0
Node:         node03.k8s.org/192.168.0.46
Start Time:   Fri, 01 Jan 2021 16:33:39 +0800
Labels:       &amp;lt;none&amp;gt;
Annotations:  kubernetes.io/limit-ranger: LimitRanger plugin set: memory request for container nginx; cpu, memory limit for container nginx
Status:       Running
IP:           10.244.3.119
IPs:
  IP:  10.244.3.119
Containers:
  nginx:
    Container ID:   docker://4a576eda79e0f2a377ca9d058ee6e64decf45223b720b93c3291eed9c2a920d1
    Image:          nginx:1.14-alpine
    Image ID:       docker-pullable://nginx@sha256:485b610fefec7ff6c463ced9623314a04ed67e3945b9c08d7e53a47f6d108dc7
    Port:           &amp;lt;none&amp;gt;
    Host Port:      &amp;lt;none&amp;gt;
    State:          Running
      Started:      Fri, 01 Jan 2021 16:33:40 +0800
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     1
      memory:  1000Mi
    Requests:
      cpu:        700m
      memory:     500Mi
    Environment:  &amp;lt;none&amp;gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-n6tg5 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  default-token-n6tg5:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-n6tg5
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  &amp;lt;none&amp;gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  23s   default-scheduler  Successfully assigned myns/nginx-pod-demo2 to node03.k8s.org
  Normal  Pulled     23s   kubelet            Container image &quot;nginx:1.14-alpine&quot; already present on machine
  Normal  Created    22s   kubelet            Created container nginx
  Normal  Started    22s   kubelet            Started container nginx
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šä»ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç»™å®šèµ„æºä¸‹é™ï¼Œå¯¹åº”èµ„æºä¸Šé™å®ƒä¼šç”¨é»˜è®¤å€¼ç»™å¡«å……ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ResourceQuotaå‡†å…¥æ§åˆ¶å™¨&lt;/p&gt;
&lt;p&gt;ã€€ã€€ResourceQuotaå‡†å…¥æ§åˆ¶å™¨ä¹Ÿæ˜¯k8sä¸Šå†…ç½®çš„å‡†å…¥æ§åˆ¶å™¨ï¼Œé»˜è®¤è¯¥æ§åˆ¶å™¨æ˜¯å¯ç”¨çš„çŠ¶æ€ï¼Œå®ƒä¸»è¦ä½œç”¨æ˜¯ç”¨æ¥é™åˆ¶ä¸€ä¸ªåç§°ç©ºé—´ä¸‹çš„èµ„æºçš„ä½¿ç”¨ï¼›ç›¸å¯¹äºLimitRangerå‡†å…¥æ§åˆ¶å™¨ç›¸æ¯”ï¼Œå®ƒèƒ½é˜²æ­¢åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸‹çš„podè¢«è¿‡å¤šåˆ›å»ºæ—¶ï¼Œå¯¼è‡´è¿‡å¤šå ç”¨k8sä¸Šçš„èµ„æºï¼›ç®€å•è®²å®ƒæ˜¯ç”¨æ¥åœ¨åç§°ç©ºé—´çº§åˆ«é™åˆ¶ç”¨æˆ·çš„èµ„æºä½¿ç”¨ï¼›ä¸åŒäºLimitRangerå‡†å…¥æ§åˆ¶å™¨ï¼ŒResourcequotaå‡†å…¥æ§åˆ¶å™¨é™åˆ¶çš„æ˜¯æŸä¸ªåç§°ç©ºé—´ä¸‹çš„èµ„æºï¼Œè€ŒLimitRangerå‡†å…¥æ§åˆ¶å™¨é™åˆ¶çš„æ˜¯å•ä¸ªpodæˆ–podä¸­çš„å®¹å™¨çš„èµ„æºä½¿ç”¨ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ResourceQuotaèµ„æºçš„åˆ›å»º&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat resourcequota-demo.yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: quota-demo
  namespace: myns
spec:
  hard:
    pods: &quot;5&quot;
    requests.cpu: &quot;5&quot;
    requests.memory: 5Gi
    limits.cpu: &quot;4&quot;
    limits.memory: 10Gi
    count/deployments.apps: &quot;5&quot;
    count/deployments.extensions: &quot;5&quot;
    persistentvolumeclaims: &quot;5&quot;
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šResourceQuotaçš„å®šä¹‰å…¶kindç±»å‹ä¸ºResourceQuotaï¼Œç¾¤ç»„ä¸ºæ ¸å¿ƒç¾¤ç»„v1ï¼›å…¶ä¸­spec.hardå­—æ®µæ˜¯ç”¨æ¥å®šä¹‰å¯¹åº”åç§°ç©ºé—´ä¸‹çš„èµ„æºé™åˆ¶è§„åˆ™ï¼›podsç”¨æ¥é™åˆ¶åœ¨å¯¹åº”åç§°ç©ºé—´ä¸‹çš„podæ•°é‡ï¼Œrequests.cpuå­—æ®µç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹æ‰€æœ‰podçš„cpuèµ„æºçš„ä¸‹é™æ€»å’Œï¼›requests.memoryç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹podçš„å†…å­˜èµ„æºçš„ä¸‹é™æ€»å’Œï¼›limits.cpuç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹çš„podcpuèµ„æºçš„ä¸Šé™æ€»å’Œï¼Œlimits.memoryç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹podå†…å­˜èµ„æºä¸Šé™æ€»å’Œï¼›count/deployments.appsç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹appsç¾¤ç»„ä¸‹çš„deploymentsçš„ä¸ªæ•°ï¼Œcount/deployments.extensionsç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹extensionsç¾¤ç»„ä¸‹çš„deploymentsçš„æ•°é‡ï¼›ä»¥ä¸Šé…ç½®æ¸…å•è¡¨ç¤ºï¼Œåœ¨mynsåç§°ç©ºé—´ä¸‹è¿è¡Œçš„podæ•°é‡ä¸èƒ½è¶…è¿‡5ä¸ªï¼Œæˆ–è€…æ‰€æœ‰podçš„cpuèµ„æºä¸‹é™æ€»å’Œä¸èƒ½å¤§äº5ä¸ªæ ¸å¿ƒï¼Œå†…å­˜èµ„æºä¸‹é™æ€»å’Œä¸èƒ½å¤§äº5Gï¼Œæˆ–è€…cpuä¸Šé™èµ„æºæ€»å’Œä¸èƒ½å¤§äº4ä¸ªæ ¸å¿ƒï¼Œå†…å­˜ä¸Šé™æ€»å’Œä¸èƒ½è¶…è¿‡10Gï¼Œæˆ–è€…appsç¾¤ç»„ä¸‹çš„deploymentsæ§åˆ¶å™¨ä¸èƒ½è¶…è¿‡5ä¸ªï¼Œexetensionsç¾¤ç»„ä¸‹çš„deployæ§åˆ¶å™¨ä¸èƒ½è¶…è¿‡5ä¸ªï¼Œpvä¸ªæ•°ä¸èƒ½è¶…è¿‡5ä¸ªï¼›ä»¥ä¸Šæ¡ä»¶ä¸­ä»»æ„ä¸€ä¸ªæ¡ç›®ä¸æ»¡è¶³ï¼Œéƒ½å°†æ— æ³•åœ¨å¯¹åº”åç§°ç©ºé—´åˆ›å»ºå¯¹åº”çš„èµ„æºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åº”ç”¨èµ„æºæ¸…å•&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;41&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# kubectl apply -f resourcequota-demo.yaml
resourcequota/quota-demo created
[root@master01 ~]# kubectl get resourcequota -n myns
NAME         AGE   REQUEST                                                                                                                                                      LIMIT
quota-demo   33s   count/deployments.apps: 0/5, count/deployments.extensions: 0/5, persistentvolumeclaims: 0/5, pods: 2/5, requests.cpu: 1200m/5, requests.memory: 1000Mi/5Gi   limits.cpu: 2/4, limits.memory: 2000Mi/10Gi
[root@master01 ~]# kubectl describe resourcequota quota-demo -n myns    
Name:                         quota-demo
Namespace:                    myns
Resource                      Used    Hard
--------                      ----    ----
count/deployments.apps        0       5
count/deployments.extensions  0       5
limits.cpu                    2       4
limits.memory                 2000Mi  10Gi
persistentvolumeclaims        0       5
pods                          2       5
requests.cpu                  1200m   5
requests.memory               1000Mi  5Gi
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°åº”ç”¨èµ„æºæ¸…å•ä»¥åï¼Œå¯¹åº”åç§°ç©ºé—´ä¸‹çš„èµ„æºä½¿ç”¨æƒ…å†µå¯ä»¥é€šè¿‡æŸ¥çœ‹resourcequotaèµ„æºçš„è¯¦ç»†ä¿¡æ¯å°±èƒ½äº†è§£åˆ°ï¼›ä»ä¸Šè¿°resourcequotaèµ„æºçš„è¯¦ç»†ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰mynsä¸­podçš„cpuèµ„æºä¸Šé™å·²ç»ä½¿ç”¨äº†2é¢—æ ¸å¿ƒï¼Œå¯¹åº”å†…å­˜çš„ä¸Šé™æ˜¯äº†2000Mï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šåœ¨mynsä¸‹åˆ›å»º2ä¸ªcpuèµ„æºä¸Šé™ä¸º2000mçš„podï¼Œçœ‹çœ‹å¯¹åº”podæ˜¯å¦è¢«å…è®¸åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;41&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo3
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
    resources:   
      limits:
        cpu: 2000m
[root@master01 manifests]# kubectl apply -f pod-demo.yaml
pod/nginx-pod-demo3 created
[root@master01 manifests]# kubectl describe resourcequota quota-demo -n myns
Name:                         quota-demo
Namespace:                    myns
Resource                      Used    Hard
--------                      ----    ----
count/deployments.apps        0       5
count/deployments.extensions  0       5
limits.cpu                    4       4
limits.memory                 3000Mi  10Gi
persistentvolumeclaims        0       5
pods                          3       5
requests.cpu                  3200m   5
requests.memory               1500Mi  5Gi
[root@master01 manifests]# cat pod-demo2.yaml 
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo4
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
    resources:   
      limits:
        cpu: 2000m
[root@master01 manifests]# kubectl apply -f pod-demo2.yaml
Error from server (Forbidden): error when creating &quot;pod-demo2.yaml&quot;: pods &quot;nginx-pod-demo4&quot; is forbidden: exceeded quota: quota-demo, requested: limits.cpu=2,requests.cpu=2, used: limits.cpu=4,requests.cpu=3200m, limited: limits.cpu=4,requests.cpu=5
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°åœ¨åˆ›å»ºç¬¬ä¸€ä¸ªpodæ—¶ï¼Œå¯¹åº”podæˆåŠŸåˆ›å»ºï¼Œåœ¨åˆ›å»ºç¬¬äºŒä¸ªpodæ—¶ï¼Œå¯¹åº”podå°±èƒ½æ­£å¸¸åˆ›å»ºï¼Œå…¶åŸå› æ˜¯å¯¹åº”mynsåç§°ç©ºé—´ä¸‹æ­£å¸¸å¤„äºè¿è¡ŒçŠ¶æ€çš„podçš„cpuèµ„æºä¸Šé™æ€»å’Œå·²ç»å’Œresourcequotaå‡†å…¥æ§åˆ¶è§„åˆ™ä¸­çš„limit.cpuså­—æ®µçš„å€¼ä¸€æ ·äº†ï¼Œå†æ¬¡åˆ›å»ºpodæ—¶ï¼Œmynsåç§°ç©ºé—´ä¸‹çš„podçš„cpuèµ„æºä¸Šé™æ€»å’Œå¤§äºlimit.cpusçš„å€¼ï¼Œæ‰€ä»¥ä¸æ»¡è¶³resourcequotaå‡†å…¥æ§åˆ¶è§„åˆ™ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªpodå°±ä¸å…è®¸è¢«åˆ›å»ºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¤ºä¾‹ï¼šä½¿ç”¨resourcequotaèµ„æºé™åˆ¶åç§°ç©ºé—´ä¸‹çš„storageèµ„æº&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat resourcequota-storage-demo.yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: quota-storage-demo
  namespace: default
spec:
  hard:
    requests.storage: &quot;5Gi&quot;
    persistentvolumeclaims: &quot;5&quot;
    requests.ephemeral-storage: &quot;1Gi&quot;
    limits.ephemeral-storage: &quot;2Gi&quot;
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šrequests.storageç”¨æ¥é™åˆ¶å¯¹åº”åç§°ç©ºé—´ä¸‹çš„å­˜å‚¨ä¸‹é™æ€»å’Œï¼Œpersistenvolumeclaimsç”¨æ¥é™åˆ¶pvcæ€»æ•°é‡ï¼Œrequests.ephemeral-storageç”¨æ¥ç°åœ¨ä½¿ç”¨æœ¬åœ°ä¸´æ—¶å­˜å‚¨çš„ä¸‹é™æ€»å®¹é‡ï¼›limits.ephemeral-storageç”¨æ¥é™åˆ¶ä½¿ç”¨æœ¬åœ°ä¸´æ—¶å­˜å‚¨ä¸Šé™æ€»å®¹é‡ï¼›ä»¥ä¸Šé…ç½®è¡¨ç¤ºåœ¨defaultåç§°ç©ºé—´ä¸‹éåœæ­¢çŠ¶æ€çš„å®¹å™¨å­˜å‚¨ä¸‹é™æ€»å®¹é‡ä¸èƒ½è¶…è¿‡5Gï¼Œpvcçš„æ•°é‡ä¸èƒ½è¶…è¿‡5ä¸ªï¼Œæœ¬åœ°ä¸´æ—¶å­˜å‚¨ä¸‹é™å®¹é‡ä¸èƒ½è¶…è¿‡1Gï¼Œä¸Šé™ä¸èƒ½è¶…è¿‡2Gï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åº”ç”¨é…ç½®æ¸…å•&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# kubectl apply -f resourcequota-storage-demo.yaml
resourcequota/quota-storage-demo created
[root@master01 ~]# kubectl get resourcequota                        
NAME                 AGE   REQUEST                                                                                     LIMIT
quota-storage-demo   7s    persistentvolumeclaims: 3/5, requests.ephemeral-storage: 0/1Gi, requests.storage: 3Gi/5Gi   limits.ephemeral-storage: 0/2Gi
[root@master01 ~]# kubectl describe resourcequota quota-storage-demo
Name:                       quota-storage-demo
Namespace:                  default
Resource                    Used  Hard
--------                    ----  ----
limits.ephemeral-storage    0     2Gi
persistentvolumeclaims      3     5
requests.ephemeral-storage  0     1Gi
requests.storage            3Gi   5Gi
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šåœ¨defaultåç§°ç©ºé—´ä¸‹ï¼Œå†åˆ›å»º3ä¸ªpvcçœ‹çœ‹å¯¹åº”èµ„æºæ˜¯å¦è¢«å…è®¸åˆ›å»ºï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat pvc-v1-demo.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pvc-nfs-pv-v4
  namespace: default
spec:
  accessModes:
    - ReadWriteMany
  volumeMode: Filesystem
  resources:
    requests:
      storage: 500Mi
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pvc-nfs-pv-v5
  namespace: default
spec:
  accessModes:
    - ReadWriteMany
  volumeMode: Filesystem
  resources:
    requests:
      storage: 500Mi
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pvc-nfs-pv-v6
  namespace: default
spec:
  accessModes:
    - ReadWriteMany
  volumeMode: Filesystem
  resources:
    requests:
      storage: 500Mi
[root@master01 ~]# kubectl apply -f pvc-v1-demo.yaml
persistentvolumeclaim/pvc-nfs-pv-v4 created
persistentvolumeclaim/pvc-nfs-pv-v5 created
Error from server (Forbidden): error when creating &quot;pvc-v1-demo.yaml&quot;: persistentvolumeclaims &quot;pvc-nfs-pv-v6&quot; is forbidden: exceeded quota: quota-storage-demo, requested: persistentvolumeclaims=1, used: persistentvolumeclaims=5, limited: persistentvolumeclaims=5
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°ç°åœ¨åœ¨defaultåç§°ç©ºé—´ä¸‹åˆ›å»º3ä¸ªpvcæ—¶ï¼Œå¯¹åº”å‰ä¸¤ä¸ªè¢«æˆåŠŸåˆ›å»ºï¼Œç¬¬ä¸‰ä¸ªè¢«æ‹’ç»äº†ï¼›åŸå› æ˜¯defualtåç§°ç©ºé—´ä¸‹çš„pvcèµ„æºæ•°é‡å·²ç»è¾¾åˆ°resourcequotaå‡†å…¥æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æ•°é‡ï¼Œæ‰€ä»¥ä¸äºˆåˆ›å»ºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¤ºä¾‹ï¼šåˆ›å»ºresourcequotaå‡†å…¥æ§åˆ¶è§„åˆ™ï¼Œå¹¶é™å®šå…¶ç”Ÿæ•ˆèŒƒå›´&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat resourcequota-scopes-demo.yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: quota-scopes-demo
  namespace: myns
spec:
  hard:
    pods: &quot;5&quot;
  scopes: [&quot;BestEffort&quot;]
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šé™åˆ¶resourcequotaå‡†å…¥æ§åˆ¶è§„åˆ™ç”Ÿæ•ˆèŒƒå›´ï¼Œå¯ä»¥ä½¿ç”¨scopeså­—æ®µæ¥æŒ‡å®šå¯¹åº”çš„èŒƒå›´ï¼›è¯¥å­—æ®µä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œé»˜è®¤ä¸æŒ‡å®šæ˜¯æŒ‡æ‰€æœ‰çŠ¶æ€çš„podï¼›å…¶ä¸­BsetEffortè¡¨ç¤ºåŒ¹é…å¯¹åº”podçš„QOS(æœåŠ¡è´¨é‡ç±»åˆ«)å€¼ä¸ºBestEffortçš„pod ï¼›NotBestEffortè¡¨ç¤ºåŒ¹é…å¯¹åº”podçš„QOSå€¼ä¸æ˜¯BestEffortçš„podï¼›Terminatingè¡¨ç¤ºåŒ¹é…å¯¹åº”PodçŠ¶æ€ä¸ºTerminatingçŠ¶æ€çš„podï¼›NotTerminatingè¡¨ç¤ºåŒ¹é…çŠ¶æ€ä¸æ˜¯TerminatingçŠ¶æ€çš„podï¼›ä¸Šè¿°æ¸…å•è§„åˆ™è¡¨ç¤ºåªå¯¹podçš„æœåŠ¡è´¨é‡ç±»åˆ«ä¸ºBestEffortçš„podç”Ÿæ•ˆï¼›å…¶ä»–ç±»å‹çš„podä¸è®°å½•åˆ°å¯¹åº”è§„åˆ™ä¸­ï¼›å³åªèƒ½åœ¨å¯¹åº”åç§°ç©ºé—´ä¸‹åˆ›å»º5ä¸ªæœåŠ¡è´¨é‡ç±»åˆ«ä¸ºBestEffortç±»åˆ«çš„podï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åº”ç”¨é…ç½®æ¸…å•&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# kubectl apply -f resourcequota-scopes-demo.yaml
resourcequota/quota-scopes-demo created
[root@master01 ~]# kubectl get quota -n myns
NAME                AGE   REQUEST     LIMIT
quota-scopes-demo   12s   pods: 0/5   
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šé™åˆ¶podçš„æœåŠ¡è´¨é‡ç±»åˆ«ä¸ºBestEffortï¼Œåªèƒ½å¯¹podèµ„æºæ–½åŠ ï¼Œå…¶å®ƒèµ„æºéƒ½ä¸æ”¯æŒï¼›&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;pl-s&quot;&gt;ã€€ã€€PodSecurityPolicyå‡†å…¥æ§åˆ¶å™¨&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;pl-s&quot;&gt;ã€€ã€€&lt;span class=&quot;pl-s&quot;&gt;PodSecurityPolicyå‡†å…¥æ§åˆ¶å™¨ä¸»è¦ç”¨æ¥è®¾ç½®podå®‰å…¨ç›¸å…³çš„ç­–ç•¥ï¼Œæ¯”å¦‚æ˜¯å¦å…è®¸å¯¹åº”podå…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´ï¼Œæ˜¯å¦å…è®¸podå…è®¸ä¸ºç‰¹æƒæ¨¡å¼ç­‰ç­‰ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;ã€€ã€€ç¤ºä¾‹ï¼šå®šä¹‰pspå‡†å…¥æ§åˆ¶å™¨è§„åˆ™&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 psp]# cat psp-privileged.yaml 
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: privileged
  annotations:
    seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
spec:
  privileged: true
  allowPrivilegeEscalation: true
  allowedCapabilities:
  - '*'
  volumes:
  - '*'
  hostNetwork: true
  hostPorts:
  - min: 0
    max: 65535
  hostIPC: true
  hostPID: true
  runAsUser:
    rule: 'RunAsAny'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'RunAsAny'
  fsGroup:
    rule: 'RunAsAny'
[root@master01 psp]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šPodSecurityPolicyæ˜¯k8sçš„æ ‡å‡†èµ„æºï¼Œå…¶ç±»å‹ä¸ºPodSecurityPolicyï¼Œç¾¤ç»„ç‰ˆæœ¬ä¸ºpolicy/v1beta1ï¼›å…¶ä¸­specå­—æ®µç”¨æ¥å®šä¹‰å¯¹podçš„ç›¸å…³å®‰å…¨å±æ€§çš„å®šä¹‰ï¼›privilegedç”¨æ¥å®šä¹‰å¯¹åº”podæ˜¯å¦å…è®¸è¿è¡Œä¸ºç‰¹æƒæ¨¡å¼ï¼›allowPrivilegeEscalationç”¨æ¥æŒ‡å®šæ˜¯å¦è¿è¡Œå¯¹åº”å®¹å™¨å­è¿›ç¨‹ç‰¹æƒï¼›allowedCapabilitiesç”¨æ¥æŒ‡å®šå…è®¸ä½¿ç”¨å†…æ ¸ä¸­çš„CapabilitiesåŠŸèƒ½ï¼Œâ€œ*â€è¡¨ç¤ºæ‰€æœ‰ï¼›volumesç”¨æ¥æŒ‡å®šå¯ä»¥ä½¿ç”¨çš„å·ç±»å‹åˆ—è¡¨ï¼Œ*è¡¨ç¤ºå¯ä»¥ä½¿ç”¨æ”¯æŒçš„ä»»æ„ç±»å‹çš„çš„å·ï¼›hostNetworkè¡¨ç¤ºæ˜¯å¦å…è®¸å…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´ï¼›hostPortsç”¨æ¥æŒ‡å®šå¯ä»¥ä½¿ç”¨å®¿ä¸»æœºç«¯å£èŒƒå›´ï¼Œminé™åˆ¶ç«¯å£ä¸‹é™ï¼Œmaxé™åˆ¶ç«¯å£ä¸Šé™ï¼›hostIPCè¡¨ç¤ºæ˜¯å¦å…è®¸å…±äº«å®¿ä¸»æœºçš„IPCï¼ŒhostPIDè¡¨ç¤ºæ˜¯å¦å…±äº«å®¿ä¸»æœºçš„PIDï¼›runAsUserç”¨æ¥æŒ‡å®šå¯¹åº”podå…è®¸ä»¥é‚£ä¸ªç”¨æˆ·èº«ä»½è¿è¡Œï¼ŒRunAsAnyè¡¨ç¤ºå¯ä»¥ä»¥ä»»æ„ç”¨æˆ·èº«ä»½è¿è¡Œï¼›ä»¥ä¸Šæ¸…å•ä¸»è¦å®šä¹‰äº†ä¸€ä¸ªç‰¹æƒpspå‡†å…¥æ§åˆ¶è§„åˆ™ï¼Œé€šå¸¸è¿™ç±»pspåº”è¯¥æœ‰åº”ç”¨åœ¨å¯¹æ‰€æœ‰ç³»ç»Ÿçº§podä½¿ç”¨ï¼›ä¸€èˆ¬çš„æ™®é€šç”¨æˆ·åˆ›å»ºçš„podä¸åº”è¯¥æ‹¥æœ‰ä¸Šè¿°æƒé™ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€pspå‡†å…¥æ§åˆ¶è§„åˆ™ç›¸å…³å±æ€§è¯´æ˜&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1503305/202101/1503305-20210101215632887-805293206.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªéç‰¹æƒpspå‡†å…¥æ§åˆ¶æ³•åˆ™&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 psp]# cat psp-restricted.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: restricted
  annotations:
    seccomp.security.alpha.kubernetes.io/allowedProfileNames: 'docker/default'
    seccomp.security.alpha.kubernetes.io/defaultProfileName:  'docker/default'
spec:
  privileged: false
  allowPrivilegeEscalation: false
  requiredDropCapabilities:
    - ALL
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    rule: 'MustRunAsNonRoot'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      - min: 1
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      - min: 1
        max: 65535
  readOnlyRootFilesystem: false
[root@master01 psp]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå®šä¹‰å¥½ä¸Šè¿°pspå‡†å…¥æ§åˆ¶èµ„æºä»¥åï¼Œæˆ‘ä»¬è¿˜åº”è¯¥æŠŠå¯¹é‚£ä¸ªå¯¹åº”å‡†å…¥æ§åˆ¶èµ„æºç»‘å®šåˆ°ä¸åŒçš„è§’è‰²ä¸Šï¼Œä»¥å®ç°ä¸åŒè§’è‰²æ‹¥æœ‰ä¸åŒçš„pspå‡†å…¥æ§åˆ¶æ³•åˆ™çš„ä½¿ç”¨æƒé™ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¤ºä¾‹ï¼šå®šä¹‰clusterroleåˆ†åˆ«å…³è”ä¸åŒçš„pspå‡†å…¥æ§åˆ¶èµ„æº&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 psp]# cat clusterrole-with-psp.yaml 
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: psp:restricted
rules:
- apiGroups: ['policy']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - restricted
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: psp:privileged
rules:
- apiGroups: ['policy']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - privileged
[root@master01 psp]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šä»¥ä¸Šå®šä¹‰äº†ä¸¤ä¸ªclusterroleï¼Œä¸€ä¸ªåä¸ºpsp:restrictedï¼Œè¯¥è§’è‰²ä¸»è¦å…³è”éç‰¹æƒpspèµ„æºï¼Œå…¶èµ„æºåä¸ºrestrictedï¼›ç¬¬äºŒä¸ªclusterroleåä¸ºpsp:privilegedï¼Œè¯¥è§’è‰²ä¸»è¦å…³è”ç‰¹æƒpspèµ„æºï¼›å…¶å¯¹åº”pspèµ„æºåç§°ä¸ºprivilegedï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¤ºä¾‹ï¼šåˆ›å»ºclusterrolebindingå…³è”ç›¸å…³ç”¨æˆ·å’Œç»„&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 psp]# cat clusterrolebinding-with-psp.yaml 
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: restricted-psp-user
roleRef:
  kind: ClusterRole
  name: psp:restricted
  apiGroup: rbac.authorization.k8s.io
subjects:
- kind: Group
  apiGroup: rbac.authorization.k8s.io
  name: system:authenticated
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: privileged-psp-user
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: psp:privileged
subjects:
- apiGroup: rbac.authorization.k8s.io
  kind: Group
  name: system:masters
- apiGroup: rbac.authorization.k8s.io
  kind: Group
  name: system:node
- apiGroup: rbac.authorization.k8s.io
  kind: Group
  name: system:serviceaccounts:kube-system
[root@master01 psp]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šä»¥ä¸Šé…ç½®ä¸»è¦åˆ›å»ºäº†ä¸¤ä¸ªclusterrolebindingï¼Œç¬¬ä¸€ä¸ªcluserrolebindingä¸»è¦æŠŠåœ¨k8sä¸Šè®¤è¯é€šè¿‡çš„ç”¨æˆ·çš„æƒé™ç»‘å®šåˆ°psp:restrictedè¿™ä¸ªè§’è‰²ä¸Šï¼Œè®©å…¶æ‹¥æœ‰å¯¹åº”çš„æƒé™ï¼Œå³é€šè¿‡è®¤è¯çš„ç”¨æˆ·æ‹¥æœ‰éç‰¹æƒpspå‡†å…¥æ§åˆ¶æ³•åˆ™æƒé™ï¼›ç¬¬äºŒä¸ªclusterrolebindingä¸»è¦ç»‘å®šäº†ä¸‰ç±»ç”¨æˆ·ï¼Œç¬¬ä¸€ç±»æ˜¯system:mastersç»„ä¸Šçš„ç”¨æˆ·ï¼Œç¬¬äºŒç±»æ˜¯system:nodeç»„ä¸Šçš„ç”¨æˆ·ï¼Œç¬¬ä¸‰ç±»æ˜¯system:serviceaccounts:kube-systemç»„ä¸Šçš„ç”¨æˆ·ï¼›è¿™ä¸‰ä¸ªç»„éƒ½æ˜¯ç³»ç»Ÿçº§åˆ«ç”¨æˆ·ï¼Œä¸»è¦æ˜¯ç³»ç»ŸåŠpodå’Œç»„ä»¶ä½¿ç”¨çš„ç»„ï¼›æ‰€ä»¥è¿™äº›ç”¨æˆ·åº”è¯¥æ‹¥æœ‰ç‰¹æƒpspå‡†å…¥æ§åˆ¶æ³•åˆ™ï¼Œå¯¹åº”é€šè¿‡clusterrolebindingç»‘å®šåˆ°psp:privilegedè¿™ä¸ªè§’è‰²ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€åº”ç”¨ä¸Šè¿°èµ„æºæ¸…å•&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 psp]# kubectl apply -f psp-privileged.yaml 
podsecuritypolicy.policy/privileged created
[root@master01 psp]# kubectl apply -f psp-restricted.yaml 
podsecuritypolicy.policy/restricted created
[root@master01 psp]# kubectl apply -f clusterrole-with-psp.yaml 
clusterrole.rbac.authorization.k8s.io/psp:restricted created
clusterrole.rbac.authorization.k8s.io/psp:privileged created
[root@master01 psp]# kubectl apply -f clusterrolebinding-with-psp.yaml 
clusterrolebinding.rbac.authorization.k8s.io/restricted-psp-user created
clusterrolebinding.rbac.authorization.k8s.io/privileged-psp-user created
[root@master01 psp]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šåº”ç”¨é¡ºåºå…ˆåº”ç”¨pspå‡†å…¥æ§åˆ¶èµ„æºï¼Œç„¶ååœ¨åº”ç”¨clusterroleèµ„æºï¼Œæœ€ååº”ç”¨clusterrolebindingèµ„æºï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¯ç”¨pspå‡†å…¥æ§åˆ¶å™¨&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1503305/202101/1503305-20210101205256525-979367428.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šç¼–è¾‘/etc/kubernetes/manifests/kube-apiserver.yamlæ–‡ä»¶ï¼Œæ‰¾åˆ°--enable-admission-pluginsé€‰é¡¹ï¼Œåœ¨æœ€ååŠ ä¸ŠPodSecurityPolicyç”¨é€—å·éš”å¼€ï¼›ç„¶åä¿å­˜é€€å‡ºï¼›å¯¹åº”pspå‡†å…¥æ§åˆ¶å™¨å°±å¯ç”¨äº†ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼šæŠŠtomç”¨æˆ·è®¾ç½®ä¸ºmynsåç§°ç©ºé—´ä¸‹çš„ç®¡ç†å‘˜ï¼Œç„¶åä½¿ç”¨tomç”¨æˆ·çš„é…ç½®æ–‡ä»¶åœ¨mynsä¸‹åˆ›å»ºä¸€ä¸ªpodï¼Œè¯¥podä½¿ç”¨hostNetworkï¼štrueé€‰é¡¹æ¥å…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸å°†podåˆ›å»ºå‡ºæ¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ã€€è®¾ç½®tomç”¨æˆ·ä¸ºmynsåç§°ç©ºé—´ä¸‹çš„ç®¡ç†å‘˜&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat tom-rolebinding-myns-admin.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: tom-myns-admin
  namespace: myns
roleRef:
  kind: ClusterRole
  name: admin
  apiGroup: rbac.authorization.k8s.io
subjects:
- kind: User
  apiGroup: rbac.authorization.k8s.io
  name: tom
  
[root@master01 ~]# kubectl apply -f tom-rolebinding-myns-admin.yaml
rolebinding.rbac.authorization.k8s.io/tom-myns-admin created
[root@master01 ~]# kubectl get rolebinding -n myns
NAME             ROLE                AGE
tom-myns-admin   ClusterRole/admin   10s
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€éªŒè¯tomç”¨æˆ·è¯ä¹¦ä¿¡æ¯ä¸æ˜¯åœ¨system:masterç»„å†…&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat /tmp/myk8s.config |grep  client-certificate-data|awk {'print $2'}|base64 -d|openssl x509 -text -noout
Certificate:
    Data:
        Version: 1 (0x0)
        Serial Number:
            f4:39:a9:5d:2f:01:09:2b
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: CN=kubernetes
        Validity
            Not Before: Dec 29 16:29:59 2020 GMT
            Not After : Dec 29 16:29:59 2021 GMT
        Subject: CN=tom, O=myuser
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:b7:02:e8:0d:ca:d5:3f:36:42:20:5c:16:6c:dd:
                    2a:be:53:f3:b7:14:8e:ca:9f:f4:45:4a:61:97:df:
                    3c:e8:c2:cd:2f:d8:80:85:29:3d:87:b1:9b:5e:9b:
                    dd:60:0b:5f:60:46:8f:71:8b:49:1a:a6:48:94:f8:
                    15:0c:f2:98:3c:ab:3a:7c:28:c4:64:76:bf:03:90:
                    53:f7:2b:6d:18:b5:9b:53:d2:7b:e1:9e:56:bd:c6:
                    41:a7:99:0a:20:d9:d3:1b:f2:3d:f8:84:bb:8a:22:
                    c7:66:1f:8e:7a:ee:e7:06:27:90:06:ce:23:69:eb:
                    c7:42:69:13:d3:bd:2a:c2:5f:bd:1d:2c:0a:19:ca:
                    f4:d6:a2:d4:47:73:bb:4e:5a:01:75:37:ba:2f:2b:
                    78:5f:70:3b:ce:5b:46:25:fb:c8:3f:8a:7b:15:ea:
                    85:aa:b0:b9:28:85:1a:fd:4a:7e:f2:92:40:bd:00:
                    2a:6c:08:84:eb:7b:dc:5b:e0:13:71:d3:af:75:e3:
                    6a:23:e1:a5:78:a2:03:ba:bf:e6:1b:bb:37:cc:11:
                    aa:aa:d2:66:10:22:8f:31:a3:4d:f8:79:d2:05:d7:
                    c9:9a:8c:ce:59:7c:30:7e:f1:2d:9a:4a:53:94:cc:
                    83:47:91:ea:6d:4f:01:9c:c9:3d:c6:9d:85:e0:41:
                    5c:ff
                Exponent: 65537 (0x10001)
    Signature Algorithm: sha256WithRSAEncryption
         41:47:71:e6:60:70:5b:b0:5f:9c:47:2d:05:07:fd:93:6d:1b:
         16:c3:fd:c8:d4:2e:45:b3:fd:d0:4c:e7:19:b4:80:86:ae:8f:
         01:5b:26:f7:01:00:3a:e0:0f:b7:ce:6e:0a:a2:e2:84:2c:86:
         cd:d8:cb:42:3a:c6:bd:b0:50:72:2e:35:fb:02:5e:78:0c:ce:
         fa:3d:28:bc:96:63:d0:83:30:93:6f:59:4d:94:27:8d:ea:5c:
         1e:19:1b:35:29:87:cf:76:3b:60:4d:8d:f2:b7:37:9a:5a:b6:
         7c:58:ae:dd:f0:7a:fd:de:b9:9f:77:bb:fb:9c:42:d8:50:bc:
         2f:50:5c:9b:56:4b:90:89:14:c9:52:6d:64:59:dd:3f:53:b1:
         e4:32:91:d5:98:fb:83:fa:78:23:45:0f:53:92:f0:1a:58:81:
         03:f3:a3:b4:0a:83:d3:7c:ef:04:e8:ee:27:df:e8:4f:68:dc:
         df:46:ef:6b:45:7b:c0:bb:55:fd:82:c6:d9:3b:66:26:14:4a:
         fe:79:7d:a1:24:43:ba:20:19:6b:b3:d8:0f:2f:30:2b:d3:22:
         e6:f9:a9:88:38:98:7b:d6:c4:41:17:62:8d:05:6e:1f:c3:e2:
         44:dc:35:a2:7f:ed:70:2f:68:75:50:61:74:41:d2:86:dd:75:
         18:21:a1:c9
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°tomç”¨æˆ·çš„è¯ä¹¦ä¸­O=myuserï¼Œå¹¶ésystem:masterï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½¿ç”¨tomç”¨æˆ·çš„é…ç½®æ–‡ä»¶åœ¨mynsåç§°ç©ºé—´ä¸‹åˆ›å»ºpod&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo3.yaml 
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo3
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
  hostNetwork: true
[root@master01 manifests]# kubectl apply -f pod-demo3.yaml --kubeconfig=/tmp/myk8s.config
Error from server (Forbidden): error when creating &quot;pod-demo3.yaml&quot;: pods &quot;nginx-pod-demo3&quot; is forbidden: PodSecurityPolicy: unable to admit pod: [spec.securityContext.hostNetwork: Invalid value: true: Host network is not allowed to be used]
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°tomç”¨æˆ·åœ¨mynsåç§°ç©ºé—´ä¸‹åˆ›å»ºpodå¹¶å…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´ï¼Œè¢«apiserveræ‹’ç»äº†ï¼›è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆšæ‰å¯ç”¨äº†pspå‡†å…¥æ§åˆ¶å™¨ï¼Œå¯¹åº”è§„åˆ™æ˜ç¡®è§„å®šä¸åœ¨system:masterç»„æˆ–system:serviceaccounts:system-kubeç»„æˆ–system:nodeç»„çš„æ‰€æœ‰ç”¨æˆ·éƒ½ä¸èƒ½åˆ›å»ºpodå…±äº«å®¿ä¸»æœºåç§°ç©ºé—´ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½¿ç”¨system:masterç»„ä¸Šçš„ç”¨æˆ·åˆ›å»ºpodå…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ã€€éªŒè¯ï¼škubectlçš„è¯ä¹¦ï¼Œçœ‹çœ‹å¯¹åº”çš„ç»„æ˜¯å¦æ˜¯system:master&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 ~]# cat /etc/kubernetes/admin.conf |grep client-certificate-data|awk {'print $2'}|base64 -d |openssl x509 -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 886870692518705366 (0xc4ecc322d4838d6)
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: CN=kubernetes
        Validity
            Not Before: Dec  8 06:38:54 2020 GMT
            Not After : Dec  8 06:38:56 2021 GMT
        Subject: O=system:masters, CN=kubernetes-admin
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:c0:4f:cc:45:9b:4a:19:00:a4:af:68:13:f4:39:
                    b0:4c:a8:67:85:af:b3:f7:04:7e:de:16:4b:62:2c:
                    d4:e8:c8:b3:26:39:d2:9a:8e:00:71:ef:82:ff:d3:
                    ad:1a:89:f2:9b:2a:7b:84:c5:5c:85:5a:d0:c5:6e:
                    89:9d:96:e7:ec:db:92:50:f7:4f:a1:d8:14:2e:48:
                    33:de:05:48:f1:aa:36:d1:d3:9c:bf:6d:b9:6b:75:
                    ce:66:a5:72:52:6c:bb:6c:2b:96:98:da:e1:99:1b:
                    d4:51:3d:5d:d4:fa:76:d9:18:c7:d2:37:95:ad:3c:
                    e7:af:87:21:75:1b:96:bb:64:51:f5:ae:44:ba:43:
                    e1:d5:5d:39:57:a1:f0:04:e5:39:6c:af:8c:a6:7e:
                    eb:4f:98:5d:07:ce:da:89:91:08:34:db:67:0b:09:
                    0c:59:3b:16:b0:13:f7:13:b8:fb:6f:54:d1:c9:e5:
                    ce:27:a6:09:af:cc:9d:b5:1e:0a:9c:b4:d2:64:76:
                    cd:35:67:9e:b5:a6:ba:d8:44:e9:c9:e8:0d:fb:c7:
                    00:06:4a:ce:72:67:a7:0e:56:57:8c:75:2a:c7:0f:
                    bb:4a:d9:0c:ec:a1:27:3a:ce:92:13:e4:bf:d1:31:
                    c8:be:20:58:a0:d6:43:f7:21:8a:cb:e3:fe:5e:1d:
                    d9:2d
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Key Usage: critical
                Digital Signature, Key Encipherment
            X509v3 Extended Key Usage: 
                TLS Web Client Authentication
            X509v3 Authority Key Identifier: 
                keyid:BE:53:44:7A:0F:3D:B0:99:37:F3:D3:52:BE:C1:75:E6:EF:81:DD:13

    Signature Algorithm: sha256WithRSAEncryption
         35:ea:55:af:57:62:46:26:e9:60:59:82:c2:52:55:45:23:f3:
         f9:2a:2a:78:28:6c:26:6a:32:c9:df:75:17:ca:44:0f:7f:2a:
         ae:a5:7b:e5:d0:99:3e:97:27:1d:13:a9:5f:d7:09:29:c8:d9:
         68:a6:c1:c5:e3:28:14:6e:0f:c8:32:4b:06:8a:6b:fe:ba:ce:
         e4:59:b6:70:d4:11:71:cf:e9:c2:dc:da:86:9c:12:82:82:58:
         78:83:32:ac:ff:99:6e:1f:07:e0:9d:02:86:dc:e2:e4:30:a1:
         36:f1:43:cb:a1:13:1c:27:87:19:89:15:38:25:0a:29:dd:66:
         6b:ed:7e:8c:fe:95:8e:10:77:5f:70:47:98:a0:37:4f:9e:57:
         6a:66:35:9c:dc:64:f5:1a:01:cd:45:6e:01:bc:15:6f:6f:cd:
         f6:51:f4:8e:28:14:77:9e:50:42:42:e2:a8:42:76:b5:f9:c8:
         87:bb:a5:3e:64:ce:1c:88:6d:31:99:53:c6:8f:88:f1:72:7c:
         5a:d6:dc:fe:7e:fa:26:d2:e0:f3:b8:47:d5:8b:c7:b2:88:80:
         16:53:38:31:96:19:9a:73:98:c8:c3:30:13:23:71:b7:1d:d4:
         c9:00:c0:b0:99:bf:24:f3:cf:c6:76:27:d2:6e:3a:5f:fc:5c:
         55:25:98:e2
[root@master01 ~]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯¹åº”è¯ä¹¦ä¿¡æ¯ä¸­çš„O=system:masterï¼Œè¯´æ˜ä½¿ç”¨kubectlå·¥å…·åŠ è½½/etc/kubernetes/admin.configæ–‡ä»¶ï¼Œåœ¨apiserverä¸Šè®¤è¯ä¼šè¢«æ˜¯è¢«ä¸ºsystem:masterç»„ä¸Šçš„æˆå‘˜ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½¿ç”¨kubectl åŠ è½½/etc/kubernetes/admin.conf åˆ›å»ºpodå…±äº«å®¿ä¸»æœºä¸Šçš„ç½‘ç»œåç§°ç©ºé—´ï¼›&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:bash;gutter:true;&quot;&gt;
[root@master01 manifests]# cat pod-demo3.yaml 
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod-demo3
  namespace: myns
spec:
  containers:
  - image: nginx:1.14-alpine
    imagePullPolicy: IfNotPresent
    name: nginx
  hostNetwork: true
[root@master01 manifests]# kubectl apply -f pod-demo3.yaml --kubeconfig=/etc/kubernetes/admin.conf
pod/nginx-pod-demo3 created
[root@master01 manifests]# kubectl get pod -n myns --kubeconfig=/etc/kubernetes/admin.conf
NAME              READY   STATUS    RESTARTS   AGE
nginx-pod-demo3   1/1     Running   0          20s
[root@master01 manifests]# 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æç¤ºï¼šå¯ä»¥çœ‹åˆ°ä½¿ç”¨system:masterç»„ä¸Šç”¨æˆ·çš„è¯ä¹¦åœ¨mynsåç§°ç©ºé—´ä¸‹å°±èƒ½å¤Ÿæ­£å¸¸åˆ›å»ºå…±äº«å®¿ä¸»æœºç½‘ç»œåç§°ç©ºé—´çš„podï¼›é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°å¯¹åº”pspå‡†å…¥æ§åˆ¶è§„åˆ™çš„è®¾ç½®æ˜¯ç”Ÿæ•ˆçš„ï¼›&lt;/p&gt;
</description>
<pubDate>Fri, 01 Jan 2021 14:41:00 +0000</pubDate>
<dc:creator>Linux-1874</dc:creator>
<og:description>å‰æ–‡æˆ‘ä»¬èŠåˆ°äº†k8sçš„è®¿é—®æ§åˆ¶ç¬¬äºŒå…³RBACæˆæƒæ’ä»¶çš„ç›¸å…³è¯é¢˜ï¼Œå›é¡¾è¯·å‚è€ƒï¼šhttps://www.cnblogs.com/qiuhom-1874/p/14216634.htmlï¼›ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸‹k8</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/qiuhom-1874/p/14220402.html</dc:identifier>
</item>
<item>
<title>åŸºäºLet's Encryptç”Ÿæˆå…è´¹è¯ä¹¦-æ”¯æŒå¤šåŸŸåæ³›åŸŸåè¯ä¹¦ - ITèƒ–</title>
<link>http://www.cnblogs.com/FLY_DREAM/p/14221136.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/FLY_DREAM/p/14221136.html</guid>
<description>&lt;p&gt;Letâ€™s Encryptæ˜¯ä¸€ä¸ªç”±éè¥åˆ©æ€§ç»„ç»‡äº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼ˆISRGï¼‰æä¾›çš„å…è´¹ã€è‡ªåŠ¨åŒ–å’Œå¼€æ”¾çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ã€‚&lt;br/&gt;ç®€å•çš„è¯´ï¼Œå€ŸåŠ©Letâ€™s Encrypté¢å‘çš„è¯ä¹¦å¯ä»¥ä¸ºæˆ‘ä»¬çš„ç½‘ç«™å…è´¹å¯ç”¨HTTPS(SSL/TLS)&lt;/p&gt;
&lt;h2 id=&quot;å®¢æˆ·ç«¯&quot;&gt;å®¢æˆ·ç«¯&lt;/h2&gt;
&lt;p&gt;Letâ€™s Encrypt ä½¿ç”¨ ACME åè®®æ¥éªŒè¯æ‚¨å¯¹ç»™å®šåŸŸåçš„æ§åˆ¶æƒå¹¶å‘æ‚¨é¢å‘è¯ä¹¦ã€‚è¦è·å¾— Letâ€™s Encrypt è¯ä¹¦ï¼Œæ‚¨éœ€è¦é€‰æ‹©ä¸€ä¸ªè¦ä½¿ç”¨çš„ ACME å®¢æˆ·ç«¯è½¯ä»¶ã€‚Letâ€™s Encrypt ä¸æ§åˆ¶æˆ–å®¡æŸ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼Œä¹Ÿä¸èƒ½ä¿è¯å…¶å®‰å…¨æ€§æˆ–å¯é æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æä¾›äº†å‡ ç§è¯ä¹¦çš„ç”³è¯·æ–¹å¼æ–¹æ³•&lt;/p&gt;
&lt;h3 id=&quot;certbot&quot;&gt;certbot&lt;/h3&gt;
&lt;p&gt;å®ƒæ—¢å¯ä»¥ä»…ä¸ºæ‚¨è·å–è¯ä¹¦ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©æ‚¨å®‰è£…è¯ä¹¦ï¼ˆå¦‚æœæ‚¨éœ€è¦çš„è¯ï¼‰ã€‚å®ƒæ˜“äºä½¿ç”¨ï¼Œé€‚ç”¨äºè®¸å¤šæ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”å…·æœ‰å‡ºè‰²çš„æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://certbot.eff.org/&quot; target=&quot;_blank&quot;&gt;https://certbot.eff.org/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;acmesh&quot;&gt;acme.sh&lt;/h3&gt;
&lt;p&gt;ç›®å‰ Let's Encrypt å…è´¹è¯ä¹¦å®¢æˆ·ç«¯æœ€ç®€å•ã€æœ€æ™ºèƒ½çš„ shell è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨å‘å¸ƒå’Œç»­è®¢ Let's Encrypt ä¸­çš„å…è´¹è¯ä¹¦&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…acmesh&quot;&gt;å®‰è£…acme.sh&lt;/h2&gt;
&lt;h3 id=&quot;1-è‡ªåŠ¨å®‰è£…&quot;&gt;1. è‡ªåŠ¨å®‰è£…&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;curl https://get.acme.sh | sh&lt;/code&gt; (ç½‘ç»œé—®é¢˜å¯èƒ½å¤±è´¥)&lt;/p&gt;
&lt;h3 id=&quot;2-æ‰‹åŠ¨å®‰è£…&quot;&gt;2. æ‰‹åŠ¨å®‰è£…&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;git clone https://github.com/acmesh-official/acme.sh.git
cd ./acme.sh
./acme.sh --install
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol readability=&quot;4.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;é»˜è®¤å®‰è£…åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•$HOMEä¸‹çš„.acme.shæ–‡ä»¶å¤¹ä¸­ï¼Œå³&lt;code&gt;~/.acme.sh/&lt;/code&gt;ï¼Œä¹‹åæ‰€æœ‰ç”Ÿæˆçš„è¯ä¹¦ä¹Ÿä¼šæŒ‰ç…§åŸŸåæ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;åˆ›å»ºæŒ‡ä»¤åˆ«åï¼š alias acme.sh=~/.acme.sh/acme.shï¼Œ é€šè¿‡&lt;code&gt;acme.sh&lt;/code&gt;å‘½ä»¤æ–¹ä¾¿å¿«é€Ÿåœ°ä½¿ç”¨ acme.sh è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;6&quot;&gt;
&lt;p&gt;è‡ªåŠ¨åˆ›å»ºcronjobå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤© 0:00 ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦ï¼Œå¦‚æœå¿«è¿‡æœŸäº†ï¼Œåˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;#æ¯å¤© 0:00 ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦, å¦‚æœå¿«è¿‡æœŸäº†, éœ€è¦æ›´æ–°, åˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦
0 0 * * * /root/.acme.sh/acme.sh --cron --home /root/.acme.sh &amp;gt; /dev/null
&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;3-æµ‹è¯•æ”¶å¦å®‰è£…æˆåŠŸ&quot;&gt;3. æµ‹è¯•æ”¶å¦å®‰è£…æˆåŠŸ&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;user@owen-ubuntu:~$ acme.sh --version
https://github.com/acmesh-official/acme.sh
v2.8.8
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœ‰ç‰ˆæœ¬ä¿¡æ¯è¾“å‡ºåˆ™è¡¨ç¤ºç¯å¢ƒæ­£å¸¸ï¼›å¦‚æœæç¤ºå‘½ä»¤æœªæ‰¾åˆ°ï¼Œæ‰§è¡Œsource ~/.bashrcå‘½ä»¤é‡è½½ä¸€ä¸‹ç¯å¢ƒé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªå®‰è£…è¿‡ç¨‹ä¸ä¼šæ±¡æŸ“å·²æœ‰çš„ç³»ç»Ÿä»»ä½•åŠŸèƒ½å’Œæ–‡ä»¶ï¼Œæ‰€æœ‰çš„ä¿®æ”¹éƒ½é™åˆ¶åœ¨å®‰è£…ç›®å½•~/.acme.sh/ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨acmeshç”Ÿæˆè¯ä¹¦&quot;&gt;ä½¿ç”¨acme.shç”Ÿæˆè¯ä¹¦&lt;/h2&gt;
&lt;h3 id=&quot;1-http-æ–¹å¼&quot;&gt;1. HTTP æ–¹å¼&lt;/h3&gt;
&lt;p&gt;http æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶, ä»¥æ­¤æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ,å®ŒæˆéªŒè¯ï¼Œåªéœ€è¦æŒ‡å®šåŸŸå, å¹¶æŒ‡å®šåŸŸåæ‰€åœ¨çš„ç½‘ç«™æ ¹ç›®å½•ï¼Œacme.sh ä¼šå…¨è‡ªåŠ¨çš„ç”ŸæˆéªŒè¯æ–‡ä»¶, å¹¶æ”¾åˆ°ç½‘ç«™çš„æ ¹ç›®å½•, ç„¶åè‡ªåŠ¨å®ŒæˆéªŒè¯ï¼Œè¯¥æ–¹å¼è¾ƒé€‚åˆç‹¬ç«‹åŸŸåçš„ç«™ç‚¹ä½¿ç”¨ï¼Œæ¯”å¦‚åšå®¢ç«™ç‚¹ç­‰&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;./acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/

- issue æ˜¯acme.shè„šæœ¬ç”¨æ¥é¢å‘è¯ä¹¦çš„æŒ‡ä»¤ï¼›
- dæ˜¯ --domainçš„ç®€ç§°ï¼Œå…¶åé¢é¡»å¡«å†™å·²å¤‡æ¡ˆçš„åŸŸåï¼›
- wæ˜¯ --webrootçš„ç®€ç§°ï¼Œå…¶åé¢é¡»å¡«å†™ç½‘ç«™çš„æ ¹ç›®å½•ã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./acme.sh --issue -d devopsing.site -d www.devopsing.site --webroot /var/www/html/blog/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯ä¹¦ç­¾å‘æˆåŠŸä¼šæœ‰å¦‚ä¸‹è¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/owen2016/pic-hub/raw/master/pics/20210101222026.png&quot; alt=&quot;acme-http&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡ŒæˆåŠŸï¼Œé»˜è®¤ä¸ºç”Ÿæˆå¦‚ä¸‹è¯ä¹¦ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;root@ecs-ubuntu18:/etc/nginx/sites-available# ls ~/.acme.sh/devopsing.site/ -l
total 28
-rw-r--r-- 1 root root 1587 Dec 16 12:34 ca.cer
-rw-r--r-- 1 root root 1866 Dec 16 12:34 devopsing.site.cer
-rw-r--r-- 1 root root  642 Dec 16 12:34 devopsing.site.conf
-rw-r--r-- 1 root root 1001 Dec 16 12:33 devopsing.site.csr
-rw-r--r-- 1 root root  232 Dec 16 12:33 devopsing.site.csr.conf
-rw-r--r-- 1 root root 1679 Dec 16 12:33 devopsing.site.key
-rw-r--r-- 1 root root 3453 Dec 16 12:34 fullchain.cer
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœç”¨çš„apache/nginxæœåŠ¡å™¨, acme.sh è¿˜å¯ä»¥æ™ºèƒ½çš„ä» nginxçš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;acme.sh --issue -d mydomain.com --apache&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;acme.sh --issue -d mydomain.com --nginx&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-dns-æ–¹å¼&quot;&gt;2. DNS æ–¹å¼&lt;/h3&gt;
&lt;p&gt;é€‚åˆç”¨äºç”ŸæˆèŒƒè§£æè¯ä¹¦&lt;/p&gt;
&lt;p&gt;ä¼˜åŠ¿ï¼šä¸éœ€è¦ä»»ä½•æœåŠ¡å™¨, ä¸éœ€è¦ä»»ä½•å…¬ç½‘ ip, åªéœ€è¦ dns çš„è§£æè®°å½•å³å¯å®ŒæˆéªŒè¯&lt;br/&gt;åŠ£åŠ¿ï¼š&lt;code&gt;å¦‚æœä¸åŒæ—¶é…ç½® Automatic DNS APIï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ acme.sh å°†æ— æ³•è‡ªåŠ¨æ›´æ–°è¯ä¹¦&lt;/code&gt;ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨å†æ¬¡é‡æ–°è§£æéªŒè¯åŸŸåæ‰€æœ‰æƒ`&lt;/p&gt;
&lt;h4 id=&quot;1-ç”Ÿæˆè¯ä¹¦è®°å½•&quot;&gt;1. ç”Ÿæˆè¯ä¹¦è®°å½•&lt;/h4&gt;
&lt;p&gt;æ³¨æ„ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ä½¿ç”¨ --issueï¼Œ-d æŒ‡å®šéœ€è¦ç”Ÿæˆè¯ä¹¦çš„åŸŸå&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./acme.sh --issue -d *.example.com --dns --yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚æ•°è§£é‡Šï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;--dns [dns_hook]    Use dns manual mode or dns api. Defaults to manual mode when argument is omitted.

--yes-I-know-dns-manual-mode-enough-go-ahead-please  Force use of dns manual mode.
See:  https://github.com/acmesh-official/acme.sh/wiki/dns-manual-mode
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;2-åœ¨åŸŸåè§£æä¸­æ‰‹åŠ¨æ·»åŠ txtè®°å½•&quot;&gt;2. åœ¨åŸŸåè§£æä¸­æ‰‹åŠ¨æ·»åŠ TXTè®°å½•&lt;/h4&gt;
&lt;p&gt;å¦‚æœç¬¬ä¸€æ¬¡æ·»åŠ è¯¥åŸŸåï¼Œä¼šæç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œéœ€è¦åœ¨DNSè§£æä¸­æ·»åŠ &lt;code&gt;TXT&lt;/code&gt;è®°å½•ï¼Œç”¨ä½œåˆ¤æ–­ä½ æ˜¯å¦æ‹¥æœ‰åŸŸåä½¿ç”¨æƒ&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;[Wed Dec 16 16:04:49 CST 2020] Add the following TXT record:
[Wed Dec 16 16:04:49 CST 2020] Domain: '_acme-challenge.devopsing.site'
[Wed Dec 16 16:04:49 CST 2020] TXT value: '-jEWdpI**************EVh01_a3ywrW426wmppjuDqXOs'
[Wed Dec 16 16:04:49 CST 2020] Please be aware that you prepend _acme-challenge. before your domain
[Wed Dec 16 16:04:49 CST 2020] so the resulting subdomain will be: _acme-challenge.devopsing.site
[Wed Dec 16 16:04:49 CST 2020] Please add the TXT records to the domains, and re-run with --renew.
[Wed Dec 16 16:04:49 CST 2020] Please add '--debug' or '--log' to check more details.
[Wed Dec 16 16:04:49 CST 2020] See: https://github.com/acmesh-official/acme.sh/wiki/How-to-debug-acme.sh
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/owen2016/pic-hub/raw/master/pics/20210101215207.png&quot; alt=&quot;aliyun-dns&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;éªŒè¯è§£æç”Ÿæ•ˆ&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;user@owen-ubuntu:~$ nslookup -q=TXT _acme-challenge.devopsing.site
Server:         127.0.0.53
Address:        127.0.0.53#53

Non-authoritative answer:
_acme-challenge.devopsing.site  text = &quot;-jEWdpI****************1_a3ywrW426wmppjuDqXOs&quot;

Authoritative answers can be found from:
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;3-é‡æ–°ç”Ÿæˆè¯ä¹¦&quot;&gt;3. é‡æ–°ç”Ÿæˆè¯ä¹¦&lt;/h4&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œç¬¬äºŒæ¬¡æ‰§è¡Œæ˜¯ç”¨çš„æ˜¯ --renew&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./acme.sh --renew -d *.example.com --yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./acme.sh --issue -d *.devopsing.site --dns --yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/owen2016/pic-hub/raw/master/pics/20210101222244.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;root@ecs-ubuntu18:/var/log/nginx# ls ~/.acme.sh/\*.devopsing.site/ -l
total 28
-rw-r--r-- 1 root root 1587 Dec 16 16:09  ca.cer
-rw-r--r-- 1 root root 1846 Dec 16 16:09 '*.devopsing.site.cer'
-rw-r--r-- 1 root root  613 Dec 16 16:09 '*.devopsing.site.conf'
-rw-r--r-- 1 root root  980 Dec 16 16:09 '*.devopsing.site.csr'
-rw-r--r-- 1 root root  211 Dec 16 16:09 '*.devopsing.site.csr.conf'
-rw-r--r-- 1 root root 1679 Dec 16 16:04 '*.devopsing.site.key'
-rw-r--r-- 1 root root 3433 Dec 16 16:09  fullchain.cer
&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;4-ä½¿ç”¨dns-apiçš„æ¨¡å¼è¿›è¡Œè¯ä¹¦ç”³è¯·-æ”¯æŒè‡ªåŠ¨æ›´æ–°&quot;&gt;4. ä½¿ç”¨DNS APIçš„æ¨¡å¼è¿›è¡Œè¯ä¹¦ç”³è¯· (æ”¯æŒè‡ªåŠ¨æ›´æ–°)&lt;/h4&gt;
&lt;p&gt;dns æ–¹å¼çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥ä½¿ç”¨åŸŸåè§£æå•†æä¾›çš„ api è‡ªåŠ¨æ·»åŠ  txt è®°å½•å®ŒæˆéªŒè¯ï¼Œacme.sh ç›®å‰æ”¯æŒ cloudflare, dnspod, cloudxns, godaddy ä»¥åŠ ovh ç­‰æ•°åç§è§£æå•†çš„è‡ªåŠ¨é›†æˆã€‚&lt;/p&gt;
&lt;h5 id=&quot;é˜¿é‡Œäº‘dns-api&quot;&gt;é˜¿é‡Œäº‘DNS API&lt;/h5&gt;
&lt;p&gt;é¦–å…ˆè·å–é˜¿é‡Œäº‘çš„æ“ä½œAPI çš„ AccessKey IDå’ŒAccessKey Secret&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export Ali_Key=&quot;keyå€¼&quot;
export Ali_Secret=&quot;key Secret&quot;
# ç»™å‡ºçš„ api id å’Œ api key ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹,ä¸‹æ¬¡å°±ä¸ç”¨å†æ¬¡æ‰§è¡Œä¸Šè¿°å‘½ä»¤

acme.sh --issue --dns dns_ali -d *.example.com --force
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export Ali_Key=&quot;LTAI4F****i8qEeKeRios2r&quot;
export Ali_Secret=&quot;nIpymix0s****a0bJNgERE0QzjSrkF&quot;
acme.sh --issue --dns dns_ali -d *.devopsing.site --force
&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;dnspod-api&quot;&gt;DnsPod API&lt;/h5&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export DP_Id=&quot;1234&quot;
export DP_Key=&quot;sADDsdasdgdsf&quot;
acme.sh --issue  --dns dns_dp   -d *.example.com
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æŸ¥çœ‹åˆ é™¤è¯ä¹¦&quot;&gt;æŸ¥çœ‹/åˆ é™¤è¯ä¹¦&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹å®‰è£…è¯ä¹¦ &lt;code&gt;acme.sh --list&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/owen2016/pic-hub/raw/master/pics/20210101222307.png&quot; alt=&quot;acme-list&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åˆ é™¤è¯ä¹¦ &lt;code&gt;acme.sh remove &amp;lt;SAN_Domains&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;user@ecs-ubuntu18:~$ acme.sh remove devopsing.site
[Thu Dec 17 14:05:53 CST 2020] devopsing.site is removed, the key and cert files are in /home/user/.acme.sh/devopsing.site
[Thu Dec 17 14:05:53 CST 2020] You can remove them by yourself.
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ä½¿ç”¨acmeshå®‰è£…è¯ä¹¦&quot;&gt;ä½¿ç”¨acme.shå®‰è£…è¯ä¹¦&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢ç”Ÿæˆçš„è¯ä¹¦æ”¾åœ¨äº†&lt;code&gt;~/.acem.sh/&amp;lt;domain&amp;gt;&lt;/code&gt;ç›®å½•ï¼Œä½¿ç”¨&lt;code&gt;--installcert&lt;/code&gt;å‘½ä»¤ï¼ŒæŒ‡å®šç›®æ ‡ä½ç½®ï¼Œå¯å°†è¯ä¹¦copy åˆ°ç›¸åº”çš„ä½ç½®&lt;/p&gt;
&lt;h3 id=&quot;nginx-ç¤ºä¾‹&quot;&gt;Nginx ç¤ºä¾‹&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;acme.sh --installcert -d &amp;lt;domain&amp;gt;.com \
--key-file /etc/nginx/ssl/&amp;lt;domain&amp;gt;.key \
--fullchain-file /etc/nginx/ssl/fullchain.cer \
--reloadcmd &quot;service nginx force-reload&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœè¦ç›´æ¥åŠ è½½é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ --reloadcmd &quot;service nginx force-reload&quot;ï¼Œä½†æ˜¯ç”±äºnginx çš„é…ç½®å¯èƒ½ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥ä¸€èˆ¬é€‰æ‹©æ‰‹åŠ¨ reload nginx&lt;/p&gt;
&lt;p&gt;æ³¨æ„:Nginx çš„é…ç½® ssl_certificate ä½¿ç”¨ /etc/nginx/ssl/fullchain.cer ï¼Œè€Œé /etc/nginx/ssl/.cer ï¼Œå¦åˆ™ SSL Labs çš„æµ‹è¯•ä¼šæŠ¥ Chain issues Incomplete é”™è¯¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-conf&quot;&gt;server {
        listen 443 ssl;
        server_name demo.com;
        
        ssl on;
        ssl_certificate      /etc/nginx/ssl/fullchain.cer;
        ssl_certificate_key  /etc/nginx/ssl/&amp;lt;domain&amp;gt;.key;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;apache-ç¤ºä¾‹&quot;&gt;Apache ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;./acme.sh --install-cert -d *.example.com&lt;br/&gt;--cert-file /path/to/certfile/in/apache/cert.pem&lt;br/&gt;--key-file /path/to/keyfile/in/apache/key.pem&lt;br/&gt;--fullchain-file /path/to/fullchain/certfile/apache/fullchain.pem&lt;br/&gt;--reloadcmd &quot;service apache2 force-reload&quot;&lt;/p&gt;
&lt;h2 id=&quot;æ›´æ–°è¯ä¹¦&quot;&gt;æ›´æ–°è¯ä¹¦&lt;/h2&gt;
&lt;p&gt;ç›®å‰ Let's Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸæ˜¯90å¤©ï¼Œæ—¶é—´åˆ°äº†ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€ä»»ä½•æ“ä½œã€‚ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥å¼ºåˆ¶ç»­ç­¾è¯ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;acme.sh --renew -d example.com --force&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šæ‰‹åŠ¨æ·»åŠ DNSè·å–è¯ä¹¦çš„æ–¹å¼æ— æ³•è‡ªåŠ¨æ›´æ–°ï¼Œä½†æ˜¯ä½¿ç”¨DNS APIçš„æ–¹å¼è¿›è¡Œè·å–è¯ä¹¦å¯ä»¥åœ¨è¯ä¹¦æœ‰æ•ˆæœŸåè‡ªåŠ¨æ›´æ–°, ä½ æ— éœ€ä»»ä½•æ“ä½œ&lt;/p&gt;
&lt;p&gt;å¼ºåˆ¶æ‰§è¡Œæ›´æ–°ä»»åŠ¡ &lt;code&gt;acme.sh --cron -f&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/owen2016/pic-hub/raw/master/pics/20210101222329.png&quot; alt=&quot;acme-cron&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ›´æ–°acmesh&quot;&gt;æ›´æ–°acme.sh&lt;/h2&gt;
&lt;p&gt;acme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰‹åŠ¨æ›´æ–°ï¼š &lt;code&gt;acme.sh --upgrade&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¼€å¯è‡ªåŠ¨æ›´æ–°ï¼š&lt;code&gt;acme.sh --upgrade --auto-upgrade&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å–æ¶ˆè‡ªåŠ¨æ›´æ–°ï¼š &lt;code&gt;acme.sh --upgrade --auto-upgrade 0&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;åˆ é™¤acmesh&quot;&gt;åˆ é™¤acme.sh&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;user@owen-ubuntu:~$ acme.sh --uninstall
[2020å¹´ 12æœˆ 18æ—¥ æ˜ŸæœŸäº” 15:55:11 CST] Removing cron job
[2020å¹´ 12æœˆ 18æ—¥ æ˜ŸæœŸäº” 15:55:11 CST] LE_WORKING_DIR='/home/user/.acme.sh'
[2020å¹´ 12æœˆ 18æ—¥ æ˜ŸæœŸäº” 15:55:11 CST] Uninstalling alias from: '/home/user/.bashrc'
[2020å¹´ 12æœˆ 18æ—¥ æ˜ŸæœŸäº” 15:55:11 CST] The keys and certs are in &quot;/home/user/.acme.sh&quot;, you can remove them by yourself.
&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Fri, 01 Jan 2021 14:34:00 +0000</pubDate>
<dc:creator>ITèƒ–</dc:creator>
<og:description>Letâ€™s Encryptæ˜¯ä¸€ä¸ªç”±éè¥åˆ©æ€§ç»„ç»‡äº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼ˆISRGï¼‰æä¾›çš„å…è´¹ã€è‡ªåŠ¨åŒ–å’Œå¼€æ”¾çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ã€‚ ç®€å•çš„è¯´ï¼Œå€ŸåŠ©Letâ€™s Encrypté¢å‘çš„è¯ä¹¦å¯ä»¥ä¸ºæˆ‘ä»¬çš„ç½‘ç«™å…è´¹å¯ç”¨</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/FLY_DREAM/p/14221136.html</dc:identifier>
</item>
<item>
<title>.NET 5 å¼€æºå·¥ä½œæµæ¡†æ¶elsaæŠ€æœ¯ç ”ç©¶ - Eric zhou</title>
<link>http://www.cnblogs.com/tianqing/p/14221030.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/tianqing/p/14221030.html</guid>
<description>&lt;p&gt;ä»Šå¤©å‡æœŸç¬¬ä¸€å¤©ï¼Œç ”ç©¶äº†.NET 5å¼€æºå·¥ä½œæµæ¡†æ¶elsaï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¸€ã€æ¡†æ¶ç®€ä»‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;elsaæ˜¯ä¸€ä¸ªå¼€æºçš„.NET Standard å·¥ä½œæµæ¡†æ¶ï¼Œå®˜æ–¹ç½‘ç«™ï¼š&lt;a class=&quot;external-link&quot; href=&quot;https://elsa-workflows.github.io/elsa-core/&quot; rel=&quot;nofollow&quot;&gt;https://elsa-workflows.github.io/elsa-core/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹åˆ—å‡ºäº†Elsaçš„ä¸€äº›å…³é”®åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å°å·§ï¼Œç®€å•ï¼Œå¿«é€Ÿã€‚è¯¥åº“éå¸¸ç²¾ç®€æ˜“ç”¨ï¼ŒåŒæ—¶å¿«é€Ÿæ‰§è¡Œå¹¶ä¸”æ˜“äºé€šè¿‡è‡ªå®šä¹‰æ´»åŠ¨è¿›è¡Œæ‰©å±•ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ä»»æ„å·¥ä½œæµç¨‹ï¼Œå°±å¥½åƒå®ƒä»¬æ˜¯æˆ‘åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;è§¦å‘äº‹ä»¶ï¼Œä½¿ç›¸åº”çš„å·¥ä½œæµç¨‹åŸºäºè¯¥äº‹ä»¶è‡ªåŠ¨å¯åŠ¨/æ¢å¤ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒé•¿æœŸè¿è¡Œçš„å·¥ä½œæµç¨‹ã€‚å½“å·¥ä½œæµç¨‹æ‰§è¡Œå¹¶é‡åˆ°éœ€è¦è¿›è¡Œä¾‹å¦‚ç”¨æˆ·è¾“å…¥åï¼Œå·¥ä½œæµå°†åœæ­¢ï¼Œä¿ç•™å¹¶è€—å°½å†…å­˜ï¼Œç›´åˆ°å¯ä»¥æ¢å¤ä¸ºæ­¢ã€‚è¿™å¯èƒ½æ˜¯å‡ ç§’é’Ÿåï¼Œå‡ åˆ†é’Ÿï¼Œå‡ å°æ—¶ï¼Œå‡ å¤©ç”šè‡³å‡ å¹´çš„æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;å°†å·¥ä½œæµä¸ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„æ•°æ®ç›¸å…³è”ã€‚è¿™æ˜¯é•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œæµç¨‹çš„å…³é”®è¦æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥åŸºäºæ–‡ä»¶çš„æ ¼å¼å­˜å‚¨å·¥ä½œæµï¼Œå› æ­¤æˆ‘å¯ä»¥ä½¿å…¶æˆä¸ºæºä»£ç ç®¡ç†çš„ä¸€éƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆ‘ä¸æƒ³è®©å·¥ä½œæµæˆä¸ºæºä»£ç ç®¡ç†çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œå¯ä»¥å°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäºWebç‰ˆæœ¬çš„æµç¨‹è®¾è®¡å™¨ã€‚æ— è®ºæ˜¯å°†å·¥ä½œæµå­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯æ•°æ®åº“ä¸­ï¼Œè¿˜æ˜¯å°†è®¾è®¡å™¨åœ¨çº¿æ‰˜ç®¡è¿˜æ˜¯ä»…åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ‰˜ç®¡ï¼Œéƒ½éœ€è¦èƒ½å¤Ÿåœ¨çº¿ç¼–è¾‘å·¥ä½œæµã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è¡¨è¾¾å¼é…ç½®å·¥ä½œæµç¨‹æ´»åŠ¨ã€‚é€šå¸¸ï¼Œå·¥ä½œæµå¤„ç†çš„ä¿¡æ¯æœ¬è´¨ä¸Šæ˜¯åŠ¨æ€çš„ï¼Œæ´»åŠ¨éœ€è¦ä¸€ç§ä¸è¯¥ä¿¡æ¯è¿›è¡Œäº¤äº’çš„æ–¹å¼ã€‚å·¥ä½œæµè¡¨è¾¾å¼æ”¯æŒè¿™ç±»åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;å¯é€šè¿‡ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„æ´»åŠ¨ï¼Œæ”¯æŒè‡ªå®šä¹‰å­˜å‚¨å’Œè„šæœ¬å¼•æ“è¿›è¡Œæ‰©å±•ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨å…¶ä»–å·¥ä½œæµç¨‹ã€‚è¿™å…è®¸ä»å„ç§å·¥ä½œæµç¨‹ä¸­è°ƒç”¨å¯é‡ç”¨çš„åº”ç”¨ç¨‹åºé€»è¾‘ã€‚å°±åƒä»Cï¼ƒè°ƒç”¨é€šç”¨åŠŸèƒ½ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å’Œåˆ†ææ‰§è¡Œçš„å·¥ä½œæµç¨‹å®ä¾‹ã€‚æŸ¥çœ‹å·¥ä½œæµé‡‡ç”¨çš„è·¯å¾„ï¼Œè¿è¡Œæ—¶çŠ¶æ€ï¼Œå‘ç”Ÿæ•…éšœçš„ä½ç½®å¹¶è¡¥å¿å‘ç”Ÿæ•…éšœçš„å·¥ä½œæµã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒWebçš„å·¥ä½œæµè®¾è®¡å™¨åµŒå…¥æˆ‘è‡ªå·±çš„ä»ªè¡¨æ¿åº”ç”¨ç¨‹åºä¸­ã€‚å¯ä»¥é€‰æ‹©åˆ›å»ºä¸€ä¸ªè¿è¡Œæ‰€æœ‰åº”ç”¨ç¨‹åºé€»è¾‘çš„å·¥ä½œæµä¸»æœºï¼Œè¿˜å¯ä»¥é€‰æ‹©åœ¨å•ä¸ªå¾®æœåŠ¡ä¸­æ‰˜ç®¡å·¥ä½œæµè¿è¡Œæ—¶ï¼ˆå…è®¸è¿›è¡Œç¼–æ’å’Œç¼–æ’ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å…³æ³¨ç‚¹åˆ†ç¦»ï¼šå·¥ä½œæµæ ¸å¿ƒåº“ï¼Œè¿è¡Œæ—¶å’Œè®¾è®¡å™¨è®¾è®¡ä¸Šå®Œå…¨åˆ†ç¦»ã€‚å³å½“å·¥ä½œæµå®¿ä¸»ä¸åº”è¯¥ä¾èµ–äºåŸºäºWebçš„è®¾è®¡å™¨æ—¶ã€‚ä¾‹å¦‚ï¼Œè¿™å…è®¸æ‚¨å®æ–½åŸºäºæ¡Œé¢çš„è®¾è®¡å™¨ï¼Œæˆ–è€…æ ¹æœ¬ä¸ä½¿ç”¨è®¾è®¡å™¨ï¼Œè€Œä»…ä½¿ç”¨YAMLæ–‡ä»¶ã€‚æœ€åï¼Œä¸»æœºåªéœ€è¦å·¥ä½œæµç¨‹å®šä¹‰å’Œå¯¹æŒä¹…æ€§å­˜å‚¨çš„è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒæœ¬åœ°æˆ–äº‘ç«¯ç®¡ç†ï¼Œå› ä¸ºElsaåªæ˜¯æ‚¨ä»åº”ç”¨ç¨‹åºå¼•ç”¨çš„ä¸€ç»„NuGetè½¯ä»¶åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;äºŒã€äº§å“ä¸»è¦åŠŸèƒ½&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â &lt;strong&gt;1. å¯è§†åŒ–çš„å·¥ä½œæµç¼–è¾‘å™¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Elsaå¸¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œå¯é‡å¤ä½¿ç”¨çš„HTML5å·¥ä½œæµè®¾è®¡å™¨Webç»„ä»¶ï¼Œæ‚¨å¯ä»¥å°†å…¶åµŒå…¥è‡ªå·±çš„HTMLç½‘é¡µä¸­ã€‚è®¾è®¡å™¨å®Œå…¨åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œå¹¶å…·æœ‰ä¸°å¯Œçš„JavaScript APIï¼Œè¯¥APIå¯è®©æ‚¨å®šä¹‰è‡ªå®šä¹‰æ’ä»¶ä»¥æ‰©å±•å…¶åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/23525/202101/23525-20210101214929549-1101625531.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â 2. Dashboard çœ‹æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â Elsaçœ‹æ¿ä½¿æ‚¨èƒ½å¤Ÿå®šä¹‰å·¥ä½œæµç¨‹å®šä¹‰å¹¶æ£€æŸ¥æ‰§è¡Œçš„å·¥ä½œæµç¨‹ã€‚è¦è®¾è®¡å·¥ä½œæµç¨‹ï¼Œåªéœ€å³é”®å•å‡»ç”»å¸ƒï¼Œä»æ´»åŠ¨é€‰æ‹©å™¨ä¸­é€‰æ‹©ä¸€ä¸ªæ´»åŠ¨ï¼Œå¯¹å…¶è¿›è¡Œé…ç½®ï¼Œç„¶åæ‹–åŠ¨å¤šä¸ªæ´»åŠ¨ä¹‹é—´çš„è¿æ¥ä»¥åˆ›å»ºä»ç®€å•çš„çŸ­æœŸè¿è¡Œçš„å·¥ä½œæµç¨‹åˆ°é«˜çº§çš„é•¿æœŸè¿è¡Œçš„å·¥ä½œæµç¨‹çš„æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  3. æ”¯æŒé•¿æœŸå’ŒçŸ­æœŸçš„å·¥ä½œæµæ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â Elsaæä¾›äº†çŸ­æœŸå’Œé•¿æœŸå·¥ä½œæµç¨‹ã€‚å¯ä»¥ç†è§£ä¸ºç®€å•çš„å’Œå¤æ‚çš„æµç¨‹è®¾è®¡&lt;/p&gt;
&lt;p&gt;Â  Â ä¾‹å¦‚ï¼Œå½“æ‚¨éœ€è¦å®ç°ä¸šåŠ¡è§„åˆ™å¼•æ“æ—¶ï¼ŒçŸ­æ—¶è¿è¡Œçš„å·¥ä½œæµç¨‹éå¸¸æœ‰ç”¨ï¼Œåœ¨è¯¥æµç¨‹ä¸­ï¼Œå¦‚æœå·¥ä½œæµç¨‹æ˜¯ä¸€ä¸ªæ¥æ”¶è¾“å…¥å¹¶è¿”å›ç»“æœçš„å‡½æ•°ï¼Œåˆ™å¯ä»¥ä»åº”ç”¨ç¨‹åºä¸­è°ƒç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;Â  Â é•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œæµèƒ½å¤Ÿè½»æ¾åœ°å®ç°æ¶‰åŠäººå’Œæœºå™¨çš„å¤æ‚è¿‡ç¨‹ã€‚é•¿æœŸè¿è¡Œè¿‡ç¨‹çš„å…¸å‹ç¤ºä¾‹æ˜¯æ–‡æ¡£æ‰¹å‡†å·¥ä½œæµï¼Œå…¶ä¸­æŸäº›æ–‡æ¡£çš„å®¡é˜…è¿‡ç¨‹æ¶‰åŠå¤šæ–¹ã€‚è¿™æ ·çš„å·¥ä½œæµç¨‹å¯èƒ½æ¶‰åŠè®¡æ—¶å™¨ï¼Œç”µå­é‚®ä»¶ï¼Œæé†’ï¼ŒHTTPè¯·æ±‚ï¼Œç”¨æˆ·æ“ä½œç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â 4. ä¸°å¯Œçš„å·¥ä½œæµæ´»åŠ¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Â åŸºæœ¬å…ƒè¯­ï¼š&lt;/strong&gt;æ˜¯ä½çº§çš„æŠ€æœ¯æ´»åŠ¨ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;SetVariable&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  Â  æ§åˆ¶æµï¼š&lt;/strong&gt;æ§åˆ¶æµæ´»åŠ¨æä¾›å¯¹è¿‡ç¨‹çš„æ§åˆ¶ã€‚ä¾‹å¦‚ï¼ŒForkæ´»åŠ¨ä¼šå°†å·¥ä½œæµç¨‹åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªæ‰§è¡Œåˆ†æ”¯ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ForEach&lt;/li&gt;
&lt;li&gt;Fork&lt;/li&gt;
&lt;li&gt;IfElse&lt;/li&gt;
&lt;li&gt;Join&lt;/li&gt;
&lt;li&gt;Switch&lt;/li&gt;
&lt;li&gt;While&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  Â å·¥ä½œæµæ´»åŠ¨ï¼š&lt;/strong&gt;æ´»åŠ¨ä»£è¡¨å·¥ä½œæµç¨‹ä¸­çš„å•ä¸ªæ­¥éª¤ã€‚å¼€ç®±å³ç”¨çš„Elsa NuGetå¥—ä»¶å¥—ä»¶ä¸ºæ‚¨æä¾›äº†ä¸€ç³»åˆ—ä¸é”™çš„æ´»åŠ¨ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å·¥ä½œæµæ´»åŠ¨&lt;/p&gt;
&lt;p&gt;Â  Â  Â &lt;strong&gt;å·¥ä½œæµç¨‹ï¼š&lt;/strong&gt;å·¥ä½œæµç±»åˆ«ä¸­çš„æ´»åŠ¨ä¸å·¥ä½œæµçº§åˆ«çš„åŠŸèƒ½ç›¸å…³ï¼Œä¾‹å¦‚ç›¸å…³æ€§å’Œä¿¡ä»¤ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Correlate&lt;/li&gt;
&lt;li&gt;Finish&lt;/li&gt;
&lt;li&gt;Signaled&lt;/li&gt;
&lt;li&gt;Start&lt;/li&gt;
&lt;li&gt;TriggerSignal&lt;/li&gt;
&lt;li&gt;TriggerWorkflow&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  &lt;strong&gt;æ§åˆ¶å°æ´»åŠ¨ï¼š&lt;/strong&gt;åœ¨å®æ–½å¸¦æœ‰å·¥ä½œæµçš„åŸºäºæ§åˆ¶å°çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œæ§åˆ¶å°æ´»åŠ¨éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ReadLine&lt;/li&gt;
&lt;li&gt;WriteLine&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Â  Â  Â  &lt;strong&gt;DropBoxæ´»åŠ¨ï¼š&lt;/strong&gt;Dropboxæ´»åŠ¨å¯å¸®åŠ©å®ç°ä¸Dropbox APIé›†æˆã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;SaveToDropbox&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  Â  ç”µå­é‚®ä»¶æ´»åŠ¨ï¼š&lt;/strong&gt;ç”µå­é‚®ä»¶æ´»åŠ¨å…è®¸æ‚¨ä½¿ç”¨SMTPå‘é€ç”µå­é‚®ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Â  Â HTTPæ´»åŠ¨ï¼š&lt;/strong&gt;èƒ½å¤Ÿå®ç°å‘é€ä¼ å‡ºHTTPè¯·æ±‚å¹¶å“åº”ä¼ å…¥HTTPè¯·æ±‚çš„å·¥ä½œæµï¼Œéå¸¸é€‚åˆä¸åŸºäºå¤–éƒ¨Webçš„APIé›†æˆã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ReceiveHttpRequest&lt;/li&gt;
&lt;li&gt;SendHttpRequest&lt;/li&gt;
&lt;li&gt;WriteHttpResponse&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  Â  å®šæ—¶å™¨æ´»åŠ¨&lt;/strong&gt;ï¼šå®šæ—¶å™¨æ´»åŠ¨å¯ä»¥åŸºäºæŸäº›åŸºäºæ—¶é—´çš„äº‹ä»¶ï¼ˆä¾‹å¦‚CRONè¡¨è¾¾å¼ï¼Œå¸¸è§„è®¡æ—¶å™¨ï¼‰æˆ–åœ¨å°†æ¥çš„ç‰¹å®šæ—¶é—´è§¦å‘å·¥ä½œæµã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;CronEvent&lt;/li&gt;
&lt;li&gt;InstantEvent&lt;/li&gt;
&lt;li&gt;TimerEvent&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  Â  Â User Taskï¼š&lt;/strong&gt;ç”¨æˆ·ä»»åŠ¡äº‹ä»¶æ˜¯ç”¨æˆ·è‡ªå®šä¹‰é…ç½®çš„æ´»åŠ¨ï¼Œç”¨æˆ·å¯ä»¥æ‰§è¡Œä¸€ç³»åˆ—å¯èƒ½çš„æ“ä½œã€‚æ¯ä¸ªåŠ¨ä½œå¯¹åº”äºæ´»åŠ¨çš„ç»“æœã€‚ç”¨æˆ·æ‰§è¡Œä»»ä½•è¿™äº›æ“ä½œåï¼Œå·¥ä½œæµå°†æ²¿é€‚å½“çš„è·¯å¾„æ¢å¤ã€‚è¿™é‡Œçš„æƒ³æ³•æ˜¯æ‚¨çš„åº”ç”¨ç¨‹åºå°†ä½¿ç”¨é€‰å®šçš„æ“ä½œè§¦å‘å·¥ä½œæµã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  ä¾‹å¦‚ï¼Œè¿™å¯ä»¥è¡¨ç¤ºä¸ºä¸€ç»„ç®€å•çš„æŒ‰é’®ã€‚ç”±æ‚¨çš„åº”ç”¨ç¨‹åºå†³å®šå¦‚ä½•å‘ˆç°è¿™äº›æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  &lt;strong&gt;5. ç‰ˆæœ¬æ§åˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  æ¯ä¸ªå·¥ä½œæµç¨‹å®šä¹‰éƒ½æ˜¯ç‰ˆæœ¬åŒ–çš„ã€‚å‘å¸ƒå·¥ä½œæµç¨‹çš„æ–°ç‰ˆæœ¬æ—¶ï¼Œå…¶ç‰ˆæœ¬å·ä¼šå¢åŠ ã€‚ç°æœ‰å·¥ä½œæµç¨‹å®ä¾‹ä»å°†ä½¿ç”¨å·¥ä½œæµç¨‹å®šä¹‰çš„å…ˆå‰ç‰ˆæœ¬ï¼Œä½†æ–°å·¥ä½œæµç¨‹å°†ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚Â  Â &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  6. æŒä¹…åŒ–æ”¯æŒ&lt;/strong&gt;&lt;/p&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li&gt;
&lt;p&gt;CosmosDB (DocumentDB)&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Entity Framework Coreï¼šå„ç±»å…³ç³»å‹æ•°æ®åº“ï¼Œæ”¯æŒSQLServer&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;Memoryï¼šNon-persistent, use only for tests and/or short-lived workflows.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MongoDB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YesSQL&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Â  Â  7. è¡¨è¾¾å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â  Â å·¥ä½œæµæ´»åŠ¨å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼å¯ä»¥ç‚¸è¿è¡Œæ—¶æ‰§è¡Œï¼Œä½¿ç”¨è¡¨è¾¾å¼å¯ä»¥å¼•ç”¨å…¶ä»–æ´»åŠ¨äº§ç”Ÿçš„å€¼ã€‚Elsaæ”¯æŒä»¥ä¸‹ä¸‰ç§ç±»ä¼¼çš„è¡¨è¾¾å¼ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â &lt;strong&gt;Â Â æ–‡å­—è¡¨è¾¾å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â  Â æ–‡å­—è¡¨è¾¾å¼ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„è§£é‡Šï¼Œå½“ä½ éœ€è¦è®¾ç½®ï¼Œæ— éœ€è¿è¡Œæ—¶è®¡ç®—æ´»åŠ¨å±æ€§çš„å€¼æ‰ä¼šè¢«ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â &lt;strong&gt;Â Â JavaScriptè¡¨è¾¾å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â  Â å½“ä½ éœ€è¦è®¡ç®—ä¸€äº›æ•°å€¼æˆ–è¯»å–å·¥ä½œæµç¨‹ä¸­çš„è¿‡ç¨‹å€¼æ—¶é€šå¸¸ä½¿ç”¨JavaScriptè¡¨è¾¾å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Â  Â  Â  Â  Â æ¶²ä½“è¡¨è¾¾å¼ï¼ˆè¿™ä¸ªåå­—å¾ˆå¥‡æ€ªï¼Œç›®å‰è¿˜åœ¨ç ”ç©¶ä¸­ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â  Â  Â å½“ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªHTTPè¯·æ±‚ï¼ŒHTTPå“åº”çš„è®¡ç®—é€šå¸¸ä½¿ç”¨æµå¼è¡¨è¾¾å¼ï¼Œæˆ–ä¾‹å¦‚å…¶ä¸­ä¸»ä½“è¢«æ ‡è®°ä½¿ç”¨æ¶²ä½“å‘é€ç”µå­é‚®ä»¶æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  &lt;span&gt;Â  ä¸‰ã€äº§å“æ‰©å±•èƒ½åŠ›&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Elsaçš„æœ€é‡è¦å’Œæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯å…¶å¯æ‰©å±•æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. å·¥ä½œæµæ´»åŠ¨&lt;/strong&gt;&lt;br/&gt;è®¸å¤šè¿‡ç¨‹æ˜¯ç‰¹å®šä¸šåŠ¡é¢†åŸŸçš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿä½¿ç”¨ä»£è¡¨ä¸šåŠ¡é¢†åŸŸçš„ç‰¹å®šè¯­è¨€çš„ä¸€ç»„æ´»åŠ¨æ¥åˆ›å»ºå·¥ä½œæµæ˜¯ä¸€é¡¹å¼ºå¤§çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ç‰¹å®šé¢†åŸŸçš„æ´»åŠ¨æ‰©å±•Elsaéå¸¸ç®€å•ã€‚åªéœ€å®ç°ä¸€ä¸ªç»§æ‰¿è‡ªCï¼ƒçš„Cï¼ƒç±»ï¼ŒActivityå¹¶åœ¨æœåŠ¡å®¹å™¨ä¸­æ³¨å†Œå®ƒï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚æ´»åŠ¨å°†åœ¨å·¥ä½œæµè®¾è®¡å™¨ä¸­è‡ªåŠ¨å˜ä¸ºå¯ç”¨ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹å…¶æ‰€æœ‰å…¬å…±å±æ€§éƒ½æ˜¯å¯ç¼–è¾‘çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æŒä¹…åŒ–æ‰©å±•&lt;/strong&gt;&lt;br/&gt;Elsaé™„å¸¦äº†è®¸å¤šæŒä¹…æ€§æä¾›ç¨‹åºï¼Œä¾‹å¦‚å†…å­˜ï¼ŒEF Coreï¼ŒMongoDBï¼ŒYesSQLå’ŒCosmosDBã€‚å°½ç®¡è¿™äº›æä¾›ç¨‹åºåº”æ»¡è¶³æœ€å¸¸è§çš„éœ€æ±‚ï¼Œä½†å½“ç„¶ä¸é™äºè¿™äº›ã€‚å®ç°IWorkflowDefinitionStoreä¸ºå·¥ä½œæµå®šä¹‰æä¾›å®šåˆ¶å­˜å‚¨ï¼Œå¹¶å®ç°IWorkflowInstanceStoreä¸ºå·¥ä½œæµå®ä¾‹æä¾›å®šåˆ¶å­˜å‚¨ã€‚è¯·æ³¨æ„ï¼Œç”¨æˆ·å¯ä»¥æ··åˆå’ŒåŒ¹é…ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥ä¾‹å¦‚å°†EntityFrameworkCoreWorkflowDefinitionStoreforç”¨äºå·¥ä½œæµå®šä¹‰``ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. JavaScriptå‡½æ•°&lt;/strong&gt;&lt;br/&gt;JavaScriptè¡¨è¾¾å¼é™„å¸¦äº†ä¸€äº›æ‚¨å¯èƒ½ç»å¸¸ä½¿ç”¨çš„æœ‰ç”¨çš„JavaScriptå‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå®ƒå…è®¸æ‚¨ä»å·¥ä½œæµç¨‹ä¸­è¯»å–å˜é‡å¹¶å¼•ç”¨æ´»åŠ¨è¾“å‡ºå€¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å‘ç°è‡ªå·±éœ€è¦å…¶ä»–åŠŸèƒ½ï¼Œåˆ™å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»æ‚¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­æ‰©å±•åŠŸèƒ½é›†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. æ¶²ä½“è¡¨è¾¾å¼&lt;/strong&gt;&lt;br/&gt;Liquidè¡¨è¾¾å¼è¿˜é™„å¸¦äº†ä¸€äº›å¯èƒ½ç»å¸¸ä½¿ç”¨çš„æœ‰ç”¨è¿‡æ»¤å™¨ã€‚ä¾‹å¦‚ï¼Œå®ƒå…è®¸æ‚¨ä»å·¥ä½œæµç¨‹ä¸­è¯»å–å˜é‡å¹¶å¼•ç”¨æ´»åŠ¨è¾“å‡ºå€¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å‘ç°è‡ªå·±éœ€è¦å…¶ä»–åŠŸèƒ½ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä»æ‚¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­æ‰©å±•è¿‡æ»¤å™¨é›†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. è¡¨è¾¾å¼è§£ææ‰§è¡Œ&lt;/strong&gt;&lt;br/&gt;ä¹Ÿè®¸JavaScriptå’ŒLiquidè¿˜ä¸å¤Ÿå¥½ï¼Œå¯ä»¥ä½¿ç”¨ç”¨Cï¼ƒï¼ŒVBScriptæˆ–Pythonç¼–å†™è¡¨è¾¾å¼ã€‚åªéœ€å®ç°æ‚¨è‡ªå·±çš„ç‰ˆæœ¬IExpressionEvaluatorï¼Œå³å¯åœ¨æœåŠ¡å®¹å™¨ä¸­æ³¨å†Œå®ƒï¼Œå³å¯åœ¨ä»»ä½•æ´»åŠ¨ä¸­ä½¿ç”¨è‡ªå®šä¹‰è¯„ä¼°ç¨‹åºè¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  å››ã€ä¸Windows Workflow Foundationå¯¹æ¯”&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;Â  Â  ç›®å‰ï¼Œå¾®è½¯å·²ç»åœæ­¢æ›´æ–°å‘å±• Windows Workflow Foundationï¼ŒåŒæ—¶æŠ€æœ¯ç¤¾åŒºä¹Ÿåœ¨åŠªåŠ›åšWF to .NET Standard, ä½†æ˜¯elsaæœ‰ä»¥ä¸‹2ç‚¹ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Elsa intrinsically supports triggering events that starts new workflows and resumes halted workflow instances in an easy to use manner. E.g. workflowHost.TriggerWorkflowAsync(&quot;HttpRequestTrigger&quot;);&quot;will start and resume all workflows that either start with or are halted on the HttpRequestTrigger.Elsa has a web-based workflow designer. I once worked on a project for a customer that was building a huge SaaS platform.&lt;/li&gt;
&lt;li&gt;One of the requirements was to provide a workflow engine and a web-based editor.Although there are commercial workflow libraries and editors out there, the business model required open-source software. We used WF and the re-hosted Workflow Designer. It worked, but it wasn't great.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  äº”ã€æºä»£ç ç¼–è¯‘æ„å»º&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  é¡¹ç›®æºä»£ç åœ°å€ï¼š&lt;a class=&quot;external-link&quot; href=&quot;https://github.com/elsa-workflows/elsa-core&quot; rel=&quot;nofollow&quot;&gt;https://github.com/elsa-workflows/elsa-core&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  é€šè¿‡VS2019ï¼Œä½¿ç”¨å…‹éš†çš„æ–¹å¼ï¼Œå°†ä»£ç å…‹éš†åˆ°æœ¬åœ°ç¼–è¯‘æ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/23525/202101/23525-20210101215815808-388953656.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â  Â é¡¹ç›®ä½¿ç”¨äº†Angularï¼Œåœ¨è°ƒè¯•è¿è¡Œå‰ï¼Œæœ¬åœ°éœ€è¦å®ŒæˆNPMåŒ…å®‰è£…å’ŒJS ç¼–è¯‘ï¼Œæ‰€ä»¥æœ¬åœ°éœ€è¦å…ˆå®‰è£…NodeJS&lt;/p&gt;
&lt;p&gt;Â  Â åˆ‡æ¢åˆ°XX\src\dashboard\Elsa.Dashboard\Theme\argon-dashboard, æ‰§è¡ŒNPM InstallÂ  Â  Â  Â &lt;/p&gt;
&lt;p&gt;Â  Â å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°Pythonç›¸å…³çš„ç»„ä»¶å’Œç¯å¢ƒå˜é‡é…ç½®ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå®‰è£…å¤±è´¥ï¼Œå‡ºç°å¼‚å¸¸ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â checking for Python executable &quot;python2&quot; in the PATH Can't find Python executable &quot;python2.7&quot;, you can set the PYTHON env variable.&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â æ­¤æ—¶ï¼Œå…ˆåˆ é™¤deleteÂ &lt;code&gt;node_modulesæ–‡ä»¶å¤¹&lt;/code&gt;ï¼Œ ç„¶åæ‰§è¡Œï¼šÂ &lt;code&gt;npm install --global windows-build-tools&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â pythonç»„ä»¶å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
npm config set python C:\Users\zhougq\.windows-build-tools\python27\python.exe
 
npm install
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/23525/202101/23525-20210101215953596-1827349407.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â NPM InstallæˆåŠŸåï¼Œåœ¨ç›®å½•src\dashboard\Elsa.Dashboard\Theme\argon-dashboardä¸‹æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š&lt;strong&gt;gulp build&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/23525/202101/23525-20210101220007312-723124667.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â æ­¤æ—¶elsa Dashboardå‰ç«¯é¡¹ç›®å…¨éƒ¨ç¼–è¯‘é€šè¿‡ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥å¯ä»¥é€šè¿‡ï¼š&lt;/p&gt;
&lt;p&gt;VSï¼šElsa.Dashboard.Web é¡¹ç›®å·¥ç¨‹è°ƒå¼&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨Elsa.Dashboard.Webæ–‡ä»¶ä»¶ä¸‹è¿è¡Œ&lt;code&gt;dotnet run&lt;/code&gt;.Â &lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®ï¼š&lt;a class=&quot;external-link&quot; href=&quot;http://localhost:22174/elsa/home&quot; rel=&quot;nofollow&quot;&gt;http://localhost:port/elsa/home&lt;/a&gt;ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†elsaäº†ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šæ˜¯å¯¹elsaçš„åˆæ­¥ç ”ç©¶ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;

&lt;p&gt;å‘¨å›½åº†&lt;/p&gt;
&lt;p&gt;2021/1/1&lt;/p&gt;

</description>
<pubDate>Fri, 01 Jan 2021 14:02:00 +0000</pubDate>
<dc:creator>Eric zhou</dc:creator>
<og:description>ä»Šå¤©å‡æœŸç¬¬ä¸€å¤©ï¼Œç ”ç©¶äº†.NET 5å¼€æºå·¥ä½œæµæ¡†æ¶elsaï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ã€‚ ä¸€ã€æ¡†æ¶ç®€ä»‹ elsaæ˜¯ä¸€ä¸ªå¼€æºçš„.NET Standard å·¥ä½œæµæ¡†æ¶ï¼Œå®˜æ–¹ç½‘ç«™ï¼šhttps://elsa-workflo</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/tianqing/p/14221030.html</dc:identifier>
</item>
<item>
<title>51 å¼ å›¾åŠ©ä½ å½»åº•æŒæ¡ HTTP! - ErnestEvan</title>
<link>http://www.cnblogs.com/xiekun/p/14221020.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/xiekun/p/14221020.html</guid>
<description>&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;å‰è¨€&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè¯´ TCP/IP åè®®æ˜¯äº’è”ç½‘é€šä¿¡çš„æ ¹åŸºï¼Œé‚£ä¹ˆ HTTP å°±æ˜¯å…¶ä¸­å½“ä¹‹æ— æ„§çš„ç‹è€…ï¼Œå°åˆ°æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ¸¸æˆï¼Œæ–°é—»ï¼Œå¤§åˆ°åŒåä¸€ç§’æ€ç­‰éƒ½èƒ½çœ‹åˆ°å®ƒçš„èº«å½±ï¼Œæ® NetCraft ç»Ÿè®¡ï¼Œç›®å‰å…¨çƒè‡³å°‘æœ‰ 16 äº¿ä¸ªç½‘ç«™ã€2 äº¿å¤šä¸ªç‹¬ç«‹åŸŸåï¼Œè€Œè¿™ä¸ªåºå¤§ç½‘ç»œä¸–ç•Œçš„åº•å±‚è¿è½¬æœºåˆ¶å°±æ˜¯ HTTPï¼Œå¯ä»¥æ¯«ä¸å¤¸å¼ çš„è¯´ï¼Œæ—  HTTP ä¸é€šä¿¡ï¼&lt;/p&gt;
&lt;blockquote class=&quot;multiquote-1&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;6&quot;&gt;
&lt;p&gt;ç”»å¤–éŸ³: TCP/IP åè®®ç¾¤å¦‚ä¸‹, IP ä¸æ˜¯ IP åœ°å€ï¼Œæ˜¯ Internet Protocol çš„ç®€ç§° &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e840892b61940d3901ebb82e89ff3b0~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP åº”ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œæˆ‘ä»¬ç¡®å®å¿…è¦å¥½å¥½å­¦ä¹ ä¸‹å®ƒï¼Œä¸ä»…æœ‰åŠ©äºæˆ‘ä»¬ç†è§£å’Œè§£é‡Šå·¥ä½œä¸­çš„å¼ºåˆ¶åˆ·æ–°ï¼Œé˜²ç›—é“¾ç­‰ç°è±¡å’ŒåŸç†ï¼Œè¿˜è®©æˆ‘ä»¬åœ¨è®¾è®¡å¼€æºä¸­é—´ä»¶æ—¶ä¼šæœ‰æ‰€å¯å‘ï¼Œæ¯”å¦‚åœ¨è®¾è®¡ MQ, Dubbo è¿™äº›ç»„ä»¶æ—¶ï¼Œç¬¬ä¸€è¦åŠ¡å°±æ˜¯è¦è®¾è®¡åè®®ï¼Œåœ¨å…¶ä¸­ä½ æˆ–å¤šæˆ–å°‘èƒ½çœ‹åˆ° HTTP åè®®çš„å½±å­ï¼Œå­¦ä¹ äº† HTTP èƒ½è®©ä½ åœ¨è®¾è®¡ä¸­é—´ä»¶ç­‰ç»„ä»¶åè®®æ—¶ï¼Œæä¾›å¾ˆå¥½çš„æ€è·¯&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡å°†ä¼šå…¨é¢å‰–æ HTTP çš„è®¾è®¡ç†å¿µï¼ŒåŠ©ä½ å½»åº•æŒæ¡ HTTPï¼Œç›¸ä¿¡çœ‹å®Œä»¥ä¸‹é—®é¢˜ä½ ä¼šæ‰‹åˆ°æ“’æ¥ï¼&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;ä»€ä¹ˆæ˜¯ HTTPï¼Œå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œä¸ºä»€ä¹ˆè¯´ HTTP æ˜¯ä¸‡èƒ½çš„&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ä¸ºä»€ä¹ˆè¯´åçˆ¬æ˜¯ä¸ªä¼ªå‘½é¢˜&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç®€è¦ä»‹ç»ä¸€ä¸‹ HTTP 0.9, 1.1, 2.0, 3.0 çš„ç‰¹ç‚¹&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æ›¾ç»åœ¨æˆ‘å¸æœ‰ä¸€ä½åŒäº‹åœ¨å¤§ç¾¤é‡ŒæŠ›äº†ä¸€ä¸ªé—®é¢˜ï¼šåœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥å›¾ç‰‡ urlï¼Œæƒ³é¢„è§ˆä¸€ä¸‹å›¾ç‰‡ï¼Œç»“æœå´å˜æˆäº†ä¸‹è½½å›¾ç‰‡ï¼Œä½ èƒ½æ›¿ä»–è§£é‡Šä¸€ä¸‹å…¶ä¸­çš„åŸå› å—&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;DNS åè®®äº†è§£å¤šå°‘ï¼Œä»€ä¹ˆæ˜¯ DNS è´Ÿè½½å‡è¡¡&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;HTTP 1.1 å”¯ä¸€ä¸€ä¸ªè¦æ±‚è¯·æ±‚å¤´å¿…ä¼ çš„å­—æ®µæ˜¯å“ªä¸ªï¼Œå®ƒæœ‰ä»€ä¹ˆä½œç”¨&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;no-cache çœŸçš„æ˜¯ä¸ç¼“å­˜çš„æ„æ€ï¼Ÿä½ å¯¹ HTTP çš„ç¼“å­˜äº†è§£å¤šå°‘&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ä¸ºä»€ä¹ˆåˆ·æ–°äº†æµè§ˆå™¨å™¨å´æŠ“ä¸åˆ°è¯·æ±‚ï¼Œè€Œå¼ºåˆ¶åˆ·æ–°å´å¯ä»¥æŠ“åˆ°ï¼Œå¼ºåˆ¶åˆ·æ–°åˆ°åº•åšäº†ä»€ä¹ˆäº‹&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;301 å’Œ 302 çš„åŒºåˆ«æ˜¯å•¥&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å„ç§åè®®ä¸ HTTP çš„å…³ç³»&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;è€ç”Ÿå¸¸è°ˆå¾ˆå¤šäººçš„è¯¯è§£ï¼šGET å’Œ POST çš„åŒºåˆ«æ˜¯å•¥&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡å°†ä¼šä»ä»¥ä¸‹å‡ ç‚¹æ¥å±•å¼€é˜è¿° HTTP&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;ä»€ä¹ˆæ˜¯ HTTP&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP å…¨ç§° &lt;strong&gt;H&lt;/strong&gt;yper&lt;strong&gt;T&lt;/strong&gt;ext &lt;strong&gt;T&lt;/strong&gt;ransfer &lt;strong&gt;P&lt;/strong&gt;rotocolã€Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€,æ‹†æˆä¸‰ä¸ªéƒ¨åˆ†æ¥çœ‹ï¼Œå³ã€Œè¶…æ–‡æœ¬ã€,ã€Œä¼ è¾“ã€,ã€Œåè®®ã€&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f270c9a8848d40349fb5eed90f3d2412~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¶…æ–‡æœ¬&lt;/strong&gt;ï¼šå³ã€Œè¶…è¶Šäº†æ™®é€šæ–‡æœ¬çš„æ–‡æœ¬ã€ï¼Œå³éŸ³è§†é¢‘ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶çš„æ··åˆä½“ï¼Œå¤§å®¶å¸¸è§çš„ç½‘é¡µå¾ˆå¤šå°±å†…åµŒäº† img, video è¿™äº›æ ‡ç­¾è§£æå±•ç°è€Œæˆçš„å›¾ç‰‡ï¼Œè§†é¢‘ç­‰ï¼Œé™¤äº†è¿™äº›è¶…æ–‡æœ¬å†…å®¹å¤–ï¼Œæœ€å…³é”®çš„æ˜¯è¶…æ–‡æœ¬ä¸­å«æœ‰&lt;strong&gt;è¶…é“¾æ¥&lt;/strong&gt;ï¼Œè¶…é“¾æ¥æ„å‘³ç€ç½‘é¡µç­‰æ–‡ä»¶å†…å®¹çš„è¶…æ–‡æœ¬ä¸Šå¯ä»¥ç‚¹å‡»é“¾æ¥åˆ°å…¶ä»–é¡µé¢ä¸Šï¼Œäº’è”ç½‘å°±æ˜¯é€šè¿‡è¿™æ ·çš„è¶…é“¾æ¥æ„æˆçš„ã€‚ &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d9ff53eed474ba6b1f235231aee5f10~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;è¶…é“¾æ¥&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¼ è¾“&lt;/strong&gt;: ä¼ è¾“æ„å‘³ç€è‡³å°‘æœ‰ä¸¤ä¸ªå‚ä¸è€…ï¼Œæ¯”å¦‚ Aï¼ŒBï¼Œè¿™æ„å‘³ç€ HTTP åè®®æ˜¯ä¸ªåŒå‘åè®®ï¼Œä¸€èˆ¬æ˜¯å°†ã€Œè¶…æ–‡æœ¬ã€æŒ‰ç…§çº¦å®šçš„åè®®ä»¥äºŒè¿›åˆ¶æ•°æ®åŒ…çš„å½¢å¼ä» A ä¼ åˆ° B æˆ– B ä¼ åˆ° Aï¼Œ A &amp;lt;===&amp;gt; Bï¼Œæˆ‘ä»¬æŠŠå‘èµ·è¯·æ±‚çš„å«è¯·æ±‚æ–¹ï¼Œæ¥åˆ°è¯·æ±‚åè¿”å›æ•°æ®çš„é‚£ä¸€æ–¹ç§°ä¸ºåº”ç­”æ–¹ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ä¼ è¾“ä¹Ÿä¸é™äºä¸¤ä¸ªå‚ä¸è€…ï¼Œ&lt;strong&gt;å…è®¸ä¸­é—´æœ‰ä¸­è½¬æˆ–è€…æ¥åŠ›&lt;/strong&gt;ï¼Œåªè¦å‚ä¸è€…é—´éµå¾ªçº¦å®šçš„åè®®å³å¯ä¼ è¾“ã€‚ &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/743f1249408f4a3189c1d9bb58cef4b7~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;strong&gt;å¦‚å›¾ç¤ºï¼šä¼ è¾“å¯ä»¥æœ‰å¤šä¸ªå‚ä¸è€…ï¼Œåªè¦éµå¾ªç›¸åº”çš„åè®®å³å¯&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åè®®&lt;/strong&gt;ï¼šHTTP æ˜¯ä¸€ä¸ªåè®®ï¼Œå•¥æ˜¯åè®®ï¼Ÿåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­åè®®å¹¶ä¸å°‘è§ï¼Œæ¯”å¦‚æˆ‘ä»¬ç§Ÿæˆ¿æ—¶ç­¾è®¢çš„ç§Ÿæˆ¿åè®®ï¼Œå…¥èŒåå’Œä¼ä¸šç­¾è®¢çš„åŠ³åŠ¨åˆåŒåè®®ï¼Œã€Œåã€æ„å‘³ç€è‡³å°‘æœ‰ä¸¤äººå‚ä¸ï¼Œã€Œè®®ã€æ„å‘³ç€åŒæ–¹è¦å°±æŸé¡¹æ¡æ¬¾è¾¾æˆä¸€è‡´ï¼Œæ¯”å¦‚ç§Ÿæˆ¿åè®®è§„å®šæœˆä»˜ xx å…ƒï¼ŒåŠ³åŠ¨åˆåŒåè®®è§„å®šæœˆå·¥èµ„ xx å…ƒï¼Œåè®®å³å¯¹é€šä¿¡åŒæ–¹çš„çº¦æŸï¼ŒåŒæ–¹æŒ‰ç…§çº¦å®šä¼ è¾“æ•°æ®æ‰èƒ½è¿›è¡Œæ˜ç™½å¯¹æ–¹çš„æ„æ€ï¼Œå¦åˆ™ä¾¿æ˜¯é¸¡åŒé¸­è®²ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡ä»¥ä¸Šè§£é‡Šï¼Œæˆ‘ä»¬å¯ä»¥ç»™ HTTP ä¸‹ä¸€ä¸ªæ¯”è¾ƒå‡†ç¡®çš„å®šä¹‰äº†:&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;HTTP æ˜¯ä¸€ä¸ªåœ¨è®¡ç®—æœºä¸–ç•Œé‡Œä¸“é—¨åœ¨ä¸¤ç‚¹ä¹‹é—´ä¼ è¾“æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰è¶…æ–‡æœ¬æ•°æ®çš„çº¦å®šå’Œè§„èŒƒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;ä¸ HTTP ç›¸å…³çš„å„ç§åè®®&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP è™½ç„¶åœ¨å½“ä»Šäº’è”ç½‘é€šä¿¡ä¸­å æ®ç»Ÿè®¡åœ°ä½ï¼Œä½†è¦è®©å®ƒç”Ÿæ•ˆè¿˜å¿…é¡»ä¾èµ–å…¶ä»–åè®®æˆ–è§„èŒƒçš„æ”¯æŒ&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;1. URI å’Œ URL&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæ—¢ç„¶æˆ‘ä»¬è¦åœ¨ä¸¤ç‚¹ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬ï¼Œé‚£è¿™ä¸ªè¶…æ–‡æœ¬è¯¥æ€ä¹ˆè¡¨ç¤ºï¼Ÿè¶…æ–‡æœ¬å³èµ„æºï¼Œäº’è”ç½‘ä¸Šèµ„æºè¿™ä¹ˆå¤šï¼Œå¦‚ä½•&lt;strong&gt;å”¯ä¸€æ ‡è®°&lt;/strong&gt;äº’è”ç½‘ä¸Šçš„èµ„æºã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ URIï¼ˆ&lt;strong&gt;U&lt;/strong&gt;niform &lt;strong&gt;R&lt;/strong&gt;esource &lt;strong&gt;I&lt;/strong&gt;dentifierï¼‰ å³&lt;strong&gt;ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦&lt;/strong&gt;å°±å¯ä»¥å”¯ä¸€å®šä½äº’è”ç½‘ä¸Šçš„èµ„æºã€‚URI å¤§å®¶æ¯”è¾ƒå°‘å¬è¿‡ï¼Œå¤§å®¶æ›´ç†Ÿæ‚‰çš„å¯èƒ½æ˜¯ URLï¼ˆ&lt;strong&gt;U&lt;/strong&gt;niform &lt;strong&gt;R&lt;/strong&gt;esource &lt;strong&gt;L&lt;/strong&gt;ocatorï¼‰ï¼Œå³ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ŒURL å…¶å®æ˜¯ URI çš„ä¸€ç§å­é›†ï¼ŒåŒºåˆ«å°±æ˜¯&lt;strong&gt;URI å®šä¹‰èµ„æºï¼Œè€Œ URL ä¸å•å®šä¹‰è¿™ä¸ªèµ„æºï¼Œè¿˜å®šä¹‰äº†å¦‚ä½•æ‰¾åˆ°è¿™ä¸ªèµ„æºã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;URL ä¸»è¦ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼šåè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/660f36af4331458eab61133e31c14718~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åè®®&lt;/strong&gt;ï¼šå³é€šä¿¡åŒæ–¹æŒ‡å®šçš„ä¼ è¾“åè®®ï¼Œåº”ç”¨æœ€å¹¿çš„å½“ç„¶æ˜¯æœ¬æ–‡è¦ä»‹ç»çš„ http åè®®ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ ftp, mailtoï¼Œfile ç­‰åè®®ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸»æœºå&lt;/strong&gt;ï¼šå­˜æ”¾èµ„æºçš„æœåŠ¡å™¨ä¸»æœºåæˆ– IP åœ°å€ï¼Œå½“å‰æœ‰æ—¶å€™æœåŠ¡å™¨ç”±äºå®‰å…¨åŸå› è¿˜éœ€è¦å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œéœ€è¦æä¾›ç”¨æˆ·åå’Œå¯†ç ï¼Œæ­¤æ—¶éœ€è¦åœ¨ hostnameå‰åŠ  username:passwordã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç«¯å£&lt;/strong&gt;ï¼šæ•´æ•°ï¼Œå¯é€‰ï¼Œçœç•¥æ—¶ä½¿ç”¨æ–¹æ¡ˆçš„é»˜è®¤ç«¯å£ï¼Œå„ç§ä¼ è¾“åè®®éƒ½æœ‰é»˜è®¤çš„ç«¯å£ï¼Œå¦‚ HTTP é»˜è®¤ç”¨çš„ 80 ç«¯å£ï¼ŒHTTPS ç”¨çš„ 443 ç«¯å£ï¼Œä¼ è¾“å±‚åè®®æ­£æ˜¯åˆ©ç”¨è¿™äº›ç«¯å£å·è¯†åˆ«æœ¬æœºä¸­æ­£åœ¨è¿›è¡Œé€šä¿¡çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å‡†ç¡®åœ°å°†æ•°æ®ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è·¯å¾„&lt;/strong&gt;ï¼šå³èµ„æºåœ¨ä¸»æœºä¸Šçš„å­˜æ”¾è·¯å¾„ï¼Œä¸€èˆ¬è¡¨ç¤ºä¸»æœºçš„ç›®å½•æˆ–æ–‡ä»¶åœ°å€&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;parameter&lt;/strong&gt;ï¼šç”¨äºæŒ‡å®šç‰¹æ®Šå‚æ•°çš„å¯é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;query&lt;/strong&gt;ï¼šæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼Œç”¨äºç»™åŠ¨æ€ç½‘é¡µæˆ–æ¥å£ä¼ é€’å‚æ•°ï¼Œå¯æœ‰å¤šä¸ªå‚æ•°ï¼Œç”¨â€œ&amp;amp;â€ç¬¦å·éš”å¼€ï¼Œæ¯ä¸ªå‚æ•°çš„åå’Œå€¼ç”¨â€œ=â€ç¬¦å·éš”å¼€ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;fragment&lt;/strong&gt;ï¼šæµè§ˆå™¨ä¸“ç”¨ï¼Œç”¨äºæŒ‡å®šç½‘ç»œèµ„æºä¸­çš„ç‰‡æ–­ï¼ŒæŒ‡å®šåæ‰“å¼€ç½‘é¡µå¯ç›´æ¥å®šä½åˆ° fragment å¯¹åº”çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾‹å­å¦‚ä¸‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9077cf1949fd4444b42d955873120a65~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;2. TCP/IP åè®®&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šè¿° URL åœ°å€ä¸­ï¼Œå¦‚æœä½ æŒ‡å®šäº†ã€Œwww.example.com ã€ è¿™æ ·çš„ä¸»æœºåï¼Œæœ€ç»ˆä¼šè¢« DNS è§£ææˆ IP åœ°å€ç„¶åæ‰å¼€å§‹é€šä¿¡ï¼Œä¸ºå•¥ä¸»æœºåæœ€ç»ˆè¦è¢«è§£ææˆ IP åœ°å€æ‰èƒ½é€šä¿¡å‘¢ï¼Œå› ä¸º HTTP åè®®ä½¿ç”¨çš„æ˜¯ TCP/IP åè®®æ ˆï¼Œåè®®æ ˆå°±æ˜¯è¿™æ ·è§„å®šçš„ï¼Œä¸€èµ·æ¥çœ‹çœ‹ TCP/IP åè®®æ ˆå„å±‚çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e95ff70547cd460dab06f43078e0f66e~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;TCP/IPåè®®æ ˆ&quot;/&gt;TCP/IPåè®®æ ˆ
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;TCP/IP åè®®æ ˆæ€»å…±æœ‰å››å±‚&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;link layer: é“¾æ¥å±‚ï¼Œè´Ÿè´£åœ¨ä»¥å¤ªç½‘ï¼ŒWIFI è¿™æ ·çš„åº•å±‚ç½‘ç»œä¸Šå‘é€åŸå§‹æ•°æ®åŒ…ï¼Œå·¥ä½œåœ¨ç½‘å¡è¿™ä¸€å±‚ï¼Œä½¿ç”¨ MAC åœ°å€æ¥æ ‡è®°ç½‘ç»œä¸Šçš„è®¾å¤‡ï¼Œæ‰€ä»¥ä¹Ÿå« MAC å±‚&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;Internet layer: ç½‘ç»œå±‚ï¼ŒIP åè®®å³å¤„äºè¿™ä¸€å±‚ï¼Œæä¾›è·¯ç”±å’Œå¯»å€çš„åŠŸèƒ½ï¼Œä½¿ä¸¤ç»ˆç«¯ç³»ç»Ÿèƒ½å¤Ÿäº’è¿ä¸”å†³å®šæœ€ä½³è·¯å¾„ï¼Œä¸¦å…·æœ‰ä¸€å®šçš„æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„èƒ½åŠ›ã€‚ç›¸å½“äºä¼ é€é‚®ä»¶æ—¶éœ€è¦åœ°å€ä¸€èˆ¬é‡è¦&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;transport layer: ä¼ è¾“å±‚ï¼Œè¯¥å±‚çš„åè®®ä¸ºåº”ç”¨è¿›ç¨‹æä¾›ç«¯åˆ°ç«¯çš„&lt;strong&gt;é€šä¿¡æœåŠ¡&lt;/strong&gt;ï¼Œè¿™å±‚ä¸»è¦æœ‰ TCPï¼ŒUDP ä¸¤ä¸ªåè®®ï¼ŒTCP æä¾›é¢å‘è¿æ¥çš„æ•°æ®æµæ”¯æŒã€å¯é æ€§ã€æµé‡æ§åˆ¶ã€å¤šè·¯å¤ç”¨ç­‰æœåŠ¡ï¼ŒUDPä¸æä¾›å¤æ‚çš„æ§åˆ¶æœºåˆ¶ï¼Œåˆ©ç”¨ IP æä¾›é¢å‘æ— è¿æ¥çš„ç®€å•æ¶ˆæ¯ä¼ è¾“&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;application layer: å³åº”ç”¨å±‚ï¼Œå‰é¢ä¸‰å±‚å·²ç»ä¸ºç½‘ç»œé€šä¿¡æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ï¼Œè¿™å±‚å¯å‘æŒ¥çš„ç©ºé—´å°±å¤§å¾ˆå¤šäº†ï¼Œåº”ç”¨å±‚åè®®å¯ä»¥æƒ³è±¡ä¸ºä¸åŒçš„æœåŠ¡ï¼Œæ¯ä¸ªåº”ç”¨å±‚åè®®éƒ½æ˜¯ä¸ºäº†è§£å†³æŸä¸€ç±»åº”ç”¨é—®é¢˜è€Œç”Ÿçš„ï¼Œæ¯ä¸€ä¸ªæœåŠ¡éœ€è¦ç”¨ä¸åŒçš„åè®®ï¼Œè§„å®šåº”ç”¨è¿›ç¨‹åœ¨é€šä¿¡æ—¶æ‰€éµå¾ªçš„åè®®ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢ä¸‰å±‚è®¤ä¸ºæ˜¯é«˜é€Ÿå…¬è·¯çš„åŸºç¡€è®¾æ–½ï¼Œè‡³äºè¦ä¼ ä»€ä¹ˆè´§ç‰©ï¼Œé«˜é€Ÿå…¬è·¯æ˜¯å¦è¦å…³é—­ç­‰åˆ™ç”±åº”ç”¨å±‚å†³å®šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ©ç”¨ TCP/IP åè®®æ—è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶ï¼Œä¼šé€šè¿‡åˆ†å±‚é¡ºåºä¸å¯¹æ–¹è¿›è¡Œé€šä¿¡ã€‚æ¯ä¸ªåˆ†å±‚ä¸­ï¼Œéƒ½ä¼šå¯¹æ‰€å‘é€çš„æ•°æ®é™„åŠ ä¸€ä¸ªé¦–éƒ¨ï¼Œåœ¨è¿™ä¸ªé¦–éƒ¨ä¸­åŒ…å«äº†è¯¥å±‚å¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚å‘é€çš„ç›®æ ‡åœ°å€ä»¥åŠåè®®ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4966684abdd74ad989d233de9b311260~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥æ”¶æ–¹æ”¶åˆ°æ•°æ®åï¼ŒåŒæ ·çš„ï¼Œæ¯ä¸€å±‚ä¹Ÿä¼šè§£æå…¶é¦–éƒ¨å­—æ®µï¼Œç›´åˆ°åº”ç”¨å±‚æ”¶åˆ°ç›¸åº”çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02296e08700942119bb1372ce4d81702~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;å›¾ç‰‡æ¥è‡ªæ–‡æœ«å‚è€ƒé“¾æ¥&quot;/&gt;å›¾ç‰‡æ¥è‡ªæ–‡æœ«å‚è€ƒé“¾æ¥
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¿™æ ·åˆ†å±‚çš„æ–¹å¼ï¼Œæ¯ä¸ªå±‚å„å¸å…¶èŒï¼Œåªè¦ç®¡å¥½è‡ªå·±çš„å·¥ä½œå³å¯ï¼Œå¯æ‰©å±•æ€§å¾ˆå¥½ï¼Œæ¯”å¦‚å¯¹äº HTTP æ¥è¯´ï¼Œå®ƒåº•å±‚å¯ä»¥ç”¨ TCPï¼Œä¹Ÿå¯ä»¥ç”¨ UDP æ¥ä¼ è¾“ï¼Œå“ªå¤©å¦‚æœå†å‡ºç°äº†æ›´ç‰›é€¼çš„åè®®ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢ä¹‹ï¼Œä¸å½±å“ä¸Šä¸‹å±‚ï¼Œè¿™å°±æ˜¯è®¡ç®—æœºä¸­æ¯”è¾ƒæœ‰åçš„åˆ†å±‚ç†è®ºï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åˆ†å±‚è§£å†³ä¸äº†çš„ï¼Œå¦‚æœæœ‰é‚£å°±å†åˆ†ä¸€å±‚ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;IP åŒ…çš„é¦–éƒ¨ä¸­å®šä¹‰äº†32 ä½çš„æº IP åœ°å€å’Œç›®çš„ IP åœ°å€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºå€&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29c575b9d91840ceb4c3cd3ad025fb88~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥åº”ç”¨å±‚åœ¨è¯·æ±‚ä¼ è¾“æ•°æ®æ—¶å¿…é¡»äº‹å…ˆè¦çŸ¥é“å¯¹æ–¹çš„ IP åœ°å€ï¼Œç„¶åæ‰èƒ½å¼€å§‹ä¼ è¾“ã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;2. DNS åè®®&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±ä¸Šä¸€èŠ‚å¯çŸ¥è¯·æ±‚æ—¶éœ€è¦äº‹å…ˆçŸ¥é“å¯¹æ–¹çš„ IP åœ°å€ï¼Œä½† IP åœ°å€æ˜¯ç”±ã€Œ161.117.232.65ã€è¿™æ ·çš„æ•°å­—ç»„æˆçš„ï¼Œæ­£å¸¸äººæ ¹æœ¬è®°ä¸ä½ï¼Œæƒ³æƒ³çœ‹ï¼Œå¦‚æœæˆ‘è¦ä¸Šä¸ªç™¾åº¦ï¼Œè¿˜è¦å…ˆçŸ¥é“å®ƒçš„ IP åœ°å€ï¼Œé‚£å²‚ä¸æ˜¯è¦ç–¯æ‰ï¼Œé‚£æ€ä¹ˆåŠï¼Œè”ç³»ç”Ÿæ´»åœºæ™¯ï¼Œæƒ³æƒ³çœ‹ï¼Œå¦‚æœæˆ‘ä»¬è¦æ‰“æŸäººç”µè¯ï¼Œè®°ä¸ä½ä»–çš„ç”µè¯å·ç ï¼Œæ˜¯ä¸æ˜¯è¦å…ˆåˆ°ç”µè¯æœ¬æ‰¾æŸä¸ªäººçš„åå­—ï¼Œç„¶åå†æ‰“ï¼Œç”µè¯æœ¬èµ·çš„ä½œç”¨å°±æ˜¯æŠŠå§“åç¿»è¯‘æˆç”µè¯å·ç ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4d6aa5ed0244aa3a23d692e7d16ea44~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·çš„ï¼Œæ­£å¸¸äººåªä¼šè®°ä½ baidu.com è¿™æ ·çš„ç½‘å€ï¼Œé‚£å°±éœ€è¦æœ‰ç±»ä¼¼ç”µè¯æœ¬è¿™æ ·çš„ç¿»è¯‘å™¨æŠŠç½‘å€è½¬æˆ IP åœ°å€ï¼ŒDNSï¼ˆåŸŸåæœåŠ¡å™¨ï¼‰å°±æ˜¯å¹²è¿™ä¸ªäº‹çš„&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85855ee42f0c465db76ce1f8750ad08a~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢åªæ˜¯ DNS çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œå®é™…ä¸Š DNS è§£ææ— æ³•ä¸€æ­¥åˆ°ä½ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œè¦ç†è§£ DNS çš„å·¥ä½œæœºåˆ¶ï¼Œé¦–å…ˆæˆ‘ä»¬è¦çœ‹æ‡‚åŸŸåçš„å±‚çº§ç»“æ„ï¼Œç±»ä¼¼ www.baidu.com è¿™æ ·çš„ç½‘å€ä¹Ÿå«åŸŸåï¼Œæ˜¯ä¸€ä¸ªæœ‰å±‚æ¬¡çš„ç»“æ„, æœ€å³è¾¹çš„è¢«ç§°ä¸ºé¡¶çº§åŸŸåï¼Œç„¶åæ˜¯äºŒçº§åŸŸåï¼Œå±‚çº§å…³ç³»å‘å·¦é™ä½ï¼Œæœ€å·¦è¾¹çš„æ˜¯ä¸»æœºåï¼Œé€šå¸¸ç”¨æ¥è¡¨ç¤ºä¸»æœºçš„ç”¨é€”ï¼Œæ¯”å¦‚ ã€Œwwwã€ è¡¨ç¤ºæä¾›ä¸‡ç»´ç½‘æœåŠ¡&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0989f3cb3b5846789825d5df6380090f~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶è¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œèµ·åçš„å…³é”®åªæ˜¯æ–¹ä¾¿æˆ‘ä»¬è®°å¿†è€Œå·²ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸŸåæœ‰å±‚æ¬¡ä¹‹åˆ†ï¼ŒDNS ä¹Ÿæ˜¯æœ‰å±‚æ¬¡ä¹‹åˆ†ï¼ŒDNS æ ¸å¿ƒç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸‰å±‚çš„æ ‘çŠ¶ï¼Œåˆ†å¸ƒå¼ç»“æ„ï¼ŒåŸºæœ¬å¯¹åº”åŸŸåç»“æ„ã€‚&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆRoot DNS Serverï¼‰: è¿”å›ã€Œcomã€,ã€Œcnã€,ã€Œnetã€ç­‰é¡¶çº§åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€ï¼Œ&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTop-level DNS Serverï¼‰ï¼šç®¡ç†å„è‡ªåŸŸåä¸‹çš„æƒå¨åŸŸåæœåŠ¡å™¨ï¼Œæ¯”å¦‚ com é¡¶çº§åŸŸåæœåŠ¡å™¨å¯ä»¥è¿”å› apple.com åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰ï¼šç®¡ç†è‡ªå·±åŸŸåä¸‹ä¸»æœºçš„ IP åœ°å€ï¼Œæ¯”å¦‚ apple.com æƒå¨åŸŸåæœåŠ¡å™¨å¯ä»¥è¿”å› www.apple.com çš„ IP åœ°å€ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/10ee77c182d34884957fd3627aa75779~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;DNS æ ¸å¿ƒç³»ç»Ÿå±‚çº§ç»“æ„&quot;/&gt;DNS æ ¸å¿ƒç³»ç»Ÿå±‚çº§ç»“æ„
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹åŸŸåæœåŠ¡å™¨æ˜¯å…³é”®ï¼Œå¿…é¡»æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œæ‰¾åˆ°äº†å®ƒï¼Œä¸‹é¢çš„å„çº§åŸŸåæœåŠ¡å™¨æ‰èƒ½æ‰¾åˆ°ï¼Œå¦åˆ™åŸŸåè§£æå°±æ— ä»è°ˆèµ·äº†ã€‚æ—¢ç„¶çŸ¥é“äº† DNS çš„å±‚æ¬¡ä¹‹åˆ†ï¼Œé‚£ä¹ˆä¸éš¾çŒœå‡ºè¯·æ±‚ www.apple.com çš„ DNS è§£æå¦‚ä¸‹&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;é¦–å…ˆè®¿é—®æ ¹åŸŸåæœåŠ¡å™¨ï¼Œè·å–ã€Œcomã€é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;è¯·æ±‚ã€Œcomã€é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œè¿”å›ã€Œapple.comã€åŸŸåæœåŠ¡å™¨çš„åœ°å€&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç„¶åè¿”å›ã€Œapple.comã€åŸŸåæœåŠ¡å™¨ï¼Œè¿”å› www.apple.com çš„åœ°å€&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä¸‰å±‚è§£ææˆ‘ä»¬ç§°ä¸º DNS æ ¸å¿ƒè§£æç³»ç»Ÿï¼Œé‚£ä¹ˆå¤§å®¶æƒ³æƒ³ï¼Œå…¨ä¸–ç•Œçš„ PCï¼Œapp ç­‰è®¾å¤‡å¤šå¦‚ç‰›æ¯›ï¼Œå¦‚æœæ¯å‘ä¸€æ¬¡è¯·æ±‚éƒ½è¦æŒ‰ä¸Šé¢çš„ DNS è§£ææ¥è·å– IPï¼Œé‚£ä¼°è®¡ DNS è§£æç³»ç»Ÿå°±è¦ç‚¸äº†ï¼Œå¦‚ä½•ç¼“è§£è¿™ç§å‹åŠ›å‘¢ï¼Œç­”æ¡ˆæ˜¯ç”¨ç¼“å­˜ï¼Œäº‹å®ä¸Šå¾ˆå¤šå¤§å…¬å¸ï¼Œæˆ–ç½‘ç»œè¿è¥å•†éƒ½ä¼šè‡ªå»ºè‡ªå·±çš„ DNS æœåŠ¡å™¨ï¼Œä½œä¸ºç”¨æˆ·æŸ¥è¯¢çš„ä»£ç†ï¼Œä»£æ›¿ç”¨æˆ·è¯·æ±‚æ ¸å¿ƒ DNS ç³»ç»Ÿï¼Œè¿™æ ·å¦‚æœæŸ¥åˆ°çš„è¯å¯ä»¥ç¼“å­˜æŸ¥è¯¢è®°å½•ï¼Œå†æ¬¡æ”¶åˆ°è¯·æ±‚çš„å·å¦‚æœæœ‰ç¼“å­˜ç»“æœæˆ–è€…ç¼“å­˜æœªè¿‡æœŸï¼Œåˆ™ç›´æ¥è¿”å›åŸæ¥çš„ç¼“å­˜ç»“æœï¼Œå¤§å®¶å¯èƒ½å¬è¿‡ Google çš„ 8.8.8.8 DNS è§£ææœåŠ¡å™¨ï¼Œè¿™ç§å°±æ˜¯ Google è‡ªå»ºçš„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°è¿™ç§è‡ªå»ºçš„ä¸ºã€Œéæƒå¨åŸŸåæœåŠ¡å™¨ã€ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26e9936e549242c292f6c14706f2b284~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;é…ç½® DNS Server&quot;/&gt;é…ç½® DNS Server
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†éæƒå¨åŸŸåæœåŠ¡å™¨ï¼Œè¿˜æœ‰æµè§ˆå™¨ç¼“å­˜ï¼Œæ“ä½œç³»ç»Ÿç¼“å­˜ï¼ˆå¤§å®¶ç†ŸçŸ¥çš„ /etc/hosts å°±æ˜¯æ“ä½œç³»ç»Ÿ DSN ç¼“å­˜çš„ä¸€ç§ï¼‰&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·çš„è¯å¦‚æœè¯·æ±‚ www.example.comï¼Œdns çš„å®Œæ•´è§£ææµç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f83b466a8a4b45a09786040e17181041~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€ æµè§ˆå™¨ä¸­è¾“å…¥ www.example.com åï¼Œä¼šå…ˆæŸ¥çœ‹ æµè§ˆå™¨çš„ DNS ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œæœªè¿‡æœŸç›´æ¥å–ç¼“å­˜çš„ï¼Œå·²è¿‡æœŸä¼šç»§ç»­è¯·æ±‚æ“ä½œç³»ç»Ÿçš„ç¼“å­˜ï¼ˆ/etc/hosts æ–‡ä»¶ç­‰ï¼‰ï¼Œè¿˜æœªæ‰¾åˆ°ï¼Œè¿›å…¥æ­¥éª¤ 2&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€ è¯·æ±‚æœ¬åœ°åœ°å€é…ç½®çš„ DNS resolverï¼ˆéæƒå¨åŸŸåæœåŠ¡å™¨ï¼‰ï¼Œä¸€èˆ¬ç”±ç”¨æˆ·çš„ Internet æœåŠ¡æä¾›å•† (ISP) è¿›è¡Œç®¡ç†ï¼Œä¾‹å¦‚æœ‰çº¿ Internet æœåŠ¡æä¾›å•†ã€DSL å®½å¸¦æä¾›å•†æˆ–å…¬å¸ç½‘ï¼ŒMAC çš„åŒå­¦å¯ä»¥æ‰“å¼€ç½‘ç»œé…ç½®ä¸­çš„ DNS Servers æ¥çœ‹ä¸‹é»˜è®¤ ISP æä¾›çš„åŸŸåæœåŠ¡å™¨ï¼ˆå¦‚æœæƒ³ç”¨å…¶ä»–çš„éæƒå¨åŸŸåæœåŠ¡å™¨ï¼Œå¡«å…¥å³å¯ï¼Œè¿™æ ·å°±ä¼šè¦†ç›– ISP æä¾›çš„é»˜è®¤åœ°å€ï¼‰ &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d3c7801d92d4db4b8bc2d9b34b7e846~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€ DNS resolver å°† www.example.com çš„è¯·æ±‚è½¬å‘åˆ° DNS æ ¹åç§°æœåŠ¡å™¨, æ ¹æœåŠ¡å™¨è¿”å›ã€Œ.comã€é¡¶çº§åŸŸåæœåŠ¡å™¨åœ°å€&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€ DNS resolver å†æ¬¡è½¬å‘ www.example.com çš„è¯·æ±‚ï¼Œè¿™æ¬¡è½¬å‘åˆ°æ­¥éª¤ä¸‰è·å–åˆ°çš„ .com åŸŸçš„ä¸€ä¸ª TLD åç§°æœåŠ¡å™¨ã€‚.com åŸŸçš„åç§°æœåŠ¡å™¨ä½¿ç”¨ä¸ example.com åŸŸç›¸å…³çš„å››ä¸ª Amazon Route 53 åç§°æœåŠ¡å™¨çš„åç§°æ¥å“åº”è¯¥è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5ã€Amazon Route 53 åç§°æœåŠ¡å™¨åœ¨ example.com æ‰˜ç®¡åŒºåŸŸä¸­æŸ¥æ‰¾ www.example.com è®°å½•ï¼Œè·å¾—ç›¸å…³å€¼ï¼Œä¾‹å¦‚ï¼ŒWeb æœåŠ¡å™¨çš„ IP åœ°å€ (192.0.2.44)ï¼Œå¹¶å°† IP åœ°å€è¿”å›è‡³ DNS è§£æç¨‹åºã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;6ã€DNS resolver æœ€ç»ˆè·å¾—ç”¨æˆ·éœ€è¦çš„ IP åœ°å€ã€‚è§£æç¨‹åºå°†æ­¤å€¼è¿”å›è‡³ Web æµè§ˆå™¨ã€‚DNS è§£æç¨‹åºè¿˜ä¼šå°† example.com çš„ IP åœ°å€ç¼“å­˜ (å­˜å‚¨) æ‚¨æŒ‡å®šçš„æ—¶é•¿ï¼Œä»¥ä¾¿å®ƒèƒ½å¤Ÿåœ¨ä¸‹æ¬¡æœ‰äººæµè§ˆ example.com æ—¶æ›´å¿«åœ°ä½œå‡ºå“åº”ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥ç”¨ dig å·¥å…·æ¥éªŒè¯ä¸€ä¸‹ä¸Šé¢çš„è¯·æ±‚æµç¨‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7f9b4766b624e7c860fb99a2418391c~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°è¯·æ±‚æµç¨‹ç¡®å®ä¸æˆ‘ä»¬çš„æµç¨‹å›¾ä¸€è‡´ï¼å¦å¤–æˆ‘ä»¬æ³¨æ„åˆ° ip åœ°å€è¿”å›äº†å››ä¸ªï¼Œè¿™æ ·çš„è¯ client å¯ä»¥éšæœºé€‰æ‹©å…¶ä¸­ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ DNS è´Ÿè½½å‡è¡¡ï¼Œå¯æœ‰æ•ˆç¼“å­˜ server å‹åŠ›ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;HTTP æŠ¥æ–‡æ ¼å¼&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬å†ä»‹ç»ä¸‹ HTTP æŠ¥æ–‡æ ¼å¼ï¼Œé€šä¿¡åŒæ–¹è¦èƒ½æ­£å¸¸é€šä¿¡ï¼Œå°±å¿…é¡»éµå¾ªåè®®æ‰èƒ½ç†è§£å¯¹æ–¹çš„ä¿¡æ¯ï¼Œåè®®è§„å®šäº† HTTP è¯·æ±‚å’Œå“åº”æŠ¥æ–‡çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e4a82a28486b4833aa4afb6fe17c68ce~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯·æ±‚å’Œå“åº”æŠ¥æ–‡éƒ½ç”±ã€Œèµ·å§‹è¡Œã€ï¼Œã€Œå¤´éƒ¨ã€ï¼Œã€Œç©ºè¡Œã€ï¼Œã€Œå®ä½“ã€ å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåªä¸è¿‡èµ·å§‹è¡Œç¨æœ‰ä¸åŒã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;è¯·æ±‚æŠ¥æ–‡æ ¼å¼&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆæ¥çœ‹ä¸‹è¯·æ±‚æŠ¥æ–‡çš„æ ¼å¼&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b50dd25a68ac4874a8362647bc8d3df2~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b59bbee32b944b28aae917dfd9ccd0d~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯·æ±‚æ–¹æ³•æ¯”è¾ƒå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç±»&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€ &lt;strong&gt;GET&lt;/strong&gt;: è¯·æ±‚ URL æŒ‡å®šçš„èµ„æºï¼ŒæŒ‡å®šçš„èµ„æºç»æœåŠ¡å™¨ç«¯è§£æåè¿”å›å“åº”å†…å®¹ï¼ŒGET æ–¹æ³•å…·æœ‰&lt;strong&gt;å¹‚ç­‰æ€§&lt;/strong&gt;ï¼Œå³æ— è®ºè¯·æ±‚å¤šæ¬¡ï¼Œéƒ½åªä¼šè¿”å›èµ„æºï¼Œè€Œ&lt;strong&gt;ä¸ä¼šé¢å¤–åˆ›å»ºæˆ–æ”¹å˜èµ„æº&lt;/strong&gt;ï¼Œ GET è¯·æ±‚åªä¼ è¯·æ±‚å¤´ï¼Œä¸ä¼ è¯·æ±‚ä½“ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€ &lt;strong&gt;HEAD&lt;/strong&gt;: è¯­ä¹‰ä¸Šä¸ GET ç±»ä¼¼ï¼Œä½† HEAD çš„å“åº”åªæœ‰è¯·æ±‚å¤´ï¼Œæ²¡æœ‰è¯·æ±‚ä½“&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€ &lt;strong&gt;POST&lt;/strong&gt;: ä¸»è¦ç”¨æ¥åˆ›å»ºï¼Œä¿®æ”¹ï¼Œä¸Šä¼ èµ„æºï¼Œä¸å…·æœ‰å¹‚ç­‰æ€§ï¼Œä¸€èˆ¬å°†è¦è¯·æ±‚çš„èµ„æºé™„åœ¨&lt;strong&gt;è¯·æ±‚ä½“&lt;/strong&gt;ä¸Šä¼ è¾“&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€ &lt;strong&gt;PUT&lt;/strong&gt;: ä¿®æ”¹èµ„æºï¼ŒåŸºæœ¬ä¸Šä¸ç”¨ï¼Œå› ä¸º POST ä¹Ÿå…·æœ‰ä¿®æ”¹çš„è¯­ä¹‰ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šçº¿ä¸Šå¤§å¤šç”¨ POST æ¥ä»£æ›¿ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5ã€ &lt;strong&gt;OPTIONS&lt;/strong&gt;: åˆ—å‡ºå¯å¯¹èµ„æºå®è¡Œçš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆå°‘è§ï¼Œä½†åœ¨è·¨åŸŸä¸­ä¼šç”¨åˆ°ï¼Œä¹Ÿæ¯”è¾ƒé‡è¦ï¼Œåæ–‡ç»“åˆ Cookie è°ˆåˆ°å®‰å…¨é—®é¢˜æ—¶æˆ‘ä»¬ä¼šå†æ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åè®®ç‰ˆæœ¬æŒ‡å®šäº†å®¢æˆ·ç«¯å½“å‰æ”¯æŒçš„ HTTP ç‰ˆæœ¬ï¼ŒHTTP ç›®å‰é€šç”¨çš„æœ‰ 1.1, 2.0 ä¸‰ä¸ªç‰ˆæœ¬ï¼Œå¦‚æœè¯·æ±‚æ–¹æŒ‡å®šäº† 1.1ï¼Œåº”ç­”æ–¹æ”¶åˆ°ä¹‹åä¹Ÿä¼šä½¿ç”¨ HTTP 1.1 åè®®è¿›è¡Œå›å¤ã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;å“åº”æŠ¥æ–‡æ ¼å¼&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å“åº”è¡Œçš„æŠ¥æ–‡æ ¼å¼å¦‚ä¸‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/32b09f2091314a238d0f62649cc0baad~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹å¦‚ä¸‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b0a56ac35c943efa1132012ba9204c9~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å“åº”æŠ¥æ–‡ä¸»è¦æœ‰å¦‚ä¸‹äº”ç±»çŠ¶æ€ç ï¼š&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;1Ã—Ã—ï¼šæç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºç›®å‰æ˜¯åè®®å¤„ç†çš„ä¸­é—´çŠ¶æ€ï¼Œè¿˜éœ€è¦åç»­çš„æ“ä½œï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;2Ã—Ã—ï¼šæˆåŠŸï¼ŒæŠ¥æ–‡å·²ç»æ”¶åˆ°å¹¶è¢«æ­£ç¡®å¤„ç†ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;3Ã—Ã—ï¼šé‡å®šå‘ï¼Œèµ„æºä½ç½®å‘ç”Ÿå˜åŠ¨ï¼Œéœ€è¦å®¢æˆ·ç«¯é‡æ–°å‘é€è¯·æ±‚ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;4Ã—Ã—ï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚æŠ¥æ–‡æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;5Ã—Ã—ï¼šæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„çŠ¶æ€ç åŠå…¶é‡Šä¹‰å¦‚ä¸‹ï¼ˆæ›´è¯¦ç»†çš„å¯ä»¥å‚è€ƒæ–‡æœ«å‚è€ƒé“¾æ¥ï¼‰&lt;/p&gt;
&lt;section class=&quot;table-container&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;çŠ¶æ€ç &lt;/th&gt;
&lt;th&gt;çŠ¶æ€ç çš„åŸå› çŸ­è¯­&lt;/th&gt;
&lt;th&gt;é‡Šä¹‰&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;18&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;Continue&lt;/td&gt;
&lt;td&gt;è¿™ä¸ªä¸´æ—¶å“åº”è¡¨æ˜ï¼Œè¿„ä»Šä¸ºæ­¢çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å¯è¡Œçš„ï¼Œå®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚ï¼Œå¦‚æœå·²ç»å®Œæˆï¼Œåˆ™å¿½ç•¥å®ƒã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;200&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;è¯·æ±‚è·å–/åˆ›å»ºèµ„æºæˆåŠŸ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;201&lt;/td&gt;
&lt;td&gt;Created&lt;/td&gt;
&lt;td&gt;è¯¥è¯·æ±‚å·²æˆåŠŸï¼Œå¹¶å› æ­¤åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„èµ„æºï¼Œé€šè¿‡ç”¨åˆ° POST è¯·æ±‚ä¸­&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;206&lt;/td&gt;
&lt;td&gt;Partial Content&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨å·²ç»æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ã€‚ç±»ä¼¼äº FlashGet æˆ–è€…è¿…é›·è¿™ç±»çš„ HTTP ä¸‹è½½å·¥å…·éƒ½æ˜¯ä½¿ç”¨æ­¤ç±»å“åº”å®ç°æ–­ç‚¹ç»­ä¼ æˆ–è€…å°†ä¸€ä¸ªå¤§æ–‡æ¡£åˆ†è§£ä¸ºå¤šä¸ªä¸‹è½½æ®µåŒæ—¶ä¸‹è½½ã€‚è¯¥è¯·æ±‚å¿…é¡»åŒ…å« Range å¤´ä¿¡æ¯æ¥æŒ‡ç¤ºå®¢æˆ·ç«¯å¸Œæœ›å¾—åˆ°çš„å†…å®¹èŒƒå›´ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å« If-Range æ¥ä½œä¸ºè¯·æ±‚æ¡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;301&lt;/td&gt;
&lt;td&gt;Moved Permanently&lt;/td&gt;
&lt;td&gt;æ°¸ä¹…é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºå·²ç»è¢«ç§»åŠ¨åˆ°äº†ç”± Location å¤´éƒ¨æŒ‡å®šçš„urlä¸Šï¼Œæ˜¯å›ºå®šçš„ä¸ä¼šå†æ”¹å˜&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;302&lt;/td&gt;
&lt;td&gt;Found&lt;/td&gt;
&lt;td&gt;ä¸´æ—¶é‡å®šå‘ï¼Œé‡å®šå‘çŠ¶æ€ç è¡¨æ˜è¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶çš„ç§»åŠ¨åˆ°äº†ç”±Location å¤´éƒ¨æŒ‡å®šçš„ URL ä¸Š&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;400&lt;/td&gt;
&lt;td&gt;Bad Request&lt;/td&gt;
&lt;td&gt;1ã€è¯­ä¹‰æœ‰è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ã€‚é™¤éè¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¸åº”è¯¥é‡å¤æäº¤è¿™ä¸ªè¯·æ±‚ã€‚2ã€è¯·æ±‚å‚æ•°æœ‰è¯¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;401&lt;/td&gt;
&lt;td&gt;Unauthorized&lt;/td&gt;
&lt;td&gt;å½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ã€‚è¯¥å“åº”å¿…é¡»åŒ…å«ä¸€ä¸ªé€‚ç”¨äºè¢«è¯·æ±‚èµ„æºçš„ WWW-Authenticate ä¿¡æ¯å¤´ç”¨ä»¥è¯¢é—®ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;403&lt;/td&gt;
&lt;td&gt;Forbidden&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒï¼Œå¯ä»¥è®¤ä¸ºç”¨æˆ·æ²¡æœ‰æƒé™&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;404&lt;/td&gt;
&lt;td&gt;Not Found&lt;/td&gt;
&lt;td&gt;è¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘ç°&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;405&lt;/td&gt;
&lt;td&gt;Method Not Allowed&lt;/td&gt;
&lt;td&gt;è¯·æ±‚è¡Œä¸­æŒ‡å®šçš„è¯·æ±‚æ–¹æ³•ä¸èƒ½è¢«ç”¨äºè¯·æ±‚ç›¸åº”çš„èµ„æºã€‚è¯¥å“åº”å¿…é¡»è¿”å›ä¸€ä¸ªAllow å¤´ä¿¡æ¯ç”¨ä»¥è¡¨ç¤ºå‡ºå½“å‰èµ„æºèƒ½å¤Ÿæ¥å—çš„è¯·æ±‚æ–¹æ³•çš„åˆ—è¡¨&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;Internal Server Error&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨é‡åˆ°æ„å¤–çš„æƒ…å†µå¹¶é˜»æ­¢å…¶æ‰§è¡Œè¯·æ±‚ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;502&lt;/td&gt;
&lt;td&gt;Bad Gateway&lt;/td&gt;
&lt;td&gt;æ­¤é”™è¯¯å“åº”è¡¨æ˜æœåŠ¡å™¨ä½œä¸ºç½‘å…³éœ€è¦å¾—åˆ°ä¸€ä¸ªå¤„ç†è¿™ä¸ªè¯·æ±‚çš„å“åº”ï¼Œä½†æ˜¯å¾—åˆ°ä¸€ä¸ªé”™è¯¯çš„å“åº”ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº†è§£è¿™äº›çŠ¶æ€ç ï¼Œæˆ‘ä»¬å®šä½æ’æŸ¥é—®é¢˜å°±èƒ½æˆç«¹åœ¨èƒ¸ï¼Œæ¯”å¦‚çœ‹åˆ° 5xxï¼Œå°±çŸ¥é“æ˜¯ server çš„é€»è¾‘æœ‰é—®é¢˜ï¼Œçœ‹åˆ° 400 å°±çŸ¥é“æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å‚æ•°æœ‰é—®é¢˜ï¼Œå¦ä¸€ç«¯å°±ä¸ç”¨å‚»å‚»å»æ’æŸ¥äº†ã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;è¯·æ±‚å’Œå“åº”å¤´&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯·æ±‚å’Œå“åº”å¤´éƒ¨æŠ¥æ–‡çš„ header æ ¼å¼åŸºæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ key-value çš„å½¢å¼ï¼Œkey å’Œ value éƒ½æ˜¯ç”¨ ã€Œ: ã€åˆ†éš”ï¼Œæ­¤å¤– HTTP å¤´å­—æ®µéå¸¸çµæ´»ï¼Œé™¤äº†ä½¿ç”¨æ ‡å‡†çš„ Hostï¼ŒConnection ç­‰å¤´å­—æ®µå¤–ï¼Œä¹Ÿå¯ä»¥ä»»æ„æ·»åŠ è‡ªå®šä¹‰å¤´ï¼Œ&lt;strong&gt;è¿™å°±ç»™ HTTP åè®®å¸¦æ¥äº†æ— é™çš„æ‰©å±•å¯èƒ½ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;å¸¸ç”¨å¤´å­—æ®µ&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP åè®®è§„å®šäº†éå¸¸å¤šçš„å¤´å­—æ®µï¼Œå¯ä»¥å®ç°å„ç§å„æ ·çš„åŠŸèƒ½ï¼Œä½†åŸºæœ¬ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç±»&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;é€šç”¨å­—æ®µï¼šåœ¨è¯·æ±‚å¤´å’Œå“åº”å¤´é‡Œéƒ½å¯ä»¥å‡ºç°ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;è¯·æ±‚å­—æ®µï¼šä»…èƒ½å‡ºç°åœ¨è¯·æ±‚å¤´é‡Œï¼Œè¿›ä¸€æ­¥è¯´æ˜è¯·æ±‚ä¿¡æ¯æˆ–è€…é¢å¤–çš„é™„åŠ æ¡ä»¶ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å“åº”å­—æ®µï¼šä»…èƒ½å‡ºç°åœ¨å“åº”å¤´é‡Œï¼Œè¡¥å……è¯´æ˜å“åº”æŠ¥æ–‡çš„ä¿¡æ¯ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å®ä½“å­—æ®µï¼šå®ƒå®é™…ä¸Šå±äºé€šç”¨å­—æ®µï¼Œä½†ä¸“é—¨æè¿° body çš„é¢å¤–ä¿¡æ¯ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¯¹ HTTP æŠ¥æ–‡çš„è§£æå’Œå¤„ç†å…¶å®æœ¬è´¨ä¸Šå°±æ˜¯å¯¹å¤´å­—æ®µçš„å¤„ç†&lt;/strong&gt;ï¼ŒHTTP çš„è¿æ¥ç®¡ç†ï¼Œç¼“å­˜æ§åˆ¶ï¼Œå†…å®¹åå•†ç­‰éƒ½æ˜¯é€šè¿‡å¤´å­—æ®µæ¥å¤„ç†çš„ï¼Œ&lt;strong&gt;ç†è§£äº†å¤´å­—æ®µï¼ŒåŸºæœ¬ä¸Šä¹Ÿå°±ç†è§£äº† HTTP&lt;/strong&gt;ï¼Œæ‰€ä»¥ç†è§£å¤´å­—æ®µéå¸¸é‡è¦ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¿™äº›å¤´éƒ¨å­—æ®µçš„å…·ä½“å«ä¹‰&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€é€šç”¨å­—æ®µ&lt;/p&gt;
&lt;section class=&quot;table-container&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;é¦–éƒ¨å­—æ®µå&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;5&quot;&gt;&lt;tr&gt;&lt;td&gt;Cache-Control&lt;/td&gt;
&lt;td&gt;æ§åˆ¶ç¼“å­˜çš„è¡Œä¸º&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Connection&lt;/td&gt;
&lt;td&gt;é€è·³é¦–éƒ¨ã€è¿æ¥çš„ç®¡ç†&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Date&lt;/td&gt;
&lt;td&gt;åˆ›å»ºæŠ¥æ–‡çš„æ—¥æœŸæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Pragma&lt;/td&gt;
&lt;td&gt;æŠ¥æ–‡æŒ‡ä»¤&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Trailer&lt;/td&gt;
&lt;td&gt;æŠ¥æ–‡æœ«ç«¯çš„é¦–éƒ¨ä¸€è§ˆ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Transfer-Encoding&lt;/td&gt;
&lt;td&gt;æŒ‡å®šæŠ¥æ–‡ä¸»ä½“çš„ä¼ è¾“ç¼–ç æ–¹å¼&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Upgrade&lt;/td&gt;
&lt;td&gt;å‡çº§ä¸ºå…¶ä»–åè®®&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Via&lt;/td&gt;
&lt;td&gt;ä»£ç†æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Warning&lt;/td&gt;
&lt;td&gt;é”™è¯¯é€šçŸ¥&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€è¯·æ±‚é¦–éƒ¨å­—æ®µ&lt;/p&gt;
&lt;section class=&quot;table-container&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;é¦–éƒ¨å­—æ®µå&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Accept&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·ä»£ç†å¯å¤„ç†çš„åª’ä½“ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Accept-Charset&lt;/td&gt;
&lt;td&gt;ä¼˜å…ˆçš„å­—ç¬¦é›†&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Accept-Encoding&lt;/td&gt;
&lt;td&gt;ä¼˜å…ˆçš„å†…å®¹ç¼–ç &lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Accept-Language&lt;/td&gt;
&lt;td&gt;ä¼˜å…ˆçš„è¯­è¨€(è‡ªç„¶è¯­è¨€)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Authorization&lt;/td&gt;
&lt;td&gt;Web è®¤è¯ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Expect&lt;/td&gt;
&lt;td&gt;æœŸå¾…æœåŠ¡å™¨çš„ç‰¹å®šè¡Œä¸º&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;From&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·çš„ç”µå­é‚®ç®±åœ°å€&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Host&lt;/td&gt;
&lt;td&gt;è¯·æ±‚èµ„æºæ‰€åœ¨æœåŠ¡å™¨&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;If-Match&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒå®ä½“æ ‡è®°(ETag)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Modified-Since&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-None-Match&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒå®ä½“æ ‡è®°(ä¸ If-Match ç›¸å)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Range&lt;/td&gt;
&lt;td&gt;èµ„æºæœªæ›´æ–°æ—¶å‘é€å®ä½“ Byte çš„èŒƒå›´è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Unmodified-Since&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´(ä¸ If-Modified-Since ç›¸å)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Max-Forwards&lt;/td&gt;
&lt;td&gt;æœ€å¤§ä¼ è¾“é€è·³æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Proxy-Authorization&lt;/td&gt;
&lt;td&gt;ä»£ç†æœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Range&lt;/td&gt;
&lt;td&gt;å®ä½“çš„å­—èŠ‚èŒƒå›´è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Referer&lt;/td&gt;
&lt;td&gt;å¯¹è¯·æ±‚ä¸­ URI çš„åŸå§‹è·å–æ–¹ ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;TE&lt;/td&gt;
&lt;td&gt;ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;User-Agent&lt;/td&gt;
&lt;td&gt;HTTP å®¢æˆ·ç«¯ç¨‹åºçš„ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€å“åº”é¦–éƒ¨å­—æ®µ&lt;/p&gt;
&lt;section class=&quot;table-container&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;é¦–éƒ¨å­—æ®µå&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;15&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Accept-Ranges&lt;/td&gt;
&lt;td&gt;æ˜¯å¦æ¥å—å­—èŠ‚èŒƒå›´è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Age&lt;/td&gt;
&lt;td&gt;æ¨ç®—èµ„æºåˆ›å»ºç»è¿‡æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ETag&lt;/td&gt;
&lt;td&gt;èµ„æºçš„åŒ¹é…ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Location&lt;/td&gt;
&lt;td&gt;ä»¤å®¢æˆ·ç«¯é‡å®šå‘è‡³æŒ‡å®š URI&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Retry-After&lt;/td&gt;
&lt;td&gt;å¯¹å†æ¬¡å‘èµ·è¯·æ±‚çš„æ—¶æœºè¦æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Server&lt;/td&gt;
&lt;td&gt;HTTP æœåŠ¡å™¨çš„å®‰è£…ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Vary&lt;/td&gt;
&lt;td&gt;ä»£ç†æœåŠ¡å™¨ç¼“å­˜çš„ç®¡ç†ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;WWW-Authenticate&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;If-Match&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒå®ä½“æ ‡è®°(ETag)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Modified-Since&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-None-Match&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒå®ä½“æ ‡è®°(ä¸ If-Match ç›¸å)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Range&lt;/td&gt;
&lt;td&gt;èµ„æºæœªæ›´æ–°æ—¶å‘é€å®ä½“ Byte çš„èŒƒå›´è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;If-Unmodified-Since&lt;/td&gt;
&lt;td&gt;æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´(ä¸ If-Modified-Since ç›¸å)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Max-Forwards&lt;/td&gt;
&lt;td&gt;æœ€å¤§ä¼ è¾“é€è·³æ•°&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Proxy-Authorization&lt;/td&gt;
&lt;td&gt;ä»£ç†æœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Range&lt;/td&gt;
&lt;td&gt;å®ä½“çš„å­—èŠ‚èŒƒå›´è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Referer&lt;/td&gt;
&lt;td&gt;å¯¹è¯·æ±‚ä¸­ URI çš„åŸå§‹è·å–æ–¹ ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;TE&lt;/td&gt;
&lt;td&gt;ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;User-Agent&lt;/td&gt;
&lt;td&gt;HTTP å®¢æˆ·ç«¯ç¨‹åºçš„ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€å®ä½“é¦–éƒ¨å­—æ®µ&lt;/p&gt;
&lt;section class=&quot;table-container&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;é¦–éƒ¨å­—æ®µå&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;9&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Allow&lt;/td&gt;
&lt;td&gt;èµ„æºå¯æ”¯æŒçš„ HTTP æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Encoding&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“é€‚ç”¨çš„ç¼–ç æ–¹å¼&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Language&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“çš„è‡ªç„¶è¯­è¨€&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Length&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“çš„å¤§å°(å•ä½ :å­—èŠ‚)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Location&lt;/td&gt;
&lt;td&gt;æ›¿ä»£å¯¹åº”èµ„æºçš„ URI&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-MD5&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“çš„æŠ¥æ–‡æ‘˜è¦&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Range&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“çš„ä½ç½®èŒƒå›´&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Content-Type&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Expires&lt;/td&gt;
&lt;td&gt;å®ä½“ä¸»ä½“è¿‡æœŸçš„æ—¥æœŸæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹ˆå¤šå­—æ®µè¯¥æ€ä¹ˆè®°å‘¢ï¼Œæ­»è®°ç¡¬èƒŒè‚¯å®šä¸è¡Œï¼Œ&lt;strong&gt;ä»åŠŸèƒ½ä¸Šç†è§£ä¼šæ›´æ˜“æ‡‚&lt;/strong&gt;ï¼ŒHTTP ä¸»è¦ä¸ºæˆ‘ä»¬æä¾›äº†å¦‚ä¸‹åŠŸèƒ½&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸€ã€å†…å®¹åå•†&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†…å®¹åå•†æœºåˆ¶æ˜¯æŒ‡å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å“åº”çš„èµ„æºå†…å®¹è¿›è¡Œäº¤æ¶‰ï¼Œç„¶åæä¾›ç»™å®¢æˆ·ç«¯æœ€ä¸ºé€‚åˆçš„èµ„æºã€‚å†…å®¹åå•†ä¼šä»¥å“åº”èµ„æºçš„è¯­è¨€ã€å­—ç¬¦é›†ã€ç¼–ç æ–¹å¼ç­‰ä½œä¸ºåˆ¤æ–­çš„åŸºå‡†ï¼Œä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ï¼Œå¤§å®¶åœ¨ Chrome ä¸Šè®¾ç½®ä¸åŒçš„è¯­è¨€ï¼Œä¸»é¡µä¹Ÿå°±å±•ç¤ºä¸åŒçš„å†…å®¹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a01fcc169324ac393cfc8b67229ed12~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;å†…å®¹åå•†ç¤ºä¾‹&quot;/&gt;å†…å®¹åå•†ç¤ºä¾‹
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯·æ±‚æŠ¥æ–‡çš„ã€ŒAcceptã€ï¼Œã€ŒAccept-Charsetã€,ã€ŒAccept-Encodingã€ï¼Œã€ŒAccept-Languageã€,ã€ŒContent-Languageã€,å³ä¸ºå†…å®¹åå•†çš„åˆ¤å®šæ ‡å‡†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¾ä¸ªä¾‹å­&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8e51195d5c174ea4bd96daca2c597e20~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šå›¾è¡¨ç¤ºçš„å«ä¹‰å¦‚ä¸‹&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;å®¢æˆ·ç«¯ï¼šè¯·ç»™æˆ‘ç±»å‹ä¸º text/*ï¼Œè¯­è¨€ä¸º enï¼Œç¼–ç ç±»å‹æœ€å¥½ä¸º brï¼ˆå¦‚æœæ²¡æœ‰ gzip ä¹Ÿå¯æ¥å—ï¼‰çš„èµ„æºã€‚&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æœåŠ¡å™¨ï¼šå¥½çš„ï¼Œæˆ‘æ‰¾åˆ°äº†ç¼–ç ç±»å‹ä¸º brï¼ˆContent-Encoding: brï¼‰ï¼Œå†…å®¹ä¸º enï¼ˆContent-Language: enï¼‰çš„èµ„æºï¼Œå®ƒçš„ url ä¸º URLeï¼ˆContent-Location: /URLeï¼‰ï¼Œä½ æ‹¿åˆ°åå†å»è¯·æ±‚ä¸‹å°±æœ‰äº†ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†…å®¹åè®®è¯·æ±‚å¤´å’Œå¯¹åº”çš„å“åº”å¤´å¯¹åº”å…³ç³»å¦‚ä¸‹:&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5ea9cbe34b34401abc834221ab5b7bb7~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;äºŒã€ç¼“å­˜ç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¼“å­˜ç®¡ç†ä¹Ÿæ˜¯ HTTP åè®®éå¸¸é‡è¦çš„å†…å®¹ï¼Œè¿™éƒ¨åˆ†ä¹Ÿæ˜¯åŠ¡å¿…è¦æŒæ¡çš„ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºèµ„æºæ¥è¯´ï¼Œç”±äºæœ‰äº›æŒºé•¿æ—¶é—´å†…éƒ½ä¸ä¼šæ›´æ–°ï¼Œæ‰€ä»¥æ²¡å¿…è¦æ¯æ¬¡è¯·æ±‚éƒ½å‘ server å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œå¦‚æœç¬¬ä¸€æ¬¡è¯·æ±‚åèƒ½ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸‹æ¬¡è¯·æ±‚ç›´æ¥åœ¨æœ¬åœ°å–ï¼Œé‚£æ— ç–‘ä¼šå¿«å¾—å¤šï¼Œå¯¹æœåŠ¡å™¨çš„å‹åŠ›ä¹Ÿä¼šå‡å°‘ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¶‰åŠåˆ°ç¼“å­˜çš„è¯·æ±‚å¤´ä¸º Cache-Controlã€‚è¿™ä¸ªç¼“å­˜æŒ‡ä»¤æ˜¯å•å‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¯·æ±‚ä¸­è®¾ç½®çš„æŒ‡ä»¤ï¼Œä¸ä¸€å®šåŒ…å«åœ¨å“åº”ä¸­ï¼Œè¯·æ±‚ä¸­å¦‚æœæ²¡æœ‰ä¼  Cache-Controlï¼Œ server ä¹Ÿå¯ä»¥è¿”å› Cache-Controlã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/133a85a2e2754e9695b37d17d142fd10~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¦‚å›¾ç¤ºï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åï¼ŒæœåŠ¡å™¨è¿”å› Cache-Controlï¼š max-age=30ï¼Œä»£è¡¨èµ„æºåœ¨å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ 30 ç§’ï¼Œ30 ç§’å†…å®¢æˆ·ç«¯çš„è¯·æ±‚å¯ä»¥ç›´æ¥ä»ç¼“å­˜è·å–ï¼Œè¶…è¿‡ 30 ç§’åéœ€è¦å‘æœåŠ¡å™¨å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;max-age&lt;/strong&gt; æ˜¯ HTTP ç¼“å­˜æ§åˆ¶æœ€å¸¸ç”¨çš„å±æ€§ï¼Œè¡¨ç¤ºèµ„æºå­˜å‚¨çš„æœ€é•¿æ—¶é—´ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ—¶é—´çš„è®¡ç®—èµ·ç‚¹æ˜¯å“åº”æŠ¥æ–‡çš„åˆ›å»ºæ—¶åˆ»ï¼ˆå³ Date å­—æ®µï¼Œä¹Ÿå°±æ˜¯ç¦»å¼€æœåŠ¡å™¨çš„æ—¶åˆ»ï¼‰ï¼Œè¶…è¿‡åå®¢æˆ·ç«¯éœ€è¦é‡æ–°å‘èµ·è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒå±æ€§å€¼å¦‚ä¸‹:&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;no-cache&lt;/strong&gt;: &lt;strong&gt;è¿™ä¸ªæ˜¯å¾ˆå®¹æ˜“é€ æˆè¯¯è§£çš„å­—æ®µ&lt;/strong&gt;ï¼Œå®ƒçš„å«ä¹‰å¹¶ä¸æ˜¯ä¸å…è®¸ç¼“å­˜ï¼Œè€Œæ˜¯å¯ä»¥ç¼“å­˜ï¼Œä½†åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦è¿‡æœŸï¼Œæ˜¯å¦æœ‰æœ€æ–°çš„ç‰ˆæœ¬ï¼›&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;no-store&lt;/strong&gt;: &lt;strong&gt;è¿™æ‰æ˜¯çœŸæ­£çš„ä¸å…è®¸ç¼“å­˜&lt;/strong&gt;ï¼Œæ¯”å¦‚ç§’æ€é¡µé¢è¿™æ ·å˜åŒ–éå¸¸é¢‘ç¹çš„é¡µé¢å°±ä¸é€‚åˆç¼“å­˜&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3beb54478064ed08642a146866cc8a9~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;no-cache&quot;/&gt;no-cache
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;must-revalidate&lt;/strong&gt;ï¼šä¸€æ—¦èµ„æºè¿‡æœŸï¼ˆæ¯”å¦‚å·²ç»è¶…è¿‡max-ageï¼‰ï¼Œåœ¨æˆåŠŸå‘åŸå§‹æœåŠ¡å™¨éªŒè¯ä¹‹å‰ï¼Œç¼“å­˜ä¸èƒ½ç”¨è¯¥èµ„æºå“åº”åç»­è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‰è€…çš„åŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82df8b54f1374097b87493dddbcd2426~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Cache-Control åªèƒ½åˆ·æ–°æ•°æ®ï¼Œä½†ä¸èƒ½å¾ˆå¥½åœ°åˆ©ç”¨ç¼“å­˜ï¼Œåˆå› ä¸ºç¼“å­˜ä¼šå¤±æ•ˆï¼Œä½¿ç”¨å‰è¿˜å¿…é¡»è¦å»æœåŠ¡å™¨éªŒè¯æ˜¯å¦æ˜¯æœ€æ–°ç‰ˆï¼Œå­˜åœ¨ä¸€å®šçš„æ€§èƒ½ç¨³å®šï¼Œæ‰€ä»¥ HTTP åˆå¼•å…¥äº†æ¡ä»¶ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¡ä»¶è¯·æ±‚ä»¥ If å¼€å¤´ï¼Œæœ‰ã€ŒIf-Matchã€ï¼Œã€ŒIf-Modified-Sinceã€ï¼Œã€ŒIf-None-Matchã€,ã€ŒIf-Rangeã€,ã€ŒIf-Unmodified-Sinceã€äº”ä¸ªå¤´å­—æ®µï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„æ˜¯ã€Œif-Modified-Sinceã€å’Œã€ŒIf-None-Matchã€è¿™ä¸¤ä¸ªå¤´å­—æ®µï¼Œæ‰€ä»¥é‡ç‚¹ä»‹ç»ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;if-Modified-Since&lt;/strong&gt;ï¼šæŒ‡çš„æ˜¯æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ï¼ŒæœåŠ¡å™¨åªåœ¨æ‰€è¯·æ±‚çš„èµ„æºåœ¨ç»™å®šçš„æ—¥æœŸæ—¶é—´ä¹‹åå¯¹å†…å®¹è¿›è¡Œè¿‡ä¿®æ”¹çš„æƒ…å†µä¸‹æ‰ä¼šå°†èµ„æºè¿”å›ï¼Œå¦‚æœè¯·æ±‚çš„èµ„æºä»é‚£æ—¶èµ·æœªç»ä¿®æ”¹ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªä¸å¸¦æœ‰æ¶ˆæ¯ä¸»ä½“çš„ 304 å“åº”ï¼Œéœ€è¦ç¬¬ä¸€æ¬¡è¯·æ±‚æä¾›ã€ŒLast-modifiedã€ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚å°±å¯ä»¥åœ¨ ã€Œif-Modified-Sinceã€é¦–éƒ¨å¸¦ä¸Šæ­¤å€¼äº†ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/988d239211cc4ac4917eb1f59f9629a0~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;If-None-Match&lt;/strong&gt;ï¼šæ¡ä»¶è¯·æ±‚é¦–éƒ¨ï¼Œå¯¹äº &lt;strong&gt;GET&lt;/strong&gt; å’Œ &lt;strong&gt;HEAD&lt;/strong&gt; è¯·æ±‚æ–¹æ³•æ¥è¯´ï¼Œå½“ä¸”ä»…å½“æœåŠ¡å™¨ä¸Šæ²¡æœ‰ä»»ä½•èµ„æºçš„ ETag å±æ€§å€¼ä¸è¿™ä¸ªé¦–éƒ¨ä¸­åˆ—å‡ºçš„ç›¸åŒ¹é…çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯ä¼šæ‰è¿”å›æ‰€è¯·æ±‚çš„èµ„æºï¼Œå“åº”ç ä¸º 200ï¼Œ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨æ„åˆ°ä¸Šå›¾ä¸­æœ‰ä¸ª ETag è¿”å›ï¼Œå®ƒæ˜¯å®ä½“æ ‡ç­¾ï¼ˆEntity Tagï¼‰çš„ç¼©å†™ï¼Œæ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ï¼Œä¸»è¦è§£å†³ä¿®æ”¹æ—¶é—´æ— æ³•å‡†ç¡®åŒºåˆ†æ–‡ä»¶å˜åŒ–çš„é—®é¢˜ï¼Œæ¯”å¦‚æ–‡ä»¶åœ¨ä¸€ç§’å†…ä¿®æ”¹äº†å¤šæ¬¡ï¼Œç”±äºä¿®æ”¹æ—¶é—´æ˜¯ç§’çº§çš„ï¼Œç”¨ if-Modified-Since å°±ä¼šè¯¯è®¤ä¸ºèµ„æºæ²¡æœ‰å˜åŒ–ï¼Œè€Œæ¯æ¬¡æ–‡ä»¶ä¿®æ”¹äº†éƒ½ä¼šä¿®æ”¹ ETagï¼Œä¹Ÿå°±æ˜¯è¯´ ETag å¯ä»¥ç²¾ç¡®è¯†åˆ«èµ„æºçš„å˜åŠ¨, æ‰€ä»¥å¦‚æœå¯¹èµ„æºå˜åŒ–å¾ˆæ•æ„Ÿè§‰çš„è¯ï¼Œåº”è¯¥ç”¨ If-None-Matchã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ³¨ï¼šETag æœ‰å¼ºï¼Œå¼±ä¹‹åˆ†ï¼Œå¼º ETag è¦æ±‚èµ„æºåœ¨å­—èŠ‚çº§åˆ«å¿…é¡»å®Œå…¨ç›¸ç¬¦ï¼Œå¼± ETag åœ¨å€¼å‰æœ‰ ã€ŒW/ã€æ ‡è®°ï¼Œåªè¦æ±‚èµ„æºåœ¨è¯­ä¹‰ä¸Šæ²¡å•¥å˜åŒ–ï¼Œæ¯”å¦‚åŠ äº†å‡ ä¸ªç©ºæ ¼ç­‰ç­‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦æ³¨æ„çš„æ˜¯ä¸ç®¡æ˜¯ if-Modified-Since è¿˜æ˜¯ If-None-Matchï¼Œè¿™ä¸¤è€…åªä¼šåœ¨èµ„æºè¿‡æœŸï¼ˆå³å­˜æ´»æ—¶é—´è¶… max-ageï¼‰åæ‰ä¼šè§¦å‘ï¼Œä½†å¦‚æœåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œç¼“å­˜å¯èƒ½ä¼šå½±å“æˆ‘ä»¬è”è°ƒï¼Œæˆ‘ä»¬å¸Œæœ›æ¯æ¬¡è¯·æ±‚éƒ½ä» server æ‹¿ï¼Œè€Œä¸æ˜¯ç¼“å­˜é‡Œï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿè¿™ç§æƒ…å†µä¸‹å°±è¦ç”¨åˆ°åˆ·æ–°æˆ–è€…å¼ºåˆ¶åˆ·æ–°äº†ã€‚å¦‚æœæ˜¯åˆ·æ–°ï¼Œè¯·æ±‚å¤´é‡Œä¼šåŠ ä¸Šä¸€ä¸ª &lt;strong&gt;Cache-Control: max-age=0&lt;/strong&gt;ï¼Œä»£è¡¨éœ€è¦æœ€æ–°çš„èµ„æºï¼Œæµè§ˆå™¨çœ‹åˆ°äº†åå°±ä¸ä¼šä½¿ç”¨æœ¬åœ°èµ„æºï¼Œä¼šå‘ server è¯·æ±‚ï¼Œå¦‚æœæ˜¯å¼ºåˆ¶åˆ·æ–°ï¼Œè¯·æ±‚å¤´ä¼šåŠ ä¸Š&lt;strong&gt;Cache-Control: no-cache&lt;/strong&gt;ï¼Œä¹Ÿä¼šå‘ server å‘é€è¯·æ±‚ï¼Œé€šå¸¸åˆ·æ–°å’Œå¼ºåˆ¶åˆ·æ–°æ•ˆæœä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸‰ã€å®ä½“é¦–éƒ¨&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºå®ä½“éƒ¨åˆ†å¯ä»¥ä¼ æ–‡æœ¬ï¼ŒéŸ³è§†é¢‘ï¼Œæ–‡ä»¶ç­‰ï¼Œæ‰€ä»¥ä¸€èˆ¬è¦æŒ‡å®šå®ä½“ç±»å‹ï¼Œå†…å®¹å¤§å°ï¼Œç¼–ç ç±»å‹ï¼Œå®ä½“é‡‡ç”¨çš„è¯­è¨€ï¼ˆè‹±æ–‡ï¼Œæ³•è¯­ï¼‰ç­‰ï¼Œè¿™æ ·åº”ç­”æ–¹æ‰ä¼šç†è§£å…¶å†…å®¹ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆæ¥çœ‹æœ€é‡è¦çš„ Content-Typeï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b0d232b043e42e0bad3cde99f4bff6b~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™äº›æ•°æ®ç±»å‹è¢«ç§°ä¸º MIME ç±»å‹ï¼ŒæŒ‡ç¤ºèµ„æºæ‰€å±ç±»å‹ï¼Œè¯·æ±‚æ–¹å¦‚æœè¦ä¸Šä¼ èµ„æºï¼ˆä¸€èˆ¬æ˜¯ POST è¯·æ±‚ï¼‰ï¼Œå¯ä»¥åœ¨ç”¨ Content-Type æŒ‡å®šèµ„æºæ‰€å±ç±»å‹ï¼Œå¦‚æœè¯·æ±‚æ–¹æƒ³è¦è·å–èµ„æºï¼ˆGET è¯·æ±‚ï¼‰ï¼Œå¯ä»¥ç”¨ Accept è¯·æ±‚å¤´æŒ‡å®šæƒ³è¦è·å–ä»€ä¹ˆèµ„æºï¼Œè¿™æ · server æ‰¾åˆ°åŒ¹é…çš„èµ„æºåå°±å¯ä»¥åœ¨ Content-Type ä¸­æŒ‡å®šè¿”å›çš„èµ„æºç±»å‹ï¼Œæµè§ˆå™¨ç­‰å®¢æˆ·ç«¯çœ‹åˆ°åå°±å¯ä»¥æ®æ­¤è§£æå¤„ç†äº†&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c7813464a7440369b9dd8754c7b100a~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;em&gt;&lt;em&gt;å¦‚å›¾ç¤ºï¼šå®¢æˆ·ç«¯ä½¿ç”¨ Accept: image/&lt;/em&gt; å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘æƒ³è¯·æ±‚ pngï¼Œjpegï¼Œsvg ç­‰å±äº image ç±»å‹çš„èµ„æºï¼ŒæœåŠ¡ç«¯è¿”å›å›¾ç‰‡çš„åŒæ—¶ç”¨ Content-Type: image/png å‘Šè¯‰å®¢æˆ·ç«¯èµ„æºç±»å‹ä¸º pngã€‚&lt;/em&gt;*&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ Content-Type æŒ‡å®šèµ„æºçš„æ–¹å¼æµè§ˆå™¨ç­‰å®¢æˆ·ç«¯å°±å¯ä»¥æ®æ­¤ä½œå‡ºç›¸å…³è§£æå¤„ç†äº†ï¼Œå†çœ‹ä¸‹å¼€å¤´çš„é—®é¢˜ï¼Œä¸ºå•¥è¯·æ±‚å›¾ç‰‡æœ¬æ¥å¸Œæœ›æ˜¯èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šå±•ç¤ºçš„ï¼Œå®é™…ä¸Šå´ç›´æ¥ä¸‹è½½äº†å‘¢ï¼ŒæŠ“åŒ…çœ‹ä¸‹å®ƒçš„ Content-Type&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0f3341d1bc64534b4794cfd3028d3d1~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°è¿”å›çš„ Content-Type æ˜¯ application/octet-streamï¼Œè¿™ä¸ªç±»å‹æ˜¯åº”ç”¨ç¨‹åºæ–‡ä»¶çš„é»˜è®¤å€¼ï¼Œæ„æ€æ˜¯æœªçŸ¥çš„åº”ç”¨ç¨‹åºæ–‡ä»¶ï¼Œæµè§ˆå™¨ä¸€ä¼šä¸ä¼šè‡ªåŠ¨æ‰§è¡Œæˆ–è¯¢é—®æ‰§è¡Œï¼Œä¼šç›´æ¥ä¸‹è½½ã€‚é‚£å¦‚æœå¸Œæœ›å›¾ç‰‡èƒ½è‡ªåŠ¨å±•ç¤ºåœ¨æµè§ˆå™¨è€Œéä¸‹è½½å‘¢ï¼Œserver æŒ‡å®šä¸€ä¸‹ Content-Type çš„å…·ä½“ç±»å‹å¦‚ image/png è¿™æ ·çš„å½¢å¼å³å¯ï¼Œæµè§ˆå™¨è¯†åˆ«åˆ°äº†å…·ä½“ç±»å‹å°±ä¼šè‡ªåŠ¨è§£æå±•ç¤ºå‡ºæ¥ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä»–è¯·æ±‚æ–¹ï¼Œåº”ç­”æ–¹çš„å®ä½“é¦–éƒ¨å¯¹åº”å…³ç³»åœ¨ä¸Šæ–‡å†…å®¹åå•†éƒ¨åˆ†ä¹Ÿç»™å‡ºäº†ï¼Œå†è´´ä¸€ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2b1786a532d491f8cb397047b81b4d5~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å››ã€è¿æ¥ç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿æ¥ç®¡ç†ä¹Ÿæ˜¯ HTTP éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œåªä¸è¿‡å› ä¸ºç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œæ‰€ä»¥è¢«å¾ˆå¤šäººå¿½ç•¥äº†ï¼Œå®é™…å®ƒæ˜¯å¹•åè‹±é›„ï¼Œå¯¹æå‡ä¼ è¾“æ€§èƒ½èµ·äº†å·¨å¤§çš„ä½œç”¨ï¼Œä¹Ÿä¿ƒè¿› HTTP ä¸æ–­ä¸æ–­æ”¹ç‰ˆè¡è¿›çš„é‡è¦åŸå› ä¹‹ä¸€ï¼Œæˆ‘ä»¬å¯ä»¥ä» HTTP çš„å„ä¸ªç‰ˆæœ¬æ¥çœ‹ä¸‹è¿æ¥ç®¡ç†çš„åŠŸèƒ½æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæˆ‘ä»¬çŸ¥é“åŒæ–¹è¦å»ºç«‹&lt;strong&gt;å¯é &lt;/strong&gt;è¿æ¥è¦ç»è¿‡ TCP çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œç„¶åæ‰èƒ½å¼€å§‹ä¼ è¾“ HTTP çš„æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¼ è¾“ä¹‹åè¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 0.9ï¼Œ1.0 æ—¶æœŸï¼Œå‘é€å®Œ HTTP æŠ¥æ–‡åï¼Œ è¿æ¥ç«‹é©¬å…³é—­ï¼Œè¿™ç§è¿æ¥è¢«ç§°ä¸ºçŸ­é“¾æ¥&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21a6b23c6b4a4a1bb102a9c1eb102455~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°çŸ­é“¾æ¥æ•ˆç‡éå¸¸ä½ä¸‹ï¼Œå¤§é‡æ—¶é—´æµªè´¹åœ¨æ— æ„ä¹‰çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ä¸Šã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯ HTTP 1.1 å¯¹æ­¤è¿›è¡Œäº†æ”¹è¿›ï¼Œæ¯æ¬¡æŠ¥æ–‡å‘é€åä¸ç«‹å³å…³é—­ï¼Œå¯å¤ç”¨ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„é“¾æ¥ä¸ºé•¿é“¾æ¥ï¼Œå¯¹æ¯”ä¸‹å›¾çš„é•¿çŸ­é“¾æ¥å¯ä»¥çœ‹åˆ°ï¼Œé•¿é“¾æ¥ç”±äºå‡å°‘äº†å¤§é‡æ— æ„ä¹‰çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ï¼Œæ•ˆç‡å¤§å¤§æå‡äº†ï¼&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/577eb3278c6840f99b64e94eab7e8c8a~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥åœ¨è¯·æ±‚å¤´é‡Œæ˜ç¡®è¦æ±‚ä½¿ç”¨é•¿é“¾æ¥ï¼ŒæŒ‡å®š &lt;strong&gt;Connection: keep-alive&lt;/strong&gt; å³å¯ï¼Œ&lt;strong&gt;åœ¨ HTTP 1.1 å°±ç®—ä¸æŒ‡å®šä¹Ÿæ˜¯é»˜è®¤å¼€å¯çš„&lt;/strong&gt;ã€‚å¦‚æœæœåŠ¡å™¨æ”¯æŒé•¿é“¾æ¥ï¼Œä¸ç®¡å®¢æˆ·ç«¯æ˜¯å¦æ˜¾å¼è¦æ±‚é•¿é“¾æ¥ï¼Œå®ƒéƒ½ä¼šåœ¨è¿”å›å¤´é‡Œå¸¦ä¸Š &lt;strong&gt;Connection: keep-alive&lt;/strong&gt;ï¼Œè¿™æ ·æ¥ä¸‹æ¥åŒæ–¹å°±ä¼šä½¿ç”¨é•¿è¿æ¥æ¥æ”¶å‘æŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯å¦‚æœæƒ³æ˜¾å¼å…³é—­å…³é—­ï¼Œåªéœ€è¦æŒ‡å®š &lt;strong&gt;Connection: Close&lt;/strong&gt; å¤´å­—æ®µå³å¯ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é•¿è¿æ¥è®©ä¼ è¾“æ•ˆç‡å¤§å¤§æå‡ï¼Œä½†æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œå› ä¸º HTTP è§„å®šæŠ¥æ–‡å¿…é¡»ä¸€å‘ä¸€æ”¶ï¼Œå¦‚æœåœ¨è¦è¿æ¥ä¸Šå‘å¤šä¸ª HTTP æŠ¥æ–‡ï¼Œå¤šä¸ªæŠ¥æ–‡ä¼šè¢«ç´¯ç§¯åˆ°é˜Ÿåˆ—é‡Œä¾æ¬¡å¤„ç†ï¼ˆä¸èƒ½å¹¶è¡Œå¤„ç†ï¼‰åªè¦é˜Ÿé¦–çš„è¯·æ±‚è¢«é˜»å¡äº†ï¼Œåç»­ HTTP çš„å‘é€å°±å—åˆ°å½±å“ï¼Œè¿™å°±æ˜¯æœ‰åçš„&lt;strong&gt;é˜Ÿå¤´é˜»å¡&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5375d7f4d22849ed8e2cd818c762448d~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;é˜Ÿå¤´é˜»å¡&quot;/&gt;é˜Ÿå¤´é˜»å¡
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è™½ç„¶ HTTP 1.1 æå‡ºäº†&lt;strong&gt;ç®¡çº¿åŒ–æœºåˆ¶&lt;/strong&gt;ï¼Œä¸€æ¬¡å¯ä»¥å‘é€å¤šä¸ªè¯·æ±‚ï¼Œä½†ä¾ç„¶è¦ç­‰å‰ä¸€ä¸ªè¯·æ±‚çš„å“åº”è¿”å›åæ‰èƒ½å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥è¿™ç§æœºåˆ¶èŠèƒœäºæ— ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å†ä»”ç»†æƒ³æƒ³ï¼Œä¸ºå•¥ä¼šæœ‰é˜Ÿå¤´é˜»å¡è¿™æ ·çš„é—®é¢˜ï¼Œæœ¬è´¨ä¸Šå…¶å®æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æ³•åŒºåˆ†æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œå†å›é¡¾ä¸€ä¸‹æˆ‘ä»¬ä¸Šæ–‡çš„åˆ†å±‚æ¨¡å‹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f0ab304a2ab42e8bd9e1be4a638741f~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šæ˜¯æ¯ä¸€å±‚å‘å‡ºçš„åŒ…ï¼Œæ¯ä¸ªæ•°æ®é“¾æ¥å±‚çš„åŒ…ï¼ˆå‡†ç¡®åœ°è¯´ï¼Œé“¾è·¯å±‚çš„åŒ…åº”è¯¥å«å¸§ï¼‰è§„å®šçš„ IP æ•°æ®æŠ¥çš„å¤§å°æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸€èˆ¬æŠŠè¿™ä¸ªå¤§å°é™åˆ¶ç§°ä¸º&lt;strong&gt;æœ€å¤§ä¼ è¾“å•å…ƒ&lt;/strong&gt;ï¼ˆMTU, &lt;strong&gt;M&lt;/strong&gt;aximum &lt;strong&gt;T&lt;/strong&gt;ransmission &lt;strong&gt;U&lt;/strong&gt;nitï¼‰, TCP æ•°æ®æŠ¥çš„å¤§å°ä¹Ÿæ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º MSSï¼ˆ&lt;strong&gt;M&lt;/strong&gt;aximum &lt;strong&gt;T&lt;/strong&gt;ransmission &lt;strong&gt;U&lt;/strong&gt;nitï¼‰&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04c10e08d132413d8315437c47a9d162~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´å¯¹äºæ¯ä¸€ä¸ªæœ€ç»ˆå‘é€çš„ä»¥å¤ªç½‘åŒ…èƒ½ä¼ è¾“çš„åº”ç”¨å±‚æ•°æ®æ˜¯æœ‰é™çš„ï¼Œå¦‚æœä¸Šå±‚çš„åº”ç”¨å±‚è¦å‘çš„æ•°æ®å¤§å°è¶…è¿‡äº†ä»¥å¤ªç½‘åŒ…çš„å¤§å°ï¼Œå°±éœ€è¦å¯¹å…¶è¿›è¡Œæ‹†åˆ†ï¼Œåˆ†æˆå‡ ä¸ªä»¥å¤ªç½‘åŒ…å†ä¼ è¾“ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e5fa90c045f479dbca064a008f55997~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥æ”¶æ–¹æ‹¿åˆ°æ¯ä¸ªåŒ…çš„åº”ç”¨å±‚æ•°æ®å†ç»„è£…æˆåº”ç”¨å±‚æ•°æ®ï¼Œç„¶åä¸€ä¸ªè¯·æ±‚æ‰ç®—æ¥æ”¶å®Œæˆï¼Œå“åº”ä¹Ÿæ˜¯ç±»ä¼¼çš„åŸç†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹Ÿæ˜¯å®ä½“é¦–éƒ¨å­—æ®µ Content-Length å­˜åœ¨çš„æ„ä¹‰ï¼Œæ¥æ”¶æ–¹é€šè¿‡ Content-Length å°±å¯ä»¥åˆ¤æ–­å‡ ä¸ªè¯·æ±‚æŠ¥æ–‡ç»„åˆåå¤§å°æ˜¯å¦è¾¾åˆ°è¿™ä¸ªè®¾ç½®å€¼ï¼Œå¦‚æœæ˜¯è¯´æ˜æŠ¥æ–‡æ¥æ”¶å®Œæ¯•ï¼Œå°±å¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œè§£æäº†ï¼Œå¦‚æœå°‘äºè¿™ä¸ªå€¼ï¼Œè¯´æ˜è¿˜éœ€è¦æ¥æ”¶è¯·æ±‚åŒ…ç›´åˆ°è¾¾åˆ°è¿™ä¸ªè®¾å®šçš„å€¼ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;**ç”»å¤–éŸ³ï¼ŒContent-Length æŒ‡çš„æ˜¯å®ä½“æ¶ˆæ¯é¦–éƒ¨ï¼Œä¹Ÿå°±æ˜¯åœ¨ POSTï¼ŒPUT ç­‰æ–¹æ³•ä¸­ä¼ è¾“å®ä½“æ•°æ®æ—¶æ‰ä¼šå‡ºç°ï¼ŒGET è¯·æ±‚ä¸ä¼šå‡ºç° **&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åº•å±‚ï¼Œæ¯ä¸ªè¯·æ±‚æ˜¯å¤ç”¨åŒä¸€ä¸ªè¿æ¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªåŒ…å‘é€éƒ½æ˜¯ä¸²è¡Œçš„ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c61b613457b840f19c743bd43465bbc8~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ HTTP 1.1 ä¸­ï¼Œæ²¡æ³•åŒºåˆ†æ¯ä¸ªæ•°æ®åŒ…æ‰€å±çš„è¯·æ±‚ï¼Œæ‰€ä»¥å®ƒè§„å®šæ¯ä¸ªè¯·æ±‚åªèƒ½ä¸²è¡Œå¤„ç†ï¼Œæ¯ä¸ªè¯·æ±‚é€šè¿‡ Content-Length åˆ¤æ–­æ¥æ”¶å®Œæ¯ä¸ªè¯·æ±‚çš„æ•°æ®åŒ…å¹¶å¤„ç†åï¼Œæ‰èƒ½å†å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™æ ·çš„è¯å¦‚æœæŸä¸ªè¯·æ±‚å¤„ç†å¤ªæ…¢å°±ä¼šå½±å“åç»­è¯·æ±‚çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆ HTTP 2.0 åˆæ˜¯å¦‚ä½•å¤„ç†é˜Ÿå¤´é˜»å¡çš„å‘¢ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ­å¼€ä¸€ä¸‹ HTTP 2.0 çš„é¢çº±ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;HTTP 2.0 æ¦‚è§ˆ&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 2.0 åœ¨æ€§èƒ½ä¸Šå®ç°äº†å¾ˆå¤§çš„é£è·ƒï¼Œæ›´éš¾å¾—çš„æ˜¯å®ƒåœ¨æ”¹è¿›çš„åŒæ—¶ä¿æŒäº†è¯­ä¹‰çš„ä¸å˜ï¼Œä¸ HTTP 1.1 çš„è¯­ä¹‰å®Œå…¨ç›¸åŒï¼æ¯”å¦‚è¯·æ±‚æ–¹æ³•ã€URIã€çŠ¶æ€ç ã€å¤´å­—æ®µç­‰æ¦‚å¿µéƒ½ä¿ç•™ä¸å˜ï¼Œè¿™æ ·å°±æ¶ˆé™¤äº†å†å­¦ä¹ çš„æˆæœ¬ï¼Œåœ¨æˆ‘ä»¬çš„æ—¥å¸¸è½¯ä»¶å‡çº§ä¸­ï¼Œ&lt;strong&gt;å‘ä¸‹å…¼å®¹&lt;/strong&gt;éå¸¸é‡è¦ï¼Œä¹Ÿæ˜¯ä¿ƒè¿›äº§å“å¤§è§„æ¨¡ä½¿ç”¨çš„ä¸€ä¸ªå‰æï¼Œä¸ç„¶ä½ ä¸€å‡çº§ï¼Œå„ç§æ¥å£ä¹‹ç±»çš„å…¨æ¢äº†ï¼Œè°è¿˜æ•¢å‡ã€‚ &lt;strong&gt;HTTP 2.0 åªåœ¨è¯­æ³•ä¸Šåšäº†é‡è¦æ”¹è¿›ï¼Œå®Œå…¨å˜æ›´äº† HTTP æŠ¥æ–‡çš„ä¼ è¾“æ ¼å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¯­æ³•ä¸Šä¸»è¦å®ç°äº†ä»¥ä¸‹æ”¹é€ &lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;1ã€å¤´éƒ¨å‹ç¼©&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 1.1 è€ƒè™‘äº† body çš„å‹ç¼©ï¼Œä½†æ²¡æœ‰è€ƒè™‘ header çš„å‹ç¼©, ç»å¸¸å‡ºç°ä¼ äº†å¤´éƒ¨ä¸Šç™¾ï¼Œä¸Šåƒå­—èŠ‚ï¼Œä½† Body å´åªæœ‰å‡ åå­—èŠ‚çš„æƒ…å†µï¼Œæµªè´¹äº†å¸¦å®½ï¼Œè€Œä¸”æˆ‘ä»¬çŸ¥é“ä» 1.1 å¼€å§‹é»˜è®¤æ˜¯é•¿è¿æ¥ï¼Œå‡ ç™¾ä¸Šåƒä¸ªè¯·æ±‚éƒ½ç”¨çš„è¿™ä¸ªè¿æ¥ï¼Œè€Œè¯·æ±‚çš„å¤´éƒ¨å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„ï¼Œé€ æˆäº†å¸¦å®½çš„æå¤§æµªè´¹!æƒ³è±¡ä¸€ä¸‹é¢çš„è¿™ä¸ªè¯·æ±‚ï¼Œä¸ºäº†ä¼ è¾“åŒºåŒº ã€Œname=michale ã€è¿™å‡ ä¸ªå­—èŠ‚ï¼Œå´è¦ä¼ è¾“å¦‚æ­¤å·¨é‡çš„å¤´éƒ¨ï¼Œæµªè´¹çš„å¸¦å®½ç¡®å®æƒŠäººã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/863990434e594f91a09a354ce74093fa~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆ HTTP 2.0 æ˜¯å¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿå®ƒå¼€å‘äº†ä¸“é—¨çš„ ã€ŒHPACKã€ç®—æ³•ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸¤ç«¯å»ºç«‹å­—å…¸ï¼Œç”¨ç´¢å¼•å·è¡¨ç¤ºé‡å¤çš„å­—ç¬¦ä¸²ï¼Œè¿˜é‡‡ç”¨å“ˆå¤«æ›¼ç¼–ç æ¥å‹ç¼©æ•°å­—å’Œæ•´æ•°ï¼Œå¯ä»¥è¾¾åˆ°æœ€é«˜è¾¾ 90% çš„å‹ç¼©ç‡&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a68bef9bb152466bb381e0c2cd1be603~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œç®€å•è§£é‡Šä¸‹ï¼Œå¤´éƒ¨å‹ç¼©éœ€è¦åœ¨æ”¯æŒ HTTP 2.0 çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼š&lt;/p&gt;
&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;ç»´æŠ¤ä¸€ä»½é™æ€çš„å­—å…¸ï¼ˆStatic tableï¼‰ï¼ŒåŒ…å«å¸¸è§çš„å¤´éƒ¨åç§°ï¼Œä»¥åŠç‰¹åˆ«å¸¸è§çš„å¤´éƒ¨åç§°ä¸å€¼çš„ç»„åˆã€‚è¿™æ ·çš„è¯å¦‚æœè¯·æ±‚å“åº”å‘½ä¸­äº†é™æ€å­—å…¸ï¼Œç›´æ¥å‘ç´¢å¼•å·å³å¯&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç»´æŠ¤ä¸€ä»½ç›¸åŒçš„åŠ¨æ€å­—å…¸ï¼ˆDynamic tableï¼‰ï¼Œå¯ä»¥åŠ¨æ€åœ°æ·»åŠ å­—å…¸ï¼Œè¿™æ ·çš„è¯å¦‚æœå®¢æˆ·ç«¯é¦–æ¬¡è¯·æ±‚ç”±äºã€ŒUser-Agent: xxxã€,ã€Œhost:xxxã€,ã€ŒCookieã€è¿™äº›çš„åŠ¨æ€é”®å€¼å¯¹æ²¡æœ‰å‘½ä¸­é™æ€å­—å…¸ï¼Œè¿˜æ˜¯ä¼šä¼ ç»™æœåŠ¡å™¨ï¼Œä½†æœåŠ¡å™¨æ”¶åˆ°åä¼šåŸºäºä¼ è¿‡æ¥çš„é”®å€¼å¯¹åˆ›å»ºåŠ¨æ€å­—å…¸æ¡ç›®ï¼Œå¦‚ä¸Šå›¾çš„ã€ŒUser-Agent: xxxã€å¯¹åº”æ•°å­— 62ï¼Œã€Œhost:xxxã€å¯¹åº”æ•°å­— 63ï¼Œè¿™æ ·åŒæ–¹éƒ½åˆ›å»ºåŠ¨æ€æ¡ç›®åï¼Œä¹‹åå°±å¯ä»¥ç”¨åªä¼  62ï¼Œ63 è¿™æ ·çš„ç´¢å¼•å·æ¥é€šä¿¡äº†ï¼æ˜¾è€Œæ˜“è§ï¼Œä¼ è¾“æ•°æ®æ€¥é½é™ä½ï¼Œæå¤§åœ°æå‡äº†ä¼ è¾“æ•ˆç‡ï¼éœ€è¦æ³¨æ„çš„æ˜¯åŠ¨æ€å­—å…¸æ˜¯æ¯ä¸ªè¿æ¥è‡ªå·±ç»´æŠ¤çš„ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæ¯ä¸ªè¿æ¥è€Œè¨€ï¼Œé¦–æ¬¡éƒ½å¿…é¡»å‘é€åŠ¨æ€é”®å€¼å¯¹&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æ”¯æŒåŸºäºé™æ€å“ˆå¤«æ›¼ç è¡¨çš„å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman Codingï¼‰ï¼šå¯¹äºé™æ€ã€åŠ¨æ€å­—å…¸ä¸­ä¸å­˜åœ¨çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¤«æ›¼ç¼–ç æ¥å‡å°ä½“ç§¯ã€‚HTTP/2 ä½¿ç”¨äº†ä¸€ä»½é™æ€å“ˆå¤«æ›¼ç è¡¨ï¼ˆè¯¦è§ï¼‰ï¼Œä¹Ÿéœ€è¦å†…ç½®åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹ä¸­ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;2ã€äºŒè¿›åˆ¶æ ¼å¼&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 1.1 æ˜¯çº¯æ–‡æœ¬å½¢å¼ï¼Œè€Œ 2.0 æ˜¯å®Œå…¨çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå®ƒæŠŠ TCP åè®®çš„éƒ¨åˆ†ç‰¹æ€§æŒªåˆ°äº†åº”ç”¨å±‚ï¼ŒæŠŠåŸæ¥çš„ Header+Body æ¶ˆæ¯æ‰“æ•£ä¸ºäº†æ•°ä¸ªå°ç‰ˆçš„äºŒè¿›åˆ¶&quot;å¸§&quot;ï¼ˆFrameï¼‰,â€œHEADERSâ€å¸§å­˜æ”¾å¤´æ•°æ®ã€â€œDATAâ€å¸§å­˜æ”¾å®ä½“æ•°æ®&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89058d4943334bd2aaf71c57fc4d31c3~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;HTTP 2.0 äºŒè¿›åˆ¶å¸§&quot;/&gt;HTTP 2.0 äºŒè¿›åˆ¶å¸§
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™äº›äºŒè¿›åˆ¶å¸§åªè®¤ 0ï¼Œ1ï¼ŒåŸºäºè¿™ç§è€ƒè™‘ http 2.0 çš„åè®®è§£æå†³å®šé‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼Œä½¿ç”¨äºŒè¿›åˆ¶çš„å½¢å¼è™½ç„¶å¯¹äººä¸å‹å¥½ï¼Œä½†&lt;strong&gt;å¤§å¤§æ–¹ä¾¿äº†è®¡ç®—æœºçš„è§£æ&lt;/strong&gt;ï¼ŒåŸæ¥ä½¿ç”¨çº¯æ–‡æœ¬å®¹æ˜“å‡ºç°å¤šä¹‰æ€§ï¼Œå¦‚å¤§å°å†™ï¼Œç©ºç™½å­—ç¬¦ç­‰ï¼Œç¨‹åºåœ¨å¤„ç†æ—¶å¿…é¡»ç”¨å¤æ‚çš„çŠ¶æ€æœºï¼Œ&lt;strong&gt;æ•ˆç‡ä½ï¼Œè¿˜éº»çƒ¦&lt;/strong&gt;ã€‚è€Œä½¿ç”¨äºŒè¿›åˆ¶çš„è¯å¯ä»¥ä¸¥æ ¼è§„å®šå­—æ®µå¤§å°ã€é¡ºåºã€æ ‡å¿—ä½ç­‰æ ¼å¼ï¼Œâ€œå¯¹å°±æ˜¯å¯¹ï¼Œé”™å°±æ˜¯é”™â€ï¼Œ&lt;strong&gt;è§£æèµ·æ¥æ²¡æœ‰æ­§ä¹‰ï¼Œå®ç°ç®€å•ï¼Œè€Œä¸”ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;3. æµ&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 2 å®šä¹‰äº†ã€Œæµã€ï¼ˆstreamï¼‰çš„çš„æ¦‚å¿µï¼Œå®ƒæ˜¯äºŒè¿›åˆ¶å¸§çš„åŒå‘ä¼ è¾“åºåˆ—ï¼ŒåŒä¸€ä¸ªæ¶ˆæ¯å¾€è¿”çš„æ•°æ®å¸§ ï¼ˆheader å¸§å’Œ data å¸§ï¼‰ä¼šåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„æµ IDï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åŒºåˆ†æ¯ä¸€ä¸ªè¯·æ±‚ã€‚åœ¨è¿™ä¸ªè™šæ‹Ÿçš„æµé‡Œï¼Œæ•°æ®å¸§æŒ‰å…ˆåæ¬¡åºä¼ è¾“ï¼Œåˆ°è¾¾åº”ç­”æ–¹åï¼Œå°†è¿™äº›æ•°æ®å¸§æŒ‰å®ƒä»¬çš„å…ˆåé¡ºåºç»„è£…èµ·æ¥ï¼Œæœ€åè§£æ HTTP 1.1 çš„è¯·æ±‚å¤´å’Œå®ä½“ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨&lt;strong&gt;åŒä¸€æ—¶é—´&lt;/strong&gt;ï¼Œè¯·æ±‚æ–¹å¯ä»¥åœ¨æµé‡Œå‘è¯·æ±‚ï¼Œåº”ç­”æ–¹ä¹Ÿå¯ä»¥ä¹Ÿæµé‡Œå‘å“åº”ï¼Œå¯¹æ¯” HTTP 1.1 ä¸€ä¸ªè¿æ¥ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€æ¬¡è¯·æ±‚-åº”ç­”ï¼Œååé‡å¤§å¤§æå‡&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56614ba2d55840f9a44f932fded6e0a7~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¦‚å›¾ç¤ºï¼Œä¸€ä¸ªè¿æ¥é‡Œå¤šä¸ªæµå¯ä»¥åŒæ—¶æ”¶å‘è¯·æ±‚-åº”ç­”æ•°æ®å¸§ï¼Œæ¯ä¸ªæµä¸­æ•°æ®åŒ…æŒ‰åºä¼ è¾“ç»„è£…&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€æœ‰çš„æµéƒ½æ˜¯åœ¨åŒä¸€ä¸ªè¿æ¥ä¸­æµåŠ¨çš„ï¼Œè¿™ä¹Ÿæ˜¯ HTTP 2.0 ç»å…¸çš„&lt;strong&gt;å¤šè·¯å¤ç”¨&lt;/strong&gt;ï¼ˆ Multiplexingï¼‰ï¼Œå¦å¤–ç”±äºæ¯ä¸ªæµéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥è°å…ˆå¤„ç†å¥½è¯·æ±‚ï¼Œè°å°±å¯ä»¥å…ˆå°†å“åº”é€šè¿‡è¿æ¥å‘é€ç»™å¯¹æ–¹ï¼Œä¹Ÿå°±è§£å†³äº†é˜Ÿå¤´é˜»å¡çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4be4913473d142d98b28c180a6ccfb55~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¦‚å›¾ç¤ºï¼Œåœ¨ HTTP 2 ä¸­ï¼Œä¸¤ä¸ªè¯·æ±‚åŒæ—¶å‘é€ï¼Œå¯ä»¥åŒæ—¶æ¥æ”¶ï¼Œè€Œåœ¨ HTTP 1.1 ä¸­å¿…é¡»ç­‰ä¸Šä¸€ä¸ªè¯·æ±‚å“åº”åæ‰èƒ½å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;&lt;strong&gt;HTTP 2 çš„é˜Ÿå¤´é˜»å¡&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP 2 å¼•å…¥çš„æµï¼Œå¸§ç­‰è¯­æ³•å±‚é¢çš„æ”¹é€ ç¡®å®è®©å…¶ä¼ è¾“æ•ˆç‡æœ‰äº†è´¨çš„é£è·ƒï¼Œä½†æ˜¯å®ƒä¾ç„¶å­˜åœ¨ç€é˜Ÿå¤´é˜»å¡ï¼Œè¿™æ˜¯å’‹å›äº‹ï¼Ÿ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ä¸»è¦æ˜¯å› ä¸º HTTP 2 çš„åˆ†å¸§ä¸»è¦æ˜¯åœ¨åº”ç”¨å±‚å¤„ç†çš„ï¼Œè€Œåˆ†å¸§æœ€ç»ˆè¿˜æ˜¯è¦ä¼ ç»™ä¸‹å±‚çš„ TCP å±‚ç»ç”±å®ƒå°è£…åå†è¿›è¡Œä¼ è¾“ï¼Œæ¯ä¸ªè¿æ¥æœ€ç»ˆè¿˜æ˜¯é¡ºåºä¼ è¾“è¿™äº›åŒ…ï¼Œ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/711842bf12074605b853539d5534e17e~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;strong&gt;å¦‚å›¾ç¤ºï¼šæµåªæ˜¯æˆ‘ä»¬è™šæ‹Ÿå‡ºæ¥çš„æ¦‚å¿µï¼Œæœ€ç»ˆåœ¨è¿æ¥å±‚é¢è¿˜æ˜¯é¡ºåºä¼ çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;TCP æ˜¯å¯é è¿æ¥ï¼Œä¸ºäº†ä¿è¯è¿™äº›åŒ…èƒ½é¡ºåºä¼ ç»™å¯¹æ–¹ï¼Œä¼šè¿›è¡Œä¸¢åŒ…é‡ä¼ æœºåˆ¶ï¼Œå¦‚æœä¼ äº†ä¸‰ä¸ªåŒ…ï¼Œåä¸¤ä¸ªåŒ…ä¼ æˆåŠŸï¼Œä½†ç¬¬ä¸€ä¸ªåŒ…ä¼ å¤±è´¥äº†ï¼ŒTCP åè®®æ ˆä¼šæŠŠå·²æ”¶åˆ°çš„åŒ…æš‚å­˜åˆ°ç¼“å­˜åŒºä¸­ï¼Œåœä¸‹ç­‰å¾…ç¬¬ä¸€ä¸ªåŒ…çš„é‡ä¼ æˆåŠŸï¼Œè¿™æ ·çš„è¯åœ¨ç½‘ç»œä¸ä½³çš„æƒ…å†µä¸‹åªè¦ä¸€ä¸ªåŒ…é˜»å¡äº†ï¼Œç”±äºé‡ä¼ æœºåˆ¶ï¼Œåé¢çš„åŒ…å°±è¢«é˜»å¡äº†ï¼Œä¸Šå±‚åº”ç”¨ç”±äºæ‹¿ä¸åˆ°åŒ…ä¹Ÿåªèƒ½å¹²çªçœ¼äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºè¿™æ˜¯ TCP åè®®å±‚é¢çš„æœºåˆ¶ï¼Œæ— æ³•æ”¹é€ ï¼Œæ‰€ä»¥ HTTP 2 çš„é˜Ÿå¤´é˜»å¡æ˜¯ä¸å¯é¿å…çš„ã€‚HTTP 3 å¯¹æ­¤è¿›è¡Œäº†æ”¹è¿›ï¼Œå°† TCP æ¢æˆäº† UDP æ¥è¿›è¡Œä¼ è¾“ï¼Œç”±äº UDP æ˜¯æ— åºçš„ï¼Œä¸éœ€è¦æ–­å»ºè¿ï¼ŒåŒ…ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥ä»æ ¹æœ¬ä¸Šè§£å†³äº†â€œé˜Ÿå¤´é˜»å¡â€, å½“ç„¶ç”±äº UDP æœ¬èº«çš„è¿™äº›ç‰¹æ€§ä¸è¶³ä»¥æ”¯æ’‘å¯é çš„é€šä¿¡ï¼Œæ‰€ä»¥ Google åœ¨ UDP çš„åŸºç¡€ä¸Šä¹ŸåŠ äº† TCP çš„è¿æ¥ç®¡ç†ï¼Œæ‹¥å¡çª—å£ï¼Œæµé‡æ§åˆ¶ç­‰æœºåˆ¶ï¼Œè¿™å¥—åè®®æˆ‘ä»¬ç§°ä¹‹ä¸º QUIC åè®®ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ea5aaa61d68480c9d074d1e021eb9b6~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;HTTP 1,2,3 ä¸‰è€…å¯¹æ¯”&quot;/&gt;HTTP 1,2,3 ä¸‰è€…å¯¹æ¯”
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ä¸ç®¡æ˜¯ HTTP 2 è¿˜æ˜¯ 3 å®ƒä»¬åº•å±‚éƒ½æ”¯æŒç”¨ TLSï¼Œä¿ç•™äº† HTTPS å®‰å…¨çš„ç‰¹æ€§ï¼Œè¿™ä¹Ÿå¯ä»¥ç†è§£ï¼Œåœ¨äº’è”ç½‘å‘å±•å¦‚æ­¤è¿…çŒ›çš„ä»Šå¤©ï¼Œå„å¤§ä¼ä¸šä¹Ÿè¶Šæ¥è¶Šé‡è§†é€šä¿¡å®‰å…¨ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æ€»ç»“ï¼šHTTP çš„ç‰¹ç‚¹&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´äº†è¿™ä¹ˆå¤š HTTPï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•æ€»ç»“ä¸€ä¸‹ HTTP çš„ç‰¹ç‚¹&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1ã€çµæ´»å¯æ‰©å±•&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¿™å¯ä»¥è¯´æ˜¯ HTTP æœ€é‡è¦çš„ç‰¹ç‚¹&lt;/strong&gt;ï¼Œä¹Ÿæ˜¯ HTTP èƒ½å¤§è¡Œå…¶é“å¹¶ç¢¾å‹å…¶ä»–åè®®ç§°éœ¸äºä¸–çš„æ ¹æœ¬åŸå› ï¼å®ƒåªè§„å®šäº†æŠ¥æ–‡çš„åŸºæœ¬æ ¼å¼ï¼Œç”¨ç©ºæ ¼åˆ†éš”å•è¯ï¼Œç”¨æ¢è¡Œåˆ†éš”å­—æ®µï¼Œã€Œheader+bodyã€ç­‰åŸºæœ¬è¯­ä¹‰ï¼Œä½†åœ¨è¯­æ³•å±‚é¢å¹¶ä¸åšé™åˆ¶ï¼Œå®ƒå¹¶æ²¡æœ‰å¼ºåˆ¶è§„å®š header é‡Œåº”è¯¥ä¼ ä»€ä¹ˆï¼Œä¹Ÿæ²¡æœ‰é™åˆ¶å®ƒåº•å±‚åº”è¯¥ç”¨ä»€ä¹ˆä¼ è¾“ï¼Œè¿™ä¹Ÿä¸º HTTPS æ·»åŠ  SSL/TLS å±‚æ¥åŠ å¯†ä¼ è¾“ï¼ŒHTTP2 ä½¿ç”¨å¸§ï¼Œæµæ¥è¿›è¡Œå¤šè·¯å¤ç”¨ï¼ŒHTTP 3 ä½¿ç”¨ UDP å½»åº•è§£å†³è§£å†³é˜Ÿå¤´é˜»å¡é—®é¢˜æä¾›äº†å¯èƒ½ï¼åç»­å¦‚æœåˆå‡ºç°äº†ç‰›é€¼çš„åè®®ï¼Œåº•å±‚ä¹Ÿéšæ—¶å¯ä»¥æ›¿æ¢&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2ã€å¯é ä¼ è¾“&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ç®¡åº•å±‚æ˜¯ TCP è¿˜æ˜¯ QUICï¼ˆåº•å±‚ä½¿ç”¨ UDPï¼‰ï¼Œå®ƒä»¬çš„ä¼ è¾“éƒ½æ˜¯å¯é çš„ï¼Œéƒ½èƒ½ä¿è¯åº”ç”¨å±‚è¯·æ±‚å“åº”çš„å¯é ä¼ è¾“ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä¸ç„¶ä¼ è¾“è¿‡ç¨‹ä¸­ç¼ºèƒ³è†Šå°‘è…¿ï¼Œåº”ç”¨å±‚å°±æ— æ³•è§£æäº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;3ã€åº”ç”¨å±‚åè®®&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP æ˜¯ä¸€ä¸ªåè®®ï¼Œå¾ˆå¤šäººæŠŠ HTTP å’Œ TCP æ··åœ¨äº†ä¸€èµ·ï¼Œ å°±åƒå‰æ–‡æ‰€è¿°ï¼ŒTCP ç›¸å½“äºé«˜é€Ÿå…¬è·¯ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å¯é çš„ä¼ è¾“é€šé“ï¼ŒHTTP è§„å®šè´§ç‰©çš„è¡¨ç°å½¢å¼ï¼ˆheader + ç©ºè¡Œ+ bodyï¼‰ï¼Œè´§ç‰©æ˜¯å¦å¯ä»ä¸­é—´ç«™è¿å›ï¼ˆç¼“å­˜æœºåˆ¶ï¼‰é«˜é€Ÿå…¬è·¯æ˜¯å¦åº”è¯¥å…³é—­ï¼ˆè¿æ¥æ§åˆ¶ï¼‰ï¼Œ&lt;strong&gt;è‡³äºè´§ç‰©å¦‚ä½•å¯é ä¼ è¾“åˆ°ç›®çš„åœ°ï¼Œé‚£æ˜¯ TCP çš„äº‹ï¼Œä¸ HTTP æ— å…³&lt;/strong&gt;ï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ˜¯ä¸å°‘äººç»å¸¸ææ··çš„ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;4ã€è¯·æ±‚åº”ç­”æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP éœ€è¦è¯·æ±‚æ–¹å‘èµ·è¯·ç¤ºï¼Œç„¶ååº”ç­”æ–¹å¯¹æ­¤ä½œå‡ºå“åº”ï¼Œåº”ç­”æ–¹ä¸ä¼šæ— ç¼˜æ— æ•…åœ°å‘å“åº”ç»™è¯·æ±‚æ–¹ï¼Œå¦å¤–è¯·æ±‚å’Œåº”ç­”æ–¹çš„è§’è‰²æ˜¯å¯ä»¥äº’æ¢çš„ï¼Œæ¯”å¦‚ HTTP 2 ä¸­ server æ˜¯å¯ä»¥ä¸»åŠ¨ push ç»™ client çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ server å³ä¸ºè¯·æ±‚æ–¹ï¼Œcilent å³ä¸ºåº”ç­”æ–¹&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;5ã€æ— çŠ¶æ€&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HTTP çš„æ¯ä¸ªè¯·æ±‚-åº”ç­”éƒ½æ˜¯æ— å…³çš„ï¼Œå³æ¯æ¬¡çš„æ”¶å‘æŠ¥æ–‡éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œæ²¡æœ‰ä»»ä½•è”ç³»çš„ï¼ŒæœåŠ¡å™¨æ”¶åˆ°æ¯ä¸ªè¯·æ±‚å“åº”åï¼Œä¸ä¼šè®°å½•è¿™ä¸ªè¯·æ±‚çš„ä»»ä½•ä¿¡æ¯ï¼Œæœ‰äººè¯´ä¸å¯¹å•Šï¼Œä¸ºå•¥æˆ‘æ·»åŠ å¤šæ¬¡è´­ç‰©è½¦ï¼Œè´­ç‰©è½¦åˆ—è¡¨è¿˜èƒ½ä¿ç•™æˆ‘ä¹‹å‰åŠ è¿‡çš„å•†å“å‘¢ï¼Ÿè¿™å°±è¦ç®€å•åœ°äº†è§£ä¸€ä¸‹ Session å’Œ Cookie äº†ï¼ŒSession å¯ä»¥è®¤ä¸ºæ˜¯ Server ç”¨æ¥è¿½è¸ªæ¯ä¸ªç”¨æˆ·è¡Œä¸ºçš„ä¸€ä¸ªä¼šè¯ï¼Œserver ä¼šç»™æ¯ä¸ªç”¨æˆ·åˆ†é…ä¸€ä¸ªè¿™ä¸ª Session çš„ sessionï¼Œé€šè¿‡ Cookie è¿™ä¸ªå¤´å­—æ®µè¿”å›ç»™ clientï¼Œä¹‹å client æ¯æ¬¡è¯·æ±‚éƒ½ä¼šåœ¨ Cookie é‡Œå¸¦ä¸Šè¿™ä¸ª sessionIdï¼Œserver æ‹¿åˆ° sessionId ä¹‹åå°±çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·å‘èµ·çš„äº†&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b49cd687a6104407a7f3921da70b3a37~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;å›ç­”å¼€ç¯‡é—®é¢˜&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§éƒ¨åˆ†é—®é¢˜å·²ç»éšè—åœ¨æœ¬æ–‡çš„çŸ¥è¯†ç‚¹è®²è¿°ä¸­äº†ï¼Œè¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1ã€ä¸ºä»€ä¹ˆè¯´åçˆ¬æ˜¯ä¸ªä¼ªå‘½é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºä¸ç®¡æ˜¯æ­£å¸¸çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¿˜æ˜¯çˆ¬è™«è¯·æ±‚ï¼Œéƒ½è¦éµå¾ª HTTP åè®®ï¼Œçˆ¬è™«å‘çš„ HTTP æŠ¥æ–‡ä¸æ­£å¸¸ç”¨æˆ·è¯·æ±‚æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼ŒæœåŠ¡å™¨æ— æ³•åŒºåˆ†ï¼ŒæœåŠ¡å™¨åªèƒ½é€šè¿‡ä¸€äº› trickï¼Œå¦‚çŸ­æ—¶é—´å†…å‘ç°æŸä¸ª ip çš„è¯·æ±‚ç‰¹åˆ«é¢‘ç¹è®¤å®šå…¶ä¸ºçˆ¬è™«ï¼Œç›´æ¥æ‹’ç»æœåŠ¡ï¼Œæˆ–è€…é€šè¿‡éªŒè¯ç çš„æ–¹å¼ç­‰æé«˜çˆ¬è™«çš„éš¾åº¦ï¼Œä½†æ— æ³•å½»åº•æœç»ï¼Œå½“ç„¶çˆ¬è™«ä¹Ÿæœ‰åº”å¯¹ä¹‹é“ï¼Œå®ƒå¯ä»¥åœ¨è¯·æ±‚çš„æ—¶å€™ä¸åœåœ°æ›´æ¢è‡ªå·±çš„ ip ä»¥è¾¾åˆ°æ¬ºéª— server çš„ç›®çš„ï¼Œä¹Ÿå¯ä»¥ç ´è§£éªŒè¯ç ï¼Œçˆ¬è™«å’Œåçˆ¬ä¹Ÿæ˜¯åœ¨ç›¸çˆ±ç›¸æ€ä¸­ä¸æ–­æé«˜ç ´è§£ä¸è¢«ç ´è§£çš„æ‰‹æ®µäº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2ã€301 ä¸ 302 æœ‰å•¥åŒºåˆ«&lt;/strong&gt; è¿™ä¸€ç‚¹å…¶å®æˆ‘åœ¨ä¹‹å‰çš„&lt;a href=&quot;https://mp.weixin.qq.com/s/YTrBaERcyjvw7A0Fg2Iegw&quot;&gt;é«˜æ€§èƒ½çŸ­é“¾è®¾è®¡&lt;/a&gt;æœ‰æè¿‡ï¼Œåœ¨çŸ­é“¾è®¾è®¡ä¸­ï¼Œé‡å®šå‘æ˜¯ä¸€ä¸ªå¿…é¡»è¦è€ƒè™‘çš„ç‚¹&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d405f5264a254cc58134a6dd5ff94628~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚å›¾ç¤ºï¼Œè¾“å…¥ A ç½‘å€åï¼Œä¼šé‡å®šå‘åˆ° B ç½‘å€ï¼Œå°±éœ€è¦è€ƒè™‘æ˜¯ç”¨ 301 è¿˜æ˜¯ 302ï¼Œä¸¤è€…çš„åŒºåˆ«å¦‚ä¸‹&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;301ï¼šä»£è¡¨æ°¸ä¹…é‡å®šå‘ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€æ¬¡è¯·æ±‚æ‹¿åˆ°é•¿é“¾æ¥åï¼Œä¸‹æ¬¡æµè§ˆå™¨å†å»è¯·æ±‚çŸ­é“¾çš„è¯ï¼Œä¸ä¼šå‘çŸ­ç½‘å€æœåŠ¡å™¨è¯·æ±‚äº†ï¼Œè€Œæ˜¯ç›´æ¥ä»æµè§ˆå™¨çš„ç¼“å­˜é‡Œæ‹¿ï¼Œè¿™æ ·åœ¨ server å±‚é¢å°±æ— æ³•è·å–åˆ°çŸ­ç½‘å€çš„ç‚¹å‡»æ•°äº†ï¼Œå¦‚æœè¿™ä¸ªé“¾æ¥åˆšå¥½æ˜¯æŸä¸ªæ´»åŠ¨çš„é“¾æ¥ï¼Œä¹Ÿå°±æ— æ³•åˆ†ææ­¤æ´»åŠ¨çš„æ•ˆæœã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¸é‡‡ç”¨ 301ã€‚&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;302ï¼šä»£è¡¨ä¸´æ—¶é‡å®šå‘ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡å»è¯·æ±‚çŸ­é“¾éƒ½ä¼šå»è¯·æ±‚çŸ­ç½‘å€æœåŠ¡å™¨ï¼ˆé™¤éå“åº”ä¸­ç”¨ Cache-Control æˆ– Expired æš—ç¤ºæµè§ˆå™¨ç¼“å­˜ï¼‰,è¿™æ ·å°±ä¾¿äº server ç»Ÿè®¡ç‚¹å‡»æ•°ï¼Œæ‰€ä»¥è™½ç„¶ç”¨ 302 ä¼šç»™ server å¢åŠ ä¸€ç‚¹å‹åŠ›ï¼Œä½†åœ¨æ•°æ®å¼‚å¸¸é‡è¦çš„ä»Šå¤©ï¼Œè¿™ç‚¹ä»£ç æ˜¯å€¼å¾—çš„ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ 302ï¼&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;3ã€HTTP 1.1 å”¯ä¸€ä¸€ä¸ªè¦æ±‚è¯·æ±‚å¤´å¿…ä¼ çš„å­—æ®µæ˜¯å“ªä¸ªï¼Œå®ƒæœ‰ä»€ä¹ˆä½œç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¯ Host, HTTP 1.1 å…è®¸ä¸€å°æœåŠ¡å™¨æ­å»ºå¤šä¸ª Web ç«™ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å°æœåŠ¡å™¨å¯ä»¥æ‰˜ç®¡å¤šä¸ªåŸŸåå¯¹åº”çš„ç½‘ç«™ï¼Œè¿™æ ·çš„è¯å¿…é¡»æŒ‡å®š Hostï¼Œåˆ°è¾¾æœåŠ¡å™¨åæ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„ç½‘å€å‘å…¶è¯·æ±‚ã€‚&lt;/p&gt;
&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2738b0ff139644fdadd9d575e418fef3~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;4. è€ç”Ÿå¸¸è°ˆå¾ˆå¤šäººçš„è¯¯è§£ï¼šGET å’Œ POST çš„åŒºåˆ«æ˜¯å•¥&lt;/strong&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé—®é¢˜å¾ˆå¤šäººéƒ½æœ‰è¯¯è§£ï¼Œæœ€å¸¸è§çš„è¯¯è§£æ¯”å¦‚ POST è¯·æ±‚å®‰å…¨ï¼ŒGETå‚æ•°é€šè¿‡ URL ä¼ é€’ï¼ŒPOST æ”¾åœ¨è¯·æ±‚ä½“é‡Œç­‰ç­‰ï¼Œè¿™äº›å›ç­”æ²¡æœ‰ GET åˆ°ç‚¹ä¸Šï¼Œå…¶å® GETï¼ŒPOST éƒ½å¯ä»¥ç”¨æ¥ä¼ è¾“ä¿¡æ¯ï¼ŒGET è¯·æ±‚å¯ä»¥ç”¨ body ä¼ è¾“æ•°æ®ï¼Œåœ¨POST è¯·æ±‚æ—¶ä½ å¯ä»¥ä¸ç”¨ä¸ç”¨ body è€Œç”¨ url ä¼ è¾“æ•°æ®ï¼Œè¿™éƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œè¿™å°±å¥½æ¯”ä½ å¯ä»¥ç”¨æ•‘æŠ¤è½¦æ¥è¿è´§ï¼Œä¹Ÿå¯ä»¥ç”¨å¡è½¦æ¥æ•‘äººï¼Œéƒ½æ²¡æœ‰é—®é¢˜çš„ï¼Œ&lt;strong&gt;ä½†è¿™ä¸ç¬¦åˆäººä»¬çš„è®¤çŸ¥ï¼Œ ä¸ç¬¦åˆ HTTP å¯¹å…¶å®šä¹‰çš„è¯­ä¹‰&lt;/strong&gt;ï¼Œæ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œéµå¾ªè¯­ä¹‰å¤§å®¶æ²Ÿé€šæ‰èƒ½æ›´é«˜æ•ˆï¼Œ&lt;strong&gt;æ‰€ä»¥å…¶å®å®ƒä»¬çš„åŒºåˆ«åªåœ¨è¯­ä¹‰ä¸Šæœ‰åŒºåˆ«&lt;/strong&gt;ï¼Œè‡³äºå®‰å…¨ï¼Œé‚£æ˜¯ HTTPS çš„äº‹äº†ã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æœ€åï¼šæ±‚ä¸‰è¿&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç¯‡æ–‡ç« æ–­æ–­ç»­ç»­å†™äº†ä¸¤å‘¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½ä¸‰è¿èµ°èµ·ï¼Œæ„Ÿè°¢æ”¯æŒ!&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœªå…³æ³¨çš„æœ‹å‹å¯ä»¥æ‰«ç å…³æ³¨ï¼Œæ¥æ”¶åç»­æ›´å¤šç²¾å½©å†…å®¹ï¼ &lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/503fcc160cfd4b749980664ccacbe7b4~tplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·¨äººçš„è‚©è†€&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;æå®¢æ—¶é—´-é€è§† HTTP åè®®&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å›¾è§£ HTTP&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://blog.konghy.cn/2019/08/06/dns-overview/&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://aws.amazon.com/cn/route53/what-is-dns/&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://developer.mozilla.org/en-US/docs/Web/HTTP&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;è·¨åŸŸï¼šhttps://blog.csdn.net/github_34708151/article/details/105383810&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;HTTP çŠ¶æ€ç ï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;http://entropymine.com/jason/testbed/mime/&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://httpwg.org/specs/rfc7541.html#static.table.definition&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://imququ.com/post/header-compression-in-http2.html&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;https://developers.google.com/web/fundamentals/performance/http2&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Fri, 01 Jan 2021 13:53:00 +0000</pubDate>
<dc:creator>ErnestEvan</dc:creator>
<og:description>å‰è¨€ å¦‚æœè¯´ TCP/IP åè®®æ˜¯äº’è”ç½‘é€šä¿¡çš„æ ¹åŸºï¼Œé‚£ä¹ˆ HTTP å°±æ˜¯å…¶ä¸­å½“ä¹‹æ— æ„§çš„ç‹è€…ï¼Œå°åˆ°æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ¸¸æˆï¼Œæ–°é—»ï¼Œå¤§åˆ°åŒåä¸€ç§’æ€ç­‰éƒ½èƒ½çœ‹åˆ°å®ƒçš„èº«å½±ï¼Œæ® NetCraft ç»Ÿè®¡ï¼Œç›®å‰å…¨çƒè‡³å°‘æœ‰ 1</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/xiekun/p/14221020.html</dc:identifier>
</item>
<item>
<title>SpringBootè¿›é˜¶æ•™ç¨‹(å…­åä¹)ApplicationContextAware - è¯·å«æˆ‘å¤´å¤´å“¥</title>
<link>http://www.cnblogs.com/toutou/p/ApplicationContextAware.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/toutou/p/ApplicationContextAware.html</guid>
<description>&lt;div id=&quot;cnblogs_post_description&quot; readability=&quot;35&quot;&gt;&lt;img class=&quot;desc_img zhaiyaoImage&quot; src=&quot;https://www.cnblogs.com/images/cnblogs_com/toutou/699740/o_spring.png&quot; alt=&quot;è¯·å«æˆ‘å¤´å¤´å“¥&quot;/&gt;åœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼ŒBeanéœ€è¦å®ç°æŸä¸ªåŠŸèƒ½ï¼Œä½†è¯¥åŠŸèƒ½å¿…é¡»å€ŸåŠ©äºSpringå®¹å™¨æ‰èƒ½å®ç°ï¼Œæ­¤æ—¶å°±å¿…é¡»è®©è¯¥Beanå…ˆè·å–Springå®¹å™¨ï¼Œç„¶åå€ŸåŠ©äºSpringå®¹å™¨å®ç°è¯¥åŠŸèƒ½ã€‚ä¸ºäº†è®©Beanè·å–å®ƒæ‰€åœ¨çš„Springå®¹å™¨ï¼Œå¯ä»¥è®©è¯¥Beanå®ç°ApplicationContextAwareæ¥å£ã€‚ApplicationContextAware é€šè¿‡å®ƒSpringå®¹å™¨ä¼šè‡ªåŠ¨æŠŠä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡è°ƒç”¨ApplicationContextAwareæ¥å£ä¸­çš„setApplicationContextæ–¹æ³•ã€‚åœ¨ApplicationContextAwareçš„å®ç°ç±»ä¸­ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡å¾—åˆ°Springå®¹å™¨ä¸­çš„Beanã€‚çœ‹åˆ°â€”Aware......&lt;/div&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;75.875776397516&quot;&gt;
&lt;div class=&quot;bodyCustomClass&quot; readability=&quot;32.5&quot;&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;åœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼ŒBeanéœ€è¦å®ç°æŸä¸ªåŠŸèƒ½ï¼Œä½†è¯¥åŠŸèƒ½å¿…é¡»å€ŸåŠ©äºSpringå®¹å™¨æ‰èƒ½å®ç°ï¼Œæ­¤æ—¶å°±å¿…é¡»è®©è¯¥Beanå…ˆè·å–Springå®¹å™¨ï¼Œç„¶åå€ŸåŠ©äºSpringå®¹å™¨å®ç°è¯¥åŠŸèƒ½ã€‚ä¸ºäº†è®©Beanè·å–å®ƒæ‰€åœ¨çš„Springå®¹å™¨ï¼Œå¯ä»¥è®©è¯¥Beanå®ç°ApplicationContextAwareæ¥å£ã€‚ApplicationContextAware é€šè¿‡å®ƒSpringå®¹å™¨ä¼šè‡ªåŠ¨æŠŠä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡è°ƒç”¨ApplicationContextAwareæ¥å£ä¸­çš„setApplicationContextæ–¹æ³•ã€‚åœ¨ApplicationContextAwareçš„å®ç°ç±»ä¸­ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡å¾—åˆ°Springå®¹å™¨ä¸­çš„Beanã€‚çœ‹åˆ°â€”Awareå°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„äº†ï¼Œå°±æ˜¯å±æ€§æ³¨å…¥çš„ï¼Œä½†æ˜¯è¿™ä¸ªApplicationContextAwareçš„ä¸åŒåœ°æ–¹åœ¨äºï¼Œå®ç°äº†è¿™ä¸ªæ¥å£çš„beanï¼Œå½“springå®¹å™¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„å°†ApplicationContextæ³¨å…¥è¿›æ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/506684/202012/506684-20201210153414928-1580224793.png&quot; alt=&quot;SpringBootè¿›é˜¶æ•™ç¨‹(å…­åä¹)ApplicationContextAware&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;1. æ·»åŠ å®ç°ApplicationContextAwareçš„å·¥å…·ç±»&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; learn.utils;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.BeansException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContextAware;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.stereotype.Component;

&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt; toutou
 * @date by 2020/12
 * @des
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@Component
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; SpringContextUtil &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; ApplicationContextAware {
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; ApplicationContext applicationContext;

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; setApplicationContext(ApplicationContext context) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
        applicationContext &lt;/span&gt;=&lt;span&gt; context;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; ApplicationContext getApplicationContext() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; applicationContext;
    }
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–Bean&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; T getBean(Class&amp;lt;T&amp;gt;&lt;span&gt; requiredType){
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; getApplicationContext().getBean(requiredType);
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt;&lt;span&gt; T getBean(String name){
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; (T) getApplicationContext().getBean(name);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2. æ¥å£ä¸­ç›´æ¥è°ƒç”¨&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
    @GetMapping(&quot;home&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Result getUser(){
        UserAccountService userAccountService &lt;/span&gt;= SpringContextUtil.getBean(UserAccountService.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; Result.setSuccessResult(userAccountService.getUserAccountById(1&lt;span&gt;));
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3. serviceä¸­å†…éƒ¨è°ƒç”¨&lt;/p&gt;
&lt;p&gt;ç”±äºé¡¹ç›®ä¸­é…ç½®äº†å¤šä¸ªæ•°æ®æºï¼Œè‹¥æ‰€æœ‰mybatis mapperè®¿é—®éƒ½é›†ä¸­åœ¨å•ä¸ªserviceæ–¹æ³•ä¸­ï¼Œ@AutoDBDecisionå£°æ˜çš„æ•°æ®æºä¼šä¸²ã€‚æ‰€ä»¥éœ€è¦é¢—ç²’åŒ–ã€‚è¿™æ ·å°±ä¼šåœ¨å•ä¸ªserviceä¸­éœ€è¦è¯·æ±‚å†…éƒ¨çš„æ–¹æ³•ï¼Œè¿™æ—¶å€™ä¹Ÿå¯ä»¥ç”¨ä¸ŠApplicationContextAwareå·¥å…·ç±»ã€‚&lt;/p&gt;
&lt;p&gt;3.1 serviceä¸­å£°æ˜å†…éƒ¨ä¸“ç”¨è°ƒç”¨æ–¹æ³•inside()&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt; toutou
 * @date by 2020/12
 * des &lt;/span&gt;&lt;span&gt;https://www.cnblogs.com/toutou/&lt;/span&gt;
 &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; UserAccountService {
    &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt; UserAccountService inside() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; SpringContextUtil.getBean(UserAccountService.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
    }

    UserAccountVO getUserAccountById(Integer id);

    UserAccountVO getUserAccountById2(Integer id);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.2 implä¸­è°ƒç”¨æ–¹æ³•&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt; toutou
 * @date by 2020/12
 * des &lt;/span&gt;&lt;span&gt;https://www.cnblogs.com/toutou/&lt;/span&gt;
 &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@Service
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; UserAccountServiceImpl &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; UserAccountService{
    @Autowired
    UserAccountMapper userMapper;

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; UserAccountVO getUserAccountById(Integer id){
        UserAccountVO accountVO &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
        UserAccount account &lt;/span&gt;=&lt;span&gt; userMapper.selectByPrimaryKey(id);
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (account != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
            accountVO &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; UserAccountVO();
            accountVO.setId(account.getId());
            accountVO.setAccount(account.getAccount());
            accountVO.setAge(account.getAge());
            accountVO.setEmail(account.getEmail());
            accountVO.setUsername(account.getUsername());
            accountVO.setPhone(account.getPhone());
        }

        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; accountVO;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; UserAccountVO getUserAccountById2(Integer id){
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; inside().getUserAccountById(id);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä»–å‚è€ƒ/å­¦ä¹ èµ„æ–™ï¼š&lt;/p&gt;

&lt;h2 id=&quot;_nav_1&quot; class=&quot;blogCustomTitleStyle&quot;&gt;&lt;span class=&quot;blogCustomTitleIco&quot;&gt;v&lt;/span&gt;æºç åœ°å€&lt;/h2&gt;
&lt;p&gt;&lt;a title=&quot;è¯·å«æˆ‘å¤´å¤´å“¥&quot; href=&quot;https://github.com/toutouge/javademosecond/tree/master/hellolearn&quot; target=&quot;_blank&quot;&gt;https://github.com/toutouge/javademosecond/tree/master/hellolearn&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;MySignature&quot; readability=&quot;9.0030211480363&quot;&gt;
&lt;p id=&quot;PSignature&quot;&gt;&lt;br/&gt;ä½œã€€ã€€è€…ï¼š&lt;strong&gt;&lt;span&gt;&lt;a href=&quot;http://www.cnblogs.com/toutou/&quot; target=&quot;_blank&quot;&gt;è¯·å«æˆ‘å¤´å¤´å“¥&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;å‡ºã€€ã€€å¤„ï¼š&lt;a title=&quot;è¯·å«æˆ‘å¤´å¤´å“¥&quot; href=&quot;http://www.cnblogs.com/toutou/&quot; target=&quot;_blank&quot;&gt;http://www.cnblogs.com/toutou/&lt;/a&gt;&lt;br/&gt;å…³äºä½œè€…ï¼šä¸“æ³¨äºåŸºç¡€å¹³å°çš„é¡¹ç›®å¼€å‘ã€‚å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å¤šå¤šèµæ•™ï¼&lt;br/&gt;ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚&lt;br/&gt;ç‰¹æ­¤å£°æ˜ï¼šæ‰€æœ‰è¯„è®ºå’Œç§ä¿¡éƒ½ä¼šåœ¨ç¬¬ä¸€æ—¶é—´å›å¤ã€‚ä¹Ÿæ¬¢è¿å›­å­çš„å¤§å¤§ä»¬æŒ‡æ­£é”™è¯¯ï¼Œå…±åŒè¿›æ­¥ã€‚æˆ–è€…&lt;a title=&quot;SpringBootè¿›é˜¶æ•™ç¨‹(å…­åä¹)ApplicationContextAware&quot; href=&quot;http://msg.cnblogs.com/msg/send/%E8%AF%B7%E5%8F%AB%E6%88%91%E5%A4%B4%E5%A4%B4%E5%93%A5&quot;&gt;ç›´æ¥ç§ä¿¡&lt;/a&gt;æˆ‘&lt;br/&gt;å£°æ´åšä¸»ï¼šå¦‚æœæ‚¨è§‰å¾—æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¯ä»¥ç‚¹å‡»æ–‡ç« å³ä¸‹è§’&lt;strong&gt;&lt;span&gt;ã€&lt;a id=&quot;post-up&quot;&gt;æ¨è&lt;/a&gt;ã€‘&lt;/span&gt;&lt;/strong&gt;ä¸€ä¸‹ã€‚æ‚¨çš„é¼“åŠ±æ˜¯ä½œè€…åšæŒåŸåˆ›å’ŒæŒç»­å†™ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼&lt;br/&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
<pubDate>Fri, 01 Jan 2021 13:14:00 +0000</pubDate>
<dc:creator>è¯·å«æˆ‘å¤´å¤´å“¥</dc:creator>
<og:description>åœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼ŒBeanéœ€è¦å®ç°æŸä¸ªåŠŸèƒ½ï¼Œä½†è¯¥åŠŸèƒ½å¿…é¡»å€ŸåŠ©äºSpringå®¹å™¨æ‰èƒ½å®ç°ï¼Œæ­¤æ—¶å°±å¿…é¡»è®©è¯¥Beanå…ˆè·å–Springå®¹å™¨ï¼Œç„¶åå€ŸåŠ©äºSpringå®¹å™¨å®ç°è¯¥åŠŸèƒ½ã€‚ä¸ºäº†è®©Beanè·å–å®ƒæ‰€åœ¨çš„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/toutou/p/ApplicationContextAware.html</dc:identifier>
</item>
<item>
<title>std::threadçº¿ç¨‹è¯¦è§£ï¼ˆ1ï¼‰ - ink19</title>
<link>http://www.cnblogs.com/ink19/p/std_thread-1.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ink19/p/std_thread-1.html</guid>
<description>&lt;h2 id=&quot;ç›®å½•&quot;&gt;ç›®å½•&lt;/h2&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»äº†æ ‡å‡†åº“ä¸­çš„çº¿ç¨‹éƒ¨åˆ†ã€‚çº¿ç¨‹æ˜¯ç›®å‰å¤šæ ¸ç¼–ç¨‹é‡Œé¢æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚&lt;br/&gt;ä¸è¿›ç¨‹è¿›ç¨‹ç›¸æ¯”ï¼Œå…¶æ‰€éœ€çš„èµ„æºæ›´å°‘ï¼Œçº¿ç¨‹ä¹‹é—´æ²Ÿé€šçš„æ–¹æ³•æ›´å¤šï¼› ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«å¯ä»¥æ¯”è¾ƒç®€æ˜ç”¨ä»¥ä¸‹å‡ ç‚¹æ¦‚æ‹¬[1]ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½ï¼›ä¹Ÿå°±æ˜¯è¯´è¿›ç¨‹ä¹‹é—´çš„èµ„æºæ˜¯ç›¸äº’éš”ç¦»ï¼Œè€Œçº¿ç¨‹ä¹‹é—´çš„æ˜¯å¯ä»¥ç›¸äº’è®¿é—®çš„ã€‚&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹çš„å­˜åœ¨ä¾èµ–äºè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä¿æŠ¤å¤šä¸ªçº¿ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹å‡ºç°é”™è¯¯ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ï¼Œä½†æ˜¯ä¸€ä¸ªçº¿ç¨‹å‡ºç°é”™è¯¯ï¼Œä¼šå½±å“åŒä¸€è¿›ç¨‹ä¸‹çš„æ‰€æœ‰çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;çº¿ç¨‹çš„ä½¿ç”¨&quot;&gt;çº¿ç¨‹çš„ä½¿ç”¨&lt;/h2&gt;
&lt;h3 id=&quot;çº¿ç¨‹çš„åˆ›å»º&quot;&gt;çº¿ç¨‹çš„åˆ›å»º&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬ä½¿ç”¨&lt;code&gt;std::thread&lt;/code&gt;åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚&lt;code&gt;std::thread&lt;/code&gt;æ”¯æŒè¾“å…¥ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ŒåŠä¸€äº›å‚æ•°ï¼Œç±»ä¼¼äº&lt;code&gt;std::bind&lt;/code&gt;ï¼Œä¸è¿‡æ²¡æœ‰å ä½ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¸¸è§ï¼Œæœ€ç®€å•çš„æ˜¯å¯¹è¾“å…¥ä¸€ä¸ªåŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c++&quot;&gt;std::thread t1([]() {
  std::cout &amp;lt;&amp;lt; &quot;Hello World&quot; &amp;lt;&amp;lt; std::endl;
});
t1.join();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨å¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨ç±»ä¼¼äº&lt;code&gt;std::cout &amp;lt;&amp;lt; &quot;Hello World&quot; &amp;lt;&amp;lt; std::endl;&lt;/code&gt;çš„è¯­å¥ï¼Œå®¹æ˜“é€ æˆè¾“å‡ºçš„æ··ä¹±ã€‚æ¯”å¦‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-C++&quot;&gt;std::thread t1([]() {
  std::cout &amp;lt;&amp;lt; &quot;Hello World1&quot; &amp;lt;&amp;lt; std::endl;
});
std::thread t2([]() {
  std::cout &amp;lt;&amp;lt; &quot;Hello World2&quot; &amp;lt;&amp;lt; std::endl;
});
t1.join();
t2.join();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ¥è¯´æœŸæœ›çš„è¾“å‡ºæ˜¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2105008/202101/2105008-20210101210755155-528460963.png&quot; alt=&quot;æœŸæœ›çš„è¾“å‡º&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå®ƒè¿˜ä¼šä»¥ä»¥ä¸‹çš„æ–¹æ³•è¾“å‡º&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2105008/202101/2105008-20210101210755069-745182546.png&quot; alt=&quot;é”™è¯¯çš„è¾“å‡º&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€ æˆè¿™ä¸ªçš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸º&lt;code&gt;&quot;Hello World&quot;&lt;/code&gt;å’Œ&lt;code&gt;std::endl&lt;/code&gt;çš„è¾“å‡ºæ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥ä»–ä»¬ä¹‹é—´å¯èƒ½è¢«æ’å…¥å…¶ä»–çš„è¾“å‡ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²è¿›è¡Œè¾“å‡ºï¼Œä½†æ˜¯C++åœ¨æ ¼å¼åŒ–è¿™ä¸€æ–¹é¢åšçš„æ¯”è¾ƒå·®ï¼ˆ&lt;code&gt;C++20&lt;/code&gt;çš„&lt;code&gt;format&lt;/code&gt;åº“çœ‹èµ·æ¥è¿˜ä¸é”™ï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä¼šä½¿ç”¨&lt;code&gt;printf&lt;/code&gt;è¾“å‡ºã€‚&lt;/p&gt;
&lt;h3 id=&quot;çº¿ç¨‹çš„æ–¹æ³•å’Œå±æ€§&quot;&gt;çº¿ç¨‹çš„æ–¹æ³•å’Œå±æ€§&lt;/h3&gt;
&lt;ol readability=&quot;4&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;code&gt;joinable()&lt;/code&gt;åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¯è¿æ¥ï¼ˆå¯æ‰§è¡Œçº¿ç¨‹ï¼‰çš„ï¼Œæœ‰ä»¥ä¸‹æƒ…å†µçš„ï¼Œä¸ºä¸å¯è¿æ¥çš„ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;æ„é€ æ—¶ï¼Œ&lt;code&gt;thread()&lt;/code&gt;æ²¡æœ‰å‚æ•°ï¼›&lt;/li&gt;
&lt;li&gt;è¯¥å¯¹è±¡çš„çº¿ç¨‹å·²ç»è¢«ç§»åŠ¨äº†ï¼›&lt;/li&gt;
&lt;li&gt;è¯¥çº¿ç¨‹å·²ç»è¢«&lt;code&gt;join&lt;/code&gt;æˆ–&lt;code&gt;detach&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;get_id()&lt;/code&gt; è¿”å›çº¿ç¨‹çš„IDï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;native_handle()&lt;/code&gt; è¿”å›&lt;code&gt;POSIX&lt;/code&gt;æ ‡å‡†çš„çº¿ç¨‹å¯¹è±¡ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;join()&lt;/code&gt; ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;code&gt;detach()&lt;/code&gt; åˆ†ç¦»çº¿ç¨‹ï¼Œåˆ†ç¦»åå¯¹è±¡ä¸å†æ‹¥æœ‰çº¿ç¨‹ã€‚è¯¥çº¿ç¨‹ç»“æŸåï¼Œä¼šè‡ªåŠ¨å›æ”¶å†…å­˜ã€‚ï¼ˆå¹¶ä¸ä¼šå¼€å¯å¦ä¸€ä¸ªè¿›ç¨‹ï¼‰ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;swap()&lt;/code&gt; äº¤æ¢å¯¹è±¡çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;stdjthread-c20&quot;&gt;std::jthread (C++20)&lt;/h3&gt;
&lt;p&gt;é™¤äº†å¸¸ç”¨çš„&lt;code&gt;std::thread&lt;/code&gt;å¤–ï¼Œæ ‡å‡†åº“è¿˜å­˜åœ¨ç€å¦ä¸€ä¸ªå¯ä»¥åˆ›å»ºçº¿ç¨‹çš„ç±»ï¼Œ&lt;code&gt;std::jthread&lt;/code&gt;ã€‚ä»–ä»¬ä¹‹é—´çš„å·®åˆ«æ¯”è¾ƒæ˜æ˜¾çš„å°±æ˜¯ï¼Œ&lt;code&gt;std::jthread&lt;/code&gt;ä¼šåœ¨è§£æ„çš„æ—¶å€™åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¿˜åœ¨è¿è¡Œ&lt;code&gt;joinable&lt;/code&gt;ï¼Œå¦‚æœè¿˜åœ¨è¿è¡Œåˆ™è‡ªåŠ¨è°ƒç”¨&lt;code&gt;request_stop&lt;/code&gt;å’Œ&lt;code&gt;join&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œ&lt;code&gt;std::jthread&lt;/code&gt;è¿˜æä¾›äº†ä¸€ä¸ªå†…ç½®çš„&lt;code&gt;std::stop_token&lt;/code&gt;ã€‚å¯ä»¥é€šè¿‡çº¿ç¨‹å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥è·å–ï¼ˆå¦‚æœå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹ä¸º&lt;code&gt;std::stop_token&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡&lt;code&gt;get_stop_source&lt;/code&gt;ã€&lt;code&gt;get_stop_token&lt;/code&gt;ã€&lt;code&gt;request_stop&lt;/code&gt;ç­‰æ–¹æ³•æ¥å¯¹å…¶è¿›è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&quot;stop_token-c20&quot;&gt;stop_token (C++20)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;stop_token&lt;/code&gt;ç±»ä¼¼äºä¸€ä¸ªä¿¡å·ï¼Œå‘Šè¯‰çº¿ç¨‹æ˜¯å¦åˆ°äº†ç»“æŸçš„æ—¶å€™ã€‚å’Œ&lt;code&gt;stop_source&lt;/code&gt;ä¸€èµ·ä½¿ç”¨ã€‚&lt;code&gt;stop_token&lt;/code&gt;ç”¨æ¥è·å–æ˜¯å¦é€€å‡ºï¼ˆè¯»ï¼‰ï¼Œè€Œ&lt;code&gt;stop_source&lt;/code&gt;ç”¨æ¥è¯·æ±‚æ¨å‡ºï¼ˆè¯»å†™ï¼‰ã€‚å…¶æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol readability=&quot;0&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;request_stop&lt;/code&gt; è¯·æ±‚é€€å‡º&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;stop_requested&lt;/code&gt; è·å–æ˜¯å¦å·²ç»è¯·æ±‚é€€å‡º&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;stop_possible&lt;/code&gt; è·å–æ˜¯å¦å¯ä»¥è¯·æ±‚é€€å‡º&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ ·ä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-C++&quot;&gt;void thread_func(std::stop_token token) {
    int data = 0;
    while (!token.stop_requested()) {
        printf(&quot;%d\n&quot;, data);
        data++;
        std::this_thread::sleep_for(1s);
    }
    printf(&quot;Exit\n&quot;);
}

int main() {
    std::jthread mythread(thread_func);

    std::this_thread::sleep_for(4s);

    return 0;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2105008/202101/2105008-20210101210755062-1194481525.png&quot; alt=&quot;jthread&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ¬¡è®²è¿°äº†çº¿ç¨‹åˆ›å»ºçš„ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ç›¸æ¯”è¾ƒCè¯­è¨€è€Œè¨€ï¼Œç”±äºC++11æå‡ºçš„å‡½æ•°å¯¹è±¡ï¼ˆæ™®é€šå‡½æ•°ã€åŒ¿åå‡½æ•°ï¼Œ&lt;code&gt;std::bind&lt;/code&gt;çš„è¾“å‡ºç­‰ï¼‰ä½¿å¾—çº¿ç¨‹çš„åˆ›å»ºæ›´åŠ çš„æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€æ¬¡å°†è®²è¿°çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚åœ¨C++ä¸­ï¼Œçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹æ³•å’ŒCè¯­è¨€æä¾›çš„ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯å°†å…¶åŒ…è£…äº†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ref&quot;&gt;Ref&lt;/h2&gt;
&lt;p&gt;[1] &lt;a href=&quot;https://www.zhihu.com/question/25532384&quot; target=&quot;_blank&quot;&gt;https://www.zhihu.com/question/25532384&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Fri, 01 Jan 2021 13:12:00 +0000</pubDate>
<dc:creator>ink19</dc:creator>
<og:description>ç›®å½• ç›®å½• ç®€ä»‹ çº¿ç¨‹çš„ä½¿ç”¨ çº¿ç¨‹çš„åˆ›å»º çº¿ç¨‹çš„æ–¹æ³•å’Œå±æ€§ std::jthread (C++20) stop_token (C++20) æ€»ç»“ Ref ç®€ä»‹ æœ¬æ–‡ä¸»è¦ä»‹ç»äº†æ ‡å‡†åº“ä¸­çš„çº¿ç¨‹éƒ¨åˆ†ã€‚çº¿ç¨‹æ˜¯</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/ink19/p/std_thread-1.html</dc:identifier>
</item>
</channel>
</rss>