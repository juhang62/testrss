<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>SpringBoot é›†æˆSpringSecurity JWT - ITDragoné¾™</title>
<link>http://www.cnblogs.com/itdragon/p/12637923.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/itdragon/p/12637923.html</guid>
<description>&lt;h2 id=&quot;1-ç®€ä»‹&quot;&gt;1. ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©&lt;a href=&quot;https://www.cnblogs.com/itdragon/&quot;&gt;ITDragon&lt;/a&gt;åˆ†äº«ä¸€ç¯‡åœ¨Spring Security æ¡†æ¶ä¸­ä½¿ç”¨JWTï¼Œä»¥åŠå¯¹å¤±æ•ˆTokençš„å¤„ç†æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;11-springsecurity&quot;&gt;1.1 SpringSecurity&lt;/h3&gt;
&lt;p&gt;Spring Security æ˜¯Springæä¾›çš„å®‰å…¨æ¡†æ¶ã€‚æä¾›è®¤è¯ã€æˆæƒå’Œå¸¸è§çš„æ”»å‡»é˜²æŠ¤çš„åŠŸèƒ½ã€‚åŠŸèƒ½ä¸°å¯Œå’Œå¼ºå¤§ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;Spring Security is a powerful and highly customizable authentication and access-control framework. It is the de-facto standard for securing Spring-based applications.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;12-oauth2&quot;&gt;1.2 OAuth2&lt;/h3&gt;
&lt;p&gt;OAuthï¼ˆOpen Authorizationï¼‰å¼€æ”¾æˆæƒæ˜¯ä¸ºç”¨æˆ·èµ„æºçš„æˆæƒå®šä¹‰ä¸€ä¸ªå®‰å…¨ã€å¼€æ”¾çš„æ ‡å‡†ã€‚è€ŒOAuth2æ˜¯OAuthåè®®çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ã€‚OAuthå¸¸ç”¨äºç¬¬ä¸‰æ–¹åº”ç”¨æˆæƒç™»å½•ã€‚åœ¨ç¬¬ä¸‰æ–¹æ— éœ€çŸ¥é“ç”¨æˆ·è´¦å·å¯†ç çš„æƒ…å†µä¸‹ï¼Œè·å–ç”¨æˆ·çš„æˆæƒä¿¡æ¯ã€‚å¸¸è§çš„æˆæƒæ¨¡å¼æœ‰ï¼šæˆæƒç æ¨¡å¼ã€ç®€åŒ–æ¨¡å¼ã€å¯†ç æ¨¡å¼å’Œå®¢æˆ·ç«¯æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h3 id=&quot;13-jwt&quot;&gt;1.3 JWT&lt;/h3&gt;
&lt;p&gt;JWTï¼ˆjson web tokenï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾çš„æ ‡å‡†ï¼Œå®ƒå¯ä»¥åœ¨å„æ–¹ä¹‹é—´ä½œä¸ºJSONå¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯å’Œä¿¡ä»»ã€‚JWTå¯ä»¥è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿç™»é™†æˆæƒã€å•ç‚¹ç™»å½•è·¨åŸŸç­‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5.7159763313609&quot;&gt;
&lt;p&gt;JSON Web Token (JWT) is an open standard (&lt;a href=&quot;https://tools.ietf.org/html/rfc7519&quot;&gt;RFC 7519&lt;/a&gt;) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;2-springboot-é›†æˆ-springsecurity&quot;&gt;2. SpringBoot é›†æˆ SpringSecurity&lt;/h2&gt;
&lt;p&gt;SpringBoot é›†æˆSpring Security éå¸¸æ–¹ä¾¿ï¼Œä¹Ÿæ˜¯ç®€å•çš„ä¸¤ä¸ªæ­¥éª¤ï¼šå¯¼åŒ…å’Œé…ç½®&lt;/p&gt;
&lt;h3 id=&quot;21-å¯¼å…¥spring-security-åº“&quot;&gt;2.1 å¯¼å…¥Spring Security åº“&lt;/h3&gt;
&lt;p&gt;ä½œä¸ºSpringçš„è‡ªå®¶é¡¹ç›®ï¼Œåªéœ€è¦å¯¼å…¥spring-boot-starter-security å³å¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-groovy&quot;&gt;compile('org.springframework.boot:spring-boot-starter-security')
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;22-é…ç½®spring-security&quot;&gt;2.2 é…ç½®Spring Security&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºSpring Security Webçš„é…ç½®ç±»ï¼Œå¹¶ç»§æ‰¿webåº”ç”¨çš„å®‰å…¨é€‚é…å™¨WebSecurityConfigurerAdapterã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼šé‡å†™configureæ–¹æ³•ï¼Œå¯ä»¥æ·»åŠ ç™»å½•éªŒè¯å¤±è´¥å¤„ç†å™¨ã€é€€å‡ºæˆåŠŸå¤„ç†å™¨ã€å¹¶æŒ‰ç…§anté£æ ¼å¼€å¯æ‹¦æˆªè§„åˆ™ç­‰ç›¸å…³é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼šé…ç½®é»˜è®¤æˆ–è€…è‡ªå®šä¹‰çš„å¯†ç åŠ å¯†é€»è¾‘ã€AuthenticationManagerã€å„ç§è¿‡æ»¤å™¨ç­‰ï¼Œæ¯”å¦‚JWTè¿‡æ»¤å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;package com.itdragon.server.config

import com.itdragon.server.security.service.ITDragonJwtAuthenticationEntryPoint
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.context.annotation.Bean
import org.springframework.context.annotation.Configuration
import org.springframework.http.HttpMethod
import org.springframework.security.config.annotation.web.builders.HttpSecurity
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder
import org.springframework.security.crypto.password.PasswordEncoder

@Configuration
@EnableWebSecurity
class ITDragonWebSecurityConfig: WebSecurityConfigurerAdapter() {

    @Autowired
    lateinit var authenticationEntryPoint: ITDragonJwtAuthenticationEntryPoint

    /**
     * é…ç½®å¯†ç ç¼–ç å™¨
     */
    @Bean
    fun passwordEncoder(): PasswordEncoder{
        return BCryptPasswordEncoder()
    }

    override fun configure(http: HttpSecurity) {
        // é…ç½®å¼‚å¸¸å¤„ç†å™¨
        http.exceptionHandling().authenticationEntryPoint(authenticationEntryPoint)
                        // é…ç½®ç™»å‡ºé€»è¾‘
                .and().logout()
                .logoutSuccessHandler(logoutSuccessHandler)
                // å¼€å¯æƒé™æ‹¦æˆª
                .and().authorizeRequests()
                // å¼€æ”¾ä¸éœ€è¦æ‹¦æˆªçš„è¯·æ±‚
                .antMatchers(HttpMethod.POST, &quot;/itdragon/api/v1/user&quot;).permitAll()
                // å…è®¸æ‰€æœ‰OPTIONSè¯·æ±‚
                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()
                // å…è®¸é™æ€èµ„æºè®¿é—®
                .antMatchers(HttpMethod.GET,
                        &quot;/&quot;,
                        &quot;/*.html&quot;,
                        &quot;/favicon.ico&quot;,
                        &quot;/**/*.html&quot;,
                        &quot;/**/*.css&quot;,
                        &quot;/**/*.js&quot;
                ).permitAll()
                // å¯¹é™¤äº†ä»¥ä¸Šè·¯å¾„çš„æ‰€æœ‰è¯·æ±‚è¿›è¡Œæƒé™æ‹¦æˆª
                .antMatchers(&quot;/itdragon/api/v1/**&quot;).authenticated()
                // å…ˆæš‚æ—¶å…³é—­è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œå®ƒé™åˆ¶é™¤äº†getä»¥å¤–çš„å¤§å¤šæ•°æ–¹æ³•ã€‚
                .and().csrf().disable()
                        // å…è®¸è·¨åŸŸè¯·æ±‚
                .cors().disable()

    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;1ï¼‰ã€csrfé˜²è·¨ç«™è¯·æ±‚ä¼ªé€ çš„åŠŸèƒ½æ˜¯é»˜è®¤æ‰“å¼€ï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­å¯ä»¥å…ˆæš‚æ—¶å…³é—­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;2ï¼‰ã€logout()é€€å‡ºæˆåŠŸåé»˜è®¤è·³è½¬åˆ°/loginè·¯ç”±ä¸Šï¼Œå¯¹äºå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®å¹¶ä¸å‹å¥½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;3ï¼‰ã€permitAll()æ–¹æ³•ä¿®é¥°çš„é…ç½®å»ºè®®å†™åœ¨authenticated()æ–¹æ³•çš„ä¸Šé¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;3-springsecurity-é…ç½®jwt&quot;&gt;3. SpringSecurity é…ç½®JWT&lt;/h2&gt;
&lt;p&gt;JWTçš„ä¼˜ç‚¹æœ‰å¾ˆå¤šï¼Œä½¿ç”¨ä¹Ÿå¾ˆç®€å•ã€‚ä½†æ˜¯æˆ‘ä»¬&lt;a href=&quot;https://www.cnblogs.com/itdragon/&quot;&gt;ITDragon&lt;/a&gt;åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¹Ÿéœ€è¦æ³¨æ„å¤„ç†JWTçš„å¤±æ•ˆé—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;31-å¯¼å…¥jwtåº“&quot;&gt;3.1 å¯¼å…¥JWTåº“&lt;/h3&gt;
&lt;p&gt;Spring Security æ•´åˆJWTè¿˜éœ€è¦é¢å¤–å¼•å…¥io.jsonwebtoken:jjwt åº“&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-groovy&quot;&gt;compile('io.jsonwebtoken:jjwt:0.9.1')
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;32-åˆ›å»ºjwtå·¥å…·ç±»&quot;&gt;3.2 åˆ›å»ºJWTå·¥å…·ç±»&lt;/h3&gt;
&lt;p&gt;JWTå·¥å…·ç±»ä¸»è¦è´Ÿè´£ï¼š&lt;/p&gt;
&lt;ul readability=&quot;0&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;1ï¼‰ã€tokençš„ç”Ÿæˆã€‚å»ºè®®ä½¿ç”¨ç”¨æˆ·çš„ç™»å½•è´¦å·ä½œä¸ºç”Ÿæˆtokençš„å±æ€§ï¼Œè¿™æ˜¯è€ƒè™‘åˆ°è´¦å·çš„å”¯ä¸€æ€§å’Œå¯è¯»æ€§éƒ½å¾ˆé«˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;2ï¼‰ã€tokençš„éªŒè¯ã€‚åŒ…æ‹¬tokenæ˜¯å¦å·²ç»è‡ªç„¶è¿‡æœŸã€æ˜¯å¦å› ä¸ºäººä¸ºæ“ä½œå¯¼è‡´å¤±æ•ˆã€æ•°æ®çš„æ ¼å¼æ˜¯å¦åˆæ³•ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;package com.itdragon.server.security.utils

import com.itdragon.server.security.service.JwtUser
import io.jsonwebtoken.Claims
import io.jsonwebtoken.Jwts
import io.jsonwebtoken.SignatureAlgorithm
import org.springframework.beans.factory.annotation.Value
import org.springframework.security.core.userdetails.UserDetails
import org.springframework.stereotype.Component
import java.util.*

private const val CLAIM_KEY_USERNAME = &quot;itdragon&quot;

@Component
class JwtTokenUtil {

    @Value(&quot;\${itdragon.jwt.secret}&quot;)
    private val secret: String = &quot;ITDragon&quot;

    @Value(&quot;\${itdragon.jwt.expiration}&quot;)
    private val expiration: Long = 24 * 60 * 60

    /**
     * ç”Ÿæˆä»¤ç‰ŒToken
     * 1. å»ºè®®ä½¿ç”¨å”¯ä¸€ã€å¯è¯»æ€§é«˜çš„å­—æ®µä½œä¸ºç”Ÿæˆä»¤ç‰Œçš„å‚æ•°
     */
    fun generateToken(username: String): String {
        return try {
            val claims = HashMap&amp;lt;String, Any&amp;gt;()
            claims[CLAIM_KEY_USERNAME] = username
            generateJWT(claims)
        } catch (e: Exception) {
            &quot;&quot;
        }
    }

    /**
     * æ ¡éªŒtoken
     * 1. åˆ¤æ–­ç”¨æˆ·åå’ŒtokenåŒ…å«çš„å±æ€§ä¸€è‡´
     * 2. åˆ¤æ–­tokenæ˜¯å¦å¤±æ•ˆ
     */
    fun validateToken(token: String, userDetails: UserDetails): Boolean {
        userDetails as JwtUser
        return getUsernameFromToken(token) == userDetails.username &amp;amp;&amp;amp; !isInvalid(token, userDetails.model.tokenInvalidDate)
    }

    /**
     * token å¤±æ•ˆåˆ¤æ–­ï¼Œä¾æ®å¦‚ä¸‹ï¼š
     * 1. å…³é”®å­—æ®µè¢«ä¿®æ”¹åtokenå¤±æ•ˆï¼ŒåŒ…æ‹¬å¯†ç ä¿®æ”¹ã€ç”¨æˆ·é€€å‡ºç™»å½•ç­‰
     * 2. token è¿‡æœŸå¤±æ•ˆ
     */
    private fun isInvalid(token: String, tokenInvalidDate: Date?): Boolean {
        return try {
            val claims = parseJWT(token)
            claims!!.issuedAt.before(tokenInvalidDate) &amp;amp;&amp;amp; isExpired(token)
        } catch (e: Exception) {
            false
        }
    }

    /**
     * token è¿‡æœŸåˆ¤æ–­ï¼Œå¸¸è§é€»è¾‘æœ‰å‡ ç§ï¼š
     * 1. åŸºäºæœ¬åœ°å†…å­˜ï¼Œé—®é¢˜æ˜¯é‡å¯æœåŠ¡å¤±æ•ˆ
     * 2. åŸºäºæ•°æ®åº“ï¼Œå¸¸ç”¨çš„æœ‰Redisæ•°æ®åº“ï¼Œä½†æ˜¯é¢‘ç¹è¯·æ±‚ä¹Ÿæ˜¯ä¸å°çš„å¼€æ”¯
     * 3. ç”¨jwtçš„è¿‡æœŸæ—¶é—´å’Œå½“å‰æ—¶é—´åšæ¯”è¾ƒï¼ˆæ¨èï¼‰
     */
    private fun isExpired(token: String): Boolean {
        return try {
            val claims = parseJWT(token)
            claims!!.expiration.before(Date())
        } catch (e: Exception) {
            false
        }
    }

    /**
     * ä»token ä¸­è·å–ç”¨æˆ·å
     */
    fun getUsernameFromToken(token: String): String {
        return try {
            val claims = parseJWT(token)
            claims!![CLAIM_KEY_USERNAME].toString()
        } catch (e: Exception) {
            &quot;&quot;
        }
    }

    /**
     * ç”Ÿæˆjwtæ–¹æ³•
     */
    fun generateJWT(claims: Map&amp;lt;String, Any&amp;gt;): String {
        return Jwts.builder()
                .setClaims(claims)      // å®šä¹‰å±æ€§
                .è®¾è®¡å¦‚ä¸‹ï¼š(Date())    // è®¾ç½®å‘è¡Œæ—¶é—´
                .setExpiration(Date(System.currentTimeMillis() + expiration * 1000)) // è®¾ç½®ä»¤ç‰Œæœ‰æ•ˆæœŸ
                .signWith(SignatureAlgorithm.HS512, secret) // ä½¿ç”¨æŒ‡å®šçš„ç®—æ³•å’Œå¯†é’¥å¯¹jwtè¿›è¡Œç­¾å
                .compact()              // å‹ç¼©å­—ç¬¦ä¸²
    }

    /**
     * è§£æjwtæ–¹æ³•
     */
    private fun parseJWT(token: String): Claims? {
        return try {
            Jwts.parser()
                    .setSigningKey(secret)  // è®¾ç½®å¯†é’¥
                    .parseClaimsJws(token)  // è§£ætoken
                    .body
        } catch (e: Exception) {
            null
        }
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;33-æ·»åŠ jwtè¿‡æ»¤å™¨&quot;&gt;3.3 æ·»åŠ JWTè¿‡æ»¤å™¨&lt;/h3&gt;
&lt;p&gt;æ·»åŠ çš„JWTè¿‡æ»¤å™¨éœ€è¦å®ç°ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;1ï¼‰ã€è‡ªå®šä¹‰çš„JWTè¿‡æ»¤å™¨è¦åœ¨Spring Security æä¾›çš„ç”¨æˆ·åå¯†ç è¿‡æ»¤å™¨ä¹‹å‰æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;2ï¼‰ã€è¦ä¿è¯éœ€è¦æ‹¦æˆªçš„è¯·æ±‚éƒ½å¿…é¡»å¸¦ä¸Štokenä¿¡æ¯&lt;/li&gt;
&lt;li&gt;3ï¼‰ã€åˆ¤æ–­ä¼ å…¥çš„tokenæ˜¯å¦æœ‰æ•ˆ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;package com.itdragon.server.security.service

import com.itdragon.server.security.utils.JwtTokenUtil
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.beans.factory.annotation.Value
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken
import org.springframework.security.core.context.SecurityContextHolder
import org.springframework.security.core.userdetails.UserDetailsService
import org.springframework.security.web.authentication.WebAuthenticationDetailsSource
import org.springframework.stereotype.Component
import org.springframework.web.filter.OncePerRequestFilter
import javax.servlet.FilterChain
import javax.servlet.http.HttpServletRequest
import javax.servlet.http.HttpServletResponse

@Component
class ITDragonJwtAuthenticationTokenFilter: OncePerRequestFilter() {

    @Value(&quot;\${itdragon.jwt.header}&quot;)
    lateinit var tokenHeader: String
    @Value(&quot;\${itdragon.jwt.tokenHead}&quot;)
    lateinit var tokenHead: String
    @Autowired
    lateinit var userDetailsService: UserDetailsService
    @Autowired
    lateinit var jwtTokenUtil: JwtTokenUtil

    /**
     * è¿‡æ»¤å™¨éªŒè¯æ­¥éª¤
     * ç¬¬ä¸€æ­¥ï¼šä»è¯·æ±‚å¤´ä¸­è·å–token
     * ç¬¬äºŒæ­¥ï¼šä»tokenä¸­è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œåˆ¤æ–­tokenæ•°æ®æ˜¯å¦åˆæ³•
     * ç¬¬ä¸‰æ­¥ï¼šæ ¡éªŒtokenæ˜¯å¦æœ‰æ•ˆï¼ŒåŒ…æ‹¬tokenæ˜¯å¦è¿‡æœŸã€tokenæ˜¯å¦å·²ç»åˆ·æ–°
     * ç¬¬å››æ­¥ï¼šæ£€éªŒæˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜æ”¾åˆ°SecurityContextHolder Contextä¸­
     */
    override fun doFilterInternal(request: HttpServletRequest, response: HttpServletResponse, filterChain: FilterChain) {

        // ä»è¯·æ±‚å¤´ä¸­è·å–token
        val authHeader = request.getHeader(this.tokenHeader)
        if (authHeader != null &amp;amp;&amp;amp; authHeader.startsWith(tokenHead)) {
            val authToken = authHeader.substring(tokenHead.length)
            // ä»tokenä¸­è·å–ç”¨æˆ·ä¿¡æ¯
            val username = jwtTokenUtil.getUsernameFromToken(authToken)
            if (username.isBlank()) {
                response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized: Auth token is illegal&quot;)
                return
            }
            if (null != SecurityContextHolder.getContext().authentication) {
                val tempUser = SecurityContextHolder.getContext().authentication.principal
                tempUser as JwtUser
                println(&quot;SecurityContextHolder : ${tempUser.username}&quot;)
            }

            // éªŒè¯tokenæ˜¯å¦æœ‰æ•ˆ
            val userDetails = this.userDetailsService.loadUserByUsername(username)
            if (jwtTokenUtil.validateToken(authToken, userDetails)) {
                // å°†ç”¨æˆ·ä¿¡æ¯æ·»åŠ åˆ°SecurityContextHolder çš„Context
                val authentication = UsernamePasswordAuthenticationToken(userDetails, userDetails.password, userDetails.authorities)
                authentication.details = WebAuthenticationDetailsSource().buildDetails(request)
                SecurityContextHolder.getContext().authentication = authentication
            }
        }

        filterChain.doFilter(request, response)
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°†JWTè¿‡æ»¤å™¨æ·»åŠ åˆ°UsernamePasswordAuthenticationFilter è¿‡æ»¤å™¨ä¹‹å‰&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;http.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter::class.java)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®Œæ•´çš„ITDragonWebSecurityConfigç±»çš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;package com.itdragon.server.config

import com.itdragon.server.security.service.ITDragonJwtAuthenticationEntryPoint
import com.itdragon.server.security.service.ITDragonJwtAuthenticationTokenFilter
import com.itdragon.server.security.service.ITDragonLogoutSuccessHandler
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.context.annotation.Bean
import org.springframework.context.annotation.Configuration
import org.springframework.http.HttpMethod
import org.springframework.security.authentication.AuthenticationManager
import org.springframework.security.config.annotation.web.builders.HttpSecurity
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder
import org.springframework.security.crypto.password.PasswordEncoder
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter

@Configuration
@EnableWebSecurity
class ITDragonWebSecurityConfig: WebSecurityConfigurerAdapter() {

    @Autowired
    lateinit var jwtAuthenticationTokenFilter: ITDragonJwtAuthenticationTokenFilter
    @Autowired
    lateinit var authenticationEntryPoint: ITDragonJwtAuthenticationEntryPoint
    @Autowired
    lateinit var logoutSuccessHandler: ITDragonLogoutSuccessHandler

    @Bean
    fun passwordEncoder(): PasswordEncoder{
        return BCryptPasswordEncoder()
    }

    @Bean
    fun itdragonAuthenticationManager(): AuthenticationManager {
        return authenticationManager()
    }

    /**
     * ç¬¬ä¸€æ­¥ï¼šå°†JWTè¿‡æ»¤å™¨æ·»åŠ åˆ°é»˜è®¤çš„è´¦å·å¯†ç è¿‡æ»¤å™¨ä¹‹å‰ï¼Œè¡¨ç¤ºtokenéªŒè¯æˆåŠŸåæ— éœ€ç™»å½•
     * ç¬¬äºŒæ­¥ï¼šé…ç½®å¼‚å¸¸å¤„ç†å™¨å’Œç™»å‡ºå¤„ç†å™¨
     * ç¬¬ä¸‰æ­¥ï¼šå¼€å¯æƒé™æ‹¦æˆªï¼Œå¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œæ‹¦æˆª
     * ç¬¬å››æ­¥ï¼šå¼€æ”¾ä¸éœ€è¦æ‹¦æˆªçš„è¯·æ±‚ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†Œã€OPTIONSè¯·æ±‚å’Œé™æ€èµ„æºç­‰
     * ç¬¬äº”æ­¥ï¼šå…è®¸OPTIONSè¯·æ±‚ï¼Œä¸ºè·¨åŸŸé…ç½®åšå‡†å¤‡
     * ç¬¬å…­æ­¥ï¼šå…è®¸è®¿é—®é™æ€èµ„æºï¼Œè®¿é—®swaggeræ—¶éœ€è¦
     */
    override fun configure(http: HttpSecurity) {
        // æ·»åŠ jwtè¿‡æ»¤å™¨
        http.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter::class.java)
                // é…ç½®å¼‚å¸¸å¤„ç†å™¨
                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint)
                // é…ç½®ç™»å‡ºé€»è¾‘
                .and().logout()
                .logoutSuccessHandler(logoutSuccessHandler)
                // å¼€å¯æƒé™æ‹¦æˆª
                .and().authorizeRequests()
                // å¼€æ”¾ä¸éœ€è¦æ‹¦æˆªçš„è¯·æ±‚
                .antMatchers(HttpMethod.POST, &quot;/itdragon/api/v1/user&quot;).permitAll()
                // å…è®¸æ‰€æœ‰OPTIONSè¯·æ±‚
                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()
                // å…è®¸é™æ€èµ„æºè®¿é—®
                .antMatchers(HttpMethod.GET,
                        &quot;/&quot;,
                        &quot;/*.html&quot;,
                        &quot;/favicon.ico&quot;,
                        &quot;/**/*.html&quot;,
                        &quot;/**/*.css&quot;,
                        &quot;/**/*.js&quot;
                ).permitAll()
                // å¯¹é™¤äº†ä»¥ä¸Šè·¯å¾„çš„æ‰€æœ‰è¯·æ±‚è¿›è¡Œæƒé™æ‹¦æˆª
                .antMatchers(&quot;/itdragon/api/v1/**&quot;).authenticated()
                // å…ˆæš‚æ—¶å…³é—­è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œå®ƒé™åˆ¶é™¤äº†getä»¥å¤–çš„å¤§å¤šæ•°æ–¹æ³•ã€‚
                .and().csrf().disable()
                // å…è®¸è·¨åŸŸè¯·æ±‚
                .cors().disable()

    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;34-ç™»å½•éªŒè¯&quot;&gt;3.4 ç™»å½•éªŒè¯&lt;/h3&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;package com.itdragon.server.security.service

import com.itdragon.server.security.utils.JwtTokenUtil
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.security.authentication.AuthenticationManager
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken
import org.springframework.security.core.context.SecurityContextHolder
import org.springframework.security.core.userdetails.UserDetailsService
import org.springframework.stereotype.Service

@Service
class ITDragonAuthService {
    @Autowired
    lateinit var authenticationManager: AuthenticationManager
    @Autowired
    lateinit var userDetailsService: UserDetailsService
    @Autowired
    lateinit var jwtTokenUtil: JwtTokenUtil

    fun login(username: String, password: String): String {
        // åˆå§‹åŒ–UsernamePasswordAuthenticationTokenå¯¹è±¡
        val upAuthenticationToken = UsernamePasswordAuthenticationToken(username, password)
        // èº«ä»½éªŒè¯
        val authentication = authenticationManager.authenticate(upAuthenticationToken)
        // éªŒè¯æˆåŠŸåå›å°†ç”¨æˆ·ä¿¡æ¯å­˜æ”¾åˆ° securityContextHolderçš„Contextä¸­
        SecurityContextHolder.getContext().authentication = authentication
        // ç”Ÿæˆtokenå¹¶è¿”å›
        val userDetails = userDetailsService.loadUserByUsername(username)
        return jwtTokenUtil.generateToken(userDetails.username)
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;35-å…³äºjwtå¤±æ•ˆå¤„ç†&quot;&gt;3.5 å…³äºJWTå¤±æ•ˆå¤„ç†&lt;/h3&gt;
&lt;p&gt;Tokençš„å¤±æ•ˆåŒ…æ‹¬å¸¸è§çš„è¿‡æœŸå¤±æ•ˆã€åˆ·æ–°å¤±æ•ˆã€ä¿®æ”¹å¯†ç å¤±æ•ˆè¿˜æœ‰å°±æ˜¯ç”¨æˆ·ç™»å‡ºå¤±æ•ˆï¼ˆæœ‰çš„åœºæ™¯ä¸éœ€è¦ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/itdragon/&quot;&gt;ITDragon&lt;/a&gt;æ˜¯ä»¥JWTè‡ªå¸¦çš„åˆ›å»ºæ—¶é—´å’Œåˆ°æœŸæ—¶é—´ã€ä¸ä¼ å…¥çš„æ—¶é—´åšåˆ¤æ–­ã€‚æ¥åˆ¤æ–­tokenæ˜¯å¦å¤±æ•ˆï¼Œè¿™æ ·å¯ä»¥å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³è‡ªç„¶è¿‡æœŸçš„tokenå¤±æ•ˆè®¾è®¡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;1ï¼‰ã€ç”Ÿæˆtokenæ—¶ï¼Œè®¾ç½®setExpirationå±æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;1ï¼‰ã€æ ¡éªŒtokenæ—¶ï¼Œé€šè¿‡è·å–expirationå±æ€§ï¼Œå¹¶å’Œå½“å‰æ—¶é—´åšæ¯”è¾ƒï¼Œè‹¥åœ¨å½“å‰æ—¶é—´ä¹‹å‰åˆ™è¯´æ˜tokenå·²ç»è¿‡æœŸ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è§£å†³äººä¸ºæ“ä½œä¸Šçš„tokenå¤±æ•ˆè®¾è®¡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;1ï¼‰ã€ç”Ÿæˆtokenæ—¶ï¼Œè®¾ç½®setIssuedAtå±æ€§&lt;/li&gt;
&lt;li&gt;2ï¼‰ã€ç”¨æˆ·è¡¨æ·»åŠ tokenInvalidDateå­—æ®µã€‚åœ¨åˆ·æ–°tokenã€ä¿®æ”¹ç”¨æˆ·å¯†ç ç­‰æ“ä½œæ—¶ï¼Œæ›´æ–°è¿™ä¸ªå­—æ®µ&lt;/li&gt;
&lt;li&gt;3ï¼‰ã€æ ¡éªŒtokenæ—¶ï¼Œé€šè¿‡è·å–issuedAtå±æ€§ï¼Œå¹¶å’ŒtokenInvalidDateæ—¶é—´åšæ¯”è¾ƒï¼Œè‹¥åœ¨tokenInvalidDateæ—¶é—´ä¹‹å‰åˆ™è¯´æ˜tokenå·²ç»å¤±æ•ˆ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-kotlin&quot;&gt;/**
     * token å¤±æ•ˆåˆ¤æ–­ï¼Œä¾æ®å¦‚ä¸‹ï¼š
     * 1. å…³é”®å­—æ®µè¢«ä¿®æ”¹åtokenå¤±æ•ˆï¼ŒåŒ…æ‹¬å¯†ç ä¿®æ”¹ã€ç”¨æˆ·é€€å‡ºç™»å½•ç­‰
     * 2. token è¿‡æœŸå¤±æ•ˆ
     */
private fun isInvalid(token: String, tokenInvalidDate: Date?): Boolean {
    return try {
        val claims = parseJWT(token)
        claims!!.issuedAt.before(tokenInvalidDate) &amp;amp;&amp;amp; isExpired(token)
    } catch (e: Exception) {
        false
    }
}

/**
     * token è¿‡æœŸåˆ¤æ–­ï¼Œå¸¸è§é€»è¾‘æœ‰å‡ ç§ï¼š
     * 1. åŸºäºæœ¬åœ°å†…å­˜ï¼Œé—®é¢˜æ˜¯ç³»ç»Ÿé‡å¯åå¤±æ•ˆ
     * 2. åŸºäºæ•°æ®åº“ï¼Œå¸¸ç”¨çš„æœ‰Redisæ•°æ®åº“ï¼Œä½†æ˜¯é¢‘ç¹è¯·æ±‚ä¹Ÿæ˜¯ä¸å°çš„å¼€æ”¯
     * 3. ç”¨jwtçš„è¿‡æœŸæ—¶é—´å’Œå½“å‰æ—¶é—´åšæ¯”è¾ƒï¼ˆæ¨èï¼‰
     */
private fun isExpired(token: String): Boolean {
    return try {
        val claims = parseJWT(token)
        claims!!.expiration.before(Date())
    } catch (e: Exception) {
        false
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæ„Ÿè°¢å„ä½çœ‹å®˜ï¼ï¼ğŸ˜˜ğŸ˜˜ğŸ˜˜&lt;/p&gt;
&lt;p&gt;å®Œæ•´ä»£ç è®¿é—®GitHubåœ°å€ï¼š&lt;a href=&quot;https://github.com/ITDragonBlog/daydayup/tree/master/SpringBoot/spring-boot-springsecurity-jwt&quot;&gt;https://github.com/ITDragonBlog/daydayup/tree/master/SpringBoot/spring-boot-springsecurity-jwt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¡¹ç›®æ‰€åœ¨ç›®å½•å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯&lt;a href=&quot;https://github.com/ITDragonBlog/daydayup&quot;&gt;https://github.com/ITDragonBlog/daydayup&lt;/a&gt; åœ°å€ä¸ä¼šå˜&lt;/p&gt;
</description>
<pubDate>Wed, 19 Aug 2020 00:15:00 +0000</pubDate>
<dc:creator>ITDragoné¾™</dc:creator>
<og:description>1. ç®€ä»‹ ä»Šå¤©ITDragonåˆ†äº«ä¸€ç¯‡åœ¨Spring Security æ¡†æ¶ä¸­ä½¿ç”¨JWTï¼Œä»¥åŠå¯¹å¤±æ•ˆTokençš„å¤„ç†æ–¹æ³•ã€‚ 1.1 SpringSecurity Spring Security æ˜¯S</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/itdragon/p/12637923.html</dc:identifier>
</item>
<item>
<title>SpringSecurityæƒé™ç®¡ç†ç³»ç»Ÿå®æˆ˜â€”äº”ã€æ•´åˆSpringSecurityï¼ˆä¸‹ï¼‰ - codermy</title>
<link>http://www.cnblogs.com/codermy/p/13516388.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/codermy/p/13516388.html</guid>
<description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« SpringSecurityæ•´åˆäº†ä¸€åŠï¼Œè¿™æ¬¡æŠŠå¦ä¸€åŠæ•´å®Œï¼Œæ‰€ä»¥æœ¬ç¯‡çš„åºå·æ¥ç€ä¸Šä¸€ç¯‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸ƒã€è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯&quot;&gt;ä¸ƒã€è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;å‰é¢æˆ‘ä»¬ç™»å½•éƒ½æ˜¯ç”¨çš„æŒ‡å®šçš„ç”¨æˆ·åå’Œå¯†ç æˆ–è€…æ˜¯springsecurityé»˜è®¤çš„ç”¨æˆ·åå’Œæ‰“å°å‡ºæ¥çš„å¯†ç ã€‚æˆ‘ä»¬è¦æƒ³è¿æ¥ä¸Šè‡ªå®šä¹‰æ•°æ®åº“åªéœ€è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„UserDetailsServiceã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ªJwtUserDtoç»§æ‰¿UserDetailså¹¶å®ç°å®ƒçš„æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Data
@AllArgsConstructor
public class JwtUserDto implements UserDetails {
    //ç”¨æˆ·æ•°æ®
    private MyUser myUser;
        //ç”¨æˆ·æƒé™çš„é›†åˆ
    @JsonIgnore
    private List&amp;lt;GrantedAuthority&amp;gt; authorities;
                
    public List&amp;lt;String&amp;gt; getRoles() {
        return authorities.stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList());
    }
        //åŠ å¯†åçš„å¯†ç 
    @Override
    public String getPassword() {
        return myUser.getPassword();
    }
        //ç”¨æˆ·å
    @Override
    public String getUsername() {
        return myUser.getUserName();
    }
        //æ˜¯å¦è¿‡æœŸ
    @Override
    public boolean isAccountNonExpired() {
        return true;
    }
        //æ˜¯å¦é”å®š
    @Override
    public boolean isAccountNonLocked() {
        return true;
    }
        //å‡­è¯æ˜¯å¦è¿‡æœŸ
    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }
        //æ˜¯å¦å¯ç”¨
    @Override
    public boolean isEnabled() {
        return myUser.getStatus() == 1 ? true : false;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è‡ªå®šä¹‰ä¸€ä¸ªUserDetailsServiceImplå®ç°UserDetailsService&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Service
@Slf4j
public class UserDetailsServiceImpl implements UserDetailsService {
    @Autowired
    private UserService userService;
    @Autowired
    private MenuDao menuDao;
    @Override
    public JwtUserDto loadUserByUsername(String userName) throws UsernameNotFoundException {
        MyUser user = userService.getUser(userName);//æ ¹æ®ç”¨æˆ·åè·å–ç”¨æˆ·
        if (user == null ){
            throw new UsernameNotFoundException(&quot;ç”¨æˆ·åä¸å­˜åœ¨&quot;);//è¿™ä¸ªå¼‚å¸¸ä¸€å®šè¦æŠ›
        }else if (user.getStatus().equals(MyUser.Status.LOCKED)) {
            throw new LockedException(&quot;ç”¨æˆ·è¢«é”å®š,è¯·è”ç³»ç®¡ç†å‘˜&quot;);
        }
        List&amp;lt;GrantedAuthority&amp;gt; grantedAuthorities = new ArrayList&amp;lt;&amp;gt;();
        List&amp;lt;MenuIndexDto&amp;gt; list = menuDao.listByUserId(user.getId());
        List&amp;lt;String&amp;gt; collect = list.stream().map(MenuIndexDto::getPermission).collect(Collectors.toList());
        for (String authority : collect){
            if (!(&quot;&quot;).equals(authority) &amp;amp; authority !=null){
                GrantedAuthority grantedAuthority = new SimpleGrantedAuthority(authority);
                grantedAuthorities.add(grantedAuthority);
            }
        }//å°†ç”¨æˆ·æ‰€æ‹¥æœ‰çš„æƒé™åŠ å…¥GrantedAuthorityé›†åˆä¸­
        JwtUserDto loginUser =new JwtUserDto(user,grantedAuthorities);
        return loginUser;
    }

}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œåœ¨è·å–æƒé™çš„æ—¶å€™é‡åˆ°äº†ä¸ªå°å°çš„å‘ï¼Œå°±æ˜¯mybatisæ•°æ®é‡Œçš„ç©ºå€¼å’Œnullï¼Œåœ¨ä½ ä»æœªå¯¹è¿™ä¸ªæ•°æ®ä¿®æ”¹æ—¶ï¼Œå®ƒå°±æ˜¯nullã€‚å¦‚æœä¿®æ”¹äº†åˆåˆ é™¤æ‰äº†ï¼Œå®ƒå°±ä¼šæ˜¯ç©ºå€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124704956.PNG#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;meudaoä¸­çš„listByUserIdæ–¹æ³•&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt; @Select(&quot;SELECT DISTINCT sp.id,sp.parent_id,sp.name,sp.icon,sp.url,sp.type,sp.permission  &quot; +
            &quot;FROM my_role_user sru &quot; +
            &quot;INNER JOIN my_role_menu srp ON srp.role_id = sru.role_id &quot; +
            &quot;LEFT JOIN my_menu sp ON srp.menu_id = sp.id &quot; +
            &quot;WHERE &quot; +
            &quot;sru.user_id = #{userId}&quot;)
    @Result(property = &quot;title&quot;,column = &quot;name&quot;)
    @Result(property = &quot;href&quot;,column = &quot;url&quot;)
    List&amp;lt;MenuIndexDto&amp;gt; listByUserId(@Param(&quot;userId&quot;)Integer userId);
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å…«ã€åŠ å¯†&quot;&gt;å…«ã€åŠ å¯†&lt;/h2&gt;
&lt;p&gt;è€è¯é¢˜æ¥èŠä¸€èŠï¼ŒåŠ å¯†çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;p&gt;2011å¹´å›½å†…æŸå¼€å‘è€…ç¤¾åŒºï¼ˆå¯ä¸å°±æ˜¯csdnå—ï¼‰è¢«æ”»å‡»æ•°æ®åº“ï¼Œ600å¤šä¸‡æ˜æ–‡å­˜å‚¨çš„ç”¨æˆ·è´¦å·è¢«å…¬å¼€ï¼Œå¤§é‡ç”¨æˆ·éšç§æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸ªè€æ¢—äº†ï¼Œå‡ ä¹æ¯ç¯‡è¯´åŠ å¯†é‡è¦æ€§çš„åšæ–‡ä¸­ï¼Œcsdnçš„äº‹å°±è¦è¢«æ‹¿å‡ºæ¥é›ä¸€é›ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸ºä»€ä¹ˆå¯†ç åŠ å¯†æ€ä¹ˆé‡è¦ï¼Ÿï¼Ÿå› ä¸ºåœ¨ä½ çš„æ•°æ®åº“è¢«æ”»å‡»æ³„éœ²äº†æ•°æ®æ—¶ï¼Œå¦‚æœä½ çš„å¯†ç ä¹Ÿè¢«é»‘å®¢æŒæ¡ï¼Œé‚£ä¹ˆå³ä½¿ä½ ä¿®å¤å¥½äº†æ•°æ®åº“æ³„éœ²çš„é—®é¢˜ï¼Œé»‘å®¢æ‰‹ä¸Šä»ç„¶è¿˜æœ‰ç€ç”¨æˆ·çš„å¯†ç ï¼ˆæ€»ä¸èƒ½è¦æ±‚æ‰€æœ‰ç”¨æˆ·ä¿®æ”¹å¯†ç å§ï¼‰&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿå¼€å‘ä¹‹åˆå°±å°½é‡çš„é¿å…è¿™ç§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¯´äº†è¿™ä¹ˆå¤šï¼Œæ€ä¹ˆæ¥åŠ å¯†å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®åœ¨SpringSecurityç§å·²ç»å†…ç½®äº†å¯†ç çš„åŠ å¯†æœºåˆ¶ï¼Œåªéœ€è¦å®ç°ä¸€ä¸ªPasswordEncoderæ¥å£å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸‹æºç &lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public interface PasswordEncoder {
    String encode(CharSequence var1);

    boolean matches(CharSequence var1, String var2);

    default boolean upgradeEncoding(String encodedPassword) {
        return false;
    }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;encode():æŠŠå‚æ•°æŒ‰ç…§ç‰¹å®šçš„è§£æè§„åˆ™è¿›è¡Œè§£æã€‚&lt;/li&gt;
&lt;li&gt;matches()éªŒè¯ä»å­˜å‚¨ä¸­è·å–çš„ç¼–ç å¯†ç ä¸ç¼–ç åæäº¤çš„åŸå§‹å¯†ç æ˜¯å¦åŒ¹é…ã€‚å¦‚æœå¯†ç åŒ¹é…ï¼Œåˆ™è¿”å› trueï¼›å¦‚æœä¸åŒ¹é…ï¼Œåˆ™è¿”å› falseã€‚&lt;/li&gt;
&lt;li&gt;upgradeEncoding()ï¼šå¦‚æœè§£æçš„å¯†ç èƒ½å¤Ÿå†æ¬¡è¿›è¡Œè§£æä¸”è¾¾åˆ°æ›´å®‰å…¨çš„ç»“æœåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚é»˜è®¤è¿”å› falseã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºéœ€è¦è¢«è§£æçš„å¯†ç ã€‚ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå­˜å‚¨çš„å¯†ç ã€‚&lt;/p&gt;
&lt;p&gt;Spring Security è¿˜å†…ç½®äº†å‡ ç§å¸¸ç”¨çš„ PasswordEncoder æ¥å£ï¼Œå®˜æ–¹æ¨èä½¿ç”¨çš„æ˜¯BCryptPasswordEncoder&lt;/p&gt;
&lt;p&gt;ã€‚æˆ‘ä»¬æ¥é…ç½®ä¸€ä¸‹ã€‚åœ¨SpringConfigç§æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;       @Autowired
    private UserDetailsService userDetailsService;
        @Bean
    public PasswordEncoder passwordEncoder(){
        return new BCryptPasswordEncoder();
    }
        @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());
    }//è‡ªå®šä¹‰userDetailsServiceåŠ å¯†
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯ååˆ†ç®€å•ï¼Œæˆ‘ä»¬å†é‡å¯é¡¹ç›®ï¼Œè¿™æ—¶å€™æ§åˆ¶å°å°±ä¸å†æ‰“å°å¯†ç ï¼Œç°åœ¨éœ€è¦è¾“å…¥æ•°æ®åº“ä¸­çš„ç”¨æˆ·åå¯†ç æ‰èƒ½ç™»å½•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¹ã€è·å–ç”¨æˆ·ä¿¡æ¯&quot;&gt;ä¹ã€è·å–ç”¨æˆ·ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰æˆ‘ä»¬åœ¨ç»˜åˆ¶èœå•æ—¶ï¼ŒæŠŠç”¨æˆ·çš„idç»™å†™æ­»äº†ã€‚ç°åœ¨æˆ‘ä»¬è¦ä»SpringSecurityä¸­æ¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹æ³•è·å–å·²ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼Œä¸€ç§æ˜¯ä»sessionä¸­æ‹¿ï¼Œå¦ä¸€ç§å°±æ˜¯SpringSecurityæä¾›çš„æ–¹æ³•ã€‚è¿™é‡Œé€‰æ‹©åä¸€ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è·å–ç™»å½•åç”¨æˆ·çš„ä¿¡æ¯(å…¶ä½™è¿˜æœ‰è·å–ç™»å½•ipç­‰æ–¹æ³•ï¼Œä¸å¤šä»‹ç»)&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;SecurityContextHolder.getContext().getAuthentication().getPrincipal()
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬è½¬æ¢ä¸‹ç±»å‹&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;JwtUserDto jwtUserDto = (JwtUserDto)SecurityContextHolder.getContext().getAuthentication().getPrincipal();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰“å°ä¸€ä¸‹jwtUserDtoï¼Œçœ‹åˆ°æˆ‘ä»¬ç¡®å®æ‹¿åˆ°äº†ç”¨æˆ·çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124739442.PNG#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬æ”¹å†™ä¸‹é€šè¿‡ç”¨æˆ·idè·å–èœå•è¿™ä¸ªæ–¹æ³•&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;       @GetMapping(value = &quot;/index&quot;)
    @ResponseBody
    @ApiOperation(value = &quot;é€šè¿‡ç”¨æˆ·idè·å–èœå•&quot;)
    public List&amp;lt;MenuIndexDto&amp;gt; getMenu() {
        JwtUserDto jwtUserDto = (JwtUserDto)SecurityContextHolder.getContext().getAuthentication().getPrincipal();
        Integer userId = jwtUserDto.getMyUser().getId();
        return menuService.getMenu(userId);
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨å°†å‰ç«¯å†™æ­»çš„userIdåˆ é™¤ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½æ ¹æ®ç™»å½•ç”¨æˆ·çš„ä¸åŒæ¥è‡ªåŠ¨ç»˜åˆ¶èœå•äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‹¥æœ‰adminæƒé™çš„ç”¨æˆ·&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124811176.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ™®é€šæƒé™çš„ç”¨æˆ·&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2020072212482893.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;åã€æˆæƒ&quot;&gt;åã€æˆæƒ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬ç›®å‰åªæ˜¯ç»˜åˆ¶å‡ºäº†ä¸åŒæƒé™ç”¨æˆ·èƒ½æ“ä½œçš„ç•Œé¢ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰çœŸæ­£çš„è¿›è¡Œæƒé™æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨ä¸ƒä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†æ¯ä¸ªç”¨æˆ·æ‰€æ‹¥æœ‰çš„æƒé™é›†åˆæ”¾å…¥äº†GrantedAuthorityé›†åˆä¸­&lt;/p&gt;
&lt;p&gt;åœ¨ä¹‹å‰æ‰“å°çš„ç”¨æˆ·ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ° authoritiesä¸­å°±æ˜¯è¯¥ç”¨æˆ·æ‰€æ‹¥æœ‰çš„æƒé™&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2020072212484622.PNG#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;SpringSecurityä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œæƒé™æ§åˆ¶ã€‚è€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶çš„æ–¹æ³•ä¸Šæ·»åŠ ä¸Šæƒé™æ ‡è¯†å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šç”¨æˆ·ç®¡ç†çš„æƒé™æ ‡è¯†æ˜¯user:list&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124906907.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€è¦åœ¨ç›¸å…³çš„æ¥å£ä¸ŠåŠ ä¸Š@PreAuthorize(&quot;hasAnyAuthority('user:list')&quot;)å³å¯&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;       @GetMapping(&quot;/index&quot;)
    @PreAuthorize(&quot;hasAnyAuthority('user:list')&quot;)
    public String index(){
        return &quot;system/user/user&quot;;
    }
    @GetMapping
    @ResponseBody
    @ApiOperation(value = &quot;ç”¨æˆ·åˆ—è¡¨&quot;)
    @PreAuthorize(&quot;hasAnyAuthority('user:list')&quot;)
    public Result&amp;lt;MyUser&amp;gt; userList(PageTableRequest pageTableRequest, UserQueryDto userQueryDto){
        pageTableRequest.countOffset();
        return userService.getAllUsersByPage(pageTableRequest.getOffset(),pageTableRequest.getLimit(),userQueryDto);
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬ç™»å½•æ™®é€šç”¨æˆ·æ¥æ“ä½œç›¸å…³æ¥å£ï¼Œå‘ç°æŠ¥é”™&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124922494.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ§åˆ¶å°æ‰“å°&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124939161.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹æ‰€æœ‰æ¥å£ï¼Œåœ¨éœ€è¦æƒé™æ§åˆ¶çš„æ¥å£ä¸Šæ·»åŠ æ³¨è§£&lt;/p&gt;
&lt;h2 id=&quot;åä¸€ã€è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†&quot;&gt;åä¸€ã€è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†&lt;/h2&gt;
&lt;p&gt;è™½è¯´ç°åœ¨åŠŸèƒ½å·²ç»å®ç°äº†ï¼Œç”¨æˆ·è™½è¯´ä¸èƒ½è®¿é—®æ²¡æœ‰æƒé™çš„åŠŸèƒ½äº†ï¼Œä½†æ˜¯å¼‚å¸¸æ²¡æœ‰å¤„ç†ã€‚å¦‚æœç‚¹å‡»ï¼Œå¦‚æœå‰ç«¯ä¹Ÿæ²¡æœ‰åšé”™è¯¯çš„æ‹¦æˆªçš„è¯ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸²çš„æŠ¥é”™ä¿¡æ¯ï¼Œè¿™å¾ˆä¸å‹å¥½ï¼Œå¹¶ä¸”ä¹Ÿä¼šå¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€è¦åœ¨ä¹‹å‰åˆ›å»ºçš„å…¨å±€å¼‚å¸¸å¤„ç†ç±»ä¸­æ•è·ä¸Šå›¾çš„å¼‚å¸¸å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;       @ExceptionHandler(AccessDeniedException.class)
    public Result handleAuthorizationException(AccessDeniedException e)
    {
        log.error(e.getMessage());
        return Result.error().code(ResultCode.FORBIDDEN).message(&quot;æ²¡æœ‰æƒé™ï¼Œè¯·è”ç³»ç®¡ç†å‘˜æˆæƒ&quot;);
 }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‡å¯é¡¹ç›®ï¼Œåœ¨å‰ç«¯ä¹¦å†™ç›¸åº”è§„åˆ™ï¼Œå°±ä¼šååˆ†å‹å¥½&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200722124954590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hZRENT,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;åäºŒã€è‡ªå®šä¹‰é€€å‡ºç™»å½•&quot;&gt;åäºŒã€è‡ªå®šä¹‰é€€å‡ºç™»å½•&lt;/h2&gt;
&lt;p&gt;å…¶å®SpringSecurityé»˜è®¤æ³¨å†Œäº†ä¸€ä¸ª/logoutè·¯ç”±ï¼Œé€šè¿‡è¿™ä¸ªè·¯ç”±å¯ä»¥æ³¨é”€ç™»å½•çŠ¶æ€ï¼ŒåŒ…æ‹¬Sessionå’Œremember-meç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨SpringSecurityConfigçš„configureä¸­å®šä¹‰ç›¸åº”è§„åˆ™ï¼Œç±»ä¼¼formloginã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªLogoutHadnlerï¼Œå…·ä½“å¯ä»¥çœ‹&lt;a href=&quot;https://www.cnblogs.com/felordcn/p/12142535.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è‡³æ­¤SpringSecurityçš„ä¸€äº›å¸¸ç”¨åŠŸèƒ½å·²ç»å®ç°ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬æ•´åˆjwtå®ç°æ— çŠ¶æ€ç™»å½•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ¬ç³»åˆ—&lt;a href=&quot;https://gitee.com/witmy/my-springsecurity-plus&quot;&gt;gitee&lt;/a&gt;å’Œ&lt;a href=&quot;https://github.com/witmy/my-springsecurity-plus&quot;&gt;github&lt;/a&gt;ä¸­åŒæ­¥æ›´æ–°&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 19 Aug 2020 00:09:00 +0000</pubDate>
<dc:creator>codermy</dc:creator>
<og:description>ç³»åˆ—ç›®å½• å‰è¨€ ä¸Šç¯‡æ–‡ç« SpringSecurityæ•´åˆäº†ä¸€åŠï¼Œè¿™æ¬¡æŠŠå¦ä¸€åŠæ•´å®Œï¼Œæ‰€ä»¥æœ¬ç¯‡çš„åºå·æ¥ç€ä¸Šä¸€ç¯‡ã€‚ ä¸ƒã€è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯ å‰é¢æˆ‘ä»¬ç™»å½•éƒ½æ˜¯ç”¨çš„æŒ‡å®šçš„ç”¨æˆ·åå’Œå¯†ç æˆ–è€…æ˜¯springsecurit</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/codermy/p/13516388.html</dc:identifier>
</item>
<item>
<title>æŸ¥æ‰¾ - ç¬¦å·è¡¨ - Ruby_Lu</title>
<link>http://www.cnblogs.com/afei-24/p/13514164.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/afei-24/p/13514164.html</guid>
<description>&lt;p&gt;ã€€ã€€é«˜æ•ˆæ£€ç´¢æµ·é‡ä¿¡æ¯ï¼ˆç»å…¸æŸ¥æ‰¾ç®—æ³•ï¼‰æ˜¯ç°ä»£ä¿¡æ¯ä¸–ç•Œçš„åŸºç¡€è®¾æ–½ã€‚æˆ‘ä»¬ä½¿ç”¨&lt;strong&gt;ç¬¦å·è¡¨&lt;/strong&gt;æè¿°ä¸€å¼ æŠ½è±¡çš„è¡¨æ ¼ï¼Œå°†ä¿¡æ¯ï¼ˆå€¼ï¼‰å­˜å‚¨åœ¨å…¶ä¸­ï¼Œç„¶åæŒ‰ç…§æŒ‡å®šçš„é”®æ¥æœç´¢å¹¶è·å–è¿™äº›ä¿¡æ¯ã€‚é”®å’Œå€¼çš„å…·ä½“æ„ä¹‰å–å†³äºä¸åŒçš„åº”ç”¨ã€‚ç¬¦å·è¡¨ä¸­å¯èƒ½ä¼šä¿å­˜å¾ˆå¤šé”®å’Œå¾ˆå¤šä¿¡æ¯ï¼Œå› æ­¤å®ç°ä¸€å¼ é«˜æ•ˆçš„ç¬¦å·è¡¨æ˜¯å¾ˆé‡è¦çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¦å·è¡¨æœ‰æ—¶è¢«ç§°ä¸ºå­—å…¸ï¼Œæœ‰æ—¶è¢«ç§°ä¸ºç´¢å¼•ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;1.ç¬¦å·è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¦å·è¡¨æ˜¯ä¸€ç§å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒä¸¤ç§æ“ä½œï¼šæ’å…¥ï¼ˆputï¼‰ï¼Œå³å°†ä¸€ç»„æ–°çš„é”®å€¼å¯¹å­˜å…¥è¡¨ä¸­ï¼›æŸ¥æ‰¾ï¼ˆgetï¼‰ï¼Œå³æ ¹æ®ç»™å®šçš„é”®å¾—åˆ°ç›¸åº”çš„å€¼ã€‚ç¬¦å·è¡¨æœ€ä¸»è¦çš„ç›®çš„å°±æ˜¯å°†ä¸€ä¸ªå¥å’Œä¸€ä¸ªå€¼è”ç³»èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ„é€ ç¬¦å·è¡¨çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå®ƒä»¬ä¸å…‰èƒ½å¤Ÿé«˜æ•ˆåœ°æ’å…¥å’ŒæŸ¥æ‰¾ï¼Œè¿˜å¯ä»¥è¿›è¡Œå…¶ä»–å‡ ç§æ–¹ä¾¿çš„æ“ä½œã€‚è¦å®ç°ç¬¦å·è¡¨ï¼Œé¦–å…ˆè¦å®šä¹‰å…¶èƒŒåçš„æ•°æ®ç»“æ„ï¼Œå¹¶æŒ‡æ˜åˆ›å»ºå¹¶æ“ä½œè¿™ç§æ•°æ®ç»“æ„ä»¥å®ç°æ’å…¥ï¼ŒæŸ¥æ‰¾ç­‰æ“ä½œæ‰€éœ€çš„ç®—æ³•ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;ã€€ã€€API&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; ISymbolTables&amp;lt;Key,Value&amp;gt; &lt;span&gt;where&lt;/span&gt;&lt;span&gt;  Key : IComparable
    {
        &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; CompareCount { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å°†é”®å€¼å¯¹å­˜å…¥è¡¨ä¸­ï¼ˆè‹¥å€¼æœªç©ºåˆ™å°†é”®keyä»è¡¨ä¸­åˆ é™¤ï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;value&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Put(Key key, Value value);

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è·å–é”® key å¯¹åº”çš„å€¼ï¼ˆè‹¥é”®ä¸å­˜åœ¨åˆ™è¿”å› nullï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;        Value Get(Key key);

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; ä»è¡¨ä¸­åˆ å»é”® key
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Delete(Key key);

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; é”® key æ˜¯å¦åœ¨è¡¨ä¸­å­˜åœ¨
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; Contains(Key key);

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨æ˜¯å¦æœªç©º
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; IsEmpty();

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨ä¸­çš„é”®å€¼å¯¹æ•°é‡
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Size();

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨ä¸­æ‰€æœ‰é”®çš„é›†åˆ
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        IEnumerable&amp;lt;Key&amp;gt;&lt;span&gt; Keys();

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æœ€å°çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;        Key Min();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æœ€å¤§çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;        Key Max();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å°äºç­‰äº key çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;        Key Floor(Key key);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å¤§äºç­‰äº key çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;        Key Ceilling(Key key);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt;å°äº key çš„é”®çš„æ•°é‡ï¼ˆkey çš„æ’åï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Rank(Key key);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt;  æ’åä¸º k çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;k&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        Key Select(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; k);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; åˆ é™¤æœ€å°çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;void&lt;/span&gt;&lt;span&gt; DeleteMin();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; åˆ é™¤æœ€å¤§çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;void&lt;/span&gt;&lt;span&gt; DeleteMax();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; [lo ... hi]ä¹‹é—´çš„é”®çš„æ•°é‡
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;lo&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;hi&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Size(Key lo,Key hi);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; [lo ... hi]ä¹‹é—´çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;lo&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;hi&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        IEnumerable&amp;lt;Key&amp;gt;&lt;span&gt; Keys(Key lo, Key hi);
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ã€€ã€€åŸºæœ¬å®ç°ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; ç¬¦å·è¡¨åŸºç±»
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;typeparam name=&quot;Key&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;typeparam name=&quot;Value&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; BaseSymbolTables&amp;lt;Key, Value&amp;gt;: ISymbolTables&amp;lt;Key, Value&amp;gt;
        &lt;span&gt;where&lt;/span&gt;&lt;span&gt; Key : IComparable
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; CompareCount { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å°†é”®å€¼å¯¹å­˜å…¥è¡¨ä¸­ï¼ˆè‹¥å€¼æœªç©ºåˆ™å°†é”®keyä»è¡¨ä¸­åˆ é™¤ï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;value&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Put(Key key, Value value)
        { 
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è·å–é”® key å¯¹åº”çš„å€¼ï¼ˆè‹¥é”®ä¸å­˜åœ¨åˆ™è¿”å› nullï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Value Get(Key key)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Value);
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; ä»è¡¨ä¸­åˆ å»é”® key
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Delete(Key key)
        {
            
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; é”® key æ˜¯å¦åœ¨è¡¨ä¸­å­˜åœ¨
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; Contains(Key key)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨æ˜¯å¦æœªç©º
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; IsEmpty()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; Size()==&lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨ä¸­çš„é”®å€¼å¯¹æ•°é‡
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Size()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; è¡¨ä¸­æ‰€æœ‰é”®çš„é›†åˆ
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; IEnumerable&amp;lt;Key&amp;gt;&lt;span&gt; Keys()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; List&amp;lt;Key&amp;gt;&lt;span&gt;();
        }

        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æœ€å°çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Key Min()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Key);
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æœ€å¤§çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Key Max()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Key);
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å°äºç­‰äº key çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Key Floor(Key key)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Key);
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; å¤§äºç­‰äº key çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt;&lt;span&gt; Key Ceilling(Key key)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Key);
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt;å°äº key çš„é”®çš„æ•°é‡ï¼ˆkey çš„æ’åï¼‰
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;key&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Rank(Key key)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt;  æ’åä¸º k çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;k&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; Key Select(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; k)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Key);
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; åˆ é™¤æœ€å°çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; DeleteMin()
        {

        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; åˆ é™¤æœ€å¤§çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; DeleteMax()
        {

        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; [lo ... hi]ä¹‹é—´çš„é”®çš„æ•°é‡
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;lo&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;hi&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Size(Key lo, Key hi)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
        }
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; [lo ... hi]ä¹‹é—´çš„é”®
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;lo&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;hi&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;virtual&lt;/span&gt; IEnumerable&amp;lt;Key&amp;gt;&lt;span&gt; Keys(Key lo, Key hi)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; List&amp;lt;Key&amp;gt;&lt;span&gt;();
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;2.æœ‰åºç¬¦å·è¡¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å…¸å‹çš„åº”ç”¨ç¨‹åºä¸­ï¼Œé”®éƒ½æ˜¯Â IComparable å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ a.CompareTo( b ) æ¥æ¯”è¾ƒ a å’Œ b ä¸¤ä¸ªé”®ã€‚ç¬¦å·è¡¨ä¿æŒé”®çš„æœ‰åºæ€§ï¼Œå¯ä»¥æ‰©å±•å®ƒçš„APIï¼Œæ ¹æ®é”®çš„ç›¸å¯¹ä½ç½®å®šä¹‰æ›´å¤šå®ç”¨æ“ä½œã€‚ä¾‹å¦‚ï¼Œæœ€å¤§å’Œæœ€å°çš„é”®ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;æ’åï¼ˆRank æ–¹æ³•ï¼‰å’Œé€‰æ‹© ï¼ˆSelect æ–¹æ³•ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ£€æŸ¥ä¸€ä¸ªæ–°çš„é”®æ˜¯å¦æ’å…¥åˆé€‚ä½ç½®çš„åŸºæœ¬æ“ä½œæ˜¯æ’åï¼ˆRankï¼Œæ‰¾å‡ºå°äºæŒ‡å®šé”®çš„é”®çš„æ•°é‡ï¼‰å’Œé€‰æ‹©ï¼ˆSelectï¼Œæ‰¾å‡ºæ’åä¸º k çš„é”®ï¼‰ã€‚å¯¹äº 0 åˆ° Sizeï¼ˆï¼‰-1 çš„æ‰€æœ‰ i éƒ½æœ‰ i == Rank( Select(i) )ï¼Œä¸”æ‰€æœ‰çš„é”®éƒ½æ»¡è¶³ key == Select( Rank( key ) ) ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;strong&gt;é”®çš„ç­‰ä»·æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€IComparableÂ  ç±»å‹ä¸­ CompareTo å’Œ Equals æ–¹æ³•æ˜¯ä¸€è‡´çš„ï¼Œä½†ä¸ºäº†é¿å…ä»»ä½•æ½œåœ¨çš„äºŒä¹‰æ€§ï¼Œè¿™é‡Œåªæ˜¯ç”¨Â a.CompareTo( b )Â  == 0 æ¥åˆ¤æ–­ a å’Œ b æ˜¯å¦ç›¸ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;strong&gt;æˆæœ¬æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æŸ¥æ‰¾çš„æˆæœ¬æ¨¡å‹ï¼šåœ¨ç¬¦å·è¡¨çš„å®ç°ä¸­ï¼Œå°†æ¯”è¾ƒçš„æ¬¡æ•°ä½œä¸ºæˆæœ¬æ¨¡å‹ã€‚åœ¨å†…å¾ªç¯ä¸è¿›è¡Œæ¯”è¾ƒçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ•°ç»„çš„è®¿é—®æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¦å·è¡¨å®ç°çš„é‡ç‚¹åœ¨äºå…¶ä¸­ä½¿ç”¨çš„æ•°æ®ç»“æ„å’Œ Get() , Put() æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;3.æ— åºé“¾è¡¨ä¸­çš„é¡ºåºæŸ¥æ‰¾&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¦å·è¡¨ä¸­ä½¿ç”¨çš„æ•°æ®ç»“æ„çš„ä¸€ä¸ªç®€å•é€‰æ‹©æ˜¯é“¾è¡¨ï¼Œæ¯ä¸ªç»“ç‚¹å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€Get æ–¹æ³•çš„å®ç°å³ä¸ºéå†é“¾è¡¨ï¼Œç”¨Â Equals æ–¹æ³•æ¯”è¾ƒéœ€è¦æŸ¥æ‰¾çš„é”®å’Œæ¯ä¸ªç»“ç‚¹ä¸­é”®ã€‚å¦‚æœåŒ¹é…å°±è¿”å›ç›¸åº”çš„å€¼ï¼Œå¦åˆ™è¿”å› nullã€‚Put æ–¹æ³•çš„å®ç°ä¹Ÿæ˜¯éå†ï¼Œå¦‚æœåŒ¹é…å°±æ›´æ–°ç›¸åº”çš„å€¼ï¼Œå¦åˆ™å°±ç”¨ç»™å®šçš„é”®å€¼å¯¹åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“ç‚¹å¹¶å°†å…¶æ’å…¥é“¾è¡¨çš„å¼€å¤´ã€‚è¿™ç§æ–¹æ³•ç§°ä¸º&lt;strong&gt;é¡ºåºæŸ¥æ‰¾&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; é¡ºåºæŸ¥æ‰¾
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;typeparam name=&quot;Key&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;typeparam name=&quot;Value&quot;&amp;gt;&amp;lt;/typeparam&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt;  &lt;span&gt;class&lt;/span&gt; SequentialSearchST&amp;lt;Key,Value&amp;gt;:BaseSymbolTables&amp;lt;Key, Value&amp;gt;
        &lt;span&gt;where&lt;/span&gt;&lt;span&gt; Key : IComparable
    {
        
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Node First;
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Node
        {
            &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Key key;
            &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Value value;
            &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Node next;
            &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Node(Key _key,Value _value,Node _next)
            {
                key &lt;/span&gt;=&lt;span&gt; _key;
                value &lt;/span&gt;=&lt;span&gt; _value;
                next &lt;/span&gt;=&lt;span&gt; _next;
            }
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Value Get(Key key)
        {
            &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (Node x = First; x != &lt;span&gt;null&lt;/span&gt;; x =&lt;span&gt; x.next)
            {
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (key.Equals(x.key))
                    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; x.value;
            }
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Value);
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Put(Key key, Value value)
        {
            &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (Node x = First; x != &lt;span&gt;null&lt;/span&gt;; x =&lt;span&gt; x.next)
            {
                CompareCount&lt;/span&gt;++&lt;span&gt;;
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (key.Equals(x.key))
                {
                    x.value &lt;/span&gt;=&lt;span&gt; value;
                    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
                }
            }

            First &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Node(key,value,First);
        }

    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ¥æµ‹è¯•ä¸Šé¢çš„ç®—æ³•ï¼Œé”®æ˜¯æ•°ç»„ä¸­çš„å€¼ï¼Œå€¼æ˜¯æ’å…¥çš„ç´¢å¼•ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;span&gt;string&lt;/span&gt;[] strs = &lt;span&gt;new&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;[] { &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;S&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;E&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;R&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;H&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;E&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;X&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;M&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;P&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;L&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;E&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; };
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢æ˜¯é¡ºåºæŸ¥æ‰¾çš„ç´¢å¼•ç”¨ä¾‹çš„è½¨è¿¹ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€åˆ†æç¬¦å·è¡¨ç®—æ³•æ¯”æ’åºç®—æ³•æ›´å›°éš¾ï¼Œå› ä¸ºä¸åŒçš„ç”¨ä¾‹æ‰€è¿›è¡Œçš„æ“ä½œåºåˆ—å„ä¸ç›¸åŒã€‚å¸¸è§çš„æƒ…å½¢æ˜¯è™½ç„¶æŸ¥æ‰¾å’Œæ’å…¥çš„ä½¿ç”¨æ¨¡å¼æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨è‚¯å®šä¸æ˜¯éšæœºçš„ã€‚å› æ­¤æˆ‘ä»¬ä¸»è¦ç ”ç©¶æœ€åæƒ…å†µä¸‹çš„æ€§èƒ½ã€‚æˆ‘ä»¬ä½¿ç”¨å‘½ä¸­è¡¨ç¤ºä¸€æ¬¡æˆåŠŸçš„æŸ¥æ‰¾ï¼Œæœªå‘½ä¸­è¡¨ç¤ºä¸€æ¬¡å¤±è´¥çš„æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/984232/202008/984232-20200818074345441-2026000740.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;åœ¨å«æœ‰ N å¯¹é”®å€¼çš„åŸºäºé“¾è¡¨çš„ç¬¦å·è¡¨ä¸­ï¼Œæœªå‘½ä¸­çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œéƒ½éœ€è¦ N æ¬¡æ¯”è¾ƒã€‚å‘½ä¸­çš„æŸ¥æ‰¾åœ¨æœ€åæƒ…å†µä¸‹éœ€è¦ N æ¬¡æ¯”è¾ƒã€‚ç‰¹åˆ«åœ°ï¼Œå‘ä¸€ä¸ªç©ºè¡¨ä¸­æ’å…¥ N ä¸ªä¸åŒçš„é”®éœ€è¦ ~ N^2 /2 æ¬¡æ¯”è¾ƒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æŸ¥æ‰¾ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é”®å¹¶ä¸éœ€è¦çº¿æ€§çº§åˆ«çš„æ—¶é—´ã€‚ä¸€ç§åº¦é‡æ–¹æ³•æ˜¯æŸ¥æ‰¾è¡¨ä¸­çš„æ¯ä¸ªé”®ï¼Œå¹¶å°†æ€»æ—¶é—´é™¤ä»¥ N ã€‚åœ¨æŸ¥æ‰¾è¡¨ä¸­æ¯ä¸ªé”®çš„å¯èƒ½æ€§éƒ½ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç»“æœå°±æ˜¯ä¸€æ¬¡æŸ¥æ‰¾å¹³å‡æ‰€éœ€çš„æ¯”è¾ƒæ¬¡æ•°ã€‚ç§°å®ƒä¸ºéšæœºå‘½ä¸­ã€‚ç”±ä¸Šé¢çš„ç®—æ³•å¯ä»¥å¾—åˆ°å¹³å‡æ¯”è¾ƒæ¬¡æ•°ä¸º ~N/2:Â  æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”®éœ€è¦æ¯”è¾ƒä¸€æ¬¡ï¼ŒæŸ¥æ‰¾ç¬¬äºŒä¸ªé”®éœ€è¦æ¯”è¾ƒä¸¤æ¬¡ ...... å¹³å‡æ¯”è¾ƒæ¬¡æ•°ä¸ºï¼ˆ1+2+3.....+Nï¼‰/ N = (N+1)/2ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™è¯æ˜åŸºäºé“¾è¡¨çš„å®ç°ä»¥åŠé¡ºåºæŸ¥æ‰¾æ˜¯ä½æ•ˆçš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.æœ‰åºæ•°ç»„ä¸­çš„äºŒåˆ†æŸ¥æ‰¾&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æœ‰åºç¬¦å·è¡¨APIçš„å®ç°ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ä¸€å¯¹å¹³è¡Œçš„æ•°ç»„ï¼Œä¸€ä¸ªå­˜å‚¨é”®ä¸€ä¸ªå­˜å‚¨å€¼ã€‚ä¸‹é¢çš„ä»£ç ä¿è¯æ•°ç»„ä¸­Â IComparable ç±»å‹çš„é”®æœ‰åºï¼Œç„¶åä½¿ç”¨æ•°ç»„çš„ç´¢å¼•æ¥é«˜æ•ˆåœ°å®ç° Get å’Œå…¶ä»–æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢ç®—æ³•çš„æ ¸å¿ƒæ˜¯ Rank æ–¹æ³•(å®ƒä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„ç®—æ³•)ï¼Œå®ƒè¿”å›è¡¨ä¸­å°äºç»™å®šé”®çš„é”®çš„æ•°é‡ã€‚å¯¹äº Get æ–¹æ³•ï¼Œåªè¦ç»™å®šçš„é”®å­˜åœ¨äºè¡¨ä¸­å°±è¿”å›ï¼Œå¦åˆ™è¿”å›ç©ºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€Put æ–¹æ³•ï¼Œåªè¦ç»™å®šçš„é”®å­˜åœ¨äºè¡¨ä¸­ï¼ŒRank æ–¹æ³•å°±èƒ½å¤Ÿç²¾ç¡®å‘Šè¯‰æˆ‘ä»¬å®ƒçš„ä¸ºå¹¶å»æ›´æ–°ï¼Œä»¥åŠå½“é”®ä¸å­˜åœ¨æ—¶æˆ‘ä»¬ä¹Ÿèƒ½ç›´åˆ°å°†é”®å­˜å‚¨åˆ°ä»€ä¹ˆä½ç½®ã€‚æ’å…¥é”®å€¼å¯¹æ—¶ï¼Œå°†æ›´å¤§çš„é”®å’Œå€¼å‘åç§»ä¸€æ ¼ï¼Œå¹¶å°†ç»™å®šçš„é”®å€¼å¯¹åˆ†åˆ«æ’å…¥åˆ°æ•°ç»„ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; BinarySearchST&amp;lt;Key,Value&amp;gt; : BaseSymbolTables&amp;lt;Key, Value&amp;gt;
        &lt;span&gt;where&lt;/span&gt;&lt;span&gt; Key : IComparable
    {
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Key[] keys;
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Value[] vals;
        &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; N;

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; BinarySearchST(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; capacity)
        {
            keys &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Key[capacity];
            vals &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Value[capacity];
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Size()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; N;
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Value Get(Key key)
        {
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (IsEmpty())
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Value);

            &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; i =&lt;span&gt; Rank(key);
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (i &amp;lt; N &amp;amp;&amp;amp; keys[i].CompareTo(key) == &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; vals[i];
            &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;
                &lt;span&gt;return&lt;/span&gt; &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(Value);
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; Rank(Key key)
        {
            &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; lo = &lt;span&gt;0&lt;/span&gt;, hi = N - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (lo &amp;lt;=&lt;span&gt; hi)
            {
                &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; mid = lo + (hi-lo) / &lt;span&gt;2&lt;/span&gt;&lt;span&gt;;
                CompareCount&lt;/span&gt;++&lt;span&gt;;
                &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; cmp =&lt;span&gt; key.CompareTo(keys[mid]);
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (cmp &amp;lt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
                    hi &lt;/span&gt;= mid - &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
                &lt;/span&gt;&lt;span&gt;else&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; (cmp &amp;gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
                    lo &lt;/span&gt;= mid + &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
                &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;
                    &lt;span&gt;return&lt;/span&gt;&lt;span&gt; mid;
            }
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; lo;
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Put(Key key, Value value)
        {
            &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; i =&lt;span&gt; Rank(key);
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (i &amp;lt; N &amp;amp;&amp;amp; keys[i].CompareTo(key) == &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
            {
                vals[i] &lt;/span&gt;=&lt;span&gt; value;
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
            }

            &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; j = N; j &amp;gt; i; j--&lt;span&gt;)
            {
                keys[j] &lt;/span&gt;= keys[j-&lt;span&gt;1&lt;/span&gt;&lt;span&gt;];
                vals[j] &lt;/span&gt;= vals[j-&lt;span&gt;1&lt;/span&gt;&lt;span&gt;];
            }

            keys[i] &lt;/span&gt;=&lt;span&gt; key;
            vals[i] &lt;/span&gt;=&lt;span&gt; value;
            N&lt;/span&gt;++&lt;span&gt;;
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Key Min()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; keys[&lt;span&gt;0&lt;/span&gt;&lt;span&gt;];
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Key Max()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; keys[N-&lt;span&gt;1&lt;/span&gt;&lt;span&gt;];
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; Key Select(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; k)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; keys[k];
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt;&lt;span&gt; Key Ceilling(Key key)
        {
            &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; i =&lt;span&gt; Rank(key);
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; keys[i];
        }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; IEnumerable&amp;lt;Key&amp;gt;&lt;span&gt; Keys()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; keys;
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢æ˜¯è¯¥ç®—æ³•çš„ç”¨ä¾‹ç§»åŠ¨è½¨è¿¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/984232/202008/984232-20200818204000295-449197733.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;span&gt;&lt;strong&gt;å¯¹äºŒåˆ†æŸ¥æ‰¾çš„åˆ†æ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€Rank æ–¹æ³•çš„é€’å½’å®ç°ä½¿ç”¨äº†äºŒåˆ†æŸ¥æ‰¾ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ¯”é¡ºåºæŸ¥æ‰¾å¿«å¾ˆå¤šã€‚åœ¨ N ä¸ªé”®çš„æœ‰åºæ•°ç»„ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦ ï¼ˆlgN + 1ï¼‰æ¬¡æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å°½ç®¡è¯¥ç®—æ³•èƒ½å¤Ÿä¿è¯æŸ¥æ‰¾æ‰€éœ€çš„æ—¶é—´æ˜¯å¯¹æ•°çº§åˆ«çš„ï¼Œä½† Put æ–¹æ³•è¿˜æ˜¯å¤ªæ…¢ï¼Œéœ€è¦ç§»åŠ¨æ•°ç»„ã€‚å¯¹äºéšæœºæ•°ç»„ï¼Œæ„é€ ä¸€ä¸ªåŸºäºæœ‰åºæ•°ç»„çš„ç¬¦å·è¡¨æ‰€éœ€è®¿é—®æ•°ç»„çš„æ¬¡æ•°æ˜¯æ•°ç»„é•¿åº¦çš„å¹³æ–¹çº§åˆ«ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å‘å¤§å°ä¸º N çš„æœ‰åºæ•°ç»„ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹åœ¨æœ€åæƒ…å†µä¸‹éœ€è¦è®¿é—® ~2N æ¬¡æ•°ç»„ï¼Œå› æ­¤å‘ä¸€ä¸ªç©ºç¬¦å·è¡¨ä¸­æ’å…¥ N ä¸ªå…ƒç´ åœ¨æœ€åæƒ…å†µä¸‹éœ€è¦è®¿é—® ~N^2 æ¬¡æ•°ç»„ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å¯¹äºä¸€ä¸ªé™æ€è¡¨ï¼ˆä¸å…è®¸æ’å…¥ï¼‰æ¥è¯´ï¼Œå°†å…¶åœ¨åˆå§‹åŒ–æ—¶å°±æ’åºæ˜¯å€¼å¾—çš„ã€‚ä¸‹é¢æ˜¯ç¬¦å·è¡¨ç®€å•å®ç°çš„æ€»ç»“ï¼š&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;&lt;tbody readability=&quot;5&quot;&gt;&lt;tr readability=&quot;7&quot;&gt;&lt;td rowspan=&quot;2&quot;&gt;ç®—æ³•&lt;/td&gt;
&lt;td colspan=&quot;2&quot;&gt;
&lt;p&gt;æœ€åæƒ…å†µä¸‹çš„æˆæœ¬&lt;/p&gt;
&lt;p&gt;ï¼ˆN æ¬¡æ’å…¥åï¼‰&lt;/p&gt;
&lt;/td&gt;
&lt;td colspan=&quot;2&quot; readability=&quot;5&quot;&gt;
&lt;p&gt;å¹³å‡æƒ…å†µä¸‹çš„æˆæœ¬&lt;/p&gt;
&lt;p&gt;ï¼ˆN æ¬¡éšæœºæ’å…¥åï¼‰&lt;/p&gt;
&lt;/td&gt;
&lt;td rowspan=&quot;2&quot;&gt;æ˜¯å¦æ”¯æŒæœ‰åºæ€§ç›¸å…³çš„æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;æŸ¥æ‰¾&lt;/td&gt;
&lt;td&gt;æ’å…¥&lt;/td&gt;
&lt;td&gt;æŸ¥æ‰¾&lt;/td&gt;
&lt;td&gt;æ’å…¥&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;é¡ºåºæŸ¥æ‰¾ï¼ˆæ— åºé“¾è¡¨ï¼‰&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;N/2&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºæ•°ç»„ï¼‰&lt;/td&gt;
&lt;td&gt;lgN&lt;/td&gt;
&lt;td&gt;2N&lt;/td&gt;
&lt;td&gt;lgN&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
</description>
<pubDate>Wed, 19 Aug 2020 00:08:00 +0000</pubDate>
<dc:creator>Ruby_Lu</dc:creator>
<og:description>é«˜æ•ˆæ£€ç´¢æµ·é‡ä¿¡æ¯ï¼ˆç»å…¸æŸ¥æ‰¾ç®—æ³•ï¼‰æ˜¯ç°ä»£ä¿¡æ¯ä¸–ç•Œçš„åŸºç¡€è®¾æ–½ã€‚æˆ‘ä»¬ä½¿ç”¨ç¬¦å·è¡¨æè¿°ä¸€å¼ æŠ½è±¡çš„è¡¨æ ¼ï¼Œå°†ä¿¡æ¯ï¼ˆå€¼ï¼‰å­˜å‚¨åœ¨å…¶ä¸­ï¼Œç„¶åæŒ‰ç…§æŒ‡å®šçš„é”®æ¥æœç´¢å¹¶è·å–è¿™äº›ä¿¡æ¯ã€‚é”®å’Œå€¼çš„å…·ä½“æ„ä¹‰å–å†³äºä¸åŒçš„åº”ç”¨ã€‚ç¬¦å·è¡¨ä¸­å¯èƒ½</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/afei-24/p/13514164.html</dc:identifier>
</item>
<item>
<title>DDDä¸Repository - bluesky234</title>
<link>http://www.cnblogs.com/Pray4U/p/13527146.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Pray4U/p/13527146.html</guid>
<description>&lt;p align=&quot;left&quot;&gt;Repositoryå·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°é²œæ¦‚å¿µäº†ã€‚DDDæ¨¡å‹è‡ª2004å¹´æå‡ºï¼Œå‘å±•è‡³ä»Šå·²ç»16å¹´äº†ã€‚ä½†æ˜¯ä¸å°‘ä¼ä¸šå´æ— æ³•å®æ–½ï¼Œå…¶åŸå› ä¹Ÿå¾ˆç®€å•ï¼šDDDæ˜¯åŸºäºéœ€æ±‚çš„ï¼Œè€Œå¾ˆå¤šå¹¶ä¸ç†è§£éœ€æ±‚ï¼›DDDæ˜¯å®¹æ˜“å®ç°çš„ï¼Œè€Œå¾ˆå¤šè®¾è®¡è€…å¹¶ä¸ä¼šç¼–ç¨‹ã€‚è¿™ç§æƒ…å†µå°±æœ‰ä¸€äº›ä¸¤å¤´ä¸è®¨å¥½ï¼Œè€Œå¦‚æœæœ‰åŠæ³•ç»“åˆç»Ÿä¸€çš„è¯ï¼Œåˆ™ä¼šéå¸¸å¥½ç”¨ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;å­¦ä¹ Repositoryçš„è¿‡ç¨‹ä¸­ï¼Œæœ€å…ˆè¦è¿›è¡Œçš„æ˜¯æ€æƒ³çš„è½¬å˜ã€‚åœ¨è¿‡å¾€çš„ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶å¾€å¾€å°†ç›®å…‰èšç„¦åœ¨CRUDä¸­ï¼Œå¯¼è‡´æ¯ä¸ªç¨‹åºå‘˜é¦–å…ˆæƒ³çš„æ˜¯æˆ‘å¦‚ä½•ä½¿ç”¨SQLå®ç°æˆ‘æ‰€è¦çš„ç›®æ ‡ã€‚è€Œåœ¨DDDè¿‡ç¨‹ä¸­ï¼Œå®è·µè€…åº”å½“å°†ç›®å…‰èšç„¦ä¸­åŠŸèƒ½ä¸Šï¼Œé¦–å…ˆå°†éœ€æ±‚åˆ†è§£ä¸ºè‹¥å¹²ä¸ªåŠŸèƒ½ï¼Œç„¶åå†å°†åŠŸèƒ½è¿›è¡Œç»„åˆã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ä¸¾ä¾‹è€Œè¨€ï¼ŒæŸç³»ç»Ÿæ‹¥æœ‰ç»„ç»‡æœºæ„å’Œç”¨æˆ·åŠŸèƒ½ã€‚ç»„ç»‡æœºæ„æ ‘çš„æ¯ä¸ªéƒ¨é—¨ä¸‹å±è‹¥å¹²ä¸ªèŒä½ï¼Œæ¯ä¸ªèŒä½éƒ½æœ‰ç”¨æˆ·æ‹…ä»»ï¼Œæ¯ä¸ªç”¨æˆ·å¯ä»¥å‡ºä»»å¤šä¸ªéƒ¨é—¨çš„å¤šä¸ªèŒä½ã€‚è¿™æ—¶ï¼Œç³»ç»Ÿè®¾è®¡å¸ˆå‘Šè¯‰ä½ è¿™é‡Œè¦æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨ç®¡ç†ï¼ˆéƒ¨é—¨çš„CRUDï¼Œéƒ¨é—¨ä¸‹èŒä½çš„CRUDï¼ŒèŒä½ä¸éƒ¨é—¨çš„CRUDï¼‰&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ç”¨æˆ·ç®¡ç†ï¼ˆç”¨æˆ·çš„CRUDï¼‰&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;è®²åˆ°è¿™é‡Œï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œè¿™é‡Œå…¶å®æœ‰å››å¼ è¡¨ï¼Œä¹Ÿå°±æ˜¯éƒ¨é—¨ï¼ŒèŒä½ï¼Œç”¨æˆ·å’Œç”¨æˆ·èŒä½å…³è”è¡¨ã€‚è¡¨å…³ç³»ä¹Ÿå®¹æ˜“ç†å‡ºï¼Œéƒ¨é—¨ä¸èŒä½1å¯¹å¤šï¼ŒèŒä½ä¸ç”¨æˆ·å¤šå¯¹å¤šã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯DAOæ€æƒ³ï¼ˆæˆ–è€…è¯´åˆ†å±‚æ€æƒ³ï¼‰ï¼Œé‚£ä¹ˆéœ€æ±‚åˆ†æåšåˆ°è¿™ä¸€æ­¥ä¹Ÿå°±ç»“æŸäº†ã€‚ä½ å¯ä»¥ç›´æ¥é€šè¿‡ä¸Šè¿°å†…å®¹æ•´ç†å‡ºä½ éœ€è¦å®ç°çš„æ¥å£ï¼Œå³æ¯å¼ è¡¨çš„CRUDã€‚ç„¶ååœ¨å‰ç«¯å®ç°ä¸€ä¸ªç•Œé¢ï¼Œæ¯ä¸ªç•Œé¢è°ƒç”¨ç›¸å…³çš„æ¥å£ç¨‹åºä¹Ÿå°±å†™å®Œäº†ã€‚æ¯”å¦‚ï¼Œå…¶ä¸­ä¸€ä¸ªæ¥å£å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;[Route(â€œ~/api/SetPositionâ€)]&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;public void SetPosition(Guid userId, Guid positionId);&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;é‚£ä¹ˆï¼Œç°åœ¨é—®é¢˜æ¥äº†ã€‚éœ€æ±‚å‘ç”Ÿäº†ä¸€ä¸ªå˜æ›´ï¼Œæ¥äº†ä¸€ä¸ªå…¨æ–°çš„éœ€æ±‚ï¼Œå®¢æˆ·è¯´æˆ‘ç°åœ¨éœ€æ±‚æ¯ä¸ªéƒ¨é—¨çš„æ›´æ”¹å¿…é¡»é€šè¿‡æµç¨‹è¿›è¡Œã€‚å³å½“éƒ¨é—¨ä¿¡æ¯å‘ç”Ÿå˜æ›´æ—¶ï¼Œå¿…é¡»å±‚å±‚å®¡æ ¸ï¼Œæœ€åæ‰é€šè¿‡åï¼Œæ‰èƒ½åœ¨æ›´æ–°æ•°æ®ã€‚è¿™ä¸ªå®¡æ ¸è¿‡ç¨‹ç”šè‡³åŒ…å«äº†ä¸€éƒ¨åˆ†å…³é”®èŒä½çš„äººå‘˜å˜åŒ–ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;è¿™æ—¶ï¼Œé‚£ä¸ªå‘äººçš„ç³»ç»Ÿè®¾è®¡å¸ˆåˆç«™å‡ºæ¥äº†ï¼Œç»™äº†ä½ ä¸€ç³»åˆ—åŠŸèƒ½å˜åŒ–è¡¨ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨ä¿®æ”¹ç”³è¯·ï¼ˆéƒ¨é—¨ä¿®æ”¹ç”³è¯·CRUDï¼Œéƒ¨é—¨ç”³è¯·å®¡æ ¸ï¼Œéƒ¨é—¨ç”³è¯·åŒæ­¥åˆ°éƒ¨é—¨è¡¨ï¼Œéƒ¨é—¨ç”³è¯·åŒæ­¥åˆ°èŒä½è¡¨ï¼‰&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;çœ‹ä¸Šå»ï¼Œè¿™ä¸ªè®¾è®¡å¾ˆç¾å¥½â€œè‡ªé¡¶å‘ä¸‹é€æ­¥ç»†åŒ–â€åˆ†è§£çš„ä¹Ÿéå¸¸èˆ’æœã€‚ä½†æ˜¯ï¼Œä½ ä»”ç»†ç ”ç©¶ä¸€ä¸‹å°±å‘ç°è¿™é‡Œæœ‰ä¸¤ä¸ªå·¨å¤§çš„å‘ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;1ã€æ–°å»ºéƒ¨é—¨ä¿®æ”¹ç”³è¯·ã€‚åœ¨éƒ¨é—¨ä¿®æ”¹ç”³è¯·æ—¶ï¼Œè¯•é—®æ˜¯å¦è¦å°†ä»¥å‰çš„éƒ¨é—¨æ•°æ®å¤åˆ¶åˆ°è¿™å¼ ç”³è¯·è¡¨ä¸­ï¼Ÿå¦‚æœä½ ä¸å¤åˆ¶ï¼Œé‚£äº†ä¸å¾—äº†ï¼Œå…¨éƒ¨é—¨æ‰€æœ‰æ‰‹åŠ¨æ•°æ®å…¨éƒ¨è¦ç”¨æˆ·è‡ªè¡Œè¾“å…¥æ­¤è¡¨ï¼Œé‚£ææ€•æœ€ç»ˆç”¨æˆ·ä¼šå’Œä½ é—¹çš„ä¸å¯å¼€äº¤â€”â€”è¿™ä»€ä¹ˆåƒåœ¾è½¯ä»¶ï¼Ÿï¼è€Œå¦‚æœä½ æ‰“ç®—å®ç°ä»–ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼Œè¿™å¼ å¯æ€•çš„éƒ¨é—¨è¡¨é‡Œï¼Œå­—æ®µä¸å¤šï¼Œ100ä¸ªï¼ˆå‘µå‘µï¼‰ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;2ã€å¦‚æœä½ è¯´åŠŸèƒ½1å…¶å®æ˜¯å¿…é¡»å®ç°çš„æ–°åŠŸèƒ½ï¼Œå’Œè®¾è®¡å…³ç³»ä¸å¤§ã€‚é‚£ä¹ˆä½ å†è§‚å¯Ÿï¼Œå°†éƒ¨é—¨ç”³è¯·åŒæ­¥åˆ°éƒ¨é—¨è¿™ä¸ªåŠŸèƒ½ã€‚ä»–ç»å¯¹å¯ä»¥ç»†åˆ†ä¸ºâ€œä¿®æ”¹éƒ¨é—¨â€å’Œâ€œä¿®æ”¹èŒä½â€ä¸¤ä¸ªå­åŠŸèƒ½ï¼Œè€Œè¿™ä¸¤ä¸ªå­åŠŸèƒ½å…¶å®æ˜¯ä¹‹å‰çš„æ¥å£å°±å®ç°çš„ã€‚é‚£ä¹ˆï¼Œä½ æ˜¯å¦ä¸ºä¹‹å‰çš„æ¥å£ç•™ä¸‹äº†å¤ç”¨æ€§ï¼Ÿä»”ç»†çœ‹çœ‹ä¹‹å‰æ¥å£çš„å®ç°ä»£ç ï¼Œä½ å°±ä¼šæ‚²å‰§çš„å‘ç°ï¼Œ70%çš„å¯èƒ½æ€§é‚£ä¸ªæ¥å£æ˜¯æ— æ³•å¤ç”¨çš„ï¼Œå› ä¸ºæŸ¥è¯¢ä»£ç å…¶å®ä¸å¤ªä¸€æ ·ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;é‚£è¿™åªæ˜¯æˆ‘éšæ‰‹è¯´çš„ä¸€ä¸ªéœ€æ±‚å˜æ›´ï¼Œå¦‚æœæœ‰æ›´å¤šçš„éœ€æ±‚å˜åŒ–å‘¢ï¼Ÿé‚£ä¹ˆè™½ç„¶ä»£ç è¿˜æ˜¯èƒ½å¤Ÿå¤ç”¨ä¸€éƒ¨åˆ†ï¼Œè®¾è®¡ç©ºé—´é‡Šæ”¾ä¹Ÿä¸ä¼šå¤ªéº»çƒ¦ã€‚ä½†æ˜¯ï¼Œä»”ç»†è¯„åˆ¤ä½ çš„ä»£ç å’Œè®¾è®¡ï¼Œå°±ä¼šå‘ç°åŸæ¥ä¼˜é›…è€Œç®€æ´çš„å¯å¤ç”¨è®¾è®¡çš„å¤ç”¨æ€§è¶Šæ¥è¶Šä½ï¼ŒåŸæ¥æ•´é½è€Œæ˜“è¯»çš„ä»£ç çš„å¯è¯»æ€§è¶Šæ¥è¶Šå·®ã€‚è¿™å°±æ˜¯äººé—´æ‚²å‰§ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;è€Œè¿™æ—¶ï¼ŒRepositoryçš„æ€æƒ³ä»å¤©è€Œé™ï¼Œä»–ä¹Ÿè®¸èƒ½å¤Ÿä¸ºä½ å¯æ€œçš„ä»£ç å¸¦æ¥ä¸€äº›è®©ä½ æƒŠå–œçš„å˜æ›´ã€‚å¦‚æœä½¿ç”¨DDDçš„æ€æƒ³è®¾è®¡ä¸Šè¿°å†…å®¹ï¼Œé¦–å…ˆä½ éœ€è¦ç¡®å®šé¢†åŸŸã€‚æ˜¾è€Œæ˜“è§çš„ï¼Œè¿™é‡Œçš„é¢†åŸŸå¯ä»¥è¿™æ ·åˆ’åˆ†ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ç”¨æˆ·é¢†åŸŸï¼šæ·»åŠ ç”¨æˆ·ï¼Œåˆ é™¤ç”¨æˆ·ï¼Œä¿®æ”¹ç”¨æˆ·ï¼Œä¿®æ”¹ç”¨æˆ·çš„èŒä½ï¼Œç§»é™¤ç”¨æˆ·çš„èŒä½&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨é¢†åŸŸï¼šæ·»åŠ éƒ¨é—¨ï¼Œåˆ é™¤éƒ¨é—¨ï¼Œä¿®æ”¹éƒ¨é—¨ï¼ŒæŸ¥è¯¢éƒ¨é—¨ä¸‹çš„èŒä½ï¼ŒæŸ¥è¯¢éƒ¨é—¨ä¸‹çš„ç”¨æˆ·&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;èŒä½é¢†åŸŸï¼šæ·»åŠ èŒä½ï¼Œä¿®æ”¹èŒä½ï¼Œåˆ é™¤èŒä½ï¼ŒæŸ¥è¯¢èŒä½ä¸‹çš„ç”¨æˆ·ï¼Œå°†ç”¨æˆ·æ·»åŠ åˆ°èŒä½ä¸­ï¼Œå°†ç”¨æˆ·ä»èŒä½ä¸­ç§»é™¤&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;æ³¨ï¼šè¿™é‡Œï¼Œå¦‚æœæ˜¯æˆ‘å†™ä»£ç ï¼Œæˆ‘å¾ˆå¯èƒ½ä¼šæŠŠâ€œéƒ¨é—¨é¢†åŸŸâ€å’Œâ€œèŒä½é¢†åŸŸâ€åˆå¹¶ã€‚è¿™ä¸ªå¹¶æ— ä¸å¯ï¼Œå› ä¸ºä¸¤è€…å…¶å®æ²¡æœ‰é‚£ä¹ˆæ˜æ˜¾çš„è¾¹ç•Œã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;åœ¨è¿™ä¸ªè®¾è®¡ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å…¶å®æœ‰äº›åŠŸèƒ½æ˜¯é‡å¤çš„ï¼Œæ¯”å¦‚è¯´â€œä¿®æ”¹ç”¨æˆ·çš„èŒä½â€å’Œâ€œå°†ç”¨æˆ·æ·»åŠ åˆ°èŒä½ä¸­â€ã€‚ä½†æ˜¯ï¼Œåœ¨é¢†åŸŸè®¾è®¡ä¸­ï¼Œæˆ‘å´å°†å…¶è®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„åŠŸèƒ½ï¼Œå› ä¸ºä»–ä»¬çš„ä¸»ä½“ä¸ä¸€æ ·ã€‚å¯¹å‰è€…è€Œè¨€ï¼Œæˆ‘å…ˆæŸ¥å‡ºç”¨æˆ·ï¼Œå‡½æ•°çš„å‚æ•°æ˜¯â€œç”¨æˆ·IDâ€å’Œâ€œèŒä½åç§°â€ï¼Œè¿™é‡Œä½¿ç”¨å‡ºå­—ç¬¦ä¸²çš„èŒä½åç§°ï¼Œå³æ„å‘³ç€å¯¹äºç”¨æˆ·é¢†åŸŸæ¥è¯´ï¼Œä»–ä¸éœ€è¦è®¤è¯†â€œèŒä½â€è¿™ä¸ªç±»ã€‚å¯¹äºåè€…è€Œè¨€ï¼Œæˆ‘å…ˆæŸ¥å‡ºèŒä½ï¼Œå‡½æ•°å‚æ•°æ˜¯â€œèŒä½â€å’Œâ€œä¸€ä¸ªæˆ–è€…å¤šä¸ªç”¨æˆ·IDâ€ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹äºèŒä½é¢†åŸŸæ¥è¯´ï¼Œä»–ä¹Ÿä¸éœ€è¦è®¤è¯†ç”¨æˆ·è¿™ä¸ªç±»ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œé¢†åŸŸä¹‹é—´ï¼Œè€¦åˆåº¦å¾ˆä½ã€‚å…¶å®è¾¾åˆ°äº†æœ€å°çŸ¥è¯†åŸåˆ™æ‰€è¦æ±‚çš„å†…å®¹ã€‚ä½†æ˜¯ï¼Œå®ç°è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œå°†èŒä½æ·»åŠ åˆ°ç”¨æˆ·è¿‡ç¨‹ä¸­ï¼Œéš¾é“ä½ ä¸éœ€è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨å—ï¼Ÿå½“ç„¶ï¼Œåˆ¤æ–­è¿˜æ˜¯è¦åˆ¤æ–­çš„ï¼Œä½†æ˜¯æˆ‘å®Œå…¨å¯ä»¥ä¸è®¤è¯†ç”¨æˆ·è¿™ä¸ªç±»ã€‚é€šè¿‡å°†â€œç”¨æˆ·èŒä½å…³ç³»è¡¨â€ä¸­çš„â€œç”¨æˆ·IDâ€å­—æ®µä¸ç”¨æˆ·è¡¨ä¸­çš„â€œIDâ€å­—æ®µåšå‡ºå¤–é”®å…³ç³»ï¼Œå®Œå…¨å¯ä»¥è®©æ•°æ®å¸®æˆ‘ä¿è¯æ•°æ®æœ‰æ•ˆæ€§ã€‚æˆ‘åªéœ€è¦åšä¸€ä¸ªç®€å•çš„å¼‚å¸¸å¤„ç†å³å¯ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;å¦å¤–ï¼Œè€¦åˆåº¦ä½ä¸ç­‰äºä¸èƒ½è€¦åˆï¼Œåœ¨è¿™é‡ŒæŸ¥è¯¢ä¸€æ¬¡ç”¨æˆ·è¡¨ï¼Œæˆ‘è®¤ä¸ºä¹Ÿæ²¡æœ‰çªç ´ä»€ä¹ˆç•Œé™ï¼Œæ‰€ä»¥å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;åœ¨è®¾è®¡å®Œé¢†åŸŸåï¼Œéœ€è¦å†è®¾è®¡è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯è¯´ç”±å“ªäº›ç±»å°†è¿™äº›åŠŸèƒ½å…¨éƒ¨æš´éœ²ç»™å¤–ç•Œã€‚è¿™æ—¶å¯ä»¥è¿™ä¹ˆè®¾è®¡ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨ç±»ï¼šæ·»åŠ èŒä½ï¼Œä¿®æ”¹èŒä½ï¼Œåˆ é™¤èŒä½ï¼ŒæŸ¥è¯¢èŒä½ä¸‹çš„ç”¨æˆ·ï¼Œå°†ç”¨æˆ·æ·»åŠ åˆ°èŒä½ä¸­ï¼Œå°†ç”¨æˆ·ä»èŒä½ä¸­ç§»é™¤&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ç”¨æˆ·ç±»ï¼šæŸ¥è¯¢æˆ‘æ‰€åœ¨çš„éƒ¨é—¨å’ŒèŒä½&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ç”¨æˆ·æœåŠ¡ç±»ï¼šç”¨æˆ·çš„CRUD&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨æœåŠ¡ç±»ï¼šéƒ¨é—¨çš„CRUD&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;è¿™é‡Œï¼Œå®é™…æ˜¯å°†éƒ¨é—¨å½“ä½œäº†èŒä½çš„èšåˆã€‚è¿™åªæ˜¯æˆ‘éšæ‰‹å†™çš„è®¾è®¡ï¼Œæ²¡æœ‰å®è·µè¿‡ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä½†æˆ‘æƒ³å¤§è‡´åº”å½“æ˜¯æ­£ç¡®çš„ã€‚è¿™æ—¶ï¼Œæˆ‘å°±å°†æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡è¿™å‡ ä¸ªç±»æš´éœ²åœ¨å¤–ç•Œã€‚åœ¨è€ƒè™‘è¿™äº›å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå†æ¥ä¸Šè¿°éœ€æ±‚æ—¶ï¼Œé—®é¢˜å°±æ˜ç¡®äº†ï¼Œä»–éœ€è¦æ–°å»ºä¸€ä¸ªé¢†åŸŸï¼šéƒ¨é—¨ä¿®æ”¹ç”³è¯·ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;éƒ¨é—¨ä¿®æ”¹ç”³è¯·ï¼šé€šè¿‡éƒ¨é—¨æ–°å»ºä¿®æ”¹ç”³è¯·ï¼Œé€šè¿‡æ—§çš„ä¿®æ”¹ç”³è¯·æ–°å»ºä¿®æ”¹ç”³è¯·ï¼Œå®¡æ ¸ä¿®æ”¹ç”³è¯·ï¼Œå°†ä¿®æ”¹ç”³è¯·åŒæ­¥åˆ°éƒ¨é—¨ä¸­ï¼Œå°†ä¿®æ”¹ç”³è¯·åŒæ­¥åˆ°èŒä½ä¸­ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ç°åœ¨å†æ¥çœ‹ä¹‹å‰çš„ä¸¤ä¸ªå¤§å‘ã€‚é—®é¢˜1å…¶å®æ˜¯è§„é¿ä¸äº†ã€‚å› ä¸ºè¿™ä¸ªå°±æ˜¯æ–°åŠŸèƒ½ï¼Œè§„é¿çš„å”¯ä¸€åŠæ³•å°±æ˜¯åŠ é’±ï¼Œé’±åˆ°ä½äº†åŠŸèƒ½ä¹Ÿå°±åˆ°ä½äº†ã€‚è€Œé—®é¢˜2ç¡®å®å°±ç®€å•äº†ï¼Œå› ä¸ºä½ å¯ä»¥ç›´æ¥è°ƒç”¨æš´éœ²åœ¨â€œä¿®æ”¹èŒä½åŠŸèƒ½â€å°†ç”³è¯·è¡¨ä¸­çš„ç”¨æˆ·ç»™åˆ°å¯¹åº”èŒä½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨â€œä¿®æ”¹éƒ¨é—¨åŠŸèƒ½â€ç›´æ¥å°†éƒ¨é—¨ä¿¡æ¯åå‘åŒæ­¥ï¼Œè€Œä¸éœ€è¦è€ƒè™‘ä»£ç æ˜¯å¦ä¼˜é›…ï¼Œå› ä¸ºè¿™é‡Œå°±æ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸å­˜åœ¨ä¼˜é›…ä¸å¦çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;å†åˆ°ä»¥åï¼Œå¦‚æœå†æœ‰æ–°åŠŸèƒ½ï¼Œå“ªæ€•ä½ è¿˜æ˜¯éœ€è¦é‡Šæ”¾è®¾è®¡ç©ºé—´ã€‚ä½†ä½ åœ¨é‡æ„çš„æ—¶å€™ï¼Œå·²ç»æ•´ç†è¿‡çš„åŠŸèƒ½å°±ä¸éœ€è¦æ•´ç†ç¬¬äºŒéã€‚ä½ åªéœ€è¦äº¤è¢«é‡Šæ”¾å‡ºçš„è®¾è®¡ç©ºé—´å…¨éƒ¨æ”¾å›é¢†åŸŸä¸­ï¼Œé‡æ„çš„å·¥ä½œé‡å¤§å¤§å‡å°‘ã€‚è€Œè¿™ï¼Œå°±æ˜¯æˆ‘æ‰€çœ‹é‡çš„DDDçš„æ ¸å¿ƒä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;é’ˆå¯¹åˆ°å®ç°å±‚é¢ï¼Œä¹‹å‰é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„é¢†åŸŸåŠŸèƒ½ï¼Œå…¶å®å°±æ˜¯Repositoryï¼Œä»–çš„å‡ºç°è‡ªç„¶è€Œåˆç®€å•ã€‚ä½ æ‰€éœ€è¦çš„åªæ˜¯ç®€å•çš„å˜åŒ–ä¸€ä¸‹è‡ªå·±çš„æ€æƒ³ï¼Œå¤šå†™å‡ åè¡Œä»£ç ï¼Œä»…æ­¤è€Œå·²ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;Â &lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;æœ€åï¼Œç¨ç¨æ€»ç»“ä¸€ä¸‹ã€‚å®Œæˆä»¥ä¸Šå†…å®¹çš„æ ¸å¿ƒå’Œå…³é”®å…¶å®å¹¶ä¸æ˜¯ä½ å¯¹DDDäº†è§£å¤šå°‘ã€‚è€ŒçœŸæ­£æœ‰æ•ˆçš„æ˜¯ä½ å¯¹éœ€æ±‚äº†è§£å¤šå°‘ï¼Œä½ è®¤ä¸ºéœ€æ±‚æœ‰å¤šå°‘å†…å®¹å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚å¯¹éœ€æ±‚æŠŠæ¡æ‰æ˜¯è½¯ä»¶è®¾è®¡çš„æ ¸å¿ƒã€‚ä»»ä½•è®¾è®¡æ€æƒ³ï¼Œè®¾è®¡æ¨¡å¼éƒ½åŸºäºå¯¹éœ€æ±‚çš„ç†è§£ã€‚æˆ‘ä¸ªäººå¯¹è½¯ä»¶æ€æƒ³çš„é‡è¦ç†è§£ï¼š&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ä¸åŸºäºéœ€æ±‚ä»»ä½•æƒ³æ³•éƒ½ç©ºè°ˆï¼Œä¸ç†è§£éœ€æ±‚ä»»ä½•ä»£ç éƒ½æ˜¯èƒ¡è¯´ï¼Œä¸æŠŠæ¡å˜åŒ–ä»»ä½•è®¾è®¡éƒ½æ˜¯å‡æƒ³ã€‚&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;ä¸å›å…±å‹‰ã€‚&lt;/p&gt;
</description>
<pubDate>Wed, 19 Aug 2020 00:05:00 +0000</pubDate>
<dc:creator>bluesky234</dc:creator>
<og:description>Repositoryå·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°é²œæ¦‚å¿µäº†ã€‚DDDæ¨¡å‹è‡ª2004å¹´æå‡ºï¼Œå‘å±•è‡³ä»Šå·²ç»16å¹´äº†ã€‚ä½†æ˜¯ä¸å°‘ä¼ä¸šå´æ— æ³•å®æ–½ï¼Œå…¶åŸå› ä¹Ÿå¾ˆç®€å•ï¼šDDDæ˜¯åŸºäºéœ€æ±‚çš„ï¼Œè€Œå¾ˆå¤šå¹¶ä¸ç†è§£éœ€æ±‚ï¼›DDDæ˜¯å®¹æ˜“å®ç°çš„ï¼Œè€Œå¾ˆå¤š</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Pray4U/p/13527146.html</dc:identifier>
</item>
<item>
<title>ç§’æ€ 2Sum 3Sum 4Sum ç®—æ³•é¢˜ - ç å†œç”°å°é½</title>
<link>http://www.cnblogs.com/nycsde/p/13527148.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nycsde/p/13527148.html</guid>
<description>&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghujl0hs7hg30dc0491kx.gif&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2 Sum è¿™é¢˜æ˜¯ Leetcode çš„ç¬¬ä¸€é¢˜ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†å°ä¼™ä¼´éƒ½å¬è¿‡çš„å§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºä¸€é“æ ‡ç€ Easy éš¾åº¦çš„é¢˜ï¼Œå®ƒçœŸçš„è¿™ä¹ˆç®€å•å—ï¼Ÿ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘åœ¨ä¹‹å‰çš„åˆ·é¢˜è§†é¢‘é‡Œè¯´è¿‡ï¼Œå¤§å®¶åˆ·é¢˜ä¸€å®šè¦åƒé€ä¸€ç±»é¢˜ï¼Œä¸ºä»€ä¹ˆæœ‰çš„äººé¢˜ç›®åšç€è¶Šæ¥è¶Šå°‘ï¼Œæœ‰çš„äººæ€»è§‰å¾—åˆ·ä¸å®Œçš„é¢˜ï¼Œå°±æ˜¯å› ä¸ºæ²¡æœ‰åˆ†ç±»åƒé€ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•çº¯çš„è¿½æ±‚åšé¢˜æ•°é‡æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼ŒLeetcode çš„é¢˜ç›®åªä¼šè¶Šæ¥è¶Šå¤šï¼Œå°±åƒé«˜ä¸‰æ—¶çš„æ¨¡è€ƒè¯•å·ä¸€æ ·åšä¸å®Œï¼Œä½†åˆ†ç±»æ€»ç»“ï¼Œå­¦ä¼šè§£å†³é—®é¢˜çš„æ–¹å¼æ–¹æ³•ï¼Œæ‰èƒ½é‡åˆ°æ–°é¢˜ä¹Ÿä¸æ‰‹è¶³æ— æªã€‚&lt;/p&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;2 Sum&lt;/span&gt;&lt;/h2&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtbxc1gzej30l808g0ti.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é“é¢˜é¢˜æ„å°±æ˜¯ï¼Œç»™ä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œè®©ä½ åœ¨è¿™ä¸ªæ•°ç»„é‡Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä¿©ä¹‹å’Œç­‰äºè¿™ä¸ªç›®æ ‡å€¼çš„ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚é¢˜ç›®ä¸­ç»™çš„ä¾‹å­ï¼Œç›®æ ‡å€¼æ˜¯ 9ï¼Œç„¶åæ•°ç»„é‡Œ &lt;code&gt;2 + 7 = 9&lt;/code&gt;ï¼Œäºæ˜¯è¿”å› 2 å’Œ 7 çš„ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æ–¹æ³•ä¸€&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æˆ‘å¤šå¹´å‰è¿˜ä¸çŸ¥é“æ—¶ç©ºå¤æ‚åº¦çš„æ—¶å€™ï¼Œæˆ‘æƒ³è¿™è¿˜ä¸ç®€å•å˜›ï¼Œå°±æ¯ä¸ªç»„åˆæŒ¨ä¸ªè¯•ä¸€éå‘—ï¼Œä¹Ÿå°±æ˜¯ä¸¤å±‚å¾ªç¯ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åæ¥æˆ‘æ‰çŸ¥é“ï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼Œæ˜¯ &lt;code&gt;O(n^2)&lt;/code&gt;ï¼›ä½†å¦ä¸€æ–¹é¢ï¼Œè¿™ç§æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æœ€ä½ï¼Œæ˜¯ &lt;code&gt;O(1)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œ&lt;strong&gt;é¢è¯•æ—¶ä¸€å®šè¦å…ˆé—®é¢è¯•å®˜ï¼Œæ˜¯å¸Œæœ›ä¼˜åŒ–æ—¶é—´è¿˜æ˜¯ä¼˜åŒ–ç©ºé—´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è¿½æ±‚ä¼˜åŒ–æ—¶é—´ï¼Œä½†ä½ ä¸èƒ½é»˜è®¤é¢è¯•å®˜ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œæœ‰æ—¶å€™ä»–å°±æ˜¯æƒ³è€ƒä½ æœ‰æ²¡æœ‰è¿™ä¸ªæ„è¯†å‘¢ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¸€ä¸ªæ–¹æ³•èƒ½å¤Ÿå…¼å…·ä¼˜åŒ–æ—¶é—´å’Œç©ºé—´é‚£å°±æ›´å¥½äº†ï¼Œæ¯”å¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—è¿™ä¸ªé—®é¢˜ä¸­ä»é€’å½’åˆ° DP çš„ä¼˜åŒ–ï¼Œå°±æ˜¯æ—¶é—´å’Œç©ºé—´çš„åŒé‡ä¼˜åŒ–ï¼Œä¸æ¸…æ¥šçš„åŒå­¦åå°å›å¤ã€Œé€’å½’ã€å¿«å»è¡¥è¯¾ï½&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Solution&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] twoSum(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] nums, &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; target) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; nums.length; i++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; j = i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; j &amp;lt; nums.length; j++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (nums[i] + nums[j] == target) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[]{i, j};&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[]{-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;};&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å–ï¼Œè¿™é€Ÿåº¦ä¸å¤ªè¡Œè¯¶ã€‚&lt;/p&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtd5qpe0wj30hz03vwev.jpg&quot; alt=&quot;&quot;/&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æ–¹æ³•äºŒ&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£åœ¨æˆ‘å­¦äº† &lt;code&gt;HashMap&lt;/code&gt; è¿™ä¸ªæ•°æ®ç»“æ„ä¹‹åå‘¢ï¼Œæˆ‘åˆæœ‰äº†æ–°çš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;HashMap&lt;/code&gt; æˆ–è€… &lt;code&gt;HashSet&lt;/code&gt; çš„æœ€å¤§ä¼˜åŠ¿å°±æ˜¯èƒ½å¤Ÿç”¨ &lt;code&gt;O(1)&lt;/code&gt; çš„æ—¶é—´è·å–åˆ°ç›®æ ‡å€¼ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥ä¼˜åŒ–æ–¹æ³•ä¸€çš„ç¬¬äºŒä¸ªå¾ªç¯å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†è¿™ä¸ªæ€è·¯ï¼Œå‡è®¾å½“å‰åœ¨çœ‹ &lt;code&gt;x&lt;/code&gt;ï¼Œé‚£å°±æ˜¯éœ€è¦æŠŠ &lt;code&gt;x&lt;/code&gt; ä¹‹å‰æˆ–è€…ä¹‹åçš„æ•°æ”¾åœ¨ &lt;code&gt;HashSet&lt;/code&gt; é‡Œï¼Œç„¶åçœ‹ä¸‹ &lt;code&gt;target - x&lt;/code&gt; åœ¨ä¸åœ¨è¿™ä¸ª &lt;code&gt;hashSet&lt;/code&gt; é‡Œï¼Œå¦‚æœåœ¨çš„è¯ï¼Œé‚£å°±åŒ¹é…æˆåŠŸï½&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¶è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œè¿™é¢˜è¦æ±‚è¿”å›è¿™ä¿©æ•°çš„ä¸‹æ ‡ï¼Œå¯æ˜¯ &lt;code&gt;HashSet&lt;/code&gt; é‡Œçš„æ•°æ˜¯æ— åºçš„...&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å°±ç”¨å‡çº§ç‰ˆâ€”â€”&lt;code&gt;HashMap&lt;/code&gt; å˜›ï½ï½è¿˜ä¸äº†è§£ &lt;code&gt;HashMap&lt;/code&gt; çš„åŸç†çš„åŒå­¦å¿«å»å…¬ä¼—å·åå°å›å¤ã€ŒHashMapã€çœ‹æ–‡ç« å•¦ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;HashMap&lt;/code&gt; é‡Œè®°å½•ä¸‹æ•°å€¼å’Œå®ƒçš„ &lt;code&gt;index&lt;/code&gt; è¿™æ ·åŒ¹é…æˆåŠŸä¹‹åå°±å¯ä»¥é¡ºä¾¿å¾—åˆ° &lt;code&gt;index&lt;/code&gt; äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæˆ‘ä»¬&lt;strong&gt;ä¸éœ€è¦æå‰è®°å½•æ‰€æœ‰çš„å€¼&lt;/strong&gt;ï¼Œåªéœ€è¦&lt;strong&gt;è¾¹è¿‡æ•°ç»„è¾¹è®°å½•&lt;/strong&gt;å°±å¥½äº†ï¼Œä¸ºäº†é˜²æ­¢é‡å¤ï¼Œæˆ‘ä»¬åªåœ¨è¿™ä¸ªå½“å‰çš„æ•°å‡ºç°ä¹‹å‰çš„æ•°ç»„éƒ¨åˆ†é‡Œæ‰¾å¦ä¸€ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ç»“ä¸€ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;&lt;code&gt;HashMap&lt;/code&gt; é‡Œè®°å½•çš„æ˜¯ä¸‹æ ‡ &lt;code&gt;i&lt;/code&gt; ä¹‹å‰çš„æ‰€æœ‰å‡ºç°è¿‡çš„æ•°ï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å¯¹äºæ¯ä¸ª &lt;code&gt;nums[i]&lt;/code&gt; ï¼Œæˆ‘ä»¬å…ˆæ£€æŸ¥ &lt;code&gt;target - nums[i]&lt;/code&gt; æ˜¯å¦åœ¨è¿™ä¸ª &lt;code&gt;map&lt;/code&gt; é‡Œï¼›&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å¦‚æœåœ¨å°±ç›´æ¥è¿”å›äº†ï¼Œå¦‚æœä¸åœ¨å°±æŠŠå½“å‰ &lt;code&gt;i&lt;/code&gt; çš„ä¿¡æ¯åŠ è¿› &lt;code&gt;map&lt;/code&gt; é‡Œã€‚&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Solution&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] twoSum(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] nums, &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; target) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] res = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;];&lt;br/&gt;Map&amp;lt;Integer, Integer&amp;gt; map = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; nums.length; i++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (map.containsKey(target - nums[i])) {&lt;br/&gt;res[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = map.get(target - nums[i]);&lt;br/&gt;res[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = i;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res;&lt;br/&gt;}&lt;br/&gt;map.put(nums[i], i);&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res;&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n)&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(n)&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å–ï¼Œé€Ÿåº¦æå‡è‡³ &lt;code&gt;beat 99.96%&lt;/code&gt;&lt;/p&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtd5zy0d8j30hv042weu.jpg&quot; alt=&quot;&quot;/&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æ‹“å±•&lt;/span&gt;&lt;/h3&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯æœ€åŸºæœ¬çš„ &lt;code&gt;2 Sum&lt;/code&gt; é—®é¢˜ï¼Œè¿™ä¸ªé¢˜å¯ä»¥æœ‰å¤ªå¤šçš„å˜ç§äº†ï¼š&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœè¿™ä¸ªæ•°ç»„é‡Œæœ‰ä¸æ­¢ä¸€ç»„ç»“æœï¼Œè¦æ±‚è¿”å›æ‰€æœ‰ç»„åˆï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœè¿™ä¸ªæ•°ç»„é‡Œæœ‰é‡å¤å…ƒç´ ï¼Œåˆè¯¥æ€ä¹ˆåšï¼Ÿ&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœè¿™ä¸ªæ•°ç»„æ˜¯ä¸€ä¸ªæ’å¥½åºäº†çš„æ•°ç»„ï¼Œé‚£å¦‚ä½•åˆ©ç”¨è¿™ä¸ªæ¡ä»¶å‘¢ï¼Ÿ- Leetcode 167&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœä¸æ˜¯æ•°ç»„è€Œæ˜¯ç»™ä¸€ä¸ª &lt;code&gt;BST&lt;/code&gt; ï¼Œè¯¥æ€ä¹ˆåœ¨ä¸€æ£µæ ‘ä¸Šæ‰¾è¿™ä¿©æ•°å‘¢ï¼Ÿ- Leetcode 653&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;...&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œè®²ä¸€ä¸‹æ’åºæ•°ç»„è¿™é“é¢˜ï¼Œä¹‹åä¼šåœ¨ &lt;code&gt;BST&lt;/code&gt; çš„æ–‡ç« é‡Œä¼šè®² 653 è¿™é¢˜ã€‚&lt;/p&gt;
&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;æ’åºæ•°ç»„&lt;/span&gt;&lt;/h3&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtf6itm65j30mi0bo402.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çŸ¥é“æ’åºç®—æ³•ä¸­æœ€å¿«çš„ä¹Ÿéœ€è¦ &lt;code&gt;O(nlogn)&lt;/code&gt;ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä¸€ä¸ª &lt;code&gt;2 Sum&lt;/code&gt; é—®é¢˜ï¼Œé‚£æ²¡å¿…è¦ä¸“é—¨æ’åºï¼Œå› ä¸ºæ’åºä¼šæˆä¸ºè¿ç®—çš„ç“¶é¢ˆã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœé¢˜ç›®ç»™çš„å°±æ˜¯ä¸ªæ’å¥½åºäº†çš„æ•°ç»„ï¼Œé‚£è‚¯å®šè¦å¥½å¥½æ”¶ç€äº†å‘€ï¼&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºå½“æ•°ç»„æ˜¯æ’å¥½åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´ï¼Œè¾¾åˆ° &lt;code&gt;O(n)&lt;/code&gt; çš„æ—¶é—´å’Œ &lt;code&gt;O(1)&lt;/code&gt; çš„ç©ºé—´ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥æ€ä¹ˆåˆ©ç”¨æ’å¥½åºè¿™ä¸ªæ€§è´¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å°±æ˜¯è¯´ï¼Œåœ¨ &lt;code&gt;x&lt;/code&gt; å³è¾¹çš„æ•°ï¼Œéƒ½æ¯” &lt;code&gt;x&lt;/code&gt; è¦å¤§ï¼›åœ¨ &lt;code&gt;x&lt;/code&gt; å·¦è¾¹çš„æ•°ï¼Œéƒ½æ¯” &lt;code&gt;x&lt;/code&gt; è¦å°ã€‚&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœ &lt;code&gt;x + y &amp;gt; target&lt;/code&gt;ï¼Œé‚£ä¹ˆå°±è¦ &lt;code&gt;y&lt;/code&gt; å¾€å·¦èµ°ï¼Œå¾€å°çš„æ–¹å‘èµ°ï¼›&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;li readability=&quot;-2&quot;&gt;
&lt;section readability=&quot;2&quot;&gt;&lt;p&gt;å¦‚æœ &lt;code&gt;x + y &amp;lt; target&lt;/code&gt;ï¼Œé‚£ä¹ˆå°±è¦ &lt;code&gt;x&lt;/code&gt; å¾€å³èµ°ï¼Œå¾€å¤§çš„æ–¹å‘èµ°ã€‚&lt;/p&gt;
&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtjsqaugfj30im06wgls.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹Ÿå°±æ˜¯å…¸å‹çš„ &lt;code&gt;Two pointer&lt;/code&gt; ç®—æ³•ï¼Œä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œçš„æƒ…å†µï¼Œæˆ‘ä¹‹åä¹Ÿä¼šå‡ºæ–‡ç« è¯¦ç»†æ¥è®²å“’ã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Solution&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] twoSum(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] numbers, &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; target) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; left = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; right = numbers.length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (left &amp;lt; right) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; sum = numbers[left] + numbers[right];&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (sum == target) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[]{left + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, right + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}; &lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (sum &amp;lt; target) {&lt;br/&gt;left ++;&lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {&lt;br/&gt;right --;&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[]{-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;};&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;3 Sum&lt;/span&gt;&lt;/h2&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtf785x1rj30m00bu756.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;3 Sum&lt;/code&gt; çš„é—®é¢˜å…¶å®å°±æ˜¯ä¸€ä¸ª &lt;code&gt;2 Sum&lt;/code&gt; çš„å‡çº§ç‰ˆï¼Œå› ä¸º 1 + 2 = 3 å˜›ã€‚ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å°±æ˜¯å¤–é¢ä¸€å±‚å¾ªç¯ï¼Œå›ºå®šä¸€ä¸ªå€¼ï¼Œåœ¨å‰©ä¸‹çš„æ•°ç»„é‡Œåš &lt;code&gt;2 Sum&lt;/code&gt; é—®é¢˜ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åæ­£ &lt;code&gt;3 Sum&lt;/code&gt; æ€ä¹ˆç€éƒ½å¾— &lt;code&gt;O(n^2)&lt;/code&gt; ï¼Œå°±å¯ä»¥å…ˆæ’åºï¼Œåæ­£ä¸åœ¨ä¹æ’åºçš„è¿™ç‚¹æ—¶é—´äº†ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ &lt;code&gt;Two pointer&lt;/code&gt; æ¥åšäº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é“é¢˜è¿”å›çš„æ˜¯&lt;strong&gt;æ•°å€¼&lt;/strong&gt;ï¼Œè€Œé &lt;code&gt;index&lt;/code&gt;ï¼Œæ‰€ä»¥å®ƒä¸éœ€è¦é‡å¤çš„æ•°å€¼â€”â€”The solution set must not contain duplicate triplets.&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Solution&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; threeSum(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] nums) {&lt;br/&gt;List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; res = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;Arrays.sort(nums);&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;lt; nums.length; i++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (i &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; nums[i] == nums[i - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; j = i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; k = nums.length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;  &lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; target = -nums[i];&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (j &amp;lt; k) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (nums[j] + nums[k] == target) {&lt;br/&gt;res.add(Arrays.asList(nums[i], nums[j], nums[k]));&lt;br/&gt;j++;&lt;br/&gt;k--;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (j &amp;lt; k &amp;amp;&amp;amp; nums[j] == nums[j - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) {&lt;br/&gt;j++;  &lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (j &amp;lt; k &amp;amp;&amp;amp; nums[k] == nums[k + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) {&lt;br/&gt;k--;  &lt;br/&gt;}&lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (nums[j] + nums[k] &amp;gt; target) {&lt;br/&gt;k--;&lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {&lt;br/&gt;j++;&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res;&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span class=&quot;content&quot;&gt;4 Sum&lt;/span&gt;&lt;/h2&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åå°±æ˜¯ &lt;code&gt;4 Sum&lt;/code&gt; é—®é¢˜å•¦ã€‚&lt;/p&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtf90id1nj30mk0c975d.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸€é¢˜å¦‚æœåªæ˜¯ &lt;code&gt;O(n^3)&lt;/code&gt; çš„è§£æ³•æ²¡ä»€ä¹ˆéš¾çš„ï¼Œå› ä¸ºå°±æ˜¯åœ¨ &lt;code&gt;3 Sum&lt;/code&gt; çš„åŸºç¡€ä¸Šå†åŠ ä¸€å±‚å¾ªç¯å˜›ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯å¦‚æœåœ¨é¢è¯•ä¸­åªåšå‡º &lt;code&gt;O(n^3)&lt;/code&gt; ææ€•å°±è¿‡ä¸äº†äº†å“¦ğŸ˜¯&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ 4 ä¸ªæ•°ï¼Œå¯ä»¥æƒ³æˆä¸¤ä¸¤çš„ &lt;code&gt;2 Sum&lt;/code&gt;ï¼Œå…ˆæŠŠç¬¬ä¸€ä¸ª &lt;code&gt;2 Sum&lt;/code&gt; çš„ç»“æœå­˜ä¸‹æ¥ï¼Œç„¶ååœ¨åç»­çš„æ•°ç»„ä¸­åšç¬¬äºŒä¸ª &lt;code&gt;2 Sum&lt;/code&gt;ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠæ—¶é—´é™ä½åˆ° &lt;code&gt;O(n^2)&lt;/code&gt; äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†&lt;strong&gt;é¿å…é‡å¤&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾çš„ &lt;code&gt;nums[x] + nums[y] + nums[z] + nums[k]&lt;/code&gt; ï¼Œå…¶å®å’Œ &lt;code&gt;nums[z] + nums[k] + nums[x] + nums[y]&lt;/code&gt; å¹¶æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦&lt;strong&gt;é™åˆ¶ç¬¬äºŒç»„çš„ä¸¤ä¸ªæ•°è¦åœ¨ç¬¬ä¸€ç»„çš„ä¸¤ä¸ªæ•°ä¹‹å&lt;/strong&gt;å“¦ã€‚&lt;/p&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghtjt88465j30lh09ldga.jpg&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹ä¸‹ä»£ç å§ï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;7&quot;&gt;
&lt;code class=&quot;hljs&quot; readability=&quot;8&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Solution&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; fourSum(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;[] nums, &lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; target) {&lt;br/&gt;Set&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; set = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;();&lt;br/&gt;Map&amp;lt;Integer, List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt;&amp;gt; map = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();&lt;br/&gt;Arrays.sort(nums);&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; nums.length - &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;; i++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; j = i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; j &amp;lt; nums.length - &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;; j++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; currSum = nums[i] + nums[j];&lt;br/&gt;List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; pairs = map.getOrDefault(currSum, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;());&lt;br/&gt;pairs.add(Arrays.asList(i, j));&lt;br/&gt;map.put(currSum, pairs);&lt;br/&gt;}&lt;br/&gt;}&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;; i &amp;lt; nums.length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; i++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; j = i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; j &amp;lt; nums.length; j++) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; currSum = nums[i] + nums[j];&lt;br/&gt;List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; prevPairs = map.get(target - currSum);&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(prevPairs == &lt;span class=&quot;hljs-keyword&quot;&gt;null&lt;/span&gt;) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(List&amp;lt;Integer&amp;gt; pair : prevPairs) {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(pair.get(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &amp;lt; i) {&lt;br/&gt;set.add(Arrays.asList(nums[pair.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)], nums[pair.get(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)], nums[i], nums[j]));&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(set);&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/p&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½å•¦ï¼Œä»¥ä¸Šå°±æ˜¯ &lt;code&gt;2 Sum&lt;/code&gt; ç›¸å…³çš„æ‰€æœ‰é—®é¢˜å•¦ï¼Œå¦‚æœæœ‰æ”¶è·çš„è¯ï¼Œè®°å¾—ç»™æˆ‘ç‚¹ä¸ªèµå“¦ï½&lt;/p&gt;
&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ghujn778icg30g10b91l0.gif&quot; alt=&quot;&quot;/&gt;</description>
<pubDate>Wed, 19 Aug 2020 00:05:00 +0000</pubDate>
<dc:creator>ç å†œç”°å°é½</dc:creator>
<og:description>2 Sum è¿™é¢˜æ˜¯ Leetcode çš„ç¬¬ä¸€é¢˜ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†å°ä¼™ä¼´éƒ½å¬è¿‡çš„å§ã€‚ ä½œä¸ºä¸€é“æ ‡ç€ Easy éš¾åº¦çš„é¢˜ï¼Œå®ƒçœŸçš„è¿™ä¹ˆç®€å•å—ï¼Ÿ æˆ‘åœ¨ä¹‹å‰çš„åˆ·é¢˜è§†é¢‘é‡Œè¯´è¿‡ï¼Œå¤§å®¶åˆ·é¢˜ä¸€å®šè¦åƒé€ä¸€ç±»é¢˜ï¼Œä¸ºä»€ä¹ˆæœ‰çš„äººé¢˜ç›®</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/nycsde/p/13527148.html</dc:identifier>
</item>
<item>
<title>å®æˆ˜å¼€å‘ï¼Œä½¿ç”¨ Spring Session ä¸ Spring security å®Œæˆç½‘ç«™ç™»å½•æ”¹é€ ï¼ï¼ - æ¥¼ä¸‹å°é»‘å“¥</title>
<link>http://www.cnblogs.com/goodAndyxublog/p/13527127.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/goodAndyxublog/p/13527127.html</guid>
<description>&lt;p&gt;ä¸Šæ¬¡å°é»‘åœ¨æ–‡ç« ä¸­ä»‹ç»äº†&lt;a href=&quot;https://mp.weixin.qq.com/s/8HgFYgrJDC3bi5MY0icJfg&quot;&gt;å››ç§åˆ†å¸ƒå¼ä¸€è‡´æ€§ Session çš„å®ç°æ–¹å¼&lt;/a&gt;ï¼Œåœ¨è¿™å››ç§ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯åç«¯é›†ä¸­å­˜å‚¨æ–¹æ¡ˆï¼Œè¿™æ ·å³ä½¿ web åº”ç”¨é‡å¯æˆ–è€…æ‰©å®¹ï¼ŒSession éƒ½æ²¡æœ‰ä¸¢å¤±çš„é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073732307-816857285.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»Šå¤©æˆ‘ä»¬å°±ä½¿ç”¨è¿™ç§æ–¹å¼å¯¹ Session å­˜å‚¨æ–¹å¼è¿›è¡Œæ”¹é€ ï¼Œå°†å…¶ç»Ÿä¸€å­˜å‚¨åˆ° Redis ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°æ–¹æ¡ˆ&quot;&gt;å®ç°æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä¾é ä»»ä½•æ¡†æ¶ï¼Œè‡ªå·±å¦‚ä½•å®ç°åç«¯ &lt;strong&gt;Session&lt;/strong&gt; é›†ä¸­å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬çš„ç½‘ç«™é™¤äº†æŸäº›é¡µé¢ï¼Œæ¯”å¦‚é¦–é¡µå¯ä»¥ç›´æ¥è®¿é—®ä»¥å¤–ï¼Œå…¶ä»–ä»»ä½•é¡µé¢éƒ½éœ€è¦ç™»å½•ä¹‹åæ‰èƒ½è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¯¹æ¯ä¸ªè¯·æ±‚éƒ½è¿›è¡Œé‰´æƒï¼Œé‰´æƒç›®çš„æ˜¯ä¸ºäº†åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œåˆ¤æ–­ç”¨æˆ·è§’è‰²ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæˆ‘ä»¬éœ€è¦å°†è¯·æ±‚å¼ºåˆ¶è·³è½¬åˆ°ç™»å½•é¡µé¢è¿›è¡Œç™»å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å°†ç™»å½•è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° &lt;strong&gt;Session&lt;/strong&gt; ä¸­ï¼Œè¿™æ ·åé¢è¯·æ±‚é‰´æƒåªéœ€è¦åˆ¤æ–­ &lt;strong&gt;Session&lt;/strong&gt; ä¸­æ˜¯å¦å­˜åœ¨å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥é“æ•´ä¸ªæµç¨‹ä¹‹åï¼Œå…¶å®å®ç°åŸç†å°±ä¸æ˜¯å¾ˆéš¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ &lt;strong&gt;AOP&lt;/strong&gt; çš„åŸç†ï¼Œåœ¨æ¯ä¸ªè¯·æ±‚è¿›æ¥ä¹‹åï¼Œéƒ½å…ˆåˆ¤æ–­ Session ä¸­æ˜¯å¦å­˜åœ¨ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœä¸å­˜åœ¨å°±è·³è½¬åˆ°ç™»å½•é¡µã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªæµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073732698-806807378.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ &lt;strong&gt;Servelt Filter&lt;/strong&gt; å®ç°ä¸Šè¿°æµç¨‹ï¼Œä¸è¿‡ä¸Šè¿°æ•´å¥—æµç¨‹ï¼ŒSpring å·²ç»å¸®æˆ‘ä»¬å®ç°äº†ï¼Œé‚£æˆ‘ä»¬å°±ä¸ç”¨é‡å¤é€ è½®å­äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¸ &lt;strong&gt;Spring-security&lt;/strong&gt; å®ç°ä¸Šè¿°ç½‘ç«™çš„æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Spring-Session&lt;/strong&gt; æ˜¯ Spring æä¾›ä¸€å¥—ç®¡ç†ç”¨æˆ· &lt;strong&gt;Session&lt;/strong&gt; çš„å®ç°æ–¹æ¡ˆï¼Œä½¿ç”¨ &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¹‹åï¼Œé»˜è®¤ WEB å®¹å™¨ï¼Œæ¯”å¦‚ Tomcatï¼Œäº§ç”Ÿçš„ &lt;strong&gt;Session&lt;/strong&gt; å°†ä¼šè¢« &lt;strong&gt;Spring-Session&lt;/strong&gt; æ¥ç®¡ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œ&lt;strong&gt;Spring-Session&lt;/strong&gt; è¿˜æä¾›å‡ ç§å¸¸è§åç«¯å­˜å‚¨å®ç°æ–¹æ¡ˆï¼Œæ¯”å¦‚ Redisï¼Œæ•°æ®åº“ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº† &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¹‹åï¼Œå®ƒåªæ˜¯å¸®æˆ‘ä»¬è§£å†³äº† &lt;strong&gt;Session&lt;/strong&gt; åç«¯é›†ä¸­å­˜å‚¨ã€‚ä½†æ˜¯ä¸Šè¿°æµç¨‹ä¸­æˆ‘ä»¬è¿˜éœ€è¦ç™»å½•æˆæƒï¼Œè€Œè¿™ä¸€å—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;strong&gt;Spring-security&lt;/strong&gt; æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Spring-security&lt;/strong&gt; å¯ä»¥ç»´æŠ¤ç»Ÿä¸€çš„ç™»å½•æˆæƒæ–¹å¼ï¼ŒåŒæ—¶å®ƒå¯ä»¥ç»“åˆ &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¸€èµ·ä½¿ç”¨ã€‚ç”¨æˆ·ç™»å½•æˆæƒä¹‹åï¼Œè·å–çš„ç”¨æˆ·ä¿¡æ¯å¯ä»¥è‡ªåŠ¨å­˜å‚¨åˆ° &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œä¸è¯´åºŸè¯äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å®ç°ä»£ç ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;ä¸‹è¿°ä½¿ç”¨ Spring Boot å®ç°ï¼Œ Spring-Boot ç‰ˆæœ¬ä¸ºï¼š2.3.2.RELEASE&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;spring-session&quot;&gt;Spring Session&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¼•å…¥ Spring Session ä¾èµ–ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Redis é›†ä¸­å­˜å‚¨ Session ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸‹è¿°ä¾èµ–å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.session&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-session-data-redis&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯ Spring Boot é¡¹ç›®ï¼Œé‚£ä¸»è¦éœ€è¦å¼•å…¥å¦‚ä¸‹ä¾èµ–ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-data-redis&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;2.3.0.RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.session&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-session-core&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;2.3.0.RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¼•å…¥ä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨ &lt;code&gt;application.properties&lt;/code&gt;å¢åŠ  Session ç›¸å…³çš„é…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-properties&quot;&gt;## Session å­˜å‚¨æ–¹å¼
spring.session.store-type=redis

## Session è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤å•ä½ä¸º s
server.servlet.session.timeout=600
## Session å­˜å‚¨åˆ° Redis é”®çš„å‰ç¼€
spring.session.redis.namespace=test:spring:session

## Redis ç›¸å…³é…ç½®
spring.redis.host=127.0.0.1
spring.redis.password=****
spring.redis.port=6379
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é…ç½®å®Œæˆä¹‹åï¼ŒSpring Session å°±ä¼šå¼€å§‹ç®¡ç† Session ä¿¡æ¯ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@ResponseBody
@GetMapping(&quot;/hello&quot;)
public String hello() {
    return &quot;Hello World&quot;;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å½“æˆ‘ä»¬è®¿é—®ä¸Šé¢åœ°å€ä¹‹åï¼Œè®¿é—® Redis ï¼Œå¯ä»¥çœ‹åˆ°å­˜å‚¨çš„ Session ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5.6492890995261&quot;&gt;
&lt;p&gt;æ¨èå¤§å®¶ä¸€ä¸ª Redis å®¢æˆ·ç«¯ã€ŒAnother Redis DeskTop Managerã€ï¼Œè¿™ä¸ªå®¢æˆ·ç«¯ UI é¡µé¢éå¸¸æ¼‚äº®ï¼Œæ“ä½œä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¸‹è½½åœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/qishibo/anotherredisdesktopmanager/releases&quot;&gt;https://github.com/qishibo/anotherredisdesktopmanager/releases&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073733056-1836698601.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒSession é»˜è®¤ä½¿ç”¨HttpSession åºåˆ—åŒ–æ–¹å¼ï¼Œè¿™ç§å€¼çœ‹èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶ä¿®æ”¹æˆ json åºåˆ—åŒ–æ–¹å¼ï¼Œå­˜å‚¨åˆ° redis ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Configuration
public class HttpSessionConfig implements BeanClassLoaderAware {


    private ClassLoader loader;

    @Bean
    public RedisSerializer&amp;lt;Object&amp;gt; springSessionDefaultRedisSerializer() {
        return new GenericJackson2JsonRedisSerializer(objectMapper());
    }

    /**
     * Customized {@link ObjectMapper} to add mix-in for class that doesn't have default
     * constructors
     *
     * @return the {@link ObjectMapper} to use
     */
    private ObjectMapper objectMapper() {
        ObjectMapper mapper = new ObjectMapper();
        mapper.registerModules(SecurityJackson2Modules.getModules(this.loader));
        return mapper;
    }


    @Override
    public void setBeanClassLoader(ClassLoader classLoader) {
        this.loader = classLoader;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¿®æ”¹ä¹‹å Redis é”®å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073733751-1772629628.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;ps:è¿™é‡Œ Redis é”®å€¼å«ä¹‰ï¼Œä¸‹æ¬¡åˆ†ææºç çš„æ—¶å€™ï¼Œå†åšåˆ†æã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Spring Session è¿˜å­˜åœ¨ä¸€ä¸ª &lt;strong&gt;@EnableRedisHttpSession&lt;/strong&gt;ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ³¨è§£ä¸Šé…ç½® Spring Session ç›¸å…³é…ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@EnableRedisHttpSession(redisNamespace = &quot;test:session&quot;)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œå°†ä¼šå¯¼è‡´ &lt;code&gt;application.properties&lt;/code&gt; Session ç›¸å…³é…ç½®å¤±æ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´ Spring Session å°†ä¼šç›´æ¥ä½¿ç”¨æ³¨è§£ä¸Šçš„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073734092-78406027.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°é»‘æ¯”è¾ƒæ¨èå¤§å®¶ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼ŒSpring Session åˆ°è¿™é‡Œæˆ‘ä»¬å°±æ¥å…¥å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;spring-security&quot;&gt;Spring security&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬é›†æˆäº† Spring Sessionï¼Œå®Œæˆ Session ç»Ÿä¸€ Redis å­˜å‚¨ã€‚æ¥ä¸‹æ¥ä¸»è¦éœ€è¦å®ç°è¯·æ±‚çš„ç™»é™†é‰´æƒã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ­¥æˆ‘ä»¬ä½¿ç”¨ Spring security å®ç°ç»Ÿä¸€çš„ç™»é™†é‰´æƒæœåŠ¡ï¼ŒåŒæ ·çš„æ¡†æ¶çš„è¿˜æœ‰ Shiroï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨ Spring å…¨å®¶æ¡¶ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¾èµ–çš„ç›¸åº”çš„ä¾èµ–ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-boot-starter-security&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¼•å…¥ä¸Šé¢çš„ä¾èµ–ä¹‹åï¼Œåº”ç”¨å¯åŠ¨ä¹‹åå°†ä¼šç”Ÿæˆä¸€ä¸ªéšæœºå¯†ç ï¼Œç„¶åæ‰€æœ‰çš„è¯·æ±‚å°†ä¼šè·³è½¬åˆ°ä¸€ä¸ª Spring security çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073734490-45924016.jpg&quot; alt=&quot;é»˜è®¤å¯†ç &quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202008/1419561-20200819073734796-843952487.jpg&quot; alt=&quot;ç™»å½•é¡µé¢&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬éœ€è¦å®ç°è‡ªå·±ä¸šåŠ¡çš„ç™»é™†é¡µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ç™»å½•æ ¡éªŒé€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Spring security æˆ‘ä»¬åªéœ€è¦å®ç° &lt;code&gt;UserDetailsService&lt;/code&gt;æ¥å£ï¼Œé‡å†™ &lt;code&gt;loadUserByUsername&lt;/code&gt;æ–¹æ³•é€»è¾‘ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Service
public class UserServiceImpl implements UserDetailsService {

    @Autowired
    PasswordEncoder passwordEncoder;


    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {

        // ç®€å•èµ·è§ï¼Œç›´æ¥å†…éƒ¨æ ¡éªŒ
        String uname = &quot;admin&quot;;
        String passwd = &quot;1234qwer&quot;;

        // å¦‚æœæ˜¯æ­£å¼é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦ä»æ•°æ®åº“æ•°æ®æ•°æ®ï¼Œç„¶åå†æ ¡éªŒï¼Œå½¢å¼å¦‚ä¸‹ï¼š
        // User user = userDAO.query(username);

        if (!username.equals(uname)) {
            throw new UsernameNotFoundException(username);
        }
        // å°è£…æˆ Spring security å®šä¹‰çš„ User å¯¹è±¡
        return User.builder()
                .username(username)
                .passwordEncoder(s -&amp;gt; passwordEncoder.encode(passwd))
                .authorities(new SimpleGrantedAuthority(&quot;user&quot;))
                .build();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç å®ç°ï¼Œè¿™é‡Œä¸»è¦åœ¨å†…å­˜å›ºå®šç”¨æˆ·åä¸å¯†ç ï¼ŒçœŸå®ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆä»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€æˆ‘ä»¬éœ€è¦æŠŠ &lt;code&gt;UserServiceImpl&lt;/code&gt; é…ç½®åˆ° &lt;code&gt;Spring security&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Configuration
public class SecurityConfig extends WebSecurityConfigurerAdapter {


    @Autowired
    UserServiceImpl userService;

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    /**
     * ä½¿ç”¨è‡ªå®šä¹‰ç”¨æˆ·æœåŠ¡æ ¡éªŒç™»å½•ä¿¡æ¯
     *
     * @param auth
     * @throws Exception
     */
    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        // ç”¨æˆ·ç™»å½•ä¿¡æ¯æ ¡éªŒä½¿ç”¨è‡ªå®šä¹‰ userService
        // è¿˜éœ€è¦æ³¨æ„å¯†ç åŠ å¯†ä¸éªŒè¯éœ€è¦ä½¿ç”¨åŒä¸€ç§æ–¹å¼
        auth.userDetailsService(userService).passwordEncoder(passwordEncoder());
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢çš„é…ç½®ä¸­ï¼Œå¯†ç éƒ¨åˆ†æˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;BCrypt&lt;/code&gt; ç®—æ³•åŠ å¯†ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒåŠ å¯†ä¸è§£å¯†éœ€è¦ä½¿ç”¨åŒä¸€ç§æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ç™»é™†é¡µé¢ï¼Œè¿™é‡Œå°±æ‡’å¾—è‡ªå·±å†™äº†ï¼Œç›´æ¥ä½¿ç”¨ &lt;a href=&quot;https://github.com/spring-projects/spring-session.git&quot;&gt;spring-session-data-redis&lt;/a&gt; é¡µé¢ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot; xmlns:layout=&quot;https://github.com/ultraq/thymeleaf-layout-dialect&quot;
      layout:decorate=&quot;~{layout}&quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Login&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;div layout:fragment=&quot;content&quot;&amp;gt;
    &amp;lt;!-- è‡ªå®šä¹‰ç™»å½•çš„è¯·æ±‚    --&amp;gt;
    &amp;lt;form name=&quot;f&quot; th:action=&quot;@{/auth/login}&quot; method=&quot;post&quot;&amp;gt;
        &amp;lt;fieldset&amp;gt;
            &amp;lt;legend&amp;gt;Please Login -&amp;lt;/legend&amp;gt;
            &amp;lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-error&quot;&amp;gt;Invalid username and password.&amp;lt;/div&amp;gt;
            &amp;lt;div th:if=&quot;${param.logout}&quot; class=&quot;alert alert-success&quot;&amp;gt;You have been logged out.&amp;lt;/div&amp;gt;
            &amp;lt;label for=&quot;username&quot;&amp;gt;Username&amp;lt;/label&amp;gt;
            &amp;lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;/&amp;gt;
            &amp;lt;label for=&quot;password&quot;&amp;gt;Password&amp;lt;/label&amp;gt;
            &amp;lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;/&amp;gt;
            &amp;lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot;/&amp;gt;
            &amp;lt;label&amp;gt;remember me: &amp;lt;/label&amp;gt;
            &amp;lt;input type=&quot;checkbox&quot; name=&quot;remember-me&quot;/&amp;gt;
            &amp;lt;div class=&quot;form-actions&quot;&amp;gt;
                &amp;lt;button type=&quot;submit&quot; class=&quot;btn&quot;&amp;gt;Log in&amp;lt;/button&amp;gt;
            &amp;lt;/div&amp;gt;
        &amp;lt;/fieldset&amp;gt;
    &amp;lt;/form&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œè¿™é‡Œ &lt;strong&gt;form&lt;/strong&gt; è¡¨å•çš„è¯·æ±‚åœ°å€ä½¿ç”¨ &lt;code&gt;/auth/login&lt;/code&gt;ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸‹é¢é…ç½®ä¸­ä¿®æ”¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ç™»å½•è¯·æ±‚çš„åœ°å€éœ€è¦ä¸º &lt;code&gt;/login&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€æˆ‘ä»¬åœ¨ä¸Šé¢çš„ &lt;code&gt;SecurityConfig&lt;/code&gt; ç±»å¢åŠ ç›¸åº”é…ç½®æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * è‡ªå®šä¹‰å¤„ç†ç™»å½•å¤„ç†
 *
 * @param http
 * @throws Exception
 */
@Override
protected void configure(HttpSecurity http) throws Exception {

    http.authorizeRequests((authorize) -&amp;gt; authorize
            .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll() // é™æ€èµ„æºï¼Œæ¯”å¦‚ css,js æ— éœ€ç™»å½•é‰´æƒ
            .anyRequest().permitAll() // å…¶ä»–é¡µé¢éœ€è¦ç™»å½•é‰´æƒ
    ).formLogin((formLogin) -&amp;gt; formLogin  // è‡ªå®šä¹‰ç™»å½•é¡µé¢
            .loginPage(&quot;/login&quot;) // ç™»å½•é¡µ
            .loginProcessingUrl(&quot;/auth/login&quot;) // è‡ªå®šä¹‰ç™»å½•è¯·æ±‚åœ°å€
            .permitAll()// ç™»å½•é¡µå½“ç„¶æ— éœ€é‰´æƒäº†ï¼Œä¸ç„¶ä¸å°±å¥—å¨ƒäº†å—ï¼Ÿ
    ).logout(LogoutConfigurer::permitAll // ç™»å‡ºé¡µé¢
    ).rememberMe(rememberMe -&amp;gt; rememberMe
            .rememberMeCookieName(&quot;test-remember&quot;) // è‡ªå®šä¹‰è®°ä½æˆ‘ cookie å
            .key(&quot;test&quot;) // ç›å€¼
            .tokenValiditySeconds(3600 * 12)) // è®°ä½æˆ‘ï¼Œæœ¬åœ°ç”Ÿæˆ cookie åŒ…å«ç”¨æˆ·ä¿¡æ¯

    ;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å¯èƒ½æ¯”è¾ƒé•¿ï¼Œé‡ç‚¹è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;authorizeRequests&lt;/code&gt;æ–¹æ³•å†…éœ€è¦æŒ‡å®šé‚£äº›é¡µé¢éœ€è¦é‰´æƒï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡å®šé™æ€èµ„æºæ— éœ€ç™»å½•é‰´æƒï¼Œå…¶ä»–è¯·æ±‚æˆ‘ä»¬éƒ½éœ€è¦ç™»å½•é‰´æƒ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;formLogin&lt;/code&gt; æ–¹æ³•å†…ä¿®æ”¹é»˜è®¤çš„ç™»å½•é¡µé¢åœ°å€ï¼Œä»¥åŠç™»å½•çš„è¯·æ±‚åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;logout&lt;/code&gt;åœ¨è¿™é‡Œé¢å¯ä»¥é…ç½®ç™»å‡ºçš„ç›¸å…³é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rememberMe&lt;/code&gt;å¼€å¯è¿™ä¸ªåŠŸèƒ½ä¹‹åï¼Œå½“å†…éƒ¨ Session è¿‡æœŸä¹‹åï¼Œç”¨æˆ·è¿˜å¯ä»¥æ ¹æ®ç”¨æˆ·æµè§ˆå™¨ä¸­çš„ Cookie ä¿¡æ¯å®ç°å…ç™»å½•çš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æœ€åæˆ‘ä»¬éœ€è¦é…ç½®ä¸€äº›é¡µé¢çš„è·³è½¬åœ°å€ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;@Configuration
public class WebMvcConfig implements WebMvcConfigurer {

    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        // é¦–é¡µ
        registry.addViewController(&quot;/&quot;).setViewName(&quot;home&quot;);
        // ç™»å½•ä¹‹åè·³è½¬åˆ° home é¡µ
        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»é›†æˆ &lt;strong&gt;Spring-Session&lt;/strong&gt; ä¸ &lt;strong&gt;Spring-security&lt;/strong&gt; å®Œæˆå®Œæ•´çš„ç½‘ç«™çš„ç™»å½•é‰´æƒåŠŸèƒ½ã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå¼•å…¥è¿™ä¸ªä¸¤ä¸ªæ¡†æ¶ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§ Spring è§„èŒƒå¼€å‘å³å¯ï¼Œå…¶ä»–å¤æ‚å®ç°åŸç†æˆ‘ä»¬éƒ½ä¸éœ€è¦è‡ªå·±å®ç°äº†ï¼Œè¿™æ ·çœŸçš„å¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•çš„å°ä¾‹å­ï¼Œå°é»‘åªæ˜¯æŠ›è½¬å¼•ç‰ä¸€ä¸‹ï¼ŒçœŸå®å¼€å‘ä¸­å¯èƒ½éœ€è¦ä¿®æ”¹é…ç½®ä¼šæ›´å¤šï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨å°ä¼™ä¼´è‡ªå·±åœ¨æ·±å…¥ç ”ç©¶äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://creaink.github.io/post/Backend/SpringBoot/Spring-boot-security.html&quot;&gt;https://creaink.github.io/post/Backend/SpringBoot/Spring-boot-security.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-session&quot;&gt;https://github.com/spring-projects/spring-session&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;blockquote readability=&quot;5.5384615384615&quot;&gt;
&lt;p&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šç¨‹åºé€šäº‹ï¼Œè·å¾—æ—¥å¸¸å¹²è´§æ¨é€ã€‚å¦‚æœæ‚¨å¯¹æˆ‘çš„ä¸“é¢˜å†…å®¹æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„åšå®¢ï¼š&lt;a href=&quot;https://studyidea.cn&quot;&gt;studyidea.cn&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Tue, 18 Aug 2020 23:38:00 +0000</pubDate>
<dc:creator>æ¥¼ä¸‹å°é»‘å“¥</dc:creator>
<og:description>ä¸Šæ¬¡å°é»‘åœ¨æ–‡ç« ä¸­ä»‹ç»äº†å››ç§åˆ†å¸ƒå¼ä¸€è‡´æ€§ Session çš„å®ç°æ–¹å¼ï¼Œåœ¨è¿™å››ç§ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯åç«¯é›†ä¸­å­˜å‚¨æ–¹æ¡ˆï¼Œè¿™æ ·å³ä½¿ web åº”ç”¨é‡å¯æˆ–è€…æ‰©å®¹ï¼ŒSession éƒ½æ²¡æœ‰ä¸¢å¤±çš„é£é™©ã€‚ ä»Šå¤©æˆ‘ä»¬å°±ä½¿ç”¨è¿™ç§æ–¹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/goodAndyxublog/p/13527127.html</dc:identifier>
</item>
<item>
<title>JVMçš„æ–¹æ³•æ‰§è¡Œå¼•æ“-æ¨¡æ¿è¡¨ - HotSpot-Researcher</title>
<link>http://www.cnblogs.com/mazhimazhi/p/13524329.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mazhimazhi/p/13524329.html</guid>
<description>&lt;p&gt;Javaçš„æ¨¡æ¿è§£ææ‰§è¡Œéœ€è¦æ¨¡æ¿è¡¨ä¸è½¬å‘è¡¨çš„æ”¯æŒï¼Œè€Œè¿™2ä¸ªè¡¨ä¸­çš„æ•°æ®åœ¨HotSpotè™šæ‹Ÿæœºå¯åŠ¨æ—¶å°±ä¼šåˆå§‹åŒ–ã€‚è¿™ä¸€ç¯‡é¦–å…ˆä»‹ç»æ¨¡æ¿è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¯åŠ¨è™šæ‹Ÿæœºé˜¶æ®µä¼šè°ƒç”¨init_globals()æ–¹æ³•åˆå§‹åŒ–å…¨å±€æ¨¡å—ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­é€šè¿‡è°ƒç”¨interpreter_init()æ–¹æ³•åˆå§‹åŒ–æ¨¡æ¿è§£é‡Šå™¨ï¼Œè°ƒç”¨æ ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
TemplateInterpreter::initialize()    templateInterpreter.cpp
interpreter_init()                   interpreter.cpp
init_globals()                       init.cpp
Threads::create_vm()                 thread.cpp
JNI_CreateJavaVM()                   jni.cpp
InitializeJVM()                      java.c
JavaMain()                           java.c
start_thread()                       pthread_create.c   
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;interpreter_init()æ–¹æ³•ä¸»è¦æ˜¯é€šè¿‡è°ƒç”¨TemplateInterpreter::initialize()æ–¹æ³•æ¥å®Œæˆé€»è¾‘ï¼Œinitialize()æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
æºä»£ç ä½ç½®ï¼š/src/share/vm/interpreter/templateInterpreter.cpp
 
void TemplateInterpreter::initialize() {
  if (_code != NULL) 
       return;
 
  // æŠ½è±¡è§£é‡Šå™¨AbstractInterpreterçš„åˆå§‹åŒ–ï¼ŒAbstractInterpreteræ˜¯åŸºäºæ±‡ç¼–æ¨¡å‹çš„è§£é‡Šå™¨çš„å…±åŒåŸºç±»ï¼Œ
  // å®šä¹‰äº†è§£é‡Šå™¨å’Œè§£é‡Šå™¨ç”Ÿæˆå™¨çš„æŠ½è±¡æ¥å£
  AbstractInterpreter::initialize();
 
  // æ¨¡æ¿è¡¨TemplateTableçš„åˆå§‹åŒ–ï¼Œæ¨¡æ¿è¡¨TemplateTableä¿å­˜äº†å„ä¸ªå­—èŠ‚ç çš„æ¨¡æ¿
  TemplateTable::initialize();
 
  // generate interpreter
  {
     ResourceMark rm;
     int code_size = InterpreterCodeSize;
     // CodeCacheçš„Stubé˜Ÿåˆ—StubQueueçš„åˆå§‹åŒ–
     _code = new StubQueue(new InterpreterCodeletInterface, code_size, NULL,&quot;Interpreter&quot;);
     //  å®ä¾‹åŒ–æ¨¡æ¿è§£é‡Šå™¨ç”Ÿæˆå™¨å¯¹è±¡TemplateInterpreterGenerator
     InterpreterGenerator g(_code);
  }
 
  // initialize dispatch table
  _active_table = _normal_table;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¨¡æ¿è§£é‡Šå™¨çš„åˆå§‹åŒ–åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æŠ½è±¡è§£é‡Šå™¨AbstractInterpreterçš„åˆå§‹åŒ–ï¼ŒAbstractInterpreteræ˜¯åŸºäºæ±‡ç¼–æ¨¡å‹çš„è§£é‡Šå™¨çš„å…±åŒåŸºç±»ï¼Œå®šä¹‰äº†è§£é‡Šå™¨å’Œè§£é‡Šå™¨ç”Ÿæˆå™¨çš„æŠ½è±¡æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ¨¡æ¿è¡¨TemplateTableçš„åˆå§‹åŒ–ï¼Œæ¨¡æ¿è¡¨TemplateTableä¿å­˜äº†å„ä¸ªå­—èŠ‚ç çš„æ¨¡æ¿ï¼ˆç›®æ ‡ä»£ç ç”Ÿæˆå‡½æ•°å’Œå‚æ•°ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰CodeCacheçš„Stubé˜Ÿåˆ—StubQueueçš„åˆå§‹åŒ–ï¼›&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰è§£é‡Šå™¨ç”Ÿæˆå™¨InterpreterGeneratorçš„åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¹‹å‰ä»‹ç»è¿‡ï¼Œåœ¨TemplateInterpreter::initialize() ä¸­é€šè¿‡è°ƒç”¨è¯­å¥æ¥é—´æ¥è°ƒç”¨generate_method_entry()å’Œgenerate_normal_entry()åˆ›å»ºæ–¹æ³•æ‰§è¡Œçš„æ ˆå¸§ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
InterpreterGenerator g(_code);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸è¿‡åœ¨å¦‚ä¸Šè¯­å¥è°ƒç”¨ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦è°ƒç”¨TemplateInterpreterç±»ä¸­çš„initialize()æ–¹æ³•åˆå§‹åŒ–æ¨¡æ¿è¡¨ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
TemplateTable::initialize();
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¨¡æ¿è¡¨TemplateTableä¿å­˜äº†å„ä¸ªå­—èŠ‚ç çš„æ¨¡æ¿ï¼ˆç›®æ ‡ä»£ç ç”Ÿæˆå‡½æ•°å’Œå‚æ•°ï¼‰ï¼Œinitialize()æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;æºä»£ç ä½ç½®ï¼š/src/share/vm/interpreter/templateInterpreter.cpp&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;380&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
void TemplateTable::initialize() {
  if (_is_initialized) return;


  _bs = Universe::heap()-&amp;gt;barrier_set();

  // For better readability
  const char _    = ' ';
  const int  ____ = 0;
  const int  ubcp = 1 &amp;lt;&amp;lt; Template::uses_bcp_bit;
  const int  disp = 1 &amp;lt;&amp;lt; Template::does_dispatch_bit;
  const int  clvm = 1 &amp;lt;&amp;lt; Template::calls_vm_bit;
  const int  iswd = 1 &amp;lt;&amp;lt; Template::wide_bit;
  //                                    interpr. templates
  // Java spec bytecodes                ubcp|disp|clvm|iswd  in    out   generator             argument
  def(Bytecodes::_nop                 , ____|____|____|____, vtos, vtos, nop                 ,  _           );
  def(Bytecodes::_aconst_null         , ____|____|____|____, vtos, atos, aconst_null         ,  _           );
  def(Bytecodes::_iconst_m1           , ____|____|____|____, vtos, itos, iconst              , -1           );
  def(Bytecodes::_iconst_0            , ____|____|____|____, vtos, itos, iconst              ,  0           );
  // ...
  def(Bytecodes::_tableswitch         , ubcp|disp|____|____, itos, vtos, tableswitch         ,  _           );
  def(Bytecodes::_lookupswitch        , ubcp|disp|____|____, itos, itos, lookupswitch        ,  _           );
  def(Bytecodes::_ireturn             , ____|disp|clvm|____, itos, itos, _return             , itos         );
  def(Bytecodes::_lreturn             , ____|disp|clvm|____, ltos, ltos, _return             , ltos         );
  def(Bytecodes::_freturn             , ____|disp|clvm|____, ftos, ftos, _return             , ftos         );
  def(Bytecodes::_dreturn             , ____|disp|clvm|____, dtos, dtos, _return             , dtos         );
  def(Bytecodes::_areturn             , ____|disp|clvm|____, atos, atos, _return             , atos         );
  def(Bytecodes::_return              , ____|disp|clvm|____, vtos, vtos, _return             , vtos         );
  def(Bytecodes::_getstatic           , ubcp|____|clvm|____, vtos, vtos, getstatic           , f1_byte      );
  def(Bytecodes::_putstatic           , ubcp|____|clvm|____, vtos, vtos, putstatic           , f2_byte      );
  def(Bytecodes::_getfield            , ubcp|____|clvm|____, vtos, vtos, getfield            , f1_byte      );
  def(Bytecodes::_putfield            , ubcp|____|clvm|____, vtos, vtos, putfield            , f2_byte      );
  def(Bytecodes::_invokevirtual       , ubcp|disp|clvm|____, vtos, vtos, invokevirtual       , f2_byte      );
  def(Bytecodes::_invokespecial       , ubcp|disp|clvm|____, vtos, vtos, invokespecial       , f1_byte      );
  def(Bytecodes::_invokestatic        , ubcp|disp|clvm|____, vtos, vtos, invokestatic        , f1_byte      );
  def(Bytecodes::_invokeinterface     , ubcp|disp|clvm|____, vtos, vtos, invokeinterface     , f1_byte      );
  def(Bytecodes::_invokedynamic       , ubcp|disp|clvm|____, vtos, vtos, invokedynamic       , f1_byte      );
  def(Bytecodes::_new                 , ubcp|____|clvm|____, vtos, atos, _new                ,  _           );
  def(Bytecodes::_newarray            , ubcp|____|clvm|____, itos, atos, newarray            ,  _           );
  def(Bytecodes::_anewarray           , ubcp|____|clvm|____, itos, atos, anewarray           ,  _           );
  def(Bytecodes::_arraylength         , ____|____|____|____, atos, itos, arraylength         ,  _           );
  def(Bytecodes::_athrow              , ____|disp|____|____, atos, vtos, athrow              ,  _           );
  def(Bytecodes::_checkcast           , ubcp|____|clvm|____, atos, atos, checkcast           ,  _           );
  def(Bytecodes::_instanceof          , ubcp|____|clvm|____, atos, itos, instanceof          ,  _           );
  def(Bytecodes::_monitorenter        , ____|disp|clvm|____, atos, vtos, monitorenter        ,  _           );
  def(Bytecodes::_monitorexit         , ____|____|clvm|____, atos, vtos, monitorexit         ,  _           );
  def(Bytecodes::_wide                , ubcp|disp|____|____, vtos, vtos, wide                ,  _           );
  def(Bytecodes::_multianewarray      , ubcp|____|clvm|____, vtos, atos, multianewarray      ,  _           );
  def(Bytecodes::_ifnull              , ubcp|____|clvm|____, atos, vtos, if_nullcmp          , equal        );
  def(Bytecodes::_ifnonnull           , ubcp|____|clvm|____, atos, vtos, if_nullcmp          , not_equal    );
  def(Bytecodes::_goto_w              , ubcp|____|clvm|____, vtos, vtos, goto_w              ,  _           );
  def(Bytecodes::_jsr_w               , ubcp|____|____|____, vtos, vtos, jsr_w               ,  _           );

  // wide Java spec bytecodes
  def(Bytecodes::_iload               , ubcp|____|____|iswd, vtos, itos, wide_iload          ,  _           );
  def(Bytecodes::_lload               , ubcp|____|____|iswd, vtos, ltos, wide_lload          ,  _           );
  // ...

  // JVM bytecodes
  def(Bytecodes::_fast_agetfield      , ubcp|____|____|____, atos, atos, fast_accessfield    ,  atos        );
  def(Bytecodes::_fast_bgetfield      , ubcp|____|____|____, atos, itos, fast_accessfield    ,  itos        );
  def(Bytecodes::_fast_cgetfield      , ubcp|____|____|____, atos, itos, fast_accessfield    ,  itos        );
  def(Bytecodes::_fast_dgetfield      , ubcp|____|____|____, atos, dtos, fast_accessfield    ,  dtos        );
  def(Bytecodes::_fast_fgetfield      , ubcp|____|____|____, atos, ftos, fast_accessfield    ,  ftos        );
  def(Bytecodes::_fast_igetfield      , ubcp|____|____|____, atos, itos, fast_accessfield    ,  itos        );
  def(Bytecodes::_fast_lgetfield      , ubcp|____|____|____, atos, ltos, fast_accessfield    ,  ltos        );
  def(Bytecodes::_fast_sgetfield      , ubcp|____|____|____, atos, itos, fast_accessfield    ,  itos        );

  def(Bytecodes::_fast_aputfield      , ubcp|____|____|____, atos, vtos, fast_storefield ,   atos        );
  def(Bytecodes::_fast_bputfield      , ubcp|____|____|____, itos, vtos, fast_storefield ,   itos        );
  def(Bytecodes::_fast_cputfield      , ubcp|____|____|____, itos, vtos, fast_storefield  ,  itos        );
  def(Bytecodes::_fast_dputfield      , ubcp|____|____|____, dtos, vtos, fast_storefield  ,  dtos        );
  def(Bytecodes::_fast_fputfield      , ubcp|____|____|____, ftos, vtos, fast_storefield  ,  ftos        );
  def(Bytecodes::_fast_iputfield      , ubcp|____|____|____, itos, vtos, fast_storefield  ,  itos        );
  def(Bytecodes::_fast_lputfield      , ubcp|____|____|____, ltos, vtos, fast_storefield  ,  ltos        );
  def(Bytecodes::_fast_sputfield      , ubcp|____|____|____, itos, vtos, fast_storefield  ,  itos        );

  def(Bytecodes::_fast_aload_0        , ____|____|____|____, vtos, atos, aload               ,  0           );
  def(Bytecodes::_fast_iaccess_0      , ubcp|____|____|____, vtos, itos, fast_xaccess        ,  itos        );
  def(Bytecodes::_fast_aaccess_0      , ubcp|____|____|____, vtos, atos, fast_xaccess        ,  atos        );
  def(Bytecodes::_fast_faccess_0      , ubcp|____|____|____, vtos, ftos, fast_xaccess        ,  ftos        );

  def(Bytecodes::_fast_iload          , ubcp|____|____|____, vtos, itos, fast_iload          ,  _       );
  def(Bytecodes::_fast_iload2         , ubcp|____|____|____, vtos, itos, fast_iload2         ,  _       );
  def(Bytecodes::_fast_icaload        , ubcp|____|____|____, vtos, itos, fast_icaload        ,  _       );

  def(Bytecodes::_fast_invokevfinal   , ubcp|disp|clvm|____, vtos, vtos, fast_invokevfinal   , f2_byte      );

  def(Bytecodes::_fast_linearswitch   , ubcp|disp|____|____, itos, vtos, fast_linearswitch   ,  _           );
  def(Bytecodes::_fast_binaryswitch   , ubcp|disp|____|____, itos, vtos, fast_binaryswitch   ,  _           );

  def(Bytecodes::_fast_aldc           , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  false       );
  def(Bytecodes::_fast_aldc_w         , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  true        );

  def(Bytecodes::_return_register_finalizer , ____|disp|clvm|____, vtos, vtos, _return       ,  vtos        );

  def(Bytecodes::_invokehandle        , ubcp|disp|clvm|____, vtos, vtos, invokehandle        , f1_byte      );

  def(Bytecodes::_shouldnotreachhere   , ____|____|____|____, vtos, vtos, shouldnotreachhere ,  _           );
  // platform specific bytecodes
  pd_initialize();

  _is_initialized = true;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;TemplateTableçš„åˆå§‹åŒ–è°ƒç”¨def()å°†æ‰€æœ‰å­—èŠ‚ç çš„ç›®æ ‡ä»£ç ç”Ÿæˆå‡½æ•°å’Œå‚æ•°ä¿å­˜åœ¨_template_tableæˆ–_template_table_wideï¼ˆwideæŒ‡ä»¤ï¼‰æ¨¡æ¿æ•°ç»„ä¸­ã€‚é™¤äº†è™šæ‹Ÿæœºè§„èŒƒæœ¬èº«å®šä¹‰çš„å­—èŠ‚ç æŒ‡ä»¤å¤–ï¼ŒHotSpotè™šæ‹Ÿæœºä¹Ÿå®šä¹‰äº†ä¸€äº›å­—èŠ‚ç æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤ä¸ºäº†è¾…åŠ©è™šæ‹Ÿæœºè¿›è¡Œæ›´å¥½ã€ç†ç®€å•çš„åŠŸèƒ½å®ç°ï¼Œä¾‹å¦‚Bytecodes::_return_register_finalizerç­‰åœ¨ä¹‹å‰å·²ç»ä»‹ç»è¿‡ï¼Œå¯ä»¥æ›´å¥½çš„å®ç°finalizerç±»å‹å¯¹è±¡çš„æ³¨å†ŒåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè°ƒç”¨def()å‡½æ•°æ—¶ä¼ é€’çš„ä¸€äº›å‚æ•°åœ¨åé¢ä¼šè§£é‡Šã€‚def()å‡½æ•°æœ‰2ä¸ªï¼Œæ¥æ”¶çš„å‚æ•°ä¸åŒï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;58&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
void TemplateTable::def(
        Bytecodes::Code code, // å­—èŠ‚ç æŒ‡ä»¤
        int flags,            // æ ‡å¿—ä½
        TosState in,          // æ¨¡æ¿æ‰§è¡Œå‰TosState
        TosState out,         // æ¨¡æ¿æ‰§è¡ŒåTosState
        void (*gen)(),        // æ¨¡æ¿ç”Ÿæˆå™¨ï¼Œæ˜¯æ¨¡æ¿çš„æ ¸å¿ƒç»„ä»¶
        char filler
) {
  assert(filler == ' ', &quot;just checkin'&quot;);
  def(code, flags, in, out, (Template::generator)gen, 0); // è°ƒç”¨ä¸‹é¢çš„def()å‡½æ•°
}

void TemplateTable::def(
  Bytecodes::Code code,    // å­—èŠ‚ç æŒ‡ä»¤
  int flags,               // æ ‡å¿—ä½
  TosState in,             // æ¨¡æ¿æ‰§è¡Œå‰TosState
  TosState out,            // æ¨¡æ¿æ‰§è¡ŒåTosState
  void (*gen)(int arg),    // æ¨¡æ¿ç”Ÿæˆå™¨ï¼Œæ˜¯æ¨¡æ¿çš„æ ¸å¿ƒç»„ä»¶
  int arg 
) {
  // should factor out these constants
  const int ubcp = 1 &amp;lt;&amp;lt; Template::uses_bcp_bit;      // è¡¨ç¤ºæ˜¯å¦éœ€è¦bcpæŒ‡é’ˆ
  const int disp = 1 &amp;lt;&amp;lt; Template::does_dispatch_bit; // è¡¨ç¤ºæ˜¯å¦åœ¨æ¨¡æ¿èŒƒå›´å†…è¿›è¡Œè½¬å‘
  const int clvm = 1 &amp;lt;&amp;lt; Template::calls_vm_bit;      // è¡¨ç¤ºæ˜¯å¦éœ€è¦è°ƒç”¨JVMå‡½æ•°
  const int iswd = 1 &amp;lt;&amp;lt; Template::wide_bit;          // è¡¨ç¤ºæ˜¯å¦ä¸ºwildæŒ‡ä»¤

  // determine which table to use
  bool is_wide = (flags &amp;amp; iswd) != 0;

  // make sure that wide instructions have a vtos entry point
  // (since they are executed extremely rarely, it doesn't pay out to have an
  // extra set of 5 dispatch tables for the wide instructions - for simplicity
  // they all go with one table)
  assert(in == vtos || !is_wide, &quot;wide instructions have vtos entry point only&quot;);
  Template* t = is_wide ? template_for_wide(code) : template_for(code);

  // setup entry
  t-&amp;gt;initialize(flags, in, out, gen, arg); // è°ƒç”¨æ¨¡æ¿è¡¨tçš„initialize()æ–¹æ³•åˆå§‹åŒ–æ¨¡æ¿è¡¨
  assert(t-&amp;gt;bytecode() == code, &quot;just checkin'&quot;);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¨¡æ¿è¡¨ç”±æ¨¡æ¿è¡¨æ•°ç»„ä¸ä¸€ç»„ç”Ÿæˆå™¨ç»„æˆï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ¨¡æ¿è¡¨æ•°ç»„æœ‰_template_tableä¸_template_table_wildï¼Œæ•°ç»„çš„ä¸‹æ ‡ä¸ºbytecodeï¼Œå€¼ä¸ºTemplateï¼ŒæŒ‰ç…§å­—èŠ‚ç æŒ‡ä»¤çš„æ“ä½œç é€’å¢é¡ºåºæ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ä¸€ç»„ç”Ÿæˆå™¨ï¼Œæ‰€æœ‰ä¸bytecodeé…å¥—çš„ç”Ÿæˆå™¨ï¼Œåœ¨åˆå§‹åŒ–æ¨¡æ¿è¡¨æ—¶ä½œä¸ºgenå‚æ•°ä¼ ç»™ç›¸åº”çš„Templateã€‚&lt;/p&gt;
&lt;p&gt;Templateç±»çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
æºä»£ç ä½ç½®ï¼šhotspot/src/share/vm/interpreter/templateTable.hpp
// A Template describes the properties of a code template for a given bytecode
// and provides a generator to generate the code template.

class Template VALUE_OBJ_CLASS_SPEC {
 private:
  enum Flags {
    // å­—èŠ‚ç æŒ‡ä»¤æŒ‡çš„æ˜¯è¯¥å­—èŠ‚ç çš„æ“ä½œæ•°æ˜¯å¦å­˜åœ¨äºå­—èŠ‚ç é‡Œé¢
    uses_bcp_bit,     // set if template needs the bcp pointing to bytecode
    does_dispatch_bit,// set if template dispatches on its own
    calls_vm_bit,     // set if template calls the vm
    wide_bit          // set if template belongs to a wide instruction
  };

  typedef void (*generator)(int arg);

  int       _flags;   // describes interpreter template properties (bcp unknown)
  TosState  _tos_in;  // tos cache state before template execution
  TosState  _tos_out; // tos cache state after  template execution
  generator _gen;     // template code generator
  int       _arg;     // argument for template code generator
  ...

  // Templates
  static Template* template_for(Bytecodes::Code code)  {
          Bytecodes::check(code);
          return &amp;amp;_template_table[code];
  }
  static Template* template_for_wide(Bytecodes::Code code)  {
          Bytecodes::wide_check(code);
          return &amp;amp;_template_table_wide[code];
  }
};
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è°ƒç”¨çš„template_for()ä¸template_for_wild()æ–¹æ³•ä»_template_tableæˆ–_template_for_wildæ•°ç»„ä¸­å–å€¼ã€‚è¿™2ä¸ªå˜é‡å®šä¹‰åœ¨TemplateTableç±»ä¸­ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
static Template        _template_table     [Bytecodes::number_of_codes];
static Template        _template_table_wide[Bytecodes::number_of_codes];
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»§ç»­çœ‹TemplateTable::def(0å‡½æ•°çš„å„ä¸ªå‚æ•°ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰_flagsï¼šæ˜¯ä¸€ä¸ªæ ‡å¿—ï¼Œä½å››ä½åˆ†åˆ«è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;uses_bcp_bitï¼Œæ ‡å¿—éœ€è¦ä½¿ç”¨å­—èŠ‚ç æŒ‡é’ˆï¼ˆbyte code pointerï¼Œæ•°å€¼ä¸ºå­—èŠ‚ç åŸºå€+å­—èŠ‚ç åç§»é‡ï¼‰&lt;/li&gt;
&lt;li&gt;does_dispatch_bitï¼Œæ ‡å¿—æ˜¯å¦åœ¨æ¨¡æ¿èŒƒå›´å†…è¿›è¡Œè½¬å‘ï¼Œå¦‚è·³è½¬ç±»æŒ‡ä»¤ä¼šè®¾ç½®è¯¥ä½&lt;/li&gt;
&lt;li&gt;calls_vm_bitï¼Œæ ‡å¿—æ˜¯å¦éœ€è¦è°ƒç”¨JVMå‡½æ•°&lt;/li&gt;
&lt;li&gt;wide_bitï¼Œæ ‡å¿—æ˜¯å¦æ˜¯wideæŒ‡ä»¤ï¼ˆä½¿ç”¨é™„åŠ å­—èŠ‚æ‰©å±•å…¨å±€å˜é‡ç´¢å¼•ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ï¼ˆ2ï¼‰_tos_inï¼šè¡¨ç¤ºæ¨¡æ¿æ‰§è¡Œå‰çš„TosStateï¼ˆæ“ä½œæ•°æ ˆæ ˆé¡¶å…ƒç´ çš„æ•°æ®ç±»å‹ï¼ŒTopOfStackï¼Œç”¨æ¥æ£€æŸ¥æ¨¡æ¿æ‰€å£°æ˜çš„è¾“å‡ºè¾“å…¥ç±»å‹æ˜¯å¦å’Œè¯¥å‡½æ•°ä¸€è‡´ï¼Œä»¥ç¡®ä¿æ ˆé¡¶å…ƒç´ è¢«æ­£ç¡®ä½¿ç”¨ï¼‰&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰_tos_outï¼šè¡¨ç¤ºæ¨¡æ¿æ‰§è¡Œåçš„TosStateÂ &lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰_genï¼šè¡¨ç¤ºæ¨¡æ¿ç”Ÿæˆå™¨ï¼ˆå‡½æ•°æŒ‡é’ˆï¼‰&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰_argï¼šè¡¨ç¤ºæ¨¡æ¿ç”Ÿæˆå™¨å‚æ•°&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹ä¸€ä¸‹TemplateTable::initialize()æ–¹æ³•ä¸­å¯¹def()å‡½æ•°çš„è°ƒç”¨ï¼Œä»¥_iincï¼ˆå°†å±€éƒ¨å˜é‡å¢åŠ 1ï¼‰ä¸ºä¾‹ï¼Œè°ƒç”¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
def(
        Bytecodes::_iinc,     // å­—èŠ‚ç æŒ‡ä»¤
        ubcp|____|clvm|____,  // æ ‡å¿—
        vtos,                 // æ¨¡æ¿æ‰§è¡Œå‰çš„TosState
        vtos,                 // æ¨¡æ¿æ‰§è¡Œåçš„TosState
        iinc ,                // æ¨¡æ¿ç”Ÿæˆå™¨ï¼Œæ˜¯ä¸€ä¸ªiinc()å‡½æ•°çš„æŒ‡é’ˆ
        _                     // ä¸éœ€è¦æ¨¡æ¿ç”Ÿæˆå™¨å‚æ•°
);ã€€
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®¾ç½®æ ‡å¿—ä½uses_bcp_bitå’Œcalls_vm_bitï¼Œè¡¨ç¤ºiincæŒ‡ä»¤çš„ç”Ÿæˆå™¨éœ€è¦ä½¿ç”¨bcpæŒ‡é’ˆå‡½æ•°at_bcp()ï¼Œä¸”éœ€è¦è°ƒç”¨JVMå‡½æ•°ï¼Œä¸‹é¢ç»™å‡ºäº†ç”Ÿæˆå™¨çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
æºä»£ç ä½ç½®ï¼š/hotspot/src/cpu/x86/vm/templateTable_x86_64.cpp

void TemplateTable::iinc() {
  transition(vtos, vtos);
  __ load_signed_byte(rdx, at_bcp(2)); // get constant
  locals_index(rbx);
  __ addl(iaddress(rbx), rdx);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;iincæŒ‡ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
iinc
index
const
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ“ä½œç iincå ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œindexä¸conståˆ†åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚ä½¿ç”¨at_bcp()å‡½æ•°è·å–iincæŒ‡ä»¤çš„æ“ä½œæ•°ï¼Œ2è¡¨ç¤ºåç§»2å­—èŠ‚ï¼Œæ‰€ä»¥ä¼šå°†constå–å‡ºæ¥å­˜å‚¨åˆ°rdxä¸­ã€‚è°ƒç”¨locals_index()å‡½æ•°å–å‡ºindexï¼Œlocals_index()å°±æ˜¯JVMå‡½æ•°ã€‚æœ€ç»ˆç”Ÿæˆçš„æ±‡ç¼–å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;40&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
// %r13å­˜å‚¨çš„æ˜¯æŒ‡å‘å­—èŠ‚ç çš„æŒ‡é’ˆï¼Œåç§»2å­—èŠ‚åå–å‡ºconstå­˜å‚¨åˆ°%edx
0x00007fffe101a210: movsbl 0x2(%r13),%edx
// å–å‡ºindexå­˜å‚¨åˆ°%ebx
0x00007fffe101a215: movzbl 0x1(%r13),%ebx
0x00007fffe101a21a: neg    %rbx
// %r14æŒ‡å‘æœ¬åœ°å˜é‡è¡¨çš„é¦–åœ°å€ï¼Œå°†%edxåŠ åˆ°%r14+%rbx*8æŒ‡å‘çš„å†…å­˜æ‰€å­˜å‚¨çš„å€¼ä¸Š
// ä¹‹æ‰€ä»¥è¦å¯¹%rbxæ‰§è¡Œnegè¿›è¡Œç¬¦å·åè½¬ï¼Œæ˜¯å› ä¸ºåœ¨Linuxå†…æ ¸çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæ ˆæ˜¯å‘ä½åœ°å€æ–¹å‘ç”Ÿé•¿çš„
0x00007fffe101a21d: add    %edx,(%r14,%rbx,8)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸è¿‡è¿™é‡Œå¹¶ä¸ä¼šè°ƒç”¨iinc()å‡½æ•°ç”Ÿæˆå¯¹åº”çš„æ±‡ç¼–ä»£ç ï¼Œåªæ˜¯å°†ä¼ é€’ç»™def()å‡½æ•°çš„å„ç§ä¿¡æ¯ä¿å­˜åˆ°Templateå¯¹è±¡ä¸­ï¼Œåœ¨TemplateTable::def()æ–¹æ³•ä¸­ï¼Œé€šè¿‡template_for()æˆ–template_for_wild()æ–¹æ³•è·å–åˆ°æ•°ç»„ä¸­å¯¹åº”çš„Templateå¯¹è±¡åï¼Œå°±ä¼šè°ƒç”¨Template::initialize()æ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:false;&quot;&gt;
void Template::initialize(int flags, TosState tos_in, TosState tos_out, generator gen, int arg) {
  _flags   = flags;
  _tos_in  = tos_in;
  _tos_out = tos_out;
  _gen     = gen;
  _arg     = arg;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œåªæ˜¯å°†ä¿¡æ¯ä¿å­˜åˆ°å¯¹åº”çš„Templateå¯¹è±¡ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å­—èŠ‚ç ç´¢å¼•ä»æ•°ç»„ä¸­è·å–å¯¹åº”çš„Templateå¯¹è±¡ï¼Œè¿›è€Œè·å–ç›¸å…³ä¿¡æ¯ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†ä¼šçœ‹åˆ°å¯¹è¿™äº›ä¿¡æ¯çš„ä½¿ç”¨ã€‚ã€€ã€€&lt;/p&gt;
&lt;p&gt;ç›¸å…³æ–‡ç« çš„é“¾æ¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13215548.html&quot; target=&quot;_blank&quot;&gt;åœ¨Ubuntu 16.04ä¸Šç¼–è¯‘OpenJDK8çš„æºä»£ç &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;2ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13217159.html&quot; target=&quot;_blank&quot;&gt;è°ƒè¯•HotSpotæºä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13222664.html&quot; target=&quot;_blank&quot;&gt;HotSpoté¡¹ç›®ç»“æ„&lt;/a&gt;ã€€&lt;/p&gt;
&lt;p&gt;4ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13228157.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„å¯åŠ¨è¿‡ç¨‹&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;5ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13233607.html&quot; target=&quot;_blank&quot;&gt;HotSpotäºŒåˆ†æ¨¡å‹ï¼ˆ1ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;6ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13237631.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„ç±»æ¨¡å‹ï¼ˆ2ï¼‰&lt;/a&gt;Â Â &lt;/p&gt;
&lt;p&gt;7ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13252983.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„ç±»æ¨¡å‹ï¼ˆ3ï¼‰Â &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;8ã€&lt;a id=&quot;cb_post_title_url&quot; class=&quot;postTitle2 vertical-middle&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13272865.html&quot;&gt;HotSpotçš„ç±»æ¨¡å‹ï¼ˆ4ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;9ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13289686.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„å¯¹è±¡æ¨¡å‹ï¼ˆ5ï¼‰Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;10ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13291427.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„å¯¹è±¡æ¨¡å‹ï¼ˆ6ï¼‰&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;11ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13297034.html&quot; target=&quot;_blank&quot;&gt;æ“ä½œå¥æŸ„Handleï¼ˆ7ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;12ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13303505.html&quot; target=&quot;_blank&quot;&gt;å¥æŸ„Handleçš„é‡Šæ”¾ï¼ˆ8ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;13ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13320889.html&quot; target=&quot;_blank&quot;&gt;ç±»åŠ è½½å™¨&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;14ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13338549.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„åŒäº²å§”æ´¾æœºåˆ¶&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;15ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13343296.html&quot; target=&quot;_blank&quot;&gt;æ ¸å¿ƒç±»çš„é¢„è£…è½½&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;16ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13353233.html&quot; target=&quot;_blank&quot;&gt;Javaä¸»ç±»çš„è£…è½½Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;17ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13354961.html&quot; target=&quot;_blank&quot;&gt;è§¦å‘ç±»çš„è£…è½½Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;18ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13356636.html&quot; target=&quot;_blank&quot;&gt;ç±»æ–‡ä»¶ä»‹ç»&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;19ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13358460.html&quot; target=&quot;_blank&quot;&gt;æ–‡ä»¶æµ&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;20ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13407609.html&quot; target=&quot;_blank&quot;&gt;è§£æClassæ–‡ä»¶&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;21ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13407690.html&quot; target=&quot;_blank&quot;&gt;å¸¸é‡æ± è§£æï¼ˆ1ï¼‰&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;22ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13408261.html&quot; target=&quot;_blank&quot;&gt;å¸¸é‡æ± è§£æï¼ˆ2ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;23ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13409707.html&quot; target=&quot;_blank&quot;&gt;å­—æ®µè§£æï¼ˆ1ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;24ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13409953.html&quot; target=&quot;_blank&quot;&gt;å­—æ®µè§£æä¹‹ä¼ªå…±äº«ï¼ˆ2ï¼‰&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;25ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13413170.html&quot; target=&quot;_blank&quot;&gt;å­—æ®µè§£æï¼ˆ3ï¼‰Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;26ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13413207.html&quot; target=&quot;_blank&quot;&gt;å­—æ®µè§£æä¹‹OopMapBlockï¼ˆ4ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;27ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13436627.html&quot; target=&quot;_blank&quot;&gt;æ–¹æ³•è§£æä¹‹Methodä¸ConstMethodä»‹ç»Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;28ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13436632.html&quot; target=&quot;_blank&quot;&gt;æ–¹æ³•è§£æ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;29ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13456515.html&quot; target=&quot;_blank&quot;&gt;klassVtableä¸klassItableç±»çš„ä»‹ç»&lt;/a&gt;Â Â &lt;/p&gt;
&lt;p&gt;30ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13461949.html&quot; target=&quot;_blank&quot;&gt;è®¡ç®—vtableçš„å¤§å°&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;31ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13462910.html&quot; target=&quot;_blank&quot;&gt;è®¡ç®—itableçš„å¤§å°Â &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;32ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13467751.html&quot; target=&quot;_blank&quot;&gt;è§£æClassæ–‡ä»¶ä¹‹åˆ›å»ºInstanceKlasså¯¹è±¡&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;33ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13469745.html&quot; target=&quot;_blank&quot;&gt;å­—æ®µè§£æä¹‹å­—æ®µæ³¨å…¥&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;34ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13470515.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„è¿æ¥Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;35ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13473410.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„è¿æ¥ä¹‹éªŒè¯&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;36ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13474567.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„è¿æ¥ä¹‹é‡å†™ï¼ˆ1ï¼‰&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;37ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13474577.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„è¿æ¥ä¹‹é‡å†™ï¼ˆ2ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;38ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13488845.html&quot; target=&quot;_blank&quot;&gt;æ–¹æ³•çš„è¿æ¥Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;39ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13494714.html&quot; target=&quot;_blank&quot;&gt;åˆå§‹åŒ–vtable&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;40ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13495636.html&quot; target=&quot;_blank&quot;&gt;åˆå§‹åŒ–itableÂ &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;41ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13495639.html&quot; target=&quot;_blank&quot;&gt;ç±»çš„åˆå§‹åŒ–Â &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;42ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13500050.html&quot; target=&quot;_blank&quot;&gt;å¯¹è±¡çš„åˆ›å»ºÂ &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;43ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13502748.html&quot; target=&quot;_blank&quot;&gt;Javaå¼•ç”¨ç±»å‹&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;44ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13503800.html&quot; target=&quot;_blank&quot;&gt;Javaå¼•ç”¨ç±»å‹ä¹‹è½¯å¼•ç”¨ï¼ˆ1ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;45ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13503996.html&quot; target=&quot;_blank&quot;&gt;Javaå¼•ç”¨ç±»å‹ä¹‹è½¯å¼•ç”¨ï¼ˆ2ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;46ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13504081.html&quot; target=&quot;_blank&quot;&gt;Javaå¼•ç”¨ç±»å‹ä¹‹å¼±å¼•ç”¨ä¸å¹»åƒå¼•ç”¨&lt;/a&gt;Â Â &lt;/p&gt;
&lt;p&gt;47ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13504083.html&quot; target=&quot;_blank&quot;&gt;Javaå¼•ç”¨ç±»å‹ä¹‹æœ€ç»ˆå¼•ç”¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;48ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13511722.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„åƒåœ¾å›æ”¶ç®—æ³•&lt;/a&gt;Â Â &lt;/p&gt;
&lt;p&gt;49ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13511728.html&quot; target=&quot;_blank&quot;&gt;HotSpotçš„åƒåœ¾å›æ”¶å™¨Â &lt;/a&gt;Â Â &lt;/p&gt;
&lt;p&gt;50ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13516197.html&quot; target=&quot;_blank&quot;&gt;CallStubæ ˆå¸§Â &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;51ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13516634.html&quot; target=&quot;_blank&quot;&gt;entry pointæ ˆå¸§Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;52ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13518846.html&quot; target=&quot;_blank&quot;&gt;generate_fixed_frame()æ–¹æ³•ç”ŸæˆJavaæ–¹æ³•æ ˆå¸§Â &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;53ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13518830.html&quot; target=&quot;_blank&quot;&gt;dispatch_next()æ–¹æ³•çš„å®ç°Â &lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;54ã€&lt;a class=&quot;entry&quot; href=&quot;https://www.cnblogs.com/mazhimazhi/p/13524213.html&quot; target=&quot;_blank&quot;&gt;è™šæ‹Ÿæœºæ‰§è¡Œæ¨¡å¼&lt;/a&gt;Â &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½œè€…æŒç»­ç»´æŠ¤çš„ä¸ªäººåšå®¢Â Â &lt;a href=&quot;http://classloading.com/&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;classloading.com&lt;/strong&gt;&lt;/a&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³æ³¨å…¬ä¼—å·ï¼Œæœ‰HotSpotæºç å‰–æç³»åˆ—æ–‡ç« ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1236123/202006/1236123-20200630200021532-955264784.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;Â Â Â &lt;/p&gt;


</description>
<pubDate>Tue, 18 Aug 2020 22:49:00 +0000</pubDate>
<dc:creator>HotSpot-Researcher</dc:creator>
<og:description>Javaçš„æ¨¡æ¿è§£ææ‰§è¡Œéœ€è¦æ¨¡æ¿è¡¨ä¸è½¬å‘è¡¨çš„æ”¯æŒï¼Œè€Œè¿™2ä¸ªè¡¨ä¸­çš„æ•°æ®åœ¨HotSpotè™šæ‹Ÿæœºå¯åŠ¨æ—¶å°±ä¼šåˆå§‹åŒ–ã€‚è¿™ä¸€ç¯‡é¦–å…ˆä»‹ç»æ¨¡æ¿è¡¨ã€‚ åœ¨å¯åŠ¨è™šæ‹Ÿæœºé˜¶æ®µä¼šè°ƒç”¨init_globals()æ–¹æ³•åˆå§‹åŒ–å…¨å±€æ¨¡å—ï¼Œ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mazhimazhi/p/13524329.html</dc:identifier>
</item>
<item>
<title>ã€Flutter å®æˆ˜ã€‘ä¸€æ–‡å­¦ä¼š20å¤šä¸ªåŠ¨ç”»ç»„ä»¶ - è€å­ŸFlutter</title>
<link>http://www.cnblogs.com/mengqd/p/13527110.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mengqd/p/13527110.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064023447-1353525453.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;è€å­Ÿå¯¼è¯»ï¼šæ­¤ç¯‡æ–‡ç« æ˜¯ Flutter åŠ¨ç”»ç³»åˆ—æ–‡ç« ç¬¬ä¸‰ç¯‡ï¼Œåç»­è¿˜æœ‰åŠ¨ç”»åºåˆ—ã€è¿‡åº¦åŠ¨ç”»ã€è½¬åœºåŠ¨ç”»ã€è‡ªå®šä¹‰åŠ¨ç”»ç­‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Flutter ç³»ç»Ÿæä¾›äº†20å¤šä¸ªåŠ¨ç”»ç»„ä»¶ï¼Œåªè¦ä½ æŠŠå‰é¢ã€åŠ¨ç”»æ ¸å¿ƒã€‘(æ–‡æœ«æœ‰é“¾æ¥)çš„æ–‡ç« çœ‹æ˜ç™½äº†ï¼Œè¿™äº›ç»„ä»¶å¯¹ä½ æ¥è¯´æ˜¯éå¸¸è½»æ¾çš„ï¼Œè¿™äº›ç»„ä»¶å¤§éƒ¨åˆ†éƒ½æ˜¯å¯¹å¸¸ç”¨æ“ä½œçš„å°è£…ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶&quot;&gt;æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶&lt;/h2&gt;
&lt;p&gt;å›é¡¾ä¸Šä¸€ç¯‡ã€åŠ¨ç”»æ ¸å¿ƒã€‘çš„æ–‡ç« ä¸­åˆ›å»ºåŠ¨ç”»ä¸‰ä¸ªå¿…é¡»çš„æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åˆ›å»º AnimationControllerã€‚&lt;/li&gt;
&lt;li&gt;ç›‘å¬ AnimationControllerï¼Œè°ƒç”¨ &lt;code&gt;setState&lt;/code&gt; åˆ·æ–°UIã€‚&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾ AnimationControllerã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;çœ‹ç¬¬äºŒæ­¥ï¼Œæ¯ä¸ªåŠ¨ç”»éƒ½éœ€è¦è¿™ä¸ªæ­¥éª¤ï¼Œå› æ­¤å¯¹å…¶å°è£…ï¼Œå‘½åä¸º MyAnimatedWidgetï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class MyAnimatedWidget extends StatefulWidget {
  final AnimationController controller;
  final Widget child;

  const MyAnimatedWidget(
      {Key key, @required this.controller, @required  this.child})
      : super(key: key);

  @override
  _MyAnimatedWidgetState createState() =&amp;gt; _MyAnimatedWidgetState();
}

class _MyAnimatedWidgetState extends State&amp;lt;MyAnimatedWidget&amp;gt; {
  @override
  void initState() {
    super.initState();
    widget.controller.addListener(() {
      setState(() {});
    });
  }

  @override
  Widget build(BuildContext context) {
    return widget.child;
  }
        
  @override
  void dispose() {
    super.dispose();
    widget.controller.dispose();
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è‡ªå®šä¹‰çš„åŠ¨ç”»ç»„ä»¶åªæœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ç›‘å¬ AnimationControllerï¼Œè°ƒç”¨ &lt;code&gt;setState&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾ AnimationControllerã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;è€Œ AnimationController çš„åˆ›å»ºéœ€è¦å¼€å‘è€…è‡ªè¡Œåˆ›å»ºï¼Œä¸ºä»€ä¹ˆå°è£…åœ¨è‡ªå®šä¹‰ç»„ä»¶å†…ï¼Ÿè¿™ä¸ªåé¢ä¼šä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªç»„ä»¶ä¸ç”¨æˆ‘ä»¬è‡ªå·±å°è£…ï¼Œå› ä¸ºç³»ç»Ÿå·²ç»å°è£…å¥½äº†ï¼Œåœ¨å­¦ä¹  Flutter çš„è¿‡ç¨‹ä¸­è‡ªå®šä¹‰ç»„ä»¶æ˜¯éå¸¸é‡è¦çš„ï¼Œå› æ­¤å¤šå°è£…ä¸€äº›ç»„ä»¶ï¼Œå³ä½¿æ˜¯ç³»ç»Ÿå·²ç»å­˜åœ¨çš„ï¼Œç”¨è‡ªå·±å’Œç³»ç»Ÿçš„è¿›è¡Œå¯¹æ¯”ï¼Œå¯ä»¥æå¤§çš„æé«˜æˆ‘ä»¬è‡ªå®šä¹‰ç»„ä»¶çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿå°è£…çš„ç±»ä¼¼ä¸Šé¢çš„ç»„ä»¶æ˜¯ &lt;strong&gt;AnimatedWidget&lt;/strong&gt;ï¼Œæ­¤ç±»æ˜¯æŠ½è±¡ç±»ï¼Œæºä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064024003-443987302.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ol readability=&quot;3.5&quot;&gt;&lt;li readability=&quot;7&quot;&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨ ç›‘å¬ AnimationControllerï¼Œè°ƒç”¨ &lt;code&gt;setState&lt;/code&gt; ï¼Œè€Œç³»ç»Ÿä½¿ç”¨ &lt;strong&gt;Listenable&lt;/strong&gt;ï¼ŒListenable æ˜¯ä¸€ä¸ªç»´æŠ¤ä¾¦å¬å™¨åˆ—è¡¨çš„å¯¹è±¡ï¼Œç”¨äºé€šçŸ¥å®¢æˆ·ç«¯è¯¥å¯¹è±¡å·²è¢«æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;Listenable æœ‰ä¸¤ä¸ªå˜ä½“ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;strong&gt;ValueListenable&lt;/strong&gt; ï¼šæ‰©å±•[Listenable]æ¥å£çš„æ¥å£ï¼Œå…·æœ‰å½“å‰å€¼çš„æ¦‚å¿µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Animation&lt;/strong&gt;ï¼šä¸€ä¸ªæ‰©å±•[ValueListenable]æ¥å£çš„æ¥å£ï¼Œæ·»åŠ æ–¹å‘ï¼ˆæ­£å‘æˆ–åå‘ï¼‰çš„æ¦‚å¿µã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;AnimationController çš„ç»§æ‰¿ç»“æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064024344-73742644.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;AnimationController ä¹Ÿæ˜¯ç»§æ‰¿è‡ª Listenableï¼Œå› æ­¤ä½¿ç”¨ Listenable é€‚ç”¨çš„èŒƒå›´æ›´å¹¿ï¼Œä¸ä»…ä»…å¯ä»¥ç”¨äº Animation ï¼Œè¿˜å¯ä»¥ç”¨äº ChangeNotifierã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;ç”±äºä½¿ç”¨äº† Listenableï¼Œå› æ­¤ç›‘å¬å’Œé‡Šæ”¾ä½¿ç”¨&lt;code&gt;listenable.addListener&lt;/code&gt; å’Œ &lt;code&gt;listenable.removeListener&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;AnimatedWidget æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå…¶å­ç±»åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064024624-84255965.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ &lt;strong&gt;ScaleTransition&lt;/strong&gt; ä¸ºä¾‹ä½¿ç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class AnimationDemo extends StatefulWidget {
  @override
  State&amp;lt;StatefulWidget&amp;gt; createState() =&amp;gt; _AnimationDemo();
}

class _AnimationDemo extends State&amp;lt;AnimationDemo&amp;gt;
    with SingleTickerProviderStateMixin {
  AnimationController _animationController;
  Animation _animation;

  @override
  void initState() {
    _animationController =
        AnimationController(duration: Duration(seconds: 2), vsync: this);

    _animation = Tween(begin: .5, end: .1).animate(_animationController);

    //å¼€å§‹åŠ¨ç”»
    _animationController.forward();
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return ScaleTransition(
      scale: _animation,
      child: Container(
        height: 200,
        width: 200,
        color: Colors.red,
      ),
    );
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064024829-623230035.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å’Œã€åŠ¨ç”»æ ¸å¿ƒã€‘ä¸­å†™æ³•å”¯ä¸€çš„ä¸åŒæ˜¯ä¸éœ€è¦ä¸»åŠ¨è°ƒç”¨ &lt;code&gt;setState&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;AnimatedWidget å…¶ä»–å­ç±»çš„ç”¨æ³•ç±»ä¼¼ï¼Œä¸åœ¨ä¸€ä¸€ä»‹ç»ï¼Œå…¶ä»–ç»„ä»¶çš„è¯¦ç»†ç”¨æ³•å¯åˆ° &lt;a href=&quot;http://laomengit.com/flutter/widgets/widgets_structure.html&quot;&gt;http://laomengit.com/flutter/widgets/widgets_structure.html&lt;/a&gt; ä¸­æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;éšå¼åŠ¨ç”»ç»„ä»¶&quot;&gt;éšå¼åŠ¨ç”»ç»„ä»¶&lt;/h2&gt;
&lt;p&gt;AnimatedWidget åªæ˜¯å°è£…äº† &lt;code&gt;setState&lt;/code&gt;ï¼Œç³»ç»Ÿæ˜¯å¦æœ‰å°è£… AnimationControllerã€Tweenã€Curveä¸”è‡ªåŠ¨ç®¡ç†AnimationControllerçš„ç»„ä»¶å‘¢ï¼Ÿæœ‰çš„ï¼Œæ­¤ç»„ä»¶å°±æ˜¯ &lt;strong&gt;ImplicitlyAnimatedWidget&lt;/strong&gt;ï¼ŒImplicitlyAnimatedWidget ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶å­ç±»åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064025213-254862451.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ &lt;strong&gt;AnimatedOpacity&lt;/strong&gt; ä¸ºä¾‹ä½¿ç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class AnimatedWidgetDemo extends StatefulWidget {
  @override
  _AnimatedWidgetDemoState createState() =&amp;gt; _AnimatedWidgetDemoState();
}

class _AnimatedWidgetDemoState extends State&amp;lt;AnimatedWidgetDemo&amp;gt; {
  double _opacity = 1.0;

  @override
  Widget build(BuildContext context) {
    return Center(
      child: AnimatedOpacity(
        opacity: _opacity,
        duration: Duration(seconds: 2),
        child: GestureDetector(
          onTap: () {
            setState(() {
              _opacity = 0;
            });
          },
          child: Container(
            height: 60,
            width: 150,
            color: Colors.blue,
          ),
        ),
      ),
    );
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064025520-757869135.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ AnimatedOpacity æˆ‘ä»¬å¹¶æ²¡æœ‰ä¸»åŠ¨åˆ›å»º AnimationController å’Œ Tweenï¼Œæ˜¯å› ä¸º AnimatedOpacity å†…éƒ¨å·²ç»åˆ›å»ºäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åˆ«çœ‹ Flutter å†…ç½®äº†20å¤šç§åŠ¨ç”»ç»„ä»¶ï¼Œ90% éƒ½æ˜¯å¯¹ä¸Šé¢ä¸¤ç§æ–¹å¼çš„å°è£…ï¼Œåˆ†åˆ«ç§°ä¸ºéšå¼åŠ¨ç”»ç»„ä»¶ å’Œ æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;éšå¼åŠ¨ç”»ç»„ä»¶&lt;/strong&gt;ï¼šåªéœ€æä¾›ç»™ç»„ä»¶åŠ¨ç”»å¼€å§‹ã€ç»“æŸå€¼ï¼Œç»„ä»¶åˆ›å»º AnimationControllerã€Curveã€Tweenï¼Œæ‰§è¡ŒåŠ¨ç”»ï¼Œé‡Šæ”¾AnimationControllerï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºéšå¼åŠ¨ç”»ç»„ä»¶ï¼Œéšå¼åŠ¨ç”»ç»„ä»¶æœ‰ï¼š &lt;strong&gt;AnimatedAlign&lt;/strong&gt;ã€&lt;strong&gt;AnimatedContainer&lt;/strong&gt;ã€&lt;strong&gt;AnimatedDefaultTextStyle&lt;/strong&gt;ã€&lt;strong&gt;AnimatedOpacity&lt;/strong&gt;ã€&lt;strong&gt;AnimatedPadding&lt;/strong&gt;ã€&lt;strong&gt;AnimatedPhysicalModel&lt;/strong&gt;ã€&lt;strong&gt;AnimatedPositioned&lt;/strong&gt;ã€&lt;strong&gt;AnimatedPositionedDirectional&lt;/strong&gt;ã€&lt;strong&gt;AnimatedTheme&lt;/strong&gt;ã€&lt;strong&gt;SliverAnimatedOpacity&lt;/strong&gt;ã€&lt;strong&gt;TweenAnimationBuilder&lt;/strong&gt;ã€&lt;strong&gt;AnimatedContainer&lt;/strong&gt; ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶&lt;/strong&gt;ï¼šéœ€è¦è®¾ç½® AnimationControllerï¼Œæ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œï¼Œä½¿ç”¨æ˜¾å¼åŠ¨ç”»å¯ä»¥å®Œæˆä»»ä½•éšå¼åŠ¨ç”»çš„æ•ˆæœï¼Œç”šè‡³åŠŸèƒ½æ›´ä¸°å¯Œä¸€äº›ï¼Œä¸è¿‡ä½ éœ€è¦ç®¡ç†è¯¥åŠ¨ç”»çš„ AnimationController ç”Ÿå‘½å‘¨æœŸï¼ŒAnimationController å¹¶ä¸æ˜¯ä¸€ä¸ªæ§ä»¶ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶æ”¾åœ¨ stateful æ§ä»¶ä¸­ã€‚æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶æœ‰ï¼š&lt;strong&gt;AlignTransition&lt;/strong&gt;ã€&lt;strong&gt;AnimatedBuilder&lt;/strong&gt;ã€&lt;strong&gt;AnimatedModalBarrier&lt;/strong&gt;ã€&lt;strong&gt;DecoratedBoxTransition&lt;/strong&gt;ã€&lt;strong&gt;DefaultTextStyleTransition&lt;/strong&gt;ã€&lt;strong&gt;PositionedTransition&lt;/strong&gt;ã€&lt;strong&gt;RelativePositionedTransition&lt;/strong&gt;ã€&lt;strong&gt;RotationTransition&lt;/strong&gt;ã€&lt;strong&gt;ScaleTransition&lt;/strong&gt;ã€&lt;strong&gt;SizeTransition&lt;/strong&gt;ã€&lt;strong&gt;SlideTransition&lt;/strong&gt; ã€&lt;strong&gt;FadeTransition&lt;/strong&gt; ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¸éš¾çœ‹å‡ºï¼Œä½¿ç”¨éšå¼åŠ¨ç”»æ§ä»¶ï¼Œä»£ç æ›´ç®€å•ï¼Œè€Œä¸”æ— éœ€ç®¡ç† AnimationController çš„ç”Ÿå‘½å‘¨æœŸï¼Œæœ‰äººè§‰å¾—éšå¼åŠ¨ç”»ç»„ä»¶å¤šæ–¹ä¾¿å•Šï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶å‘¢ï¼Ÿå› ä¸ºï¼š&lt;strong&gt;å°è£…çš„è¶Šå¤æ‚ï¼Œä½¿ç”¨è¶Šç®€å•ï¼Œå¾€å¾€ä¼´éšç€åŠŸèƒ½è¶Šä¸ä¸°å¯Œã€‚&lt;/strong&gt;æ¯”å¦‚æƒ³è®©åŠ¨ç”»ä¸€ç›´é‡å¤æ‰§è¡Œï¼Œéšå¼åŠ¨ç”»ç»„ä»¶æ˜¯æ— æ³•å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶å’Œéšå¼åŠ¨ç”»ç»„ä»¶ä¸­å„æœ‰ä¸€ä¸ªä¸‡èƒ½çš„ç»„ä»¶ï¼Œå®ƒä»¬æ˜¯ &lt;strong&gt;AnimatedBuilder&lt;/strong&gt; å’Œ &lt;strong&gt;TweenAnimationBuilder&lt;/strong&gt;ï¼Œå½“ç³»ç»Ÿä¸­ä¸å­˜åœ¨æˆ‘ä»¬æƒ³è¦çš„åŠ¨ç”»ç»„ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªç»„ä»¶ï¼Œä»¥ AnimatedBuilder ä¸ºä¾‹ï¼Œå®ç° Container å¤§å°å’Œé¢œè‰²åŒæ—¶åŠ¨ç”»ï¼Œ&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-dart&quot;&gt;class AnimatedBuilderDemo extends StatefulWidget {
  @override
  _AnimatedBuilderDemoState createState() =&amp;gt; _AnimatedBuilderDemoState();
}

class _AnimatedBuilderDemoState extends State&amp;lt;AnimatedBuilderDemo&amp;gt;
    with SingleTickerProviderStateMixin {
  AnimationController _controller;
  Animation&amp;lt;Color&amp;gt; _colorAnimation;
  Animation&amp;lt;Size&amp;gt; _sizeAnimation;

  @override
  void initState() {
    _controller =
        AnimationController(vsync: this, duration: Duration(seconds: 2));

    _colorAnimation =
        ColorTween(begin: Colors.blue, end: Colors.red).animate(_controller);
    _sizeAnimation =
        SizeTween(begin: Size(100.0, 50.0), end: Size(200.0, 100.0))
            .animate(_controller);

    _controller.forward();
    super.initState();
  }

  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Center(
      child: AnimatedBuilder(
        animation: _controller,
        builder: (context, widget) {
          return Container(
            width: _sizeAnimation.value.width,
            height: _sizeAnimation.value.height,
            color: _colorAnimation.value,
          );
        },
      ),
    );
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064025972-1486978650.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AnimatedBuilder&lt;/strong&gt; å’Œ &lt;strong&gt;TweenAnimationBuilder&lt;/strong&gt; æœ¬è´¨ä¸Šå’Œå…¶ä»–åŠ¨ç”»ç»„ä»¶æ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯ç»™äº†æˆ‘ä»¬æ›´é«˜çš„çµæ´»æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦‚ä½•é€‰å–&quot;&gt;å¦‚ä½•é€‰å–&lt;/h2&gt;
&lt;p&gt;Flutter å†…ç½®çš„åŠ¨ç”»ç»„ä»¶åˆ†ä¸ºä¸¤ç§ï¼š&lt;strong&gt;éšå¼åŠ¨ç”»ç»„ä»¶&lt;/strong&gt; å’Œ &lt;strong&gt;æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶&lt;/strong&gt; ï¼Œæ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶åªå°è£…äº† &lt;code&gt;setState&lt;/code&gt; æ–¹æ³•ï¼Œéœ€è¦å¼€å‘è€…åˆ›å»º AnimationControllerï¼Œå¹¶ç®¡ç† AnimationControllerã€‚éšå¼åŠ¨ç”»ç»„ä»¶å°è£…äº† AnimationControllerã€Curveã€Tweenï¼Œåªéœ€æä¾›ç»™ç»„ä»¶åŠ¨ç”»å¼€å§‹ã€ç»“æŸå€¼ï¼Œå…¶ä½™ç”±ç³»ç»Ÿç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;éšå¼åŠ¨ç”»ç»„ä»¶å¯ä»¥å®Œæˆæ•ˆæœï¼Œæ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶éƒ½å¯ä»¥å®Œæˆï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä½¿ç”¨éšå¼åŠ¨ç”»ç»„ä»¶ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;åˆ¤æ–­ä½ çš„åŠ¨ç”»ç»„ä»¶æ˜¯å¦ä¸€ç›´é‡å¤ï¼Œæ¯”å¦‚ä¸€ç›´è½¬åœˆçš„loadingåŠ¨ç”»ï¼Œå¦‚æœæ˜¯é€‰æ‹©æ˜¾å¼åŠ¨ç”»ã€‚&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­ä½ çš„åŠ¨ç”»ç»„ä»¶æ˜¯å¦éœ€è¦å¤šä¸ªç»„ä»¶è”åŠ¨ï¼Œå¦‚æœæ˜¯é€‰æ‹©æ˜¾å¼åŠ¨ç”»ã€‚&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­ä½ çš„åŠ¨ç”»ç»„ä»¶æ˜¯å¦éœ€è¦ç»„åˆåŠ¨ç”»ï¼Œå¦‚æœæ˜¯é€‰æ‹©æ˜¾å¼åŠ¨ç”»ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸Šé¢ä¸‰ä¸ªæ¡ä»¶éƒ½æ˜¯å¦ï¼Œå°±é€‰æ‹©éšå¼åŠ¨ç”»ç»„ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»å†…ç½®åŠ¨ç”»ç»„ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨ TweenAnimationBuilderï¼Œæœ‰å°±ç›´æ¥ä½¿ç”¨å†…ç½®åŠ¨ç”»ç»„ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ˜¾å¼åŠ¨ç”»ç»„ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»å†…ç½®åŠ¨ç”»ç»„ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨ AnimatedBuilderï¼Œæœ‰å°±ç›´æ¥ä½¿ç”¨å†…ç½®åŠ¨ç”»ç»„ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;é€»è¾‘å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064026245-462589891.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªç®€å•çš„åŒºåˆ†åŠæ³•ï¼šå¦‚æœä½ çš„åŠ¨ç”»ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼ŒåŠ¨ç”»ä»ä¸€ç§çŠ¶æ€è¿‡æ¸¡åˆ°å¦ä¸€ç§çŠ¶æ€ï¼Œä¸éœ€è¦å•ç‹¬æ§åˆ¶ AnimationControllerï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œéšå¼åŠ¨ç”»ç»„ä»¶ä¸€èˆ¬å¯ä»¥å°±å¯ä»¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä¹Ÿæ²¡æœ‰å¿…è¦ç‰¹åˆ«çº ç»“ä½¿ç”¨éšå¼åŠ¨ç”»ç»„ä»¶è¿˜æ˜¯æ˜¾ç¤ºåŠ¨ç”»ç»„ä»¶ï¼Œä¸ç®¡ä½¿ç”¨å“ªä¸€ç§ï¼Œå®ç°æ•ˆæœå³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;äº¤æµ&quot;&gt;äº¤æµ&lt;/h2&gt;
&lt;p&gt;è€å­ŸFlutteråšå®¢åœ°å€ï¼ˆ330ä¸ªæ§ä»¶ç”¨æ³•ï¼‰ï¼š&lt;a href=&quot;http://laomengit.com&quot;&gt;http://laomengit.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿åŠ å…¥Flutteräº¤æµç¾¤ï¼ˆå¾®ä¿¡ï¼šlaomengitï¼‰ã€å…³æ³¨å…¬ä¼—å·ã€è€å­ŸFlutterã€‘ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th/&gt;
&lt;th/&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064026493-734376921.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/467322/202008/467322-20200819064026803-1173183616.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</description>
<pubDate>Tue, 18 Aug 2020 22:40:00 +0000</pubDate>
<dc:creator>è€å­ŸFlutter</dc:creator>
<og:description>è€å­Ÿå¯¼è¯»ï¼šæ­¤ç¯‡æ–‡ç« æ˜¯ Flutter åŠ¨ç”»ç³»åˆ—æ–‡ç« ç¬¬ä¸‰ç¯‡ï¼Œåç»­è¿˜æœ‰åŠ¨ç”»åºåˆ—ã€è¿‡åº¦åŠ¨ç”»ã€è½¬åœºåŠ¨ç”»ã€è‡ªå®šä¹‰åŠ¨ç”»ç­‰ã€‚ Flutter ç³»ç»Ÿæä¾›äº†20å¤šä¸ªåŠ¨ç”»ç»„ä»¶ï¼Œåªè¦ä½ æŠŠå‰é¢ã€åŠ¨ç”»æ ¸å¿ƒã€‘(æ–‡æœ«æœ‰é“¾æ¥)çš„æ–‡ç« </og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/mengqd/p/13527110.html</dc:identifier>
</item>
<item>
<title>ã€è¯‘ã€‘New experimental Razor editor for Visual Studio - MeteorSeed</title>
<link>http://www.cnblogs.com/MeteorSeed/p/13527029.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MeteorSeed/p/13527029.html</guid>
<description>&lt;p&gt;éšç€ Visual Studio 2019 16.7 Preview 4 çš„å‘å¸ƒï¼Œç°åœ¨å¯ä»¥å°è¯•æˆ‘ä»¬æ–°çš„å®éªŒæ€§Razorç¼–è¾‘å™¨ï¼Œç”¨äºæœ¬åœ°å¼€å‘ï¼ŒåŒ…æ‹¬ MVCã€Razor Page å’Œ Blazorã€‚æˆ‘ä»¬å¾ˆæœŸå¾…ä½ æ¥è¯•ä¸€è¯•ï¼&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;123.61739054596&quot;&gt;
&lt;p&gt;ã€€ã€€éšç€ Visual Studio 2019 16.7 Preview 4 çš„å‘å¸ƒï¼Œç°åœ¨å¯ä»¥å°è¯•æˆ‘ä»¬æ–°çš„å®éªŒæ€§ Razor ç¼–è¾‘å™¨ï¼Œç”¨äºæœ¬åœ°å¼€å‘ï¼ŒåŒ…æ‹¬ MVCã€Razor Page å’Œ Blazorã€‚æˆ‘ä»¬å¾ˆæœŸå¾…ä½ æ¥è¯•ä¸€è¯•ï¼&lt;/p&gt;

&lt;p&gt;ã€€ã€€è¦åœ¨ Visual Studio 2019 16.7 Preview 4 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨æ–°çš„å®éªŒæ€§ Razor ç¼–è¾‘å™¨ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1. å®‰è£…æœ€æ–°ç‰ˆ Visual Studio&lt;/p&gt;
&lt;p&gt;ã€€ã€€2. ç‚¹å‡» &lt;strong&gt;Tools&lt;/strong&gt; &amp;gt; &lt;strong&gt;Options&lt;/strong&gt; &amp;gt; &lt;strong&gt;Environment&lt;/strong&gt; &amp;gt; &lt;strong&gt;Preview Features&lt;/strong&gt;ï¼Œå‹¾é€‰Enable experimental Razor editor é€‰é¡¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/270073/202008/270073-20200819011838846-1596732727.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€3. ç‚¹å‡» OK å¹¶é‡å¯ Visual Studio&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¦‚æ­¤ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨æ–°çš„ Razor ç¼–è¾‘å™¨ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€Razor æ˜¯ä¸€ç§åŸºäº HTML å’Œ C# çš„æ¨¡æ¿è¯­è¨€ï¼Œç”¨äºä¸ºåŸºäº MVCã€Razor Page å’Œ Blazor çš„ .NET Web åº”ç”¨ç¨‹åºå®šä¹‰åŠ¨æ€å‘ˆç°é€»è¾‘ã€‚åœ¨ MVC å’Œ Razor é¡µé¢åº”ç”¨ç¨‹åºä¸­ï¼Œä½ ä½¿ç”¨ Razor æ¥å®šä¹‰è§†å›¾å’Œé¡µé¢çš„å‘ˆç°é€»è¾‘ .cshtml æ–‡ä»¶ã€‚åœ¨ Blazor ä¸­ï¼Œä½¿ç”¨ Razor åœ¨ .razor æ–‡ä»¶ä¸­ç¼–å†™å¯é‡ç”¨çš„ UI ç»„ä»¶ã€‚Razor æ˜¯ä½¿ç”¨ .NET æ„å»º Web åº”ç”¨ç¨‹åºçš„ä½“éªŒä¸­è‡³å…³é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½ ç°åœ¨å¯ä»¥å°è¯•ä¸€ä¸‹ Razorï¼Œç”¨Â ASP.NET CoreÂ æˆ–Â Blazor æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªWeb åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€Razor çš„éƒ¨åˆ†ä»·å€¼åœ¨äº Visual Studio ä¸ºç¼–è¾‘ Razor æ–‡ä»¶æä¾›äº†ä¸°å¯Œçš„å·¥å…·ä½“éªŒã€‚Visual Studio ç°åœ¨åœ¨åŒä¸€ä¸ª Razor æ–‡ä»¶ä¸­ä¸º HTMLã€CSSã€JavaScriptã€C# å’Œ Razor ç‰¹å®šè¯­æ³•æä¾›äº†æ™ºèƒ½æ„ŸçŸ¥ã€è‡ªåŠ¨å®Œæˆå’Œè¯Šæ–­ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€Visual Studio åšäº†ä¸€äº›å·§å¦™çš„æ“ä½œï¼Œä»¥åœ¨ Razor æ–‡ä»¶ä¸­åŒæ—¶å¯ç”¨å¯¹æ‰€æœ‰è¿™äº›è¯­è¨€çš„ç¼–è¾‘å™¨æ”¯æŒã€‚å¯¹ Razor æ–‡æ¡£è¿›è¡Œè§£æä»¥ç¡®å®šå…¶ç»„æˆéƒ¨åˆ†ï¼Œç„¶åå°†æ¯ä¸ªéƒ¨åˆ†æŠ•å½±åˆ°ä¸€ä¸ªç§°ä¸ºæŠ•å½±ç¼“å†²åŒºçš„ç‰¹å®šäºè¯­è¨€çš„ç¼“å†²åŒºä¸­ã€‚åœ¨ Visual Studio ä¸­ç¼–è¾‘ Razor æ–‡æ¡£æ—¶ï¼Œæ‚¨çœ‹åˆ°çš„æ˜¯è¿™äº›æŠ•å½±ç¼“å†²åŒºä¸­çš„ä¸€ç»„å°çª—å£ï¼Œå®ƒä»¬ç»„æˆäº†ä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ã€‚ç„¶åï¼Œæ¯ä¸ªè¯­è¨€æœåŠ¡åˆ†åˆ«ä¸ºæ¯ä¸ªç‹¬ç«‹çš„æŠ•å½±ç¼“å†²åŒºå¤„ç†ç¼–è¾‘ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸‹é¢Razorä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@{
    ViewData[&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;] = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;About&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
}
&lt;/span&gt;&amp;lt;script type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/javascript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;&lt;span&gt;
    alert(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Hello, World!&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€Visual Studio å¤„ç† Razor ä»£ç çš„æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/270073/202008/270073-20200819011920040-1901948511.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™ä¸ªé¡¹ç›®ç¼“å†²åŒºè®¾ç½®åœ¨ Visual Studio å’Œ Mac çš„ Visual Studio ä¸­å·¥ä½œå¾—å¾ˆå¥½ï¼Œä½†æ˜¯å¯¹äºè¿œç¨‹ç¼–è¾‘åœºæ™¯ï¼Œæ¯”å¦‚ Visual Studio LiveShare æˆ– Visual Studio Codespacesï¼Œå®ƒå°±æœ‰é—®é¢˜äº†ã€‚å®ƒä¹Ÿä¸èƒ½ç”¨äºæ²¡æœ‰æŠ•å½±ç¼“å†²åŒºæ”¯æŒçš„ç¼–è¾‘å™¨ï¼Œæ¯”å¦‚ Visual Studio Codeã€‚ç”±äº Razor ç¼–è¾‘å™¨ç¼ºå°‘ä¸­å¤®ç¼–é…å™¨ï¼Œå¦‚æœä¸ä»”ç»†åè°ƒå„ç§è¯­è¨€æœåŠ¡å®ç°ï¼ˆå› ä¸ºå®ƒä»¬åœ¨æŠ•å½±åœºæ™¯ä¸­æ§åˆ¶è‡ªå·±çš„ä½“éªŒï¼‰ï¼Œå°±å¾ˆéš¾å¯ç”¨æ–°ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä¸ºäº†æ›´å¹¿æ³›åœ°æ”¯æŒ Razor ç¼–è¾‘ï¼Œæˆ‘ä»¬å·²ç»ä¸ºä¸€ä¸ªåŸºäº Razor è¯­è¨€æœåŠ¡å™¨çš„ ASP.NET Core é¡¹ç›®çš„æ–°çš„ Razor ç¼–è¾‘å™¨å·¥ä½œäº†ä¸€æ®µæ—¶é—´ã€‚è¿™ä¸ªæ–°çš„ Razor è¯­è¨€æœåŠ¡å™¨é€šè¿‡ LSPï¼ˆLanguage Server Protocolï¼‰å®ç°äº†ä¸€äº›ç¼–è¾‘å™¨ç‰¹æ€§ï¼Œæ¯”å¦‚è‡ªåŠ¨å®Œæˆã€è½¬åˆ°å®šä¹‰ç­‰ï¼ŒLSP ä¸ºç¼–è¾‘å™¨æˆ– IDE å®šä¹‰äº†ä¸€ç§å¯ç”¨è¿™äº›ç‰¹æ€§çš„æ ‡å‡†æ–¹æ³•ã€‚ç„¶åä¸€ä¸ª IDE ç‰¹å®šçš„ Razor æ‰©å±•ç”¨äºå¤„ç†ä¸ Razor è¯­è¨€æœåŠ¡å™¨ä»¥åŠå…¶ä»– HTML å’Œ C# è¯­è¨€æœåŠ¡å™¨çš„åè°ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/270073/202008/270073-20200819012024791-891657695.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™ä¸ªæ–°çš„ Razor è¯­è¨€æœåŠ¡å™¨å·²ç»ä½œä¸º C# æ‰©å±•çš„ä¸€éƒ¨åˆ†åœ¨ Visual Studio ä»£ç ä¸­å¯ç”¨äº†å¯¹ Razor çš„æ”¯æŒã€‚å®ƒå°†æ˜¯ Visual Studio Codespaces å’Œ Visual Studio LiveShare æ”¯æŒ Razor ç¼–è¾‘çš„åŸºç¡€ã€‚ç°åœ¨å¯ä»¥åœ¨ Visual Studio ä¸­ä½œä¸ºé¢„è§ˆç‰¹æ€§è¿›è¡Œæœ¬åœ°å¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç›®å‰ï¼Œæˆ‘ä»¬çš„é‡ç‚¹æ˜¯ä½¿æ–°çš„åŸºäº LSP çš„ Razor ç¼–è¾‘å™¨åœ¨åŠŸèƒ½ä¸Šä¸ç°æœ‰çš„ Visual Studio Razor ç¼–è¾‘ä½“éªŒç›¸åŒï¼ˆå¦‚ä¸‹æ‰€è¿°ï¼Œä»ç„¶æœ‰ä¸€äº›åŠŸèƒ½ä¸Šçš„å·®è·éœ€è¦è§£å†³ï¼‰ã€‚åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æ·»åŠ é‡è¦çš„æ–°åŠŸèƒ½æ¥å¡«è¡¥è¿™äº›åŠŸèƒ½ç©ºç™½ï¼Œæ¯”å¦‚ä¸º Razor å¸¦æ¥æ›´å¤šçš„ C# ç¼–è¾‘ç‰¹æ€§ï¼Œä»¥åŠå…¶ä»–é’ˆå¯¹ Razor çš„ç”Ÿäº§åŠ›æ”¹è¿›ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æ–°çš„ Razor ç¼–è¾‘å™¨ç›®å‰è¿˜å¤„äºè¯•éªŒé˜¶æ®µï¼Œæœ‰ä¸€äº›å·²çŸ¥çš„é™åˆ¶ã€‚ä¸‹é¢çš„Razorç¼–è¾‘å™¨åŠŸèƒ½è¿˜æ²¡æœ‰å®Œå…¨å®ç°ï¼Œå°†åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å¢åŠ ï¼š&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;
&lt;ul&gt;&lt;li&gt;
&lt;ul readability=&quot;6.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ”¯æŒ JavaScript å’Œ CSS çš„æ™ºèƒ½æ„ŸçŸ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;C#ã€JavaScriptã€CSSã€Blazor ç»„ä»¶ã€Tag Helper å’Œ tooltip çš„é¢œè‰²è®¾ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;æ ¼å¼åŒ–ä»…é™äº @code å’Œ @functions å—ä¸­çš„ C# ä»£ç ï¼ˆæ²¡æœ‰åµŒå…¥ HTML æ ‡è®°æˆ– Razor è¯­æ³•ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;HTML ä¸­æ”¯æŒ URL é€‰æ‹©å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;C# ä»£ç æ®µï¼ˆâ€œpropâ€ã€â€œctorâ€ç­‰ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;å¤æ‚çš„ C# è‡ªåŠ¨å®Œæˆï¼ˆä¾‹å¦‚ï¼Œç”Ÿæˆ overrideï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä» C# åˆ° Razor çš„å®šä¹‰/å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;C# æ–‡ä»¶ä¸­çš„é‡å‘½åä¸ä¼šä¼ æ’­åˆ°Razoræ–‡ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;HTML å’Œ { } ä¸­åŒ¹é…æ ‡è¯†ç¬¦é«˜äº®æ˜¾ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ã€€ã€€16.7 Preview 4 ä¸­æ–°çš„ Razor ç¼–è¾‘å™¨ä¹Ÿæœ‰ä¸€äº›åŠŸèƒ½é—®é¢˜ï¼Œè¿™äº›é—®é¢˜å°†åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­è§£å†³ï¼š&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;
&lt;ul&gt;&lt;li&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;C# ä¸­æ ‡è¯†é”™è¯¯çš„æ³¢æµªçº¿å¯èƒ½æ˜¯å¯¹ä¸é½&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ç”±äºåœ¨ Razor æ–‡ä»¶ä¸­ä¸å¿…è¦åœ°ä½¿ç”¨æŒ‡ä»¤è€ŒæŠ¥å‘Šäº†ä¸å¿…è¦çš„ä¿¡æ¯é”™è¯¯&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;Blazor ç»„ä»¶å’Œ Tag Helper ç°åœ¨çš„é¢œè‰²å’Œ C# ç±»ä¸€æ ·ï¼Œä¸å— Tag Helper é¢œè‰²é€‰é¡¹çš„æ§åˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ã€€ã€€å¯¹äº Visual Studio ä¸­æ–°çš„åŸºäº LSP çš„ Razor ç¼–è¾‘ä½“éªŒæ¥è¯´ï¼Œç°åœ¨è¿˜å¤„äºæ—©æœŸé˜¶æ®µã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å®ƒå–ä»£ Visual Studio ä¸­ç°æœ‰çš„ Razor ç¼–è¾‘ç»éªŒä¹‹å‰ï¼Œè¿˜æœ‰å¾ˆå¤šå·¥ä½œè¦åšã€‚æ–°çš„ Razor å·¥å…·åœ¨ 16.7 ä¸­ä»ç„¶æ˜¯å¯é€‰çš„å’Œå®éªŒæ€§çš„ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å®ƒæˆä¸ºé»˜è®¤çš„ Razor ç¼–è¾‘å™¨ï¼Œç›´åˆ°å®ƒçš„åŠŸèƒ½è¶…è¿‡äº†ç°æœ‰çš„ç¼–è¾‘å™¨ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›å°½æ—©ä¸ä½ åˆ†äº«æˆ‘ä»¬çš„è¿›å±•ï¼Œä»¥ä¾¿å¼€å§‹è·å¾—ä½ å¯¹æ–° Razor ç¼–è¾‘å™¨å·¥ä½œæƒ…å†µçš„åé¦ˆã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬æä¾›æœ€å¥½çš„ Razor ç¼–è¾‘ç»éªŒï¼Œè¯·å°è¯•æ–°çš„ Razor å·¥å…·å¹¶è®©æˆ‘ä»¬çŸ¥é“ä½ çš„æƒ³æ³•ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ GitHub ä¸Šåˆ†äº«ä½ çš„åé¦ˆã€‚æˆ‘ä»¬æ„Ÿè°¢ä½ çš„åé¦ˆï¼&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;a href=&quot;https://devblogs.microsoft.com/aspnet/new-experimental-razor-editor-for-visual-studio/&quot; target=&quot;_blank&quot;&gt;&lt;em&gt;https://devblogs.microsoft.com/aspnet/new-experimental-razor-editor-for-visual-studio/&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;</description>
<pubDate>Tue, 18 Aug 2020 17:47:00 +0000</pubDate>
<dc:creator>MeteorSeed</dc:creator>
<og:description>éšç€ Visual Studio 2019 16.7 Preview 4 çš„å‘å¸ƒï¼Œç°åœ¨å¯ä»¥å°è¯•æˆ‘ä»¬æ–°çš„å®éªŒæ€§Razorç¼–è¾‘å™¨ï¼Œç”¨äºæœ¬åœ°å¼€å‘ï¼ŒåŒ…æ‹¬ MVCã€Razor Page å’Œ Blazorã€‚æˆ‘ä»¬å¾ˆ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/MeteorSeed/p/13527029.html</dc:identifier>
</item>
<item>
<title>OptaPlannerçš„æ–°çº¦æŸè¡¨è¾¾æ–¹å¼ Constraint Streams - kentzhang</title>
<link>http://www.cnblogs.com/kentzhang/p/13527040.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kentzhang/p/13527040.html</guid>
<description>&lt;p&gt;ã€€ã€€æœ‰å¥½äº›æ—¶é—´æ²¡æœ‰å†™è¿‡å…³äºOptaPlannerçš„ä¸œè¥¿äº†ï¼Œå…¶å®è¿‘åŠå¹´æ¥ï¼ŒOptaPlannerè¿˜æ˜¯æ¨å‡ºäº†ä¸å°‘æœ‰ç”¨ã€å¥½ç”¨çš„æ–°ç‰¹æ€§ã€‚åŒ…æ‹¬æœ¬æ–‡è®²åˆ°çš„ä»¥Streamæ¥å£å®ç°è¯„åˆ†ç¼–ç¨‹ã€‚å…³äºOptraPlannerçš„çº¦æŸè¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹èµ„æ–™.&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ã€€ã€€æœ€è¿‘å‡ ä¸ªç‰ˆæœ¬æ¨å‡ºçš„æ–°åŠŸèƒ½ã€ç‰¹æ€§ä¸­ï¼Œæœ‰ä¸å°‘åŠŸèƒ½è¿˜å¤„äºåˆå§‹æ¢ç´¢é˜¶æ®µï¼Œç”šè‡³æœ‰äº›åŠŸèƒ½è¿˜æœªæˆä½“ç³»ï¼ŒåŒ…æ‹¬æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ä»¶ä¸­æ¨å‡ºçš„SolverMangerå®ç°æ‰¹é‡å¼‚æ­¥è§„åˆ’ã€‚æ­¤åŠŸèƒ½å°šæœªæ”¯æŒProblemChangedæ¥å£ï¼Œä»è€Œæ— æ³•å®ç°Realtime Planning. å› æ­¤ï¼Œè‹¥éœ€è¦å°†è¿™äº›åŠŸèƒ½åº”ç”¨äºé¡¹ç›®å®è·µï¼Œè¿˜è¯·è‡ªè¡Œä½œè¯¦ç»†è°ƒæŸ¥åˆ†æï¼Œä»¥å…åœ¨é¡¹ç›®ä¸­å¤„äºè¿›é€€ä¸¤éš¾å¢ƒåœ°ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;PS. ä»»ä½•æŠ€æœ¯éƒ½ä¸€æ ·ï¼ŒåŠŸèƒ½ã€ç‰ˆæœ¬è¶Šæ–°ï¼Œå¸¦æ¥çš„æ”¶ç›Šè¶Šé«˜ï¼Œå½“ç„¶éœ€è¦é¢å¯¹çš„é£é™©ä¹Ÿè¶Šé«˜ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¯¹OptaPlanneræœ‰åˆæ­¥è®¤è¯†éƒ½æ¸…æ¥šï¼Œæˆ‘ä»¬ä½¿ç”¨OptaPlannerè§„åˆ’å»ºæ¨¡æ—¶ï¼Œéœ€è¦åœ¨æ¨¡å‹ä¸­è¡¨è¾¾ä¸€ç³»åˆ—çº¦æŸï¼Œä»¥æè¿°å„ä¸ªä¸šåŠ¡å®ä½“çš„çº¦æŸå’Œè§„åˆ’çš„ä¼˜åŒ–ç›®æ ‡ã€‚ä»¥å¾€é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼å®ç°è¯„åˆ†é€»è¾‘ï¼ˆè¯¦ç»†å¯åˆ†ä¸º3ç§ï¼‰ã€‚åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;1. é€šè¿‡Droolsè„šæœ¬ä¸­çš„Ruleæ¥æè¿°çº¦æŸå¹¶è¿›è¡Œè¯„åˆ†ï¼›&lt;/p&gt;
&lt;p&gt;2. é€šè¿‡Javaç¼–å†™è¯„åˆ†é€»è¾‘ï¼Œé€šè¿‡Javaç¼–è¾‘è¯„åˆ†é€»è¾‘åˆåˆ†ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â 2.1. Javaç®€æ˜“è¯„åˆ† - Easy Java score calculation&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Â  Â 2.2. Javaå¢é‡è¯„åˆ† - Incremental Java score calculation&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä»7.31ç‰ˆæœ¬å¼€å§‹æä¾›çš„constraint streamså±äºJavaå¢é‡è¯„åˆ†çš„ä¸€ç§ã€‚åœ¨æ™®é€šçš„Javaå¢é‡è¯„åˆ†ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹å„ä¸ªçº¦æŸé€»è¾‘ï¼Œç¼–è¾‘ç›¸åº”çš„åˆ¤æ–­ï¼Œå¹¶åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶åï¼Œé€šè¿‡ScoreHolderå¯¹è±¡è¿›è¡Œè®°åˆ†ã€‚å¼•æ“ä¼šå°†å„ä¸ªå±‚æ¬¡çš„åˆ†æ•°è¿›è¡Œç´¯åŠ ï¼Œæˆä¸ºå½“å‰æ–¹æ¡ˆçš„æ€»åˆ†ã€‚Constraint Streamsçš„åŸç†ä¹Ÿä¸€æ ·ï¼Œåªæ˜¯é€šè¿‡å¼ºå¤§çš„Streamç‰¹æ€§ï¼Œä»¤è¯„åˆ†é€»è¾‘æ›´ä¸ºç®€æ´ï¼Œä½¿ç”¨æ›´çŸ­çš„ä»£ç å³å¯å®ç°æ›´ä¸°å¯Œçš„é€»è¾‘æè¿°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å…³äºJavaçš„Streamç‰¹æ€§(Java1.8åŠä»¥åçš„ç‰ˆæœ¬æ‰å‡ºç°ï¼‰çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯è‡ªè¡Œé€šè¿‡å…¶å®ƒç½‘ç»œèµ„æºå­¦ä¹ ï¼Œæœ¬æ–‡å‡è®¾è¯»è€…ç†Ÿæ‚‰Java Streamçš„å„ç§ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä»¥ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è¯´æ˜Constraint streamsæ¥å£çš„ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doNotAssignAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getShiftList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isEmployeeAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€é€šè¿‡ä¸Šè¿°ä»£ç å—æ˜¯ä¸€Javaç®€æ˜“è¯„åˆ†çš„ç¤ºä¾‹ï¼Œä»æ–¹æ³•ådoNotAssignAnnå°±å¾ˆå®¹æ˜“ç†è§£åˆ°ï¼Œè¯¥çº¦æŸçš„ä½œç”¨æ˜¯â€œä½¿å¾—ä»»åŠ¡ä¸è¦åˆ†é…ç»™Annâ€ã€‚æˆ‘ä»¬çŸ¥é“åœ¨OptaPlanneré‡Œï¼Œè¯„åˆ†é€šå¸¸éƒ½æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºæƒ©ç½šä¸€ä¸ªè¡Œä¸ºï¼Œä»¤å¼•æ“æ‰¾å‡ºå°½å¯èƒ½è§„é¿è¿™ç§è¡Œä¸ºçš„æ–¹æ¡ˆã€‚ç¤ºä¾‹ä¸­ä½¿ç”¨äº†Javaçš„StreamåŠŸèƒ½è¿›è¡Œåˆ¤æ–­å’Œè¿‡æ»¤ã€‚å…¶é€»è¾‘æ˜¯ï¼šä»ç­æ¬¡åˆ—è¡¨ä¸­æ‰¾å‡ºæ‰€æœ‰åˆ†é…ç»™äº†Annçš„ç­æ¬¡ï¼Œå¯¹æ¯ä¸€ä¸ªæ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ç­æ¬¡è¿›è¡Œæ‰£åˆ†ï¼Œå¹¶æŠŠåˆ†æ•°åŠ æ€»ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é‚£ä¹ˆåŒæ ·çš„çº¦æŸè¦æ±‚ï¼Œä½¿ç”¨Constraint Streamåº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿè§ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doNotAssignAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isEmployeeAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Don't assign Ann&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_SOFT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€å…ˆè¦æé†’ä¸€ä¸‹ï¼Œä¸Javaç®€å•è¯„åˆ†æ³•ç±»ä¼¼ï¼ˆè¯„åˆ†ç±»éœ€è¦å®ç°EasyScoreCalculatoræ¥å£ï¼‰ï¼ŒOptaPlannerçš„Constraint Streamæä¾›ä¸€ä¸ªåä¸ºConstraintProviderçš„æ¥å£ï¼Œå®ç°è¯„åˆ†çš„ç±»éœ€è¦å®ç°è¿™ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£åªæœ‰ä¸€ä¸ªéœ€è¦å®ç°çš„æ–¹æ³• - defineConstraintsï¼Œå®ƒä¼ å…¥ConstrantFactoryç±»ï¼Œè¿”å›ä¸€ä¸ªConstraintæ•°ç»„ï¼Œæ•°ç»„çš„å…ƒç´ å°±æ˜¯å·²è¿›è¡Œäº†è¯„åˆ†å’Œæƒ©ç½šçš„å„ä¸ªçº¦æŸå¯¹è±¡ã€‚ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒdoNotAssignAnnæ–¹æ³•è¿”å›ä¸€ä¸ªConstraintå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡è¡¨ç¤ºäº†å¯¹Annè¢«åˆ†é…åˆ°çš„ç­æ¬¡æ•°çš„æƒ©ç½šåˆ†æ•°ã€‚ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ConstraintFactoryçš„å¯¹è±¡factoryè¿›è¡ŒStreamæ“ä½œï¼Œä¸€æ­¥å³å¯å®Œæˆåˆ¤æ–­ã€è¿‡æ»¤å’Œæƒ©ç½šä¸‰ä¸ªæ“ä½œï¼Œå®Œæˆè¿™äº›æ“ä½œåä¼šå¾—åˆ°ä¸€ä¸ªæ“ä½œè¿‡çš„Contraintå¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡å³å¯ã€‚ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯¹äºfactoryçš„ä¸‰æ­¥æ“ä½œä¹Ÿç›¸å½“æ˜äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½†æ˜¯å¯¹äºä¸€äº›æ›´å¤æ‚çš„åˆ¤æ–­ï¼Œå…¶å®ç°æ­¥éª¤ä¸æ¨¡å¼ä¹Ÿä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦ç¼–å†™ä¸€äº›æ›´å¤æ‚çš„Lambdaè¡¨è¾¾å¼æ¥è¿›è¡Œåˆ¤æ–­ã€è¿‡æ»¤å’Œå„ç§è¿ç®—ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;  &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getComputer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getRequiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;requiredCpuPowerTotal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_HARD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€è¯¥ä»£ç æ˜¯CloudBalanceä¸­ç”¨äºï¼Œè®¡ç®—é™åˆ¶ä¸€å°è®¡åˆ’æœºè¢«åˆ†é…è¶…å‡ºå…¶CPUè¿ç®—èƒ½åŠ›çš„çº¦æŸã€‚å¤§å®¶å¯ä»¥å›æƒ³ï¼Œæˆ–ä»å®˜æ–¹ç¤ºä¾‹ä¸­çœ‹ä¸€ä¸‹CloudBalanceçš„å…¶ä¸­ä¸€ä¸ªæœ€åŸºæœ¬çº¦æŸ - æ¯å°è®¡ç®—æœºæ‰€åˆ†å¾—çš„CPUéœ€æ±‚ï¼Œä¸å¯è¶…è¿‡è¯¥è®¡ç®—æœºçš„å¯ç”¨CPUèƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å› æ­¤ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œfactoryé™¤äº†è¿‡fromæ“ä½œè·å¾—æ‰€æœ‰Processå¯¹è±¡ï¼Œé€šè¿‡filterå¯¹Processè¿›è¡Œè¿‡æ»¤ï¼Œé€šè¿‡penalizeè¿›è¡Œè®¡åˆ†å¤–ã€‚factoryå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªgroupByæ–¹æ³•ï¼Œç”¨äºå¯¹æ‰€æœ‰Processä¸­çš„Computerè¿›è¡Œåˆ†ç»„å¹¶åŠ æ€»æ¯ä¸€ç»„ï¼ˆå³æ¯ä¸ªComputerï¼‰çš„æ‰€æœ‰CPUè®¡ç®—èƒ½åŠ›éœ€æ±‚é‡ã€‚å› æ­¤ï¼Œåœ¨filteræ–¹æ³•ä¸­ï¼Œå°±æ‰¾å‡ºé‚£äº›è¶…å‡ºCPUèƒ½åŠ›çš„Computerï¼ˆå³åˆ†ç»„ï¼‰ï¼Œåœ¨penalizeæ–¹æ³•ä¸­ï¼Œå¯¹æ•´æ‰€æœ‰è¶…å‡ºCPUéœ€æ±‚ä¸­çš„è®¡ç®—è¿›è¡Œæ‰£åˆ†ï¼Œæ‰£åˆ†å€¼æ˜¯è¶…å‡ºéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç”±æ­¤å¯èƒ½ï¼ŒOptaPlanneræä¾›çš„Constraint Streamå¯ä»¥è¿›è¡Œæ›´å¤æ‚çš„æ¡ä»¶åˆ¤æ–­ï¼Œè‡³äºè¿™ç§æ–¹æ³•æ˜¯å¦æ›´å¥½ç”¨ï¼Œå°±å–å†³äºå¤§å®¶å¯¹Streamï¼ˆç±»ä¼¼C#ä¸­çš„Linqï¼‰çš„ç†Ÿæ‚‰ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è‡³äºæ•´ä¸ªConstraint Streamä»£ç çš„ç»“æœæ–¹å¼ï¼Œå³ä¸Šé¢æåˆ°çš„å®ç°ConstraintProvideræ¥å£çš„ä»£ç å¦‚ä¸‹(æ‘˜è‡ªå®˜æ–¹ç¤ºä¾‹CloudBalance)ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;18&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CloudBalancingConstraintProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ConstraintProvider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;defineConstraints&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredMemoryTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredNetworkBandwidthTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;computerCost&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// ************************************************************************
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// Hard constraints
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// ************************************************************************
&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getComputer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getRequiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;requiredCpuPowerTotal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_HARD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€é‡å¤æç¤ºä¸€ä¸‹ï¼ŒConstraint StreamåŠŸèƒ½æ˜¯7.31ç‰ˆæ‰å¼€å§‹æä¾›çš„åŠŸèƒ½ï¼Œä»åŠŸèƒ½æ¥å£ä¸Šåº”è¯¥æ˜¯æœªå¤ŸæˆåŠŸçš„ï¼Œå¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­å®ç°ä¸€äº›æ›´ä¸ºå¤æ‚çš„çº¦æŸæè¿°ï¼Œå»ºè®®æš‚æ—¶è¿˜æ˜¯ä¸è¦ç›´æ¥ä½¿ç”¨ã€‚åœ¨OptaPlannerçš„ç”¨æˆ·æ‰‹å†Œä¸­ï¼Œä¹Ÿæœ‰ç›¸å…³çš„æç¤ºï¼›å¤§å®¶çœ‹æƒ…å†µè€Œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic4.zhimg.com/80/v2-612afc3109ffc5a71f9805622429856a_720w.png&quot; width=&quot;1138&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1138&quot; data-rawheight=&quot;131&quot; data-original=&quot;https://pic4.zhimg.com/v2-612afc3109ffc5a71f9805622429856a_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-612afc3109ffc5a71f9805622429856a_b.png&quot; data-lazy-status=&quot;ok&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æœ€è¿‘ä¸€æ®µæ—¶é—´OptaPlanneræ›´æ–°ç®—æ¯”è¾ƒé¢‘ç¹ï¼Œä½†ä»ç½‘ç«™ä¸Šçš„æ›´æ–°å†…å®¹çœ‹åˆ°ï¼Œå¾ˆå¤šç‰ˆæœ¬å°½ç®¡éš”äº†å¾ˆé•¿æ—¶é—´ï¼Œä½†æ¥å£ä¸Šçš„æ›´æ–°å†…å®¹å´ä¸å¤šã€‚æˆ‘å‘GeoffreyæŸ¥è¯¢è¿‡ï¼Œä»–è¡¨ç¤ºè¿™äº›ç‰ˆæœ¬æ›´å¤šçš„æƒ…å†µæ˜¯åœ¨å®ç°ä¸€äº›å¼•æ“å†…éƒ¨çš„ä¼˜åŒ–å’Œä¸€äº›æ–°çš„å†…éƒ¨è¿ç®—åŠŸèƒ½ï¼Œä½†è¿™äº›åŠŸèƒ½ä¸ä¸€å®šåæ˜ åˆ°APIä¸Šï¼Œå› æ­¤å¯¹äºæˆ‘ä»¬ä½¿ç”¨è€…æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ã€‚å¯æ˜¯å¦‚æœå¤§å®¶ä¹Ÿè·Ÿè¿›å°†OptaPlannerçš„ç¨‹åºåŒ…ä¹Ÿæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå°±ä¼šå‘ç°ï¼Œå¾ˆå¤šä¸€äº›å¸¸ç”¨çš„æ¥å£ã€æ–¹æ³•ï¼Œéƒ½å·²ç»è¢«æ ‡å‡†ä¸ºå°†ä¸ºæ”¾å¼ƒï¼Œä»Javadocsä¸Šå¯ä»¥çœ‹åˆ°ä¸€äº›å½“å‰ç‰ˆæœ¬è¢«æ ‡è¯†ä¸º&lt;span&gt;@Deprecated&lt;/span&gt;çš„æ–¹æ³•ã€æˆå‘˜ï¼Œå·²æ˜ç¡®è¯´æ˜å°†åœ¨8.xä¸­åœæ­¢ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸Šè¿°åŠŸèƒ½å¸Œæœ›å¯ä»¥å¸®å¤§å®¶ç†è§£å¹¶åº”ç”¨OptaPlannerçš„ç¬¬å››ç§è¯„åˆ†æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å¥½äº›æ—¶é—´æ²¡æœ‰å†™è¿‡å…³äºOptaPlannerçš„ä¸œè¥¿äº†ï¼Œå…¶å®è¿‘åŠå¹´æ¥ï¼ŒOptaPlannerè¿˜æ˜¯æ¨å‡ºäº†ä¸å°‘æœ‰ç”¨ã€å¥½ç”¨çš„æ–°ç‰¹æ€§ã€‚åŒ…æ‹¬æœ¬æ–‡è®²åˆ°çš„ä»¥Streamæ¥å£å®ç°è¯„åˆ†ç¼–ç¨‹ã€‚å…³äºOptraPlannerçš„çº¦æŸè¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹èµ„æ–™ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;LinkCard LinkCard--noImage&quot; href=&quot;https://link.zhihu.com/?target=https%3A//docs.optaplanner.org/7.41.0.Final/optaplanner-docs/html_single/index.html%23constraintStreams&quot; target=&quot;_blank&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-za-detail-view-id=&quot;172&quot;&gt;&lt;span class=&quot;LinkCard-content&quot;&gt;&lt;span class=&quot;LinkCard-text&quot;&gt;&lt;span class=&quot;LinkCard-title&quot; data-text=&quot;true&quot;&gt;Constraint streams score calculation&lt;/span&gt;&lt;span class=&quot;LinkCard-meta&quot;&gt;&lt;span&gt;â€‹&lt;/span&gt;docs.optaplanner.org&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å‡ ä¸ªç‰ˆæœ¬æ¨å‡ºçš„æ–°åŠŸèƒ½ã€ç‰¹æ€§ä¸­ï¼Œæœ‰ä¸å°‘åŠŸèƒ½è¿˜å¤„äºåˆå§‹æ¢ç´¢é˜¶æ®µï¼Œç”šè‡³æœ‰äº›åŠŸèƒ½è¿˜æœªæˆä½“ç³»ï¼ŒåŒ…æ‹¬æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ä»¶ä¸­æ¨å‡ºçš„SolverMangerå®ç°æ‰¹é‡å¼‚æ­¥è§„åˆ’ã€‚æ­¤åŠŸèƒ½å°šæœªæ”¯æŒProblemChangedæ¥å£ï¼Œä»è€Œæ— æ³•å®ç°Realtime Planning. å› æ­¤ï¼Œè‹¥éœ€è¦å°†è¿™äº›åŠŸèƒ½åº”ç”¨äºé¡¹ç›®å®è·µï¼Œè¿˜è¯·è‡ªè¡Œä½œè¯¦ç»†è°ƒæŸ¥åˆ†æï¼Œä»¥å…åœ¨é¡¹ç›®ä¸­å¤„äºè¿›é€€ä¸¤éš¾å¢ƒåœ°ã€‚&lt;/p&gt;
&lt;p&gt;PS. ä»»ä½•æŠ€æœ¯éƒ½ä¸€æ ·ï¼ŒåŠŸèƒ½ã€ç‰ˆæœ¬è¶Šæ–°ï¼Œå¸¦æ¥çš„æ”¶ç›Šè¶Šé«˜ï¼Œå½“ç„¶éœ€è¦é¢å¯¹çš„é£é™©ä¹Ÿè¶Šé«˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹OptaPlanneræœ‰åˆæ­¥è®¤è¯†éƒ½æ¸…æ¥šï¼Œæˆ‘ä»¬ä½¿ç”¨OptaPlannerè§„åˆ’å»ºæ¨¡æ—¶ï¼Œéœ€è¦åœ¨æ¨¡å‹ä¸­è¡¨è¾¾ä¸€ç³»åˆ—çº¦æŸï¼Œä»¥æè¿°å„ä¸ªä¸šåŠ¡å®ä½“çš„çº¦æŸå’Œè§„åˆ’çš„ä¼˜åŒ–ç›®æ ‡ã€‚ä»¥å¾€é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼å®ç°è¯„åˆ†é€»è¾‘ï¼ˆè¯¦ç»†å¯åˆ†ä¸º3ç§ï¼‰ã€‚åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;é€šè¿‡Droolsè„šæœ¬ä¸­çš„Ruleæ¥æè¿°çº¦æŸå¹¶è¿›è¡Œè¯„åˆ†ï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡Javaç¼–å†™è¯„åˆ†é€»è¾‘ï¼Œé€šè¿‡Javaç¼–è¾‘è¯„åˆ†é€»è¾‘åˆåˆ†ä¸ºï¼š
&lt;ol&gt;&lt;li&gt;Javaç®€æ˜“è¯„åˆ† - Easy Java score calculation&lt;/li&gt;
&lt;li&gt;Javaå¢é‡è¯„åˆ† - Incremental Java score calculation&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä»7.31ç‰ˆæœ¬å¼€å§‹æä¾›çš„constraint streamså±äºJavaå¢é‡è¯„åˆ†çš„ä¸€ç§ã€‚åœ¨æ™®é€šçš„Javaå¢é‡è¯„åˆ†ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹å„ä¸ªçº¦æŸé€»è¾‘ï¼Œç¼–è¾‘ç›¸åº”çš„åˆ¤æ–­ï¼Œå¹¶åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶åï¼Œé€šè¿‡ScoreHolderå¯¹è±¡è¿›è¡Œè®°åˆ†ã€‚å¼•æ“ä¼šå°†å„ä¸ªå±‚æ¬¡çš„åˆ†æ•°è¿›è¡Œç´¯åŠ ï¼Œæˆä¸ºå½“å‰æ–¹æ¡ˆçš„æ€»åˆ†ã€‚Constraint Streamsçš„åŸç†ä¹Ÿä¸€æ ·ï¼Œåªæ˜¯é€šè¿‡å¼ºå¤§çš„Streamç‰¹æ€§ï¼Œä»¤è¯„åˆ†é€»è¾‘æ›´ä¸ºç®€æ´ï¼Œä½¿ç”¨æ›´çŸ­çš„ä»£ç å³å¯å®ç°æ›´ä¸°å¯Œçš„é€»è¾‘æè¿°ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºJavaçš„Streamç‰¹æ€§(Java1.8åŠä»¥åçš„ç‰ˆæœ¬æ‰å‡ºç°ï¼‰çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯è‡ªè¡Œé€šè¿‡å…¶å®ƒç½‘ç»œèµ„æºå­¦ä¹ ï¼Œæœ¬æ–‡å‡è®¾è¯»è€…ç†Ÿæ‚‰Java Streamçš„å„ç§ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä»¥ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è¯´æ˜Constraint streamsæ¥å£çš„ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doNotAssignAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getShiftList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isEmployeeAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;softScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡ä¸Šè¿°ä»£ç å—æ˜¯ä¸€Javaç®€æ˜“è¯„åˆ†çš„ç¤ºä¾‹ï¼Œä»æ–¹æ³•ådoNotAssignAnnå°±å¾ˆå®¹æ˜“ç†è§£åˆ°ï¼Œè¯¥çº¦æŸçš„ä½œç”¨æ˜¯â€œä½¿å¾—ä»»åŠ¡ä¸è¦åˆ†é…ç»™Annâ€ã€‚æˆ‘ä»¬çŸ¥é“åœ¨OptaPlanneré‡Œï¼Œè¯„åˆ†é€šå¸¸éƒ½æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºæƒ©ç½šä¸€ä¸ªè¡Œä¸ºï¼Œä»¤å¼•æ“æ‰¾å‡ºå°½å¯èƒ½è§„é¿è¿™ç§è¡Œä¸ºçš„æ–¹æ¡ˆã€‚ç¤ºä¾‹ä¸­ä½¿ç”¨äº†Javaçš„StreamåŠŸèƒ½è¿›è¡Œåˆ¤æ–­å’Œè¿‡æ»¤ã€‚å…¶é€»è¾‘æ˜¯ï¼šä»ç­æ¬¡åˆ—è¡¨ä¸­æ‰¾å‡ºæ‰€æœ‰åˆ†é…ç»™äº†Annçš„ç­æ¬¡ï¼Œå¯¹æ¯ä¸€ä¸ªæ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ç­æ¬¡è¿›è¡Œæ‰£åˆ†ï¼Œå¹¶æŠŠåˆ†æ•°åŠ æ€»ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåŒæ ·çš„çº¦æŸè¦æ±‚ï¼Œä½¿ç”¨Constraint Streamåº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿè§ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doNotAssignAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Shift&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isEmployeeAnn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Don't assign Ann&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_SOFT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…ˆè¦æé†’ä¸€ä¸‹ï¼Œä¸Javaç®€å•è¯„åˆ†æ³•ç±»ä¼¼ï¼ˆè¯„åˆ†ç±»éœ€è¦å®ç°EasyScoreCalculatoræ¥å£ï¼‰ï¼ŒOptaPlannerçš„Constraint Streamæä¾›ä¸€ä¸ªåä¸ºConstraintProviderçš„æ¥å£ï¼Œå®ç°è¯„åˆ†çš„ç±»éœ€è¦å®ç°è¿™ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£åªæœ‰ä¸€ä¸ªéœ€è¦å®ç°çš„æ–¹æ³• - defineConstraintsï¼Œå®ƒä¼ å…¥ConstrantFactoryç±»ï¼Œè¿”å›ä¸€ä¸ªConstraintæ•°ç»„ï¼Œæ•°ç»„çš„å…ƒç´ å°±æ˜¯å·²è¿›è¡Œäº†è¯„åˆ†å’Œæƒ©ç½šçš„å„ä¸ªçº¦æŸå¯¹è±¡ã€‚ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒdoNotAssignAnnæ–¹æ³•è¿”å›ä¸€ä¸ªConstraintå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡è¡¨ç¤ºäº†å¯¹Annè¢«åˆ†é…åˆ°çš„ç­æ¬¡æ•°çš„æƒ©ç½šåˆ†æ•°ã€‚ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ConstraintFactoryçš„å¯¹è±¡factoryè¿›è¡ŒStreamæ“ä½œï¼Œä¸€æ­¥å³å¯å®Œæˆåˆ¤æ–­ã€è¿‡æ»¤å’Œæƒ©ç½šä¸‰ä¸ªæ“ä½œï¼Œå®Œæˆè¿™äº›æ“ä½œåä¼šå¾—åˆ°ä¸€ä¸ªæ“ä½œè¿‡çš„Contraintå¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡å³å¯ã€‚ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯¹äºfactoryçš„ä¸‰æ­¥æ“ä½œä¹Ÿç›¸å½“æ˜äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¯¹äºä¸€äº›æ›´å¤æ‚çš„åˆ¤æ–­ï¼Œå…¶å®ç°æ­¥éª¤ä¸æ¨¡å¼ä¹Ÿä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦ç¼–å†™ä¸€äº›æ›´å¤æ‚çš„Lambdaè¡¨è¾¾å¼æ¥è¿›è¡Œåˆ¤æ–­ã€è¿‡æ»¤å’Œå„ç§è¿ç®—ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;  &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getComputer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getRequiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;requiredCpuPowerTotal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_HARD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¯¥ä»£ç æ˜¯CloudBalanceä¸­ç”¨äºï¼Œè®¡ç®—é™åˆ¶ä¸€å°è®¡åˆ’æœºè¢«åˆ†é…è¶…å‡ºå…¶CPUè¿ç®—èƒ½åŠ›çš„çº¦æŸã€‚å¤§å®¶å¯ä»¥å›æƒ³ï¼Œæˆ–ä»å®˜æ–¹ç¤ºä¾‹ä¸­çœ‹ä¸€ä¸‹CloudBalanceçš„å…¶ä¸­ä¸€ä¸ªæœ€åŸºæœ¬çº¦æŸ - æ¯å°è®¡ç®—æœºæ‰€åˆ†å¾—çš„CPUéœ€æ±‚ï¼Œä¸å¯è¶…è¿‡è¯¥è®¡ç®—æœºçš„å¯ç”¨CPUèƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œfactoryé™¤äº†è¿‡fromæ“ä½œè·å¾—æ‰€æœ‰Processå¯¹è±¡ï¼Œé€šè¿‡filterå¯¹Processè¿›è¡Œè¿‡æ»¤ï¼Œé€šè¿‡penalizeè¿›è¡Œè®¡åˆ†å¤–ã€‚factoryå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªgroupByæ–¹æ³•ï¼Œç”¨äºå¯¹æ‰€æœ‰Processä¸­çš„Computerè¿›è¡Œåˆ†ç»„å¹¶åŠ æ€»æ¯ä¸€ç»„ï¼ˆå³æ¯ä¸ªComputerï¼‰çš„æ‰€æœ‰CPUè®¡ç®—èƒ½åŠ›éœ€æ±‚é‡ã€‚å› æ­¤ï¼Œåœ¨filteræ–¹æ³•ä¸­ï¼Œå°±æ‰¾å‡ºé‚£äº›è¶…å‡ºCPUèƒ½åŠ›çš„Computerï¼ˆå³åˆ†ç»„ï¼‰ï¼Œåœ¨penalizeæ–¹æ³•ä¸­ï¼Œå¯¹æ•´æ‰€æœ‰è¶…å‡ºCPUéœ€æ±‚ä¸­çš„è®¡ç®—è¿›è¡Œæ‰£åˆ†ï¼Œæ‰£åˆ†å€¼æ˜¯è¶…å‡ºéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯èƒ½ï¼ŒOptaPlanneræä¾›çš„Constraint Streamå¯ä»¥è¿›è¡Œæ›´å¤æ‚çš„æ¡ä»¶åˆ¤æ–­ï¼Œè‡³äºè¿™ç§æ–¹æ³•æ˜¯å¦æ›´å¥½ç”¨ï¼Œå°±å–å†³äºå¤§å®¶å¯¹Streamï¼ˆç±»ä¼¼C#ä¸­çš„Linqï¼‰çš„ç†Ÿæ‚‰ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºæ•´ä¸ªConstraint Streamä»£ç çš„ç»“æœæ–¹å¼ï¼Œå³ä¸Šé¢æåˆ°çš„å®ç°ConstraintProvideræ¥å£çš„ä»£ç å¦‚ä¸‹(æ‘˜è‡ªå®˜æ–¹ç¤ºä¾‹CloudBalance)ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;18&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CloudBalancingConstraintProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ConstraintProvider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;defineConstraints&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredMemoryTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;requiredNetworkBandwidthTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;computerCost&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// ************************************************************************
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// Hard constraints
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// ************************************************************************
&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Constraint&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;requiredCpuPowerTotal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ConstraintFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraintFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getComputer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CloudProcess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getRequiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;penalize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;requiredCpuPowerTotal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;HardSoftScore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONE_HARD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requiredCpuPower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;computer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCpuPower&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é‡å¤æç¤ºä¸€ä¸‹ï¼ŒConstraint StreamåŠŸèƒ½æ˜¯7.31ç‰ˆæ‰å¼€å§‹æä¾›çš„åŠŸèƒ½ï¼Œä»åŠŸèƒ½æ¥å£ä¸Šåº”è¯¥æ˜¯æœªå¤ŸæˆåŠŸçš„ï¼Œå¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­å®ç°ä¸€äº›æ›´ä¸ºå¤æ‚çš„çº¦æŸæè¿°ï¼Œå»ºè®®æš‚æ—¶è¿˜æ˜¯ä¸è¦ç›´æ¥ä½¿ç”¨ã€‚åœ¨OptaPlannerçš„ç”¨æˆ·æ‰‹å†Œä¸­ï¼Œä¹Ÿæœ‰ç›¸å…³çš„æç¤ºï¼›å¤§å®¶çœ‹æƒ…å†µè€Œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic4.zhimg.com/80/v2-612afc3109ffc5a71f9805622429856a_720w.png&quot; width=&quot;1138&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1138&quot; data-rawheight=&quot;131&quot; data-original=&quot;https://pic4.zhimg.com/v2-612afc3109ffc5a71f9805622429856a_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-612afc3109ffc5a71f9805622429856a_b.png&quot; data-lazy-status=&quot;ok&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ä¸€æ®µæ—¶é—´OptaPlanneræ›´æ–°ç®—æ¯”è¾ƒé¢‘ç¹ï¼Œä½†ä»ç½‘ç«™ä¸Šçš„æ›´æ–°å†…å®¹çœ‹åˆ°ï¼Œå¾ˆå¤šç‰ˆæœ¬å°½ç®¡éš”äº†å¾ˆé•¿æ—¶é—´ï¼Œä½†æ¥å£ä¸Šçš„æ›´æ–°å†…å®¹å´ä¸å¤šã€‚æˆ‘å‘GeoffreyæŸ¥è¯¢è¿‡ï¼Œä»–è¡¨ç¤ºè¿™äº›ç‰ˆæœ¬æ›´å¤šçš„æƒ…å†µæ˜¯åœ¨å®ç°ä¸€äº›å¼•æ“å†…éƒ¨çš„ä¼˜åŒ–å’Œä¸€äº›æ–°çš„å†…éƒ¨è¿ç®—åŠŸèƒ½ï¼Œä½†è¿™äº›åŠŸèƒ½ä¸ä¸€å®šåæ˜ åˆ°APIä¸Šï¼Œå› æ­¤å¯¹äºæˆ‘ä»¬ä½¿ç”¨è€…æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ã€‚å¯æ˜¯å¦‚æœå¤§å®¶ä¹Ÿè·Ÿè¿›å°†OptaPlannerçš„ç¨‹åºåŒ…ä¹Ÿæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå°±ä¼šå‘ç°ï¼Œå¾ˆå¤šä¸€äº›å¸¸ç”¨çš„æ¥å£ã€æ–¹æ³•ï¼Œéƒ½å·²ç»è¢«æ ‡å‡†ä¸ºå°†ä¸ºæ”¾å¼ƒï¼Œä»Javadocsä¸Šå¯ä»¥çœ‹åˆ°ä¸€äº›å½“å‰ç‰ˆæœ¬è¢«æ ‡è¯†ä¸º&lt;span&gt;@Deprecated&lt;/span&gt;çš„æ–¹æ³•ã€æˆå‘˜ï¼Œå·²æ˜ç¡®è¯´æ˜å°†åœ¨8.xä¸­åœæ­¢ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬ç³»åˆ—æ–‡ç« åœ¨å…¬ä¼—å·ä¸å®šæ—¶è¿è½½ï¼Œè¯·å…³æ³¨å…¬ä¼—å·ï¼ˆè®©APSæˆä¸ºå¯èƒ½ï¼‰åŠæ—¶æ¥æ”¶,äºŒç»´ç ï¼š&lt;/p&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;Â &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic3.zhimg.com/80/v2-ece8f48f45bb8a2a69bf8925efb6791e_hd.jpg&quot; alt=&quot;&quot; width=&quot;400&quot; class=&quot;content_image lazy&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;400&quot; data-rawheight=&quot;400&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-ece8f48f45bb8a2a69bf8925efb6791e_b.jpg&quot; data-lazy-status=&quot;ok&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;å¦‚éœ€äº†è§£æ›´å¤šå…³äºOptaplannerçš„åº”ç”¨ï¼Œè¯·å‘ç”µé‚®è‡´ï¼š&lt;a href=&quot;mailto:kentbill@gmail.com&quot;&gt;kentbill@gmail.com&lt;/a&gt;&lt;br/&gt;æˆ–åˆ°è®¨è®ºç»„å‘è¡¨ä½ çš„æ„è§ï¼š&lt;a class=&quot; external&quot; href=&quot;https://link.zhihu.com/?target=https%3A//groups.google.com/forum/%23%21forum/optaplanner-cn&quot; rel=&quot;nofollow noreferrer&quot; target=&quot;_blank&quot; data-za-detail-view-id=&quot;1043&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;span class=&quot;visible&quot;&gt;groups.google.com/forum&lt;span class=&quot;invisible&quot;&gt;/#!forum/optaplanner-cn&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;è‹¥æœ‰éœ€è¦å¯æ·»åŠ æœ¬äººå¾®ä¿¡ï¼ˆ13631823503ï¼‰æˆ–QQ(12977379)å®æ—¶æ²Ÿé€šï¼Œä½†å› æœ¬äººæ—¥å¸¸å·¥ä½œç¹å¿™ï¼Œé€šè¿‡å¾®ä¿¡,QQç­‰å·¥å…·å¯èƒ½æ— æ³•æ·±å…¥æ²Ÿé€šï¼Œè¾ƒå¤æ‚çš„é—®é¢˜ï¼Œå»ºè®®ä»¥é‚®ä»¶æˆ–è®¨è®ºç»„æ–¹å¼æå‡ºã€‚(è®¨è®ºç»„å±äºgoogleé‚®ä»¶åˆ—è¡¨ï¼Œå›½å†…ç½‘ç»œå¯èƒ½è¾ƒéš¾è®¿é—®ï¼Œéœ€è‡ªè¡Œè§£å†³)&lt;/p&gt;

&lt;p&gt;ä¸Šè¿°åŠŸèƒ½å¸Œæœ›å¯ä»¥å¸®å¤§å®¶ç†è§£å¹¶åº”ç”¨OptaPlannerçš„ç¬¬å››ç§è¯„åˆ†æ–¹å¼ã€‚&lt;/p&gt;
</description>
<pubDate>Tue, 18 Aug 2020 17:25:00 +0000</pubDate>
<dc:creator>kentzhang</dc:creator>
<og:description>æœ‰å¥½äº›æ—¶é—´æ²¡æœ‰å†™è¿‡å…³äºOptaPlannerçš„ä¸œè¥¿äº†ï¼Œå…¶å®è¿‘åŠå¹´æ¥ï¼ŒOptaPlannerè¿˜æ˜¯æ¨å‡ºäº†ä¸å°‘æœ‰ç”¨ã€å¥½ç”¨çš„æ–°ç‰¹æ€§ã€‚åŒ…æ‹¬æœ¬æ–‡è®²åˆ°çš„ä»¥Streamæ¥å£å®ç°è¯„åˆ†ç¼–ç¨‹ã€‚å…³äºOptraPlannerçš„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kentzhang/p/13527040.html</dc:identifier>
</item>
</channel>
</rss>