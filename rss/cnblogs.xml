<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>SpringBoot 2.xï¼ˆä¹ï¼‰ï¼šé‡åˆ°è·¨åŸŸä¸å†æ…Œ - Viçš„æŠ€æœ¯åšå®¢</title>
<link>http://www.cnblogs.com/viyoung/p/10285786.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/viyoung/p/10285786.html</guid>
<description>&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯è·¨åŸŸ&quot;&gt;ä»€ä¹ˆæ˜¯è·¨åŸŸ&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ä¸€ä¸ªURLæ˜¯æ€ä¹ˆç»„æˆçš„ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;// åè®® + åŸŸåï¼ˆå­åŸŸå + ä¸»åŸŸåï¼‰ + ç«¯å£å· + èµ„æºåœ°å€&lt;br/&gt;http: + // + www.baidu.com + :8080/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åªè¦&lt;strong&gt;åè®®ï¼Œå­åŸŸåï¼Œä¸»åŸŸåï¼Œç«¯å£å·&lt;/strong&gt;è¿™å››é¡¹ç»„æˆéƒ¨åˆ†ä¸­æœ‰ä¸€é¡¹ä¸åŒï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸åŒçš„åŸŸï¼Œä¸åŒçš„åŸŸä¹‹é—´äº’ç›¸è®¿é—®èµ„æºï¼Œå°±è¢«ç§°ä¹‹ä¸ºè·¨åŸŸã€‚&lt;/p&gt;
&lt;p&gt;éšç€å‰åç«¯åˆ†ç¦»å¼€å‘çš„è¶Šæ¥è¶Šæ™®åŠï¼Œä¼šç»å¸¸é‡åˆ°è·¨åŸŸçš„é—®é¢˜ï¼Œå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°è¿™æ ·çš„é”™è¯¯æ—¶ï¼Œå°±éœ€è¦æ„è¯†åˆ°é‡åˆ°äº†è·¨åŸŸï¼š&lt;br/&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/10641481-948cbe0d4ccae3f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ¡ˆ&quot;&gt;è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;vue-cli&lt;/code&gt;æ¥å¿«é€Ÿæ„å»ºä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œç„¶åä½¿ç”¨&lt;code&gt;axios&lt;/code&gt;æ¥å‘åå°å‘é€ajaxè¯·æ±‚ã€‚ç„¶ååœ¨æ§åˆ¶å°ä¸­æ‰“å°å‡ºè¿”å›ä¿¡æ¯ã€‚è¿™é‡Œå°±ä¸å†å¤šåšèµ˜è¿°ï¼Œåé¢æˆ‘ä¼šå•ç‹¬å†™ä¸€ç¯‡æ–‡ç« æ¥è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨vue-cliå¿«é€Ÿåˆ›å»ºä¸€ä¸ªvueé¡¹ç›®ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;è¿™é‡Œä¸å†è®²è§£ä½¿ç”¨&lt;code&gt;jsonp&lt;/code&gt;çš„æ–¹å¼æ¥è§£å†³è·¨åŸŸï¼Œå› ä¸º&lt;code&gt;jsonp&lt;/code&gt;æ–¹å¼åªèƒ½é€šè¿‡&lt;code&gt;get&lt;/code&gt;è¯·æ±‚æ–¹å¼æ¥ä¼ é€’å‚æ•°ï¼Œè€Œä¸”æœ‰ä¸€äº›ä¸ä¾¿ä¹‹å¤„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢çš„å‡ ç§æ–¹å¼éƒ½æ˜¯é€šè¿‡&lt;strong&gt;è·¨åŸŸè®¿é—®æŠ€æœ¯CORS(Cross-Origin Resource Sharingï¼‰&lt;/strong&gt;æ¥è§£å†³çš„ã€‚å…·ä½“çš„å®ç°åŸç†æˆ‘ä»¬ä¸åšæ·±å…¥çš„æ¢ç©¶ï¼Œè¿™èŠ‚è¯¾çš„ç›®çš„æ˜¯è§£å†³è·¨åŸŸé—®é¢˜~&lt;/p&gt;
&lt;h4 id=&quot;æ–¹æ³•ä¸€æ³¨è§£&quot;&gt;æ–¹æ³•ä¸€ï¼šæ³¨è§£&lt;/h4&gt;
&lt;p&gt;åœ¨Spring Boot ä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ³¨è§£&lt;code&gt;@CrossOrigin&lt;/code&gt;æ¥å®ç°è·¨åŸŸï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥å®ç°æ–¹æ³•çº§åˆ«çš„ç»†ç²’åº¦çš„è·¨åŸŸæ§åˆ¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç±»æˆ–è€…æ–¹æ·»åŠ è¯¥æ³¨è§£ï¼Œå¦‚æœåœ¨ç±»ä¸Šæ·»åŠ è¯¥æ³¨è§£ï¼Œè¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£éƒ½å¯ä»¥é€šè¿‡è·¨åŸŸè®¿é—®ï¼Œå¦‚æœåœ¨æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼Œé‚£ä¹ˆä»…ä»…åªé™äºåŠ æ³¨è§£çš„æ–¹æ³•å¯ä»¥è®¿é—®ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@RestController
@RequestMapping(&quot;/user&quot;)
@CrossOrigin
public class UserController {
   @Autowired
    private UserService userService;

   @RequestMapping(&quot;/findAll&quot;)
    public Object findAll(){
        return userService.list();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨å†å»æµ‹è¯•ä¸€ä¸‹ï¼š&lt;br/&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/10641481-b764f7e77e51383e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Bingoï¼ŒæˆåŠŸï¼&lt;/p&gt;
&lt;h4 id=&quot;æ–¹æ³•äºŒå®ç°webmvcconfigurer&quot;&gt;æ–¹æ³•äºŒï¼šå®ç°WebMvcConfigurer&lt;/h4&gt;
&lt;p&gt;è¿™é‡Œå¯ä»¥é€šè¿‡å®ç°&lt;code&gt;WebMvcConfigurer&lt;/code&gt;æ¥å£ä¸­çš„&lt;code&gt;addCorsMappings()&lt;/code&gt;æ–¹æ³•æ¥å®ç°è·¨åŸŸã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Configuration
class CORSConfiguration implements WebMvcConfigurer {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping(&quot;/**&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å°†åˆšåˆšåŠ ä¸Šçš„æ³¨è§£ç»™æ³¨é‡Šæ‰ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è®¿é—®åˆ°è¿™ä¸ªæ¥å£ï¼š&lt;br/&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/10641481-ddf4721cf12cc17b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸å‡ºæˆ‘ä»¬æ‰€æ–™ï¼Œæœç„¶è¿˜æ˜¯å¯ä»¥çš„~&lt;/p&gt;
&lt;h4 id=&quot;æ–¹æ³•ä¸‰filter&quot;&gt;æ–¹æ³•ä¸‰ï¼šFilter&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Fiteræ¥å£åœ¨è¯·æ±‚ä¸­æ·»åŠ ä¸€äº›Headeræ¥è§£å†³è·¨åŸŸçš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
public class CORSFilter implements Filter {

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException {
        HttpServletResponse res = (HttpServletResponse) response;
        res.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);
        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);
        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;);
        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type,X-CAF-Authorization-Token,sessionToken,X-TOKEN&quot;);
        if (((HttpServletRequest) request).getMethod().equals(&quot;OPTIONS&quot;)) {
            response.getWriter().println(&quot;ok&quot;);
            return;
        }
        chain.doFilter(request, response);
    }
    @Override
    public void destroy() {
    }
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸å‡ºæ„å¤–çš„è¯ï¼Œåº”è¯¥ä¹Ÿå¯ä»¥åœ¨æ§åˆ¶å°è·å–åˆ°è¿”å›ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h4 id=&quot;nginxé…ç½®è§£å†³è·¨åŸŸé—®é¢˜&quot;&gt;Nginxé…ç½®è§£å†³è·¨åŸŸé—®é¢˜&lt;/h4&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†Nginxï¼Œå¯ä»¥åœ¨Nginxä¸­æ·»åŠ ä»¥ä¸‹çš„é…ç½®æ¥è§£å†³è·¨åŸŸï¼ˆåŸç†å…¶å®å’ŒFilterç±»ä¼¼ï¼Œåªä¸è¿‡æŠŠæ´»å„¿ä¸¢ç»™äº†è¿ç»´ğŸ¤”ï¼‰&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;location / {
   add_header Access-Control-Allow-Origin *;
   add_header Access-Control-Allow-Headers X-Requested-With;
   add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS;

   if ($request_method = 'OPTIONS') {
     return 204;
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;åŸåˆ›æ–‡ç« æ‰ç–å­¦æµ…å¦‚æœ‰ä¸å¯¹ä¹‹å¤„ä¸‡æœ›å‘ŠçŸ¥&quot;&gt;åŸåˆ›æ–‡ç« ï¼Œæ‰ç–å­¦æµ…ï¼Œå¦‚æœ‰ä¸å¯¹ä¹‹å¤„ï¼Œä¸‡æœ›å‘ŠçŸ¥ï¼&lt;/h2&gt;
&lt;h3 id=&quot;å…¬ä¼—å·&quot;&gt;å…¬ä¼—å·&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/10641481-564fde3219454ceb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‚¨çš„æ¨èå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒï¼&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 23:37:00 +0000</pubDate>
<dc:creator>Viçš„æŠ€æœ¯åšå®¢</dc:creator>
<og:description>ä»€ä¹ˆæ˜¯è·¨åŸŸ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ä¸€ä¸ªURLæ˜¯æ€ä¹ˆç»„æˆçš„ï¼š // åè®® + åŸŸåï¼ˆå­åŸŸå + ä¸»åŸŸåï¼‰ + ç«¯å£å· + èµ„æºåœ°å€ http: + // + www.baidu.com + :8080/</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/viyoung/p/10285786.html</dc:identifier>
</item>
<item>
<title>Java Stringï¼šé‡è¦åˆ°åˆ«äººåªèƒ½å½“è€äºŒçš„å­—ç¬¦ä¸²ç±» - æ²‰é»˜ç‹äºŒ</title>
<link>http://www.cnblogs.com/qing-gee/p/10277688.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qing-gee/p/10277688.html</guid>
<description>&lt;p&gt;&lt;img title=&quot;&quot; src=&quot;https://upload-images.jianshu.io/upload_images/1179389-0230f3025330258f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²ï¼Œæ˜¯Javaä¸­æœ€é‡è¦çš„ç±»ã€‚è¿™å¥è‚¯å®šçš„æ¨æ–­ä¸æ˜¯Javaä¹‹çˆ¶è©¹å§†æ–¯Â·é«˜æ–¯æ—è¯´çš„ï¼Œè€Œæ˜¯æ²‰é»˜ç‹äºŒè¯´çš„ï¼Œå› æ­¤ä½ ä¸å¿…æ€€ç–‘å®ƒçš„å‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºå­—ç¬¦ä¸²ï¼Œæœ‰å¾ˆå¤šçš„é¢è¯•é¢˜ï¼Œä½†æˆ‘æ€»è§‰å¾—ç†è®ºçŸ¥è¯†ç»•æ¥ç»•å»æ²¡å¤šå¤§æ„æ€ã€‚ä½ æ¯”å¦‚è¯´ï¼š&lt;code&gt;String cmower = new String(&quot;æ²‰é»˜ç‹äºŒ&quot;);&lt;/code&gt;å®šä¹‰äº†å‡ ä¸ªå¯¹è±¡?&lt;/p&gt;
&lt;p&gt;æˆ‘æ€»è§‰å¾—é—®æˆ‘è¿™æ ·çš„é—®é¢˜ï¼Œå°±å¥½åƒæ˜¯åœ¨æ‹·é—®æˆ‘ï¼šâ€œæ—¢ç„¶ä½ å®¶ä¹°äº†å†°ç®±ï¼Œä½ éš¾é“ä¸åº”è¯¥çŸ¥é“å†°ç®±åˆ¶å†·çš„åŸç†ï¼Ÿâ€&lt;/p&gt;
&lt;p&gt;å†è¯´ï¼Œä¸ºä»€ä¹ˆè¦ç”¨&lt;code&gt;String cmower = new String(&quot;æ²‰é»˜ç‹äºŒ&quot;);&lt;/code&gt;è€Œä¸æ˜¯&lt;code&gt;String cmower = &quot;æ²‰é»˜ç‹äºŒ&quot;;&lt;/code&gt;ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘åŠå„ä½é¢è¯•å®˜ä¸è¦å†ç¼ ä½è¿™æ ·çš„é—®é¢˜ä¸æ”¾äº†ï¼Œåˆ‡è®°â€œå­¦ä»¥è‡´ç”¨â€ã€‚ç†è®ºçŸ¥è¯†å¦‚æœä¸€ç›´æ˜¯åœ¨ç»•å¼¯å¼¯ï¼Œé‚£çœŸçš„æ¯«æ— ä»·å€¼ã€‚å¦‚æœè¦æˆ‘æ¥åšé¢è¯•å®˜ï¼Œæˆ‘æƒ³è¦é—®çš„é—®é¢˜æ˜¯ï¼šâ€œä½ å¹³å¸¸æ˜¯æ€ä¹ˆåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰çš„ï¼Ÿæ˜¯ç”¨equals()è¿˜æ˜¯==ï¼Ÿâ€&lt;/p&gt;
&lt;p&gt;å‰è¨€å°±è¯´è¿™ä¹ˆå¤šã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æ¢è®¨å‡ ä¸ªå®ç”¨çš„çŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;h01&quot;&gt;01 å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Stringç±»çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public &lt;span class=&quot;hljs-keyword&quot;&gt;final &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class &lt;span class=&quot;hljs-title&quot;&gt;String&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;implements &lt;span class=&quot;hljs-title&quot;&gt;java.&lt;span class=&quot;hljs-title&quot;&gt;io.&lt;span class=&quot;hljs-title&quot;&gt;Serializable, &lt;span class=&quot;hljs-title&quot;&gt;Comparable&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;String&amp;gt;, &lt;span class=&quot;hljs-title&quot;&gt;CharSequence {&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯ä»¥å‘ç°ï¼ŒStringç±»æ˜¯finalç±»å‹çš„ï¼Œå› æ­¤ä¸èƒ½è¢«ç»§æ‰¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç±»å¯ä»¥è¢«ç»§æ‰¿ï¼Œé‚£ä¹ˆå°±ä¼šç ´åç±»çš„ä¸å¯å˜æ€§æœºåˆ¶ã€‚å› ä¸ºå­ç±»å¯ä»¥è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥æ”¹å˜çˆ¶ç±»çš„æˆå‘˜å˜é‡å€¼ï¼Œä¸€æ—¦å­ç±»ä»¥çˆ¶ç±»çš„å½¢å¼å‡ºç°æ—¶ï¼Œå°±ä¸èƒ½ä¿è¯ç±»æ˜¯ä¸å¯å˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;Stringç±»çš„ä¸å¯å˜æ€§æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1ï¼‰ä½œä¸ºHashMapçš„é”®ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å®ƒåœ¨åˆ›å»ºçš„æ—¶å€™å“ˆå¸Œç ï¼ˆhash codeï¼‰å°±è®¡ç®—å¥½äº†ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡åœ¨ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œç çš„æ—¶å€™ä¸ç”¨é‡æ–°è®¡ç®—ä¸€æ¬¡ï¼Œè¿™æ ·æ›´åŠ é«˜æ•ˆï¼Œå¾ˆé€‚åˆä½œä¸ºHashMapä¸­çš„é”®ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰çº¿ç¨‹å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;åŒä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«ï¼Œå¦‚æœè®¿é—®é¢‘ç¹çš„è¯ï¼Œå¯ä»¥çœç•¥åŒæ­¥å’Œé”ç­‰å¾…çš„æ—¶é—´ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰å­—ç¬¦ä¸²å¸¸é‡æ± çš„éœ€è¦ã€‚&lt;/p&gt;
&lt;p&gt;ç¨åä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong&gt;Stringç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ²¡æœ‰æ”¹å˜å­—ç¬¦ä¸²æœ¬èº«çš„å€¼ï¼Œéƒ½æ˜¯è¿”å›äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;h02&quot;&gt;02 å­—ç¬¦ä¸²å¸¸é‡æ± &lt;/h3&gt;
&lt;p&gt;åœ¨Javaä¸­ï¼Œå¸¸ç”¨çš„åˆ›å»ºå­—ç¬¦ä¸²çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot; readability=&quot;1&quot;&gt;String cmower = &lt;span class=&quot;hljs-string&quot; readability=&quot;2&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot;;&lt;p&gt;String cmowsan = &lt;span class=&quot;hljs-keyword&quot;&gt;new String(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹ä¸‰&quot;);&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;cmowerä½¿ç”¨åŒå¼•å·ï¼Œcmowsanä½¿ç”¨newå…³é”®å­—ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;String cmower = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot;;&lt;br/&gt;String cmower1 = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot;;&lt;br/&gt;System.out.println(cmower == cmower1); &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒå¼•å·åˆ›å»ºçš„ç›¸åŒå­—ç¬¦ä¸²ä½¿ç”¨&lt;code&gt;==&lt;/code&gt;åˆ¤æ–­æ—¶ç»“æœä¸ºtrueï¼Œè€Œnewå…³é”®å­—åˆ›å»ºçš„ç›¸åŒå­—ç¬¦ä¸²ä½¿ç”¨&lt;code&gt;==&lt;/code&gt;åˆ¤æ–­æ—¶ç»“æœä¸ºfalseã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Stringåœ¨Javaä¸­ä½¿ç”¨è¿‡äºé¢‘ç¹ï¼Œä¸ºäº†é¿å…åœ¨ç³»ç»Ÿä¸­äº§ç”Ÿå¤§é‡çš„Stringå¯¹è±¡ï¼ŒJavaçš„è®¾è®¡è€…å¼•å…¥äº†â€œå­—ç¬¦ä¸²å¸¸é‡æ± â€çš„æ¦‚å¿µ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½¿ç”¨åŒå¼•å·åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œé¦–å…ˆä¼šæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦æœ‰ç›¸åŒçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥ä»å¸¸é‡æ± ä¸­å–å‡ºå¯¹è±¡å¼•ç”¨ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ–°å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¹¶å°†å…¶æ”¾å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¹¶è¿”å›å¯¹è±¡å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œ&quot;æ²‰é»˜ç‹äºŒ&quot;æ˜¯æ”¾åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„ï¼Œcmowerå’Œcmower1ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å¼•ç”¨æ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;è€Œnewå…³é”®å­—åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡æ˜¯ä¸æ¶‰åŠå­—ç¬¦ä¸²å¸¸é‡æ± çš„ï¼Œç›´æ¥æ”¾åœ¨å †ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶cmowsanå’Œcmowsan1éƒ½å«æ²‰é»˜ç‹ä¸‰ï¼Œä½†ä¸ä¸€ä¸ªäººã€‚&lt;/p&gt;
&lt;p&gt;å¼ºçƒˆå»ºè®®ï¼šä¸è¦ä½¿ç”¨newå…³é”®å­—çš„å½¢å¼åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;h03stringbuilder&quot;&gt;03 +å·å’ŒStringBuilder&lt;/h3&gt;
&lt;p&gt;ç”±äºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å­—ç¬¦ä¸²åœ¨è¿›è¡Œæ‹¼æ¥çš„æ—¶å€™ä¼šåˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼Œå†…å­˜æ˜¯ä¸€å®šçš„ï¼Œå› æ­¤å¯¹è±¡åˆ›å»ºå¤šäº†å°±ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;StringBuilderæ­£æ˜¯ä¸ºäº†è§£å†³å­—ç¬¦ä¸²æ‹¼æ¥äº§ç”Ÿå¤ªå¤šä¸­é—´å¯¹è±¡çš„é—®é¢˜è€Œæä¾›çš„ä¸€ä¸ªç±»&lt;/strong&gt;ï¼Œå¯ä»¥é€šè¿‡append()æ–¹æ³•æŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ°å·²æœ‰åºåˆ—çš„æœ«å°¾ï¼Œéå¸¸é«˜æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæœ‰äººåœ¨è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿç–‘æƒ‘ï¼šâ€œæˆ‘åˆ°åº•æ˜¯ç”¨+å·è¿˜æ˜¯StringBuilderï¼Ÿâ€&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹è¿™æ ·ä¸€æ®µä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;String chenmo = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜&quot;;&lt;br/&gt;String wanger = &lt;span class=&quot;hljs-string&quot;&gt;&quot;ç‹äºŒ&quot;;&lt;br/&gt;System.out.println(chenmo + wanger);&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ®µä»£ç æ˜¯æ€ä¹ˆç¼–è¯‘çš„å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨JADï¼ˆJavaåç¼–è¯‘å·¥å…·ï¼‰æ¥çœ‹ä¸€çœ‹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;hljs go&quot;&gt;String s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;\u5A0C\u5910\u7CAF&quot;;&lt;br/&gt;String s1 = &lt;span class=&quot;hljs-string&quot;&gt;&quot;\u941C\u5B29\u7C29&quot;;&lt;br/&gt;System.out.&lt;span class=&quot;hljs-built_in&quot;&gt;println((&lt;span class=&quot;hljs-built_in&quot;&gt;new StringBuilder()).&lt;span class=&quot;hljs-built_in&quot;&gt;append(s).&lt;span class=&quot;hljs-built_in&quot;&gt;append(s1).toString());&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½ æ˜¯ä¸æ˜¯çœ‹åˆ°äº†&lt;code&gt;StringBuilder&lt;/code&gt;çš„å½±å­ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ²¡é”™ï¼Œä½¿ç”¨+å·è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„æ—¶å€™ï¼ŒJavaç¼–è¯‘å™¨å®é™…æ˜¯é€šè¿‡StringBuilderç±»æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;éš¾é“å¯ä»¥ä½¿ç”¨+å·æ¥éšæ„æ‹¼æ¥å­—ç¬¦ä¸²ï¼Ÿåæ­£Javaç¼–è¯‘å™¨å·²ç»è‡ªåŠ¨åœ°ä¸ºæˆ‘ä»¬ä¼˜åŒ–äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†äº‹å®å¹¶éå¦‚æ­¤ï¼Œæ¥çœ‹è¿™æ ·ä¸€æ®µä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;String cmowers = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for (&lt;span class=&quot;hljs-keyword&quot;&gt;int i = &lt;span class=&quot;hljs-number&quot;&gt;0; i &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;9; i++) {&lt;br/&gt;cmowers += &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot;;&lt;br/&gt;}&lt;br/&gt;System.out.println(cmowers);&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é—­ä¸Šçœ¼ç›å…ˆæƒ³ä¸€æƒ³ï¼ŒJavaç¼–è¯‘å™¨ä¼šæ€ä¹ˆåšï¼Ÿæˆ‘ä»¬æœŸæœ›çš„ç»“æœæ˜¯åœ¨å¾ªç¯å¤–éƒ¨å°±åˆ›å»ºStringBuilderï¼ŒJavaç¼–è¯‘å™¨èƒ½å¦‚æˆ‘ä»¬æ‰€æ„¿å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;JADåç¼–è¯‘åçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;hljs go&quot;&gt;String s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for(&lt;span class=&quot;hljs-keyword&quot;&gt;int i = &lt;span class=&quot;hljs-number&quot;&gt;0; i &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;10; i++)&lt;br/&gt;s = (&lt;span class=&quot;hljs-built_in&quot;&gt;new StringBuilder()).&lt;span class=&quot;hljs-built_in&quot;&gt;append(s).&lt;span class=&quot;hljs-built_in&quot;&gt;append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\u5A0C\u5910\u7CAF\u941C\u5B29\u7C29&quot;).toString();&lt;p&gt;System.out.&lt;span class=&quot;hljs-built_in&quot;&gt;println(s);&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¹ˆçœ‹æ¥ï¼ŒStringBuilderæ˜¯åœ¨forå¾ªç¯å†…éƒ¨åˆ›å»ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šåˆ›å»º10æ¬¡ã€‚å¤©å‘ï¼Œè¿™å¯ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼æˆ‘ä»¬åªå¸Œæœ›StringBuilderåˆ›å»ºä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼ŒJavaç¼–è¯‘å™¨æ˜¯åšä¸åˆ°çš„ï¼Œåªèƒ½é æˆ‘ä»¬è‡ªå·±ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;StringBuilder cmowers = &lt;span class=&quot;hljs-keyword&quot;&gt;new StringBuilder();&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for (&lt;span class=&quot;hljs-keyword&quot;&gt;int i = &lt;span class=&quot;hljs-number&quot;&gt;0; i &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;9; i++) {&lt;br/&gt;cmowers.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot;);&lt;br/&gt;}&lt;br/&gt;System.out.println(cmowers);&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¼ºçƒˆå»ºè®®ï¼šå¦‚æœåªæ˜¯ä¸‰å››ä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œå°½ç®¡ä½¿ç”¨+å·æ“ä½œç¬¦ï¼Œåˆ«æƒ³ä»€ä¹ˆæ€§èƒ½ä¼˜åŒ–ï¼ˆä¸¾ä¸ªä¾‹å­ï¼Œä½ ç¦»ç›®çš„åœ°åªæœ‰100ç±³ï¼Œä½ æ˜¯æ‰“ç®—æ‰“ä¸ªå‡ºç§Ÿè½¦ï¼Œè¿˜æ˜¯è‡ªå·±æ­¥è¡Œèµ°è¿‡å»ï¼Ÿï¼‰ï¼›å¦‚æœé‡åˆ°å¤šäºå››ä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œæˆ–è€…éœ€è¦ç”¨åˆ°å¾ªç¯æ¥æ‹¼æ¥ï¼Œé‚£å°±é€‰æ‹©StringBuilderã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘å¹´è½»çš„æ—¶å€™ï¼Œæˆ‘è¿˜ä¼šçŠ¯è¿™æ ·ä¸€ä¸ªé”™è¯¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;java language-java hljs&quot;&gt;StringBuilder cmowers = &lt;span class=&quot;hljs-keyword&quot;&gt;new StringBuilder();&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for (&lt;span class=&quot;hljs-keyword&quot;&gt;int i = &lt;span class=&quot;hljs-number&quot;&gt;0; i &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;9; i++) {&lt;br/&gt;cmowers.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ&quot; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;å’Œä»–çš„è¯»è€…æœ‹å‹ä»¬&quot;);&lt;br/&gt;}&lt;br/&gt;System.out.println(cmowers);&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘å»ï¼Œç«Ÿç„¶åœ¨append()æ–¹æ³•çš„å†…éƒ¨ä½¿ç”¨+å·ï¼å› ä¸ºè¿™ä¸ªé”™è¯¯ï¼Œæˆ‘å·®ç‚¹æ²¡è¢«é¢†å¯¼æ‰“æ­»ã€‚ä½ å¯è¦å°å¿ƒç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;h04concat&quot;&gt;04 å…³äºconcat()&lt;/h3&gt;
&lt;p&gt;é™¤äº†ä½¿ç”¨+å·å’ŒStringBuilderå¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Stringç±»çš„&lt;code&gt;concat()&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;concat()æ–¹æ³•åªä¸è¿‡æ˜¯Stringç±»çš„ä¸€ä¸ªæ–¹æ³•è€Œå·²ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦å•ç‹¬æ‹å‡ºæ¥è¯´å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¹‹å‰æˆ‘è¦åœ¨JSPé¡µé¢çš„ELè¡¨è¾¾å¼ä¸­æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåˆšå¼€å§‹æƒ³åˆ°çš„æ˜¯ç”¨+å·æ“ä½œç¬¦ï¼Œä½†ELè¡¨è¾¾å¼ä¸æ˜¯Javaï¼Œ+å·æ“ä½œç¬¦æ˜¯ä¸èƒ½æ‹¼æ¥å­—ç¬¦ä¸²çš„ã€‚æˆ‘å½“æ—¶ç«Ÿç„¶æ²¡æƒ³èµ·æ¥ç”¨&lt;code&gt;concat()&lt;/code&gt;ï¼&lt;/p&gt;
&lt;p&gt;é‡æ–°é“­è®°ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;hljs lua&quot;&gt;${item.username.&lt;span class=&quot;hljs-built_in&quot;&gt;concat(&lt;span class=&quot;hljs-string&quot;&gt;'-').&lt;span class=&quot;hljs-built_in&quot;&gt;concat(item.realname)}&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;h05intern&quot;&gt;05 å…³äºintern()&lt;/h3&gt;
&lt;p&gt;å…³äºå­—ç¬¦ä¸²çš„æ€§èƒ½é—®é¢˜ï¼Œæˆ‘å¸¸åœ¨ä¸€äº›æŠ€æœ¯æ–‡ç« ä¸­çœ‹åˆ°è¿™æ ·çš„å»ºè®®ï¼šâ€œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨çš„é¢‘ç‡éå¸¸é«˜ï¼Œå»ºè®®ä½¿ç”¨&lt;code&gt;String.intern()&lt;/code&gt;å°†å…¶ç¼“å­˜ã€‚â€&lt;/p&gt;
&lt;p&gt;ä½†æˆ‘å¹¶ä¸å»ºè®®ä½ è¿™ä¹ˆåšï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•è¦æ˜¾å¼çš„è°ƒç”¨ï¼Œè¿™æ ·å¾ˆéº»çƒ¦ï¼›å†µä¸”ï¼Œåœ¨ä»£ç ç¼–å†™é˜¶æ®µï¼Œæ€ä¹ˆå¯èƒ½çŸ¥é“å“ªä¸ªå­—ç¬¦ä¸²ä½¿ç”¨é¢‘ç‡å¾ˆé«˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&quot;h06stringutils&quot;&gt;06 å…³äºStringUtils&lt;/h3&gt;
&lt;p&gt;æ®æˆ‘çš„ç¼–ç¨‹ç»éªŒæ¥çœ‹ï¼Œå­—ç¬¦ä¸²çš„æ“ä½œå¾€å¾€éœ€è¦ç”¨åˆ°ä¸€ä¸ªå·¥å…·ç±»ï¼Œé‚£å°±æ˜¯&lt;code&gt;org.apache.commons.lang3.StringUtils&lt;/code&gt;ï¼ˆnullå®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒStringUtilsç±»çš„æ–¹æ³•å¯ä»¥æ¥å—ä¸ºnullçš„å­—ç¬¦ä¸²ï¼Œä½†ä¸ä¼šæŠ›å‡ºNullPointerExceptionï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œæˆ‘æœ€å¸¸ç”¨çš„æ–¹æ³•å°±é‚£ä¹ˆå‡ ä¸ªï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;ç­‰ä»·&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;3&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;code&gt;IsEmpty(String str)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;str == null || str.length == 0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;code&gt;isBlank(String str)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;str == null || str.length == 0 || str.trim().length == 0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;code&gt;join(Object[] arrey)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æŠŠæ•°ç»„ä¸­çš„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;æ¨èé˜…è¯»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.qingmiaokeji.cn/article/11&quot;&gt;Javaå¼‚å¸¸å¤„ç†ï¼šç»™ç¨‹åºç½©ä¸€å±‚ä¿é™©&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;http://www.qingmiaokeji.cn/article/8&quot;&gt;Javaé›†åˆç±»ï¼šæˆ‘å…¶å®æ²¡é‚£ä¹ˆç®€å•&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 23:29:00 +0000</pubDate>
<dc:creator>æ²‰é»˜ç‹äºŒ</dc:creator>
<og:description>å­—ç¬¦ä¸²ï¼Œæ˜¯Javaä¸­æœ€é‡è¦çš„ç±»ã€‚è¿™å¥è‚¯å®šçš„æ¨æ–­ä¸æ˜¯Javaä¹‹çˆ¶è©¹å§†æ–¯Â·é«˜æ–¯æ—è¯´çš„ï¼Œè€Œæ˜¯æ²‰é»˜ç‹äºŒè¯´çš„ï¼Œå› æ­¤ä½ ä¸å¿…æ€€ç–‘å®ƒçš„å‡†ç¡®æ€§ã€‚ å…³äºå­—ç¬¦ä¸²ï¼Œæœ‰å¾ˆå¤šçš„é¢è¯•é¢˜ï¼Œä½†æˆ‘æ€»è§‰å¾—ç†è®ºçŸ¥è¯†ç»•æ¥ç»•å»æ²¡å¤šå¤§æ„</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qing-gee/p/10277688.html</dc:identifier>
</item>
<item>
<title>å¹¶å‘concurrent---1 - æ¶›å§æ¶›å“¥</title>
<link>http://www.cnblogs.com/taojietaoge/p/10285607.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/taojietaoge/p/10285607.html</guid>
<description>&lt;p&gt;&lt;span&gt;èƒŒæ™¯ï¼šå¹¶å‘çŸ¥è¯†æ˜¯ä¸€ä¸ªç¨‹åºå‘˜æ®µä½å‡çº§çš„ä½“ç°ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¿›å…¥BATçš„å¿…ç»ä¹‹è·¯ï¼Œæœ‰å¿…è¦æŠŠå¹¶å‘çŸ¥è¯†é‡æ–°æ¢³ç†ä¸€éã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;è¯´åˆ°å¹¶å‘concurrentï¼Œè‚¯å®šé¦–å…ˆæƒ³åˆ°äº†çº¿ç¨‹ï¼Œåˆ›å»ºçº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•ï¼š1ã€ä»Java.lang.Threadç±»æ´¾ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹ç±»ï¼Œé‡è½½å®ƒçš„run()æ–¹æ³•ï¼›2ã€å®ç°Runnalbeæ¥å£ï¼Œé‡è½½Runnalbeæ¥å£ä¸­çš„run()æ–¹æ³•ï¼›å»ºè®®ä½¿ç”¨æ–¹æ³•äºŒåˆ›å»ºçº¿ç¨‹ï¼Œå› ä¸ºï¼Œå¦‚æœæ˜¯é€šè¿‡æ‰©å±• Threadç±»çš„æ–¹æ³•æ¥åˆ›å»ºçº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ªè‡ªå®šä¹‰ç±»å°±ä¸èƒ½å†å»æ‰©å±•å…¶ä»–çš„ç±»ï¼Œä¹Ÿå°±æ— æ³•å®ç°æ›´åŠ å¤æ‚çš„åŠŸèƒ½ï¼›è€Œå®ç°Runnableæ¥å£çš„æ–¹æ³•æ¥å®šä¹‰è¯¥ç±»ä¸ºçº¿ç¨‹ç±»ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…Javaå•ç»§æ‰¿æ‰€å¸¦æ¥çš„å±€é™æ€§ï¼Œä¹Ÿæ›´ç¬¦åˆé¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ï¼Œæœ€é‡è¦çš„å°±æ˜¯ä½¿ç”¨å®ç°Runnableæ¥å£çš„æ–¹å¼åˆ›å»ºçš„çº¿ç¨‹å¯ä»¥å¤„ç†åŒä¸€èµ„æºï¼Œä»è€Œå®ç°èµ„æºçš„å…±äº«ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹æ³•ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;package www.concurent.test;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; TraditionalThread {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Thread1:&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;         Thread thread = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Thread() {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;                 &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;                         Thread.sleep(&lt;span&gt;1000&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                     System.&lt;span&gt;out&lt;/span&gt;.println(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;thread1: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;+&lt;span&gt;Thread.currentThread().getName());
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;        }; 
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; &lt;span&gt;        thread.start();
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;         
&lt;span&gt;21&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Thread2:
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Runnableå˜é‡æ˜¯çº¿ç¨‹è¦è¿è¡Œçš„ä»£ç çš„å®¿ä¸»ï¼Œæ›´é€‚åˆé¢å‘å¯¹è±¡æ€æƒ³çš„çº¿ç¨‹æ–¹æ³•&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt;         Thread thread2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Runnable() {
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                 &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;                         Thread.sleep(&lt;span&gt;1000&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;                     System.&lt;span&gt;out&lt;/span&gt;.println(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;thread2: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;+&lt;span&gt;Thread.currentThread().getName());
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; &lt;span&gt;        thread2.start();
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt; }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;çº¿ç¨‹å’ŒTimerå®šæ—¶å™¨å¾ˆç±»ä¼¼ï¼Œä¸‹é¢ä»‹ç»äº†ä¸¤ç§å’Œçº¿ç¨‹ç›¸ä¼¼çš„å®šæ—¶å™¨å†™æ³•ï¼š1ã€å®šæ—¶ä¸€å¤©ä¹‹åè°ƒç”¨æ–¹æ³•æŸ¥è¯¢å¤©æ°”æƒ…å†µæ¥å£ï¼Œç„¶åæ¯éš”60ç§’åç»§ç»­è°ƒç”¨è¯¥æ–¹æ³•ï¼›2ã€å®šæ—¶æ¯å¤©00:39:32è°ƒç”¨æŸ¥è¯¢å¤©æ°”æƒ…å†µæ¥å£ï¼Œé€šè¿‡Hutoolå·¥å…·å’ŒTimerå®šæ—¶å™¨è°ƒç”¨HTTPå¤©æ°”çŠ¶å†µæ¥å£çš„è¿”å›ç»“æœå¦‚ä¸‹æˆªå›¾ï¼š(result2å¾—åˆ°äº†å¤©æ´¥çš„å¤©æ°”çŠ¶å†µ)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1580332/201901/1580332-20190118004920754-1859541685.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;é€šè¿‡Hutoolå·¥å…·å’ŒTimerå®šæ—¶å™¨è°ƒç”¨HTTPå¤©æ°”çŠ¶å†µæ¥å£&lt;/span&gt;ï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;import java.util.Calendar;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;import java.util.Date;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import java.util.Timer;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;import java.util.TimerTask;
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;import cn.hutool.http.HttpUtil;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; TraditionalTimerTest {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ—¶é—´é—´éš”&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;      &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; final &lt;span&gt;long&lt;/span&gt; PERIOD_DAY = &lt;span&gt;24&lt;/span&gt; * &lt;span&gt;60&lt;/span&gt; * &lt;span&gt;60&lt;/span&gt; * &lt;span&gt;1000&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Timer å®šæ—¶å™¨&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;         Calendar cl =&lt;span&gt; Calendar.getInstance();
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         cl.&lt;span&gt;set&lt;/span&gt;(Calendar.HOUR_OF_DAY, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;         cl.&lt;span&gt;set&lt;/span&gt;(Calendar.MINUTE, 3&lt;span&gt;9&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;         cl.&lt;span&gt;set&lt;/span&gt;(Calendar.SECOND, &lt;span&gt;32&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;         Date date =&lt;span&gt; cl.getTime();
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;         Date dateNow = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Date();
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¦‚æœç¬¬ä¸€æ¬¡æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„æ—¶é—´ å°äº å½“å‰çš„æ—¶é—´
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ­¤æ—¶è¦åœ¨ ç¬¬ä¸€æ¬¡æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„æ—¶é—´ åŠ ä¸€å¤©ï¼Œä»¥ä¾¿æ­¤ä»»åŠ¡åœ¨ä¸‹ä¸ªæ—¶é—´ç‚¹æ‰§è¡Œã€‚å¦‚æœä¸åŠ ä¸€å¤©ï¼Œä»»åŠ¡ä¼šç«‹å³æ‰§è¡Œã€‚&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (date.before(dateNow)) {
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;             Calendar clAdd =&lt;span&gt; Calendar.getInstance();
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;            clAdd.setTime(dateNow);
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;             clAdd.add(Calendar.DAY_OF_MONTH, &lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;              date =&lt;span&gt; clAdd.getTime();
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Timer1:&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;         &lt;span&gt;new&lt;/span&gt; Timer().schedule(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; TimerTask() {
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;.println(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Hutoolè°ƒç”¨httpæ¥å£&lt;/span&gt;
&lt;span&gt;32&lt;/span&gt;                 String result1 = HttpUtil.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://t.weather.sojson.com/api/weather/city/101030100&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;.println(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;result1: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;+&lt;span&gt;result1);
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¸€å¤©ä¹‹åè°ƒç”¨æ–¹æ³•æŸ¥è¯¢å¤©æ°”æƒ…å†µæ¥å£ï¼Œç„¶åæ¯éš”60ç§’åç»§ç»­è°ƒç”¨è¯¥æ–¹æ³•&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt;         },PERIOD_DAY , &lt;span&gt;1000&lt;/span&gt;*&lt;span&gt;60&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Timer2:&lt;/span&gt;
&lt;span&gt;38&lt;/span&gt;         &lt;span&gt;new&lt;/span&gt; Timer().schedule(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; TimerTask() {
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Hutoolè°ƒç”¨httpæ¥å£&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt;                 String result2 = HttpUtil.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://t.weather.sojson.com/api/weather/city/101030100&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;.println(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;result2: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; +&lt;span&gt; result2);
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å®šæ—¶æ¯å¤©00:39:32è°ƒç”¨æŸ¥è¯¢å¤©æ°”æƒ…å†µæ¥å£&lt;/span&gt;
&lt;span&gt;46&lt;/span&gt; &lt;span&gt;        }, date , PERIOD_DAY);
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; 
&lt;span&gt;49&lt;/span&gt; }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;Â å¦‚æœæ˜¯å•ä¸ªçº¿ç¨‹è°ƒç”¨éƒ½è¿˜okï¼Œè¦æ˜¯æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨é‚£å°±ä¼šå‡ºç°å¹¶å‘äº§ç”Ÿï¼›æ¯”å¦‚æœ‰ä¸€ä¸ªæ–¹æ³•Output()æ˜¯ç»è¿‡charAt(i)è·å–å­—ç¬¦ä¸²içš„å­—ç¬¦å¹¶ä¸”æ‰“å°å†æ§åˆ¶å°ï¼Œç„¶åçº¿ç¨‹Aå’Œçº¿ç¨‹BåŒæ—¶è°ƒç”¨Output()æ–¹æ³•ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜(å¦‚é“¶è¡Œå–é’±å’Œè½¬è´¦åŒæ—¶è¿›è¡Œ)ï¼Œä¹Ÿå°±æ˜¯å¹¶å‘ï¼›æ‰§è¡Œç»“æœå‘ç°ï¼Œçº¿ç¨‹Aä¸ºæ‰§è¡Œå®Œæ¯•çº¿ç¨‹Bå°±å¼€å§‹æ‰§è¡Œäº†ï¼Œä¸ºäº†èƒ½åä¿è¯å½“æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡ŒæŸä¸ªæ–¹æ³•æ—¶ï¼Œå…¶ä»–çš„çº¿ç¨‹ä¸èƒ½è¿›æ¥æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå®ç°æ’ä»–æ€§ï¼Œå¯ä»¥é€šè¿‡synchronizedå’ŒReentrantLockæ¥å®ç°çº¿ç¨‹åŒæ­¥ï¼›äºŒè€…å…¶å®åŒºåˆ«ä¸å¤§ï¼Œsynchronizedç”±äºæ˜¯åº•å±‚JVMå®ç°çš„äº’æ–¥ï¼Œå› æ­¤æ•ˆç‡ä¼šé«˜ä¸€äº›ï¼Œè€ŒReentrantLockçš„åŠŸèƒ½åˆ™æ¯”synchronizedæ›´å¤šï¼Œæ¯”å¦‚å®šæ—¶è·å–æŸä¸ªé”ï¼Œå¤šä¸ªç­‰å¾…æ¡ä»¶ç­‰ï¼Œå¦å¤–synchronized ä¼šè®©çº¿ç¨‹é˜»å¡ï¼ŒReentrantLockä¼šè®©çº¿ç¨‹ç­‰å¾…ï¼Œä½†æ˜¯ä»è¡Œä¸ºæ•ˆæœä¸Šæ¥çœ‹æ˜¯ä¸€æ ·çš„ï¼›ä¸‹é¢æœ‰ä¸ªä¾‹å­ï¼šå¹¶å‘ç»“æœå¦‚æˆªå›¾æ˜¾ç¤ºï¼Œç†æƒ³çŠ¶æ€æ˜¯æ‰“å°â€œhuaweiâ€æˆ–è€…â€œisoftstoneâ€ï¼Œä½†æ˜¯ç”±äºå¹¶å‘æ‰“å°å‡ºæ¥è¯¸å¦‚æ­¤ç±»â€œishuaweoftstoniâ€ç»“æœã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1580332/201901/1580332-20190118010802946-563958188.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;FYI:&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;import java.util.concurrent.locks.Lock;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;import java.util.concurrent.locks.ReentrantLock;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MyThreadSynchronized {
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¦æƒ³è°ƒç”¨å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå¿…é¡»æœ‰å¤–éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;         &lt;span&gt;new&lt;/span&gt; MyThreadSynchronized().init();   &lt;span&gt;//&lt;/span&gt;&lt;span&gt; å¤–éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; init() {
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;         final Outputer outputer = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Outputer();
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;thread1:&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Runnable() {
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                 &lt;span&gt;while&lt;/span&gt;(!&lt;span&gt;false&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;                         Thread.sleep(&lt;span&gt;100&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;                     outputer.output3(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;huawei&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;        }).start();
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;         
&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;thread2:&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;         &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Runnable() {
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;            @Override
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                 &lt;span&gt;while&lt;/span&gt;(!&lt;span&gt;false&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;                         Thread.sleep(&lt;span&gt;100&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InterruptedException e) {
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;                     outputer.output(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;isoftstone&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;        }).start();
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å½“æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡ŒæŸä¸ªæ–¹æ³•æ—¶ï¼Œå…¶ä»–çš„çº¿ç¨‹ä¸èƒ½è¿›æ¥æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œæ’ä»–æ€§ã€ç‹¬ä¸€æ— äºŒï¼›
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä½¿ç”¨synchronized/lockåŒæ­¥ï¼Œä¸”çº¿ç¨‹ç”¨çš„åŒæ­¥é”æ˜¯åŒä¸€ä¸ªåŒæ­¥å¯¹è±¡ï¼Œå¯ç”¨thisäº’æ–¥æˆ–æ–¹æ³•.class
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;synchronizedç”±äºæ˜¯åº•å±‚JVMå®ç°çš„äº’æ–¥ï¼Œå› æ­¤æ•ˆç‡ä¼šé«˜ä¸€äº›
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;ReentrantLockçš„åŠŸèƒ½åˆ™æ¯”synchronizedæ›´å¤šï¼Œæ¯”å¦‚å®šæ—¶è·å–æŸä¸ªé”ï¼Œå¤šä¸ªç­‰å¾…æ¡ä»¶
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;synchronized ä¼šè®©çº¿ç¨‹é˜»å¡ï¼ŒReentrantLockä¼šè®©çº¿ç¨‹ç­‰å¾…ï¼Œä½†æ˜¯ä»è¡Œä¸ºæ•ˆæœä¸Šæ¥çœ‹æ˜¯ä¸€æ ·çš„ï¼›&lt;/span&gt;
&lt;span&gt;46&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Outputer{
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;å†…éƒ¨ç±»  é™æ€æ–¹æ³•ä¸­ä¸èƒ½newå†…éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;synchronized:&lt;/span&gt;
&lt;span&gt;49&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; synchronized &lt;span&gt;void&lt;/span&gt;&lt;span&gt; output(String name) {
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i&amp;lt;name.length(); i++&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.print(name.charAt(i));
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt;             System.&lt;span&gt;out&lt;/span&gt;.println();&lt;span&gt;//&lt;/span&gt;&lt;span&gt; switch line&lt;/span&gt;
&lt;span&gt;54&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;         
&lt;span&gt;56&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;çº¿ç¨‹ä¸å®‰å…¨&lt;/span&gt;
&lt;span&gt;57&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt;  &lt;span&gt;void&lt;/span&gt;&lt;span&gt; output3(String name) {
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt;             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i&amp;lt;name.length(); i++&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.print(name.charAt(i));
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;             System.&lt;span&gt;out&lt;/span&gt;.println();&lt;span&gt;//&lt;/span&gt;&lt;span&gt; switch line&lt;/span&gt;
&lt;span&gt;62&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt;         
&lt;span&gt;64&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;lockï¼š&lt;/span&gt;
&lt;span&gt;65&lt;/span&gt;         &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ouputlock(String name) {
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt;             Lock &lt;span&gt;lock&lt;/span&gt; = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ReentrantLock();
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt;             &lt;span&gt;lock&lt;/span&gt;.&lt;span&gt;lock&lt;/span&gt;();   &lt;span&gt;//&lt;/span&gt;&lt;span&gt; ä¸Šé”åŒæ­¥&lt;/span&gt;
&lt;span&gt;68&lt;/span&gt;             &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt;                 &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; name.length(); i++&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt;                     System.&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.print(name.charAt(i));
&lt;/span&gt;&lt;span&gt;71&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;72&lt;/span&gt;                 System.&lt;span&gt;out&lt;/span&gt;.println();&lt;span&gt;//&lt;/span&gt;&lt;span&gt; switch line&lt;/span&gt;
&lt;span&gt;73&lt;/span&gt;             } &lt;span&gt;finally&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt;                 &lt;span&gt;lock&lt;/span&gt;.unlock();  &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è§£é”&lt;/span&gt;
&lt;span&gt;75&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;76&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt;         
&lt;span&gt;78&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;     
&lt;span&gt;80&lt;/span&gt; }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Thu, 17 Jan 2019 17:10:00 +0000</pubDate>
<dc:creator>æ¶›å§æ¶›å“¥</dc:creator>
<og:description>èƒŒæ™¯ï¼šå¹¶å‘çŸ¥è¯†æ˜¯ä¸€ä¸ªç¨‹åºå‘˜æ®µä½å‡çº§çš„ä½“ç°ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¿›å…¥BATçš„å¿…ç»ä¹‹è·¯ï¼Œæœ‰å¿…è¦æŠŠå¹¶å‘çŸ¥è¯†é‡æ–°æ¢³ç†ä¸€éã€‚ è¯´åˆ°å¹¶å‘concurrentï¼Œè‚¯å®šé¦–å…ˆæƒ³åˆ°äº†çº¿ç¨‹ï¼Œåˆ›å»ºçº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•ï¼š1ã€ä»Java.lang.</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/taojietaoge/p/10285607.html</dc:identifier>
</item>
<item>
<title>MVCã€MVCSã€MVVMã€MVPã€VIPERç­‰è¿™ä¹ˆå¤šæ¶æ„æ¨¡å¼å“ªä¸€ä¸ªå¥½å‘¢ï¼Ÿ - æ»´æ°´å¾®æ¾œ</title>
<link>http://www.cnblogs.com/zhou--fei/p/10285600.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zhou--fei/p/10285600.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;MVC&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;MVCæ˜¯æœ€ç»å…¸çš„æ¶æ„æ¨¡å¼ï¼Œå®ƒå‡ºç°çš„æ—¶é—´éå¸¸æ—©ï¼Œä¹Ÿæ˜¯æœ€è¢«äººæ‰€ç†ŸçŸ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;MVCæ¶æ„çš„ä»»åŠ¡åˆ†å·¥ä¸ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;M-modelï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.æ•°æ®ç»“æ„è¡¨ç¤ºÂ &lt;/p&gt;
&lt;p&gt;2.è¯»å–æœ¬åœ°æ•°æ®&lt;/p&gt;
&lt;p&gt;3.å†™æ•°æ®åˆ°æœ¬åœ°&lt;/p&gt;
&lt;p&gt;4.å¤„ç†å¼±ä¸šåŠ¡&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;C-Controllerï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†ä¸»è¦ä¸šåŠ¡é€»è¾‘&lt;/p&gt;
&lt;p&gt;2.å¤„ç†äº¤äº’äº‹ä»¶&lt;/p&gt;
&lt;p&gt;3.åè°ƒV-Mæ•°æ®æµ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;V-Viewï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å±•ç¤ºæ•°æ®&lt;/p&gt;
&lt;p&gt;2.å¤„ç†éé€»è¾‘äº¤äº’äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®ä¸Šé¢æè¿°ï¼Œæ€»ä¹‹ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mï¼šç®¡ç†æ•°æ®ï¼Œ Cï¼šå¤„ç†æ•°æ®ï¼Œ Vï¼šå±•ç¤ºæ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;div readability=&quot;25&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;MVCS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åå­—å°±æ„Ÿè§‰è¿™ä¸ªMVCSæ¶æ„æ¨¡å¼æ˜¯ä»MVCä¸­åˆ†åŒ–å‡ºæ¥çš„ï¼Œäº‹å®ä¸Šä¹Ÿç¡®å®å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;Sä¸ºStoreçš„ç®€ç§°ï¼Œæ„æ€ä¸ºâ€œå­˜å‚¨ï¼Œä¿å­˜â€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¤šå‡ºä¸€ä¸ªSåï¼Œå®ƒä»¬çš„åˆ†å·¥æœ‰ä»€ä¹ˆå˜åŒ–å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;S-Storeï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.è´Ÿè´£æ•°æ®çš„å­˜å‚¨ï¼Œæ•°æ®æœ¬åœ°æŒä¹…åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;M-Modelï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.æ•°æ®ç»“æ„è¡¨ç¤ºÂ &lt;/p&gt;
&lt;p&gt;2.è¯»å–æœ¬åœ°æ•°æ®&lt;/p&gt;
&lt;p&gt;3.å¤„ç†å¼±ä¸šåŠ¡&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;C-Controllerï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†ä¸»è¦ä¸šåŠ¡é€»è¾‘&lt;/p&gt;
&lt;p&gt;2.å¤„ç†äº¤äº’äº‹ä»¶&lt;/p&gt;
&lt;p&gt;3.åè°ƒV-Mæ•°æ®æµ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;V-Viewï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å±•ç¤ºæ•°æ®&lt;/p&gt;
&lt;p&gt;2.å¤„ç†éé€»è¾‘äº¤äº’äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„åˆ†å·¥å¯çŸ¥Cï¼ŒVåŒMVCæ¶æ„æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œåªæœ‰Mçš„æ•°æ®å­˜å‚¨ä»»åŠ¡è¢«åˆ†ç¦»äº†å‡ºæ¥ã€‚å³ï¼šSåˆ†æ‹…äº†Mçš„æ•°æ®ç®¡ç†ä»»åŠ¡ï¼Œé‚£ä¹ˆMå’ŒSå…¶å®éƒ½æ˜¯æ•°æ®ç®¡ç†çš„é€»è¾‘èŒƒç•´äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢æè¿°ï¼Œæ€»ä¹‹ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆM+Sï¼‰ï¼šç®¡ç†æ•°æ®ï¼Œ Cï¼šå¤„ç†æ•°æ®ï¼Œ Vï¼šå±•ç¤ºæ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;div readability=&quot;33&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;MVVM&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MVVMä¸ºäº†è§£å†³å‰ç«¯çš„å“åº”å¼ç¼–ç¨‹è€Œç”Ÿï¼Œç”±äºå‰ç«¯ç½‘é¡µæ··åˆäº†HTMLã€CSSå’ŒJavaScriptï¼Œè€Œä¸”é¡µé¢ä¼—å¤šï¼Œä»£ç çš„ç»„ç»‡å’Œç»´æŠ¤éš¾åº¦å¤æ‚ï¼Œæ‰€ä»¥é€šè¿‡ViewModelå®ç°Viewå’ŒModelçš„åŒå‘ç»‘å®šã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç§»åŠ¨ç«¯ä¸æ˜¯å‰ç«¯ï¼Œä»ä¸šåŠ¡å¤„ç†é€»è¾‘ä¸Šè®²ï¼Œç§»åŠ¨ç«¯è¦æ¯”å‰ç«¯å¤„ç†çš„é€»è¾‘æ›´å¤šï¼Œä½ é—®æˆ‘æœ‰å•¥ä¾æ®ã€‚ä½ å¯ä»¥æŠŠæ‰‹æœºçš„ç½‘æ–­æ‰ï¼Œè¿›å…¥å¸¦æœ‰ç¦»çº¿åŠŸèƒ½çš„APPï¼Œä¸€å¥—ä¸šåŠ¡èµ°ä¸‹æ¥ï¼Œæ²¡å•¥é—®é¢˜ã€‚ä½†æ˜¯ç”¨æµè§ˆå™¨æ‰“å¼€å‘¢ï¼Œçºµç„¶æ·»åŠ äº†ç¼“å­˜ï¼Œä¹Ÿæ˜¯ä¸èƒ½å°†ä¸€å¥—ä¸šåŠ¡èµ°å®Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¯´ï¼Œç§»åŠ¨ç«¯è¦æ¯”å‰ç«¯å¤„ç†çš„é€»è¾‘å¤šï¼&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°MVVMä½ ä¼šæœ‰ç–‘é—®ï¼Œä¸ºå•¥æ²¡æœ‰Cäº†ï¼Œæ˜¯ä¸æ˜¯ç”¨è¿™ä¸ªMVVMå°±ä¸éœ€è¦Cäº†å‘¢ï¼Ÿå¦‚æœä½ æ˜¯ç§»åŠ¨ç«¯çš„åŒå­¦ï¼Œæˆ‘ç»™ä½ è®²æ˜¯æœ‰Cçš„ã€‚&lt;/p&gt;
&lt;p&gt;MVVMæ¶æ„åœ¨ç§»åŠ¨ç«¯çš„å®Œæ•´å«æ³•æ˜¯ï¼šM-V-C-VMã€‚&lt;/p&gt;
&lt;p&gt;MVVMæ¶æ„çš„ä»»åŠ¡åˆ†å·¥ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;M-modelï¼šÂ &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.æ•°æ®ç»“æ„è¡¨ç¤ºÂ &lt;/p&gt;
&lt;p&gt;2.è¯»å–æœ¬åœ°æ•°æ®&lt;/p&gt;
&lt;p&gt;3.å†™æ•°æ®åˆ°æœ¬åœ°&lt;/p&gt;
&lt;p&gt;4.å¤„ç†å¼±ä¸šåŠ¡&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;C-Controllerï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†äº¤äº’äº‹ä»¶&lt;/p&gt;
&lt;p&gt;2.åè°ƒV-Mæ•°æ®æµ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;VM-ViewModel:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†ä¸»è¦ä¸šåŠ¡é€»è¾‘&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;V-Viewï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å±•ç¤ºæ•°æ®&lt;/p&gt;
&lt;p&gt;2.å¤„ç†éé€»è¾‘äº¤äº’äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„åˆ†å·¥å¯çŸ¥ï¼ŒVMåˆ†æ‹…äº†Cä¸­çš„æ•°æ®åŠ å·¥ä»»åŠ¡ï¼Œå°†ä¸šåŠ¡å¤„ç†æ”¾åˆ°äº†ViewModelä¸­ï¼Œå…¶ä»–çš„M,VåŒMVCæ¶æ„å®Œå…¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mï¼šç®¡ç†æ•°æ®ï¼Œ ï¼ˆC+VMï¼‰ï¼šå¤„ç†æ•°æ®ï¼Œ Vï¼šå±•ç¤ºæ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;div readability=&quot;29&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;MVP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MVPä»MVCè¡ç”Ÿè€Œæ¥ï¼Œä»åç§°ä¸Šçœ‹åªæ˜¯å°†Cæ¢æˆäº†Pã€‚å…¶ä»–éƒ½ä¸€æ ·ã€‚è€Œäº‹å®ä¸Šå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å®ƒä»¬ä¹Ÿç¡®å®è¿™æ ·ï¼ŒPæ‰¿æ‹…äº†Cçš„ä»»åŠ¡è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;åŒºåˆ«æ˜¯ï¼šå®ƒä»¬ä¸¤ä¸ªçš„æ•°æ®æµå‘ä¸ä¸€æ ·&lt;/p&gt;

&lt;div&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/826860/201901/826860-20190118004550947-64582877.png&quot; alt=&quot;&quot;/&gt;
&lt;/div&gt;
&lt;p&gt;MVCçš„æ•°æ®æµå‘å›¾&lt;/p&gt;

&lt;div&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/826860/201901/826860-20190118004555513-1943044014.png&quot; alt=&quot;&quot;/&gt;
&lt;/div&gt;
&lt;p&gt;MVPçš„æ•°æ®æµå‘å›¾&lt;/p&gt;

&lt;p&gt;å¯¹æ¯”ä¸€ä¸‹ï¼Œå°±å¯ä»¥ä¸€æ ·çœ‹å‡ºäº†ã€‚&lt;/p&gt;
&lt;p&gt;MVCæ¡†æ¶ä¸­ï¼ŒVçš„æ•°æ®ä»Modelä¸­æ‹¿&lt;/p&gt;
&lt;p&gt;MVPæ¡†æ¶ä¸­ï¼ŒVçš„æ•°æ®ä»Presenterä¸­æ‹¿ã€‚&lt;/p&gt;
&lt;p&gt;MVPæ¶æ„çš„ä»»åŠ¡åˆ†å·¥ä¸ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;M-modelï¼š&lt;/strong&gt;Â &lt;/p&gt;
&lt;p&gt;1.æ•°æ®ç»“æ„è¡¨ç¤ºÂ &lt;/p&gt;
&lt;p&gt;2.è¯»å–æœ¬åœ°æ•°æ®&lt;/p&gt;
&lt;p&gt;3.å†™æ•°æ®åˆ°æœ¬åœ°&lt;/p&gt;
&lt;p&gt;4.å¤„ç†å¼±ä¸šåŠ¡&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;P-Presenterï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†ä¸»è¦ä¸šåŠ¡é€»è¾‘&lt;/p&gt;
&lt;p&gt;2.å¤„ç†äº¤äº’äº‹ä»¶&lt;/p&gt;
&lt;p&gt;3.åè°ƒVï¼ŒMæ•°æ®æµï¼Œä»Mè¯»å–æ•°æ®ï¼Œå°†æ•°æ®é€šè¿‡æ¥å£ä¾›Vè°ƒç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;V-Viewï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å±•ç¤ºæ•°æ®&lt;/p&gt;
&lt;p&gt;2.å¤„ç†éé€»è¾‘äº¤äº’äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®ä¸Šé¢æè¿°ï¼Œæ€»ä¹‹ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mï¼šç®¡ç†æ•°æ®ï¼Œ Pï¼šå¤„ç†æ•°æ®ï¼Œ Vï¼šå±•ç¤ºæ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;div readability=&quot;20&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;VIPER&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VIPERæ˜¯è´£ä»»ç²’åº¦åˆ’åˆ†æ¯”è¾ƒç»†çš„ä¸€ä¸ªæ¶æ„æ¨¡å¼ï¼Œæ˜¯æŒ‰ç…§â€œè´£ä»»å•ä¸€åŸåˆ™â€çš„æ ‡å¿—æ¥èµ°çš„ï¼Œæ¯ä¸ªç±»æ‰€æ‰¿æ‹…çš„ä»»åŠ¡æ›´ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;VIPERæ¶æ„çš„ä»»åŠ¡åˆ†å·¥ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;E-Entityï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.æ•°æ®ç»“æ„è¡¨ç¤ºÂ &lt;/p&gt;
&lt;p&gt;2.è¯»å–æœ¬åœ°æ•°æ®&lt;/p&gt;
&lt;p&gt;3.å†™æ•°æ®åˆ°æœ¬åœ°&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;I-Interactorï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†ä¸»è¦ä¸šåŠ¡é€»è¾‘&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;P-Presenter:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†å¼±ä¸šåŠ¡&lt;/p&gt;
&lt;p&gt;2.å¤„ç†äº¤äº’äº‹ä»¶&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;R-Routing:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å¤„ç†è§†å›¾çš„å±•ç¤ºé¡ºåºé€»è¾‘æˆ–è€…è¯´æ˜¯æ§åˆ¶å™¨çš„è·³è½¬æ§åˆ¶&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;V-Viewï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å±•ç¤ºæ•°æ®&lt;/p&gt;
&lt;p&gt;2.å¤„ç†éé€»è¾‘äº¤äº’äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®ä¸Šé¢æè¿°ï¼Œå¯ç²—ç•¥çš„æ¦‚æ‹¬ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Eï¼šç®¡ç†æ•°æ®ï¼Œ ï¼ˆI+P+Rï¼‰ï¼šå¤„ç†æ•°æ®ï¼Œ Vï¼šå±•ç¤ºæ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;div readability=&quot;65&quot;&gt;
&lt;p&gt;æ¶æ„ä»é€»è¾‘åˆ†å±‚ä¸Šè®²ï¼Œå¸¸è§æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰å±‚æ¶æ„ï¼šå±•ç¤ºå±‚ï¼Œä¸šåŠ¡å±‚ï¼Œæ•°æ®å±‚ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å››å±‚æ¶æ„ï¼šå±•ç¤ºå±‚ï¼Œä¸šåŠ¡å±‚ï¼Œç½‘ç»œå±‚ï¼Œæœ¬åœ°æ•°æ®å±‚ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ¶æ„ä»ä»»åŠ¡åˆ†é…ä¸Šè®²ï¼Œå¸¸è§æœ‰äº”ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MVCã€MVCSã€MVVMã€MVPã€VIPER&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è€Œé€šå¸¸åœ¨å·¥ç¨‹ä¸­ï¼Œè¿™ä¸¤ä¸ªç»´åº¦çš„æ€æƒ³æ˜¯åŒæ—¶å­˜åœ¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šä¸‰å±‚MVCæ¶æ„ï¼Œå››å±‚MVCæ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢çš„å±‚çº§è¡¨ç¤ºé€»è¾‘åˆ†å±‚æ–¹å¼&lt;/p&gt;
&lt;p&gt;åé¢çš„å½¢å¼è¡¨ç¤ºä»»åŠ¡åˆ†é…æ–¹å¼&lt;/p&gt;

&lt;p&gt;å¯¹äºä¸Šé¢è®²çš„äº”ç§ä»»åŠ¡åˆ†é…æ–¹å¼ï¼Œå› ä¸ºæ˜¯å·²ç»è¢«äººç†ŸçŸ¥ï¼Œæ‰€æœ‰è¢«å¤§å·¥ç¨‹æ‰€é‡‡ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ç›®å‰æœ‰ä¸ªç–‘æƒ‘&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰æ—¶å€™ä¸€ä¸ªä¸šåŠ¡æ¨¡å—å¾ˆè´Ÿè´£æ—¶ï¼Œä¼šä¸æ–­çš„è®²ä¸šåŠ¡åˆ†æ‹†ã€‚ä¼šäº§ç”Ÿå¾ˆå¤šç§ç›®å½•ä¸æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¨¡å—å†…è§†å›¾æ§åˆ¶å™¨è·³è½¬é€»è¾‘è´Ÿè´£æ—¶ï¼Œä¼šå¼•å…¥ä¸­ä»‹è€…æ¨¡å¼è¿›è¡Œç»Ÿä¸€ç®¡ç†è·³è½¬ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ï¼Œæ¨¡å—å†…çš„ä»»åŠ¡åˆ†é…æ–‡ä»¶ç›¸å¯¹äºè¿™äº”ç§æ¶æ„æ¨¡å¼ï¼Œæ˜¾å¾—æœ‰ç‚¹å››ä¸åƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å°±ä¼šç–‘æƒ‘ï¼Œ&lt;strong&gt;æˆ‘è¿™åˆ°åº•ç”¨çš„æ˜¯ä»€ä¹ˆæ¶æ„æ¨¡å¼å•Šï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢äº”ç§æ¶æ„è´£ä»»åˆ’åˆ†çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯ä»€ä¹ˆæ¶æ„æ¨¡å¼ï¼Œå®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼šä»»åŠ¡çš„åˆ†é…æ–¹å¼ä¸åŒç½¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶æˆ‘ä»¬åœ¨ä»»åŠ¡åˆ†é…åçš„æ–‡ä»¶å’Œç›®å½•å››ä¸åƒï¼Œä½†æ˜¯å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚å’ŒåŠŸèƒ½æ‰©å±•ï¼Œè¿™å°±å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦è¢«å½¢å¼ä¸Šæ‰€é™åˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆä»€ä¹ˆæ˜¯å¥½çš„æ¶æ„æ¨¡å¼å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸ªäººè®¤ä¸ºæ¯”è¾ƒå¥½çš„æ¶æ„æ¨¡å¼ä¸ºï¼šä¸‰å±‚MVCæ¶æ„&lt;/p&gt;
&lt;p&gt;ä»»åŠ¡åˆ†é…æ–¹æ³•æ˜¯ä»¥MVCä»»åŠ¡åˆ†é…æ–¹æ¡ˆä¸ºåŸºç¡€ï¼ŒæŒ‰ç…§ä¸€å®šçš„åŸåˆ™è¿›è¡Œä¸ªæ€§åŒ–åˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;é‡‡ç”¨å¦‚ä¸‹åˆ†é…åŸåˆ™ï¼š&lt;/p&gt;
&lt;p&gt;1.ä¿ç•™å½“å‰è§’è‰²çš„ä¸»è¦åŠŸèƒ½ï¼Œæ‹†åˆ†æ¬¡è¦åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;2.å¼±ä¸šåŠ¡åŠŸèƒ½æ”¾åˆ°Modelä¸­ï¼Œå°½é‡ä¸è¦æ”¾åˆ°Controlleré‡Œå»ã€‚&lt;/p&gt;
&lt;p&gt;3.æ‹†åˆ†å‡ºå»çš„ä¸šåŠ¡åŠŸèƒ½å°½é‡å°è£…æˆå¯å¤ç”¨ç»„ä»¶ã€å¯¹è±¡æˆ–åè®®ã€‚&lt;/p&gt;
&lt;p&gt;4.æ§åˆ¶å¥½æ‹†åˆ†ç²’åº¦ï¼Œè°ƒç”¨æ¥å£å°‘å‚æˆ–æ— å‚ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·ä¸ç®¡å½¢å¼å¦‚ä½•å˜åŒ–ï¼Œåªæœ‰æ¶æ„é€»è¾‘åˆ†å±‚åœ¨ï¼ŒåŒæ—¶æ»¡è¶³ä¸šåŠ¡éœ€è¦å’ŒåŠŸèƒ½æ‰©å±•å°±æ˜¯å¥½æ¶æ„ã€‚&lt;/p&gt;
&lt;/div&gt;


</description>
<pubDate>Thu, 17 Jan 2019 16:42:00 +0000</pubDate>
<dc:creator>æ»´æ°´å¾®æ¾œ</dc:creator>
<og:description>åœ¨é¡¹ç›®å¼€å¯é˜¶æ®µï¼Œå…¶ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„ç¯èŠ‚å°±æ˜¯é€‰æ¶æ„ã€‚ é‚£ä¹ˆé¢å¯¹ç›®å‰å·²çŸ¥çš„è¿™ä¹ˆå¤šæ¶æ„æ¨¡å¼æˆ‘ä»¬è¯¥æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿè¿™ç¡®å®æ˜¯ä¸ªå¾ˆè®©äººå¤´ç–¼çš„é—®é¢˜ï¼ ä¸‹é¢æˆ‘å°±åœ¨è¿™é‡Œæ¢³ç†ä¸€ä¸‹ç›®å‰å¸¸è§çš„ä¸€äº›æ¶æ„æ¨¡å¼ã€‚ å…ˆé€ä¸ªå¯¹å®ƒä»¬çš„åˆ†æï¼Œç„¶</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/zhou--fei/p/10285600.html</dc:identifier>
</item>
<item>
<title>è‡ªä¸»æœºå™¨äººâ€œç½—å¾·å°¼â€ï¼šç¬¬ä¸€éƒ¨åˆ† - I.am.Conmajia</title>
<link>http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html</guid>
<description>&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;Phil Hopley è‘—&lt;br/&gt;Conmajia è¯‘&lt;br/&gt;2019 å¹´ 1 æœˆ 16 æ—¥&lt;/p&gt;
&lt;p&gt;åŸæ–‡å‘è¡¨äº CodeProjectï¼ˆ2019 å¹´ 1 æœˆ 15 æ—¥ï¼‰.&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ &lt;strong&gt;House Bot æœºå™¨äººæ“ä½œç³»ç»Ÿ&lt;/strong&gt;çš„ç¬¬ä¸€éƒ¨åˆ†.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;info important&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;å…¨æ–‡çº¦ 6000 å­—ï¼Œå»ºè®®é˜…è¯»æ—¶é—´ 15 åˆ†é’Ÿ.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190112011856517-760355778.png&quot;/&gt;&lt;a href=&quot;https://www.codeproject.com/KB/boards-embedded-devices/1249436/p1_code_files_v3.zip&quot;&gt;æºç  61.7 KB&lt;/a&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190112011856517-760355778.png&quot;/&gt;&lt;a href=&quot;https://www.codeproject.com/KB/boards-embedded-devices/1249436/Rodneys_3D_Prints.zip&quot;&gt;3D æ‰“å°æ–‡ä»¶ 70.9 KB&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;u&gt;ç½—å¾·å°¼&lt;/u&gt;æ˜¯æˆ‘è®¾è®¡çš„ä¸€ä¸ª&lt;em&gt;è‡ªä¸»å®¶åº­æœºå™¨äºº&lt;/em&gt;. è¿™æ˜¯è¿™ä¸ªé¡¹ç›®ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« . åœ¨è¿™éƒ¨åˆ†æˆ‘ä¸»è¦é˜è¿°æ¦‚å¿µï¼Œå¦‚ä½•é€‰æ‹©å•æ¿æœºï¼Œå®‰è£… ROSï¼ˆrobot operating systemï¼‰ä»¥åŠç¼–å†™ç¬¬ä¸€éƒ¨åˆ†ç”¨åˆ°çš„æ§åˆ¶è½¯ä»¶.&lt;/p&gt;

&lt;p&gt;æ—©åœ¨ 1970ã€1980 å¹´ä»£ï¼Œæˆ‘ä¹°äº†ä¸¤æœ¬ä¹¦ï¼š&lt;u&gt;David L. Heiserman&lt;/u&gt;&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fn1&quot; class=&quot;footnote-ref&quot; id=&quot;fnref1&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; çš„ã€Šå¦‚ä½•æ‰“é€ è‡ªç¼–ç¨‹æœºå™¨äººã€‹å’Œ &lt;u&gt;Tod Loofbourrow&lt;/u&gt;&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fn2&quot; class=&quot;footnote-ref&quot; id=&quot;fnref2&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; çš„ã€Šå¦‚ä½•æ‰“é€ è®¡ç®—æœºæ§åˆ¶çš„æœºå™¨äººã€‹. å½“æ—¶æˆ‘æ‰“ç®—ç”¨æˆ‘çš„ Z80 å¤„ç†å™¨æ¿æ¥åˆ¶ä½œæœºå™¨äººï¼Œå¯æƒœè¿™ä¸ªæœºå™¨äººä¸€ç›´æ²¡èƒ½è¯ç”Ÿ. è¿™ä¹ˆå¤šå¹´è¿‡å»äº†ï¼Œç°åœ¨æœ‰å¾ˆå¤šç±»ä¼¼&lt;strong&gt;æ ‘è“æ´¾&lt;/strong&gt;ï¼ˆRaspberry Piï¼‰å’Œ &lt;strong&gt;Arduino&lt;/strong&gt; ä¹‹ç±»çš„è¢–çå•æ¿ç”µè„‘. è¿™äº›æ–°ç©æ„å„¿è®©åˆ¶ä½œå¤æ‚çš„å®¶åº­æœºå™¨äººå˜å¾—ç‰¹åˆ«ç®€å•.&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘é‚£ä¸¤æœ¬å¯è’™è¯»ç‰©ä¸­ï¼Œä½œè€…ç»™æœºå™¨äººèµ·åå«&lt;strong&gt;ç½—å¾·å°¼&lt;/strong&gt;ï¼ˆRodneyï¼‰å’Œ&lt;strong&gt;è¿ˆå…‹&lt;/strong&gt;ï¼ˆMikeï¼‰ï¼Œé¡ºå…¶è‡ªç„¶ï¼Œæˆ‘ç»™æˆ‘çš„æœºå™¨äººèµ·åå«ç½—å¾·å°¼.&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117000100013-67006634.jpg&quot;/&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117000126984-1313701346.jpg&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;å›¾ 1 å‹¾èµ·æˆ‘å…´è¶£çš„ä¸¤æœ¬æœºå™¨äººåˆ¶ä½œä¹¦ç±&lt;/p&gt;
&lt;p&gt;æˆ‘åœ¨ CodeProject ä¸Šçœ‹åˆ°è¿‡ä¸¤ç¯‡å…³äºæœºå™¨äººçš„æ–‡ç« ï¼Œç»™æˆ‘å¯å‘å¾ˆå¤§.&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç¯‡æ–‡ç« æ˜¯ã€Šäººäººéƒ½é€ æœºå™¨äººï¼ã€‹ï¼ˆ&lt;em lang=&quot;cmn-latn&quot;&gt;&lt;a href=&quot;https://www.codeproject.com/Articles/1115414/Lets-build-a-robot&quot;&gt;Let's build a robot!&lt;/a&gt;&lt;/em&gt; &lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fn3&quot; class=&quot;footnote-ref&quot; id=&quot;fnref3&quot;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;ï¼‰ä»‹ç»äº†æœºå™¨äººçš„åŸºæœ¬æ¦‚å¿µå’Œä¸€äº›å¾ˆæ£’çš„æƒ³æ³•ï¼Œä¸è¿‡æˆ‘å¾ˆæ€€ç–‘é è¿™äº›æ¦‚å¿µæ€ä¹ˆé€ æœºå™¨äººï¼Ÿè¿™ç¯‡æ–‡ç« ç»™æˆ‘çš„æœ€å¤§å¯å‘æ˜¯å¯ä»¥ç”¨ä¸€ä¸ªå°æ˜¾ç¤ºå™¨å½“åšæœºå™¨äººçš„è„‘è¢‹. æœ€æœ‰ç”¨çš„è¿˜æ˜¯æ–‡ç« é‡Œä¸€ä¸ª &lt;a href=&quot;https://zenbo.asus.com/&quot;&gt;Pi Robot çš„åšå®¢é“¾æ¥&lt;/a&gt;ï¼Œè®©æˆ‘ç¬¬ä¸€æ¬¡è®¤è¯†äº†&lt;strong&gt;æœºå™¨äººæ“ä½œç³»ç»Ÿ&lt;/strong&gt;ï¼ˆROSï¼‰. è¿™å®é™…ä¸Šæ˜¯æœºå™¨äººç¼–ç¨‹çš„æ ‡å‡†ï¼Œå°±åƒç»´åŸºä¸Šå¯¹ ROS çš„è§£é‡Šï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;ROSï¼ˆæœºå™¨äººæ“ä½œç³»ç»Ÿï¼‰ä¸ºè½¯ä»¶å¼€å‘è€…åˆ›å»ºæœºå™¨äººç¨‹åºæä¾›å„ç§åº“å‡½æ•°å’Œå·¥å…·. å®ƒæä¾›äº†ç¡¬ä»¶çš„æŠ½è±¡ï¼Œè®¾å¤‡é©±åŠ¨ï¼Œåº“å‡½æ•°ï¼Œå¯è§†åŒ–é©±åŠ¨ï¼Œæ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œåˆ†åŒ…ç®¡ç†ç­‰ç­‰å†…å®¹. ROS ä½œä¸ºå¼€æºè½¯ä»¶ï¼Œé€šè¿‡ BSD è®¸å¯æˆæƒ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ROS å…¶å®ç®—ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ“ä½œç³»ç»Ÿï¼Œæ›´åƒæ˜¯ä¸€ä¸ªç”¨äº Linux ä¸Šçš„ä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰ï¼Œå°¤å…¶é€‚åˆè¿è¡Œåœ¨ Ubuntu ä¸Š. ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°å¤§é‡å¼€æºçš„ ROS ä»£ç ç”¨äºå„ç§ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥å¸®åŠ©ä½ é›†ä¸­ç²¾åŠ›å¼€å‘æœºå™¨äººç¨‹åº. ROS çš„ç»´åŸºä¹Ÿå…¨æ˜¯æ»¡æ»¡çš„å¹²è´§ï¼Œå¦‚æœä½ è¿˜ä¸ç†Ÿæ‚‰ ROSï¼Œå»&lt;a href=&quot;http://wiki.ros.org/&quot;&gt;ç»´åŸº&lt;/a&gt;çœ‹çœ‹å°±å¯¹äº†.&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç¯‡æ–‡ç« æ˜¯ã€ŠPiRexï¼šè¿œç¨‹æ§åˆ¶çš„æ ‘è“æ´¾æœºå™¨äººã€‹ï¼ˆ&lt;a href=&quot;https://www.codeproject.com/Articles/1237052/PiRex-remote-controlled-Raspberry-Pi-based-robot&quot;&gt;PiRex â€“ remote controlled Raspberry Pi based robot&lt;/a&gt; &lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fn4&quot; class=&quot;footnote-ref&quot; id=&quot;fnref4&quot;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;ï¼‰. å°½ç®¡æ¶µç›–çš„å†…å®¹ä¸å¦‚ç¬¬ä¸€ç¯‡é‚£ä¹ˆå¹¿æ³›ï¼Œè¿™ç¯‡æ–‡ç« å®Œæ•´é˜è¿°äº†ä¸€ä¸ªæœºå™¨äººé¡¹ç›®. ä¸¤ç¯‡æ–‡ç« éƒ½ç”¨åˆ°äº†æ ‘è“æ´¾ï¼Œè¿˜æ˜¯æ¯”è¾ƒä¾¿å®œçš„.&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç½—å¾·å°¼ä¸ç”¨å†åƒ 80 å¹´ä»£æˆ‘è®¡åˆ’çš„é‚£æ ·å…ˆè¦è‡ªåˆ¶ä¸€å—å¤„ç†å™¨æ¿ï¼Œç›´æ¥ç”¨ä¸Šäº†&lt;strong&gt;æ ‘è“æ´¾3B&lt;/strong&gt;ï¼Œå¸¦ 1GB å†…å­˜ï¼Œç›¸å½“ç»™åŠ›.&lt;/p&gt;

&lt;p&gt;è¿™é‡Œæˆ‘å°†è§£é‡Šå¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ ROS å’Œå®ƒæä¾›çš„å·¥å…·æ¥æµ‹è¯•ä»£ç . æˆ‘æ²¡æ‰“ç®—å†™ä¸€ç¯‡ ROS çš„æ•™ç¨‹ï¼Œç½‘ä¸Šå¯ä»¥æ‰¾æ‰“ä¸€å¤§å †ï¼Œæ¯”æˆ‘èƒ½å†™å‡ºæ¥çš„å¥½å¾—å¤š. å½“ç„¶æˆ‘ä¼šæ—¶ä¸æ—¶æä¾›ä¸€äº› ROS ç»´åŸºä¸Šçš„é“¾æ¥ä½œä¸ºå»¶ä¼¸é˜…è¯». ç°åœ¨å˜›ï¼Œæˆ‘å…ˆåˆ—å‡ºä¸€ä¸ªæçº²å’Œéƒ¨åˆ† ROS çš„åè¯ï¼Œä¼‘é—²è¯»è€…ä¹Ÿå¯ä»¥å¿«é€Ÿæµè§ˆ.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è¿™æ˜¯ä¸€ä¸ª&lt;strong&gt;åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/strong&gt;ï¼Œæœºå™¨äººä»£ç å¯ä»¥åœ¨é€šè¿‡ç½‘ç»œè¿æ¥çš„å¤šå°è®¾å¤‡ä¸Šè¿è¡Œ&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª&lt;strong&gt;èŠ‚ç‚¹&lt;/strong&gt;ï¼ˆnodeï¼‰è´Ÿè´£æ‰§è¡ŒæŸä¸€ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ä»¥&lt;strong&gt;åŠŸèƒ½åŒ…&lt;/strong&gt;ï¼ˆpackageï¼‰çš„å½¢å¼ç»„ç»‡ï¼Œä½œä¸ºä¸€å¥—æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶çš„é›†åˆ&lt;/li&gt;
&lt;li&gt;å¯ä»¥ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€æ¥è®¾è®¡èŠ‚ç‚¹ï¼Œæˆ‘ç”¨çš„æ˜¯ C++ å’Œ Python&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹äº’ç›¸ä¹‹é—´ç”¨ç§°ä¸º&lt;strong&gt;è¯é¢˜&lt;/strong&gt;ï¼ˆtopicï¼‰çš„å•å‘æµé€šä¿¡&lt;/li&gt;
&lt;li&gt;è¯é¢˜å±äºå³æ—¶&lt;strong&gt;æ¶ˆæ¯&lt;/strong&gt;ï¼ˆmessageï¼‰ï¼Œæ¶ˆæ¯æ˜¯è¯é¢˜çš„æ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;ROS è‡ªå¸¦æ ‡å‡†æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æ¶ˆæ¯ç»“æ„&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ä¹Ÿå¯ä»¥é€šè¿‡æœåŠ¡å™¨ï¼å®¢æˆ·ç«¯ï¼ˆserver/clientï¼‰çš„é˜»å¡å¼åè®®ï¼Œä½¿ç”¨&lt;strong&gt;æœåŠ¡&lt;/strong&gt;ï¼ˆserviceï¼‰è¿›è¡Œé€šä¿¡&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹è¿˜å¯ä»¥é€šè¿‡&lt;strong&gt;åŠ¨ä½œ&lt;/strong&gt;ï¼ˆactionï¼‰åè®®è¿›è¡Œéé˜»å¡å¼é¢å‘ç›®æ ‡ä»»åŠ¡çš„é€šä¿¡&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰èŠ‚ç‚¹å‘ç³»ç»Ÿä¸­å”¯ä¸€çš„&lt;strong&gt;ä¸»æœº&lt;/strong&gt;ï¼ˆmasterï¼‰æ³¨å†Œï¼Œå³ä½¿ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¸»æœºä¹Ÿæ˜¯å”¯ä¸€çš„&lt;/li&gt;
&lt;li&gt;ç”¨ catkin æ„å»ºå’Œç¼–è¯‘ä»£ç &lt;/li&gt;
&lt;li&gt;ç‹¬ç«‹çš„èŠ‚ç‚¹å¯ä»¥ç”¨ &lt;code&gt;rosrun&lt;/code&gt; å‘½ä»¤è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨å¯åŠ¨å·¥å…·åœ¨ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹å¯ç”¨å¤šä¸ªèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸåŒ…å«äº†ä¸€ä¸ª&lt;strong&gt;å‚æ•°æœåŠ¡å™¨&lt;/strong&gt;ï¼ˆparameter serverï¼‰ï¼ŒèŠ‚ç‚¹å¯ä»¥åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å­˜å–å‚æ•°&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿè¿˜åŒ…å«æ£€æŸ¥ã€ç¡¬ä»¶ä»¿çœŸç­‰å¤šç§å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ—¢ç„¶å†³å®šäº†ç”¨æ ‘è“æ´¾ä½œä¸ºå¤„ç†å™¨ï¼ŒROS ä½œä¸ºè½¯ä»¶ç³»ç»Ÿï¼Œç¬¬ä¸€ä»¶è¦åšçš„äº‹æƒ…å°±æ˜¯åœ¨æ ‘è“æ´¾ä¸Š&lt;em&gt;å®‰è£…&lt;/em&gt; &lt;em lang=&quot;cmn-latn&quot;&gt;ROS&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;ROS çš„ä¸‹è½½ã€å®‰è£…æ–¹æ³•å¯ä»¥å‚è€ƒ&lt;a href=&quot;http://wiki.ros.org/ROS/Installation&quot;&gt;è¿™ä¸ªç½‘é¡µ&lt;/a&gt;. ä½†æ˜¯æ›´è½»æ¾çš„æ–¹æ³•æ˜¯ç”¨æˆ‘åˆ¶ä½œçš„é¢„è£…äº† ROSï¼Œå¯ä»¥åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œçš„ Ubuntu ç³»ç»Ÿé•œåƒ. ä½ å¯ä»¥åœ¨ &lt;a href=&quot;https://ubiquityrobotics.com/&quot;&gt;Ubiquity Robotics&lt;/a&gt; ç½‘ç«™ä¸Šä¸‹è½½è¿™ä¸ªé•œåƒ. é•œåƒä¸­é¢„è£…çš„æ˜¯ Kinetic ç‰ˆçš„ ROSï¼Œå†…ç½®äº†è®¿é—®æ ‘è“æ´¾æ‘„åƒå¤´çš„ &lt;a href=&quot;https://github.com/ubiquityRobotics/raspicam_node&quot;&gt;raspicam_node&lt;/a&gt; åŒ…. å½“ç„¶ä½ å¯ä»¥ç”¨åˆ«çš„é•œåƒï¼Œ&lt;a href=&quot;https://github.com/UbiquityRobotics&quot;&gt;GitHub&lt;/a&gt; ä¸Šå¯ä»¥ä¸‹è½½ Ubiquity æäº¤çš„åŠŸèƒ½åŒ…æºç .&lt;/p&gt;
&lt;p&gt;ç½—å¾·å°¼ç”¨åˆ°çš„å…¶ä»–å¤–è®¾æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;7 å¯¸è§¦æ‘¸å±&lt;/li&gt;
&lt;li&gt;æ‘„åƒå¤´æ¨¡å—&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ˜¾ç¤ºå±æ˜¾ç¤ºæœºå™¨äººçš„çŠ¶æ€ä¿¡æ¯ï¼Œweb å†…å®¹ï¼ŒåŒæ—¶æ˜¾ç¤ºæœºå™¨äººçš„è¡¨æƒ…ï¼Œç®—æ˜¯ç»™äº†å®ƒä¸€å¼ â€œè„¸â€. æ‘„åƒå¤´æ˜¯æœºå™¨äººçš„â€œçœ¼ç›â€ï¼Œèƒ½è¿›è¡Œäººè„¸è¯†åˆ«ï¼Œè®©å®ƒå…ˆè®¤å‡ºä¸»äººæ¥.&lt;/p&gt;
&lt;p&gt;è¿™å¼ æ˜¯è§¦æ‘¸å±çš„ç…§ç‰‡ï¼Œæ ‘è“æ´¾å’Œæ‘„åƒå¤´å®‰åœ¨å±å¹•èƒŒé¢ï¼Œç”¨ 3D æ‰“å°çš„é›¶ä»¶ç»„è£…èµ·æ¥. é›¶ä»¶çš„ &lt;code&gt;.stl&lt;/code&gt; æ–‡ä»¶æˆ‘å·²ç»æ‰“åŒ…å‡ºæ¥ï¼Œ&lt;a href=&quot;https://www.codeproject.com/KB/boards-embedded-devices/1249436/Rodneys_3D_Prints.zip&quot;&gt;ç‚¹å‡»ä¸‹è½½&lt;/a&gt;.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117135532327-911304995.jpg&quot; width=&quot;480px&quot;/&gt;&lt;p&gt;ï¼ˆæ­£é¢ï¼‰&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117135543847-1392762844.jpg&quot; width=&quot;480px&quot;/&gt;&lt;p&gt;ï¼ˆåé¢ï¼‰&lt;/p&gt;
&lt;p&gt;å›¾ 2 ç½—å¾·å°¼çš„è„‘è¢‹ï¼ˆæ­£é¢å’Œåé¢ï¼‰&lt;/p&gt;
&lt;p&gt;é‰´äº ROS å¯ä»¥åœ¨åˆ†å¸ƒå¼ç½‘ç»œä¸Šè¿è¡Œï¼Œæˆ‘æŠŠæˆ‘çš„ Ubuntu PC æœºä¹Ÿè£…ä¸Šäº† ROSï¼Œç”¨æ¥å¼€å‘èŠ‚ç‚¹ï¼Œè¿è¡Œ ROS æµ‹è¯•å·¥å…·ã€ä»¿çœŸå·¥å…·ç­‰ç­‰.&lt;/p&gt;
&lt;h2 id=&quot;æœºå™¨äººçš„ä»»åŠ¡&quot;&gt;æœºå™¨äººçš„ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;è®¾è®¡é¡¹ç›®æœ€åŸºæœ¬çš„æ˜¯ç¡®å®šéœ€æ±‚. å¯¹äºç½—å¾·å°¼ï¼Œæˆ‘æ‰“ç®—æŒ‡å®šä¸€äº›æƒ³è®©å®ƒå®Œæˆçš„åŠŸèƒ½. ã€Šäººäººéƒ½é€ æœºå™¨äººï¼ã€‹é‡Œç½—åˆ—äº†å¾ˆå¤šå®¶åº­æœºå™¨äººå¯ä»¥åšçš„å·¥ä½œï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;strong&gt;å¸®æˆ‘å¸¦ä¸ªè¯&lt;/strong&gt;&lt;br/&gt;&lt;em&gt;æ—¢ç„¶æœºå™¨äººå¯ä»¥&lt;em&gt;è®¤å‡º&lt;/em&gt;å®¶åº­æˆå‘˜ï¼Œé‚£ä¹ˆè®©å®ƒç»™æŸäºº&lt;em&gt;å¸¦ä¸ªè¯&lt;/em&gt;å°±å¾ˆè‡ªç„¶äº†. æˆ‘å¯ä»¥è¯´&lt;q&gt;æœºå™¨äººï¼Œå¸®æˆ‘å‘Šè¯‰&lt;u&gt;æŸæŸ&lt;/u&gt;ä¸‹åˆå…­ç‚¹æ¥è½¦ç«™æ¥æˆ‘.&lt;/q&gt; ä¹‹åï¼Œå³ä½¿ä»–ç”µè¯é™éŸ³äº†æˆ–è€…æ­£åœ¨å—¨éŸ³ä¹ï¼Œæœºå™¨äººä¹Ÿä¼šè·‘åˆ°ä»–çš„æˆ¿é—´ï¼Œæ‰¾åˆ°ä»–æé†’ä»–.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¬èµ·æ¥ä¸é”™ï¼Œä¹Ÿè®¸æˆ‘çš„é¡¹ç›®å¯ä»¥ä»è¿™ä¸ªä»»åŠ¡å…¥æ‰‹. å½“ç„¶åº”ç¨ä½œæ”¹è¿›ï¼Œæ¯•ç«Ÿæˆ‘è®¾è®¡çš„ç½—å¾·å°¼å¯ä»¥é€šè¿‡ç½‘ç»œæµè§ˆå™¨æ¥æ§åˆ¶å¹¶è®¾ç½®ä»»åŠ¡.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¦ä¸ªè¯ç»™æŸäºº&lt;/strong&gt;æ˜¯ä¸€ä¸ªå¤§ä»»åŠ¡ï¼Œå¯ä»¥æ‹†åˆ†æˆå°çš„è®¾è®¡ç›®æ ‡ï¼Œå„è‡ªåˆ†åˆ«å®Œæˆï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;ä½¿ç”¨æ‘„åƒå¤´è§‚å¯Ÿç¯å¢ƒï¼Œæœç´¢å¹¶è¯†åˆ«äººè„¸ï¼Œæ‰¾åˆ°åæ˜¾ç¤ºæ¶ˆæ¯ï¼ˆåœ¨è„¸ä¸Šï¼‰&lt;/li&gt;
&lt;li&gt;é¢éƒ¨è¯†åˆ«å’Œè¯­éŸ³åˆæˆ.ï¼Œè¿™æ ·ç½—å¾·å°¼å¯ä»¥çœŸæ­£åœ°&lt;em&gt;å¸¦ä¸ªè¯&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡é”®ç›˜å’Œæ‘‡æ†é¥æ§æœºå™¨äººç§»åŠ¨&lt;/li&gt;
&lt;li&gt;è¾…åŠ©å¯¼èˆªçš„æ¿€å…‰é›·è¾¾æˆ–è€…ç±»ä¼¼çš„ä¼ æ„Ÿå™¨&lt;/li&gt;
&lt;li&gt;è‡ªä¸»ç§»åŠ¨&lt;/li&gt;
&lt;li&gt;å®‰æ’ä»»åŠ¡å®Œæˆåæç¤º&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¯¹æœºå™¨äººæ¥è¯´ï¼Œä¸€ä¸ªçœ‹èµ·æ¥å¾ˆç®€å•çš„ä»»åŠ¡éƒ½èƒ½åˆ—å‡ºè¿™ä¹ˆé•¿çš„å•å­. å…·ä½“å®ç°èµ·æ¥ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸¤å¥è¯èƒ½è¯´æ˜ç™½çš„. æ¥ä¸‹æ¥ï¼Œæˆ‘æŠŠ&lt;strong&gt;å¸¦ä¸ªè¯&lt;/strong&gt;å®šä¸ºâ€œä»»åŠ¡ 1â€ï¼Œåˆ†åˆ«è®¾è®¡å®ç°ä¸Šé¢å„ä¸ªç›®æ ‡.&lt;/p&gt;
&lt;h2 id=&quot;ä»»åŠ¡-1ç›®æ ‡-1&quot;&gt;ä»»åŠ¡ 1ï¼Œç›®æ ‡ 1&lt;/h2&gt;
&lt;p&gt;è¦å®Œæˆè¿™ä¸ªè®¾è®¡ç›®æ ‡ï¼Œéœ€è¦ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç”¨ RC èˆµæœºæ§åˆ¶æœºå™¨äººçš„è„‘è¢‹ï¼ˆæ‘„åƒå¤´ï¼‰å¹³ç§»å’Œå€¾æ–œ&lt;/li&gt;
&lt;li&gt;è¯»å–æ ‘è“æ´¾æ‘„åƒå¤´æ‹æ‘„çš„å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;æ£€æµ‹è¯†åˆ«äººè„¸&lt;/li&gt;
&lt;li&gt;ä¾åºæ§åˆ¶è¿™äº›åŠ¨ä½œ&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;info&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;u&gt;å¹³ç§»&lt;/u&gt;æŒ‡èˆµæœºåœ¨&lt;em&gt;æ°´å¹³æ–¹å‘æ—‹è½¬&lt;/em&gt;ï¼Œ&lt;u&gt;å€¾æ–œ&lt;/u&gt;æŒ‡&lt;em&gt;å‚ç›´æ–¹å‘æ—‹è½¬&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå…ˆå…³æ³¨ç§»åŠ¨æœºå™¨äººçš„è„‘è¢‹. å¾ˆæ˜¾ç„¶ï¼Œéœ€è¦ä¸¤ä¸ª&lt;strong&gt;èˆµæœº&lt;/strong&gt;åˆ†åˆ«æ§åˆ¶&lt;strong&gt;å¹³ç§»&lt;/strong&gt;ï¼ˆpanï¼‰å’Œ&lt;strong&gt;å€¾æ–œ&lt;/strong&gt;ï¼ˆtiltï¼‰. ä¸ºäº†æ‰©å±•ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€å¥—é¢å¤–çš„èˆµæœºï¼ˆ2 ä¸ªï¼‰. è¿™äº›èˆµæœºéƒ½æ˜¯é€šè¿‡ PWM ä¿¡å·æ§åˆ¶çš„ï¼Œä½†æ˜¯æ ‘è“æ´¾åªæœ‰ 1 ä¸ªç¡¬ä»¶ PWM é€šé“ï¼Œæ‰€ä»¥è¦ä½¿ç”¨è½¯ä»¶æ–¹å¼åœ¨ GPIO å£è¾“å‡º PWM ä¿¡å·. å¦å¤–éœ€è¦æ³¨æ„é¿å…è·³èˆµï¼Œæˆ‘ç”¨äº†ä¸€å—å•ç‹¬çš„ç”µè·¯æ¿è¿›è¡Œæ§åˆ¶.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.piborg.org/sensors-1136/ultraborg&quot;&gt;PiBorg, the UltraBorg&lt;/a&gt; ä¸Šæœ‰ä¸€ç§æ¨¡å—ï¼Œé€šè¿‡ I2C æ€»çº¿æŠŠ 4 è·¯èˆµæœºå’Œ 4 è·¯ HC-SR04 è¶…å£°æ³¢ä¼ æ„Ÿå™¨è¿åˆ°æ ‘è“æ´¾. ä¸è¿‡æˆ‘ä¸Šä¸€ä¸ªé¡¹ç›®è¿˜å‰©äº†ä¸å°‘ Arduino Nanoï¼Œæˆ‘æ‰“ç®—ç”¨å®ƒæ¥åšæ§åˆ¶æ¿.&lt;/p&gt;
&lt;p&gt;ROS ç¤¾åŒºæœ‰å¾ˆå¤šæ°ä½œå¯ä»¥åº”ç”¨ï¼Œè¿™æ ·æˆ‘èƒ½ä¸“å¿ƒè®¾è®¡æˆ‘çš„æœºå™¨äººç¨‹åºï¼Œå…¶ä»–æ–¹é¢ï¼Œå°½é‡å‘æ‰¬â€œæ‹¿æ¥ä¸»ä¹‰â€çš„ç²¾ç¥. ä½¿ç”¨ &lt;code&gt;rosserial_arduino&lt;/code&gt; åŒ…ï¼Œå¯ä»¥æŠŠ Arduino é€šè¿‡ä¸²å£è¿æ¥åˆ° ROSï¼Œè¿™ä¸ªåŒ…çš„æ–‡æ¡£åœ¨&lt;a href=&quot;http://wiki.ros.org/rosserial_arduino&quot;&gt;è¿™é‡Œé˜…è¯»&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å‰ï¼Œè¦åœ¨ ROS ç›®æ ‡æœºå’Œ Arduino IDE é‡Œå®‰è£… &lt;code&gt;rosserial_arduino&lt;/code&gt;ï¼Œå¦‚æœç”¨äº†è‡ªå®šä¹‰æ¶ˆæ¯ï¼Œé‚£è¿˜è¦é‡æ–°ç¼–è¯‘ Arduino åº“. è¿™äº›æ“ä½œåœ¨&lt;a href=&quot;http://wiki.ros.org/rosserial_arduino/Tutorials&quot;&gt;æ•™ç¨‹&lt;/a&gt;é‡Œéƒ½æœ‰è®²è§£.&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ¥ç¼–å†™æ§åˆ¶å„ä¸ªèˆµæœºä½ç½®çš„ ROS åŠŸèƒ½åŒ…. è¿™ä¸ªåŒ…çš„èŠ‚ç‚¹å°†å¤„ç†å¹³ç§»ï¼å€¾æ–œçš„æ¶ˆæ¯ï¼ŒæŠŠå®ƒè½¬åŒ–æˆç‹¬ç«‹çš„ä½ç½®æ¶ˆæ¯ä¼ ç»™ Arduinoï¼Œç”±åè€…è´Ÿè´£æ§åˆ¶æ“ä½œèˆµæœº. ç¬¬ä¸€æ¡æ¶ˆæ¯åˆ¤æ–­éœ€è¦ç§»åŠ¨å“ªä¸ª&lt;strong&gt;å…³èŠ‚&lt;/strong&gt;ï¼Œç§»åŠ¨å¤šå°‘ï¼›ç¬¬äºŒæ¡æ¶ˆæ¯å‘é€ä¸€ä¸ª&lt;strong&gt;ç¼–å·&lt;/strong&gt;å’Œ&lt;strong&gt;è§’åº¦å€¼&lt;/strong&gt;ç»™ Arduinoï¼Œå¯åŠ¨å¯¹åº”çš„èˆµæœº. è¿™æ ·åˆ’åˆ†åŠŸèƒ½åï¼ŒArduino ç¼–ç¨‹æ—¶å°±ä¸å¿…è€ƒè™‘è°ƒç”¨å®ƒçš„ ROSï¼Œåªè´Ÿè´£æ“ä½œèˆµæœº.&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¡æ¶ˆæ¯æˆ‘ç”¨ ROS å†…ç½®çš„ &lt;a href=&quot;http://docs.ros.org/api/sensor_msgs/html/msg/JointState.html&quot;&gt;&lt;code&gt;sensor_msgs/JointState&lt;/code&gt;&lt;/a&gt; å®ç°. ROS é‡Œæ ‡å‡†çš„ä½ç½®å•ä½æ˜¯&lt;em&gt;å¼§åº¦&lt;/em&gt;ï¼ŒArduino æ¥å—çš„è§’åº¦å•ä½æ˜¯&lt;strong&gt;åº¦&lt;/strong&gt;ï¼Œæ‰€ä»¥åœ¨è®¾è®¡èŠ‚ç‚¹çš„æ—¶å€™è¿˜è¦å…ˆæŠŠå¼§åº¦æ¢ç®—æˆåº¦. &lt;code&gt;JointState&lt;/code&gt; é‡Œæœ‰ä¸å°‘å­—æ®µæš‚æ—¶éƒ½ç”¨ä¸ä¸Šï¼Œè™½ç„¶æœ‰ç‚¹æµªè´¹ï¼Œä¸è¿‡ä½¿ç”¨ ROS å†…ç½®æ¶ˆæ¯çš„å¥½å¤„åœ¨äºå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨å®ƒæä¾›çš„å„ç§é…å¥—å·¥å…·.&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ¡æ¶ˆæ¯å®šä¹‰äº†å¾…æ“ä½œèˆµæœºç¼–å·å’Œè§’åº¦. è¿™é‡Œæˆ‘ç”¨äº†è‡ªå®šä¹‰çš„æ¶ˆæ¯ï¼Œé¿å… Arduino æºç é‡Œä¸å¿…è¦çš„èµ„æºæµªè´¹.&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ¥ç¼–å†™ç”¨äºè¿™ä¸¤æ¡æ¶ˆæ¯çš„åŠŸèƒ½åŒ…ï¼Œä»¥åŠç”¨äº ROS çš„ Arduino æºç .&lt;/p&gt;
&lt;p&gt;æ§åˆ¶èˆµæœºçš„åŠŸèƒ½åŒ…æ¶ˆæ¯æˆ‘å‘½åä¸º &lt;code&gt;servo_msgs&lt;/code&gt;. åˆ›å»ºå¥½åï¼Œå®ƒå°†ç”Ÿæˆ C++ å’Œ Python ä»£ç ï¼ŒåŒæ—¶é‡æ–°ç¼–è¯‘ Arduino åº“ç”Ÿæˆ &lt;code&gt;.h&lt;/code&gt; æ–‡ä»¶.&lt;/p&gt;
&lt;p&gt;å®ç°è¿™ä¸ªåŠŸèƒ½åŒ…çš„ä»£ç æ–‡ä»¶åŒ…å­˜åœ¨ &lt;code&gt;servo_msgs&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ï¼ŒåŒ…æ‹¬äº†ä¸€ä»½è¯´æ˜æ–‡ä»¶ä»¥åŠæ¯ä¸ª ROS åŠŸèƒ½åŒ…éƒ½éœ€è¦çš„ &lt;code&gt;CmakeList.txt&lt;/code&gt; å’Œ &lt;code&gt;package.xml&lt;/code&gt; æ–‡ä»¶. è¿™äº›æ–‡ä»¶çš„æ„ä¹‰ä»¥åŠå¦‚ä½•åˆ›å»ºåŠŸèƒ½åŒ…ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡&lt;a href=&quot;http://wiki.ros.org/ROS/Tutorials/CreatingPackage&quot;&gt;æ•™ç¨‹&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;msg&lt;/code&gt; æ–‡ä»¶å¤¹åŒ…å«äº†æ¶ˆæ¯çš„å®šä¹‰æ–‡ä»¶ &lt;code&gt;servo_array.msg&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;py&quot;&gt;
&lt;code&gt;# index references the servo that the angle is for, e.g. 0, 1, 2 or 3
# angle is the angle to set the servo to
uint8 index
uint16 angle&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é™¤äº†ç¼–ç¨‹è¯­æ³•çš„ä¸€ç‚¹åŒºåˆ«ï¼Œè¿™ä¸ªå®šä¹‰æ–‡ä»¶å¯ä»¥ç†è§£æˆ C è¯­è¨€çš„ç»“æ„ä½“. è¿™ä¸ªæ¶ˆæ¯å°†ä½œä¸º ROS è¯é¢˜å‘é€ç»™ Arduinoï¼Œå®ƒåŒ…å«äº†ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«æŒ‡å®šèˆµæœºç¼–å·ï¼ˆindexï¼‰å’Œè¦è®¾ç½®çš„è§’åº¦ï¼ˆangleï¼‰.&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„ ROS åŠŸèƒ½åŒ…. æ¥ä¸‹æ¥å°†å®ç°ç”¨äºå¹³ç§»ï¼å€¾æ–œçš„ &lt;code&gt;pan_tilt&lt;/code&gt; åŠŸèƒ½åŒ…. è¿™ä¸ªåŒ…çš„æ–‡ä»¶éƒ½åœ¨ &lt;code&gt;pan_tilt&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ï¼ŒèŠ‚ç‚¹å &lt;code&gt;pan_tilt_node&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;æœ‰å‡ ä¸ªå­æ–‡ä»¶å¤¹ï¼Œ&lt;code&gt;config&lt;/code&gt; åŒ…å«äº†é…ç½®æ–‡ä»¶ &lt;code&gt;config.yaml&lt;/code&gt;ï¼Œç”¨æ¥è®¾ç½®ç»™åˆ°å‚æ•°æœåŠ¡å™¨çš„å‚æ•°. è¿™æ ·å°±èƒ½ä¿®æ”¹ç³»ç»Ÿé…ç½®è€Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ä»£ç äº†. å¯åŠ¨æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;py&quot;&gt;
&lt;code&gt;# Configuration for pan/tilt devices
# In Rodney index0 is for the head and index 1 is spare
servo:
  index0:
    pan:
      servo: 0          
      joint_name: 'head_pan'
    tilt:
      servo: 1
      flip_rotation: true
      max: 0.349066 
      min: -1.39626
      joint_name: 'head_tilt'
  index1:
    pan:
      servo: 2
    tilt:
      servo: 3&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;index0&lt;/code&gt; å’Œ &lt;code&gt;index1&lt;/code&gt; åˆ†åˆ«ç»™ä¸¤ä¸ªå¹³ç§»ï¼å€¾æ–œè®¾å¤‡ï¼ˆä»¥ä¸‹ç®€ç§°&lt;strong&gt;è®¾å¤‡&lt;/strong&gt;ï¼‰æä¾›å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;servo&lt;/code&gt; æŒ‡å®šè´Ÿè´£å½“å‰å…³èŠ‚çš„èˆµæœºç¼–å·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;joint_name&lt;/code&gt; æŒ‡å®š &lt;code&gt;joint_state&lt;/code&gt; æ¶ˆæ¯é‡Œå…³èŠ‚çš„åç§°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max&lt;/code&gt; å’Œ &lt;code&gt;min&lt;/code&gt; ç”¨äºé™åˆ¶å…³èŠ‚ç§»åŠ¨å¹…åº¦ï¼Œå•ä½æ˜¯å¼§åº¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;flip_rotation&lt;/code&gt; ä¸‹æ–‡è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ROS æƒ¯ä¾‹æ˜¯&lt;strong&gt;å³æ‰‹å®šåˆ™&lt;/strong&gt;ï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Right-hand_rule&quot;&gt;right-hand rule&lt;/a&gt;ï¼‰ï¼Œå› æ­¤å…³èŠ‚çš„å€¼ä¼šå›´ç»•æ­£è½´çš„é€†æ—¶é’ˆæ–¹å‘ä¸Šå¢å¤§. ç°åœ¨åœ¨ç½—å¾·å°¼çš„å¤´éƒ¨å€¾æ–œèˆµæœºå®‰è£…çš„æ–¹å¼éµå¾ª&lt;strong&gt;å·¦æ‰‹å®šåˆ™&lt;/strong&gt;ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½® &lt;code&gt;flip_rotation&lt;/code&gt; ä¸º&lt;strong&gt;çœŸ&lt;/strong&gt;. &lt;code&gt;pan_tilt_node&lt;/code&gt; å¯ä»¥ä¿è¯ä¼ ç»™ Arduino çš„èˆµæœºæ–¹å‘æ˜¯æ­£ç¡®çš„ï¼Œè¿™ç‚¹ä¸ç”¨æ‹…å¿ƒ.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cfg&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹çš„ &lt;code&gt;pan_tilt.cfg&lt;/code&gt; æ–‡ä»¶ç”¨äºåŠ¨æ€é…ç½®æœåŠ¡å™¨ï¼Œè¿™æ ·å¯ä»¥éšæ—¶å¯¹èˆµæœºè¿›è¡Œ&lt;strong&gt;å¾®è°ƒ&lt;/strong&gt;ï¼ˆtrimï¼‰. è¿™ä¸ªæ–‡ä»¶å®é™…ä¸Šæ˜¯ Python è„šæœ¬ï¼š&lt;/p&gt;
&lt;pre class=&quot;py&quot;&gt;
&lt;code&gt;#!/usr/bin/env python
PACKAGE = &quot;pan_tilt&quot;

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

gen.add(&quot;index0_pan_trim&quot;,  int_t, 0, &quot;Index 0 - Pan Trim&quot;,  0,  -45, 45)
gen.add(&quot;index0_tilt_trim&quot;, int_t, 0, &quot;Index 0 - Tilt Trim&quot;, 0,  -45, 45)
gen.add(&quot;index1_pan_trim&quot;,  int_t, 0, &quot;Index 1 - Pan Trim&quot;,  0,  -45, 45)
gen.add(&quot;index1_tilt_trim&quot;, int_t, 0, &quot;Index 1 - Tilt Trim&quot;, 0,  -45, 45)

exit(gen.generate(PACKAGE, &quot;pan_tilt_node&quot;, &quot;PanTilt&quot;))&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…³äºåŠ¨æ€é…ç½®æœåŠ¡å™¨è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥çœ‹&lt;a href=&quot;http://wiki.ros.org/dynamic_reconfigure&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;. åœ¨è¿™é‡Œï¼Œæˆ‘æ·»åŠ äº† 4 ä¸ªå‚æ•°ï¼Œç”¨æ¥åˆ†åˆ«é…ç½® 4 ä¸ªèˆµæœºï¼Œé»˜è®¤å€¼éƒ½æ˜¯ 0ï¼Œè½¬åŠ¨èŒƒå›´ -45&lt;span class=&quot;math inline&quot;&gt;\(^\circ\)&lt;/span&gt; åˆ° 45&lt;span class=&quot;math inline&quot;&gt;\(^\circ\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;launch&lt;/code&gt; æ–‡ä»¶å¤¹åŒ…å«äº†å…¨éƒ¨å¯åŠ¨æ–‡ä»¶. å…¶ä¸­çš„ &lt;code&gt;pan_tilt_test.launch&lt;/code&gt; æ˜¯æµ‹è¯•ä¸“ç”¨çš„. å®ƒå®é™…ä¸Šæ˜¯ä¸ª XML æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot; ?&amp;gt;
&amp;lt;launch&amp;gt;
  &amp;lt;rosparam command=&quot;load&quot; file=&quot;$(find pan_tilt)/config/config.yaml&quot; /&amp;gt;
  &amp;lt;node pkg=&quot;pan_tilt&quot; type=&quot;pan_tilt_node&quot; name=&quot;pan_tilt_node&quot; output=&quot;screen&quot; /&amp;gt;
  &amp;lt;node pkg=&quot;rosserial_python&quot; type=&quot;serial_node.py&quot; name=&quot;serial_node&quot; output=&quot;screen&quot; args=&quot;/dev/ttyUSB0&quot; /&amp;gt;
&amp;lt;/launch&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…³äºå¯åŠ¨æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥çœ‹&lt;a href=&quot;http://wiki.ros.org/roslaunch/XML&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;. åœ¨å¯åŠ¨æ–‡ä»¶é‡Œï¼Œé¦–å…ˆç”¨ &lt;code&gt;load&lt;/code&gt; å‘½ä»¤åŠ è½½äº†é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;rosparam command=&quot;load&quot; file=&quot;$(find pan_tilt)/config/config.yaml&quot; /&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ‰§è¡Œäº† &lt;code&gt;pan_tilt&lt;/code&gt; åŠŸèƒ½åŒ…çš„ &lt;code&gt;pan_tilt_node&lt;/code&gt; èŠ‚ç‚¹ï¼Œé€šè¿‡æŒ‡å®šè¾“å‡ºä¸º &lt;code&gt;screen&lt;/code&gt;ï¼Œè®©ä¿¡æ¯ç›´æ¥æ˜¾ç¤ºåˆ°è¿è¡Œç¨‹åºçš„ç»ˆç«¯ä¸Š.&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;node pkg=&quot;pan_tilt&quot; type=&quot;pan_tilt_node&quot; name=&quot;pan_tilt_node&quot; output=&quot;screen&quot; /&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åè¿è¡Œ &lt;code&gt;roserial&lt;/code&gt; å’Œ Arduino è¿›è¡Œé€šä¿¡. æˆ‘ç”¨çš„ Arduino Nano æ˜¯é€šè¿‡ USB è¿æ¥åˆ° PC çš„ï¼Œæ‰€ä»¥æŒ‡å®šè®¾å¤‡å &lt;code&gt;/dev/ttyUSB0&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;node pkg=&quot;rosserial_python&quot; type=&quot;serial_node.py&quot; name=&quot;serial_node&quot; output=&quot;screen&quot; args=&quot;/dev/ttyUSB0&quot; /&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å‰©ä¸‹çš„ &lt;code&gt;include&lt;/code&gt; å’Œ &lt;code&gt;src&lt;/code&gt; æ–‡ä»¶å¤¹é‡Œæ˜¯åŠŸèƒ½åŒ…çš„ C++ æºç . &lt;code&gt;pan_tilt_node.cpp&lt;/code&gt; æ–‡ä»¶åŒ…å«äº† &lt;code&gt;PanTiltNode&lt;/code&gt; ç±»çš„å®šä¹‰å’Œç¨‹åºçš„ä¸»å‡½æ•°.&lt;/p&gt;
&lt;p&gt;ä¸»å‡½æ•°ç”¨ &lt;code&gt;pan_tilt_node&lt;/code&gt; åˆå§‹åŒ– ROSï¼Œç”ŸæˆèŠ‚ç‚¹å®ä¾‹ï¼ŒåŒæ—¶å°†å›è°ƒå‡½æ•°ç»‘å®šåˆ°åŠ¨æ€é…ç½®æœåŠ¡å™¨.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int main(int argc, char **argv)
{
    ros::init(argc, argv, &quot;pan_tilt_node&quot;);    
    
    PanTiltNode *pan_tiltnode = new PanTiltNode();
    
    dynamic_reconfigure::Server&amp;lt;pan_tilt::PanTiltConfig&amp;gt; server;
    dynamic_reconfigure::Server&amp;lt;pan_tilt::PanTiltConfig&amp;gt;::CallbackType f;
      
    f = boost::bind(&amp;amp;PanTiltNode::reconfCallback, pan_tiltnode, _1, _2);
    server.setCallback(f);
        
    std::string node_name = ros::this_node::getName();
    ROS_INFO(&quot;%s started&quot;, node_name.c_str());
    ros::spin();
    return 0;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;PanTiltNode&lt;/code&gt; ç±»åœ¨æ„é€ å‡½æ•°é‡ŒåŠ è½½å‚æ•°æœåŠ¡å™¨çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;// æ„é€ å‡½æ•° 
PanTiltNode::PanTiltNode()
{
    double max_radians;
    double min_radians;
    int temp;

    /* ä»å‚æ•°æœåŠ¡å™¨è·å–å‚æ•°ï¼Œå¦‚æœè·å–å¤±è´¥ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ */

    // æŒ‡å®šèˆµæœºåŠŸèƒ½
    n_.param(&quot;/servo/index0/pan/servo&quot;,  pan_servo_[0],  0);
    n_.param(&quot;/servo/index0/tilt/servo&quot;, tilt_servo_[0], 1);
    n_.param(&quot;/servo/index1/pan/servo&quot;,  pan_servo_[1],  2);
    n_.param(&quot;/servo/index1/tilt/servo&quot;, tilt_servo_[1], 3);

    // æ£€æŸ¥èˆµæœºå®‰è£…æ–¹å¼æ˜¯å¦ç¬¦åˆå³æ‰‹å®šåˆ™
    n_.param(&quot;/servo/index0/pan/flip_rotation&quot;, pan_flip_rotation_[0], false);
    n_.param(&quot;/servo/index0/tilt/flip_rotation&quot;, tilt_flip_rotation_[0], false);
    n_.param(&quot;/servo/index1/pan/flip_rotation&quot;, pan_flip_rotation_[1], false);
    n_.param(&quot;/servo/index1/tilt/flip_rotation&quot;, tilt_flip_rotation_[1], false);

    /* å–å€¼èŒƒå›´. ä¸ºäº†æ»¡è¶³å³æ‰‹å®šåˆ™ï¼Œè¿™äº›å€¼å¯èƒ½éœ€è¦è¿›è¡Œç¿»è½¬. */
    n_.param(&quot;/servo/index0/pan/max&quot;, max_radians, M_PI/2.0);
    n_.param(&quot;/servo/index0/pan/min&quot;, min_radians, -(M_PI/2.0));
    pan_max_[0] = (int)signedRadianToServoDegrees(max_radians, pan_flip_rotation_[0]);
    pan_min_[0] = (int)signedRadianToServoDegrees(min_radians, pan_flip_rotation_[0]);
    if(true == pan_flip_rotation_[0])
    {
        temp = pan_max_[0];
        pan_max_[0] = pan_min_[0];
        pan_min_[0] = temp;
    }

    n_.param(&quot;/servo/index0/tilt/max&quot;, max_radians, M_PI/2.0);
    n_.param(&quot;/servo/index0/tilt/min&quot;, min_radians, -(M_PI/2.0));
    tilt_max_[0] = (int)signedRadianToServoDegrees(max_radians, tilt_flip_rotation_[0]);
    tilt_min_[0] = (int)signedRadianToServoDegrees(min_radians, tilt_flip_rotation_[0]);
    if(true == tilt_flip_rotation_[0])
    {
        temp = tilt_max_[0];
        tilt_max_[0] = tilt_min_[0];
        tilt_min_[0] = temp;
    }

    n_.param(&quot;/servo/index1/pan/max&quot;, max_radians, M_PI/2.0);
    n_.param(&quot;/servo/index1/pan/min&quot;, min_radians, -(M_PI/2.0));
    pan_max_[1] = (int)signedRadianToServoDegrees(max_radians, pan_flip_rotation_[1]);  
    pan_min_[1] = (int)signedRadianToServoDegrees(min_radians, pan_flip_rotation_[1]);
    if(true == pan_flip_rotation_[1])
    {
        temp = pan_max_[1];
        pan_max_[1] = pan_min_[1];
        pan_min_[1] = temp;
    }

    n_.param(&quot;/servo/index1/tilt/max&quot;, max_radians, M_PI/2.0);
    n_.param(&quot;/servo/index1/tilt/min&quot;, min_radians, -(M_PI/2.0));
    tilt_max_[1] = (int)signedRadianToServoDegrees(max_radians, tilt_flip_rotation_[1]);
    tilt_min_[1] = (int)signedRadianToServoDegrees(min_radians, tilt_flip_rotation_[1]);
    if(true == tilt_flip_rotation_[1])
    {
        temp = tilt_max_[1];
        tilt_max_[1] = tilt_min_[1];
        tilt_min_[1] = temp;
    }

    // å…³èŠ‚å
    n_.param&amp;lt;std::string&amp;gt;(&quot;/servo/index0/pan/joint_name&quot;, pan_joint_names_[0], &quot;reserved_pan0&quot;);
    n_.param&amp;lt;std::string&amp;gt;(&quot;/servo/index0/tilt/joint_name&quot;, tilt_joint_names_[0], &quot;reserved_tilt0&quot;);
    n_.param&amp;lt;std::string&amp;gt;(&quot;/servo/index1/pan/joint_name&quot;, pan_joint_names_[1], &quot;reserved_pan1&quot;);
    n_.param&amp;lt;std::string&amp;gt;(&quot;/servo/index1/tilt/joint_name&quot;, tilt_joint_names_[1], &quot;reserved_tilt1&quot;);

    first_index0_msg_received_ = false;
    first_index1_msg_received_ = false;

    // é”å­˜å·²å‘å¸ƒçš„èŠ‚ç‚¹
    servo_array_pub_ = n_.advertise&amp;lt;servo_msgs::servo_array&amp;gt;(&quot;/servo&quot;, 10, true);

    // è®¢é˜…è¯é¢˜
    joint_state_sub_ = n_.subscribe(&quot;/pan_tilt_node/joints&quot;, 10, &amp;amp;PanTiltNode::panTiltCB, this);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è°ƒç”¨ &lt;code&gt;param&lt;/code&gt; çš„æ—¶å€™ä¼šä»å‚æ•°æœåŠ¡å™¨è¯»å–ï¼Œå¦‚æœè¯»å–å¤±è´¥ï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼ï¼š&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;n_.param(&quot;/servo/index0/pan_servo&quot;, pan_servo_[0], 0);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ„é€ å‡½æ•°æœ€åä¸¤è¡Œè®¢é˜…äº†è¯é¢˜ï¼ŒæŒ‡å®šå‘å¸ƒèŠ‚ç‚¹çš„è¯é¢˜. æ¥æ”¶åˆ°æŒ‡å®šè¯é¢˜æ—¶å°†æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•° &lt;code&gt;panTiltCB&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;// ç§»åŠ¨å…³èŠ‚çš„å›è°ƒå‡½æ•°
void PanTiltNode::panTiltCB(const sensor_msgs::JointState&amp;amp; joint)
{
    bool index0 = false;
    bool index1 = false;

    /* åœ¨æ¶ˆæ¯çš„åˆ—è¡¨é‡ŒæŸ¥æ‰¾å…³èŠ‚å. ä½ç½®ï¼ˆæ—‹è½¬ï¼‰å€¼å‡ä¸ºæ­£å¼§åº¦å€¼ï¼Œç¬¦åˆå³æ‰‹å®šåˆ™ï¼Œ
     * éœ€è¦æ ¹æ®èˆµæœºæ–¹å‘æ¢ç®—æˆè§’åº¦å€¼. 
     */
    for (unsigned int i = 0; i &amp;lt; joint.name.size(); i++)
    {         
        // Is it one of the pan or tilt joints
        if(pan_joint_names_[0] == joint.name[i])
        {
            // Index 0 å¹³ç§»
            index0_pan_ = (int)signedRadianToServoDegrees(joint.position[i], pan_flip_rotation_[0]);
            index0 = true;
        }
        else if(pan_joint_names_[1] == joint.name[i])
        {
            // Index 1 å¹³ç§»
            index1_pan_ = (int)signedRadianToServoDegrees(joint.position[i], pan_flip_rotation_[1]);
            index1 = true;            
        }
        else if(tilt_joint_names_[0] == joint.name[i])
        {
            // Index 0 å€¾æ–œ
            index0_tilt_ = (int)signedRadianToServoDegrees(joint.position[i], tilt_flip_rotation_[0]);
            index0 = true;                        
        }
        else if (tilt_joint_names_[1] == joint.name[i])
        {
            // Index 1 å€¾æ–œ
            index1_tilt_ = (int)signedRadianToServoDegrees(joint.position[i], tilt_flip_rotation_[1]);
            index1 = true;
        }
    }

    if(index0 == true)
    {
        first_index0_msg_received_ = true;
        movePanTilt(index0_pan_, index0_tilt_, index0_pan_trim_, index0_tilt_trim_, 0);        
    }

    if(index1 == true)
    {
        first_index1_msg_received_ = true; 
        movePanTilt(index1_pan_, index1_tilt_, index1_pan_trim_, index0_tilt_trim_, 1);
    }       
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å›è°ƒå‡½æ•°é’ˆå¯¹æ¥æ”¶æ¶ˆæ¯ä¸­çš„æ¯ä¸ªåå­—åå¤æ‰§è¡Œï¼Œç›´è‡³æ‰¾åˆ°å·²çŸ¥çš„å…³èŠ‚å. æ‰¾åˆ°åå­—åï¼Œå›è°ƒå‡½æ•°è°ƒç”¨ &lt;code&gt;signedRadianToServoDegrees&lt;/code&gt; å‡½æ•°æŒ‰ç…§ ROS æ ‡å‡†å’Œæ–¹å‘å¯¹å…³èŠ‚åå…³è”çš„æ­£å€¼è¿›è¡Œè½¬åŒ–ï¼Œå¹¶æŠŠç»“æœé€åˆ°èˆµæœº.&lt;/p&gt;
&lt;p&gt;éšåï¼Œå›è°ƒå‡½æ•°è°ƒç”¨ &lt;code&gt;movePanTilt&lt;/code&gt; å‡½æ•°ç»™å¯¹åº”çš„æ•°å€¼é‡ŒåŠ ä¸Šå¾®è°ƒåç§»ï¼Œå¾®è°ƒèˆµæœºï¼Œæ£€æŸ¥èŒƒå›´ï¼Œç„¶åç”¨èˆµæœºçš„ç¼–å·å’Œä½ç½®å‘å¸ƒä¸¤æ¡æ¶ˆæ¯ï¼Œä¸€æ¡å‘ç»™å¹³ç§»èˆµæœºï¼Œä¸€æ¡å‘ç»™å€¾æ–œèˆµæœº.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;void PanTiltNode::movePanTilt(int pan_value, int tilt_value, int pan_trim, int tilt_trim, int index)
{
    int pan;
    int tilt;
    servo_msgs::servo_array servo;

    pan = pan_trim + pan_value;
    tilt = tilt_trim + tilt_value;

    pan = checkMaxMin(pan, pan_max_[index], pan_min_[index]);
    tilt = checkMaxMin(tilt, tilt_max_[index], tilt_min_[index]);

    // å‘é€å¹³ç§»ä½ç½®
    servo.index = (unsigned int)pan_servo_[index];
    servo.angle = (unsigned int)pan;
    servo_array_pub_.publish(servo);

    // å‘é€åç§»ä½ç½®
    servo.index = (unsigned int)tilt_servo_[index];
    servo.angle = (unsigned int)tilt;
    servo_array_pub_.publish(servo);    
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œè®¾è®¡äº†ä¸¤ä¸ªåŠ©æ‰‹å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªç”¨æ¥æ£€æŸ¥æœ€å¤§ï¼æœ€å°å€¼èŒƒå›´.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int PanTiltNode::checkMaxMin(int current_value, int max, int min)
{
    int value = current_value;

    if (value &amp;gt; max)
    {
        value = max;
    }

    if (value &amp;lt; min)
    {
        value = min;
    }

    return (value);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç¬¬äºŒä¸ªåŠ©æ‰‹å‡½æ•°ç”¨æ¥æŠŠ ROS æ ‡å‡†å•ä½å’Œæ–¹å‘æ¢ç®—æˆé€‚åˆèˆµæœºçš„æ•°å€¼.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;// å°†æ­£å¼§åº¦å€¼æ¢ç®—æˆèˆµæœºä½¿ç”¨çš„è§’åº¦å€¼. 0 å¼§åº¦ç›¸å½“äº 90 åº¦.
double PanTiltNode::signedRadianToServoDegrees(double rad, bool flip_rotation)
{
    double retVal;
    
    if(true == flip_rotation)
    {
        retVal = ((-rad/(2.0*M_PI))*360.0)+90.0;
    }        
    else
    {
        retVal = ((rad/(2.0*M_PI))*360.0)+90.0;
    }

    return retVal;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŠ¨æ€å‚æ•°æœåŠ¡å™¨å›è°ƒä¿å­˜äº†å¾®è°ƒå‚æ•°ï¼Œéšåè°ƒç”¨ä¸¤æ¬¡ &lt;code&gt;movePanTilt&lt;/code&gt;ï¼Œæ¯ä¸ªè®¾å¤‡ä¸€æ¬¡.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;// è¿™ä¸ªå›è°ƒä¼šåœ¨åŠ¨æ€é…ç½®å‚æ•°å˜åŒ–çš„æ—¶å€™æ‰§è¡Œ
void PanTiltNode::reconfCallback(pan_tilt::PanTiltConfig &amp;amp;config, uint32_t level)
{
    index0_pan_trim_ = config.index0_pan_trim;
    index0_tilt_trim_ = config.index0_tilt_trim;
    index1_pan_trim_ = config.index1_pan_trim;
    index1_tilt_trim_ = config.index1_tilt_trim;

    // åªæœ‰æ”¶åˆ°ä½ç½®æ¶ˆæ¯æ‰æ‰§è¡Œ
    if(first_index0_msg_received_ == true)
    {
        // ç”¨æ–°å¾®è°ƒå€¼å‘é€æ–°æ¶ˆæ¯
        movePanTilt(index0_pan_, index0_tilt_, index0_pan_trim_, index0_tilt_trim_, 0);        
    }

    if(first_index1_msg_received_ == true)
    {
        movePanTilt(index1_pan_, index1_tilt_, index1_pan_trim_, index1_tilt_trim_, 1);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;pan_tilt_node.h&lt;/code&gt; æ–‡ä»¶åŒ…å«äº† &lt;code&gt;PanTiltNode&lt;/code&gt; ç±»å®šä¹‰.&lt;/p&gt;
&lt;p&gt;å®Œæˆäº†å¹³ç§»ï¼å€¾æ–œåŠŸèƒ½åŒ…åï¼Œç°åœ¨æ¥ç¼–å†™ Arduino æºç . è¿™ä»½æºç æ˜¯ä»¥ &lt;code&gt;rosserial&lt;/code&gt; ä¾‹ç¨‹ä½œä¸ºæ¨¡æ¿æ¥å†™çš„ï¼ŒåŒ…å«äº†å¹³ç§»ï¼å€¾æ–œèŠ‚ç‚¹é‡Œç”¨åˆ°çš„å„å…ƒç´ ï¼Œæ”¯æŒå¤šä¸ªèˆµæœº.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;setup&lt;/code&gt; å‡½æ•°å¯¹èŠ‚ç‚¹è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œè®¢é˜…äº†èˆµæœºè¯é¢˜. 4 å°èˆµæœºåˆ†åˆ«è¿æ¥åˆ° Arduino çš„ PWM å¼•è„š 9ã€6ã€ 5 å’Œ 10. &lt;code&gt;loop&lt;/code&gt; å‡½æ•°é‡Œï¼Œè°ƒç”¨äº† &lt;code&gt;spinOnce&lt;/code&gt;ï¼Œéšåå»¶è¿Ÿ 1 æ¯«ç§’. &lt;code&gt;spinOnce&lt;/code&gt; å®é™…ä¸Šä¼šæ‰§è¡Œ &lt;code&gt;servo_cb&lt;/code&gt; å›è°ƒå‡½æ•°. è¿™ä¸ªå‡½æ•°æ¯æ¬¡æ”¶åˆ°èˆµæœºæ¶ˆæ¯æ—¶éƒ½ä¼šæ‰§è¡Œ.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;/*
 * åŸºäº rosserial èˆµæœºä¾‹ç¨‹
 * æœ€å¤šå¯ä»¥æ§åˆ¶ 4 å°èˆµæœº
 * èŠ‚ç‚¹è®¢é˜…èˆµæœºè¯é¢˜ï¼Œå¹¶ä½œä¸º rodney_msgs::servo_array æ¶ˆæ¯è¿è¡Œ.
 * æ¶ˆæ¯åŒ…å«ä¸¤ä¸ªå…ƒç´ ï¼Œç¼–å·å’Œè§’åº¦.
 * ç¼–å·èŒƒå›´ï¼š0-3
 * è§’åº¦èŒƒå›´ï¼š0-180
 *
 * D5 -&amp;gt; PWM è¾“å‡ºå£ï¼Œèˆµæœº 2
 * D6 -&amp;gt; PWM è¾“å‡ºå£ï¼Œèˆµæœº 1
 * D9 -&amp;gt; PWM è¾“å‡ºå£ï¼Œèˆµæœº 0
 * D10 -&amp;gt; PWM è¾“å‡ºå£ï¼Œèˆµæœº 3
 */

#if (ARDUINO &amp;gt;= 100)
 #include &amp;lt;Arduino.h&amp;gt;
#else
 #include &amp;lt;WProgram.h&amp;gt;
#endif

#include &amp;lt;Servo.h&amp;gt; 
#include &amp;lt;ros.h&amp;gt;
#include &amp;lt;servo_msgs/servo_array.h&amp;gt;

/* å®šä¹‰è¿æ¥èˆµæœºçš„ PWM ç«¯å£ */
#define SERVO_0 9
#define SERVO_1 6
#define SERVO_2 5
#define SERVO_3 10

ros::NodeHandle  nh;

Servo servo0;
Servo servo1;
Servo servo2;
Servo servo3;

void servo_cb( const servo_msgs::servo_array&amp;amp; cmd_msg)
{  
  /* Which servo to drive */
  switch(cmd_msg.index)
  {
    case 0:
      nh.logdebug(&quot;Servo 0 &quot;);
      servo0.write(cmd_msg.angle); //è®¾ç½®èˆµæœº 0 è§’åº¦ï¼ŒèŒƒå›´ 0-180
      break;

    case 1:
      nh.logdebug(&quot;Servo 1 &quot;);
      servo1.write(cmd_msg.angle); //è®¾ç½®èˆµæœº 1 è§’åº¦ï¼ŒèŒƒå›´ 0-180
      break;

    case 2:
      nh.logdebug(&quot;Servo 2 &quot;);
      servo2.write(cmd_msg.angle); //è®¾ç½®èˆµæœº 2 è§’åº¦ï¼ŒèŒƒå›´ 0-180
      break;

    case 3:
      nh.logdebug(&quot;Servo 3 &quot;);
      servo3.write(cmd_msg.angle); //è®¾ç½®èˆµæœº 3 è§’åº¦ï¼ŒèŒƒå›´ 0-180
      break;
      
    default:
      nh.logdebug(&quot;No Servo&quot;);
      break;
  }  
}

ros::Subscriber&amp;lt;servo_msgs::servo_array&amp;gt; sub(&quot;servo&quot;, servo_cb);

void setup()
{
  nh.initNode();
  nh.subscribe(sub);
  
  
  servo0.attach(SERVO_0); // å…³è”èˆµæœºè¾“å‡ºå¼•è„š
  servo1.attach(SERVO_1);
  servo2.attach(SERVO_2);
  servo3.attach(SERVO_3);

  // Defaults
  servo0.write(90);
  servo1.write(120); 
}

void loop(){
  nh.spinOnce();
  delay(1);
}&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ç¨‹åºç¼–è¯‘çƒ§å½•åˆ° Arduino æ¿å­å‰ï¼Œè¦å…ˆç¼–è¯‘å‰é¢å†™çš„ ROS åŠŸèƒ½åŒ…ï¼Œå¹¶ä¸”é‡æ–°ç¼–è¯‘ç”¨äº Arduino çš„ ROS åº“. ç”±äºæˆ‘ç”¨çš„ Linux ç‰ˆ Arduino IDEï¼Œæˆ‘å°†åœ¨ä¸¤ä¸ªå¹³å°ä¸Šè¿›è¡Œç¼–è¯‘. æˆ‘å†³å®šåœ¨æ ‘è“æ´¾ä¸Šè¿è¡ŒèŠ‚ç‚¹ï¼ŒPC æœºä¸Šè¿è¡Œæµ‹è¯•å·¥å…·. å½“ç„¶ï¼Œç°åœ¨è¿˜æ²¡æœ‰ç”¨åˆ°ä¸“ç”¨çš„æ ‘è“æ´¾ç¡¬ä»¶ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åœ¨ PC ä¸Šè¿è¡ŒèŠ‚ç‚¹. é˜…è¯»ä¸‹é¢çš„ä»£ç æ—¶ï¼Œè¦æ³¨æ„åŒºåˆ†è¿è¡Œçš„å¹³å°ï¼ˆæ ‘è“æ´¾æˆ– PCï¼‰. è¿™äº›ä»£ç éƒ½å­˜åœ¨ &lt;code&gt;rodney_ws&lt;/code&gt;ï¼ˆæ ‘è“æ´¾ï¼‰å’Œ &lt;code&gt;test_ws&lt;/code&gt;ï¼ˆPCï¼‰æ–‡ä»¶å¤¹ä¸‹.&lt;/p&gt;
&lt;h2 id=&quot;åœ¨-pc-ä¸Šç¼–è¯‘-ros-åŠŸèƒ½åŒ…&quot;&gt;åœ¨ PC ä¸Šç¼–è¯‘ ROS åŠŸèƒ½åŒ…&lt;/h2&gt;
&lt;p&gt;ROS ä½¿ç”¨çš„æ˜¯ catkin ç¼–è¯‘ç¯å¢ƒï¼Œé¦–å…ˆåˆ›å»ºå·¥ä½œåŒºå¹¶åˆå§‹åŒ–ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ mkdir -p ~/test_ws/src
$ cd ~/test_ws/
$ catkin_make&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æŠŠåŠŸèƒ½åŒ…æ–‡ä»¶å¤¹ &lt;code&gt;pan_tilt&lt;/code&gt;ã€&lt;code&gt;servo_msgs&lt;/code&gt; æ‹·åˆ° &lt;code&gt;~/test_ws/src&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹å¹¶ç¼–è¯‘ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/test_ws/ 
$ catkin_make&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœä»¥ä¸Šæ­¥éª¤æ²¡æœ‰å‡ºé”™ï¼Œé‚£ä¹ˆç¼–è¯‘å³å‘ŠæˆåŠŸ.&lt;/p&gt;
&lt;h2 id=&quot;ç¼–è¯‘-arduino-ros-åº“&quot;&gt;ç¼–è¯‘ Arduino ROS åº“&lt;/h2&gt;
&lt;p&gt;ç¼–è¯‘ &lt;code&gt;ros_lib&lt;/code&gt; åº“çš„å‘½ä»¤è¡Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ source ~/test_ws/devel/setup.bash
$ cd ~/Arduino/libraries
$ rm -rf ros_lib
$ rosrun rosserial_arduino make_libraries.py .&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœç¼–è¯‘æ²¡æœ‰é—®é¢˜ï¼Œ&lt;code&gt;~/Arduino/libraries/ros_lib/servo_msgs&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ä¼šç”Ÿæˆ &lt;code&gt;servo_array.h&lt;/code&gt; å¤´æ–‡ä»¶.&lt;/p&gt;
&lt;h2 id=&quot;ç¼–è¯‘å¹¶çƒ§å½•-arduino&quot;&gt;ç¼–è¯‘å¹¶çƒ§å½• Arduino&lt;/h2&gt;
&lt;p&gt;æŠŠ &lt;code&gt;rodney_control&lt;/code&gt; æ–‡ä»¶å¤¹å¤åˆ¶åˆ° &lt;code&gt;~/Arduino/Projects&lt;/code&gt; ä¸‹. è¿è¡Œ Arduino IDEï¼Œæ‰“å¼€ &lt;code&gt;rodney_control.ino&lt;/code&gt; æ–‡ä»¶. åœ¨&lt;q&gt;å·¥å…·â†’å¼€å‘æ¿&lt;/q&gt;èœå•é‡Œé€‰æ‹© Arduino å¼€å‘æ¿å‹å·ï¼ˆæˆ‘è¿™é‡Œç”¨çš„æ˜¯ Arduino Nanoï¼‰. åœ¨&lt;q&gt;å·¥å…·â†’å¤„ç†å™¨&lt;/q&gt;èœå•é‡Œé€‰æ‹©å¤„ç†å™¨å‹å·ï¼ˆATmega328ï¼‰.&lt;/p&gt;
&lt;p&gt;ç”¨ USB çº¿æŠŠ Arduino Nano è¿æ¥åˆ° PC ä¸Šï¼Œåœ¨&lt;q&gt;å·¥å…·â†’ç«¯å£&lt;/q&gt;èœå•é‡Œé€‰æ‹©å¯¹åº”çš„ç«¯å£ï¼ˆ&lt;code&gt;/dev/ttyUSB0&lt;/code&gt;ï¼‰.&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;q&gt;ä¸Šä¼ &lt;/q&gt;æŒ‰é’®ï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæºä»£ç å°†ç¼–è¯‘å¹¶çƒ§å½•åˆ° Arduino é‡Œ.&lt;/p&gt;
&lt;h2 id=&quot;arduino-ç”µè·¯&quot;&gt;Arduino ç”µè·¯&lt;/h2&gt;
&lt;p&gt;åˆ¶ä½œç½—å¾·å°¼çš„æ—¶å€™ï¼Œä¾›ç”µé—®é¢˜å¿…é¡»è¦è€ƒè™‘åˆ°. åœ¨æˆ‘çš„è®¾è®¡é‡Œï¼ŒArduino ä»æ ‘è“æ´¾çš„ USB å£å–ç”µï¼Œèˆµæœºåˆ™ç”¨ 4 èŠ‚ 5 å·ï¼ˆAAï¼‰å¯å……ç”µç”µæ± ä¾›ç”µ. å›¾ 3 æ˜¯ä¾›ç”µç”µè·¯çš„ç¤ºæ„å›¾.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117184443987-1100820849.jpg&quot;/&gt;&lt;p&gt;å›¾ 3 ç½—å¾·å°¼ä¾›ç”µç”µè·¯å›¾&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æµ‹è¯•ï¼Œæˆ‘åœ¨é¢åŒ…æ¿ä¸Šæ­å»ºäº†ä¸Šå›¾çš„ç”µè·¯ï¼Œå¹¶ä¸”åªæ¥äº†å¤´éƒ¨å¹³ç§»ï¼å€¾æ–œè®¾å¤‡.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117184501863-1504386229.jpg&quot;/&gt;&lt;p&gt;å›¾ 4 ç½—å¾·å°¼ä¾›ç”µæµ‹è¯•ç”µè·¯&lt;/p&gt;
&lt;h3 id=&quot;åœ¨æ ‘è“æ´¾ä¸Šç¼–è¯‘-ros-åŠŸèƒ½åŒ…&quot;&gt;åœ¨æ ‘è“æ´¾ä¸Šç¼–è¯‘ ROS åŠŸèƒ½åŒ…&lt;/h3&gt;
&lt;p&gt;è¿˜æ˜¯ç”¨ç±»ä¼¼çš„å‘½ä»¤ï¼Œåˆ›å»º catkin å·¥ä½œåŒºå¹¶åˆå§‹åŒ–ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ mkdir -p ~/rodney_ws/src
$ cd ~/rodney_ws/
$ catkin_make&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æŠŠ &lt;code&gt;pan_tilt&lt;/code&gt; å’Œ &lt;code&gt;servo_msgs&lt;/code&gt; æ–‡ä»¶å¤¹å¤åˆ¶åˆ° &lt;code&gt;~/rodney_ws/src&lt;/code&gt; ç„¶åç¼–è¯‘ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/rodney_ws/ 
$ catkin_make&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ— é”™ï¼Œåˆ™ç¼–è¯‘å®Œæˆ.&lt;/p&gt;
&lt;div class=&quot;info note&quot; readability=&quot;19&quot;&gt;
&lt;h4&gt;å°æç¤º&lt;/h4&gt;
&lt;p&gt;åœ¨ PC å’Œæ ‘è“æ´¾ä¸Šè¿è¡Œ ROS ä»£ç å’Œå·¥å…·æ—¶ï¼Œå¯èƒ½éœ€è¦åœ¨å¤šä¸ªå‘½ä»¤è¡Œç»ˆç«¯ä¸Šæ‰§è¡ŒåŒæ ·çš„å‘½ä»¤. ä¸‹ä¸€èŠ‚æˆ‘è¿˜æ˜¯ä¼šå†™å®Œæ•´çš„å‘½ä»¤ï¼Œä¸è¿‡æˆ‘å¯ä»¥ä½¿ç”¨æˆ‘å†™çš„ &lt;code&gt;.bash&lt;/code&gt; æ–‡ä»¶ç®€åŒ–å‘½ä»¤è¾“å…¥. é¦–å…ˆç¼–è¾‘ &lt;code&gt;.bashrc&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;
$ cd ~/
$ nano .bashrc
&lt;/pre&gt;
åœ¨æ–‡ä»¶æœ€åæ·»åŠ  &lt;code&gt;source /home/ubuntu/rodney_ws/devel/setup.bash&lt;/code&gt;ï¼Œä¿å­˜é€€å‡º. PC åœ¨è¿è¡Œæµ‹è¯•ä»£ç æ—¶éœ€è¦çŸ¥é“ ROS ä¸»æœºä½ç½®ï¼ˆç«¯å£ï¼‰ï¼Œæ‰€ä»¥ PC çš„ &lt;code&gt;.bashrc&lt;/code&gt; é‡Œæˆ‘æ·»åŠ äº†ä¸‹é¢çš„è¯­å¥ï¼š
&lt;pre&gt;
alias rodney='source ~/test_ws/devel/setup.bash; \
export ROS_MASTER_URI=http://ubiquityrobot:11311'
&lt;/pre&gt;
ä¸€ä¸ª &lt;code&gt;rodney&lt;/code&gt; å°±å¯ä»¥ä¸€æ¬¡è¿è¡Œä¸Šé¢ä¸¤ä¸ªå‘½ä»¤ï¼Œå†ä¸ç”¨æ•²å‘½ä»¤æ•²åˆ°æ‰‹è½¯å•¦.&lt;/div&gt;
&lt;h3 id=&quot;è¿è¡Œä»£ç &quot;&gt;è¿è¡Œä»£ç &lt;/h3&gt;
&lt;p&gt;ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œéšæ—¶å¯ä»¥è¿è¡Œä»£ç äº†. ç”¨ USB çº¿æŠŠ Arduino è¿åˆ°æ ‘è“æ´¾ï¼Œç”¨å¯åŠ¨æ–‡ä»¶æ‰“å¼€èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/rodney_ws/
$ source devel/setup.bash
$ roslaunch pan_tilt pan_tilt_test.launch&lt;/code&gt;
&lt;/pre&gt;
&lt;div class=&quot;info important&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;å¦‚æœä¸»æœºèŠ‚ç‚¹æ²¡æœ‰è¿è¡Œï¼Œé‚£ä¹ˆå¯åŠ¨å‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨ä¸»æœºèŠ‚ç‚¹ &lt;code&gt;roscore&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;ç»ˆç«¯ä¸Šä¼šæ˜¾ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å‚æ•°æœåŠ¡å™¨çš„å‚æ•°åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹åˆ—è¡¨ï¼ŒåŒ…æ‹¬äº† &lt;code&gt;pan_tilt_node&lt;/code&gt; å’Œ &lt;code&gt;serial_node&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸»æœºåœ°å€&lt;/li&gt;
&lt;li&gt;ä¸Šé¢ä¸¤ä¸ªèŠ‚ç‚¹çš„å¯åŠ¨è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;ä»£ç é‡Œçš„æ—¥å¿—ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;è¿™æ—¶å°±å¯ä»¥ç”¨ ROS çš„å·¥å…·æ¥æ£€æŸ¥ã€æµ‹è¯•ç³»ç»Ÿäº†. æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œç»ˆç«¯ï¼ˆPCï¼‰ï¼Œè¾“å…¥å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/test_ws
$ source devel/setup.bash&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœèŠ‚ç‚¹æ˜¯åœ¨åŒä¸€è®¾å¤‡ä¸Šè¿è¡Œçš„ï¼Œè€Œå·¥å…·ç¨‹åºåœ¨å¦ä¸€å°è®¾å¤‡ä¸Šè¿è¡Œï¼Œé‚£ä¹ˆéœ€è¦æŒ‡å®šä¸»æœºçš„åœ°å€ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ export ROS_MASTER_URI=http://ubiquityrobot:11311&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨å¯ä»¥è¿è¡Œå›¾å½¢å·¥å…·äº†ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ rqt_graph&lt;/code&gt;
&lt;/pre&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117232202070-925371340.jpg&quot;/&gt;&lt;p&gt;å›¾ 5 ROS å›¾å½¢å·¥å…·&lt;/p&gt;
&lt;p&gt;ç”¨è¿™ä¸ªå·¥å…·å¯ä»¥çœ‹åˆ°èŠ‚ç‚¹çš„è¿è¡Œæƒ…å†µä»¥åŠå’Œ &lt;code&gt;/servo&lt;/code&gt; è¯é¢˜çš„è¿æ¥æƒ…å†µ. å›¾ä¸­å¯ä»¥çœ‹åˆ° &lt;code&gt;/pan_tilt_node/joints&lt;/code&gt; è¯é¢˜.&lt;br/&gt;ç°åœ¨åœ¨ PC ä¸Šæ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œç”¨ &lt;code&gt;rostopic&lt;/code&gt; å‘é€ä¸€æ¡æ¶ˆæ¯ç§»åŠ¨è®¾å¤‡ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/test_ws
$ source devel/setup.bash
$ export ROS_MASTER_URI=http://ubiquityrobot:11311
$ rostopic pub -1 /pan_tilt_node/joints sensor_msgs/JointState '{header: {seq: 0, stamp: {secs: 0, nsecs: 0},
frame_id: &quot;&quot;}, name: [ &quot;head_pan&quot;,&quot;tilt_pan&quot;], position: [0,0.349066], velocity: [], effort: []}'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åä¸€è¡Œå‘½ä»¤ä¼šåœ¨ &lt;code&gt;rostopic&lt;/code&gt; é‡Œå‘å¸ƒä¸€ä¸ª &lt;code&gt;/pan_tilt_node/joints&lt;/code&gt; è¯é¢˜çš„å®ä¾‹ï¼Œä½¿ç”¨ &lt;code&gt;sensor_msgs/JointState&lt;/code&gt; æ¶ˆæ¯ç±»å‹ï¼Œå¹³ç§»ä½ç½® 0ï¼Œå€¾æ–œä½ç½® 0.349066ï¼Œèˆµæœºä¼šæ‰§è¡Œç›¸åº”åŠ¨ä½œ.&lt;/p&gt;
&lt;div class=&quot;info&quot; readability=&quot;8&quot;&gt;
&lt;p&gt;æœ¬æ–‡é‡Œèˆµæœºæ”¶åˆ°å‘½ä»¤åç›´æ¥ç§»åŠ¨åˆ°ä½. ä¸‹ä¸€ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘å°†æ·»åŠ ä¸€äº›ä»£ç ï¼Œè®©èˆµæœºç§»åŠ¨å¾—æ›´&lt;em&gt;ä¼˜é›…&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;ç”¨ &lt;code&gt;rostopic&lt;/code&gt; å‘½ä»¤è¦è¾“å…¥çš„ä¸œè¥¿æœ‰ç‚¹å¤šï¼Œä¹Ÿå¯ä»¥ç”¨ rqt GUIï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ rosrun rqt_gui rqt_gui&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¼šè¿è¡Œä¸€ä¸ªå›¾å½¢ç•Œé¢ï¼Œå¯ä»¥é€‰æ‹©æ¶ˆæ¯å‘å¸ƒè€…ï¼Œå‘å¸ƒæ¶ˆæ¯å’Œå†…å®¹.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117232140298-958365211.jpg&quot;/&gt;&lt;p&gt;å›¾ 6 rpt å›¾å½¢ç•Œé¢&lt;/p&gt;
&lt;p&gt;åœ¨è£…é…å„é›¶ä»¶çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½æœ‰ä¸€å®šçš„æœºæ¢°è¯¯å·®ï¼Œæ‰€ä»¥å¹³ç§»ï¼å€¾æ–œä¼šåç¦»ä¸­ç‚¹ä¸€å®šè§’åº¦ï¼Œè¿™æ—¶å€™å¯ä»¥å¯¹å®ƒè¿›è¡Œå¾®è°ƒï¼ŒæŠŠä¸¤ä¸ªèˆµæœºè®¾ç½®åˆ°ä¸­å¿ƒä½ç½®ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ rostopic pub -1 /pan_tilt_node/joints sensor_msgs/JointState '{header: {seq: 0, stamp: {secs: 0, nsecs: 0}, frame_id: &quot;&quot;}, name: [ &quot;head_pan&quot;,&quot;tilt_pan&quot;], position: [0,0], velocity: [], effort: []}'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨æ–°ç»ˆç«¯é‡Œï¼Œè¿è¡Œ &lt;code&gt;rqt_reconfigure&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;$ cd ~/test_ws 
$ source devel/setup.bash 
$ export ROS_MASTER_URI=http://ubiquityrobot:11311 
$ rosrun rqt_reconfigure rqt_reconfigure&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¼šæ‰“å¼€ç±»ä¼¼ä¸‹é¢çš„çª—å£ï¼Œå¾®è°ƒå‚æ•°å¯ä»¥é€šè¿‡è¿™ä¸ªç•Œé¢è°ƒæ•´ï¼š&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117232612744-1764116095.jpg&quot;/&gt;&lt;p&gt;å›¾ 7 å¾®è°ƒå‚æ•°è®¾ç½®ç•Œé¢&lt;/p&gt;
&lt;p&gt;è°ƒæ•´åˆ°æ»¡æ„ä¹‹åï¼Œå°±å¯ä»¥ç”¨å¾—åˆ°çš„å€¼æ›´æ–° &lt;code&gt;pan_tilt.cfg&lt;/code&gt; é…ç½®æ–‡ä»¶é‡Œçš„é»˜è®¤å€¼äº†ï¼Œè¿™æ ·ä¸‹æ¬¡èŠ‚ç‚¹ä¼šä½¿ç”¨è¿™äº›æ ¡æ­£è¿‡çš„å€¼å¯åŠ¨.&lt;/p&gt;
&lt;p&gt;è¦å…³é—­èŠ‚ç‚¹ï¼Œåœ¨ç»ˆç«¯é‡ŒæŒ‰ &lt;kbd&gt;Ctrl-C&lt;/kbd&gt;.&lt;/p&gt;
&lt;h2 id=&quot;å¹³ç§»å€¾æ–œè®¾å¤‡&quot;&gt;å¹³ç§»ï¼å€¾æ–œè®¾å¤‡&lt;/h2&gt;
&lt;p&gt;å¹³ç§»ï¼å€¾æ–œè®¾å¤‡ä½¿ç”¨çš„æ—¥æœ¬åŒå¶èˆµæœºï¼Œä¸€ä¸ªå‹å·æ˜¯ S3003ï¼Œå¦ä¸€ä¸ªæ˜¯ S3305. S3305 è‡ªå¸¦é‡‘å±å›ºå®šç»„ä»¶ï¼Œå¦‚å›¾ 8 æ‰€ç¤º.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117233301793-1893018852.jpg&quot; width=&quot;480px&quot;/&gt;&lt;p&gt;å›¾ 8 èˆµæœºå’Œå›ºå®šç»„ä»¶&lt;/p&gt;
&lt;p&gt;å½“ç„¶æˆ‘ç”¨çš„æ˜¯ 3D æ‰“å°çš„é›¶ä»¶. è€ƒè™‘åˆ°æ˜¾ç¤ºå™¨å’Œæ ‘è“æ´¾çš„é‡é‡å¯¹èˆµæœºè½´å‘å‹åŠ›ï¼Œæˆ‘ç”¨äº†ä¸€ä¸ªè½½è·ç»„ä»¶æ¥å‡è½»è¿™ä¸ªé—®é¢˜. è¿™ä¸ªç»„ä»¶ç›¸å½“äºèˆµæœºçš„å¤–éª¨éª¼ï¼Œå¯ä»¥å¢å¼ºèˆµæœºæ‰¿è½½çš„æœºæ¢°å¼ºåº¦. ä¹Ÿå¯ä»¥é€šè¿‡æŠŠå±å¹•å›ºå®šï¼Œåªç§»åŠ¨æ‘„åƒå¤´çš„æ–¹å¼ä»£æ›¿ç°åœ¨çš„æ–¹æ¡ˆï¼Œä¸è¿‡è¿™æ ·çœ‹èµ·æ¥å°±ä¸åƒä¸€ä¸ªæœºå™¨&lt;em&gt;äºº&lt;/em&gt;äº†. å›¾ 9 å±•ç¤ºäº†æˆ‘è®¾è®¡çš„è£…é…ä»¶æ•ˆæœ.&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117234512096-1940285501.jpg&quot; width=&quot;480px&quot;/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117234550200-146725468.jpg&quot; width=&quot;480px&quot;/&gt;&lt;p&gt;å›¾ 9 è‡ªåˆ¶è£…é…ä»¶&lt;/p&gt;
&lt;h2 id=&quot;å…´è¶£ç‚¹&quot;&gt;å…´è¶£ç‚¹&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘å®ç°äº†ç”¨æ ‘è“æ´¾è¿è¡Œå­—èŠ‚ç¼–å†™çš„ ROS èŠ‚ç‚¹ï¼Œç”¨ Arduino æ§åˆ¶èˆµæœº. ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å°†ç»§ç»­ç ”ç©¶è®¾è®¡ç›®æ ‡ 1ï¼Œæ·»åŠ ä¸€ä¸ªå°è£…åœ¨ ROS èŠ‚ç‚¹ä¸­çš„ Python äººè„¸è¯†åˆ«åº“ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹æ¥æ§åˆ¶ç½—å¾·å°¼è„‘è¢‹çš„ç§»åŠ¨.&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯´ç°åœ¨ç½—å¾·å°¼è¿˜åªæ˜¯ä¸€å‰¯èº¯å£³ï¼Œé‚£ä¹ˆå®ƒå³å°†æ‹¥æœ‰çµé­‚ï¼&lt;/p&gt;
&lt;img src=&quot;https://img2018.cnblogs.com/blog/407692/201901/407692-20190117234731352-480332218.jpg&quot; width=&quot;480px&quot;/&gt;&lt;p&gt;å›¾ 10 ç½—å¾·å°¼è®¤å‡ºæˆ‘äº†ï¼&lt;/p&gt;
&lt;h2 id=&quot;å†å²&quot;&gt;å†å²&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;é¦–æ¬¡å‘è¡¨ï¼š2018/07/28&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç‰ˆï¼š2018/07/31 ä¿®æ­£äº† &lt;code&gt;package.xml&lt;/code&gt; çš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ç‰ˆï¼š2019/01/09 æ”¹ç”¨ &lt;code&gt;sensor_msgs/JointState&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡ä»¥åŠä»»ä½•ç›¸å…³çš„æºä»£ç å’Œæ–‡ä»¶éƒ½æ˜¯æ ¹æ® &lt;a href=&quot;http://www.opensource.org/licenses/gpl-3.0.html&quot;&gt;GNUé€šç”¨å…¬å…±è®¸å¯è¯ï¼ˆGPLv3ï¼‰&lt;/a&gt;æˆæƒçš„.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://www.codeproject.com/script/Membership/ProfileImages/%7Bbbdc6a2e-fd87-4187-8fcb-27d1201834e8%7D.JPG&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Phil Hopleyï¼Œæ¥è‡ªè‹±å›½ğŸ‡¬ğŸ‡§ï¼Œé«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå·²é€€ä¼‘ï¼Œçˆ±å¥½å¾’æ­¥å’Œåˆ’èˆ¹ï¼Œé—²æš‡æ—¶ä¼šåšç‚¹è½¯ç¡¬ä»¶å°ç©æ„å„¿.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot;&gt;&lt;hr/&gt;&lt;ol readability=&quot;0.95488721804511&quot;&gt;&lt;li id=&quot;fn1&quot; readability=&quot;-0.95&quot;&gt;
&lt;p&gt;Heiserman ä¹Ÿæ˜¯ã€ŠApple II Cè¯­è¨€ç¼–ç¨‹ã€‹ä¸€ä¹¦ä½œè€….&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fnref1&quot; class=&quot;footnote-back&quot;&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn2&quot; readability=&quot;-0.92682926829268&quot;&gt;
&lt;p&gt;Loofbourrow æ˜¯ ViralGains å…¬å¸ CEO.&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fnref2&quot; class=&quot;footnote-back&quot;&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn3&quot; readability=&quot;-0.96296296296296&quot;&gt;
&lt;p&gt;æœ¬æ–‡è·å¾—äº† CodeProject 2016 å¹´ 7 æœˆå· &lt;em lang=&quot;cmn-latn&quot;&gt;Everything Else&lt;/em&gt; å¥–çŠ¶ç¬¬ 2 å.&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fnref3&quot; class=&quot;footnote-back&quot;&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn4&quot; readability=&quot;-0.96296296296296&quot;&gt;
&lt;p&gt;æœ¬æ–‡è·å¾—äº† CodeProject 2018 å¹´ 3 æœˆå· &lt;em lang=&quot;cmn-latn&quot;&gt;Everything Else&lt;/em&gt; å¥–çŠ¶ç¬¬ 2 å.&lt;a href=&quot;http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html#fnref4&quot; class=&quot;footnote-back&quot;&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;/section&gt;</description>
<pubDate>Thu, 17 Jan 2019 15:55:00 +0000</pubDate>
<dc:creator>I.am.Conmajia</dc:creator>
<og:description>ä¸€ä¸ªåå«ç½—å¾·å°¼ï¼ˆRodneyï¼‰çš„æœºå™¨äºº. è¿™æ˜¯ç¬¬ä¸€éƒ¨åˆ†.</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/conmajia/p/rodney-robot-part-1.html</dc:identifier>
</item>
<item>
<title>autoç±»å‹æ¨å¯¼ - å€”å¼ºçš„é“ƒé“›</title>
<link>http://www.cnblogs.com/0xfffffff0/p/10285472.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/0xfffffff0/p/10285472.html</guid>
<description>&lt;h3 id=&quot;å¼•è¨€&quot;&gt;å¼•è¨€&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;auto : ç±»å‹æ¨å¯¼.&lt;/strong&gt; åœ¨ä½¿ç”¨c++çš„æ—¶å€™ä¼šç»å¸¸ä½¿ç”¨, å°±åƒåœ¨è€ƒè™‘STLæ—¶è¿­ä»£å™¨ç±»å‹, å†™æ¨¡æ¿çš„æ—¶å€™ä½¿ç”¨autoèƒ½å°‘å†™ä»£ç , ä¹Ÿèƒ½å¸®åŠ©æˆ‘ä»¬é¿å…ä¸€äº›éšæ‚£çš„ç»†èŠ‚.&lt;/p&gt;
&lt;h3 id=&quot;autoåˆå§‹åŒ–&quot;&gt;autoåˆå§‹åŒ–&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;å‹åˆ«æ¨å¯¼è¦æ±‚&lt;strong&gt;å¿…é¡»åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–&lt;/strong&gt;, æ¯•ç«Ÿéœ€è¦æ ¹æ®å¯¹è±¡çš„ç±»å‹æ¨å¯¼å·¦å€¼å¯¹è±¡çš„å‹åˆ«.&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;auto j;     // error. å¿…é¡»åˆå§‹åŒ–
auto i = 0; // i æ¨å¯¼å‹åˆ«ä¸º int
vector&amp;lt;int&amp;gt; v; 
auto vv = v.cbegin();   // vv  æ¨å¯¼å‹åˆ«ä¸º const int*&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;ä½†æ˜¯&lt;code&gt;auto&lt;/code&gt;å‹åˆ«æ¨å¯¼ä¼š&lt;strong&gt;å¿½ç•¥å¼•ç”¨å’Œé¡¶å±‚const&lt;/strong&gt;, æ‰€ä»¥è¦å¯¹å¯¹è±¡åŠ ä¸Šæƒ³è¦çš„ä¿®é¥°.&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;const int ci = 0;
auto i = ci;    // i æ¨å¯¼å‹åˆ«ä¸º int, å¿½ç•¥äº†é¡¶å±‚const
int &amp;amp;ri = i;
auto ii = ri;   //ii æ¨å¯¼å‹åˆ«ä¸º int, å¿½ç•¥äº†å¼•ç”¨&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;C11ä¹‹å‰åªèƒ½é€šè¿‡&lt;code&gt;()&lt;/code&gt;å’Œ&lt;code&gt;=&lt;/code&gt;å¯¹å˜é‡åˆå§‹åŒ–, C++11å¢åŠ äº†å¯¹å®šä¹‰çš„å¯¹è±¡åˆå§‹åŒ–çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;{}&lt;/code&gt;å¯¹å˜é‡åˆå§‹åŒ–&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;em&gt;c11ä¹‹å‰çš„åˆå§‹åŒ–æ–¹æ³•&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int i(0);   // i åˆå§‹åŒ– 0
int j = 0;  // j åˆå§‹åŒ– 0&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;c11åçš„åˆå§‹åŒ–æ–¹æ³•&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;auto i(0); auto j = i;  // æ”¯æŒc11å‰
auto ii{0}; // ä½¿ç”¨ {} è¿›è¡Œåˆå§‹åŒ–, ä½†æ˜¯autoæ¨å¯¼åªèƒ½æ¥å—ä¸€ä¸ªå‚æ•°
auto jj = { 0 };    // jj çš„æ¨å¯¼å‹åˆ«ä¸º initializer_list&amp;lt;int&amp;gt;å‹åˆ«&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢jjçš„æ¨å¯¼å±…ç„¶ä¸æ˜¯intå‹åˆ«, è€Œæ˜¯ &lt;code&gt;initializer_list&amp;lt;int&amp;gt;&lt;/code&gt;, è¿™ä¸èƒ½æ€ªautoæ¨å¯¼å‡ºé—®é¢˜, è¿™ä¸»è¦æ˜¯åè€…çš„å¯¹è±¡åˆå§‹åŒ–å°±æ˜¯ä½¿ç”¨&lt;code&gt;={}&lt;/code&gt;, å¯ä»¥è¯´æ˜¯autoæ¨å¯¼çš„æ˜¯æœ€ç²¾ç¡®çš„å‹åˆ«. ä¸ç®¡æ–°æ·»çš„åˆå§‹åŒ–æ–¹æ³•, æ‰¾ä¸€ä¸ªä¹ æƒ¯çš„å°±è¡Œäº†.&lt;/p&gt;
&lt;h3 id=&quot;autoä¸for&quot;&gt;autoä¸for&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;auto&lt;/code&gt;æœ€å¸¸è§çš„å°±æ˜¯ä¸&lt;code&gt;for&lt;/code&gt;è”ç”¨, ç‰¹åˆ«æ˜¯ç±»å‹ç‰¹åˆ«å¤æ‚çš„æ—¶å€™. ä½†æ˜¯autoåˆæœ‰å¤šç§é€‰æ‹©, å¦‚ : auto, auto &amp;amp;ç­‰, ä¸åŒçš„é€‰æ‹©å…¶æ•ˆç‡ä¹Ÿä¸ä¸€æ ·.&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;strong&gt;&lt;code&gt;auto&lt;/code&gt;, å³ for(auto i:range)&lt;/strong&gt; . è¿™ä½¿rangeä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå‰¯æœ¬, æ‰€ä»¥å³ä½¿ä¿®æ”¹äº† i ä¹Ÿä¸ä¼šå®é™…å½±å“åˆ°range.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;const auto&lt;/code&gt;, åŠfor(const auto i : range)&lt;/strong&gt;. è¿™ä¹Ÿä¼šæ˜¯rangeçš„æ¯ä¸€ä¸ªå…ƒç´ äº§ç”Ÿä¸€ä¸ªå‰¯æœ¬, ä½†æ˜¯è¿™ä¸ªå‰¯æœ¬ç«Ÿä¸èƒ½è¢«ä¿®æ”¹.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;auto &amp;amp;&lt;/code&gt;, å³for(auto &amp;amp;i : range)&lt;/strong&gt;. å¼•ç”¨, å› ä¸ºi ç›´æ¥å¼•ç”¨rangeé‡Œé¢çš„å…ƒç´ , æ‰€ä»¥å¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªå‰¯æœ¬, ä½†æ˜¯ i çš„ä¿®æ”¹ä¹Ÿä¼šå½±å“rangeé‡Œå…ƒç´ çš„å€¼. &lt;strong&gt;é€šå¸¸æˆ‘ä»¬éœ€è¦ä¿®æ”¹rangeæ˜¯ä¼šè€ƒè™‘ç”¨åˆ°.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;const auto&amp;amp;&lt;/code&gt;, å³for(const auto &amp;amp;&amp;amp;i : range)&lt;/strong&gt;. i ç›´æ¥å¼•ç”¨rangeé‡Œé¢çš„å…ƒç´ , æ‰€ä»¥å¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªå‰¯æœ¬, å¹¶ä¸”i ä¹Ÿä¸èƒ½ä¿®æ”¹. &lt;strong&gt;ä¸€èˆ¬åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªå·¦å€¼æ—¶è€Œä¸”æ˜¯è¯»å–rangeé‡Œçš„å…ƒç´ æ—¶éƒ½æ˜¯ç”¨&lt;code&gt;const auto&amp;amp;&lt;/code&gt;è€Œä¸ç”¨&lt;code&gt;auto&lt;/code&gt;, å› ä¸ºå‰è€…ä¸ä¼šäº§ç”Ÿå‰¯æœ¬, æ•ˆç‡è¦é«˜&lt;/strong&gt;. &lt;em&gt;å½“ç„¶ä¸€èˆ¬åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªå·¦å€¼æ—¶æ•ˆç‡ä½, ä½†æ˜¯å¦‚æœæ˜¯å³å€¼è¿˜æ˜¯ä½¿ç”¨&lt;code&gt;const auto&lt;/code&gt;æ•ˆç‡é«˜, å› ä¸º&lt;code&gt;const auto &amp;amp;&lt;/code&gt;éœ€è¦æŠŠ i å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œé—´æ¥è®¿é—®ä¼šæ›´æ¶ˆè€—æ—¶é—´&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;auto&amp;amp;&amp;amp;&lt;/code&gt;, å³for(auto &amp;amp;&amp;amp;i : range)&lt;/strong&gt;. å¦‚æœåˆå§‹åŒ–æ˜¯å·¦å€¼, é‚£ä¹ˆ i å°±æ˜¯å·¦å€¼å¼•ç”¨, å¦‚æœåˆå§‹åŒ–æ˜¯å³å€¼, é‚£ä¹ˆ i å°±æ˜¯å³å€¼å¼•ç”¨,&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;è¿˜æœ‰&lt;code&gt;const auto &amp;amp;&lt;/code&gt;, å½“ç„¶å…·ä½“çš„é€‰æ‹©è¿˜æ˜¯çœ‹å…·ä½“çš„æƒ…å†µè€Œå®š.&lt;/p&gt;
&lt;p&gt;æœ€å, å½“ç”¨&lt;code&gt;auto&lt;/code&gt;æ¨å¯¼å¤šç»´æ•°ç»„çš„æ—¶, ä¿è¯é™¤æœ€å†…å±‚å¾ªç¯å¤–, å…¶ä»–çš„å¤–å±‚å¾ªç¯éƒ½åº”è¯¥æ˜¯å¼•ç”¨ç±»å‹, å¦åˆ™å¾ˆå®¹æ˜“å‡ºé”™, å³ :&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int a[10][10][10];
for (const auto &amp;amp;i : a)
    for(const auto &amp;amp;j : i)
        for(const auto k : j)
            ;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;æœ€å¥½ä½¿ç”¨autoå‹åˆ«æ¨å¯¼&quot;&gt;æœ€å¥½ä½¿ç”¨autoå‹åˆ«æ¨å¯¼&lt;/h3&gt;
&lt;h4 id=&quot;åˆå§‹åŒ–&quot;&gt;1. åˆå§‹åŒ–&lt;/h4&gt;
&lt;ul&gt;&lt;li&gt;åœ¨å®šä¹‰å¯¹è±¡çš„æ—¶å€™å¯èƒ½æˆ–å¤šæˆ–å°‘ä¼šå¿˜è®°å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–, ä½†å½“æˆ‘ä»¬ä½¿ç”¨è¯¥å˜é‡çš„æ—¶å€™å°±ä¼šå‡ºé”™, è€Œä¸”é—®é¢˜ä¹Ÿä¸å¥½æ‰¾å‡ºæ¥, ä½†æ˜¯ä½¿ç”¨&lt;strong&gt;autoå®šä¹‰å¯¹è±¡å°±è¦æ±‚å¿…é¡»åˆå§‹åŒ–&lt;/strong&gt;æœ‰æ—¶è¿˜èƒ½å‡å°‘ä»£ç é‡, ä¸Šé¢æˆ‘ä»¬å·²ç»åˆ†æè¿‡äº†.&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;åˆå§‹åŒ–åœ¨å¹³å°ä¸Šè¿˜æœ‰ä¸€ç‚¹å¥½å¤„, æ¯”å¦‚ :&lt;/li&gt;
&lt;/ul&gt;&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;vector&amp;lt;int&amp;gt; v;
unsigned size = v.size();   // size()è¿”å›size_tå‹åˆ«
auto sizet = v.size();&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;â€‹ åœ¨32çš„å¹³å°&lt;code&gt;unsigned&lt;/code&gt;ä»£è¡¨çš„æ˜¯32ä½, &lt;code&gt;size_t&lt;/code&gt;æ˜¯32ä½, åœ¨64çš„å¹³å°&lt;code&gt;unsigned&lt;/code&gt;ä»£è¡¨çš„ä¹Ÿæ˜¯23ä½, ä½†æ˜¯&lt;code&gt;size_t&lt;/code&gt;å´æ˜¯64ä½, è¿™æ ·å¹³å°å·®å¼‚å¯èƒ½å°±ä¼šå¸¦æ¥é—®é¢˜, ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;ä»£æ›¿å°±æ²¡æœ‰è¿™æ ·çš„é—®é¢˜.&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åªæœ‰è¿™å‡ ç‚¹å¯èƒ½ä¸ä¼šè®©äººå¿ƒåŠ¨, ä¸‹é¢æˆ‘ä»¬è¿˜æœ‰autoçš„å¥½å¤„.&lt;/p&gt;
&lt;h4 id=&quot;stlä½¿ç”¨å‹åˆ«æ¨å¯¼&quot;&gt;2. STLä½¿ç”¨å‹åˆ«æ¨å¯¼&lt;/h4&gt;
&lt;p&gt;è¿˜è®°å¾—åœ¨å‰è¨€ä¸­ä¸ªè¯´è¿‡è°ƒç”¨STLæœ€å¥½ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;æ¨å¯¼å‹åˆ«, å¦‚æœä½ è¿˜è®°å¾—&lt;code&gt;map&lt;/code&gt;ä¸&lt;code&gt;pair&lt;/code&gt; å—? æ˜¯è¿™æ · &lt;code&gt;map&amp;lt;pair&amp;lt;key, type&amp;gt;&amp;gt;&lt;/code&gt;? è¿˜æ˜¯&lt;code&gt;map&amp;lt;pair&amp;lt;const key, type&amp;gt;&amp;gt;&lt;/code&gt;? ç­”æ¡ˆæ˜¯æœ€åä¸€ç§, é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å°±æ¥åˆ†æçš„ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;æ¨å¯¼è¿˜æ˜¯æ˜¾ç¤ºå‹åˆ«æ¯”è¾ƒå¥½.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int main()
{
    std::map&amp;lt;string, std::function&amp;lt;type(type, type)&amp;gt;&amp;gt;func = {
        { &quot;+&quot;, [](auto i, auto j)-&amp;gt;auto {return i + j; } },
        { &quot;-&quot;, [](auto i, auto j)-&amp;gt;auto {return i - j; } },
        { &quot;*&quot;, [](auto i, auto j)-&amp;gt;auto {return i * j; } },
        { &quot;/&quot;, [](auto i, auto j)-&amp;gt;auto {return i / j; } }
    };

    for (const auto &amp;amp;i : func) ;

    for(const std::pair&amp;lt;string, std::function&amp;lt;type(type, type)&amp;gt;&amp;gt; &amp;amp;pa : func) ;

    system(&quot;pause&quot;);
    exit(EXIT_SUCCESS);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çœ‹åˆ°ä¸Šé¢çš„ä¾‹å­æ¯«æ— é—®é¢˜, ä½†æ˜¯æ·±ç©¶èµ·æ¥æ˜¾ç¤ºå‹åˆ«è¿˜æ˜¯äº›ä¸å®Œç¾. æˆ‘ä»¬çŸ¥é“mapçš„&lt;code&gt;key&lt;/code&gt;ä¸èƒ½è¢«æ”¹å˜, æ‰€ä»¥æ˜¾ç¤ºå‹åˆ«çš„&lt;code&gt;string&lt;/code&gt;ä¸mapçš„&lt;code&gt;const string&lt;/code&gt;ä¸æ˜¯åŒ¹é…, ç¼–è¯‘å™¨å°±ä¼šå°†mapå¯¹è±¡éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶å¯¹è±¡å†éšå¼çš„è½¬ä¸º&lt;code&gt;string&lt;/code&gt;, ç­‰ç­‰. æ˜¯ä¸æ˜¯æ³¨æ„åˆ°æœ‰ä¸€ç‚¹äº†, ä¸ºäº†å‹åˆ«åŒ¹é…èµ‹å€¼ä¼šäº§ç”Ÿä¸´æ—¶å˜é‡, é‚£å²‚ä¸æ˜¯æ¯ä¸€å¾ªç¯éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶å˜é‡, ä½†æ˜¯&lt;code&gt;auto&lt;/code&gt;å‹åˆ«æ¨å¯¼å°±æ˜¯ç²¾ç¡®åŒ¹é…çš„, ä¸ä¼šäº§ç”Ÿä¸´æ—¶å˜é‡.&lt;/p&gt;
&lt;p&gt;å¯èƒ½è§‰å¾—å°†æ˜¾ç¤ºå‹åˆ«çš„keyæ”¹ä¸º&lt;code&gt;const string&lt;/code&gt;å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜äº†, ç¡®å®æ˜¯è¿™æ ·, ä½†æ˜¯å¦‚æœæ²¡æœ‰æ³¨æ„åˆ°è¿™ä¸€ç‚¹ç»†èŠ‚, é‚£å°±ä¼šæŸå¤±æ•ˆç‡äº†, ä½¿ç”¨autoå¯ä»¥å®Œå…¨ä¸æƒ³è¿™äº›é—®é¢˜å•Š.&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä½¿ç”¨æ˜¾ç¤ºå‹åˆ«è¿˜æ˜¯å‹æ¨å¯¼çœ‹å®é™…ä¹Ÿçœ‹ä¸ªäºº, ä¸æ˜¯å¿…è¦.&lt;/p&gt;
&lt;h3 id=&quot;autoä¸å‡½æ•°è¿”å›ç±»å‹&quot;&gt;autoä¸å‡½æ•°è¿”å›ç±»å‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;auto&lt;/code&gt;ä¸èƒ½è¢«å£°æ˜ä¸ºè¿”å›å€¼ï¼Œ&lt;code&gt;auto&lt;/code&gt;ä¸èƒ½ä½œä¸ºå½¢å‚ï¼Œ&lt;code&gt;auto&lt;/code&gt;ä¸èƒ½è¢«ä¿®é¥°ä¸ºæ¨¡æ¿å‚æ•°. é‚£ä¹ˆè¿™é‡Œ&lt;code&gt;auto&lt;/code&gt;è¿˜èƒ½æ€ä¹ˆå’Œå‡½æ•°å…³è”èµ·æ¥? èƒ½.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;autoæ”¾åœ¨å‡½æ•°åå‰é¢å‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒçœŸæ­£çš„è¿”å›å€¼åœ¨å‡½æ•°å£°æ˜ä¹‹å. ç®€å•è¯´autoå¯ä»¥ä½œä¸ºè¿”å›å€¼å ä½ç¬¦æ¥ä½¿è¿”å›å€¼åç½®.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°±åƒè¿™æ ·æ¥å†™.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;auto Return(std::size_t N) -&amp;gt; std::size_t
{
    return N;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ—¢ç„¶c++è§„å®šå¯ä»¥è¿™æ ·å†™è‚¯å®šæœ‰å…¶æ„ä¹‰. å…¶å®è¿™ä¸ªå†™æ³•ä¸»è¦ç”¨äº&lt;code&gt;template&lt;/code&gt;ä¸­, å½“è¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»å‹æ—¶ä½¿ç”¨, è€Œè¿”å›å€¼ç±»å‹é€šè¿‡&lt;code&gt;decltype&lt;/code&gt;æ¥æ¨å¯¼.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¿™é‡Œå°±è§£é‡Šä¸€ä¸‹&lt;code&gt;decltype&lt;/code&gt;çš„ç®€å•è¿ç”¨. , &lt;code&gt;decltype&lt;/code&gt;ä¹Ÿæ˜¯ç±»ä¼¼ä¸&lt;code&gt;auto&lt;/code&gt;çš„å…³é”®å­—, éƒ½èƒ½å¤Ÿè¿›è¡Œå‚æ•°ç±»å‹æ¨å¯¼, ä½†æ˜¯&lt;code&gt;decltype&lt;/code&gt;å¿…é¡»è¦æ¥å—ä¸€ä¸ªå‚æ•°, å¦‚ä¸‹:&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;int i = 1;
decltype(i) j = 1;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;auto&lt;/code&gt;ä¸æ¨¡æ¿å‡½æ•°è¿ç”¨æ—¶ç”¨æ¨¡æ¿å‚æ•°ä½œä¸ºè¿”å›å€¼. &lt;span&gt;å› ä¸ºç¼–è¯‘å™¨å¹¶ä¸èƒ½ç›´æ¥æ¨æ–­å‡ºè¿”å›å€¼ä¸ºç±»å‹å‚æ•°çš„å®é™…ç±»å‹, æ‰€ä»¥åœ¨STLä¸­é‡‡ç”¨&lt;code&gt;traits&lt;/code&gt;ç¼–ç¨‹è§£å†³è¿™ä¸ªé—®é¢˜, è¿™é‡Œæ—¶å¦ä¸€ç§å®ç°æ–¹æ³•.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆçœ‹ä¸€ä¸ªé”™è¯¯çš„ä¾‹å­:&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;template&amp;lt;class T1, class T2, class T3&amp;gt;
    T3 fun(T1 t1, T2 t2) {...}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;T3çš„ç±»å‹è¦åœ¨å‡½æ•°è¿”å›çš„æ—¶å€™æ‰èƒ½çŸ¥é“, è€Œ&lt;strong&gt;å‡½æ•°è¿™æ ·å†™å°±å¿…é¡»è¦ç¼–è¯‘æœŸé—´å°±è¦çŸ¥é“è¿”å›å€¼ç±»å‹.&lt;/strong&gt; æ‰€ä»¥ç¼–è¯‘å™¨ä¼šæŠ¥é”™.&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹è¿™æ ·å†™å°±æ˜¯æ­£ç¡®çš„, ä½†æ˜¯å¿…é¡»ä¿è¯ç¼–è¯‘å™¨èƒ½æ¨å¯¼å‡ºç±»å‹.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;template&amp;lt;class T1, class T2, class T3&amp;gt;
    T1 fun(T1 t1, T3 t3) {...}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨autoå°†è¿”å›å€¼ç±»å‹æ”¾åœ¨æœ€å, å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨&lt;span&gt;çœŸæ­£çš„è¿”å›å€¼åœ¨ç¼–è¯‘ååŠ¨æ€è·å–, è€Œautoåœ¨è¿™é‡Œçš„ä½œç”¨ä¹Ÿç§°ä¸º&lt;strong&gt;è¿”å›å€¼å ä½&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;template&amp;lt;class T1, class T2&amp;gt;
    auto fun(T1 t1, T2, t2) -&amp;gt; decltype(*t1) {...}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šå¯ä»¥å°†è¿”å›ç±»å‹æ”¾åœ¨å‡½æ•°å°¾åšå°¾ç½®æ˜¯C11ä¸­çš„è¦æ±‚, ä½†æ˜¯C14å·²ç»å¯ä»¥å°†&lt;strong&gt;è¿”å›å‹åˆ«æ”¾æ¨å¯¼&lt;/strong&gt;åœ¨å‡½æ•°å¤´. å¦‚ :&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;template&amp;lt;class T1&amp;gt;
decltype(auto)fun() {...}   // è¿™æ ·çš„å†™æ³•åŒä¸Šå¼ä¸€æ ·&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è™½ç„¶è§„å®šèƒ½å¤Ÿè¿™æ ·å†™, æœ‰æ—¶ä¸ºäº†å…¼å®¹ä¹Ÿè¿˜æ˜¯å†™æˆå°¾ç½®.&lt;/p&gt;
&lt;h3 id=&quot;autoä¸newè¿ç®—ç¬¦&quot;&gt;autoä¸newè¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;æ¥æ¨æ–­å‡º&lt;code&gt;new&lt;/code&gt;å¯¹è±¡çš„ç±»å‹, ä½†æ˜¯å±€é™åœ¨äº, å¿…é¡»å¯¹&lt;code&gt;new&lt;/code&gt;å‡ºæ¥çš„å¯¹è±¡è¿›è¡Œå•ä¸€çš„åˆå§‹åŒ–.&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;auto i = new int; // è¿™ä¸­å†™æ³•æ ¹æœ¬æ²¡æœ‰ç”¨åˆ°autoçš„æ¨å¯¼å“¦, å› ä¸ºnewçš„ç±»å‹å·²ç»ç¡®å®šäº†

auto i = new auto(1);       // è¿™é‡Œå°±æ˜¯ç”¨åˆ°äº†autoæ¨å¯¼
auto size = new auto;       // error, ä¸èƒ½æ¨å¯¼å‡ºsizeçš„ç±»å‹
auto j = new auto(1,2);     // error, åªèƒ½æ¥æ”¶ä¸€ä¸ªåˆå§‹åŒ–å€¼&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨&lt;code&gt;const&lt;/code&gt;ä¸­æˆ‘ä»¬åˆ†æåˆ°é¡¶å±‚&lt;code&gt;const&lt;/code&gt;ä¼šè¢«å¿½ç•¥, æ‰€ä»¥&lt;code&gt;auto&lt;/code&gt;æ˜¯æ— æ³•æ¨æ–­å‡ºé¡¶å±‚const, å³ :&lt;/p&gt;
&lt;pre class=&quot;cpp&quot;&gt;
&lt;code&gt;auto i = new const auto(1);     // è¿™é‡Œautoå¹¶æ²¡æœ‰æ¨å¯¼å‡ºé¡¶å±‚const, æ‰€ä»¥içš„ç±»å‹å®é™…ä¸Šæ˜¯int
const auto j = new const auto(1);   // åªæœ‰æ˜¾ç¤ºçš„å®šä¹‰jçš„ç±»å‹æ˜¯const&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæƒ³ç›´æ¥æ¨å¯¼å‡ºé¡¶å±‚constçš„è¯, æœ€å¥½è¿˜æ˜¯&lt;code&gt;decltype&lt;/code&gt;è¿›è¡Œæ¨å¯¼.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ³¨æ„ : &lt;code&gt;auto&lt;/code&gt;æ¨å¯¼åªèƒ½æ¨å¯¼å‡ºint, doubleç­‰, ä¸èƒ½æ¨å¯¼å‡ºshortç±»å‹&lt;/em&gt;.&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;æœ¬èŠ‚å¯¹C11çš„autoç”¨æ³•åšäº†ä¸€ä¸ªæµ…æ˜¾çš„åˆ†æ, åˆ†åˆ«å¯¹ä½¿ç”¨&lt;code&gt;auto&lt;/code&gt;çš„å¥½å¤„, å®šä¹‰æ—¶æ³¨æ„&lt;code&gt;{}&lt;/code&gt;å¯¹è±¡ä¹Ÿå¿…é¡»åˆå§‹åŒ–, &lt;code&gt;auto&lt;/code&gt;åœ¨ä¸forè¿ç”¨çš„æ—¶å€™è¦æ ¹æ®å®é™…å‚æ•°ç¡®å®šé€‰æ‹©å“ªç§å®ç°, è¿™æ ·æ•ˆç‡æ‰ä¼šè¾¾åˆ°æœ€å¤§, å½“ç„¶ä¸€èˆ¬éƒ½ä½¿ç”¨&lt;code&gt;const auto&amp;amp;&lt;/code&gt;å’Œ&lt;code&gt;auto&amp;amp;&amp;amp;&lt;/code&gt;. æœ€åè¿˜å¯¹&lt;code&gt;auto&lt;/code&gt;ä¸å‡½æ•°è¿”å›å€¼å…³è”, å¯ä»¥å°†è¿”å›å‹åˆ«æ”¾åœ¨å‡½æ•°åå°¾ä¹Ÿå¯ä»¥, è¿™æ ·çš„åšæ³•ä¸€èˆ¬åœ¨æ¨¡æ¿ä¸­å°†æ¨¡æ¿å‚æ•°ä½œä¸ºè¿”å›å€¼æ‰è€ƒè™‘ç”¨, å¹³æ—¶ä¹Ÿä¸å¿…è¿™æ ·å®šä¹‰å‡½æ•°.&lt;/p&gt;
&lt;p&gt;å‚è€ƒ :&lt;/p&gt;
&lt;p&gt;&amp;lt;&amp;lt; Effective Modern C++ &amp;gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/25148592&quot;&gt;auto, auto&amp;amp;, const auto&amp;amp;ä»¥åŠå…¶å®ƒå½¢å¼çš„autoå˜ç§åœ¨for-range loopçš„é€‰æ‹©&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 15:27:00 +0000</pubDate>
<dc:creator>å€”å¼ºçš„é“ƒé“›</dc:creator>
<og:description>å¼•è¨€ auto : ç±»å‹æ¨å¯¼. åœ¨ä½¿ç”¨c++çš„æ—¶å€™ä¼šç»å¸¸ä½¿ç”¨, å°±åƒåœ¨è€ƒè™‘STLæ—¶è¿­ä»£å™¨ç±»å‹, å†™æ¨¡æ¿çš„æ—¶å€™ä½¿ç”¨autoèƒ½å°‘å†™ä»£ç , ä¹Ÿèƒ½å¸®åŠ©æˆ‘ä»¬é¿å…ä¸€äº›éšæ‚£çš„ç»†èŠ‚. autoåˆå§‹åŒ– 1. ä½¿ç”¨ å‹åˆ«</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/0xfffffff0/p/10285472.html</dc:identifier>
</item>
<item>
<title>AOP è¿˜åœ¨é…ç½®å—æ”¹ç”¨æ‰“æ ‡ç­¾æ¨¡å¼å§ï¼ - é±¼ä¸œä¸œ</title>
<link>http://www.cnblogs.com/yudongdong/p/10285392.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yudongdong/p/10285392.html</guid>
<description>&lt;p&gt;&lt;span&gt;ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢æ‰“æ ‡ç­¾æ¥é…ç½®AOP&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1. é…ç½®å¤šå¾ˆæ··ä¹±ï¼Œä»£ç é‡Œé¢å¾ˆéš¾åˆ†è¾¨å‡ºæ¥å“ªäº›æ˜¯AOPå®¹å™¨(æ¯”å¦‚å±æ€§æ³¨å…¥)&lt;/p&gt;
&lt;p&gt;2. å¯¹äºä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç é‡Œé¢è¿˜éœ€è¦æ‰‹åŠ¨åŠ åˆ°é…ç½®é‡Œé¢&lt;/p&gt;
&lt;p&gt;3. è¿java springç°åœ¨éƒ½æ˜¯æ¸…ä¸€è‰²çš„æ³¨è§£æ¥ä»£æ›¿xmlï¼Œè¿™ä¸ªå°±æ˜¯è¶‹åŠ¿æ‰€åœ¨&lt;/p&gt;

&lt;p&gt;æˆ‘åŸºäº&lt;span&gt;Autofacå¼€å‘äº†ä¸€ä¸ªåŸºäºæ ‡ç­¾æ¥é…ç½®AOPçš„æ‰©å±•&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;NUGET ï¼š&lt;span&gt;Install-Package Autofac.Annotation&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;å¼€æºåœ°å€ï¼š&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¸®å¿™ç‚¹ä¸ªstar è°¢è°¢ï¼&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;ç‰¹è‰²&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.æ‰“ä¸ªBeanæ ‡ç­¾å°±èƒ½æ³¨å…¥åˆ°AOP&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.æ‰“ä¸ªAutowiredæ ‡ç­¾è‡ªåŠ¨è£…é…æ³¨å…¥&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3.æ‰“ä¸ªValueæ ‡ç­¾è‡ªåŠ¨æ³¨å…¥é…ç½®å€¼(Soureæ ‡ç­¾é…åˆä½¿ç”¨)å…·ä½“ä½¿ç”¨æ–¹æ³•çœ‹ä¸‹é¢çš„ä¾‹å­&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;4.æ”¯æŒæ‹¦æˆªå™¨&lt;/p&gt;
&lt;p&gt;5.æ›´å¤šç­‰ä½ å‘ç°&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¦‚ä½•ä½¿ç”¨&lt;/span&gt;&lt;/p&gt;

&lt;div id=&quot;3200-1547734396925&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; builder = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ContainerBuilder();

&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ³¨å†Œautofacæ‰“æ ‡ç­¾æ¨¡å¼&lt;/span&gt;
builder.RegisterModule(&lt;span&gt;new&lt;/span&gt; AutofacAnnotationModule(&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(AnotationTest).Assembly));
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¦‚æœéœ€è¦å¼€å¯æ”¯æŒå¾ªç¯æ³¨å…¥
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;builder.RegisterModule(new AutofacAnnotationModule(typeof(AnotationTest).Assembly).SetAllowCircularDependencies(true));&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; container =&lt;span&gt; builder.Build();
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; serviceB = container.Resolve&amp;lt;B&amp;gt;();
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;&lt;span&gt;AutofacAnnotationModuleæœ‰ä¸¤ç§æ„é€ æ–¹æ³•&lt;/span&gt;&lt;/p&gt;
&lt;div&gt;
&lt;ol&gt;&lt;li&gt;&lt;span&gt;å¯ä»¥ä¼ ä¸€ä¸ªAsseblyåˆ—è¡¨ ï¼ˆ&lt;/span&gt;&lt;span&gt;è¿™ç§æ–¹å¼ä¼šæ³¨å†Œä¼ å…¥çš„Asseblyé‡Œé¢æ‰“äº†æ ‡ç­¾çš„ç±»&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;å¯ä»¥ä¼ ä¸€ä¸ªAsseblyNameåˆ—è¡¨ (&lt;/span&gt;&lt;span&gt;è¿™ç§æ–¹å¼æ˜¯å…ˆä¼šæ ¹æ®AsseblyNameæŸ¥æ‰¾Assebly ç„¶ååœ¨æ³¨å†Œ&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;æ”¯æŒçš„æ ‡ç­¾è¯´æ˜&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Beanæ ‡ç­¾&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;è¯´æ˜ï¼šåªèƒ½æ‰“åœ¨classä¸Šé¢ æŠŠæŸä¸ªç±»æ³¨å†Œåˆ°autofacå®¹å™¨ ä¾‹å¦‚ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.æ— æ„é€ æ–¹æ³•çš„æ–¹å¼ ç­‰åŒäº builder.RegisterType();&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;4414-1547734869050&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æŠŠclass A æ³¨å†Œåˆ°å®¹å™¨&lt;/span&gt;
&lt;span&gt;[Bean]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A
{
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Name { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;2.&lt;span&gt;æŒ‡å®šScope [éœ€è¦æŒ‡å®šAutofacScopeå±æ€§ å¦‚æœä¸æŒ‡å®šä¸ºåˆ™é»˜è®¤ä¸ºAutofacScope.InstancePerDependency]&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;4620-1547734891937&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
 [Bean(AutofacScope =&lt;span&gt; AutofacScope.SingleInstance)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Name { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;3.&lt;span&gt;æŒ‡å®šç±»å‹æ³¨å†Œ ç­‰åŒäº builder.RegisterType().As()&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;1886-1547734907404&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; B
    {

    }
    //å°†class A6ä»¥çˆ¶ç±»Bæ³¨å†Œåˆ°å®¹å™¨
    [Bean(&lt;/span&gt;&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(B))]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A6:B
    {

    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;4.&lt;span&gt;æŒ‡å®šåå­—æ³¨å†Œ ç­‰åŒäº builder.RegisterType().Keyed(&quot;a4&quot;)&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;3843-1547734918304&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
    [Bean(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;a4&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]//æ³¨å†ŒA4åˆ°å®¹å™¨ å¹¶ç»™ä»–èµ·äº†ä¸€ä¸ªåå­—å«a4 å‡è®¾å®¹å™¨æœ‰å¤šä¸ªA4è¢«æ³¨å†Œå°±å¯ä»¥ç”¨è¿™ä¸ªåå­—æ¥åŒºåˆ«è‡ªåŠ¨è£…é…
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A4
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; School { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; } = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æµ‹è¯•2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;


&lt;p&gt;&lt;span&gt;5.å…¶ä»–å±æ€§è¯´æ˜&lt;/span&gt;&lt;/p&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li&gt;&lt;span&gt;InjectProperties æ˜¯å¦é»˜è®¤è£…é…å±æ€§ ã€é»˜è®¤ä¸ºtrueã€‘&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;InjectPropertyType å±æ€§è‡ªåŠ¨è£…é…çš„ç±»å‹&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;
&lt;ol&gt;&lt;li&gt;&lt;span&gt;Autowired ã€é»˜è®¤å€¼ã€‘ä»£è¡¨æ‰“äº†Autowiredæ ‡ç­¾çš„æ‰ä¼šè‡ªåŠ¨è£…é…&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;ALL ä»£è¡¨ä¼šè£…é…æ‰€æœ‰ ç­‰åŒäº builder.RegisterType().PropertiesAutowired()&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li&gt;&lt;span&gt;AutoActivate ã€é»˜è®¤ä¸ºfalseã€‘ å¦‚æœä¸ºtrueä»£è¡¨autofac buildå®Œæˆåä¼šè‡ªåŠ¨åˆ›å»º å…·ä½“è¯·å‚è€ƒÂ &lt;/span&gt;&lt;a href=&quot;https://autofaccn.readthedocs.io/en/latest/configuration/xml.html&quot;&gt;&lt;span&gt;autofacå®˜æ–¹æ–‡æ¡£&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Ownership ã€é»˜è®¤ä¸ºç©ºã€‘ å…·ä½“è¯·å‚è€ƒÂ &lt;/span&gt;&lt;a href=&quot;https://autofaccn.readthedocs.io/en/latest/configuration/xml.html&quot;&gt;&lt;span&gt;autofacå®˜æ–¹æ–‡æ¡£&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Interceptor ã€é»˜è®¤ä¸ºç©ºã€‘æŒ‡å®šæ‹¦æˆªå™¨çš„Type&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;InterceptorType æ‹¦æˆªå™¨ç±»å‹ æ‹¦æˆªå™¨å¿…é¡»å®ç° Castle.DynamicProxyçš„ IInterceptor æ¥å£ï¼Œ æœ‰ä»¥ä¸‹ä¸¤ç§&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;
&lt;ol&gt;&lt;li&gt;&lt;span&gt;Interface ã€é»˜è®¤å€¼ã€‘ä»£è¡¨æ˜¯æ¥å£å‹&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Class ä»£è¡¨æ˜¯classç±»å‹ è¿™ç§çš„è¯æ˜¯éœ€è¦å°†è¦æ‹¦æˆªçš„æ–¹æ³•æ ‡virtual&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li&gt;&lt;span&gt;InterceptorKey å¦‚æœåŒä¸€ä¸ªç±»å‹çš„æ‹¦æˆªå™¨æœ‰å¤šä¸ª å¯ä»¥æŒ‡å®šKey&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;InitMethod å½“å®ä¾‹è¢«åˆ›å»ºåæ‰§è¡Œçš„æ–¹æ³•åç§° ç±»ä¼¼Springçš„init-method å¯ä»¥æ˜¯æœ‰å‚æ•°(åªèƒ½1ä¸ªå‚æ•°ç±»å‹æ˜¯IComponentContext)å’Œæ— å‚æ•°çš„æ–¹æ³•&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;DestroyMetnod å½“å®ä¾‹è¢«Releaseæ—¶æ‰§è¡Œçš„æ–¹æ³• ç±»ä¼¼Springçš„destroy-method å¿…é¡»æ˜¯æ— å‚æ•°çš„æ–¹æ³•&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;

&lt;div id=&quot;7171-1547734956665&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
  [Bean(InitMethod = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;start&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,DestroyMetnod = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;destroy&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A30
    {
        [Value(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;aaaaa&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Test { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }

        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; A29 a29;

        &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; start(IComponentContext context)
        {
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.Test = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bbbb&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
            a29 &lt;/span&gt;= context.Resolve&amp;lt;A29&amp;gt;&lt;span&gt;();
        }

        &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; destroy()
        {
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.Test = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
            a29.Test &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
        }
    }
    &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;div id=&quot;4510-1547734963222&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; B
    {

    }
    
    [Bean(&lt;/span&gt;&lt;span&gt;typeof&lt;/span&gt;(B),&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;a5&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A5:B
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; School { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; } = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æµ‹è¯•a5&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;&lt;span&gt; GetSchool()
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.School;
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;&lt;span&gt;Autowired è‡ªåŠ¨è£…é…&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å¯ä»¥æ‰“åœ¨Field Property æ„é€ æ–¹æ³•çš„Parameterä¸Šé¢ å…¶ä¸­Field å’Œ Property æ”¯æŒåœ¨çˆ¶ç±»&lt;/span&gt;&lt;/p&gt;

&lt;div id=&quot;4172-1547734982524&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    [Bean]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A16
    {
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; A16([Autowired]A21 a21)
        {
            Name &lt;/span&gt;=&lt;span&gt; name;
            A21 &lt;/span&gt;=&lt;span&gt; a21;
        }
        
        [Autowired(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A13&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; B b1;


        [Autowired]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; B B { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Requiredé»˜è®¤ä¸ºtrue å¦‚æœè£…è½½é”™è¯¯ä¼šæŠ›å¼‚å¸¸å‡ºæ¥ã€‚å¦‚æœæŒ‡å®šä¸ºfalseåˆ™ä¸æŠ›å¼‚å¸¸&lt;/span&gt;
    [Autowired(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;adadada&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,Required = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; B b1;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;&lt;span&gt;Value å’Œ PropertySource&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;PropertySourceç±»ä¼¼Springé‡Œé¢çš„PropertySource å¯ä»¥æŒ‡å®šæ•°æ®æº æ”¯æŒ xml jsonæ ¼å¼ æ”¯æŒå†…åµŒèµ„æº&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.jsonæ ¼å¼çš„æ–‡ä»¶&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;9940-1547735011133&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;10&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{
  &lt;/span&gt;&quot;a10&quot;: &quot;aaaaaaaaa1&quot;&lt;span&gt;,
  &lt;/span&gt;&quot;list&quot;: [ 1, 2, 3&lt;span&gt; ],
  &lt;/span&gt;&quot;dic&quot;&lt;span&gt;: {
    &lt;/span&gt;&quot;name&quot;: &quot;name1&quot;&lt;span&gt;
  },
  &lt;/span&gt;&quot;testInitField&quot;: 1&lt;span&gt;,
  &lt;/span&gt;&quot;testInitProperty&quot;: 1&lt;span&gt;,
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;

&lt;div id=&quot;3089-1547735017950&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;9.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;   [Bean]
    [PropertySource(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/file/appsettings1.json&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A10
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; A10([Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{a10}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]&lt;span&gt;string&lt;/span&gt; school,[Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{list}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]List&amp;lt;&lt;span&gt;int&lt;/span&gt;&amp;gt; list,[Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{dic}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;,&lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt; dic)
        {
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.School =&lt;span&gt; school;
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.list =&lt;span&gt; list;
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.dic =&lt;span&gt; dic;

        }
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; School { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;&lt;span&gt;int&lt;/span&gt;&amp;gt; list { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; } 
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;,&lt;span&gt;string&lt;/span&gt;&amp;gt; dic { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; } 
        
    [Value(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{testInitField}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; test;
        
    [Value(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{testInitProperty}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; test2 { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å¯ä»¥ç›´æ¥æŒ‡å®šå€¼&lt;/span&gt;
    [Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; test3 { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2. xmlæ ¼å¼çš„æ–‡ä»¶&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;9419-1547735044089&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; &lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;autofac&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a11&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;aaaaaaaaa1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a11&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;list &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;list &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;1&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;list &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;2&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dic &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;name&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;name1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dic&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;autofac&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;div id=&quot;2749-1547735050033&quot; data-language=&quot;javascript&quot; data-theme=&quot;default&quot; readability=&quot;9.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    [Bean]
    [PropertySource(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/file/appsettings1.xml&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; A11
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; A11([Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{a11}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]&lt;span&gt;string&lt;/span&gt; school,[Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{list}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]List&amp;lt;&lt;span&gt;int&lt;/span&gt;&amp;gt; list,[Value(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#{dic}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)]Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;,&lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt; dic)
        {
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.School =&lt;span&gt; school;
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.list =&lt;span&gt; list;
            &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.dic =&lt;span&gt; dic;

        }
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; School { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;&lt;span&gt;int&lt;/span&gt;&amp;gt; list { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; } 
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Dictionary&amp;lt;&lt;span&gt;string&lt;/span&gt;,&lt;span&gt;string&lt;/span&gt;&amp;gt; dic { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; } 
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;p&gt;&lt;span&gt;3.&lt;/span&gt;&lt;span&gt;ä¸æŒ‡å®šPropertySourceçš„è¯ä¼šé»˜è®¤ä»å·¥ç¨‹ç›®å½•çš„ appsettings.jsonè·å–å€¼&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 14:53:00 +0000</pubDate>
<dc:creator>é±¼ä¸œä¸œ</dc:creator>
<og:description>ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢æ‰“æ ‡ç­¾æ¥é…ç½®AOP 1. é…ç½®å¤šå¾ˆæ··ä¹±ï¼Œä»£ç é‡Œé¢å¾ˆéš¾åˆ†è¾¨å‡ºæ¥å“ªäº›æ˜¯AOPå®¹å™¨(æ¯”å¦‚å±æ€§æ³¨å…¥) 2. å¯¹äºä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç é‡Œé¢è¿˜éœ€è¦æ‰‹åŠ¨åŠ åˆ°é…ç½®é‡Œé¢ 3. è¿java springç°åœ¨éƒ½</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/yudongdong/p/10285392.html</dc:identifier>
</item>
<item>
<title>æ·±åº¦è§£å¯†HTTPé€šä¿¡ç»†èŠ‚ - Stefno</title>
<link>http://www.cnblogs.com/qcrao-2018/p/10285348.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qcrao-2018/p/10285348.html</guid>
<description>&lt;p class=&quot;toc&quot;&gt;ç›®å½•&lt;/p&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡&lt;a href=&quot;https://www.cnblogs.com/qcrao-2018/p/10182185.html&quot;&gt;æ–‡ç« &lt;/a&gt;â€”â€”ã€Šâ€œä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹â€ï¼Œä½ çœŸçš„æ‡‚å—ã€‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¼šäº†ç”¨wiresharkå’Œtcpdumpæ¥åˆ†æTCPçš„â€œä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹â€ï¼Œéå¸¸å¥½ç”¨ã€‚è¿™å“¥ä¿©å°±æ˜¯ä¼ è¯´ä¸­çš„&lt;code&gt;é”¤å­&lt;/code&gt;ï¼Œæ‹¿ç€&lt;code&gt;é”¤å­&lt;/code&gt;ï¼Œçœ‹ä»€ä¹ˆéƒ½åƒ&lt;code&gt;é’‰å­&lt;/code&gt;ï¼åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¯¹å‡†äº†&lt;code&gt;HTTP&lt;/code&gt;è¿™é¢—é’‰å­ç ¸ä¸‹å»ï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¯¹ç½‘ç»œæ•°æ®åŒ…çš„â€œæµè½¬â€æœ‰æ›´åŠ æ·±åˆ»çš„ç†è§£ï¼Œæˆ‘åœ¨dockerï¼ˆè¿œç¨‹ï¼‰ä¸Šéƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œæ”¯æŒhttpæ–¹å¼è°ƒç”¨ã€‚ä»å®¢æˆ·ç«¯ï¼ˆæœ¬åœ°ï¼‰ç”¨httpæ–¹å¼è¯·æ±‚å…¶ä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œå¹¶å¾—åˆ°å“åº”æ•°æ®ã€‚åŒæ—¶æœ¬åœ°é€šè¿‡wiresharkæŠ“åŒ…ï¼Œè¿œç¨‹ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶ååˆ†æè¿‡ç¨‹ä¸­çš„æ‰€æœ‰é€šä¿¡ç»†èŠ‚ã€‚æ‚²å‰§æ˜¯æŠŠç¾å¥½çš„ä¸œè¥¿æ’•ç¢ç»™äººçœ‹ï¼Œè€Œæˆ‘ä»¬æ˜¯æŠŠå¤æ‚çš„ä¸œè¥¿æ’•ç¢äº†ç»™äººçœ‹ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ç« ç¨é•¿ï¼Œè¯·ä½ çœ‹æœ¬æ–‡æ—¶ä¿æŒè€å¿ƒã€‚æˆ‘ä»¬å…ˆé€šè¿‡å·¥å…·è·å–HTTPé€šä¿¡çš„æ•°æ®åŒ…ï¼Œå†æ¥æŠ½ä¸å‰¥èŒ§ï¼Œæ·±å…¥äºŒè¿›åˆ¶çš„å¤©åœ°é‡Œï¼Œè§£å¯†HTTPæ‰€æœ‰çš„é€šä¿¡ç»†èŠ‚ã€‚åˆ†æè¿‡ç¨‹ä¸­ï¼Œç”±ç‚¹åˆ°é¢ï¼Œå°†ç›¸å…³çŸ¥è¯†ä¸²æ¥èµ·æ¥ã€‚ä¿è¯å…¨ç¯‡è¯»å®Œä¹‹åï¼Œä½ å¯¹HTTPçš„ç†è§£ä¼šä¸Šå‡ä¸€ä¸ªå°é˜¶ï¼&lt;/p&gt;

&lt;h2 id=&quot;èƒŒæ™¯ä»‹ç»&quot;&gt;èƒŒæ™¯ä»‹ç»&lt;/h2&gt;
&lt;p&gt;æˆ‘æ‰‹å¤´ç°æœ‰ä¸€ä¸ªåœ°ç†å‡ ä½•ç›¸å…³çš„æœåŠ¡ï¼Œå®ƒæä¾›ä¸€ç»„æ¥å£å¯¹å¤–ä½¿ç”¨ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªæ¥å£æ˜¯&lt;code&gt;Fence2Area&lt;/code&gt;. ä½¿ç”¨æ–¹ä¼ å…¥ä¸€ä¸ªå›´æ ï¼ˆç‚¹çš„åˆ—è¡¨ç»„æˆï¼Œç‚¹ç”±&amp;lt;ç»åº¦ï¼Œçº¬åº¦&amp;gt;è¡¨ç¤ºï¼‰ã€ç‚¹çš„åæ ‡ç³»ç±»å‹ï¼ˆè°·æ­Œåœ°å›¾ç”¨çš„æ˜¯wgs84, å›½å†…è…¾è®¯ã€é«˜å¾·ç”¨çš„æ˜¯soso, è€Œç™¾åº¦ç”¨çš„æ˜¯å¦ä¸€å¥—è‡ªå·±çš„åæ ‡ç³»ï¼‰ï¼Œæ¥å£è¾“å‡ºçš„åˆ™æ˜¯å›´æ çš„é¢ç§¯ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¯·æ±‚æœåŠ¡çš„â€œFence2Areaâ€æ¥å£ï¼Œè¾“å…¥å¤šè¾¹å½¢çš„å›´æ (fence)é¡¶ç‚¹(lng, lat)åæ ‡ã€åæ ‡ç³»ç±»å‹(coordtype)ï¼Œè¿”å›å¤šè¾¹å½¢çš„é¢ç§¯(area)ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡æ­£å¸¸çš„è¯·æ±‚ç¤ºä¾‹url, è¿™ä¸ªå¤§å®¶éƒ½ä¸é™Œç”Ÿ:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;http://docker_ip:7080/data?cmd=Fence2Area&amp;amp;meta={&quot;caller&quot;:&quot;test&quot;,&quot;TraceId&quot;:&quot;test&quot;}&amp;amp;request={&quot;fence&quot;:[{&quot;lng&quot;:10.2,&quot;lat&quot;:10.2}, {&quot;lng&quot;:10.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:10.2}],&quot;coordtype&quot;:2}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯·æ±‚å‘å‡ºåï¼ŒæœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œä¹‹åï¼Œå®¢æˆ·ç«¯æ”¶åˆ°çš„è¿”å›æ•°æ®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;json&quot;&gt;
&lt;code&gt;{
    &quot;data&quot;: {
        &quot;area&quot;: 48764135597.842606
    },
    &quot;errstr&quot;: &quot;&quot;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;area&lt;/code&gt;å­—æ®µè¡¨ç¤ºé¢ç§¯ï¼Œè€Œ&lt;code&gt;errstr&lt;/code&gt;åˆ™æ˜¯ç©ºï¼Œå³æ²¡æœ‰å‡ºé”™ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æŠ“åŒ…&quot;&gt;æŠ“åŒ…&lt;/h2&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çœŸæ­£å‘é€è¯·æ±‚ä¹‹å‰ï¼Œéœ€è¦è¿›è¡ŒæŠ“åŒ…å‰çš„è®¾ç½®ã€‚åœ¨æœ¬åœ°macï¼Œæˆ‘ä»¬ç”¨wireshark; è€Œåœ¨è¿œç¨‹dockerä¸Šï¼Œæˆ‘ä»¬ç”¨tcpdumpå·¥å…·ã€‚&lt;/p&gt;
&lt;h3 id=&quot;macæœ¬åœ°&quot;&gt;macæœ¬åœ°&lt;/h3&gt;
&lt;p&gt;è®¾ç½®wiresharkåŒ…è¿‡æ»¤å™¨ï¼Œç›‘æ§æœ¬åœ°ä¸»æœºå’Œè¿œç¨‹dockerä¹‹é—´çš„é€šä¿¡ã€‚&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;ip.addr eq docker_ip&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç‚¹å‡»å¼€å§‹æ•è·ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¿œç¨‹docker&quot;&gt;è¿œç¨‹docker&lt;/h3&gt;
&lt;p&gt;è¯¥æœåŠ¡é€šè¿‡7080å¯¹å¤–æä¾›ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ•è·ç½‘ç»œåŒ…ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;tcpdump -w /tmp/testHttp.cap port 7080 -s0&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è¯·æ±‚-åˆ†æ&quot;&gt;è¯·æ±‚ &amp;amp;&amp;amp; åˆ†æ&lt;/h2&gt;
&lt;p&gt;å‡†å¤‡å·¥ä½œåšå®Œï¼Œæˆ‘æŒ‘é€‰äº†ä¸€ä¸ªç¥åœ£çš„æ—¶åˆ»ï¼Œåœ¨æœ¬åœ°é€šè¿‡æµè§ˆå™¨è®¿é—®å¦‚ä¸‹url:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;http://docker_ip:7080/data?cmd=Fence2Area&amp;amp;meta={&quot;caller&quot;:&quot;test&quot;,&quot;TraceId&quot;:&quot;test&quot;}&amp;amp;request={&quot;fence&quot;:[{&quot;lng&quot;:10.2,&quot;lat&quot;:10.2}, {&quot;lng&quot;:10.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:10.2}],&quot;coordtype&quot;:2}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ ·æœ¬åœ°çš„wiresharkå’Œè¿œç¨‹çš„tcpdumpéƒ½èƒ½æŠ“å–åˆ°HTTPç½‘ç»œæ•°æ®åŒ…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…³é—­æœåŠ¡è¿›ç¨‹&quot;&gt;å…³é—­æœåŠ¡è¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œå…³é—­gcsæœåŠ¡è¿›ç¨‹ï¼Œè¯·æ±‚ç›´æ¥è¿”å›RSTæŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51288531-97929400-1a37-11e9-8425-c6a2ca6405ad.png&quot; alt=&quot;rst&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œæˆ‘åœ¨è¯·æ±‚çš„æ—¶å€™ï¼Œæ”¹ç”¨äº†å¦ä¸€ä¸ªæ¥å£&lt;code&gt;5010&lt;/code&gt;, è¿™ä¸ªæ¥å£æ²¡æœ‰æœåŠ¡ç›‘å¬ï¼Œå’Œå…³é—­gcsæœåŠ¡è¿›ç¨‹æ˜¯åŒæ ·çš„æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®¢æˆ·ç«¯å°è¯•å‘é€SYNæŠ¥æ–‡ï¼Œç›´æ¥è¢«è¿œç¨‹docker RSTæ‰äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…³é—­docker&quot;&gt;å…³é—­docker&lt;/h3&gt;
&lt;p&gt;å…³é—­docker, ç”±äºå‘é€çš„SYNæŠ¥æ–‡æ®µå¾—ä¸åˆ°å“åº”ï¼Œå› æ­¤ä¼šè¿›è¡Œé‡è¯•ï¼Œmacä¸‹é‡è¯•çš„æ¬¡æ•°ä¸º10æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/50555866-08823e00-0d0d-11e9-97cd-f1cdcca2f641.png&quot; alt=&quot;mac retry&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…ˆæ¯éš”1ç§’é‡è¯•äº†5æ¬¡ï¼Œå†ç”¨â€œæŒ‡æ•°é€€é¿â€çš„æ—¶é—´é—´éš”é‡è¯•ï¼Œ2s, 4s, 8s, 16s, 32s. æœ€åç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;é‡å¯dockerã€‚å¹¶å†æ¬¡åœ¨æœ¬åœ°è®¿é—®ä»¥ä¸Šurl, æµè§ˆå™¨è¿™æ—¶è¿˜æ˜¯ç”¨çš„ä¸Šä¸€æ¬¡çš„ç«¯å£ï¼Œä½†æ˜¯æœåŠ¡ç«¯å·²ç»æ²¡æœ‰è¿™ä¸ªè¿æ¥çš„æ¶ˆæ¯äº†ã€‚å› æ­¤ä¼šè¿”å›ä¸€ä¸ªRSTæŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ­£å¸¸è¯·æ±‚&quot;&gt;æ­£å¸¸è¯·æ±‚&lt;/h3&gt;
&lt;p&gt;æœåŠ¡æ­£å¸¸å¯åŠ¨ï¼Œæ­£å¸¸å‘é€è¯·æ±‚ï¼Œè¿™æ¬¡è¯·æ±‚æˆåŠŸï¼Œé‚£æ˜¯å½“ç„¶çš„ï¼Œå˜¿å˜¿ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/50638281-2e6f4300-0f98-11e9-8d8b-0f3c0cc7eb85.png&quot; alt=&quot;normal_req_wireshark&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯åœ¨macä¸Šç”¨wiresharkæ•è·çš„æ•°æ®åŒ…ï¼Œå…±7ä¸ªåŒ…ï¼Œå‰ä¸‰ä¸ªåŒ…ä¸º3æ¬¡æ¡æ‰‹çš„åŒ…ï¼Œç¬¬å››ä¸ªåŒ…ä¸º&lt;code&gt;HTTP&lt;/code&gt;å±‚å‘é€çš„è¯·æ±‚æ•°æ®ï¼Œç¬¬äº”ä¸ªåŒ…ä¸ºæœåŠ¡ç«¯çš„TCP ç¡®è®¤æŠ¥æ–‡ï¼Œç¬¬å…­ä¸ªåŒ…ä¸ºæœåŠ¡ç«¯åœ¨&lt;code&gt;HTTP&lt;/code&gt;å±‚å‘é€çš„å“åº”æ•°æ®ï¼Œç¬¬ä¸ƒä¸ªåŒ…ä¸ºmacå¯¹ç¬¬å…­ä¸ªåŒ…çš„ç¡®è®¤æŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;é‡ç‚¹æ¥å…³æ³¨ç¬¬å››ä¸ªåŒ…ï¼Œ&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;0x0000:  4500 0295 0000 4000 3606 623b ac17 ccdc
0x0010:  0a60 5cd4 db9b 1ba8 a59a 46ce 6d03 e87d
0x0020:  8018 1015 0ee7 0000 0101 080a 2e4c b2ef
0x0030:  0f20 3acf 4745 5420 2f64 6174 613f 636d
0x0040:  643d 4665 6e63 6532 4172 6561 266d 6574
0x0050:  613d 7b25 3232 6361 6c6c 6572 2532 323a
0x0060:  2532 3274 6573 7425 3232 2c25 3232 5472
0x0070:  6163 6549 6425 3232 3a25 3232 7465 7374
0x0080:  2532 327d 2672 6571 7565 7374 3d7b 2532
0x0090:  3266 656e 6365 2532 323a 5b7b 2532 326c
0x00a0:  6e67 2532 323a 3130 2e32 2c25 3232 6c61
0x00b0:  7425 3232 3a31 302e 327d 2c25 3230 7b25
0x00c0:  3232 6c6e 6725 3232 3a31 302e 322c 2532
0x00d0:  326c 6174 2532 323a 382e 327d 2c25 3230
0x00e0:  7b25 3232 6c6e 6725 3232 3a38 2e32 2c25
0x00f0:  3232 6c61 7425 3232 3a38 2e32 7d2c 2532
0x0100:  307b 2532 326c 6e67 2532 323a 382e 322c
0x0110:  2532 326c 6174 2532 323a 3130 2e32 7d5d
0x0120:  2c25 3232 636f 6f72 6474 7970 6525 3232
0x0130:  3a32 7d20 4854 5450 2f31 2e31 0d0a 486f
0x0140:  7374 3a20 3130 2e39 362e 3932 2e32 3132
0x0150:  3a37 3038 300d 0a55 7067 7261 6465 2d49
0x0160:  6e73 6563 7572 652d 5265 7175 6573 7473
0x0170:  3a20 310d 0a41 6363 6570 743a 2074 6578
0x0180:  742f 6874 6d6c 2c61 7070 6c69 6361 7469
0x0190:  6f6e 2f78 6874 6d6c 2b78 6d6c 2c61 7070
0x01a0:  6c69 6361 7469 6f6e 2f78 6d6c 3b71 3d30
0x01b0:  2e39 2c2a 2f2a 3b71 3d30 2e38 0d0a 5573
0x01c0:  6572 2d41 6765 6e74 3a20 4d6f 7a69 6c6c
0x01d0:  612f 352e 3020 284d 6163 696e 746f 7368
0x01e0:  3b20 496e 7465 6c20 4d61 6320 4f53 2058
0x01f0:  2031 305f 3133 5f36 2920 4170 706c 6557
0x0200:  6562 4b69 742f 3630 352e 312e 3135 2028
0x0210:  4b48 544d 4c2c 206c 696b 6520 4765 636b
0x0220:  6f29 2056 6572 7369 6f6e 2f31 322e 302e
0x0230:  3220 5361 6661 7269 2f36 3035 2e31 2e31
0x0240:  350d 0a41 6363 6570 742d 4c61 6e67 7561
0x0250:  6765 3a20 7a68 2d63 6e0d 0a41 6363 6570
0x0260:  742d 456e 636f 6469 6e67 3a20 677a 6970
0x0270:  2c20 6465 666c 6174 650d 0a43 6f6e 6e65
0x0280:  6374 696f 6e3a 206b 6565 702d 616c 6976
0x0290:  650d 0a0d 0a&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬æ¥é€å­—èŠ‚åˆ†æã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x4&lt;/td&gt;
&lt;td&gt;IPç‰ˆæœ¬ä¸ºipv4&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x5&lt;/td&gt;
&lt;td&gt;é¦–éƒ¨é•¿åº¦ä¸º5 * 4å­—èŠ‚=20B&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç±»å‹ï¼Œç°åœ¨åŸºæœ¬éƒ½ç½®ä¸º0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0295&lt;/td&gt;
&lt;td&gt;æ€»é•¿åº¦ä¸º661å­—èŠ‚ï¼Œå³æ•´ä¸ªåŒ…çš„é•¿åº¦æ˜¯661å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;æ ‡è¯†ã€‚åŒä¸€ä¸ªæ•°æ®æŠ¥çš„å”¯ä¸€æ ‡è¯†ã€‚å½“IPæ•°æ®æŠ¥è¢«æ‹†åˆ†æ—¶ï¼Œä¼šå¤åˆ¶åˆ°æ¯ä¸€ä¸ªæ•°æ®ä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x4000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3bit æ ‡å¿— + 13bit ç‰‡åç§»&lt;/code&gt;ã€‚3bit æ ‡å¿—å¯¹åº” Rã€DFã€MFã€‚ç›®å‰åªæœ‰åä¸¤ä½æœ‰æ•ˆï¼ŒDFä½ï¼šä¸º1è¡¨ç¤ºä¸åˆ†ç‰‡ï¼Œä¸º0è¡¨ç¤ºåˆ†ç‰‡ã€‚MFï¼šä¸º1è¡¨ç¤ºâ€œæ›´å¤šçš„ç‰‡â€ï¼Œä¸º0è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ç‰‡ã€‚13bit ç‰‡ä½ç§»ï¼šæœ¬åˆ†ç‰‡åœ¨åŸå…ˆæ•°æ®æŠ¥æ–‡ä¸­ç›¸å¯¹é¦–ä½çš„åç§»ä½ã€‚ï¼ˆéœ€è¦å†ä¹˜ä»¥8 )&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x36&lt;/td&gt;
&lt;td&gt;ç”Ÿå­˜æ—¶é—´TTLã€‚IPæŠ¥æ–‡æ‰€å…è®¸é€šè¿‡çš„è·¯ç”±å™¨çš„æœ€å¤§æ•°é‡ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTLå‡1ï¼Œå½“ä¸º 0 æ—¶ï¼Œè·¯ç”±å™¨å°†è¯¥æ•°æ®æŠ¥ä¸¢å¼ƒã€‚TTL å­—æ®µæ˜¯ç”±å‘é€ç«¯åˆå§‹è®¾ç½®ä¸€ä¸ª 8 bitå­—æ®µ.æ¨èçš„åˆå§‹å€¼ç”±åˆ†é…æ•°å­— RFC æŒ‡å®šã€‚å‘é€ ICMP å›æ˜¾åº”ç­”æ—¶ç»å¸¸æŠŠ TTL è®¾ä¸ºæœ€å¤§å€¼ 255ã€‚TTLå¯ä»¥é˜²æ­¢æ•°æ®æŠ¥é™·å…¥è·¯ç”±å¾ªç¯ã€‚ æ­¤å¤„ä¸º54.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x06&lt;/td&gt;
&lt;td&gt;åè®®ç±»å‹ã€‚æŒ‡å‡ºIPæŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨çš„æ˜¯å“ªç§åè®®ï¼Œä»¥ä¾¿ç›®çš„ä¸»æœºçš„IPå±‚èƒ½çŸ¥é“è¦å°†æ•°æ®æŠ¥ä¸Šäº¤åˆ°å“ªä¸ªè¿›ç¨‹ã€‚TCP çš„åè®®å·ä¸º6ï¼ŒUDP çš„åè®®å·ä¸º17ã€‚ICMP çš„åè®®å·ä¸º1ï¼ŒIGMP çš„åè®®å·ä¸º2ã€‚è¯¥ IP æŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨ TCP åè®®ï¼Œå¾—åˆ°äº†éªŒè¯ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x623b&lt;/td&gt;
&lt;td&gt;16bitIPé¦–éƒ¨æ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0xac17 ccdc&lt;/td&gt;
&lt;td&gt;32bitæºipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0a60 5cd4&lt;/td&gt;
&lt;td&gt;32bitç›®çš„ipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä½™çš„æ•°æ®éƒ¨åˆ†å³ä¸ºTCPåè®®ç›¸å…³çš„ã€‚TCPä¹Ÿæ˜¯20Bå›ºå®šé•¿åº¦+å¯å˜é•¿åº¦éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;9&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xdb9b&lt;/td&gt;
&lt;td&gt;16bitæºç«¯å£ã€‚56219&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x1ba8&lt;/td&gt;
&lt;td&gt;16bitç›®çš„ç«¯å£7080&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0xa59a 46ce&lt;/td&gt;
&lt;td&gt;32bitåºåˆ—å·ã€‚2778351310&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x6d03 e87d&lt;/td&gt;
&lt;td&gt;32bitç¡®è®¤å·ã€‚1828972669&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x8&lt;/td&gt;
&lt;td&gt;4bité¦–éƒ¨é•¿åº¦ï¼Œä»¥4byteä¸ºå•ä½ã€‚å…±8*4=32å­—èŠ‚ã€‚å› æ­¤TCPæŠ¥æ–‡çš„å¯é€‰é•¿åº¦ä¸º32-20=12å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0b000000&lt;/td&gt;
&lt;td&gt;6bitä¿ç•™ä½ã€‚ç›®å‰ç½®ä¸º0.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0b011000&lt;/td&gt;
&lt;td&gt;6bitTCPæ ‡å¿—ä½ã€‚ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ç´§æ€¥ URGã€ç¡®è®¤ ACKã€æ¨é€ PSHã€å¤ä½ RSTã€åŒæ­¥ SYN ã€ç»ˆæ­¢ FINã€‚ackæœ‰æ•ˆï¼ŒåŒæ—¶pshæœ‰æ•ˆ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x1015&lt;/td&gt;
&lt;td&gt;æ»‘åŠ¨çª—å£å¤§å°ï¼Œæ»‘åŠ¨çª—å£å³tcpæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼Œç”¨äºtcpæ‹¥å¡æ§åˆ¶ã€‚4117&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0ee7&lt;/td&gt;
&lt;td&gt;16bitæ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;ç´§æ€¥æŒ‡é’ˆã€‚ä»…åœ¨ URG = 1æ—¶æ‰æœ‰æ„ä¹‰ï¼Œå®ƒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚å½“ URG = 1 æ—¶ï¼Œå‘é€æ–¹ TCP å°±æŠŠç´§æ€¥æ•°æ®æ’å…¥åˆ°æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„æœ€å‰é¢ï¼Œè€Œåœ¨ç´§æ€¥æ•°æ®åé¢çš„æ•°æ®ä»æ˜¯æ™®é€šæ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å¯å˜é•¿åº¦éƒ¨åˆ†ï¼Œåè®®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0402&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ”¯æŒSACK&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x080a 2e4c b2ef 0f20 3acf&lt;/td&gt;
&lt;td&gt;æ—¶é—´æˆ³ã€‚Ts val=0x2e4c b2ef=776778479, ecr=0x0f20 3acf=253770447&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä¸‹æ¥çš„å°±æ˜¯æ•°æ®éƒ¨åˆ†äº†ã€‚æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œåœ°çœ‹ã€‚å› ä¸ºhttpæ˜¯å­—ç¬¦æµï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹asciiå­—ç¬¦é›†ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;man ascii&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾—åˆ°ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;00 nul   01 soh   02 stx   03 etx   04 eot   05 enq   06 ack   07 bel
08 bs    09 ht    0a nl    0b vt    0c np    0d cr    0e so    0f si
10 dle   11 dc1   12 dc2   13 dc3   14 dc4   15 nak   16 syn   17 etb
18 can   19 em    1a sub   1b esc   1c fs    1d gs    1e rs    1f us
20 sp    21  !    22  &quot;    23  #    24  $    25  %    26  &amp;amp;    27  '
28  (    29  )    2a  *    2b  +    2c  ,    2d  -    2e  .    2f  /
30  0    31  1    32  2    33  3    34  4    35  5    36  6    37  7
38  8    39  9    3a  :    3b  ;    3c  &amp;lt;    3d  =    3e  &amp;gt;    3f  ?
40  @    41  A    42  B    43  C    44  D    45  E    46  F    47  G
48  H    49  I    4a  J    4b  K    4c  L    4d  M    4e  N    4f  O
50  P    51  Q    52  R    53  S    54  T    55  U    56  V    57  W
58  X    59  Y    5a  Z    5b  [    5c  \    5d  ]    5e  ^    5f  _
60  `    61  a    62  b    63  c    64  d    65  e    66  f    67  g
68  h    69  i    6a  j    6b  k    6c  l    6d  m    6e  n    6f  o
70  p    71  q    72  r    73  s    74  t    75  u    76  v    77  w
78  x    79  y    7a  z    7b  {    7c  |    7d  }    7e  ~    7f del&lt;/code&gt;
&lt;/pre&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;41.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0030&lt;/td&gt;
&lt;td&gt;4745 5420 2f64 6174 613f 636d&lt;/td&gt;
&lt;td&gt;GE T /d at a? cm&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0040&lt;/td&gt;
&lt;td&gt;643d 4665 6e63 6532 4172 6561 266d 6574&lt;/td&gt;
&lt;td&gt;d= Fe nc e2 Ar ea &amp;amp;m et&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0050&lt;/td&gt;
&lt;td&gt;613d 7b25 3232 6361 6c6c 6572 2532 323a&lt;/td&gt;
&lt;td&gt;a= {% 22 ca ll er %2 2:&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0060&lt;/td&gt;
&lt;td&gt;2532 3274 6573 7425 3232 2c25 3232 5472&lt;/td&gt;
&lt;td&gt;%2 2t es t% 22 ,% 22 Tr&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0070&lt;/td&gt;
&lt;td&gt;6163 6549 6425 3232 3a25 3232 7465 7374&lt;/td&gt;
&lt;td&gt;ac eI d% 22 :% 22 te st&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0080&lt;/td&gt;
&lt;td&gt;2532 327d 2672 6571 7565 7374 3d7b 2532&lt;/td&gt;
&lt;td&gt;%2 2} &amp;amp;r eq ue st ={ %2&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0090&lt;/td&gt;
&lt;td&gt;3266 656e 6365 2532 323a 5b7b 2532 326c&lt;/td&gt;
&lt;td&gt;2f en ce %2 2: [{ %2 2l&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00a0&lt;/td&gt;
&lt;td&gt;6e67 2532 323a 3130 2e32 2c25 3232 6c61&lt;/td&gt;
&lt;td&gt;ng %2 2: 10 .2 ,% 22 la&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00b0&lt;/td&gt;
&lt;td&gt;7425 3232 3a31 302e 327d 2c25 3230 7b25&lt;/td&gt;
&lt;td&gt;t% 22 :1 0. 2} ,% 20 {%&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00c0&lt;/td&gt;
&lt;td&gt;3232 6c6e 6725 3232 3a31 302e 322c 2532&lt;/td&gt;
&lt;td&gt;22 ln g% 22 :1 0. 2, %2&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00d0&lt;/td&gt;
&lt;td&gt;326c 6174 2532 323a 382e 327d 2c25 3230&lt;/td&gt;
&lt;td&gt;2l at %2 2: 8. 2} ,% 20&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00e0&lt;/td&gt;
&lt;td&gt;7b25 3232 6c6e 6725 3232 3a38 2e32 2c25&lt;/td&gt;
&lt;td&gt;{% 22 ln g% 22 :8 .2 ,%&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00f0&lt;/td&gt;
&lt;td&gt;3232 6c61 7425 3232 3a38 2e32 7d2c 2532&lt;/td&gt;
&lt;td&gt;22 la t% 22 :8 .2 }, %2&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0100&lt;/td&gt;
&lt;td&gt;307b 2532 326c 6e67 2532 323a 382e 322c&lt;/td&gt;
&lt;td&gt;0{ %2 2l ng %2 2: 8. 2,&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0110&lt;/td&gt;
&lt;td&gt;2532 326c 6174 2532 323a 3130 2e32 7d5d&lt;/td&gt;
&lt;td&gt;%2 2l at %2 2: 10 .2 } ]&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0120&lt;/td&gt;
&lt;td&gt;2c25 3232 636f 6f72 6474 7970 6525 3232&lt;/td&gt;
&lt;td&gt;,% 22 co or dt yp e% 22&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0130&lt;/td&gt;
&lt;td&gt;3a32 7d20 4854 5450 2f31 2e31 0d0a 486f&lt;/td&gt;
&lt;td&gt;:2 } HT TP /1 .1 crnl Ho&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0140&lt;/td&gt;
&lt;td&gt;7374 3a20 3130 2e39 362e 3932 2e32 3132&lt;/td&gt;
&lt;td&gt;st : 10 .9 6. 92 .2 12&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0150&lt;/td&gt;
&lt;td&gt;3a37 3038 300d 0a55 7067 7261 6465 2d49&lt;/td&gt;
&lt;td&gt;:7 08 0cr nlU pg ra de -I&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0160&lt;/td&gt;
&lt;td&gt;6e73 6563 7572 652d 5265 7175 6573 7473&lt;/td&gt;
&lt;td&gt;ns ec ur e- Re qu es ts&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0170&lt;/td&gt;
&lt;td&gt;3a20 310d 0a41 6363 6570 743a 2074 6578&lt;/td&gt;
&lt;td&gt;: 1cr nlA cc ep t: t ex&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0180&lt;/td&gt;
&lt;td&gt;742f 6874 6d6c 2c61 7070 6c69 6361 7469&lt;/td&gt;
&lt;td&gt;t/ ht ml ,a pp li ca ti&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0190&lt;/td&gt;
&lt;td&gt;6f6e 2f78 6874 6d6c 2b78 6d6c 2c61 7070&lt;/td&gt;
&lt;td&gt;on /x ht ml +x ml ,a pp&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x01a0&lt;/td&gt;
&lt;td&gt;6c69 6361 7469 6f6e 2f78 6d6c 3b71 3d30&lt;/td&gt;
&lt;td&gt;li ca ti on /x ml ;q =0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x01b0&lt;/td&gt;
&lt;td&gt;2e39 2c2a 2f2a 3b71 3d30 2e38 0d0a 5573&lt;/td&gt;
&lt;td&gt;.9 ,* /* ;q =0 .8 crnl Us&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x01c0&lt;/td&gt;
&lt;td&gt;6572 2d41 6765 6e74 3a20 4d6f 7a69 6c6c&lt;/td&gt;
&lt;td&gt;er -A ge nt : Mo zi ll&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x01d0&lt;/td&gt;
&lt;td&gt;612f 352e 3020 284d 6163 696e 746f 7368&lt;/td&gt;
&lt;td&gt;a/ 5. 0 (M ac in to sh&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x01e0&lt;/td&gt;
&lt;td&gt;3b20 496e 7465 6c20 4d61 6320 4f53 2058&lt;/td&gt;
&lt;td&gt;; In te l Ma c OS X&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x01f0&lt;/td&gt;
&lt;td&gt;2031 305f 3133 5f36 2920 4170 706c 6557&lt;/td&gt;
&lt;td&gt;1 0_ 13 _6 ) Ap pl eW&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0200&lt;/td&gt;
&lt;td&gt;6562 4b69 742f 3630 352e 312e 3135 2028&lt;/td&gt;
&lt;td&gt;eb Ki t/ 60 5. 1. 15 (&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0210&lt;/td&gt;
&lt;td&gt;4b48 544d 4c2c 206c 696b 6520 4765 636b&lt;/td&gt;
&lt;td&gt;KH TM L, l i k e Ge ck&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0220&lt;/td&gt;
&lt;td&gt;6f29 2056 6572 7369 6f6e 2f31 322e 302e&lt;/td&gt;
&lt;td&gt;o) V er si o n /1 2. 0.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0230&lt;/td&gt;
&lt;td&gt;3220 5361 6661 7269 2f36 3035 2e31 2e31&lt;/td&gt;
&lt;td&gt;2 Sa fa ri /6 05 .1 .1&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0240&lt;/td&gt;
&lt;td&gt;350d 0a41 6363 6570 742d 4c61 6e67 7561&lt;/td&gt;
&lt;td&gt;5cr nlA cc ep t- La ng ua&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0250&lt;/td&gt;
&lt;td&gt;6765 3a20 7a68 2d63 6e0d 0a41 6363 6570&lt;/td&gt;
&lt;td&gt;ge : zh -c ncr nlA cc ep&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0260&lt;/td&gt;
&lt;td&gt;742d 456e 636f 6469 6e67 3a20 677a 6970&lt;/td&gt;
&lt;td&gt;t- En co di ng : gz ip&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0270&lt;/td&gt;
&lt;td&gt;2c20 6465 666c 6174 650d 0a43 6f6e 6e65&lt;/td&gt;
&lt;td&gt;, de fl at ecr nlC on ne&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0280&lt;/td&gt;
&lt;td&gt;6374 696f 6e3a 206b 6565 702d 616c 6976&lt;/td&gt;
&lt;td&gt;ct io n: k ee p- al iv&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0290&lt;/td&gt;
&lt;td&gt;650d 0a0d 0a&lt;/td&gt;
&lt;td&gt;ecr nl cr nl&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æŠŠä¸Šè¡¨çš„æœ€åä¸€åˆ—è¿èµ·æ¥ï¼Œå°±æ˜¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;GET /data?cmd=Fence2Area&amp;amp;meta={%22caller%22:%22test%22,%22TraceId%22:%22test%22}&amp;amp;request={%22fence%22:[{%22lng%22:10.2,%22lat%22:10.2},%20{%22lng%22:10.2,%22lat%22:8.2},%20{%22lng%22:8.2,%22lat%22:8.2},%20{%22lng%22:8.2,%22lat%22:10.2}],%22coordtype%22:2} HTTP/1.1 
Host: 10.96.92.212:7080 
Upgrade-Insecure-Requests: 1 
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.2 Safari/605.1.15 
Accept-Language: zh-cn 
Accept-Encoding: gzip, deflate 
Connection: keep-alive 
 &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼Œcr nlè¡¨ç¤ºå›è½¦ï¼Œæ¢è¡Œã€‚&lt;/p&gt;
&lt;p&gt;dockeræ”¶åˆ°æ•°æ®åï¼Œä¼šå›å¤ä¸€ä¸ªackåŒ…ã€‚ç¬¬å››ä¸ªåŒ…çš„æ€»é•¿åº¦ä¸º661å­—èŠ‚ï¼Œå»æ‰IPå¤´éƒ¨20å­—èŠ‚ï¼ŒTCPå¤´éƒ¨å›ºå®šéƒ¨åˆ†20å­—èŠ‚ï¼ŒTCPå¤´éƒ¨å¯é€‰é•¿åº¦ä¸º12å­—èŠ‚ï¼Œå…±52å­—èŠ‚ï¼Œå› æ­¤TCPæ•°æ®éƒ¨åˆ†æ€»é•¿åº¦ä¸º661-52=609å­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;åºåˆ—å·ä¸º2778351310.&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹ç¬¬5ä¸ªåŒ…ï¼Œå­—èŠ‚æµå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;        0x0000:  4500 0034 d28b 4000 4006 8810 0a60 5cd4
        0x0010:  ac17 ccdc 1ba8 db9b 6d03 e87d a59a 492f
        0x0020:  8010 00ec e04e 0000 0101 080a 0f20 3af7
        0x0030:  2e4c b2ef&lt;/code&gt;
&lt;/pre&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x4&lt;/td&gt;
&lt;td&gt;IPç‰ˆæœ¬ä¸ºipv4&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x5&lt;/td&gt;
&lt;td&gt;é¦–éƒ¨é•¿åº¦ä¸º5 * 4å­—èŠ‚=20B&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç±»å‹ï¼Œç°åœ¨åŸºæœ¬éƒ½ç½®ä¸º0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0034&lt;/td&gt;
&lt;td&gt;æ€»é•¿åº¦ä¸º52å­—èŠ‚ï¼Œå³æ•´ä¸ªåŒ…çš„é•¿åº¦æ˜¯52å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0xd28b&lt;/td&gt;
&lt;td&gt;æ ‡è¯†ã€‚åŒä¸€ä¸ªæ•°æ®æŠ¥çš„å”¯ä¸€æ ‡è¯†ã€‚å½“IPæ•°æ®æŠ¥è¢«æ‹†åˆ†æ—¶ï¼Œä¼šå¤åˆ¶åˆ°æ¯ä¸€ä¸ªæ•°æ®ä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x4000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3bit æ ‡å¿— + 13bit ç‰‡åç§»&lt;/code&gt;ã€‚3bit æ ‡å¿—å¯¹åº” Rã€DFã€MFã€‚ç›®å‰åªæœ‰åä¸¤ä½æœ‰æ•ˆï¼ŒDFä½ï¼šä¸º1è¡¨ç¤ºä¸åˆ†ç‰‡ï¼Œä¸º0è¡¨ç¤ºåˆ†ç‰‡ã€‚MFï¼šä¸º1è¡¨ç¤ºâ€œæ›´å¤šçš„ç‰‡â€ï¼Œä¸º0è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ç‰‡ã€‚13bit ç‰‡ä½ç§»ï¼šæœ¬åˆ†ç‰‡åœ¨åŸå…ˆæ•°æ®æŠ¥æ–‡ä¸­ç›¸å¯¹é¦–ä½çš„åç§»ä½ã€‚ï¼ˆéœ€è¦å†ä¹˜ä»¥8 )&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x40&lt;/td&gt;
&lt;td&gt;ç”Ÿå­˜æ—¶é—´TTLã€‚IPæŠ¥æ–‡æ‰€å…è®¸é€šè¿‡çš„è·¯ç”±å™¨çš„æœ€å¤§æ•°é‡ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTLå‡1ï¼Œå½“ä¸º 0 æ—¶ï¼Œè·¯ç”±å™¨å°†è¯¥æ•°æ®æŠ¥ä¸¢å¼ƒã€‚TTL å­—æ®µæ˜¯ç”±å‘é€ç«¯åˆå§‹è®¾ç½®ä¸€ä¸ª 8 bitå­—æ®µ.æ¨èçš„åˆå§‹å€¼ç”±åˆ†é…æ•°å­— RFC æŒ‡å®šã€‚å‘é€ ICMP å›æ˜¾åº”ç­”æ—¶ç»å¸¸æŠŠ TTL è®¾ä¸ºæœ€å¤§å€¼ 255ã€‚TTLå¯ä»¥é˜²æ­¢æ•°æ®æŠ¥é™·å…¥è·¯ç”±å¾ªç¯ã€‚ æ­¤å¤„ä¸º54.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x06&lt;/td&gt;
&lt;td&gt;åè®®ç±»å‹ã€‚æŒ‡å‡ºIPæŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨çš„æ˜¯å“ªç§åè®®ï¼Œä»¥ä¾¿ç›®çš„ä¸»æœºçš„IPå±‚èƒ½çŸ¥é“è¦å°†æ•°æ®æŠ¥ä¸Šäº¤åˆ°å“ªä¸ªè¿›ç¨‹ã€‚TCP çš„åè®®å·ä¸º6ï¼ŒUDP çš„åè®®å·ä¸º17ã€‚ICMP çš„åè®®å·ä¸º1ï¼ŒIGMP çš„åè®®å·ä¸º2ã€‚è¯¥ IP æŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨ TCP åè®®ï¼Œå¾—åˆ°äº†éªŒè¯ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x8810&lt;/td&gt;
&lt;td&gt;16bitIPé¦–éƒ¨æ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x0a60 5cd4&lt;/td&gt;
&lt;td&gt;32bitæºipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xac17 ccdc&lt;/td&gt;
&lt;td&gt;32bitç›®çš„ipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä½™çš„æ•°æ®éƒ¨åˆ†å³ä¸ºTCPåè®®ç›¸å…³çš„ã€‚TCPä¹Ÿæ˜¯20Bå›ºå®šé•¿åº¦+å¯å˜é•¿åº¦éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;11.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x1ba8&lt;/td&gt;
&lt;td&gt;16bitæºç«¯å£7080&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0xdb9b&lt;/td&gt;
&lt;td&gt;16bitç›®çš„ç«¯å£ã€‚56219&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x6d03 e87d&lt;/td&gt;
&lt;td&gt;32bitåºåˆ—å·ã€‚1828972669&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0xa59a 492f&lt;/td&gt;
&lt;td&gt;32bitç¡®è®¤å·ã€‚2778351919. ç¬¬ä¸‰ä¸ªåŒ…çš„åºåˆ—å·ä¸º2778351310, åŠ ä¸Šæ•°æ®é•¿åº¦609, æ­£å¥½ç›¸ç­‰ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x8&lt;/td&gt;
&lt;td&gt;4bité¦–éƒ¨é•¿åº¦ï¼Œä»¥4byteä¸ºå•ä½ã€‚å…±8*4=32å­—èŠ‚ã€‚å› æ­¤TCPæŠ¥æ–‡çš„å¯é€‰é•¿åº¦ä¸º32-20=12å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0b000000&lt;/td&gt;
&lt;td&gt;6bitä¿ç•™ä½ã€‚ç›®å‰ç½®ä¸º0.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0b010000&lt;/td&gt;
&lt;td&gt;6bitTCPæ ‡å¿—ä½ã€‚ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ç´§æ€¥ URGã€ç¡®è®¤ ACKã€æ¨é€ PSHã€å¤ä½ RSTã€åŒæ­¥ SYN ã€ç»ˆæ­¢ FINã€‚ackæœ‰æ•ˆ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00ec&lt;/td&gt;
&lt;td&gt;æ»‘åŠ¨çª—å£å¤§å°ï¼Œæ»‘åŠ¨çª—å£å³tcpæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼Œç”¨äºtcpæ‹¥å¡æ§åˆ¶ã€‚4117&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xe04e&lt;/td&gt;
&lt;td&gt;16bitæ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;ç´§æ€¥æŒ‡é’ˆã€‚ä»…åœ¨ URG = 1æ—¶æ‰æœ‰æ„ä¹‰ï¼Œå®ƒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚å½“ URG = 1 æ—¶ï¼Œå‘é€æ–¹ TCP å°±æŠŠç´§æ€¥æ•°æ®æ’å…¥åˆ°æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„æœ€å‰é¢ï¼Œè€Œåœ¨ç´§æ€¥æ•°æ®åé¢çš„æ•°æ®ä»æ˜¯æ™®é€šæ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å¯å˜é•¿åº¦éƒ¨åˆ†ï¼Œåè®®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0402&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ”¯æŒSACK&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x080a 2e4c b2ef 0f20 3acf&lt;/td&gt;
&lt;td&gt;æ—¶é—´æˆ³ã€‚Ts val=253770487, ecr=776778479&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æ•°æ®éƒ¨åˆ†ä¸ºç©ºï¼Œè¿™ä¸ªåŒ…ä»…ä¸ºç¡®è®¤åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹ç¬¬å…­ä¸ªåŒ…ï¼Œå­—èŠ‚æµå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;0x0000:  4500 00f9 d28c 4000 4006 874a 0a60 5cd4
0x0010:  ac17 ccdc 1ba8 db9b 6d03 e87d a59a 492f
0x0020:  8018 00ec e113 0000 0101 080a 0f20 3af8
0x0030:  2e4c b2ef 4854 5450 2f31 2e31 2032 3030
0x0040:  204f 4b0d 0a41 6363 6573 732d 436f 6e74
0x0050:  726f 6c2d 416c 6c6f 772d 4f72 6967 696e
0x0060:  3a20 2a0d 0a44 6174 653a 2054 6875 2c20
0x0070:  3033 204a 616e 2032 3031 3920 3132 3a32
0x0080:  333a 3437 2047 4d54 0d0a 436f 6e74 656e
0x0090:  742d 4c65 6e67 7468 3a20 3438 0d0a 436f
0x00a0:  6e74 656e 742d 5479 7065 3a20 7465 7874
0x00b0:  2f70 6c61 696e 3b20 6368 6172 7365 743d
0x00c0:  7574 662d 380d 0a0d 0a7b 2264 6174 6122
0x00d0:  3a7b 2261 7265 6122 3a34 3837 3634 3133
0x00e0:  3535 3937 2e38 3432 3630 367d 2c22 6572
0x00f0:  7273 7472 223a 2222 7d&lt;/code&gt;
&lt;/pre&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x4&lt;/td&gt;
&lt;td&gt;IPç‰ˆæœ¬ä¸ºipv4&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x5&lt;/td&gt;
&lt;td&gt;é¦–éƒ¨é•¿åº¦ä¸º5 * 4å­—èŠ‚=20B&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç±»å‹ï¼Œç°åœ¨åŸºæœ¬éƒ½ç½®ä¸º0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00f9&lt;/td&gt;
&lt;td&gt;æ€»é•¿åº¦ä¸º249å­—èŠ‚ï¼Œå³æ•´ä¸ªåŒ…çš„é•¿åº¦æ˜¯249å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0xd28c&lt;/td&gt;
&lt;td&gt;æ ‡è¯†ã€‚åŒä¸€ä¸ªæ•°æ®æŠ¥çš„å”¯ä¸€æ ‡è¯†ã€‚å½“IPæ•°æ®æŠ¥è¢«æ‹†åˆ†æ—¶ï¼Œä¼šå¤åˆ¶åˆ°æ¯ä¸€ä¸ªæ•°æ®ä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x4000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3bit æ ‡å¿— + 13bit ç‰‡åç§»&lt;/code&gt;ã€‚3bit æ ‡å¿—å¯¹åº” Rã€DFã€MFã€‚ç›®å‰åªæœ‰åä¸¤ä½æœ‰æ•ˆï¼ŒDFä½ï¼šä¸º1è¡¨ç¤ºä¸åˆ†ç‰‡ï¼Œä¸º0è¡¨ç¤ºåˆ†ç‰‡ã€‚MFï¼šä¸º1è¡¨ç¤ºâ€œæ›´å¤šçš„ç‰‡â€ï¼Œä¸º0è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ç‰‡ã€‚13bit ç‰‡ä½ç§»ï¼šæœ¬åˆ†ç‰‡åœ¨åŸå…ˆæ•°æ®æŠ¥æ–‡ä¸­ç›¸å¯¹é¦–ä½çš„åç§»ä½ã€‚ï¼ˆéœ€è¦å†ä¹˜ä»¥8 )&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x40&lt;/td&gt;
&lt;td&gt;ç”Ÿå­˜æ—¶é—´TTLã€‚IPæŠ¥æ–‡æ‰€å…è®¸é€šè¿‡çš„è·¯ç”±å™¨çš„æœ€å¤§æ•°é‡ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTLå‡1ï¼Œå½“ä¸º 0 æ—¶ï¼Œè·¯ç”±å™¨å°†è¯¥æ•°æ®æŠ¥ä¸¢å¼ƒã€‚TTL å­—æ®µæ˜¯ç”±å‘é€ç«¯åˆå§‹è®¾ç½®ä¸€ä¸ª 8 bitå­—æ®µ.æ¨èçš„åˆå§‹å€¼ç”±åˆ†é…æ•°å­— RFC æŒ‡å®šã€‚å‘é€ ICMP å›æ˜¾åº”ç­”æ—¶ç»å¸¸æŠŠ TTL è®¾ä¸ºæœ€å¤§å€¼ 255ã€‚TTLå¯ä»¥é˜²æ­¢æ•°æ®æŠ¥é™·å…¥è·¯ç”±å¾ªç¯ã€‚ æ­¤å¤„ä¸º64.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x06&lt;/td&gt;
&lt;td&gt;åè®®ç±»å‹ã€‚æŒ‡å‡ºIPæŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨çš„æ˜¯å“ªç§åè®®ï¼Œä»¥ä¾¿ç›®çš„ä¸»æœºçš„IPå±‚èƒ½çŸ¥é“è¦å°†æ•°æ®æŠ¥ä¸Šäº¤åˆ°å“ªä¸ªè¿›ç¨‹ã€‚TCP çš„åè®®å·ä¸º6ï¼ŒUDP çš„åè®®å·ä¸º17ã€‚ICMP çš„åè®®å·ä¸º1ï¼ŒIGMP çš„åè®®å·ä¸º2ã€‚è¯¥ IP æŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨ TCP åè®®ï¼Œå¾—åˆ°äº†éªŒè¯ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x874a&lt;/td&gt;
&lt;td&gt;16bitIPé¦–éƒ¨æ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x0a60 5cd4&lt;/td&gt;
&lt;td&gt;32bitæºipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xac17 ccdc&lt;/td&gt;
&lt;td&gt;32bitç›®çš„ipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä½™çš„æ•°æ®éƒ¨åˆ†å³ä¸ºTCPåè®®ç›¸å…³çš„ã€‚TCPä¹Ÿæ˜¯20Bå›ºå®šé•¿åº¦+å¯å˜é•¿åº¦éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;10&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x1ba8&lt;/td&gt;
&lt;td&gt;16bitæºç«¯å£7080&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0xdb9b&lt;/td&gt;
&lt;td&gt;16bitç›®çš„ç«¯å£ã€‚56219&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x6d03 e87d&lt;/td&gt;
&lt;td&gt;32bitåºåˆ—å·ã€‚1828972669&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0xa59a 492f&lt;/td&gt;
&lt;td&gt;32bitç¡®è®¤å·ã€‚2778351919&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x8&lt;/td&gt;
&lt;td&gt;4bité¦–éƒ¨é•¿åº¦ï¼Œä»¥4byteä¸ºå•ä½ã€‚å…±8*4=32å­—èŠ‚ã€‚å› æ­¤TCPæŠ¥æ–‡çš„å¯é€‰é•¿åº¦ä¸º32-20=12å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0b000000&lt;/td&gt;
&lt;td&gt;6bitä¿ç•™ä½ã€‚ç›®å‰ç½®ä¸º0.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0b011000&lt;/td&gt;
&lt;td&gt;6bitTCPæ ‡å¿—ä½ã€‚ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ç´§æ€¥ URGã€ç¡®è®¤ ACKã€æ¨é€ PSHã€å¤ä½ RSTã€åŒæ­¥ SYN ã€ç»ˆæ­¢ FINã€‚ackæœ‰æ•ˆï¼ŒåŒæ—¶pshæœ‰æ•ˆ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00ec&lt;/td&gt;
&lt;td&gt;æ»‘åŠ¨çª—å£å¤§å°ï¼Œæ»‘åŠ¨çª—å£å³tcpæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼Œç”¨äºtcpæ‹¥å¡æ§åˆ¶ã€‚236&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xe113&lt;/td&gt;
&lt;td&gt;16bitæ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;ç´§æ€¥æŒ‡é’ˆã€‚ä»…åœ¨ URG = 1æ—¶æ‰æœ‰æ„ä¹‰ï¼Œå®ƒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚å½“ URG = 1 æ—¶ï¼Œå‘é€æ–¹ TCP å°±æŠŠç´§æ€¥æ•°æ®æ’å…¥åˆ°æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„æœ€å‰é¢ï¼Œè€Œåœ¨ç´§æ€¥æ•°æ®åé¢çš„æ•°æ®ä»æ˜¯æ™®é€šæ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å¯å˜é•¿åº¦éƒ¨åˆ†ï¼Œåè®®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0402&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ”¯æŒSACK&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x080a 0f20 3af8 2e4c b2ef&lt;/td&gt;
&lt;td&gt;æ—¶é—´æˆ³ã€‚Ts val=0x2e4c b2ef=253770488, ecr=0x0f20 3acf=776778479&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä¸‹æ¥çš„å°±æ˜¯æ•°æ®éƒ¨åˆ†äº†ã€‚æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œåœ°çœ‹ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;12&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0030&lt;/td&gt;
&lt;td&gt;4854 5450 2f31 2e31 2032 3030&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0040&lt;/td&gt;
&lt;td&gt;204f 4b0d 0a41 6363 6573 732d 436f 6e74&lt;/td&gt;
&lt;td&gt;OK \r\n Access-Cont&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0050&lt;/td&gt;
&lt;td&gt;726f 6c2d 416c 6c6f 772d 4f72 6967 696e&lt;/td&gt;
&lt;td&gt;rol-Allow-Origin&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0060&lt;/td&gt;
&lt;td&gt;3a20 2a0d 0a44 6174 653a 2054 6875 2c20&lt;/td&gt;
&lt;td&gt;: * \r\n Date: Thu,&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0070&lt;/td&gt;
&lt;td&gt;3033 204a 616e 2032 3031 3920 3132 3a32&lt;/td&gt;
&lt;td&gt;03 Jan 2019 12:2&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0080&lt;/td&gt;
&lt;td&gt;333a 3437 2047 4d54 0d0a 436f 6e74 656e&lt;/td&gt;
&lt;td&gt;3:47 GMT \r\n Conten&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0090&lt;/td&gt;
&lt;td&gt;742d 4c65 6e67 7468 3a20 3438 0d0a 436f&lt;/td&gt;
&lt;td&gt;t-Length: 48\r\n Co&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00a0&lt;/td&gt;
&lt;td&gt;6e74 656e 742d 5479 7065 3a20 7465 7874&lt;/td&gt;
&lt;td&gt;ntent-Type: text&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00b0&lt;/td&gt;
&lt;td&gt;2f70 6c61 696e 3b20 6368 6172 7365 743d&lt;/td&gt;
&lt;td&gt;/plain; charset=&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00c0&lt;/td&gt;
&lt;td&gt;7574 662d 380d 0a0d 0a7b 2264 6174 6122&lt;/td&gt;
&lt;td&gt;utf-8\r\n\r\n{&quot;data&quot;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00d0&lt;/td&gt;
&lt;td&gt;3a7b 2261 7265 6122 3a34 3837 3634 3133&lt;/td&gt;
&lt;td&gt;:{&quot;area&quot;:4876413&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00e0&lt;/td&gt;
&lt;td&gt;3535 3937 2e38 3432 3630 367d 2c22 6572&lt;/td&gt;
&lt;td&gt;5597.842606},&quot;er&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x00f0&lt;/td&gt;
&lt;td&gt;7273 7472 223a 2222 7d&lt;/td&gt;
&lt;td&gt;rstr&quot;:&quot;&quot;}&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æŠŠä¸Šè¡¨çš„æœ€åä¸€åˆ—è¿èµ·æ¥ï¼Œå°±æ˜¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;HTTP/1.1 200 OK 
Access-Control-Allow-Origin: * 
Date: Thu, 03 Jan 2019 12:23:47 GMT 
Content-Length: 48 
Content-Type: text/plain; charset=utf-8 
{&quot;data&quot;:{&quot;area&quot;:48764135597.842606},&quot;errstr&quot;:&quot;&quot;}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Content-Length: 48ï¼Œæœ€åä¸€è¡Œçš„é•¿åº¦å³ä¸º48ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œç¬¬ä¸ƒä¸ªåŒ…ï¼Œå­—èŠ‚æµå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;0x0000:  4500 0034 0000 4000 3606 649c ac17 ccdc
0x0010:  0a60 5cd4 db9b 1ba8 a59a 492f 6d03 e942
0x0020:  8010 100f 1eb9 0000 0101 080a 2e4c b314
0x0030:  0f20 3af8&lt;/code&gt;
&lt;/pre&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;13&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x4&lt;/td&gt;
&lt;td&gt;IPç‰ˆæœ¬ä¸ºipv4&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x5&lt;/td&gt;
&lt;td&gt;é¦–éƒ¨é•¿åº¦ä¸º5 * 4å­—èŠ‚=20B&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x00&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç±»å‹ï¼Œç°åœ¨åŸºæœ¬éƒ½ç½®ä¸º0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x0034&lt;/td&gt;
&lt;td&gt;æ€»é•¿åº¦ä¸º52å­—èŠ‚ï¼Œå³æ•´ä¸ªåŒ…çš„é•¿åº¦æ˜¯52å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;æ ‡è¯†ã€‚åŒä¸€ä¸ªæ•°æ®æŠ¥çš„å”¯ä¸€æ ‡è¯†ã€‚å½“IPæ•°æ®æŠ¥è¢«æ‹†åˆ†æ—¶ï¼Œä¼šå¤åˆ¶åˆ°æ¯ä¸€ä¸ªæ•°æ®ä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x4000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3bit æ ‡å¿— + 13bit ç‰‡åç§»&lt;/code&gt;ã€‚3bit æ ‡å¿—å¯¹åº” Rã€DFã€MFã€‚ç›®å‰åªæœ‰åä¸¤ä½æœ‰æ•ˆï¼ŒDFä½ï¼šä¸º1è¡¨ç¤ºä¸åˆ†ç‰‡ï¼Œä¸º0è¡¨ç¤ºåˆ†ç‰‡ã€‚MFï¼šä¸º1è¡¨ç¤ºâ€œæ›´å¤šçš„ç‰‡â€ï¼Œä¸º0è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ç‰‡ã€‚13bit ç‰‡ä½ç§»ï¼šæœ¬åˆ†ç‰‡åœ¨åŸå…ˆæ•°æ®æŠ¥æ–‡ä¸­ç›¸å¯¹é¦–ä½çš„åç§»ä½ã€‚ï¼ˆéœ€è¦å†ä¹˜ä»¥8 )&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x36&lt;/td&gt;
&lt;td&gt;ç”Ÿå­˜æ—¶é—´TTLã€‚IPæŠ¥æ–‡æ‰€å…è®¸é€šè¿‡çš„è·¯ç”±å™¨çš„æœ€å¤§æ•°é‡ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTLå‡1ï¼Œå½“ä¸º 0 æ—¶ï¼Œè·¯ç”±å™¨å°†è¯¥æ•°æ®æŠ¥ä¸¢å¼ƒã€‚TTL å­—æ®µæ˜¯ç”±å‘é€ç«¯åˆå§‹è®¾ç½®ä¸€ä¸ª 8 bitå­—æ®µ.æ¨èçš„åˆå§‹å€¼ç”±åˆ†é…æ•°å­— RFC æŒ‡å®šã€‚å‘é€ ICMP å›æ˜¾åº”ç­”æ—¶ç»å¸¸æŠŠ TTL è®¾ä¸ºæœ€å¤§å€¼ 255ã€‚TTLå¯ä»¥é˜²æ­¢æ•°æ®æŠ¥é™·å…¥è·¯ç”±å¾ªç¯ã€‚ æ­¤å¤„ä¸º54.&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x06&lt;/td&gt;
&lt;td&gt;åè®®ç±»å‹ã€‚æŒ‡å‡ºIPæŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨çš„æ˜¯å“ªç§åè®®ï¼Œä»¥ä¾¿ç›®çš„ä¸»æœºçš„IPå±‚èƒ½çŸ¥é“è¦å°†æ•°æ®æŠ¥ä¸Šäº¤åˆ°å“ªä¸ªè¿›ç¨‹ã€‚TCP çš„åè®®å·ä¸º6ï¼ŒUDP çš„åè®®å·ä¸º17ã€‚ICMP çš„åè®®å·ä¸º1ï¼ŒIGMP çš„åè®®å·ä¸º2ã€‚è¯¥ IP æŠ¥æ–‡æºå¸¦çš„æ•°æ®ä½¿ç”¨ TCP åè®®ï¼Œå¾—åˆ°äº†éªŒè¯ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x649c&lt;/td&gt;
&lt;td&gt;16bitIPé¦–éƒ¨æ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0xac17 ccdc&lt;/td&gt;
&lt;td&gt;32bitæºipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x0a60 5cd4&lt;/td&gt;
&lt;td&gt;32bitç›®çš„ipåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰©ä½™çš„æ•°æ®éƒ¨åˆ†å³ä¸ºTCPåè®®ç›¸å…³çš„ã€‚TCPä¹Ÿæ˜¯20Bå›ºå®šé•¿åº¦+å¯å˜é•¿åº¦éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;10.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0xdb9b&lt;/td&gt;
&lt;td&gt;16bitæºç«¯å£ã€‚56219&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x1ba8&lt;/td&gt;
&lt;td&gt;16bitç›®çš„ç«¯å£7080&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0xa59a 492f&lt;/td&gt;
&lt;td&gt;32bitåºåˆ—å·ã€‚2778351919&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x6d03 e942&lt;/td&gt;
&lt;td&gt;32bitç¡®è®¤å·å·ã€‚1828972866. ç¬¬å…­ä¸ªåŒ…çš„åºåˆ—å·ä¸º1828972669, åŠ ä¸Šæ•°æ®é•¿åº¦197, æ­£å¥½ç›¸ç­‰&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0x8&lt;/td&gt;
&lt;td&gt;4bité¦–éƒ¨é•¿åº¦ï¼Œä»¥4byteä¸ºå•ä½ã€‚å…±8*4=32å­—èŠ‚ã€‚å› æ­¤TCPæŠ¥æ–‡çš„å¯é€‰é•¿åº¦ä¸º32-20=12å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0b000000&lt;/td&gt;
&lt;td&gt;6bitä¿ç•™ä½ã€‚ç›®å‰ç½®ä¸º0&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;0b010000&lt;/td&gt;
&lt;td&gt;6bitTCPæ ‡å¿—ä½ã€‚ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ç´§æ€¥ URGã€ç¡®è®¤ ACKã€æ¨é€ PSHã€å¤ä½ RSTã€åŒæ­¥ SYN ã€ç»ˆæ­¢ FINã€‚ackæœ‰æ•ˆ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;0x100f&lt;/td&gt;
&lt;td&gt;æ»‘åŠ¨çª—å£å¤§å°ï¼Œæ»‘åŠ¨çª—å£å³tcpæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼Œç”¨äºtcpæ‹¥å¡æ§åˆ¶ã€‚4111&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x1eb9&lt;/td&gt;
&lt;td&gt;16bitæ ¡éªŒå’Œã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;0x0000&lt;/td&gt;
&lt;td&gt;ç´§æ€¥æŒ‡é’ˆã€‚ä»…åœ¨ URG = 1æ—¶æ‰æœ‰æ„ä¹‰ï¼Œå®ƒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚å½“ URG = 1 æ—¶ï¼Œå‘é€æ–¹ TCP å°±æŠŠç´§æ€¥æ•°æ®æ’å…¥åˆ°æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„æœ€å‰é¢ï¼Œè€Œåœ¨ç´§æ€¥æ•°æ®åé¢çš„æ•°æ®ä»æ˜¯æ™®é€šæ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å¯å˜é•¿åº¦éƒ¨åˆ†ï¼Œåè®®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2.5&quot;&gt;&lt;tr class=&quot;odd&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot;&gt;&lt;td&gt;0x01&lt;/td&gt;
&lt;td&gt;æ— æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;5&quot;&gt;&lt;td&gt;0x080a 2e4c b314 0f20 3af8&lt;/td&gt;
&lt;td&gt;æ—¶é—´æˆ³ã€‚Ts val=0x2e4c b314=776778516, ecr=0x0f20 3af8=253770488&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;è‡³æ­¤ï¼Œä¸€æ¬¡å®Œæ•´çš„httpè¯·æ±‚çš„æŠ¥æ–‡å°±è§£æå®Œäº†ã€‚ä½ æ˜¯å¦è§‰å¾—ä¹Ÿå°±é‚£æ ·ï¼Œsso easyï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸Šé¢æˆ‘ä»¬æŠŠHTTPåè®®ç›¸å…³çš„æ•°æ®ç»™è§£æ„äº†ï¼Œä¸‹é¢æˆ‘å°†å¯¹ç…§ä¸Šé¢çš„æ•°æ®æ‹†è§£ç»“æœï¼Œä¸€æ­¥æ­¥æ·±å…¥ç†è§£HTTPçš„åè®®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ•´ä½“ä»‹ç»&quot;&gt;æ•´ä½“ä»‹ç»&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;HTTP&lt;/code&gt;(Hypertext Transfer Protocol)è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯åœ¨äº’è”ç½‘ä¸Šè¿›è¡Œé€šä¿¡æ—¶ä½¿ç”¨çš„ä¸€ç§åè®®ã€‚æ›´å½¢è±¡ä¸€ç‚¹ï¼š&lt;code&gt;HTTP&lt;/code&gt;æ˜¯ç°ä»£äº’è”ç½‘ä¸­ä½¿ç”¨çš„å…¬å…±è¯­è¨€ã€‚å®ƒæœ€è‘—åçš„åº”ç”¨æ˜¯ç”¨åœ¨æµè§ˆå™¨çš„æœåŠ¡å™¨é—´çš„é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;HTTPå±äºåº”ç”¨å±‚åè®®ï¼Œåº•å±‚æ˜¯é TCPè¿›è¡Œå¯é åœ°ä¿¡æ¯ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51079842-4b2f1780-170a-11e9-9b22-ad68fe4541cc.png&quot; alt=&quot;HTTPå±‚æ¬¡&quot;/&gt;&lt;/p&gt;
&lt;p&gt;HTTPåœ¨ä¼ è¾“ä¸€æ®µæŠ¥æ–‡æ—¶ï¼Œä¼šä»¥&lt;code&gt;æµ&lt;/code&gt;çš„å½¢å¼å°†æŠ¥æ–‡æ•°æ®çš„å†…å®¹é€šè¿‡&lt;code&gt;ä¸€æ¡æ‰“å¼€&lt;/code&gt;çš„TCPè¿æ¥æŒ‰åºä¼ è¾“ã€‚TCPæ¥åˆ°ä¸Šå±‚åº”ç”¨äº¤ç»™å®ƒçš„æ•°æ®æµä¹‹åï¼Œä¼šæŒ‰åºå°†æ•°æ®æµæ‰“æ•£æˆä¸€ä¸ªä¸ªçš„åˆ†æ®µã€‚å†äº¤åˆ°IPå±‚ï¼Œé€šè¿‡ç½‘ç»œè¿›è¡Œä¼ è¾“ã€‚å¦ä¸€ç«¯çš„æ¥æ”¶æ–¹åˆ™ç›¸åï¼Œå®ƒä»¬å°†æ¥æ”¶åˆ°çš„åˆ†æ®µæŒ‰åºç»„è£…å¥½ï¼Œäº¤ç»™ä¸Šå±‚HTTPåè®®è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/50802850-15adb700-1323-11e9-87b8-892139c3104d.png&quot; alt=&quot;tcp http structure&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç¼–ç &quot;&gt;ç¼–ç &lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;12.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;12&quot;&gt;&lt;td&gt;åŸå§‹url&lt;/td&gt;
&lt;td&gt;/data?cmd=Fence2Area&amp;amp;meta={&quot;caller&quot;:&quot;test&quot;,&quot;TraceId&quot;:&quot;test&quot;}&amp;amp;request={&quot;fence&quot;:[{&quot;lng&quot;:10.2,&quot;lat&quot;:10.2}, {&quot;lng&quot;:10.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:8.2}, {&quot;lng&quot;:8.2,&quot;lat&quot;:10.2}],&quot;coordtype&quot;:2}&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;13&quot;&gt;&lt;td&gt;ç¼–ç åurl&lt;/td&gt;
&lt;td&gt;/data?cmd=Fence2Area&amp;amp;meta={%22caller%22:%22test%22,%22TraceId%22:%22test%22}&amp;amp;request={%22fence%22:[{%22lng%22:10.2,%22lat%22:10.2},%20{%22lng%22:10.2,%22lat%22:8.2},%20{%22lng%22:8.2,%22lat%22:8.2},%20{%22lng%22:8.2,%22lat%22:10.2}],%22coordtype%22:2}&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æˆ‘ä»¬çœ‹åˆ°å¤šäº†å¾ˆå¤š&lt;code&gt;%22&lt;/code&gt;ï¼Œ&lt;code&gt;0x22&lt;/code&gt;æ˜¯&lt;code&gt;&quot;&lt;/code&gt;çš„asciiå€¼ï¼Œ&lt;/p&gt;
&lt;p&gt;ä¸€æ–¹é¢ï¼ŒURLæè¿°çš„èµ„æºä¸ºäº†èƒ½é€šè¿‡å…¶ä»–å„ç§åè®®ä¼ é€ï¼Œä½†æ˜¯æœ‰äº›åè®®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå‰¥å»ä¸€äº›ç‰¹å®šçš„å­—ç¬¦ï¼›å¦ä¸€æ–¹é¢ï¼ŒURLè¿˜æ˜¯å¯è¯»çš„ï¼Œæ‰€ä»¥é‚£äº›ä¸å¯æ‰“å°çš„å­—ç¬¦å°±ä¸èƒ½åœ¨URLä¸­ä½¿ç”¨äº†ï¼Œå¦‚ç©ºæ ¼ï¼›æœ€åï¼ŒURLè¿˜å¾—æ˜¯å®Œæ•´çš„ï¼Œå®ƒéœ€è¦æ”¯æŒæ‰€æœ‰è¯­è¨€çš„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ï¼ŒåŸºäºå¾ˆå¤šåŸå› ï¼ŒURLè®¾è®¡è€…å°†US-ASCIIç å’Œå…¶è½¬ä¹‰åºåˆ—é›†æˆåˆ°URLä¸­ï¼Œé€šè¿‡è½¬ä¹‰åºåˆ—ï¼Œå°±å¯ä»¥ç”¨US-ASCIIå­—ç¬¦é›†çš„æœ‰é™å­é›†å¯¹ä»»æ„å­—ç¬¦æˆ–æ•°æ®è¿›è¡Œç¼–ç äº†ã€‚&lt;/p&gt;
&lt;p&gt;è½¬ä¹‰çš„æ–¹æ³•ï¼šç™¾åˆ†å·(&lt;code&gt;%&lt;/code&gt;)åè·Ÿç€ä¸¤ä¸ªè¡¨ç¤ºASCIIç çš„åå…­è¿›åˆ¶æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51080616-322e6280-171a-11e9-8deb-28ca0a472d51.png&quot; alt=&quot;è½¬ä¹‰æ³•&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸Šé¢åœ¨æµè§ˆå™¨å‘é€ç»™æœåŠ¡å™¨çš„URLè¿›è¡Œäº†éâ€œå®‰å…¨å­—ç¬¦â€ç¼–ç ï¼Œä¹Ÿå°±ä¸å¥‡æ€ªäº†å§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51294507-3aeea380-1a4e-11e9-9f52-2fb248a2d5de.png&quot; alt=&quot;urlä¿ç•™åŠå—é™çš„å­—ç¬¦&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨URLä¸­ï¼Œå½“ä¸Šé¢çš„ä¿ç•™å­—ç¬¦ç”¨åœ¨ä¿ç•™ç”¨é€”ä¹‹å¤–çš„åœºåˆæ—¶ï¼Œéœ€è¦å¯¹URLè¿›è¡Œç¼–ç ã€‚&lt;/p&gt;
&lt;h2 id=&quot;mimeç±»å‹&quot;&gt;MIMEç±»å‹&lt;/h2&gt;
&lt;p&gt;å“åº”æ•°æ®ä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°æœ‰ä¸€ä¸ªé¦–éƒ¨ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;Content-Type: text/plain; charset=utf-8&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;äº’è”ç½‘ä¸Šæœ‰æ•°åƒç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼ŒHTTPç»™æ¯ç§å¯¹è±¡éƒ½æ‰“ä¸Šäº†MIME(Multipurpose Internet Media Extension, å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•)æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯å“åº”æ•°æ®ä¸­çš„&lt;code&gt;Content-Type&lt;/code&gt;. MIMEæœ¬æ¥æ˜¯ç”¨åœ¨é‚®ä»¶ä¸­çš„ï¼Œåæ¥è¢«ç§»æ¤åˆ°äº†HTTPä¸­ã€‚æµè§ˆå™¨ä»æœåŠ¡å™¨ä¸Šå–å›äº†ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šå»æŸ¥çœ‹MIMEç±»å‹ï¼Œä»è€Œå¾—çŸ¥å¦‚ä½•å¤„ç†è¿™ç§å¯¹è±¡ï¼Œå¦‚å±•ç¤ºå›¾ç‰‡ï¼Œè°ƒç”¨å£°å¡æ’­æ”¾å£°éŸ³ã€‚MIMEé€šè¿‡æ–œæ æ¥æ ‡è¯†å¯¹è±¡çš„ä¸»ç±»å‹å’Œå…¶ä¸­çš„ç‰¹å®šçš„å­ç±»å‹ï¼Œä¸‹è¡¨ä¸­çš„å®ä½“ä¸»ä½“æ˜¯æŒ‡bodyéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51149947-3768ea00-189f-11e9-8fcd-d40f2f2ccf0a.png&quot; alt=&quot;MIMEç±»å‹&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;uriurlurn&quot;&gt;URI/URL/URN&lt;/h2&gt;
&lt;p&gt;URI(Uniform Resource Identifier, ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)è¡¨ç¤ºæœåŠ¡å™¨èµ„æºï¼ŒURL(Uniform Resource Locator)å’ŒURN(Uniform Resource Name, ç»Ÿä¸€èµ„æºå)æ˜¯URIçš„å…·ä½“å®ç°ã€‚URIæ˜¯ä¸€ä¸ªé€šç”¨çš„æ¦‚å¿µï¼Œç”±ä¸¤ä¸ªä¸»è¦çš„å­é›†URLå’ŒURNæ„æˆï¼ŒURLé€šè¿‡ä½ç½®ã€URNé€šè¿‡åå­—æ¥æ ‡è¯†èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;URLå®šä¹‰äº†èµ„æºçš„ä½ç½®ï¼Œè¡¨ç¤ºèµ„æºçš„å®é™…åœ°å€ï¼Œåœ¨ä½¿ç”¨URLçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœURLèƒŒåçš„èµ„æºå‘ç”Ÿäº†ä½ç½®ç§»åŠ¨ï¼Œè®¿é—®è€…å°±æ‰¾ä¸åˆ°å®ƒäº†ã€‚è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°URNäº†ï¼Œå®ƒç»™å®šèµ„æºä¸€ä¸ªåå­—ï¼Œæ— è®ºå®ƒç§»åŠ¨åˆ°å“ªé‡Œï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªåå­—æ¥è®¿é—®åˆ°å®ƒï¼Œç®€ç›´å®Œç¾ï¼&lt;/p&gt;
&lt;p&gt;URLé€šå¸¸çš„æ ¼å¼æ˜¯ï¼šåè®®æ–¹æ¡ˆ(scheme)(å¦‚ &lt;code&gt;http&lt;/code&gt;, &lt;code&gt;ftp&lt;/code&gt;ï¼Œå‘ŠçŸ¥webå®¢æˆ·ç«¯æ€æ ·è®¿é—®èµ„æº)+æœåŠ¡å™¨åœ°å€(å¦‚ &lt;code&gt;www.oreilly.com&lt;/code&gt;)+å…·ä½“çš„èµ„æºè·¯å¾„(å¦‚ &lt;code&gt;index.html&lt;/code&gt;)ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51070533-b5e64180-167d-11e9-8dc3-4c54b3cbf1a2.png&quot; alt=&quot;URLä¸¾ä¾‹&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;httpæ–¹æ³•&quot;&gt;HTTPæ–¹æ³•&lt;/h2&gt;
&lt;p&gt;HTTPæ”¯æŒå‡ ç§ä¸åŒçš„è¯·æ±‚æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•å¯¹æœåŠ¡å™¨è¦æ±‚çš„åŠ¨ä½œä¸åŒï¼Œå¦‚ä¸‹å›¾æ˜¯å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51070644-a0721700-167f-11e9-8579-8702abdb860b.png&quot; alt=&quot;å¸¸è§çš„httpæ–¹æ³•&quot;/&gt;&lt;/p&gt;
&lt;p&gt;HEADæ–¹æ³•åªè·å–å¤´éƒ¨ï¼Œä¸è·å–æ•°æ®éƒ¨åˆ†ã€‚é€šè¿‡å¤´éƒ¨å¯ä»¥è·å–æ¯”å¦‚èµ„æºçš„ç±»å‹(Content-Type)ã€èµ„æºçš„é•¿åº¦(Content-Length)è¿™äº›ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;POSTç”¨äºå‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒPUTç”¨äºå‘æœåŠ¡å™¨ä¸Šçš„èµ„æºå­˜å‚¨æ•°æ®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çŠ¶æ€ç &quot;&gt;çŠ¶æ€ç &lt;/h2&gt;
&lt;p&gt;æ¯æ¡HTTPçš„å“åº”æŠ¥æ–‡éƒ½ä¼šå¸¦ä¸Šä¸€ä¸ªä¸‰ä½æ•°å­—çš„çŠ¶æ€ç å’Œä¸€æ¡è§£é‡Šæ€§çš„â€œåŸå› çŸ­è¯­â€ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æœ¬æ¬¡è¯·æ±‚çš„çŠ¶æ€ï¼Œå¸®åŠ©å®¢æˆ·ç«¯å¿«é€Ÿç†è§£äº‹åŠ¡å¤„ç†ç»“æœï¼Œæœ€å¸¸è§çš„æ˜¯ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;200 OK 
404 Not Found
500 Internal Server Error&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨æµè§ˆå™¨çš„æ—¶å€™ï¼Œå¾ˆå¤šçš„é”™è¯¯ç å…¶å®æ˜¯ç”±æµè§ˆå™¨å¤„ç†çš„ï¼Œæˆ‘ä»¬æ„ŸçŸ¥ä¸åˆ°ã€‚ä½†æ˜¯&lt;code&gt;404 Not Found&lt;/code&gt;ä¼šç©¿é€é‡é‡è¿·é›¾ï¼Œæ¥åˆ°æˆ‘ä»¬é¢å‰ï¼Œé‚£æ˜¯å› ä¸ºä»–å¯¹æˆ‘ä»¬çˆ±çš„æ·±æ²‰å•Šï¼&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯å¯ä»¥æ®æ­¤çŠ¶æ€ç ï¼Œå†³å®šä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ï¼ˆå¦‚é‡å®šå‘ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‰ä½æ•°å­—çš„ç¬¬ä¸€ä½è¡¨ç¤ºåˆ†ç±»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51070802-2f802e80-1682-11e9-8a02-f60e2f11c3e6.png&quot; alt=&quot;httpçŠ¶æ€åˆ†ç±»&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æŠ¥æ–‡æ ¼å¼&quot;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h2&gt;
&lt;p&gt;HTTPæŠ¥æ–‡å®é™…ä¸Šæ˜¯ç”±ä¸€è¡Œè¡Œçš„å­—ç¬¦ä¸²ç»„æˆçš„ï¼Œæ¯è¡Œå­—ç¬¦ä¸²çš„moweiç”¨&lt;code&gt;\r\n&lt;/code&gt;åˆ†éš”ï¼Œäººç±»å¯ä»¥å¾ˆæ–¹ä¾¿çš„é˜…è¯»ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸æ˜¯æ‰€æœ‰çš„åè®®éƒ½å¯¹äººç±»è¿™ä¹ˆå‹å¥½çš„ï¼Œåƒthriftåè®®ï¼Œç›´æ¥ç”©ä¸€å †å­—èŠ‚ç»™ä½ ï¼Œå‘Šè¯‰ä½ è¯´&lt;code&gt;0x0001&lt;/code&gt;è¡¨ç¤ºè°ƒç”¨æ–¹æ³•ï¼Œè¯¸å¦‚æ­¤ç±»çš„ï¼Œä½ åªèƒ½å¯¹ç€ä¸€ä¸ªåå…­è¿›åˆ¶çš„æ•°æ®å—ä¸€ä¸ªä¸ªåœ°å»â€œè§£ç â€ã€‚&lt;/p&gt;
&lt;p&gt;è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡çš„æ ¼å¼ï¼Œè¿˜å¯ä»¥ç»“åˆä¸Šé¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51070991-6dcb1d00-1685-11e9-8dae-25b63ad7ad52.png&quot; alt=&quot;è¯·æ±‚å“åº”æŠ¥æ–‡ç¤ºä¾‹&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œè¯·æ±‚æŠ¥æ–‡ä¹Ÿæ˜¯å¯ä»¥æœ‰bodyï¼ˆä¸»ä½“ï¼‰éƒ¨åˆ†çš„ã€‚è¯·æ±‚æŠ¥æ–‡æ˜¯ç”±&lt;code&gt;è¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰ã€ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®&lt;/code&gt;å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚å”¯ä¸€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œè¯·æ±‚æŠ¥æ–‡å³ä½¿bodyéƒ¨åˆ†æ˜¯ç©ºçš„ï¼Œè¯·æ±‚å¤´éƒ¨åçš„&lt;code&gt;å›è½¦æ¢è¡Œ&lt;/code&gt;ç¬¦ä¹Ÿæ˜¯å¿…é¡»è¦æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51071026-c4d0f200-1685-11e9-81ca-87c8da1dfc30.png&quot; alt=&quot;è¯·æ±‚æŠ¥æ–‡æ ¼å¼&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å“åº”æŠ¥æ–‡çš„æ ¼å¼å’Œè¯·æ±‚æŠ¥æ–‡çš„æ ¼å¼ç±»ä¼¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51074380-67ef2f00-16b9-11e9-81e7-d5ecaa8d4537.png&quot; alt=&quot;å“åº”æŠ¥æ–‡æ ¼å¼&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯·æ±‚æŠ¥æ–‡ã€å“åº”æŠ¥æ–‡çš„èµ·å§‹è¡Œå’Œå“åº”å¤´éƒ¨é‡Œçš„å­—æ®µéƒ½æ˜¯æ–‡æœ¬åŒ–ã€ç»“æ„åŒ–çš„ã€‚è€Œè¯·æ±‚bodyå´å¯ä»¥åŒ…å«ä»»æ„äºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ã€è½¯ä»¶ç­‰ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŒ…å«æ–‡æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº›é¦–éƒ¨æ˜¯é€šç”¨çš„ï¼Œæœ‰äº›åˆ™æ˜¯è¯·æ±‚æˆ–è€…å“åº”æŠ¥æ–‡æ‰ä¼šæœ‰çš„ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;6.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;3&quot;&gt;&lt;td&gt;Date&lt;/td&gt;
&lt;td&gt;é€šç”¨&lt;/td&gt;
&lt;td&gt;Thu, 03 Jan 2019 12:23:47 GMT&lt;/td&gt;
&lt;td&gt;æŠ¥æ–‡æ„å»ºçš„æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;6&quot;&gt;&lt;td&gt;Accept&lt;/td&gt;
&lt;td&gt;è¯·æ±‚æŠ¥æ–‡&lt;/td&gt;
&lt;td&gt;text/html,application/xhtml+xml,application/xm&lt;/td&gt;
&lt;td&gt;å®¢æˆ·ç«¯èƒ½æ¥æ”¶çš„æ•°æ®ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;Content-Type&lt;/td&gt;
&lt;td&gt;å“åº”æŠ¥æ–‡&lt;/td&gt;
&lt;td&gt;Content-Type: text/plain; charset=utf-8&lt;/td&gt;
&lt;td&gt;å“åº”æŠ¥æ–‡ä¸­çš„bodyéƒ¨åˆ†çš„æ•°æ®ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;é¡ºä¾¿æä¸€ä¸‹ï¼Œ ç”¨telnetç›´è¿æœåŠ¡å™¨çš„httpç«¯å£ï¼Œtelnetå‘½ä»¤ä¼šå»ºç«‹ä¸€æ¡TCPé€šé“ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç›´æ¥å‘é€è¯·æ±‚æ•°æ®ï¼Œè·å–å“åº”æ•°æ®äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51079989-318fcf00-170e-11e9-9958-daf87d65972b.png&quot; alt=&quot;telnetä¸httpå¯¹è¯&quot;/&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä»£ç†&quot;&gt;ä»£ç†&lt;/h2&gt;
&lt;p&gt;HTTPçš„ä»£ç†æ˜¯æœåŠ¡å™¨å³æ˜¯WebæœåŠ¡å™¨ï¼Œåˆæ˜¯Webå®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51082793-23ab6f80-1749-11e9-8247-1a3fc5ac4d1d.png&quot; alt=&quot;HTTPä»£ç†&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä»£ç†å¯ä»¥â€œæ¥è§¦â€åˆ°æ‰€æœ‰æµè¿‡çš„HTTPæµé‡ï¼Œä»£ç†å¯ä»¥å¯¹å…¶è¿›è¡Œç›‘è§†å’Œä¿®æ”¹ã€‚å¸¸è§çš„å°±æ˜¯å¯¹å„¿ç«¥è¿‡æ»¤ä¸€äº›â€œæˆäººâ€å†…å®¹ï¼›ç½‘ç»œå·¥ç¨‹å¸ˆä¼šåˆ©ç”¨ä»£ç†æœåŠ¡å™¨æ¥æé«˜å®‰å…¨æ€§ï¼Œå®ƒå¯ä»¥é™åˆ¶å“ªäº›åº”ç”¨å±‚çš„åè®®æ•°æ®å¯ä»¥é€šè¿‡ï¼Œè¿‡æ»¤â€œç—…æ¯’â€ç­‰æ•°æ®ï¼›ä»£ç†å¯ä»¥å­˜å‚¨ç¼“å­˜çš„æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ç»™è®¿é—®è€…ï¼Œæ— éœ€è¯·æ±‚åŸå§‹çš„æœåŠ¡å™¨èµ„æºï¼›å¯¹äºè®¿é—®æ…¢é€Ÿç½‘ç»œä¸Šçš„å…¬å…±å†…å®¹æ—¶ï¼Œå¯ä»¥å‡æ‰®æœåŠ¡å™¨æä¾›æœåŠ¡ï¼Œä»è€Œæé«˜è®¿é—®é€Ÿåº¦ï¼›è¿™è¢«ç§°ä¸º&lt;code&gt;åå‘ä»£ç†&lt;/code&gt;ï¼›å¯ä»¥ä½œä¸ºå†…å®¹è·¯ç”±å™¨ï¼Œå¦‚å¯¹ä»˜è´¹ç”¨æˆ·ï¼Œåˆ™å°†è¯·æ±‚å¯¼åˆ°ç¼“å­˜æœåŠ¡å™¨ï¼Œæé«˜è®¿é—®é€Ÿåº¦ï¼›å¯ä»¥å°†é¡µé¢çš„è¯­è¨€è½¬æ¢åˆ°ä¸å®¢æˆ·ç«¯ç›¸åŒ¹é…ï¼Œè¿™ç§°ä¸ºâ€œå†…å®¹è½¬ç å™¨â€ï¼›â€œåŒ¿åä»£ç†â€ä¼šä¸»åŠ¨ä»HTTPæŠ¥æ–‡ä¸­åˆ é™¤èº«ä»½ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚&lt;code&gt;User-Agent&lt;/code&gt;, &lt;code&gt;Cookie&lt;/code&gt;ç­‰å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;ç°å®ä¸­ï¼Œè¯·æ±‚é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ‰“åˆ°ä»£ç†æœåŠ¡å™¨ä¸Šå»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51083035-c534c000-174d-11e9-9cab-ddc4a0de2314.png&quot; alt=&quot;ä»£ç†è·å–æµé‡çš„æ–¹å¼&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æŠ¥æ–‡æ¯ç»è¿‡ä¸€ä¸ªä¸­é—´ç‚¹ï¼ˆä»£ç†æˆ–ç½‘å…³ï¼‰ï¼Œéƒ½éœ€è¦åœ¨é¦–éƒ¨viaå­—æ®µçš„æœ«å°¾æ’å…¥ä¸€ä¸ªå¯ä»¥ä»£è¡¨æœ¬èŠ‚ç‚¹çš„ç‹¬ç‰¹çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«å®ç°çš„åè®®ç‰ˆæœ¬å’Œä¸»æœºåœ°å€ã€‚&lt;br/&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51083254-e7304180-1751-11e9-95f8-a833a0d10d51.png&quot; alt=&quot;viaå­—æ®µ&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯·æ±‚å’Œå“åº”çš„æŠ¥æ–‡ä¼ è¾“è·¯å¾„é€šå¸¸éƒ½æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡æ–¹å‘æ˜¯ç›¸åçš„ã€‚å› æ­¤ï¼Œå“åº”æŠ¥æ–‡ä¸Šçš„viaå­—æ®µè¡¨ç¤ºçš„ä¸­é—´èŠ‚ç‚¹çš„é¡ºåºæ˜¯åˆšå¥½ç›¸åçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç¼“å­˜&quot;&gt;ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;å½“æœ‰å¾ˆå¤šè¯·æ±‚è®¿é—®åŒä¸€ä¸ªé¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå¤šæ¬¡ä¼ è¾“åŒä¸€ä»½æ•°æ®ï¼Œè¿™äº›æ•°æ®é‡å¤åœ°åœ¨ç½‘ç»œä¸­ä¼ è¾“ç€ï¼Œæ¶ˆè€—ç€å¤§é‡å¸¦å®½ã€‚å¦‚æœå°†è¿™äº›æ•°æ®ç¼“å­˜ä¸‹æ¥ï¼Œå°±å¯ä»¥æé«˜å“åº”é€Ÿåº¦ï¼ŒèŠ‚çœç½‘ç»œå¸¦å®½äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†ç¼“å­˜åªæœ‰åœ¨å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œå¹¶ä¸”å‰¯æœ¬å·²ç»æ¯”è¾ƒæ—§çš„æƒ…å†µä¸‹æ‰ä¼šå¯¹å‰¯æœ¬çš„æ–°é²œåº¦è¿›è¡Œæ£€æµ‹ã€‚æœ€å¸¸ç”¨çš„è¯·æ±‚é¦–éƒ¨æ˜¯&lt;code&gt;If-Modified-Since&lt;/code&gt;, å¦‚æœåœ¨xx(æ­¤æ—¶é—´å³ä¸ºIf-Modified-Sinceçš„å€¼)æ—¶é—´ä¹‹åå†…å®¹æ²¡æœ‰å˜åŒ–ï¼ŒæœåŠ¡å™¨ä¼šå›åº”ä¸€ä¸ª&lt;code&gt;304 Not Modified&lt;/code&gt;. å¦åˆ™ï¼ŒæœåŠ¡å™¨ä¼šæ­£å¸¸å“åº”ï¼Œå¹¶è¿”å›åŸå§‹çš„æ–‡ä»¶æ•°æ®ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹ä¸­è¢«ç§°ä¸º&lt;code&gt;å†éªŒè¯å‘½ä¸­&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†éªŒè¯å¯èƒ½å‡ºç°å‘½ä¸­æˆ–æœªå‘½ä¸­çš„æƒ…å†µã€‚æœªå‘½ä¸­æ—¶ï¼ŒæœåŠ¡å™¨å›å¤&lt;code&gt;200 OK&lt;/code&gt;ï¼Œå¹¶ä¸”è¿”å›å®Œæ•´çš„æ•°æ®ï¼›å‘½ä¸­æ—¶ï¼ŒæœåŠ¡å™¨å›å¤&lt;code&gt;304 Not Modified&lt;/code&gt;; è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œç¼“å­˜è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆç¼“å­˜æœåŠ¡å™¨ä¹Ÿä¼šåˆ é™¤è‡ªå·±ç¼“å­˜çš„å‰¯æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;é¡ºå¸¦æä¸€å¥ï¼Œè‹¥è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç¼“å­˜ï¼Œå°±ä¸€å®šè¦å…³æ³¨ç¼“å­˜å‘½ä¸­æ¯”ä¾‹ã€‚è‹¥å‘½ä¸­æ¯”ä¾‹ä¸é«˜ï¼Œå°±è¦é‡æ–°è€ƒè™‘è®¾ç½®ç¼“å­˜çš„å¿…è¦æ€§äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜æœåŠ¡å™¨è¿”å›å“åº”çš„æ—¶å€™ï¼Œæ˜¯åŸºäºå·²ç¼“å­˜çš„æœåŠ¡å™¨å“åº”çš„é¦–éƒ¨ï¼Œå¯¹ä¸€äº›é¦–éƒ¨å­—æ®µåšä¸€äº›å¾®è°ƒã€‚æ¯”å¦‚å‘å…¶ä¸­æ’å…¥æ–°é²œåº¦ä¿¡æ¯ï¼ˆå¦‚&lt;code&gt;Age&lt;/code&gt;, &lt;code&gt;Expires&lt;/code&gt;é¦–éƒ¨ç­‰ï¼‰ï¼Œè€Œä¸”é€šå¸¸ä¼šåŒ…å«ä¸€ä¸ª&lt;code&gt;via&lt;/code&gt;é¦–éƒ¨æ¥è¯´æ˜ç¼“å­˜æ˜¯ç”±ä¸€ä¸ªç¼“å­˜ä»£ç†æä¾›çš„ã€‚æ³¨æ„ï¼Œè¿™æ—¶ä¸è¦ä¿®æ”¹&lt;code&gt;Date&lt;/code&gt;å­—æ®µï¼Œå®ƒè¡¨ç¤ºåŸå§‹æœåŠ¡å™¨æœ€åˆæ„å»ºè¿™æ¡å“åº”çš„æ—¥æœŸã€‚&lt;/p&gt;
&lt;p&gt;HTTPé€šè¿‡&lt;code&gt;æ–‡æ¡£è¿‡æœŸæœºåˆ¶&lt;/code&gt;å’Œ&lt;code&gt;æœåŠ¡å™¨å†éªŒè¯æœºåˆ¶&lt;/code&gt;ä¿æŒå·²ç¼“å­˜æ•°æ®å’ŒæœåŠ¡å™¨é—´çš„æ•°æ®å……åˆ†ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡æ¡£è¿‡æœŸé€šè¿‡å¦‚ä¸‹é¦–éƒ¨å­—æ®µæ¥è¡¨ç¤ºç¼“å­˜çš„æœ‰æ•ˆæœŸï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51092170-60ba4500-17cf-11e9-8689-71b3c552bff3.png&quot; alt=&quot;ç¼“å­˜æœ‰æ•ˆæœŸ&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸Šé¢ä¸¤ä¸ªå­—æ®µæš—ç¤ºçš„è¿‡æœŸæ—¶é—´å·²åˆ°ï¼Œéœ€è¦å‘æœåŠ¡å™¨å†æ¬¡éªŒè¯æ–‡æ¡£çš„æ–°é²œåº¦ã€‚å¦‚æœè¿™æ—¶ç¼“å­˜ä»å’ŒæœåŠ¡å™¨ä¸Šçš„åŸå§‹æ–‡æ¡£ä¸€è‡´ï¼Œç¼“å­˜åªéœ€è¦æ›´æ–°å¤´éƒ¨çš„ç›¸å…³å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ›´å¥½çš„èŠ‚çœç½‘ç»œæµé‡ï¼Œç¼“å­˜æœåŠ¡å™¨å¯ä»¥é€šè¿‡ç›¸å…³é¦–éƒ¨å‘åŸå§‹æœåŠ¡å™¨å‘é€ä¸€ä¸ª&lt;code&gt;æ¡ä»¶GET&lt;/code&gt;è¯·æ±‚, è¿™æ ·åªæœ‰åœ¨ç¼“å­˜çœŸæ­£è¿‡æœŸçš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šè¿”å›åŸå§‹çš„æ–‡æ¡£ï¼Œå¦åˆ™åªä¼šè¿”å›ç›¸å…³çš„é¦–éƒ¨ã€‚&lt;code&gt;æ¡ä»¶GET&lt;/code&gt;è¯·æ±‚ä¼šç”¨åˆ°å¦‚ä¸‹çš„å­—æ®µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51092289-8562ec80-17d0-11e9-9e35-47a010a3f7a3.png&quot; alt=&quot;ç¼“å­˜æ¡ä»¶GET&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;cookie&quot;&gt;cookie&lt;/h2&gt;
&lt;p&gt;cookieæ˜¯æœåŠ¡å™¨â€œè´´åœ¨â€å®¢æˆ·ç«¯èº«ä¸Šçš„æ ‡ç­¾ï¼Œç”±å®¢æˆ·ç«¯ç»´æŠ¤çš„çŠ¶æ€ç‰‡æ®µï¼Œå¹¶ä¸”åªä¼šå›é€ç»™åˆé€‚çš„ç«™ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç±»cookie: ä¼šè¯cookieã€æŒä¹…cookie. ä¼šè¯cookieåœ¨é€€å‡ºæµè§ˆå™¨åå°±è¢«åˆ é™¤äº†ï¼›è€ŒæŒä¹…cookieåˆ™ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œè®¡ç®—æœºé‡å¯åä»ç„¶å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨åœ¨ç»™å®¢æˆ·ç«¯çš„å“åº”å­—æ®µé¦–éƒ¨åŠ ä¸Š&lt;code&gt;Set-cookie&lt;/code&gt;æˆ–&lt;code&gt;Set-cookie2&lt;/code&gt;, å€¼ä¸ºåå­—=å€¼çš„åˆ—è¡¨ï¼Œå³å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µã€‚å½“ä¸‹æ¬¡æµè§ˆå™¨å†æ¬¡è®¿é—®åˆ°ç›¸åŒçš„ç½‘ç«™æ—¶ï¼Œä¼šå°†è¿™äº›å­—æ®µé€šè¿‡&lt;code&gt;Cookie&lt;/code&gt;å¸¦ä¸Šã€‚cookieä¸­ä¿ç•™çš„å†…å®¹æ˜¯æœåŠ¡å™¨ç»™æ­¤å®¢æˆ·ç«¯æ‰“çš„æ ‡ç­¾ï¼Œæ–¹ä¾¿æœåŠ¡è¿›è¡Œè¿½è¸ªçš„è¯†åˆ«ç ã€‚æµè§ˆå™¨ä¼šå°†cookieä»¥ç‰¹å®šçš„æ ¼å¼å­˜å‚¨åœ¨ç‰¹å®šçš„æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨åªä¼šå‘äº§ç”Ÿè¿™æ¡cookieçš„ç«™ç‚¹å‘ç”Ÿcookie. &lt;code&gt;Set-cookie&lt;/code&gt;å­—æ®µçš„å€¼ä¼šåŒ…å«&lt;code&gt;domain&lt;/code&gt;è¿™ä¸ªå­—æ®µï¼Œå‘ŠçŸ¥æµè§ˆå™¨å¯ä»¥æŠŠè¿™æ¡cookieå‘é€ç»™ç»™ç›¸å…³çš„åŒ¹é…çš„ç«™ç‚¹ã€‚&lt;code&gt;path&lt;/code&gt;å­—æ®µä¹Ÿæ˜¯ç›¸ä¼¼çš„åŠŸèƒ½ã€‚å¦‚iæµè§ˆå™¨æ”¶åˆ°å¦‚ä¸‹çš„cookie:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;Set-cookie: user=&quot;mary&quot;; domain=&quot;stefno.com&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆæµè§ˆå™¨åœ¨è®¿é—®ä»»æ„ä»¥&lt;code&gt;stefno.com&lt;/code&gt;ç»“å°¾çš„ç«™ç‚¹éƒ½ä¼šå‘é€ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;Cookie: user=&quot;mary&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®ä½“å’Œç¼–ç &quot;&gt;å®ä½“å’Œç¼–ç &lt;/h2&gt;
&lt;p&gt;å“åº”æŠ¥æ–‡ä¸­çš„bodyéƒ¨åˆ†ä¼ è¾“çš„æ•°æ®æœ¬è´¨ä¸Šéƒ½æ˜¯äºŒè¿›åˆ¶ã€‚æˆ‘ä»¬ä»ä¸Šé¢çš„æŠ¥æ–‡æ•°æ®ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œéƒ½æ˜¯ç”¨åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºï¼Œå…³é”®æ˜¯æ€ä¹ˆè§£é‡Šè¿™å—å†…å®¹ã€‚å¦‚æœ&lt;code&gt;Content-Type&lt;/code&gt;å®šä¹‰æ˜¯&lt;code&gt;text/plain&lt;/code&gt;, é‚£è¯´æ˜bodyå†…å®¹å°±æ˜¯æ–‡æœ¬ï¼Œæˆ‘ä»¬ç›´æ¥æŒ‰æ–‡æœ¬ç¼–ç æ¥è§£é‡Šï¼›å¦‚æœ&lt;code&gt;Content-Type&lt;/code&gt;å®šä¹‰æ˜¯&lt;code&gt;image/png&lt;/code&gt;, è¯´æ˜bodyéƒ¨åˆ†æ˜¯ä¸€å¹…å›¾ç‰‡ï¼Œé‚£æˆ‘ä»¬å°±æŒ‰å›¾ç‰‡çš„æ ¼å¼å»è§£é‡Šæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Content-Length&lt;/code&gt;æ ‡ç¤ºæŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†çš„æ•°æ®é•¿åº¦å¤§å°ï¼Œå¦‚æœå†…å®¹æ˜¯å‹ç¼©çš„ï¼Œé‚£å®ƒè¡¨ç¤ºçš„å°±æ˜¯å‹ç¼©åçš„å¤§å°ã€‚å¦å¤–ï¼Œ&lt;code&gt;Content-Length&lt;/code&gt;åœ¨é•¿è¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¯¹å¤šä¸ªæŠ¥æ–‡è¿›è¡Œæ­£ç¡®åœ°åˆ†æ®µã€‚æ‰€ä»¥ï¼Œå¦‚æœæ²¡æœ‰é‡‡ç”¨åˆ†å—ç¼–ç ï¼Œå“åº”æ•°æ®ä¸­å¿…é¡»å¸¦ä¸Š&lt;code&gt;Content-Length&lt;/code&gt;å­—æ®µã€‚åˆ†å—ç¼–ç çš„æƒ…å½¢ä¸­ï¼Œæ•°æ®è¢«æ‹†åˆ†æˆå¾ˆå¤šå°å—ï¼Œæ¯å—éƒ½æœ‰å¤§å°è¯´æ˜ã€‚å› æ­¤ï¼Œä»»ä½•å¸¦æœ‰ä¸»ä½“éƒ¨åˆ†çš„æŠ¥æ–‡ï¼ˆè¯·æ±‚æˆ–æ˜¯å“åº”ï¼‰éƒ½åº”å¸¦ä¸Šæ­£ç¡®çš„&lt;code&gt;Content-Length&lt;/code&gt;é¦–éƒ¨ã€‚&lt;/p&gt;
&lt;p&gt;HTTPçš„æ—©æœŸç‰ˆæœ¬é‡‡ç”¨å…³é—­è¿æ¥çš„æ–¹å¼æ¥åˆ’å®šæŠ¥æ–‡çš„ç»“æŸã€‚è¿™å¸¦æ¥çš„é—®é¢˜æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šå®¢æˆ·ç«¯å¹¶ä¸èƒ½åˆ†æ¸…æ˜¯å› ä¸ºæœåŠ¡å™¨æ­£å¸¸ç»“æŸè¿˜æ˜¯ä¸­é€”å´©æºƒäº†ã€‚è¿™é‡Œï¼Œå¦‚æœæ˜¯å®¢æˆ·ç«¯ç”¨å…³é—­æ¥è¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†çš„ç»“æŸï¼Œæ˜¯ä¸å¯å–çš„ï¼Œå› ä¸ºå…³é—­ä¹‹åï¼Œå°±æ— æ³•è·å–æœåŠ¡å™¨çš„å“åº”äº†ã€‚å½“ç„¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥é‡‡ç”¨åŠå…³é—­çš„æ–¹å¼ï¼Œåªå…³é—­æ•°æ®å‘é€æ–¹å‘ï¼Œä½†æ˜¯å¾ˆå¤šæœåŠ¡å™¨æ˜¯ä¸è¯†åˆ«çš„ï¼Œä¼šæŠŠåŠå…³é—­å½“æˆå®¢æˆ·ç«¯è¦æˆæœåŠ¡å™¨æ–­å¼€æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;HTTPæŠ¥æ–‡åœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé­åˆ°ä»£ç†æˆ–æ˜¯å…¶ä»–é€šä¿¡å®ä½“çš„æ— æ„ä¿®æ”¹ï¼Œä¸ºäº†è®©æ¥æ”¶æ–¹çŸ¥é“è¿™ç§æƒ…å†µï¼ŒæœåŠ¡å™¨ä¼šå¯¹bodyéƒ¨åˆ†ä½œä¸€ä¸ªmd5, å¹¶æŠŠå€¼æ”¾åˆ°&lt;code&gt;Content-MD5&lt;/code&gt;è¿™ä¸ªå­—æ®µä¸­ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸­é—´çš„ä»£ç†å³ä¿®æ”¹äº†æŠ¥æ–‡ä¸»ä½“ï¼Œåˆä¿®æ”¹äº†md5, å°±ä¸å¥½æ£€æµ‹äº†ã€‚å› æ­¤è§„å®šä»£ç†æ˜¯ä¸èƒ½ä¿®æ”¹&lt;code&gt;Content-MD5&lt;/code&gt;é¦–éƒ¨çš„ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯åœ¨æ”¶åˆ°æ•°æ®åï¼Œå…ˆè¿›è¡Œè§£ç ï¼Œå†ç®—å‡ºmd5, å¹¶ä¸&lt;code&gt;Content-MD5&lt;/code&gt;é¦–éƒ¨è¿›è¡Œæ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;HTTPåœ¨å‘é€å†…å®¹ä¹‹å‰éœ€è¦å¯¹å…¶è¿›è¡Œç¼–ç ï¼Œå®ƒæ˜¯å¯¹æŠ¥æ–‡ä¸»ä½“è¿›è¡Œçš„å¯é€†å˜æ¢ã€‚æ¯”å¦‚å°†æŠ¥æ–‡ç”¨gzipæ ¼å¼è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ä¼ è¾“æ—¶é—´ã€‚å¸¸è§çš„ç¼–ç ç±»å‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51150609-12c24180-18a2-11e9-9ca4-032f5abcd474.png&quot; alt=&quot;ç¼–ç ç±»å‹&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå®¢æˆ·ç«¯ä¸ºäº†é¿å…æœåŠ¡å™¨è¿”å›è‡ªå·±ä¸èƒ½è§£ç çš„æ•°æ®ï¼Œè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šåœ¨&lt;code&gt;Accept-Encoding&lt;/code&gt;é¦–éƒ¨é‡Œå¸¦ä¸Šè‡ªå·±æ”¯æŒçš„ç¼–ç æ–¹å¼ã€‚å¦‚æœä¸ä¼ è¾“çš„è¯ï¼Œé»˜è®¤å¯ä»¥æ¥å—ä»»ä½•ç¼–ç æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æåˆ°çš„ç¼–ç æ˜¯å†…å®¹ç¼–ç ï¼Œå®ƒåªæ˜¯åœ¨å“åº”æŠ¥æ–‡çš„ä¸»ä½“æŠ¥æ–‡å°†åŸå§‹æ•°æ®è¿›è¡Œç¼–ç ï¼Œæ”¹å˜çš„æ˜¯å†…å®¹çš„æ ¼å¼ã€‚è¿˜æœ‰å¦ä¸€ç§ç¼–ç ï¼šä¼ è¾“ç¼–ç ã€‚å®ƒä¸å†…å®¹æ— å…³ï¼Œå®ƒæ˜¯ä¸ºäº†æ”¹å˜æŠ¥æ–‡æ•°æ®åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ–¹å¼ã€‚ä¼ è¾“ç¼–ç æ˜¯åœ¨HTTP 1.1ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ï¼ŒæœåŠ¡å™¨éœ€è¦å…ˆç”Ÿæˆæ•°æ®ï¼Œå†è¿›è¡Œä¼ è¾“ï¼Œè¿™æ—¶ï¼Œå¯ä»¥è®¡ç®—æ•°æ®çš„é•¿åº¦ï¼Œå¹¶å°†å…¶ç¼–ç åˆ°&lt;code&gt;Content-Length&lt;/code&gt;ä¸­ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶ï¼Œå†…å®¹æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼ŒæœåŠ¡å™¨å¸Œæœ›åœ¨æ•°æ®ç”Ÿæˆä¹‹å‰å°±å¼€å§‹ä¼ è¾“ï¼Œè¿™æ—¶ï¼Œæ˜¯æ²¡æœ‰åŠæ³•çŸ¥é“æ•°æ®å¤§å°çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå°±è¦ç”¨åˆ°&lt;code&gt;ä¼ è¾“ç¼–ç &lt;/code&gt;æ¥æ ‡æ³¨æ•°æ®çš„ç»“æŸçš„ã€‚&lt;/p&gt;
&lt;p&gt;HTTPåè®®ä¸­é€šè¿‡å¦‚ä¸‹ä¸¤ä¸ªé¦–éƒ¨æ¥æè¿°å’Œæ§åˆ¶ä¼ è¾“ç¼–ç ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;3.5&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;Transfer-Encoding&lt;/td&gt;
&lt;td&gt;å‘é€æ–¹å‘ŠçŸ¥æ¥æ”¶æ–¹ï¼Œæˆ‘æ–¹å·²ç»è¿›è¡Œäº†ä½•ç§ä¼ è¾“ç¼–ç &lt;/td&gt;
&lt;td&gt;chuncked åˆ†å—ç¼–ç &lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;5&quot;&gt;&lt;td&gt;TE&lt;/td&gt;
&lt;td&gt;è¯·æ±‚æ–¹å‘ŠçŸ¥æœåŠ¡å™¨å¯ä»¥ç”¨å“ªç§ä¼ è¾“ç¼–ç &lt;/td&gt;
&lt;td&gt;trailers, chuncked æ¥å—åˆ†å—ç¼–ç ï¼Œå¹¶ä¸”æ„¿æ„æ¥å—åœ¨æŠ¥æ–‡ç»“å°¾ä¸Šçš„æ‹–æŒ‚&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;åˆ†å—ç¼–ç çš„æŠ¥æ–‡å½¢å¼æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51151337-671af080-18a5-11e9-80ad-926461f90f6a.png&quot; alt=&quot;åˆ†å—ç¼–ç &quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªåˆ†å—åŒ…å«ä¸€ä¸ªé•¿åº¦å€¼ï¼ˆåå…­è¿›åˆ¶ï¼Œå­—èŠ‚æ•°ï¼‰å’Œè¯¥åˆ†å—çš„æ•°æ®ã€‚&lt;code&gt;&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;&lt;/code&gt;ç”¨äºåŒºéš”é•¿åº¦å€¼å’Œæ•°æ®ã€‚é•¿åº¦å€¼ä¸åŒ…å«åˆ†å—ä¸­çš„ä»»ä½•&lt;code&gt;&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;&lt;/code&gt;åºåˆ—ã€‚æœ€åä¸€ä¸ªåˆ†å—ï¼Œç”¨é•¿åº¦å€¼0æ¥è¡¨ç¤ºç»“æŸã€‚æ³¨æ„çœ‹æŠ¥æ–‡é¦–éƒ¨åŒ…å«ä¸€ä¸ª&lt;code&gt;Trailer: Content-MD5&lt;/code&gt;, æ‰€ä»¥åœ¨ç´§è·Ÿç€æœ€åä¸€ä¸ªæŠ¥æ–‡ç»“æŸä¹‹åï¼Œå°±æ˜¯ä¸€ä¸ªæ‹–æŒ‚ã€‚å…¶ä»–å¦‚ï¼Œ&lt;code&gt;Content-Length&lt;/code&gt;, &lt;code&gt;Trailer&lt;/code&gt;, &lt;code&gt;Transfer-Encoding&lt;/code&gt;ä¹Ÿå¯ä»¥ä½œä¸ºæ‹–æŒ‚ã€‚&lt;/p&gt;
&lt;p&gt;å†…å®¹ç¼–ç å’Œä¼ è¾“ç¼–ç æ˜¯å¯ä»¥ç»“åˆèµ·æ¥ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51151680-ae55b100-18a6-11e9-819c-5cffcc35cd69.png&quot; alt=&quot;å†…å®¹ç¼–ç å’Œä¼ è¾“ç¼–ç ç»“åˆ&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å›½é™…åŒ–æ”¯æŒ&quot;&gt;å›½é™…åŒ–æ”¯æŒ&lt;/h2&gt;
&lt;p&gt;HTTPä¸ºäº†æ”¯æŒå›½é™…åŒ–çš„å†…å®¹ï¼Œå®¢æˆ·ç«¯è¦å‘ŠçŸ¥æœåŠ¡å™¨è‡ªå·±èƒ½ç†è§£çš„ä½•ç§è¯­è¨€ï¼Œæµè§ˆå™¨ä¸Šå®‰è£…äº†ä½•ç§å­—æ¯è¡¨ç¼–ç ç®—æ³•ã€‚è¿™é€šè¿‡&lt;code&gt;Accept-Charset&lt;/code&gt;å’Œ&lt;code&gt;Accept-Language&lt;/code&gt;é¦–éƒ¨å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Accept-Language: fr, en;q=0.8
Accept-Charset: iso-8859-1, utf-8&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¡¨ç¤ºï¼šå®¢æˆ·ç«¯æ¥å—æ³•è¯­ï¼ˆä¼˜å…ˆçº§é»˜è®¤ä¸º1.0ï¼‰ã€è‹±è¯­ï¼ˆä¼˜å…ˆçº§ä¸º0.8ï¼‰ï¼Œæ”¯æŒiso-8859-1, utf-8ä¸¤ç§å­—ç¬¦é›†ç¼–ç ã€‚æœåŠ¡å™¨åˆ™ä¼šåœ¨&lt;code&gt;Content-Type&lt;/code&gt;é¦–éƒ¨é‡Œæ”¾ä¸Š&lt;code&gt;charset&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ä¸Šï¼ŒHTTPæŠ¥æ–‡çš„bodyéƒ¨åˆ†å­˜æ”¾çš„å°±æ˜¯ä¸€ä¸²äºŒè¿›åˆ¶ç ï¼Œæˆ‘ä»¬å…ˆæŠŠäºŒè¿›åˆ¶ç è½¬æ¢æˆå­—ç¬¦ä»£ç ï¼ˆå¦‚asciiæ˜¯ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œè€Œutf-8åˆ™è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„å­—èŠ‚æ•°ä¸å®šï¼Œæ¯ä¸ªå­—ç¬¦1~6ä¸ªå­—èŠ‚ï¼‰ï¼Œä¹‹åï¼Œç”¨å­—ç¬¦ä»£ç æ”¯å­—ç¬¦é›†ä¸­æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒå¸¸è§çš„å­—ç¬¦é›†æ˜¯&lt;code&gt;US-ASCII&lt;/code&gt;: è¿™ä¸ªå­—ç¬¦é›†æ˜¯æ‰€æœ‰å­—ç¬¦é›†çš„å§‹ç¥–ï¼Œæ—©åœ¨1968å¹´å°±å‘å¸ƒäº†æ ‡å‡†ã€‚ASCIIç çš„ä»£ç å€¼ä»0åˆ°127, åªéœ€è¦7ä¸ªbitä½å°±å¯ä»¥è¦†ç›–ä»£ç ç©ºé—´ã€‚HTTPæŠ¥æ–‡çš„é¦–éƒ¨ã€URLä½¿ç”¨çš„å­—ç¬¦é›†å°±æ˜¯ASCIIç ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;US-ASCII&lt;/code&gt;æ˜¯æŠŠæ¯ä¸ªå­—ç¬¦ç¼–ç æˆå›ºå®šçš„7ä½äºŒè¿›åˆ¶å€¼ã€‚&lt;code&gt;UTF-8&lt;/code&gt;åˆ™æ˜¯æ— å›ºå®šçš„ç¼–ç æ–¹æ¡ˆã€‚ç¬¬ä¸€ä¸ªå­—èŠ‚çš„é«˜ä½ç”¨æ¥è¡¨ç¤ºç¼–ç åçš„å­—ç¬¦æ‰€ç”¨çš„å­—èŠ‚æ•°ï¼ˆå¦‚æœæ‰€ç”¨çš„å­—èŠ‚æ•°æ˜¯5ï¼Œåˆ™ç¬¬ä¸€ä¸ªå­—èŠ‚å‰5bitéƒ½æ˜¯1ï¼Œç¬¬6bitæ˜¯0ï¼‰ï¼Œæ‰€éœ€çš„åç»­çš„å­—èŠ‚éƒ½å«æœ‰6ä½çš„ä»£ç å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51167193-e2e65e80-18e0-11e9-97da-caea0244386d.png&quot; alt=&quot;utf-8ç¼–ç &quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œæ±‰å­—â€œä¸¥â€çš„Unicodeç¼–ç ä¸º&lt;code&gt;4E25&lt;/code&gt;(&lt;code&gt;100111000100101&lt;/code&gt;), å…±æœ‰15ä½ï¼Œè½åœ¨ä¸Šè¡¨ä¸­çš„ç¬¬ä¸‰è¡Œï¼Œå› æ­¤â€œä¸¥â€çš„ç¼–ç å°±éœ€è¦ä¸‰ä¸ªå­—èŠ‚ã€‚å°†&lt;code&gt;100111000100101&lt;/code&gt;å¡«å…¥ä¸Šè¡¨ä¸­çš„&lt;code&gt;c&lt;/code&gt;ä½å³å¯ã€‚å› æ­¤ï¼Œä¸¥çš„&lt;code&gt;UTF-8&lt;/code&gt;ç¼–ç æ˜¯11100100 10111000 10100101ï¼Œè½¬æ¢æˆåå…­è¿›åˆ¶å°±æ˜¯E4B8A5. æ¯”å¦‚æˆ‘åœ¨è°·æ­Œæœç´¢æ¡†é‡Œæœç´¢â€œä¸¥â€å­—ï¼Œgoogleå‘å‡ºçš„è¯·æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;https://www.google.com.hk/search?q=%E4%B8%A5&amp;amp;oq=%E4%B8%A5&amp;amp;aqs=chrome..69i57j0l5.3802j0j4&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&amp;amp;gws_rd=cr&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;q=%E4%B8%A5&lt;/code&gt;è¿™ä¸ªå°±æ˜¯æœç´¢çš„è¯äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é‡ç‚¹å‘ä¸è´Ÿè½½å‡è¡¡&quot;&gt;é‡ç‚¹å‘ä¸è´Ÿè½½å‡è¡¡&lt;/h2&gt;
&lt;p&gt;Webå†…å®¹é€šå¸¸åˆ†æ•£åœ°åˆ†å¸ƒåœ¨å¾ˆå¤šåœ°æ–¹ï¼Œè¿™å¯ä»¥é˜²æ­¢â€œå•ç‚¹æ•…éšœâ€ï¼Œä¸‡ä¸€æŸä¸ªåœ°æ–¹å‘ç”Ÿåœ°éœ‡äº†ï¼Œæœºæˆ¿è¢«æ¯äº†ï¼Œé‚£è¿˜æœ‰å…¶ä»–åœ°æ–¹çš„æœºæˆ¿å¯ä»¥æä¾›æœåŠ¡ã€‚æ‰€è°“&lt;code&gt;ç‹¡å…”ä¸‰çªŸ&lt;/code&gt;å˜›ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œç”¨æˆ·çš„è¯·æ±‚ä¼šæ ¹æ®&lt;code&gt;è´Ÿè½½å‡è¡¡&lt;/code&gt;çš„åŸåˆ™ï¼Œè¢«&lt;code&gt;é‡å®šå‘&lt;/code&gt;åˆ°å®ƒåº”è¯¥å»çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;httpé‡å®šå‘&quot;&gt;HTTPé‡å®šå‘&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯è¿”å›ä¸€æ¡å¸¦æœ‰çŠ¶æ€ç &lt;code&gt;302&lt;/code&gt;é‡å®šå‘çš„æŠ¥æ–‡ï¼Œå‘Šè¯‰ä»–ä»¬åº”è¯¥å»å…¶ä»–çš„åœ°æ–¹è¯•è¯•ã€‚webç«™ç‚¹å°†é‡å®šå‘çœ‹æˆä¸€ç§ç®€å•çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ¥ä½¿ç”¨ï¼Œ&lt;code&gt;é‡å®šå‘&lt;/code&gt;æœåŠ¡å™¨æ‰¾åˆ°å¯ç”¨çš„è´Ÿè½½æœ€å°çš„æœºå™¨ï¼Œç”±äºæœåŠ¡å™¨çŸ¥é“å®¢æˆ·ç«¯çš„åœ°å€ï¼Œç†è®ºä¸Šæ¥è¯´ï¼Œå¯ä»¥åšåˆ°æœ€ä¼˜çš„é‡å®šå‘é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œç”±äºå®¢æˆ·ç«¯è¦å‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œå› æ­¤å¢åŠ è€—æ—¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;dnsé‡å®šå‘&quot;&gt;DNSé‡å®šå‘&lt;/h3&gt;
&lt;p&gt;DNSå°†å‡ ä¸ªIPåœ°å€å…³è”åˆ°ä¸€ä¸ªåŸŸä¸Šï¼Œé‡‡ç”¨ç®—æ³•å†³å®šè¿”å›çš„IPåœ°å€ã€‚å¯ä»¥æ˜¯ç®€å•çš„&lt;code&gt;è½®è½¬&lt;/code&gt;ï¼›ä¹Ÿå¯ä»¥æ˜¯æ›´é«˜çº§çš„ç®—æ³•ï¼Œè¿”å›è´Ÿè½½æœ€è½»çš„æœåŠ¡å™¨çš„IPåœ°å€ï¼Œç§°ä¸º&lt;code&gt;è´Ÿè½½å‡è¡¡ç®—æ³•&lt;/code&gt;ï¼›å¦‚æœè€ƒè™‘åœ°ç†ä½ç½®ï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯æœ€è¿‘ä½ç½®çš„åœ°å€ï¼Œç§°ä¸º&lt;code&gt;é‚»æ¥è·¯ç”±ç®—æ³•&lt;/code&gt;ï¼›è¿˜æœ‰ä¸€ç§æ˜¯ç»•è¿‡å‡ºç°æ•…éšœçš„åœ°å€ï¼Œç§°ä¸º&lt;code&gt;æ•…éšœå±è”½ç®—æ³•&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;DNSæœåŠ¡å™¨æ€»æ˜¯ä¼šè¿”å›æ‰€æœ‰çš„IPåœ°å€ï¼Œä½†æ˜¯DNSå®¢æˆ·ç«¯ä¸€èˆ¬åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªIPåœ°å€ï¼Œè€Œä¸”ä¼šç¼“å­˜ä¸‹æ¥ï¼Œä¹‹åä¼šä¸€ç›´ç”¨è¿™ä¸ªåœ°å€ã€‚æ‰€ä»¥ï¼ŒDNSè½®è½¬é€šå¸¸ä¸ä¼šå¹³è¡¡å•ä¸ªå®¢æˆ·ç«¯çš„è´Ÿè½½ã€‚ä½†æ˜¯ï¼Œç”±äºDNSæœåŠ¡å™¨å¯¹äºä¸åŒçš„è¯·æ±‚ï¼Œæ€»æ˜¯ä¼šè¿”å›è½®è½¬åçš„IPåœ°å€åˆ—è¡¨ï¼Œå› æ­¤ï¼Œä¼šæŠŠè´Ÿè½½åˆ†æ•£åˆ°å¤šä¸ªå®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;httpè¿æ¥&quot;&gt;HTTPè¿æ¥&lt;/h2&gt;
&lt;p&gt;HTTPè¿æ¥æ˜¯HTTPæŠ¥æ–‡ä¼ è¾“çš„å…³é”®é€šé“ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¹¶è¡Œè¿æ¥&quot;&gt;å¹¶è¡Œè¿æ¥&lt;/h3&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªé¡µé¢ä¸ŠåŒæ—¶å‡ºç°å¤šä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœæµè§ˆå™¨å¹¶è¡Œåœ°æ‰“å¼€å¤šä¸ªè¿æ¥ï¼ŒåŒæ—¶å»è·å–è¿™äº›å¯¹è±¡ï¼Œå¤šä¸ªè¿æ¥çš„TCPæ¡æ‰‹æ—¶å»¶å¯ä»¥è¿›è¡Œé‡å ï¼Œçœ‹èµ·æ¥é€Ÿåº¦ä¼šå¿«èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸€ä¸ªåŒ…å«3å¼ å›¾ç‰‡çš„é¡µé¢ï¼Œæµè§ˆå™¨è¦å‘é€4æ¬¡HTTPè¯·æ±‚æ¥è·å–é¡µé¢ã€‚1ä¸ªç”¨äºé¡¶å±‚çš„HTMLé¡µé¢ï¼Œ3ä¸ªç”¨äºå›¾ç‰‡ã€‚å¦‚æœé‡‡ç”¨ä¸²è¡Œæ–¹å¼ï¼Œé‚£ä¹ˆè¿æ¥æ—¶å»¶ä¼šè¿›è¡Œå åŠ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/50803988-0f213e80-1327-11e9-93d9-10339ee54864.png&quot; alt=&quot;ä¸²è¡Œè¿æ¥&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‡‡ç”¨å¹¶è¡Œè¿æ¥ä¹‹åï¼š&lt;br/&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/50803776-13992780-1326-11e9-8752-defd450ca639.png&quot; alt=&quot;å¹¶è¡Œè¿æ¥&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¹¶è¡Œè¿æ¥ä¹Ÿä¸ç»å¯¹æå‡é€Ÿåº¦ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢æœ‰æ•°ç™¾ä¸ªå†…åµŒå¯¹è±¡ï¼Œé‚£è¦å¯åŠ¨æ•°ç™¾ä¸ªè¿æ¥ï¼Œå¯¹æœåŠ¡å™¨çš„æ€§èƒ½ä¹Ÿæ˜¯éå¸¸å¤§çš„æŒ‘æˆ˜ã€‚æ‰€ä»¥ï¼Œé€šå¸¸æµè§ˆå™¨ä¼šé™åˆ¶å¹¶è¡Œè¿æ¥çš„æ€»æ•°æ®åœ¨ä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œé€šå¸¸æ˜¯4ä¸ªï¼Œè€Œä¸”æœåŠ¡ç«¯å¯ä»¥éšæ„å…³é—­å®¢æˆ·ç«¯è¶…é‡çš„è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå®¢æˆ·ç«¯ç½‘ç»œå¸¦å®½è¾ƒå°ï¼Œæ¯ä¸ªè¿æ¥éƒ½ä¼šå»äº‰æŠ¢æœ‰é™çš„å¸¦å®½ï¼Œæ¯ä¸ªè¿æ¥éƒ½ä¼šè·å–è¾ƒå°çš„é€Ÿåº¦ï¼Œå³æ¯ä¸ªå¯¹è±¡éƒ½ä¼šä»¥è¾ƒå°çš„é€Ÿåº¦å»åŠ è½½ã€‚è¿™æ ·ï¼Œå¹¶è¡Œè¿æ¥å¸¦æ¥çš„é€Ÿåº¦æå‡å°±ä¼šæ¯”è¾ƒå°ï¼Œç”šè‡³æ²¡æœ‰æå‡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŒä¹…è¿æ¥&quot;&gt;æŒä¹…è¿æ¥&lt;/h3&gt;
&lt;p&gt;HTTP keep-aliveæœºåˆ¶&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“HTTPè¯·æ±‚æ˜¯â€œè¯·æ±‚-åº”ç­”â€æ¨¡å¼ï¼Œæ¯æ¬¡è¯·æ±‚-åº”ç­”éƒ½è¦æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œå®Œæˆä¹‹åè¦æ–­å¼€è¿æ¥ã€‚HTTPæ˜¯æ— çŠ¶æ€çš„ï¼Œè¿æ¥ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;HTTPæ˜¯åº”ç”¨å±‚åè®®ï¼ŒTCPæ˜¯ä¼ è¾“å±‚åè®®ã€‚HTTPåº•å±‚ä»ç„¶é‡‡ç”¨TCPè¿›è¡Œä¼ è¾“æ•°æ®ã€‚TCPä¸ºHTTPæä¾›äº†ä¸€å±‚å¯é çš„æ¯”ç‰¹ä¼ è¾“é€šé“ã€‚HTTPä¸€èˆ¬äº¤æ¢çš„æ•°æ®éƒ½ä¸å¤§ï¼Œè€Œæ¯æ¬¡è¿æ¥éƒ½è¦è¿›è¡ŒTCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´éƒ½æ¶ˆè€—åœ¨è¿™ä¸Šé¢ï¼Œæœ‰æ—¶å€™ç”šè‡³èƒ½è¾¾åˆ°50%ã€‚å¦‚æœèƒ½å¤ç”¨è¿æ¥ï¼Œå°±å¯ä»¥å‡å°‘ç”±äºTCPä¸‰æ¬¡æ¡æ‰‹æ‰€å¸¦æ¥çš„æ—¶å»¶ã€‚&lt;/p&gt;
&lt;p&gt;HTTP 1.1é»˜è®¤å¼€å¯keep-aliveæœºåˆ¶ï¼Œä»ä¸Šé¢æŠ“åˆ°çš„åŒ…ä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚è¿™æ ·ï¼Œæ•°æ®ä¼ è¾“å®Œæˆä¹‹åä¿æŒTCPè¿æ¥ä¸æ–­å¼€ï¼Œä¹‹ååŒåŸŸåä¸‹å¤ç”¨è¿æ¥ï¼Œç»§ç»­ç”¨è¿™ä¸ªé€šé“ä¼ è¾“æ•°æ®ã€‚æœåŠ¡å™¨åœ¨å“åº”ä¸€ä¸ªè¯·æ±‚åï¼Œå¯ä»¥ä¿æŒè¿™ä¸ªè¿æ¥keep-alive timeoutçš„æ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ—¶é—´å†…æ²¡æœ‰è¯·æ±‚ï¼Œåˆ™å…³é—­æ­¤è¿æ¥ï¼›å¦åˆ™ï¼Œé‡æ–°å¼€å§‹å€’è®¡æ—¶keep-alive timeoutæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51286420-e4716d00-1a2d-11e9-9b95-79b1e0a1984a.png&quot; alt=&quot;http keep alive&quot;/&gt;&lt;/p&gt;
&lt;p&gt;HTTPæœ‰keep-aliveæœºåˆ¶ï¼Œç›®çš„æ˜¯å¯ä»¥åœ¨ä¸€ä¸ªTCP&lt;br/&gt;è¿æ¥ä¸Šä¼ è¾“å¤šä¸ªHTTPäº‹åŠ¡ï¼Œä»¥æ­¤æé«˜é€šä¿¡æ•ˆç‡ã€‚åº•å±‚çš„TCPå…¶å®ä¹Ÿæœ‰keep-aliveæœºåˆ¶ï¼Œå®ƒæ˜¯ä¸ºäº†æ¢æµ‹TCPè¿æ¥çš„æ´»è·ƒæ€§ã€‚TCPå±‚çš„keepaliveå¯ä»¥åœ¨ä»»ä½•ä¸€æ–¹è®¾ç½®ï¼Œå¯ä»¥æ˜¯ä¸€ç«¯è®¾ç½®ã€ä¸¤ç«¯åŒæ—¶è®¾ç½®æˆ–è€…ä¸¤ç«¯éƒ½æ²¡æœ‰è®¾ç½®ã€‚æ–°å»ºsocketçš„æ—¶å€™éœ€è¦è®¾ç½®ï¼Œä»è€Œä½¿å¾—åè®®æ ˆè°ƒç”¨ç›¸å…³å‡½æ•°tcp_set_keepaliveï¼Œæ¥æ¿€æ´»è¿æ¥çš„keep-aliveå±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç½‘ç»œä¸¤ç«¯å»ºç«‹äº†TCPè¿æ¥ä¹‹åï¼Œé—²ç½®ï¼ˆåŒæ–¹æ²¡æœ‰ä»»ä½•æ•°æ®æµå‘é€å¾€æ¥ï¼‰æ—¶é—´è¶…è¿‡&lt;code&gt;tcp_keepalive_time&lt;/code&gt;åï¼ŒæœåŠ¡å™¨å†…æ ¸å°±ä¼šå°è¯•å‘å®¢æˆ·ç«¯å‘é€ä¾¦æµ‹åŒ…ï¼Œæ¥åˆ¤æ–­TCPè¿æ¥çŠ¶å†µ(æœ‰å¯èƒ½å®¢æˆ·ç«¯å´©æºƒã€å¼ºåˆ¶å…³é—­äº†åº”ç”¨ã€ä¸»æœºä¸å¯è¾¾ç­‰ç­‰)ã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°å¯¹æ–¹çš„å›ç­”(ackåŒ…)ï¼Œåˆ™ä¼šåœ¨ &lt;code&gt;tcp_keepalive_intvl&lt;/code&gt;åå†æ¬¡å°è¯•å‘é€ä¾¦æµ‹åŒ…ï¼Œç›´åˆ°æ”¶åˆ°å¯¹æ–¹çš„ack,å¦‚æœä¸€ç›´æ²¡æœ‰æ”¶åˆ°å¯¹æ–¹çš„ack,ä¸€å…±ä¼šå°è¯• tcp_keepalive_probesæ¬¡ï¼Œæ¯æ¬¡çš„é—´éš”æ—¶é—´åœ¨è¿™é‡Œåˆ†åˆ«æ˜¯15s, 30s, 45s, 60s, 75sã€‚å¦‚æœå°è¯•&lt;code&gt;tcp_keepalive_probes&lt;/code&gt;æ¬¡å,ä¾ç„¶æ²¡æœ‰æ”¶åˆ°å¯¹æ–¹çš„ackåŒ…ï¼Œåˆ™ä¼šä¸¢å¼ƒè¯¥TCPè¿æ¥ã€‚TCPè¿æ¥é»˜è®¤é—²ç½®æ—¶é—´æ˜¯2å°æ—¶ï¼Œä¸€èˆ¬è®¾ç½®ä¸º30åˆ†é’Ÿè¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç®¡é“åŒ–è¿æ¥&quot;&gt;ç®¡é“åŒ–è¿æ¥&lt;/h3&gt;
&lt;p&gt;åœ¨keep-aliveçš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åšåœ°æ›´è¿›ä¸€æ­¥ï¼Œåœ¨å“åº”åˆ°è¾¾ä¹‹å‰ï¼Œæˆ‘ä»¬å°†å¤šæ¡è¯·æ±‚æ”¾å…¥è¯·æ±‚é˜Ÿåˆ—ï¼ŒæœåŠ¡ç«¯åœ¨æ”¶åˆ°è¯·æ±‚åï¼Œå¿…é¡»æŒ‰ç…§é¡ºåºå¯¹åº”è¯·æ±‚çš„å“åº”ã€‚ä½†ç”±äºç½‘ç»œç¯å¢ƒéå¸¸å¤æ‚ï¼Œå› æ­¤å³ä½¿è¯·æ±‚æ˜¯æŒ‰é¡ºåºå‘é€çš„ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯æŒ‰é¡ºåºåˆ°è¾¾æœåŠ¡ç«¯çš„ã€‚æ‰€ä»¥æœ€å¥½æ˜¯åœ¨å“åº”ä¸­é™„å¸¦ä¸€äº›å¯ä»¥æ ‡è¯†è¯·æ±‚çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®‰å…¨èµ·è§ï¼Œç®¡é“åŒ–çš„è¿æ¥åªé€‚åˆâ€œå¹‚ç­‰â€çš„è¯·æ±‚ï¼Œä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºï¼šGET/HEAD/PUT/DELETE/TRACE/OPTIONSç­‰æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šï¼Œå°±æ˜¯æ‰€æœ‰HTTPçš„é€šä¿¡ç»†èŠ‚äº†ã€‚å…¶å®æ¯”è¾ƒç®€å•ï¼Œæ›´å¤šçš„ç»†èŠ‚å¯ä»¥åœ¨ç”¨åˆ°çš„æ—¶å€™å†å»ä»”ç»†ç ”ç©¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸çŸ¥é“ä½ å¯¹HTTPçš„ç†è§£æœ‰æ²¡æœ‰æ›´ä¸Šä¸€å±‚æ¥¼ï¼Ÿæ¬¢è¿ä¸€èµ·äº¤æµæ¢è®¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/7698088/51325279-8bdeb600-1aa7-11e9-860d-2063fbae105b.png&quot; alt=&quot;wechat QR&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 14:44:00 +0000</pubDate>
<dc:creator>Stefno</dc:creator>
<og:description>æœ¬æ–‡å°†å¸¦é¢†ä½ æ·±å…¥äºŒè¿›åˆ¶çš„å¤©åœ°ï¼Œæ·±å…¥åˆ†æHTTPé€šä¿¡çš„æ‰€æœ‰ç»†èŠ‚ï¼çœ‹å®Œæœ¬æ–‡ï¼Œç›¸ä¿¡ä½ å¯¹HTTPçš„ç†è§£ä¼šä¸Šä¸€ä¸ªå°é˜¶ï¼ ä¸ºäº†å¯¹ç½‘ç»œæ•°æ®åŒ…çš„â€œæµè½¬â€æœ‰æ›´åŠ æ·±åˆ»çš„ç†è§£ï¼Œæˆ‘åœ¨dockerï¼ˆè¿œç¨‹ï¼‰ä¸Šéƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qcrao-2018/p/10285348.html</dc:identifier>
</item>
<item>
<title>åˆ©ç”¨TopshelfæŠŠ.NET Core Generic Hostç®¡ç†çš„åº”ç”¨ç¨‹åºéƒ¨ç½²ä¸ºWindowsæœåŠ¡ - Elder_James</title>
<link>http://www.cnblogs.com/ElderJames/p/Using-Topshelf-To-Deploy-Net-Core-Generic-Host-App-To-Windows-Services.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ElderJames/p/Using-Topshelf-To-Deploy-Net-Core-Generic-Host-App-To-Windows-Services.html</guid>
<description>&lt;p&gt;2019ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ–‡æºäºå‰å…¬å¸åœ¨è¿ç§»é¡¹ç›®åˆ°.NET Coreçš„è¿‡ç¨‹ä¸­ï¼Œå¸Œæœ›ä½¿ç”¨Generic Hostæ¥ç®¡ç†å®šæ—¶ä»»åŠ¡ç¨‹åºæ—¶ï¼Œæ²¡æ³•éƒ¨ç½²åˆ°WindowsæœåŠ¡çš„é—®é¢˜ï¼Œè€Œä¸”å®˜æ–¹ä¹Ÿæ²¡ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œåªèƒ½å…³æ³¨ä¸€ä¸‹&lt;a href=&quot;https://github.com/aspnet/Extensions/issues/809&quot;&gt;å®˜æ–¹issue #809&lt;/a&gt; ç­‰ä»–ä»¬æ–¹è§£å†³äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£åªæä¾›äº†ä¸€ä¸ª&lt;a href=&quot;https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/windows-service?spm=a2c4e.11153940.blogcont676413.12.65753eb0BIzfmE&amp;amp;view=aspnetcore-2.1&quot;&gt;ã€Šåœ¨ Windows æœåŠ¡ä¸­æ‰˜ç®¡ ASP.NET Coreã€‹&lt;/a&gt;çš„æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;Microsoft.AspNetCore.Hosting.WindowsServices&lt;/code&gt;ç±»åº“æ¥æŠŠWebåº”ç”¨éƒ¨ç½²ä¸ºWindowsæœåŠ¡ã€‚ä½†æ˜¯ASP.NET Coreè™½ç„¶æ˜¯æ§åˆ¶å°ç¨‹åºï¼Œä½†æ˜¯å®ƒæœ¬èº«æ˜¯ä½¿ç”¨äº†å«æœ‰HTTPç®¡é“çš„Web Hostæ¥è´Ÿè´£åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œç”¨å®ƒæ¥ä½œä¸ºå®šæ—¶ä»»åŠ¡çš„è¯ï¼Œä¼šæœ‰å¾ˆå¤šä¸å¿…è¦çš„å·¥ä½œè´Ÿè½½ï¼Œä¾‹å¦‚å ç”¨ç«¯å£ã€å¢åŠ äº†å¾ˆå¤šä¾èµ–ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œåœ¨.NET Core 2.1ç‰ˆæœ¬æ–°å¢äº†Generic Hosté€šç”¨ä¸»æœºï¼Œå‰¥ç¦»äº†åŸæ¥WebHostçš„Httpç®¡é“ç›¸å…³çš„APIï¼Œæºç ä¸­å¯ä»¥å‘ç°Web Hostå·²ç»åŸºäºGeneric Hostå®ç°ã€‚å®ƒæ‰æ˜¯ä½œä¸ºçº¯ç²¹å®šæ—¶ä»»åŠ¡ç¨‹åºçš„æœ€ä½³æ‹æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç”±äºGeneric Hostæœ¬èº«éå¸¸ç®€å•ï¼Œç”¨å®ƒè¿è¡Œçš„ç¨‹åºè®¾ç½®åœ¨æ³¨å†Œä¸ºWindowsæœåŠ¡å¯åŠ¨ä¹‹åä¼šè‡ªåŠ¨åœæ­¢ã€‚ç ”ç©¶å¾ˆä¹…ä¹‹åæ‰çŸ¥é“ï¼Œæƒ³åœ¨Windowsä¸Šå¯åŠ¨æœåŠ¡ï¼Œè¿˜æ˜¯ä¸èƒ½åƒLinuxä¸Šé‚£ä¹ˆç®€å•â€”â€”&lt;/p&gt;
&lt;p&gt;äºæ˜¯å°è¯•ç»“åˆTopshelfæ¥åˆ›å»ºWindowsæœåŠ¡ï¼Œæœ€ç»ˆæˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°æ–¹æ³•&quot;&gt;å®ç°æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;å…ˆå®ç°&lt;code&gt;IHostLifetime&lt;/code&gt;æ¥å£æ¥æ¥ç®¡åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œå…¶å®å°±æ˜¯ç”¨ç©ºçš„å®ç°æ¥æ›¿æ¢æ‰é»˜è®¤çš„ConsoleLifetimeï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¹‹åç”±Topshelfæ¡†æ¶å†…éƒ¨å»ç®¡ç†ç”Ÿå‘½å‘¨æœŸã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;    internal class TopshelfLifetime : IHostLifetime
    {
        public TopshelfLifetime(IApplicationLifetime applicationLifetime, IServiceProvider services)
        {
            ApplicationLifetime = applicationLifetime ?? throw new ArgumentNullException(nameof(applicationLifetime));
        }

        private IApplicationLifetime ApplicationLifetime { get; }

        public Task WaitForStartAsync(CancellationToken cancellationToken)
        {
            return Task.CompletedTask;
        }

        public Task StopAsync(CancellationToken cancellationToken)
        {
            return Task.CompletedTask;
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;ç„¶åå®ç°&lt;code&gt;IHostedService&lt;/code&gt;æ¥å£ï¼ŒæŠŠåå°ä»»åŠ¡é€»è¾‘å†™åˆ°&lt;code&gt;StartAsync&lt;/code&gt;æ–¹æ³•ä¸­ï¼Œå‚è§å®˜æ–¹æ–‡æ¡£&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-2.1#ihostedservice-interface&quot;&gt;ã€Šåœ¨ ASP.NET Core ä¸­ä½¿ç”¨æ‰˜ç®¡æœåŠ¡å®ç°åå°ä»»åŠ¡ã€‹&lt;/a&gt;ï¼Œæœ¬æ–‡ç¤ºä¾‹ä½¿ç”¨å®šæ—¶å†™å…¥æ–‡æœ¬åˆ°ä¸€ä¸ªæ–‡ä»¶æ¥æµ‹è¯•å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸè¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;    internal class FileWriterService : IHostedService, IDisposable
    {
        private static string path = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, @&quot;test.txt&quot;);

        private Timer _timer;

        public Task StartAsync(CancellationToken cancellationToken)
        {
            if (cancellationToken.IsCancellationRequested) return Task.FromCanceled(cancellationToken);

            _timer = new Timer(
                (e) =&amp;gt; WriteTimeToFile(),
                null,
                TimeSpan.Zero,
                TimeSpan.FromSeconds(10));

            return Task.CompletedTask;
        }

        public void WriteTimeToFile()
        {
            if (!File.Exists(path))
            {
                using (var sw = File.CreateText(path))
                {
                    sw.WriteLine(DateTime.Now);
                }
            }
            else
            {
                using (var sw = File.AppendText(path))
                {
                    sw.WriteLine(DateTime.Now);
                }
            }
        }

        public Task StopAsync(CancellationToken cancellationToken)
        {
            _timer?.Change(Timeout.Infinite, 0);

            return Task.CompletedTask;
        }

        public void Dispose()
        {
            _timer?.Dispose();
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;æ„å»ºGeneric Hostï¼Œåœ¨&lt;code&gt;ConfigureServices&lt;/code&gt;æ–¹æ³•ä¸­æ³¨å†Œ&lt;code&gt;TopshelfLifetime&lt;/code&gt;ï¼Œå¹¶ä¸”æ³¨å†Œä¸€ä¸ªæ‰˜ç®¡æœåŠ¡&lt;code&gt;FileWriterService&lt;/code&gt;ï¼Œå°±èƒ½å®ŒæˆGeneric Hostçš„ç®€å•æ„å»ºï¼Œå½“ç„¶å®Œæ•´çš„é¡¹ç›®åº”è¯¥è¿˜åŒ…å«é…ç½®ã€æ—¥å¿—ç­‰ç­‰ã€‚æœ€åï¼Œä½¿ç”¨Topshelfæ¥æ¥ç®¡Generic Hostï¼Œåˆ›å»ºWindowsæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;pre class=&quot;cs&quot;&gt;
&lt;code&gt;    internal class Program
    {
        private static void Main(string[] args)
        {
            var builder = new HostBuilder()
                .ConfigureServices((hostContext, services) =&amp;gt;
                {
                    services.AddSingleton&amp;lt;IHostLifetime, TopshelfLifetime&amp;gt;();
                    services.AddHostedService&amp;lt;FileWriterService&amp;gt;();
                });

            HostFactory.Run(x =&amp;gt;
            {
                x.SetServiceName(&quot;GenericHostWindowsServiceWithTopshelf&quot;);
                x.SetDisplayName(&quot;Topshelfåˆ›å»ºçš„Generic HostæœåŠ¡&quot;);
                x.SetDescription(&quot;è¿è¡ŒTopshelfåˆ›å»ºçš„Generic HostæœåŠ¡&quot;);

                x.Service&amp;lt;IHost&amp;gt;(s =&amp;gt;
                {
                    s.ConstructUsing(() =&amp;gt; builder.Build());
                    s.WhenStarted(service =&amp;gt;
                    {
                        service.Start();
                    });
                    s.WhenStopped(service =&amp;gt;
                    {
                        service.StopAsync();
                    });
                });
            });
        }
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;æœ€åå‘å¸ƒåº”ç”¨ç¨‹åºï¼Œå¹¶å®‰è£…åˆ°WindowsæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;ä»¥ç®¡ç†å‘˜æƒé™å¼€å¯ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;  dotnet publish -c release -r win-x64
  
  cd path-to-project/bin/release/netcoreapp2.1/win-x64/publish

  ./project-name install

  net start GenericHostWindowsServiceWithTopshelf
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://yangshunjie.com/images/generic-host/generic-host-install.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·è¿™ä¸ªWindowsæœåŠ¡å°±å¯åŠ¨äº†ï¼æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å®šæ—¶å†™å…¥æˆåŠŸï¼ŒæœåŠ¡ä¹Ÿä¸€ç›´æ²¡å…³é—­~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://yangshunjie.com/images/generic-host/generic-host-result.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h2&gt;
&lt;p&gt;https://github.com/ElderJames/GenericHostWindowsServiceWithTopshelf&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒé“¾æ¥&quot;&gt;å‚è€ƒé“¾æ¥&lt;/h2&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-2.1&quot;&gt;ã€Š.NET é€šç”¨ä¸»æœºã€‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£&lt;a href=&quot;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-2.1&quot;&gt;ã€Šåœ¨ ASP.NET Core ä¸­ä½¿ç”¨æ‰˜ç®¡æœåŠ¡å®ç°åå°ä»»åŠ¡ã€‹&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 17 Jan 2019 14:34:00 +0000</pubDate>
<dc:creator>Elder_James</dc:creator>
<og:description>èƒŒæ™¯ 2019ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚ æ­¤æ–‡æºäºå‰å…¬å¸åœ¨è¿ç§»é¡¹ç›®åˆ°.NET Coreçš„è¿‡ç¨‹ä¸­ï¼Œå¸Œæœ›ä½¿ç”¨Generic Hostæ¥ç®¡ç†å®šæ—¶ä»»åŠ¡ç¨‹åºæ—¶ï¼Œæ²¡æ³•éƒ¨ç½²åˆ°WindowsæœåŠ¡çš„é—®é¢˜ï¼Œè€Œä¸”å®˜æ–¹ä¹Ÿæ²¡ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œåª</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/ElderJames/p/Using-Topshelf-To-Deploy-Net-Core-Generic-Host-App-To-Windows-Services.html</dc:identifier>
</item>
<item>
<title>ML.NET 0.9ç‰¹æ€§ç®€ä»‹ - Ken.W</title>
<link>http://www.cnblogs.com/kenwoo/p/10284906.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kenwoo/p/10284906.html</guid>
<description>&lt;p&gt;ML.NET 0.9å·²äºä¸Šå‘¨å‘å¸ƒï¼Œè·ç¦»ä¸Šæ¬¡0.8ç‰ˆæœ¬çš„å‘å¸ƒåªæœ‰ä¸€ä¸ªå¤šæœˆï¼Œæ­¤æ¬¡å¢åŠ çš„æ–°ç‰¹æ€§ä¸»è¦åŒ…æ‹¬ç‰¹å¾è´¡çŒ®è®¡ç®—ï¼Œæ¨¡å‹å¯è§£é‡Šæ€§å¢å¼ºï¼ŒONNXè½¬æ¢å¯¹GPUçš„æ”¯æŒï¼ŒVisual Studio ML.NETé¡¹ç›®æ¨¡æ¿é¢„è§ˆï¼Œä»¥åŠAPIæ”¹è¿›ã€‚&lt;/p&gt;

&lt;p&gt;ç‰¹å¾è´¡çŒ®è®¡ç®—(Feature Contribution Calculation)é€šè¿‡å†³å®šæ¯ä¸ªç‰¹å¾å¯¹æ¨¡å‹åˆ†æ•°çš„è´¡çŒ®ï¼Œä»è€Œæ˜¾ç¤ºå“ªäº›ç‰¹å¾åœ¨å¯¹ç‰¹åˆ«ä¸ªä½“çš„æ•°æ®æ ·æœ¬çš„æ¨¡å‹é¢„æµ‹æœ€æœ‰å½±å“åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ é¢ä¸´å†å²æ•°æ®ä¸­æœ‰è®¸å¤šç‰¹å¾æ—¶è€Œåˆæƒ³é€‰æ‹©ä½¿ç”¨æœ€é‡è¦çš„ç‰¹å¾æ—¶ï¼Œç‰¹å¾è´¡çŒ®è®¡ç®—æ˜¾å¾—ååˆ†é‡è¦ã€‚å› ä¸ºä½¿ç”¨å¤ªå¤šçš„ç‰¹å¾(å°¤å…¶æ˜¯åŒ…å«å¯¹æ¨¡å‹æ²¡æœ‰å½±å“çš„ç‰¹å¾)ä¼šå‡å°‘æ¨¡å‹çš„æ€§èƒ½ä¸å‡†ç¡®æ€§ã€‚å› æ­¤ï¼Œä½¿ç”¨ç‰¹å¾è´¡çŒ®è®¡ç®—ä½ å¯ä»¥ä»åŸå§‹ç‰¹å¾é›†ä¸­è¯†åˆ«æœ€æœ‰å½±å“åŠ›çš„æ­£å‘ä¸è´Ÿå‘çš„è´¡çŒ®ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;// åˆ›å»ºç‰¹å¾è´¡çŒ®è®¡ç®—å™¨
// å¯¹å·²æœ‰è®­ç»ƒæ¨¡å‹å‚æ•°çš„æ‰€æœ‰ç‰¹å¾è¿›è¡Œè®¡ç®—è´¡çŒ®

var featureContributionCalculator = mlContext.Model.Explainability.FeatureContributionCalculation(model.Model, model.FeatureColumn, numPositiveContributions: 11, normalize: false);

// FeatureContributionCalculatingEstimatorå¯è¢«ç”¨ä½œç®¡é“ä¸­çš„ä¸€ä¸ªæ­¥éª¤
// è¢«FeatureContributionCalculatingEstimatorä¿å­˜çš„ç‰¹å¾å°†åœ¨FeatureContributionåˆ—ä¸­

var pipeline = mlContext.Model.Explainability.FeatureContributionCalculation(model.Model, model.FeatureColumn, numPositiveContributions: 11)
    .Append(mlContext.Regression.Trainers.OrdinaryLeastSquares(featureColumn: &quot;FeatureContributions&quot;));&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¾“å‡ºç»“æœå¯ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;plain&quot;&gt;
&lt;code&gt;The output of the above code is:

  Label   Score   BiggestFeature         Value   Weight   Contribution

  24.00   27.74   RoomsPerDwelling        6.58    98.55   39.95
  21.60   23.85   RoomsPerDwelling        6.42    98.55   39.01
  34.70   29.29   RoomsPerDwelling        7.19    98.55   43.65
  33.40   27.17   RoomsPerDwelling        7.00    98.55   42.52&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;é™¤äº†ç‰¹å¾è´¡çŒ®è®¡ç®—ä¹‹å¤–ï¼Œæ’åˆ—ç‰¹å¾é‡è¦æ€§(PFI)ä¸å¹¿ä¹‰åŠ æ€§æ¨¡å‹(GAM)ä¹Ÿæœ‰åŠ å¼ºã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ’åˆ—ç‰¹å¾é‡è¦æ€§æ”¯æŒå¤§å¤šæ•°å­¦ä¹ ä»»åŠ¡ï¼šå›å½’ï¼ŒäºŒå…ƒåˆ†ç±»ï¼Œå¤šå…ƒåˆ†ç±»ä¸æ’åºã€‚&lt;/li&gt;
&lt;li&gt;æ’åˆ—ç‰¹å¾é‡è¦æ€§å…è®¸ä½ åœ¨ç‰¹å¾é‡è¦æ€§åˆ†æ•°ä¸Šè®¡ç®—ç½®ä¿¡åŒºé—´ï¼Œä»¥ä¾¿å¯ä»¥å¾—åˆ°æ›´å¥½çš„å¹³å‡å€¼ä¼°è®¡ã€‚&lt;/li&gt;
&lt;li&gt;å¹¿ä¹‰åŠ æ€§æ¨¡å‹æ”¯æŒç‰¹å¾è´¡çŒ®è®¡ç®—ï¼Œä»¥ä¾¿ä½ å¯ä»¥è¿…é€Ÿçœ‹åˆ°å“ªäº›ç‰¹å¾é©±åŠ¨ä¸ªä½“çš„é¢„æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/991496/201901/991496-20190117214901389-1936956853.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ML.NET 0.9ä¸­é€šè¿‡é›†æˆé«˜æ€§èƒ½çš„ONNXè¿è¡Œæ—¶åº“æ·»åŠ äº†ä½¿ç”¨æ¿€æ´»GPUçš„CUDA 10.0è¿è¡ŒONNXæ¨¡å‹çš„åŠŸèƒ½ã€‚ONNXæ¨¡å‹çš„GPUæ”¯æŒç°åœ¨å·²ç»å¯ä»¥åœ¨Windows 64ä½ç³»ç»Ÿä¸Šä½¿ç”¨ï¼Œä¸ä¹…ä¹‹åå°†æ”¯æŒLinuxä¸Macç³»ç»Ÿã€‚&lt;/p&gt;

&lt;p&gt;Visual Studioé¡¹ç›®æ¨¡æ¿ç°åœ¨æ¨å‡ºäº†æ”¯æŒML.NETçš„é¢„è§ˆç‰ˆæœ¬ã€‚&lt;a href=&quot;https://aka.ms/mlnettemplates&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/991496/201901/991496-20190117222511934-2105582242.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡æ¿æ¶µç›–ä»¥ä¸‹åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ML.NETæ§åˆ¶å°åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;ML.NETæ¨¡å‹ç±»åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ç®€åŒ–æ–‡æœ¬æ•°æ®åŠ è½½&quot;&gt;ç®€åŒ–æ–‡æœ¬æ•°æ®åŠ è½½&lt;/h2&gt;
&lt;p&gt;ML.NET 0.9ä»¥å‰ä½ éœ€è¦æ˜¾ç¤ºçš„æ ‡æ˜åˆ—åï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;var mlContext = new MLContext();

var reader = mlContext.Data.CreateTextReader(new[] {
        new TextLoader.Column(&quot;IsOver50K&quot;, DataKind.BL, 0),
        new TextLoader.Column(&quot;Workclass&quot;, DataKind.TX, 1)
    },hasHeader: true
);
var dataView = reader.Read(dataPath);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç°åœ¨ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨æ³›å‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;var mlContext = new MLContext();

var dataView = mlContext.Data.ReadFromTextFile&amp;lt;InspectedRow&amp;gt;(dataPath, hasHeader: true);

private class InspectedRow
{
    [LoadColumn(0)]
    public bool IsOver50K { get; set; }
    [LoadColumn(1)]
    public string Workclass { get; set; }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;è·å–é¢„æµ‹ç½®ä¿¡å› å­&quot;&gt;è·å–é¢„æµ‹ç½®ä¿¡å› å­&lt;/h2&gt;
&lt;p&gt;é€šè¿‡Calibrator Estimatorsï¼Œé™¤äº†åœ¨è¯„ä¼°æ¨¡å‹è´¨é‡æ—¶å¯ä»¥è·å¾—åˆ†æ•°åˆ—ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¾—åˆ°ç½®ä¿¡å› å­ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä½ å¯ä»¥è·å¾—æ¯ä¸ªé¢„æµ‹å€¼çš„æ¦‚ç‡ï¼š&lt;/p&gt;
&lt;pre class=&quot;plain&quot;&gt;
&lt;code&gt;Score - 0.458968    Probability 0.4670409
Score - 0.7022135   Probability 0.3912723
Score 1.138822      Probability 0.8703266&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ–°çš„é”®-å€¼åŒ¹é…ä¼°æµ‹å™¨åŠè½¬æ¢&quot;&gt;æ–°çš„é”®-å€¼åŒ¹é…ä¼°æµ‹å™¨åŠè½¬æ¢&lt;/h2&gt;
&lt;p&gt;æ–°ç‰¹æ€§æ›¿æ¢äº†TermLookupTransformï¼ŒåŒæ—¶æä¾›äº†æŒ‡å®šå€¼ä¹‹é—´åŒ¹é…çš„æ–°æ–¹æ³•ã€‚ä½ å¯ä»¥æŒ‡å®šé”®åˆ—ä¸å€¼åˆ—çš„åŒ¹é…å…³ç³»ï¼Œä½†éœ€ä¿è¯ä¸¤è€…æ•°é‡ä¸€è‡´ã€‚&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;å…è®¸ML.NETåœ¨Windows Nanoå®¹å™¨åŠWindowsæœºå™¨ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€å®‰è£…Visual C++è¿è¡Œæ—¶ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨åŒ…å«æ¨¡å‹ä¿¡æ¯çš„DataViewæ„é€ å™¨ä¸­æä¾›å…ƒæ•°æ®æ”¯æŒï¼Œæ¯”å¦‚è¢«ç¼–ç ä¸ºå…ƒæ•°æ®çš„è¯„ä¼°æŒ‡æ ‡å¯ä»¥é€šè¿‡ä»£ç è§£æå‡ºæ¥ï¼Œç”±æ­¤èƒ½å¤Ÿä½¿ç”¨ä»»ä½•å·¥å…·è¿›è¡Œå¯è§†åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Thu, 17 Jan 2019 14:29:00 +0000</pubDate>
<dc:creator>Ken.W</dc:creator>
<og:description>ML.NET 0.9å·²äºä¸Šå‘¨å‘å¸ƒï¼Œè·ç¦»ä¸Šæ¬¡0.8ç‰ˆæœ¬çš„å‘å¸ƒåªæœ‰ä¸€ä¸ªå¤šæœˆï¼Œæ­¤æ¬¡å¢åŠ çš„æ–°ç‰¹æ€§ä¸»è¦åŒ…æ‹¬ç‰¹å¾è´¡çŒ®è®¡ç®—ï¼Œæ¨¡å‹å¯è§£é‡Šæ€§å¢å¼ºï¼ŒONNXè½¬æ¢å¯¹GPUçš„æ”¯æŒï¼ŒVisual Studio ML.NETé¡¹ç›®</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/kenwoo/p/10284906.html</dc:identifier>
</item>
</channel>
</rss>