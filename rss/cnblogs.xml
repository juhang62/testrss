<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>javaå®‰å…¨ç¼–ç æŒ‡å—ä¹‹:å£°æ˜å’Œåˆå§‹åŒ– - flydean</title>
<link>http://www.cnblogs.com/flydean/p/13620709.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/flydean/p/13620709.html</guid>
<description>&lt;p&gt;åœ¨javaå¯¹è±¡å’Œå­—æ®µçš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å“ªäº›å®‰å…¨æ€§é—®é¢˜å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹çœ‹å§ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®JLSï¼ˆJava Language Specificationï¼‰ä¸­çš„å®šä¹‰ï¼Œclassåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œéœ€è¦åŒæ—¶åˆå§‹åŒ–classä¸­å®šä¹‰çš„é™æ€åˆå§‹åŒ–ç¨‹åºå’Œåœ¨è¯¥ç±»ä¸­å£°æ˜çš„é™æ€å­—æ®µï¼ˆç±»å˜é‡ï¼‰çš„åˆå§‹åŒ–ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºstaticå˜é‡æ¥è¯´ï¼Œå¦‚æœstaticå˜é‡è¢«å®šä¹‰ä¸ºfinalå¹¶ä¸”å®ƒå€¼æ˜¯ç¼–è¯‘æ—¶å¸¸é‡å€¼ï¼Œé‚£ä¹ˆè¯¥staticå˜é‡å°†ä¼šè¢«ä¼˜å…ˆåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä½¿ç”¨äº†final staticå˜é‡ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰åˆå§‹åŒ–é—®é¢˜äº†å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class StaticFiledOrder {
    private final int result;
    private static final StaticFiledOrder instance = new StaticFiledOrder();
    private static final int intValue=100;
    public StaticFiledOrder(){
        result= intValue - 10;
    }

    public static void main(String[] args) {
        System.out.println(instance.result);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯90ã€‚ æ ¹æ®æˆ‘ä»¬æåˆ°çš„è§„åˆ™ï¼ŒintValueæ˜¯finalå¹¶ä¸”è¢«ç¼–è¯‘æ—¶å¸¸é‡èµ‹å€¼ï¼Œæ‰€ä»¥æ˜¯æœ€å…ˆè¢«åˆå§‹åŒ–çš„ï¼Œinstanceè°ƒç”¨äº†StaticFiledOrderç±»çš„æ„é€ å‡½æ•°ï¼Œæœ€ç»ˆå¯¼è‡´resultçš„å€¼æ˜¯90ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¢ä¸ªå†™æ³•ï¼Œå°†intValueæ”¹ä¸ºéšæœºå˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class StaticFiledOrder {
    private final int result;
    private static final StaticFiledOrder instance = new StaticFiledOrder();
    private static final int intValue=(int)Math.random()* 1000;
    public StaticFiledOrder(){
        result= intValue - 10;
    }

    public static void main(String[] args) {
        System.out.println(instance.result);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯-10ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å› ä¸ºinstanceåœ¨è°ƒç”¨StaticFiledOrderæ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼ŒintValueè¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥å®ƒæœ‰ä¸€ä¸ªé»˜è®¤çš„å€¼0ï¼Œä»è€Œå¯¼è‡´resultçš„æœ€ç»ˆå€¼æ˜¯-10ã€‚&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å°†é¡ºåºè°ƒæ¢ä¸€ä¸‹å°±è¡Œäº†ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class StaticFiledOrder {
    private final int result;
    private static final int intValue=(int)Math.random()* 1000;
    private static final StaticFiledOrder instance = new StaticFiledOrder();
    public StaticFiledOrder(){
        result= intValue - 10;
    }

    public static void main(String[] args) {
        System.out.println(instance.result);
    }
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;æ—¢ç„¶staticå˜é‡å¯ä»¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä¸å¯ä»¥è°ƒç”¨å…¶ä»–ç±»çš„æ–¹æ³•å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹è¿™ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class CycleClassA {
    public static final int a = CycleClassB.b+1;
}
public class CycleClassB {
    public static final int b = CycleClassA.a+1;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢å°±æ˜¯ä¸€ä¸ªå¾ªç¯åˆå§‹åŒ–çš„ä¾‹å­ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­CycleClassAä¸­çš„aå¼•ç”¨äº†CycleClassBçš„bï¼Œè€ŒåŒæ ·çš„CycleClassBä¸­çš„bå¼•ç”¨äº†CycleClassAçš„aã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å¾ªç¯å¼•ç”¨è™½ç„¶ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æ ¹æ®classçš„åˆå§‹åŒ–é¡ºåºä¸åŒï¼Œä¼šå¯¼è‡´aå’Œbç”Ÿæˆä¸¤ç§ä¸åŒçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æˆ‘ä»¬ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦é¿å…è¿™ç§å¾ªç¯åˆå§‹åŒ–çš„æƒ…å†µã€‚&lt;/p&gt;

&lt;p&gt;javaæ ‡å‡†åº“ä¸­ä¸ºæˆ‘ä»¬å®šä¹‰äº†å¾ˆå¤šéå¸¸ä¼˜ç§€çš„ç±»ï¼Œæˆ‘ä»¬åœ¨æ­å»ºè‡ªå·±çš„javaç¨‹åºæ—¶å€™å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»¬åœ¨å†™è‡ªå®šä¹‰ç±»çš„æƒ…å†µä¸‹ï¼Œä¸€å®šè¦æ³¨æ„é¿å…ä½¿ç”¨å’Œjavaæ ‡å‡†åº“ä¸­ä¸€æ ·çš„åå­—ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåº”è¯¥å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä¸ºäº†é¿å…æ··æ·†ã€‚ä»¥å…é€ æˆä¸å¿…è¦çš„æ„å¤–ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå¾ˆç®€å•ï¼Œå°±ä¸ä¸¾ä¾‹å­äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨éå†é›†åˆå’Œæ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼Œé™¤äº†æœ€åŸå§‹çš„forè¯­å¥ä¹‹å¤–ï¼Œjavaè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸‹é¢çš„å¢å¼ºçš„forå¾ªç¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;for (I #i = Expression.iterator(); #i.hasNext(); ) {
    {VariableModifier} TargetType Identifier =
        (TargetType) #i.next();
    Statement
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œ#iå…¶å®ç›¸å½“äºä¸€ä¸ªæœ¬åœ°å˜é‡ï¼Œå¯¹è¿™ä¸ªæœ¬åœ°å˜é‡çš„ä¿®æ”¹æ˜¯ä¸ä¼šå½±å“åˆ°é›†åˆæœ¬èº«çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    public void noncompliantUsage(){
        int[] intArray = new int[]{1,2,3,4,5,6};
        for(int i: intArray){
            i=0;
        }
        for(int i: intArray){
            System.out.println(i);
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œå°è¯•å°†iéƒ½è®¾ç½®ä¸º0ï¼Œä½†æ˜¯æœ€åè¾“å‡ºintArrayçš„ç»“æœï¼Œå‘ç°æ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬éœ€è¦åœ¨å¢å¼ºçš„forè¯­å¥ä¸­ï¼Œå°†#iè®¾ç½®æˆä¸ºfinalï¼Œä»è€Œæ¶ˆé™¤è¿™ç§ä¸å¿…è¦çš„é€»è¾‘è¯¯ä¼šã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;    public void compliantUsage(){
        int[] intArray = new int[]{1,2,3,4,5,6};
        for(final int i: intArray){
        }
        for(int i: intArray){
            System.out.println(i);
        }
    }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ¬æ–‡çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ddean2009/learn-java-base-9-to-20/tree/master/security&quot;&gt;learn-java-base-9-to-20/tree/master/security&lt;/a&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;8.8171206225681&quot;&gt;
&lt;p&gt;æœ¬æ–‡å·²æ”¶å½•äº &lt;a href=&quot;http://www.flydean.com/java-security-code-line-dlc/&quot;&gt;http://www.flydean.com/java-security-code-line-dlc/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€é€šä¿—çš„è§£è¯»ï¼Œæœ€æ·±åˆ»çš„å¹²è´§ï¼Œæœ€ç®€æ´çš„æ•™ç¨‹ï¼Œä¼—å¤šä½ ä¸çŸ¥é“çš„å°æŠ€å·§ç­‰ä½ æ¥å‘ç°ï¼&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·:ã€Œç¨‹åºé‚£äº›äº‹ã€,æ‡‚æŠ€æœ¯ï¼Œæ›´æ‡‚ä½ ï¼&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Sun, 06 Sep 2020 00:58:00 +0000</pubDate>
<dc:creator>flydean</dc:creator>
<og:description>ç®€ä»‹ åœ¨javaå¯¹è±¡å’Œå­—æ®µçš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å“ªäº›å®‰å…¨æ€§é—®é¢˜å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹çœ‹å§ã€‚ åˆå§‹åŒ–é¡ºåº æ ¹æ®JLSï¼ˆJava Language Specificationï¼‰ä¸­çš„å®šä¹‰ï¼Œclassåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œéœ€è¦</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/flydean/p/13620709.html</dc:identifier>
</item>
<item>
<title>å›¾è§£è¿›ç¨‹çº¿ç¨‹ã€äº’æ–¥é”ä¸ä¿¡å·é‡-çœ‹å®Œä¸æ‡‚ä½ æ¥æ‰“æˆ‘ - å­—æ¯å“¥åšå®¢</title>
<link>http://www.cnblogs.com/zimug/p/13620696.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zimug/p/13620696.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085125268-309001835.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå­¦çš„æ—¶å€™ï¼Œè€å¸ˆè®²åˆ°è¿›ç¨‹ä¸çº¿ç¨‹çš„æ—¶å€™å¯èƒ½æ˜¯è¿™æ ·è®²çš„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼Œæ˜¯åº”ç”¨ç¨‹åºè¿è¡Œçš„è½½ä½“ã€‚&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œæ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´(ä¹Ÿå°±æ˜¯æ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´)ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085125540-574779434.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¸ªæ—¶å€™ä¸ºäº†è€ƒè¯•æˆ‘éƒ½èƒŒä¸‹æ¥äº†ï¼Œä½†æ˜¯å¿ƒé‡Œæƒ³è¯´ï¼šwhatï¼Ÿè¿™éƒ½æ˜¯äº›ä»€ä¹ˆä¸œè¥¿ï¼Ÿ&lt;/strong&gt; ä¸‹é¢è®©æˆ‘æ¥è¯•ç€ç”¨æ›´é€šä¿—çš„è¯­è¨€æ¥ç»™ä½ è¯´è¯´è¿›ç¨‹ã€çº¿ç¨‹ã€äº’æ–¥é”ã€ä¿¡å·é‡çš„é‚£äº›äº‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€æˆ¿å­ä¸å±…ä½è€…&quot;&gt;ä¸€ã€æˆ¿å­ä¸å±…ä½è€…&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†è‡ªå·±å¹³æ—¶ä½çš„æˆ¿å­ç±»æ¯”ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸€ä¸ªæˆ¿é—´åŠå…¶å ç”¨è€…æ¯”å–»ä¸ºä¸€ä¸ªçº¿ç¨‹ã€‚æˆ¿å­æœ¬èº«å¹¶ä¸ä¼šåšä»»ä½•çš„äº‹æƒ…ï¼Œä½†æ˜¯çº¿ç¨‹æ˜¯æˆ¿å­é‡Œé¢æ¯ä¸€ä¸ªæ´»è·ƒçš„äººï¼Œä»–ä»¬å¹³æ—¶æ´—è¡£ã€åšé¥­ã€çœ‹ç”µè§†â€¦â€¦ï¼Œå°±åƒçº¿ç¨‹æ‰§è¡Œè‡ªå·±çš„ä»£ç ä¸€æ ·åœ¨è¿è¡Œç€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085125775-812974745.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å•çº¿ç¨‹&lt;/strong&gt;&lt;br/&gt;å•çº¿ç¨‹å°±æ˜¯ä¸€ä¸ªå«åšâ€œè¿›ç¨‹â€çš„æˆ¿å­é‡Œé¢ï¼Œåªä½äº†ä½ ä¸€ä¸ªäººï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªæˆ¿å­é‡Œé¢ä»»ä½•æ—¶é—´å»åšä»»ä½•çš„äº‹æƒ…ã€‚ä½ æ˜¯çœ‹ç”µè§†ã€è¿˜æ˜¯ç©ç”µè„‘ï¼Œå…¨éƒ½æœ‰ä½ è‡ªå·±è¯´çš„ç®—ã€‚æƒ³å¹²ä»€ä¹ˆå¹²ä»€ä¹ˆï¼Œæƒ³ä»€ä¹ˆæ—¶é—´åšä»€ä¹ˆå°±ä»€ä¹ˆæ—¶é—´åšä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤šçº¿ç¨‹&lt;/strong&gt;&lt;br/&gt;ä½†æ˜¯å¦‚æœä½ å¤„åœ¨ä¸€ä¸ªâ€œå¤šäººâ€çš„æˆ¿å­é‡Œé¢ï¼Œæ¯ä¸ªæˆ¿å­é‡Œé¢éƒ½æœ‰å«åšâ€œçº¿ç¨‹â€çš„ä½æˆ·ï¼šçº¿ç¨‹1ã€çº¿ç¨‹2ã€çº¿ç¨‹3ã€çº¿ç¨‹4ï¼Œæƒ…å†µå°±ä¸å¾—ä¸å‘ç”Ÿå˜åŒ–äº†ã€‚å‡å¦‚è¿™äº›çº¿ç¨‹æ˜¯ä½ çš„è€å©†ã€å­©å­ã€çˆ¶æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;çˆ¶æ¯è€äººåˆç¡çš„æ—¶å€™ä½ ä¸èƒ½å¼€éŸ³å“&lt;/li&gt;
&lt;li&gt;è€å©†è¦çœ‹â€œç”„å¬›ä¼ â€ï¼Œä½ å°±ä¸èƒ½çœ‹çƒèµ›&lt;/li&gt;
&lt;li&gt;å­©å­æ²¡ç¡è§‰ï¼Œä½ å°±åˆ«æƒ³çœ‹ä¹¦&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¤šçº¿ç¨‹å‡ºç°è¿™äº›é—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨äºâ€å…±äº«èµ„æºâ€œï¼šæ—¶é—´ã€ç”µè§†ã€å•æ‰€ã€å¨æˆ¿â€¦â€¦ç­‰ç­‰ã€‚é‚£æˆ‘ä»¬ä¸‹é¢æ¥çœ‹çœ‹ï¼Œå¦‚ä½•å¤„ç†åè°ƒä½¿ç”¨è¿™äº›&quot;å…±äº«èµ„æº&quot;ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;äºŒã€é”äº’æ–¥é”&quot;&gt;äºŒã€é”(äº’æ–¥é”)&lt;/h2&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­æœ‰â€é”â€çš„æ¦‚å¿µï¼Œåœ¨ä½ çš„æˆ¿å­é‡Œé¢ä¹Ÿæœ‰é”ã€‚å¦‚æœä½ çš„è€å©†åœ¨ä¸Šå•æ‰€å¹¶é”ä¸Šé—¨ï¼Œå¥¹å°±æ˜¯åœ¨ç‹¬äº«è¿™ä¸ªâ€œæˆ¿å­(è¿›ç¨‹)â€é‡Œé¢çš„å…¬å…±èµ„æºâ€œå«ç”Ÿé—´â€ï¼Œå¦‚æœä½ çš„å®¶é‡Œåªæœ‰è¿™ä¸€ä¸ªå«ç”Ÿé—´ï¼Œä½ ä½œä¸ºå¦å¤–ä¸€ä¸ªçº¿ç¨‹å°±åªèƒ½å…ˆç­‰å¾…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085126116-2106562712.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹å¯¹é”çš„å ç”¨æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œå°±åƒåœ¨ä½ çš„å®¶é‡Œä¹Ÿæœ‰ä¼˜å…ˆçº§ã€‚å½“ä½ å®¶åªæœ‰ä¸€ä¸ªå«ç”Ÿé—´çš„æ—¶å€™ï¼Œå­©å­ã€è€å©†ã€ä½ åŒæ—¶è¦å»ä¸Šå•æ‰€ï¼Œé€šå¸¸æ¥è¯´ ä½ çš„ä¼˜å…ˆçº§æ˜¯1ï¼Œä½ è€å©†çš„ä¼˜å…ˆçº§æ˜¯100ï¼Œä½ å­©å­çš„ä¼˜å…ˆçº§æ˜¯255ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼šæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šä½ã€‚ä½†æ˜¯ä¸åŒçš„æƒ…å†µä¸‹ä¼šæœ‰ä¸åŒçš„ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼Œå…³é”®æ ¸å¿ƒå› å­æ˜¯ä¼˜å…ˆçº§è®¾ç½®ä¸ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœä½ ç¡®å®ç­‰å¾…äº†å¾ˆé•¿æ—¶é—´ï¼Œè€å©†å­©å­å¯èƒ½çœ‹ä½ å¿«æ†‹ä¸ä½äº†ï¼Œè®©ä½ å…ˆå»ä½¿ç”¨æ´—æ‰‹é—´ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸‰ã€ä¿¡å·é‡&quot;&gt;ä¸‰ã€ä¿¡å·é‡&lt;/h2&gt;
&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬ä»å«ç”Ÿé—´èµ°å…¥å¨æˆ¿ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼šå¨æˆ¿é‡Œé¢å¯ä»¥æœ‰ä¸€ä¸ªäººï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªäººã€‚&lt;br/&gt;é‚£æˆ‘ä»¬æ€ä¹ˆæ§åˆ¶ä½¿ç”¨â€œå¨æˆ¿â€è¿™ä¸ªå…¬å…±èµ„æºçš„äººæ•°ï¼ˆçº¿ç¨‹æ•°ï¼‰ï¼Ÿä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ä¿¡å·é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085126756-1777778742.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;â€œä¿¡å·é‡â€åœ¨ç¼–ç¨‹æœ¯è¯­ä¸­ä½¿ç”¨å•è¯semaphoreï¼Œé‚£ä»€ä¹ˆæ˜¯â€œä¿¡å·é‡â€ï¼Ÿä¿¡å·é‡å°±å¥½æ¯”ä½ å®¶å¨æˆ¿å…¥å£æ¶å­ä¸Šæ‘†äº†ä¸‰æŠŠé”…ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å¦‚æœä½ çš„å­©å­çƒ­å¥¶æ‹¿èµ°ä¸€æŠŠï¼Œä½ çš„è€å©†çƒ­æ±¤æ‹¿èµ°ä¸€æŠŠï¼Œä½ çš„å¦ˆå¦ˆåšèœæ‹¿èµ°ä¸€æŠŠï¼Œä½ æƒ³ç…®é¢æ¡å°±æ²¡æœ‰é”…äº†ã€‚å½“ä½ çœ‹åˆ°è¿™ç§æƒ…å†µï¼Œä½ å°±ä¸ä¼šè¿›å…¥å¨æˆ¿äº†ï¼Œä¹Ÿå°±è¯´å¨æˆ¿æŒ‰ç…§â€œé”…çš„æ•°é‡â€ä½œä¸ºä¿¡å·é‡ï¼Œåªèƒ½å®¹çº³ä¸‰ä¸ªäºº(çº¿ç¨‹)ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä½ çš„è€å©†çƒ­å®Œæ±¤ä¹‹åï¼ŒæŠŠé”…é‡æ–°æ”¾å›æ¶å­ä¸Šï¼Œä½ å°±å¯ä»¥å»è·å¾—ä¸€ä¸ªé”…ï¼Œä½ å°±å¯ä»¥è¿›å…¥å¨æˆ¿äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ‰€ä»¥è¯´ï¼šå½“ä¿¡å·é‡æ€»æ•°ä¸º1çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ä½ å®¶åªæœ‰ä¸€æŠŠé”…ï¼Œæ­¤æ—¶ä¿¡å·é‡ä½œç”¨å°±ç­‰åŒäºäº’æ–¥é”ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å››ã€ä¸“ä¸šç‚¹å¥½ä¹ˆ&quot;&gt;å››ã€ä¸“ä¸šç‚¹å¥½ä¹ˆ&lt;/h2&gt;
&lt;p&gt;æ¥ä¸€å¼ ä¸“ä¸šç‚¹çš„å›¾ï¼Œåˆ«è®©æ‚¨è¯¯ä¼šæˆ‘æ˜¯è®²æ•…äº‹çš„ã€‚è®²æŠ€æœ¯ï¼Œæˆ‘å¯æ˜¯è®¤çœŸçš„ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1815316/202009/1815316-20200906085127267-2860215.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&quot;&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç²¾å“åˆé›†&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;æœ¬æ–‡è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ˆå¿…é¡»å¸¦è¿æ¥ï¼Œä¸èƒ½åªè½¬æ–‡å­—ï¼‰ï¼š&lt;a href=&quot;http://www.zimug.com&quot;&gt;å­—æ¯å“¥åšå®¢&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;è§‰å¾—å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¸®æˆ‘ç‚¹èµã€åˆ†äº«ï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä¸ç«­çš„åˆ›ä½œåŠ¨åŠ›ï¼&lt;/strong&gt; ã€‚å¦å¤–ï¼Œç¬”è€…æœ€è¿‘ä¸€æ®µæ—¶é—´è¾“å‡ºäº†å¦‚ä¸‹çš„ç²¾å“å†…å®¹ï¼ŒæœŸå¾…æ‚¨çš„å…³æ³¨ã€‚&lt;/p&gt;
</description>
<pubDate>Sun, 06 Sep 2020 00:51:00 +0000</pubDate>
<dc:creator>å­—æ¯å“¥åšå®¢</dc:creator>
<og:description>åœ¨ä¸Šå­¦çš„æ—¶å€™ï¼Œè€å¸ˆè®²åˆ°è¿›ç¨‹ä¸çº¿ç¨‹çš„æ—¶å€™å¯èƒ½æ˜¯è¿™æ ·è®²çš„ï¼š è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼Œæ˜¯åº”ç”¨ç¨‹åºè¿è¡Œçš„è½½ä½“ã€‚ çº¿ç¨‹æ˜¯ç¨‹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/zimug/p/13620696.html</dc:identifier>
</item>
<item>
<title>ã€MySQLã€‘æˆ‘è¿™æ ·åˆ†æMySQLä¸­çš„äº‹åŠ¡ï¼Œé¢è¯•å®˜å¯¹æˆ‘åˆ®ç›®ç›¸çœ‹ï¼ï¼ - å†°æ²³å›¢é˜Ÿ</title>
<link>http://www.cnblogs.com/binghe001/p/13620501.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/binghe001/p/13620501.html</guid>
<description>&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;ç›¸ä¿¡å¤§éƒ¨åˆ†å°ä¼™ä¼´åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œåªä¼šé’ˆå¯¹é¢è¯•å®˜æå‡ºçš„è¡¨é¢é—®é¢˜æ¥è¿›è¡Œå›ç­”ã€‚å…¶å®ä¸ç„¶ï¼Œé¢è¯•å®˜é—®çš„æ¯ä¸€ä¸ªé—®é¢˜éƒ½æ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„ï¼Œé¢è¯•çš„æ—¶é—´ç›¸å¯¹æ¥è¯´ä¹Ÿæ˜¯çŸ­æš‚çš„ï¼Œé¢è¯•å®˜ä¸å¯èƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°±å¯¹ä½ éå¸¸äº†è§£ï¼Œä»–æƒ³é€šè¿‡å‡ ä¸ªé—®é¢˜æ¥è€ƒå¯Ÿä½ æ‰€æŒæ¡çš„çŸ¥è¯†çš„æ·±åº¦å’Œå¹¿åº¦ï¼Œå¦‚æœä½ åªæ˜¯å›ç­”é¢è¯•å®˜è¡¨é¢é—®ä½ çš„é—®é¢˜ï¼Œå‘æŒ¤ç‰™è†ä¸€æ ·ï¼Œé—®ä¸€ç‚¹ï¼Œç­”ä¸€ç‚¹ï¼Œç»“æœä¸ç”¨è¯´ï¼Œè‚¯å®šæ˜¯å‡‰å‡‰äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;é¢è¯•é—®é¢˜&quot;&gt;é¢è¯•é—®é¢˜&lt;/h2&gt;
&lt;p&gt;è¯´è¯´ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿå¹¶å‘äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;åˆ†æé—®é¢˜&quot;&gt;åˆ†æé—®é¢˜&lt;/h2&gt;
&lt;p&gt;è¡¨é¢ä¸Šçœ‹ï¼Œé¢è¯•å®˜æ˜¯é—®äº†ä¸¤ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªæ˜¯ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Œä¹Ÿå°±æ˜¯è®©ä½ è¯´è¯´äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µï¼›å¦ä¸€ä¸ªæ˜¯ï¼šå¹¶å‘äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å®åˆ™ä¸ç„¶ï¼Œå¬åˆ°é¢è¯•å®˜è¿™æ ·é—®ï¼Œä½ ä¸è¦éšæ„å›ç­”ã€‚è¦ç”¨æçŸ­çš„æ—¶é—´æ€è€ƒä¸€ä¸‹ï¼Œé¢è¯•å®˜ç©¶ç«Ÿæƒ³è¦å¾—åˆ°ä»€ä¹ˆç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¯´è¯´ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿå°±åªæ˜¯è®©ä½ ç®€å•çš„è¯´è¯´äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µå—ï¼ŸåŸºæœ¬æ¦‚å¿µç›¸ä¿¡æ˜¯ä¸ªå­¦è¿‡æ•°æ®åº“çš„å°å­¦ç”Ÿéƒ½ä¼šï¼Œé¢è¯•å®˜ä¸ºä»€ä¹ˆä¼šé—®ä½ è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæ­¤æ—¶ï¼Œä½ éœ€è¦æ£æµ‹é¢è¯•å®˜çš„å¿ƒç†ã€‚æ­¤æ—¶çš„é¢è¯•å®˜å…¶å®æƒ³é—®ä½ çš„ä¸ä¹…æ˜¯äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µï¼Œè€Œä¸”ä»–ä¹Ÿæƒ³è®©ä½ è¯´å‡ºäº‹åŠ¡çš„ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯å››å¤§å±æ€§ã€‚è¿™æ‰æ˜¯è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ‰€åœ¨ï¼&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼šå¹¶å‘äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›é—®é¢˜å‘¢ï¼Ÿå°±åªæ˜¯æƒ³é—®ä¸€ä¸‹ä¼šå¸¦æ¥å“ªäº›é—®é¢˜å—ï¼ŸçŸ¥é“é—®é¢˜ï¼Œä¸çŸ¥é“å¦‚ä½•è§£å†³é—®é¢˜ï¼Œè¿™æ ·çš„é¢è¯•è€…é¢è¯•å®˜èƒ½è¦å—ï¼Ÿç©¶å…¶æœ¬è´¨ï¼Œé¢è¯•å®˜æ˜¯æƒ³é—®ä½ å¹¶å‘äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›é—®é¢˜ï¼Œæœ‰å“ªäº›è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿè§£å†³è¿™äº›é—®é¢˜ï¼è¿™æ‰æ˜¯é¢è¯•å®˜æƒ³è¦çš„ç­”æ¡ˆï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»¼ä¸Šï¼Œé¢è¯•å®˜æœ¬è´¨ä¸Šé—®çš„é—®é¢˜æ˜¯ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿäº‹åŠ¡çš„å››å¤§ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿå¹¶å‘äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›é—®é¢˜ï¼Ÿæœ‰å“ªäº›è§£å†³æ–¹æ¡ˆï¼Ÿä½ åªæœ‰æ·±åˆ»ç†è§£äº†é¢è¯•å®˜æé—®çš„æœ¬è´¨ï¼Œæ‰èƒ½æ›´å¥½çš„å›ç­”é¢è¯•å®˜æ‰€æå‡ºçš„é—®é¢˜ã€‚ä¸ç„¶ï¼Œä½ åº”ä»˜é¢è¯•å®˜ï¼Œé¢è¯•å®˜ä¹Ÿä¼šåº”ä»˜ä½ ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ&quot;&gt;ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;äº‹åŠ¡çš„æ¦‚å¿µç†è§£èµ·æ¥è¿˜æ¯”è¾ƒç®€å•çš„ï¼šäº‹åŠ¡æ˜¯æŒ‡ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œè¦ä¹ˆå®Œå…¨åœ°æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨åœ°ä¸æ‰§è¡Œã€‚ äº‹åŠ¡å¤„ç†å¯ä»¥ç¡®ä¿é™¤éäº‹åŠ¡æ€§å•å…ƒå†…çš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸå®Œæˆï¼Œå¦åˆ™ä¸ä¼šæ°¸ä¹…æ›´æ–°é¢å‘æ•°æ®çš„èµ„æºã€‚é€šè¿‡å°†ä¸€ç»„ç›¸å…³æ“ä½œç»„åˆä¸ºä¸€ä¸ªè¦ä¹ˆå…¨éƒ¨æˆåŠŸè¦ä¹ˆå…¨éƒ¨å¤±è´¥çš„å•å…ƒï¼Œå¯ä»¥ç®€åŒ–é”™è¯¯æ¢å¤å¹¶ä½¿åº”ç”¨ç¨‹åºæ›´åŠ å¯é ã€‚ä¸€ä¸ªé€»è¾‘å·¥ä½œå•å…ƒè¦æˆä¸ºäº‹åŠ¡ï¼Œå¿…é¡»æ»¡è¶³æ‰€è°“çš„ACIDï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰å±æ€§ã€‚äº‹åŠ¡æ˜¯æ•°æ®åº“è¿è¡Œä¸­çš„é€»è¾‘å·¥ä½œå•ä½ï¼Œç”±DBMSä¸­çš„äº‹åŠ¡ç®¡ç†å­ç³»ç»Ÿè´Ÿè´£äº‹åŠ¡çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;äº‹åŠ¡çš„å››å¤§ç‰¹æ€§&quot;&gt;äº‹åŠ¡çš„å››å¤§ç‰¹æ€§&lt;/h2&gt;
&lt;h3 id=&quot;åŸå­æ€§ï¼ˆatomicity&quot;&gt;åŸå­æ€§ï¼ˆAtomicity)&lt;/h3&gt;
&lt;p&gt;äº‹åŠ¡å¿…é¡»æ˜¯åŸå­å·¥ä½œå•å…ƒï¼›å¯¹äºå…¶æ•°æ®ä¿®æ”¹ï¼Œè¦ä¹ˆå…¨éƒ½æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚æ¯”å¦‚è½¬è´¦ï¼Œè¦ä¹ˆè½¬è´¦æˆåŠŸï¼Œè´¦æˆ·ä½™é¢å¢åŠ ï¼ˆå‡å°‘ï¼‰ï¼›è¦ä¹ˆè½¬è´¦å¤±è´¥ï¼Œè´¦æˆ·ä½™é¢ä¸å˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸€è‡´æ€§consistency&quot;&gt;ä¸€è‡´æ€§(Consistency)&lt;/h3&gt;
&lt;p&gt;äº‹åŠ¡åœ¨å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€ã€‚åœ¨ç›¸å…³æ•°æ®åº“ä¸­ï¼Œæ‰€æœ‰è§„åˆ™éƒ½å¿…é¡»åº”ç”¨äºäº‹åŠ¡çš„ä¿®æ”¹ï¼Œä»¥ä¿æŒæ‰€æœ‰æ•°æ®çš„å®Œæ•´æ€§ã€‚äº‹åŠ¡ç»“æŸæ—¶ï¼Œæ‰€æœ‰çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚ B æ ‘ç´¢å¼•æˆ–åŒå‘é“¾è¡¨ï¼‰éƒ½å¿…é¡»æ˜¯æ­£ç¡®çš„ã€‚æŸäº›ç»´æŠ¤ä¸€è‡´æ€§çš„è´£ä»»ç”±åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜æ‰¿æ‹…ï¼Œä»–ä»¬å¿…é¡»ç¡®ä¿åº”ç”¨ç¨‹åºå·²å¼ºåˆ¶æ‰€æœ‰å·²çŸ¥çš„å®Œæ•´æ€§çº¦æŸã€‚ä¾‹å¦‚ï¼Œå½“å¼€å‘ç”¨äºè½¬å¸çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œåº”é¿å…åœ¨è½¬å¸è¿‡ç¨‹ä¸­ä»»æ„ç§»åŠ¨å°æ•°ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;éš”ç¦»æ€§isolation&quot;&gt;éš”ç¦»æ€§(Isolation)&lt;/h3&gt;
&lt;p&gt;ç”±å¹¶å‘äº‹åŠ¡æ‰€ä½œçš„ä¿®æ”¹å¿…é¡»ä¸ä»»ä½•å…¶å®ƒå¹¶å‘äº‹åŠ¡æ‰€ä½œçš„ä¿®æ”¹éš”ç¦»ã€‚äº‹åŠ¡æŸ¥çœ‹æ•°æ®æ—¶æ•°æ®æ‰€å¤„çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€å¹¶å‘äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹å‰çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹åçš„çŠ¶æ€ï¼Œäº‹åŠ¡ä¸ä¼šæŸ¥çœ‹ä¸­é—´çŠ¶æ€çš„æ•°æ®ã€‚è¿™ç§°ä¸ºéš”ç¦»æ€§ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿé‡æ–°è£…è½½èµ·å§‹æ•°æ®ï¼Œå¹¶ä¸”é‡æ’­ä¸€ç³»åˆ—äº‹åŠ¡ï¼Œä»¥ä½¿æ•°æ®ç»“æŸæ—¶çš„çŠ¶æ€ä¸åŸå§‹äº‹åŠ¡æ‰§è¡Œçš„çŠ¶æ€ç›¸åŒã€‚å½“äº‹åŠ¡å¯åºåˆ—åŒ–æ—¶å°†è·å¾—æœ€é«˜çš„éš”ç¦»çº§åˆ«ã€‚åœ¨æ­¤çº§åˆ«ä¸Šï¼Œä»ä¸€ç»„å¯å¹¶è¡Œæ‰§è¡Œçš„äº‹åŠ¡è·å¾—çš„ç»“æœä¸é€šè¿‡è¿ç»­è¿è¡Œæ¯ä¸ªäº‹åŠ¡æ‰€è·å¾—çš„ç»“æœç›¸åŒã€‚ç”±äºé«˜åº¦éš”ç¦»ä¼šé™åˆ¶å¯å¹¶è¡Œæ‰§è¡Œçš„äº‹åŠ¡æ•°ï¼Œæ‰€ä»¥ä¸€äº›åº”ç”¨ç¨‹åºé™ä½éš”ç¦»çº§åˆ«ä»¥æ¢å–æ›´å¤§çš„ååé‡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŒä¹…æ€§durability&quot;&gt;æŒä¹…æ€§(Durability)&lt;/h3&gt;
&lt;p&gt;äº‹åŠ¡å®Œæˆä¹‹åï¼Œå®ƒå¯¹äºç³»ç»Ÿçš„å½±å“æ˜¯æ°¸ä¹…æ€§çš„ã€‚è¯¥ä¿®æ”¹å³ä½¿å‡ºç°è‡´å‘½çš„ç³»ç»Ÿæ•…éšœä¹Ÿå°†ä¸€ç›´ä¿æŒã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“æ—¶ï¼Œåœ¨æäº¤äº‹åŠ¡æ–¹æ³•åï¼Œæç¤ºç”¨æˆ·äº‹åŠ¡æ“ä½œå®Œæˆï¼Œå½“æˆ‘ä»¬ç¨‹åºæ‰§è¡Œå®Œæˆç›´åˆ°çœ‹åˆ°æç¤ºåï¼Œå°±å¯ä»¥è®¤å®šäº‹åŠ¡ä»¥åŠæ­£ç¡®æäº¤ï¼Œå³ä½¿è¿™æ—¶å€™æ•°æ®åº“å‡ºç°äº†é—®é¢˜ï¼Œä¹Ÿå¿…é¡»è¦å°†æˆ‘ä»¬çš„äº‹åŠ¡å®Œå…¨æ‰§è¡Œå®Œæˆï¼Œå¦åˆ™å°±ä¼šé€ æˆæˆ‘ä»¬çœ‹åˆ°æç¤ºäº‹åŠ¡å¤„ç†å®Œæ¯•ï¼Œä½†æ˜¯æ•°æ®åº“å› ä¸ºæ•…éšœè€Œæ²¡æœ‰æ‰§è¡Œäº‹åŠ¡çš„é‡å¤§é”™è¯¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¹¶å‘äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜&quot;&gt;å¹¶å‘äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&quot;è„å†™é—®é¢˜&quot;&gt;è„å†™é—®é¢˜&lt;/h3&gt;
&lt;p&gt;å½“ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡é€‰æ‹©åŒä¸€è¡Œï¼Œç„¶ååŸºäºæœ€åˆé€‰å®šçš„å€¼æ›´æ–°è¯¥è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä¸¢å¤±æ›´æ–°é—®é¢˜ã€‚æ¯ä¸ªäº‹åŠ¡éƒ½ä¸çŸ¥é“å…¶å®ƒäº‹åŠ¡çš„å­˜åœ¨ã€‚æœ€åçš„æ›´æ–°å°†é‡å†™ç”±å…¶å®ƒäº‹åŠ¡æ‰€åšçš„æ›´æ–°ï¼Œè¿™å°†å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒT1å’ŒT2åŒæ—¶ä¿®æ”¹ä¸€æ¡æ•°æ®ï¼ŒT2çš„ä¿®æ”¹è¦†ç›–äº†T1çš„ä¿®æ”¹ï¼›å¦‚æœåœ¨T1ä¹‹åT2æ‰èƒ½è¿›è¡Œæ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…è¯¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç»å…¸çš„è½¬è´¦é—®é¢˜ï¼Œå¼€å§‹å°æ˜å’Œå°åˆšéƒ½æœ‰1000å…ƒé’±ï¼Œåœ¨äº‹åŠ¡T1ä¸­ï¼Œå°æ˜ä¸ºå°åˆšè½¬è´¦100å…ƒï¼Œåœ¨äº‹åŠ¡T2ä¸­ï¼Œå°åˆšä¸ºå°æ˜è½¬è´¦200å…ƒã€‚åˆ™æ­£å¸¸æƒ…å†µä¸‹ï¼Œç»“æœä¸ºï¼šå°æ˜æœ‰1100å…ƒï¼Œå°åˆšä¸º900å…ƒã€‚å¦‚æœå‘ç”Ÿäº†è„å†™çš„é—®é¢˜ï¼Œåˆ™ç»“æœå¯èƒ½ä¸ºï¼šå°æ˜1200å…ƒï¼Œå°åˆš800å…ƒã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013454699.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;è„è¯»é—®é¢˜&quot;&gt;è„è¯»é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨å¯¹ä¸€æ¡è®°å½•åšä¿®æ”¹ï¼Œåœ¨è¿™ä¸ªäº‹åŠ¡å®Œæˆå¹¶æäº¤å‰ï¼Œè¿™æ¡è®°å½•çš„æ•°æ®å°±å¤„äºä¸ä¸€è‡´çŠ¶æ€ï¼›è¿™æ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿæ¥è¯»å–åŒä¸€æ¡è®°å½•ï¼Œå¦‚æœä¸åŠ æ§åˆ¶ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡è¯»å–äº†è¿™äº›â€œè„â€æ•°æ®ï¼Œå¹¶æ®æ­¤åšè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œå°±ä¼šäº§ç”Ÿæœªæäº¤çš„æ•°æ®ä¾èµ–å…³ç³»ã€‚è¿™ç§ç°è±¡è¢«å½¢è±¡åœ°å«åšâ€è„è¯»â€ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šåœ¨äº‹åŠ¡T1ä¸­ï¼Œå°æ˜ä¸ºå°åˆšè½¬è´¦100å…ƒï¼Œåœ¨è½¬è´¦çš„è¿‡ç¨‹ä¸­ï¼Œäº‹åŠ¡æœªæäº¤æˆ–è€…æœªå›æ»šæ—¶ï¼Œæ­¤æ—¶äº‹åŠ¡T2è¯»å–åˆ°äº†äº‹åŠ¡T1æœªæäº¤çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨äº‹åŠ¡T2ä¸­è¯»å–åˆ°äº†å°æ˜900å…ƒï¼Œå°åˆš1100å…ƒçš„è®°å½•ã€‚å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013504130.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸å¯é‡å¤è¯»é—®é¢˜&quot;&gt;ä¸å¯é‡å¤è¯»é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªäº‹åŠ¡åœ¨è¯»å–æŸäº›æ•°æ®åçš„æŸä¸ªæ—¶é—´ï¼Œå†æ¬¡è¯»å–ä»¥å‰è¯»è¿‡çš„æ•°æ®ï¼Œå´å‘ç°å…¶è¯»å‡ºçš„æ•°æ®å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼è¿™ç§ç°è±¡å°±å«åšâ€œä¸å¯é‡å¤è¯»â€ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‡äº‹åŠ¡T2è¯»å–æ•°æ®åï¼Œäº‹åŠ¡T1æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œä½¿T2æ— æ³•è¯»å–å‰ä¸€æ¬¡ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨äº‹åŠ¡T1ä¸­æ‰§è¡Œå°æ˜ä¸ºå°åˆšè½¬è´¦100å…ƒçš„æ“ä½œï¼Œåœ¨äº‹åŠ¡æœªæäº¤ä¹‹å‰ï¼Œåœ¨äº‹åŠ¡T2ä¸­è¯»å–çš„æ•°æ®è¿˜æ˜¯å°æ˜ä¸º1000å…ƒï¼Œå°åˆšä¸º1000å…ƒã€‚å¾…äº‹åŠ¡T1æäº¤åï¼Œäº‹åŠ¡T2ä¸­è¯»å–çš„æ•°æ®ä¸ºå°æ˜900å…ƒï¼Œå°åˆš1100å…ƒã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013512620.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¹»è¯»é—®é¢˜&quot;&gt;å¹»è¯»é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªäº‹åŠ¡æŒ‰ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶é‡æ–°è¯»å–ä»¥å‰æ£€ç´¢è¿‡çš„æ•°æ®ï¼Œå´å‘ç°å…¶ä»–äº‹åŠ¡æ’å…¥äº†æ»¡è¶³å…¶æŸ¥è¯¢æ¡ä»¶çš„æ–°æ•°æ®ï¼Œè¿™ç§ç°è±¡å°±ç§°ä¸ºâ€œå¹»è¯»â€ã€‚&lt;/p&gt;
&lt;p&gt;äº‹åŠ¡t2è¯»å–åˆ°äº†äº‹åŠ¡t1ä½“æäº¤çš„æ–°å¢ã€åˆ é™¤æ•°æ®ï¼Œä¸ç¬¦åˆéš”ç¦»æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¹»è¯»å’Œä¸å¯é‡å¤è¯»éƒ½æ˜¯è¯»å–äº†å¦ä¸€æ¡å·²ç»æäº¤çš„äº‹åŠ¡ï¼ˆè¿™ç‚¹å°±è„è¯»ä¸åŒï¼‰ï¼Œæ‰€ä¸åŒçš„æ˜¯ä¸å¯é‡å¤è¯»æŸ¥è¯¢çš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°æ®é¡¹ï¼Œè€Œå¹»è¯»é’ˆå¯¹çš„æ˜¯ä¸€æ‰¹æ•°æ®æ•´ä½“ï¼ˆæ¯”å¦‚æ•°æ®çš„ä¸ªæ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨äº‹åŠ¡T1ä¸­æ’å…¥ä¸¤æ¡åˆ†åˆ«ä¸ºå°æ˜å’Œå°åˆšçš„æ•°æ®ï¼Œåœ¨äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œäº‹åŠ¡T2ä¸­è¯»å–çš„æ•°æ®è®°å½•ä¸º10ï¼Œéšåäº‹åŠ¡T1æäº¤ï¼Œåˆ™åœ¨äº‹åŠ¡T2ä¸­è¯»å–çš„è®°å½•ä¸º12ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013530509.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¹¶å‘äº‹åŠ¡é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ&quot;&gt;å¹¶å‘äº‹åŠ¡é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†é¿å…ä¸Šé¢å‡ºç°çš„å‡ ç§æƒ…å†µï¼Œåœ¨æ ‡å‡†SQLè§„èŒƒä¸­ï¼Œå®šä¹‰äº†4ä¸ªäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¸åŒçš„éš”ç¦»çº§åˆ«å¯¹äº‹åŠ¡çš„å¤„ç†ä¸åŒã€‚ä»¥ä¸‹å››ç§ä¸åŒçš„éš”ç¦»çº§åˆ«é™åˆ¶ç”±ä½åˆ°é«˜ï¼Œæ€§èƒ½ä»é«˜åˆ°åº•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¯»æœªæäº¤&quot;&gt;è¯»æœªæäº¤&lt;/h3&gt;
&lt;p&gt;è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰ï¼šå…è®¸è„è¯»å–ï¼Œä½†ä¸å…è®¸æ›´æ–°ä¸¢å¤±ã€‚å¦‚æœä¸€ä¸ªäº‹åŠ¡å·²ç»å¼€å§‹å†™æ•°æ®ï¼Œåˆ™å¦å¤–ä¸€ä¸ªäº‹åŠ¡åˆ™ä¸å…è®¸åŒæ—¶è¿›è¡Œå†™æ“ä½œï¼Œä½†å…è®¸å…¶ä»–äº‹åŠ¡è¯»æ­¤è¡Œæ•°æ®ã€‚è¯¥éš”ç¦»çº§åˆ«å¯ä»¥é€šè¿‡â€œæ’ä»–å†™é”â€å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å¯é¿å… è„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šè¯»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¯»å·²æäº¤&quot;&gt;è¯»å·²æäº¤&lt;/h3&gt;
&lt;p&gt;è¯»å·²æäº¤ï¼ˆRead Committedï¼‰ï¼šå…è®¸ä¸å¯é‡å¤è¯»å–ï¼Œä½†ä¸å…è®¸è„è¯»å–ã€‚è¿™å¯ä»¥é€šè¿‡â€œç¬é—´å…±äº«è¯»é”â€å’Œâ€œæ’ä»–å†™é”â€å®ç°ã€‚è¯»å–æ•°æ®çš„äº‹åŠ¡å…è®¸å…¶ä»–äº‹åŠ¡ç»§ç»­è®¿é—®è¯¥è¡Œæ•°æ®ï¼Œä½†æ˜¯æœªæäº¤çš„å†™äº‹åŠ¡å°†ä¼šç¦æ­¢å…¶ä»–äº‹åŠ¡è®¿é—®è¯¥è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å¯é¿å… è„è¯»ï¼Œä¸å¯é¿å… ä¸å¯é‡å¤è¯»ã€è™šè¯»ã€‚Oracleé‡‡ç”¨è¯»å·²æäº¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¯é‡å¤åº¦&quot;&gt;å¯é‡å¤åº¦&lt;/h3&gt;
&lt;p&gt;å¯é‡å¤è¯»å–ï¼ˆRepeatable Readï¼‰ï¼šç¦æ­¢ä¸å¯é‡å¤è¯»å–å’Œè„è¯»å–ï¼Œä½†æ˜¯æœ‰æ—¶å¯èƒ½å‡ºç°å¹»è¯»æ•°æ®ã€‚è¿™å¯ä»¥é€šè¿‡â€œå…±äº«è¯»é”â€å’Œâ€œæ’ä»–å†™é”â€å®ç°ã€‚è¯»å–æ•°æ®çš„äº‹åŠ¡å°†ä¼šç¦æ­¢å†™äº‹åŠ¡ï¼ˆä½†å…è®¸è¯»äº‹åŠ¡ï¼‰ï¼Œå†™äº‹åŠ¡åˆ™ç¦æ­¢ä»»ä½•å…¶ä»–äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯é¿å… è„è¯»ã€ä¸å¯é‡å¤è¯»ï¼Œ ä¸å¯é¿å… è™šè¯»ã€‚MySQLé‡‡ç”¨å¯é‡å¤è¯»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åºåˆ—åŒ–&quot;&gt;åºåˆ—åŒ–&lt;/h3&gt;
&lt;p&gt;åºåˆ—åŒ–ï¼ˆSerializableï¼‰ï¼šæä¾›ä¸¥æ ¼çš„äº‹åŠ¡éš”ç¦»ã€‚å®ƒè¦æ±‚äº‹åŠ¡åºåˆ—åŒ–æ‰§è¡Œï¼Œäº‹åŠ¡åªèƒ½ä¸€ä¸ªæ¥ç€ä¸€ä¸ªåœ°æ‰§è¡Œï¼Œä¸èƒ½å¹¶å‘æ‰§è¡Œã€‚ä»…ä»…é€šè¿‡â€œè¡Œçº§é”â€æ˜¯æ— æ³•å®ç°äº‹åŠ¡åºåˆ—åŒ–çš„ï¼Œå¿…é¡»é€šè¿‡å…¶ä»–æœºåˆ¶ä¿è¯æ–°æ’å…¥çš„æ•°æ®ä¸ä¼šè¢«åˆšæ‰§è¡ŒæŸ¥è¯¢æ“ä½œçš„äº‹åŠ¡è®¿é—®åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;å¯é¿å… è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»æƒ…å†µçš„å‘ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;äº‹åŠ¡çš„å››ç§éš”ç¦»çº§åˆ«æ€»ç»“èµ·æ¥å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013541923.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸çœ‹å½“å‰æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«: show variables like 'tx_isolation';&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼šset tx_isolation='REPEATABLE-READ';&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œç”¨Springå¼€å‘ç¨‹åºæ—¶ï¼Œå¦‚æœä¸è®¾ç½®éš”ç¦»çº§åˆ«é»˜è®¤ç”¨Mysqlè®¾ç½®çš„éš”ç¦»çº§åˆ«ï¼Œå¦‚æœSpringè®¾ç½®äº†å°±ç”¨å·²ç»è®¾ç½®çš„éš”ç¦»çº§åˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;é‡ç£…ç¦åˆ©&quot;&gt;é‡ç£…ç¦åˆ©&lt;/h2&gt;
&lt;p&gt;å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·ï¼Œåå°å›å¤ â€œ&lt;strong&gt;è®¾è®¡æ¨¡å¼&lt;/strong&gt;â€ å…³é”®å­—é¢†å–ã€Š&lt;strong&gt;æ·±å…¥æµ…å‡ºJava 23ç§è®¾è®¡æ¨¡å¼&lt;/strong&gt;ã€‹PDFæ–‡æ¡£ã€‚å›å¤â€œ&lt;strong&gt;Java8&lt;/strong&gt;â€å…³é”®å­—é¢†å–ã€Š&lt;strong&gt;Java8æ–°ç‰¹æ€§æ•™ç¨‹&lt;/strong&gt;ã€‹PDFæ–‡æ¡£ã€‚å›å¤â€œ&lt;strong&gt;é™æµ&lt;/strong&gt;â€å…³é”®å­—è·å–ã€Š&lt;strong&gt;äº¿çº§æµé‡ä¸‹çš„åˆ†å¸ƒå¼é™æµè§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ã€‹PDFæ–‡æ¡£ï¼Œä¸‰æœ¬PDFå‡æ˜¯ç”±å†°æ²³åŸåˆ›å¹¶æ•´ç†çš„è¶…ç¡¬æ ¸æ•™ç¨‹ï¼Œé¢è¯•å¿…å¤‡ï¼ï¼&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¥½äº†ï¼Œä»Šå¤©å°±èŠåˆ°è¿™å„¿å§ï¼åˆ«å¿˜äº†ç‚¹ä¸ªèµï¼Œç»™ä¸ªåœ¨çœ‹å’Œè½¬å‘ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ï¼ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;å†™åœ¨æœ€å&quot;&gt;å†™åœ¨æœ€å&lt;/h2&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;å¦‚æœä½ è§‰å¾—å†°æ²³å†™çš„è¿˜ä¸é”™ï¼Œè¯·å¾®ä¿¡æœç´¢å¹¶å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·ï¼Œè·Ÿå†°æ²³å­¦ä¹ é«˜å¹¶å‘ã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ã€å¤§æ•°æ®ã€äº’è”ç½‘å’Œäº‘åŸç”ŸæŠ€æœ¯ï¼Œã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·æ›´æ–°äº†å¤§é‡æŠ€æœ¯ä¸“é¢˜ï¼Œæ¯ä¸€ç¯‡æŠ€æœ¯æ–‡ç« å¹²è´§æ»¡æ»¡ï¼ä¸å°‘è¯»è€…å·²ç»é€šè¿‡é˜…è¯»ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·æ–‡ç« ï¼ŒåŠæ‰“é¢è¯•å®˜ï¼ŒæˆåŠŸè·³æ§½åˆ°å¤§å‚ï¼›ä¹Ÿæœ‰ä¸å°‘è¯»è€…å®ç°äº†æŠ€æœ¯ä¸Šçš„é£è·ƒï¼Œæˆä¸ºå…¬å¸çš„æŠ€æœ¯éª¨å¹²ï¼å¦‚æœä½ ä¹Ÿæƒ³åƒä»–ä»¬ä¸€æ ·æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œå®ç°æŠ€æœ¯èƒ½åŠ›çš„é£è·ƒï¼Œè¿›å¤§å‚ï¼Œå‡èŒåŠ è–ªï¼Œé‚£å°±å…³æ³¨ã€Œ &lt;strong&gt;å†°æ²³æŠ€æœ¯&lt;/strong&gt; ã€å¾®ä¿¡å…¬ä¼—å·å§ï¼Œæ¯å¤©æ›´æ–°è¶…ç¡¬æ ¸æŠ€æœ¯å¹²è´§ï¼Œè®©ä½ å¯¹å¦‚ä½•æå‡æŠ€æœ¯èƒ½åŠ›ä¸å†è¿·èŒ«ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200906013715889.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 17:46:00 +0000</pubDate>
<dc:creator>å†°æ²³å›¢é˜Ÿ</dc:creator>
<og:description>å†™åœ¨å‰é¢ ç›¸ä¿¡å¤§éƒ¨åˆ†å°ä¼™ä¼´åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œåªä¼šé’ˆå¯¹é¢è¯•å®˜æå‡ºçš„è¡¨é¢é—®é¢˜æ¥è¿›è¡Œå›ç­”ã€‚å…¶å®ä¸ç„¶ï¼Œé¢è¯•å®˜é—®çš„æ¯ä¸€ä¸ªé—®é¢˜éƒ½æ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„ï¼Œé¢è¯•çš„æ—¶é—´ç›¸å¯¹æ¥è¯´ä¹Ÿæ˜¯çŸ­æš‚çš„ï¼Œé¢è¯•å®˜ä¸å¯èƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°±å¯¹ä½ éå¸¸äº†è§£</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/binghe001/p/13620501.html</dc:identifier>
</item>
<item>
<title>è·¨åŸŸæ–¹å¼åŠå…¶å®ç° - ä¸€åªèœé¸Ÿæ”»åŸç‹®å•Š</title>
<link>http://www.cnblogs.com/suihang/p/13620361.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/suihang/p/13620361.html</guid>
<description>&lt;h2 id=&quot;NcUSL&quot; data-lake-id=&quot;c94f416d0109fcc25b9fe9a72e6d81ea&quot;&gt;äº§ç”ŸåŸå› &lt;/h2&gt;
&lt;p data-lake-id=&quot;d5f19972466694e594cab1ed2dd16499&quot;&gt;ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸå‘¢ï¼Œå› ä¸ºæµè§ˆå™¨ä¸ºäº†å®‰å…¨é‡‡ç”¨äº†ä¸€ç³»åˆ—çš„å®‰å…¨æœºåˆ¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯åŒæºç­–ç•¥ã€‚ä½•ä¸ºåŒæºç­–ç•¥ï¼ˆsame-origin policyï¼‰ã€‚ç®€å•æ¥è®²åŒæºç­–ç•¥å°±æ˜¯æµè§ˆå™¨ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ï¼Œç¦æ­¢ä¸åŒåŸŸä¹‹é—´çš„JSè¿›è¡Œäº¤äº’ã€‚å¯¹äºæµè§ˆå™¨è€Œè¨€åªè¦åŸŸåã€åè®®ã€ç«¯å£å…¶ä¸­ä¸€ä¸ªä¸åŒå°±ä¼šå¼•å‘åŒæºç­–ç•¥ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;2.3369565217391&quot;&gt;
&lt;p data-lake-id=&quot;0057f06e596e1ff23dda3570a991fa19&quot;&gt;å…³äºæµè§ˆå™¨å®‰å…¨å’ŒåŒæºç­–ç•¥è¯¦è§£ &lt;a href=&quot;https://www.yuque.com/suihangadam/liulanqi/pog4pf&quot; target=&quot;_blank&quot;&gt;https://www.yuque.com/suihangadam/liulanqi/pog4pf&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;HdANH&quot; data-lake-id=&quot;2c40444e8d80f88e86f5ff45849d5589&quot;&gt;ä¸ºä½•è¦è·¨åŸŸ&lt;/h2&gt;
&lt;p data-lake-id=&quot;36bc030a69c15f351d334bc943c38fe0&quot;&gt;å…¬å¸å†…éƒ¨å¯èƒ½æœ‰å¤šä¸ªä¸åŒçš„å­åŸŸï¼Œæ¯”å¦‚ä¸€ä¸ªæ˜¯location.company.com ,è€Œåº”ç”¨æ˜¯æ”¾åœ¨app.company.com , è¿™æ—¶æƒ³ä» app.company.comå»è®¿é—® location.company.com çš„èµ„æºå°±å±äºè·¨åŸŸã€‚&lt;/p&gt;
&lt;h2 id=&quot;pKaE8&quot; data-lake-id=&quot;d76e22b7fff75887545ff78fdc41c6b7&quot;&gt;è·¨åŸŸæ–¹å¼&lt;/h2&gt;
&lt;div id=&quot;XTHAM&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;mindmap&quot; data-card-value=&quot;data:%7B%22diagramData%22%3A%22x%C2%9C%C2%A5%C2%94%C3%8BN%5Cu0014A%5Cu0014%C2%86_%C2%85%C2%94K%C2%A7%26u%C3%AB%C2%BA%C3%8CN%60Ht!F%C2%96%C2%86E%5D%C2%99%C3%89Lw%C2%8F%C3%93%C2%8D%C2%80d%5Cu0012%5Cu0017j4F%C3%81%C2%8DKY%C2%B8111%C2%BA0F%C3%A4i%5Cf%5Cu0003%C3%ACx%5Cu0005%C2%AB%C2%81%C3%8CE%5Cu0019%5Cr%C2%9AN%3A%5D%C3%9D%C2%A7%C3%BE%C3%BF%C3%8B_%7D%C3%8E6hy%C3%AD%40c%5Cu001b%3C%C3%B0%C3%BD%C2%A2%C2%9Dg%C2%A0%5Cu0001H%5Cu001d%C3%95%5Cu0011%C2%A8%C2%81r%C2%AB%C3%A7%C3%A32mg.%C3%95%3D0%C2%A8%5Cu0001%C2%93%C2%BB-%C3%90%C2%B8%C2%B7%5Cr%C3%9Aq%5Cu000b%60Z0e%C2%B9%C2%89%C2%A5%C2%AD2%C3%AD%C3%867'_%C3%9F%5Cu000f%C3%B7%C3%B6%C2%8E%C3%9E%7C%5Cu001b%5Cu001e%C3%AC%C3%BCx%C3%B4%C3%A2w%C2%8D%5Cu001a%C2%B0%C2%ADv%C3%97%C3%B5%7Dv%26s%C2%B1-%C2%96nx%C3%93%C3%93%C2%B63%C3%BC%C3%B8%C3%B6%C3%B8%C3%95%C2%A7s%C2%99X%C3%9C%C3%95%5B%C3%B9zY%C3%91%C3%9D_%C3%97%C2%AE%C2%AF%C2%B3%C3%B8L%5C%22G%C3%99%C3%B7%C2%BE%C3%A9%C3%96%7C%C3%B5%C2%A5(%C3%BBy%C2%A7%C3%B2%C2%B8%C3%96d2%5E%5Cu0015%C3%A7%5Cu0019%C2%9E%C2%B7%C2%82%5Cu001bN%5Cu0003d%C2%A4%C2%BA%C3%A9%60%C2%A1d%C3%81A%C2%97%5Cu0010%C3%AD%C2%BD%C2%94%5C%5C84%5Cr%C2%B4Z%5Cu0003%5Cu000fof%C3%8Eo%C2%82%C2%86%5Cu001c%C3%94%26%C3%B1%C2%B2%C3%B6Z%C2%B69%C3%9Cy9%C3%9C%7D%7D%C3%B8%C3%BD%C3%9D%C3%B1%C3%AE%C3%93%C3%BF%5Cu0002%C2%BDA%C2%A4h%C3%A2%5Cu0011%C2%A8R%5Cbs%C2%84%5CrT%5Cu000eI%C3%88%5Cu0014%25P%5B%C2%A4%C2%A1e%5Cba%C3%A1%C2%99%5Cu000fb6%C2%A8%C2%98%5Cu0006%C2%8D9%C3%8E%5Cu0015%C2%B9%C3%AD%C3%B8%C2%B2%C2%B82%C2%96%C3%84%5C%5C%C3%8D%2F%C2%8D%C2%B0%5Cu0010%5Cn%5Cu0006y%C2%A5%C2%A0v%C3%92A%C3%86%C2%8D%C2%87%5Cu0006%5Cu0007%5Cu0005%C2%95w%C2%9C%5Cu0005%C2%A3%C2%8C%C2%94~%26%5Cu0016%C2%9F%C3%86ZX%C2%BE%C2%BBrz%C3%B0%C3%AC%3C%C2%AF%C2%93%2F%C2%8F%C2%8F%C3%B6w%C2%87O%3E%5Cu001f%C3%AE%7F8%3Dx~e%C3%8E%C3%85%C2%A5y%C2%99%2C%C2%8E8%C2%A5!%C2%94pb!%5Cu000e%5Cu0002C%C2%96(%5Cr%5Cr%C2%AD%C3%92T%C2%8E%5Cu0012%5Cu001d%C2%94%C2%936%C2%99%C3%89%C2%99Lsvs%C2%AB%C3%8B%C3%98%5Cu0005%C3%B5%C2%96.Zs%C3%97%C3%A7%C3%9A%C2%A1%C2%AFS%7FeB!%5Cu0016%C2%A8%C3%A4%C3%A3%3FQ%C3%A9%C2%A0yB!%5Cu0011%2C%26)M%5Cu0002%C2%8D%C3%83%5Cu001cz%C2%8F%C2%83%C2%B4(1L%C3%92%C2%99%C2%84%C3%AC%C2%97%5Cu0003%C2%8E%C2%9D%C2%94o%C3%94%7ByQ%C2%A6%C2%BE(%C3%B4%C2%9A%C3%BFw%C3%8C%C3%85%C2%A6%C3%84%5Cu000bcL%C3%8C4%C2%A7J%5Cb%C2%88%C2%85V%C2%90%5Cu0019E%C2%A0%C3%A2%C2%8EBO%C2%89%C2%A1%C2%91%C3%93%C2%A1%40fb%C3%92%5Cn%C3%B3%C3%BC%3C(%C2%92%5Cu0006%5Cu001b5%5Cu001e%5Cu000b%C2%B7V%C2%96o%C3%9F%C2%B9%C2%98%5Cu0007%7Fi%C2%88%C3%8B%C3%85%C3%89H%5Cu001cq%C2%A6H%C2%A0v%2C%C3%AEr%C2%BB%C2%9E%C3%BA%C2%AC%C2%AC%C2%BB%3C%C3%95%C3%ADl%C2%A6%C3%87x%3A%5C%5C%C3%AE%C2%81G%5Cu001e%C3%812%C2%9B%5Cu00106%C3%A1q%5Cu0011z%5Cu0016C%C2%9EL%C3%BBr%C2%A3%C3%98D%C2%B8%C3%B9%5Cu0007%234%C2%98X%C2%A8%C3%81%C3%AA%C3%A0''R%C3%95N%22%2C%22margin%22%3Atrue%2C%22id%22%3A%22XTHAM%22%2C%22viewportSetting%22%3A%7B%22zoom%22%3A1%2C%22scrollLeft%22%3A420.5%2C%22scrollTop%22%3A314%2C%22viewBox%22%3A%5B-744%2C-470.5%2C1540%2C956%5D%7D%2C%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fpng%2F305942%2F1599321325211-bcc63a75-5ba6-4cfe-a919-946cc5633bef.png%22%2C%22search%22%3A%22%E8%B7%A8%E5%9F%9F%E6%96%B9%E5%BC%8F%E2%80%8B%20JSONP%E2%80%8B%20document.domain%20window.name%20%2B%20iframe%20%E2%80%8Bwindow.postmessage%20%2B%20iframe%20%E2%80%8Blocation.hash%20%2B%20iframe%20%E2%80%8BCORS%EF%BC%88%E8%B7%A8%E5%9F%9F%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB%EF%BC%89%20%E2%80%8Bweb%20sockets%20%E2%80%8Bnignx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F%20%E2%80%8Bwebpack%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F%22%7D&quot;&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/png/305942/1599321325211-bcc63a75-5ba6-4cfe-a919-946cc5633bef.png&quot; width=&quot;518&quot; height=&quot;269&quot;/&gt;&lt;/div&gt;
&lt;h3 id=&quot;EToLH&quot; data-lake-id=&quot;89e3e807decee910815d8195aee62500&quot;&gt;JSONP&lt;/h3&gt;
&lt;p data-lake-id=&quot;df6c8059bc7a3d08450186cdda9e7e30&quot;&gt;jsonpæ˜¯ä¸€ç§éæ­£å¼çš„ä¼ è¾“åè®®&lt;/p&gt;
&lt;p data-lake-id=&quot;90062ae89a62153604a330eac5bb9f20&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;Â åˆ©ç”¨äº†srcä¸å—åŒæºç­–ç•¥çš„å½±å“ ï¼Œå¯ä»¥è®¿é—®å…¶ä»–é¡µé¢çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;d13e87ea59d771ebf9471aa1bacd4ba3&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸&lt;/strong&gt;ï¼šjsonpå¹¶ä¸èƒ½è§£å†³æ‰€æœ‰çš„è·¨åŸŸé—®é¢˜ï¼Œå› ä¸ºä½¿ç”¨jsonpè·¨åŸŸéœ€è¦è¢«æä¾›jsonpæ¥å£&lt;/p&gt;
&lt;div id=&quot;87gNw&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%2F%2F%201.%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%5Cnfunction%20callBack%20(data)%20%7B%5Cn%5Ctconsole.log(data)%3B%5Cn%7D%5Cn%2F%2F%202.%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAscript%E6%A0%87%E7%AD%BE%5Cnvar%20currentScript%20%3D%20document.createElement(%5C%22script%5C%22)%3B%5Cn%2F%2F%203.%E7%BB%99%E6%A0%87%E7%AD%BE%E7%9A%84src%E8%B5%8B%E5%80%BC%EF%BC%88%E5%8D%B3%E6%8E%A5%E5%8F%A3%E7%9A%84url%EF%BC%89%2C%E5%B9%B6%E5%B0%86%E5%87%BD%E6%95%B0%E9%99%84%E5%8A%A0%E5%88%B0url%E4%B8%8A%EF%BC%8C%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%A4%A7%E9%83%A8%E5%88%86jonsp%E6%8E%A5%E5%8F%A3%E9%83%BD%E4%B8%BAcallback%EF%BC%8C%E7%99%BE%E5%BA%A6%E7%9A%84jsonp%E6%8E%A5%E5%8F%A3%E4%B8%BAcb%5CncurrentScript.src%20%3D%20%5C%22http%3Awww.baidu.com%3Fa%3D1%26b%3D2%26cb%3DcallBack%5C%22%3B%5Cn%2F%2F%204.%E5%B0%86%E6%A0%87%E7%AD%BE%E6%8F%92%E5%85%A5%E5%88%B0%E9%A1%B5%E9%9D%A2%E4%B8%8A%5Cndocument.body.appendChild(script1)%3B%5Cn%2F%2F%205.%E5%B0%86%E6%A0%87%E7%AD%BE%E5%8A%A0%E8%BD%BD%E5%AE%8C%E5%90%8E%E5%88%A0%E9%99%A4%20%5Cnscript1.onload%20%3D%20function()%7B%5Cn%5Ctthis.remove()%5Cn%7D%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%2287gNw%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 1.åˆ›å»ºä¸€ä¸ªå…¨å±€å‡½æ•°&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; callBack (data) {
    console.log(data);
}
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 2.åŠ¨æ€åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; currentScript = document.createElement(&quot;script&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 3.ç»™æ ‡ç­¾çš„srcèµ‹å€¼ï¼ˆå³æ¥å£çš„urlï¼‰,å¹¶å°†å‡½æ•°é™„åŠ åˆ°urlä¸Šï¼Œæ³¨æ„ï¼šå¤§éƒ¨åˆ†jonspæ¥å£éƒ½ä¸ºcallbackï¼Œç™¾åº¦çš„jsonpæ¥å£ä¸ºcb&lt;/span&gt;
currentScript.src = &quot;http:www.baidu.com?a=1&amp;amp;b=2&amp;amp;cb=callBack&quot;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 4.å°†æ ‡ç­¾æ’å…¥åˆ°é¡µé¢ä¸Š&lt;/span&gt;
&lt;span&gt;document.body.appendChild(script1);
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 5.å°†æ ‡ç­¾åŠ è½½å®Œååˆ é™¤ &lt;/span&gt;
script1.onload = &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.remove()
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;JDCEg&quot; data-lake-id=&quot;f9c58b70b8b5fa70ad42cca1f3a1f5f0&quot;&gt;ä¿®æ”¹document.domainæ¥è·¨å­åŸŸ&lt;/h3&gt;
&lt;p data-lake-id=&quot;cd61b5d430bd87bb744dd7f87bfe6c08&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;ä¸¤ä¸ªç½‘é¡µä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒï¼Œæµè§ˆå™¨å…è®¸é€šè¿‡è®¾document.domainå…±äº« Cookieæˆ–è€…å¤„ç†iframeã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;44c50fa216c1ac9714fd93549d02727e&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸&lt;/strong&gt;ï¼šç”¨æ¥å¤„ç†Cookie å’Œ iframeï¼Œ&lt;/p&gt;
&lt;p data-lake-id=&quot;9ea3ca4e3f7981ee649de19a44d3c452&quot;&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;&lt;strong&gt;å¤„ç†Cookie&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;Bq7w5&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22document.domain%20%3D%20'example.com'%3B%5Cn%2F%2F%E7%8E%B0%E5%9C%A8%EF%BC%8CA%E7%BD%91%E9%A1%B5%E9%80%9A%E8%BF%87%E8%84%9A%E6%9C%AC%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%20Cookie%E3%80%82%5Cndocument.cookie%20%3D%20%5C%22test1%3Dhello%5C%22%3B%5Cn%2F%2FB%E7%BD%91%E9%A1%B5%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%AF%BB%E5%88%B0%E8%BF%99%E4%B8%AA%20Cookie%E3%80%82%5Cnvar%20allCookie%20%3D%20document.cookie%3B%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22Bq7w5%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
document.domain = 'example.com'&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ç°åœ¨ï¼ŒAç½‘é¡µé€šè¿‡è„šæœ¬è®¾ç½®ä¸€ä¸ª Cookieã€‚&lt;/span&gt;
document.cookie = &quot;test1=hello&quot;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Bç½‘é¡µå°±å¯ä»¥è¯»åˆ°è¿™ä¸ª Cookieã€‚&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; allCookie = document.cookie;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;ca3bfd185db4809b688b7fef207ea238&quot;&gt;æ³¨æ„âš ï¸ï¼šè¿™ç§æ–¹æ³•åªé€‚ç”¨äº Cookie å’Œ iframe çª—å£ï¼ŒLocalStorage å’Œ IndexDB æ— æ³•é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œè§„é¿åŒæºæ”¿ç­–ï¼Œè€Œè¦ä½¿ç”¨ä¸‹æ–‡ä»‹ç»çš„PostMessage APIã€‚Â &lt;/p&gt;
&lt;p data-lake-id=&quot;d80f73420588cbe04b3dd151a31ed03f&quot;&gt;å¦å¤–ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨è®¾ç½®Cookieçš„æ—¶å€™ï¼ŒæŒ‡å®šCookieçš„æ‰€å±åŸŸåä¸ºä¸€çº§åŸŸåï¼Œæ¯”å¦‚.example.comã€‚&lt;/p&gt;
&lt;div id=&quot;HveEY&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22Set-Cookie%3A%20key%3Dvalue%3B%20domain%3D.example.com%3B%20path%3D%2F%5Cn%2F%2F%E8%BF%99%E6%A0%B7%E7%9A%84%E8%AF%9D%EF%BC%8C%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E5%92%8C%E4%B8%89%E7%BA%A7%E5%9F%9F%E5%90%8D%E4%B8%8D%E7%94%A8%E5%81%9A%E4%BB%BB%E4%BD%95%E8%AE%BE%E7%BD%AE%EF%BC%8C%E9%83%BD%E5%8F%AF%E4%BB%A5%E8%AF%BB%E5%8F%96%E8%BF%99%E4%B8%AACookie%E3%80%82%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22HveEY%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
Set-Cookie: key=value; domain=.example.com; path=/
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿™æ ·çš„è¯ï¼ŒäºŒçº§åŸŸåå’Œä¸‰çº§åŸŸåä¸ç”¨åšä»»ä½•è®¾ç½®ï¼Œéƒ½å¯ä»¥è¯»å–è¿™ä¸ªCookieã€‚&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;4ab49ddbbd7b62768e9bc6b5bf1fa40c&quot;&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;&lt;strong&gt;å¤„ç†iframe&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;0904406750a879a93c17460115b0f4fd&quot;&gt;ä¸åŒçš„iframe ä¹‹é—´ï¼ˆçˆ¶å­æˆ–åŒè¾ˆï¼‰ï¼Œæ˜¯èƒ½å¤Ÿè·å–åˆ°å½¼æ­¤çš„windowå¯¹è±¡çš„ï¼Œä½†æ˜¯ä½ å´ä¸èƒ½ä½¿ç”¨è·å–åˆ°çš„windowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•(html5ä¸­çš„postMessageæ–¹æ³•æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼Œè¿˜æœ‰äº›æµè§ˆå™¨æ¯”å¦‚ie6ä¹Ÿå¯ä»¥ä½¿ç”¨topã€parentç­‰å°‘æ•°å‡ ä¸ªå±æ€§)ï¼Œæ€»ä¹‹ï¼Œä½ å¯ä»¥å½“åšæ˜¯åªèƒ½è·å–åˆ°ä¸€ä¸ªå‡ ä¹æ— ç”¨çš„windowå¯¹è±¡ã€‚Â &lt;/p&gt;
&lt;p data-lake-id=&quot;db477452736fba0898b36f95a3e6a7bc&quot;&gt;é¦–å…ˆè¯´æ˜ä¸€ä¸‹åŒåŸŸä¹‹é—´çš„iframeæ˜¯å¯ä»¥æ“ä½œçš„ã€‚æ¯”å¦‚&lt;a href=&quot;http://127.0.0.1/JSONP/a.html&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1/JSONP/a.html&lt;/a&gt;é‡Œé¢åµŒå…¥ä¸€ä¸ªiframeæŒ‡å‘&lt;a href=&quot;http://127.0.0.1/myPHP/b.html&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1/myPHP/b.html&lt;/a&gt;ã€‚é‚£ä¹ˆåœ¨a.htmlé‡Œé¢æ˜¯å¯ä»¥æ“ä½œiframeé‡Œé¢çš„DOMçš„ã€‚&lt;/p&gt;
&lt;div id=&quot;30QDt&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%5Cn%3Ciframe%20src%3D%5C%22http%3A%2F%2F127.0.0.1%2FmyPHP%2Fb.html%5C%22%20frameborder%3D%5C%221%5C%22%3E%3C%2Fiframe%3E%5Cn%3Cbody%3E%5Cn%3Cscript%20type%3D%5C%22text%2Fjavascript%5C%22%3E%5Cnvar%20iframe%20%3D%20document.querySelector(%5C%22iframe%5C%22)%3B%5Cniframe.onload%20%3D%20function()%7B%5Cn%20%20%20%20var%20win%20%3D%20iframe.contentWindow%3B%5Cn%20%20%20%20var%20doc%20%3D%20win.document%3B%5Cn%20%20%20%20var%20ele%20%3D%20doc.querySelector(%5C%22.text1%5C%22)%3B%5Cn%20%20%20%20var%20text%20%3D%20ele.innerHTML%3D%5C%22123456%5C%22%3B%5Cn%7D%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%2230QDt%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&amp;lt;iframe src=&quot;http://127.0.0.1/myPHP/b.html&quot; frameborder=&quot;1&quot;&amp;gt;&amp;lt;/iframe&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
&lt;span&gt;var&lt;/span&gt; iframe = document.querySelector(&quot;iframe&quot;&lt;span&gt;);
iframe.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; win =&lt;span&gt; iframe.contentWindow;
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; doc =&lt;span&gt; win.document;
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; ele = doc.querySelector(&quot;.text1&quot;&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; text = ele.innerHTML=&quot;123456&quot;&lt;span&gt;;
}
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;fa41eeafe8ae4154f550834727c77320&quot;&gt;æ³¨æ„âš ï¸ï¼šå¦‚æœä¸¤ä¸ªç½‘é¡µä¸åŒæºï¼Œå°±æ— æ³•æ‹¿åˆ°å¯¹æ–¹çš„DOMã€‚å…¸å‹çš„ä¾‹å­æ˜¯iframeçª—å£å’Œwindow.openæ–¹æ³•æ‰“å¼€çš„çª—å£ï¼Œå®ƒä»¬ä¸çˆ¶çª—å£æ— æ³•é€šä¿¡ã€‚å¦‚æœä¸¤ä¸ªçª—å£ä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒï¼Œé‚£ä¹ˆdocument.domainå±æ€§ï¼Œå°±å¯ä»¥è§„é¿åŒæºæ”¿ç­–ï¼Œæ‹¿åˆ°&lt;strong&gt;DOM&lt;/strong&gt;ã€‚Â &lt;/p&gt;
&lt;h3 id=&quot;cFQgx&quot; data-lake-id=&quot;f507c7386c07b86d09b6e0a35e135824&quot;&gt;window.name + iframe&lt;/h3&gt;
&lt;p data-lake-id=&quot;4bd9b97d266fabe0a293c5398b689e8c&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;å³åœ¨ä¸€ä¸ªçª—å£(window)çš„ç”Ÿå‘½å‘¨æœŸå†…,çª—å£è½½å…¥çš„æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å…±äº«ä¸€ä¸ªwindow.nameçš„ï¼Œæ¯ä¸ªé¡µé¢window.nameéƒ½æœ‰è¯»å†™çš„æƒé™ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;26519343fb684adfc5119a45213a2ec0&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸ï¼š&lt;/strong&gt;æ˜¯åœ¨ä¸€ä¸ªçª—å£ï¼å¹¶ä¸”window.nameçš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²çš„å¤§å°æœ€å¤§èƒ½å…è®¸2Må·¦å³ç”šè‡³æ›´å¤§çš„ä¸€ä¸ªå®¹é‡ï¼Œå…·ä½“å–å†³äºä¸åŒçš„æµè§ˆå™¨ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;ae2965833e07255c02515bb8e84006e1&quot;&gt;&lt;strong&gt;ç®€å•æ —å­ğŸŒ°&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;5331e523c130e541a731518b908c751e&quot;&gt;1.åˆ›å»ºä¸€ä¸ªa.html&lt;/p&gt;
&lt;div id=&quot;MylUq&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cn%20%20%20%20window.name%20%3D%20%5C%22%E5%93%88%E5%93%88%EF%BC%8C%E6%88%91%E6%98%AF%E9%A1%B5%E9%9D%A2a%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%80%BC%E5%93%9F%EF%BC%81%5C%22%3B%5Cn%20%20%20%20%2F%2F%E8%AE%BE%E7%BD%AEwindow.name%E7%9A%84%E5%80%BC%5Cn%20%20%20%20setTimeout(function()%7B%5Cn%20%20%20%20%20%20%20%20window.location%20%3D%20'b.html'%3B%5Cn%20%20%20%20%7D%2C3000)%3B%2F%2F3%E7%A7%92%E5%90%8E%E6%8A%8A%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B5%E9%9D%A2%E8%BD%BD%E5%85%A5%E5%BD%93%E5%89%8Dwindow%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22MylUq%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;&lt;span&gt;
    window.name &lt;/span&gt;= &quot;å“ˆå“ˆï¼Œæˆ‘æ˜¯é¡µé¢aè®¾ç½®çš„å€¼å“Ÿï¼&quot;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è®¾ç½®window.nameçš„å€¼&lt;/span&gt;
    setTimeout(&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
        window.location &lt;/span&gt;= 'b.html'&lt;span&gt;;
    },&lt;/span&gt;3000);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;3ç§’åæŠŠä¸€ä¸ªæ–°é¡µé¢è½½å…¥å½“å‰window&lt;/span&gt;
&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;ec7b9bb82b7c1d4d7b0b8cf684010b07&quot;&gt;2.åœ¨b.htmlè¯»å–&lt;/p&gt;
&lt;div id=&quot;5GAEN&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cn%20%20%20%20alert(window.name)%3B%2F%2F%E8%AF%BB%E5%8F%96window.name%E7%9A%84%E5%80%BC%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%225GAEN%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot; readability=&quot;31&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;&lt;span&gt;
    alert(window.name);&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¯»å–window.nameçš„å€¼&lt;/span&gt;
&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class=&quot;cm-s-default&quot;&gt;
&lt;span&gt;3.a.htmlè½½å…¥3ç§’åï¼Œè·³è½¬åˆ°b.htmlé¡µé¢ä¸­ï¼Œç»“æœä¸º&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;dfe387c7eb89a6b24a12e4b140d50171&quot;&gt;&lt;strong&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/png/305942/1599310935566-d96d4598-7c64-4fa7-a294-014ad36710d2.png&quot; alt=&quot;image.png&quot; class=&quot;image lake-drag-image&quot; title=&quot;image.png&quot; data-role=&quot;image&quot; data-raw-src=&quot;&quot; data-height=&quot;166px&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;65b6500e25120e10fc54f69e01d6a012&quot;&gt;&lt;strong&gt;è·¨åŸŸæ —å­ğŸŒ°&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;1c93956a9323ab8a5789e41cda5f839d&quot;&gt;æ¯”å¦‚ï¼šæœ‰ä¸€ä¸ªexample.com/a.htmlé¡µé¢,éœ€è¦é€šè¿‡a.htmlé¡µé¢é‡Œçš„jsæ¥è·å–å¦ä¸€ä¸ªä½äºä¸åŒåŸŸä¸Šçš„é¡µé¢cnblogs.com/data.htmlé‡Œçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;6b215d931d23b57cfb0d11c7ddae4a79&quot;&gt;1.åˆ›å»ºcnblogs.com/data.htmlä»£ç &lt;/p&gt;
&lt;div id=&quot;b7CAn&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cn%20%20%20%20window.name%20%3D%20%5C%22%E6%88%91%E6%98%AFdata.html%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%89%80%E6%9C%89%E5%8F%AF%E4%BB%A5%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9D%A5%E4%BC%A0%E9%80%92%E7%9A%84%E6%95%B0%E6%8D%AE%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%99%E9%87%8C%E4%BD%BF%E7%94%A8%EF%BC%8C%E6%AF%94%E5%A6%82%E8%BF%99%E9%87%8C%E5%8F%AF%E4%BB%A5%E4%BC%A0%E9%80%92Json%E6%95%B0%E6%8D%AE%5C%22%3B%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22b7CAn%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;&lt;span&gt;
    window.name &lt;/span&gt;= &quot;æˆ‘æ˜¯data.htmlçš„æ•°æ®ï¼Œæ‰€æœ‰å¯ä»¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ¥ä¼ é€’çš„æ•°æ®éƒ½å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ï¼Œæ¯”å¦‚è¿™é‡Œå¯ä»¥ä¼ é€’Jsonæ•°æ®&quot;&lt;span&gt;;
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;2add61047c165fc4995df12215d7a3cc&quot;&gt;2.åˆ›å»ºexample.com/a.htmlçš„ä»£ç &lt;/p&gt;
&lt;p data-lake-id=&quot;9ad86c785dcd5c6365e48775a66be157&quot;&gt;æƒ³è¦å³ä½¿a.htmlé¡µé¢ä¸è·³è½¬ä¹Ÿèƒ½å¾—åˆ°data.htmlé‡Œçš„æ•°æ®ã€‚åœ¨a.htmlé¡µé¢ä¸­ä½¿ç”¨ä¸€ä¸ªéšè—çš„iframeæ¥å……å½“ä¸€ä¸ªä¸­é—´äººè§’è‰²ï¼Œç”±iframeå»è·å–data.htmlçš„æ•°æ®ï¼Œç„¶åa.htmlå†å»å¾—åˆ°iframeè·å–åˆ°çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;div id=&quot;L5mo7&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Ciframe%20id%20%3D%20%5C%22iframe%5C%22%20src%20%3D%20%5C%22cnblogs.com%2Fdata.html%5C%22%20style%20%3D%20%5C%22display%3Anone%5C%22%20onload%20%3D%20%5C%22getData()%5C%22%3E%3C%2Fiframe%3E%5Cn%3Cscript%3E%5Cn%20%20%20%20function%20getData()%7B%5Cn%20%20%20%20%2F%2Fiframe%E8%BD%BD%E5%85%A5data.html%E9%A1%B5%E9%9D%A2%E4%BC%9A%E6%89%A7%E8%A1%8C%E6%AD%A4%E5%87%BD%E6%95%B0%5Cn%20%20%20%20%20%20%20%20var%20ifr%20%3D%20document.getElementById(%5C%22iframe%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20ifr.onload%20%3D%20function()%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99iframe%E5%92%8Ca.html%E5%B7%B2%E7%BB%8F%E5%A4%84%E4%BA%8E%E5%90%8C%E4%B8%80%E6%BA%90%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BA%92%E7%9B%B8%E8%AE%BF%E9%97%AE%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20data%20%3D%20ifr.contentWindow.name%3B%5Cn%2F%2F%E8%8E%B7%E5%8F%96iframe%E4%B8%AD%E7%9A%84window.name%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AFdata.html%E4%B8%AD%E7%BB%99%E5%AE%83%E8%AE%BE%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%5Cn%20%20%20%20%20%20%20%20%20%20%20%20alert(data)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20ifr.src%20%3D%20'b.html'%3B%2F%2F%E8%BF%99%E9%87%8C%E7%9A%84b.html%E4%B8%BA%E9%9A%8F%E4%BE%BF%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%EF%BC%8C%E5%8F%AA%E8%A6%81%E4%B8%8Ea.html%E5%90%8C%E6%BA%90%E5%B0%B1%E8%A1%8C%EF%BC%8C%E7%9B%AE%E7%9A%84%E6%98%AF%E8%AE%A9a.html%E8%83%BD%E5%A4%9F%E8%AE%BF%E9%97%AE%E5%88%B0iframe%E4%B8%AD%E7%9A%84%E4%B8%9C%E8%A5%BF%EF%BC%8C%E5%90%A6%E5%88%99%E8%AE%BF%E9%97%AE%E4%B8%8D%E5%88%B0%5Cn%20%20%20%20%7D%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22L5mo7%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&amp;lt;iframe id = &quot;iframe&quot; src = &quot;cnblogs.com/data.html&quot; style = &quot;display:none&quot; onload = &quot;getData()&quot;&amp;gt;&amp;lt;/iframe&amp;gt;
&amp;lt;script&amp;gt;
    &lt;span&gt;function&lt;/span&gt;&lt;span&gt; getData(){
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;iframeè½½å…¥data.htmlé¡µé¢ä¼šæ‰§è¡Œæ­¤å‡½æ•°&lt;/span&gt;
        &lt;span&gt;var&lt;/span&gt; ifr = document.getElementById(&quot;iframe&quot;&lt;span&gt;);
        ifr.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿™ä¸ªæ—¶å€™iframeå’Œa.htmlå·²ç»å¤„äºåŒä¸€æºï¼Œå¯ä»¥äº’ç›¸è®¿é—®&lt;/span&gt;
            &lt;span&gt;var&lt;/span&gt; data =&lt;span&gt; ifr.contentWindow.name;
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–iframeä¸­çš„window.nameï¼Œä¹Ÿå°±æ˜¯data.htmlä¸­ç»™å®ƒè®¾ç½®çš„æ•°æ®&lt;/span&gt;
&lt;span&gt;            alert(data);
        }
        ifr.src &lt;/span&gt;= 'b.html';&lt;span&gt;//&lt;/span&gt;&lt;span&gt;è¿™é‡Œçš„b.htmlä¸ºéšä¾¿ä¸€ä¸ªé¡µé¢ï¼Œåªè¦ä¸a.htmlåŒæºå°±è¡Œï¼Œç›®çš„æ˜¯è®©a.htmlèƒ½å¤Ÿè®¿é—®åˆ°iframeä¸­çš„ä¸œè¥¿ï¼Œå¦åˆ™è®¿é—®ä¸åˆ°&lt;/span&gt;
&lt;span&gt;    }
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;ZArhK&quot; data-lake-id=&quot;b3d4907afb92d52172aadc68b54ce99c&quot;&gt;&lt;strong&gt;window.postMessage + iframe&lt;/strong&gt;&lt;/h3&gt;
&lt;p data-lake-id=&quot;423b72c8fa5e1d623bb4869d91ed33d7&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;å¯ä»¥ä½¿ç”¨window.postMessage()æ¥å‘å…¶å®ƒçš„windowå¯¹è±¡å‘é€æ¶ˆæ¯ï¼Œæ— è®ºè¿™ä¸ªwindowå¯¹è±¡æ˜¯å±äºåŒæºæˆ–ä¸åŒæº(å¯å®ç°è·¨åŸŸ)ï¼Œå…¶ä»–çš„é¡µé¢é€šè¿‡window.onmessageæ¥æ¥æ”¶ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;0d43eb63af3e0f5cd8eb8976045ea2d7&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸&lt;/strong&gt;ï¼šwindow.postMessage(message,targetOrigin) æ–¹æ³•æ˜¯html5æ–°å¼•è¿›çš„ç‰¹æ€§ï¼Œç›®å‰IE8+ã€FireFoxã€Chromeã€Operaç­‰æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒwindow.postMessageæ–¹æ³•ã€‚ä½†IE6ã€IE7ä¸æ”¯æŒ&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p data-lake-id=&quot;6c842672a06b53fdb8bd6df4c151b7b9&quot;&gt;messageï¼šä¸ºè¦å‘é€çš„æ¶ˆæ¯ï¼Œç±»å‹åªèƒ½ä¸ºå­—ç¬¦ä¸²ï¼›&lt;/p&gt;
&lt;p data-lake-id=&quot;6c501fc9a53e3c9eb4bb48569870e1bb&quot;&gt;targetOriginï¼šç”¨æ¥é™å®šæ¥æ”¶æ¶ˆæ¯çš„é‚£ä¸ªwindowå¯¹è±¡æ‰€åœ¨çš„åŸŸï¼Œå¦‚æœä¸æƒ³é™å®šåŸŸï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ â€œ*â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-lake-id=&quot;3638dd1bfd67e227a1acfebf3d98c96b&quot;&gt;&lt;strong&gt;æ —å­ğŸŒ°&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;e3e14f73fcbf5a2f06d3dc281478f3f5&quot;&gt;1.åˆ›å»ºwww.test.com/a.htmlé¡µé¢ä»£ç &lt;/p&gt;
&lt;div id=&quot;iGZIy&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Ciframe%20id%3D%5C%22iframe%5C%22%20src%3D%5C%22www.script.com%2Fb.html%5C%22%20onload%3D%5C%22onLoad()%5C%22%3E%3C%2Fiframe%3E%5Cn%3Cscript%3E%5Cnfunction%20onLoad()%7B%5Cn%20%20%20%20var%20iframe%20%3D%20document.getElementById(%5C%22iframe%5C%22)%3B%5Cn%20%20%20%20var%20win%20%3D%20iframe.contentWindow%3B%5Cn%20%20%20%20win.postMessage('%E5%93%88%E5%93%88%EF%BC%8C%E6%88%91%E6%98%AF%E6%9D%A5%E8%87%AA%E9%A1%B5%E9%9D%A2a.html%E7%9A%84%E4%BF%A1%E6%81%AF%E5%93%9F%EF%BC%81'%2C'*')%3B%2F%2F%E5%90%91%E4%B8%8D%E5%90%8C%E5%9F%9F%E7%9A%84www.script.com%2Fb.html%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%5Cn%7D%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22iGZIy%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&amp;lt;iframe id=&quot;iframe&quot; src=&quot;www.script.com/b.html&quot; onload=&quot;onLoad()&quot;&amp;gt;&amp;lt;/iframe&amp;gt;
&amp;lt;script&amp;gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; onLoad(){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; iframe = document.getElementById(&quot;iframe&quot;&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; win =&lt;span&gt; iframe.contentWindow;
    win.postMessage(&lt;/span&gt;'å“ˆå“ˆï¼Œæˆ‘æ˜¯æ¥è‡ªé¡µé¢a.htmlçš„ä¿¡æ¯å“Ÿï¼','*');&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å‘ä¸åŒåŸŸçš„www.script.com/b.htmlå‘é€æ¶ˆæ¯&lt;/span&gt;
&lt;span&gt;}
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;9298f259ed20cce610098e14cb2aaed1&quot;&gt;2.åˆ›å»ºwww.script.com/b.htmlé¡µé¢ä»£ç &lt;/p&gt;
&lt;div id=&quot;JGsaR&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cnwindow.onmessage%20%3D%20function(e)%7B%5Ct%2F%2F%E6%B3%A8%E5%86%8Cmessage%E6%97%B6%E9%97%B4%E6%9D%A5%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF%5Cn%20%20%20%20e%20%3D%20e%20%7C%7C%20event%3B%20%20%20%20%20%20%20%20%20%20%20%20%5Ct%2F%2F%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20alert(e.data)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%5Ct%2F%2F%E9%80%9A%E8%BF%87data%E5%B1%9E%E6%80%A7%E6%9D%A5%E5%BE%97%E5%88%B0%E4%BC%A0%E9%80%81%E7%9A%84%E6%B6%88%E6%81%AF%5Cn%7D%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22JGsaR%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;&lt;span&gt;
window.onmessage &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;(e){ &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ³¨å†Œmessageæ—¶é—´æ¥æ¥æ”¶æ¶ˆæ¯&lt;/span&gt;
    e = e || event;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;è·å–æ—¶é—´å¯¹è±¡&lt;/span&gt;
    alert(e.data);              &lt;span&gt;//&lt;/span&gt;&lt;span&gt;é€šè¿‡dataå±æ€§æ¥å¾—åˆ°ä¼ é€çš„æ¶ˆæ¯&lt;/span&gt;
&lt;span&gt;}
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;Ejwjz&quot; data-lake-id=&quot;1455ebb20fa56b1e7127628c72d0b2af&quot;&gt;&lt;strong&gt;ä½¿ç”¨location.hash+iframe&lt;/strong&gt;&lt;/h3&gt;
&lt;p data-lake-id=&quot;cbde70d6fa3ddbdb1f7054296ee02ba9&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;ä½¿ç”¨location.hashå’Œiframeæ¥ç»•è¿‡åŒæºç­–ç•¥&lt;/p&gt;
&lt;p data-lake-id=&quot;b88b0a131736fd10b43bc2171fd3318a&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸ï¼šéœ€è¦å€Ÿç”¨ä¸¤ä¸ªiframe&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;9793121269f96b7bdccc80ead9fdc0dc&quot;&gt;å‡è®¾åŸŸåtest.comä¸‹çš„æ–‡ä»¶a.htmlè¦å’Œcsdnblogs.comåŸŸåä¸‹çš„b.htmlä¼ é€’ä¿¡æ¯&lt;/p&gt;
&lt;p data-lake-id=&quot;bc91aac35c6706a350026b28cfb0abed&quot;&gt;1.åˆ›å»ºtest.comä¸‹çš„a.htmlé¡µé¢ï¼Œ åŒæ—¶åœ¨a.htmlä¸ŠåŠ ä¸€ä¸ªå®šæ—¶å™¨ï¼Œéš”ä¸€æ®µæ—¶é—´æ¥åˆ¤æ–­location.hashçš„å€¼æœ‰æ²¡æœ‰å˜åŒ–ï¼Œä¸€æ—¦æœ‰å˜åŒ–åˆ™è·å–è·å–hashå€¼&lt;/p&gt;
&lt;p data-lake-id=&quot;1dee5df21099072073d14abd4247fe7c&quot;&gt;www.test.comä¸‹a.htmlä»£ç &lt;/p&gt;
&lt;div id=&quot;n8hIo&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cnfunction%20startRequest()%7B%5Cn%20%20%20%20var%20ifr%20%3D%20document.createElement('iframe')%3B%5Cn%20%20%20%20%2F%2F%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%9A%90%E8%97%8F%E7%9A%84iframe%5Cn%20%20%20%20ifr.style.display%20%3D%20'none'%3B%5Cn%20%20%20%20ifr.src%20%3D%20'http%3A%2F%2Fwww.csdnblogs.com%2Fb.html%23paramdo'%3B%5Cn%20%20%20%20%2F%2F%E4%BC%A0%E9%80%92%E7%9A%84location.hash%20%5Cn%20%20%20%20document.body.appendChild(ifr)%3B%5Cn%7D%5Cn%5Cnfunction%20checkHash()%20%7B%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20data%20%3D%20location.hash%20%3F%20location.hash.substring(1)%3A''%3B%5Cn%20%20%20%20%20%20%20%20if%20(console.log)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20console.log('Now%20the%20data%20is%20'%20%2B%20data)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%20catch%20(e)%20%7B%7D%3B%5Cn%7D%5CnsetInterval(checkHash%2C%205000)%3B%5Cnwindow.onload%20%3D%20startRequest%3B%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22n8hIo%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; startRequest(){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; ifr = document.createElement('iframe'&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åˆ›å»ºä¸€ä¸ªéšè—çš„iframe&lt;/span&gt;
    ifr.style.display = 'none'&lt;span&gt;;
    ifr.src &lt;/span&gt;= 'http://www.csdnblogs.com/b.html#paramdo'&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ä¼ é€’çš„location.hash &lt;/span&gt;
&lt;span&gt;    document.body.appendChild(ifr);
}

&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; checkHash() {
    &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; data = location.hash ? location.hash.substring(1):''&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (console.log) {
            console.log(&lt;/span&gt;'Now the data is ' +&lt;span&gt; data);
        }
    } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (e) {};
}
setInterval(checkHash, &lt;/span&gt;5000&lt;span&gt;);
window.onload &lt;/span&gt;=&lt;span&gt; startRequest;
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;af81f09764f1180a072e8a8ba4d84879&quot;&gt;2.b.htmlå“åº”è¯·æ±‚åå†å°†é€šè¿‡ä¿®æ”¹test.comåŸŸåä¸‹çš„æ–‡ä»¶c.htmlæ¥é—´æ¥a.htmlçš„hashå€¼æ¥ä¼ é€’æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p data-lake-id=&quot;9df10ee9ea5e94c60de0a5ea93d8f448&quot;&gt;www.csdnblogs.comåŸŸåä¸‹b.htmlä»£ç &lt;/p&gt;
&lt;div id=&quot;3sDuY&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cnfunction%20checkHash()%20%7B%5Cn%20%20%20%20var%20data%20%3D%20''%3B%5Cn%20%20%20%20%2F%2F%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%5Cn%20%20%20%20switch%20(location.hash)%20%7B%5Cn%20%20%20%20%20%20%20%20case%20'%23paramdo'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20data%20%3D%20'somedata'%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20case%20'%23paramset'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fdo%20something%E2%80%A6%E2%80%A6%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20default%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20data%20%26%26%20callBack('%23'%20%2B%20data)%3B%5Cn%7D%5Cn%5Cnfunction%20callBack(hash)%20%7B%5Cn%20%20%20%20%2F%2F%20ie%E3%80%81chrome%E7%9A%84%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6%E6%97%A0%E6%B3%95%E4%BF%AE%E6%94%B9parent.location.hash%5Cn%20%20%20%20%2F%2F%E6%89%80%E4%BB%A5%E8%A6%81%E5%88%A9%E7%94%A8%E4%B8%80%E4%B8%AA%E4%B8%AD%E9%97%B4%E7%9A%84www.csdnblogs.com%E5%9F%9F%E4%B8%8B%E7%9A%84%E4%BB%A3%E7%90%86iframe%5Cn%20%20%20%20var%20proxy%20%3D%20document.createElement('iframe')%3B%5Cn%20%20%20%20proxy.style.display%20%3D%20'none'%3B%5Cn%20%20%20%20proxy.src%20%3D%20'http%3A%2F%2Fwww.csdnblogs.com%2Fc.html'%20%2B%20hash%3B%20%5Cn%20%20%20%20%2F%2F%20%E6%B3%A8%E6%84%8F%E8%AF%A5%E6%96%87%E4%BB%B6%E5%9C%A8%5C%22www.test.com%5C%22%E5%9F%9F%E4%B8%8B%5Cn%20%20%20%20document.body.appendChild(proxy)%3B%5Cn%7D%5Cnwindow.onload%20%3D%20checkHash%3B%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%223sDuY%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; checkHash() {
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; data = ''&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„å‚æ•°å¤„ç†æ“ä½œ&lt;/span&gt;
    &lt;span&gt;switch&lt;/span&gt;&lt;span&gt; (location.hash) {
        &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; '#paramdo'&lt;span&gt;:
            data &lt;/span&gt;= 'somedata'&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; '#paramset'&lt;span&gt;:
             &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;do somethingâ€¦â€¦&lt;/span&gt;
            &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt;:
            &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
    }
    data &lt;/span&gt;&amp;amp;&amp;amp; callBack('#' +&lt;span&gt; data);
}

&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; callBack(hash) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ieã€chromeçš„å®‰å…¨æœºåˆ¶æ— æ³•ä¿®æ”¹parent.location.hash&lt;/span&gt;
    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;æ‰€ä»¥è¦åˆ©ç”¨ä¸€ä¸ªä¸­é—´çš„www.csdnblogs.comåŸŸä¸‹çš„ä»£ç†iframe&lt;/span&gt;
    &lt;span&gt;var&lt;/span&gt; proxy = document.createElement('iframe'&lt;span&gt;);
    proxy.style.display &lt;/span&gt;= 'none'&lt;span&gt;;
    proxy.src &lt;/span&gt;= 'http://www.csdnblogs.com/c.html' +&lt;span&gt; hash; 
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ³¨æ„è¯¥æ–‡ä»¶åœ¨&quot;www.test.com&quot;åŸŸä¸‹&lt;/span&gt;
&lt;span&gt;    document.body.appendChild(proxy);
}
window.onload &lt;/span&gt;=&lt;span&gt; checkHash;
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;d31d5b712ae7473dccdbc57c4376f396&quot;&gt;www.test.comä¸‹c.htmlä»£ç &lt;/p&gt;
&lt;div id=&quot;f6ymH&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cn%2F%2F%E5%9B%A0%E4%B8%BAparent.parent%E5%92%8C%E8%87%AA%E8%BA%AB%E5%B1%9E%E4%BA%8E%E5%90%8C%E4%B8%80%E4%B8%AA%E5%9F%9F%EF%BC%8C%E6%89%80%E4%BB%A5%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%8F%98%E5%85%B6location.hash%E7%9A%84%E5%80%BC%5Cnparent.parent.location.hash%20%3D%20self.location.hash.substring(1)%3B%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22f6ymH%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å› ä¸ºparent.parentå’Œè‡ªèº«å±äºåŒä¸€ä¸ªåŸŸï¼Œæ‰€ä»¥å¯ä»¥æ”¹å˜å…¶location.hashçš„å€¼&lt;/span&gt;
parent.parent.location.hash = self.location.hash.substring(1&lt;span&gt;);
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;fw584&quot; data-lake-id=&quot;07adc0c355a58254b12cee87f6e721dd&quot;&gt;&lt;strong&gt;è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p data-lake-id=&quot;01d287f73051f67355a231d336b14c06&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;ä¸€ç§è·¨åŸŸè®¿é—®çš„æœºåˆ¶ï¼Œå¯ä»¥è®©AJAXå®ç°è·¨åŸŸè®¿é—®ï¼›CORSå…è®¸ä¸€ä¸ªåŸŸä¸Šçš„ç½‘ç»œåº”ç”¨å‘å¦ä¸€ä¸ªåŸŸæäº¤è·¨åŸŸAJAXè¯·æ±‚ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;8853cf1e8d307693f017738d6f2638f7&quot;&gt;&lt;strong&gt;æ³¨æ„âš ï¸ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul data-lake-id=&quot;956ab35f25ee442074086b56a70fa0e8&quot;&gt;&lt;li data-lake-id=&quot;0702b7daa1a45537e8d328cd3c298bf7&quot;&gt;åªæœ‰æœåŠ¡å™¨è®¾ç½®Access-Control-Allow-Origin HTTPå“åº”å¤´ä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚ã€‚å°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸï¼Œè¿˜æ˜¯åº”è¯¥å¤±è´¥ã€‚&lt;/li&gt;
&lt;li data-lake-id=&quot;ef62c9a461a437a9bc58c43ec5f13082&quot;&gt;CORSæœºåˆ¶æ˜¯åŒæºç­–ç•¥å‡ºè®©çš„å®‰å…¨æ€§ä¹‹ä¸€ã€‚å…¶ä½™ä¸¤ä¸ªä¸ºå…è®¸åµŒå…¥ç¬¬ä¸‰æ–¹èµ„æºå’Œè·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶(window.postmessage)ã€‚è¯¦æƒ…ï¼š&lt;a href=&quot;https://www.yuque.com/suihangadam/liulanqi/pog4pf&quot; target=&quot;_blank&quot;&gt;https://www.yuque.com/suihangadam/liulanqi/pog4pf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-lake-id=&quot;2907544270249b4b236b26dc10ef2f94&quot;&gt;&lt;strong&gt;IEä¸­å¯¹CORSçš„å®ç°æ˜¯é€šè¿‡xdr&lt;/strong&gt;&lt;/p&gt;
&lt;div id=&quot;Lf8KZ&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22var%20xdr%20%3D%20new%20XDomainRequest()%3B%5Cnxdr.onload%20%3D%20function()%7B%5Cn%20%20%20%20console.log(xdr.responseText)%3B%5Cn%7D%5Cnxdr.open('get'%2C%20'http%3A%2F%2Fwww.test.com')%3B%5Cn......%5Cnxdr.send(null)%3B%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22Lf8KZ%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; xdr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; XDomainRequest();
xdr.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
    console.log(xdr.responseText);
}
xdr.open(&lt;/span&gt;'get', 'http://www.test.com'&lt;span&gt;);
......
xdr.send(&lt;/span&gt;&lt;span&gt;null&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;3f40297efa368a01805c4dbe0bc0e345&quot;&gt;&lt;strong&gt;å…¶å®ƒæµè§ˆå™¨ä¸­çš„å®ç°å°±åœ¨xhrä¸­&lt;/strong&gt;&lt;/p&gt;
&lt;div id=&quot;9GhlF&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22var%20xhr%20%3D%20%20new%20XMLHttpRequest()%3B%5Cnxhr.onreadystatechange%20%3D%20function%20()%20%7B%5Cn%20%20if(xhr.readyState%20%3D%3D%3D%204%20%26%26%20xhr.status%20%3D%3D%3D%20200)%7B%5Cn%20%20%20%20%20%20%20%20console.log(xhr.responseText)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20%5Cn%20%20%20%20%7D%5Cn%7D%5Cnxhr.open('get'%2C%20'http%3A%2F%2Fwww.test.com')%3B%5Cn......%5Cnxhr.send(null)%3B%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%229GhlF%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; xhr =  &lt;span&gt;new&lt;/span&gt;&lt;span&gt; XMLHttpRequest();
xhr.onreadystatechange &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt; () {
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(xhr.readyState === 4 &amp;amp;&amp;amp; xhr.status === 200&lt;span&gt;){
        console.log(xhr.responseText);
        } 
    }
}
xhr.open(&lt;/span&gt;'get', 'http://www.test.com'&lt;span&gt;);
......
xhr.send(&lt;/span&gt;&lt;span&gt;null&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-lake-id=&quot;1bb1fb260525e824c9ed9dce68a19d4e&quot;&gt;&lt;strong&gt;å®ç°è·¨æµè§ˆå™¨çš„CORS&lt;/strong&gt;&lt;/p&gt;
&lt;div id=&quot;MBhWC&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22function%20createCORS(method%2C%20url)%7B%5Cn%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest()%3B%5Cn%20%20%20%20if('withCredentials'%20in%20xhr)%7B%5Cn%20%20%20%20%20%20%20%20xhr.open(method%2C%20url%2C%20true)%3B%5Cn%20%20%20%20%7Delse%20if(typeof%20XDomainRequest%20!%3D%20'undefined')%7B%5Cn%20%20%20%20%20%20%20%20var%20xhr%20%3D%20new%20XDomainRequest()%3B%5Cn%20%20%20%20%20%20%20%20xhr.open(method%2C%20url)%3B%5Cn%20%20%20%20%7Delse%7B%5Cn%20%20%20%20%20%20%20%20xhr%20%3D%20null%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20xhr%3B%5Cn%7D%5Cnvar%20request%20%3D%20createCORS('get'%2C%20'http%3A%2F%2Fwww.test.com')%3B%5Cnif(request)%7B%5Cn%20%20%20%20request.onload%20%3D%20function()%7B%5Cn%20%20%20%20%20%20%20%20......%5Cn%20%20%20%20%7D%3B%5Cn%20%20%20%20request.send()%3B%5Cn%7D%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22MBhWC%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;10&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; createCORS(method, url){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; xhr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; XMLHttpRequest();
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;('withCredentials' &lt;span&gt;in&lt;/span&gt;&lt;span&gt; xhr){
        xhr.open(method, url, &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
    }&lt;/span&gt;&lt;span&gt;else&lt;/span&gt; &lt;span&gt;if&lt;/span&gt;(&lt;span&gt;typeof&lt;/span&gt; XDomainRequest != 'undefined'&lt;span&gt;){
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; xhr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; XDomainRequest();
        xhr.open(method, url);
    }&lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt;{
        xhr &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; xhr;
}
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; request = createCORS('get', 'http://www.test.com'&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(request){
    request.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
        ......
    };
    request.send();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;7utx1&quot; data-lake-id=&quot;5c8b817dc197cc1761d71bb6b4dd5c1c&quot;&gt;&lt;strong&gt;Web sockets&lt;/strong&gt;&lt;/h3&gt;
&lt;p data-lake-id=&quot;324796771af79a5246c7c9136a91bdac&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†ï¼š&lt;/strong&gt;Â æ˜¯ä¸€ç§æµè§ˆå™¨çš„APIï¼Œå®ƒçš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ªå•ç‹¬çš„æŒä¹…è¿æ¥ä¸Šæä¾›å…¨åŒå·¥ã€åŒå‘é€šä¿¡ã€‚(åŒæºç­–ç•¥å¯¹web socketsä¸é€‚ç”¨)ï¼Œåœ¨JSåˆ›å»ºäº†web socketä¹‹åï¼Œä¼šæœ‰ä¸€ä¸ªHTTPè¯·æ±‚å‘é€åˆ°æµè§ˆå™¨ä»¥å‘èµ·è¿æ¥ã€‚å–å¾—æœåŠ¡å™¨å“åº”åï¼Œå»ºç«‹çš„è¿æ¥ä¼šä½¿ç”¨HTTPå‡çº§ä»HTTPåè®®äº¤æ¢ä¸ºweb socktåè®®ã€‚&lt;/p&gt;
&lt;div id=&quot;TiliQ&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%3Cscript%3E%5Cn%20%20var%20socket%20%3D%20new%20WebSockt('ws%3A%2F%2Fwww.test.com')%3B%5Cn%20%20%2F%2Fhttp-%3Ews%3B%20https-%3Ewss%5Cn%20%20socket.send('hello%20WebSockt')%3B%5Cn%20%20socket.onmessage%20%3D%20function(event)%7B%5Cn%20%20%20%20%20%20var%20data%20%3D%20event.data%3B%5Cn%20%20%7D%5Cn%3C%2Fscript%3E%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%22TiliQ%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&amp;lt;script&amp;gt;
  &lt;span&gt;var&lt;/span&gt; socket = &lt;span&gt;new&lt;/span&gt; WebSockt('ws://www.test.com'&lt;span&gt;);
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;http-&amp;gt;ws; https-&amp;gt;wss&lt;/span&gt;
  socket.send('hello WebSockt'&lt;span&gt;);
  socket.onmessage &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(event){
      &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; data =&lt;span&gt; event.data;
  }
&lt;/span&gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;XCDf6&quot; data-lake-id=&quot;ab452ab45b705a1b84a56381251207a8&quot;&gt;ä½¿ç”¨nginxè¿›è¡Œåå‘ä»£ç†&lt;/h3&gt;
&lt;p data-lake-id=&quot;15f18cef45fbd7cf337b42673d62c8ce&quot;&gt;&lt;strong&gt;è·¨åŸŸåŸç†&lt;/strong&gt;ï¼šNginxåå‘ä»£ç†å°†å¯¹çœŸå®æœåŠ¡å™¨çš„è¯·æ±‚è½¬ç§»åˆ°æœ¬æœºæœåŠ¡å™¨æ¥é¿å…æµè§ˆå™¨çš„&quot;åŒæºç­–ç•¥é™åˆ¶&quot;ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;7d6d0302ee41e2f4dc8f5c40381ff463&quot;&gt;Nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œ&lt;a href=&quot;https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/7793488&quot; target=&quot;_blank&quot;&gt;åå‘ä»£ç†&lt;/a&gt;webæœåŠ¡å™¨&lt;/p&gt;
&lt;p data-lake-id=&quot;c129c1e8f3d5ca825117b7cddd1c8609&quot;&gt;&lt;span class=&quot;lake-card-margin-top lake-card-margin-bottom lake-selected&quot; data-card-type=&quot;inline&quot; data-lake-card=&quot;image&quot; data-card-value=&quot;data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fpng%2F305942%2F1599320715725-55c076aa-1d7e-4032-a6ec-5c935d08e689.png%22%2C%22originWidth%22%3A423%2C%22originHeight%22%3A325%2C%22name%22%3A%22image.png%22%2C%22size%22%3A81587%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A319.79565%2C%22y%22%3A89.92758%2C%22width%22%3A41.076419999999985%2C%22height%22%3A9.494485999999995%2C%22text%22%3A%22server%22%7D%2C%7B%22x%22%3A319.121%2C%22y%22%3A180.00572%2C%22width%22%3A42.280700000000024%2C%22height%22%3A10.658080000000012%2C%22text%22%3A%22server2%22%7D%2C%7B%22x%22%3A167.48984%2C%22y%22%3A189.10753%2C%22width%22%3A88.68046000000001%2C%22height%22%3A10.889849999999996%2C%22text%22%3A%22www.baidu.com%22%7D%2C%7B%22x%22%3A41.929157%2C%22y%22%3A208.55603%2C%22width%22%3A28.352953000000007%2C%22height%22%3A11.200680000000006%2C%22text%22%3A%22local%22%7D%2C%7B%22x%22%3A315.63998%2C%22y%22%3A278.6993%2C%22width%22%3A43.83179000000001%2C%22height%22%3A11.709569999999985%2C%22text%22%3A%22server3%22%7D%5D%2C%22style%22%3A%22none%22%2C%22search%22%3A%22server%20server2%20www.baidu.com%20local%20server3%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22width%22%3A211.5%2C%22height%22%3A163%7D&quot;&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/png/305942/1599320715725-55c076aa-1d7e-4032-a6ec-5c935d08e689.png&quot; alt=&quot;image.png&quot; class=&quot;image lake-drag-image&quot; title=&quot;image.png&quot; data-role=&quot;image&quot; data-raw-src=&quot;&quot; data-height=&quot;163px&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;6b808c500a8fdcb6c68051241074448e&quot;&gt;æ³¨æ„âš ï¸ï¼š åå‘ä»£ç†éšè—äº†çœŸå®çš„æœåŠ¡å™¨&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p data-lake-id=&quot;2dfebe278feed17c16f0e6c5379ac67d&quot;&gt;æ‰©å±•ï¼šæ­£å‘ä»£ç†éšè—äº†çœŸå®çš„å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-lake-id=&quot;5fbae179c3fc63f1a51b059a01849324&quot;&gt;&lt;strong&gt;Nginx åå‘ä»£ç†æ¨¡å— proxy_pass&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;87269babc2c1cf8fa2ab1483096320cc&quot;&gt;proxy_pass åé¢è·Ÿç€ä¸€ä¸ª URLï¼Œç”¨æ¥å°†è¯·æ±‚åå‘ä»£ç†åˆ° URL å‚æ•°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šã€‚ä¾‹å¦‚æˆ‘ä»¬ä¸Šé¢ä¾‹å­ä¸­çš„ proxy_pass &lt;a href=&quot;https://api.shanbay.com&quot; target=&quot;_blank&quot;&gt;https://api.shanbay.com&lt;/a&gt;ï¼Œåˆ™å°†åŒ¹é…çš„è¯·æ±‚åå‘ä»£ç†åˆ° &lt;a href=&quot;https://api.shanbay.com/&quot; target=&quot;_blank&quot;&gt;https://api.shanbay.com&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p data-lake-id=&quot;51fba9f9d16cf85a6ad0e8d39bf53355&quot;&gt;é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ proxy_pass ä½ çš„æœåŠ¡å™¨ip,å°±å¯ä»¥å®Œæˆåå‘ä»£ç†ã€‚&lt;/p&gt;
&lt;div id=&quot;9RV3J&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%20%20%20%20%20%20%2080%3B%5Cn%20%20%20%20server_name%20%20localhost%3B%5Cn%20%20%20%20%23%23%20%E7%94%A8%E6%88%B7%E8%AE%BF%E9%97%AE%20localhost%EF%BC%8C%E5%88%99%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%88%B0https%3A%2F%2Fapi.shanbay.com%5Cn%20%20%20%20location%20%2F%20%7B%5Cn%20%20%20%20%20%20%20%20root%20%20%20html%3B%5Cn%20%20%20%20%20%20%20%20index%20%20index.html%20index.htm%3B%5Cn%20%20%20%20%20%20%20%20proxy_pass%20https%3A%2F%2Fapi.shanbay.com%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%229RV3J%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;server {
    listen       &lt;/span&gt;80&lt;span&gt;;
    server_name  localhost;
    ## ç”¨æˆ·è®¿é—® localhostï¼Œåˆ™åå‘ä»£ç†åˆ°https:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;api.shanbay.com&lt;/span&gt;
    location /&lt;span&gt; {
        root   html;
        index  index.html index.htm;
        proxy_pass https:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;api.shanbay.com;&lt;/span&gt;
&lt;span&gt;    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;blockquote readability=&quot;2.0779220779221&quot;&gt;
&lt;p data-lake-id=&quot;1615c6835b558322e30d296cabe73930&quot;&gt;nginxåå‘ä»£ç†è¯¦ç»†é…ç½®ï¼š&lt;a href=&quot;https://www.cnblogs.com/ddlove/p/9945988.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/ddlove/p/9945988.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;TQiIH&quot; data-lake-id=&quot;bc80ed91e73777d85e207e839c541280&quot;&gt;ä½¿ç”¨webpacké…ç½®ä»£ç†&lt;/h3&gt;
&lt;p data-lake-id=&quot;47c09432efd74e37135da31dcb3e8cbe&quot;&gt;&lt;strong&gt;å‰ææ¡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;86866a09dd616cdc903bb1c5153a4cc6&quot;&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;1ã€éœ€è¦ä½¿ç”¨æœ¬åœ°å¼€å‘æ’ä»¶ï¼š&lt;a href=&quot;https://github.com/webpack/webpack-dev-server&quot; target=&quot;_blank&quot;&gt;webpack-dev-server&lt;/a&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;cc9f37bae2e3c88bb22980720f485055&quot;&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;2ã€webpack-dev-serverä½¿ç”¨çš„æ˜¯&lt;a href=&quot;https://github.com/chimurai/http-proxy-middleware&quot; target=&quot;_blank&quot;&gt;http-proxy-middleware&lt;/a&gt;&lt;span class=&quot;lake-fontsize-12&quot;&gt;æ¥å®ç°è·¨åŸŸä»£ç†çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;3ysmT&quot; class=&quot;lake-card-margin lake-selected&quot; data-card-type=&quot;block&quot; data-lake-card=&quot;codeblock&quot; data-card-value=&quot;data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22module.exports%20%3D%20%7B%5Cn%20%20%2F%2F...%5Cn%20%20devServer%3A%20%7B%5Cn%20%20%20%20proxy%3A%20%7B%5Cn%20%20%20%20%20%20'%2Fapi'%3A%20%7B%5Cn%20%20%20%20%20%20%20%20target%3A%20'http%3A%2F%2Fwww.baidu.com%2F'%2C%5Cn%20%20%20%20%20%20%20%20pathRewrite%3A%20%7B'%5E%2Fapi'%20%3A%20''%7D%2C%5Cn%20%20%20%20%20%20%20%20changeOrigin%3A%20true%2C%20%20%20%20%20%2F%2F%20target%E6%98%AF%E5%9F%9F%E5%90%8D%E7%9A%84%E8%AF%9D%EF%BC%8C%E9%9C%80%E8%A6%81%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%5Cn%20%20%20%20%20%20%20%20secure%3A%20false%2C%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%94%AF%E6%8C%81https%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BB%A3%E7%90%86%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20'%2Fapi2'%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20.....%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%3B%22%2C%22heightLimit%22%3Atrue%2C%22margin%22%3Atrue%2C%22id%22%3A%223ysmT%22%7D&quot; data-language=&quot;javascript&quot;&gt;
&lt;div class=&quot;lake-codeblock-content&quot;&gt;
&lt;div class=&quot;CodeMirror-sizer&quot; readability=&quot;9.5&quot;&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
module.exports =&lt;span&gt; {
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;...&lt;/span&gt;
&lt;span&gt;  devServer: {
    proxy: {
      &lt;/span&gt;'/api'&lt;span&gt;: {
        target: &lt;/span&gt;'http://www.baidu.com/'&lt;span&gt;,
        pathRewrite: {&lt;/span&gt;'^/api' : ''&lt;span&gt;},
        changeOrigin: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;,     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; targetæ˜¯åŸŸåçš„è¯ï¼Œéœ€è¦è¿™ä¸ªå‚æ•°ï¼Œ&lt;/span&gt;
        secure: &lt;span&gt;false&lt;/span&gt;,          &lt;span&gt;//&lt;/span&gt;&lt;span&gt; è®¾ç½®æ”¯æŒhttpsåè®®çš„ä»£ç†&lt;/span&gt;
&lt;span&gt;      },
      &lt;/span&gt;'/api2'&lt;span&gt;: {
          .....
      }
    }
  }
};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;blockquote readability=&quot;1.2931034482759&quot;&gt;
&lt;p data-lake-id=&quot;9b35c72110b725f5c1489f4243da764d&quot;&gt;å‚è€ƒè‡ª&lt;/p&gt;
&lt;p data-lake-id=&quot;1a1048333c4922cc6939c62cb2b75da8&quot;&gt;ç™¾åº¦ç™¾ç§‘&lt;/p&gt;
&lt;p data-lake-id=&quot;002986b9e73704d8afa5bdf43b686d38&quot;&gt;&lt;a href=&quot;https://blog.csdn.net/wangchengiii/article/details/78081032&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/wangchengiii/article/details/78081032&lt;/a&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;1a5ee93c418e5b5b4f92dbd5c6d48eba&quot;&gt;&lt;a href=&quot;https://www.cnblogs.com/mmy67/p/10032915.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/mmy67/p/10032915.html&lt;/a&gt;&lt;/p&gt;
&lt;p data-lake-id=&quot;3521a6aa7ae2b55bd9e8fbdcd3ad7fed&quot;&gt;&lt;a href=&quot;https://www.cnblogs.com/mmy67/p/10032915.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/mmy67/p/10032915.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-lake-id=&quot;a86c400e6d715fd2e57fb30ed0ab8055&quot;&gt;Â &lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 16:03:00 +0000</pubDate>
<dc:creator>ä¸€åªèœé¸Ÿæ”»åŸç‹®å•Š</dc:creator>
<og:description>äº§ç”ŸåŸå›  ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸå‘¢ï¼Œå› ä¸ºæµè§ˆå™¨ä¸ºäº†å®‰å…¨é‡‡ç”¨äº†ä¸€ç³»åˆ—çš„å®‰å…¨æœºåˆ¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯åŒæºç­–ç•¥ã€‚ä½•ä¸ºåŒæºç­–ç•¥ï¼ˆsame-origin policyï¼‰ã€‚ç®€å•æ¥è®²åŒæºç­–ç•¥å°±æ˜¯æµè§ˆå™¨ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/suihang/p/13620361.html</dc:identifier>
</item>
<item>
<title>MySQL äº‹åŠ¡æ“ä½œ - äº‘å´–å…ˆç”Ÿ</title>
<link>http://www.cnblogs.com/Yunya-Cnblogs/p/13620295.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Yunya-Cnblogs/p/13620295.html</guid>
<description>&lt;p&gt;ã€€ã€€ äº‹åŠ¡æ˜¯æŒ‡å¯¹ä¸€ç»„&lt;code&gt;SQL&lt;/code&gt;è¯­å¥è¿›è¡Œä¸€ä¸ªåŸå­åŒ–çš„æ“ä½œï¼Œå³å¦‚æœè¿™ä¸€ç»„&lt;code&gt;SQL&lt;/code&gt;è¯­å¥ä¸­æœ‰ä¸€æ¡å‘ç”Ÿé”™è¯¯ï¼Œé‚£ä¹ˆå…¶ä»–çš„åŒç»„&lt;code&gt;SQL&lt;/code&gt;å°±éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ ä½ å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ªæµ‹è¯•ï¼Œå½“ä½ æ‰§è¡Œå®Œä¸€ç»„&lt;code&gt;SQL&lt;/code&gt;è¯­å¥åï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç»“æœæ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ­£ç¡®åå¯ä»¥é€‰æ‹©æäº¤ï¼Œå¦‚æœä¸æ­£ç¡®åˆ™å¯ä»¥è¿›è¡Œå›æ»šï¼Œæ¢å¤åˆ°åŸæœ¬çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ åœ¨&lt;code&gt;MySQL&lt;/code&gt;ä¸­ï¼Œæ‰€æœ‰çš„æ“ä½œé»˜è®¤éƒ½æ˜¯è‡ªåŠ¨è¿›è¡Œæäº¤ï¼Œå½“å¼€å¯äº‹åŠ¡ååˆ™å˜ä¸ºæ‰‹åŠ¨æäº¤ã€‚&lt;/p&gt;

&lt;h2&gt;å•ç‹¬å¼€å¯&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ å•ç‹¬å¼€å¯æ˜¯æŒ‡å¯¹æŸä¸€ç»„çš„&lt;code&gt;SQL&lt;/code&gt;è¯­å¥å¼€å¯äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CREATE TABLE user(
        id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
        name CHAR(12) NOT NULL,
        balance INT UNSIGNED 
); -- åˆ›å»ºç”¨æˆ·è¡¨

INSERT INTO user(name,balance) VALUES
        (&quot;Yunya&quot;,1000),
        (&quot;Ken&quot;,500); -- æ’å…¥æ•°æ®


start transaction; -- å¼€å¯äº‹åŠ¡ï¼Œå¢åˆ æ”¹æ“ä½œå‡è¦æ‰‹åŠ¨æäº¤

        UPDATE user SET balance = 500 WHERE name = &quot;Yunya&quot;; -- Yunyaå¯¹Kenè½¬è´¦500
        UPDATE user SET balance = 1000 WHERE name = &quot;Ken&quot;;
        SELECT * FROM user; -- éªŒè¯æ˜¯å¦å‡ºé”™

        COMMIT; -- æäº¤äº‹åŠ¡ï¼šæ‰‹åŠ¨æäº¤ä¸Šé¢ä¸¤æ¡UPDATE
        -- ROLLBACK; -- äº‹åŠ¡å›æ»šï¼šè½¬è´¦é‡‘é¢ä¸å¯¹æ—¶ä½¿ç”¨å›æ»š

BEGIN -- å…³é—­äº‹åŠ¡ï¼Œå¢åˆ æ”¹æ“ä½œå‡è‡ªåŠ¨æäº¤
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2&gt;å…¨å±€å¼€å¯&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ å¦‚æœæ‰€æœ‰&lt;code&gt;SQL&lt;/code&gt;éƒ½ä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code&gt;SET AUTOCOMMIT=0&lt;/code&gt; å…³é—­è‡ªåŠ¨æäº¤æ¥å¼€å¯äº‹åŠ¡æœºåˆ¶ï¼Œè¿™æ ·æ‰€æœ‰è¯­å¥éƒ½æ˜¯äº‹åŠ¡ç±»å‹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;-- å…³é—­è‡ªåŠ¨æäº¤
SET AUTOCOMMIT = 0;

INSERT INTO user(name,balance) VALUES
        ('Jack',8000);
        
COMMIT;

-- å¼€å¯è‡ªåŠ¨æäº¤
SET AUTOCOMMIT = 1;
&lt;/code&gt;
&lt;/pre&gt;

&lt;h2&gt;å¹¶å‘é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ å½“é«˜å¹¶å‘è®¿é—®ä¼šé‡åˆ°å¤šä¸ªäº‹åŠ¡çš„éš”ç¦»é—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;è„è¯»ï¼šäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»å–åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®&lt;/li&gt;
&lt;li&gt;ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡Båœ¨äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®æ—¶ï¼Œç»“æœä¸ä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;å¹»è¯»ï¼šç³»ç»Ÿç®¡ç†å‘˜Aå°†æ•°æ®åº“ä¸­æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©ä»å…·ä½“åˆ†æ•°æ”¹ä¸ºABCDEç­‰çº§ï¼Œä½†æ˜¯ç³»ç»Ÿç®¡ç†å‘˜Bå°±åœ¨è¿™ä¸ªæ—¶å€™æ’å…¥äº†ä¸€æ¡å…·ä½“åˆ†æ•°çš„è®°å½•ï¼Œå½“ç³»ç»Ÿç®¡ç†å‘˜Aæ”¹ç»“æŸåå‘ç°è¿˜æœ‰ä¸€æ¡è®°å½•æ²¡æœ‰æ”¹è¿‡æ¥ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œè¿™å°±å«å¹»è¯»ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;ã€€ã€€ ä¸å¯é‡å¤è¯»çš„å’Œå¹»è¯»å¾ˆå®¹æ˜“æ··æ·†ï¼Œä¸å¯é‡å¤è¯»ä¾§é‡äºä¿®æ”¹ï¼Œå¹»è¯»ä¾§é‡äºæ–°å¢æˆ–åˆ é™¤ã€‚è§£å†³ä¸å¯é‡å¤è¯»çš„é—®é¢˜åªéœ€é”ä½æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè§£å†³å¹»è¯»éœ€è¦é”è¡¨&lt;/p&gt;
&lt;h2&gt;éš”ç¦»çº§åˆ«&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ ç³»ç»Ÿé»˜è®¤éš”ç¦»çº§åˆ«ä¸º3çº§ï¼Œå¯èƒ½å‡ºç°å¹»è¯»çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;éš”ç¦»çº§åˆ«&lt;/th&gt;
&lt;th&gt;ä¸­æ–‡é‡Šä¹‰&lt;/th&gt;
&lt;th&gt;è„è¯»&lt;/th&gt;
&lt;th&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;
&lt;th&gt;å¹»è¯»&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;6&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;read uncommitted&lt;/td&gt;
&lt;td&gt;è¯»æœªæäº¤&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æœ€ä½çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æäº¤æ—¶ï¼Œå®ƒåšçš„å˜æ›´å°±èƒ½è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;read committed&lt;/td&gt;
&lt;td&gt;ä¸å¯é‡å¤è¯»&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;ä¿è¯ä¸€ä¸ªäº‹ç‰©æäº¤åæ‰èƒ½è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»å–ã€‚å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸èƒ½è¯»å–è¯¥äº‹ç‰©æœªæäº¤çš„æ•°æ®&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;repeatable read&lt;/td&gt;
&lt;td&gt;å¯é‡å¤è¯»&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;å¤šæ¬¡è¯»å–åŒä¸€èŒƒå›´çš„æ•°æ®ä¼šè¿”å›ç¬¬ä¸€æ¬¡æŸ¥è¯¢çš„å¿«ç…§ï¼Œå³ä½¿å…¶ä»–äº‹åŠ¡å¯¹è¯¥æ•°æ®åšäº†æ›´æ–°ä¿®æ”¹ã€‚äº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´çœ‹åˆ°çš„æ•°æ®å‰åå¿…é¡»æ˜¯ä¸€è‡´çš„&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;serializable&lt;/td&gt;
&lt;td&gt;ä¸²è¡ŒåŒ–&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;äº‹åŠ¡ 100% éš”ç¦»ï¼Œå¯é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»çš„å‘ç”Ÿã€‚èŠ±è´¹æœ€é«˜ä»£ä»·ä½†æœ€å¯é çš„äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;ã€€ã€€ ä¸€èˆ¬æ¥è¯´ç³»ç»Ÿé»˜è®¤çš„3çº§å°±è¶³ä»¥åº”ä»˜å¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯ï¼Œä½†æ˜¯è®¾è®¡é‡‘èç±»æ•°æ®æ—¶ä¸€å®šè¦æ…é‡ã€‚&lt;/p&gt;
&lt;h2&gt;æŸ¥è¯¢è®¾ç½®&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ æŸ¥è¯¢éš”ç¦»çº§åˆ«&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-text&quot; lang=&quot;text&quot;&gt;select @@tx_isolation;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ã€€ã€€ è®¾ç½®éš”ç¦»çº§åˆ«&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-text&quot; lang=&quot;text&quot;&gt;set session transaction isolation level read uncommitted; -- set sessionåªå¯¹å½“å‰ä¼šè¯æœ‰æ•ˆï¼Œset globalåˆ™å¯¹å…¨å±€æœ‰æ•ˆ
&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Sat, 05 Sep 2020 15:35:00 +0000</pubDate>
<dc:creator>äº‘å´–å…ˆç”Ÿ</dc:creator>
<og:description>åŸºç¡€çŸ¥è¯† äº‹åŠ¡æ˜¯æŒ‡å¯¹ä¸€ç»„SQLè¯­å¥è¿›è¡Œä¸€ä¸ªåŸå­åŒ–çš„æ“ä½œï¼Œå³å¦‚æœè¿™ä¸€ç»„SQLè¯­å¥ä¸­æœ‰ä¸€æ¡å‘ç”Ÿé”™è¯¯ï¼Œé‚£ä¹ˆå…¶ä»–çš„åŒç»„SQLå°±éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚ ä½ å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ªæµ‹è¯•ï¼Œå½“ä½ æ‰§è¡Œå®Œä¸€ç»„SQLè¯­å¥åï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç»“</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Yunya-Cnblogs/p/13620295.html</dc:identifier>
</item>
<item>
<title>åˆ©ç”¨é€’å½’æ–¹æ³•å®ç°é“¾è¡¨åè½¬ã€å‰Nä¸ªèŠ‚ç‚¹åè½¬ä»¥åŠä¸­é—´éƒ¨åˆ†èŠ‚ç‚¹åè½¬ - CHAN_å‚‘</title>
<link>http://www.cnblogs.com/Code-CHAN/p/13620048.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Code-CHAN/p/13620048.html</guid>
<description>&lt;h3 id=&quot;ä¸€ã€åè½¬æ•´ä¸ªé“¾è¡¨&quot;&gt;ä¸€ã€åè½¬æ•´ä¸ªé“¾è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;è¾“å…¥: 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL
è¾“å‡º: 5-&amp;gt;4-&amp;gt;3-&amp;gt;2-&amp;gt;1-&amp;gt;NULL
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;//å•é“¾è¡¨çš„å®ç°ç»“æ„
public class ListNode {
  int val;
  ListNode next;
  ListNode(int x) { val = x;}
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åè½¬é“¾è¡¨åˆ©ç”¨è¿­ä»£ä¸éš¾å®ç°ï¼Œå¦‚æœä½¿ç”¨é€’å½’åˆ™æœ‰äº›è®¸éš¾åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é¦–å…ˆæ¥çœ‹æºç å®ç°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ListNode reverse(ListNode head) {
  if(head == null || head.next == null)
    return head;
  ListNode ret = reverse(head.next);
  head.next.next = head;
  head.next = null;
  return ret;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ˜¯å¦çœ‹èµ·æ¥ä¸çŸ¥æ‰€äº‘ï¼Œè€Œåˆè¢«è¿™å¦‚æ­¤ç®€æ´çš„ä»£ç æ‰€éœ‡æ’¼ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢ä¸€ä¸‹å…¶ä¸­çš„å¥¥ç§˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºé€’å½’ç®—æ³•ï¼Œæœ€é‡è¦çš„æ˜¯æ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„&lt;code&gt;reverse&lt;/code&gt;å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹&lt;code&gt;head&lt;/code&gt;,å°†ä»¥&lt;code&gt;head&lt;/code&gt;ä¸ºèµ·ç‚¹çš„é“¾è¡¨åè½¬ï¼Œå¹¶è¿”å›åè½¬ä¹‹åçš„å¤´èŠ‚ç‚¹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2134418/202009/2134418-20200905222603142-1095795832.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ˜ç™½äº†å‡½æ•°çš„å®šä¹‰åï¼Œåœ¨æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³åè½¬è¿™ä¸ªé“¾è¡¨&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gig4tmomavj32990u0dj9.jpg&quot; alt=&quot;æˆªå±2020-09-05 21.06.50&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¾“å…¥&lt;code&gt;reverseï¼ˆheadï¼‰&lt;/code&gt;åï¼Œä¼šåœ¨&lt;code&gt;ListNode ret = reverse(head.next);&lt;/code&gt;è¿›è¡Œé€’å½’&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸è¦è·³è¿›é€’å½’ï¼&lt;/strong&gt;ï¼ˆä½ çš„è„‘è¢‹èƒ½å‹å‡ ä¸ªæ ˆå‘€ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;æ ¹æ®&lt;code&gt;reverse&lt;/code&gt;å‡½æ•°çš„å®šä¹‰ï¼Œå‡½æ•°è°ƒç”¨åä¼šè¿”å›åè½¬ä¹‹åçš„å¤´èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç”¨å˜é‡&lt;code&gt;ret&lt;/code&gt;æ¥æ”¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gig4tm51hlj317k0g4wfo.jpg&quot; alt=&quot;æˆªå±2020-09-05 21.14.18&quot; loading=&quot;lazy&quot;/&gt;ç°åœ¨å†æ¥çœ‹ä¸€ä¸‹ä»£ç &lt;/p&gt;
&lt;p&gt;&lt;code&gt;head.next.next = head;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gig4tjjd3gj31860ieq4e.jpg&quot; alt=&quot;æˆªå±2020-09-05 21.16.19&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;head.next = null;
return ret;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gig4tlhsaij317m0he3zw.jpg&quot; alt=&quot;æˆªå±2020-09-05 21.18.16&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å†è·³å‡ºè¿™å±‚é€’å½’å°±ä¼šå¾—åˆ°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gig4tirt6hj318s0hyq47.jpg&quot; alt=&quot;æˆªå±2020-09-05 21.19.41&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç¥ä¸ç¥å¥‡ï¼Œè¿™æ ·æ•´ä¸ªé“¾è¡¨å°±åè½¬è¿‡æ¥äº†ï¼&lt;/p&gt;
&lt;p&gt;é€’å½’ä»£ç å°±æ˜¯è¿™ä¹ˆç®€æ´ä¼˜é›…ï¼Œä½†è¦æ³¨æ„ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1ã€é€’å½’å‡½æ•°è¦æœ‰base caseï¼Œä¸ç„¶å°±ä¼šä¸€ç›´é€’å½’ï¼Œå¯¼è‡´æ ˆæº¢å‡º&lt;/p&gt;
&lt;p&gt;&lt;code&gt;if (head == null || head.next == null) return head;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å³é“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›&lt;/p&gt;
&lt;p&gt;2ã€å½“é“¾è¡¨é€’å½’åè½¬åï¼Œæ–°çš„å¤´èŠ‚ç‚¹ä¸º&lt;code&gt;ret&lt;/code&gt;,è€Œ&lt;code&gt;head&lt;/code&gt;å˜æˆäº†æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåº”è¯¥ä»¤é“¾è¡¨çš„æŸå°¾æŒ‡å‘&lt;code&gt;null&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;head.next = null;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç†è§£è¿™ä¸¤ä¸ªé—®é¢˜ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ·±å…¥ç ”ç©¶é“¾è¡¨åè½¬çš„é—®é¢˜ï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å…¶å®å‡ä¸ºåœ¨è¿™ä¸ªç®—æ³•ä¸Šçš„æ‰©å±•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äºŒã€åè½¬é“¾è¡¨å‰nä¸ªèŠ‚ç‚¹&quot;&gt;äºŒã€åè½¬é“¾è¡¨å‰Nä¸ªèŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt;åè½¬é“¾è¡¨å‰Nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›é“¾è¡¨å¤´èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯´æ˜ï¼š&lt;/strong&gt;1 &amp;lt;= N &amp;lt;= é“¾è¡¨é•¿åº¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;è¾“å…¥: 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL, n = 4
è¾“å‡º: 4-&amp;gt;3-&amp;gt;2-&amp;gt;1-&amp;gt;5-&amp;gt;NULL
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è§£å†³æ€è·¯å’Œåè½¬æ•´ä¸ªé“¾è¡¨å·®ä¸å¤šï¼Œåªéœ€ç¨åŠ ä¿®æ”¹&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ListNode successor = null; // åé©±èŠ‚ç‚¹ï¼ˆç¬¬ n + 1 ä¸ªèŠ‚ç‚¹ï¼‰

ListNdoe reverseN(ListNode head, int n) {
  if (n == 1) {
    successor = head.next;
    return head;
  }
  // ä»¥ head.next ä¸ºèµ·ç‚¹ï¼Œéœ€è¦åè½¬å‰ n - 1 ä¸ªèŠ‚ç‚¹
  ListNode ret = reverseN(head.next, n - 1);
  head.next.next = head;
  head.next = successor; // å°†åè½¬åçš„ head ä¸åé¢èŠ‚ç‚¹è¿æ¥
  return ret;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…·ä½“åŒºåˆ«ï¼š&lt;/p&gt;
&lt;p&gt;1ã€base case å˜ä¸º&lt;code&gt;n == 1&lt;/code&gt;, åŒæ—¶éœ€è¦&lt;strong&gt;è®°å½•åé©±èŠ‚ç‚¹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;2ã€ä¹‹å‰æŠŠ&lt;code&gt;head.next&lt;/code&gt; è®¾ç½®ä¸º&lt;code&gt;null&lt;/code&gt;,å› ä¸ºæ•´ä¸ªé“¾è¡¨åè½¬åï¼Œ&lt;code&gt;head&lt;/code&gt;å˜ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨&lt;code&gt;head&lt;/code&gt;èŠ‚ç‚¹åœ¨é€’å½’åè½¬åä¸ä¸€å®šä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ•…åº”è®°å½•åé©±&lt;code&gt;successor&lt;/code&gt;(ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹), åè½¬ä¹‹åå°†&lt;code&gt;head&lt;/code&gt;è¿æ¥ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2134418/202009/2134418-20200905222640702-566505710.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;OKï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°ä½ ä¹Ÿèƒ½çœ‹æ‡‚ï¼Œå°±ç¦»å®ç°&lt;strong&gt;åè½¬ä¸€éƒ¨åˆ†é“¾è¡¨&lt;/strong&gt;ä¸è¿œäº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸‰ã€åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†&quot;&gt;ä¸‰ã€åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç»™ä¸€ä¸ªç´¢å¼•åŒºé—´&lt;code&gt;[m, n]&lt;/code&gt;ï¼ˆç´¢å¼•ä»1å¼€å§‹ï¼‰ï¼Œä»…ä»…åè½¬åŒºé—´ä¸­çš„é“¾è¡¨å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯´æ˜ï¼š&lt;/strong&gt;1 &amp;lt;= m &amp;lt;= n &amp;lt;= é“¾è¡¨é•¿åº¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;è¾“å…¥: 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL, m = 2, n = 4
è¾“å‡º: 1-&amp;gt;4-&amp;gt;3-&amp;gt;2-&amp;gt;5-&amp;gt;NULL
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çŒ›ä¸€çœ‹å¾ˆéš¾æƒ³åˆ°æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœ&lt;code&gt;m == 1&lt;/code&gt;,å°±ç›¸å½“äºåè½¬é“¾è¡¨çš„å‰ n å…ƒç´ å˜›ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰å®ç°çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ListNode reverseBetween(ListNode head, int m, int n) {
  //base case
  if (m == 1) {
    return reverseN(head, n); // ç›¸å½“äºåè½¬å‰ n ä¸ªå…ƒç´ 
  }
  // ...
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£å¦‚æœ&lt;code&gt;m != 1&lt;/code&gt; è¯¥æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠŠ&lt;code&gt;head&lt;/code&gt;çš„ç´¢å¼•è§†ä¸º&lt;code&gt;1&lt;/code&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯æƒ³ä»ç¬¬&lt;code&gt;m&lt;/code&gt;ä¸ªå…ƒç´ å¼€å§‹åè½¬ï¼›&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠŠ&lt;code&gt;head.next&lt;/code&gt;çš„ç´¢å¼•è§†ä¸º&lt;code&gt;1&lt;/code&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯æƒ³ä»ç¬¬&lt;code&gt;m - 1&lt;/code&gt; ä¸ªå…ƒç´ å¼€å§‹åè½¬ï¼›&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠŠ&lt;code&gt;head.next.next&lt;/code&gt;çš„ç´¢å¼•è§†ä¸º&lt;code&gt;1&lt;/code&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯æƒ³ä»ç¬¬&lt;code&gt;m - 2&lt;/code&gt; ä¸ªå…ƒç´ å¼€å§‹åè½¬ï¼›&lt;/p&gt;
&lt;p&gt;......&lt;/p&gt;
&lt;p&gt;åŒºåˆ«äºè¿­ä»£æ€æƒ³ï¼Œè¿™å°±æ˜¯é€’å½’çš„æ€æƒ³ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®Œæˆä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;ListNode reverseBetween(ListNode head, int m, int n) {
  // base case
  if (m == 1) {
    return reverseN(head, n);
  }
  // é€’å½’å‰è¿›åˆ°è§¦å‘ base case ï¼ˆm == 1ï¼‰
  head.next = reverseBetween(head.next, m - 1, n - 1);
  return head;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘ä»¬ç»ˆäºå¹²æ‰äº†å¤§BOSSï¼&lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 14:23:00 +0000</pubDate>
<dc:creator>CHAN_å‚‘</dc:creator>
<og:description>ä¸€ã€åè½¬æ•´ä¸ªé“¾è¡¨ é—®é¢˜ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: è¾“å…¥: 1-&amp;amp;gt;2-&amp;amp;gt;3-&amp;amp;gt;4-&amp;amp;gt;5-&amp;</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Code-CHAN/p/13620048.html</dc:identifier>
</item>
<item>
<title>ctfå¸¸è§æºç æ³„éœ² - Lmg66</title>
<link>http://www.cnblogs.com/Lmg66/p/13598803.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Lmg66/p/13598803.html</guid>
<description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;åœ¨ctfä¸­å‘ç°å¾ˆå¤šæºç æ³„éœ²çš„é¢˜ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºç½‘ç«™çš„æ­å»ºè¦æ³¨æ„åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼Œå’Œä¸€äº›å·¥å…·çš„ä½¿ç”¨å¦‚gitï¼Œsvnç­‰ç­‰çš„è§„èŒƒä½¿ç”¨ï¼Œé¿å…å¤‡ä»½æ–‡ä»¶å‡ºç°åœ¨å…¬ç½‘&lt;/p&gt;
&lt;h2 id=&quot;svnæºç æ³„éœ²&quot;&gt;SVNæºç æ³„éœ²&lt;/h2&gt;
&lt;h3 id=&quot;åŸç†&quot;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;SVNï¼ˆsubversionï¼‰æ˜¯æºä»£ç ç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼Œé€ æˆSVNæºä»£ç æ¼æ´çš„ä¸»è¦åŸå› æ˜¯ç®¡ç†å‘˜æ“ä½œä¸è§„èŒƒã€‚â€œåœ¨ä½¿ç”¨SVNç®¡ç†æœ¬åœ°ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º.svnçš„éšè—æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«é‡è¦çš„æºä»£ç ä¿¡æ¯ã€‚ä½†ä¸€äº›ç½‘ç«™ç®¡ç†å‘˜åœ¨å‘å¸ƒä»£ç æ—¶ï¼Œä¸æ„¿æ„ä½¿ç”¨â€˜å¯¼å‡ºâ€™åŠŸèƒ½ï¼Œè€Œæ˜¯ç›´æ¥å¤åˆ¶ä»£ç æ–‡ä»¶å¤¹åˆ°WEBæœåŠ¡å™¨ä¸Šï¼Œè¿™å°±ä½¿.svnéšè—æ–‡ä»¶å¤¹è¢«æš´éœ²äºå¤–ç½‘ç¯å¢ƒï¼Œé»‘å®¢å¯ä»¥å€ŸåŠ©å…¶ä¸­åŒ…å«çš„ç”¨äºç‰ˆæœ¬ä¿¡æ¯è¿½è¸ªçš„â€˜entriesâ€™æ–‡ä»¶ï¼Œé€æ­¥æ‘¸æ¸…ç«™ç‚¹ç»“æ„ã€‚â€ï¼ˆå¯ä»¥åˆ©ç”¨.svn/entriesæ–‡ä»¶ï¼Œè·å–åˆ°æœåŠ¡å™¨æºç ã€svnæœåŠ¡å™¨è´¦å·å¯†ç ç­‰ä¿¡æ¯ï¼‰&lt;/p&gt;
&lt;p&gt;æ›´ä¸¥é‡çš„é—®é¢˜åœ¨äºï¼ŒSVNäº§ç”Ÿçš„.svnç›®å½•ä¸‹è¿˜åŒ…å«äº†ä»¥.svn-baseç»“å°¾çš„æºä»£ç æ–‡ä»¶å‰¯æœ¬ï¼ˆä½ç‰ˆæœ¬SVNå…·ä½“è·¯å¾„ä¸ºtext-baseç›®å½•ï¼Œé«˜ç‰ˆæœ¬SVNä¸ºpristineç›®å½•ï¼‰ï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å¯¹æ­¤ç±»åç¼€åšè§£æï¼Œé»‘å®¢åˆ™å¯ä»¥ç›´æ¥è·å¾—æ–‡ä»¶æºä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨å·¥å…·svnhack&quot;&gt;åˆ©ç”¨å·¥å…·SvnHack&lt;/h3&gt;
&lt;p&gt;githubé¡¹ç›®åœ°å€:&lt;a href=&quot;https://github.com/callmefeifei/SvnHack&quot;&gt;https://github.com/callmefeifei/SvnHack&lt;/a&gt;&lt;br/&gt;&lt;strong&gt;ä½¿ç”¨éœ€è¦python2çš„ç¯å¢ƒ&lt;/strong&gt;&lt;br/&gt;åˆ—å–ç›®å½•:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;python SvnHack.py -u http://trafficbonus.com/.svn/entries
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200901205006339-12260316.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;åˆ—å–æŒ‡å®šç›®å½•&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;python SvnHack.py -u http://trafficbonus.com/.svn/entries -d sql
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯»å–æŒ‡å®šä»£ç &lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;python SvnHack.py -u http://trafficbonus.com/.svn/entries -r index.php
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200901205558516-409628849.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;ä¸‹è½½æ•´ç«™&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;python SvnHack.py -u http://trafficbonus.com/.svn/entries --download
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200901205733169-437490455.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;gitæºç æ³„éœ²&quot;&gt;gitæºç æ³„éœ²&lt;/h2&gt;
&lt;h3 id=&quot;åŸç†-2&quot;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåœ¨æ‰§è¡Œgit initåˆå§‹åŒ–ç›®å½•çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª.gitç›®å½•ï¼Œç”¨æ¥è®°å½•ä»£ç çš„å˜æ›´è®°å½•ç­‰ã€‚å‘å¸ƒä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŠŠ.gitè¿™ä¸ªç›®å½•åˆ é™¤ï¼Œå°±ç›´æ¥å‘å¸ƒåˆ°äº†æœåŠ¡å™¨ä¸Šï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡å®ƒæ¥æ¢å¤æºä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨githackéœ€è¦python2ç¯å¢ƒ&quot;&gt;åˆ©ç”¨githack(éœ€è¦python2ç¯å¢ƒ)&lt;/h3&gt;
&lt;p&gt;githubé¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/lijiejie/GitHack&quot;&gt;https://github.com/lijiejie/GitHack&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;python GitHack.py http://www.openssl.org/.git/
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;hgæºç æ³„éœ²&quot;&gt;hgæºç æ³„éœ²&lt;/h2&gt;
&lt;h3 id=&quot;åŸç†-3&quot;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;Mercurial æ˜¯ä¸€ç§è½»é‡çº§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨ hg initçš„æ—¶å€™ä¼šç”Ÿæˆ.hgæ–‡ä»¶&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨éœ€è¦perl&quot;&gt;åˆ©ç”¨éœ€è¦perl&lt;/h3&gt;
&lt;p&gt;githubé¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/kost/dvcs-ripper&quot;&gt;https://github.com/kost/dvcs-ripper&lt;/a&gt;&lt;br/&gt;ä½¿ç”¨&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;perl rip-hg.pl -v -u http://www.example.com/.hg/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200901213121294-1874485432.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;cvsæ¼æ´æ³„éœ²&quot;&gt;cvsæ¼æ´æ³„éœ²&lt;/h2&gt;
&lt;h3 id=&quot;åŸç†-4&quot;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;CVSæ˜¯ä¸€ä¸ªC/Sç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ä»£ç ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚ä¸»è¦åœ¨å¼€æºè½¯ä»¶ç®¡ç†ä¸­ä½¿ç”¨ã€‚ä¸å®ƒç›¸ç±»ä¼¼çš„ä»£ç ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶æœ‰subversionã€‚å¤šä¸ªå¼€å‘äººå‘˜é€šè¿‡ä¸€ä¸ªä¸­å¿ƒç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è®°å½•æ–‡ä»¶ç‰ˆæœ¬ï¼Œä»è€Œè¾¾åˆ°ä¿è¯æ–‡ä»¶åŒæ­¥çš„ç›®çš„ã€‚CVSç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯ä¸€ç§GNUè½¯ä»¶åŒ…ï¼Œä¸»è¦ç”¨äºåœ¨å¤šäººå¼€å‘ç¯å¢ƒä¸‹çš„æºç çš„ç»´æŠ¤ã€‚ä½†æ˜¯ç”±äºä¹‹å‰CVSç¼–ç çš„é—®é¢˜ï¼Œå¤§å¤šæ•°è½¯ä»¶å¼€å‘å…¬å¸éƒ½ä½¿ç”¨SVNæ›¿ä»£äº†CVSã€‚ä¸»è¦æ˜¯é’ˆå¯¹ CVS/Rootä»¥åŠCVS/Entriesç›®å½•ï¼Œç›´æ¥å°±å¯ä»¥çœ‹åˆ°æ³„éœ²çš„ä¿¡æ¯ã€‚&lt;br/&gt;&lt;a href=&quot;http://url/CVS/Root&quot;&gt;http://url/CVS/Root&lt;/a&gt; è¿”å›æ ¹ä¿¡æ¯&lt;br/&gt;&lt;a href=&quot;http://url/CVS/Entries&quot;&gt;http://url/CVS/Entries&lt;/a&gt; è¿”å›æ‰€æœ‰æ–‡ä»¶çš„ç»“æ„&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨&quot;&gt;åˆ©ç”¨&lt;/h3&gt;
&lt;p&gt;githubé¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/kost/dvcs-ripper.git&quot;&gt;https://github.com/kost/dvcs-ripper.git&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿è¡Œç¤ºä¾‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;perl rip-cvs.pl -v -u http://www.example.com/CVS/
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;bazaarbzræ³„éœ²&quot;&gt;Bazaar/bzræ³„éœ²&lt;/h2&gt;
&lt;h3 id=&quot;åŸç†-5&quot;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;Bazaarï¼ˆbzrï¼‰æ˜¯å¦ä¸€ä¸ªå¼€æºçš„ DVCSï¼ˆDistributed Version Control Systemï¼Œå³åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼‰ï¼Œå®ƒè¯•å›¾ç»™ SCMï¼ˆSource Code Managementï¼Œå³æºç ç®¡ç†ï¼‰ çš„ä¸–ç•Œé‡Œå¸¦æ¥ä¸€äº›æ–°çš„ä¸œè¥¿ã€‚&lt;br/&gt;ã€€ã€€bzr æ˜¯ Canonical å…¬å¸æ”¯æŒçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¹Ÿå°±æ˜¯ Ubuntu Linux çš„å‘è¡Œå…¬å¸ã€‚ç®€å•æ¥è¯´ï¼Œbzr æ˜¯ç”¨ python ç¼–å†™çš„ï¼Œç”¨äºç‰ˆæœ¬æ§åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨-2&quot;&gt;åˆ©ç”¨&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;perl rip-bzr.pl -v -u http://www.example.com/.bzr/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200901214523375-276363481.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç½‘ç«™å¤‡ä»½å‹ç¼©æ–‡ä»¶&quot;&gt;ç½‘ç«™å¤‡ä»½å‹ç¼©æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ç®¡ç†å‘˜å°†ç½‘ç«™æºä»£ç å¤‡ä»½åœ¨Webç›®å½•ä¸‹ï¼Œæ”»å‡»è€…é€šè¿‡çŒœè§£æ–‡ä»¶è·¯å¾„ï¼Œä¸‹è½½å¤‡ä»½æ–‡ä»¶ï¼Œå¯¼è‡´æºä»£ç æ³„éœ²ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¸¸è§å¤‡ä»½æ–‡ä»¶åç¼€&quot;&gt;å¸¸è§å¤‡ä»½æ–‡ä»¶åç¼€&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;.index.php.swp
index.php.swp
index.php.bak
.index.php~
index.php.bak_Edietplus
index.php.~
index.php.~1~
index.php
index.php~
index.php.rar
index.php.zip
index.php.7z
index.php.tar.gz
www.zip
www.rar
www.zip
www.7z
www.tar.gz
www.tar
web.zip
web.rar
web.zip
web.7z
web.tar.gz
web.tar
wwwroot.rar
web.rar
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;web-infwebxml-æ³„éœ²&quot;&gt;WEB-INF/web.xml æ³„éœ²&lt;/h2&gt;
&lt;p&gt;WEB-INFæ˜¯Javaçš„WEBåº”ç”¨çš„å®‰å…¨ç›®å½•ï¼Œå¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;WEB-INF ä¸»è¦åŒ…å«ä¸€ä¸‹æ–‡ä»¶æˆ–ç›®å½•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;WEB-INF/web.xml : Webåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶, æè¿°äº†servletå’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶é…ç½®åŠå‘½åè§„åˆ™.
WEB-INF/database.properties : æ•°æ®åº“é…ç½®æ–‡ä»¶
WEB-INF/classes/ : ä¸€èˆ¬ç”¨æ¥å­˜æ”¾Javaç±»æ–‡ä»¶(.class)
WEB-INF/lib/ : ç”¨æ¥å­˜æ”¾æ‰“åŒ…å¥½çš„åº“(.jar)
WEB-INF/src/ : ç”¨æ¥æ”¾æºä»£ç (.aspå’Œ.phpç­‰)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡æ‰¾åˆ° web.xml æ–‡ä»¶ï¼Œæ¨æ–­ class æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ€åç›´æ¥ class æ–‡ä»¶ï¼Œå†é€šè¿‡åç¼–è¯‘ class æ–‡ä»¶ï¼Œå¾—åˆ°ç½‘ç«™æºç ã€‚&lt;/p&gt;
&lt;h2 id=&quot;swp-æ–‡ä»¶æ³„éœ²&quot;&gt;SWP æ–‡ä»¶æ³„éœ²&lt;/h2&gt;
&lt;p&gt;swpå³swapæ–‡ä»¶ï¼Œåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œå®ƒæ˜¯éšè—æ–‡ä»¶ï¼Œå¦‚æœç¨‹åºæ­£å¸¸é€€å‡ºï¼Œä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨åˆ é™¤ï¼Œå¦‚æœæ„å¤–é€€å‡ºå°±ä¼šä¿ç•™ï¼Œæ–‡ä»¶åä¸º .filename.swpã€‚&lt;/p&gt;
&lt;p&gt;æ¼æ´åˆ©ç”¨ï¼šç›´æ¥è®¿é—®.swpæ–‡ä»¶ï¼Œä¸‹è½½å›æ¥ååˆ æ‰æœ«å°¾çš„.swpï¼Œè·å¾—æºç æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;githubæºç æ³„éœ²&quot;&gt;githubæºç æ³„éœ²&lt;/h2&gt;
&lt;p&gt;GitHubæ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå¾ˆå¤šäººå–œæ¬¢æŠŠè‡ªå·±çš„ä»£ç ä¸Šä¼ åˆ°å¹³å°æ‰˜ç®¡ã€‚æ”»å‡»è€…é€šè¿‡å…³é”®è¯è¿›è¡Œæœç´¢ï¼Œå¯ä»¥æ‰¾åˆ°å…³äºç›®æ ‡ç«™ç‚¹çš„æ•æ„Ÿä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥ä¸‹è½½ç½‘ç«™æºç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;githubå¸¸è§æœç´¢è¯­æ³•&quot;&gt;githubå¸¸è§æœç´¢è¯­æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;in:name test               #ä»“åº“æ ‡é¢˜æœç´¢å«æœ‰å…³é”®å­— SpringCloud
in:descripton test         #ä»“åº“æè¿°æœç´¢å«æœ‰å…³é”®å­—
in:readme test             #Readmeæ–‡ä»¶æœç´ å«æœ‰å…³é”®å­—
stars:&amp;gt;3000 test           #starsæ•°é‡å¤§äº3000çš„æœç´¢å…³é”®å­—
stars:1000..3000 test      #starsæ•°é‡å¤§äº1000å°äº3000çš„æœç´¢å…³é”®å­—
forks:&amp;gt;1000 test           #forksæ•°é‡å¤§äº1000çš„æœç´¢å…³é”®å­—
forks:1000..3000 test      #forksæ•°é‡å¤§äº1000å°äº3000çš„æœç´¢å…³é”®å­—
size:&amp;gt;=5000 test           #æŒ‡å®šä»“åº“å¤§äº5000k(5M)çš„æœç´¢å…³é”®å­—
pushed:&amp;gt;2019-02-12 test    #å‘å¸ƒæ—¶é—´å¤§äº2019-02-12çš„æœç´¢å…³é”®å­—
created:&amp;gt;2019-02-12 test   #åˆ›å»ºæ—¶é—´å¤§äº2019-02-12çš„æœç´¢å…³é”®å­—
user:test                  #ç”¨æˆ·åæœç´ 
license:apache-2.0 test    #æ˜ç¡®ä»“åº“çš„ LICENSE æœç´¢å…³é”®å­—
language:java test         #åœ¨javaè¯­è¨€çš„ä»£ç ä¸­æœç´¢å…³é”®å­—
user:test in:name test     #ç»„åˆæœç´¢,ç”¨æˆ·åtestçš„æ ‡é¢˜å«æœ‰testçš„
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;googleé‚®ç®±æœç´¢&quot;&gt;Googleé‚®ç®±æœç´¢&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ Github è¿›è¡Œé‚®ä»¶é…ç½®ä¿¡æ¯æ”¶é›†&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šç½‘ç«™åŠç³»ç»Ÿéƒ½ä¼šä½¿ç”¨ pop3 å’Œ smtp å‘é€æ¥é‚®ä»¶ï¼Œä¸å°‘å¼€å‘è€…ç”±äºå®‰å…¨æ„è¯†ä¸è¶³ä¼šæŠŠç›¸å…³çš„é…ç½®ä¿¡æ¯ä¹Ÿæ”¾åˆ°Githubä¸Šï¼Œæ‰€ä»¥å¦‚&lt;/p&gt;
&lt;p&gt;æœè¿™æ—¶å€™æˆ‘ä»¬åŠ¨ç”¨ä¸€ä¸‹googleæœç´¢å‘½ä»¤è¯­å¥ï¼Œæ„é€ ä¸€ä¸‹å…³é”®å­—ï¼Œå°±èƒ½æŠŠè¿™äº›ä¿¡æ¯ç»™æ‰¾å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;site:Github.com smtp
 
site:Github.com smtp @qq.com
 
site:Github.com smtp @126.com
 
site:Github.com smtp @163.com
 
site:Github.com smtp @sina.com.cn

site:Github.com smtp password

site:Github.com String password smtp
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;æ•°æ®åº“ä¿¡æ¯æœé›†&quot;&gt;æ•°æ®åº“ä¿¡æ¯æœé›†&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;site:Github.com sa password
 
site:Github.com root password
 
site:Github.com User ID=â€™saâ€™;Password
 
site:Github.com inurl:sql
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ds_storeæ³„éœ²&quot;&gt;.DS_Storeæ³„éœ²&lt;/h2&gt;
&lt;p&gt;.DS_Store æ–‡ä»¶åˆ©ç”¨ .DS_Store æ˜¯ Mac OS ä¿å­˜æ–‡ä»¶å¤¹çš„è‡ªå®šä¹‰å±æ€§çš„éšè—æ–‡ä»¶ã€‚é€šè¿‡.DS_Storeå¯ä»¥çŸ¥é“è¿™ä¸ªç›®å½•é‡Œé¢æ‰€æœ‰æ–‡ä»¶çš„æ¸…å•ã€‚###&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨-3&quot;&gt;åˆ©ç”¨&lt;/h3&gt;
&lt;p&gt;githubé¡¹ç›®åœ°å€:&lt;a href=&quot;https://github.com/lijiejie/ds_store_exp&quot;&gt;https://github.com/lijiejie/ds_store_exp&lt;/a&gt;&lt;br/&gt;ä½¿ç”¨ä¸‹è½½åï¼Œè¿›å…¥ç›®å½•æ›´æ–°python2åº“&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;pip install -r requirements.txt
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;python ds_store_exp.py http://6974-59fce729-40f6-4124-a2c9-a5a66673dc66node3.buuoj.cn:28261/.DS_Store
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;buuctfä¸­çš„ä¸€é“é¢˜æ¼”ç¤ºï¼ŒæˆåŠŸæ‹‰å–äº†ç›®å½•&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200905140209782-55550966.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200905140252510-1297482429.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ä¸ªctfç›®å½•æ‰«æå°å·¥å…·&quot;&gt;ä¸€ä¸ªctfç›®å½•æ‰«æå°å·¥å…·&lt;/h2&gt;
&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™å­—å…¸ï¼Œç¼–å†™è„šæœ¬ï¼Œæˆ–ç”¨dirsearchï¼Œå¾¡å‰‘ç­‰å·¥å…·æ‰«æï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸ªè‡ªå·±ç”¨çš„ctfç›®å½•æ‰«æ&lt;br/&gt;é¡¹ç›®åœ°å€:&lt;a href=&quot;https://github.com/kingkaki/ctf-wscan&quot;&gt;https://github.com/kingkaki/ctf-wscan&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;python3 ctf-wscan.py &lt;a href=&quot;http://beed29ec-8f77-4e15-a1d6-c327148dab8e.node3.buuoj.cn/&quot;&gt;http://beed29ec-8f77-4e15-a1d6-c327148dab8e.node3.buuoj.cn/&lt;/a&gt;&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200905145320882-1349294604.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å‚æ•°kå¯ä»¥è®¾ç½®å…³é”®è¯&lt;br/&gt;config.pyè¿˜å¯ä»¥è®¾ç½®å…³é”®è¯ï¼Œçº¿ç¨‹ï¼Œè¯·æ±‚æ–¹å¼ï¼Œæ˜¯å¦è®°å½•ç­‰ç­‰ï¼Œå¦‚æœä½ æ‡’å¾—å†™è„šæœ¬å¯ä»¥ä½¿ç”¨ï¼Œå¥½å§æˆ‘æ˜¯æ‡’ç‹—&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2092671/202009/2092671-20200905173339131-130526595.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒæ–‡ç« åŠè¯´æ˜&quot;&gt;å‚è€ƒæ–‡ç« åŠè¯´æ˜&lt;/h2&gt;
&lt;p&gt;æ–‡ä»¶çš„æ³„éœ²åŸºæœ¬éƒ½æ˜¯äººä¸ºçš„ä¸æ­£å¸¸æ“ä½œå¯¼è‡´çš„ï¼Œå¦‚ç›´æ¥å¤åˆ¶ç½‘ç«™å‘å¸ƒï¼ŒgithubåŒæ­¥ï¼Œgitçš„.gitæœªåˆ é™¤ï¼Œæ³¨æ„ä½¿ç”¨è§„èŒƒï¼ŒæŸ¥çœ‹è‡ªå·±ç½‘ç«™çš„ç›®å½•çš„æ–‡ä»¶ç‰¹åˆ«æ˜¯éšè—æ–‡ä»¶å°±èƒ½å¾ˆå®¹æ˜“çš„å‘ç°ï¼Œæ–‡ä»¶çš„æ³„éœ²ã€‚&lt;br/&gt;å‚è€ƒæ–‡ç« :&lt;a href=&quot;https://www.cnblogs.com/yesec/p/12232045.html&quot;&gt;https://www.cnblogs.com/yesec/p/12232045.html&lt;/a&gt;&lt;br/&gt;æœ€åæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººåšå®¢ï¼š&lt;a href=&quot;https://lmg66.github.io/&quot;&gt;https://lmg66.github.io/&lt;/a&gt;&lt;br/&gt;è¯´æ˜ï¼šæœ¬æ–‡ä»…é™æŠ€æœ¯ç ”ç©¶ä¸è®¨è®ºï¼Œä¸¥ç¦ç”¨äºéæ³•ç”¨é€”ï¼Œå¦åˆ™äº§ç”Ÿçš„ä¸€åˆ‡åæœè‡ªè¡Œæ‰¿æ‹…&lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 14:19:00 +0000</pubDate>
<dc:creator>Lmg66</dc:creator>
<og:description>å‰è¨€ åœ¨ctfä¸­å‘ç°å¾ˆå¤šæºç æ³„éœ²çš„é¢˜ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºç½‘ç«™çš„æ­å»ºè¦æ³¨æ„åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼Œå’Œä¸€äº›å·¥å…·çš„ä½¿ç”¨å¦‚gitï¼Œsvnç­‰ç­‰çš„è§„èŒƒä½¿ç”¨ï¼Œé¿å…å¤‡ä»½æ–‡ä»¶å‡ºç°åœ¨å…¬ç½‘ SVNæºç æ³„éœ² ###åŸç† SVNï¼ˆsubve</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Lmg66/p/13598803.html</dc:identifier>
</item>
<item>
<title>è®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼ - ç…®è¯—å›</title>
<link>http://www.cnblogs.com/FindTheWay/p/13620023.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/FindTheWay/p/13620023.html</guid>
<description>&lt;h2 id=&quot;å®šä¹‰&quot;&gt;å®šä¹‰&lt;/h2&gt;
&lt;p&gt;è¿ç”¨&lt;strong&gt;å…±äº«æŠ€æœ¯&lt;/strong&gt;æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é€‚ç”¨åœºæ™¯&quot;&gt;é€‚ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæ•°æ®åº“è¿æ¥ï¼Œçº¿ç¨‹çš„åˆ›å»ºå¼€é”€éƒ½æ¯”è¾ƒå¤§ï¼Œå¹¶ä¸”åˆ›å»ºé¢‘ç‡ä¹Ÿéå¸¸é«˜ï¼Œå› æ­¤å°±éœ€è¦ç”¨åˆ°æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯å’Œçº¿ç¨‹æ± æŠ€æœ¯æ¥å…±äº«æ•°æ®åº“è¿æ¥å’Œçº¿ç¨‹ã€‚å†ä¾‹å¦‚ï¼Œåº”ç”¨ç³»ç»Ÿä¸­é€šå¸¸å­˜åœ¨æœ€å¤šçš„å°±æ˜¯å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¾€å¾€ä¼šå¤§é‡é‡å¤ï¼Œå¦‚æœæ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºã€GCé˜»å¡ç­‰æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤ä¹Ÿå°±æœ‰äº†å­—ç¬¦ä¸²é©»ç•™æ± æŠ€æœ¯ã€‚åº”ç”¨åœºæ™¯è™½ç„¶å¤©å·®åœ°åˆ«ï¼Œä½†æ˜¯æ— è®ºå“ªä¸€ç§åœºæ™¯ï¼Œå¾€å¾€éƒ½ä¼šå…·å¤‡å¦‚ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç³»ç»Ÿä¼šç”¨åˆ°å¤§é‡ç›¸åŒæˆ–ç›¸ä¼¼çš„å¯¹è±¡ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹è±¡åˆ›å»ºæ¯”è¾ƒè€—æ—¶ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ç›®çš„&quot;&gt;ç›®çš„&lt;/h2&gt;
&lt;p&gt;è€Œäº«å…ƒæ¨¡å¼æ­£æ˜¯ä¸ºäº†åº”å¯¹ä¸Šè¿°é—®é¢˜ï¼Œå¹¶è¾¾åˆ°å¦‚ä¸‹ä¸¤ä¸ªç›®çš„è€Œå­˜åœ¨çš„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å‡å°‘åˆ›å»ºå¯¹è±¡çš„æ•°é‡ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹è±¡å…¨å±€å…±äº«ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;å…¶å®ï¼Œè¯´åˆ°äº«å…ƒæ¨¡å¼ï¼Œæˆ‘ä»¬æœ€å…ˆåº”è¯¥æåˆ°çš„å°±æ˜¯æ´»å­—å°åˆ·æœ¯ï¼Œå› ä¸ºå®ƒå°±æ˜¯äº«å…ƒæ¨¡å¼åœ¨ç”Ÿæ´»ä¸­çš„ä¸€ç§æœ€ä½³å®è·µã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå‡ºç‰ˆä¸€æœ¬å“ªæ€•ç™¾ä¸‡å­—çš„è‘—ä½œï¼Œå…¶å®å¸¸ç”¨æ±‰å­—ä¹Ÿä¸è¿‡ä¸‰åƒå¤šä¸ªï¼Œè¿™å…¶ä¸­ä¼šæœ‰å¤§é‡é‡å¤ã€‚ä¼ ç»Ÿçš„é›•ç‰ˆå°åˆ·ï¼Œæ¯æ¬¡å°åˆ·éƒ½éœ€è¦å…ˆèŠ±å¤§é‡çš„æ—¶é—´åˆ»é›•ç‰ˆï¼Œå¹¶ä¸”è¿˜ä¸èƒ½é‡å¤ä½¿ç”¨ï¼Œä½†æ˜¯æ´»å­—å°åˆ·å°±å°†å…±äº«å’Œå¤ç”¨çš„ç‰¹ç‚¹å‘æŒ¥åˆ°äº†æè‡´ï¼Œçœå»äº†å¤§é‡çš„æ—¶é—´ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/474750/202009/474750-20200905194239264-350889662.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å…¶å®ï¼Œè¿™ç§ä¾‹å­ç”Ÿæ´»ä¸­å¹¶ä¸ç½•è§ï¼Œä¾‹å¦‚ï¼Œå›¾ä¹¦é¦†å€Ÿä¹¦ï¼Œå…±äº«å•è½¦ï¼Œå…±äº«é›¨ä¼ï¼Œå…±äº«é©¬æ‰ç­‰å“ªä¸ªä¸æ˜¯äº«å…ƒæ¨¡å¼æ€æƒ³çš„ä½“ç°ï¼Ÿå› ä¸ºäº«å…ƒæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ­£æ˜¯&lt;strong&gt;å…±äº«&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸‹é¢è¿˜æ˜¯ä»¥æ´»å­—å°åˆ·ä¸¾ä¾‹ï¼Œé€šè¿‡ä»£ç çš„æ–¹å¼æ¥å®ç°ä¸€ä¸ªå°åˆ·&lt;code&gt;HELLO WORLD&lt;/code&gt;çš„ä¾‹å­åŠ ä»¥è¯´æ˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¨¡å¼æ¼”è¿›&quot;&gt;æ¨¡å¼æ¼”è¿›&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæŠŠå­—æ¨¡åˆ»å‡ºæ¥ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public abstract class Typeface
{
    public abstract string Print();
}

public class DTypeface : Typeface
{
    public override string Print()
    {
        return &quot;D&quot;;
    }
}

public class ETypeface : Typeface
{
    public override string Print()
    {
        return &quot;E&quot;;
    }
}

...
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æ˜¯ç®€å•çš„ç¤ºæ„ï¼Œå…¶ä»–å­—æ¯ä»¥æ­¤ç±»æ¨ï¼Œè¡¨ç¤ºä¸€ä¸ªä¸ªçš„å­—æ¨¡ã€‚é€šè¿‡è¿™äº›å­—æ¨¡æˆ‘ä»¬å°±å¯ä»¥å°åˆ·å‡ºç‰ˆäº†ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;static void Main(string[] args)
{
    Typeface h = new HTypeface();
    Typeface e = new ETypeface();
    Typeface l = new LTypeface();
    Typeface o = new OTypeface();
    Typeface w = new WTypeface();
    Typeface r = new RTypeface();
    Typeface d = new DTypeface();

    Console.WriteLine($&quot;{h.Print()}{e.Print()}{l.Print()}{l.Print()}{o.Print()} {w.Print()}{o.Print()}{r.Print()}{l.Print()}{d.Print()}&quot;);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè™½ç„¶å°åˆ·æˆåŠŸäº†ï¼Œä½†æ˜¯è¿™äº›å­—æ¨¡å¹¶ä¸èƒ½å…¨å±€å…±äº«ï¼Œè¯´åˆ°åº•è¿˜æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œæ¢ä¸€ä¸ªåœ°æ–¹è¿˜å¾—é‡æ–°åˆ›å»ºä¸€æ¬¡ã€‚ä¸è¿‡è¯´åˆ°å…¨å±€å…±äº«ï¼Œæˆ‘ä»¬å‰é¢å¥½åƒå°±æœ‰ä¸€ç§æ¨¡å¼å¯ä»¥åŠåˆ°ï¼Œæ²¡é”™ï¼Œå°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚æˆ‘ä»¬ä¸å¦¨å…ˆç”¨å•ä¾‹æ¨¡å¼è¯•è¯•çœ‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public class ETypeface : Typeface
{
    private static readonly Typeface _instance = new ETypeface();

    private ETypeface() { }

    public static Typeface Instance =&amp;gt; _instance;

    public override string Print()
    {
        return &quot;E&quot;;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°†æ¯ä¸ªå­—æ¨¡éƒ½å®ç°æˆå¦‚ä¸Šæ‰€ç¤ºçš„å•ä¾‹ï¼Œå†çœ‹çœ‹è°ƒç”¨çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;static void Main(string[] args)
{
    Console.WriteLine($&quot;{HTypeface.Instance.Print()}&quot; +
        $&quot;{ETypeface.Instance.Print()}{LTypeface.Instance.Print()}&quot; +
        $&quot;{LTypeface.Instance.Print()}{OTypeface.Instance.Print()}&quot;);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°åˆ·æˆåŠŸäº†ï¼Œå¹¶ä¸”ä¹Ÿå…¨å±€å…±äº«äº†ã€‚ä¸è¿‡ä¸­å›½æ±‰å­—ä½•å…¶å¤šï¼Œå…¨éƒ¨å®ç°æˆå•ä¾‹ï¼Œç±»çˆ†ç‚¸äº†ï¼Œä¸€ä¸ªç³»ç»Ÿä¸­æˆåƒä¸Šä¸‡ä¸ªå•ä¾‹ï¼Œæƒ³æƒ³éƒ½å¯æ€•ã€‚ä¸è¿‡å¥½åœ¨å¤„ç†ç±»çˆ†ç‚¸æˆ‘ä»¬æ˜¯æœ‰ç»éªŒçš„ï¼Œæ²¡é”™ï¼Œå°±æ˜¯åˆå¹¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public class TypefaceFactory
{
    private static readonly Typeface _h = new HTypeface();
    private static readonly Typeface _e = new ETypeface();
    private static readonly Typeface _l = new LTypeface();
    private static readonly Typeface _o = new OTypeface();

    public static Typeface H =&amp;gt; _h;
    public static Typeface E =&amp;gt; _e;
    public static Typeface L =&amp;gt; _l;
    public static Typeface O =&amp;gt; _o;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬é¢å¤–å®šä¹‰ä¸€ä¸ªç±»ï¼ŒæŠŠæ‰€æœ‰å•ä¾‹å­—æ¨¡éƒ½åˆå¹¶è¿›å»ï¼Œä¸è¿‡æˆ‘ä»¬è¿™æ—¶é™æ€å±æ€§å¦‚æœè¿˜å«&lt;code&gt;Instance&lt;/code&gt;å°±å‘½åå†²çªäº†ï¼Œç›´æ¥ä»¥å­—æ¯å‘½åå¥½äº†ï¼Œè¿™æ ·æˆ‘ä»¬å°±æŠŠæ‰€æœ‰å•ä¾‹éƒ½æ¶ˆç­äº†ã€‚è™½ç„¶æœ‰æ‰€æ”¹å–„ï¼Œä¸è¿‡å­—æ¨¡å¤ªå¤šçš„é—®é¢˜ä¾ç„¶ä¸¥å³»ï¼Œå› ä¸ºè¿™ä¸ªç±»ä¸­ä¼šå°è£…æˆåƒä¸Šä¸‡çš„å­—æ¨¡ï¼Œå¹¶ä¸”éšæ—¶å¯èƒ½æ›´æ”¹ï¼Œè¿™å¯¼è‡´è¿™ä¸ªç±»æä¸ç¨³å®šã€‚ä¸è¿‡å¥½åœ¨æ‰€æœ‰å­—æ¨¡éƒ½ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå­—å…¸å­˜å‚¨ï¼Œå¹¶ä¸”é€šè¿‡ä¸€ä¸ªé™æ€æ–¹æ³•è·å–å­—æ¨¡ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public class TypefaceFactory
{
    private static readonly IDictionary&amp;lt;Type, Typeface&amp;gt; _typefaces 
        = new Dictionary&amp;lt;Type, Typeface&amp;gt;();

    public static Typeface GetTypeface&amp;lt;TTypeface&amp;gt;() where TTypeface : Typeface
    {
        Type type = typeof(TTypeface);
        if (_typefaces.ContainsKey(type))
        {
            return _typefaces[type];
        }

        Typeface typeface = Activator.CreateInstance(typeof(TTypeface)) as Typeface;
        _typefaces.Add(type, typeface);
        return typeface;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ ·çš„è¯å°±å¥½å¤šäº†ï¼Œå¯ä»¥ç®¡ç†å¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥å…¨å±€å…±äº«äº†ï¼Œæ»¡è¶³äº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä¸çŸ¥å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ï¼Œè¿™é‡Œéå¸¸åƒç®€å•å·¥å‚æ¨¡å¼ï¼Œåªä¸è¿‡è¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªé™æ€å­—å…¸åšç¼“å­˜ï¼Œå¹¶éæ¯æ¬¡éƒ½å…¨æ–°åˆ›å»ºå¯¹è±¡ï¼Œå…¶å®è¿™å°±æ˜¯äº«å…ƒæ¨¡å¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;umlç±»å›¾&quot;&gt;UMLç±»å›¾&lt;/h2&gt;
&lt;p&gt;å†æ¥æŠ½è±¡ä¸€ä¸‹ï¼Œçœ‹çœ‹äº«å…ƒæ¨¡å¼çš„ç±»å›¾ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/474750/202009/474750-20200905194548575-1264274848.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;FlyweightFactory&lt;/strong&gt;ï¼šäº«å…ƒå·¥å‚ï¼Œç”¨æ¥åˆ›å»ºå¹¶ç®¡ç†Flyweightå¯¹è±¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Flyweight&lt;/strong&gt;ï¼šäº«å…ƒç±»çš„åŸºç±»æˆ–æ¥å£&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ConcreteFlyweight&lt;/strong&gt;ï¼šå…·ä½“çš„Flyweightå­ç±»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UnsharedConcreteFlyweight&lt;/strong&gt;ï¼šä¸éœ€è¦å…±äº«çš„Flyweightå­ç±»&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­ï¼Œ&lt;strong&gt;UnsharedConcreteFlyweight&lt;/strong&gt;å¹¶æ²¡æœ‰ç”¨åˆ°ï¼Œä½†æ˜¯ä½œä¸ºäº«å…ƒæ¨¡å¼ä¸­çš„ä¸€ä¸ªè§’è‰²ç¡®å®æ˜¯å­˜åœ¨çš„ï¼Œåªæ˜¯ä¸å¯å…±äº«è€Œå·²ã€‚ä¾‹å¦‚ï¼Œå­—æ¨¡ä¸­æœ‰è§„èŒƒæ±‰å­—ï¼Œä¹Ÿæœ‰éè§„èŒƒæ±‰å­—ï¼Œä½†æ˜¯å‡ºç‰ˆåˆŠç‰©å¿…é¡»ä½¿ç”¨è§„èŒƒæ±‰å­—ï¼Œè€Œä¸èƒ½ä½¿ç”¨éè§„èŒƒæ±‰å­—ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬è½¯ä»¶å¼€å‘ä¸­ä¼šè¾ƒå°‘ç”¨åˆ°ï¼Œå› ä¸ºï¼Œæ—¢ç„¶ç”¨ä¸åˆ°ï¼Œå°±æ²¡å¿…è¦å»å®ç°äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¼˜ç¼ºç‚¹&quot;&gt;ä¼˜ç¼ºç‚¹&lt;/h2&gt;
&lt;h3 id=&quot;ä¼˜ç‚¹&quot;&gt;ä¼˜ç‚¹&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;èŠ‚çœå†…å­˜ç©ºé—´ï¼Œå› ä¸ºå…¨å±€å…±äº«ä¸€ä¸ªæˆ–è€…å°‘æ•°å‡ ä¸ªå¯¹è±¡è€Œå·²ï¼›&lt;/li&gt;
&lt;li&gt;æé«˜æ•ˆç‡ï¼Œå› ä¸ºä¸ç”¨æ¯æ¬¡éƒ½è¿›è¡Œè´¹æ—¶çš„åˆå§‹åŒ–æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;ç¼ºç‚¹&quot;&gt;ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œå…¶å®æˆ‘ä»¬é€šè¿‡çº¿ç¨‹æ± å’Œæ•°æ®åº“è¿æ¥æ± å°±ä¸éš¾å‘ç°ï¼Œç¡®å®å¤æ‚äº†å¾ˆå¤šã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ”¹è¿›&quot;&gt;æ”¹è¿›&lt;/h2&gt;
&lt;p&gt;å…¶å®ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç»“æŸï¼Œå¦‚æœè¿˜è®°å¾—å•ä¾‹æ¨¡å¼çš„è¯ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ç§å®ç°æ˜¯å­˜åœ¨å¹¶å‘é—®é¢˜çš„ï¼Œæ²¡é”™ï¼Œæ—¢ç„¶åŒæ ·æ˜¯ç”¨é™æ€å­—æ®µåšå…±äº«ï¼Œé‚£ä¹ˆè¿™é‡ŒåŒæ ·å­˜åœ¨è¿™å¹¶å‘é—®é¢˜ï¼Œä¸è¿‡è¿™é‡Œå¹¶å‘çš„æ˜¯ä¸€ä¸ªä»£ç æ®µï¼Œè€Œä¸æ˜¯ç®€å•çš„ä¸€ä¸ªå­—æ®µï¼Œå› æ­¤å°±ä¸èƒ½ç®€å•çš„é€šè¿‡&lt;code&gt;Lazy&lt;/code&gt;å…³é”®å­—è§£å†³äº†ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨åŒæ£€é”ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public class TypefaceFactory
{
    private static readonly IDictionary&amp;lt;Type, Typeface&amp;gt; _typefaces 
        = new Dictionary&amp;lt;Type, Typeface&amp;gt;();

    private static readonly object _locker = new object();
    public static Typeface GetTypeface&amp;lt;TTypeface&amp;gt;() where TTypeface : Typeface
    {
        Type type = typeof(TTypeface);
        if (!_typefaces.ContainsKey(type))
        {
            lock (_locker)
            {
                if (!_typefaces.ContainsKey(type))
                {
                    Typeface typeface = Activator.CreateInstance(typeof(TTypeface)) as Typeface;
                    _typefaces.Add(type, typeface);
                }
            }
        }

        return _typefaces[type];
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¥½äº†ï¼Œè¿™æ¬¡å®Œç¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å‘¢ï¼Œä¸çŸ¥å¤§å®¶æœ‰æ²¡æœ‰ç–‘æƒ‘ï¼Œä»ä¸Šé¢æ¼”è¿›æ­¥éª¤çœ‹ï¼Œäº«å…ƒæ¨¡å¼å¥½åƒæ˜¯å•ä¾‹æ¨¡å¼å’Œç®€å•å·¥å‚æ¨¡å¼çš„ç»¼åˆè¿ç”¨ï¼Œä¸ºä»€ä¹ˆäº«å…ƒæ¨¡å¼ä¼šå½’ç±»åˆ°ç»“æ„å‹æ¨¡å¼è€Œä¸æ˜¯åˆ›å»ºå‹æ¨¡å¼å‘¢ï¼Ÿå…¶å®ï¼ŒåŸå› å¾ˆç®€å•ï¼Œä»è¡¨é¢ä¸Šçœ‹ï¼Œå¥½åƒäº«å…ƒæ¨¡å¼çš„äº«å…ƒå·¥å‚ä¹Ÿåœ¨è´Ÿè´£åˆ›å»ºå¯¹è±¡ï¼Œä½†å®é™…ä¸Šï¼Œäº«å…ƒæ¨¡å¼æœ€ä¸»è¦çš„ç›®çš„æ˜¯å¯¹è±¡çš„ç®¡ç†è€Œä¸æ˜¯åˆ›å»ºï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®ç°äº«å…ƒæ¨¡å¼ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-CSharp&quot;&gt;public class TypefaceFactory
{
    private static readonly IDictionary&amp;lt;string, Typeface&amp;gt; _typefaces
        = new Dictionary&amp;lt;string, Typeface&amp;gt;();


    private static readonly object _locker = new object();

    public static void SetTypeface(string key, Typeface typeface)
    {
        if (!_typefaces.ContainsKey(key))
        {
            lock (_locker)
            {
                if (!_typefaces.ContainsKey(key))
                {
                    _typefaces.Add(key, typeface);
                }
            }
        }
    }

    public static Typeface GetTypeface(string key)
    {
        if (_typefaces.ContainsKey(key))
        {
            return _typefaces[key];
        }

        return null;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;çœ‹åˆ°äº†å—ï¼Ÿè¿™é‡Œå°±æŠŠå¯¹è±¡çš„åˆ›å»ºäº¤ç»™äº†å®¢æˆ·ç«¯å®Œæˆï¼Œè€Œäº«å…ƒå·¥å‚åªè´Ÿè´£å¯¹è±¡çš„ç®¡ç†ï¼Œå¹¶ä¸è´Ÿè´£å¯¹è±¡åˆ›å»ºäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸å•ä¾‹æ¨¡å¼çš„åŒºåˆ«&quot;&gt;ä¸å•ä¾‹æ¨¡å¼çš„åŒºåˆ«&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;äº«å…ƒæ¨¡å¼æ˜¯å…±äº«å¤§é‡ç±»çš„å¤§é‡å®ä¾‹ï¼Œè€Œå•ä¾‹æ˜¯ä¸€ä¸ªç±»ä¸€ä¸ªå®ä¾‹ï¼›&lt;/li&gt;
&lt;li&gt;å•ä¾‹æ¨¡å¼é’ˆå¯¹çš„æ˜¯å¯¹è±¡çš„åˆ›å»ºï¼Œè€Œäº«å…ƒæ¨¡å¼é’ˆå¯¹çš„æ˜¯å¯¹è±¡çš„ç®¡ç†ï¼›&lt;/li&gt;
&lt;li&gt;å•ä¾‹æ¨¡å¼ä¸èƒ½å•ç‹¬åˆ›å»ºï¼Œè€Œäº«å…ƒæ¨¡å¼ä¸­çš„ç±»å¯ä»¥å•ç‹¬åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ä¸ç®€å•å·¥å‚æ¨¡å¼çš„åŒºåˆ«&quot;&gt;ä¸ç®€å•å·¥å‚æ¨¡å¼çš„åŒºåˆ«&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;äº«å…ƒæ¨¡å¼åœ¨ç®€å•å·¥å‚æ¨¡å¼çš„åŸºç¡€ä¸ŠåŠ å…¥äº†ç¼“å­˜ï¼›&lt;/li&gt;
&lt;li&gt;ç®€å•å·¥å‚æ¨¡å¼çš„ä½œç”¨ä»…ä»…æ˜¯åˆ›å»ºå¯¹è±¡ï¼Œè€Œäº«å…ƒæ¨¡å¼è™½ç„¶ä¹Ÿåˆ›å»ºå¯¹è±¡ï¼Œä½†å…¶ä¸»è¦ä½œç”¨æ˜¯ç®¡ç†å’Œå…±äº«å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;äº«å…ƒæ¨¡å¼å®ç°èµ·æ¥éå¸¸çµæ´»ï¼Œå®ƒæ›´é‡è¦ä½“ç°çš„æ˜¯ä¸€ç§æ€æƒ³ï¼Œå®ƒä¸ä»…åœ¨ç”Ÿæ´»ä¸­è¢«å¹¿æ³›è¿ç”¨ï¼Œåœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿè¢«å¹¿æ³›è¿ç”¨ã€‚ä¸å¦¨æŠŠä¸Šè¿°äº«å…ƒå·¥å‚å†æ¢ä¸€ä¸ªåœºæ™¯ï¼Œä¾‹å¦‚æŠŠé™æ€å­—å…¸æ¢æˆ&lt;code&gt;Redis&lt;/code&gt;ï¼Œå†æŠŠ&lt;code&gt;GetTypeface&lt;/code&gt;æ–¹æ³•æ¢æˆé«˜å¹¶å‘ç¯å¢ƒä¸‹çš„æŸ¥è¯¢æ¥å£ï¼Œå†å»çœ‹çœ‹æ‰§è¡Œæµç¨‹ã€‚å‘ç°äº†å§ï¼Ÿå°±æ˜¯æˆ‘ä»¬æ¯å¤©éƒ½åœ¨å†™çš„ä»£ç ã€‚&lt;br/&gt;ç”¨å¿ƒå‘ç°ï¼Œäº«å…ƒæ¨¡å¼çœŸçš„æ˜¯æ— å¤„ä¸åœ¨ï¼&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ZShijun/DesignPattern.git&quot;&gt;æºç é“¾æ¥&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 14:19:00 +0000</pubDate>
<dc:creator>ç…®è¯—å›</dc:creator>
<og:description>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/FindTheWay/p/13620023.html</dc:identifier>
</item>
<item>
<title>AQSæºç åˆ†æ - è¾£é¸¡å°ç¯®å­</title>
<link>http://www.cnblogs.com/funyoung/p/13619854.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/funyoung/p/13619854.html</guid>
<description>&lt;p&gt;AQSå…¨ç§°AbstractQueuedSynchronizerï¼ˆæŠ½è±¡é˜Ÿåˆ—åŒæ­¥å™¨ï¼‰&lt;/p&gt;
&lt;p&gt;AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªè¢«volatileä¿®é¥°çš„intç±»å‹çš„åŒæ­¥çŠ¶æ€stateï¼Œä»¥åŠCLHç­‰å¾…é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;stateåŒæ­¥çŠ¶æ€ç”¨äºç»´æŠ¤åŒæ­¥èµ„æºè¢«ä½¿ç”¨çš„æƒ…å†µï¼ŒAQSæœ¬èº«å¹¶ä¸å…³å¿ƒstateçš„å€¼åŠå…¶å«ä¹‰ï¼Œå®Œå…¨ç”±AQSçš„å­ç±»å»å®šä¹‰ä»¥åŠç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;CLHç­‰å¾…é˜Ÿåˆ—æ˜¯ç”±ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥å®ç°çš„ï¼Œå­˜åœ¨headå’ŒtailæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘é“¾è¡¨ä¸­çš„å¤´èŠ‚ç‚¹ä»¥åŠå°¾èŠ‚ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ç”±AQSä¸­çš„Nodeé™æ€å†…éƒ¨ç±»æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ReentrantLockã€ReentrantReadWriteLockã€CountDownLatchã€CyclicBarrierã€Semaphoreåº•å±‚éƒ½æ˜¯åŸºäºAQSæ¥å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1337502/202009/1337502-20200905214651298-1959428182.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;aqsæ”¯æŒçš„æ¨¡å¼&quot;&gt;AQSæ”¯æŒçš„æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;AQSæ”¯æŒä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§æ˜¯ç‹¬å æ¨¡å¼ï¼Œä¸€ç§æ˜¯å…±äº«æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç‹¬å æ¨¡å¼è¡¨ç¤ºï¼ŒåŒæ­¥èµ„æºåœ¨åŒä¸€æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰ï¼Œå¯¹åº”AQSçš„acquire()ä»¥åŠrelease()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å…±äº«æ¨¡å¼è¡¨ç¤ºï¼ŒåŒæ­¥èµ„æºåœ¨åŒä¸€æ—¶åˆ»å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹æ‰€æŒæœ‰ï¼Œå¯¹åº”AQSçš„acquireShared()ä»¥åŠreleaseShared()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;acquire()æ–¹æ³•ï¼šç‹¬å æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºã€‚

release()æ–¹æ³•ï¼šç‹¬å æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºã€‚

acquireShared()æ–¹æ³•ï¼šå…±äº«æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºã€‚

releaseShared()æ–¹æ³•ï¼šå…±äº«æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;AQSä½¿ç”¨äº†æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼Œåœ¨acquire()ã€release()ã€acquireShared()ã€releaseShared()æ–¹æ³•ä¸­éƒ½ä¼šè°ƒç”¨å…¶å¯¹åº”çš„tryæ–¹æ³•ï¼Œæ¯”å¦‚acquire()æ–¹æ³•ä¸­ä¼šè°ƒç”¨tryAcquire()æ–¹æ³•ï¼Œrelease()æ–¹æ³•ä¸­ä¼šè°ƒç”¨tryRelease()æ–¹æ³•ï¼ŒAQSå­ç±»åªéœ€è¦é‡å†™AQSæä¾›çš„tryAcquire()ã€tryRelease()æˆ–tryAcquireShared()ã€tryReleaseShared()æ–¹æ³•å³å¯ï¼ŒåŒæ—¶éœ€è¦ä¿è¯æ–¹æ³•çš„å®ç°æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;tryAcquire()ã€tryRelease()ã€tryAcquireShared()ã€tryReleaseShared()æ–¹æ³•éƒ½æ²¡æœ‰ä½¿ç”¨abstractè¿›è¡Œä¿®é¥°ï¼ŒåŒæ—¶æ–¹æ³•ä¸­éƒ½ä¼šç›´æ¥æŠ›å‡ºUnsupportedOperationExceptionå¼‚å¸¸ï¼Œå¥½å¤„æ˜¯ä¸éœ€è¦å¼ºåˆ¶å­ç±»åŒæ—¶å®ç°ç‹¬å æ¨¡å¼å’Œå…±äº«æ¨¡å¼ä¸­çš„æ–¹æ³•ï¼Œå› ä¸ºå¤§å¤šæ•°AQSçš„å­ç±»éƒ½ä»…æ”¯æŒä¸€ç§æ¨¡å¼ï¼Œç”¨æˆ·åªéœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;tryAcquire(int arg)æ–¹æ³•ï¼šç‹¬å æ¨¡å¼ä¸‹å°è¯•è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶AQSè§„å®šï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

tryRelease(int arg)æ–¹æ³•ï¼šç‹¬å æ¨¡å¼ä¸‹å°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼ŒåŒæ—¶AQSè§„å®šï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

tryAcquireShared(int arg)æ–¹æ³•ï¼šå…±äº«æ¨¡å¼ä¸‹å°è¯•è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶AQSè§„å®šï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºå¤±è´¥åˆ™è¿”å›è´Ÿæ•°ï¼Œå¦åˆ™è¿”å›å‰©ä½™çš„èµ„æºä¸ªæ•°ã€‚

tryReleaseShared(int arg)æ–¹æ³•ï¼šå…±äº«æ¨¡å¼ä¸‹å°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼ŒåŒæ—¶AQSè§„å®šï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
&lt;/code&gt;
&lt;/pre&gt;
&lt;br/&gt;&lt;h2 id=&quot;å‰–æaqsä¸­çš„nodeç±»&quot;&gt;å‰–æAQSä¸­çš„Nodeç±»&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1337502/202009/1337502-20200905214740587-2048898934.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Nodeç±»æä¾›çš„æ ¸å¿ƒå±æ€§&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;// èŠ‚ç‚¹å°è£…çš„çº¿ç¨‹
volatile Thread thread;

// æŒ‡å‘å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆ
volatile Node prev;

// æŒ‡å‘åç»§èŠ‚ç‚¹çš„æŒ‡é’ˆ
volatile Node next;

// èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ï¼ˆé»˜è®¤ä¸º0ï¼‰ï¼ˆé»˜è®¤ä¸º0ï¼‰ï¼ˆé»˜è®¤ä¸º0ï¼‰ 
volatile int waitStatus;

// ä¸‹ä¸€ä¸ªæ­£åœ¨ç­‰å¾…çš„èŠ‚ç‚¹
Node nextWaiter;

// å…±äº«æ¨¡å¼ä¸‹çš„æ ‡è¯†èŠ‚ç‚¹
static final Node SHARED = new Node();

// ç‹¬å æ¨¡å¼ä¸‹çš„æ ‡è¯†èŠ‚ç‚¹
static final Node EXCLUSIVE = null;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åŒæ—¶Nodeç±»ä¸­ç»´æŠ¤äº†ä¸€ç³»åˆ—èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€å€¼&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;// CANCELLEDçŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹å·²è¶…æ—¶ç­‰ç­‰ï¼Œå¤„äºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ä¼šä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ï¼Œä¸ä¼šå‚ä¸åˆ°åŒæ­¥èµ„æºçš„ç«äº‰å½“ä¸­
static final int CANCELLED =  1;

// SIGNALçŠ¶æ€ï¼Œå¦‚æœèŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œé‚£ä¹ˆå½“å®ƒé‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œå°†ä¼šå”¤é†’ç¦»å®ƒæœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼ˆåŒæ—¶ä¹Ÿèƒ½è¯´æ˜èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼‰
static final int SIGNAL    = -1;

// è¡¨ç¤ºçº¿ç¨‹åœ¨æŒ‡å®šçš„æ¡ä»¶ä¸‹è¿›è¡Œç­‰å¾…
static final int CONDITION = -2;

// PROPAGATEçŠ¶æ€ï¼Œè¡¨ç¤ºå®é™…å­˜åœ¨å¯ç”¨èµ„æºï¼Œéœ€è¦å†å¾€ä¸‹ä¼ æ’­ï¼ˆå”¤é†’ï¼‰
static final int PROPAGATE = -3;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å› æ­¤æ¯ä¸ªNodeèŠ‚ç‚¹ä¸­éƒ½ä¼šåŒ…å«èŠ‚ç‚¹å°è£…çš„çº¿ç¨‹ã€åˆ†åˆ«æŒ‡å‘å‰é©±å’Œåç»§èŠ‚ç‚¹çš„æŒ‡é’ˆã€èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ã€æŒ‡å‘ä¸‹ä¸€ä¸ªæ­£åœ¨ç­‰å¾…çš„èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;è‡ªå®šä¹‰aqsç‹¬å æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°ç‹¬äº«é”&quot;&gt;è‡ªå®šä¹‰AQSç‹¬å æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°ç‹¬äº«é”&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * è‡ªå®šä¹‰AQSç‹¬å æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°ç‹¬äº«é”
 */
public class Mutex implements Lock, java.io.Serializable {

    /**
     * è‡ªå®šä¹‰AQSç‹¬å æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨
     * ä½¿ç”¨stateä¸º0è¡¨ç¤ºå½“å‰é”æ²¡æœ‰è¢«çº¿ç¨‹æ‰€æŒæœ‰
     * ä½¿ç”¨stateä¸º1è¡¨ç¤ºå½“å‰é”å·²ç»è¢«çº¿ç¨‹æ‰€æŒæœ‰
     */
    private static class Sync extends AbstractQueuedSynchronizer {

        /**
         * åˆ¤æ–­é”æ˜¯å¦è¢«å½“å‰çº¿ç¨‹æ‰€æŒæœ‰
         */
        protected boolean isHeldExclusively() {
            return getExclusiveOwnerThread() == Thread.currentThread();
        }

        /**
         * å°è¯•è·å–é”
         * åˆ¤æ–­é”æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœé”ä¸å­˜åœ¨åˆ™è·å–é”ï¼ˆé€šè¿‡CASæ§åˆ¶ï¼‰
         */
        public boolean tryAcquire(int acquires) {
            assert acquires == 1; // å€¼å¿…é¡»æ˜¯1ï¼ˆç‹¬äº«é”åªæœ‰ä¸€æŠŠé”å˜›ï¼‰
            if (compareAndSetState(0, 1)) {
                setExclusiveOwnerThread(Thread.currentThread()); // å°†å½“å‰çº¿ç¨‹è®¾ç½®ä¸ºç‹¬å æ¨¡å¼ä¸‹æ‹¥æœ‰åŒæ­¥èµ„æºçš„çº¿ç¨‹
                return true;
            }
            return false;
        }

        /**
         * å°è¯•é‡Šæ”¾é”ï¼ˆè¦æ±‚è¢«è°åŠ çš„é”åªèƒ½è¢«è°é‡Šæ”¾ï¼‰
         * åˆ¤æ–­å½“å‰æ‹¥æœ‰åŒæ­¥èµ„æºçš„çº¿ç¨‹æ˜¯å¦ä¸ºå½“å‰çº¿ç¨‹ï¼Œå¦‚æœä¸æ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™é‡Šæ”¾é”
         * è¿™é‡Œæœ‰ä¸‰ç§è°ƒç”¨æƒ…å†µï¼Œé”ç©ºé—²çš„çŠ¶æ€ä¸‹è°ƒç”¨ã€é”å·²ç»è¢«çº¿ç¨‹æ‰€æŒæœ‰ä½†è¢«å¹¶éæ‹¥æœ‰é”çš„çº¿ç¨‹è°ƒç”¨ã€é”å·²ç»è¢«çº¿ç¨‹æ‰€æŒæœ‰å¹¶è¢«æ‹¥æœ‰é”çš„çº¿ç¨‹è°ƒç”¨ï¼Œåªæœ‰ç¬¬ä¸‰ç§æƒ…å†µæ‰èƒ½å¤Ÿè§£é”æˆåŠŸ
         */
        protected boolean tryRelease(int releases) {
            assert releases == 1; // å€¼å¿…é¡»æ˜¯1ï¼ˆç‹¬äº«é”åªæœ‰ä¸€æŠŠé”å˜›ï¼‰
            if (Thread.currentThread() != getExclusiveOwnerThread()) // è¦æ±‚è¢«è°åŠ çš„é”åªèƒ½è¢«è°é‡Šæ”¾
                throw new IllegalMonitorStateException();
            if (getState() == 0) throw new IllegalMonitorStateException();
            setExclusiveOwnerThread(null); // å°†ç‹¬å æ¨¡å¼ä¸­æ‹¥æœ‰åŒæ­¥èµ„æºçš„çº¿ç¨‹ç½®ä¸ºNULL
            setState(0);
            return true;
        }

        /**
         * æä¾›ä¸€ä¸ªConditionå®ä¾‹
         */
        Condition newCondition() {
            return new ConditionObject();
        }

        /**
         * åˆ¤æ–­é”æ˜¯å¦è¢«çº¿ç¨‹æ‰€æŒæœ‰
         */
        final boolean isLocked() {
            return getState() == 1;
        }
    }

    /**
     * åŒæ­¥å™¨
     */
    private final Sync sync = new Sync();

    /**
     * åŠ é”
     */
    public void lock() {
        sync.acquire(1);
    }

    /**
     * å°è¯•è·å–é”
     */
    public boolean tryLock() {
        return sync.tryAcquire(1);
    }

    /**
     * è§£é”
     * è§£é”åªèƒ½è°ƒç”¨åŒæ­¥å™¨çš„release()ï¼Œä¸èƒ½è°ƒç”¨tryRelease()æ–¹æ³•ï¼Œå› ä¸ºtryRelease()æ–¹æ³•åªæ˜¯ç®€å•çš„ä¿®æ”¹ä¸€ä¸‹åŒæ­¥çŠ¶æ€çš„å€¼è€Œå·²ï¼Œå¹¶æ²¡æœ‰å»å”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹ï¼Œæ­£å¸¸æ˜¯éœ€è¦å”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„èŠ‚ç‚¹
     */
    public void unlock() {
        sync.release(1);
    }

    /**
     * è¿”å›ä¸æ­¤Mutexç»‘å®šçš„Conditionå®ä¾‹
     */
    public Condition newCondition() {
        return sync.newCondition();
    }

    /**
     * åˆ¤æ–­é”æ˜¯å¦è¢«çº¿ç¨‹æ‰€æŒæœ‰
     */
    public boolean isLocked() {
        return sync.isLocked();
    }

    /**
     * åˆ¤æ–­æ˜¯å¦æœ‰çº¿ç¨‹åœ¨ç­‰å¾…è·å–é”
     */
    public boolean hasQueuedThreads() {
        return sync.hasQueuedThreads();
    }

    /**
     * å¯èƒ½æŠ›å‡ºInterruptedExceptionçš„åŠ é”ï¼ˆå¦‚æœçº¿ç¨‹è¢«è®¾ç½®äº†ä¸­æ–­æ ‡è¯†é‚£ä¹ˆç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼‰
     */
    public void lockInterruptibly() throws InterruptedException {
        sync.acquireInterruptibly(1);
    }

    /**
     * åœ¨æŒ‡å®šçš„æ—¶é—´å†…å°è¯•è·å–é”
     */
    public boolean tryLock(long timeout, TimeUnit unit) throws InterruptedException {
        return sync.tryAcquireNanos(1, unit.toNanos(timeout));
    }
    
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;AQSå­ç±»ï¼ˆåŒæ­¥å™¨ï¼‰ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å†…éƒ¨ç±»å®ç°ï¼Œç„¶åä½œä¸ºå†…éƒ¨ç»„ä»¶æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Main {

    static class MyRunnable implements Runnable {

        private Mutex mutex = new Mutex();

        @Override
        public void run() {
            System.out.println(String.format(&quot;%s Running&quot;, Thread.currentThread().getName()));
            mutex.lock();
            System.out.println(String.format(&quot;%såŠ é”&quot;, Thread.currentThread().getName()));
            try {
                Thread.sleep(5000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            mutex.unlock();
            System.out.println(String.format(&quot;%sè§£é”&quot;, Thread.currentThread().getName()));
        }

    }

    public static void main(String[] args) {
        Runnable runnable = new MyRunnable();
        Thread threadA = new Thread(runnable, &quot;çº¿ç¨‹A&quot;);
        Thread threadB = new Thread(runnable, &quot;çº¿ç¨‹B&quot;);
        Thread threadC = new Thread(runnable, &quot;çº¿ç¨‹C&quot;);
        threadA.start();
        threadB.start();
        threadC.start();
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1337502/202009/1337502-20200905215329962-1856682298.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¯¥ç‹¬äº«é”æ˜¯å…¬å¹³é”ï¼Œå¤šçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºè·å–é”ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;ç‹¬å æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºçš„æºç åˆ†æ&quot;&gt;ç‹¬å æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºçš„æºç åˆ†æ&lt;/h2&gt;
&lt;h3 id=&quot;acquireæ–¹æ³•&quot;&gt;acquire()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public final void acquire(int arg) {
    if (!tryAcquire(arg) &amp;amp;&amp;amp; acquireQueued(addWaiter(Node.EXCLUSIVE), arg))
        selfInterrupt();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“çº¿ç¨‹è¦è·å–åŒæ­¥èµ„æºæ—¶ï¼Œå¯ä»¥è°ƒç”¨acquire()æˆ–è€…tryAcquire()æ–¹æ³•ï¼Œacquire()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryAcquire()æ–¹æ³•ï¼Œå°è¯•è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåšè‡ªå·±çš„äº‹æƒ…ï¼Œå¦åˆ™å°†ä¼šæ‰§è¡ŒaddWaiter()æ–¹æ³•ï¼Œå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œç„¶åæ‰§è¡ŒacquireQueued()æ–¹æ³•ï¼Œç”¨äºè‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³é‚£ä¹ˆæœ€åå°†ä¼šæ‰§è¡ŒselfInterrupt()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;addwaiteræ–¹æ³•&quot;&gt;addWaiter()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private Node addWaiter(Node mode) {
    // å°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ï¼Œå¹¶ä¸”æŒ‡å®šä¸ºç‹¬å æ¨¡å¼ï¼Œç‹¬å æ¨¡å¼Node.EXCLUSIVEä¸ºNULLï¼Œä¹Ÿå°±æ˜¯è¯´èŠ‚ç‚¹çš„nextWaiterä¸ºNULL
    Node node = new Node(Thread.currentThread(), mode);
    // å°†èŠ‚ç‚¹åŠ å…¥åˆ°é˜Ÿå°¾å½“ä¸­
    Node pred = tail;
    if (pred != null) {
        // å°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å°¾èŠ‚ç‚¹
        node.prev = pred; 
        // é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹ï¼ˆå¦‚æœpredæŒ‡é’ˆæ‰€æŒ‡å‘çš„å°¾èŠ‚ç‚¹å°±æ˜¯å½“å‰çš„å°¾èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾ï¼Œåˆ™å°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼‰
        if (compareAndSetTail(pred, node)) { 
            // å°†ä¹‹å‰å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹
            pred.next = node; 
            return node;
        }
    }
    // å¦‚æœä¸å­˜åœ¨å°¾èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ä¸ºç©ºï¼Œæˆ–è€…é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹å¤±è´¥ï¼ˆä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­æœ‰å…¶ä»–èŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾ï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡enq()æ–¹æ³•æ­»å¾ªç¯è¿›è¡Œè®¾ç½®ã€‚
    enq(node); 
    // æ— è®ºæ€ä¹ˆæ ·è¯¥æ–¹æ³•æœ€ç»ˆéƒ½ä¼šè¿”å›å°è£…äº†å½“å‰çº¿ç¨‹çš„èŠ‚ç‚¹ã€‚
    return node;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šaddWaiter()æ–¹æ³•ç”¨äºå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç­‰å¾…é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹å¤±è´¥ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡enq()æ–¹æ³•æ­»å¾ªç¯è¿›è¡Œè®¾ç½®ã€‚&lt;/p&gt;
&lt;h3 id=&quot;enqæ–¹æ³•&quot;&gt;enq()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private Node enq(final Node node) {
    // æ­»å¾ªç¯
    for (;;) {
        Node t = tail;
        // å¦‚æœå°¾èŠ‚ç‚¹ä¸ºç©ºåˆ™åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†headå’ŒtailæŒ‡é’ˆéƒ½æŒ‡å‘è¿™ä¸ªèŠ‚ç‚¹
        if (t == null) { 
            if (compareAndSetHead(new Node()))
                tail = head;
        } else { 
            // å°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å°¾èŠ‚ç‚¹
            node.prev = t;  
            // é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹ï¼ˆå¦‚æœtæŒ‡é’ˆæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯å½“å‰çš„å°¾èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾ï¼Œåˆ™å°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼‰
            if (compareAndSetTail(t, node)) {
                // å°†ä¹‹å‰çš„å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹
                t.next = node; 
                return t;
            }
        }
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šenq()æ–¹æ³•ä¸­ä½¿ç”¨æ­»å¾ªç¯åˆå§‹åŒ–é˜Ÿåˆ—ä»¥åŠé€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹ï¼Œç›´åˆ°å°¾èŠ‚ç‚¹è¢«è®¾ç½®æˆåŠŸï¼ŒåŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯å½“é˜Ÿåˆ—åˆå§‹åŒ–åä¼šæœ‰ä¸€ä¸ªç©ºçš„å¤´èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸åŒ…å«ä»»ä½•çš„çº¿ç¨‹ï¼Œç„¶åå†å°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°é˜Ÿåˆ—å½“ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;acquirequeuedæ–¹æ³•&quot;&gt;acquireQueued()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;final boolean acquireQueued(final Node node, int arg) {
    // å¤±è´¥æ ‡è¯†
    boolean failed = true; 
    try {
         // ä¸­æ–­æ ‡è¯†
        boolean interrupted = false;
        // è‡ªæ—‹
        for (;;) { 
            // è·å–èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹
            final Node p = node.predecessor(); 
            // å¦‚æœèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹é‚£ä¹ˆå°è¯•è·å–åŒæ­¥èµ„æº
            // å¼ºåˆ¶è¦æ±‚é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹è·å–åŒæ­¥èµ„æºçš„é¡ºåºå¿…é¡»æ˜¯ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾ï¼Œå¦åˆ™å°†ä¼šé€ æˆèŠ‚ç‚¹ä¸¢å¤±ï¼Œä¸¢å¤±äº†çš„èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹å°†ä¼šæ°¸è¿œå¤„äºé˜»å¡çŠ¶æ€ï¼ŒåŒæ—¶åªæœ‰å½“çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œå®ƒæ‰èƒ½æˆä¸ºå¤´èŠ‚ç‚¹ï¼ˆé˜Ÿåˆ—åˆå§‹åŒ–åçš„å¤´èŠ‚ç‚¹é™¤å¤–ï¼‰ï¼Œå› æ­¤å¤´èŠ‚ç‚¹è‚¯å®šæ˜¯å·²ç»è·å–è¿‡åŒæ­¥èµ„æºçš„ï¼ˆé˜Ÿåˆ—åˆå§‹åŒ–åçš„å¤´èŠ‚ç‚¹é™¤å¤–ï¼‰ï¼Œå› æ­¤ä¸ºäº†éµå¾ªé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹è·å–åŒæ­¥èµ„æºçš„é¡ºåºå¿…é¡»æ˜¯ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾ï¼Œæ‰€ä»¥æ°¸è¿œåªæœ‰å¤´èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æ‹¥æœ‰å°è¯•è·å–åŒæ­¥èµ„æºçš„æƒåˆ©ï¼Œå› æ­¤å½“åœ¨å°è¯•è·å–åŒæ­¥èµ„æºä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¦æ˜¯å¤´èŠ‚ç‚¹ï¼Œå¦‚æœä¸æ˜¯å°±ä¸ç”¨è·å–äº†
            if (p == head &amp;amp;&amp;amp; tryAcquire(arg)) { 
                // å½“è·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹
                setHead(node); 
                // å°†ä¹‹å‰å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆè®¾ç½®ä¸ºnullï¼Œå¸®åŠ©GC
                p.next = null; 
                failed = false; 
                // è¿”å›ä¸­æ–­æ ‡è¯†
                return interrupted; 
            }

            // å¦‚æœèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œæˆ–è€…å°è¯•è·å–åŒæ­¥èµ„æºå¤±è´¥ï¼Œé‚£ä¹ˆå°†ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹
            if (shouldParkAfterFailedAcquire(p, node) &amp;amp;&amp;amp;
                parkAndCheckInterrupt())
                interrupted = true;
        }
    } finally {
        // å¦‚æœåœ¨æ‰§è¡Œè¯¥æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼ŒæŠ›å‡ºäº†å¼‚å¸¸ï¼ˆçº¿ç¨‹è¶…æ—¶ç­‰ç­‰ï¼‰ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚
        if (failed)
            cancelAcquire(node);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šacquireQueued()æ–¹æ³•ç”¨äºè‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶è¯¥æ–¹æ³•çš„æ–¹æ³•å‡ºå£åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å½“èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å°è¯•è·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼šå°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼Œå¦åˆ™å°±ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…è¢«å”¤é†’ï¼ŒåŒæ—¶åœ¨æ‰§è¡ŒacquireQueued()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;shouldparkafterfailedacquireæ–¹æ³•&quot;&gt;shouldParkAfterFailedAcquire()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private static boolean shouldParkAfterFailedAcquire(Node pred, Node node) {
    // è·å–èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€
    int ws = pred.waitStatus;
    // å¦‚æœå‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œé‚£ä¹ˆå½“å®ƒé‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨å”¤é†’ç¦»å®ƒæœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œå› æ­¤å½“å‰èŠ‚ç‚¹å°±å¯ä»¥ç›´æ¥é˜»å¡äº†ï¼Œç­‰å¾…è¢«å”¤é†’æ—¶å†å»å°è¯•è·å–åŒæ­¥èµ„æº
    if (ws == Node.SIGNAL)
        return true;
    
    // å¦‚æœå‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºCANCELLEDï¼Œé‚£ä¹ˆé€šè¿‡å¾ªç¯æ‰¾åˆ°å‰ä¸€ä¸ªä¸ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œå°†è¯¥èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹
    if (ws &amp;gt; 0) {
        do {
            node.prev = pred = pred.prev; 
        } while (pred.waitStatus &amp;gt; 0);
        pred.next = node;
    } else { 
        // é€šè¿‡CASå°†å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºSIGNAL
        compareAndSetWaitStatus(pred, ws, Node.SIGNAL);
    }
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šshouldParkAfterFailedAcquire()æ–¹æ³•ç”¨äºåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œä»¥åŠå‰”é™¤è¢«è®¾ç½®ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ç¬¬ä¸€æ¬¡è¿›æ¥shouldParkAfterFailedAcquire()æ–¹æ³•æ—¶ï¼Œä¼šå°†å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºSIGNALï¼Œç„¶åå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œç›´æ¥è¿”å›ï¼Œç„¶åå°±è¿›å…¥å¾…é˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;å½“è¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹è¢«CANCELLEDæ—¶ï¼Œå¦‚æœå‰é©±èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°†ä¼šå”¤é†’å½“å‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¼šå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºCANCELLEDï¼Œå°±ä¼šå°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªä¸ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹ï¼Œç„¶åå†å°†å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œç›´æ¥è¿”å›ï¼Œå†æ¬¡è¿›å…¥å¾…é˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ€ä¹ˆæ ·é€šè¿‡shouldParkAfterFailedAcquire()æ–¹æ³•çš„æ‰€æœ‰èŠ‚ç‚¹æœ€ç»ˆéƒ½ä¼šè¿›å…¥å¾…é˜»å¡çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰å¾…é˜Ÿåˆ—ä¸­é™¤äº†å¤´èŠ‚ç‚¹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå¤„äºé˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;parkandcheckinterruptæ–¹æ³•&quot;&gt;parkAndCheckInterrupt()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private final boolean parkAndCheckInterrupt() {
    // é˜»å¡å½“å‰çº¿ç¨‹ï¼Œblockerå¯¹è±¡ä½¿ç”¨å½“å‰å¯¹è±¡
    LockSupport.park(this);
    // å½“è¢«å”¤é†’æ—¶è¿”å›çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†
    return Thread.interrupted(); 
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šparkAndCheckInterrupt()æ–¹æ³•ç”¨äºé˜»å¡çº¿ç¨‹ï¼ŒåŒæ—¶å½“çº¿ç¨‹è¢«å”¤é†’æ—¶ä¼šè¿”å›çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†ï¼Œå°½ç®¡å¦‚æœçº¿ç¨‹è¢«è®¾ç½®äº†ä¸­æ–­æ ‡è¯†ï¼Œä½†ä¹Ÿä¸ä¼šå½±å“çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œåªä¸è¿‡å½“å®ƒæˆåŠŸè·å–åˆ°åŒæ­¥èµ„æºæ—¶ï¼Œä¼šè°ƒç”¨ä¸€æ¬¡selfInterrupt()æ–¹æ³•ï¼Œå†æ¬¡ä¸ºçº¿ç¨‹è®¾ç½®ä¸­æ–­æ ‡è¯†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;selfinterruptæ–¹æ³•&quot;&gt;selfInterrupt()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;static void selfInterrupt() {
    // ä¸ºçº¿ç¨‹è®¾ç½®ä¸­æ–­æ ‡è¯†
    Thread.currentThread().interrupt();
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“è·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹è¢«è®¾ç½®äº†ä¸­æ–­æ ‡è¯†ï¼Œæ‰ä¼šè°ƒç”¨selfInterrupt()æ–¹æ³•ï¼Œå†æ¬¡ä¸ºçº¿ç¨‹è®¾ç½®ä¸­æ–­æ ‡è¯†ï¼Œå› ä¸ºåœ¨parkAndCheckInterrupt()æ–¹æ³•ä¸­å·²ç»è°ƒç”¨è¿‡ä¸€æ¬¡Thread.interrupted()æ–¹æ³•ï¼Œé¿å…å¤–éƒ¨åˆå†æ¬¡è°ƒç”¨Thread.interrupted()æ–¹æ³•å¯¼è‡´çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†è¢«æ¸…é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;cancelacquireæ–¹æ³•&quot;&gt;cancelAcquire()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void cancelAcquire(Node node) {
    
    if (node == null)
        return;
        // å°†å½“å‰èŠ‚ç‚¹å°è£…çš„çº¿ç¨‹è®¾ç½®ä¸ºNULL
    node.thread = null;

    // é€šè¿‡å¾ªç¯è·å–å½“å‰èŠ‚ç‚¹ä¸ä¸ºCANCELLEDçŠ¶æ€çš„å‰é©±èŠ‚ç‚¹
    Node pred = node.prev;
    while (pred.waitStatus &amp;gt; 0)
        node.prev = pred = pred.prev;

    // è·å–å‰é©±èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼ˆå¦‚æœèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯CANCELLEDçŠ¶æ€ï¼Œé‚£ä¹ˆå‰é©±èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹å°±æ˜¯å®ƒè‡ªå·±ï¼‰
    Node predNext = pred.next;

    // å°†èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLED
    node.waitStatus = Node.CANCELLED;

    // å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å°¾èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥é€šè¿‡CASå°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ä¸ä¸ºCANCELLEDçŠ¶æ€çš„å‰é©±èŠ‚ç‚¹ï¼ŒåŒæ—¶é€šè¿‡CASå°†å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆè®¾ç½®ä¸ºNULL
    if (node == tail &amp;amp;&amp;amp; compareAndSetTail(node, pred)) {
        compareAndSetNext(pred, predNext, null);
    } else { 
        int ws;
        // å¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ åŒæ—¶ å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNAL(å¦‚æœä¸æ˜¯SIGNALé‚£å°±è®¾ç½®ä¸ºSIGNAL) ä¸” å‰é©±èŠ‚ç‚¹å°è£…çš„çº¿ç¨‹ä¸ä¸ºNULL
        if (pred != head &amp;amp;&amp;amp;
            ((ws = pred.waitStatus) == Node.SIGNAL ||
             (ws &amp;lt;= 0 &amp;amp;&amp;amp; compareAndSetWaitStatus(pred, ws, Node.SIGNAL))) &amp;amp;&amp;amp;
            pred.thread != null) {
            // è·å–èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ 
            Node next = node.next;
            // å¦‚æœåç»§èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDï¼Œåˆ™é€šè¿‡CASå°†å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹
            if (next != null &amp;amp;&amp;amp; next.waitStatus &amp;lt;= 0)
                compareAndSetNext(pred, predNext, next); // è¿™é‡Œå¹¶æ²¡æœ‰å°†å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å‰é©±èŠ‚ç‚¹ï¼ˆä¸ç”¨è®¾ç½®ï¼ŒunparkSuccessor()æ–¹æ³•ä¼šè‡ªåŠ¨è·³è¿‡ï¼‰
        } else {
            // å¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥å”¤é†’å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œè®©å®ƒæ¥å‰”é™¤å½“å‰èŠ‚ç‚¹
            unparkSuccessor(node);
        }

        node.next = node;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå¦‚æœçº¿ç¨‹åœ¨é˜»å¡çš„è¿‡ç¨‹å½“ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ä¸­æ–­acquireQueued()æ–¹æ³•ï¼Œç„¶åæ‰§è¡Œfinallyè¯­å¥å—ï¼Œç”±äºfailedæ ‡è¯†ä¸ºtrueï¼Œå› æ­¤ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å°¾èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥é€šè¿‡CASå°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ä¸ä¸ºCANCELLEDçŠ¶æ€çš„å‰é©±èŠ‚ç‚¹ï¼ŒåŒæ—¶å°†è¯¥å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆè®¾ç½®ä¸ºNULLï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œåˆ™é€šè¿‡CASå°†å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå”¤é†’å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œè®©å®ƒæ¥å‰”é™¤å½“å‰èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;ç‹¬å æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºçš„æºç åˆ†æ&quot;&gt;ç‹¬å æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºçš„æºç åˆ†æ&lt;/h2&gt;
&lt;h3 id=&quot;releaseæ–¹æ³•&quot;&gt;release()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public final boolean release(int arg) {
    if (tryRelease(arg)) { 
        Node h = head; 
        // å¦‚æœé˜Ÿåˆ—ä¸ç­‰äºç©ºï¼ŒåŒæ—¶å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè°ƒç”¨unparkSuccessor()æ–¹æ³•ï¼Œå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ã€‚
        if (h != null &amp;amp;&amp;amp; h.waitStatus != 0) 
            unparkSuccessor(h);
        return true;
    }
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“è·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼ˆå¤–éƒ¨çº¿ç¨‹æˆ–è€…å¤´èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹ï¼‰ï¼Œå°†ä¼šè°ƒç”¨release()æ–¹æ³•ï¼Œrelease()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryRelease()æ–¹æ³•ï¼Œå°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸï¼ŒåŒæ—¶é˜Ÿåˆ—ä¸ä¸ºç©ºä»¥åŠå¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨unparkSuccessor()æ–¹æ³•ï¼Œå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„ï¼ˆä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼‰åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹å°†ä¼šé€šè¿‡è‡ªæ—‹å°è¯•è·å–åŒæ­¥èµ„æºã€‚&lt;/p&gt;
&lt;h3 id=&quot;unparksuccessoræ–¹æ³•&quot;&gt;unparkSuccessor()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void unparkSuccessor(Node node) {
    // è·å–èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€
    int ws = node.waitStatus; 
    // å¦‚æœèŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDï¼Œåˆ™é€šè¿‡CASå°†èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸º0ï¼ˆæ¢å¤æˆé˜Ÿåˆ—åˆå§‹åŒ–åçš„çŠ¶æ€ï¼‰
    if (ws &amp;lt; 0) 
        compareAndSetWaitStatus(node, ws, 0);

    // è·å–èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹
    Node s = node.next;
    // å¦‚æœèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULLï¼ˆä¸èƒ½è¯´æ˜èŠ‚ç‚¹å°±æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼‰æˆ–è€…åç»§èŠ‚ç‚¹ä¸ºCANCELLEDçŠ¶æ€ï¼Œé‚£ä¹ˆå°±ä»åå¾€å‰å¯»æ‰¾ç¦»å½“å‰èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹
    if (s == null || s.waitStatus &amp;gt; 0) { 
        s = null;
        for (Node t = tail; t != null &amp;amp;&amp;amp; t != node; t = t.prev)
            if (t.waitStatus &amp;lt;= 0)
                s = t;
    }
    if (s != null)
        // å”¤é†’è¯¥åç»§èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹
        LockSupport.unpark(s.thread);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šunparkSuccessor()æ–¹æ³•ç”¨äºå”¤é†’ç¦»èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULLï¼Œä¸èƒ½è¯´æ˜èŠ‚ç‚¹å°±æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼Œæˆ–è€…åç»§èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºCANCELLEDï¼Œåˆ™ä»åå¾€å‰ï¼Œå¯»æ‰¾ç¦»èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„èŠ‚ç‚¹ï¼Œæœ€ç»ˆå”¤é†’è¯¥èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;ç‹¬å æ¨¡å¼ä¸‹æºç åˆ†æåçš„æ€»ç»“&quot;&gt;ç‹¬å æ¨¡å¼ä¸‹æºç åˆ†æåçš„æ€»ç»“&lt;/h2&gt;
&lt;p&gt;1.å½“çº¿ç¨‹è¦è·å–åŒæ­¥èµ„æºæ—¶ï¼Œå¯ä»¥è°ƒç”¨acquire()æˆ–è€…tryAcquire()æ–¹æ³•ï¼Œacquire()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryAcquire()æ–¹æ³•ï¼Œå°è¯•è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåšè‡ªå·±çš„äº‹æƒ…ï¼Œå¦åˆ™å°†ä¼šæ‰§è¡ŒaddWaiter()æ–¹æ³•ï¼Œå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œç„¶åæ‰§è¡ŒacquireQueued()æ–¹æ³•ï¼Œç”¨äºè‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³é‚£ä¹ˆæœ€ç»ˆå°†ä¼šæ‰§è¡ŒselfInterrupt()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;2.addWaiter()æ–¹æ³•ç”¨äºå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç­‰å¾…é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹å¤±è´¥ï¼ˆä¹Ÿå°±æ˜¯å½“å‰æŒ‡é’ˆæ‰€æŒ‡å‘çš„å°¾èŠ‚ç‚¹å¹¶ä¸æ˜¯çœŸæ­£çš„å°¾èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­æœ‰å…¶ä»–èŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾ï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡enq()æ–¹æ³•æ­»å¾ªç¯è¿›è¡Œè®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;3.enq()æ–¹æ³•ä¸­ä½¿ç”¨æ­»å¾ªç¯åˆå§‹åŒ–é˜Ÿåˆ—ä»¥åŠé€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹ï¼Œç›´åˆ°å°¾èŠ‚ç‚¹è¢«è®¾ç½®æˆåŠŸï¼ŒåŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯å½“é˜Ÿåˆ—åˆå§‹åŒ–åä¼šæœ‰ä¸€ä¸ªç©ºçš„å¤´èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸åŒ…å«ä»»ä½•çš„çº¿ç¨‹ï¼Œç„¶åå†å°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°é˜Ÿåˆ—å½“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;4.acquireQueued()æ–¹æ³•ç”¨äºè‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶è¯¥æ–¹æ³•çš„æ–¹æ³•å‡ºå£åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å½“èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å°è¯•è·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼šå°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼Œå¦åˆ™å°±ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…è¢«å”¤é†’ï¼ŒåŒæ—¶åœ¨æ‰§è¡ŒacquireQueued()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚&lt;/p&gt;
&lt;p&gt;5.shouldParkAfterFailedAcquire()æ–¹æ³•ç”¨äºåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œä»¥åŠå‰”é™¤è¢«è®¾ç½®ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ç¬¬ä¸€æ¬¡è¿›æ¥shouldParkAfterFailedAcquire()æ–¹æ³•æ—¶ï¼Œä¼šå°†å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºSIGNALï¼Œç„¶åå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œç›´æ¥è¿”å›ï¼Œç„¶åå°±è¿›å…¥å¾…é˜»å¡çŠ¶æ€ï¼Œå½“è¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹è¢«CANCELLEDæ—¶ï¼Œå¦‚æœå‰é©±èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°†ä¼šå”¤é†’å½“å‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¼šå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºCANCELLEDï¼Œå°±ä¼šå°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªä¸ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹ï¼Œç„¶åå†å°†å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå†æ¬¡è‡ªæ—‹è¿›æ¥è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­åˆ°å‰é©±èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œç›´æ¥è¿”å›ï¼Œå†æ¬¡è¿›å…¥å¾…é˜»å¡çŠ¶æ€ï¼Œæ— è®ºæ€ä¹ˆæ ·é€šè¿‡shouldParkAfterFailedAcquire()æ–¹æ³•çš„æ‰€æœ‰èŠ‚ç‚¹æœ€ç»ˆéƒ½ä¼šè¿›å…¥å¾…é˜»å¡çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰å¾…é˜Ÿåˆ—ä¸­é™¤äº†å¤´èŠ‚ç‚¹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå¤„äºé˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;6.parkAndCheckInterrupt()æ–¹æ³•ç”¨äºé˜»å¡çº¿ç¨‹ï¼ŒåŒæ—¶å½“çº¿ç¨‹è¢«å”¤é†’æ—¶ä¼šè¿”å›çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†ï¼Œå°½ç®¡å¦‚æœçº¿ç¨‹è¢«è®¾ç½®äº†ä¸­æ–­æ ‡è¯†ï¼Œä½†ä¹Ÿä¸ä¼šå½±å“çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œåªä¸è¿‡å½“å®ƒæˆåŠŸè·å–åˆ°åŒæ­¥èµ„æºæ—¶ï¼Œä¼šè°ƒç”¨ä¸€æ¬¡selfInterrupt()æ–¹æ³•ï¼Œå†æ¬¡ä¸ºçº¿ç¨‹è®¾ç½®ä¸­æ–­æ ‡è¯†ï¼Œå› ä¸ºåœ¨parkAndCheckInterrupt()æ–¹æ³•ä¸­å·²ç»è°ƒç”¨è¿‡ä¸€æ¬¡Thread.interrupted()æ–¹æ³•ï¼Œé¿å…å¤–éƒ¨åˆå†æ¬¡è°ƒç”¨Thread.interrupted()æ–¹æ³•å¯¼è‡´çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†è¢«æ¸…é™¤ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ç­‰å¾…é˜Ÿåˆ—ä¸­é™¤äº†å¤´èŠ‚ç‚¹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå¤„äºé˜»å¡çŠ¶æ€&lt;/p&gt;
&lt;p&gt;1.å¦‚æœçº¿ç¨‹åœ¨é˜»å¡çš„è¿‡ç¨‹å½“ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ä¸­æ–­acquireQueued()æ–¹æ³•ï¼Œç„¶åæ‰§è¡Œfinallyè¯­å¥å—ï¼Œç”±äºfailedæ ‡è¯†ä¸ºtrueï¼Œå› æ­¤ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å°¾èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥é€šè¿‡CASå°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ä¸ä¸ºCANCELLEDçŠ¶æ€çš„å‰é©±èŠ‚ç‚¹ï¼ŒåŒæ—¶å°†è¯¥å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆè®¾ç½®ä¸ºNULLï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œåˆ™é€šè¿‡CASå°†å‰é©±èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå”¤é†’å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œè®©å®ƒæ¥å‰”é™¤å½“å‰èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;2.å½“è·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼ˆå¤–éƒ¨çº¿ç¨‹æˆ–è€…å¤´èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹ï¼‰ï¼Œå°†ä¼šè°ƒç”¨release()æ–¹æ³•ï¼Œrelease()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryRelease()æ–¹æ³•ï¼Œå°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸï¼ŒåŒæ—¶é˜Ÿåˆ—ä¸ä¸ºç©ºä»¥åŠå¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨unparkSuccessor()æ–¹æ³•ï¼Œå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹å°†ä¼šé€šè¿‡è‡ªæ—‹å°è¯•è·å–åŒæ­¥èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;3.åœ¨è°ƒç”¨unparkSuccessor()æ–¹æ³•å”¤é†’ç¦»èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULLï¼Œä¸èƒ½è¯´æ˜èŠ‚ç‚¹å°±æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼Œæˆ–è€…åç»§èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºCANCELLEDï¼Œåˆ™ä»åå¾€å‰ï¼Œå¯»æ‰¾ç¦»èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„èŠ‚ç‚¹ï¼Œæœ€ç»ˆå”¤é†’è¯¥èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;ç‹¬å æ¨¡å¼faq&quot;&gt;ç‹¬å æ¨¡å¼FAQ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦ç”¨CASè®¾ç½®å°¾èŠ‚ç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨è®¾ç½®å°¾èŠ‚ç‚¹çš„è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œæœ‰å…¶ä»–èŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾ï¼Œç„¶åå°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘ä¹‹å‰çš„å°¾èŠ‚ç‚¹ï¼Œä¹‹å‰çš„å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸­é—´æ’å…¥çš„èŠ‚ç‚¹å°±ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨acquireQueued()æ–¹æ³•ä¸­ï¼Œä¸ºä»€ä¹ˆå°è¯•è·å–åŒæ­¥èµ„æºä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¦æ˜¯å¤´èŠ‚ç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼ºåˆ¶è¦æ±‚ç­‰å¾…é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹è·å–åŒæ­¥èµ„æºçš„é¡ºåºå¿…é¡»æ˜¯ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾ï¼Œå¦åˆ™å°†ä¼šé€ æˆèŠ‚ç‚¹ä¸¢å¤±ï¼Œä¸¢å¤±äº†çš„èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹å°†ä¼šæ°¸è¿œå¤„äºé˜»å¡çŠ¶æ€ï¼ˆå½“åŒæ­¥èµ„æºè¢«é‡Šæ”¾æ—¶ï¼Œè¿˜æ²¡æ¥å¾—åŠå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹æ—¶ï¼Œç­‰å¾…é˜Ÿåˆ—ä¸­ä¸€ä¸ªæ’åœ¨å¾ˆåçš„èŠ‚ç‚¹è¢«å”¤é†’ï¼Œç„¶åå®ƒå°†ä¼šé€šè¿‡è‡ªæ—‹å°è¯•è·å–åŒæ­¥èµ„æºï¼Œä¸€æ—¦å®ƒè·å–äº†åŒæ­¥èµ„æºï¼Œé‚£ä¹ˆå®ƒå°†æˆä¸ºå¤´èŠ‚ç‚¹ï¼Œæœ€ç»ˆå®ƒä¸ä¹‹å‰å¤´èŠ‚ç‚¹ä¹‹é—´çš„æ‰€æœ‰èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹å°†ä¼šæ°¸è¿œå¤„äºé˜»å¡çŠ¶æ€ï¼‰ï¼ŒåŒæ—¶åªæœ‰å½“çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œå®ƒæ‰èƒ½æˆä¸ºå¤´èŠ‚ç‚¹ï¼ˆé˜Ÿåˆ—åˆå§‹åŒ–åçš„å¤´èŠ‚ç‚¹é™¤å¤–ï¼‰ï¼Œå› æ­¤å¤´èŠ‚ç‚¹è‚¯å®šæ˜¯å·²ç»è·å–è¿‡åŒæ­¥èµ„æºçš„ï¼ˆé˜Ÿåˆ—åˆå§‹åŒ–åçš„å¤´èŠ‚ç‚¹é™¤å¤–ï¼‰ï¼Œå› æ­¤ä¸ºäº†éµå¾ªé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹è·å–åŒæ­¥èµ„æºçš„é¡ºåºå¿…é¡»æ˜¯ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾ï¼Œæ‰€ä»¥æ°¸è¿œåªæœ‰å¤´èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æ‹¥æœ‰å°è¯•è·å–åŒæ­¥èµ„æºçš„æƒåˆ©ï¼Œå› æ­¤å½“åœ¨å°è¯•è·å–åŒæ­¥èµ„æºä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¦æ˜¯å¤´èŠ‚ç‚¹ï¼Œå¦‚æœä¸æ˜¯å°±ä¸ç”¨è·å–äº†ï¼Œè‡³äºå¤´èŠ‚ç‚¹é‡Šæ”¾åŒæ­¥èµ„æºåï¼Œèƒ½å¦è¢«åç»§èŠ‚ç‚¹è·å–åˆ°åŒæ­¥èµ„æºå¦è¯´ï¼Œå› ä¸ºå½“åŒæ­¥èµ„æºè¢«é‡Šæ”¾æ—¶ï¼Œè¢«å”¤é†’çš„åç»§èŠ‚ç‚¹å¯èƒ½è¿˜æ²¡æ¥å¾—è·å–åŒæ­¥èµ„æºï¼Œæ­¤æ—¶å°±è¢«å¤–éƒ¨çº¿ç¨‹ç›´æ¥è·å–äº†ï¼Œå› æ­¤è¢«å”¤é†’çš„è¿™ä¸ªçº¿ç¨‹åˆåªèƒ½å†æ¬¡è¿›å…¥é˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆåœ¨unparkSuccessor()æ–¹æ³•ä¸­ï¼Œå¦‚æœèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULLï¼Œéœ€è¦ä»åå¾€å‰å¯»æ‰¾ç¦»èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œè€Œä¸ä»å‰å¾€åè¿›è¡Œå¯»æ‰¾ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULLï¼Œä¸èƒ½è¯´æ˜èŠ‚ç‚¹å°±æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼Œå› ä¸ºæ— è®ºæ˜¯åœ¨addWaiter()æ–¹æ³•è¿˜æ˜¯enq()æ–¹æ³•å°†èŠ‚ç‚¹åŠ å…¥åˆ°é˜Ÿåˆ—ï¼Œå®ƒæ€»æ˜¯å…ˆå°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œç„¶åå†é€šè¿‡CASå°†tailæŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå¦‚æœåœ¨å°†ä¹‹å‰å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ä¹‹å‰ï¼Œéœ€è¦å”¤é†’å°¾èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œç”±äºæ­¤æ—¶å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä»ç„¶ä¸ºNULLï¼Œå› æ­¤æ— æ³•é€šè¿‡nextæŒ‡é’ˆä»å‰å¾€åå¯»æ‰¾ï¼Œåªèƒ½é€šè¿‡predæŒ‡é’ˆä»åå¾€å‰å¯»æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çº¿ç¨‹åœ¨ä»€ä¹ˆæƒ…å†µä¼šè¢«å”¤é†’ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹è¢«å”¤é†’åªæœ‰ä¸¤ç§æƒ…å†µ&lt;/p&gt;
&lt;p&gt;ä¸€ç§æ˜¯å¤–éƒ¨çº¿ç¨‹æˆ–è€…å¤´èŠ‚ç‚¹é‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œéœ€è¦å”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹å°±ä¼šé€šè¿‡è‡ªæ—‹å°è¯•è·å–åŒæ­¥èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç§æ˜¯å½“èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹è¢«CANCELLEDæ—¶ï¼Œå¦‚æœå‰é©±èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°†ä¼šå”¤é†’å½“å‰èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªä¸ä¸ºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹ï¼Œç„¶åå†å°†å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç­‰å¾…é˜Ÿåˆ—ä¸­å¤„äºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™è¢«å‰”é™¤ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;cancelAcquire()å’ŒshouldParkAfterFailedAcquire()æ–¹æ³•éƒ½å¯ä»¥å‰”é™¤ç­‰å¾…é˜Ÿåˆ—ä¸­å¤„äºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;*åœ¨unparkSuccessor()ä¸­éœ€è¦å‰”é™¤å¤„äºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹æ˜¯ä¸ºäº†é¿å…åŒæ­¥é—®é¢˜ï¼Œå¯èƒ½å­˜åœ¨ä¸€ä¸ªå¤„äºCANCELLEDçŠ¶æ€çš„èŠ‚ç‚¹æœªæ¥å¾—åŠè¢«å‰”é™¤ï¼Œç„¶åå®ƒåˆä½œä¸ºè¦å”¤é†’çš„èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;è‡ªå®šä¹‰aqså…±äº«æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°å…±äº«é”&quot;&gt;è‡ªå®šä¹‰AQSå…±äº«æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°å…±äº«é”&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;/**
 * è‡ªå®šä¹‰AQSå…±äº«æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨æ¥å®ç°å…±äº«é”
 */
public class Share {

    /**
     * è‡ªå®šä¹‰AQSå…±äº«æ¨¡å¼ä¸‹çš„åŒæ­¥å™¨
     */
    private static class Sync extends AbstractQueuedSynchronizer {

        /**
         * å­˜å‚¨çº¿ç¨‹è·å–åŒæ­¥èµ„æºçš„æƒ…å†µ
         */
        private static ThreadLocal&amp;lt;Integer&amp;gt; threadLocal = new ThreadLocal&amp;lt;&amp;gt;();

        /**
         * åˆå§‹åŒ–åŒæ­¥èµ„æº
         */
        public Sync(int state) {
            setState(state);
        }

        /**
         * å°è¯•è·å–åŒæ­¥èµ„æºï¼ˆéœ€è¦ä¿è¯æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰
         */
        @Override
        protected int tryAcquireShared(int arg) {
            int state = getState();
            int available = state - arg;
            if (available &amp;gt;= 0 &amp;amp;&amp;amp; compareAndSetState(state, available)) { // é€šè¿‡CASä¿è¯åŸå­æ€§
                threadLocal.set(arg);
                return available;
            }
            return -1;
        }

        /**
         * é‡Šæ”¾åŒæ­¥èµ„æºï¼ˆçº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºçš„ä¸ªæ•°å¿…é¡»ç­‰äºå®ƒè·å–åŒæ­¥èµ„æºçš„ä¸ªæ•°ï¼‰
         */
        @Override
        protected boolean tryReleaseShared(int arg) {
            if (threadLocal.get() != arg)
                throw new UnsupportedOperationException();
            if (compareAndSetState(getState(), getState() + arg)) { // é€šè¿‡CASä¿è¯åŸå­æ€§
                threadLocal.set(null);
                return true;
            }
            return false;
        }

    }

    /**
     * åˆå§‹åŒ–åŒæ­¥å™¨çš„åŒæ­¥èµ„æº
     */
    public Share(int permits) {
        sync = new Sync(permits);
    }

    public Sync sync;

    /**
     * è·å–è®¸å¯
     */
    public void acquire(int permits) {
        sync.acquireShared(permits);
    }

    /**
     * å°è¯•è·å–è®¸å¯
     */
    public boolean tryAcquire(int permits) {
        return sync.tryAcquireShared(permits) &amp;gt;= 0;
    }

    /**
     * é‡Šæ”¾è®¸å¯
     */
    public boolean release(int permits) {
        return sync.releaseShared(permits);
    }

}
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public class Main {

    static class MyRunnable implements Runnable {

        private Share share;

        private int permits;

        @Override
        public void run() {
            System.out.println(String.format(&quot;%s Running&quot;, Thread.currentThread().getName()));
            share.acquire(permits);
            System.out.println(String.format(&quot;%sè·å–äº†%sä¸ªè®¸å¯&quot;, Thread.currentThread().getName(), permits));
            try {
                Thread.sleep(5000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            share.release(permits);
            System.out.println(String.format(&quot;%sé‡Šæ”¾äº†%sä¸ªè®¸å¯&quot;, Thread.currentThread().getName(), permits));
        }

        public MyRunnable(Share share, int permits) {
            this.share = share;
            this.permits = permits;
        }
    }

    public static void main(String[] args) {
        Share share = new Share(10);
        Thread threadA = new Thread(new MyRunnable(share,5),&quot;çº¿ç¨‹A&quot;);
        Thread threadB = new Thread(new MyRunnable(share,4),&quot;çº¿ç¨‹B&quot;);
        Thread threadC = new Thread(new MyRunnable(share,3),&quot;çº¿ç¨‹C&quot;);
        threadA.start();
        threadB.start();
        threadC.start();
    }
    
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1337502/202009/1337502-20200905215358990-1155081685.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;å…±äº«æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºçš„æºç åˆ†æ&quot;&gt;å…±äº«æ¨¡å¼ä¸‹è·å–åŒæ­¥èµ„æºçš„æºç åˆ†æ&lt;/h2&gt;
&lt;h3 id=&quot;acquiresharedæ–¹æ³•&quot;&gt;acquireShared()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public final void acquireShared(int arg) {
    if (tryAcquireShared(arg) &amp;lt; 0)
        doAcquireShared(arg);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“çº¿ç¨‹è¦è·å–åŒæ­¥èµ„æºæ—¶ï¼Œå¯ä»¥è°ƒç”¨acquireShared()æˆ–tryAcquireShared()æ–¹æ³•ï¼ŒacquireShared()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryAcquireShared()æ–¹æ³•ï¼Œå°è¯•è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåšè‡ªå·±çš„äº‹æƒ…ï¼Œå¦åˆ™å°†ä¼šè°ƒç”¨doAcquireShared()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;doacquiresharedæ–¹æ³•&quot;&gt;doAcquireShared()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void doAcquireShared(int arg) {
    // å°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ï¼Œç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­
    // å½“å‰èŠ‚ç‚¹ä¼šè¢«æŒ‡å®šä¸ºå…±äº«æ¨¡å¼ï¼Œå…±äº«æ¨¡å¼Node.SHAREDä¸ºä¸€ä¸ªç©ºçš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´èŠ‚ç‚¹çš„nextWaiterä¸ä¸ºNULLï¼ˆisShared()æ–¹æ³•è¿”å›trueï¼‰
    // åœ¨è°ƒç”¨addWaiter()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç­‰å¾…é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…é€šè¿‡CASè®¾ç½®å°¾èŠ‚ç‚¹å¤±è´¥ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡enq()æ–¹æ³•æ­»å¾ªç¯è¿›è¡Œè®¾ç½®
    final Node node = addWaiter(Node.SHARED);
    // å¤±è´¥æ ‡è¯†
    boolean failed = true;
    try {
        // ä¸­æ–­æ ‡è¯†
        boolean interrupted = false;
        // è‡ªæ—‹
        for (;;) {
            // è·å–èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹
            final Node p = node.predecessor();
            // å¦‚æœèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œåˆ™å°è¯•è·å–åŒæ­¥èµ„æº
            if (p == head) {
                int r = tryAcquireShared(arg);
                // å¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™è°ƒç”¨setHeadAndPropagate()æ–¹æ³•
                if (r &amp;gt;= 0) {
                    setHeadAndPropagate(node, r);
                    // å°†ä¹‹å‰çš„å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆè®¾ç½®ä¸ºNULLï¼Œhelp gc
                    p.next = null;
                    // å¦‚æœè·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹è¢«è®¾ç½®äº†ä¸­æ–­æ ‡è¯†ï¼Œé‚£ä¹ˆè°ƒç”¨selfInterrupt()æ–¹æ³•ï¼Œå†æ¬¡ä¸ºçº¿ç¨‹è®¾ç½®ä¸€ä¸ªä¸­æ–­æ ‡è¯†
                    if (interrupted)
                        selfInterrupt();
                    failed = false;
                    return;
                }
            }
            // å¦‚æœèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œæˆ–è€…å°è¯•è·å–åŒæ­¥èµ„æºå¤±è´¥ï¼Œé‚£ä¹ˆå°†ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹
            if (shouldParkAfterFailedAcquire(p, node) &amp;amp;&amp;amp;
                parkAndCheckInterrupt())
                interrupted = true;
        }
    } finally {
        // å¦‚æœåœ¨æ‰§è¡Œè¯¥æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼ŒæŠ›å‡ºäº†å¼‚å¸¸ï¼ˆçº¿ç¨‹è¶…æ—¶ç­‰ç­‰ï¼‰ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚
        if (failed)
            cancelAcquire(node);
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šdoAcquireShared()æ–¹æ³•ç”¨äºå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œç„¶åé€šè¿‡è‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶è¯¥æ–¹æ³•çš„æ–¹æ³•å‡ºå£åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å½“èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å°è¯•è·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨setHeadAndPropagate()æ–¹æ³•ï¼Œå¦åˆ™å°†ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…è¢«å”¤é†’ï¼ŒåŒæ—¶åœ¨æ‰§è¡ŒdoAcquireShared()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;setheadandpropagateæ–¹æ³•&quot;&gt;setHeadAndPropagate()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void setHeadAndPropagate(Node node, int propagate) {
    // è·å–å¤´èŠ‚ç‚¹
    Node h = head; 
    // å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹
    setHead(node);
    
    //å¦‚æœçº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œä»ç„¶æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼ˆæ­£å¸¸æƒ…å†µï¼‰ï¼Œæˆ–æ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºä½†æ—§çš„å’Œæ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEæ—¶ï¼ˆè¯´æ˜å®é™…å­˜åœ¨å¯ç”¨èµ„æºï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•
    if (propagate &amp;gt; 0 || h == null || h.waitStatus &amp;lt; 0 ||
        (h = head) == null || h.waitStatus &amp;lt; 0) {
        Node s = node.next;
        if (s == null || s.isShared()) // æ’é™¤ç­‰å¾…é˜Ÿåˆ—ä¸­ä¸ä¸ºå…±äº«æ¨¡å¼çš„èŠ‚ç‚¹
            doReleaseShared();
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šsetHeadAndPropagate()æ–¹æ³•ç”¨äºå°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å¦‚æœå½“çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œä»ç„¶æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼ˆæ­£å¸¸æƒ…å†µï¼‰ï¼Œæˆ–æ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºä½†æ—§çš„å’Œæ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEæ—¶ï¼ˆè¯´æ˜å®é™…å­˜åœ¨å¯ç”¨èµ„æºï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;doreleasesharedæ–¹æ³•&quot;&gt;doReleaseShared()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;private void doReleaseShared() {
    // ä½¿ç”¨æ­»å¾ªç¯æ¥ä¿è¯CASæ“ä½œæœ€ç»ˆè‚¯å®šæˆåŠŸ
    for (;;) {
        // è·å–å¤´èŠ‚ç‚¹
        Node h = head;
        // å¦‚æœheadæŒ‡é’ˆå’ŒtailæŒ‡é’ˆä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯´æ˜å¤´èŠ‚ç‚¹è‚¯å®šå­˜åœ¨åç»§èŠ‚ç‚¹ï¼ˆä½¿ç”¨head != tailå¯ä»¥é¿å…å¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ä½†æ˜¯å¤´èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆåˆä¸ºNULLçš„æƒ…å†µï¼‰
        if (h != null &amp;amp;&amp;amp; h != tail) {
            // è·å–å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ï¼Œå¦‚æœç­‰å¾…çŠ¶æ€ä¸ºSIGNALï¼Œåˆ™é€šè¿‡CASå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸º0ï¼ˆé‡ç½®ï¼‰ï¼Œç„¶åå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹
            int ws = h.waitStatus;
            if (ws == Node.SIGNAL) {
                if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0)) 
                    continue;            
                unparkSuccessor(h);
            }
            // å¦‚æœå¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸º0ï¼Œåˆ™é€šè¿‡CASå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATE
            else if (ws == 0 &amp;amp;&amp;amp;
                     !compareAndSetWaitStatus(h, 0, Node.PROPAGATE))
                continue;                
        }
        if (h == head) // å¦‚æœæ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤åï¼ŒhæŒ‡é’ˆæŒ‡å‘çš„å¤´èŠ‚ç‚¹ä»ç„¶ä¸ºå½“å‰çš„å¤´èŠ‚ç‚¹ï¼Œåˆ™é€€å‡ºå¾ªç¯ï¼Œå®Œæˆé‡Šæ”¾è¿‡ç¨‹ï¼Œç„¶ååšè‡ªå·±çš„äº‹æƒ…
            break;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œä»ç„¶æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼Œæˆ–æ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºä½†æ—§çš„å’Œæ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEï¼Œæˆ–è€…å½“çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºè¿™ä¸¤ç§æƒ…å†µï¼Œéƒ½ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨æ­»å¾ªç¯æ¥ä¿è¯CASæ“ä½œæœ€ç»ˆè‚¯å®šæˆåŠŸï¼Œå¦‚æœå¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼ŒåŒæ—¶å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALæ—¶ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡CASå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸º0ï¼ˆé‡ç½®ï¼‰ï¼Œç„¶åå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœåˆ¤æ–­åˆ°å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸º0ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡CASå°†èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATEï¼Œè¡¨ç¤ºéœ€è¦ä¼ æ’­ä¸‹å»ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;å…±äº«æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºçš„æºç åˆ†æ&quot;&gt;å…±äº«æ¨¡å¼ä¸‹é‡Šæ”¾åŒæ­¥èµ„æºçš„æºç åˆ†æ&lt;/h2&gt;
&lt;h3 id=&quot;releasesharedæ–¹æ³•&quot;&gt;releaseShared()æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;public final boolean releaseShared(int arg) {
    if (tryReleaseShared(arg)) {
        doReleaseShared();
        return true;
    }
    return false;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ€»ç»“ï¼šå½“è·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œå°†ä¼šè°ƒç”¨releaseShared()æ–¹æ³•ï¼ŒreleaseShared()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryReleaseShared()æ–¹æ³•ï¼Œå°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ï¼Œå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;å…±äº«æ¨¡å¼ä¸‹æºç åˆ†æåçš„æ€»ç»“&quot;&gt;å…±äº«æ¨¡å¼ä¸‹æºç åˆ†æåçš„æ€»ç»“&lt;/h2&gt;
&lt;p&gt;1.å½“çº¿ç¨‹è¦è·å–åŒæ­¥èµ„æºæ—¶ï¼Œå¯ä»¥è°ƒç”¨acquireShared()æˆ–tryAcquireShared()æ–¹æ³•ï¼ŒacquireShared()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryAcquireShared()æ–¹æ³•ï¼Œå°è¯•è·å–åŒæ­¥èµ„æºï¼Œå¦‚æœè·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåšè‡ªå·±çš„äº‹æƒ…ï¼Œå¦åˆ™å°†ä¼šè°ƒç”¨doAcquireShared()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;2.doAcquireShared()æ–¹æ³•ç”¨äºå°†å½“å‰çº¿ç¨‹å°è£…æˆNodeèŠ‚ç‚¹ç„¶ååŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å½“ä¸­ï¼Œç„¶åé€šè¿‡è‡ªæ—‹è·å–åŒæ­¥èµ„æºï¼ŒåŒæ—¶è¯¥æ–¹æ³•çš„æ–¹æ³•å‡ºå£åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å½“èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å°è¯•è·å–åŒæ­¥èµ„æºæˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨setHeadAndPropagate()æ–¹æ³•ï¼Œå¦åˆ™å°†ä¼šè°ƒç”¨shouldParkAfterFailedAcquire()æ–¹æ³•ï¼Œåˆ¤æ–­çº¿ç¨‹èƒ½å¦è¿›è¡Œé˜»å¡ï¼Œå½“çº¿ç¨‹èƒ½å¤Ÿè¢«é˜»å¡æ—¶ï¼Œå°†ä¼šè°ƒç”¨parkAndCheckInterrupt()æ–¹æ³•é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…è¢«å”¤é†’ï¼ŒåŒæ—¶åœ¨æ‰§è¡ŒdoAcquireShared()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™failedæ ‡è¯†ä¸ºtrueï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡ŒcancelAcquire()æ–¹æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºCANCELLEDï¼ŒåŒæ—¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­å‰”é™¤ã€‚&lt;/p&gt;
&lt;p&gt;3.setHeadAndPropagate()æ–¹æ³•ç”¨äºå°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼ŒåŒæ—¶å¦‚æœå½“çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œä»ç„¶æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼ˆæ­£å¸¸æƒ…å†µï¼‰ï¼Œæˆ–æ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºä½†æ—§çš„å’Œæ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEæ—¶ï¼ˆè¯´æ˜å®é™…å­˜åœ¨å¯ç”¨èµ„æºï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;4.å½“ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹è·å–äº†åŒæ­¥èµ„æºåï¼Œä»ç„¶æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼Œæˆ–æ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºä½†æ—§çš„å’Œæ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEï¼Œæˆ–è€…å½“çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºè¿™ä¸¤ç§æƒ…å†µï¼Œéƒ½ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨æ­»å¾ªç¯æ¥ä¿è¯CASæ“ä½œæœ€ç»ˆè‚¯å®šæˆåŠŸï¼Œå¦‚æœå¤´èŠ‚ç‚¹å­˜åœ¨åç»§èŠ‚ç‚¹ï¼ŒåŒæ—¶å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºSIGNALæ—¶ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡CASå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸º0ï¼ˆé‡ç½®ï¼‰ï¼Œç„¶åå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœåˆ¤æ–­åˆ°å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸º0ï¼ˆè¡¨ç¤ºå¹¶å‘é‡Šæ”¾åŒæ­¥èµ„æºï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šé€šè¿‡CASå°†èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATEï¼Œè¡¨ç¤ºéœ€è¦ä¼ æ’­ä¸‹å»ã€‚&lt;/p&gt;
&lt;p&gt;5.å½“è·å–äº†åŒæ­¥èµ„æºçš„çº¿ç¨‹é‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œå°†ä¼šè°ƒç”¨releaseShared()æ–¹æ³•ï¼ŒreleaseShared()æ–¹æ³•ä¸­ä¼šè°ƒç”¨AQSå­ç±»çš„tryReleaseShared()æ–¹æ³•ï¼Œå°è¯•é‡Šæ”¾åŒæ­¥èµ„æºï¼Œå¦‚æœé‡Šæ”¾åŒæ­¥èµ„æºæˆåŠŸï¼Œåˆ™ä¼šè°ƒç”¨doReleaseShared()æ–¹æ³•ï¼Œå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;br/&gt;&lt;h2 id=&quot;å…±äº«æ¨¡å¼faq&quot;&gt;å…±äº«æ¨¡å¼FAQ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æœ‰å“ªäº›åœºæ™¯ä¼šå°†èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATEï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.å½“çº¿ç¨‹Aé‡Šæ”¾åŒæ­¥èµ„æºæ—¶ï¼Œå°†å½“å‰çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸º0ï¼Œç„¶åå”¤é†’ç¦»å¤´èŠ‚ç‚¹æœ€è¿‘çš„åŒæ—¶ç­‰å¾…çŠ¶æ€ä¸ä¸ºCANCELLEDçš„åç»§èŠ‚ç‚¹ï¼Œå¦‚æœè¢«å”¤é†’çš„èŠ‚ç‚¹è·å–äº†åŒæ­¥èµ„æºï¼Œç„¶ååœ¨è°ƒç”¨setHeadAndPropagate()æ–¹æ³•ä¹‹å‰ï¼Œçº¿ç¨‹Bé‡Šæ”¾äº†åŒæ­¥èµ„æºï¼Œæ­¤æ—¶åˆ¤æ–­åˆ°å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸º0ï¼Œé‚£ä¹ˆå°±ä¼šå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATEï¼Œè¡¨ç¤ºå¹¶å‘é‡Šæ”¾äº†åŒæ­¥èµ„æºï¼Œç›®å‰è¿˜æœ‰å¯ç”¨çš„åŒæ­¥èµ„æºï¼Œç„¶åè¢«å”¤é†’çš„èŠ‚ç‚¹åœ¨æ‰§è¡ŒsetHeadAndPropagate()æ–¹æ³•æ—¶ï¼Œå¦‚æœæ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼Œä½†æ˜¯åˆ¤æ–­åˆ°æ—§çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€ä¸ºPROPAGATEï¼Œè¯´æ˜å®é™…å­˜åœ¨å¯ç”¨èµ„æºï¼Œé‚£ä¹ˆä¼šå†æ¬¡è°ƒç”¨doReleaseShared()æ–¹æ³•ï¼Œå»å”¤é†’åç»§èŠ‚ç‚¹ï¼Œå°è¯•è·å–åŒæ­¥èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;2.å¦‚æœè¢«å”¤é†’çš„èŠ‚ç‚¹è·å–äº†åŒæ­¥èµ„æºï¼Œåœ¨å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ä¹‹åï¼Œçº¿ç¨‹Aå’ŒBé‡Šæ”¾äº†åŒæ­¥èµ„æºï¼Œé‚£ä¹ˆå°±è·Ÿåœºæ™¯1ä¸€æ ·ï¼Œçº¿ç¨‹Bä¼šå°†å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€è®¾ç½®ä¸ºPROPAGATEï¼Œç„¶åè¢«å”¤é†’çš„èŠ‚ç‚¹åœ¨æ‰§è¡ŒsetHeadAndPropagate()æ–¹æ³•æ—¶ï¼Œå¦‚æœæ²¡æœ‰å‰©ä½™çš„å¯ç”¨èµ„æºï¼Œé™¤äº†åˆ¤æ–­æ—§çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€æ˜¯å¦ä¸ºPROPAGATEä»¥å¤–ï¼Œè¿˜éœ€è¦åˆ¤æ–­æ–°çš„å¤´èŠ‚ç‚¹çš„ç­‰å¾…çŠ¶æ€æ˜¯å¦ä¸ºPROPAGATEã€‚&lt;/p&gt;
&lt;p&gt;åœºæ™¯ä¸€å’Œåœºæ™¯äºŒçš„åŒºåˆ«æ˜¯è·å–åŒæ­¥èµ„æºçš„çº¿ç¨‹åœ¨è®¾ç½®å¤´èŠ‚ç‚¹ä¹‹å‰è¿˜æ˜¯å¤´èŠ‚ç‚¹ä¹‹åã€‚&lt;/p&gt;
</description>
<pubDate>Sat, 05 Sep 2020 14:10:00 +0000</pubDate>
<dc:creator>è¾£é¸¡å°ç¯®å­</dc:creator>
<og:description>AQSæºç åˆ†æ AQSå…¨ç§°AbstractQueuedSynchronizerï¼ˆæŠ½è±¡é˜Ÿåˆ—åŒæ­¥å™¨ï¼‰ AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªè¢«volatileä¿®é¥°çš„intç±»å‹çš„åŒæ­¥çŠ¶æ€stateï¼Œä»¥åŠCLHç­‰å¾…é˜Ÿåˆ—ã€‚ sta</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/funyoung/p/13619854.html</dc:identifier>
</item>
<item>
<title>git å¦‚ä½•æ¯”è¾ƒä¸åŒåˆ†æ”¯çš„å·®å¼‚ - è‰¯è®¸Linux</title>
<link>http://www.cnblogs.com/yychuyu/p/13619923.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yychuyu/p/13619923.html</guid>
<description>&lt;p&gt;å‰ä¸¤å¤©ï¼Œè‰¯è®¸åœ¨åšé›†æˆçš„æ—¶å€™ç¢°åˆ°äº†ä¸€ä»¶é—¹å¿ƒäº‹ã€‚äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œè‰¯è®¸çš„ä¸€ä½åŒäº‹ä¸å°å¿ƒæŠŠä¸€ä¸ªé”™è¯¯çš„ dev åˆ†æ”¯ merge åˆ°äº† master åˆ†æ”¯ä¸Šï¼Œå¯¼è‡´äº†è‰¯è®¸ç¼–è¯‘ä¸é€šè¿‡ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦å°†ç‰ˆæœ¬å›é€€åˆ° merge ä¹‹å‰çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä¸‹é¢è¿™ä¸ªçŠ¶æ€ï¼Œé‚£å¾ˆå¥½å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1218435/202009/1218435-20200905220317879-152925682.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€ä¸€ä¸ª &lt;code&gt;git reset&lt;/code&gt; å‘½ä»¤å³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git reset --hard HEAD~
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœä¸‹é¢è¿™ç§çŠ¶æ€ï¼Œæƒ…å†µå°±æ²¡é‚£ä¹ˆç®€å•äº†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1218435/202009/1218435-20200905220350133-2139809618.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œå°±ä¸èƒ½ç®€å•ä½¿ç”¨ &lt;code&gt;git reset&lt;/code&gt; å‘½ä»¤äº†ã€‚è¿™å°±æ˜¯è‰¯è®¸è¿™æ¬¡ç¢°åˆ°çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‰¾å‡ºåˆå¹¶åçš„åˆ†æ”¯ä¸åˆå¹¶å‰çš„åˆ†æ”¯çš„å·®å¼‚ï¼Œå†è¿›è¡Œç‰ˆæœ¬å›é€€ã€‚è¿™ç§æƒ…å†µä¸‹çš„ç‰ˆæœ¬å›é€€ï¼Œå°±ä¸èƒ½å•ç”¨ &lt;code&gt;git reset&lt;/code&gt; äº†ï¼Œè€Œæ˜¯è¦é…åˆ &lt;code&gt;git revert&lt;/code&gt; äº†ï¼Œåœ¨åé¢æˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä¼˜é›…çš„è¿›è¡Œç‰ˆæœ¬å›é€€ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°æ­£é¢˜ï¼Œæˆ‘ä»¬å¦‚ä½•æ‰¾å‡ºåˆå¹¶åçš„åˆ†æ”¯ä¸åˆå¹¶å‰åˆ†æ”¯çš„å·®å¼‚å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° &lt;code&gt;git log&lt;/code&gt; å‘½ä»¤äº†ã€‚æˆ‘ä»¬å…ˆæ¨¡æ‹Ÿå‡ºè¿™ä¸¤ä¸ªåˆ†æ”¯çš„æäº¤æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;dev åˆ†æ”¯æäº¤æƒ…å†µï¼š&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log dev
commit b191410906ae20a865fde3f163bb01fd6cfc1f11
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:03:13 2018 +0800

    [dev] ç‰ˆæœ¬6

commit 793c9582ab0a45c4f8f548be36c06bc5ca427c62
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:02:30 2018 +0800

    [dev] ç‰ˆæœ¬5

commit dbe54166608772486408c1dea05304de45dba430
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:00:27 2018 +0800

    [both] ç‰ˆæœ¬3

commit 31894364b1396b00d2935373387397ef930416e4
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:59:26 2018 +0800

    [both] ç‰ˆæœ¬2

commit 4872f653a8fd7c8541abb4a292d628dc7625884b
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:58:05 2018 +0800

    [dev] ç‰ˆæœ¬4

commit fac6c60ed28c5acfcd01284336d4201cc55ee2e7
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:57:01 2018 +0800

    [both] ç‰ˆæœ¬1

&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;master åˆ†æ”¯æäº¤æƒ…å†µï¼š&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log master
commit c690054c67b833b22dce4120899526743b20d36d
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sun Dec 9 07:31:47 2018 +0800

    [master] ç‰ˆæœ¬7

commit dbe54166608772486408c1dea05304de45dba430
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:00:27 2018 +0800

    [both] ç‰ˆæœ¬3

commit 31894364b1396b00d2935373387397ef930416e4
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:59:26 2018 +0800

    [both] ç‰ˆæœ¬2

commit fac6c60ed28c5acfcd01284336d4201cc55ee2e7
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:57:01 2018 +0800

    [both] ç‰ˆæœ¬1

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™äº›æäº¤é‡Œ &lt;strong&gt;[both]&lt;/strong&gt; è¡¨ç¤ºä¸¤ä¸ªåˆ†æ”¯éƒ½æœ‰çš„æäº¤ï¼Œ &lt;strong&gt;[dev]&lt;/strong&gt; è¡¨ç¤ºåªæœ‰åœ¨ dev åˆ†æ”¯çš„æäº¤ï¼Œ&lt;strong&gt;[master]&lt;/strong&gt; è¡¨ç¤ºåªåœ¨ master åˆ†æ”¯çš„æäº¤&lt;/p&gt;
&lt;h4 id=&quot;1-æŸ¥çœ‹devæœ‰ï¼Œè€Œ-master-åˆ†æ”¯æ²¡æœ‰çš„æäº¤&quot;&gt;1. æŸ¥çœ‹devæœ‰ï¼Œè€Œ master åˆ†æ”¯æ²¡æœ‰çš„æäº¤&lt;/h4&gt;
&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log dev ^master
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log dev ^master
commit b191410906ae20a865fde3f163bb01fd6cfc1f11
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:03:13 2018 +0800

    [dev] ç‰ˆæœ¬6

commit 793c9582ab0a45c4f8f548be36c06bc5ca427c62
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:02:30 2018 +0800

    [dev] ç‰ˆæœ¬5

commit 4872f653a8fd7c8541abb4a292d628dc7625884b
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:58:05 2018 +0800

    [dev] ç‰ˆæœ¬4

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾çœ‹åˆ°ï¼Œç‰ˆæœ¬4ï¼Œ5ï¼Œ6è¿™ä¸‰ä¸ªæäº¤åªåœ¨ dev åˆ†æ”¯é‡Œã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åï¼Œå¦‚æœæƒ³çœ‹åˆ° &lt;strong&gt;master&lt;/strong&gt; åˆ†æ”¯æœ‰ï¼Œè€Œ &lt;strong&gt;dev&lt;/strong&gt; åˆ†æ”¯æ²¡æœ‰çš„æäº¤ï¼Œå°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log master ^dev
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log master ^dev
commit c690054c67b833b22dce4120899526743b20d36d
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sun Dec 9 07:31:47 2018 +0800

    [master] ç‰ˆæœ¬7

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log master..dev
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæƒ³æŸ¥çœ‹åªåœ¨ master åˆ†æ”¯ï¼Œè€Œä¸åœ¨ dev åˆ†æ”¯çš„æäº¤ï¼Œåˆ™å°† master ä¸ dev å¯¹è°ƒè¿‡æ¥å³å¯ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log dev..master
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤æ¡å‘½ä»¤çš„æ‰§è¡Œç»“æœä¸ä¸Šè¿°ç›¸åŒï¼Œæ•…ä¸é‡å¤è´´ç»“æœäº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;2-æå‰æœªçŸ¥ä¸¤ä¸ªåˆ†æ”¯æäº¤æƒ…å†µï¼Œå¦‚ä½•æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚ï¼Ÿ&quot;&gt;2. æå‰æœªçŸ¥ä¸¤ä¸ªåˆ†æ”¯æäº¤æƒ…å†µï¼Œå¦‚ä½•æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šè¿°çš„å‡ ä¸ªå‘½ä»¤éƒ½è·‘ä¸€éï¼Œå…¶å®ä¹Ÿå¯ä»¥çŸ¥é“ä¸ªå¤§æ¦‚äº†ã€‚ä½†æœ‰æ²¡æœ‰æ›´ç®€å•çš„åŠæ³•å‘¢ï¼Ÿgit åŒæ ·ä¸ºä½ æƒ³åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæä¾›äº†è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log master...dev
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log master...dev
commit c690054c67b833b22dce4120899526743b20d36d
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sun Dec 9 07:31:47 2018 +0800

    [master] ç‰ˆæœ¬7

commit b191410906ae20a865fde3f163bb01fd6cfc1f11
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:03:13 2018 +0800

    [dev] ç‰ˆæœ¬6

commit 793c9582ab0a45c4f8f548be36c06bc5ca427c62
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:02:30 2018 +0800

    [dev] ç‰ˆæœ¬5

commit 4872f653a8fd7c8541abb4a292d628dc7625884b
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:58:05 2018 +0800

    [dev] ç‰ˆæœ¬4

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œåœ¨è¿™é‡Œï¼Œmaster ä¸ dev ä¹‹é—´æœ‰ä¸‰ä¸ªç‚¹ï¼Œæœ‰åˆ«äºä¹‹å‰çš„å‘½ä»¤ï¼ˆä¸¤ä¸ªç‚¹ï¼‰ã€‚è€Œä¸”ï¼Œè¿™ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœä¸ &lt;code&gt;git log dev...master&lt;/code&gt; å®Œå…¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™é‡Œæ˜¯ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼ŒåŠ äº† &lt;strong&gt;[master]&lt;/strong&gt; ã€ &lt;strong&gt;[dev]&lt;/strong&gt; ã€ &lt;strong&gt;[both]&lt;/strong&gt; è¿™æ ·çš„è®°å·ï¼Œä½†åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¾ˆå°‘ä¼šè¿™æ ·æ“ä½œã€‚é‚£æˆ‘ä»¬åœ¨æ‰§è¡Œ &lt;code&gt;git log master...dev&lt;/code&gt; æ—¶ï¼Œæ€ä¹ˆçŸ¥é“æœ‰å·®å¼‚çš„æäº¤æ˜¯åœ¨ master åˆ†æ”¯é‡Œï¼Œè¿˜æ˜¯ dev åˆ†æ”¯é‡Œï¼Ÿæˆ‘ä»¬åªéœ€åŠ ä¸Š &lt;code&gt;--left-right&lt;/code&gt; é€‰é¡¹å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git log --left-right master...dev
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[alvin@VM_0_16_centos git-log]$ git log --left-right master...dev
commit &amp;lt; c690054c67b833b22dce4120899526743b20d36d
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sun Dec 9 07:31:47 2018 +0800

    [master] ç‰ˆæœ¬7

commit &amp;gt; b191410906ae20a865fde3f163bb01fd6cfc1f11
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:03:13 2018 +0800

    [dev] ç‰ˆæœ¬6

commit &amp;gt; 793c9582ab0a45c4f8f548be36c06bc5ca427c62
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 21:02:30 2018 +0800

    [dev] ç‰ˆæœ¬5

commit &amp;gt; 4872f653a8fd7c8541abb4a292d628dc7625884b
Author: Liangxu &amp;lt;yychuyu@163.com&amp;gt;
Date:   Sat Dec 8 20:58:05 2018 +0800

    [dev] ç‰ˆæœ¬4

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ä¼šå‘ç°ï¼Œåœ¨ commit ä¸å“ˆå¸Œå€¼ä¹‹é—´å¤šäº†ä¸ª &lt;strong&gt;&amp;lt;&lt;/strong&gt; æˆ– &lt;strong&gt;&amp;gt;&lt;/strong&gt; ï¼Œå…¶ä¸­ &lt;strong&gt;&amp;lt;&lt;/strong&gt; è¡¨ç¤ºåªåœ¨ master åˆ†æ”¯çš„æäº¤ï¼Œ &lt;strong&gt;&amp;gt;&lt;/strong&gt; è¡¨ç¤ºåªåœ¨ dev åˆ†æ”¯çš„æäº¤ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;å…¬ä¼—å·ï¼šè‰¯è®¸Linux&lt;/p&gt;
&lt;img src=&quot;https://pic.downk.cc/item/5e618d2f98271cb2b8f65fe8.jpg&quot;/&gt;&lt;h3 id=&quot;æœ‰æ”¶è·ï¼Ÿå¸Œæœ›è€é“ä»¬æ¥ä¸ªä¸‰è¿å‡»ï¼Œç»™æ›´å¤šçš„äººçœ‹åˆ°è¿™ç¯‡æ–‡ç« &quot;&gt;æœ‰æ”¶è·ï¼Ÿå¸Œæœ›è€é“ä»¬æ¥ä¸ªä¸‰è¿å‡»ï¼Œç»™æ›´å¤šçš„äººçœ‹åˆ°è¿™ç¯‡æ–‡ç« &lt;/h3&gt;
</description>
<pubDate>Sat, 05 Sep 2020 14:04:00 +0000</pubDate>
<dc:creator>è‰¯è®¸Linux</dc:creator>
<og:description>å‰ä¸¤å¤©ï¼Œè‰¯è®¸åœ¨åšé›†æˆçš„æ—¶å€™ç¢°åˆ°äº†ä¸€ä»¶é—¹å¿ƒäº‹ã€‚äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œè‰¯è®¸çš„ä¸€ä½åŒäº‹ä¸å°å¿ƒæŠŠä¸€ä¸ªé”™è¯¯çš„ dev åˆ†æ”¯ merge åˆ°äº† master åˆ†æ”¯ä¸Šï¼Œå¯¼è‡´äº†è‰¯è®¸ç¼–è¯‘ä¸é€šè¿‡ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦å°†ç‰ˆæœ¬å›é€€åˆ° me</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yychuyu/p/13619923.html</dc:identifier>
</item>
</channel>
</rss>