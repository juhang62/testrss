<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>根据接口文档中的入参，生成自动化测试用例中的异常测试用例，包含用例描述，用例数据 - 夏天里的Jasmine</title>
<link>http://www.cnblogs.com/qianjinyan/p/10408083.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qianjinyan/p/10408083.html</guid>
<description>&lt;h2&gt;&lt;strong&gt; 不想当将军的小兵，不是好的小兵；不想做开发的测试，不是好的测试；&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;不管你信不信，我是信了...&lt;/p&gt;
&lt;p&gt;一直以来，内心总有些迷茫的时候，迷茫的是作为测试既然要学那么多编程，为什么不直接去干开发呢？&lt;/p&gt;
&lt;p&gt;看了这句话，才发现自己钻进了牛角尖，没有站在更高的高度来思考测试这个岗位，而仅仅是作为一个测试员，或者说是抱着急功近利的心态在想问题，从而忽略了测试的本质。&lt;/p&gt;
&lt;p&gt;测试的本质是尽可能的发现软件的缺陷，更高级的应该是用更少的时间，更少的人员来找出更多的缺陷。那么不管更好的测试流程，更高效的测试方法，更好的测试工具，这些都应该是我们追求的东西。&lt;/p&gt;
&lt;p&gt;流程，方法，工具，这三者中我认为更重要的应该是方法，最难提升的也是方法。&lt;/p&gt;
&lt;p&gt;编码啊工具之类的可以用到哪些提升哪些，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;说到底，不管是开发中的编码，还是测试中的编码，都是很初级的工作，都不是这个职业链中的高端，高端应该是对设计对方法的研究与创新，甚至引发自己所处职业的一种潮流。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;做好测试不是靠编程，而是靠的是严禁的作风，慎密的逻辑思维，适合的测试流程。从用户角度，到系统角度，到黑产角度，既保证给普通用户很好的用户体验，也保证系统运行平顺流畅，也保证不能应为hacker的攻击而功亏一篑&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;


&lt;p&gt;进入正题，最近在研究API接口中，异常测试用例的自动化问题，这边考虑的自动化，是通过接口说明文档，自动生成用例描述，用例的入参数据，用例的断言数据，当然测试的级别不是最高的，可以设置为2左右&lt;/p&gt;
&lt;p&gt;比如一个注册接口，&lt;strong&gt;异常的测试用例，是不是需要判断，每一个必传入参是否传入，那这边就有2N条测试用例&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;1.请求传入的必传参数var1未传，验证返回var1....&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2. 请求传入的必传参数var1传入的为空字符串（String类型）/null(..), 验证返回var1.....&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;异常测试用例还需要判断入参的长度，&lt;/strong&gt;&lt;strong&gt;是不是又有了&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3. 请求传入的参数var1超过最大长度限制，验证返回var1&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;有些入参有要求，比如用list，异常测试用例&lt;/strong&gt;&lt;strong&gt;又有了&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.请求传入的参数Var1不是xx类型，验证返回&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;入参最好还需要判断是否将入参首位的空格去掉，&lt;/strong&gt;异常测试用例&lt;/span&gt;&lt;strong&gt;又有了&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;5. 请求传入的入参首尾含有空格，验证存入DB中不含空格【要求代码对入参的首尾空格做trim()操作】&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;对接口的异常测试用例，弥漫着满满的套路气息，每次都进行编写测试用例，创建测试用例数据和断言等操作，入参多的时候，还是很费时间的，不利于提升工作效率。&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;更好的办法是：编写代码，自动生成测试用例描述，组装测试用例的数据，自动生成断言等&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;以前，我们一直用Jmeter创建的脚本来自动生成上述内容，&lt;/p&gt;
&lt;p&gt;Jmeter生成jmx脚本，脚本中指定了入参个数、类型，长度等，之后生成用例描述，用例数据和断言&lt;/p&gt;
&lt;p&gt;好处就是复用方便，更改下url直接测试&lt;/p&gt;
&lt;p&gt;缺点就是，不利于动态生成用例，入参变化多了之后要重新创建新的脚本&lt;/p&gt;
&lt;p&gt;还有一个缺点就是low，你若是说你用Jmeter做接口自动化测试的，大厂中厂都会嫌弃你low，因为人家是用Python做的，Java做的。&lt;/p&gt;
&lt;p&gt;【low不low！！who cares？！！不是一样能完成任务吗，不一样能持续化集成并发送测试报告吗？你们一个组就100多号测试，也不就是完成这写接口的自动化测试吗，我们刚上手的实习生分分钟都能讲API测试用到飞】&lt;/p&gt;
&lt;p&gt;感觉中国人，很喜欢用工具和方式来judge others，我们兄弟公司的人，大多是麻省理工学院的，api测试自动化还是用postman实现的呢，ui测试也只不过是protractor+jasmine等，人家不是low，够用就好，有时候已经不提倡测试，直接leader 做code review&lt;/p&gt;

&lt;p&gt;现在动态实现接口异常测试用例的生成，用一个简单的例子&lt;/p&gt;
&lt;p&gt; 我们常见的接口说明文档，是不是长这样？&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1064427/201903/1064427-20190306094819803-1847478127.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;我页面还没开发完，大意就是讲入参，和比天性，类型，最大长度，等信息填入表中。&lt;/p&gt;

&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;47&quot;&gt;
&lt;pre class=&quot;brush:sql;gutter:true;&quot;&gt;
CREATE TABLE [DBO].[QA_APIVAR](
        [APIVAR_ID] [INT] IDENTITY(1,1) NOT NULL PRIMARY KEY,
        [API_ID] [INT] NOT NULL, 
        [APIVAR_NAME] [VARCHAR](100) NULL,
        [APIVAR_INPUTFLAG] [BIT] NOT NULL DEFAULT 1,
        [APIVAR_INPUTDATATYPE] [VARCHAR](100) NULL,
        [APIVAR_INPUTDATATYPEID] INT NOT NULL,
    　　 [APIVAR_INPUTLENGTH] INT NOT NULL,
        [APIVAR_INPUTSCOPE] [VARCHAR](100) NULL, 
        [APIVAR_INPUTNOTE] [VARCHAR](200) NULL, 
        [APIVAR_DELETED_FLAG] [BIT] NOT NULL DEFAULT 0,
        [APIVAR_CREATEDT] DATETIME NOT NULL,
        [APIVAR_UPDATEDT] DATETIME NOT NULL
)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　&lt;img src=&quot;https://img2018.cnblogs.com/blog/1064427/201903/1064427-20190306102627253-14042139.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;　代码单元测试部分，判断必传入参的未传，生成测试用例描述，测试数据body【这边以json格式为sample】，断言暂未写&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;41&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Test
    public void TestapiVar() {
        List&amp;lt;ApiCaseBean&amp;gt; list = apiCaseService.CheckMustVar(1);
        System.out.println(list);
        System.out.println(list.size());
        int max = 0;
        String body = null;
        for (int i = 0; i &amp;lt; list.size(); i++) {
            String var = list.get(i).getVal();
            var = &quot;请求中未传入&quot; + var + &quot;验证返回&quot; + var + &quot;~~更多断言&quot;;
            System.out.println(var);
            StringBuffer sb = new StringBuffer();
            body = &quot;{ \n&quot;;
            for (int j = 0; j &amp;lt; list.size(); j++) {
 
                if (list.get(i).getVal() != list.get(j).getVal()) {
                    Random random = new Random();
                    max = list.get(j).getInputLenght();
                    sb = new StringBuffer(&quot;&quot;);
                    for (int k = 0; k &amp;lt; max; k++) {
 
                        sb.append(ALLCHAR.charAt(random.nextInt(ALLCHAR.length())));
                    }
 
                    body = body + &quot;\&quot;&quot; + list.get(j).getVal() + &quot;\&quot;,\&quot;&quot; + sb + &quot;\&quot;; \n&quot;;
 
 
                }
            }
            //body = body + &quot;\n }&quot;;
&lt;/pre&gt;
&lt;pre&gt;
　　　　　　　　body = body.substring(0,(body.length()-3)) + &quot;}&quot;;
&lt;/pre&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
System.out.println(body); } }
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;以下是生成的数据，我当然可以用个对象来接收，并存到数据库中去&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;[ApiCaseBean{num=1, val='name', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=5, InputNote='null'}, ApiCaseBean{num=2, val='ID', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=5, InputNote='null'}, ApiCaseBean{num=3, val='mobile', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=5, InputNote='null'}, ApiCaseBean{num=6, val='apple', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=6, InputNote='null'}, ApiCaseBean{num=7, val='orange', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=6, InputNote='null'}, ApiCaseBean{num=8, val='pear', InputFlag=1, InputDataType='String', InputTypeID=1, InputLenght=6, InputNote='null'}]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入name验证返回name~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;ID&quot;:&quot;zHUX3&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;mobile&quot;:&quot;0J9jR&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;apple&quot;:&quot;BTOfiV&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;orange&quot;:&quot;ZUz1DB&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;pear&quot;:&quot;8vHDVB&quot;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入ID验证返回ID~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;name&quot;:&quot;8gJfa&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;mobile&quot;:&quot;5pKjY&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;apple&quot;:&quot;7vZVSJ&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;orange&quot;:&quot;45cTEN&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;pear&quot;:&quot;v9FliS&quot;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入mobile验证返回mobile~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;name&quot;:&quot;Bi5Xm&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;ID&quot;:&quot;OmYSR&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;apple&quot;:&quot;IEYHCO&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;orange&quot;:&quot;1zPaB6&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;pear&quot;:&quot;Jw0d84&quot;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入apple验证返回apple~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;name&quot;:&quot;gesB1&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;ID&quot;:&quot;fSCeE&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;mobile&quot;:&quot;HmY6j&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;orange&quot;:&quot;SKInay&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;pear&quot;:&quot;kDeurf&quot;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入orange验证返回orange~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;name&quot;:&quot;KnSwW&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;ID&quot;:&quot;9VKd2&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;mobile&quot;:&quot;thAXp&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;apple&quot;:&quot;apjji8&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;pear&quot;:&quot;J3UkLR&quot;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;请求中未传入pear验证返回pear~~更多断言&lt;/span&gt;&lt;br/&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;name&quot;:&quot;OTKPo&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;ID&quot;:&quot;5WgEh&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;mobile&quot;:&quot;gfJZA&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;apple&quot;:&quot;aXksSk&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&quot;orange&quot;:&quot;JCCGZp&quot;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;生成测试用例的表&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;46&quot;&gt;
&lt;pre class=&quot;brush:sql;gutter:true;&quot;&gt;
CREATE TABLE [DBO].[QA_APICASE](
        [APICASE_ID] [INT] IDENTITY(1,1) NOT NULL PRIMARY KEY,
        [API_ID] [INT] NOT NULL, 
        [APICASE_NAME] [VARCHAR](100) NULL,
        [APICASE_BODY] [NVARCHAR](2000) NULL,
        [APICASE_ASSERCTION] [VARCHAR](100) NULL, 
        [APICASE_PRIORITYID] INT ,
        [APICASE_PASSID] INT,
        [APICASE_DELETED_FLAG] [BIT] NOT NULL DEFAULT 0,
        [APICASE_MEMO] [NVARCHAR](2000) NULL,
        [APICASE_CREATEDT] DATETIME NOT NULL,
        [APICASE_UPDATEDT] DATETIME NOT NULL
)
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;　　&lt;img src=&quot;https://img2018.cnblogs.com/blog/1064427/201903/1064427-20190306153940946-850635881.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;



&lt;p&gt;&lt;span&gt;有了用例描述和数据后，不管用什么接口测试工具，还是自已用Java/Python写的框架，导入数据即可&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;比如 &lt;a href=&quot;https://www.cnblogs.com/qianjinyan/p/9951465.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/qianjinyan/p/9951465.html&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 06 Mar 2019 07:41:00 +0000</pubDate>
<dc:creator>夏天里的Jasmine</dc:creator>
<og:description>不想当将军的小兵，不是好的小兵；不想做开发的测试，不是好的测试； 不管你信不信，我是信了... 一直以来，内心总有些迷茫的时候，迷茫的是作为测试既然要学那么多编程，为什么不直接去干开发呢？ 看了这句话</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qianjinyan/p/10408083.html</dc:identifier>
</item>
<item>
<title>C#泛型设计的一个小陷阱. - 詹姆斯.辛</title>
<link>http://www.cnblogs.com/james2010/p/10483645.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/james2010/p/10483645.html</guid>
<description>&lt;p&gt;距离上次发表博客已经有几年了. 对于没能坚持更新博客,实在是感觉到甚是惭愧. &lt;/p&gt;
&lt;p&gt;闲言少叙, 直接切入主题.&lt;/p&gt;
&lt;h2&gt;背景&lt;/h2&gt;
&lt;p&gt;最近一直在对于公司一个网络通信服务程序使用.net core 进行重构.重构的目的有两个:一是让程序能够跨平台运行. 二是优化程序代码结构是程序的可维护性有所提升.  重构的过程主要由我来设计底层的架构. 在这个过程中,由于我对C# 泛型的理解还不够深入,所以在这个方面我就犯了个错误. 希望本文能把我犯的这个错误阐述清楚, 如果能帮助园里其他朋友避免这个问题当然是最好的了.&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;早前的设计&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;先用一张图来描述早前的代码结构&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/140875/201903/140875-20190306150340043-1157062198.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Singleton&amp;lt;T&amp;gt;:是一个单例的基类, 用来实现单例模式.&lt;/p&gt;
&lt;p&gt;Base&amp;lt;T&amp;gt;:则是一个基础类,它有一些静态的属性和方法(例如访问Redis,kafka,数据库等). 这些属性和方法提供给 Child1 和 Child2 去使用.&lt;/p&gt;
&lt;p&gt;Child1 和Child2: 相当于不同模块的业务逻辑实现.&lt;/p&gt;

&lt;p&gt;我期望的结果是Base&amp;lt;T&amp;gt;里面的静态成员在整个程序运行期间只有一份.&lt;/p&gt;

&lt;h3&gt; 代码的实现&lt;/h3&gt;
&lt;p&gt;Singleton&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Singleton&amp;lt;T&amp;gt; &lt;span&gt;where&lt;/span&gt; T : &lt;span&gt;new&lt;/span&gt;&lt;span&gt;()
    {
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; 锁定对象
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; locker = &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; T 的实例
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;static&lt;/span&gt; T instance = &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(T);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; T 的实例
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; T Instance
        {
            &lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;
            {
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (&lt;span&gt;null&lt;/span&gt; ==&lt;span&gt; instance)
                {
                    &lt;/span&gt;&lt;span&gt;lock&lt;/span&gt;&lt;span&gt; (locker)
                    {
                        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (&lt;span&gt;null&lt;/span&gt; ==&lt;span&gt; instance)
                        {
                            instance &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; T();
                        }
                    }
                }
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; instance;
            }
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Base&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Base&amp;lt;T&amp;gt; : Singleton&amp;lt;T&amp;gt; &lt;span&gt;where&lt;/span&gt; T : &lt;span&gt;new&lt;/span&gt;&lt;span&gt;()
{
    &lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; Object { &lt;span&gt;set&lt;/span&gt;; &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }

    &lt;/span&gt;&lt;span&gt;static&lt;/span&gt;&lt;span&gt; Base()
    {
        Object &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Child1 和Child2&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Child1 : Base&amp;lt;Child1&amp;gt;&lt;span&gt;
{
}

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Child2 : Base&amp;lt;Child2&amp;gt;&lt;span&gt;
{
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;



&lt;p&gt;我以为 Base的静态构造函数只会执行一次. 可是当我在程序里使用 Child1.Instance 和 Child2.Instance 时发现, Base的静态构造函数被执行了2次. 那么Child1.Instance的Object和Child2.Instance的Object对象一定不是同一个.&lt;/p&gt;
&lt;p&gt;那么问题出现在什么地方了呢? 答案其实挺简单的:系统认为 Base&amp;lt;Child1&amp;gt; 和 Base&amp;lt;Child2&amp;gt;并不相同. 相当于在系统里定义了Base_Child1 和Base_Child2两个类. 如果我们这么理解这个问题 ,那么Base的静态构造函数被执行了2次就不难理解了.(我觉得我已经把这个问题的成因描述清楚了,如果您没理解,欢迎在下面评论.)&lt;/p&gt;
&lt;p&gt;如果要达到我设计的目标应该怎么做呢?&lt;/p&gt;
&lt;h2&gt;修正的设计&lt;/h2&gt;
&lt;p&gt;还是先上类图.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/140875/201903/140875-20190306153428446-728809171.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Base:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Base
{
    &lt;/span&gt;&lt;span&gt;protected&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; Object { &lt;span&gt;set&lt;/span&gt;; &lt;span&gt;get&lt;/span&gt;&lt;span&gt;; }

    &lt;/span&gt;&lt;span&gt;static&lt;/span&gt;&lt;span&gt; Base()
    {
       Object &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Singleton:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;abstract&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Singleton&amp;lt;T&amp;gt;: Base &lt;span&gt;where&lt;/span&gt; T : &lt;span&gt;new&lt;/span&gt;&lt;span&gt;()
{
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; 锁定对象
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;object&lt;/span&gt; locker = &lt;span&gt;new&lt;/span&gt; &lt;span&gt;object&lt;/span&gt;&lt;span&gt;();
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; T 的实例
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;static&lt;/span&gt; T instance = &lt;span&gt;default&lt;/span&gt;&lt;span&gt;(T);
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;///&lt;/span&gt;&lt;span&gt; T 的实例
        &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt;&lt;span&gt; T Instance
        {
            &lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;
            {
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (&lt;span&gt;null&lt;/span&gt; ==&lt;span&gt; instance)
                {
                    &lt;/span&gt;&lt;span&gt;lock&lt;/span&gt;&lt;span&gt; (locker)
                    {
                        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (&lt;span&gt;null&lt;/span&gt; ==&lt;span&gt; instance)
                        {
                            instance &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; T();
                        }
                    }
                }
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; instance;
            }
        }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Child1 和Child2:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Child1 : Singleton&amp;lt;Child1&amp;gt;&lt;span&gt;
{
}

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; Child2 : Singleton&amp;lt;Child2&amp;gt;&lt;span&gt;
{
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;由Singleton 来继承Base.然后Child1 和Child2来继承Singleton. 这样问题就都解决了.&lt;/p&gt;

</description>
<pubDate>Wed, 06 Mar 2019 07:41:00 +0000</pubDate>
<dc:creator>詹姆斯.辛</dc:creator>
<og:description>距离上次发表博客已经有几年了. 对于没能坚持更新博客,实在是感觉到甚是惭愧. 闲言少叙, 直接切入主题. 背景 最近一直在对于公司一个网络通信服务程序使用.net core 进行重构.重构的目的有两个</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/james2010/p/10483645.html</dc:identifier>
</item>
<item>
<title>关于如何通过Maven仓库安装Spire.PDF for Java的示范教程 - E-iceblue</title>
<link>http://www.cnblogs.com/Yesi/p/10483565.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Yesi/p/10483565.html</guid>
<description>
&lt;p&gt;Spire系列库中已发布的Java产品目前有三个，即Spire.PDF for Java、Spire.Presentation for Java、Spire.Barcode for Java。使用该Java产品，除了可以从官网：&lt;a href=&quot;https://www.e-iceblue.cn/Downloads.html&quot; target=&quot;_blank&quot;&gt;https://www.e-iceblue.cn/Downloads.html&lt;/a&gt;下载，也可以通过Maven来安装使用。本教程中，以通过Maven安装Spire.PDF for Java为例介绍具体安装方法和步骤。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;首先&lt;/span&gt;，在pom.xml文件中配置Maven仓库路径。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;repositories&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;repository&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.e-iceblue&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e-iceblue&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;http://repo.e-iceblue.com/nexus/content/groups/public/&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;repository&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;repositories&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;其次&lt;/span&gt;&lt;/span&gt;，在pom.xml文件中指定Spire.PDF for Java的Maven依赖&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; e-iceblue &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spire.pdf&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.2.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;最后&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;，配置完成后，在&lt;strong&gt;IDEA&lt;/strong&gt;中，您只需点击”Import Changes”即可导入JAR包；在&lt;strong&gt;Eclipse&lt;/strong&gt;中，您需要点击”Save”按钮， JAR包才会自动下载。&lt;/p&gt;
&lt;p&gt;至此，在Maven项目中已成功添加了Spire.PDF JAR包依赖。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e-iceblue&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spire.pdf.free&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.2.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;注：&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; Free Spire.PDF for Java的artifactId为spire.pdf.free&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;IDEA&lt;/strong&gt;&lt;strong&gt;中的详细安装流程：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 1&lt;/strong&gt;:创建Maven项目&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306140854936-912118429.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306140948696-711167769.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 2:&lt;/strong&gt;设置任意GroupId和ArtifactId&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141036343-1994566464.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141045717-925092143.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 3&lt;/strong&gt;:配置porm.xml文件，然后点击”Import Changes”&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141112961-906743130.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141121688-306401615.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;Eclipse&lt;/strong&gt;&lt;strong&gt;中的详细安装流程:&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 1&lt;/strong&gt;:创建Maven项目&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141216238-12441156.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141344146-1308778159.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 2&lt;/strong&gt;:设置任意GroupId和ArtifactId&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306141532171-471959138.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306144457690-184469664.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 3&lt;/strong&gt;：配置porm.xml文件，然后点击”Save”按钮 &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306144732507-54235374.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306144741826-223881135.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/706090/201903/706090-20190306144752928-280738354.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;（本文完）&lt;/p&gt;

</description>
<pubDate>Wed, 06 Mar 2019 07:32:00 +0000</pubDate>
<dc:creator>E-iceblue</dc:creator>
<og:description>Spire系列库中已发布的Java产品目前有三个，即Spire.PDF for Java、Spire.Presentation for Java、Spire.Barcode for Java。使用该J</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Yesi/p/10483565.html</dc:identifier>
</item>
<item>
<title>【学习笔记】JS经典异步操作，从闭包到async/await - 唐吉sir</title>
<link>http://www.cnblogs.com/youma/p/10481727.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/youma/p/10481727.html</guid>
<description>&lt;p&gt;参考文献：&lt;span&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/25855075&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;王仕军——知乎专栏前端周刊&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;感谢作者的热心总结，本文在理解的基础上，根据自己能力水平作了一点小小的修改，在加深自己印象的同时也希望能和各位共同进步...&lt;/p&gt;
&lt;h2&gt; 1. 异步与for循环&lt;/h2&gt;
&lt;p&gt;抛出一个问题，下面的代码输出什么？&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; i = 0; i &amp;lt; 5; i++&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;     setTimeout(&lt;span&gt;function&lt;/span&gt;&lt;span&gt;() {
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         console.log(&lt;span&gt;i);
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     }, 1000&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt; &lt;span&gt;}&lt;/span&gt;
6 console.log(i);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;相信绝大部分同学都能答的上，它的正确答案是立即输出5，过1秒钟后一次性输出5个5，这是一个典型的JS异步问题，首先for循环的循环体是一个异步函数，并且变量i添加到全局环境中，所以立即输出一个5，一秒钟后，异步函数setTimeout输出五次循环的结果，打印5 5 5 5 5（没有时间间隔）。&lt;/p&gt;
&lt;h2&gt;2. 闭包&lt;/h2&gt;
&lt;p&gt;现在我们把需求改一下，希望输出的结果是5 -&amp;gt;0,1,2,3,4， 应该怎么修改代码呢？&lt;/p&gt;
&lt;p&gt;很明显我们可以用闭包创建一个不销毁的作用域，保证变量i每次都能正常输出。 &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i=0;i&amp;lt;5;i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;     (&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(j)
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         {setTimeout(() =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt; &lt;span&gt;            console.log(j); //过一秒输出 0,1,2,3,4
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;     }, 1000&lt;span&gt;)})(i)
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt; console.log(i);  //立即输出5
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;因为立即执行会造成内存泄漏不建立大量使用，那么我们还可以这样&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; output = &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(i){
    setTimeout(()&lt;/span&gt;=&amp;gt;&lt;span&gt;{
        console.log(i);  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 过1秒输出0,1,2,3,4&lt;/span&gt;
    },1000&lt;span&gt;)
}
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i=0;i&amp;lt;5;i++&lt;span&gt;){
    output(i);
}
console.log(i);  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;立即输出5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JS基本类型是按值传递的，我们给函数output传了一个参数，所以它就会保存每次循环的实参，所以得到的结果和采用立即执行函数的结果一致。&lt;/p&gt;
&lt;h2&gt;3. ES6语法&lt;/h2&gt;
&lt;p&gt;当然我们也可以使用ES6的语法，还记得for循环中使用let声明可以有效阻止变量添加到全局作用域吗？&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;for&lt;/span&gt;(let i=0;i&amp;lt;5;i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;     setTimeout(()=&amp;gt;&lt;span&gt;{
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt; &lt;span&gt;        console.log(i)  //一秒钟后同时输出0,1,2,3,4
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     },1000&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt; }&lt;br/&gt;6 console.log(i) //这一行会报错，因为i只存在于for循环中
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;for循环中let声明有一个特点，i只在本轮循环中有效，所以每循环一个i其实都是新变量，而javaScript引擎内部会记住上一次循环的值，初始化变量i时，就在上轮循环基础上计算。&lt;/p&gt;
&lt;p&gt;现在我们又改一下需求，希望先输出0，之后每隔一秒依次输出1,2,3,4，循环结束再输出5。&lt;/p&gt;
&lt;p&gt;很容易想到，我们可以再增加一个定时器，定时器的时间和循环次数有关&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i=0;i&amp;lt;5;i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;     (&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(j){
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         setTimeout(() =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;            console.log(j)  //立即输出0，之后每隔1秒输出1,2,3,4
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;         }, 1000*&lt;span&gt;j);
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;    })(i)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; setTimeout(()=&amp;gt;&lt;span&gt;{
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;    console.log(i)  //循环结束输出5
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; },1000*i)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这虽然也是个办法，但代码写着确实不太好看，异步操作我们首先就要想到Promise对象，尝试用Promise对象来改写&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
let tasks =&lt;span&gt; [];
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i=0;i&amp;lt;5;i++&lt;span&gt;){
    ((j)&lt;/span&gt;=&amp;gt;&lt;span&gt;{
        tasks.push(&lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Promise(
            (resolve)&lt;/span&gt;=&amp;gt;&lt;span&gt;{
                setTimeout(() &lt;/span&gt;=&amp;gt;&lt;span&gt; {
                    console.log(j);
                    resolve();       //执行resolve,返回Promise处理结果
                }, &lt;/span&gt;1000*&lt;span&gt;j);
            }
        ))
    })(i)
}
Promise.all(tasks).then(()&lt;/span&gt;=&amp;gt;&lt;span&gt;{
    setTimeout(() &lt;/span&gt;=&amp;gt;&lt;span&gt; {
        console.log(i);    
    }, &lt;/span&gt;1000&lt;span&gt;);                //只要把时间设为1秒
})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Promise.all返回一个Promise实例，在tasks的promise状态为resolved时回调完成，这就是我们必须要在循环体中resolve()的原因。&lt;/p&gt;
&lt;p&gt;我们将上面的代码重新排版，让其颗粒度更小，模块化更好，简洁明了&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
let tasks =&lt;span&gt; [];   //存放一个异步操作
let output &lt;/span&gt;= (i)=&amp;gt;  //返回一个Promise对象
    &lt;span&gt;new&lt;/span&gt; Promise((resolve)=&amp;gt;&lt;span&gt;{
        setTimeout(() &lt;/span&gt;=&amp;gt;&lt;span&gt; {
            console.log(i);
            resolve();
        }, &lt;/span&gt;1000*&lt;span&gt;i);
    })
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i=0;i&amp;lt;5;i++&lt;span&gt;){     //生成全部的异步操作
    tasks.push(output(i))
}
Promise.all(tasks).then(()&lt;/span&gt;=&amp;gt;&lt;span&gt;{   //tasks里的promise对象都为resolved调用then链的第一个回调函数
    setTimeout(() &lt;/span&gt;=&amp;gt;&lt;span&gt; {
        console.log(i)
    }, &lt;/span&gt;1000&lt;span&gt;);
})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. async/await优化&lt;/h2&gt;
&lt;p&gt;上次写了一篇关于async和await优化then链的博客，感兴趣的可以看看：&lt;span&gt;&lt;a href=&quot;https://www.cnblogs.com/youma/p/10475214.html&quot; target=&quot;_blank&quot;&gt;深入理解&lt;/a&gt;&lt;span&gt;&lt;a href=&quot;https://www.cnblogs.com/youma/p/10475214.html&quot; target=&quot;_blank&quot;&gt;async/await&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;对于then链，我们是可以进一步优化的：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
let sleep = (timeountMS) =&amp;gt; &lt;span&gt;new&lt;/span&gt; Promise((resolve) =&amp;gt;&lt;span&gt; {
    setTimeout(resolve, timeountMS);
});

(async () &lt;/span&gt;=&amp;gt; {  &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 声明即执行的 async 函数表达式&lt;/span&gt;
    &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; i = 0; i &amp;lt; 5; i++&lt;span&gt;) {
        await sleep(&lt;/span&gt;1000&lt;span&gt;);
        console.log(i);
    }
    await sleep(&lt;/span&gt;1000&lt;span&gt;);
    console.log(i);
})();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</description>
<pubDate>Wed, 06 Mar 2019 07:00:00 +0000</pubDate>
<dc:creator>唐吉sir</dc:creator>
<og:description>参考文献：王仕军——知乎专栏前端周刊 感谢作者的热心总结，本文在理解的基础上，根据自己能力水平作了一点小小的修改，在加深自己印象的同时也希望能和各位共同进步... 1. 异步与for循环 抛出一个问题</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/youma/p/10481727.html</dc:identifier>
</item>
<item>
<title>Docker镜像存储-overlayfs - W-D</title>
<link>http://www.cnblogs.com/wdliu/p/10483252.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wdliu/p/10483252.html</guid>
<description>&lt;h2&gt; 一、概述&lt;/h2&gt;
&lt;p&gt; 　　Docker中的镜像采用分层构建设计，每个层可以称之为“layer”，这些layer被存放在了/var/lib/docker/&amp;lt;storage-driver&amp;gt;/目录下，这里的storage-driver可以有很多种如:AUFS、OverlayFS、VFS、Brtfs等。可以通过docker info命令查看存储驱动，（笔者系统是centos7.4）：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306112809407-1905640648.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 通常ubuntu类的系统默认采用的是AUFS，centos7.1+系列采用的是OverlayFS。而本文将介绍以OverlayFS作为存储驱动的镜像存储原理以及存储结构。&lt;/p&gt;
&lt;h2&gt; 二、OverlayFS&lt;/h2&gt;
&lt;h3&gt; 介绍&lt;/h3&gt;
&lt;p&gt; 　　OverlayFS是一种堆叠文件系统，它依赖并建立在其它的文件系统之上（例如ext4fs和xfs等等），并不直接参与磁盘空间结构的划分，仅仅将原来底层文件系统中不同的目录进行“合并”，然后向用户呈现，这也就是联合挂载技术，对比于AUFS，OverlayFS速度更快，实现更简单。 而Linux 内核为Docker提供的OverlayFS驱动有两种：overlay和overlay2。而overlay2是相对于overlay的一种改进，在inode利用率方面比overlay更有效。但是overlay有环境需求：docker版本17.06.02+，宿主机文件系统需要是ext4或xfs格式。&lt;/p&gt;
&lt;h3&gt; 联合挂载&lt;/h3&gt;
&lt;p&gt;　　 overlayfs通过三个目录：lower目录、upper目录、以及work目录实现，其中lower目录可以是多个，work目录为工作基础目录，挂载后内容会被清空，且在使用过程中其内容用户不可见，最后联合挂载完成给用户呈现的统一视图称为为merged目录。以下使用mount将演示其如何工作的。&lt;/p&gt;
&lt;p&gt;  使用mount命令挂载overlayfs语法如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
mount -t overlay overlay -o lowerdir=lower1:lower2:lower3,upperdir=upper,workdir=work merged_dir
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; 创建三个目录A、B、C,以及worker目录：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140418310-712791962.png&quot; alt=&quot;&quot; width=&quot;1481&quot; height=&quot;731&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 然后使用mount联合挂载到/tmp/test 下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140643811-1563051749.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 然后我们再去查看/tmp/test目录，你会发现目录A、B、C被合并到了一起,并且相同文件名的文件会进行“覆盖”，这里覆盖并不是真正的覆盖，而是当合并时候目录中两个文件名称都相同时，merged层目录会显示离它最近层的文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140705103-150607406.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 同时我们还可以通过mount命令查看其挂载的选项：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140718655-117206511.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 以上这样的方式也就是联合挂载技术。&lt;/p&gt;
&lt;h3&gt; Docker中的overlay驱动&lt;/h3&gt;
&lt;p&gt; 　　介绍了overlay驱动原理以后再来看Docker中的overlay存储驱动，以下是来自docker官网关于overlay的工作原理图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140759563-2087063609.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 在上述图中可以看到三个层结构，即：lowerdir、uperdir、merged，其中lowerdir是只读的image layer，其实就是rootfs，对比我们上述演示的目录A和B，我们知道image layer可以分很多层，所以对应的lowerdir是可以有多个目录。而upperdir则是在lowerdir之上的一层，这层是读写层，在启动一个容器时候会进行创建，所有的对容器数据更改都发生在这里层，对比示例中的C。最后merged目录是容器的挂载点，也就是给用户暴露的统一视角，对比示例中的/tmp/test。而这些目录层都保存在了/var/lib/docker/overlay2/或者/var/lib/docker/overlay/(如果使用overlay)。&lt;/p&gt;
&lt;h3&gt;演示&lt;/h3&gt;
&lt;p&gt;启动一个容器&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140838866-144352951.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 查看其overlay挂载点,可以发现其挂载的merged目录、lowerdir、upperdir以及workdir：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306140851692-1201149568.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;overlay2的lowerdir可以有多个，并且是软连接方式挂载，后续我们会进行说明。 &lt;/p&gt;
&lt;h3&gt; 如何工作&lt;/h3&gt;

&lt;p&gt;当容器中发生数据修改时候overlayfs存储驱动又是如何进行工作的？以下将阐述其读写过程：&lt;/p&gt;

&lt;p&gt;读：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;如果文件在容器层（upperdir），直接读取文件；&lt;/li&gt;
&lt;li&gt;如果文件不在容器层（upperdir），则从镜像层（lowerdir）读取；&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;修改：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;首次写入： 如果在upperdir中不存在，overlay和overlay2执行copy_up操作，把文件从lowdir拷贝到upperdir，由于overlayfs是文件级别的（即使文件只有很少的一点修改，也会产生的copy_up的行为），后续对同一文件的在此写入操作将对已经复制到容器的文件的副本进行操作。这也就是常常说的写时复制（copy-on-write）&lt;/li&gt;
&lt;li&gt;删除文件和目录： 当文件在容器被删除时，在容器层（upperdir）创建whiteout文件，镜像层(lowerdir)的文件是不会被删除的，因为他们是只读的，但without文件会阻止他们显示，当目录在容器内被删除时，在容器层（upperdir）一个不透明的目录，这个和上面whiteout原理一样，阻止用户继续访问，即便镜像层仍然存在。 &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注意事项&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;copy_up操作只发生在文件首次写入，以后都是只修改副本,&lt;/li&gt;
&lt;li&gt;overlayfs只适用两层目录，,相比于比AUFS，查找搜索都更快。&lt;/li&gt;
&lt;li&gt;容器层的文件删除只是一个“障眼法”，是靠whiteout文件将其遮挡,image层并没有删除，这也就是为什么使用docker commit 提交保存的镜像会越来越大，无论在容器层怎么删除数据，image层都不会改变。 &lt;/li&gt;
&lt;/ol&gt;&lt;h2&gt; 三、overlay2镜像存储结构&lt;/h2&gt;
&lt;p&gt;从仓库pull一个ubuntu镜像，结果显示总共拉取了4层镜像如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141125984-596484513.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 此时4层被存储在了/var/lib/docker/overlay2/目录下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141140515-1032272078.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 这里面多了一个l目录包含了所有层的软连接，短链接使用短名称，避免mount时候参数达到页面大小限制（演示中mount命令查看时候的短目录）：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141236728-778917654.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 处于底层的镜像目录包含了一个diff和一个link文件，&lt;span&gt;diff目录存放了当前层的镜像内容&lt;/span&gt;，而link文件则是与之对应的短名称：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141446160-1386639994.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 在这之上的镜像还多了work目录和lower文件，lower文件用于记录父层的短名称，work目录用于联合挂载指定的工作目录。而这些目录和镜像的关系是怎么组织在的一起呢？答案是通过元数据关联。元数据分为image元数据和layer元数据。 &lt;/p&gt;
&lt;h3&gt; image元数据&lt;/h3&gt;
&lt;p&gt; 　　镜像元数据存储在了/var/lib/docker/image/&amp;lt;storage_driver&amp;gt;/imagedb/content/sha256/目录下，名称是以镜像ID命名的文件，镜像ID可通过docker images查看，这些文件以json的形式保存了该镜像的rootfs信息、镜像创建时间、构建历史信息、所用容器、包括启动的Entrypoint和CMD等等。例如ubuntu镜像的id为47b19964fb50:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141556911-1637158829.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;查看其对应的元数据(使用vim :%!python -m json.tool格式化成json) 截取了其rootfs的构成：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306141659803-955029201.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;上面的 diff_id 对应的的是一个镜像层，其排列也是有顺序的，从上到下依次表示镜像层的最低层到最顶层：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306142920849-942248758.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;diff_id如何关联进行层？具体说来，docker 利用 rootfs 中的每个diff_id 和历史信息计算出与之对应的内容寻址的索引(chainID) ，而chaiID则关联了layer层，进而关联到每一个镜像层的镜像文件。&lt;/p&gt;
&lt;h3&gt;layer元数据&lt;/h3&gt;

&lt;div readability=&quot;44.464494732735&quot;&gt;
&lt;p&gt;　　layer 对应镜像层的概念，在 docker 1.10 版本以前，镜像通过一个 graph 结构管理，每一个镜像层都拥有元数据，记录了该层的构建信息以及父镜像层 ID，而最上面的镜像层会多记录一些信息作为整个镜像的元数据。graph 则根据镜像 ID(即最上层的镜像层 ID) 和每个镜像层记录的父镜像层 ID 维护了一个树状的镜像层结构。&lt;/p&gt;
&lt;p&gt;　　在 docker 1.10 版本后，镜像元数据管理巨大的改变之一就是简化了镜像层的元数据，镜像层只包含一个具体的镜像层文件包。用户在 docker 宿主机上下载了某个镜像层之后，docker 会在宿主机上基于镜像层文件包和 image 元数据构建本地的 layer 元数据，包括 diff、parent、size 等。而当 docker 将在宿主机上产生的新的镜像层上传到 registry 时，与新镜像层相关的宿主机上的元数据也不会与镜像层一块打包上传。&lt;/p&gt;
&lt;p&gt;　　Docker 中定义了 Layer 和 RWLayer 两种接口，分别用来定义只读层和可读写层的一些操作，又定义了 roLayer 和 mountedLayer，分别实现了上述两种接口。其中，roLayer 用于描述不可改变的镜像层，mountedLayer 用于描述可读写的容器层。具体来说，roLayer 存储的内容主要有索引该镜像层的 chainID、该镜像层的校验码 diffID、父镜像层 parent、storage_driver 存储当前镜像层文件的 cacheID、该镜像层的 size 等内容。这些元数据被保存在 /var/lib/docker/image/&amp;lt;storage_driver&amp;gt;/layerdb/sha256/&amp;lt;chainID&amp;gt;/ 文件夹下。如下： &lt;/p&gt;
&lt;div readability=&quot;54.046604148906&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306143327026-646517266.png&quot; alt=&quot;&quot;/&gt;&lt;p&gt; 每个chainID目录下会存在三个文件cache-id、diff、zize：&lt;/p&gt;
&lt;p&gt;&lt;span&gt;cache-id文件：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; docker随机生成的uuid，内容是保存镜像层的目录索引，也就是/var/lib/docker/overlay2/中的目录，这就是为什么通过chainID能找到对应的layer目录。以chainID为d801a12f6af7beff367268f99607376584d8b2da656dcd8656973b7ad9779ab4 对应的目录为 130ea10d6f0ebfafc8ca260992c8d0bef63a1b5ca3a7d51a5cd1b1031d23efd5,也就保存在/var/lib/docker/overlay2/130ea10d6f0ebfafc8ca260992c8d0bef63a1b5ca3a7d51a5cd1b1031d23efd5&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306143434278-341421093.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;diff文件：&lt;/p&gt;
&lt;p&gt;保存了镜像元数据中的diff_id（与元数据中的diff_ids中的uuid对应）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306143621702-951822989.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;size文件：&lt;/p&gt;
&lt;p&gt;保存了镜像层的大小&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144054036-796217788.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;在 layer 的所有属性中，diffID 采用 SHA256 算法，基于镜像层文件包的内容计算得到。而 chainID 是基于内容存储的索引，它是根据当前层与所有祖先镜像层 diffID 计算出来的，具体算如下：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;如果该镜像层是最底层(没有父镜像层)，该层的 diffID 便是 chainID。&lt;/li&gt;
&lt;li&gt;该镜像层的 chainID 计算公式为 chainID(n)=SHA256(chain(n-1) diffID(n))，也就是根据父镜像层的 chainID 加上一个空格和当前层的 diffID，再计算 SHA256 校验码。 &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;mountedLayer 信息存储的可读init层以及容器挂载点信息包括：容器 init 层ID（init-id）、联合挂载使用的ID（mount-id）以及容器层的父层镜像的 chainID(parent)。相关文件位于/var/lib/docker/image/&amp;lt;storage_driver&amp;gt;/layerdb/mounts/&amp;lt;container_id&amp;gt;/ 目录下。&lt;/p&gt;
&lt;p&gt;如下启动一个id为3c96960b3127的容器: &lt;/p&gt;
&lt;div&gt;
&lt;div&gt;&lt;img src=&quot;data:image/png;base64,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AAEEEEAAAQQQQAABBBBAAAEEEEAAAccFCFYdJ6YCBBBAAAEEEEAAAQQQQAABBBBAAAEEEEg3AYLVdOtR2oMAAggggAACCCCAAAIIIIAAAggggAACjgsQrDpOTAUIIIAAAggggAACCCCAAAIIIIAAAgggkG4CBKvp1qO0BwEEEEAAAQQQQAABBBBAAAEEEEAAAQQcFyBYdZyYChBAAAEEEEAAAQQQQAABBBBAAAEEEEAg3QQIVtOtR2kPAggggAACCCCAAAIIIIAAAggggAACCDguQLDqODEVIIAAAggggAACCCCAAAIIIIAAAggggEC6CRCspluP0h4EEEAAAQQQQAABBBBAAAEEEEAAAQQQcFyAYNVxYipAAAEEEEAAAQQQQAABBBBAAAEEEEAAgXQTIFhNtx6lPQgggAACCCCAAAIIIIAAAggggAACCCDguADBquPEVIAAAggggAACCCCAAAIIIIAAAggggAAC6SZAsJpuPUp7EEAAAQQQQAABBBBAAAEEEEAAAQQQQMBxAYJVx4mpAAEEEEAAAQQQQAABBBBAAAEEEEAAAQTSTYBgNd16lPYggAACCCCAAAIIIIAAAggggAACCCCAgOMCBKuOE1MBAggggAACCCCAAAIIIIAAAggggAACCKSbAMFquvUo7UEAAQQQQAABBBBAAAEEEEAAAQQQQAABxwUIVh0npgIEEEAAAQQQQAABBBBAAAEEEEAAAQQQSDcBgtV061HagwACCCCAAAIIIIAAAggggAACCCCAAAKOC/wfW+A0/+uAwtYAAAAASUVORK5CYII=&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;  查看其对应的mountedLayer三个文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144154758-1590397837.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 可以看到initID是在mountID后加了一个-init，同时initID就是存储在/var/lib/docker/overlay2/的目录名称：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144213030-2094972959.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 查看mountID还可以直接通过mount命令查看对应挂载的mountID，对应着/var/lib/docker/overlay2/目录，这也是overlayfs呈现的merged目录:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144239885-212858889.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 在容器中创建了一文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144254170-1917479848.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; 此时到宿主的merged目录就能看到对应的文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144307474-1795467498.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;关于init层&lt;/h3&gt;
&lt;p&gt;　　init层是以一个uuid+-init结尾表示，夹在只读层和读写层之间，作用是专门存放/etc/hosts、/etc/resolv.conf等信息，需要这一层的原因是当容器启动时候，这些本该属于image层的文件或目录，比如hostname，用户需要修改，但是image层又不允许修改，所以启动时候通过单独挂载一层init层，通过修改init层中的文件达到修改这些文件目的。而这些修改往往只读当前容器生效，而在docker commit提交为镜像时候，并不会将init层提交。该层文件存放的目录为/var/lib/docker/overlay2/&amp;lt;init_id&amp;gt;/diff &lt;/p&gt;
&lt;h3&gt; 小结 &lt;/h3&gt;

&lt;p&gt;通过以上的内容介绍，一个容器完整的层应由三个部分组成，如下图：&lt;/p&gt;
&lt;div&gt;
&lt;ol&gt;&lt;li&gt;镜像层：也称为rootfs，提供容器启动的文件系统 &lt;/li&gt;
&lt;li&gt;init层： 用于修改容器中一些文件如/etc/hostname、/etc/resolv.conf等&lt;/li&gt;
&lt;li&gt;容器层：使用联合挂载统一给用户提供的可读写目录。 &lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;
&lt;div&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1075473/201903/1075473-20190306144752387-121674534.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/div&gt;
&lt;h2&gt;四、总结&lt;/h2&gt;
&lt;p&gt; 　　本文介绍了以overlayfs作为存储驱动的的镜像存储原理其中每层的镜像数据保存在/var/lib/docker/overlay2/&amp;lt;uuid&amp;gt;/diff目录下，init层数据保存了在 /var/lib/docker/overlay2/&amp;lt;init-id&amp;gt;/diff目录下，最后统一视图（容器层）数据在 /var/lib/docker/overlay2/&amp;lt;mount_id&amp;gt;/diff目录下，docker通过image元数据和layer元数据利用内容寻址（chainID）将这些目录组织起来构成容器所运行的文件系统。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;参考：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/storage/storagedriver/overlayfs-driver/&quot; target=&quot;_blank&quot;&gt;《use overlayfs driver 》&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/sparkdev/p/9121188.html&quot; target=&quot;_blank&quot;&gt;《Docker 镜像之存储管理》&lt;/a&gt;&lt;/p&gt;


&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Wed, 06 Mar 2019 06:59:00 +0000</pubDate>
<dc:creator>W-D</dc:creator>
<og:description>一、概述 &lt;!--?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?--&gt; overlayfs通过三个目录：lower目录、u</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wdliu/p/10483252.html</dc:identifier>
</item>
<item>
<title>维护一个开源软件的历程和喜悦 - liulun</title>
<link>http://www.cnblogs.com/liulun/p/10483125.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/liulun/p/10483125.html</guid>
<description>&lt;p&gt;&lt;span&gt;我在&lt;/span&gt;&lt;a href=&quot;https://www.cnblogs.com/liulun/p/4516625.html&quot; target=&quot;_self&quot;&gt;2015年4月份&lt;/a&gt;&lt;span&gt;开始做这个&lt;/span&gt;&lt;a href=&quot;https://github.com/xland/xiangxuema&quot; target=&quot;_self&quot;&gt;开源软件&lt;/a&gt;&lt;span&gt;之前，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;已经研究了很长一段时间的&lt;a href=&quot;https://www.cnblogs.com/liulun/p/4470577.html&quot; target=&quot;_self&quot;&gt;浏览器开发技术&lt;/a&gt;了&lt;/p&gt;
&lt;p&gt;那个时候我还只是打算为博客园写个文章发布工具而已，&lt;/p&gt;
&lt;p&gt;觉得技术上可行，&lt;/p&gt;
&lt;p&gt;也能为常年写博客的人乃至博客平台提供一些帮助&lt;/p&gt;
&lt;p&gt;于是就动手做了&lt;/p&gt;
&lt;p&gt;做了之后，发布出来，一直自己用，&lt;/p&gt;
&lt;p&gt;也没管别人的想法，&lt;/p&gt;
&lt;p&gt;那个时候，工作和生活上的事情非常多，也实在抽不出精力来仔细维护这个软件&lt;/p&gt;
&lt;p&gt;在各个平台下，各种不同的博客设置下，BUG很多；&lt;/p&gt;
&lt;p&gt;很多人找我问这个软件的事情&lt;/p&gt;
&lt;p&gt;我也是能推脱的就推掉了。&lt;/p&gt;
&lt;p&gt;后来断断续续更新过几个版本。&lt;/p&gt;

&lt;p&gt;直到今年1月份，我开始把大部分精力投注到这个东西身上来，&lt;/p&gt;
&lt;p&gt;第一个版本发布后，大部分人都觉得挺好的，但还是有负面的声音：&lt;/p&gt;
&lt;p&gt;&lt;img id=&quot;img1551848364312&quot; src=&quot;https://img2018.cnblogs.com/other/28932/201903/28932-20190306144249582-1226263062.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这位网友批评虽然用语激烈一些，但基本上还是中肯的；&lt;/p&gt;
&lt;p&gt;这哪里是烂尾一年的轮子呀，这是烂尾四年的轮子了；&lt;/p&gt;
&lt;p&gt;我之所以没有另启版本号，就是为了时时警示自己，不忘初心，方得始终！&lt;/p&gt;
&lt;p&gt;当然，也有支持者：&lt;/p&gt;
&lt;p&gt;&lt;img id=&quot;img1551848734948&quot; src=&quot;https://img2018.cnblogs.com/other/28932/201903/28932-20190306144249576-1744585595.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我想，做一个东西，其中有一个乐趣必定是有人在讨论你这个东西吧！&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;有好的声音，有不好的声音，都是你持续做下去的动力。&lt;/p&gt;


&lt;p&gt;&lt;span&gt;我以前管一个团队，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;是整个公司的研发中心，&lt;/p&gt;
&lt;p&gt;不是做项目和产品的，是专门做research的&lt;/p&gt;
&lt;p&gt;人多的时候有四十多号人，&lt;/p&gt;
&lt;p&gt;团队搞得东西也足够复杂&lt;/p&gt;
&lt;p&gt;那个时候我整天忙于繁杂的事务中，&lt;/p&gt;
&lt;p&gt;是一个出卖自己时间和灵魂的陀螺，&lt;/p&gt;
&lt;p&gt;造物主的鞭时刻悬在头上；&lt;/p&gt;

&lt;p&gt;条件成熟后，我出来了，&lt;/p&gt;
&lt;p&gt;现在想想，如果不是要照顾的人太多，真的应该早出来几年，&lt;/p&gt;
&lt;p&gt;有活儿的时候接个活儿，没活儿的时候做做开源软件；&lt;/p&gt;
&lt;p&gt;接活儿我也挑，不喜欢的活儿不愿意做，喜欢的活儿，钱不多也接；&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我想能真正“自由的开发”，必定是每个程序员都向往的好日子吧&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img id=&quot;img1551849743209&quot; src=&quot;https://img2018.cnblogs.com/other/28932/201903/28932-20190306144249561-831956223.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这也是为什么东欧、北美创新氛围浓厚的原因吧&lt;/p&gt;
&lt;p&gt;他们那里福利条件优厚，我们这个行业的从业者，不用为了生计奔波，&lt;/p&gt;
&lt;p&gt;公司工作不理想，在家干活儿也不至于饿死！&lt;/p&gt;
&lt;p&gt;linux的作者，如果投胎不好，生在瓷器国，估计也搞不出这么伟大的作品。&lt;/p&gt;
&lt;p&gt;什么是真正自由的开发？&lt;/p&gt;
&lt;p&gt;你可以自己控制时间，可以自己控制优先级，可以自己控制版本....&lt;/p&gt;
&lt;p&gt;但你不能不做，有一群用户眼巴巴的等着，有人在骂，有人在欢呼...&lt;/p&gt;


&lt;p&gt;&lt;span&gt;我时常在想，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我来到这世间，到底要做到怎样才算不虚此行；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;以前我觉得我喜欢旅行&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;这使我走了很多地方&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我开车到过内蒙、又开车到过两广、&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我去过17个省，64个城市，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;现在想想，我有什么特别想去的地方而还没去的吗？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;没了！&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;有什么特别想吃的，而还没吃到的吗？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;没了！&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;那我还需要啥？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;没了？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;向外求得不到答案，我觉得我应该向内求。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我觉得我现在应该追求的是&lt;/span&gt;&lt;span&gt;频繁、长久的“心流”体验&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;em&gt;“心流”在心理学中是一种某者在专注进行某行为时所表现的心理状态。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;em&gt;是一种将个人精神力完全投注在某种活动上的感觉；心流产生时同时会有高度的兴奋及充实感。&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;某者在此状态时，通常不愿被打扰，即抗拒中断。&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span&gt;我庆幸自己是个程序员&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;因为写代码是最容易进入“心流”状态的一项工作了&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;你时时刻刻在解决问题，在创造，像造物主。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;而且还不像艺术创作那样很难得到回馈。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;想想看，不是吗？还有什么工作能比这个更好？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;（虽然我也没干过其他的）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img id=&quot;img1551852983007&quot; src=&quot;https://img2018.cnblogs.com/other/28932/201903/28932-20190306144249565-1480582084.jpg&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;中国人，好多都是为了别人而活着&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;早点脱离这个状态，早点看清楚自己和世界的关系&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;“要照顾的人太多，我不似你这般随心所欲”&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;那我也没办法了。&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span&gt;我目前在做的开源项目，叫“&lt;a href=&quot;https://github.com/xland/xiangxuema&quot; target=&quot;_self&quot;&gt;想学吗&lt;/a&gt;”，是一个个人知识管理工具，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;桌面软件，有win和mac两大平台下的版本，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;可以自由的把文章发布到：博客园、简书、知乎、微信公众号和订阅号、开源中国等目标平台&lt;/span&gt;；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;名字是有点土，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;很多人都跟我说过，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;有个咱们这个行业的大佬，建议我趁现在关注的人还不多，赶紧改个名字；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我想想还是算了。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;只要东西做的好，叫狗蛋应该都没问题。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;咦，我怎么没起名叫狗蛋儿呢，这个名字也挺好的，哈哈。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img id=&quot;img1551853922114&quot; src=&quot;https://img2018.cnblogs.com/other/28932/201903/28932-20190306144249547-1189811871.jpg&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;不过还是由衷的感谢提意见的各位！真的！&lt;/p&gt;
&lt;p&gt;你们的意见，是一个开源软件维护者前进的动力！&lt;/p&gt;

</description>
<pubDate>Wed, 06 Mar 2019 06:43:00 +0000</pubDate>
<dc:creator>liulun</dc:creator>
<og:description>第一节 我在2015年4月份开始做这个开源软件之前， 已经研究了很长一段时间的浏览器开发技术了 那个时候我还只是打算为博客园写个文章发布工具而已， 觉得技术上可行， 也能为常年写博客的人乃至博客平台提</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/liulun/p/10483125.html</dc:identifier>
</item>
<item>
<title>Hibernate5.1+Sqlserver2000分页查询 - Aruze</title>
<link>http://www.cnblogs.com/braska/p/10483002.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/braska/p/10483002.html</guid>
<description>&lt;p&gt;前几天改到一个bug：从MS SQLserver上面同步表结构并且采集数据写入其他库。然后用的核心技术是用的Hibernate。&lt;/p&gt;
&lt;p&gt;其中bug出在SQLServer2000版本上。排查下来发现2000版本真的是一个让人头疼的数据库。&lt;/p&gt;
&lt;p&gt;   驱动jar包不兼容；hibernate5.1分页查询也不能用。系统表也与其他版本的天差地别。&lt;/p&gt;
&lt;h2&gt;一、驱动问题&lt;/h2&gt;
&lt;p&gt;一开始上网查询，发现大家都推荐用JTDS驱动。但是JTDS貌似不能与官方的Hibernate兼容,需要使用第三方Hibernate。&lt;/p&gt;
&lt;p&gt;不然Hibernate在建立连接时会抛出驱动不能转换的异常。因为要做其他版本兼容（代码不做大改动），&lt;/p&gt;
&lt;p&gt;所以没换成jtds的驱动（&lt;span&gt;net.sourceforge.jtds.jdbc.Driver&lt;/span&gt;&lt;span&gt;）。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;然后用了ms2000的三个驱动。测试通过。但是要注意区分驱动和数据库连接信息的写法&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; jdbc.drivers=&lt;span&gt;com.microsoft.&lt;span&gt;jdbc.sqlserver&lt;/span&gt;.SQLServerDriver
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; jdbc.url=&lt;span&gt;jdbc:microsoft:sqlserver&lt;/span&gt;:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;localhost:1433;DatabaseName=test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在查找分页问题时，偶然发现了一个更方便的方法。&lt;/p&gt;
&lt;p&gt;资料链接：&lt;a title=&quot;MSSQL/SQLSERVER 2000 2005 2008 2008R2 jar包驱动问题 一个sqljdbc4.jar就OK了&quot; href=&quot;https://blog.csdn.net/hexin373/article/details/8260752&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/hexin373/article/details/8260752&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;maven中央库里的sqljdbc4是不行的。这里我特地下载了 sqljdbc_3.0.1301.101_chs.tar.gz。&lt;/p&gt;
&lt;p&gt;链接: &lt;a title=&quot;sqljdbc4驱动包-兼容sqlserver2000&quot; href=&quot;https://pan.baidu.com/s/1CkZeHRYg5V-LxhhmVbGY8A&quot; target=&quot;_blank&quot;&gt;https://pan.baidu.com/s/1CkZeHRYg5V-LxhhmVbGY8A&lt;/a&gt; 提取码: kwaj&lt;/p&gt;
&lt;p&gt;用了这个jar以后，就可以把上面三个ms2000的jar包删掉了，而且驱动和数据库连接信息也可以和其他版本做统一。所以&lt;span&gt;&lt;strong&gt;推荐&lt;/strong&gt;&lt;span&gt;这个方法&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; jdbc.drivers=&lt;span&gt;com.microsoft&lt;span&gt;.sqlserver.jdbc&lt;/span&gt;.SQLServerDriver
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; jdbc.url=&lt;span&gt;jdbc:sqlserver&lt;/span&gt;:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;localhost:1433;DatabaseName=COREJAVA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;二、系统表问题&lt;/h2&gt;
&lt;p&gt;ms2005版本以后系统表做了很多增删，比如：sys.extended_properties等。这些在ms2000都没有。&lt;/p&gt;
&lt;p&gt;但是这个问题比较好改。&lt;/p&gt;
&lt;p&gt;这边放出两段查询表结构的语句，不过语句还没来得及优化。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;160&quot;&gt;
&lt;pre&gt;
&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; String STRUCT_SQL_FORMAT = Joiner.on(&quot;\n&quot;&lt;span&gt;).join(Arrays.asList(
            &lt;/span&gt;&quot;SELECT convert(varchar(100), h.TABLE_CATALOG) AS TABLE_CATALOG, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;upper(convert(varchar(100), h.TABLE_NAME)) AS TABLE_NAME, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), h.TABLE_TYPE) AS TABLE_TYPE, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100),  h.value ) AS TABLE_COMMENT, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;upper(convert(varchar(100), a.name)) AS COLUMN_NAME,&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), b.name) AS COLUMN_TYPE,&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), COLUMNPROPERTY(a.id,a.name,'PRECISION')) AS COLUMN_LENGTH,&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), isnull(COLUMNPROPERTY(a.id,a.name,'Scale'),0)) AS NUM_SCALE,&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), case when exists(SELECT 1 FROM sysobjects where xtype='PK' and name in (SELECT name FROM sysindexes WHERE indid in( SELECT indid FROM sysindexkeys WHERE id = a.id AND colid=a.colid ))) then 'YES' else 'NO' end) AS IS_PRIMARYKEY, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), case when a.isnullable=1 then 'YES'else 'NO' end) AS IS_NULLABLE, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), isnull(g.[value],'')) AS COLUMN_COMMENT, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;dc.definition COLUMN_DEFAULT&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;FROM syscolumns a &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;left join systypes b on a.xusertype = b.xusertype &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;inner join sysobjects d on a.id=d.id and d.xtype='U' and d.name &amp;lt;&amp;gt; 'dtproperties' &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;left join sys.extended_properties g on a.id=g.major_id and a.colid=g.minor_id  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;left join (&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;  select a.TABLE_CATALOG, a.TABLE_NAME, a.TABLE_TYPE, b.value from information_schema.tables a &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;  left join sys.extended_properties b on b.major_id = OBJECT_ID(a.TABLE_NAME) and b.minor_id = 0 &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;) h on h.TABLE_NAME = d.name &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;LEFT JOIN sys.default_constraints dc ON d.id=dc.parent_object_id AND a.colid=dc.parent_column_id AND a.cdefault=dc.[object_id]&quot;&lt;span&gt;,
            &lt;/span&gt;&quot;order by d.name &quot;&lt;span&gt;
    ));

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; String STRUCT_SQL_FORMAT_FOR_2000 = Joiner.on(&quot;\n&quot;&lt;span&gt;).join(Arrays.asList(
            &lt;/span&gt;&quot;select convert(varchar(100), h.TABLE_CATALOG) AS TABLE_CATALOG,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;upper(convert(varchar(100), h.TABLE_NAME)) AS TABLE_NAME, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), h.TABLE_TYPE) AS TABLE_TYPE,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100),  ta.TABLE_COMMENT ) AS TABLE_COMMENT,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;upper(convert(varchar(100), ta.NAME)) AS COLUMN_NAME, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.COLUMN_TYPE) AS COLUMN_TYPE, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.COLUMN_LENGTH) AS COLUMN_LENGTH, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), isnull(ta.NUM_SCALE,0)) AS NUM_SCALE, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.IS_PRIMARYKEY) AS IS_PRIMARYKEY,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.IS_NULLABLE) AS IS_NULLABLE,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.COLUMN_COMMENT) AS COLUMN_COMMENT,  &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;convert(varchar(100), ta.COLUMN_DEFAULT) AS COLUMN_DEFAULT &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; FROM  &quot;, &quot;(SELECT &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; TABLE_NAME = d.name, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; TABLE_COMMENT = isnull(f. VALUE, ''), &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; NAME = a.name, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; IS_PRIMARYKEY = CASE WHEN EXISTS (SELECT 1 FROM sysobjects WHERE xtype = 'PK' AND parent_obj = a.id AND name IN ( SELECT name FROM sysindexes WHERE indid IN ( SELECT indid FROM sysindexkeys WHERE id = a.id AND colid = a.colid))) THEN 'YES' ELSE 'NO' END, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; COLUMN_TYPE = b.name, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; COLUMN_LENGTH = COLUMNPROPERTY(a.id, a.name, 'PRECISION'), &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; NUM_SCALE = isnull(COLUMNPROPERTY(a.id, a.name, 'Scale'), 0), &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; IS_NULLABLE = CASE WHEN a.isnullable = 1 THEN 'YES' ELSE 'NO' END, &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; COLUMN_DEFAULT = isnull(e. TEXT, ''), &quot;&lt;span&gt;,
            &lt;/span&gt;&quot; COLUMN_COMMENT = isnull(g.[value], '') &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;FROM &quot;, &quot;\tsyscolumns a &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;LEFT JOIN systypes b ON a.xusertype = b.xusertype &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;INNER JOIN sysobjects d ON a.id = d.id AND d.xtype = 'U' AND d.name &amp;lt;&amp;gt; 'dtproperties' &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;LEFT JOIN syscomments e ON a.cdefault = e.id &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;LEFT JOIN sysproperties g ON a.id = g.id AND a.colid = g.smallid &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;LEFT JOIN sysproperties f ON d.id = f.id AND f.smallid = 0 &quot;&lt;span&gt;,
            &lt;/span&gt;&quot;) ta &quot;, &quot;left join information_schema.tables h on h.TABLE_NAME = ta.table_name&quot;&lt;span&gt;
    ));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;三、Hibernate5.1分页问题&lt;/h2&gt;
&lt;p&gt;最头疼的问题。我不懂是Hibernate官方根本没测试过ms2000的分页，还是我的用法有问题。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; executeQuery(&lt;span&gt;final&lt;/span&gt; String sqlString, Integer current, Integer maxResult, Integer fetchSize, Class&amp;lt;T&amp;gt; t, Object... parameters) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SqlExecutionException {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;         List&amp;lt;T&amp;gt;&lt;span&gt; rowsList;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         Session session =&lt;span&gt; sessionLocal.get();
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;             Query query =&lt;span&gt; session.createSQLQuery(sqlString);
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (current != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;                query.setFirstResult(current);
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (maxResult != &lt;span&gt;null&lt;/span&gt; &amp;amp;&amp;amp; maxResult &amp;gt; 0&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;                 query =&lt;span&gt; query.setMaxResults(maxResult);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; 
&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (fetchSize != &lt;span&gt;null&lt;/span&gt; &amp;amp;&amp;amp; fetchSize &amp;gt; 0&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                 query =&lt;span&gt; query.setFetchSize(fetchSize);
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; 
&lt;span&gt;18&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (parameters != &lt;span&gt;null&lt;/span&gt; &amp;amp;&amp;amp; parameters.length &amp;gt; 0&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;                 &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; parameters.length; i++&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                    query.setParameter(i, parameters[i]);
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; 
&lt;span&gt;24&lt;/span&gt;             rowsList =&lt;span&gt; query.setResultTransformer(Transformers.aliasToBean(t)).list();
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception e) {
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; SqlExecutionException(sqlString, e.getCause());
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;         } &lt;span&gt;finally&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;            session.close();
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;             session = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;            sessionLocal.remove();
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; rowsList;
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面代码是我做的Hibernate分页封装。maxResult实际上相当于pageSize。如果maxResult为空则运行正常。但一旦指定了maxResult，就会报错。&lt;/p&gt;
&lt;p&gt;调用上面方法：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; List&amp;lt;HashMap&amp;gt; data =&lt;span&gt; session.executeQuery(
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;                 &quot;select * from test&quot;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;                 0&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;                 100&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;                 100&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;                 HashMap.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;                 &lt;span&gt;null&lt;/span&gt;
&lt;span&gt;8&lt;/span&gt;         );
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;则会抛出异常：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; com.syher.hibernate.jdbc.exception.SqlExecutionException: 第 1 行: '@P0' 附近有语法错误。
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;什么原因导致的？明明就一条简单的查询语句啊？&lt;/p&gt;
&lt;p&gt;跟踪Hibernate源代码到Loader的executeQueryStatement方法。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;53&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt;     &lt;span&gt;protected&lt;/span&gt;&lt;span&gt; SqlStatementWrapper executeQueryStatement(
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;            String sqlStatement,
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;            QueryParameters queryParameters,
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;             &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; scroll,
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;             List&amp;lt;AfterLoadAction&amp;gt;&lt;span&gt; afterLoadActions,
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;             SessionImplementor session) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException {
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Processing query filters.&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;        queryParameters.processFilters( sqlStatement, session );
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Applying LIMIT clause.&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;final&lt;/span&gt; LimitHandler limitHandler =&lt;span&gt; getLimitHandler(
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;                queryParameters.getRowSelection()
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;        );
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;         String sql =&lt;span&gt; limitHandler.processSql( queryParameters.getFilteredSQL(), queryParameters.getRowSelection() );
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; 
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Adding locks and comments.&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;         sql =&lt;span&gt; preprocessSQL( sql, queryParameters, getFactory().getDialect(), afterLoadActions );
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; 
&lt;span&gt;20&lt;/span&gt;         &lt;span&gt;final&lt;/span&gt; PreparedStatement st =&lt;span&gt; prepareQueryStatement( sql, queryParameters, limitHandler, scroll, session );
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; SqlStatementWrapper(
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                st, getResultSet(
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                st,
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                queryParameters.getRowSelection(),
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                limitHandler,
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; &lt;span&gt;                queryParameters.hasAutoDiscoverScalarTypes(),
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; &lt;span&gt;                session
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;        )
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; &lt;span&gt;        );
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;LimitHandler类是把我们的sql语句加工成分页语句的类。&lt;/p&gt;
&lt;p&gt;在这里，我们的sql语句select * from test 经过limitHandler.processSql方法处理后，  会变成 select top ? * from test;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;@Override
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; String processSql(String sql, RowSelection selection) {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (LimitHelper.hasFirstRow( selection )) {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;             &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; UnsupportedOperationException( &quot;query result offset is not supported&quot;&lt;span&gt; );
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt;         &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; selectIndex = sql.toLowerCase(Locale.ROOT).indexOf( &quot;select&quot;&lt;span&gt; );
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; selectDistinctIndex = sql.toLowerCase(Locale.ROOT).indexOf( &quot;select distinct&quot;&lt;span&gt; );
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; insertionPoint = selectIndex + (selectDistinctIndex == selectIndex ? 15 : 6&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; StringBuilder( sql.length() + 8&lt;span&gt; )
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;                .append( sql )
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;                 &lt;span&gt;.insert( insertionPoint, &quot; TOP ? &quot; )
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;                .toString();
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上网查了一下，jdbc prepareStatement预编译不支持top ?的写法。然后我特地写了个jdbc的demo验证，发现问题也确实出在jdbc。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@Test
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; run() {
        &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
            String sql &lt;/span&gt;= &quot;SELECT TOP ?* FROM test&quot;&lt;span&gt;;
            Connection conn &lt;/span&gt;=&lt;span&gt; getJDBCConnection();
            PreparedStatement pst &lt;/span&gt;=&lt;span&gt; conn.prepareStatement(sql);
            pst.setInt(&lt;/span&gt;1, 10&lt;span&gt;);
            ResultSet rs &lt;/span&gt;=&lt;span&gt; pst.executeQuery();
        } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception e) {
            e.printStackTrace();
        }
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; Connection getJDBCConnection() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; IOException {
        Connection conn &lt;/span&gt;= &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
        String drivers &lt;/span&gt;= &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;String drivers = &quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;;&lt;/span&gt;
        String url = &quot;jdbc:sqlserver://192.168.2.173:1433;DatabaseName=dbtest&quot;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;String url = &quot;jdbc:microsoft:sqlserver:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;192.168.2.173:1433;DatabaseName=dbtest&quot;;
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;String url = &quot;jdbc:sqlserver:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;192.168.3.104:1433;DatabaseName=testdb&quot;;&lt;/span&gt;
        String userName = &quot;sa&quot;&lt;span&gt;;
        String password &lt;/span&gt;= &quot;sa@173&quot;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;String password = &quot;sa@104&quot;;&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; (drivers != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;) {
            &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
                Class.forName(drivers).newInstance();
                conn &lt;/span&gt;=&lt;span&gt; DriverManager.getConnection(url, userName, password);

            } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception e) {
                e.printStackTrace();
                System.out.println(&lt;/span&gt;&quot;数据库连接失败&quot;&lt;span&gt;);
            }
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            System.out.println(&lt;/span&gt;&quot;数据库驱动不存在&quot;&lt;span&gt;);
        }
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; conn;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面demo里，ms2008、ms2016都不会有问题。而只有ms2000抛出了“@P0' 附近有语法错误。”的异常。&lt;/p&gt;
&lt;p&gt;抓耳挠腮了两天之后，终于在一篇博客里面找到了灵感。&lt;/p&gt;
&lt;p&gt;参考资料：&lt;a title=&quot;rnate3.2对sqlserver2000查询分页的处理&quot; href=&quot;https://gcy6164.iteye.com/blog/1160119&quot; target=&quot;_blank&quot;&gt;https://gcy6164.iteye.com/blog/1160119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;一开始看到这篇资料时，我是确实按着博客步骤改，结果没用。遂放弃。&lt;/p&gt;
&lt;p&gt;然后某天在TopLimitHandler类中看到了博客中的supportsLimit方法，才恍然大悟。原来是自己改错了方向。&lt;/p&gt;
&lt;p&gt;我没看过Hibernate3.2的源码，但是大致猜测Hibernate3.2中应该是没有LimitHandler类的。所以Hibernate3.2中判断&lt;/p&gt;
&lt;p&gt;数据库是否支持分页是在SQLServerDialect中。而Hibernate5.1时为了更好的扩展，增加了LimitHandler专门处理分页语句的接口。&lt;/p&gt;
&lt;p&gt;而判断数据库是否支持分页的方法也转移到了这个类中。&lt;/p&gt;
&lt;p&gt;因此Hibernate3.2的修改教程不适合Hibernate5.1。但其实是同一个解决思路。&lt;/p&gt;
&lt;p&gt;于是我自定义了一个Hibernate方言继承了SQLServerDialect，并重写了getLimitHandler方法。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; SQLServer2000Dialect &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; SQLServerDialect {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; SQLServer2000Dialect() {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;super&lt;/span&gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; LimitHandler getLimitHandler() {
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;return new SQLServer2000LimitHandler(false, false);
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;自定义了SQLServer2000LimitHandler类，并修改了supportsLimit方法。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; SQLServer2000LimitHandler  &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; TopLimitHandler {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; SQLServer2000LimitHandler(&lt;span&gt;boolean&lt;/span&gt; supportsVariableLimit, &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; bindLimitParametersFirst) {
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         &lt;span&gt;super&lt;/span&gt;&lt;span&gt;(supportsVariableLimit, bindLimitParametersFirst);
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; 
&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;    @Override
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; supportsLimit() {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;return false;
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;打包，调试。果然没问题了。&lt;/p&gt;
&lt;p&gt; 我的hibernate测试代码：&lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;spring-boot-project&quot; href=&quot;https://gitee.com/syher/spring-boot-project/tree/master/spring-boot-hibernate&quot; target=&quot;_blank&quot;&gt;https://gitee.com/syher/spring-boot-project/tree/master/spring-boot-hibernate&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 06 Mar 2019 06:25:00 +0000</pubDate>
<dc:creator>Aruze</dc:creator>
<og:description>前几天改到一个bug：从MS SQLserver上面同步表结构并且采集数据写入其他库。然后用的核心技术是用的Hibernate。 其中bug出在SQLServer2000版本上。排查下来发现2000版</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/braska/p/10483002.html</dc:identifier>
</item>
<item>
<title>【asp.net】asp.net实现上传Excel文件并读取数据 - willingtolove</title>
<link>http://www.cnblogs.com/willingtolove/p/10482351.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/willingtolove/p/10482351.html</guid>
<description>&lt;h3&gt;&lt;span&gt;#前台代码：使用服务端控件实现上传&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;form &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;form1&quot;&lt;/span&gt;&lt;span&gt; runat&lt;/span&gt;&lt;span&gt;=&quot;server&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;3&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;asp:FileUpload &lt;/span&gt;&lt;span&gt;ID&lt;/span&gt;&lt;span&gt;=&quot;ExcelFileUpload&quot;&lt;/span&gt;&lt;span&gt; runat&lt;/span&gt;&lt;span&gt;=&quot;server&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;4&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;asp:Button &lt;/span&gt;&lt;span&gt;ID&lt;/span&gt;&lt;span&gt;=&quot;UploadBtn&quot;&lt;/span&gt;&lt;span&gt; runat&lt;/span&gt;&lt;span&gt;=&quot;server&quot;&lt;/span&gt;&lt;span&gt; Text&lt;/span&gt;&lt;span&gt;=&quot;确定上传&quot;&lt;/span&gt;&lt;span&gt; OnClick&lt;/span&gt;&lt;span&gt;=&quot;UploadBtn_Click&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;5&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;form&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt; #服务端代码：&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; UploadBtn_Click(&lt;span&gt;object&lt;/span&gt;&lt;span&gt; sender, EventArgs e)
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (ExcelFileUpload.HasFile == &lt;span&gt;false&lt;/span&gt;)&lt;span&gt;//&lt;/span&gt;&lt;span&gt;HasFile用来检查FileUpload是否有文件&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;         Response.Write(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;lt;script&amp;gt;alert('请您选择Excel文件')&amp;lt;/script&amp;gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;当无文件时,返回&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; IsXls = Path.GetExtension(ExcelFileUpload.FileName).ToString().ToLower();&lt;span&gt;//&lt;/span&gt;&lt;span&gt;System.IO.Path.GetExtension获得文件的扩展名&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (IsXls != &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.xlsx&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &amp;amp;&amp;amp; IsXls != &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.xls&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;        Response.Write(ExcelFileUpload.FileName);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;         Response.Write(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;lt;script&amp;gt;alert('只可以选择Excel文件')&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;当选择的不是Excel文件时,返回&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; 
&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; filename = ExcelFileUpload.FileName;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;获取Execle文件名 &lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; savePath = Server.MapPath((&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UploadExcel\\&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;) + filename);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Server.MapPath 服务器上的指定虚拟路径相对应的物理文件路径
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;savePath =&quot;D:\vsproject\Projects\exceltestweb\exceltestweb\uploadfiles\test.xls&quot;
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Response.Write(savePath);&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;     DataTable ds = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; DataTable();
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     ExcelFileUpload.SaveAs(savePath);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;将文件保存到指定路径&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt; 
&lt;span&gt;23&lt;/span&gt;     DataTable dt = GetExcelDatatable(savePath);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;读取excel数据&lt;/span&gt;
&lt;span&gt;24&lt;/span&gt;     List&amp;lt;RegNumInfo&amp;gt; regList = ConvertDtToInfo(dt);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;将datatable转为list&lt;/span&gt;
&lt;span&gt;25&lt;/span&gt;     File.Delete(savePath);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;删除文件&lt;/span&gt;
&lt;span&gt;26&lt;/span&gt; 
&lt;span&gt;27&lt;/span&gt;     Response.Write(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;lt;script&amp;gt;alert('上传文件读取数据成功！');&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt; &lt;span&gt;///&lt;/span&gt;&lt;span&gt; 从excel文件中读取数据
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt;32&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;fileUrl&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;实体文件的存储路径&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;34&lt;/span&gt; &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; DataTable GetExcelDatatable(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; fileUrl)
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;支持.xls和.xlsx，即包括office2010等版本的;HDR=Yes代表第一行是标题，不是数据；&lt;/span&gt;
&lt;span&gt;37&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; cmdText = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + fileUrl + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;; Extended Properties=\&quot;Excel 12.0;HDR=Yes\&quot;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;     System.Data.DataTable dt = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;建立连接&lt;/span&gt;
&lt;span&gt;40&lt;/span&gt;     OleDbConnection conn = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; OleDbConnection(cmdText);
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt;     &lt;span&gt;try&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;打开连接&lt;/span&gt;
&lt;span&gt;44&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (conn.State == ConnectionState.Broken || conn.State ==&lt;span&gt; ConnectionState.Closed)
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;            conn.Open();
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; 
&lt;span&gt;49&lt;/span&gt;         System.Data.DataTable schemaTable = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;         &lt;span&gt;string&lt;/span&gt; strSql = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;select * from [Sheet1$]&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;;   &lt;span&gt;//&lt;/span&gt;&lt;span&gt;这里指定表明为Sheet1,如果修改过表单的名称，请使用修改后的名称&lt;/span&gt;
&lt;span&gt;51&lt;/span&gt;         OleDbDataAdapter da = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; OleDbDataAdapter(strSql, conn);
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt;         DataSet ds = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; DataSet();
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt; &lt;span&gt;        da.Fill(ds);
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;         dt = ds.Tables[&lt;span&gt;0&lt;/span&gt;&lt;span&gt;]; ;
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; dt;
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt;     &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception exc)
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt;         &lt;span&gt;throw&lt;/span&gt;&lt;span&gt; exc;
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;     &lt;span&gt;finally&lt;/span&gt;
&lt;span&gt;62&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt; &lt;span&gt;        conn.Close();
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt; &lt;span&gt;        conn.Dispose();
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span&gt;68&lt;/span&gt; &lt;span&gt;///&lt;/span&gt;&lt;span&gt; 将datatable转换为list集合
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span&gt;70&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;param name=&quot;dt&quot;&amp;gt;&lt;/span&gt;&lt;span&gt;DataTable&lt;/span&gt;&lt;span&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span&gt;71&lt;/span&gt; &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span&gt;72&lt;/span&gt; &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; List&amp;lt;RegNumInfo&amp;gt;&lt;span&gt; ConvertDtToInfo(DataTable dt)
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt;     List&amp;lt;RegNumInfo&amp;gt; list = &lt;span&gt;new&lt;/span&gt; List&amp;lt;RegNumInfo&amp;gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt;75&lt;/span&gt;     &lt;span&gt;if&lt;/span&gt; (dt.Rows.Count &amp;gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;76&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt;         &lt;span&gt;foreach&lt;/span&gt; (DataRow item &lt;span&gt;in&lt;/span&gt;&lt;span&gt; dt.Rows)
&lt;/span&gt;&lt;span&gt;78&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;             RegNumInfo info = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; RegNumInfo();
&lt;/span&gt;&lt;span&gt;80&lt;/span&gt;             info.RegNum = item[&lt;span&gt;0&lt;/span&gt;&lt;span&gt;].ToString();
&lt;/span&gt;&lt;span&gt;81&lt;/span&gt;             info.Name = item[&lt;span&gt;1&lt;/span&gt;&lt;span&gt;].ToString();
&lt;/span&gt;&lt;span&gt;82&lt;/span&gt;             info.Period = item[&lt;span&gt;2&lt;/span&gt;&lt;span&gt;].ToString();
&lt;/span&gt;&lt;span&gt;83&lt;/span&gt;             info.Remark = item[&lt;span&gt;3&lt;/span&gt;&lt;span&gt;].ToString();
&lt;/span&gt;&lt;span&gt;84&lt;/span&gt; &lt;span&gt;            list.Add(info);
&lt;/span&gt;&lt;span&gt;85&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;86&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;87&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; list;
&lt;/span&gt;&lt;span&gt;88&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; RegNumInfo
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; RegNum { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Name { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Period { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Remark { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;#注意：出现“未在本地计算机上注册“microsoft.ACE.oledb.12.0”提供程序” 的报错的解决方案&lt;/h3&gt;
&lt;h4&gt;　　1、因为读取excel文件使用的是OleDb，如果服务器没有安装office，需要安装数据访问组件（&lt;strong&gt;AccessDatabaseEngine&lt;/strong&gt;）;&lt;/h4&gt;
&lt;h4&gt;　　　　*适用于office2010的&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;　　　　Microsoft Access Database Engine 2010 Redistributable&lt;/strong&gt;&lt;/p&gt;

&lt;h4&gt;&lt;strong&gt;&lt;strong&gt;　　2、&lt;/strong&gt;&lt;/strong&gt;在IIS应用程序池中，设置“”&lt;span lang=&quot;zh-CN&quot;&gt;启用兼容&lt;span lang=&quot;en-US&quot;&gt;32&lt;span lang=&quot;zh-CN&quot;&gt;位应用程序”；&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;&lt;span lang=&quot;zh-CN&quot;&gt;&lt;span lang=&quot;en-US&quot;&gt;&lt;span lang=&quot;zh-CN&quot;&gt;&lt;span&gt;&lt;strong&gt;解决方案具体可参考这篇文章：&lt;a href=&quot;https://www.cnblogs.com/willingtolove/p/9630485.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/willingtolove/p/9630485.html&lt;/a&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;#参考：&lt;/p&gt;
&lt;p&gt;https://blog.csdn.net/eagle_or_snail/article/details/82748226&lt;/p&gt;
&lt;p&gt;https://www.cnblogs.com/willingtolove/p/9630485.html&lt;/p&gt;

</description>
<pubDate>Wed, 06 Mar 2019 06:22:00 +0000</pubDate>
<dc:creator>willingtolove</dc:creator>
<og:description>asp.net实现上传Excel文件并读取数据</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/willingtolove/p/10482351.html</dc:identifier>
</item>
<item>
<title>Spring之事件监听(观察者模型) - ゞ .邓澎波</title>
<link>http://www.cnblogs.com/dengpengbo/p/10482891.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dengpengbo/p/10482891.html</guid>
<description>&lt;p&gt;  本文介绍下Spring中的事件监听，其本质也就是观察者模型(发布/订阅模式),具体的观察者模式参考下文&lt;br/&gt;*********************&lt;br/&gt;&lt;a href=&quot;https://blog.csdn.net/qq_38526573/article/details/87483479&quot;&gt;Java观察者模式(Observer)&lt;/a&gt;&lt;br/&gt;********************&lt;/p&gt;
&lt;p&gt;@&lt;/p&gt;

&lt;h2 id=&quot;一事件监听案例&quot;&gt;一、事件监听案例&lt;/h2&gt;
&lt;h3 id=&quot;事件类&quot;&gt;1.事件类&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * 事件类
 * @author 波波烤鸭
 * @email dengpbs@163.com
 *
 */
public class MyEvent extends ApplicationContextEvent {

    private static final long serialVersionUID = 1L;
    
    public MyEvent(ApplicationContext source) {
        super(source);
        System.out.println(&quot;myEvent 构造方法被执行了...&quot;);
    }
    
    public void out(String name){
        System.out.println(&quot;myEvent .... out方法执行了&quot;+name);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;事件监听类&quot;&gt;2.事件监听类&lt;/h3&gt;
&lt;p&gt;  事件监听器也就是我们的观察者。我们可以创建多个来观察。&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * 监听器
 *    观察者
 * @author 波波烤鸭
 * @email dengpbs@163.com
 *
 */
public class MyListenerA implements ApplicationListener&amp;lt;MyEvent&amp;gt;{

    @Override
    public void onApplicationEvent(MyEvent event) {
        System.out.println(&quot;MyListenerA 监听器触发了...&quot;);
        // 执行事件中的特定方法
        event.out(&quot;AAAAA&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * 监听器
 *    观察者
 * @author 波波烤鸭
 * @email dengpbs@163.com
 *
 */
public class MyListenerB implements ApplicationListener&amp;lt;MyEvent&amp;gt;{

    @Override
    public void onApplicationEvent(MyEvent event) {
        System.out.println(&quot;MyListenerB 监听器触发了...&quot;);
        // 执行事件中的特定方法
        event.out(&quot;BBBBB&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;事件发布者&quot;&gt;3.事件发布者&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * 事件发布类
 *   实现ApplicationContextAware接口用来感知ApplicationContext对象
 * @author 波波烤鸭
 * @email dengpbs@163.com
 *
 */
public class MyPublisher implements ApplicationContextAware{
    
    public ApplicationContext ac;

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
        // TODO Auto-generated method stub
        this.ac = applicationContext;
    }
    /**
     * 发布事件
     *    监听该事件的监听者都可以获取消息
     * @param event
     */
    public void publisherEvent(ApplicationEvent event){
        System.out.println(&quot;---发布事件---&quot;+event);
        ac.publishEvent(event);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;配置文件中注册&quot;&gt;4.配置文件中注册&lt;/h3&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&amp;gt;
    
    &amp;lt;context:annotation-config/&amp;gt;

    &amp;lt;bean class=&quot;com.dpb.pojo.User&quot; id=&quot;user&quot;  &amp;gt;
        &amp;lt;property name=&quot;name&quot; value=&quot;波波烤鸭&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
    
    &amp;lt;!-- 注册事件类 --&amp;gt;
    &amp;lt;bean class=&quot;com.dpb.event.MyEvent&quot;&amp;gt;&amp;lt;/bean&amp;gt;
    
    &amp;lt;!-- 注册监听器 --&amp;gt;
    &amp;lt;bean class=&quot;com.dpb.listener.MyListenerA&quot;&amp;gt;&amp;lt;/bean&amp;gt;
    &amp;lt;bean class=&quot;com.dpb.listener.MyListenerB&quot;&amp;gt;&amp;lt;/bean&amp;gt;
    
    &amp;lt;!-- 注册发布者类 --&amp;gt;
    &amp;lt;bean class=&quot;com.dpb.publisher.MyPublisher&quot;&amp;gt;&amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;测试&quot;&gt;5.测试&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Test
public void test1() {
    ClassPathXmlApplicationContext ac = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
    // 从Spring容器中获取发布者
    MyPublisher bean = ac.getBean(MyPublisher.class);
    // 从Spring容器中获取事件对象
    MyEvent event = ac.getBean(MyEvent.class);
    // 发布者发布事件
    bean.publisherEvent(event);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;输出结果&lt;/p&gt;
&lt;pre class=&quot;xml&quot;&gt;
&lt;code&gt;myEvent 构造方法被执行了...
---发布事件---com.dpb.event.MyEvent[source=org.springframework.context.support.ClassPathXmlApplicationContext@311d617d: startup date [Wed Mar 06 13:04:57 CST 2019]; root of context hierarchy]
MyListenerA 监听器触发了...
myEvent .... out方法执行了AAAAA
MyListenerB 监听器触发了...
myEvent .... out方法执行了BBBBB&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;小结：通过案例我们实现了事件发生后注册的有此事件的监听者(观察者)监听到了此事件，并做出了响应的处理。&lt;/p&gt;
&lt;h2 id=&quot;二spring中事件监听分析&quot;&gt;二、Spring中事件监听分析&lt;/h2&gt;
&lt;h3 id=&quot;spring中事件监听的结构&quot;&gt;1. Spring中事件监听的结构&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190306132326632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTcz,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;核心角色介绍&quot;&gt;2. 核心角色介绍&lt;/h3&gt;
&lt;h4 id=&quot;applicationevent&quot;&gt;2.1 ApplicationEvent&lt;/h4&gt;
&lt;p&gt;  ApplicationEvent是所有事件对象的父类。ApplicationEvent继承自jdk的EventObject,所有的事件都需要继承ApplicationEvent,并且通过source得到事件源。&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public abstract class ApplicationEvent extends EventObject {

    /** use serialVersionUID from Spring 1.2 for interoperability */
    private static final long serialVersionUID = 7099057708183571937L;

    /** System time when the event happened */
    private final long timestamp;


    /**
     * Create a new ApplicationEvent.
     * @param source the object on which the event initially occurred (never {@code null})
     */
    public ApplicationEvent(Object source) {
        super(source);
        this.timestamp = System.currentTimeMillis();
    }
    /**
     * Return the system time in milliseconds when the event happened.
     */
    public final long getTimestamp() {
        return this.timestamp;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;实现类：&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190306133321102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTcz,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;applicationlistener&quot;&gt;2.2 ApplicationListener&lt;/h4&gt;
&lt;p&gt;  ApplicationListener事件监听器，也就是观察者。继承自jdk的EventListener，该类中只有一个方法onApplicationEvent。当监听的事件发生后该方法会被执行。&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public interface ApplicationListener&amp;lt;E extends ApplicationEvent&amp;gt; extends EventListener {
    /**
     * Handle an application event.
     * @param event the event to respond to
     */
    void onApplicationEvent(E event);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;实现类&lt;br/&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190306133759443.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTcz,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;applicationcontext&quot;&gt;2.3 ApplicationContext&lt;/h4&gt;
&lt;p&gt;  ApplicationContext是Spring中的核心容器，在事件监听中ApplicationContext可以作为事件的发布者，也就是事件源。因为ApplicationContext继承自ApplicationEventPublisher。在ApplicationEventPublisher中定义了事件发布的方法&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public interface ApplicationEventPublisher {

    /**
     * Notify all &amp;lt;strong&amp;gt;matching&amp;lt;/strong&amp;gt; listeners registered with this
     * application of an application event. Events may be framework events
     * (such as RequestHandledEvent) or application-specific events.
     * @param event the event to publish
     * @see org.springframework.web.context.support.RequestHandledEvent
     */
    void publishEvent(ApplicationEvent event);

    /**
     * Notify all &amp;lt;strong&amp;gt;matching&amp;lt;/strong&amp;gt; listeners registered with this
     * application of an event.
     * &amp;lt;p&amp;gt;If the specified {@code event} is not an {@link ApplicationEvent},
     * it is wrapped in a {@link PayloadApplicationEvent}.
     * @param event the event to publish
     * @since 4.2
     * @see PayloadApplicationEvent
     */
    void publishEvent(Object event);

}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190306134327534.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTcz,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;/&gt;&lt;br/&gt;具体发布消息的方法实现:AbstractApplicationContext中&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;protected void publishEvent(Object event, ResolvableType eventType) {
    Assert.notNull(event, &quot;Event must not be null&quot;);
    if (logger.isTraceEnabled()) {
        logger.trace(&quot;Publishing event in &quot; + getDisplayName() + &quot;: &quot; + event);
    }

    // Decorate event as an ApplicationEvent if necessary
    ApplicationEvent applicationEvent;
    if (event instanceof ApplicationEvent) {
        applicationEvent = (ApplicationEvent) event;
    }
    else {
        applicationEvent = new PayloadApplicationEvent&amp;lt;Object&amp;gt;(this, event);
        if (eventType == null) {
            eventType = ((PayloadApplicationEvent) applicationEvent).getResolvableType();
        }
    }

    // Multicast right now if possible - or lazily once the multicaster is initialized
    if (this.earlyApplicationEvents != null) {
        this.earlyApplicationEvents.add(applicationEvent);
    }
    else {
        getApplicationEventMulticaster().multicastEvent(applicationEvent, eventType);
    }

    // Publish event via parent context as well...
    if (this.parent != null) {
        if (this.parent instanceof AbstractApplicationContext) {
            ((AbstractApplicationContext) this.parent).publishEvent(event, eventType);
        }
        else {
            this.parent.publishEvent(event);
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;getApplicationEventMulticaster().multicastEvent(applicationEvent, eventType);这行代码的作用是获取ApplicationEventMulticaster来广播事件给所有的监听器。&lt;/p&gt;
&lt;h4 id=&quot;applicationeventmulticaster&quot;&gt;2.4 ApplicationEventMulticaster&lt;/h4&gt;
&lt;p&gt;  事件广播器,它的作用是把Applicationcontext发布的Event广播给所有的监听器.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190306134946442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTcz,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;/&gt;&lt;br/&gt;具体的注册监听是在AbstractApplicationContext中实现的。&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Override
public void addApplicationListener(ApplicationListener&amp;lt;?&amp;gt; listener) {
    Assert.notNull(listener, &quot;ApplicationListener must not be null&quot;);
    if (this.applicationEventMulticaster != null) {
        this.applicationEventMulticaster.addApplicationListener(listener);
    }
    else {
        this.applicationListeners.add(listener);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;三总结&quot;&gt;三、总结&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;Spring中的事件监听使用的是观察者模式&lt;/li&gt;
&lt;li&gt;所有事件需要继承ApplicationEvent父类&lt;/li&gt;
&lt;li&gt;所有的监听器需要实现ApplicationListener接口&lt;/li&gt;
&lt;li&gt;事件发布需要通过ApplicationContext中的publisherEvent方法实现&lt;/li&gt;
&lt;li&gt;监听器的注册是ApplicationEventMulticaster提供的，但我们并不需要实现。&lt;/li&gt;
&lt;/ol&gt;</description>
<pubDate>Wed, 06 Mar 2019 06:06:00 +0000</pubDate>
<dc:creator>ゞ .邓澎波</dc:creator>
<og:description>  本文介绍下Spring中的事件监听，其本质也就是观察者模型(发布/订阅模式),具体的观察者模式参考下文 'Java观察者模式(Observer)' @[toc] Spring事</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/dengpengbo/p/10482891.html</dc:identifier>
</item>
<item>
<title>外行人都能看得懂的机器学习，错过了血亏！ - 腾讯云+社区</title>
<link>http://www.cnblogs.com/qcloud1001/p/10482462.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qcloud1001/p/10482462.html</guid>
<description>&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;本文由云+社区发表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;作者：Java3y&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;只有光头才能变强&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;没错，这篇主要跟大家一起&lt;strong&gt;入门&lt;/strong&gt;机器学习。作为一个开发者，”人工智能“肯定是听过的。作为一个开发面试者，肯定也会见过”机器学习“这个岗位(反正我校招的时候就遇到过)。&lt;/p&gt;
&lt;p&gt;可能还会听过或者见过“深度学习”、“神经网络”等等这些非常火的&lt;strong&gt;名词&lt;/strong&gt;，那你对这些&lt;strong&gt;术语&lt;/strong&gt;了解多少呢？&lt;/p&gt;
&lt;p&gt;相信大家这几天在朋友圈也可以看到这照片：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/d19k78n95x.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;核心AI代码&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;// 通过if else 以人工穷举的方式来假装实现智能机器人聊天&lt;/code&gt;
&lt;/pre&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;希望阅读完本文中后，大家可以对这些术语和机器学习有一定的了解。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;首先我们来简单看看人工智能、深度学习、机器学习这些术语和它们之间的关系究竟是怎么样的。&lt;/p&gt;
&lt;h2 id=&quot;人工智能&quot;&gt;&lt;strong&gt;1.1人工智能&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;不知道听到“人工智能”大家会联想到什么，可能大多数都会想到科幻电影的机器人。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/pf35lpua9t.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;《人工智能》电影的剧照&lt;/p&gt;
&lt;p&gt;我们看来看看维基百科的定义：&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;人工智能（英语：Artificial Intelligence，缩写为 AI）亦称机器智能，指由&lt;strong&gt;人制造出来的机器所表现出来的智能&lt;/strong&gt;。通常人工智能是指通过普通计算机程序的手段实现的人类智能技术。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;人工智能也可以分成两类：&lt;/p&gt;
&lt;ul readability=&quot;3&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;强人工智能：强人工智能观点认为“有可能”制造出“真正”能推理（Reasoning）和解决问题的智能机器，并且，这样的机器将&lt;/p&gt;
&lt;p&gt;被认为是具有知觉、有自我意识的&lt;/p&gt;
&lt;p&gt;。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;像绝大多数科幻电影中的机器人就是在这范畴&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li readability=&quot;4&quot;&gt;
&lt;p&gt;弱人工智能：弱人工智能观点认为“不可能”制造出能“真正”地推理和解决问题的智能机器，这些机器只不过&lt;/p&gt;
&lt;p&gt;“看起来”像是智能&lt;/p&gt;
&lt;p&gt;的，但是并不真正拥有智能，也不会有自主意识。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;我们&lt;strong&gt;目前阶段&lt;/strong&gt;的人工智能，其实都是弱人工智能。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;机器学习&quot;&gt;&lt;strong&gt;1.2机器学习&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;不知道听到“机器学习”大家会联想到什么。Emmm…反正我就是从字面的意思去理解：“机器可以&lt;strong&gt;自我&lt;/strong&gt;学习”。&lt;/p&gt;
&lt;p&gt;首先我们看一下维基百科是怎么说的：&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;strong&gt;机器学习是实现人工智能的一个途径&lt;/strong&gt;，即以机器学习为手段解决人工智能中的问题。机器学习在近30多年已发展为一门多领域&lt;strong&gt;交叉学科&lt;/strong&gt;，涉及概率论、统计学、逼近论、凸分析、计算复杂性理论等多门学科&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;简单来说：机器学习可以通过&lt;strong&gt;大量的数据或者以往的经验自动改进计算机程序/算法&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/bdqpiqph0a.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;什么是机器学习&lt;/p&gt;
&lt;p&gt;生成完&lt;code&gt;模型f(x)&lt;/code&gt;之后，我们将&lt;strong&gt;样例数据丢进模型里边&lt;/strong&gt;，就可以输出结果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/pwbd4c5f6x.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;输入样例进模型，输出结果&lt;/p&gt;
&lt;p&gt;我们说机器学习可以&lt;strong&gt;自我&lt;/strong&gt;学习，是因为我们会将&lt;strong&gt;样例数据也会丢到“历史数据”中&lt;/strong&gt;，这样生成模型就会有一定的改动，从而达到“自我学习”的效果。&lt;/p&gt;
&lt;h2 id=&quot;它们之间的关系&quot;&gt;&lt;strong&gt;1.3它们之间的关系&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;等等，我们好像还没讲深度学习呢。我们从上面机器学习的介绍也可以知道，机器学习已发展为一门多领域&lt;strong&gt;交叉学科&lt;/strong&gt;，机器学习中就有&lt;strong&gt;好多个经典的算法，其中就包含了神经网络(深度学习可看成是神经网络的升级版)&lt;/strong&gt;。由于近几年深度学习发展迅猛，一些特有的学习手段相继被提出，所以越来越多的人将其单独看作一种学习的方法。&lt;/p&gt;
&lt;p&gt;《机器学习 周志华》：&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;所谓深度学习，狭义地说就是&lt;strong&gt;“很多层”的神经网络&lt;/strong&gt;，在若干测试和竞赛下，尤其涉及语音、图像等复杂对象的引用中，深度学习取得优越的性能。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;所以我们可以总结出人工智能、机器学习、深度学习之间的关系是这样的：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;机器学习，是实现人工智能的重要方法。&lt;/li&gt;
&lt;li&gt;深度学习，是实现机器学习的技术。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/39iieli3dx.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;之间的关系&lt;/p&gt;
&lt;p&gt;想要了解更多，可参考：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;人工智能、机器学习和深度学习的区别?
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过上面我们可以简单认为机器学习就是：&lt;strong&gt;利用计算机&lt;/strong&gt;从历史数据找出&lt;strong&gt;规律&lt;/strong&gt;，把这些规律用到&lt;strong&gt;未来&lt;/strong&gt;不确定场景的决策中。&lt;/p&gt;
&lt;p&gt;下面我们再来学习一下机器学习的一些入门知识。&lt;/p&gt;
&lt;h2 id=&quot;机器学习的术语&quot;&gt;&lt;strong&gt;2.1机器学习的术语&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;特征、样本、数据集、标记这些术语的说明：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/cdjlvolhon.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;特征、样本、数据集、标记这些术语的说明&lt;/p&gt;
&lt;p&gt;特征(属性)所张成的空间叫做&lt;strong&gt;特征空间&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/10ne0co1pu.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;特征空间&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;例如我们把“色泽”、&quot;根蒂“、”敲声“作为三个坐标轴，则它们张成一个用于描述&lt;strong&gt;西瓜的三围空间&lt;/strong&gt;，每个西瓜都可在这个空间中找到自己的坐标位置。&lt;strong&gt;由于空间中的每个点对应一个坐标向量，我们也把一个示例称为“特征向量&lt;/strong&gt;”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/igrzq5ht53.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;特征向量&lt;/p&gt;
&lt;p&gt;回到我们上面的图，再来讲讲“训练数据”、“训练”、“标记”：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/3429y5wqkc.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;“训练数据”、“训练”、“标记”的术语解释&lt;/p&gt;
&lt;h2 id=&quot;机器学习的分类&quot;&gt;&lt;strong&gt;2.2机器学习的分类&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;一般机器学习又可以分成以下几类：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;监督学习&lt;/li&gt;
&lt;li&gt;半监督学习&lt;/li&gt;
&lt;li&gt;非监督学习&lt;/li&gt;
&lt;li&gt;增强学习&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;监督学习&quot;&gt;&lt;strong&gt;2.2.1监督学习&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;监督学习：训练数据(Training Data)可以告诉我们要找的那个模型的输入(Input)与输出(Output，也就是我们说的label)之间有什么样的关系。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;给出的数据都有“答案”或“标记”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;训练数据：&quot;Java3y公众号&quot;-&amp;gt;好的公众号 ， &quot;Java4y公众号&quot;-&amp;gt;不好的公众号。 输出结果：好的公众号或者不好的公众号&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在监听学习下又分为两种算法：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;回归(Regression)：结果是一个连续的&lt;strong&gt;数值&lt;/strong&gt;(scalar)，而非类别&lt;/li&gt;
&lt;li&gt;分类(Classification)：为训练数据进行分类别(多分类)
&lt;ul&gt;&lt;li&gt;二分类：类别只有两种结果(YES OR NO)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;回归例子&lt;/strong&gt;：知道前几天的PM2.5数值，预测一下明天的PM2.5数值。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/dek40o1wjo.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;回归例子&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;二分类例子：&lt;/strong&gt;判断一封邮件是垃圾邮件还是正常邮件。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/pd4yef8mjm.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;判断是垃圾邮件还是正常邮件&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;多分类例子：&lt;/strong&gt;将新闻帖子分类成不同的类别。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/1ylrpem6ag.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;分类成不同的类别&lt;/p&gt;
&lt;h3 id=&quot;非监督学习&quot;&gt;&lt;strong&gt;2.2.2非监督学习&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;非监督学习：&lt;strong&gt;训练数据(Training Data)没有对应“答案”或“标记”&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;训练数据：&quot;Java3y公众号&quot; &quot;Java4y公众号&quot; &quot;Java5y公众号&quot; &quot;Java6y公众号&quot; &quot;yyy公众号&quot; &quot;xxx公众号&quot; &quot;zzz公众号&quot; 输出结果：(&quot;Java3y公众号&quot; &quot;Java4y公众号&quot; &quot;Java5y公众号&quot; &quot;Java6y公众号&quot;) (&quot;yyy公众号&quot; &quot;xxx公众号&quot; &quot;zzz公众号&quot;) &lt;strong&gt;分门类别&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;对没有“标记”的数据进行分类-聚类分析&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/gz20d5paxj.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;对没有“标记”的数据进行分类-聚类分析&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;聚类分析例子：&lt;/strong&gt;在以前，中国移动有三个品牌：神州行、动感地带、全球通。我们给一堆的SIM卡交由学习算法训练，&lt;strong&gt;不告诉它每张SIM卡具体是什么卡&lt;/strong&gt;，最后我们是可以将这些SIM卡&lt;strong&gt;分类别出来的&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/jsoucsp38o.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;非监督学习的意义&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/rn77dfxay.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;非监督学习的意义&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/x230fz7aws.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;非监督学习的意义&lt;/p&gt;
&lt;h3 id=&quot;半监督学习&quot;&gt;&lt;strong&gt;2.2.3半监督学习&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;理解了监督学习和非监督学习，对于半监督学习就很容易理解了。&lt;/p&gt;
&lt;p&gt;一部分数据有“标记”或者“答案”，另一部分数据没有&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;因为各种原因产生的标记缺失。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/ajfgdp1ts0.jpeg?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;部分有label，部分没有label&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;通常都会使用非监督学习手段对数据进行处理(特征提取、降维)，之后再只用监督学习手段做模型的训练和预测。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;增强学习&quot;&gt;&lt;strong&gt;2.2.4增强学习&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;根据周围环境的情况，采取行动，&lt;strong&gt;根据采取行动的结果，学习行动方式&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/p16wjo0dt1.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;增强学习&lt;/p&gt;
&lt;p&gt;每次行动，就给这次的行动&lt;strong&gt;评分&lt;/strong&gt;，算法会根据评分来评估下一次的行动是好还是坏，最终不断改进。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ask.qcloudimg.com/http-save/yehe-1287328/55fseehlgp.png?imageView2/2/w/1620&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;给每次的行动评分&lt;/p&gt;
&lt;p&gt;例子：Alpha Go下每步棋的时候都会&lt;strong&gt;评估&lt;/strong&gt;自己这次下得怎么样，通过最终的结果不断改进下的每步棋。&lt;/p&gt;
&lt;h2 id=&quot;机器学习的其他分类&quot;&gt;&lt;strong&gt;2.3机器学习的其他分类&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;除了我们上面所说的监督学习、非监督学习、半监督学习、增强学习之外，机器学习也可以分成：&lt;/p&gt;
&lt;p&gt;还有：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;参数学习：一旦学到了参数，就不再需要原有的数据集。通过调参数就好了。&lt;/li&gt;
&lt;li&gt;非参数学习：&lt;strong&gt;不对模型进行过多的假设&lt;/strong&gt;，非参数不代表没参数。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;机器学习的核心在于算法上&lt;/strong&gt;，这篇只是对机器学习的一个简单的入门，希望能对大家有所帮助。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;此文已由腾讯云+社区在各渠道发布&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;获取更多新鲜技术干货，可以关注我们&lt;a href=&quot;https://www.zhihu.com/org/teng-xun-yun-ji-zhu-she-qu/activities&quot;&gt;腾讯云技术社区-云加社区官方号及知乎机构号&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 06 Mar 2019 04:11:00 +0000</pubDate>
<dc:creator>腾讯云+社区</dc:creator>
<og:description>本文由云+社区发表 作者：Java3y 前言 只有光头才能变强 没错，这篇主要跟大家一起 入门 机器学习。作为一个开发者，”人工智能“肯定是听过的。作为一个开发面试者，肯定也会见过”机器学习“这个岗位</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qcloud1001/p/10482462.html</dc:identifier>
</item>
</channel>
</rss>