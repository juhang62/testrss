<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>å®šæ—¶ä»»åŠ¡æ–¹æ¡ˆå¤§ç™¾ç§‘ - crossoverJie</title>
<link>http://www.cnblogs.com/crossoverJie/p/11669468.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/crossoverJie/p/11669468.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082748472-800378921.jpg&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;1.9230769230769&quot;&gt;
&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://crossoverjie.top/&quot;&gt;https://crossoverjie.top&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;èŠ‚å‰æœ‰æ›´æ–°ä¸€ç¯‡å®šæ—¶ä»»åŠ¡çš„ç›¸å…³æ–‡ç« &lt;a href=&quot;https://crossoverjie.top/2019/09/27/algorithm/time%20wheel/&quot;&gt;ã€Šå»¶æ—¶æ¶ˆæ¯ä¹‹æ—¶é—´è½®ã€‹&lt;/a&gt;ï¼Œæœ‰æœ‹å‹æå‡ºå¸Œæœ›å¯ä»¥å®Œæ•´çš„ä»‹ç»ä¸‹å¸¸è§çš„å®šæ—¶ä»»åŠ¡æ–¹æ¡ˆï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ¬¡ä¼šä¸»è¦è®¨è®ºå¤§å®¶ä½¿ç”¨è¾ƒå¤šçš„æ–¹æ¡ˆï¼Œé¦–å…ˆç¬¬ä¸€ä¸ªå°±æ˜¯ &lt;code&gt;Timer&lt;/code&gt; å®šæ—¶å™¨ï¼Œå®ƒå¯ä»¥åœ¨æŒ‡å®šæ—¶é—´åè¿è¡Œæˆ–å‘¨æœŸæ€§è¿è¡Œä»»åŠ¡ï¼›ä½¿ç”¨æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082749039-433364477.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¾¿å¯åˆ›å»ºä¸¤ä¸ªç®€å•çš„å®šæ—¶ä»»åŠ¡ï¼Œåˆ†åˆ«åœ¨ &lt;code&gt;3s/5s&lt;/code&gt; ä¹‹åè¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨èµ·æ¥ç¡®å®å¾ˆç®€å•ï¼Œä½†ä¹Ÿæœ‰ä¸å°‘æ¯›ç—…ï¼Œæƒ³è¦ææ¸…æ¥šå®ƒæ‰€å­˜åœ¨çš„é—®é¢˜é¦–å…ˆå°±è¦ç†è§£å…¶å®ç°åŸç†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°åŸç†&quot;&gt;å®ç°åŸç†&lt;/h2&gt;
&lt;p&gt;å®šæ—¶ä»»åŠ¡è¦æƒ³åšåˆ°æŒ‰ç…§æˆ‘ä»¬ç»™å®šçš„æ—¶é—´è¿›è¡Œè°ƒåº¦ï¼Œé‚£å°±å¾—éœ€è¦ä¸€ä¸ªå¯ä»¥æ’åºçš„å®¹å™¨æ¥å­˜æ”¾è¿™äº›ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Timer&lt;/code&gt; ä¸­å†…ç½®äº†ä¸€ä¸ª &lt;code&gt;TaskQueue&lt;/code&gt; é˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰çš„å®šæ—¶ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082753914-1345922430.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®æœ¬è´¨ä¸Šæ˜¯ç”¨æ•°ç»„æ¥å®ç°çš„ä¸€ä¸ª&lt;code&gt;æœ€å°å †&lt;/code&gt;ï¼Œå®ƒå¯ä»¥è®©æ¯æ¬¡å†™å…¥çš„å®šæ—¶ä»»åŠ¡éƒ½æŒ‰ç…§æ‰§è¡Œæ—¶é—´è¿›è¡Œæ’åºï¼Œä¿è¯åœ¨å †é¡¶çš„ä»»åŠ¡æ‰§è¡Œæ—¶é—´æ˜¯æœ€å°çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åœ¨éœ€è¦æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæ¯æ¬¡åªéœ€è¦å–å‡ºå †é¡¶çš„ä»»åŠ¡è¿è¡Œå³å¯ï¼Œæ‰€ä»¥å®ƒå–å‡ºä»»åŠ¡çš„æ•ˆç‡å¾ˆé«˜ä¸º&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082755044-777848992.jpg&quot;/&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç»“åˆä»£ç ä¼šæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082756995-364244941.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å†™å…¥ä»»åŠ¡çš„æ—¶å€™ä¼šå°†ä¸€äº›åŸºæœ¬å±æ€§å­˜æ”¾èµ·æ¥ï¼ˆä»»åŠ¡çš„è°ƒåº¦æ—¶é—´ã€å‘¨æœŸã€åˆå§‹åŒ–ä»»åŠ¡çŠ¶æ€ç­‰ï¼‰ï¼Œæœ€åå°±æ˜¯è¦å°†ä»»åŠ¡å†™å…¥è¿™ä¸ªå†…ç½®é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082757782-258774947.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082758526-1934890357.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä»»åŠ¡å†™å…¥è¿‡ç¨‹ä¸­æœ€æ ¸å¿ƒçš„æ–¹æ³•ä¾¿æ˜¯è¿™ä¸ª &lt;code&gt;fixUp()&lt;/code&gt; ,å®ƒä¼šå°†å†™å…¥çš„ä»»åŠ¡ä»é˜Ÿåˆ—çš„ä¸­éƒ¨é€šè¿‡æ‰§è¡Œæ—¶é—´ä¸å‰ä¸€ä¸ªä»»åŠ¡åšæ¯”å¯¹ï¼Œä¸€ç›´ä¸æ–­çš„å‘å‰æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¿™ä¸ªæ—¶é—´æ˜¯æœ€æ—©æ‰§è¡Œçš„ï¼Œé‚£æœ€åå°†ä¼šè¢«ç§»åŠ¨åˆ°å †é¡¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082759178-1024229828.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸ªè¿‡ç¨‹å¯ä»¥çœ‹å‡º &lt;code&gt;Timer&lt;/code&gt; æ–°å¢ä¸€ä¸ªä»»åŠ¡çš„æ—¶é—´å¤æ‚åº¦ä¸º&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082759622-1703409431.jpg&quot;/&gt;ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;å†æ¥çœ‹çœ‹å®ƒæ‰§è¡Œä»»åŠ¡çš„è¿‡ç¨‹ï¼Œå…¶å®åœ¨åˆå§‹åŒ– &lt;code&gt;Timer&lt;/code&gt; çš„æ—¶å€™å®ƒå°±ä¼šåœ¨åå°å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ç”¨äºä» &lt;code&gt;TaskQueue&lt;/code&gt; é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡è¿›è¡Œè°ƒåº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082800133-1996729584.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082800625-1528801365.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çœ‹ä»–çš„ &lt;code&gt;run()&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082801470-1675600648.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»è¿™æ®µä»£ç ä¸­å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºè¿™ä¸ªçº¿ç¨‹æ˜¯ä¸€ç›´ä¸æ–­çš„åœ¨è°ƒç”¨&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;task = queue.getMin();&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥è·å–ä»»åŠ¡ï¼Œæœ€åä½¿ç”¨ &lt;code&gt;task.run()&lt;/code&gt; æ¥æ‰§è¡Œä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082802451-1699575742.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä» &lt;code&gt;getMin()&lt;/code&gt; æ–¹æ³•ä¸­å¯ä»¥çœ‹å‡ºå’Œæˆ‘ä»¬ä¹‹å‰è¯´çš„ä¸€è‡´ï¼Œæ¯æ¬¡éƒ½æ˜¯å–å‡ºå †é¡¶çš„ä»»åŠ¡æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦å–å‡ºæ¥çš„ä»»åŠ¡æ‰§è¡Œæ—¶é—´æ»¡è¶³è¦æ±‚ä¾¿å¯è¿è¡Œï¼ŒåŒæ—¶éœ€è¦å°†å®ƒä»è¿™ä¸ªæœ€å°å †å®ç°çš„é˜Ÿåˆ—ä¸­åˆ é™¤ï¼›ä¹Ÿå°±æ˜¯è°ƒç”¨çš„ &lt;code&gt;queue.removeMin()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082802933-55618152.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082804899-1488517932.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®å®ƒçš„æ ¸å¿ƒåŸç†å’Œå†™å…¥ä»»åŠ¡ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯æŠŠå †å°¾çš„ä»»åŠ¡æåˆ°å †é¡¶ï¼Œç„¶åå†ä¾æ¬¡æ¯”è¾ƒå°†ä»»åŠ¡å¾€åç§»ï¼Œç›´åˆ°åˆ°è¾¾åˆé€‚çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;ä»åˆšæ‰çš„å†™å…¥å’Œåˆ é™¤ä»»åŠ¡çš„è¿‡ç¨‹ä¸­å…¶å®ä¹Ÿèƒ½çœ‹å‡ºï¼Œè¿™ä¸ªæœ€å°å †åªæ˜¯ç›¸å¯¹æœ‰åºå¹¶ä¸æ˜¯ç»å¯¹çš„æœ‰åºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æºç çœ‹å®Œäº†ï¼Œè‡ªç„¶ä¹Ÿèƒ½å¾—å‡ºå®ƒæ‰€å­˜åœ¨çš„é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åå°è°ƒåº¦ä»»åŠ¡çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å¯¼è‡´ä»»åŠ¡æ˜¯é˜»å¡è¿è¡Œçš„ï¼Œä¸€æ—¦å…¶ä¸­ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå‘¨æœŸè¿‡é•¿å°†ä¼šå½±å“åˆ°å…¶ä»–ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Timer&lt;/code&gt; æœ¬èº«æ²¡æœ‰æ•è·å…¶ä»–å¼‚å¸¸ï¼ˆåªæ•è·äº† &lt;code&gt;InterruptedException&lt;/code&gt;ï¼‰ï¼Œä¸€æ—¦ä»»åŠ¡å‡ºç°å¼‚å¸¸ï¼ˆæ¯”å¦‚ç©ºæŒ‡é’ˆï¼‰å°†å¯¼è‡´åç»­ä»»åŠ¡ä¸ä¼šè¢«æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ—¢ç„¶ &lt;code&gt;Timer&lt;/code&gt; å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œäºæ˜¯åœ¨ &lt;code&gt;JDK1.5&lt;/code&gt; ä¸­çš„å¹¶å‘åŒ…ä¸­æ¨å‡ºäº† &lt;code&gt;ScheduledThreadPoolExecutor&lt;/code&gt; æ¥æ›¿ä»£ &lt;code&gt;Timer&lt;/code&gt;ï¼Œä»å®ƒæ‰€åœ¨åŒ…è·¯å¾„ä¹Ÿèƒ½çœ‹å‡ºå®ƒæœ¬èº«æ˜¯æ”¯æŒä»»åŠ¡å¹¶å‘æ‰§è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹å®ƒçš„ç±»ç»§æ‰¿å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082805962-1604017182.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ä»–æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œç»§æ‰¿äº† &lt;code&gt;ThreadPoolExecutor&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082807023-1337177645.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»ä»–çš„æ„é€ å‡½æ•°ä¸­ä¹Ÿèƒ½çœ‹å‡ºï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œåªæ˜¯è¿™ä¸ªçº¿ç¨‹æ± ä¸­çš„é˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å»¶è¿Ÿé˜Ÿåˆ— &lt;code&gt;DelayedWorkQueue&lt;/code&gt;ï¼ˆä¸ &lt;code&gt;Timer&lt;/code&gt; ä¸­çš„ &lt;code&gt;TaskQueue&lt;/code&gt; ä½œç”¨ä¸€è‡´ï¼‰&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;æ–°å»ºä»»åŠ¡&quot;&gt;æ–°å»ºä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082808028-533537554.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬å†™å…¥ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ—¶ï¼Œé¦–å…ˆä¼šå°†ä»»åŠ¡å†™å…¥åˆ° &lt;code&gt;DelayedWorkQueue&lt;/code&gt; ä¸­ï¼Œå…¶å®è¿™ä¸ªé˜Ÿåˆ—æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä½¿ç”¨æ•°ç»„å®ç°çš„æœ€å°å †ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082808819-1363571261.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ–°å»ºä»»åŠ¡æ—¶æœ€ç»ˆä¼šè°ƒç”¨åˆ° &lt;code&gt;offer()&lt;/code&gt; æ–¹æ³•ï¼Œåœ¨è¿™é‡Œä¹Ÿä¼šä½¿ç”¨ &lt;code&gt;siftUp()&lt;/code&gt; å°†å†™å…¥çš„ä»»åŠ¡ç§»åŠ¨åˆ°å †é¡¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082810170-959047070.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082812432-847306402.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082813674-635466872.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åŸç†å°±å’Œä¹‹å‰çš„ &lt;code&gt;Timer&lt;/code&gt; ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™é‡Œæ˜¯é€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒå™¨æ¥æ’åºçš„ï¼Œå¾ˆæ˜æ˜¾å®ƒæ˜¯é€šè¿‡ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´è¿›è¡Œæ¯”è¾ƒçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¿è¡Œä»»åŠ¡&quot;&gt;è¿è¡Œä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;æ‰€ä»¥è¿™æ ·å°±èƒ½å°†ä»»åŠ¡æŒ‰ç…§æ‰§è¡Œæ—¶é—´çš„é¡ºåºæ’å¥½æ”¾å…¥åˆ°çº¿ç¨‹æ± ä¸­çš„é˜»å¡é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å°±å¾—éœ€è¦å›é¡¾ä¸€ä¸‹ä¹‹å‰çº¿ç¨‹æ± çš„çŸ¥è¯†ç‚¹äº†ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;åœ¨çº¿ç¨‹æ± ä¸­ä¼šåˆ©ç”¨åˆå§‹åŒ–æ—¶å€™çš„åå°çº¿ç¨‹ä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡ï¼Œåªä¸è¿‡åœ¨è¿™é‡Œè¿™ä¸ªé˜»å¡é˜Ÿåˆ—å˜ä¸ºäº† &lt;code&gt;DelayedWorkQueue&lt;/code&gt;ï¼Œæ‰€ä»¥æ¯æ¬¡å–å‡ºæ¥çš„ä¸€å®šæ˜¯æŒ‰ç…§æ‰§è¡Œæ—¶é—´æ’åºåœ¨å‰çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082815932-1540589098.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082817010-765161458.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å’Œ &lt;code&gt;Timer&lt;/code&gt; ç±»ä¼¼ï¼Œè¦åœ¨ä»»åŠ¡å–å‡ºåè°ƒç”¨ &lt;code&gt;finishPoll()&lt;/code&gt; è¿›è¡Œåˆ é™¤ï¼Œä¹Ÿæ˜¯å°†æœ€åä¸€ä¸ªä»»åŠ¡æåˆ°å †é¡¶ï¼Œç„¶åæŒ¨ä¸ªå¯¹æ¯”ç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;è€Œè§¦å‘æ¶ˆè´¹è¿™ä¸ª &lt;code&gt;DelayedWorkQueue&lt;/code&gt; é˜Ÿåˆ—çš„åœ°æ–¹åˆ™æ˜¯åœ¨å†™å…¥ä»»åŠ¡çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082817571-1617430740.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082818238-730883553.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨ &lt;code&gt;ThreadPoolExecutor&lt;/code&gt; çš„ &lt;code&gt;addWorker()&lt;/code&gt; æ¥å†™å…¥ä»»åŠ¡çš„ï¼Œæ‰€ä»¥æ¶ˆè´¹ &lt;code&gt;DelayedWorkQueue&lt;/code&gt; ä¹Ÿæ˜¯åœ¨å…¶ä¸­è§¦å‘çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ›´å¤šçš„æ˜¯å…³äºçº¿ç¨‹æ± çš„çŸ¥è¯†ç‚¹ï¼Œä¸å¤ªæ¸…æ¥šçš„å¯ä»¥å…ˆçœ‹çœ‹ä¹‹å‰æ€»ç»“çš„çº¿ç¨‹æ± ç¯‡ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;p&gt;åŸç†çœ‹å®Œäº†æƒ³å¿…ä¹ŸçŸ¥é“å’Œ &lt;code&gt;Timer&lt;/code&gt; çš„ä¼˜åŠ¿åœ¨å“ªå„¿äº†ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;å•çº¿ç¨‹é˜»å¡&lt;/td&gt;
&lt;td&gt;å¤šçº¿ç¨‹ä»»åŠ¡äº’ä¸å½±å“&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;å¼‚å¸¸æ—¶ä»»åŠ¡åœæ­¢&lt;/td&gt;
&lt;td&gt;ä¾èµ–äºçº¿ç¨‹æ± ï¼Œå•ä¸ªä»»åŠ¡å‡ºç°å¼‚å¸¸ä¸å½±å“å…¶ä»–ä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æ‰€ä»¥æœ‰å®šæ—¶ä»»åŠ¡çš„éœ€æ±‚æ—¶å¾ˆæ˜æ˜¾åº”å½“æ·˜æ±° &lt;code&gt;Timer&lt;/code&gt; äº†ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åä¸€ä¸ªæ˜¯åŸºäºæ—¶é—´è½®çš„å®šæ—¶ä»»åŠ¡ï¼Œè¿™ä¸ªæˆ‘åœ¨ä¸Šä¸€ç¯‡&lt;a href=&quot;https://crossoverjie.top/2019/09/27/algorithm/time%20wheel/&quot;&gt;ã€Šå»¶æ—¶æ¶ˆæ¯ä¹‹æ—¶é—´è½®ã€‹&lt;/a&gt;æœ‰è¿‡è¯¦ç»†ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡æºç åˆ†ææˆ‘ä»¬ä¹Ÿå¯ä»¥æ¥åšä¸€ä¸ªå¯¹æ¯”ï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;4&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;4&quot;&gt;&lt;td&gt;å†™å…¥æ•ˆç‡&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082759622-1703409431.jpg&quot;/&gt;åŸºäºæœ€å°å †ï¼Œä»»åŠ¡è¶Šå¤šæ•ˆç‡è¶Šä½&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082755044-777848992.jpg&quot;/&gt; ä¸ &lt;code&gt;HashMap&lt;/code&gt; çš„å†™å…¥ç±»ä¼¼ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;4&quot;&gt;&lt;td&gt;æ‰§è¡Œæ•ˆç‡&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082755044-777848992.jpg&quot;/&gt; æ¯æ¬¡å–å‡ºç¬¬ä¸€ä¸ªï¼Œæ•ˆç‡å¾ˆé«˜&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082755044-777848992.jpg&quot;/&gt; æ¯ç§’æ‹¨åŠ¨ä¸€ä¸ªæŒ‡é’ˆå–å‡ºä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;æ‰€ä»¥å½“å†™å…¥çš„ä»»åŠ¡è¾ƒå¤šæ—¶ï¼Œæ¨èä½¿ç”¨æ—¶é—´è½®ï¼Œå®ƒçš„å†™å…¥æ•ˆç‡æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä»»åŠ¡å¾ˆå°‘æ—¶å…¶å® &lt;code&gt;ScheduledThreadPoolExecutor&lt;/code&gt; ä¹Ÿä¸é”™ï¼Œæ¯•ç«Ÿå®ƒä¸ä¼šæ¯ç§’éƒ½å»æ‹¨åŠ¨æŒ‡é’ˆæ¶ˆè€— &lt;code&gt;CPU&lt;/code&gt; ï¼Œè€Œæ˜¯ä¸€æ—¦æ²¡æœ‰ä»»åŠ¡çº¿ç¨‹ä¼šé˜»å¡ç›´åˆ°æœ‰æ–°çš„ä»»åŠ¡å†™å…¥è¿›æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ringbufferwheel-æ›´æ–°&quot;&gt;RingBufferWheel æ›´æ–°&lt;/h2&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„&lt;a href=&quot;https://crossoverjie.top/2019/09/27/algorithm/time%20wheel/&quot;&gt;ã€Šå»¶æ—¶æ¶ˆæ¯ä¹‹æ—¶é—´è½®ã€‹&lt;/a&gt;ä¸­è‡ªå®šä¹‰äº†ä¸€ä¸ªåŸºäºæ—¶é—´è½®çš„å®šæ—¶ä»»åŠ¡å·¥å…· &lt;code&gt;RingBufferWheel&lt;/code&gt; ï¼Œåœ¨ç½‘å‹çš„å»ºè®®ä¸‹è¿™æ¬¡é¡ºä¾¿ä¹Ÿåšäº†ä¸€äº›è°ƒæ•´ï¼Œä¼˜åŒ–äº† API ä¹Ÿæ–°å¢äº†å–æ¶ˆä»»åŠ¡çš„ APIã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082819928-545902533.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„ API ä¸­ï¼Œæ¯å½“æ–°å¢ä¸€ä¸ªä»»åŠ¡éƒ½è¦è°ƒç”¨ä¸€ä¸‹ &lt;code&gt;start()&lt;/code&gt;ï¼Œæ„Ÿè§‰å¾ˆæ€ªå¼‚ï¼›è¿™æ¬¡ç›´æ¥å°†å¯åŠ¨å‡½æ•°åˆå¹¶åˆ° &lt;code&gt;addTask&lt;/code&gt; ä¸­ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ åˆç†ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä»»åŠ¡çš„å†™å…¥ä¹Ÿæ”¯æŒå¹¶å‘äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082822137-727852902.jpg&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082823486-583881832.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ &lt;code&gt;start()&lt;/code&gt; åœ¨å¹¶å‘æ‰§è¡Œçš„æ—¶å€™åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œäºæ˜¯å°±åˆ©ç”¨äº† &lt;code&gt;CAS&lt;/code&gt; æ¥ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡ŒæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶åœ¨æ–°å¢ä»»åŠ¡çš„æ—¶å€™ä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;taskId&lt;/code&gt; ï¼Œåˆ©ç”¨æ­¤ ID ä¾¿å¯å®ç°å–æ¶ˆä»»åŠ¡çš„éœ€æ±‚ï¼ˆè™½ç„¶æ˜¯æ¯”è¾ƒå°‘è§ï¼‰ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1431471/201910/1431471-20191014082825575-959107025.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹ä¸‹æºç ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åå†æ‰©å±•ä¸€ä¸‹ï¼Œä¸Šæ–‡æˆ‘ä»¬æ‰€æåˆ°çš„æ‰€æœ‰æ–¹æ¡ˆéƒ½æ˜¯å•æœºç‰ˆçš„ï¼Œåªèƒ½åœ¨å•ä¸ªè¿›ç¨‹ä¸­ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬éœ€è¦åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹å®ç°å®šæ—¶ä»»åŠ¡çš„é«˜å¯ç”¨ã€å¯ç»´æŠ¤ä¹‹ç±»çš„éœ€æ±‚å°±å¾—éœ€è¦ä¸€ä¸ªå®Œå–„çš„åˆ†å¸ƒå¼è°ƒåº¦å¹³å°çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰å¸‚é¢ä¸Šæµè¡Œçš„å¼€æºè§£å†³æ–¹æ¡ˆä¹Ÿä¸å°‘ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸ªäººåœ¨å·¥ä½œä¸­åªä½¿ç”¨è¿‡å‰é¢ä¸¤è€…ï¼Œéƒ½èƒ½å¾ˆå¥½çš„è§£å†³åˆ†å¸ƒå¼è°ƒåº¦çš„éœ€æ±‚ï¼›æ¯”å¦‚é«˜å¯ç”¨ã€ç»Ÿä¸€ç®¡ç†ã€æ—¥å¿—æŠ¥è­¦ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿™äº›å¼€æºå·¥å…·å…¶å®åœ¨å®šæ—¶è°ƒåº¦è¿™ä¸ªåŠŸèƒ½ä¸Šå’Œä¸Šæ–‡ä¸­æ‰€æåˆ°çš„ä¸€äº›æ–¹æ¡ˆæ˜¯åˆ†ä¸å¼€çš„ï¼Œåªæ˜¯éœ€è¦ç»“åˆä¸€äº›åˆ†å¸ƒå¼ç›¸å…³çš„çŸ¥è¯†ï¼›æ¯”è¿œç¨‹è°ƒç”¨ã€ç»Ÿä¸€åè°ƒã€åˆ†å¸ƒå¼é”ã€è´Ÿè½½å‡è¡¡ä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ä¸‹ä»–ä»¬çš„æºç æˆ–å®˜æ–¹æ–‡æ¡£ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªå°å°çš„å®šæ—¶å™¨å…¶å®æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿˜ä¸å°‘ï¼ŒåŒ…æ‹¬æ•°æ®ç»“æ„ã€å¤šçº¿ç¨‹ç­‰ï¼Œå¸Œæœ›å¤§å®¶çœ‹å®Œå¤šå°‘æœ‰äº›å¸®åŠ©ï¼Œé¡ºä¾¿å¸®å¿™ç‚¹èµè½¬å‘æèµ·ğŸ¥³ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ‰€æ¶‰åŠåˆ°çš„æ‰€æœ‰æºç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/crossoverJie/cim&quot; class=&quot;uri&quot;&gt;https://github.com/crossoverJie/cim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½ çš„ç‚¹èµä¸åˆ†äº«æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒ&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 14 Oct 2019 00:28:00 +0000</pubDate>
<dc:creator>crossoverJie</dc:creator>
<og:description>åŸæ–‡åœ°å€ï¼š 'https://crossoverjie.top' å‰è¨€ èŠ‚å‰æœ‰æ›´æ–°ä¸€ç¯‡å®šæ—¶ä»»åŠ¡çš„ç›¸å…³æ–‡ç«  'ã€Šå»¶æ—¶æ¶ˆæ¯ä¹‹æ—¶é—´è½®ã€‹' ï¼Œæœ‰æœ‹å‹æå‡ºå¸Œæœ›å¯ä»¥å®Œæ•´çš„ä»‹ç»ä¸‹å¸¸è§çš„å®šæ—¶ä»»åŠ¡æ–¹æ¡ˆï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/crossoverJie/p/11669468.html</dc:identifier>
</item>
<item>
<title>[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Docker - Artech</title>
<link>http://www.cnblogs.com/artech/p/inside-asp-net-core-01-06.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/artech/p/inside-asp-net-core-01-06.html</guid>
<description>&lt;p&gt;å¯¹äºä¸€ä¸ª .NET Coreå¼€å‘äººå‘˜ï¼Œä½ å¯èƒ½æ²¡æœ‰ä½¿ç”¨è¿‡Dockerï¼Œä½†æ˜¯ä½ ä¸å¯èƒ½æ²¡æœ‰å¬è¯´è¿‡Dockerã€‚Dockeræ˜¯Githubä¸Šæœ€å—æ¬¢è¿çš„å¼€æºé¡¹ç›®ä¹‹ä¸€ï¼Œå®ƒå·ç§°è¦æˆä¸ºæ‰€æœ‰äº‘åº”ç”¨çš„åŸºçŸ³ï¼Œå¹¶æŠŠäº’è”ç½‘å‡çº§åˆ°ä¸‹ä¸€ä»£ã€‚Dockeræ˜¯dotCloudå…¬å¸å¼€æºçš„ä¸€æ¬¾äº§å“ï¼Œä»å…¶è¯ç”Ÿé‚£ä¸€åˆ»ç®—èµ·ï¼Œåœ¨çŸ­çŸ­ä¸¤ä¸‰å¹´æ—¶é—´é‡Œå°±æˆä¸ºäº†å¼€æºç¤¾åŒºæœ€ç«çˆ†çš„é¡¹ç›®ã€‚å¯¹äºå®Œå…¨æ‹¥æŠ±å¼€æºçš„.NET Coreæ¥è¯´ï¼Œå®ƒè‡ªç„¶åº”è¯¥å¯¹Dockeræä¾›å®Œç¾çš„æ”¯æŒã€‚å¯¹äºæ¥ä¸‹æ¥çš„å†…å®¹ï¼Œæˆ‘ä»¬å‡è®¾ä½ å·²ç»å¯¹Dockeræœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œå¹¶ä¸”åœ¨ä½ çš„æœºå™¨ä¸Šï¼ˆWindowsï¼‰ä¸Šå·²ç»å®‰è£…äº†Dockerã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªASP.NET Coreç¨‹åºå¹¶å°†å…¶ç¼–è¯‘æˆDockeré•œåƒï¼Œå¹¶Dockerç¯å¢ƒé’ˆå¯¹è¯¥é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨æ¥å¯åŠ¨ä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚ç®€å•èµ·è§ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç›´æ¥é‡‡ç”¨è„šæ‰‹æ¶å‘½ä»¤è¡Œçš„å½¢å¼æ¥åˆ›å»ºè¿™ä¸ªASP.NET Coreåº”ç”¨ã€‚å¦‚ä¸‹å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬æ‰§è¡Œ&lt;strong&gt;dotnet new web&lt;/strong&gt;å‘½ä»¤åœ¨â€œd:\projects\helloworldâ€ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„ASP.NET Coreåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082727442-2022590195.png&quot;&gt;&lt;img width=&quot;601&quot; height=&quot;316&quot; title=&quot;1-23&quot; alt=&quot;1-23&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082727804-1834914274.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ç°åœ¨éœ€è¦å°†è¿™ä¸ªASP.NET Coreåº”ç”¨åˆ¶ä½œæˆä¸€ä¸ªDockeré•œåƒï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª&lt;strong&gt;Dockerfile&lt;/strong&gt;æ–‡ä»¶ï¼ˆæ–‡ä»¶åå°±æ˜¯Dokerfileï¼Œæ²¡æœ‰æ‰©å±•åï¼‰ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶ä¸­å®šä¹‰å¦‚ä¸‹çš„å†…å®¹ã€‚å¦‚æœæˆ‘ä»¬å¯¹Dockerfileå…·æœ‰åŸºæœ¬çš„äº†è§£ï¼Œå¯¹äºè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹åº”è¯¥ä¸éš¾ç†è§£ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
# 1&lt;span&gt;. æŒ‡å®šç¼–è¯‘å’Œå‘å¸ƒåº”ç”¨çš„é•œåƒ
FROM mcr.microsoft.com/dotnet/core/sdk:&lt;/span&gt;3.0&lt;span&gt; AS build

# &lt;/span&gt;2&lt;span&gt;. æŒ‡å®šï¼ˆç¼–è¯‘å’Œå‘å¸ƒï¼‰å·¥ä½œç›®å½•
WORKDIR /app

# &lt;/span&gt;3&lt;span&gt;. æ‹·è´.csprojåˆ°å·¥ä½œç›®å½•/appï¼Œç„¶åæ‰§è¡Œdotnet restoreæ¢å¤æ‰€æœ‰å®‰è£…çš„NuGetåŒ…
COPY *.csproj ./
RUN dotnet restore

# &lt;/span&gt;4&lt;span&gt;. æ‹·è´æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œç›®å½•(/app)ï¼Œç„¶åæ‰§è¡Œdotnet publishå‘½ä»¤å°†åº”ç”¨å‘å¸ƒåˆ°/app/outç›®å½•ä¸‹
COPY . ./
RUN dotnet publish -c Release -o out

# &lt;/span&gt;5&lt;span&gt;. ç¼–è¯‘ç”ŸæˆDockeré•œåƒ
# &lt;/span&gt;5.1&lt;span&gt;.è®¾ç½®åŸºç¡€é•œåƒ
FROM mcr.microsoft.com/dotnet/core/aspnet:&lt;/span&gt;3.0&lt;span&gt; AS runtime

# &lt;/span&gt;5.2&lt;span&gt;. è®¾ç½®ï¼ˆè¿è¡Œï¼‰å·¥ä½œç›®å½•ï¼Œå¹¶å°†å‘å¸ƒæ–‡ä»¶æ‹·è´åˆ°outå­ç›®å½•ä¸‹
WORKDIR /app
COPY --from&lt;/span&gt;=&lt;span&gt; build /app/out .

# &lt;/span&gt;5.3&lt;span&gt;. åˆ©ç”¨ç¯å¢ƒå˜é‡è®¾ç½®ASP.NET Coreåº”ç”¨çš„ç›‘å¬åœ°å€
ENV ASPNETCORE_URLS http://&lt;/span&gt;0.0.0.0:3721&lt;span&gt;

# &lt;/span&gt;5.4&lt;span&gt;. æ‰§è¡Œdotnetå‘½ä»¤å¯åŠ¨ASP.NET Coreåº”ç”¨
ENTRYPOINT &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;&quot;dotnet&quot;, &quot;helloworld.dll&quot;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ä¸ªDockerfileé‡‡ç”¨äº†ä¸€ä¸ªä¸­é—´å±‚ï¼ˆbuildï¼‰æ¥æš‚å­˜ASP.NET Core MVCåº”ç”¨å‘å¸ƒåçš„èµ„æºï¼Œå…¶å·¥ä½œç›®å½•ä¸ºâ€œ/appâ€ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªå±‚é‡‡ç”¨â€œ&lt;strong&gt;microsoft/aspnetcore-build:2&lt;/strong&gt;â€ä½œä¸ºåŸºç¡€é•œåƒï¼Œæˆ‘ä»¬å…ˆå°†å®šä¹‰é¡¹ç›®çš„.csprojæ–‡ä»¶ï¼ˆhelloworld.csprojï¼‰æ‹·è´åˆ°å½“å‰å·¥ä½œç›®å½•ï¼Œç„¶åè¿è¡Œâ€œdotnet restoreâ€å‘½ä»¤æ¢å¤æ‰€æœ‰æ³¨å†Œåœ¨è¿™ä¸ªé¡¹ç›®æ–‡ä»¶ä¸­çš„NuGetåŒ…ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†å½“å‰é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°å½“å‰å·¥ä½œç›®å½•ï¼Œå¹¶æ‰§è¡Œdotnet publishå¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œç¼–è¯‘å‘å¸ƒï¼ˆé’ˆå¯¹Releaseæ¨¡å¼ï¼‰ï¼Œå‘å¸ƒåçš„èµ„æºè¢«ä¿å­˜åˆ°ç›®å½•â€œ/app/outâ€ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨çœŸæ­£å°†ç¼–è¯‘ç”ŸæˆDockeré•œåƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡‡ç”¨â€œ&lt;strong&gt;mcr.microsoft.com/dotnet/core/aspnet:3.0&lt;/strong&gt;â€ä½œä¸ºåŸºç¡€é•œåƒï¼Œç”±äºåº”ç”¨åœ¨ä¸Šé¢è¿›è¡Œäº†é¢„å…ˆå‘å¸ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†å‘å¸ƒåçš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°å½“å‰å·¥ä½œç›®å½•å°±å¯ä»¥äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®äº†ASP.NET Coreåº”ç”¨çš„ç›‘å¬åœ°å€ï¼ˆhttp://0.0.0.0:3721ï¼‰ã€‚é’ˆå¯¹ENTRYPOINTçš„å®šä¹‰ï¼ˆENTRYPOINT [&quot;dotnet&quot;, &quot;helloworld.dll&quot;]ï¼‰ï¼Œæˆ‘ä»¬çŸ¥é“å½“å®¹å™¨è¢«å¯åŠ¨çš„æ—¶å€™ï¼Œâ€œdotnet helloworld.dllâ€å‘½ä»¤ä¼šè¢«æ‰§è¡Œä»¥å¯åŠ¨è¿™ä¸ªASP.NET Coreåº”ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;Dockerfileæ–‡ä»¶å®šä¹‰å¥½ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€CMDå‘½ä»¤è¡Œå¹¶åˆ‡æ¢åˆ°é¡¹ç›®æ‰€åœ¨æ ¹ç›®å½•ï¼ˆä¹Ÿå°±æ˜¯Dockerfileæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼‰ï¼Œç„¶åæ‰§è¡Œâ€œdocker build -t helloworldapp .â€å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šåˆ©ç”¨è¿™ä¸ªDockerfileæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªå‘½åä¸ºhelloworldappâ€çš„Dockeré•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082728209-1158666669.png&quot;&gt;&lt;img width=&quot;790&quot; height=&quot;902&quot; title=&quot;1-24&quot; alt=&quot;1-24&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082728771-1614378973.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ—¢ç„¶Dockeré•œåƒå·²ç»è¢«æˆåŠŸåˆ›å»ºå‡ºæ¥äº†ï¼Œé‚£ä¹ˆä½™ä¸‹çš„å·¥ä½œå°±å¾ˆç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦é’ˆå¯¹è¿™ä¸ªé•œåƒåˆ›å»ºå¯¹åº”çš„å®¹å™¨ï¼Œæœ€ç»ˆçš„ASP.NET Coreåº”ç”¨çš„å¯åŠ¨å°±å¯ä»¥ç›´æ¥é€šè¿‡å¯åŠ¨è¯¥å®¹å™¨æ¥å®Œæˆã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æ‰§è¡Œâ€œ&lt;strong&gt;docker run -d -p 8080:3721 --name myapp helloworldapp&lt;/strong&gt;â€å‘½ä»¤é’ˆå¯¹å‰é¢ç”Ÿæˆçš„Dockeré•œåƒï¼ˆhelloworldappï¼‰åˆ›å»ºå¹¶å¯åŠ¨äº†ä¸€ä¸ªå‘½åä¸ºmyappï¼ˆ--name myappï¼‰çš„å®¹å™¨ã€‚ç”±äºæˆ‘ä»¬ä»å¤–é¢è®¿é—®è¿™ä¸ªåº”ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ç«¯å£æ˜ å°„ï¼ˆ-p 8080:3721ï¼‰å°†å†…éƒ¨ç›‘å¬ç«¯å£3721æ˜ å°„ä¸ºå½“å‰å®¿ä¸»æœºå™¨çš„ç«¯å£8080ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨åœ°å€â€œhttp://localhost:8080â€è®¿é—®è¿™ä¸ªé€šè¿‡Dockerå®¹å™¨æ‰¿è½½çš„ASP.NET Coreåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082729159-1871546107.png&quot;&gt;&lt;img width=&quot;515&quot; height=&quot;251&quot; title=&quot;1-25&quot; alt=&quot;1-25&quot; src=&quot;https://img2018.cnblogs.com/blog/19327/201910/19327-20191014082729417-1698492428.png&quot; border=&quot;0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-01-01.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Windows [ä¸Šç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-01-02.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Windows [ä¸­ç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-01-03.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Windows [ä¸‹ç¯‡]&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-01-04.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Mac OS&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-01-05.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Linux&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/artech/p/inside-asp-net-core-061.html&quot;&gt;[ASP.NET Core 3æ¡†æ¶æ­ç§˜] è·¨å¹³å°å¼€å‘ä½“éªŒ: Docker&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 14 Oct 2019 00:27:00 +0000</pubDate>
<dc:creator>Artech</dc:creator>
<og:description>å¯¹äºä¸€ä¸ª .NET Coreå¼€å‘äººå‘˜ï¼Œä½ å¯èƒ½æ²¡æœ‰ä½¿ç”¨è¿‡Dockerï¼Œä½†æ˜¯ä½ ä¸å¯èƒ½æ²¡æœ‰å¬è¯´è¿‡Dockerã€‚Dockeræ˜¯Githubä¸Šæœ€å—æ¬¢è¿çš„å¼€æºé¡¹ç›®ä¹‹ä¸€ï¼Œå®ƒå·ç§°è¦æˆä¸ºæ‰€æœ‰äº‘åº”ç”¨çš„åŸºçŸ³ï¼Œå¹¶æŠŠäº’è”ç½‘å‡çº§</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/artech/p/inside-asp-net-core-01-06.html</dc:identifier>
</item>
<item>
<title>TensorFlow2.0ï¼ˆå…­ï¼‰ï¼šDataset - å¥¥è¾°</title>
<link>http://www.cnblogs.com/chenhuabin/p/11669452.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/chenhuabin/p/11669452.html</guid>
<description>&lt;pre&gt;
(&amp;lt;tf.Tensor: id=250, shape=(4, 3), dtype=int32, numpy=
array([[81, 53, 85],
       [13,  7, 25],
       [83, 25, 55],
       [53, 41, 11]], dtype=int32)&amp;gt;, &amp;lt;tf.Tensor: id=251, shape=(4,), dtype=int32, numpy=array([0, 1, 2, 3], dtype=int32)&amp;gt;)
(&amp;lt;tf.Tensor: id=252, shape=(4, 3), dtype=int32, numpy=
array([[41, 58, 39],
       [44, 68, 55],
       [52, 34, 22],
       [66, 39,  5]], dtype=int32)&amp;gt;, &amp;lt;tf.Tensor: id=253, shape=(4,), dtype=int32, numpy=array([4, 5, 6, 7], dtype=int32)&amp;gt;)
(&amp;lt;tf.Tensor: id=254, shape=(2, 3), dtype=int32, numpy=
array([[73,  8, 20],
       [67, 71, 98]], dtype=int32)&amp;gt;, &amp;lt;tf.Tensor: id=255, shape=(2,), dtype=int32, numpy=array([8, 9], dtype=int32)&amp;gt;)
&lt;/pre&gt;</description>
<pubDate>Mon, 14 Oct 2019 00:13:00 +0000</pubDate>
<dc:creator>å¥¥è¾°</dc:creator>
<og:description>åœ¨æ•´ä¸ªæœºå™¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé™¤äº†è®­ç»ƒæ¨¡å‹å¤–ï¼Œåº”è¯¥å°±å±æ•°æ®é¢„å¤„ç†è¿‡ç¨‹æ¶ˆè€—çš„ç²¾åŠ›æœ€å¤šï¼Œæ•°æ®é¢„å¤„ç†è¿‡ç¨‹éœ€è¦å®Œæˆçš„ä»»åŠ¡åŒ…æ‹¬æ•°æ®è¯»å–ã€è¿‡æ»¤ã€è½¬æ¢ç­‰ç­‰ã€‚ä¸ºäº†å°†ç”¨æˆ·ä»ç¹æ‚çš„é¢„å¤„ç†æ“ä½œä¸­è§£æ”¾å¤„ç†ï¼Œæ›´å¤šåœ°å°†ç²¾åŠ›æ”¾åœ¨ç®—æ³•å»ºæ¨¡ä¸Š</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/chenhuabin/p/11669452.html</dc:identifier>
</item>
<item>
<title>Springä½¿ç”¨ThreadPoolTaskExecutorè‡ªå®šä¹‰çº¿ç¨‹æ± åŠå®ç°å¼‚æ­¥è°ƒç”¨ - CREATE_17</title>
<link>http://www.cnblogs.com/createboke/p/11669241.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/createboke/p/11669241.html</guid>
<description>&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;å¤šçº¿ç¨‹ä¸€ç›´æ˜¯å·¥ä½œæˆ–é¢è¯•è¿‡ç¨‹ä¸­çš„é«˜é¢‘çŸ¥è¯†ç‚¹ï¼Œä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ä½¿ç”¨ ThreadPoolTaskExecutor æ¥è‡ªå®šä¹‰çº¿ç¨‹æ± å’Œå®ç°å¼‚æ­¥è°ƒç”¨å¤šçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸€threadpooltaskexecutor&quot;&gt;ä¸€ã€ThreadPoolTaskExecutor&lt;/h3&gt;
&lt;p&gt;æœ¬æ–‡é‡‡ç”¨ Executors çš„å·¥å‚æ–¹æ³•è¿›è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å°†çº¿ç¨‹æ± ç”¨åˆ°çš„å‚æ•°å®šä¹‰åˆ°é…ç½®æ–‡ä»¶ä¸­&quot;&gt;1ã€å°†çº¿ç¨‹æ± ç”¨åˆ°çš„å‚æ•°å®šä¹‰åˆ°é…ç½®æ–‡ä»¶ä¸­&lt;/h4&gt;
&lt;p&gt;åœ¨é¡¹ç›®çš„ resources ç›®å½•ä¸‹åˆ›å»º executor.properties æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;pre class=&quot;properties&quot;&gt;
&lt;code&gt;# å¼‚æ­¥çº¿ç¨‹é…ç½®
# æ ¸å¿ƒçº¿ç¨‹æ•°
async.executor.thread.core_pool_size=5
# æœ€å¤§çº¿ç¨‹æ•°
async.executor.thread.max_pool_size=8
# ä»»åŠ¡é˜Ÿåˆ—å¤§å°
async.executor.thread.queue_capacity=2
# çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„åç§°å‰ç¼€
async.executor.thread.name.prefix=async-service-
# ç¼“å†²é˜Ÿåˆ—ä¸­çº¿ç¨‹çš„ç©ºé—²æ—¶é—´
async.executor.thread.keep_alive_seconds=100&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;executors-çš„å·¥å‚é…ç½®&quot;&gt;2ã€Executors çš„å·¥å‚é…ç½®&lt;/h4&gt;
&lt;h5 id=&quot;é…ç½®è¯¦æƒ…&quot;&gt;2.1ã€é…ç½®è¯¦æƒ…&lt;/h5&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Configuration
// @PropertySourceæ˜¯æ‰¾çš„targetç›®å½•ä¸‹classesç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œresourcesç›®å½•ä¸‹çš„æ–‡ä»¶ç¼–è¯‘åä¼šç”Ÿæˆåœ¨classesç›®å½•
@PropertySource(value = {&quot;classpath:executor.properties&quot;}, ignoreResourceNotFound=false, encoding=&quot;UTF-8&quot;)
@Slf4j
public class ExecutorConfig {

    @Value(&quot;${async.executor.thread.core_pool_size}&quot;)
    private int corePoolSize;
    @Value(&quot;${async.executor.thread.max_pool_size}&quot;)
    private int maxPoolSize;
    @Value(&quot;${async.executor.thread.queue_capacity}&quot;)
    private int queueCapacity;
    @Value(&quot;${async.executor.thread.name.prefix}&quot;)
    private String namePrefix;
    @Value(&quot;${async.executor.thread.keep_alive_seconds}&quot;)
    private int keepAliveSeconds;

    @Bean(name = &quot;asyncTaskExecutor&quot;)
    public ThreadPoolTaskExecutor taskExecutor() {
        log.info(&quot;å¯åŠ¨&quot;);
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        // æ ¸å¿ƒçº¿ç¨‹æ•°
        executor.setCorePoolSize(corePoolSize);
        // æœ€å¤§çº¿ç¨‹æ•°
        executor.setMaxPoolSize(maxPoolSize);
        // ä»»åŠ¡é˜Ÿåˆ—å¤§å°
        executor.setQueueCapacity(queueCapacity);
        // çº¿ç¨‹å‰ç¼€å
        executor.setThreadNamePrefix(namePrefix);
        // çº¿ç¨‹çš„ç©ºé—²æ—¶é—´
        executor.setKeepAliveSeconds(keepAliveSeconds);
        // æ‹’ç»ç­–ç•¥
        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());
        // çº¿ç¨‹åˆå§‹åŒ–
        executor.initialize();
        return executor;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;æ³¨è§£è¯´æ˜&quot;&gt;2.2ã€æ³¨è§£è¯´æ˜&lt;/h5&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;@Configurationï¼š&lt;/strong&gt;Spring å®¹å™¨åœ¨å¯åŠ¨æ—¶ï¼Œä¼šåŠ è½½å¸¦æœ‰ @Configuration æ³¨è§£çš„ç±»ï¼Œå¯¹å…¶ä¸­å¸¦æœ‰ @Bean æ³¨è§£çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@Beanï¼š&lt;/strong&gt;æ˜¯ä¸€ä¸ªæ–¹æ³•çº§åˆ«ä¸Šçš„æ³¨è§£ï¼Œä¸»è¦ç”¨åœ¨ @Configuration æ³¨è§£çš„ç±»é‡Œï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ @Component æ³¨è§£çš„ç±»é‡Œã€‚æ·»åŠ çš„ bean çš„ id ä¸ºæ–¹æ³•åã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@PropertySourceï¼š&lt;/strong&gt;åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ã€‚value å€¼ä¸ºè¦åŠ è½½çš„é…ç½®æ–‡ä»¶ï¼ŒignoreResourceNotFound æ„æ€æ˜¯å¦‚æœåŠ è½½çš„æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œç¨‹åºæ˜¯å¦å¿½ç•¥å®ƒã€‚é»˜è®¤ä¸º false ã€‚å¦‚æœä¸º true ï¼Œåˆ™ä»£è¡¨åŠ è½½çš„é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¨‹åºä¸æŠ¥é”™ã€‚åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ€å¥½è®¾ç½®ä¸º false ã€‚&lt;strong&gt;å¦‚æœ application.properties æ–‡ä»¶ä¸­çš„å±æ€§ä¸è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§é‡å¤ï¼Œåˆ™è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼è¢«è¦†ç›–ï¼ŒåŠ è½½çš„æ˜¯ application.properties æ–‡ä»¶ä¸­çš„é…ç½®å±æ€§ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@Slf4jï¼š&lt;/strong&gt;lombok çš„æ—¥å¿—è¾“å‡ºå·¥å…·ï¼ŒåŠ ä¸Šæ­¤æ³¨è§£åï¼Œå¯ç›´æ¥è°ƒç”¨ log è¾“å‡ºå„ä¸ªçº§åˆ«çš„æ—¥å¿—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@Valueï¼š&lt;/strong&gt;è°ƒç”¨é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å¹¶ç»™å±æ€§èµ‹äºˆå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h5 id=&quot;çº¿ç¨‹æ± é…ç½®è¯´æ˜&quot;&gt;2.3ã€çº¿ç¨‹æ± é…ç½®è¯´æ˜&lt;/h5&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š&lt;/strong&gt;çº¿ç¨‹æ± åˆ›å»ºæ—¶å€™åˆå§‹åŒ–çš„çº¿ç¨‹æ•°ã€‚å½“çº¿ç¨‹æ•°è¶…è¿‡æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™è¶…è¿‡çš„çº¿ç¨‹åˆ™è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€å¤§çº¿ç¨‹æ•°ï¼š&lt;/strong&gt;åªæœ‰åœ¨ä»»åŠ¡é˜Ÿåˆ—æ»¡äº†ä¹‹åæ‰ä¼šç”³è¯·è¶…è¿‡æ ¸å¿ƒçº¿ç¨‹æ•°çš„çº¿ç¨‹ã€‚ä¸èƒ½å°äºæ ¸å¿ƒçº¿ç¨‹æ•°ã€‚&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;strong&gt;ä»»åŠ¡é˜Ÿåˆ—ï¼š&lt;/strong&gt;çº¿ç¨‹æ•°å¤§äºæ ¸å¿ƒçº¿ç¨‹æ•°çš„éƒ¨åˆ†è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚å¦‚æœä»»åŠ¡é˜Ÿåˆ—è¶³å¤Ÿå¤§ï¼Œè¶…å‡ºæ ¸å¿ƒçº¿ç¨‹æ•°çš„çº¿ç¨‹ä¸ä¼šè¢«åˆ›å»ºï¼Œå®ƒä¼šç­‰å¾…æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œå®Œå®ƒä»¬è‡ªå·±çš„ä»»åŠ¡åå†æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œè€Œä¸ä¼šå†é¢å¤–åœ°åˆ›å»ºçº¿ç¨‹ã€‚&lt;strong&gt;ä¸¾ä¾‹ï¼š&lt;/strong&gt;å¦‚æœæœ‰20ä¸ªä»»åŠ¡è¦æ‰§è¡Œï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°ï¼š10ï¼Œæœ€å¤§çº¿ç¨‹æ•°ï¼š20ï¼Œä»»åŠ¡é˜Ÿåˆ—å¤§å°ï¼š2ã€‚åˆ™ç³»ç»Ÿä¼šåˆ›å»º18ä¸ªçº¿ç¨‹ã€‚è¿™18ä¸ªçº¿ç¨‹æœ‰æ‰§è¡Œå®Œä»»åŠ¡çš„ï¼Œå†æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹çš„ç©ºé—²æ—¶é—´ï¼š&lt;/strong&gt;å½“ çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ å¤§äº æ ¸å¿ƒçº¿ç¨‹æ•° æ—¶ï¼Œå¦‚æœæŸçº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡ keepAliveTime ï¼Œçº¿ç¨‹å°†è¢«ç»ˆæ­¢ã€‚è¿™æ ·ï¼Œçº¿ç¨‹æ± å¯ä»¥åŠ¨æ€çš„è°ƒæ•´æ± ä¸­çš„çº¿ç¨‹æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹’ç»ç­–ç•¥ï¼š&lt;/strong&gt;å¦‚æœï¼ˆæ€»ä»»åŠ¡æ•° - æ ¸å¿ƒçº¿ç¨‹æ•° - ä»»åŠ¡é˜Ÿåˆ—æ•°ï¼‰-ï¼ˆæœ€å¤§çº¿ç¨‹æ•° - æ ¸å¿ƒçº¿ç¨‹æ•°ï¼‰&amp;gt; 0 çš„è¯ï¼Œåˆ™ä¼šå‡ºç°çº¿ç¨‹æ‹’ç»ã€‚ä¸¾ä¾‹ï¼š( 12 - 5 - 2 ) - ( 8 - 5 ) &amp;gt; 0ï¼Œä¼šå‡ºç°çº¿ç¨‹æ‹’ç»ã€‚çº¿ç¨‹æ‹’ç»åˆåˆ†ä¸º 4 ç§ç­–ç•¥ï¼Œåˆ†åˆ«ä¸ºï¼š
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;CallerRunsPolicy()ï¼š&lt;/strong&gt;äº¤ç”±è°ƒç”¨æ–¹çº¿ç¨‹è¿è¡Œï¼Œæ¯”å¦‚ main çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AbortPolicy()ï¼š&lt;/strong&gt;ç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DiscardPolicy()ï¼š&lt;/strong&gt;ç›´æ¥ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DiscardOldestPolicy()ï¼š&lt;/strong&gt;ä¸¢å¼ƒé˜Ÿåˆ—ä¸­æœ€è€çš„ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h5 id=&quot;çº¿ç¨‹æ± é…ç½®ä¸ªäººç†è§£&quot;&gt;2.4ã€çº¿ç¨‹æ± é…ç½®ä¸ªäººç†è§£&lt;/h5&gt;
&lt;ul&gt;&lt;li&gt;å½“ä¸€ä¸ªä»»åŠ¡è¢«æäº¤åˆ°çº¿ç¨‹æ± æ—¶ï¼Œé¦–å…ˆæŸ¥çœ‹çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™é€‰æ‹©ä¸€æ¡çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼ŒæŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ã€‚å¦‚æœä¸æ»¡ï¼Œåˆ™å°†ä»»åŠ¡å­˜å‚¨åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œå®Œè‡ªå·±çš„ä»»åŠ¡åï¼Œä¼šå†å¤„ç†ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼ŒæŸ¥çœ‹çº¿ç¨‹æ± ï¼ˆæœ€å¤§çº¿ç¨‹æ•°æ§åˆ¶ï¼‰æ˜¯å¦å·²æ»¡ã€‚å¦‚æœä¸æ»¡ï¼Œåˆ™åˆ›å»ºä¸€æ¡çº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœæ»¡äº†ï¼Œå°±æŒ‰ç…§ç­–ç•¥å¤„ç†æ— æ³•æ‰§è¡Œçš„ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;äºŒå¼‚æ­¥è°ƒç”¨çº¿ç¨‹&quot;&gt;äºŒã€å¼‚æ­¥è°ƒç”¨çº¿ç¨‹&lt;/h3&gt;
&lt;p&gt;é€šå¸¸ ThreadPoolTaskExecutor æ˜¯å’Œ @Async ä¸€èµ·ä½¿ç”¨ã€‚åœ¨ä¸€ä¸ªæ–¹æ³•ä¸Šæ·»åŠ  @Async æ³¨è§£ï¼Œè¡¨æ˜æ˜¯å¼‚æ­¥è°ƒç”¨æ–¹æ³•å‡½æ•°ã€‚@Async åé¢åŠ ä¸Šçº¿ç¨‹æ± çš„æ–¹æ³•åæˆ– bean åç§°ï¼Œè¡¨æ˜å¼‚æ­¥çº¿ç¨‹ä¼šåŠ è½½çº¿ç¨‹æ± çš„é…ç½®ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
@Slf4j
public class ThreadTest {
    /**
     * æ¯10ç§’å¾ªç¯ä¸€æ¬¡ï¼Œä¸€ä¸ªçº¿ç¨‹å…±å¾ªç¯10æ¬¡ã€‚
     */
    @Async(&quot;asyncTaskExecutor&quot;)
    public void ceshi3() {
        for (int i = 0; i &amp;lt;= 10; i++) {
            log.info(&quot;ceshi3: &quot; + i);
            try {
                Thread.sleep(2000 * 5);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨ï¼šä¸€å®šè¦åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ  @EnableAsync æ³¨è§£ï¼Œè¿™æ · @Async æ³¨è§£æ‰ä¼šç”Ÿæ•ˆã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸‰å¤šçº¿ç¨‹ä½¿ç”¨åœºæ™¯&quot;&gt;ä¸‰ã€å¤šçº¿ç¨‹ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;h4 id=&quot;å®šæ—¶ä»»åŠ¡-scheduled&quot;&gt;1ã€å®šæ—¶ä»»åŠ¡ @Scheduled&lt;/h4&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;// åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ  @EnableScheduling æ³¨è§£
@SpringBootApplication
@EnableScheduling
public class SpringBootStudyApplication {
   public static void main(String[] args) {
      SpringApplication.run(SpringBootStudyApplication.class, args);
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;// @Component æ³¨è§£å°†å®šæ—¶ä»»åŠ¡ç±»çº³å…¥ spring bean ç®¡ç†ã€‚
@Component
public class listennerTest3 {

    @Autowired
    private ThreadTest t;
    
    // æ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ceshi3()æ–¹æ³•
    @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)
    public void run() {
        t.ceshi3();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ceshi3() æ–¹æ³•è°ƒç”¨çº¿ç¨‹æ± é…ç½®ï¼Œä¸”å¼‚æ­¥æ‰§è¡Œã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
@Slf4j
public class ThreadTest {
    /**
     * æ¯10ç§’å¾ªç¯ä¸€æ¬¡ï¼Œä¸€ä¸ªçº¿ç¨‹å…±å¾ªç¯10æ¬¡ã€‚
     */
    @Async(&quot;asyncTaskExecutor&quot;)
    public void ceshi3() {
        for (int i = 0; i &amp;lt;= 10; i++) {
            log.info(&quot;ceshi3: &quot; + i);
            try {
                Thread.sleep(2000 * 5);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;ç¨‹åºä¸€å¯åŠ¨å°±å¼‚æ­¥æ‰§è¡Œå¤šçº¿ç¨‹&quot;&gt;2ã€ç¨‹åºä¸€å¯åŠ¨å°±å¼‚æ­¥æ‰§è¡Œå¤šçº¿ç¨‹&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ç»§æ‰¿ CommandLineRunner ç±»å®ç°ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
public class ListennerTest implements CommandLineRunner {

    @Autowired
    private ThreadTest t;

    @Override
    public void run(String... args) {
        for (int i = 1; i &amp;lt;= 10; i++) {
            t.ceshi();
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
@Slf4j
public class ThreadTest {

    @Async(&quot;asyncTaskExecutor&quot;)
    public void ceshi() {
        log.info(&quot;ceshi&quot;);
    }
}    &lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;å®šä¹‰ä¸€ä¸ª-http-æ¥å£&quot;&gt;3ã€å®šä¹‰ä¸€ä¸ª http æ¥å£&lt;/h4&gt;
&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡æ¥å£çš„å½¢å¼æ¥å¼‚æ­¥è°ƒç”¨å¤šçº¿ç¨‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@RestController
@RequestMapping(&quot;thread&quot;)
public class ListennerTest2 {

    @Autowired
    private ThreadTest t;

    @GetMapping(&quot;ceshi2&quot;)
    public void run() {
        for (int i = 1; i &amp;lt; 10; i++) {
            t.ceshi2();
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
@Slf4j
public class ThreadTest {

    @Async(&quot;asyncTaskExecutor&quot;)
    public void ceshi2() {
        for (int i = 0; i &amp;lt;= 3; i++) {
            log.info(&quot;ceshi2&quot;);
        }
    }
}    &lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;æµ‹è¯•ç±»&quot;&gt;4ã€æµ‹è¯•ç±»&lt;/h4&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@RunWith(SpringRunner.class)
@SpringBootTest
public class ThreadRunTest {

    @Autowired
    private ThreadTest t;

    @Test
    public void thread1() {
        for (int i = 1; i &amp;lt;= 10; i++) {
            t.ceshi4();
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Component
@Slf4j
public class ThreadTest {
    @Async(&quot;asyncTaskExecutor&quot;)
    public void ceshi4() {
        log.info(&quot;ceshi4&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;å››æ€»ç»“&quot;&gt;å››ã€æ€»ç»“&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸Šä¸»è¦ä»‹ç»äº† ThreadPoolTaskExecutor çº¿ç¨‹æ± çš„é…ç½®ã€ä½¿ç”¨ã€ç›¸å…³æ³¨è§£çš„æ„ä¹‰åŠä½œç”¨ï¼Œä¹Ÿç®€å•ä»‹ç»äº†ä½¿ç”¨ @Async æ¥å¼‚æ­¥è°ƒç”¨çº¿ç¨‹ï¼Œæœ€ååˆåˆ—ä¸¾äº†å¤šçº¿ç¨‹çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶é…ä¸Šäº†ä»£ç ç¤ºä¾‹ã€‚å¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1117352/201910/1117352-20191014003522920-594091526.png&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 13 Oct 2019 16:35:00 +0000</pubDate>
<dc:creator>CREATE_17</dc:creator>
<og:description>å¤šçº¿ç¨‹ä¸€ç›´æ˜¯å·¥ä½œæˆ–é¢è¯•è¿‡ç¨‹ä¸­çš„é«˜é¢‘çŸ¥è¯†ç‚¹ï¼Œä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ä½¿ç”¨ ThreadPoolTaskExecutor æ¥è‡ªå®šä¹‰çº¿ç¨‹æ± å’Œå®ç°å¼‚æ­¥è°ƒç”¨å¤šçº¿ç¨‹ã€‚ ä¸€ã€ThreadPoolTaskExecutor</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/createboke/p/11669241.html</dc:identifier>
</item>
<item>
<title>ä¸€æ­¥æ­¥å‰–æspring beanç”Ÿå‘½å‘¨æœŸ - Alan_beijing</title>
<link>http://www.cnblogs.com/wangjiming/p/11669091.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wangjiming/p/11669091.html</guid>
<description>&lt;p&gt;Â å…³äºspring beançš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯æ·±å…¥å­¦ä¹ springçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯éš¾ç‚¹ï¼Œæœ¬ç¯‡æ–‡ç« å°†é‡‡ç”¨ä»£ç +å›¾æ–‡ç»“è®ºçš„æ–¹å¼æ¥é˜è¿°spring beançš„ç”Ÿå‘½å‘¨æœŸï¼Œ&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« å°†é˜è¿°æ¸…æ¥šä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191014001709580-686364900.png&quot; alt=&quot;&quot; width=&quot;834&quot; height=&quot;402&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â &lt;strong&gt;&lt;span&gt;ä¸€Â  é¡¹ç›®ç»“æ„åŠæºç &lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.ç¨‹åºç›®å½•ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013225717398-729265938.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 2.applicationContext.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;
       xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
       xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;com.demo.dao.UserDao&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;userDao&quot;&lt;/span&gt;&lt;span&gt; scope&lt;/span&gt;&lt;span&gt;=&quot;singleton&quot;&lt;/span&gt;&lt;span&gt; init-method&lt;/span&gt;&lt;span&gt;=&quot;myInit&quot;&lt;/span&gt;&lt;span&gt; destroy-method&lt;/span&gt;&lt;span&gt;=&quot;myDestroy&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;userName&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;Alan_beijing&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;com.demo.dao.MyBeanPostProcessor&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;myBeanPostProcessor&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.UserDao.java&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.demo.dao;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.BeansException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt; org.springframework.beans.factory.*&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.factory.config.BeanPostProcessor;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.ApplicationContextAware;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.apache.log4j.Logger;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; UserDao &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; BeanNameAware, BeanFactoryAware, ApplicationContextAware, InitializingBean,
        DisposableBean{

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; String userName;
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; count = 0&lt;span&gt;;

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getUserName() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userName;
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;2.å±æ€§æ³¨å…¥ï¼Œæ³¨å…¥å±æ€§ä¸ºuserName&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setUserName(String userName) {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šæ³¨å…¥å±æ€§userName=&quot;+&lt;span&gt;userName);
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.userName =&lt;span&gt; userName;
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;1.æ— å‚æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–æ—¶è°ƒç”¨è¯¥æ„é€ å‡½æ•°&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt;&lt;span&gt; UserDao() {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨æ„é€ å‡½æ•°UserDao()&quot;&lt;span&gt;);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;3.å®ç°BeanNameAwareï¼Œè·å–bean id&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setBeanName(String s) {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨setBeanName()è·å–bean id,bean id=&quot; +&lt;span&gt; s);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;4.å®ç°BeanFactoryAware,è·å–beanå·¥å‚&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; setBeanFactory(BeanFactory beanFactory) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨setBeanFactory()è·å–beanå·¥å‚,beanFactory=&quot; +&lt;span&gt; beanFactory);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;5.å®ç°ApplicationContextAware,è·å–beanä¸Šä¸‹æ–‡&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; setApplicationContext(ApplicationContext applicationContext) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨setApplicationContext()è·å–beanä¸Šä¸‹æ–‡,applicationContext=&quot; +&lt;span&gt; applicationContext);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;6.å®ç°InitializingBeanï¼Œè·å–afterPropertiesSet&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; afterPropertiesSet() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; Exception {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨afterPropertiesSet()&quot;&lt;span&gt;);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;7.è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•myInit()&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; myInit() {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨è‡ªå®šä¹‰myInit()&quot;&lt;span&gt;);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;8.å®ç°DisposableBeanï¼Œè·å–destroy()&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; destroy() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; Exception {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šdestroy()&quot;&lt;span&gt;);
    }

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;9.è‡ªå®šä¹‰é”€æ¯æ–¹æ³•myDestroy()&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; myDestroy() {
        count&lt;/span&gt;++&lt;span&gt;;
        System.out.println(count &lt;/span&gt;+ &quot;ï¼šè°ƒç”¨è‡ªå®šä¹‰destroy()&quot;&lt;span&gt;);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre&gt;
4.MyBeanPostProcessor.java
&lt;/pre&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.demo.dao;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.BeansException;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.factory.config.BeanPostProcessor;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt;  &lt;span&gt;class&lt;/span&gt; MyBeanPostProcessor &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; BeanPostProcessor {
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Object postProcessBeforeInitialization(Object bean, String beanName) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
        System.out.println(&lt;/span&gt;&quot;=====è°ƒç”¨postProcessBeforeInitialization()=====&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; bean;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Object postProcessAfterInitialization(Object bean, String beanName) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; BeansException {
        System.out.println(&lt;/span&gt;&quot;=====è°ƒç”¨postProcessAfterInitialization()=====&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; bean;
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Â äºŒÂ  æµ‹è¯•ä»£ç åŠæµ‹è¯•ç»“æœ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.test.java&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.demo.test;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.demo.dao.UserDao;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.junit.Test;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.support.AbstractApplicationContext;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.context.support.ClassPathXmlApplicationContext;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MyTest {

    @Test
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; test() {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;å®šä¹‰å®¹å™¨å¹¶åˆå§‹åŒ–
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);&lt;/span&gt;
        AbstractApplicationContext applicationContext = &lt;span&gt;new&lt;/span&gt; ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;&lt;span&gt;);
        applicationContext.getBean(UserDao.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;åªæœ‰å…³é—­å®¹å™¨æ—¶ï¼Œæ‰ä¼šè°ƒç”¨destroyæ–¹æ³•&lt;/span&gt;
&lt;span&gt;        applicationContext.registerShutdownHook();
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.æµ‹è¯•ç»“æœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013231408075-1910547129.png&quot; alt=&quot;&quot; width=&quot;1171&quot; height=&quot;325&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â ä¸‰ åˆ†æ&lt;/p&gt;
&lt;p&gt;é€šè¿‡å¦‚ä¸Šæµ‹è¯•ç»“æœï¼Œbeanç”Ÿå‘½å‘¨æœŸæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013231528074-1711751939.png&quot; alt=&quot;&quot; width=&quot;967&quot; height=&quot;466&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Â 1.è£…é…bean&lt;/p&gt;
&lt;p&gt;beanè£…é…ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬ä¸€ç¯èŠ‚ã€‚æ‰€è°“è£…é…bean,æŒ‡å°†javaå¯¹è±¡è½¬æ¢ä¸ºbeançš„è¿‡ç¨‹ã€‚åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼ŒUserDao.javeå’ŒMyBeanPostProcessoré€šè¿‡xmlæ–¹å¼è½¬åŒ–ä¸ºbeanã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šspringæ¡†æ¶æ”¯æŒå››ç§æ–¹å¼è£…é…beanï¼šxmlæ–¹å¼ï¼Œjavaä»£ç æ–¹å¼ï¼Œè‡ªåŠ¨è£…é…å’Œæ··åˆè£…é…æ–¹å¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013233338239-28049865.png&quot; alt=&quot;&quot; width=&quot;913&quot; height=&quot;227&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.åŠ è½½applicationContext.xmlå¹¶å®ä¾‹åŒ–&lt;/p&gt;
&lt;p&gt;åŠ è½½å¹¶å®ä¾‹åŒ–beanä¸ºbeanç”Ÿå‘½å‘¨æœŸçš„ç¬¬äºŒç¯èŠ‚ã€‚æœ¬æ–‡ç¤ºä¾‹é€šè¿‡ClassPathXmlApplicationContext()æ¥åŠ è½½å¹¶ï¼Œå½“beanä¸ºsingletonæ—¶ï¼Œè¯¥è¿‡ç¨‹å°±å®ä¾‹åŒ–å¯¹è±¡ï¼Œè€Œä¸éœ€è¦ç­‰å¾…&lt;/p&gt;
&lt;p&gt;è°ƒç”¨applicationContext.getBean()è·å–beanæ—¶æ‰å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿™ä¸prototypeæ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013233202566-851293592.png&quot; alt=&quot;&quot; width=&quot;887&quot; height=&quot;223&quot;/&gt;&lt;/p&gt;
&lt;p&gt;3.å±æ€§æ³¨å…¥&lt;/p&gt;
&lt;p&gt;beanå±æ€§æ³¨å…¥ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬ä¸‰ç¯èŠ‚ï¼Œé‡‡ç”¨åå°„æ–¹å¼æ³¨å…¥bean.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013234224352-851445831.png&quot; alt=&quot;&quot; width=&quot;1030&quot; height=&quot;646&quot;/&gt;&lt;/p&gt;

&lt;p&gt;4.å®ç°BeanNameAware,è·å–bean id&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸçš„ç¬¬å››ç¯èŠ‚ï¼Œå®ç°è¯¥æ¥å£ï¼Œå¯ä»¥è·å–beançš„id&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013234714642-1790697002.png&quot; alt=&quot;&quot; width=&quot;814&quot; height=&quot;440&quot;/&gt;&lt;/p&gt;
&lt;p&gt;5.å®ç°BeanFactoryAware,è·å–bean å·¥å‚&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬äº”ç¯èŠ‚ï¼Œé€šè¿‡å®ç°BeanFactoryAwareè·å–beanå·¥å‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013234512792-913356768.png&quot; alt=&quot;&quot; width=&quot;861&quot; height=&quot;326&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 6.å®ç°ApplicationContextAware,è·å–è¿ç”¨ä¸Šä¸‹æ–‡&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬å…­ç¯èŠ‚ï¼Œé€šè¿‡å®ç°ApplicationContextAwareæ¥å£ï¼Œè·å–beanä¸Šä¸‹æ–‡&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013234938379-1494058470.png&quot; alt=&quot;&quot; width=&quot;937&quot; height=&quot;433&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 7.è°ƒç”¨Beanåç½®å¤„ç†å™¨,before&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬ä¸ƒç¯èŠ‚ï¼Œé€šè¿‡å®ç°åç½®å¤„ç†å™¨BeanPostProcessorè·å–beforeå’Œafter,è¯¥è¿‡ç¨‹æ˜¯é€šè¿‡AOPæ–¹å¼å®ç°çš„ï¼Œåœ¨beforeå’Œafterä¹‹é—´ï¼Œå‘ç”Ÿå¦‚ä¸‹8ï¼Œ9è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235119000-79548969.png&quot; alt=&quot;&quot; width=&quot;908&quot; height=&quot;399&quot;/&gt;&lt;/p&gt;
&lt;p&gt;8.å®ç°InitializingBeançš„afterPropertiesSet(),è·å–åˆå§‹åŒ–æ–¹æ³•&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬å…«ç¯èŠ‚ï¼Œé€šè¿‡å®ç°InitializingBeanï¼Œè·å–afterPropertiesSet()&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235312356-935984014.png&quot; alt=&quot;&quot; width=&quot;897&quot; height=&quot;429&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 9.è°ƒç”¨è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•,init-method&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬ä¹ç¯èŠ‚ï¼Œå®ç°è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235508741-582899838.png&quot; alt=&quot;&quot; width=&quot;984&quot; height=&quot;538&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 10.è°ƒç”¨Beanåç½®å¤„ç†å™¨after&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬åç¯èŠ‚ï¼Œåç½®å¤„ç†å™¨æœ€åç¯èŠ‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235641412-499936050.png&quot; alt=&quot;&quot; width=&quot;901&quot; height=&quot;523&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 11.å…³é—­å®¹å™¨AbstractApplicationContext.registerShutDownHook()&lt;/p&gt;
&lt;p&gt;è¯¥ç¯èŠ‚ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬åä¸€ç¯èŠ‚ï¼Œå…³é—­å®¹å™¨&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235733388-1102096294.png&quot; alt=&quot;&quot; width=&quot;1020&quot; height=&quot;203&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 12.è°ƒç”¨DisposableBeançš„destroy()&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸç¬¬åäºŒç¯èŠ‚ï¼Œå®ç°DisposableBeanæ¥å£ï¼Œè°ƒç”¨destroy()&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191013235923424-1543455846.png&quot; alt=&quot;&quot; width=&quot;974&quot; height=&quot;524&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â 13.è°ƒç”¨å®šåˆ¶åŒ–é”€æ¯æ–¹æ³•destroy-method&lt;/p&gt;
&lt;p&gt;è¯¥è¿‡ç¨‹ä¸ºbeanç”Ÿå‘½å‘¨æœŸæœ€åç¯èŠ‚ï¼Œè°ƒç”¨è‡ªå®šä¹‰é”€æ¯æ–¹æ³•destroy-method&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1066923/201910/1066923-20191014000101877-316844359.png&quot; alt=&quot;&quot; width=&quot;930&quot; height=&quot;494&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â ä¸‰Â  ç‰ˆæƒåŒº&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Â Â è½¬è½½åšå®¢ï¼Œå¿…é¡»æ³¨æ˜åšå®¢å‡ºå¤„&lt;/li&gt;
&lt;li&gt;Â  Â åšä¸»ç½‘å€ï¼šhttp://www.cnblogs.com/wangjiming/&lt;/li&gt;
&lt;li&gt;Â  Â å¦‚æ‚¨æœ‰æ–°æƒ³æ³•ï¼Œæ¬¢è¿æå‡ºï¼Œé‚®ç®±ï¼š2098469527@qq.com&lt;/li&gt;
&lt;li&gt;Â  ä¸“ä¸š.NETä¹‹å®¶æŠ€æœ¯QQç¾¤ï¼š490539956&lt;/li&gt;
&lt;li&gt;Â  ä¸“ä¸šåŒ–Javaä¹‹å®¶QQç¾¤ï¼š924412846&lt;/li&gt;
&lt;li&gt;Â  æœ‰é—®å¿…ç­”QQç¾¤ï¼š2098469527&lt;/li&gt;
&lt;li&gt;Â  ä¸€å¯¹ä¸€æŠ€æœ¯è¾…å¯¼QQï¼š2098469527&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Sun, 13 Oct 2019 16:17:00 +0000</pubDate>
<dc:creator>Alan_beijing</dc:creator>
<og:description>å…³äºspring beançš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯æ·±å…¥å­¦ä¹ springçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯éš¾ç‚¹ï¼Œæœ¬ç¯‡æ–‡ç« å°†é‡‡ç”¨ä»£ç +å›¾æ–‡ç»“è®ºçš„æ–¹å¼æ¥é˜è¿°spring beançš„ç”Ÿå‘½å‘¨æœŸï¼Œ æœ¬ç¯‡æ–‡ç« å°†é˜è¿°æ¸…æ¥šä¸‹å›¾ã€‚ ä¸€ é¡¹ç›®ç»“æ„åŠæºç </og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/wangjiming/p/11669091.html</dc:identifier>
</item>
<item>
<title>ã€JavaScriptã€‘ä½¿ç”¨çº¯JSå®ç°å¤šå¼ å›¾ç‰‡çš„æ‡’åŠ è½½Lazyï¼ˆé™„æºç ï¼‰ - å½­èƒœå…‰</title>
<link>http://www.cnblogs.com/pengshengguang/p/11669176.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/pengshengguang/p/11669176.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¸€ã€æ•ˆæœå›¾å¦‚ä¸‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1254758/201910/1254758-20191013221352874-1049570631.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šé¢çš„æ•ˆæœå›¾ï¼Œæ•ˆæœéœ€æ±‚å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  1ã€è¿˜æ²¡åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¾ç¤ºåŠ è½½å›¾ç‰‡èƒŒæ™¯å›¾&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  2ã€åˆšå¼€å§‹è¿›å…¥é¡µé¢ï¼Œè‡ªåŠ¨åŠ è½½ç¬¬ä¸€å±å¹•çš„å›¾ç‰‡&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  3ã€ä¸‹æ‹‰ç•Œé¢ï¼Œå½“ä¸€å¼ å›¾ç‰‡å®¹å™¨å®Œå…¨æ˜¾éœ²å‡ºå±å¹•ï¼Œå³åˆ»åŠ è½½å›¾ç‰‡ï¼Œæ›¿æ¢èƒŒæ™¯å›¾&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  4ã€åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œæœ‰æ¸è¿›æ˜¾ç¤ºå›¾ç‰‡æ•ˆæœ&lt;/p&gt;


&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äºŒã€éš¾ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  1ï¼‰å¦‚ä½•Ajaxè¯·æ±‚æ•°æ®&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  2ï¼‰å¦‚ä½•åŠ¨æ€å°†jsonæ•°æ®ç»‘å®šåˆ°htmlä¸­ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  3ï¼‰å¦‚ä½•é€šè¿‡å¯¹å›¾ç‰‡çš„å®šä½è®¡ç®—ï¼Œè§¦å‘å›¾ç‰‡æ‡’åŠ è½½æœºåˆ¶&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  4ï¼‰åŠ åˆ†é¡¹ï¼Œæ˜¾ç¤ºå›¾ç‰‡æ—¶æœ‰æ¸ç°çš„è¿‡æ¸¡åŠ¨ç”»&lt;/p&gt;


&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸‰ã€å‰æœŸçŸ¥è¯†ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  1ï¼‰Ajaxç›¸å…³çŸ¥è¯†ï¼ŒXMLHttpRequestå¯¹è±¡ï¼Œæ‰€æœ‰ç°ä»£çš„æµè§ˆå™¨éƒ½æ”¯æŒæ­¤å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  2ï¼‰innerHTMLï¼Œæ•°æ®ç»‘å®šä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  3ï¼‰HTML DOM getAttribute() æ–¹æ³•ï¼Œè¿”å›è‡ªå®šå±æ€§åçš„å±æ€§å€¼ï¼ˆä¸»è¦æ˜¯ç”¨äºè¿”å›è‡ªå®šä¹‰å±æ€§çš„å±æ€§å€¼ï¼‰&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  4ï¼‰å›¾ç‰‡çš„ onloadäº‹ä»¶ï¼Œå½“å›¾ç‰‡çš„srcå±æ€§çš„å±æ€§å€¼ä¸ºæ­£ç¡®ï¼ˆå³èƒ½æˆåŠŸåŠ è½½å›¾ç‰‡ï¼‰ï¼Œæ‰èƒ½è§¦å‘å›¾ç‰‡çš„onloadäº‹ä»¶&lt;/p&gt;


&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å››ã€éš¾ç‚¹é€ä¸€æ”»ç ´&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  &lt;strong&gt;Â  &lt;span&gt;1ï¼‰å¦‚ä½•Ajaxè¯·æ±‚æ•°æ®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  &lt;span&gt;&lt;strong&gt;åˆ†å››æ­¥èµ°&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;37&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
// 1)é¦–å…ˆåˆ›å»ºä¸€ä¸ªAjaxå¯¹è±¡
var xhr = new XMLHttpRequest;
// 2)æ‰“å¼€æˆ‘ä»¬éœ€è¦è¯·æ±‚çš„æ•°æ®çš„é‚£ä¸ªæ–‡ä»¶åœ°å€
// URLåœ°å€åé¢åŠ éšæœºæ•°ç›®çš„ï¼šæ¸…é™¤æ¯ä¸€æ¬¡è¯·æ±‚æ•°æ®æ—¶å€™ï¼ˆgetè¯·æ±‚ï¼‰äº§ç”Ÿçš„ç¼“å­˜
// å› ä¸ºæ¯æ¬¡è®¿é—®çš„åœ°å€ä¸ä¸€æ ·ï¼Œæ ·æµè§ˆå™¨å°±ä¸ä¼šå°è¯•ç¼“å­˜æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ï¼Œè¯»å–æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚
xhr.open('get', 'json/newsList.txt?' + Math.random(), false); // falseä»£è¡¨åŒæ­¥
 // 3)ç›‘å¬è¯·æ±‚çš„çŠ¶æ€
xhr.onreadystatechange = function () {
    if (xhr.readyState === 4 &amp;amp;&amp;amp; /^2\d{2}$/.test(xhr.status)) {
        var val = xhr.responseText;
        jsonData = utils.jsonParse(val);
    }
}
// 4)å‘é€è¯·æ±‚
xhr.send(null);
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â &lt;span&gt;2ï¼‰å¦‚ä½•åŠ¨æ€å°†jsonæ•°æ®ç»‘å®šåˆ°htmlä¸­ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼ˆæ•°æ®ç»‘å®šä¸­æœ€å¸¸ç”¨çš„æ–¹å¼ï¼‰ï¼Œ&lt;/strong&gt;å³é€šè¿‡ä½¿ç”¨&lt;strong&gt;innerHTML&lt;/strong&gt;ï¼Œå¯¹é¡µé¢å…ƒç´ è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå†é‡æ–°æ¸²æŸ“åˆ°é¡µé¢ä¸­&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;
var str = &quot;&quot;;
if (jsonData) {
    for (var i = 0, len = jsonData.length; i &amp;lt; len; i++) {
        var curData = jsonData[i];
        str += '&amp;lt;li&amp;gt;';
        str += '&amp;lt;div&amp;gt;&amp;lt;img src=&quot;&quot; trueImg=&quot;' + curData[&quot;img&quot;] + '&quot;&amp;gt;&amp;lt;/div&amp;gt;';
        str += '&amp;lt;div&amp;gt;&amp;lt;h2&amp;gt;' + curData[&quot;title&quot;] + '&amp;lt;/h2&amp;gt;';
        str += '&amp;lt;p&amp;gt;' + curData[&quot;desc&quot;] + '&amp;lt;/p&amp;gt;';
        str += '&amp;lt;/div&amp;gt;';
        str += '&amp;lt;/li&amp;gt;&amp;lt;/div&amp;gt;';
    }
    news.innerHTML += str;
}  &lt;strong&gt;  &lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â ä¼˜åŠ¿&lt;/strong&gt;ï¼šæ•°æ®ç»‘å®šæœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå› ä¸ºæµè§ˆå™¨åªéœ€è¦æ¸²æŸ“ä¸€æ¬¡ï¼ˆæ‰€æœ‰æ¨¡æ¿å¼•æ“æ•°æ®ç»‘å®šçš„åŸç†å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œvueã€angularã€jadeã€kTemplate.jsç­‰ç­‰ï¼‰&lt;br/&gt;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â äº‹å…ˆæŠŠå†…å®¹æ‹¼æ¥å¥½ï¼Œæœ€åç»Ÿä¸€æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåªå¼•å‘ä¸€æ¬¡å›æµ&lt;/p&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â å¼Šç«¯&lt;/strong&gt;ï¼šæˆ‘ä»¬æŠŠæ–°å‡­å€Ÿçš„å­—ç¬¦ä¸²æ·»åŠ åˆ°#ul1ä¸­ï¼ŒåŸæœ‰çš„ä¸‰ä¸ªliçš„é¼ æ ‡æ»‘è¿‡æ•ˆæœéƒ½æ¶ˆå¤±äº†ï¼ˆåŸæ¥æ ‡ç­¾ç»‘å®šçš„äº‹ä»¶éƒ½æ¶ˆå¤±äº†ï¼‰&lt;br/&gt;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â åŸæ¥ï¼ŒoUl.innerHTMLçš„ä½œç”¨æ˜¯æŠŠåŸæ¥çš„æ ‡ç­¾ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼å–å‡ºï¼ŒåŸæ¥ä½œä¸ºæ ‡ç­¾çš„æ—¶å€™ï¼Œå¯¹åº”äº‹ä»¶ç»‘å®šçš„ä¸œè¥¿å·²ç»æ²¡æœ‰äº†ï¼Œç„¶åè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ&lt;br/&gt;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ä½†æ˜¯ï¼Œæ‹¼æ¥å®Œæˆä¹‹åï¼Œè¿˜æ˜¯å­—ç¬¦ä¸²ï¼æœ€åå†æŠŠå­—ç¬¦ä¸²ç»Ÿä¸€æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œæµè§ˆå™¨è¿˜éœ€è¦æŠŠå­—ç¬¦ä¸²æ¸²æŸ“æˆä¸ºå¯¹åº”çš„æ ‡ç­¾&lt;/p&gt;

&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â &lt;span&gt;Â 3ï¼‰å¦‚ä½•é€šè¿‡å¯¹å›¾ç‰‡çš„å®šä½è®¡ç®—ï¼Œè§¦å‘å›¾ç‰‡æ‡’åŠ è½½æœºåˆ¶ï¼ˆ&lt;/span&gt;&lt;span&gt;&lt;span&gt;æœ€&lt;/span&gt;&lt;/span&gt;&lt;span&gt;å…³é”®ç‚¹&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1254758/201910/1254758-20191014000925803-705942102.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â &lt;/strong&gt;æ€è·¯ï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â  Â  Â  Â  Â &lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Aï¼šä»£è¡¨å›¾ç‰‡è·ç¦»å±å¹•é¡¶éƒ¨çš„è·ç¦»Â &lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
//è¿™é‡Œä½¿ç”¨äº†utilså·¥å…·ç±»ä¸­çš„offsetæ–¹æ³•ï¼Œå…·ä½“å®ç°çœ‹ä¸‹é¢æºç 
var A = utils.offset(curImgPar).offsetTop + curImgPar.offsetHeightï¼› 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â  Â  Â  Â  Â Â &lt;span&gt;Bï¼šä»£è¡¨ä¸€å±å¹•è·ç¦»+æ»šåŠ¨æ¡æ»šåŠ¨è·ç¦»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
//è¿™é‡Œä½¿ç”¨äº†utilså·¥å…·ç±»ä¸­çš„winæ–¹æ³•ï¼Œå…·ä½“å®ç°çœ‹ä¸‹é¢æºç 
var B = utils.win(&quot;clientHeight&quot;) + utils.win(&quot;scrollTop&quot;);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â  Â  Â  Â  Â Â &lt;/strong&gt;å½“&lt;span&gt;&lt;strong&gt;A &amp;lt; B&lt;/strong&gt;&lt;/span&gt;çš„æ—¶å€™ï¼Œæ­¤æ—¶æ‡’åŠ è½½çš„é»˜è®¤å›¾ç‰‡&lt;span&gt;&lt;strong&gt;æ‰èƒ½å®Œæ•´æ˜¾ç¤ºå‡ºæ¥&lt;/strong&gt;&lt;/span&gt;ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦è§¦å‘å›¾ç‰‡æ‡’åŠ è½½&lt;/p&gt;

&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â &lt;span&gt;4ï¼‰åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œæœ‰æ¸è¿›æ˜¾ç¤ºå›¾ç‰‡æ•ˆæœ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â &lt;/strong&gt;æ€è·¯ï¼Œåˆ©ç”¨window.setInterval æ–¹æ³•ï¼Œé€šè¿‡å¯¹å½“å‰å›¾ç‰‡çš„é€æ˜åº¦å±æ€§ï¼ˆcurImg.style.opacityï¼‰ ä»é€æ˜0å¼€å§‹åˆ°é€æ˜åº¦1ï¼Œå˜åŒ–æ€»æ—¶é—´ä¸º500mså³å¯&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
// -&amp;gt;å®ç°æ¸ç°æ•ˆæœ
function fadeIn(curImg) {
    var duration = 500, // æ€»æ—¶é—´
    interval = 10, //10msèµ°ä¸€æ¬¡
    target = 1; //æ€»è·ç¦»æ˜¯1
    var step = (target / duration) * interval; //æ¯ä¸€æ­¥çš„æ­¥é•¿
    var timer = window.setInterval(function () {
        var curOp =  utils.getCss2SS(curImg, &quot;opacity&quot;);
        if (curOp &amp;gt;= 1) {
            curImg.style.opacity = 1;
            window.clearInterval(timer);
            return
        }
        curOp += step;
        curImg.style.opacity = curOp;
    }, interval);
}
&lt;/pre&gt;&lt;/div&gt;


&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äº”ã€å®Œæ•´ä»£ç &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Â  Â  Â Â &lt;/strong&gt;Â &lt;span&gt;Â &lt;/span&gt;&lt;span&gt;1ï¼‰main.html&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;51&quot;&gt;
&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;
&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&quot;en&quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;
    &amp;lt;!--åšç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€é¡µé¢ï¼Œéƒ½éœ€è¦åŠ ä¸‹é¢çš„meta--&amp;gt;
    &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&amp;gt; &amp;lt;!--meta:vp+tapä¸€é”®ç”Ÿæˆ--&amp;gt;
    &amp;lt;title&amp;gt;å¤šå¼ å›¾ç‰‡çš„å»¶è¿ŸåŠ è½½&amp;lt;/title&amp;gt;
    &amp;lt;style type=&quot;text/css&quot;&amp;gt;
        * {
            margin: 0;
            padding: 0;
            font-family: &quot;Microsoft Sans Serif&quot;;
            font-size: 14px;
        }
        ul, li {
            list-style: none;
        }
        img {
            display: block;
            border: none;
        }
        .news {
            padding: 10px;
        }
        .news li {
            position: relative;
            height: 60px;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        .news li &amp;gt; div:first-child {   /*æ„æ€æ˜¯ï¼Œliä¸‹é¢çš„å­divï¼Œä¸­çš„ç¬¬ä¸€ä¸ª*/
            position: absolute;
            top: 10px;
            left: 0;
            width: 75px;
            height: 60px;
            background: url(&quot;./img/loading.PNG&quot;) no-repeat center center #e1e1e1;
            background-size: 100% 100%;
        }
        /*ç§»åŠ¨ç«¯å¸ƒå±€ï¼Œæœ€å¤–å±‚å®¹å™¨æ˜¯ä¸è®¾ç½®å®½é«˜çš„*/

        .news li &amp;gt; div:first-child img {
            display: none;
            width: 100%;
            height: 100%;
            opacity: 0;  /*è¿™é‡Œè®¾ç½®ä¸º0çš„ç›®çš„æ˜¯ï¼Œå®ç°æ¸è¿›çš„æ•ˆæœï¼Œåé¢çš„fadeInå‡½æ•°ï¼Œä½œç”¨å°±æ˜¯è®©å›¾ç‰‡é€æ˜éƒ½ä»0å˜æˆ1*/
        }

        .news li &amp;gt; div:nth-child(2) {
            height: 60px;
            margin-left: 80px;
        }
        .news li &amp;gt; div:nth-child(2) h2 {
            height: 20px;
            line-height: 20px;
            /*å®ç°æ–‡å­—è¶…å‡ºä¸€è¡Œè‡ªåŠ¨è£åˆ‡*/
            overflow: hidden;
            text-overflow: ellipsis; /*è¶…å‡ºéƒ¨åˆ†çœç•¥å·æ˜¾ç¤º*/
            white-space: nowrap; /*å¼ºåˆ¶ä¸æ¢è¡Œ*/
        }
        .news li &amp;gt; div:nth-child(2) p {
            line-height: 20px;
            font-size: 12px;
            color: #616161;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;ul id=&quot;news&quot; class=&quot;news&quot;&amp;gt;
        &amp;lt;!--&amp;lt;li&amp;gt;--&amp;gt;
            &amp;lt;!--&amp;lt;div&amp;gt;--&amp;gt;
                &amp;lt;!--&amp;lt;img src=&quot;./img/new1.PNG&quot; alt=&quot;&quot;&amp;gt;--&amp;gt;
            &amp;lt;!--&amp;lt;/div&amp;gt;--&amp;gt;
            &amp;lt;!--&amp;lt;div&amp;gt;--&amp;gt;
                &amp;lt;!--&amp;lt;h2&amp;gt;é¦™æ¸¯å››å¤§å®¶æ—å¾€äº‹,é¦™æ¸¯å››å¤§å®¶æ—å¾€äº‹,é¦™æ¸¯å››å¤§å®¶æ—å¾€äº‹&amp;lt;/h2&amp;gt;--&amp;gt;
                &amp;lt;!--&amp;lt;p&amp;gt;é¦™æ¸¯å››å¤§å®¶æ—å¾€äº‹ï¼šæå˜‰è¯šä¸ºéƒ‘è£•å½¤æ‰¶çµé¦™æ¸¯å››å¤§å®¶æ—å¾€äº‹ï¼šæå˜‰è¯šä¸ºéƒ‘è£•å½¤æ‰¶çµ&amp;lt;/p&amp;gt;--&amp;gt;
            &amp;lt;!--&amp;lt;/div&amp;gt;--&amp;gt;
        &amp;lt;!--&amp;lt;/li&amp;gt;--&amp;gt;
    &amp;lt;/ul&amp;gt;




&amp;lt;script type=&quot;text/javascript&quot; src=&quot;./tool/utils.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
    var news = document.getElementById(&quot;news&quot;),
        imgList = news.getElementsByTagName(&quot;img&quot;);

    // 1ã€è·å–éœ€è¦ç»‘å®šçš„æ•°æ®(é€šè¿‡Ajax)
    var jsonData = null;
    ~function () {
        // 1)é¦–å…ˆåˆ›å»ºä¸€ä¸ªAjaxå¯¹è±¡
        var xhr = new XMLHttpRequest;
        // 2)æ‰“å¼€æˆ‘ä»¬éœ€è¦è¯·æ±‚çš„æ•°æ®çš„é‚£ä¸ªæ–‡ä»¶åœ°å€
        // URLåœ°å€åé¢åŠ éšæœºæ•°ç›®çš„ï¼šæ¸…é™¤æ¯ä¸€æ¬¡è¯·æ±‚æ•°æ®æ—¶å€™ï¼ˆgetè¯·æ±‚ï¼‰äº§ç”Ÿçš„ç¼“å­˜
        // å› ä¸ºæ¯æ¬¡è®¿é—®çš„åœ°å€ä¸ä¸€æ ·ï¼Œæ ·æµè§ˆå™¨å°±ä¸ä¼šå°è¯•ç¼“å­˜æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ï¼Œè¯»å–æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚
        xhr.open('get', 'json/newsList.txt?' + Math.random(), false); // falseä»£è¡¨åŒæ­¥
        // 3)ç›‘å¬è¯·æ±‚çš„çŠ¶æ€
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 &amp;amp;&amp;amp; /^2\d{2}$/.test(xhr.status)) {
                var val = xhr.responseText;
                jsonData = utils.jsonParse(val);
            }
        }
        // 4)å‘é€è¯·æ±‚
        xhr.send(null);
    }();
    console.log(jsonData);

    // 2ã€æ•°æ®ç»‘å®šï¼ˆä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼‰
    ~function () {
        var str = &quot;&quot;;
        if (jsonData) {
            for (var i = 0, len = jsonData.length; i &amp;lt; len; i++) {
                var curData = jsonData[i];
                str += '&amp;lt;li&amp;gt;';
                str += '&amp;lt;div&amp;gt;&amp;lt;img src=&quot;&quot; trueImg=&quot;' + curData[&quot;img&quot;] + '&quot;&amp;gt;&amp;lt;/div&amp;gt;';
                str += '&amp;lt;div&amp;gt;&amp;lt;h2&amp;gt;' + curData[&quot;title&quot;] + '&amp;lt;/h2&amp;gt;';
                str += '&amp;lt;p&amp;gt;' + curData[&quot;desc&quot;] + '&amp;lt;/p&amp;gt;';
                str += '&amp;lt;/div&amp;gt;';
                str += '&amp;lt;/li&amp;gt;&amp;lt;/div&amp;gt;';
            }
            news.innerHTML += str;
        }
    }();

    // 3ã€å›¾ç‰‡å»¶è¿ŸåŠ è½½
    // -&amp;gt;é¦–å…ˆå®ç°å•å¼ å›¾ç‰‡çš„å»¶æ—¶åŠ è½½
    function lazyImg(curImg) {
        var oImg = new Image;
        oImg.src = curImg.getAttribute(&quot;trueImg&quot;);
        oImg.onload = function() {
            curImg.src = this.src;
            curImg.style.display = &quot;block&quot;;
            fadeIn(curImg);
            oImg = null;
        }
        curImg.isLoad = true;
    }

    // -&amp;gt; å¾ªç¯å¤„ç†æ¯ä¸€å¼ å›¾ç‰‡
    function handleAllImg() {
        for (var i = 0, len = imgList.length; i &amp;lt; len; i++) {
            var curImg = imgList[i];
            if (curImg.isLoad) { // å½“å‰å›¾ç‰‡å¤„ç†è¿‡çš„è¯ï¼Œå°±ä¸éœ€é‡æ–°è¿›è¡Œå¤„ç†
                continue;
            }

            // -&amp;gt;åªæœ‰å½“Aå°äºBçš„æ—¶å€™å†è¿›è¡Œå¤„ç†
//          var A = utils.offset(curImg).top + curImg.offsetHeight; // è¿™é‡ŒAä¸èƒ½è¿™ä¹ˆè®¡ç®—ï¼Œå› ä¸ºæ­¤æ—¶å›¾ç‰‡æ˜¯éšè—çš„ï¼Œæ²¡æœ‰å›¾ç‰‡ï¼Œä»–çš„offsetHeightå½“è®©ä¹Ÿæ˜¯ä¸º0
                                                                      // å¦‚æœæˆ‘è¦çš„åˆ°å›¾ç‰‡çš„Aå€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‹¿åˆ°ä»–çˆ¶èŠ‚ç‚¹çš„å®¹å™¨å°±è¡Œäº†ï¼Œå“ˆå“ˆ
            var curImgPar = curImg.parentNode,
                A = utils.offset(curImgPar).offsetTop + curImgPar.offsetHeight,
                B = utils.win(&quot;clientHeight&quot;) + utils.win(&quot;scrollTop&quot;);
            if (A &amp;lt; B) {
                lazyImg(curImg);
            }
        }
    }

    // -&amp;gt;å®ç°æ¸ç°æ•ˆæœ
    function fadeIn(curImg) {
        var duration = 500, // æ€»æ—¶é—´
            interval = 10, //10msèµ°ä¸€æ¬¡
            target = 1; //æ€»è·ç¦»æ˜¯1
        var step = (target / duration) * interval; //æ¯ä¸€æ­¥çš„æ­¥é•¿
        var timer = window.setInterval(function () {
            var curOp =  utils.getCss2SS(curImg, &quot;opacity&quot;);
            if (curOp &amp;gt;= 1) {
                  curImg.style.opacity = 1;
                  window.clearInterval(timer);
                  return
            }
            curOp += step;
            curImg.style.opacity = curOp;
        }, interval);
    }

    // 4ã€å¼€å§‹çš„æ—¶å€™ï¼ˆè¿‡500msï¼‰åŠ è½½1å±å¹•çš„å›¾ç‰‡ï¼Œå½“æ»šåŠ¨æ¡æ»šåŠ¨çš„æ—¶å€™ï¼ŒåŠ è½½å…¶ä»–å›¾ç‰‡
    window.setTimeout(handleAllImg, 500);
    window.onscroll = handleAllImg;
    
&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â Â &lt;span&gt;2ï¼‰utils.js&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;45&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
// ä¸ºäº†ä¸å…¨å±€å˜é‡å†²çªï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä¾‹æ¨¡å¼
var utils = {
  // jsonParse: æŠŠJSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºJSONæ ¼å¼çš„å¯¹è±¡
  jsonParse: function (str) {
      var val = null;
       try {
          val = JSON.parse(str);
      } catch (e) {
          val = eval('(' + str + ')');
      }
      return val;
  },

  getCss2SS : function(curEle, attr) {
      var val = null, reg = null;
      if ('getComputedStyle' in window) {
          val = window.getComputedStyle(curEle, null)[attr];
      } else {
          if (attr === 'opacity') {
              val = curEle.currentStyle[attr]; // -&amp;gt;è¿”å› alpha(opacity=10)
              reg = /^alpha\(opacity=(\d+(?:\.\d+)?)\)$/i;  //  è·å–10è¿™ä¸ªæ•°å­—
              val = reg.test(val)?reg.exec(val)[1]/100:1  // è¶…å‰å®³ï¼Œtestä¸execä¸€èµ·ä½¿ç”¨ï¼ï¼ï¼
          }
          val = curEle.currentStyle[attr];
      }
      reg = /^-?\d+(\.\d+)?(px|pt|rem|em)?$/i; //åŒ¹é…çš„æƒ…å†µï¼šçº¯æ•°å€¼æˆ–è€…å¸¦å•ä½çš„æ•°å€¼
      return reg.test(val) ? parseFloat(val) : val;
  },

  offset : function(curEle) {
      var totalLeft = null,
          totalTop = null,
          par = curEle.offsetParent;
      // é¦–å…ˆæŠŠè‡ªå·±æœ¬èº«çš„è¿›è¡Œç´¯åŠ 
      totalLeft += curEle.offsetLeft;
      totalTop += curEle.offsetTop;

      while (par) {
          if (navigator.userAgent.indexOf(&quot;MSIE 8.0&quot;) === -1) {
              // ç´¯åŠ çˆ¶çº§å‚ç…§ç‰©è¾¹æ¡†
              totalTop += par.clientTop;
              totalLeft += par.clientLeft;
          }
          // ç´¯åŠ çˆ¶çº§å‚ç…§ç‰©æœ¬èº«çš„åç§»
          totalTop += par.offsetTop;
          totalLeft += par.offsetLeft;
          par = par.offsetParent;
      }
      console.log('offsetTop: ' + totalTop + ', offsetLeft: ' + totalLeft);
      var result = {};
      result.offsetTop = totalTop;
      result.offsetLeft = totalLeft;
      return result;
  },

  win : function(attr, value) {
      if (value === undefined) {
          return document.documentElement[attr] || document.body[attr];
      }
      document.documentElement[attr] = value;
      document.body[attr] = value;
  }
};
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Â  Â  Â Â &lt;strong&gt;Â &lt;span&gt;Â 3ã€jsonæ–‡ä»¶&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;43&quot;&gt;
&lt;pre class=&quot;brush:javascript;gutter:true;&quot;&gt;
[{&quot;img&quot;:&quot;./img/new1.PNG&quot;, &quot;title&quot;: &quot;1ç½‘ç»œå¼ºå›½æˆ˜ç•¥ä¸â€œåä¸‰äº”â€åå››å¤§æˆ˜ç•¥&quot;, &quot;desc&quot;: &quot;1äº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜ï¼Œäº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜&quot;},
 {&quot;img&quot;:&quot;./img/new2.PNG&quot;, &quot;title&quot;: &quot;2ç½‘ç»œå¼ºå›½æˆ˜ç•¥ä¸â€œåä¸‰äº”â€åå››å¤§æˆ˜ç•¥&quot;, &quot;desc&quot;: &quot;2äº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜ï¼Œäº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜&quot;},
 {&quot;img&quot;:&quot;./img/new3.PNG&quot;, &quot;title&quot;: &quot;3ç½‘ç»œå¼ºå›½æˆ˜ç•¥ä¸â€œåä¸‰äº”â€åå››å¤§æˆ˜ç•¥&quot;, &quot;desc&quot;: &quot;3äº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜ï¼Œäº’è”ç½‘æ˜¯äºŒåä¸–çºªäººç±»æœ€å¤§çš„å‘æ˜&quot;}
]
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Sun, 13 Oct 2019 16:07:00 +0000</pubDate>
<dc:creator>å½­èƒœå…‰</dc:creator>
<og:description>ä¸€ã€æ•ˆæœå›¾å¦‚ä¸‹ ä¸Šé¢çš„æ•ˆæœå›¾ï¼Œæ•ˆæœéœ€æ±‚å¦‚ä¸‹ 1ã€è¿˜æ²¡åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¾ç¤ºåŠ è½½å›¾ç‰‡èƒŒæ™¯å›¾ 2ã€åˆšå¼€å§‹è¿›å…¥é¡µé¢ï¼Œè‡ªåŠ¨åŠ è½½ç¬¬ä¸€å±å¹•çš„å›¾ç‰‡ 3ã€ä¸‹æ‹‰ç•Œé¢ï¼Œå½“ä¸€å¼ å›¾ç‰‡å®¹å™¨å®Œå…¨æ˜¾éœ²å‡ºå±å¹•ï¼Œå³åˆ»åŠ è½½å›¾ç‰‡ï¼Œæ›¿æ¢èƒŒ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/pengshengguang/p/11669176.html</dc:identifier>
</item>
<item>
<title>Zygoteå®¶çš„å¤§å„¿å­ â€”â€” SystemServer - ç§‰å¿ƒè¯´</title>
<link>http://www.cnblogs.com/bingxinshuo/p/11669031.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bingxinshuo/p/11669031.html</guid>
<description>&lt;blockquote readability=&quot;3.9473684210526&quot;&gt;
&lt;p&gt;æœ¬æ–‡åŸºäº Android 9.0 , ä»£ç ä»“åº“åœ°å€ ï¼š &lt;a href=&quot;https://github.com/lulululbj/android_9.0.0_r45&quot;&gt;android_9.0.0_r45&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ä¸­æºç é“¾æ¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/lulululbj/android_9.0.0_r45/blob/master/frameworks/base/services/java/com/android/server/SystemServer.java&quot;&gt;SystemServer.java&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/lulululbj/android_9.0.0_r45/blob/master/frameworks/base/services/core/java/com/android/server/SystemServiceManager.java&quot;&gt;SystemServiceManager.java&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/lulululbj/android_9.0.0_r45/blob/master/frameworks/base/services/core/java/com/android/server/SystemService.java&quot;&gt;SystemService.java&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆæ¥å›é¡¾ä¸€ä¸‹ä¸Šç¯‡æ–‡ç«  &lt;a href=&quot;https://juejin.im/post/5d8f73bf51882555b149dc64&quot;&gt;Java ä¸–ç•Œçš„ç›˜å¤å’Œå¥³å¨² â€”â€” Zygote&lt;/a&gt; ï¼Œä¸»è¦ä»‹ç»äº† Android ä¸–ç•Œä¸­çš„ç¬¬ä¸€ä¸ª Java è¿›ç¨‹ &lt;code&gt;Zygote&lt;/code&gt;ï¼Œå®ƒçš„ä¸»è¦å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;code&gt;registerServerSocketFromEnv()&lt;/code&gt;ï¼Œ æ³¨å†ŒæœåŠ¡ç«¯ socketï¼Œç”¨äºå’Œå®¢æˆ·ç«¯è¿›ç¨‹é€šä¿¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;preload()&lt;/code&gt;ï¼Œé¢„åŠ è½½ä¸€ç³»åˆ—èµ„æºï¼Œæé«˜åº”ç”¨å¯åŠ¨é€Ÿåº¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;forkSystemServer()&lt;/code&gt;ï¼Œåˆ›å»º &lt;code&gt;system_server&lt;/code&gt; è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;åŠŸæˆèº«é€€ï¼Œè°ƒç”¨ &lt;code&gt;runSelectLoop()&lt;/code&gt; ç­‰å¾…å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼Œåˆ›å»ºåº”ç”¨è¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æœ¬ç¯‡æ–‡ç« çš„ä¸»è§’ &lt;code&gt;system_server&lt;/code&gt; è¿›ç¨‹æ˜¯ &lt;code&gt;Zygote&lt;/code&gt; è¿›ç¨‹ fork å‡ºçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒè´Ÿè´£ç®¡ç†å’Œå¯åŠ¨æ•´ä¸ª Framework å±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;embed src=&quot;https://img2018.cnblogs.com/blog/800205/201910/800205-20191013232540593-1330019818.webp&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ &lt;a href=&quot;http://gityuan.com&quot;&gt;Gityuan&lt;/a&gt; çš„è¿™å¼ å›¾ç‰‡ï¼Œæ‰¾ä¸€ä¸‹ &lt;code&gt;System Server&lt;/code&gt; çš„ä½ç½®ï¼Œå®ƒæ‰¿è½½äº†å„ç±»ç³»ç»ŸæœåŠ¡çš„åˆ›å»ºå’Œå¯åŠ¨ã€‚å…³äº &lt;code&gt;system_server&lt;/code&gt; è¿›ç¨‹çš„åˆ›å»ºæµç¨‹ï¼Œä¸Šç¯‡æ–‡ç« ä¸­å·²ç»åšäº†è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œå†ç®€å•çœ‹ä¸€ä¸‹æµç¨‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/800205/201910/800205-20191013232541146-1583950787.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆä¼šè°ƒç”¨åˆ° &lt;code&gt;SystemServer.main()&lt;/code&gt; æ–¹æ³•ã€‚ä¸‹é¢å°±ä»¥æ­¤ä¸ºèµ·ç‚¹ï¼Œæ¥å…·ä½“åˆ†æ SystemServer éƒ½åšäº†äº›ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;h2 id=&quot;systemserver-å¯åŠ¨æµç¨‹&quot;&gt;SystemServer å¯åŠ¨æµç¨‹&lt;/h2&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static void main(String[] args) {
    new SystemServer().run();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ç€çœ‹ &lt;code&gt;run()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private void run() {
    try {
        ......
        // å¦‚æœè®¾å¤‡æ—¶é—´æ—©äº 1970 å¹´ï¼Œå¾ˆå¤š API å¤„ç†è´Ÿæ•°æ—¶ä¼š crashã€‚æ‰€ä»¥ç›´æ¥è®¾ç½®ä¸º 1970 å¹´ 1 æœˆ 1 æ—¥
        if (System.currentTimeMillis() &amp;lt; EARLIEST_SUPPORTED_TIME) {
            Slog.w(TAG, &quot;System clock is before 1970; setting to 1970.&quot;);
            SystemClock.setCurrentTimeMillis(EARLIEST_SUPPORTED_TIME);
        }

        // æœªè®¾ç½®æ—¶åŒºçš„è¯é»˜è®¤è®¾ä¸º GMT
        String timezoneProperty =  SystemProperties.get(&quot;persist.sys.timezone&quot;);
        if (timezoneProperty == null || timezoneProperty.isEmpty()) {
            Slog.w(TAG, &quot;Timezone not set; setting to GMT.&quot;);
            SystemProperties.set(&quot;persist.sys.timezone&quot;, &quot;GMT&quot;);
        }

        // è¯­è¨€åœ°åŒºè®¾ç½®
        if (!SystemProperties.get(&quot;persist.sys.language&quot;).isEmpty()) {
            final String languageTag = Locale.getDefault().toLanguageTag();

            SystemProperties.set(&quot;persist.sys.locale&quot;, languageTag);
            SystemProperties.set(&quot;persist.sys.language&quot;, &quot;&quot;);
            SystemProperties.set(&quot;persist.sys.country&quot;, &quot;&quot;);
            SystemProperties.set(&quot;persist.sys.localevar&quot;, &quot;&quot;);
        }

        // The system server should never make non-oneway calls
        Binder.setWarnOnBlocking(true);
        // The system server should always load safe labels
        PackageItemInfo.setForceSafeLabels(true);

        // Default to FULL within the system server.
        SQLiteGlobal.sDefaultSyncMode = SQLiteGlobal.SYNC_MODE_FULL;

        // Deactivate SQLiteCompatibilityWalFlags until settings provider is initialized
        SQLiteCompatibilityWalFlags.init(null);

        // Here we go!
        Slog.i(TAG, &quot;Entered the Android system server!&quot;);
        int uptimeMillis = (int) SystemClock.elapsedRealtime();
        EventLog.writeEvent(EventLogTags.BOOT_PROGRESS_SYSTEM_RUN, uptimeMillis);
        if (!mRuntimeRestart) {
            MetricsLogger.histogram(null, &quot;boot_system_server_init&quot;, uptimeMillis);
        }

        // è®¾ç½®è™šæ‹Ÿæœºè¿è¡Œåº“è·¯å¾„
        SystemProperties.set(&quot;persist.sys.dalvik.vm.lib.2&quot;, VMRuntime.getRuntime().vmLibrary());

        // Mmmmmm... more memory!
        // æ¸…é™¤è™šæ‹Ÿæœºå†…å­˜å¢é•¿é™åˆ¶ï¼Œå…è®¸åº”ç”¨ç”³è¯·æ›´å¤šå†…å­˜
        VMRuntime.getRuntime().clearGrowthLimit();

        // è®¾ç½®å †å†…å­˜çš„æœ‰æ•ˆåˆ©ç”¨ç‡ä¸º 0.8ï¼Œ(å¯èƒ½è¢«å¿½ç•¥)
        VMRuntime.getRuntime().setTargetHeapUtilization(0.8f);

        // ç¡®ä¿æŒ‡çº¹ä¿¡æ¯å·²ç»å®šä¹‰
        Build.ensureFingerprintProperty();

        // Within the system server, it is an error to access Environment paths without
        // explicitly specifying a user.
        Environment.setUserRequired(true);

        // Within the system server, any incoming Bundles should be defused
        // to avoid throwing BadParcelableException.
        BaseBundle.setShouldDefuse(true);

        // Within the system server, when parceling exceptions, include the stack trace
        Parcel.setStackTraceParceling(true);

        // ç¡®ä¿ç³»ç»Ÿçš„ Binder è°ƒç”¨æ€»æ˜¯è¿è¡Œåœ¨å‰å°ä¼˜å…ˆçº§
        BinderInternal.disableBackgroundScheduling(true);

        // Increase the number of binder threads in system_server
        BinderInternal.setMaxThreads(sMaxBinderThreads);

        // Prepare the main looper thread (this thread).
        android.os.Process.setThreadPriority(
            android.os.Process.THREAD_PRIORITY_FOREGROUND);
            android.os.Process.setCanSelfBackground(false);
        // 1. åˆ›å»ºä¸»çº¿ç¨‹ Looper
        Looper.prepareMainLooper();
        Looper.getMainLooper().setSlowLogThresholdMs(
                SLOW_DISPATCH_THRESHOLD_MS, SLOW_DELIVERY_THRESHOLD_MS);

        // åˆå§‹åŒ– native æœåŠ¡ï¼ŒåŠ è½½ libandroid_servers.so
        System.loadLibrary(&quot;android_servers&quot;);

        // æ£€æŸ¥ä¸Šæ¬¡å…³æœºæ˜¯å¦å¤±è´¥ï¼Œå¯èƒ½ä¸ä¼šæœ‰è¿”å›å€¼
        performPendingShutdown();

        // 2. åˆå§‹åŒ–ç³»ç»Ÿä¸Šä¸‹æ–‡
        createSystemContext();

        // 3. åˆ›å»ºç³»ç»ŸæœåŠ¡ç®¡ç† SystemServiceManager
        // å¹¶å°† mSystemServiceManager æ³¨å†Œåˆ° sLocalServiceObjects ä¸­
        mSystemServiceManager = new SystemServiceManager(mSystemContext);
        mSystemServiceManager.setStartInfo(mRuntimeRestart,
                mRuntimeStartElapsedTime, mRuntimeStartUptime);
        LocalServices.addService(SystemServiceManager.class, mSystemServiceManager);
        // Prepare the thread pool for init tasks that can be parallelized
        SystemServerInitThreadPool.get();
    } finally {
        traceEnd();  // InitBeforeStartServices
    }

    // Start services.
    try {
        traceBeginAndSlog(&quot;StartServices&quot;);
        startBootstrapServices(); // 4. å¯åŠ¨ç³»ç»Ÿå¼•å¯¼æœåŠ¡
        startCoreServices();      // 5. å¯åŠ¨ç³»ç»Ÿæ ¸å¿ƒæœåŠ¡
        startOtherServices();     // 6. å¯åŠ¨å…¶ä»–æœåŠ¡
        SystemServerInitThreadPool.shutdown();
    } catch (Throwable ex) {
        Slog.e(&quot;System&quot;, &quot;******************************************&quot;);
        Slog.e(&quot;System&quot;, &quot;************ Failure starting system services&quot;, ex);
        throw ex;
    } finally {
        traceEnd();
    }

    StrictMode.initVmDefaults(null);

    if (!mRuntimeRestart &amp;amp;&amp;amp; !isFirstBootOrUpgrade()) {
        int uptimeMillis = (int) SystemClock.elapsedRealtime();
        MetricsLogger.histogram(null, &quot;boot_system_server_ready&quot;, uptimeMillis);
        final int MAX_UPTIME_MILLIS = 60 * 1000;
        if (uptimeMillis &amp;gt; MAX_UPTIME_MILLIS) {
            Slog.wtf(SYSTEM_SERVER_TIMING_TAG,
                    &quot;SystemServer init took too long. uptimeMillis=&quot; + uptimeMillis);
        }
    }

    // 7. Loop forever.
    Looper.loop();
    throw new RuntimeException(&quot;Main thread loop unexpectedly exited&quot;);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»£ç è™½ç„¶æ¯”è¾ƒé•¿ï¼Œä½†æ˜¯é€»è¾‘å¾ˆæ¸…æ™°ã€‚æˆ‘åœ¨æ³¨é‡Šé‡Œæ ‡è®°äº†æ¯”è¾ƒé‡è¦çš„ 7 ä¸ªæ­¥éª¤ï¼Œé€ä¸€åˆ†æã€‚&lt;/p&gt;
&lt;h3 id=&quot;looper.preparemainlooper&quot;&gt;Looper.prepareMainLooper()&lt;/h3&gt;
&lt;p&gt;åˆå§‹åŒ– Looperã€‚å…³äº Handler æ¶ˆæ¯æœºåˆ¶ï¼Œå¯ä»¥é˜…è¯»æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  &lt;a href=&quot;https://juejin.im/post/5d712cedf265da03ea5a9ecf&quot;&gt;æ·±å…¥ç†è§£ Handler æ¶ˆæ¯æœºåˆ¶&lt;/a&gt; ã€‚æœ€åä¼šè°ƒç”¨ &lt;code&gt;Looper.loop()&lt;/code&gt; å¼€å¯æ¶ˆæ¯å¾ªç¯ï¼Œå¼€å§‹å¤„ç†æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;createsystemcontext&quot;&gt;createSystemContext()&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private void createSystemContext() {
    // åˆ›å»º system_server ä¸Šä¸‹æ–‡ä¿¡æ¯
    ActivityThread activityThread = ActivityThread.systemMain();
    mSystemContext = activityThread.getSystemContext();
    mSystemContext.setTheme(DEFAULT_SYSTEM_THEME);

    final Context systemUiContext = activityThread.getSystemUiContext();
    // è®¾ç½®ä¸»é¢˜ï¼Œç”¨äºç³»ç»Ÿ dialog ç­‰
    systemUiContext.setTheme(DEFAULT_SYSTEM_THEME);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºç³»ç»Ÿä¸Šä¸‹æ–‡ã€‚é¦–å…ˆè°ƒç”¨ &lt;code&gt;ActivityThread.systemMain()&lt;/code&gt; æ–¹æ³•è·å– &lt;code&gt;ActivityThread&lt;/code&gt; å¯¹è±¡ï¼Œç„¶åå†è·å–ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static ActivityThread systemMain() {
    // åˆ¤æ–­æ˜¯å¦æ˜¯å¤§å†…å­˜è®¾å¤‡,åœ¨ä½å†…å­˜è®¾å¤‡ä¸Šä¸å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ
    if (!ActivityManager.isHighEndGfx()) {
        ThreadedRenderer.disable(true);
    } else {
        ThreadedRenderer.enableForegroundTrimming();
    }
    ActivityThread thread = new ActivityThread();
    thread.attach(true, 0);
    return thread;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…³äº &lt;code&gt;ActivityThread.attach()&lt;/code&gt; æ–¹æ³•è¿™é‡Œä¸åšå…·ä½“åˆ†æäº†ï¼Œåé¢æ–‡ç« è¯´åˆ°åº”ç”¨å¯åŠ¨æ—¶å†æ¥è¯¦ç»†è§£æã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå®Œç³»ç»Ÿä¸Šä¸‹æ–‡ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¯åŠ¨å„ç§ç³»ç»ŸæœåŠ¡äº†ã€‚æºç ä¸­æŠŠæœåŠ¡å¤§è‡´åˆ†ä¸ºäº†ä¸‰ç±»ï¼Œå†æ¥å›é¡¾ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;startBootstrapServices(); // 4. å¯åŠ¨ç³»ç»Ÿå¼•å¯¼æœåŠ¡
startCoreServices();      // 5. å¯åŠ¨ç³»ç»Ÿæ ¸å¿ƒæœåŠ¡
startOtherServices();     // 6. å¯åŠ¨å…¶ä»–æœåŠ¡&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€ä¸€è¿›è¡Œåˆ†æã€‚&lt;/p&gt;
&lt;h3 id=&quot;startbootstrapservices&quot;&gt;startBootstrapServices()&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private void startBootstrapServices() {
    final String TAG_SYSTEM_CONFIG = &quot;ReadingSystemConfig&quot;;
    SystemServerInitThreadPool.get().submit(SystemConfig::getInstance, TAG_SYSTEM_CONFIG);

    // é˜»å¡ç­‰å¾…ä¸ installd å»ºç«‹ socket é€šé“
    Installer installer = mSystemServiceManager.startService(Installer.class);

    // å¯åŠ¨ DeviceIdentifiersPolicyServiceï¼Œåœ¨ ActivityManagerService ä¹‹å‰
    mSystemServiceManager.startService(DeviceIdentifiersPolicyService.class);

    // å¯åŠ¨æœåŠ¡ ActivityManagerService
    mActivityManagerService = mSystemServiceManager.startService(
            ActivityManagerService.Lifecycle.class).getService();
    mActivityManagerService.setSystemServiceManager(mSystemServiceManager);
    mActivityManagerService.setInstaller(installer);

    // å¯åŠ¨æœåŠ¡ PowerManagerService
    mPowerManagerService = mSystemServiceManager.startService(PowerManagerService.class);

    // Now that the power manager has been started, let the activity manager
    // initialize power management features.
    mActivityManagerService.initPowerManagement();

    // å¯åŠ¨æœåŠ¡ RecoverySystemService
    mSystemServiceManager.startService(RecoverySystemService.class);

    // Now that we have the bare essentials of the OS up and running, take
    // note that we just booted, which might send out a rescue party if
    // we're stuck in a runtime restart loop.
    RescueParty.noteBoot(mSystemContext);

    // å¯åŠ¨æœåŠ¡ LightsService
    mSystemServiceManager.startService(LightsService.class);

    // Package manager isn't started yet; need to use SysProp not hardware feature
    if (SystemProperties.getBoolean(&quot;config.enable_sidekick_graphics&quot;, false)) {
        mSystemServiceManager.startService(WEAR_SIDEKICK_SERVICE_CLASS);
    }

    // å¯åŠ¨ DisplayManagerServiceï¼Œåœ¨ PackageManagerService ä¹‹å‰
    mDisplayManagerService = mSystemServiceManager.startService(DisplayManagerService.class);

    // We need the default display before we can initialize the package manager.
    mSystemServiceManager.startBootPhase(SystemService.PHASE_WAIT_FOR_DEFAULT_DISPLAY);

    // æ­£åœ¨åŠ å¯†è®¾å¤‡æ—¶åªè¿è¡Œæ ¸å¿ƒ app
    String cryptState = SystemProperties.get(&quot;vold.decrypt&quot;);
    if (ENCRYPTING_STATE.equals(cryptState)) {
        Slog.w(TAG, &quot;Detected encryption in progress - only parsing core apps&quot;);
        mOnlyCore = true;
    } else if (ENCRYPTED_STATE.equals(cryptState)) {
        Slog.w(TAG, &quot;Device encrypted - only parsing core apps&quot;);
        mOnlyCore = true;
    }

    // å¯åŠ¨æœåŠ¡ PackageManagerService
    if (!mRuntimeRestart) {
        MetricsLogger.histogram(null, &quot;boot_package_manager_init_start&quot;,
                (int) SystemClock.elapsedRealtime());
    }
    mPackageManagerService = PackageManagerService.main(mSystemContext, installer,
            mFactoryTestMode != FactoryTest.FACTORY_TEST_OFF, mOnlyCore);
    mFirstBoot = mPackageManagerService.isFirstBoot();
    mPackageManager = mSystemContext.getPackageManager();
    if (!mRuntimeRestart &amp;amp;&amp;amp; !isFirstBootOrUpgrade()) {
        MetricsLogger.histogram(null, &quot;boot_package_manager_init_ready&quot;,
                (int) SystemClock.elapsedRealtime());
    }
    if (!mOnlyCore) {
        boolean disableOtaDexopt = SystemProperties.getBoolean(&quot;config.disable_otadexopt&quot;,
                false);
        if (!disableOtaDexopt) {
            traceBeginAndSlog(&quot;StartOtaDexOptService&quot;);
            try {
                OtaDexoptService.main(mSystemContext, mPackageManagerService);
            } catch (Throwable e) {
                reportWtf(&quot;starting OtaDexOptService&quot;, e);
            } finally {
                traceEnd();
            }
        }
    }

    // å¯åŠ¨æœåŠ¡ UserManagerService
    mSystemServiceManager.startService(UserManagerService.LifeCycle.class);

    // åˆå§‹åŒ–å±æ€§ cache ä»¥ç¼“å­˜åŒ…èµ„æº
    AttributeCache.init(mSystemContext);

    // è®¾ç½® AMS
    mActivityManagerService.setSystemProcess();

    // DisplayManagerService needs to setup android.display scheduling related policies
    // since setSystemProcess() would have overridden policies due to setProcessGroup
    mDisplayManagerService.setupSchedulerPolicies();

    // å¯åŠ¨æœåŠ¡ OverlayManagerService
    OverlayManagerService overlayManagerService = new OverlayManagerService(
            mSystemContext, installer);
    mSystemServiceManager.startService(overlayManagerService);

    if (SystemProperties.getInt(&quot;persist.sys.displayinset.top&quot;, 0) &amp;gt; 0) {
        // DisplayManager needs the overlay immediately.
        overlayManagerService.updateSystemUiContext();
        LocalServices.getService(DisplayManagerInternal.class).onOverlayChanged();
    }

    // åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­å¯åŠ¨ SensorService
    mSensorServiceStart = SystemServerInitThreadPool.get().submit(() -&amp;gt; {
        TimingsTraceLog traceLog = new TimingsTraceLog(
                SYSTEM_SERVER_TIMING_ASYNC_TAG, Trace.TRACE_TAG_SYSTEM_SERVER);
        startSensorService();
    }, START_SENSOR_SERVICE);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;startBootstrapServices()&lt;/code&gt; æ–¹æ³•ä¸­çš„éƒ½æ˜¯ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä¸­çš„å…³é”®æœåŠ¡ï¼Œä¸”ç›¸äº’ä¾èµ–ï¼Œä¸»è¦ä¸‹åˆ—æœåŠ¡ ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;code&gt;Installer&lt;/code&gt; &lt;code&gt;DeviceIdentifiersPolicyService&lt;/code&gt; &lt;code&gt;ActivityManagerService&lt;/code&gt; &lt;code&gt;PowerManagerService&lt;/code&gt; &lt;code&gt;RecoverySystemService&lt;/code&gt; &lt;code&gt;LightsService&lt;/code&gt; &lt;code&gt;StartSidekickService&lt;/code&gt; &lt;code&gt;DisplayManagerService&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SystemService.PHASE_WAIT_FOR_DEFAULT_DISPLAY&lt;/strong&gt; (100)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PackageManagerService&lt;/code&gt; &lt;code&gt;UserManagerService&lt;/code&gt; &lt;code&gt;OverlayManagerService&lt;/code&gt; &lt;code&gt;SensorService&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€å…±å¯åŠ¨äº†åäºŒä¸ªæ ¸å¿ƒæœåŠ¡ã€‚æ³¨æ„ä¸­é—´çš„ &lt;code&gt;SystemService.PHASE_WAIT_FOR_DEFAULT_DISPLAY&lt;/code&gt;ï¼Œå®ƒå¹¶ä¸æ˜¯ä»£è¡¨ä»€ä¹ˆç³»ç»ŸæœåŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ª int å€¼ &lt;code&gt;100&lt;/code&gt;,ç±»ä¼¼çš„ int å€¼è¿˜æœ‰ä¸€äº›ï¼Œå®šä¹‰åœ¨ &lt;code&gt;SystemService&lt;/code&gt; ç±»ä¸­ï¼Œå®ƒçš„ä½œç”¨æ˜¯ç»™æœåŠ¡å¯åŠ¨è¿‡ç¨‹åˆ’åˆ†é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œå¯ä»¥åšä¸åŒçš„äº‹æƒ…ã€‚è¿™é‡Œå…ˆæ··ä¸ªè„¸ç†Ÿï¼Œç­‰ä»‹ç»å®Œæ‰€æœ‰çš„æœåŠ¡ï¼Œå†å›è¿‡å¤´æ¥æ€»ç»“ä¸€ä¸‹æœ‰å“ªäº›é˜¶æ®µã€‚&lt;/p&gt;
&lt;h3 id=&quot;startcoreservices&quot;&gt;startCoreServices()&lt;/h3&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private void startCoreServices() {
    // å¯åŠ¨æœåŠ¡ BatteryServiceï¼Œéœ€è¦ LightService
    mSystemServiceManager.startService(BatteryService.class);

    // å¯åŠ¨æœåŠ¡ UsageStatsServiceï¼Œç»Ÿè®¡åº”ç”¨ä½¿ç”¨æƒ…å†µ
    mSystemServiceManager.startService(UsageStatsService.class);
    mActivityManagerService.setUsageStatsManager(
            LocalServices.getService(UsageStatsManagerInternal.class));

    // æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¯æ›´æ–°çš„ WebViewã€‚å­˜åœ¨å°±å¯åŠ¨æœåŠ¡ WebViewUpdateService
    if (mPackageManager.hasSystemFeature(PackageManager.FEATURE_WEBVIEW)) {
        mWebViewUpdateService = mSystemServiceManager.startService(WebViewUpdateService.class);
    }

    // å¯åŠ¨æœåŠ¡ BinderCallsStatsServiceï¼Œè·Ÿè¸ª Binder è°ƒç”¨çš„ cpu æ—¶é—´æ¶ˆè€—
    BinderCallsStatsService.start();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨äº†å››ä¸ªæœåŠ¡ï¼Œ&lt;code&gt;BatteryService&lt;/code&gt; &lt;code&gt;UsageStatsService&lt;/code&gt; &lt;code&gt;WebViewUpdateService&lt;/code&gt; å’Œ &lt;code&gt;BinderCallsStatsService&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&quot;startotherservices&quot;&gt;startOtherServices()&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;startOtherServices()&lt;/code&gt; æºç æœ‰ä¸€åƒå¤šè¡Œï¼Œå°±åƒä¸€ä¸ªæ‚è´§é“ºï¼Œå¯åŠ¨äº†ä¸€ç³»åˆ—çš„æœåŠ¡ã€‚ä¸‹é¢å°½é‡ç²¾ç®€ä¸€ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;KeyAttestationApplicationIdProviderService/KeyChainSystemService
SchedulingPolicyService/TelecomLoaderService/TelephonyRegistry

mContentResolver = context.getContentResolver();

AccountManagerService/ContentService

mActivityManagerService.installSystemProviders();
  
DropBoxManagerService/VibratorService/ConsumerIrService/AlarmManagerService

final Watchdog watchdog = Watchdog.getInstance();
watchdog.init(context, mActivityManagerService);

InputManagerService/WindowManagerService/VrManagerService/BluetoothService
IpConnectivityMetrics/NetworkWatchlistService/PinnerService
InputMethodManagerService/AccessibilityManagerService/StorageManagerService
StorageStatsService/UiModeManagerService/LockSettingsService
PersistentDataBlockService/OemLockService/DeviceIdleController
DevicePolicyManagerService/StatusBarManagerService/ClipboardService
NetworkManagementService/IpSecService/TextServicesManagerService
TextClassificationManagerService/NetworkScoreService/NetworkStatsService
NetworkPolicyManagerService/WifiScanningService/RttService
WifiAware/WifiP2P/Lowpan/Ethernet/ConnectivityService/NsdService
SystemUpdateManagerService/UpdateLockService/NotificationManagerService
DeviceStorageMonitorService/LocationManagerService/CountryDetectorService
SearchManagerService/WallpaperManagerService/AudioService/BroadcastRadioService
DockObserver/ThermalObserver/WiredAccessoryManager/MidiManager/UsbService
SerialService/HardwarePropertiesManagerService/TwilightService
ColorDisplayService/JobSchedulerService/SoundTriggerService/TrustManagerService
BackupManager/AppWidgerService/VoiceRecognitionManager/GestureLauncherService
SensorNotificationService/ContextHubSystemService/DiskStatsService
TimeZoneRulesManagerService/NetworkTimeUpdateService/CommonTimeManagementService
CertBlacklister/EmergencyAffordanceService/DreamManagerService/GraphicsStatsService
CoverageService/PrintManager/CompanionDeviceManager/RestrictionsManagerService
MediaSessionService/MediaUpdateService/HdmiControlService/TvInputManagerService
MediaResourceMonitorService/TvRemoteService/MediaRouterService/FingerprintService
BackgroundDexOptService/PruneInstantAppsJobService/ShortcutService
LauncherAppsService/CrossProfileAppsService/MediaProjectionManagerService
WearConfigService/WearConnectivityService/WearTimeService/WearLeftyService
WearGlobalActionsService/SliceManagerService/CameraServiceProxy/IoTSystemService
MmsServiceBroker/AutoFillService

// It is now time to start up the app processes...
vibrator.systemReady();
lockSettings.systemReady();

// 480
mSystemServiceManager.startBootPhase(SystemService.PHASE_LOCK_SETTINGS_READY); 
// 500
mSystemServiceManager.startBootPhase(SystemService.PHASE_SYSTEM_SERVICES_READY); 

wm.systemReady();
mPowerManagerService.systemReady(mActivityManagerService.getAppOpsService());
mPackageManagerService.systemReady();
mDisplayManagerService.systemReady(safeMode, mOnlyCore);

// Start device specific services
final String[] classes = mSystemContext.getResources().getStringArray(
        R.array.config_deviceSpecificSystemServices);
for (final String className : classes) {
    try {
        mSystemServiceManager.startService(className);
    } catch (Throwable e) {
        reportWtf(&quot;starting &quot; + className, e);
    }
}

// 520
mSystemServiceManager.startBootPhase(SystemService.PHASE_DEVICE_SPECIFIC_SERVICES_READY);

mActivityManagerService.systemReady(() -&amp;gt; {
    // 550
    mSystemServiceManager.startBootPhase(SystemService.PHASE_ACTIVITY_MANAGER_READY);
    
    startSystemUi(context, windowManagerF);
    
    networkManagementF.systemReady();
    ipSecServiceF.systemReady();
    networkStatsF.systemReady();
    connectivityF.systemReady();
    
    Watchdog.getInstance().start
    mPackageManagerService.waitForAppDataPrepared();

    // 600
    mSystemServiceManager.startBootPhase(SystemService.PHASE_THIRD_PARTY_APPS_CAN_START);
    
    locationF.systemRunning();
    countryDetectorF.systemRunning();
    networkTimeUpdaterF.systemRunning();
    commonTimeMgmtServiceF.systemRunning();
    inputManagerF.systemRunning();
    telephonyRegistryF.systemRunning();
    mediaRouterF.systemRunning();
    mmsServiceF.systemRunning();
    incident.systemRunning();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°å¯åŠ¨äº†ç›¸å½“å¤šçš„ç³»ç»ŸæœåŠ¡ã€‚&lt;code&gt;startOtherServices()&lt;/code&gt; æ–¹æ³•å…±ç»å†äº†äº”ä¸ªå¯åŠ¨é˜¶æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;SystemService.PHASE_LOCK_SETTINGS_READY             // 480
SystemService.PHASE_SYSTEM_SERVICES_READY           // 500
SystemService.PHASE_DEVICE_SPECIFIC_SERVICES_READY  // 520
SystemService.PHASE_ACTIVITY_MANAGER_READY          // 550
SystemService.PHASE_THIRD_PARTY_APPS_CAN_START      // 600&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åè°ƒç”¨çš„ &lt;code&gt;mActivityManagerService.systemReady()&lt;/code&gt; æ–¹æ³•ã€‚è¯¥æ–¹æ³•ä¸­ä¼šè°ƒç”¨ &lt;code&gt;startHomeActivityLocked&lt;/code&gt; æ¥å¯åŠ¨æ¡Œé¢ Activityï¼Œè¿™æ ·æ¡Œé¢åº”ç”¨å°±å¯åŠ¨äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;looper.loop&quot;&gt;Looper.loop()&lt;/h3&gt;
&lt;p&gt;è‡³æ­¤ï¼Œ&lt;code&gt;system_server&lt;/code&gt; è¿›ç¨‹çš„ä¸»è¦å·¥ä½œå°±ç®—å®Œæˆäº†ï¼Œè¿›å…¥ Looper.loop() çŠ¶æ€,ç­‰å¾…å…¶ä»–çº¿ç¨‹é€šè¿‡ Handler å‘é€æ¶ˆæ¯åˆ°ä¸»çº¿ç¨‹å¹¶å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;systemserver-å¯åŠ¨é˜¶æ®µåˆ†ç±»&quot;&gt;SystemServer å¯åŠ¨é˜¶æ®µåˆ†ç±»&lt;/h2&gt;
&lt;p&gt;å›è¿‡å¤´å†æ¥çœ‹çœ‹å‰é¢æåˆ°çš„å¯åŠ¨é˜¶æ®µåˆ†ç±»ï¼Œå®šä¹‰åœ¨ &lt;code&gt;com.android.server.SystemService&lt;/code&gt; ç±»ä¸­ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/*
 * Boot Phases
 * 
 * å¯åŠ¨é˜¶æ®µ
 */
public static final int PHASE_WAIT_FOR_DEFAULT_DISPLAY = 100; // maybe should be a dependency?

/**
 * After receiving this boot phase, services can obtain lock settings data.
 */
public static final int PHASE_LOCK_SETTINGS_READY = 480;

/**
 * After receiving this boot phase, services can safely call into core system services
 * such as the PowerManager or PackageManager.
 * 
 * åœ¨è¿™ä¸ªé˜¶æ®µä¹‹åï¼Œå¯ä»¥å®‰å…¨çš„è°ƒç”¨ç³»ç»Ÿæ ¸å¿ƒæœåŠ¡ï¼Œå¦‚ PowerManager å’Œ PackageManager
 */
public static final int PHASE_SYSTEM_SERVICES_READY = 500;

/**
 * After receiving this boot phase, services can safely call into device specific services.
 * 
 * åœ¨è¿™ä¸ªé˜¶æ®µä¹‹åï¼Œå¯ä»¥å®‰å…¨è°ƒç”¨è®¾å¤‡ç‰¹å®šçš„æœåŠ¡
 */
public static final int PHASE_DEVICE_SPECIFIC_SERVICES_READY = 520;

/**
 * After receiving this boot phase, services can broadcast Intents.
 * 
 * åœ¨è¿™ä¸ªé˜¶æ®µä¹‹åï¼ŒæœåŠ¡å¯ä»¥å¹¿æ’­
 */
public static final int PHASE_ACTIVITY_MANAGER_READY = 550;

/**
 * After receiving this boot phase, services can start/bind to third party apps.
 * Apps will be able to make Binder calls into services at this point.
 * 
 * åœ¨è¿™ä¸ªé˜¶æ®µä¹‹åï¼ŒæœåŠ¡å¯ä»¥å¯åŠ¨/ç»‘å®šç¬¬ä¸‰æ–¹åº”ç”¨
 * åº”ç”¨æ­¤æ—¶å¯ä»¥è¿›è¡Œ Binder è°ƒç”¨
 */
public static final int PHASE_THIRD_PARTY_APPS_CAN_START = 600;

/**
 * After receiving this boot phase, services can allow user interaction with the device.
 * This phase occurs when boot has completed and the home application has started.
 * System services may prefer to listen to this phase rather than registering a
 * broadcast receiver for ACTION_BOOT_COMPLETED to reduce overall latency.
 * 
 * åœ¨è¿™ä¸ªé˜¶æ®µä¹‹åï¼Œå…è®¸ç”¨æˆ·å’Œè®¾å¤‡äº¤äº’ã€‚
 * è¿™ä¸ªé˜¶æ®µå‘ç”Ÿåœ¨å¯åŠ¨å®Œæˆï¼Œhome åº”ç”¨å·²ç»å¼€å§‹ã€‚
 * ç³»ç»ŸæœåŠ¡æ›´å€¾å‘äºç›‘å¬è¿™ä¸ªé˜¶æ®µï¼Œè€Œä¸æ˜¯ç›‘å¬å¯åŠ¨å¹¿æ’­ ACTION_BOOT_COMPLETEDï¼Œä»¥é™ä½å»¶è¿Ÿ
 */
public static final int PHASE_BOOT_COMPLETED = 1000;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ &lt;code&gt;system_server&lt;/code&gt; å¯åŠ¨è¿‡ç¨‹ä¸­å„ä¸ªé˜¶æ®µçš„ä½ç½®å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;private void startBootstrapServices() {
    ...
    // 100
    mSystemServiceManager.startBootPhase(SystemService.PHASE_WAIT_FOR_DEFAULT_DISPLAY);
    ...
}

private void startOtherServices() {
    ...
    // 480
    mSystemServiceManager.startBootPhase(SystemService.PHASE_LOCK_SETTINGS_READY);
    // 500
    mSystemServiceManager.startBootPhase(SystemService.PHASE_SYSTEM_SERVICES_READY);

    ...
    // 520
    mSystemServiceManager.startBootPhase(SystemService.PHASE_DEVICE_SPECIFIC_SERVICES_READY);

    mActivityManagerService.systemReady(() -&amp;gt; {
        mSystemServiceManager.startBootPhase(
                    SystemService.PHASE_ACTIVITY_MANAGER_READY); // 550
                    
        ...
        mSystemServiceManager.startBootPhase(
                    SystemService.PHASE_THIRD_PARTY_APPS_CAN_START); // 600
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åçš„ &lt;code&gt;SystemService.PHASE_BOOT_COMPLETEDï¼ˆ1000ï¼‰&lt;/code&gt; åœ¨ AMS çš„ &lt;code&gt;finishBooting()&lt;/code&gt; æ–¹æ³•ä¸­è°ƒç”¨ã€‚å¦å¤–æ³¨æ„ &lt;code&gt;480&lt;/code&gt; å’Œ &lt;code&gt;500&lt;/code&gt; ä¸¤ä¸ªé˜¶æ®µæ˜¯è¿åœ¨ä¸€èµ·çš„ï¼Œä¸­é—´æ²¡æœ‰å‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œåˆ’åˆ†é˜¶æ®µçš„å…·ä½“ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨ &lt;code&gt;startBootPhase()&lt;/code&gt; æ–¹æ³•ä¸­ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public void startBootPhase(final int phase) {
    if (phase &amp;lt;= mCurrentPhase) {
        throw new IllegalArgumentException(&quot;Next phase must be larger than previous&quot;);
    }
    mCurrentPhase = phase;

    try {
        final int serviceLen = mServices.size();
        for (int i = 0; i &amp;lt; serviceLen; i++) {
            final SystemService service = mServices.get(i);
            long time = SystemClock.elapsedRealtime();
            try {
                // å›è°ƒç³»ç»ŸæœåŠ¡çš„ onBootPhase() æ–¹æ³•
                service.onBootPhase(mCurrentPhase);
            } catch (Exception ex) {
                throw new RuntimeException(&quot;Failed to boot service &quot;
                        + service.getClass().getName()
                        + &quot;: onBootPhase threw an exception during phase &quot;
                        + mCurrentPhase, ex);
            }
            warnIfTooLong(SystemClock.elapsedRealtime() - time, service, &quot;onBootPhase&quot;);
        }
    } finally {
        Trace.traceEnd(Trace.TRACE_TAG_SYSTEM_SERVER);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ ¸å¿ƒå°±åœ¨äº &lt;code&gt;service.onBootPhase(mCurrentPhase);&lt;/code&gt;ã€‚æ‰€æœ‰ç³»ç»ŸæœåŠ¡éƒ½æ˜¯ç»§æ‰¿äº &lt;code&gt;SystemService&lt;/code&gt; çš„ï¼Œ&lt;code&gt;startBootPhase()&lt;/code&gt; æ–¹æ³•ä¼šå›è°ƒå½“å‰é˜¶æ®µå·²ç»åŠ å…¥ &lt;code&gt;mServices&lt;/code&gt; çš„æ‰€æœ‰ç³»ç»ŸæœåŠ¡çš„ &lt;code&gt;onBootPhase()&lt;/code&gt; æ–¹æ³•ï¼Œåœ¨åˆé€‚çš„é˜¶æ®µåšä¸€äº›åˆé€‚çš„äº‹æƒ…ã€‚ä»¥ AMS ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Override
public void onBootPhase(int phase) {
    mService.mBootPhase = phase;
    if (phase == PHASE_SYSTEM_SERVICES_READY) {
        mService.mBatteryStatsService.systemServicesReady();
        mService.mServices.systemServicesReady();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;systemserver-æ˜¯å¦‚ä½•å¯åŠ¨æœåŠ¡çš„&quot;&gt;SystemServer æ˜¯å¦‚ä½•å¯åŠ¨æœåŠ¡çš„ ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;çœ‹å®Œ SystemServer çš„æºç ï¼Œå®ƒæœ€é‡è¦çš„å·¥ä½œå°±æ˜¯åˆ›å»ºå’Œå¯åŠ¨å„ç§ç³»ç»ŸæœåŠ¡ã€‚é‚£ä¹ˆæœåŠ¡ä¸€èˆ¬æ˜¯å¦‚ä½•åˆ›å»ºçš„å‘¢ï¼Ÿä¸‹é¢ä»¥ &lt;code&gt;startBootstrapServices()&lt;/code&gt; ä¸­åˆ›å»ºçš„ç¬¬ä¸€ä¸ªæœåŠ¡ &lt;code&gt;Installer&lt;/code&gt; ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;Installer installer = mSystemServiceManager.startService(Installer.class);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿›å…¥ &lt;code&gt;SystemServiceManager&lt;/code&gt; çš„ &lt;code&gt;startService()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public &amp;lt;T extends SystemService&amp;gt; T startService(Class&amp;lt;T&amp;gt; serviceClass) {
    try {
        // è·å–æœåŠ¡åç§°
        final String name = serviceClass.getName();

        // Create the service.
        if (!SystemService.class.isAssignableFrom(serviceClass)) {
            throw new RuntimeException(&quot;Failed to create &quot; + name
                    + &quot;: service must extend &quot; + SystemService.class.getName());
        }
        final T service;
        try {
            // è·å–æœåŠ¡ç±»çš„æ„é€ å™¨
            Constructor&amp;lt;T&amp;gt; constructor = serviceClass.getConstructor(Context.class);
            // åå°„åˆ›å»º service
            service = constructor.newInstance(mContext);
        } catch (InstantiationException ex) {
            throw new RuntimeException(&quot;Failed to create service &quot; + name
                    + &quot;: service could not be instantiated&quot;, ex);
        } catch (IllegalAccessException ex) {
            throw new RuntimeException(&quot;Failed to create service &quot; + name
                    + &quot;: service must have a public constructor with a Context argument&quot;, ex);
        } catch (NoSuchMethodException ex) {
            throw new RuntimeException(&quot;Failed to create service &quot; + name
                    + &quot;: service must have a public constructor with a Context argument&quot;, ex);
        } catch (InvocationTargetException ex) {
            throw new RuntimeException(&quot;Failed to create service &quot; + name
                    + &quot;: service constructor threw an exception&quot;, ex);
        }

        startService(service);
        return service;
    } finally {
        Trace.traceEnd(Trace.TRACE_TAG_SYSTEM_SERVER);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªç³»ç»ŸæœåŠ¡ã€‚è¿™ä¸ªç³»ç»ŸæœåŠ¡å¿…é¡»æ˜¯ &lt;code&gt;com.android.server.SystemService&lt;/code&gt; çš„å­ç±»ã€‚æ ¹æ®å‚æ•°ä¼ å…¥çš„ &lt;code&gt;Class&lt;/code&gt; å¯¹è±¡åå°„åˆ›å»ºå…¶å®ä¾‹ï¼Œå†è°ƒç”¨é‡è½½æ–¹æ³• &lt;code&gt;startService()&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public void startService(@NonNull final SystemService service) {
    // Register it.
    mServices.add(service);
    // Start it.
    long time = SystemClock.elapsedRealtime();
    try {
        // å›è°ƒç³»ç»ŸæœåŠ¡çš„ onStart() æ–¹æ³•
        service.onStart();
    } catch (RuntimeException ex) {
        throw new RuntimeException(&quot;Failed to start service &quot; + service.getClass().getName()
            + &quot;: onStart threw an exception&quot;, ex);
    }
    warnIfTooLong(SystemClock.elapsedRealtime() - time, service, &quot;onStart&quot;);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å°±ä¸¤æ­¥ã€‚ç¬¬ä¸€æ­¥ï¼Œæ³¨å†ŒæœåŠ¡ï¼Œ&lt;code&gt;mServices&lt;/code&gt; æ˜¯ä¸€ä¸ª &lt;code&gt;ArrayList&amp;lt;SystemService&amp;gt;&lt;/code&gt; å¯¹è±¡ï¼Œç”¨æ¥ä¿å­˜å·²ç»åˆ›å»ºçš„ç³»ç»ŸæœåŠ¡ã€‚ç¬¬äºŒæ­¥ï¼Œå›è°ƒæœåŠ¡çš„ &lt;code&gt;onStart()&lt;/code&gt; æ–¹æ³•ï¼Œè¿˜æ˜¯ä»¥ &lt;code&gt;Installer&lt;/code&gt; ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;@Override
public void onStart() {
    if (mIsolated) {
        mInstalld = null;
    } else {
        connect();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ ·ä¸€ä¸ªæœåŠ¡å°±å¯åŠ¨å®Œæˆäº†ã€‚è¿™æ˜¯ä¸€ç§æ¯”è¾ƒæ™®éçš„å¯åŠ¨æ–¹å¼ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›ç³»ç»ŸæœåŠ¡å…·æœ‰ä¸ä¸€æ ·çš„å¯åŠ¨æ–¹å¼ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ†æäº†ï¼Œåé¢æœ‰æœºä¼šè§£æå…·ä½“æœåŠ¡çš„æ—¶å€™å†æ¥åˆ†æã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;SystemServer&lt;/code&gt; çš„å¯åŠ¨æµç¨‹æ¯”è¾ƒè€¿ç›´ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šå¼¯å¼¯ç»•ï¼Œä¸‹é¢ç®€å•æ€»ç»“ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;è¯­è¨€ã€æ—¶åŒºã€åœ°åŒºç­‰è®¾ç½®&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºå†…å­˜è®¾ç½®&lt;/li&gt;
&lt;li&gt;æŒ‡çº¹ä¿¡æ¯ï¼ŒBinder è°ƒç”¨è®¾ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Looper.prepareMainLooper()&lt;/code&gt; ï¼Œåˆ›å»ºä¸»çº¿ç¨‹ Looper&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ– native æœåŠ¡ï¼ŒåŠ è½½ &lt;code&gt;libandroid_servers.so&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;createSystemContext()&lt;/code&gt;ï¼Œåˆå§‹åŒ–ç³»ç»Ÿä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;li&gt;åˆ›å»ºç³»ç»ŸæœåŠ¡ç®¡ç† &lt;code&gt;SystemServiceManager&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startBootstrapServices&lt;/code&gt;ï¼Œå¯åŠ¨ç³»ç»Ÿå¼•å¯¼æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startCoreServices&lt;/code&gt;ï¼Œå¯åŠ¨ç³»ç»Ÿæ ¸å¿ƒæœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startOtherServices&lt;/code&gt;ï¼Œå¯åŠ¨å…¶ä»–æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Looper.loop()&lt;/code&gt;ï¼Œå¼€å¯æ¶ˆæ¯å¾ªç¯&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¦å¤–ï¼Œåœ¨ &lt;code&gt;startOtherServices&lt;/code&gt; çš„æœ€åä¼šè°ƒç”¨ AMS çš„ &lt;code&gt;onSystemReady()&lt;/code&gt; æ–¹æ³•å¯åŠ¨æ¡Œé¢ Activityã€‚&lt;/p&gt;
&lt;h2 id=&quot;é¢„å‘Š&quot;&gt;é¢„å‘Š&lt;/h2&gt;
&lt;p&gt;è¿˜è®°å¾— &lt;code&gt;Zygote&lt;/code&gt; è¿›ç¨‹çš„ &lt;code&gt;runSelectLoop()&lt;/code&gt; æ–¹æ³•å—ï¼ŸZygote åœ¨åˆ›å»ºå®Œ &lt;code&gt;system_server&lt;/code&gt; è¿›ç¨‹ä¹‹åï¼Œå°±å¼€å§‹é»˜é»˜çš„ç­‰å¾…å®¢æˆ·ç«¯è¯·æ±‚åˆ›å»ºåº”ç”¨è¿›ç¨‹ã€‚ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†ä»æºç è§’åº¦æ¥æ‹ä¸€éå®¢æˆ·ç«¯æ˜¯å¦‚ä½•å‘é€è¯·æ±‚ï¼ŒZygote æ˜¯å¦‚ä½•å¤„ç†è¯·æ±‚ï¼Œåº”ç”¨è¿›ç¨‹æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œæ•¬è¯·æœŸå¾…ï¼&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;æ–‡ç« é¦–å‘å¾®ä¿¡å…¬ä¼—å·ï¼š &lt;strong&gt;&lt;code&gt;ç§‰å¿ƒè¯´&lt;/code&gt;&lt;/strong&gt; ï¼Œ ä¸“æ³¨ Java ã€ Android åŸåˆ›çŸ¥è¯†åˆ†äº«ï¼ŒLeetCode é¢˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;æ›´å¤šæœ€æ–°åŸåˆ›æ–‡ç« ï¼Œæ‰«ç å…³æ³¨æˆ‘å§ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/800205/201910/800205-20191013232542531-1618509851.jpg&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 13 Oct 2019 15:26:00 +0000</pubDate>
<dc:creator>ç§‰å¿ƒè¯´</dc:creator>
<og:description>æœ¬æ–‡åŸºäº Android 9.0 , ä»£ç ä»“åº“åœ°å€ ï¼š 'android_9.0.0_r45' æ–‡ä¸­æºç é“¾æ¥ï¼š 'SystemServer.java' 'SystemServiceManager.ja</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bingxinshuo/p/11669031.html</dc:identifier>
</item>
<item>
<title>F#å‘¨æŠ¥2019å¹´ç¬¬41æœŸ - Ken.W</title>
<link>http://www.cnblogs.com/kenwoo/p/11667448.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kenwoo/p/11667448.html</guid>
<description>[unable to retrieve full-text content]æ–°é—» &quot;.NETæ¶æ„æŒ‡å—&quot; &quot;ç¾å¦™çš„WebSharperï¼šå­¦æœ¯åˆŠç‰©&quot; &quot;.NET Core 3.0ä¸­Blazor Serverçš„æ–¹æ¡ˆä¸æ€§èƒ½&quot; &quot;Mono 6.4.0å‘å¸ƒè¯´æ˜&quot; &quot;CapitolFSharpå¬é›†å‘è¨€äºº&quot; è§†é¢‘åŠå¹»ç¯ç‰‡ &quot;å‡½æ•°å¼ååº”å‹ç¼–ç¨‹ä¸­çš„å®æ—¶æµåˆ†æ&quot; &quot;é¢†åŸŸæ¨¡å‹å‡½æ•°å¼åŒ–&quot; &quot;ä¸´è¿‘åæœˆ</description>
<pubDate>Sun, 13 Oct 2019 15:09:00 +0000</pubDate>
<dc:creator>Ken.W</dc:creator>
<og:description>æ–°é—» '.NETæ¶æ„æŒ‡å—' 'ç¾å¦™çš„WebSharperï¼šå­¦æœ¯åˆŠç‰©' '.NET Core 3.0ä¸­Blazor Serverçš„æ–¹æ¡ˆä¸æ€§èƒ½' 'Mono 6.4.0å‘å¸ƒè¯´æ˜' 'CapitolFSha</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/kenwoo/p/11667448.html</dc:identifier>
</item>
<item>
<title>.Net Core Serverlessåˆä½“éªŒ - ç¼–ç¨‹ç©å®¶</title>
<link>http://www.cnblogs.com/Erik_Xu/p/11666872.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Erik_Xu/p/11666872.html</guid>
<description>&lt;p&gt;ã€€ã€€Serverless æ˜¯ä¸€ä¸ªå½“ä»Šè½¯ä»¶ä¸–ç•Œä¸­æ¯”è¾ƒæ–°çš„è¯é¢˜ã€‚å®ƒå¹¶æ²¡æœ‰ä¸€ä¸ªæ™®éå…¬è®¤çš„æƒå¨å®šä¹‰ï¼Œæ¯ä¸ªäººæ¯ä¸ªä¼ä¸šå¯¹å®ƒçš„è§£é‡Šå¯èƒ½éƒ½æœ‰ä¸åŒï¼Œè€Œ Serverless æ­£æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ä¸æ–­å‘å‘å±•çš„ã€‚ä½†æ˜¯å°±ç®—å¦‚æ­¤ï¼Œæœ‰ä¸€äº› Serverless çš„ç‰¹å¾è¿˜æ˜¯è¢«å¹¿æ³›è®¤å¯çš„ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æœåŠ¡ç«¯çš„ä¸»æœºå’Œè¿›ç¨‹å®Œå…¨ç”±ä¾›åº”å•†ç®¡ç†&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ ¹æ®è´Ÿè½½è¿›è¡Œè‡ªåŠ¨ä¼¸ç¼©&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§ç²¾ç¡®çš„ä½¿ç”¨æƒ…å†µæ¥è®¡è´¹ï¼Œå°±åƒæ°´å’Œç”µä¸€æ ·ã€‚ï¼ˆæ•ˆç”¨è®¡ç®—ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ã€€ã€€å¼•ç”¨æ˜é‡‘ï¼ŒåŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://juejin.im/post/5c68fdbfe51d4539a569f259&quot; target=&quot;_blank&quot;&gt;https://juejin.im/post/5c68fdbfe51d4539a569f259&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Â &lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013161631378-931541090.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€åœ¨è¿™ä¸ªå‘å±•å†ç¨‹ä¸­æœ‰ä»¥ä¸‹å‡ ä¸ªæ¸è¿›çš„é‡Œç¨‹ç¢‘äº‹ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯å°†å¤§å‹ç‰©ç†æœºè™šæ‹Ÿæˆå•ä¸ªçš„VMèµ„æºã€‚&lt;/li&gt;
&lt;li&gt;å°†è™šæ‹ŸåŒ–é›†ç¾¤æ¬åˆ°äº‘è®¡ç®—å¹³å°ä¸Šï¼Œåªåšç®€å•è¿ç»´ã€‚&lt;/li&gt;
&lt;li&gt;æŠŠæ¯ä¸€ä¸ªVMæŒ‰ç…§è¿è¡Œç©ºé—´æœ€å°åŒ–çš„åŸåˆ™åˆ‡åˆ†æˆæ›´ç»†çš„Dockerå®¹å™¨ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäºDockerå®¹å™¨æ„å»ºä¸ç”¨ç®¡ç†ä»»ä½•è¿è¡Œç¯å¢ƒã€ä»…éœ€ç¼–å†™æ ¸å¿ƒä»£ç çš„Serverlessæ¶æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ã€€ã€€å¼•ç”¨é˜¿é‡Œäº‘ï¼ŒåŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://help.aliyun.com/knowledge_detail/65565.html?spm=a2c4g.11186631.2.1.4f811bbeDYGmvp&quot; target=&quot;_blank&quot;&gt;https://help.aliyun.com/knowledge_detail/65565.html?spm=a2c4g.11186631.2.1.4f811bbeDYGmvp&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€å‡½æ•°è®¡ç®—æ˜¯äº‹ä»¶é©±åŠ¨çš„å…¨æ‰˜ç®¡è®¡ç®—æœåŠ¡ã€‚ä½¿ç”¨å‡½æ•°è®¡ç®—ï¼Œæ‚¨æ— éœ€é‡‡è´­ä¸ç®¡ç†æœåŠ¡å™¨ç­‰åŸºç¡€è®¾æ–½ï¼Œåªéœ€ç¼–å†™å¹¶ä¸Šä¼ ä»£ç ã€‚å‡½æ•°è®¡ç®—ä¸ºæ‚¨å‡†å¤‡å¥½è®¡ç®—èµ„æºï¼Œå¼¹æ€§åœ°å¯é åœ°è¿è¡Œä»»åŠ¡ï¼Œå¹¶æä¾›æ—¥å¿—æŸ¥è¯¢ã€æ€§èƒ½ç›‘æ§å’ŒæŠ¥è­¦ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å€ŸåŠ©å‡½æ•°è®¡ç®—ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿæ„å»ºä»»ä½•ç±»å‹çš„åº”ç”¨å’ŒæœåŠ¡ï¼Œå¹¶ä¸”åªéœ€ä¸ºä»»åŠ¡å®é™…æ¶ˆè€—çš„èµ„æºä»˜è´¹ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¼•ç”¨é˜¿é‡Œäº‘ï¼ŒåŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://help.aliyun.com/document_detail/52895.html?spm=a2c4g.11186623.6.541.23dc641aB3U3K0&quot; target=&quot;_blank&quot;&gt;https://help.aliyun.com/document_detail/52895.html?spm=a2c4g.11186623.6.541.23dc641aB3U3K0&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€1. æ–°å»ºä¸€ä¸ª.net coreæ§åˆ¶å°ç¨‹åºï¼Œè¿™é‡Œå‘½åä¸ºAliyunServerlessã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013162905832-964556712.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€2. å¼•ç”¨é˜¿é‡Œäº‘æä¾›çš„å‡½æ•°è®¡ç®—ç»„ä»¶Aliyun.Serverless.Core&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
ã€€ã€€Install-Package Aliyun.Serverless.Core
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013163126702-1735339238.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€3. æŒ‰ç…§å‡½æ•°è®¡ç®—çš„è¦æ±‚ç¼–å†™.Net Coreçš„ç±»ä¸å‡½æ•°ï¼Œè¿™é‡Œç”¨ä¸¤ä¸ªç±»ä¸å‡½æ•°&lt;/p&gt;
&lt;p&gt;ã€€ã€€a. æ‰“å°æ‰§è¡Œæ—¥å¿—&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æ‰“å°æ‰§è¡Œæ—¥å¿—
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; LogHandler
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Handle(Stream input, IFcContext context)
        {
            ILogger logger &lt;/span&gt;=&lt;span&gt; context.Logger;
            logger.LogInformation($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Handle request: {context.RequestId}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ã€€ã€€b.Â æ‰“å°æœåŠ¡å™¨IP&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;///&lt;/span&gt;&lt;span&gt; æ‰“å°æœåŠ¡å™¨IP
    &lt;/span&gt;&lt;span&gt;///&lt;/span&gt; &lt;span&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; IpHandler
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Handle(Stream input, IFcContext context)
        {
            ILogger logger &lt;/span&gt;=&lt;span&gt; context.Logger;
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; ipHostInfo =&lt;span&gt; Dns.GetHostEntry(Dns.GetHostName());
            logger.LogInformation($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Handle request: {context.RequestId}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);

            &lt;/span&gt;&lt;span&gt;foreach&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; ipAddress &lt;span&gt;in&lt;/span&gt;&lt;span&gt; ipHostInfo.AddressList)
            {
                logger.LogInformation($&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;IP Addressï¼š{ipAddress}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
            }
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ã€€ è¯´æ˜ï¼š&lt;/h2&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013163600343-1609908070.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â ã€€ã€€è¯¦æƒ…å¯å‚è€ƒåŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://help.aliyun.com/document_detail/112379.html?spm=a2c4g.11174283.6.567.206852120XSx37&quot; target=&quot;_blank&quot;&gt;https://help.aliyun.com/document_detail/112379.html?spm=a2c4g.11174283.6.567.206852120XSx37&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€4. å‘å¸ƒç¨‹åºå¹¶æ‰“åŒ…æˆzip&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
ã€€ã€€dotnet publish -c Release
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Â ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013165131398-832138810.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€1. &lt;a href=&quot;https://help.aliyun.com/document_detail/54301.html?spm=5176.8663048.0.0.71be3edcH42tMP#h4-u6267u884Cu65F6u95F4u8D39u7528&quot; target=&quot;_blank&quot;&gt;è´¹ç”¨è¯´æ˜&lt;/a&gt;åŠå…è´¹é¢åº¦&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013165553510-502008225.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€2. é€‰æ‹©å‡½æ•°æ‰§è¡Œçš„åœ°åŒº&lt;/p&gt;
&lt;p&gt;ã€€ã€€å‚è€ƒå…¥å£åœ°å€ï¼š&lt;a href=&quot;https://fc.console.aliyun.com/fc/overview/cn-shenzhen&quot; target=&quot;_blank&quot;&gt;https://fc.console.aliyun.com/fc/overview/cn-shenzhen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013204058170-728647408.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€3. åˆ›å»ºæœåŠ¡åŠå‡½æ•°&lt;/p&gt;
&lt;p&gt;ã€€ã€€a. åˆ›å»ºå‡½æ•°&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013204218834-1972139468.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€b. é€‰æ‹©â€œäº‹ä»¶å‡½æ•°â€ï¼Œç„¶åâ€œä¸‹ä¸€æ­¥â€&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013204442197-489803835.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€c. é…ç½®å‡½æ•°ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013204855024-1866322782.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€å…¶ä¸­ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œæ‰€åœ¨æœåŠ¡â€æ˜¯åˆ†ç»„ï¼Œæ ¹æ®éœ€è¦å¡«å†™å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œå‡½æ•°åç§°â€æ˜¯åç§°ï¼Œæ ¹æ®éœ€è¦å¡«å†™å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œè¿è¡Œç¯å¢ƒâ€é€‰æ‹©dotnetcore2.1ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œå‡½æ•°å…¥å£â€è¦æŒ‰è§„å®šå¡«å†™ï¼Œæ¨¡æ¿æ˜¯{ç¨‹åºé›†}::{å‘½åç©ºé—´}.{ç±»å}::{å‡½æ•°å}ï¼Œè¿™é‡Œæ˜¯ï¼šAliyunServerless::AliyunServerless.LogHandler::Handle&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œå‡½æ•°æ‰§è¡Œå†…å­˜â€ï¼Œå‡½æ•°æ‰§è¡Œéœ€è¦çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â€œè¶…æ—¶æ—¶é—´â€ï¼Œå‡½æ•°æ‰§è¡Œä¸èƒ½è¶…è¿‡è®¾ç½®çš„æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€d. æ‰§è¡Œå‡½æ•°&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç‚¹å‡»â€œæ‰§è¡Œâ€ï¼Œå¯ä»¥çœ‹åˆ°æ‰§è¡Œæ‘˜è¦ï¼ˆæ‰§è¡Œæ—¶é—´ã€ä½¿ç”¨å†…å­˜ã€æ‰§è¡ŒçŠ¶æ€ç­‰ï¼‰åŠæ‰§è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013210621138-1465760629.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€e. åˆ›å»ºè§¦å‘å™¨&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013211828984-1448998613.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€è¿™é‡Œç”¨çš„æ˜¯â€œå®šæ—¶è§¦å‘å™¨â€ï¼Œæ”¯æŒCronè¡¨è¾¾å¼ï¼Œè°ƒåº¦æœ€é«˜é¢‘ç‡ä¸º1åˆ†é’Ÿï¼Œæš‚ä¸æ”¯æŒç§’çº§è°ƒåº¦ï¼›é™¤äº†â€œå®šæ—¶è§¦å‘å™¨â€ï¼Œè¿˜æœ‰ä»¥ä¸‹çš„è§¦å‘å™¨ç±»å‹ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013212035154-925597406.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â ã€€ã€€æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œç ”ç©¶ã€‚&lt;/p&gt;
&lt;p&gt;Â ã€€ã€€é…å®Œè§¦å‘å™¨ä»¥åï¼Œå‡½æ•°å°±ä¼šè¢«å®šæ—¶è§¦å‘ï¼Œç”±äºè¿™é‡Œæ˜¯æ‰“å°æ—¥å¿—ï¼Œéœ€è¦é…ç½®æ—¥å¿—æ‰èƒ½çœ‹åˆ°ï¼Œæœ¬æ–‡æ²¡é…ç½®æ—¥å¿—ï¼Œå°±ä¸æ¼”ç¤ºè§¦å‘æ•ˆæœäº†ã€‚&lt;/p&gt;


&lt;p&gt;ã€€ã€€æŒ‰ç…§åˆ›å»ºå‡½æ•°çš„æ­¥éª¤ï¼Œåˆ›å»ºâ€œæ‰“å°æœåŠ¡å™¨IPâ€å‡½æ•°ï¼Œæ‰§è¡Œå¹¶è¿›è¡Œè·Ÿè¸ªï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1. å¤šæ¬¡æ‰§è¡Œï¼ˆ5æ¬¡ä¸åŒçš„RequestIdï¼‰ï¼ŒæœåŠ¡å™¨IPæ²¡å˜ï¼ˆéƒ½ä¸º21.0.3.3ï¼‰ï¼Œè¯´æ˜åˆ†é…åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013220446449-1284524763.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013220658861-141399430.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013220746140-1607866360.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013221000691-244266637.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013221049918-1558904409.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€2. é‡æ–°ä¸Šä¼ ç¨‹åºåŒ…ï¼ŒæœåŠ¡å™¨IPä¼šå˜ï¼Œä½†åŒä¸€ä¸ªè½¯ä»¶åŒ…æœåŠ¡å™¨IPä¸å˜&lt;/p&gt;
&lt;p&gt;ã€€ã€€a. ç¬¬ä¸€æ¬¡é‡æ–°ä¸Šä¼ ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013221809263-728548070.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013221907343-309628502.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€b.Â ç¬¬äºŒæ¬¡é‡æ–°ä¸Šä¼ ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013222221136-335307511.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013222308072-694078892.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€3. æˆ‘é€‰æ‹©çš„æ‰§è¡Œåœ°åŒºæ˜¯â€œåå—1ï¼ˆæ·±åœ³ï¼‰â€ï¼Œä½†æ˜¯æœåŠ¡å™¨IPæ˜¯ç¾å›½IPï¼›å› ä¸ºæ— æœåŠ¡å™¨ä¿¡æ¯ï¼Œè¯¥ç»“è®ºä»…ä¾›å‚è€ƒ&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013222833777-416621043.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013223049117-2110553971.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013222950043-1737848741.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€4. è°ƒç”¨ç»Ÿè®¡ä¼šéå®æ—¶ï¼ˆæ­£å¸¸ç°è±¡ï¼‰ï¼Œå¤§éƒ¨åˆ†ä¸šåŠ¡æœˆå…è´¹é¢åº¦åº”è¯¥è¶³å¤Ÿä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2018.cnblogs.com/blog/182190/201910/182190-20191013224247036-1495864971.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ã€€ã€€&lt;a href=&quot;https://github.com/ErikXu/AliyunServerless&quot; target=&quot;_blank&quot;&gt;https://github.com/ErikXu/AliyunServerless&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 13 Oct 2019 14:46:00 +0000</pubDate>
<dc:creator>ç¼–ç¨‹ç©å®¶</dc:creator>
<og:description>ä»€ä¹ˆæ˜¯Serverless Serverless æ˜¯ä¸€ä¸ªå½“ä»Šè½¯ä»¶ä¸–ç•Œä¸­æ¯”è¾ƒæ–°çš„è¯é¢˜ã€‚å®ƒå¹¶æ²¡æœ‰ä¸€ä¸ªæ™®éå…¬è®¤çš„æƒå¨å®šä¹‰ï¼Œæ¯ä¸ªäººæ¯ä¸ªä¼ä¸šå¯¹å®ƒçš„è§£é‡Šå¯èƒ½éƒ½æœ‰ä¸åŒï¼Œè€Œ Serverless æ­£æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ä¸æ–­</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Erik_Xu/p/11666872.html</dc:identifier>
</item>
<item>
<title>ã€çº¿æ€§è¡¨åŸºç¡€ã€‘é¡ºåºè¡¨å’Œå•é“¾è¡¨çš„æ’å…¥ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œã€Javaç‰ˆã€‘ - Link_Chen</title>
<link>http://www.cnblogs.com/linkchen/p/11614091.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/linkchen/p/11614091.html</guid>
<description>&lt;h2 id=&quot;æœ¬æ–‡è¡¨è¿°äº†çº¿æ€§è¡¨åŠå…¶åŸºæœ¬æ“ä½œçš„ä»£ç javaå®ç°&quot;&gt;æœ¬æ–‡è¡¨è¿°äº†çº¿æ€§è¡¨åŠå…¶åŸºæœ¬æ“ä½œçš„ä»£ç ã€Javaå®ç°ã€‘&lt;/h2&gt;
&lt;p&gt;å‚è€ƒä¹¦ç± ï¼šã€Šæ•°æ®ç»“æ„ â€”â€”Javaè¯­è¨€æè¿°ã€‹/åˆ˜å°æ™¶ ï¼Œæœé€‰ä¸»ç¼–&lt;/p&gt;
&lt;p&gt;çº¿æ€§è¡¨éœ€è¦çš„åŸºæœ¬åŠŸèƒ½æœ‰ï¼šåŠ¨æ€åœ°å¢é•¿æˆ–æ”¶ç¼©ï¼›å¯¹çº¿æ€§è¡¨çš„ä»»ä½•æ•°æ®å…ƒç´ è¿›è¡Œè®¿é—®å’ŒæŸ¥æ‰¾ï¼›åœ¨çº¿æ€§è¡¨ä¸­çš„ä»»ä½•ä½ç½®è¿›è¡Œæ•°æ®å…ƒç´ çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼›æ±‚çº¿æ€§è¡¨ä¸­æŒ‡å®šæ•°æ®å…ƒç´ çš„å‰é©±å’Œåç»§ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæè¿°çº¿æ€§è¡¨çš„æŠ½è±¡ç±»å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨Javaæ¥å£interfaceï¼š&lt;/p&gt;
&lt;p&gt;Ilist.java:&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package liner_list;

public interface IList
{
    public void clear();
    public boolean isEmpty();
    public int length();
    public Object get(int i) throws Exception;
    public void insertAt(int i,Object x) throws Exception;
    public void remove(int i) throws Exception;
    public int indexOf(Object x);
    public void display();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶æ¬¡æè¿°é¡ºåºè¡¨ï¼Œå…¶ç‰¹ç‚¹æœ‰ï¼šåœ¨çº¿æ€§è¡¨ä¸­çš„é€»è¾‘ä¸Šç›¸é‚»çš„æ•°æ®å…ƒç´ ï¼Œåœ¨ç‰©ç†å­˜å‚¨ä½ç½®ä¸Šä¹Ÿæ˜¯ç›¸é‚»çš„ï¼›å­˜å‚¨å¯†åº¦é«˜ï¼Œä½†éœ€è¦é¢„å…ˆåˆ†é…â€è¶³å¤Ÿåº”ç”¨â€œçš„å­˜å‚¨ç©ºé—´ï¼Œè¿™å¯èƒ½å°†ä¼šé€ æˆå­˜å‚¨ç©ºé—´çš„æµªè´¹ï¼›ä¾¿äºéšæœºå­˜å‚¨ï¼›ä¸ä¾¿äºæ’å…¥å’Œåˆ é™¤ï¼Œå› ä¸ºåœ¨é¡ºåºè¡¨ä¸­è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œä¼šå¼•èµ·å¤§é‡æ•°æ®å…ƒç´ çš„ç§»ä½ã€‚æˆ‘ä»¬ç”¨SqListç±»æè¿°é¡ºåºè¡¨ï¼š&lt;/p&gt;
&lt;p&gt;SqList.javaï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package liner_list;

// è§„å®šæ–¹æ³•ä¸­çš„å‚æ•°iéƒ½ä¸ºé¡ºåºè¡¨å…ƒç´ çš„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰
public class SqList implements IList
{
    public Object[] listItem; // é¡ºåºè¡¨å­˜å‚¨ç©ºé—´
    public int curLen; // çº¿æ€§è¡¨çš„å½“å‰é•¿åº¦

    public SqList(int maxSize)
    {
        listItem = new Object[maxSize]; // ä¸ºé¡ºåºè¡¨åˆ†é…maxSizeä¸ªå­˜å‚¨å•å…ƒ
        curLen = 0; // ç½®å½“å‰é•¿åº¦ä¸º0
    }

    public void clear()
    {
        curLen = 0; // ç½®å½“å‰é•¿åº¦ä¸º0ï¼Œå³è§„å®šä¸ºæ¸…ç©ºé¡ºåºè¡¨ï¼Œä½†æ˜¯å†…å­˜ä¸­è¿˜æœ‰æ•°æ®å­˜åœ¨
    }

    public boolean isEmpty()
    {
        return curLen == 0;
    }

    public int length()
    {
        return curLen; // è¿”å›å½“å‰é•¿åº¦
    }

    public Object get(int i) throws Exception // å¾—åˆ°ä¸‹æ ‡ä¸ºiçš„å…ƒç´ ï¼ŒåŒæ—¶åˆ¤æ–­å¼‚å¸¸
    {
        if (i &amp;gt;= curLen || i &amp;lt; 0) // ç´¢å¼•è¶Šç•Œï¼Œ0&amp;lt;=index&amp;lt;=curLen
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        return listItem[i];
    }

    public void insertAt(int i, Object x) throws Exception // åœ¨ä¸‹è¡¨ä¸ºiçš„ä½ç½®æ’å…¥å…ƒç´ xï¼ŒåŒæ—¶åˆ¤æ–­å¼‚å¸¸
    {
        if (curLen == listItem.length) // åˆ¤æ–­è¡¨æ»¡
        {
            throw new Exception(&quot;SqList is full!&quot;);
        }
        if (i &amp;gt; curLen || i &amp;lt; 0) // ç´¢å¼•è¶Šç•Œï¼Œå¯ä»¥åœ¨curLençš„ä½ç½®è¿›è¡Œæ’å…¥
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        for (int j = curLen; j &amp;gt; i; j--) // jä»curLençš„ä½ç½®å¼€å§‹ï¼Œå³å½“å‰è¡¨æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªä½ç½®ï¼Œä»è€Œä½¿å¾—iä½ç½®åŠä»¥åä½ç½®ä¸Šçš„å…ƒç´ å‘åç§»ä¸€ä½
        {
            listItem[j] = listItem[j - 1];
        }
        listItem[i] = x; // å°†xå…ƒç´ æ’å…¥iä½ç½®
        curLen++; // æ’å…¥åè¡¨é•¿åŠ ä¸€
    }

    public void remove(int i) throws Exception
    {
        if (i &amp;gt;= curLen || i &amp;lt; 0) // iå°äº0æˆ–è€…å¤§äºç­‰äºè¡¨é•¿æ—¶æŠ›å‡ºå¼‚å¸¸
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        for (int j = i; j &amp;lt; curLen - 1; j++) // ä»iä½ç½®å¼€å§‹å‘åï¼Œä¸èƒ½ä»æœ€åå¼€å§‹ï¼Œå¦åˆ™æœ€åä¸€ä¸ªå…ƒç´ å°†è¦†ç›–æ‰€æœ‰å…ƒç´ ï¼Œè‹¥æƒ³ä»åå‘å‰ï¼Œå¿…é¡»å°†è¢«è¦†ç›–çš„å…ƒç´ ä¿ç•™ç»™ä¸‹ä¸€ä¸ªå…ƒç´ 
        {
            listItem[j] = listItem[j + 1];
        }
        curLen--; // åˆ é™¤å®ŒåcurLenå‡ä¸€
    }

    public int indexOf(Object x) // è§„å®šè¿”å›-1è¡¨ç¤ºæœªæ‰¾åˆ°å…ƒç´ x
    {
        for (int i = 0; i &amp;lt; curLen; i++)
        {
            if (listItem[i].equals(x))
            {
                return i;
            }
        }
        return -1;
//      ä¹¦æœ¬ä»£ç ï¼Œæ•ˆæœç›¸åŒ
//      int j = 0;
//      while (j &amp;lt; curLen &amp;amp;&amp;amp; !listItem[j].equals(x))
//      {
//          j++;
//      }
//      if (j &amp;lt; curLen)
//      {
//          return j;
//      } else
//      {
//          return -1;
//      }
    }

    public void display() // è¾“å‡ºé¡ºåºè¡¨ä¸­å…¨éƒ¨å…ƒç´ 
    {
        System.out.println(&quot;****** SqList ******&quot;);
        for (int i = 0; i &amp;lt; curLen; i++)
        {
            System.out.print(listItem[i] + &quot; &quot;);
        }
        System.out.println();
        System.out.println(&quot;********************&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¥ç€æµ‹è¯•æˆ‘ä»¬çš„é¡ºåºè¡¨ï¼Œä½¿ç”¨SqListTestç±»æ¥åšæµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;SqListTest.javaï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package liner_list;

import java.util.Scanner;

public class SqListTest
{
    public static void main(String[] args) throws Exception
    {
        SqList sq1 = new SqList(10);
        sq1.insertAt(0, &quot;a0&quot;);
        sq1.insertAt(1, &quot;a1&quot;);
        sq1.insertAt(2, &quot;a2&quot;);
        sq1.insertAt(3, &quot;a3&quot;);
        sq1.insertAt(4, &quot;a4&quot;);
        sq1.insertAt(5, &quot;a5&quot;);
        int index = sq1.indexOf(&quot;a2&quot;);
        if (index != -1)
        {
            System.out.println(&quot;a2's index is &quot; + index + &quot;!&quot;);
        } else
        {
            System.out.println(&quot;a5 is not in this SqList!&quot;);
        }
        sq1.display();
        sq1.remove(2);
        System.out.println(&quot;After remove:&quot;);
        sq1.display();
        SqList sq2 = new SqList(10);
        Scanner sc = new Scanner(System.in);
        System.out.println(&quot;Please input element:&quot;);
        for (int i = 0; i &amp;lt; 8; i++)
        {
            sq2.insertAt(i, sc.next());
        }
        sc.close();
        sq2.display();
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ç±»ï¼Œå¾—åˆ°ä»¥ä¸‹æµ‹è¯•ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1560524/201910/1560524-20191013224050542-1130018487.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæè¿°å•é“¾è¡¨ï¼Œæ³¨æ„ï¼šæˆ‘ä»¬æ¨èä½¿ç”¨å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ã€‚è¿™é‡Œæ€»ç»“ä»¥ä¸‹å…³äºå¤´æŒ‡é’ˆå’Œå¤´ç»“ç‚¹çš„é—®é¢˜ï¼šé¦–å…ˆè¦æ¸…æ¥šï¼Œheadå°±æ˜¯å¤´æŒ‡é’ˆï¼Œæ¯‹åº¸ç½®ç–‘ï¼›å¦‚æœæœ‰å¤´ç»“ç‚¹çš„è¯ï¼Œheadä¹Ÿå¤´ç»“ç‚¹ï¼Œè¿™é‡Œå¤´æŒ‡é’ˆå°±æ˜¯å¤´ç»“ç‚¹ï¼Œä¸€èˆ¬è¯´æˆå¤´æŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹ï¼Œè€Œhead.nextæ˜¯ä¸‹æ ‡ä¸º0çš„å…ƒç´ ï¼Œè§„å®š headæ˜¯ä¸‹æ ‡ä¸º-1çš„å…ƒç´ ï¼›å¦‚æœæ²¡æœ‰å¤´ç»“ç‚¹çš„è¯ï¼Œheadæœ¬æ˜¯å°±æ˜¯ä¸‹æ ‡ä¸º0çš„å…ƒç´ ï¼Œè¿™é‡Œæ²¡æœ‰å¤´ç»“ç‚¹ï¼Œä½†æ˜¯headè¿˜æ˜¯å¤´æŒ‡é’ˆã€‚ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨LinkListç±»æ¥æè¿°å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;LinkList.javaï¼š&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package liner_list;

import java.util.Scanner;

//å…³äºå¤´ç»“ç‚¹ä¸å¤´æŒ‡é’ˆçš„é—®é¢˜
//é¦–å…ˆè¦æ¸…æ¥šï¼Œheadå°±æ˜¯å¤´æŒ‡é’ˆï¼Œæ¯‹åº¸ç½®ç–‘
//å¦‚æœæœ‰å¤´ç»“ç‚¹çš„è¯ï¼Œheadä¹Ÿå¤´ç»“ç‚¹ï¼Œè¿™é‡Œå¤´æŒ‡é’ˆå°±æ˜¯å¤´ç»“ç‚¹ï¼Œä¸€èˆ¬è¯´æˆå¤´æŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹ï¼Œè€Œhead.nextæ˜¯ä¸‹æ ‡ä¸º0çš„å…ƒç´ ï¼Œè§„å®š headæ˜¯ä¸‹æ ‡ä¸º-1çš„å…ƒç´ 
//å¦‚æœæ²¡æœ‰å¤´ç»“ç‚¹çš„è¯ï¼Œheadæœ¬æ˜¯å°±æ˜¯ä¸‹æ ‡ä¸º0çš„å…ƒç´ ï¼Œè¿™é‡Œæ²¡æœ‰å¤´ç»“ç‚¹ï¼Œä½†æ˜¯headè¿˜æ˜¯å¤´æŒ‡é’ˆ
//å»ºè®®å†™å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼Œæ­¤ç±»å°±æ˜¯ä¸€ä¸ªå…¸ä¾‹
public class LinkList implements IList
{
    public Node head;

    public LinkList() // æ— å‚æ„é€ æ–¹æ³•ï¼Œåªæ„å»ºå¤´æŒ‡é’ˆ
    {
        head = new Node();
    }

    public LinkList(int len, boolean Order) throws Exception // å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºè¡¨é•¿å’Œæ’å…¥çš„æ–¹å¼ï¼Œè§„å®štrueè¡¨ç¤ºå°¾æ’æ³•ï¼Œflaseè¡¨ç¤ºå¤´æ’æ³•
    {
        this();
        if (Order)
        {
            createAtEnd(len);
        } else
        {
            createAtHead(len);
        }
    }

    public void createAtHead(int n) throws Exception // å¤´æ’æ³•
    {
        Scanner sc = new Scanner(System.in);
        System.out.println(&quot;Please input element:&quot;);
        for (int i = 0; i &amp;lt; n; i++)
        {
            insertAt(0, sc.next());
        }
//      sc.close();     // ä¸è¦å…³é—­è¾“å…¥æµ
//      display();
    }

    public void createAtEnd(int n) throws Exception // å°¾æ’æ³•
    {
        Scanner sc = new Scanner(System.in);
        System.out.println(&quot;Please input element:&quot;);
        for (int i = 0; i &amp;lt; n; i++)
        {
            insertAt(length(), sc.next());
        }
//      sc.close();     // ä¸è¦å…³é—­è¾“å…¥æµ
//      display();
    }

    @Override
    public void clear() // ç½®ç©ºé“¾è¡¨
    {
        head.data = null;
        head.next = null;
    }

    @Override
    public boolean isEmpty() // é“¾è¡¨åˆ¤ç©º
    {
        return head.next == null;
    }

    @Override
    public int length() // è¿”å›é“¾è¡¨é•¿åº¦
    {
        Node p = head.next; // pæŒ‡å‘é¦–ç»“ç‚¹
        int length = 0;
        while (p != null)
        {
            p = p.next;
            length++;
        }
        return length;
    }

    @Override
    public Object get(int i) throws Exception
    {
        Node p = head.next;
        int j = 0;
        while (p != null &amp;amp;&amp;amp; j &amp;lt; i) // ä»é¦–ç»“ç‚¹å¼€å§‹å‘åæŸ¥æ‰¾ï¼Œç›´åˆ°pæŒ‡å‘ç¬¬iä¸ªç»“ç‚¹æˆ–è€…pä¸ºç©º
        {
            p = p.next; // æŒ‡é’ˆåç§»
            j++; // è®¡æ•°åŠ 1
        }
        if (i &amp;lt; 0 || p == null) // iå°äº0æˆ–è€…å¤§äºè¡¨é•¿å‡1æ—¶æŠ›å‡ºå¼‚å¸¸
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        return p.data;
    }

    @Override
    public int indexOf(Object x) // è§„å®š-1è¡¨ç¤ºä¸åœ¨LinkListå½“ä¸­
    {
        Node p = head.next;
        int index = 0;
        while (p != null &amp;amp;&amp;amp; !p.data.equals(x))
        {
            p = p.next;
            index++;
        }
        if (p != null)
        {
            return index;
        } else
        {
            return -1;
        }
    }

    @Override
    public void insertAt(int i, Object x) throws Exception
    {
        Node p = head; // æ’å…¥æ—¶ä»å¤´ç»“ç‚¹å¼€å§‹ï¼Œå› ä¸ºå¯ä»¥æ’å…¥åœ¨ä¸‹æ ‡0çš„ä½ç½®ï¼Œä¹Ÿå¯ä»¥æ’å…¥åœ¨ä¸‹æ ‡ä¸ºè¡¨é•¿ä½ç½®
        int j = -1;
        while (p != null &amp;amp;&amp;amp; j &amp;lt; i - 1) // æ‰¾å‡ºä¸‹æ ‡ä¸ºi-1çš„ç»“ç‚¹ï¼Œå³iç»“ç‚¹çš„å‰é©±
        {
            p = p.next;
            j++;
        }
        if (i &amp;lt; 0 || p == null) // iå°äº0æˆ–è€…iå¤§äºè¡¨é•¿æ—¶æŠ›å‡ºå¼‚å¸¸
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        Node s = new Node(x);
        s.next = p.next;
        p.next = s;
    }

    @Override
    public void remove(int i) throws Exception
    {
        Node p = head;
        int j = -1;
        while (p != null &amp;amp;&amp;amp; j &amp;lt; i - 1) // æ‰¾åˆ°ä¸‹æ ‡ä¸ºi-1çš„ç»“ç‚¹ï¼Œå³iç»“ç‚¹çš„å‰é©±
        {
            p = p.next;
            j++;
        }
        if (i &amp;lt; 0 || p.next == null) // æŠ›å‡ºæ¡ä»¶ä¸ºiå°äº0æˆ–è€…iå¤§äºè¡¨é•¿-1ï¼Œæ‰€ä»¥æ­¤å¤„ä¸ºp.next==null
        {
            throw new Exception(&quot;Argument 'i' is out of range!&quot;);
        }
        p.next = p.next.next;
    }

    @Override
    public void display()
    {
        Node p = head.next;
        System.out.println(&quot;****** LinkList ******&quot;);
        while (p != null)
        {
            System.out.print(p.data.toString() + &quot; &quot;);
            p = p.next;
        }
        System.out.println();
        System.out.println(&quot;*********************&quot;);
    }

}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æœ€åæµ‹è¯•æˆ‘ä»¬çš„å•é“¾è¡¨ï¼Œä½¿ç”¨LinkListTestç±»æ¥åšæµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;LinkListTest.java&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;package liner_list;

public class LinkListTest
{
    public static void main(String[] args) throws Exception
    {
        LinkList linkList = new LinkList(10, true);
        linkList.remove(0);
        linkList.remove(1);
        linkList.remove(linkList.length() - 1);
        System.out.println(&quot;After remove:&quot;);
        linkList.display();
        linkList.insertAt(linkList.length(), &quot;a9&quot;);
        System.out.println(&quot;After insert:&quot;);
        linkList.display();
        int index = linkList.indexOf(&quot;a2&quot;);
        if (index != -1)
        {
            System.out.println(&quot;a2's index is &quot; + index + &quot;!&quot;);
        } else
        {
            System.out.println(&quot;a2 is not in this LinkList!&quot;);
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ç±»ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1560524/201910/1560524-20191013224114742-358234718.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä¾¿æ˜¯çº¿æ€§è¡¨ä¸­é¡ºåºè¡¨å’Œå•é“¾è¡¨æœ€åŸºç¡€çš„ä»£ç æè¿°ï¼Œç®—æ³•æ€æƒ³æœ¬æ–‡ä¸­æ²¡æœ‰å†™åˆ°ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹å‰é¢è¯´çš„é‚£æœ¬å‚è€ƒä¹¦ç±ã€‚æ­¤ç³»åˆ—åé¢ä¼šé™†ç»­ä»‹ç»æ›´å¤šæœ‰å…³æ•°æ®ç»“æ„çš„å†…å®¹ï¼Œä¹Ÿä¼šæ›´æ–°ä¸€äº›å…³äºæ•°æ®ç»“æ„çš„ç®—æ³•é¢˜ç›®ä¾‹å­ï¼Œè°¢è°¢å¤§å®¶æ”¯æŒï¼&lt;/p&gt;
</description>
<pubDate>Sun, 13 Oct 2019 14:42:00 +0000</pubDate>
<dc:creator>Link_Chen</dc:creator>
<og:description>æœ¬æ–‡è¡¨è¿°äº†çº¿æ€§è¡¨åŠå…¶åŸºæœ¬æ“ä½œçš„ä»£ç ã€Javaå®ç°ã€‘ å‚è€ƒä¹¦ç± ï¼šã€Šæ•°æ®ç»“æ„ â€”â€”Javaè¯­è¨€æè¿°ã€‹/åˆ˜å°æ™¶ ï¼Œæœé€‰ä¸»ç¼– çº¿æ€§è¡¨éœ€è¦çš„åŸºæœ¬åŠŸèƒ½æœ‰ï¼šåŠ¨æ€åœ°å¢é•¿æˆ–æ”¶ç¼©ï¼›å¯¹çº¿æ€§è¡¨çš„ä»»ä½•æ•°æ®å…ƒç´ è¿›è¡Œè®¿é—®å’ŒæŸ¥æ‰¾ï¼›</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/linkchen/p/11614091.html</dc:identifier>
</item>
</channel>
</rss>