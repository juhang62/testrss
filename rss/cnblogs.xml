<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>Manjaro Linux å…¥é—¨ä½¿ç”¨æ•™ç¨‹ - æœªè¯»ä»£ç </title>
<link>http://www.cnblogs.com/niumoo/p/12806659.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/niumoo/p/12806659.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets/2020/image-20200419220905196.png&quot; alt=&quot;screenfetch&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;manjaro-åˆä½“éªŒ&quot;&gt;Manjaro åˆä½“éªŒ&lt;/h2&gt;
&lt;p&gt;Manjaro æ˜¯ä¸€æ¬¾åŸºäº Arch LInux çš„è‡ªç”±å¼€æºå‘è¡Œç‰ˆï¼Œå®ƒå¸æ”¶äº† Arch Linux ä¼˜ç§€ä¸°å¯Œçš„è½¯ä»¶ç®¡ç†ï¼ŒåŒæ—¶æä¾›äº†ç¨³å®šæµç•…çš„æ“ä½œä½“éªŒã€‚ä¼˜é›…ç®€å•æ˜¯å®ƒçš„è¿½æ±‚ï¼Œç¨³å®šå®ç”¨æ˜¯å®ƒçš„ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;p&gt;Manjaro å’Œ Arch Linux ä¸€æ ·é‡‡ç”¨æ»šåŠ¨å‘è¡Œæ¨¡å¼ï¼Œä½†æ˜¯å®ƒçš„æ»šåŠ¨æ›´æ–°æ˜¯åœ¨ Arch Linux æ›´æ–°æµ‹è¯•ä¸€æ®µæ—¶é—´ä¹‹åï¼Œè¿™ä¹Ÿä¿è¯äº†ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚è¯è™½å¦‚æ­¤ï¼Œä½¿ç”¨ä¸­ä½ ä¾æ—§å¯èƒ½é¢ä¸´å¤§é‡çš„æ›´æ–°è€Œä¸çŸ¥å¦‚ä½•é€‰æ‹©ï¼Œæ‰€ä»¥ï¼Œ&lt;strong&gt;å¦‚æœä½¿ç”¨å·²ç»æ»¡è¶³éœ€æ±‚ï¼Œæœ‰å‡çº§çš„å¿…è¦å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸‹è½½é•œåƒ&quot;&gt;ä¸‹è½½é•œåƒ&lt;/h3&gt;
&lt;p&gt;é•œåƒä¸‹è½½å¯ä»¥å» &lt;a href=&quot;https://manjaro.org/get-manjaro/&quot;&gt;Manjaro&lt;/a&gt; å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼Œå›½å†…é€Ÿåº¦å¤ªæ…¢ä¹Ÿå¯ä»¥åˆ° &lt;a href=&quot;https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro/&quot;&gt;æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™&lt;/a&gt; è¿›è¡Œä¸‹è½½ã€‚Manjaro æä¾›äº†å¤šç§æ¡Œé¢ç¯å¢ƒï¼Œå¯ä»¥æ ¹æ®å–œå¥½è‡ªè¡Œä¸‹è½½ï¼Œæˆ‘ä¸€èˆ¬åå‘äº kde æˆ–è€… gnome æ¡Œé¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ¶ä½œå¯åŠ¨ç›˜&quot;&gt;åˆ¶ä½œå¯åŠ¨ç›˜&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ &lt;a href=&quot;http://rufus.ie/&quot;&gt;Rufus&lt;/a&gt; å·¥å…·ä»¥ &lt;strong&gt;DD æ¨¡å¼&lt;/strong&gt;å†™å…¥é•œåƒåˆ° U ç›˜ï¼Œåˆ¶ä½œ U ç›˜å¯åŠ¨æˆåŠŸä¹‹åï¼Œå¼€æœºé€‰æ‹© U ç›˜è¿›è¡Œå¯åŠ¨å³å¯ã€‚Rufus å·¥å…·è¿™é‡Œé€‰æ‹©çš„æ˜¯ 3.4 ç‰ˆæœ¬ï¼Œç»è¿‡æµ‹è¯•ï¼Œé«˜ç‰ˆæœ¬çš„ Rufus å¯èƒ½ä¼šå­˜åœ¨åˆ†åŒºç±»å‹ç­‰é€‰é¡¹ä¸èƒ½ä¿®æ”¹çš„ ğŸ› Bugã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets/2020/image-20200421213247256.png&quot; alt=&quot;Rufus 3.4&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®‰è£…-manjaro&quot;&gt;å®‰è£… Manjaro&lt;/h3&gt;
&lt;p&gt;å®‰è£… Manjaro è¿™é‡Œä¸åšæè¿°ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„æ•™ç¨‹å¯ä»¥å‚è€ƒã€‚æ€»ä½“æ¥è¯´ Manjaro å®‰è£…è¿˜æ˜¯æ¯”è¾ƒè½»æ¾çš„ï¼Œç›¸æ¯”å…¶ä»–çš„ Linux å‘è¡Œç‰ˆï¼Œå®‰è£…ä½“éªŒæ›´å¥½ã€‚ç‰¹åˆ«æ˜¯å¯¹æ˜¾å¡é©±åŠ¨æ–¹é¢çš„æ”¯æŒï¼Œä¸€é”®å®‰è£…ï¼Œç‰¹åˆ«çœå¿ƒã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ›´æ¢è½¯ä»¶æº&quot;&gt;æ›´æ¢è½¯ä»¶æº&lt;/h2&gt;
&lt;p&gt;æ›´æ¢è½¯ä»¶æºä¸ºå›½å†…æ¸…åå¤§å­¦æºï¼Œå®‰è£…è½¯ä»¶æ›´è¿…é€Ÿã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -Syy
sudo pacman-mirrors -i -c China -m rank  #é€‰ä¸€ä¸ªæ¸…åæºå°±è¡Œ
#sudo pacman -Syyu
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨å¼¹å‡ºçš„çª—å£é‡Œé€‰æ‹©ä¸€ä¸ªé•œåƒæºå³å¯ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯æ¸…åå¤§å­¦é•œåƒæºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets/2020/image-20200419181748778.png&quot; alt=&quot;é€‰æ‹©æ¸…åé•œåƒæº&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo vim /etc/pacman.conf
# ä¸‹é¢çš„å†…å®¹æ·»åŠ åˆ°æ–‡ä»¶
[archlinuxcn]
SigLevel = Optional TrustedOnly
Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch
# æ‰§è¡Œæ›´æ–°ï¼Œå¯¼å…¥GPG key
sudo pacman -Syy &amp;amp;&amp;amp; sudo pacman -S archlinuxcn-keyring
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®‰è£…è¾“å…¥æ³•&quot;&gt;å®‰è£…è¾“å…¥æ³•&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -S fcitx-sogoupinyin
sudo pacman -S fcitx-im # å…¨éƒ¨å®‰è£…
sudo pacman -S fcitx-configtool # å›¾å½¢åŒ–é…ç½®å·¥å…·
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è®¾ç½®ä¸­æ–‡è¾“å…¥æ³•ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘~/.xprofileæ–‡ä»¶ï¼Œå¢åŠ ä¸‹é¢å‡ è¡Œ(å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»º)&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=&quot;@im=fcitx&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;ä½¿ç”¨-zsh&quot;&gt;ä½¿ç”¨ zsh&lt;/h2&gt;
&lt;p&gt;æ²¡ä½“éªŒè¿‡ zsh çš„å»ºè®®è¯•è¯•ï¼Œå‘½ä»¤æ•²èµ·æ¥ååˆ†é¡ºç•…ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -S zsh
# ä¸‹è½½è¿™ä¸ª install.sh è‡ªè¡Œè¿è¡Œ
# https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh
# ä¸‹é¢è¿™ç§æ–¹å¼å·²ç»å¤±æ•ˆ
#sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
chsh -s /bin/zsha
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å®‰è£…å¸¸ç”¨è½¯ä»¶&quot;&gt;å®‰è£…å¸¸ç”¨è½¯ä»¶&lt;/h2&gt;
&lt;p&gt;99% çš„è½¯ä»¶åªéœ€è¦å‡ æ¡å‘½ä»¤å°±å¯ä»¥å®‰è£…ï¼Œåƒä¸‹é¢è¿™æ ·ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;# ç”Ÿæˆ ssh å¯†é’¥ ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;
sudo pacman -S git
sudo pacman -S vim
sudo pacman -S visual-studio-code-bin # vscode
sudo pacman -S google-chrome  # è°·æ­Œæµè§ˆå™¨
sudo pacman -S netease-cloud-music  # ç½‘æ˜“äº‘éŸ³ä¹
sudo pacman -S wps-office
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç½‘æ˜“äº‘éŸ³ä¹è¿˜æœ‰ä¸€ä¸ªåŸºäº Python ç¼–å†™çš„å¼€æºçš„å‘½ä»¤è¡Œç‰ˆæœ¬ï¼Œä½¿ç”¨å‘½ä»¤è¡Œæ’­æ”¾æ“æ§æ­Œæ›²ï¼Œååˆ†æå®¢ç‚«é…·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å°è¯•ã€‚&lt;/p&gt;
&lt;p&gt;NetEase-MusicBox å¼€æºåœ°å€ï¼š&lt;a href=&quot;https://github.com/darknessomi/musicbox&quot;&gt;https://github.com/darknessomi/musicbox&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…åšæœäº‘ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;# ä¸‹è½½åšæœäº‘å®‰è£…åŒ…
wget https://www.jianguoyun.com/static/exe/installer/nutstore_linux_dist_x64.tar.gz
# å®‰è£…åšæœäº‘ï¼Œè§£å‹åè¿è¡Œ
./bin/install_core.sh
# å®‰è£…æ‰€éœ€ä¾èµ–
sudo pacman -S gvfs libappindicator-gtk3 python2-gobject
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®‰è£… TIM / QQ.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -S deepin.com.qq.office
# ç”±äº qq ä¾èµ–äº† cinnamon-settings-daemon
sudo pacman -S cinnamon-settings-daemon
/usr/lib/cinnamon-settings-daemon/csd-xsettings
# å¯ä»¥å°è¯•å°†ä¸Šæ–¹çš„ csd-xsettings åŠ å…¥åˆ°å¼€è‡ªå¯
# ä¿®æ”¹ TIM å­—ä½“å¤§å°ï¼Œä¸‹é¢å‘½ä»¤ä¹‹å-ã€‹æ˜¾ç¤º DPI 120
env WINEPREFIX=&quot;$HOME/.deepinwine/Deepin-TIM&quot; /usr/bin/deepin-wine winecfg
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å¼€å‘ç¯å¢ƒé…ç½®&quot;&gt;å¼€å‘ç¯å¢ƒé…ç½®&lt;/h2&gt;
&lt;p&gt;å®‰è£… JDKï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export JAVA_HOME=/home/niu/develop/program/jdk1.8.0_191
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$JAVA_HOME/bin:$PATH
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®‰è£… mavenï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;export M2_HOME=/home/niu/program/apache-maven-3.6.3
export PATH=$PATH:$M2_HOME/bin
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;å­—ä½“æ¸²æŸ“&quot;&gt;å­—ä½“æ¸²æŸ“&lt;/h2&gt;
&lt;p&gt;å­—ä½“æ¸²æŸ“çš„å¥½åç›´æ¥å½±å“åˆ°ä½¿ç”¨ä½“éªŒï¼Œè¿™é‡Œæ¨èä¸‹é¢å‡ æ¬¾å­—ä½“ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -S ttf-roboto noto-fonts ttf-dejavu
# æ–‡æ³‰é©¿
sudo pacman -S wqy-bitmapfont wqy-microhei wqy-microhei-lite wqy-zenhei
# æ€æºå­—ä½“
sudo pacman -S noto-fonts-cjk adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥ä»ä¸‹é¢çš„ Git ä»“åº“ä¸­ä¸‹è½½å¾®è½¯ windows 10 å­—ä½“ï¼Œè·å¾—å’Œ windows ç›¸ä¼¼çš„å­—ä½“ä½“éªŒã€‚Github ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ‘å·²ç»å…‹éš†äº†ä¸€ä»½åˆ° Gitee ç äº‘ã€‚&lt;/p&gt;
&lt;p&gt;GIthubï¼š&lt;a href=&quot;https://github.com/fphoenix88888/ttf-mswin10-arch&quot;&gt;https://github.com/fphoenix88888/ttf-mswin10-arch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Giteeï¼š&lt;a href=&quot;https://gitee.com/niumoo/ttf-mswin10-arch&quot;&gt;https://gitee.com/niumoo/ttf-mswin10-arch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥è‡ªå·±ä¸‹è½½å–œæ¬¢çš„å­—ä½“å¤åˆ¶åˆ° &lt;code&gt;/usr/share/fonts/TTF&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ã€‚ç„¶åä½¿ç”¨å‘½ä»¤ &lt;code&gt;fc-cache -fv&lt;/code&gt; åˆ·æ–°å­—ä½“ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™ä½ å·²ç»å®‰è£…äº†ä¸é”™çš„å­—ä½“ï¼Œæ˜¾ç¤ºæ•ˆæœè¿˜æ˜¯ä¸å¥½ï¼Œå¯ä»¥å°è¯•è°ƒæ•´è®¾ç½®é‡Œçš„å±å¹•ç¼©æ”¾å’Œå¼ºåˆ¶å­—ä½“ DPI å‚æ•°ï¼Œç¼©æ”¾æˆ‘ä¸€èˆ¬ä¸å»ºè®®è°ƒæ•´ï¼Œå¯ä»¥è°ƒæ•´å­—ä½“ DPI ä¸º 120 æˆ–è€… 144ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¯é€‰æ“ä½œ&quot;&gt;å¯é€‰æ“ä½œ&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;ç³»ç»Ÿæ›´æ–°&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;# æ›´æ–°æ‰€æœ‰è½¯ä»¶ç³»ç»Ÿ
sudo pacman -Syyu
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœä½ å¯¹æ›´æ–°å†…å®¹ä¸æ˜¯å¾ˆäº†è§£ï¼Œå¯¹ Linux æ“ä½œè¿˜ä¸ç†Ÿç»ƒï¼Œé‚£ä¹ˆæˆ‘ç»™ä½ çš„å»ºè®®æ˜¯æ²¡é—®é¢˜ä¸è¦æ›´æ–°ï¼Œä¸ç„¶æ›´æ–°ä¹‹åé‡åˆ°ä¸€äº›é—®é¢˜ä¹‹åä½ å¯èƒ½æ— æ³•æå®šã€‚å½“ç„¶è¿™ä¸ªæ¦‚ç‡å¾ˆå°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets/2020/image-20200420080215272.png&quot; alt=&quot;sudo pacman -Syyu æ›´æ–°ç³»ç»Ÿ&quot;/&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;æ˜¾å¡é©±åŠ¨&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å®‰è£…æ˜¾å¡é©±åŠ¨ï¼Œå¦‚æœä½ å¼€æœºå…³æœºæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå°±ä¸è¦æŠ˜è…¾äº†ã€‚å¦‚æœä½ ä¸å¹¸å¼€æœºæˆ–è€…å…³æœºå¡æ­»ï¼Œå¯ä»¥å°è¯•å®‰è£…ä¸€ä¸‹é©±åŠ¨ï¼Œåœ¨ç¡¬ä»¶è®¾å®šé‡Œç‚¹å‡» &lt;strong&gt;Auto Install Proprietary Driver&lt;/strong&gt; è‡ªåŠ¨æ£€æµ‹å®‰è£…ï¼Œè¿™ä¸ªæ˜¾å¡é©±åŠ¨è‡ªåŠ¨æ£€æµ‹å®‰è£…æ˜¯æˆ‘å–œæ¬¢ Manjaro çš„åŸå› ä¹‹ä¸€ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/niumoo/cdn-assets/2020/image-20200420215953766.png&quot; alt=&quot;å®‰è£…æ˜¾å¡é©±åŠ¨&quot;/&gt;&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;åƒåœ¾æ¸…ç†&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ¸…é™¤ç³»ç»Ÿä¸­æ— ç”¨çš„åŒ…ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -R $(pacman -Qdtq)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ¸…é™¤å·²ä¸‹è½½çš„å®‰è£…åŒ…ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;sudo pacman -Scc
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å‡ å¤©ä½¿ç”¨ä¸‹æ¥ï¼ŒManjaro çš„ä½“éªŒæ¯”æƒ³è±¡ä¸­çš„è¦å¥½ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ä¹Ÿä½“éªŒè¿‡æŠŠ Deepin å’Œ Ubunut ä½œä¸ºä¸»åŠ›ç³»ç»Ÿï¼ŒDeepin å¯¹äºæŸäº›æœºå™¨æ˜¾å¡é©±åŠ¨ä¸æ˜¯ç‰¹åˆ«å‹å¥½ï¼Œç»å¸¸ä¼šå¼€æœºæˆ–è€…å…³æœºå¡æ­»ï¼Œä½†æ˜¯æ¡Œé¢ç¯å¢ƒç›¸å¯¹ä¼˜ç§€ã€‚è€Œ Ubuntu åœ¨ä½œä¸ºæ¡Œé¢ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œç»å¸¸ä¼šå‡ºç°è«åçš„å†…éƒ¨é”™è¯¯ï¼Œå®‰è£…è½¯ä»¶æœ‰æ—¶å€™æ¯”è¾ƒç¹çï¼Œå½“ç„¶ Ubuntu çš„ä¼˜ç‚¹ä¹Ÿå¾ˆå¤šï¼Œä¸é”™çš„ç•Œé¢ï¼Œæ´»è·ƒçš„ç¤¾åŒºç­‰ã€‚åœ¨Manjaro çš„ä½“éªŒä¸­æˆ‘å‘ç°å›°æ‰°å¾ˆä¹…çš„æ˜¾å¡é©±åŠ¨é—®é¢˜ç«Ÿç„¶å¯ä»¥å¦‚æ­¤è½»æ¾çš„è§£å†³ã€‚KDE æ¡Œé¢ç¯å¢ƒä¹Ÿå¾ˆèˆ’æœï¼Œç›®å‰ä¸å°½äººæ„çš„åœ°æ–¹åœ¨äºå­—ä½“æ¸²æŸ“ï¼Œä¸ç®¡æˆ‘æ˜¯è°ƒæ•´ç¼©æ”¾è¿˜æ˜¯è°ƒæ•´å­—ä½“ DPI æ•ˆæœéƒ½ä¸æ˜æ˜¾ã€‚å¯èƒ½æ˜¯æˆ‘æ²¡æœ‰æ‰¾åˆ°æ­£ç¡®çš„æ–¹æ³•å§ï¼Œæ¯•ç«Ÿæœ‰çš„æœ‹å‹å¯ä»¥å¼€ç®±å³ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;å®Œ&amp;gt;&lt;br/&gt;ä¸ªäººç½‘ç«™ï¼š&lt;a href=&quot;https://www.wdbyte.com&quot;&gt;https://www.wdbyte.com&lt;/a&gt;&lt;br/&gt;å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼Œä¸€èµ·æˆé•¿ã€‚&lt;br/&gt;å…³æ³¨å…¬ä¼—å·å›å¤èµ„æºå¯ä»¥æ²¡æœ‰å¥—è·¯çš„è·å–å…¨ç½‘æœ€ç«çš„çš„ Java æ ¸å¿ƒçŸ¥è¯†æ•´ç†&amp;amp;é¢è¯•æ ¸å¿ƒèµ„æ–™ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1202902/201911/1202902-20191126090837925-1632441965.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 00:54:00 +0000</pubDate>
<dc:creator>æœªè¯»ä»£ç </dc:creator>
<og:description>Manjaro åˆä½“éªŒ Manjaro æ˜¯ä¸€æ¬¾åŸºäº Arch LInux çš„è‡ªç”±å¼€æºå‘è¡Œç‰ˆï¼Œå®ƒå¸æ”¶äº† Arch Linux ä¼˜ç§€ä¸°å¯Œçš„è½¯ä»¶ç®¡ç†ï¼ŒåŒæ—¶æä¾›äº†ç¨³å®šæµç•…çš„æ“ä½œä½“éªŒã€‚ä¼˜é›…ç®€å•æ˜¯å®ƒçš„è¿½æ±‚ï¼Œç¨³å®šå®</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/niumoo/p/12806659.html</dc:identifier>
</item>
<item>
<title>ååˆ†é’Ÿæ•™æ¡ä¸ç»éªŒï¼Œè½»æ¾æå®šç³»ç»Ÿåˆ†æå¸ˆçš„æ¡ˆä¾‹åˆ†æ - è¡€å¤œä¹‹æœ«</title>
<link>http://www.cnblogs.com/Tiancheng-Duan/p/12806655.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Tiancheng-Duan/p/12806655.html</guid>
<description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ç³»ç»Ÿåˆ†æå¸ˆåŸ¹è®­ç­é€šè¿‡ç»Ÿè®¡ï¼Œå¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šåŸ¹è®­ç­çš„è€ƒç”Ÿï¼Œæ­»å¾—æœ€å¤šçš„å°±æ˜¯æ¡ˆä¾‹åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®¢è§‚é¢˜åªè¦å¹³æ—¶å¤šçœ‹ï¼Œå¤šåˆ·å°±è¡Œäº†ï¼Œè®ºæ–‡åˆ™æœ‰å›ºå®šå¥—è·¯ã€‚ä½†æ˜¯æ¡ˆä¾‹åˆ™æ˜¯éœ€è¦è€ƒç”Ÿè‡ªå·±ä¸»åŠ¨å¯¹å¤–è¾“å‡ºï¼Œå¹¶ä¸”éš¾ä»¥æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å¥—è·¯ã€‚æ‰€ä»¥ï¼Œé‚£äº›åŸ¹è®­ç­çš„è€ƒç”Ÿï¼Œæ­»å¾—æœ€å¤šçš„å°±æ˜¯æ¡ˆä¾‹åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;è€Œæˆ‘å¯¹è‡ªå·±çš„æ¡ˆä¾‹åˆ†ææ˜¯æ¯”è¾ƒä¿¡å¿ƒçš„ã€‚ä¸€æ–¹é¢æ˜¯æˆ‘å‚åŠ çš„ä¸‰æ¬¡è½¯è€ƒé«˜çº§è€ƒè¯•ï¼Œæ¯æ¬¡æ¡ˆä¾‹åˆ†æåˆ†æ•°éƒ½æ˜¯å®¢è§‚ï¼Œæ¡ˆä¾‹ï¼Œè®ºæ–‡ä¸‰éƒ¨åˆ†æœ€é«˜çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä¹‹å‰å¸¦è¿‡çš„ä¸€ä¸ªåŒäº‹ï¼Œä¹Ÿæ˜¯æ¡ˆä¾‹åˆ†æåˆ†æ•°æœ€é«˜ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘å°½å¯èƒ½å°†æ¡ˆä¾‹åˆ†æçš„æ–¹æ³•ä¸æŠ€å·§è¯´å‡ºæ¥ï¼ˆä½†æ˜¯æœ‰çš„æ–¹æ³•çœŸçš„å¾ˆéš¾é€šè¿‡æ–‡å­—æè¿°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ç« å°†ä»æ¡ˆä¾‹å‡†å¤‡ï¼Œæ¡ˆä¾‹æŠ€å·§ï¼Œæ¡ˆä¾‹å¥—è·¯ä¸‰ä¸ªæ–¹é¢è¿›è¡Œæè¿°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¡ˆä¾‹å‡†å¤‡&quot;&gt;æ¡ˆä¾‹å‡†å¤‡&lt;/h2&gt;
&lt;p&gt;æ¡ˆä¾‹å‡†å¤‡çš„è¦ç‚¹æœ‰å››ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åŸºç¡€æ‰å®ï¼šå¦‚æœå¯¹æ¡ˆä¾‹è®¾è®¡çš„çŸ¥è¯†ç‚¹ä¸€å¤´é›¾æ°´ï¼Œé‚£å½“ç„¶æ˜¯å‡‰å‡‰äº†ï¼Œè€Œä¸”æ˜¯å‡‰é€äº†ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»åŠ¨è¾“å‡ºï¼šå¯¹çŸ¥è¯†ç‚¹çš„è®¤è¯†ä¸ä»…ä»…æ˜¯çŸ¥é“ï¼ˆçŸ¥é“å¯ä»¥è§£å†³å®¢è§‚éƒ¨åˆ†çš„é‚£ç§å¤šé€‰ä¸€çš„é¢˜ç›®ï¼‰ï¼Œè¿˜è¦åšåˆ°å¯ä»¥ä¸»åŠ¨è¾“å‡ºã€‚å¦‚å¯ä»¥ä¸»åŠ¨è¯´å‡ºé¢å‘å¯¹è±¡éœ€æ±‚åˆ†æä¸‹ç”¨åŠ›æ¨¡å‹çš„å®Œæ•´ç»„æˆï¼Œæ¯•ç«Ÿæ¡ˆä¾‹éœ€è¦çš„ä¸æ˜¯å¤šé€‰ä¸€ï¼Œè€Œæ˜¯ä¸»åŠ¨è¾“å‡ºã€‚&lt;/li&gt;
&lt;li&gt;ç†Ÿæ‚‰é¢˜å‹ï¼šç†Ÿæ‚‰æ¡ˆä¾‹çš„å¸¸è§é¢˜å‹ï¼Œæ¡ˆä¾‹å¸¸è§çš„é¢˜å‹ï¼Œæœ‰ï¼š
&lt;ul&gt;&lt;li&gt;çŸ¥è¯†ç‚¹èƒŒè¯µï¼šå¦‚è¯¢é—®æ¶æ„é£æ ¼æœ‰å“ªäº›&lt;/li&gt;
&lt;li&gt;æŒ–æ˜çŸ¥è¯†ç‚¹ï¼šå¦‚ä»æ¡ˆä¾‹ä¸­æŒ–æ˜ç‹å·¥çš„æ–¹æ¡ˆè€ƒè™‘äº†å“ªäº›ç³»ç»Ÿå±æ€§&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ£åˆ¤æ–­ï¼šå¦‚åˆ¤æ–­ç‹å·¥å’Œæå·¥çš„æ–¹æ¡ˆå­°ä¼˜å­°åŠ£ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯éœ€è¦å¤§å®¶ä»ç›¸å…³çš„çŸ¥è¯†ç‚¹å‘æ•£ï¼Œå¥—å…¥&lt;/li&gt;
&lt;li&gt;å¯¹å·å…¥åº§ï¼šå¦‚åˆ¤æ–­å›¾ä¸­å„ä¸ªæµç¨‹ç‚¹ï¼Œåˆ†åˆ«å¯¹åº”å“ªç§è§’è‰²ï¼ˆå¦‚å‚ä¸è€…ï¼Œè¾¹ç•Œç±»ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æŠ¼é¢˜ï¼šå’Œè®ºæ–‡ä¸€æ ·ï¼Œä¸è¦æŠ¼æ­»é¢˜ã€‚è€Œæ˜¯æ ¹æ®å¾€å¹´çš„å‡ºé¢˜è§„å¾‹ï¼Œåˆ¤æ–­è¿™æ¬¡è€ƒè¯•å„ç§ç±»å‹é¢˜ç›®çš„å‡ºé¢˜æ¦‚ç‡ï¼Œä»è€Œç¡®ä¿è‡ªå·±å°†ä¸»è¦ç²¾åŠ›æ”¾åœ¨äº†æ ¸å¿ƒè€ƒç‚¹ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å¾€å¹´æ¡ˆä¾‹åˆ†æé¢˜ç›®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200428212501321.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1cmVraW5n,size_16,color_FFFFFF,t_70&quot; alt=&quot;å†å¹´æ¡ˆä¾‹&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆå›¾ç‰‡ç»å¯¹æ¸…æ™°ã€‚å¦‚æœåˆçœ‹ä¸æ¸…çš„ï¼Œè¯·åœ¨æ–°é¡µé¢æ‰“å¼€ï¼Œæˆ–è€…ä¸‹è½½ä¸‹æ¥è§‚çœ‹ï¼‰&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æ¡ˆä¾‹çš„è€ƒç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2020042821200171.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1cmVraW5n,size_16,color_FFFFFF,t_70&quot; alt=&quot;æ¡ˆä¾‹åˆ†æè€ƒç‚¹&quot;/&gt;&lt;br/&gt;ï¼ˆå›¾ç‰‡ç»å¯¹æ¸…æ™°ã€‚å¦‚æœåˆçœ‹ä¸æ¸…çš„ï¼Œè¯·åœ¨æ–°é¡µé¢æ‰“å¼€ï¼Œæˆ–è€…ä¸‹è½½ä¸‹æ¥è§‚çœ‹ï¼‰&lt;/p&gt;
&lt;p&gt;å…¶å®å‰ä¸¤ä¸ªè¦ç‚¹ï¼Œå°±æ˜¯è¦æ±‚å¤§å®¶å¯¹çŸ¥è¯†ç‚¹è¶³å¤Ÿç†Ÿæ‚‰ï¼Œé€‚å½“è¿›è¡ŒèƒŒè¯µï¼ˆä¸æ˜¯æ‰€æœ‰éƒ½è¦èƒŒè¯µï¼Œæ ¹æ®ç¬¬å››ä¸ªè¦ç‚¹çš„ç»“æœï¼ŒåªèƒŒè¯µæ ¸å¿ƒè¦ç‚¹ï¼‰ã€‚åä¸¤è€…å°±æ˜¯ç ”ç©¶å†å¹´çš„è€ƒé¢˜ï¼Œéœ€è¦å¤§å®¶è‡ªå·±åœ¨åˆ·å†å¹´çœŸé¢˜æ—¶ï¼Œè¿›è¡Œæ€»ç»“ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¡ˆä¾‹æŠ€å·§&quot;&gt;æ¡ˆä¾‹æŠ€å·§&lt;/h2&gt;
&lt;p&gt;ç›®çš„å°±æ˜¯ä¸ºäº†æ–¹ä¾¿é˜…å·è€å¸ˆï¼Œè®©é˜…å·è€å¸ˆçœ‹åˆ°ä½ çš„ç­”æ¡ˆå°±æ„Ÿåˆ°èˆ’æœï¼Œé‚£ä¹ˆä½ çš„åˆ†æ•°è‡ªç„¶å°±é«˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¡ˆä¾‹çš„æŠ€å·§ä¸»è¦åˆ†ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ¡ç†æ¸…æ™°ï¼šä¸€å®šè¦è®©é˜…å·è€å¸ˆæ„Ÿå—åˆ°ä½ çš„æ¡ç†æ¸…æ™°ã€‚å› ä¸ºé˜…å·è€å¸ˆæ˜¯æŒ‰ç­”æ¡ˆçš„ç‚¹ç»™åˆ†çš„ï¼Œæ‰€ä»¥ï¼Œæ¡ç†æ¸…æ™°ä¾¿äºé˜…å·è€å¸ˆè¿…é€Ÿæ‰¾åˆ°ç­”æ¡ˆçš„ç‚¹ã€‚æœ€ç®€å•çš„åšæ³•ï¼Œå°±æ˜¯åœ¨ç­”é¢˜æ—¶ï¼Œå¯¹ç­”æ¡ˆè¿›è¡Œ1ï¼Œ2ï¼Œ3ï¼Œ...ç‚¹ï¼ˆå¹¶ä¸”è¿™éƒ¨åˆ†è¿˜æœ‰ä¸€äº›è®¨è®ºï¼Œåé¢ä¼šè¯´åˆ°ï¼‰&lt;/li&gt;
&lt;li&gt;å›ç­”ç®€æ´ï¼šç­”æ¡ˆä¸€å®šè¦åœ¨ä¸ç ´åç­”æ¡ˆçš„ç‚¹çš„å‰æä¸‹ï¼Œå°½å¯èƒ½ç²¾ç®€
&lt;ul&gt;&lt;li&gt;ç®€æ´çš„ç­”æ¡ˆä¼šæ˜¾å¾—å·é¢æ•´æ´ï¼Œç»™è€å¸ˆç•™ä¸‹å¥½çš„å°è±¡ã€‚&lt;/li&gt;
&lt;li&gt;ç®€æ´çš„å›ç­”ä¼šä½¿å¾—æ¡ç†æ›´åŠ æ¸…æ™°ã€‚&lt;/li&gt;
&lt;li&gt;ç®€æ´çš„å›ç­”ä¼šèŠ‚çœå¤§é‡æ—¶é—´ã€‚æ‰€ä»¥ï¼Œè®¸å¤šè€ƒç”Ÿéƒ½æ˜¯è¸©ç€è€ƒè¯•ç»“æŸçš„é“ƒå£°å†™å®Œã€‚è€Œæˆ‘æ¡ˆä¾‹è€ƒè¯•åˆ™æ˜¯å†™å®Œäº†ï¼Œè¿˜æœ‰20-30åˆ†é’Ÿæ—¶é—´ç”¨æ¥æ£€æŸ¥ç­”æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç‚¹éœ€è¦å¹³æ—¶å¤šåŠ ç»ƒä¹ ï¼Œè¿½æ±‚å’Œç­”æ¡ˆçš„ç‚¹ä¸€æ ·ç²¾ç®€ã€‚é‚£ä¹ˆç­”æ¡ˆåº”è¯¥ç²¾ç®€åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ï¼Ÿè¿™ç‚¹ä¼šåœ¨åé¢çš„å¥—è·¯ä¸­è¯´æ˜ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç”¨è¯ç²¾ç¡®ï¼šå‡†ç¡®çš„ç”¨è¯
&lt;ul&gt;&lt;li&gt;å¯ä»¥åšåˆ°å›ç­”ç®€æ´&lt;/li&gt;
&lt;li&gt;æ›´å¤§æ¦‚ç‡å‡†ç¡®è¸©åˆ°ç­”æ¡ˆçš„ç‚¹ï¼ˆå› ä¸ºå¤§éƒ¨åˆ†æ¡ˆä¾‹é—®é¢˜çš„ç­”æ¡ˆçš„ç‚¹éƒ½æ˜¯ä¸€ä¸ªä¸ªçš„è¯ï¼‰&lt;/li&gt;
&lt;li&gt;å¯ä»¥æå‡è‡ªå·±å¯¹çŸ¥è¯†ç‚¹çš„å‡†ç¡®æŠŠæ¡&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;å®æ„¿ç­”é”™ä¹Ÿå¤šç­”ï¼šå› ä¸ºæ¡ˆä¾‹éƒ¨åˆ†æ˜¯æ­£å‘ç»™åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯è¯´çœ‹åˆ°å¯¹çš„ç‚¹å°±ç»™åˆ†ï¼Œçœ‹åˆ°é”™çš„ç‚¹ä¹Ÿä¸æ‰£åˆ†ã€‚å½“ç„¶ä¹Ÿè¦é€‚å¯è€Œæ­¢ï¼Œåˆ«å†™äº†100ä¸ªç‚¹ï¼Œé˜…å·è€å¸ˆæ ¹æœ¬å°±æ‰¾ä¸åˆ°æ­£ç¡®çš„ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;ç»ä¸ç•™ç©ºï¼šå³ä½¿é‡åˆ°ä¸ä¼šçš„é—®é¢˜ï¼Œä¹Ÿä¸è¦ç•™ç©ºã€‚å› ä¸ºç•™ç©ºæ„å‘³ç€ç»å¯¹æ²¡æœ‰åˆ†æ•°ã€‚è€Œä¸€äº›åˆé€‚çš„å›ç­”ï¼Œä¹Ÿè®¸å¯ä»¥è·å¾—ä¸€äº›åˆ†æ•°ã€‚&lt;/li&gt;
&lt;li&gt;åˆç†é€‰é¢˜ï¼šç”±äºæ¡ˆä¾‹åˆ†ææ˜¯1 + 2/4ï¼ˆå³ç¬¬ä¸€é¢˜å¿…å†™ï¼Œåé¢å››é“é¢˜é€‰åšä¸¤é“ï¼‰ï¼Œä½†æ˜¯ç­”æ¡ˆçº¸åªæœ‰ä¸‰é¢˜çš„ç©ºé—´ï¼Œæ‰€ä»¥åˆç†é€‰æ‹©è¦åšçš„é¢˜ç›®æ˜¯å¾ˆé‡è¦çš„ã€‚æˆ‘è§åˆ°ä¸å°‘è€ƒè¯•åï¼ŒæŠ±æ€¨è¯´è‡ªå·±é€‰æ‹©é¢˜ç›®çš„ã€‚æ‰€ä»¥è½ç¬”å‰ï¼ŒèŠ±äº”åˆ†é’Ÿå®¡é˜…ä¸€ä¸‹åé¢å››é“é€‰åšé¢˜ï¼Œç¡®å®šæ¯é“é¢˜çš„æŠŠæ¡åˆ†æ•°ï¼ˆä¸€å®šèƒ½æ‹¿åˆ°ï¼‰å’Œæ€€ç–‘åˆ†æ•°ï¼ˆä¸ä¸€å®šæ‹¿åˆ°ï¼‰ï¼Œä»¥åŠä¸å¯èƒ½åˆ†æ•°ï¼ˆç»å¯¹æ‹¿ä¸åˆ°ï¼‰ã€‚ç„¶åæ ¹æ®è‡ªå·±æ—¥å¸¸å¯¹æ€€ç–‘åˆ†æ•°çš„è·å–æƒ…å†µï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è¯„ä¼°æ–¹æ³•ï¼Œè¯¦è§é¡¹ç›®ç®¡ç†çš„æ—¶é—´ç®¡ç†ç­‰ï¼‰ï¼Œåˆ¤æ–­å‡ºæœŸæœ›åˆ†æ•°æœ€é«˜çš„ä¸¤é“é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;æ¡ˆä¾‹å¥—è·¯&quot;&gt;æ¡ˆä¾‹å¥—è·¯&lt;/h2&gt;
&lt;p&gt;æ¡ˆä¾‹çš„è®¨è®ºï¼Œå…¶ç›®çš„å°±æ˜¯å•çº¯ä¸ºäº†è·å¾—æ›´é«˜çš„åˆ†æ•°ã€‚å¹¶ä¸”å¯èƒ½ä¸ç¬¦åˆä¸€èˆ¬çš„è€ƒè¯•æŠ€å·§ï¼Œä½†æ˜¯åˆä¸å±äºä½œå¼Šã€‚&lt;/p&gt;
&lt;h3 id=&quot;çœ‹åˆ†å†™ç­”æ¡ˆ&quot;&gt;çœ‹åˆ†å†™ç­”æ¡ˆ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®åˆ†æ•°ï¼Œåˆ¤æ–­ç­”æ¡ˆçš„ç‚¹çš„ä¸ªæ•°&lt;br/&gt;ä¸€èˆ¬æ¥è¯´ï¼Œç­”æ¡ˆçš„å„ä¸ªè¦ç‚¹çš„åˆ†æ•°éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœç­”æ¡ˆåˆ†æ•°æ˜¯8åˆ†ï¼Œé‚£ä¹ˆå•ç‚¹åˆ†æ•°å¯èƒ½æ˜¯1,2,4ç‚¹ï¼ˆå•ç‚¹åˆ†æ•°ä¸€èˆ¬ä¸ä¼šè¶…è¿‡4åˆ†ã€‚è¶…è¿‡äº†è¯´æ˜ä½ è¿˜éœ€è¦è¿›è¡Œæ‹†åˆ†ï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±çŸ¥é“ç­”æ¡ˆä¸€å…±æœ‰8,4,2ä¸ªç‚¹ã€‚å¦‚æœä½ æ˜ç¡®çŸ¥é“æœ‰ä¸‰ä¸ªç‚¹ï¼Œé‚£ä¹ˆæ­£ç¡®ç­”æ¡ˆå¾ˆæœ‰å¯èƒ½æœ‰4ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹2åˆ†ã€‚&lt;br/&gt;ä¸€æ—¦çŸ¥é“é—®é¢˜ç­”æ¡ˆæœ‰å‡ ä¸ªç‚¹ã€‚æˆ‘ä»¬çš„å›ç­”ç­–ç•¥å°±æ›´åŠ å‡†ç¡®äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶æ ¹æ®æ¯ä¸ªç‚¹å‡åˆ†çš„åˆ†æ•°ï¼Œå†³å®šå¦‚ä½•å›ç­”ã€‚å¦‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;1â€˜ï¼šå±‚æ¬¡æ¶æ„ã€‚&lt;/li&gt;
&lt;li&gt;2â€˜ï¼šå±‚æ¬¡æ¶æ„ï¼šå½’å±äºè°ƒç”¨/è¿”å›æ¶æ„é£æ ¼ï¼Œå…¶æä¾›äº†ä¸€ç§éš”ç¦»ç³»ç»Ÿå„å±‚åŠŸèƒ½çš„æ¨¡å‹ã€‚&lt;/li&gt;
&lt;li&gt;3â€˜ï¼šå±‚æ¬¡æ¶æ„ï¼šå½’å±äºè°ƒç”¨/è¿”å›æ¶æ„é£æ ¼ï¼Œå…¶æä¾›äº†ä¸€ç§éš”ç¦»ç³»ç»Ÿå„å±‚åŠŸèƒ½çš„æ¨¡å‹ã€‚å…¶ä¼˜ç‚¹æ˜¯xxxã€‚å…¶ç¼ºç‚¹æ˜¯xxxã€‚&lt;/li&gt;
&lt;li&gt;3â€˜ï¼šå±‚æ¬¡æ¶æ„ï¼šå½’å±äºè°ƒç”¨/è¿”å›æ¶æ„é£æ ¼ï¼Œå…¶æä¾›äº†ä¸€ç§éš”ç¦»ç³»ç»Ÿå„å±‚åŠŸèƒ½çš„æ¨¡å‹ã€‚æ–‡ä¸­xxxä¸xxxç‰¹å¾ï¼Œè¯´æ˜å…¶é‡‡ç”¨çš„æ˜¯å±‚æ¬¡æ¶æ„ã€‚&lt;/li&gt;
&lt;li&gt;4â€˜ï¼šå±‚æ¬¡æ¶æ„ï¼šå½’å±äºè°ƒç”¨/è¿”å›æ¶æ„é£æ ¼ï¼Œå…¶æä¾›äº†ä¸€ç§éš”ç¦»ç³»ç»Ÿå„å±‚åŠŸèƒ½çš„æ¨¡å‹ã€‚å…¶ä¼˜ç‚¹æ˜¯xxxã€‚å…¶ç¼ºç‚¹æ˜¯xxxã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å±‚æ¬¡æ¶æ„é£æ ¼ï¼Œå®ç°xxxxï¼Œä»è€Œç¡®ä¿xxxã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;æ¨¡ç³Šæ··åˆ†&quot;&gt;æ¨¡ç³Šæ··åˆ†&lt;/h3&gt;
&lt;p&gt;æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸€äº›éš¾ä»¥ç¡®å®šçš„ç­”æ¡ˆã€‚æ¯”å¦‚é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä¸ç¡®å®šå…¶åˆ°åº•æ˜¯å±‚æ¬¡æ¶æ„è¿˜æ˜¯é¢å‘å¯¹è±¡æ¶æ„ã€‚ä»¥å¾€çš„åšæ³•ï¼Œé€šå¸¸æ˜¯äºŒé€‰ä¸€ï¼Œé è¿æ°”ã€‚è¿˜æœ‰ä¸€ç§åšæ³•ï¼Œå°±æ˜¯å«ç³Šå›ç­”è°ƒç”¨/è¿”å›é£æ ¼ï¼Œè°ƒç”¨/è¿”å›é£æ ¼åŒ…å«å±‚æ¬¡æ¶æ„ï¼Œé¢å‘å¯¹è±¡æ¶æ„ã€‚ã€‚ã€‚ä¸è¿‡è¿™ç§åšæ³•ï¼Œéœ€è¦è€ƒè™‘çš„å› ç´ æ¯”è¾ƒå¤šï¼Œä¸é¢˜å‹ç­‰éƒ½æœ‰ä¸€å®šå…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶å¦‚æœé‡åˆ°ä¸‰é€‰ä¸€ï¼Œå››é€‰ä¸€ï¼Œé‚£ä¹ˆé€‰æ‹©è¿™ä¸ªåšæ³•ï¼Œå¯èƒ½æ€§ä»·æ¯”æ›´é«˜ä¸€äº›ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è’™æ··è¿‡å…³&quot;&gt;è’™æ··è¿‡å…³&lt;/h3&gt;
&lt;p&gt;æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸€é“é¢˜å®Œå…¨ä¸ä¼šåšã€‚&lt;br/&gt;é‚£ä¹ˆåƒä¸‡ä¸è¦ç•™ç©ºï¼Œä½†æ˜¯å¯ä»¥ç•™åˆ°æœ€åå†åšã€‚å› ä¸ºåœ¨è¿™ä¸ªå·¥ç¨‹ä¸­ï¼Œä½ å¯èƒ½å°±ä¼šåšäº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåˆ°äº†æœ€åï¼Œè‡ªå·±è¿˜æ˜¯ä¸ä¼šåšï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´ï¼Œå°±æ˜¯è’™æ··è¿‡å…³ã€‚ä½†æ˜¯æ··ä¹Ÿæ˜¯æœ‰æŠ€å·§çš„ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œç­”æ¡ˆä¸€å®šè¦ä¸å½“å‰é¢˜ç›®ç›¸å…³ã€‚èªæ˜çš„å°ä¼™ä¼´è¿˜ä¼šæ ¹æ®å‰åé¢˜ç›®çš„é—®é¢˜ä¸ç­”æ¡ˆï¼ŒçŒœæµ‹å½“å‰é¢˜ç›®çš„ç­”æ¡ˆåœ¨å“ªä¸ªèŒƒå›´ã€‚æ¯”å¦‚ï¼Œç¬¬ä¸€é¢˜é—®éœ€æ±‚è·å–ï¼Œç¬¬ä¸‰é¢˜éœ€æ±‚å®šä¹‰ï¼Œé‚£ä¹ˆç¬¬äºŒé¢˜å¤§æ¦‚ç‡æ˜¯éœ€æ±‚åˆ†æç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œç­”æ¡ˆçš„ç²’åº¦éœ€è¦æŠŠæ¡å¥½ã€‚å¤ªå…·ä½“ï¼Œå¯èƒ½ä¼šä¸æ­£ç¡®ç­”æ¡ˆåå·®å¾ˆå¤§ã€‚å¤ªå®½æ³›ï¼Œé˜…å·è€å¸ˆç»å¯¹ä¸ä¼šç»™åˆ†ã€‚æ‰€ä»¥éœ€è¦æŠŠæ¡å¥½ç­”æ¡ˆçš„ç²’åº¦ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œç­”æ¡ˆéœ€è¦å¤šä¸€äº›å†…å®¹ã€‚å› ä¸ºè¿™é“é¢˜æ˜¯æˆ‘ä»¬ä¸ä¼šçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡â€œå¹¿æ’’ç½‘â€çš„æ–¹å¼å‘½ä¸­æ­£ç¡®ç­”æ¡ˆçš„ç‚¹ã€‚èµ·ç èƒ½å’Œæ­£ç¡®ç­”æ¡ˆçš„ç‚¹æ“¦ä¸ªè¾¹ï¼Œç»™è€å¸ˆæ”¾åˆ†çš„ç†ç”±ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æˆ‘ä¸€èˆ¬ä¼šå°†è½¯è€ƒè¿™ç§è€ƒè¯•åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯å­¦ä¹ éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯è€ƒè¯•éƒ¨åˆ†ã€‚&lt;br/&gt;ç›¸å¯¹æ¥è¯´ï¼Œæˆ‘æ›´åŠ çœ‹ä¸­å­¦ä¹ éƒ¨åˆ†ã€‚è®°ä½ï¼Œæˆ‘ä»¬æ˜¯æŠ±ç€å­¦ä¹ çŸ¥è¯†çš„ç›®çš„æ¥çš„ï¼Œè€Œè¯ä¹¦åªæ˜¯é¡ºå¸¦çš„ã€‚&lt;br/&gt;ä½†æ˜¯æ—¢ç„¶æœ‰è€ƒè¯•ï¼Œè‡ªç„¶å°±æœ‰åº”è¯•æŠ€å·§ã€‚ä½œä¸ºå¤šå¹´åº”è¯•æ•™è‚²å‡ºæ¥çš„å°ä¼™ä¼´ï¼Œç›¸ä¿¡éƒ½æœ‰ç€è‡ªå·±çš„åº”è¯•æŠ€å·§ã€‚&lt;/p&gt;
&lt;p&gt;å¹³æ—¶ï¼Œæˆ‘ä»¬è¦åšåˆ°åŠªåŠ›å­¦ä¹ ã€‚è€ƒè¯•æ—¶ï¼Œæˆ‘ä»¬è¦â€œä¸æ‹©æ‰‹æ®µâ€è·å¾—æ¯ä¸€åˆ†ã€‚å› ä¸ºå¹³æ—¶æˆ‘ä»¬æ˜¯ä¸ºäº†è¿½æ±‚çŸ¥è¯†ã€‚è€Œè¸å…¥è€ƒåœºåï¼Œæˆ‘ä»¬å”¯ä¸€çš„ç›®çš„å°±æ˜¯é€šè¿‡è€ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œç³»ç»Ÿåˆ†æå¸ˆçš„æ¡ˆä¾‹åˆ†æå°±æå®šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ„¿ä¸è¯¸å›å…±è¿›æ­¥ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 00:54:00 +0000</pubDate>
<dc:creator>è¡€å¤œä¹‹æœ«</dc:creator>
<og:description>ååˆ†é’Ÿæ•™æ¡ä¸ç»éªŒï¼Œè½»æ¾æå®šç³»ç»Ÿåˆ†æå¸ˆçš„æ¡ˆä¾‹åˆ†æ å‰è¨€ ç³»ç»Ÿåˆ†æå¸ˆåŸ¹è®­ç­é€šè¿‡ç»Ÿè®¡ï¼Œå¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šåŸ¹è®­ç­çš„è€ƒç”Ÿï¼Œæ­»å¾—æœ€å¤šçš„å°±æ˜¯æ¡ˆä¾‹åˆ†æã€‚ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®¢è§‚é¢˜åªè¦å¹³æ—¶å¤šçœ‹ï¼Œå¤šåˆ·å°±è¡Œäº†ï¼Œè®ºæ–‡åˆ™æœ‰å›ºå®šå¥—è·¯ã€‚ä½†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Tiancheng-Duan/p/12806655.html</dc:identifier>
</item>
<item>
<title>Django Channelå®æ—¶æ¨é€ä¸èŠå¤© - Sunzz</title>
<link>http://www.cnblogs.com/Sunzz/p/12788608.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Sunzz/p/12788608.html</guid>
<description>&lt;p&gt;å…ˆæ¥çœ‹ä¸€ä¸‹æœ€ç»ˆçš„æ•ˆæœå§&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200427184512361-1268642302.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å¼€å§‹èŠå¤©ï¼Œè¾“å…¥æ¶ˆæ¯å¹¶ç‚¹å‡»å‘é€æ¶ˆæ¯å°±å¯ä»¥å¼€å§‹èŠå¤©äº†&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200427184843746-1575487506.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;ç‚¹å‡» â€œè·å–åç«¯æ•°æ®â€å¼€å¯å®æ—¶æ¨é€&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200427185032485-1877733770.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;å…ˆæ¥ç®€å•äº†è§£ä¸€ä¸‹ &lt;strong&gt;Django Channel&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote readability=&quot;9.9002493765586&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;Channelsæ˜¯ä¸€ä¸ªé‡‡ç”¨Djangoå¹¶å°†å…¶åŠŸèƒ½æ‰©å±•åˆ°HTTPä»¥å¤–çš„é¡¹ç›®ï¼Œä»¥å¤„ç†WebSocketï¼ŒèŠå¤©åè®®ï¼ŒIoTåè®®ç­‰ã€‚&lt;/span&gt;&lt;span&gt;å®ƒåŸºäºç§°ä¸º&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;reference external&quot; href=&quot;http://asgi.readthedocs.io/&quot;&gt;ASGI&lt;/a&gt;&lt;span&gt;&lt;span&gt;çš„Pythonè§„èŒƒæ„å»º&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;å®ƒä»¥Djangoçš„æ ¸å¿ƒä¸ºåŸºç¡€ï¼Œå¹¶åœ¨å…¶ä¸‹é¢åˆ†å±‚äº†ä¸€ä¸ªå®Œå…¨å¼‚æ­¥çš„å±‚ï¼Œä»¥åŒæ­¥æ¨¡å¼è¿è¡ŒDjangoæœ¬èº«ï¼Œä½†å¼‚æ­¥å¤„ç†äº†è¿æ¥å’Œå¥—æ¥å­—ï¼Œå¹¶æä¾›äº†ä»¥ä¸¤ç§æ–¹å¼ç¼–å†™çš„é€‰æ‹©ï¼Œä»è€Œå®ç°äº†è¿™ä¸€ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ã€€ã€€è¯¦æƒ…è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š&lt;a href=&quot;https://channels.readthedocs.io/en/latest/introduction.html&quot;&gt;https://channels.readthedocs.io/en/latest/introduction.html&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;å†ç®€å•è¯´ä¸‹&lt;strong&gt;ASGI&lt;/strong&gt;æ˜¯ä»€ä¹ˆä¸œä¸œå§&lt;/h3&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;span class=&quot;md_line&quot;&gt;ASGI ç”± Django å›¢é˜Ÿæå‡ºï¼Œä¸ºäº†è§£å†³åœ¨ä¸€ä¸ªç½‘ç»œæ¡†æ¶é‡Œï¼ˆå¦‚ Djangoï¼‰åŒæ—¶å¤„ç† HTTPã€HTTP2ã€WebSocket åè®®ã€‚ä¸ºæ­¤ï¼ŒDjango å›¢é˜Ÿå¼€å‘äº† Django Channels æ’ä»¶ï¼Œä¸º Django å¸¦æ¥äº† ASGI èƒ½åŠ›ã€‚&lt;br/&gt;Â &lt;span class=&quot;md_line&quot;&gt;åœ¨ ASGI ä¸­ï¼Œå°†ä¸€ä¸ªç½‘ç»œè¯·æ±‚åˆ’åˆ†æˆä¸‰ä¸ªå¤„ç†å±‚é¢ï¼Œæœ€å‰é¢çš„ä¸€å±‚ï¼Œinterface serverï¼ˆåè®®å¤„ç†æœåŠ¡å™¨ï¼‰ï¼Œè´Ÿè´£å¯¹è¯·æ±‚åè®®è¿›è¡Œè§£æï¼Œå¹¶å°†ä¸åŒçš„åè®®åˆ†å‘åˆ°ä¸åŒçš„ Channelï¼ˆé¢‘é“ï¼‰ï¼›é¢‘é“å±äºç¬¬äºŒå±‚ï¼Œé€šå¸¸å¯ä»¥æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ç³»ç»Ÿã€‚é¢‘é“ç»‘å®šäº†ç¬¬ä¸‰å±‚çš„ Consumerï¼ˆæ¶ˆè´¹è€…ï¼‰ã€‚&lt;/span&gt;&lt;/span&gt;Â &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Â ã€€ã€€è¯¦æƒ…è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šÂ &lt;a href=&quot;https://channels.readthedocs.io/en/latest/asgi.html&quot;&gt;https://channels.readthedocs.io/en/latest/asgi.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸‹è¾¹æ¥è¯´ä¸€ä¸‹å…·ä½“çš„å®ç°æ­¥éª¤&lt;/p&gt;
&lt;p&gt;Â è½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼šÂ &lt;a href=&quot;https://www.cnblogs.com/Sunzz/p/12788608.html&quot;&gt;https://www.cnblogs.com/Sunzz/p/12788608.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
pip3 &lt;span&gt;install&lt;/span&gt;&lt;span&gt; channels 
pip3 &lt;/span&gt;&lt;span&gt;install&lt;/span&gt; channels_redis
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;&lt;span class=&quot;pln&quot;&gt;1.æ–°å»ºé¡¹ç›®&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
django-admin startproject mysite
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2.æ–°å»ºåº”ç”¨&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
python3 manage.py startapp chat
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3.ç¼–è¾‘Â &lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;mysite/settings.py&lt;/span&gt;&lt;/code&gt;æ–‡ä»¶&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt;æ³¨å†Œåº”ç”¨&lt;/span&gt;
INSTALLED_APPS =&lt;span&gt; [
    ....
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;chat.apps.ChatConfig&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;channels&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
]
&lt;br/&gt;# åœ¨æ–‡ä»¶å°¾éƒ¨æ–°å¢å¦‚ä¸‹é…ç½®&lt;br/&gt;&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;å°†ASGI_APPLICATIONè®¾ç½®è®¾ç½®ä¸ºæŒ‡å‘è¯¥è·¯ç”±å¯¹è±¡ä½œä¸ºæ‚¨çš„æ ¹åº”ç”¨ç¨‹åºï¼š&lt;/span&gt;
ASGI_APPLICATION = &lt;span&gt;'&lt;/span&gt;&lt;span&gt;mysite.routing.application&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;

&lt;span&gt;#&lt;/span&gt;&lt;span&gt;é…ç½®Redis&lt;/span&gt;
CHANNEL_LAYERS =&lt;span&gt; {
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;: {
        &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;BACKEND&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;channels_redis.core.RedisChannelLayer&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
        &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;CONFIG&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;: {
            &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hosts&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: [(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;10.0.6.29&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, 6379&lt;span&gt;)],
        },
    },
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;1. æ·»åŠ ç´¢å¼•è§†å›¾çš„æ¨¡æ¿&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;åœ¨&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;chat&lt;/span&gt;&lt;/code&gt;&lt;span&gt;&lt;span&gt;ç›®å½•ä¸­&lt;/span&gt;&lt;span&gt;åˆ›å»ºä¸€ä¸ªtemplates&lt;/span&gt;&lt;span&gt;ç›®å½•ã€‚&lt;/span&gt;&lt;span&gt;åœ¨&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;æ‚¨åˆšåˆšåˆ›å»º&lt;/span&gt;&lt;span&gt;çš„templatesÂ &lt;/span&gt;&lt;span&gt;ç›®å½•ä¸­ï¼Œåˆ›å»ºå¦ä¸€ä¸ªåä¸ºçš„ç›®å½•Â &lt;/span&gt;&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;chat&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;index.html&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ä»¥ä¿å­˜ç´¢å¼•è§†å›¾çš„æ¨¡æ¿&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â &lt;span&gt;&lt;span&gt;å°†ä»¥ä¸‹ä»£ç æ”¾å…¥&lt;/span&gt;&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;chat/templates/chat/index.html&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; chat/templates/chat/index.html &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;Chat Rooms&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
    What chat room would you like to enter?&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;room-name-input&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; size&lt;/span&gt;&lt;span&gt;=&quot;100&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;room-name-submit&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;button&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;Enter&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
        document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#room-name-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).focus();
        document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#room-name-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).onkeyup &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (e.keyCode &lt;/span&gt;&lt;span&gt;===&lt;/span&gt; &lt;span&gt;13&lt;/span&gt;&lt;span&gt;) {  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; enter, return&lt;/span&gt;
&lt;span&gt;                document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#room-name-submit&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).click();
            }
        };

        document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#room-name-submit&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).onclick &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt;&lt;span&gt; roomName &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#room-name-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).value;
            window.location.pathname &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/chat/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; roomName &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;;
        };
    &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2.åˆ›å»ºèŠå¤©ä¸æ¶ˆæ¯æ¨é€æ¨¡æ¿&lt;/h2&gt;
&lt;p&gt;chat/templates/chat/room.html&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.0/jquery.min.js&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;&lt;span&gt;=&quot;https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;Chat Room&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;textarea &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;chat-log&quot;&lt;/span&gt;&lt;span&gt; cols&lt;/span&gt;&lt;span&gt;=&quot;150&quot;&lt;/span&gt;&lt;span&gt; rows&lt;/span&gt;&lt;span&gt;=&quot;30&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;textarea&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;chat-message-input&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; size&lt;/span&gt;&lt;span&gt;=&quot;150&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;br&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;chat-message-submit&quot;&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;=&quot;button&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;å‘é€æ¶ˆæ¯&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;input-sm&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;get_data&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-success&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;è·å–åç«¯æ•°æ®&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{{ room_name|json_script:&quot;room-name&quot; }}

&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;

    $(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#get_data&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).click(&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; () {
        $.ajax({
            url: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;{% url 'push' %}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
            type: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;GET&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
            data: {
                &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;{{ room_name }}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
                &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;csrfmiddlewaretoken&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;{{ csrf_token }}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
            },
        })
    });

    const roomName &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; JSON.parse(document.getElementById(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;room-name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).textContent);
    const chatSocket &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; WebSocket(
        &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;ws://&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; window.location.host
        &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/ws/chat/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
        &lt;span&gt;+&lt;/span&gt;&lt;span&gt; roomName &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;
    );
    let chatSocketa &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; WebSocket(
        &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ws://&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; window.location.host &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/ws/push/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;+&lt;/span&gt;&lt;span&gt; roomName
    );
    chatSocket.onmessage &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        const data &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; JSON.parse(e.data);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; data ä¸ºæ”¶åˆ°åç«¯å‘æ¥çš„æ•°æ®&lt;/span&gt;
        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;console.log(data);&lt;/span&gt;
&lt;span&gt;        document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-log&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).value &lt;/span&gt;&lt;span&gt;+=&lt;/span&gt;&lt;span&gt; (data.message &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;\n&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;);
    };
    chatSocketa.onmessage &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        let data &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; JSON.parse(e.data);
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;let message = data[&quot;message&quot;];&lt;/span&gt;
&lt;span&gt;        document.querySelector(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#chat-log&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).value &lt;/span&gt;&lt;span&gt;+=&lt;/span&gt;&lt;span&gt; (data.message &lt;/span&gt;&lt;span&gt;+&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;\n&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
    };


    chatSocket.onclose &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        console.error(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Chat socket closed unexpectedly&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;);
    };
    chatSocketa.onclose &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        console.error(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Chat socket closed unexpectedly&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
    };
    document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-message-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).focus();
    document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-message-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).onkeyup &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (e.keyCode &lt;/span&gt;&lt;span&gt;===&lt;/span&gt; &lt;span&gt;13&lt;/span&gt;&lt;span&gt;) {  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; enter, return&lt;/span&gt;
&lt;span&gt;            document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-message-submit&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).click();
        }
    };

    document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-message-submit&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).onclick &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; (e) {
        const messageInputDom &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; document.querySelector(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#chat-message-input&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;);
        const message &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; messageInputDom.value;
        chatSocket.send(JSON.stringify({
            &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;: message
        }));
        messageInputDom.value &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;''&lt;/span&gt;&lt;span&gt;;
    };
&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;3.&lt;span&gt;&lt;span&gt;åˆ›å»ºæˆ¿é—´çš„è§†å›¾&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;å°†ä»¥ä¸‹ä»£ç æ”¾å…¥&lt;/span&gt;&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;chat/views.py&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
# chat/views.py
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; django.shortcuts &lt;span&gt;import&lt;/span&gt;&lt;span&gt; render
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; django.http &lt;span&gt;import&lt;/span&gt;&lt;span&gt; JsonResponse
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; channels.layers &lt;span&gt;import&lt;/span&gt;&lt;span&gt; get_channel_layer
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; asgiref.sync &lt;span&gt;import&lt;/span&gt;&lt;span&gt; async_to_sync


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; index(request):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat/index.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; room(request, room_name):
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat/room.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, {&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room_name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: room_name})


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; pushRedis(request):
    room &lt;/span&gt;= request.GET.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(room)

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; push(msg):
        channel_layer &lt;/span&gt;=&lt;span&gt; get_channel_layer()
        async_to_sync(channel_layer.group_send)(
            room,
            {&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;push.message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: msg, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room_name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: room}
        )

    push(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;æ¨é€æµ‹è¯•&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, )
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; JsonResponse({&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: 1})
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. åˆ›å»ºé¡¹ç›®äºŒçº§è·¯ç”±&lt;/h2&gt;
&lt;p&gt;åœ¨chatç›®å½•ä¸‹&lt;span&gt;&lt;span&gt;åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;urls.py&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; mysite/chat/urls.py&lt;/span&gt;
&lt;span&gt;from&lt;/span&gt; django.urls &lt;span&gt;import&lt;/span&gt;&lt;span&gt; path
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; . &lt;span&gt;import&lt;/span&gt;&lt;span&gt; views

urlpatterns &lt;/span&gt;=&lt;span&gt; [
    path(&lt;/span&gt;&lt;span&gt;''&lt;/span&gt;, views.index, name=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;index&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;),&lt;br/&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ã€€ã€€ path&lt;span class=&quot;p&quot;&gt;(&lt;span class=&quot;s1&quot;&gt;'&amp;lt;str:room_name&amp;gt;/'&lt;span class=&quot;p&quot;&gt;, &lt;span class=&quot;n&quot;&gt;views&lt;span class=&quot;o&quot;&gt;.&lt;span class=&quot;n&quot;&gt;room&lt;span class=&quot;p&quot;&gt;, &lt;span class=&quot;n&quot;&gt;name&lt;span class=&quot;o&quot;&gt;=&lt;span class=&quot;s1&quot;&gt;'room'&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;span&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;5. ä¿®æ”¹æ ¹è·¯ç”±&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# mysite/urls.py&lt;p&gt;from&lt;/p&gt;&lt;/span&gt; django.contrib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; admin
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; django.urls &lt;span&gt;import&lt;/span&gt;&lt;span&gt; path, include
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; chat.views &lt;span&gt;import&lt;/span&gt;&lt;span&gt; pushRedis

urlpatterns &lt;/span&gt;=&lt;span&gt; [
    path(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;admin/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, admin.site.urls),
    path(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, include(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat.urls&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)),
    path(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;push&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, pushRedis, name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;push&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;),
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;6.&lt;span&gt;&lt;span&gt;åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;code class=&quot;docutils literal notranslate&quot;&gt;&lt;span class=&quot;pre&quot;&gt;chat/consumers.py&lt;/span&gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;pre&quot;&gt;&lt;span&gt;å½“Djangoæ¥å—HTTPè¯·æ±‚æ—¶ï¼Œå®ƒä¼šæŸ¥è¯¢æ ¹URLconfæ¥æŸ¥æ‰¾è§†å›¾å‡½æ•°ï¼Œç„¶åè°ƒç”¨è¯¥è§†å›¾å‡½æ•°æ¥å¤„ç†è¯¥è¯·æ±‚ã€‚&lt;/span&gt;&lt;span&gt;åŒæ ·ï¼Œå½“Channelsæ¥å—WebSocketè¿æ¥æ—¶ï¼Œå®ƒä¼šæŸ¥è¯¢æ ¹è·¯ç”±é…ç½®ä»¥æŸ¥æ‰¾ä½¿ç”¨è€…ï¼Œç„¶ååœ¨ä½¿ç”¨è€…ä¸Šè°ƒç”¨å„ç§åŠŸèƒ½æ¥å¤„ç†æ¥è‡ªè¿æ¥çš„äº‹ä»¶ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;58&quot;&gt;
&lt;pre&gt;
&lt;span&gt;import&lt;/span&gt;&lt;span&gt; time
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; json
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; channels.generic.websocket &lt;span&gt;import&lt;/span&gt;&lt;span&gt; WebsocketConsumer, AsyncWebsocketConsumer
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; asgiref.sync &lt;span&gt;import&lt;/span&gt;&lt;span&gt; async_to_sync
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; redis

pool &lt;/span&gt;=&lt;span&gt; redis.ConnectionPool(
    host&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;10.0.6.29&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
    port&lt;/span&gt;=6379&lt;span&gt;,
    max_connections&lt;/span&gt;=10&lt;span&gt;,
    decode_response&lt;/span&gt;=&lt;span&gt;True,
)
conn &lt;/span&gt;= redis.Redis(connection_pool=pool, decode_responses=&lt;span&gt;True)


&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; ChatConsumer(AsyncWebsocketConsumer):
    async &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; connect(self, ):
        self.room_name &lt;/span&gt;= self.scope[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;url_route&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;kwargs&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room_name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]
        self.room_group_name &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat_%s&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; %&lt;span&gt; self.room_name

        await self.channel_layer.group_add(
            self.room_group_name,
            self.channel_name,
        )
        await self.accept()

    async &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; disconnect(self, close_code):
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;close_code: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, close_code)
        await self.channel_layer.group_discard(
            self.room_group_name,
            self.channel_name
        )

    async &lt;/span&gt;&lt;span&gt;def&lt;/span&gt; receive(self, text_data=None, bytes_data=&lt;span&gt;None):
        text_data_json &lt;/span&gt;=&lt;span&gt; json.loads(text_data)
        message &lt;/span&gt;= text_data_json[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;receive_messageï¼š&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, message)
        await self.channel_layer.group_send(
            self.room_group_name,
            {
                &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chat_message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
                &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: message
            }
        )

    async &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; chat_message(self, event):
        receive_message &lt;/span&gt;= event[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]
        response_message &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;You message is :&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; +&lt;span&gt; receive_message
        await self.send(text_data&lt;/span&gt;=&lt;span&gt;json.dumps({
            &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: response_message
        }))


&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt; PushMessage(WebsocketConsumer):

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; connect(self):
        self.room_group_name &lt;/span&gt;= self.scope[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;url_route&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;kwargs&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;][&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room_name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]
        async_to_sync(self.channel_layer.group_add)(
            self.room_group_name,
            self.channel_name
        )
        self.accept()

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; disconnect(self, code):
        async_to_sync(self.channel_layer.group_discard)(
            self.room_group_name,
            self.channel_name
        )

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; push_message(self, event):
        &lt;/span&gt;&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;span&gt;
        ä¸»åŠ¨æ¨é€
        :param event:
        :return:
        &lt;/span&gt;&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;
        &lt;span&gt;print&lt;/span&gt;&lt;span&gt;(event, type(event))
        &lt;/span&gt;&lt;span&gt;while&lt;/span&gt;&lt;span&gt; True:
            time.sleep(&lt;/span&gt;2&lt;span&gt;)
            msg &lt;/span&gt;= time.strftime(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;%Y-%m-%d %H:%M:%S&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;) + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;---  room_name: %s&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; % event[&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;room_name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]
            self.send(text_data&lt;/span&gt;=&lt;span&gt;json.dumps(
                {&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;message&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: msg}
            ))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;7.ä¸ºé¡¹ç›®æ·»åŠ websocketçš„è·¯ç”±é…ç½®&lt;/h2&gt;
&lt;p&gt;åœ¨chatç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶routing.py&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
# mysite/chat/&lt;span&gt;routing.py

&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; django.urls &lt;span&gt;import&lt;/span&gt;&lt;span&gt; re_path, path
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; . &lt;span&gt;import&lt;/span&gt;&lt;span&gt; consumers

websocket_urlpatterns &lt;/span&gt;=&lt;span&gt; [
    re_path(r&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ws/chat/(?P&amp;lt;room_name&amp;gt;\w+)/$&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, consumers.ChatConsumer),
    path(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ws/push/&amp;lt;room_name&amp;gt;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, consumers.PushMessage),
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;8.é…ç½®websocketæ ¹è·¯ç”±&lt;/h2&gt;
&lt;p&gt;ä¸settingåŒçº§ç›®å½•æ–°å»ºwsæ ¹è·¯ç”±æ–‡ä»¶ routing.py&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; channels.routing &lt;span&gt;import&lt;/span&gt;&lt;span&gt; ProtocolTypeRouter, URLRouter
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; channels.auth &lt;span&gt;import&lt;/span&gt;&lt;span&gt; AuthMiddlewareStack
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; chat.routing

application &lt;/span&gt;=&lt;span&gt; ProtocolTypeRouter({
    &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;websocket&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;: AuthMiddlewareStack(
        URLRouter(
            chat.routing.websocket_urlpatterns
        )
    ),
})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;9.æœ€ç»ˆçš„æ–‡ä»¶å…³ç³»å¦‚ä¸‹å›¾Â &lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200427183915702-1564418275.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;10.å¯åŠ¨æœåŠ¡&lt;/h2&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
python3 manage.py runserver &lt;span&gt;10.0&lt;/span&gt;.&lt;span&gt;6.2&lt;/span&gt;:&lt;span&gt;80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„çœ‹ï¼Œè¿™å’Œdjangoæ˜¯ä¸ä¸€æ ·çš„&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200427185248328-1373426294.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰å¦ä¸€ç§æ›´ç¨³å¥çš„å¯åŠ¨æ–¹å¼&lt;/p&gt;
&lt;p&gt;å’ŒsettingåŒçº§æ–°å¢æ–‡ä»¶ asgi.py&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;import&lt;/span&gt;&lt;span&gt; os
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; django
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; channels.routing &lt;span&gt;import&lt;/span&gt;&lt;span&gt; get_default_application

os.environ.setdefault(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;DJANGO_SETTINGS_MODULE&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;mysite.settings&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
django.setup()
application &lt;/span&gt;= get_default_application()
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯åŠ¨æ–¹å¼ä¸ºï¼š&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
daphne -b &lt;span&gt;10.0&lt;/span&gt;.&lt;span&gt;6.2&lt;/span&gt; -p &lt;span&gt;80&lt;/span&gt; mysite.asgi:application
&lt;/pre&gt;&lt;/div&gt;
&lt;pre&gt;
daphne åœ¨å®‰è£…channelæ—¶å·²ç»è‡ªåŠ¨å®‰è£…å¥½äº†
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1157397/202004/1157397-20200428093458724-935120735.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Â å‚è€ƒï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;a href=&quot;https://channels.readthedocs.io/en/latest/tutorial/index.html&quot;&gt;https://channels.readthedocs.io/en/latest/tutorial/index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;a href=&quot;https://blog.ernest.me/post/asgi-demonstration-realtime-blogging&quot;&gt;https://blog.ernest.me/post/asgi-demonstration-realtime-blogging&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 00:29:00 +0000</pubDate>
<dc:creator>Sunzz</dc:creator>
<og:description>å…ˆæ¥çœ‹ä¸€ä¸‹æœ€ç»ˆçš„æ•ˆæœå§ å¼€å§‹èŠå¤©ï¼Œè¾“å…¥æ¶ˆæ¯å¹¶ç‚¹å‡»å‘é€æ¶ˆæ¯å°±å¯ä»¥å¼€å§‹èŠå¤©äº† ç‚¹å‡» â€œè·å–åç«¯æ•°æ®â€å¼€å¯å®æ—¶æ¨é€ å…ˆæ¥ç®€å•äº†è§£ä¸€ä¸‹ Django Channel Channelsæ˜¯ä¸€ä¸ªé‡‡ç”¨Djangoå¹¶å°†</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Sunzz/p/12788608.html</dc:identifier>
</item>
<item>
<title>Component Object Model (COM) æ˜¯ä»€ä¹ˆï¼Ÿ - Bitssea</title>
<link>http://www.cnblogs.com/bitssea/p/12590702.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bitssea/p/12590702.html</guid>
<description>&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç» COM çš„åŸºç¡€çŸ¥è¯†ï¼Œå€¾å‘äºç†è®ºæ€§çš„ç†è§£ï¼Œé¢å‘åˆå­¦è€…ï¼Œæµ…å°è¾„æ­¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br/&gt;&lt;h3 id=&quot;1-com-æ˜¯ä»€ä¹ˆï¼š&quot;&gt;1. COM æ˜¯ä»€ä¹ˆï¼š&lt;/h3&gt;
&lt;p&gt;COM çš„è‹±æ–‡å…¨ç§°æ˜¯ï¼ŒComponent Object Modelï¼Œä¸­æ–‡è¯‘ä¸ºï¼Œç»„ä»¶å¯¹è±¡æ¨¡å‹ã€‚å®ƒå®˜æ–¹çš„æ¦‚å¿µæ˜¯ï¼šThe Microsoft Component Object Model (COM) is a platform-independent, distributed, object-oriented system for creating binary software components that can interact. ä¸å…¶è¯´ COM æ˜¯ Systemï¼Œæ›´ç¡®åˆ‡çš„è¯´ï¼Œåº”è¯¥å«åš Standardã€‚å› ä¸ºå®ƒå®é™…ä¸Šæ˜¯ä¸€å¥—å…¬å…±çš„ binary æ ‡å‡†ï¼Œç”¨äºè§„å®š software component çš„æ¥å£çš„æ ‡å‡†ã€‚ä¹Ÿæœ‰äººä¼šæŠŠ COM å«åš Common Object Modelï¼Œä½†è¿™å…¶å®æ˜¯ä¸€ç§è¯¯ä¼ ï¼Œèµ·æºäºå½“åˆä¸€åå¾®è½¯çš„å·¥ä½œäººå‘˜ Mark Rylandï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨é•¿æœŸçš„ä½¿ç”¨ä¸­ï¼Œå¤§å®¶å£ä¸­å¿µå¨çš„ COM æ¸æ¸ç”Ÿå‡ºäº†å„ç§å„æ ·çš„å«ä¹‰ï¼Œå·²ç»ä¸ä»…ä»…æ˜¯æœ€åˆçš„å«ä¹‰äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œç†è§£èµ·æ¥ç‰¹åˆ«è´¹åŠ²ã€‚å› ä¸ºæ€»ä¼šæŸ¥åˆ°å±‚å‡ºä¸ç©·ï¼Œåˆå‚å·®ä¸é½çš„å«ä¹‰ï¼Œè®©äººå¾ˆç–‘æƒ‘åˆ°åº•å“ªä¸ªå«ä¹‰æ‰æ˜¯æ ‡å‡†ï¼&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é¦–å…ˆï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ï¼Œè®¾è®¡ç†å¿µï¼Œ&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œåœ¨ Object çš„ä¸–ç•Œä¸­ï¼Œå®ƒæ˜¯é‚£ä¸ªä¸–ç•Œä¸­çš„ï¼Œè§„èŒƒå’Œæ ‡å‡†ï¼Œ&lt;/li&gt;
&lt;li&gt;å†ç„¶åï¼Œåœ¨ç¼–ç¨‹è¯­å¢ƒä¸‹ï¼Œå®ƒæ˜¯ä¸€ç§ï¼Œå¯ä»¥è°ƒç”¨çš„ï¼Œå…¶ä»–ç¨‹åºçš„æ¥å£ï¼Œ&lt;/li&gt;
&lt;li&gt;å†ç„¶åï¼Œåœ¨å®é™…çš„ç”µè„‘æ–‡ä»¶ä¸­ï¼Œå®ƒå¤šæ•°æ˜¯ä¸€ä¸ªä¸ª DLL æ–‡ä»¶ï¼Œ&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œåœ¨å†…éƒ¨æ€§è´¨ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸ªäºŒè¿›åˆ¶ï¼ˆBinaryï¼‰çš„å°ç¨‹åºï¼Œ&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…¶å®åœ¨æˆ‘ Research çš„æ—¶å€™ï¼Œè¿™äº›æ¦‚å¿µä¹Ÿæ˜¯æœ€å¤´ç–¼çš„åœ°æ–¹ã€‚å› ä¸ºå¯¹ COM æ¦‚å¿µçš„ä¸äº†è§£ï¼Œæ‰€ä»¥æ— æ³•åŒºåˆ†åœ¨ä¸åŒè§†è§’ï¼Œæˆ–è€…ä¸åŒè§’åº¦ä¸‹çš„æ¦‚å¿µã€‚è€Œåœ¨ Research çš„æ—¶å€™ï¼Œå¾€å¾€ä¼šçœ‹åˆ°å¾ˆå¤šä¸åŒçš„ç½‘é¡µï¼Œç»™å‡ºå„ç§ COM çš„æ¦‚å¿µã€‚è€Œè®©äººå¤´ç–¼çš„å°±æ˜¯ï¼Œè¿™äº›æ¦‚å¿µéƒ½ä¸ç»Ÿä¸€ï¼Œè®©äººæ— æ³•ç†è§£ã€‚ç”šè‡³å¼€å§‹æ€€ç–‘ï¼Œè¿™äº›ç½‘é¡µçœŸçš„éƒ½æ˜¯è¯´çš„åŒä¸€ä¸ªä¸œè¥¿çš„æ¦‚å¿µä¹ˆï¼Ÿè¿™ç§æ··ä¹±ï¼Œå°±æ˜¯å› ä¸ºï¼Œä¸åŒçš„ç½‘ç«™ï¼Œåœ¨è§£é‡Š COM çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯ä¸åŒçš„è§’åº¦ã€‚è€ŒåŒä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨ä¸åŒçš„è§’åº¦å’Œæƒ…æ™¯ä¹‹ä¸‹ï¼Œè‡ªç„¶ä¼šæœ‰ä¸åŒçš„å«ä¹‰ã€‚æ‰€ä»¥ï¼Œå¾€å¾€ COM åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè¦å› æƒ…æ™¯è€Œè§†ä¹‹ï¼ä½†æ˜¯ï¼Œä¸Šé¢åˆ—å‡ºçš„å‡ ä¸ªè§’åº¦ï¼Œå·²è¶³ä»¥è®©æˆ‘ä»¬å¯¹ COM çš„æ¦‚å¿µï¼Œæ„å»ºå‡ºä¸€ä¸ªè¾ƒä¸ºç«‹ä½“çš„ç†è§£äº†ï¼&lt;/p&gt;
&lt;br/&gt;&lt;h3 id=&quot;2-ç§‘æŠ€å†å²ä¸-com-çš„ç”±æ¥ï¼š&quot;&gt;2. ç§‘æŠ€å†å²ä¸ COM çš„ç”±æ¥ï¼š&lt;/h3&gt;
&lt;p&gt;è¦äº†è§£ COM çš„å†å²ç”±æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ä»ç§‘æŠ€å‘å±•çš„å†å²å¼€å§‹æ‹é¡ºä¸‹æ¥ã€‚å…ˆè¯´ Object Oriented è¿™ç§æ¦‚å¿µï¼Œå…¶å®ï¼Œè¿™ç§æ¦‚å¿µæ®è¯´æ˜¯19ä¸–çºª60å¹´ä»£å°±æœ‰äº†ï¼Œæ˜¯æºè‡ªäº MITã€‚ä½†æ˜¯é‚£ä¸ªæ—¶å€™ PC è¿˜æ²¡æœ‰æ™®åŠï¼Œå¤§å¤šæ•°å…¬å¸ä½¿ç”¨çš„éƒ½æ˜¯ååˆ†æ˜‚è´µçš„å¤§å‹æœºï¼Œå¾®è½¯è¿˜æ²¡æœ‰æˆç«‹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè‡ªç„¶å¯¹è½¯ä»¶çš„éœ€æ±‚ä¹Ÿæ˜¯éå¸¸åŸºæœ¬çš„ï¼Œå¤§å¤šæ•°åœç•™åœ¨æ•°å­¦è®¡ç®—ï¼Œæ–‡å­—å¤„ç†ï¼Œå’Œå†›äº‹ä½¿ç”¨çš„èŒƒå›´ã€‚è€Œä¸”é‚£ä¸ªæ—¶å€™ï¼ŒCPU çš„æ¦‚å¿µéƒ½è¿˜æ²¡å‡ºç°ï¼Œè‡ªç„¶ç”µè„‘ä¹Ÿæ˜¯ä¸å¯èƒ½å…·å¤‡è¶³å¤Ÿçš„è¿ç®—èƒ½åŠ›çš„ã€‚ç¬¬ä¸€ä¸ª CPUï¼Œæ˜¯ Intel åœ¨ 1971 å¹´ï¼Œä¸ºå®Œæˆä¸€å®¶æ—¥æœ¬å…¬å¸çš„è®¢å•è€Œè®¾è®¡å‘æ˜çš„ï¼Œè‡ªæ­¤æ‰è§£é”çš„è®¡ç®—çš„å·¨å¤§æ½œåŠ›ï¼Œè¿›å…¥äº†ç°ä»£è®¡ç®—æœºçš„ç¯‡ç« ã€‚è€Œ CPU çš„å‘å±•ä¸æˆç†Ÿï¼Œæ‰é€ å°±äº†åæ¥çš„è½¯ä»¶è¡Œä¸šã€‚å¾®è½¯ä¹Ÿäº 1975 å¹´æ­£å¼æˆç«‹ã€‚åŒå¹´ï¼ŒIBM ä¹Ÿå¼€å§‹ç”Ÿäº§ Portable Computersã€‚é‚£æ—¶èµ·ï¼Œå¾®å‹ç”µè„‘å¼€å§‹å˜æˆæ½®æµã€‚Microsoft BASIC è¿™ç§æœ€æ—©æœŸçš„ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿè¯ç”Ÿäº 1975å¹´ã€‚é‚£æ—¶å€™ï¼Œç»å¤§å¤šæ•°çš„å¾®å‹ç”µè„‘ï¼Œè™½ç„¶ç³»ç»Ÿéƒ½ä¸åŒï¼Œä½†æ˜¯å‡ ä¹éƒ½æ”¯æŒ BASIC è¿™ç§ç¼–ç¨‹è¯­è¨€ã€‚æ­£æ˜¯è¿™ç§ç¼–ç¨‹è¯­è¨€ï¼Œæˆä¸ºäº†æ—¥åå¾®è½¯çš„åŸºç¡€ã€‚1981å¹´ï¼Œå¾®è½¯é¦–æ¬¡ä¸º IBM æä¾›äº†æ“ä½œç³»ç»Ÿï¼Œå«åš QDOCï¼Œæ˜¯å¾®è½¯çš„ç¬¬ä¸€å¥—ç³»ç»Ÿï¼Œä½†å´æ˜¯ä¹°æ¥çš„ï¼Œåˆ«äººç ”å‘çš„ç³»ç»Ÿã€‚1983å¹´ï¼Œå¾®è½¯ç ”å‘å‡ºäº† Lotus Softwareï¼Œæ˜¯æœ€æ—©æœŸçš„ç”µå­è¡¨æ ¼è½¯ä»¶ï¼Œè¿™ä¸ªè½¯ä»¶æˆä¸ºäº† IBM ç”µè„‘ä¸Šçš„æ˜æ˜Ÿè½¯ä»¶ï¼Œè£…æœºå¿…å¤‡ã€‚åæ¥ 1985å¹´ Windows 1 è¯ç”Ÿäº†ï¼ŒåŒæ—¶ä¼´éšç€ Microsoft Excel çš„è¯ç”Ÿã€‚è‡ªæ­¤ä¹‹åï¼Œè½¯ä»¶è¡Œä¸šå¼€å§‹å˜å¾—æ—¥ç›Šç¹è£ï¼Œå¾®è½¯ä¹Ÿå¼€å¯äº†è‡ªå·±çš„è½¯ä»¶å¸å›½ã€‚&lt;/p&gt;
&lt;p&gt;è½¯ä»¶è¡Œä¸šå˜å¾—æ—¥ç›Šç¹è£ï¼Œä½†æ˜¯ Object Oriented è¿™ç§æ€æƒ³ï¼Œè¿˜å¹¶æ²¡æœ‰å‘å±•åˆ°ä¸€å®šçš„é«˜åº¦ã€‚é‚£æ—¶å€™ï¼Œå¼€å‘ä¸ªè½¯ä»¶æˆ–è€…ç³»ç»Ÿæ˜¯éå¸¸éº»çƒ¦ï¼Œéå¸¸å¤æ‚çš„ã€‚æ—¥åï¼Œæƒ³ç»™è½¯ä»¶æ·»åŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ–è€…å‡çº§ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œå°±æ›´éº»çƒ¦ï¼Œå› ä¸ºï¼Œæ²¡åŠæ³•ç‹¬ç«‹çš„ï¼Œå»æ›´æ–°ï¼Œæˆ–è€…æ”¹è¿›ï¼ŒæŸä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ã€‚è‹¥æƒ³è¦æ·»åŠ æ–°åŠŸèƒ½ï¼Œéœ€è¦å…¨ç›˜æ”¹åŠ¨åï¼Œå†é‡æ–°è¿›è¡Œç¼–è¯‘ï¼Œéå¸¸çš„è´¹æ—¶è´¹åŠ›ã€‚äºæ˜¯äººä»¬å°±å¼€å§‹æƒ³åŠæ³•è§£å†³ï¼Œä¸Šé¢è¿™ä¸ªé—®é¢˜ï¼Œç„¶å Object Oriented Programmingï¼ˆé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼‰çš„æ¦‚å¿µå°±å¼€å§‹å…´èµ·ã€‚è¿™æ—¶ï¼Œè™½ç„¶é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µå·²ç»å…´èµ·ï¼Œä½†æ˜¯ï¼Œè¿˜æ²¡æœ‰ç»Ÿä¸€çš„ Framework æˆ–è€…è¯´æ˜¯æ ‡å‡†ï¼Œèƒ½è®©ä¸åŒè½¯ä»¶ä¹‹é—´é‡Œçš„ Object å¯ä»¥äº’ç›¸äº¤æµã€‚äºæ˜¯ï¼Œä¸åŒçš„è½¯ä»¶ï¼Œå°±å˜æˆäº†ä¸€ä¸ªä¸ªï¼Œå­¤ç«‹åœ¨å¤§æµ·ä¸­çš„å°å²›ï¼Œé‡Œé¢ä½ç€ä¸€å † Objectsï¼Œæ— æ³•å’Œå¤–ç•Œäº¤æµã€‚äººä»¬æƒ³å‡ºçš„è§£å†³åŠæ³•å°±æ˜¯ï¼Œå¼€å‘ä¸€ä¸ªç³»ç»Ÿæˆ–è€…ä½“ç³»ï¼Œåœ¨è¿™ä¸ªä½“ç³»ä¸­ï¼Œå†™è½¯ä»¶çš„äººåªéœ€è¦åˆ¶é€ å‡ºï¼ŒSoftware Component å°±è¡Œäº†ã€‚è€Œï¼Œè¿™ä¸ª Component å°±åƒæ˜¯ï¼Œä¹°å›æ¥ä¸€ä¸ªï¼Œæ–¹å—å½¢çš„ï¼Œç”µå­é…ä»¶ä¸€æ ·ï¼Œæ’åœ¨æˆ‘ä»¬è‡ªå·±çš„ç”µè·¯æ¿ä¸Šï¼Œå°±å¯ä»¥å¼€å§‹å‘æŒ¥ä½œç”¨ã€‚è€Œè¿™äº›ï¼ŒSoftware Component å¤–è¡¨ä¸Šï¼Œå¿…é¡»éµå¾ªç³»ç»Ÿä¸­çš„ç»Ÿä¸€æ ‡å‡†ï¼Œè€Œå†…éƒ¨ï¼Œå°±éšä¾¿æ€ä¹ˆç¼–ç¨‹éƒ½å¯ä»¥ã€‚åæ¥ï¼Œå¾®è½¯åœ¨1993å¹´ï¼Œå¼€å‘å‡ºäº†è¿™ä¸ªæ ‡å‡†ï¼Œè¿™æ ‡å‡†å°±è¢«å«åšï¼ŒComponent Object Model (COM)ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†æŠŠ COM å½¢æˆå‰åçš„ï¼ŒæŠ€æœ¯å‘å±•ï¼Œæ°å¼€æ¥çœ‹ä¸‹ã€‚é¦–å…ˆï¼Œåœ¨ 1987å¹´ï¼Œä¹Ÿå°±æ˜¯åœ¨ Windows 2 å‘è¡Œçš„æ—¶å€™ï¼ŒDynamic Data Exchange (DDE) æŠ€æœ¯äº§ç”Ÿäº†ï¼Œä½œä¸ºä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ‰‹æ®µï¼ˆInter-process communicationï¼‰ã€‚åœ¨è¿™ä¸ªæŠ€æœ¯ä¹‹å‰ï¼Œåªæ”¯æŒç³»ç»Ÿå’Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ï¼Œè¿™ä¸ªé€šä¿¡ï¼Œåˆ™æ˜¯é€šè¿‡ Windows Messaging Layer å®ç°çš„ã€‚è€Œ DDE æŠ€æœ¯ï¼Œåˆ™å†æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œå®ç°äº†å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ï¼Œè¿™ä¹Ÿå°±æˆä¸ºäº†è¿›ç¨‹é—´é€šä¿¡æŠ€æœ¯çš„å¼€ç«¯ã€‚ä½†è¿™æ—¶çš„é€šä¿¡ï¼Œè¿˜åªæ˜¯åœç•™åœ¨ Text conversations å’Œ Windows messages çš„å±‚é¢ä¸Šã€‚ä¹‹å Antony Williams åˆ†åˆ«äº 1988å¹´ å’Œ 1990å¹´ å‘è¡¨äº†ä¸¤ç¯‡å¾®è½¯å†…éƒ¨æ–‡ç« ï¼Œåˆ†åˆ«æ˜¯ ã€Object Architecture: Dealing With the Unknownã€‘å’Œã€On Inheritance: What It Means and How To Use Itã€‘ã€‚æ­£æ˜¯ä¸¤ç¯‡æ–‡ç« å¥ å®šäº†æ—¥å COM äº§ç”Ÿçš„ç†è®ºåŸºç¡€ã€‚ä¹‹åï¼Œ1991å¹´ï¼Œå¾®è½¯åœ¨ DDE çš„åŸºç¡€ä¸Šï¼Œå¼€å‘å‡ºäº†ç¬¬ä¸€ä¸ª object-based frameworkï¼ˆåŸºäºå¯¹è±¡çš„æ¡†æ¶ï¼‰ï¼Œå«åš Object Linking and Embedding (OLE)ï¼Œå³å¯¹è±¡çš„è¿æ¥ä¸åµŒå…¥ã€‚è¿™ä¸ªæŠ€æœ¯æ˜¯åŒ Word è½¯ä»¶çš„å‘è¡Œä¸€åŒå‘å¸ƒçš„ï¼Œä¸“æ³¨äºå®ç° Compound documentï¼ˆå¤åˆå‹æ–‡ä»¶ï¼‰ï¼Œå°±æ˜¯å°† Excel æ–‡ä»¶ï¼ŒåµŒå…¥åˆ° Word ä¸­ã€‚åŒåœ¨ 1991å¹´ï¼Œå¾®è½¯å‘å¸ƒäº† Visual Basic 1.0 ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä»¥ dynamic-link library (DLL) çš„å½¢å¼ï¼Œé™„å¸¦äº† Visual Basic Extensions (VBX) æ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶è®©ä½¿ç”¨è€…ï¼Œå¯ä»¥é€šè¿‡ Properties and Methods æ¥æ“æ§ objects ï¼ˆå¯¹è±¡ï¼‰ã€‚1992å¹´ï¼Œéšç€ Windows 3.1 çš„å‘å¸ƒï¼ŒOLE2 å’Œå®ƒè‡ªå·±çš„ Object Modelï¼Œä¹Ÿä¸€åŒå‘å¸ƒäº†ã€‚å’Œ OLE1 ä¸åŒï¼ŒOLE2 æ˜¯åœ¨ COM æ¦‚å¿µçš„åŸºç¡€ä¸Šé‡æ–°å®æ–½çš„ã€‚è¿™æ—¶çš„ COM Application binary interface (ABI)ï¼Œå³ COM åº”ç”¨æ¥å£çš„æ ‡å‡†ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚1994çš„æ—¶å€™ï¼Œå¾®è½¯å®£å¸ƒï¼ŒOLE2 æ”¹åä¸º OLEï¼Œä»æ­¤ OLE å˜æˆäº†ï¼Œå¾®è½¯ç»„ä»¶æŠ€æœ¯ï¼ˆComponent Technologiesï¼‰çš„ç»Ÿç§°ã€‚åŒå¹´è¿˜å‘å¸ƒäº† OLE Custom Controls (OCXs) ï¼Œä½œä¸º VBX çš„å‡çº§ç‰ˆã€‚åæ¥ï¼Œåœ¨1995å¹´ï¼Œå¾®è½¯å‘å¸ƒäº† Visual Basic 4.0ï¼Œå¼€å§‹æ”¯æŒ OCXsï¼Œè¿™æ—¶å¾®è½¯ä¹Ÿå¼€å§‹è€ƒå¦‚ä½•è®© COM ç»„ä»¶å¯ä»¥å®ç°è·¨è¯­è¨€æ”¯æŒã€‚è¿™å°±è¦æ±‚ï¼ŒCOM æ¶æ„ä¸‹ï¼Œå¿…é¡»è¦æä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œä»¥åŠæä¾›ä¸€ç»„å¯ä»¥è°ƒç”¨æ¥å£å†…æ–¹æ³•çš„èƒ½åŠ›ã€‚æ­¤åï¼Œæ‰å‘å±•æˆäº†æˆ‘ä»¬ç°ä»Šç†Ÿæ‚‰çš„ COM çš„å«ä¹‰ã€‚åœ¨1996å¹´ï¼Œå¾®è½¯æœ‰å‘ç° OCXs å¯ä»¥åº”ç”¨åœ¨æµè§ˆå™¨ä¸Šï¼Œæ‰€ä»¥å°±æŠŠéƒ¨åˆ† OLE æ”¹åä¸º Internet &quot;ActiveX&quot;ï¼Œç„¶åï¼Œé€æ¸çš„ï¼Œæ‰€æœ‰çš„ OLE éƒ½æ”¹åå«åš ActiveX äº†ã€‚åŒå¹´åæœŸï¼Œå¾®è½¯åˆæ‹“å±•äº† COM çš„èƒ½åŠ›ï¼Œä½¿å¾—ç»„ä»¶å¯¹è±¡ï¼Œæ‹¥æœ‰äº†åœ¨ç½‘ç»œä¸Šé€šä¿¡çš„çš„èƒ½åŠ›ã€‚è¿™ä¸ªæŠ€æœ¯è¢«ç§°ä¸º DCOM ï¼ˆDistributed COMï¼‰ã€‚è‡ªæ­¤ä¾¿å½¢æˆäº†ä»Šæ—¶ä»Šæ—¥çš„ COM çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸­æ¶‰åŠåˆ°äº†ä¸å°‘çš„å†å²ï¼Œä¹‹å‰åœ¨å­¦ä¹ ï¼Œè¿‘200å¹´çš„ï¼Œç§‘æŠ€å‘å±•å†å²æ—¶ï¼ŒæŠŠ &lt;em&gt;&lt;a href=&quot;https://www.cnblogs.com/bitssea/p/12717282.html&quot;&gt;Technology Timeline&lt;/a&gt;&lt;/em&gt; å†™åœ¨åšå®¢é‡Œï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç‚¹è¿›å»çœ‹ä¸€ä¸‹ã€‚åœ¨é‚£ç¯‡åšå®¢ä¸­ï¼Œæˆ‘æŠŠå¾®è½¯æŠ€æœ¯å‘å±•çš„ Timelineï¼Œå’Œç§‘æŠ€å‘å±•çš„ Timeline æ‰åˆåœ¨äº†ä¸€èµ·ï¼Œè¿™æ ·èƒ½å¸®åŠ©æˆ‘ä»¬æ„Ÿè§‰åˆ°ï¼ŒæŠ€æœ¯æ˜¯åœ¨ä¼´éšç€ç§‘æŠ€çš„å‘å±•è€Œå‘å±•ã€‚ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼ŒCOM è¿™ç§æŠ€æœ¯ç†å¿µçš„äº§ç”Ÿï¼Œæ˜¯åœ¨PCæ¸æ¸æ™®åŠèµ·æ¥ï¼Œæ“ä½œç³»ç»Ÿæ¸æ¸æˆç†Ÿï¼Œè½¯ä»¶éœ€æ±‚é€æ¸æé«˜ä¹‹åæ‰æœ‰çš„ã€‚æ‰€ä»¥å¾ˆå¤šäº‹æƒ…çš„å‘å±•ï¼Œå¾€å¾€éƒ½æ˜¯è‡ªç„¶è€Œç„¶çš„ï¼Œå› ä¸ºæœ‰äº†éœ€æ±‚ï¼Œæ‰ä¼šæœ‰ç›¸åº”çš„å‘å±•ã€‚COM çš„äº§ç”Ÿï¼Œä»è¿™ä¸ªè§’åº¦è¯´ï¼Œä¹Ÿæ˜¯ä¸€ç§å¿…ç„¶ã€‚å› ä¸º COM å®é™…ä¸Šï¼Œå°±æ˜¯ä¸€ç§è§„èŒƒï¼Œå°±åƒè¡Œä¸šè§„èŒƒä¸€æ ·ï¼Œè¡Œä¸šå¤ªå°è‡ªç„¶ä¸ç”¨è§„èŒƒï¼Œè€Œè§„æ¨¡å¤§äº†ï¼Œéœ€æ±‚å¤§äº†ï¼Œè‡ªç„¶ä¼šäº§ç”Ÿè§„èŒƒï¼Œæ‰€ä»¥ COM çš„äº§ç”Ÿæ˜¯ä¸€ç§å¿…ç„¶ç»“æœã€‚è€ŒæŠ€æœ¯çš„å‘å±•ï¼Œæ—¢åœ¨æ¨è¿›ç€ç§‘æŠ€çš„å‘å±•ï¼Œä¹Ÿå—åˆ¶äºç°æœ‰ç§‘æŠ€çš„è¾¹ç¼˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;3-æ¥å£ï¼ˆinterfaceï¼‰å‘¨å›´çš„æ¦‚å¿µï¼š&quot;&gt;3. æ¥å£ï¼ˆInterfaceï¼‰å‘¨å›´çš„æ¦‚å¿µï¼š&lt;/h3&gt;
&lt;p&gt;ä¸ªäººè®¤ä¸ºï¼Œå…³äº COMï¼Œçš„ä¸€åˆ‡çš„ä¸€åˆ‡ï¼Œæœ€åéƒ½æ˜¯ä¸ºäº†è¿™ä¸ªâ€œæ¥å£â€ã€‚å› ä¸ºåªæœ‰æœ‰äº†â€œæ¥å£â€ï¼Œæ‰ç®—æ˜¯çœŸæ­£çš„å®ç°äº† Component Object çš„ç†å¿µï¼ˆæˆ–è€…è¯´ï¼Œæ‰ç®—æ˜¯å®ç°äº†ï¼ŒæŠŠ Object å˜æˆ Component çš„æƒ³æ³•ï¼‰ã€‚å› ä¸ºåªæœ‰æœ‰äº†â€œæ¥å£â€ï¼ŒComponent æ‰èƒ½è¢«å«åšç»„ä»¶ï¼Œæ‰èƒ½è¢«è°ƒç”¨ã€‚æ‰€ä»¥ä¸‹é¢ç®€å•æè¿°ä¸‹ï¼Œå‡ ä¸ªå¸¸è§çš„ï¼Œå›´ç»•ç€â€œæ¥å£â€çš„æ¦‚å¿µï¼š&lt;/p&gt;
&lt;h4 id=&quot;31-api-application-programming-interface&quot;&gt;3.1. API (Application Programming Interface)&lt;/h4&gt;
&lt;p&gt;API ä¸­æ–‡ä¸ºï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼›å¾ˆå¤šæ—¶å€™ï¼Œéƒ½è¢«ç›´æ¥å«åš â€œæ¥å£â€ (Interface)ã€‚â€œæ¥å£â€æ˜¯â€œæ“ä½œç³»ç»Ÿâ€ æˆ– â€œç¨‹åºåº“â€ï¼Œæä¾›ç»™åº”ç”¨ç¨‹åºçš„ï¼Œæ¥å…¥ç‚¹ï¼Œè®©åº”ç”¨ç¨‹åºèƒ½è°ƒç”¨ï¼Œç³»ç»ŸæŸä¸€æ–¹é¢çš„åŠŸèƒ½ã€‚å…¶ä¸»è¦ä½œç”¨æ˜¯ï¼Œè®©å¼€å‘äººå‘˜ï¼Œå¯ä»¥è½»æ¾è°ƒç”¨è¿™äº›åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦äº†è§£ï¼Œåˆ°åº•æ€ä¹ˆåšåˆ°çš„ï¼Œå’Œåº•å±‚ä»£ç ã€‚ä½†æ˜¯ï¼ŒAPI å¹¶ä¸æ˜¯ä»£ç ï¼Œä»–åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ–è€…è¯´åªæ˜¯ä¸€ä¸ªåœ°å€ã€‚&lt;/p&gt;
&lt;h4 id=&quot;32-idlï¼ˆinterface-defining-languageï¼‰&quot;&gt;3.2. IDLï¼ˆInterface Defining Languageï¼‰&lt;/h4&gt;
&lt;p&gt;IDL ä¸­æ–‡ä¸ºï¼Œæ¥å£æè¿°è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§ Specification languageï¼ˆè§„èŒƒè¯­è¨€ï¼‰ã€‚æ˜¯ç”¨æ¥æè¿°ï¼Œè½¯ä»¶ Component çš„ API çš„ â€œè§„èŒƒè¯­è¨€â€ã€‚ä¸ä¹‹ç›¸æ¯”ï¼ŒProgramming Languageï¼ˆç¼–ç¨‹è¯­è¨€ï¼‰æ˜¯å¯ä»¥ç›´æ¥è¿è¡Œï¼Œç”¨äºç³»ç»Ÿå®ç°çš„ï¼Œå½¢å¼è¯­è¨€ã€‚è€Œï¼Œâ€œè§„èŒƒè¯­è¨€â€ æ˜¯é€šå¸¸ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œè€Œæ˜¯ç”¨äºç³»ç»Ÿåˆ†æå’Œè®¾è®¡çš„ï¼Œæè¿°è¯­è¨€ã€‚ç„¶åï¼Œè¿™äº›ä¸€æ®µä¸€æ®µçš„ç”¨æ¥æè¿° Interface çš„æ–‡å­—ï¼Œå°±è¢«å‚¨å­˜åœ¨äº† IDL æ–‡ä»¶ä¸­ï¼ˆæ–‡ä»¶åç¼€å°±æ˜¯ â€œ.idlâ€ï¼‰ã€‚æ¯ä¸ªè¿™æ ·çš„æ–‡ä»¶é‡Œé¢éƒ½æœ‰ï¼Œä¸€ä¸ª header å’Œä¸€ä¸ª bodyã€‚æ ¼å¼å¾ˆæ•´é½ã€‚&lt;/p&gt;
&lt;h4 id=&quot;33-ole-object-linking-and-embedding&quot;&gt;3.3. OLE (Object Linking and Embedding)&lt;/h4&gt;
&lt;p&gt;OLE ä¸­æ–‡ä¸ºï¼Œå¯¹è±¡é“¾æ¥ä¸åµŒå…¥ã€‚æ˜¯èƒ½è®©åº”ç”¨ç¨‹åºåˆ›å»ºï¼ŒåŒ…å«ä¸åŒæ¥æºçš„æ–‡æ¡£ï¼Œçš„å¤åˆæ–‡æ¡£æŠ€æœ¯ã€‚OLE æ˜¯å»ºç«‹åœ¨ COM ç†å¿µçš„åŸºç¡€ä¹‹ä¸Šçš„ã€‚COM æ˜¯ç†è®ºæ¡†æ¶ï¼Œè€Œ OLE æ˜¯æ ¹æ®è¿™ä¸ªæ¡†æ¶ï¼Œå®æ–½å‡ºæ¥çš„ä¸€å¥—æŠ€æœ¯ã€‚æ­£å¦‚ä¹‹å‰åœ¨ï¼ŒPC Mag æ‚è´¨ä¸Šçœ‹åˆ°çš„ä¸€ä¸ªå‰¯æ ‡é¢˜ï¼Œå°±å¾ˆå¥½çš„è¯ é‡Šäº†è¿™ç§å…³ç³»å‹ï¼š&quot;COM-the master plan that lets Windows apps interact through OLE.&quot; ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„ä¾‹å­å°±æ˜¯ï¼ŒæŠŠ Excel è¡¨æ ¼ï¼Œæ•´ä¸ªæ’å…¥åˆ° Word æ–‡æ¡£ä¸­ã€‚è€Œè¿™ä¸ª Excel Objectï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ª OLE æŠ€æœ¯ï¼Œè¿æ¥å¹¶åµŒå…¥ï¼ˆLinking and Embeddingï¼‰åˆ° Word ä¸­çš„ã€‚ä½†ï¼Œæ­£å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œåæ¥ OLE å°±å˜æˆäº†ï¼Œå¾®è½¯ç»„ä»¶æŠ€æœ¯ï¼ˆComponent Technologiesï¼‰çš„ç»Ÿç§°ã€‚è€Œï¼Œåƒè¿™æ ·çš„ä¸€ä¸ªå…¸å‹çš„ OLE åŠŸèƒ½ï¼ˆæˆ– OLE ç‰¹æ€§ï¼‰ï¼Œå…¶èƒŒåæ˜¯æœ‰ä¸€å¤§å †ï¼ŒInterfaceï¼ˆæ¥å£ï¼‰ä½œä¸ºæ”¯æŒï¼Œæ‰å¾—ä»¥å®ç°çš„ã€‚&lt;/p&gt;
&lt;h4 id=&quot;34-guid-globally-unique-identifier&quot;&gt;3.4. GUID (Globally Unique Identifier)&lt;/h4&gt;
&lt;p&gt;GUID ä¸­æ–‡ä¸ºï¼Œå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼ŒUUID (Universally Unique Identifier)ï¼Œå³ï¼Œé€šç”¨å”¯ä¸€è¯†åˆ«ç ã€‚æ˜¯ä¸€ä¸ªç”¨äºæ ‡è¯†ä¿¡æ¯çš„ï¼Œ128-bitçš„ï¼Œæ ‡è¯†ç¬¦ï¼›ç”±ä¸€ç»„ï¼Œ32ä½æ•¸çš„ï¼Œ16è¿›åˆ¶çš„ï¼Œæ•°å­—ç»„æˆã€‚æ•°å­—ä¸²ï¼Œçš„æ ¼å¼ä¸º 8-4-4-4-12 çš„32ä¸ªå­—å…ƒï¼›å¤§æ¦‚é•¿æˆè¿™æ ·ï¼š550e8400-e29b-41d4-a716-446655440000ã€‚GUID å…·æœ‰å…¨çƒå”¯ä¸€æ€§ï¼Œå‡ºç°é‡å¤çš„æ¦‚ç‡å‡ ä¹ä¸ºé›¶ã€‚æ‰€ä»¥æ‰å«åšï¼Œå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ã€‚&lt;/p&gt;
&lt;h4 id=&quot;35-clsid-class-identifier&quot;&gt;3.5. CLSID (Class IDentifier)&lt;/h4&gt;
&lt;p&gt;CLSID ä¸­æ–‡ä¸ºï¼Œç±»æ ‡è¯†ç¬¦ã€‚æ˜¯ä¸€ä¸ª GUIDï¼Œä½†æ˜¯ï¼Œæ˜¯ä¸“é—¨ç”¨äºï¼Œæ ‡è¯† COM class object çš„ã€‚æ¯ä¸€ä¸ª OLE Classï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ï¼Œå…¨çƒç‹¬ä¸€çš„ CLSIDã€‚&lt;/p&gt;
&lt;h4 id=&quot;36-progid-programmatic-identifier&quot;&gt;3.6. ProgID (PROGrammatic IDentifier)&lt;/h4&gt;
&lt;p&gt;ProgID å¯ä»¥ç¿»è¯‘ä¸ºï¼Œç¨‹åºæ ‡è¯†ç¬¦ï¼Œæˆ–è€…ï¼Œç¼–ç¨‹æ ‡è¯†ç¬¦ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ª CLSIDï¼Œéƒ½ä¼šæœ‰å¯¹åº”çš„ ProgIDã€‚ä¾‹å¦‚ï¼ŒProgID æ˜¯ Msxml2.DOMDocument çš„å­—ç¬¦ä¸²ï¼›è€Œ CLSID åˆ™é•¿æˆè¿™ä¸ªæ ·å­ {F9043C85-F6F2-101A-A3C9-08002B2F49FB}ã€‚æ‰€ä»¥ ProgID çš„å­˜åœ¨ï¼Œæ˜¯ä¸ºäº†ç¼–ç¨‹çš„æ—¶å€™ï¼Œæ–¹ä¾¿è°ƒç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;37-registry-windows&quot;&gt;3.7. Registry (Windows)&lt;/h4&gt;
&lt;p&gt;Registry ä¸­æ–‡ä¸ºï¼Œæ³¨å†Œè¡¨ã€‚å®ƒæ˜¯ä¸€ä¸ª hierarchical database (åˆ†å±‚çš„æ•°æ®åº“)ã€‚ç”¨äºå‚¨å­˜ Windows ç³»ç»Ÿï¼Œæˆ–è€…åº”ç”¨ç¨‹åºçš„ low-level settingsã€‚ä½†å¹¶ä¸æ˜¯ï¼Œæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½é€‰æ‹©æŠŠè®¾ç½®ï¼Œå­˜åœ¨æ³¨å†Œè¡¨é‡Œã€‚Registry æ˜¯ä» Windows 3.0ï¼Œæ¨å‡º OLE çš„æ—¶å€™ï¼Œå¼€å§‹æœ‰çš„ã€‚åœ¨é‚£ä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºéƒ½æ˜¯æŠŠè‡ªå·±çš„è®¾ç½®ä¿¡æ¯å­˜åœ¨ä¸€ä¸ªåç¼€ä¸ºâ€œ.iniâ€çš„æ–‡æœ¬æ–‡ä»¶ä¸­çš„ã€‚é™¤äº†è®¾ç½®ä¹‹å¤–ï¼Œæ‰€æœ‰çš„ OLE Objects çš„ CLSIDï¼Œ ä¹Ÿéƒ½å‚¨å­˜åœ¨è¿™ä¸ª Registry ä¸­ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å» Regedit.exe ä¸­ï¼Œè¿™ä¸ªä½ç½®ï¼ˆHKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSIDï¼‰çœ‹ä¸‹ï¼Œæ‰€æœ‰çš„ CLSID éƒ½é•¿æˆä»€ä¹ˆæ ·ã€‚è€Œåœ¨æ¯ä¸ª CLSID çš„â€œæ–‡ä»¶å¤¹â€ä¸­ï¼Œåˆéƒ½ä¼šå‚¨å­˜ç€ï¼Œè¿™ä¸ª Class çš„ ProgID çš„åå­—ã€‚&lt;/p&gt;
&lt;h3 id=&quot;4-è°ƒç”¨ç»„ä»¶çš„æµç¨‹&quot;&gt;4. è°ƒç”¨ç»„ä»¶çš„æµç¨‹&lt;/h3&gt;
&lt;p&gt;é˜…è¯»åˆ°è¿™é‡Œçš„åŒå­¦ï¼Œåº”è¯¥å·²ç»å¯¹åŸºæœ¬çš„æ¦‚å¿µæœ‰ä¸€äº›äº†è§£ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å†æ¥çœ‹ä¸‹ï¼Œåœ¨å®é™…è¿è¡Œä¸­ï¼ŒComponentï¼ˆç»„ä»¶ï¼‰åˆ°åº•æ˜¯æ€ä¹ˆè¢«è°ƒç”¨çš„ã€‚å°±ç”¨åœ¨ Word é‡Œé¢æ’å…¥ä¸€å¼  Bitmap Image æ¥ä¸¾ä¾‹ï¼›å½“æˆ‘ä»¬åœ¨ Word ç¨‹åºé‡Œï¼Œç‚¹å‡»æ’å…¥ Object çš„æ—¶å€™ï¼ŒWord ä¼šå¼¹å‡ºï¼Œæ’å…¥å¯¹è±¡çš„å¯¹è¯æ¡†ã€‚ç„¶åï¼Œç¨‹åºä¼šç«‹åˆ»å¼€å§‹æ‰«æï¼Œç³»ç»Ÿçš„ Registryï¼Œçœ‹å“ªäº› Object æ˜¯èƒ½å¤Ÿæ’å…¥çš„ï¼Œç„¶åï¼ŒæŠŠå®ƒä»¬éƒ½åˆ—åœ¨ä½ é¢å‰ï¼Œä¾›ä½ é€‰æ‹©ã€‚å½“ä½ é€‰ä¸­ Bitmap Image è¿™ä¸ªå¯¹è±¡åï¼Œç¨‹åºä¼šï¼Œç«‹åˆ»è°ƒå‡ºä»–çš„ ProgID åå­—ï¼Œç„¶åï¼ŒæŠŠè¿™ä¸ªåå­—ï¼Œé€’ç»™ä¸€ä¸ªå«åš CoCreateInstance çš„ OLE Functionã€‚å†ç„¶åï¼Œåœ¨è¿™ä¸ª Function çš„å†…éƒ¨ï¼Œå°±å¼€å§‹äº†ä¸€ç³»åˆ—æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ OLE ä¼šç”¨ç«‹åˆ»è¿™ä¸ª ProgIDï¼ˆæˆ–è€… CLSIDï¼‰å»æ‰¾å‡ºä¸å®ƒå¯¹åº”çš„ Regstry æ¡ç›®ã€‚ç„¶åï¼Œé€šè¿‡æ³¨å†Œè¡¨é‡Œç™»è®°çš„ä¿¡æ¯ï¼Œä¾¿å¯ä»¥è½»æ˜“çš„æ‰¾åˆ°ï¼Œæä¾›è¿™ä¸ªâ€œæœåŠ¡â€çš„ï¼Œåº”ç”¨ç¨‹åºï¼Œæˆ–è€… Componentï¼ˆ.exe æˆ–è€… .dllï¼‰åˆ°åº•ä½åœ¨å“ªé‡Œã€‚ä¸€æ—¦æ‰¾åˆ°äº†ï¼Œä¾¿å¯ä»¥ç«‹åˆ»è°ƒç”¨ï¼ˆInvokeï¼‰è¿™ä¸ª Componentï¼Œç„¶ååˆ›å»ºå‡ºï¼Œä¸€ä¸ª Bitmap å¯¹è±¡çš„ Instanceï¼ˆè¿™ä¸ªInstanceï¼Œä¼¼ä¹ä¹Ÿå«åš Interface Pointerï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å’Œæˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™æ˜¯ä¸€æ ·çš„ï¼Œåœ¨æˆ‘ä»¬è¦ä½¿ç”¨æŸä¸ªæ¨¡å—çš„åŠŸèƒ½ä¹‹å‰ï¼Œéƒ½æ˜¯å…ˆé€šè¿‡ PorgID åˆ›å»ºä¸€ä¸ª Instanceï¼ˆä¾‹å¦‚ï¼Œåœ¨ VBScript ä¸­ï¼Œé€šå¸¸æ˜¯ç”¨&lt;code&gt;Set XL = CreateObject(&quot;Excel.Application&quot;)&lt;/code&gt;è¿™æ ·çš„è¯­å¥ï¼‰ã€‚ç„¶åé€šè¿‡è¿™ä¸ª Instanceï¼Œå’Œå®ƒæä¾›çš„ Interfaceï¼ˆæ¥å£ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è°ƒç”¨ï¼Œè¿™ä¸ªå®ä¾‹çš„å„ç§å±æ€§å’ŒåŠŸèƒ½äº†ï¼ˆä¾‹å¦‚ &lt;code&gt;XL.Workbooks.Open(&quot;FilePath&quot;)&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™ä¸ªæµç¨‹ä¸­çœç•¥äº†å¾ˆå¤šçš„ç»†èŠ‚ï¼Œæƒ³è¦äº†è§£å…·ä½“ç»†èŠ‚çš„åŒå­¦ï¼Œå°±å»çœ‹æˆ‘â€œè„šæ³¨2â€ä¸­çš„ Article å§ï¼Œè¿™ç¯‡æ–‡ç« è™½ç„¶æ˜¯1995å¹´çš„ï¼Œä½†æ˜¯å†™çš„éå¸¸çš„å¥½ï¼Œéå¸¸å€¼å¾—é˜…è¯»ï¼Œå°¤å…¶æ˜¯åœ¨å­¦ä¹  COM çš„åŒå­¦ï¼Œè¿™ç¯‡æ–‡ç« èƒ½å¾ˆå¥½çš„æå‡æˆ‘ä»¬çš„ç†è§£ã€‚å¥½å§ï¼Œè¿™éƒ¨åˆ†å°±è¿™ä¹ˆå¤šå•¦ã€‚&lt;/p&gt;
&lt;h3 id=&quot;5-ç¯‡å°¾ç»“è¯­ï¼š&quot;&gt;5. ç¯‡å°¾ç»“è¯­ï¼š&lt;/h3&gt;
&lt;p&gt;ç ”ç©¶çš„è¿‡ç¨‹ä¸­å‘ç°ï¼ŒCOM ç›¸å…³çš„ä¸œè¥¿ï¼ŒçœŸçš„æ˜¯åšå¤§ç²¾æ·±ï¼Œä½œä¸ºä¸€åªå°ç™½ï¼Œä¹Ÿåªèƒ½æ˜¯æµ…å°è¾„æ­¢äº†ã€‚æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»ï¼Œå°ç™½è´¡çŒ®ï¼Œè¯­å¤±è«æ€ªã€‚æ–‡ç« ä¸­æ¶‰åŠåˆ°çš„å†å²å¹¶æ²¡æœ‰åˆ—åœ¨è¿™é‡Œçš„å‚è€ƒé˜…è¯»ï¼Œè€Œæ˜¯åˆ—åœ¨äº†æˆ‘å¦ä¸€ç¯‡å«åš &lt;em&gt;&lt;a href=&quot;https://www.cnblogs.com/bitssea/p/12717282.html&quot;&gt;Technology Timeline&lt;/a&gt;&lt;/em&gt; çš„åšå®¢é‡Œï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥ç‚¹è¿›å»çœ‹ä¸‹ (^_âˆ’)â˜†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;P.S. ä¸ºäº†å†™å®Œè¿™ç¯‡ï¼Œå…³äº COM çš„å°ç™½æ–‡ç« ï¼ŒçœŸçš„æ˜¯æœ‰ä¸€ç§ï¼Œè·‹å±±æ¶‰æ°´ï¼Œç¿»å±±è¶Šå²­çš„æ„Ÿè§‰å•Š (T^T)ï¼Œå¸Œæœ›èƒ½å¯¹åŒå­¦ä»¬æœ‰æ‰€å¸®åŠ©....&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç›¸å…³ä¹¦ç±ï¼š&quot;&gt;ç›¸å…³ä¹¦ç±ï¼š&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;ã€ŠCOMæŠ€æœ¯å†…å¹•ã€‹ï¼ŒDale Rogerson&lt;/li&gt;
&lt;li&gt;ã€ŠLearning DCOMã€‹ï¼ŒThuan L. Thai&lt;/li&gt;
&lt;li&gt;ã€ŠInside OLEã€‹ï¼ŒKraig Brockschmidt&lt;/li&gt;
&lt;li&gt;ã€ŠCOMæœ¬è´¨è®ºã€‹ï¼ŒDon Box&lt;/li&gt;
&lt;li&gt;ã€ŠMFC Windowsç¨‹åºè®¾è®¡ã€‹ï¼ŒJeff Prosise&lt;/li&gt;
&lt;li&gt;ã€ŠWindows XP Under the Hoodã€‹ï¼ŒBrian Knittel&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;å‚è€ƒé˜…è¯»ï¼š&quot;&gt;å‚è€ƒé˜…è¯»ï¼š&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://baike.baidu.com/item/%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/3351546?fromtitle=Component%20Object%20Model&amp;amp;fromid=4234962&quot;&gt;ç»„ä»¶å¯¹è±¡æ¨¡å‹_ç™¾åº¦ç™¾ç§‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Component_Object_Model&quot;&gt;Component Object Model - Wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/windows/win32/com/com-technical-overview&quot;&gt;COM Technical Overview - Win32 apps | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/windows/win32/com/the-component-object-model&quot;&gt;The Component Object Model - Win32 apps | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zh4ui.net/tags/com/&quot;&gt;COM - Marvin's Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://books.google.co.uk/books?id=COEmRfcp2RAC&amp;amp;pg=PA282&amp;amp;lpg=PA282&amp;amp;dq=every+COM+interface+has+a+GUID&amp;amp;source=bl&amp;amp;ots=VLqsEnHQqL&amp;amp;sig=ACfU3U2sQtvjT910nIevgGwLevrt-L8CRw&amp;amp;hl=en&amp;amp;sa=X&amp;amp;ved=2ahUKEwiqvLqBqInpAhXJiFwKHUtuAcQQ6AEwCXoECAUQAQ#v=onepage&amp;amp;q&amp;amp;f=false&quot;&gt;PC Mag - Google Books&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
<pubDate>Thu, 30 Apr 2020 00:27:00 +0000</pubDate>
<dc:creator>Bitssea</dc:creator>
<og:description>æœ¬æ–‡ä¸»è¦ä»‹ç» COM çš„åŸºç¡€çŸ¥è¯†ï¼Œå€¾å‘äºç†è®ºæ€§çš„ç†è§£ï¼Œé¢å‘åˆå­¦è€…ï¼Œæµ…å°è¾„æ­¢ã€‚ 1. COM æ˜¯ä»€ä¹ˆï¼š COM çš„è‹±æ–‡å…¨ç§°æ˜¯ï¼ŒComponent Object Modelï¼Œä¸­æ–‡è¯‘ä¸ºï¼Œç»„ä»¶å¯¹è±¡æ¨¡å‹ã€‚å®ƒå®˜æ–¹</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bitssea/p/12590702.html</dc:identifier>
</item>
<item>
<title>è®¾è®¡æ•°æ®åº“ ER å›¾å¤ªéº»çƒ¦ï¼Ÿä¸å¦¨è¯•è¯•è¿™ä¸¤æ¬¾å·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“ ER å›¾ï¼ï¼ï¼ - æ¥¼ä¸‹å°é»‘å“¥</title>
<link>http://www.cnblogs.com/goodAndyxublog/p/12806549.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/goodAndyxublog/p/12806549.html</guid>
<description>&lt;h2 id=&quot;å¿™ï¼ŒçœŸå¿™&quot;&gt;å¿™ï¼ŒçœŸå¿™&lt;/h2&gt;
&lt;blockquote readability=&quot;4.9913043478261&quot;&gt;
&lt;p&gt;ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ï¼Œå¾®ä¿¡æœç´¢ã€ç¨‹åºé€šäº‹ã€,å…³æ³¨å°±å®Œäº‹äº†ï¼&lt;br/&gt;&lt;a href=&quot;https://studyidea.cn/&quot;&gt;ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç²¾å½©çš„æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ˜ŸæœŸçœŸæ˜¯å·¨å¿™ï¼Œå¹´å‰æœ‰ä¸ªé¡¹ç›®å› ä¸ºå„ç§è«ååŸå› ï¼Œä¸€ç›´æ‹–åˆ°è¿™ä¸ªæœˆæ‰å¼€å§‹çœŸæ­£æµ‹è¯•ã€‚ç„¶åä¸Šå‘¨åˆæ¥åˆ°æ–°éœ€æ±‚ï¼Œé©¬ä¸åœè¹„è¿›å…¥å¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è¾¹å¼€å‘ç€æ–°éœ€æ±‚ï¼Œä¸€è¾¹æ”¹ç€æ—§é¡¹ç›®çš„ Bugã€‚å†åŠ ä¸Šè¿™ä¸ªé¡¹ç›®ç®—æ˜¯ä»åˆ«äººé‚£äº¤ç»™è¿‡æ¥çš„ï¼Œè¿™éƒ¨åˆ†æ–°åŠŸèƒ½ä»£ç å¹¶ä¸æ˜¯å¾ˆç†Ÿï¼Œæ”¹ Bug çš„æ—¶å€™åˆéœ€è¦ç†æ¸…æ¥šä¸Šä¸‹æ–‡é€»è¾‘ï¼Œéå¸¸è€—æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸æœ‰ä¸€å¤©çŠ¶æ€è¿˜ä¸å¥½ï¼Œè¿·è¿·ç³Šç³Šä¸­æ”¹äº†ä¸€å¤© Bugï¼Œåˆå†™äº†ä¸€å¤© Bugã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081010040-685616401.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è‡ªäº§è‡ªé”€ï¼Œé—®é¢˜æœ‰ç‚¹å¤§ï¼Œåé¢å‡ å¤©ä¸€ç›´å¡«è‡ªå·±çš„æŒ–çš„å‘ï¼Œé‚£å«ä¸€ä¸ªé…¸çˆ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081010263-2006260991.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œä¸æ°´äº†ï¼Œä¸æ°´äº†ï¼&lt;/p&gt;
&lt;p&gt;ä¸Šé¢å†™è¿™ä¹ˆå¤šï¼Œæœ¬å‘¨æ²¡å•¥æ—¶é—´å†™æŠ€æœ¯æ–‡ï¼Œé‚£å°±å†™ç‚¹è½»æ¾çš„ï¼Œåˆ†äº«ä¸€ä¸ªæ—¥å¸¸æ¯”è¾ƒå®ç”¨çš„åŠŸèƒ½ã€&lt;strong&gt;è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“ ER å›¾&lt;/strong&gt;ã€&lt;/p&gt;
&lt;h2 id=&quot;è‡ªåŠ¨ç”Ÿæˆ-er-å›¾&quot;&gt;è‡ªåŠ¨ç”Ÿæˆ ER å›¾&lt;/h2&gt;
&lt;p&gt;å¹³å¸¸åšæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡çš„æ—¶å€™ï¼Œå¦‚æœæœ‰æ¶‰åŠåˆ°è¡¨ç»“æ„çš„å˜æ›´ï¼Œå°±éœ€è¦åœ¨æ–‡æ¡£ä¸­è¯´æ˜ï¼Œè¿˜å¾—å°†è¡¨ç»“æ„ä¿¡æ¯å†™åˆ°æ–‡æ¡£ä¸­ï¼Œç±»ä¼¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081010391-2135417498.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæ–°å¢äº†å¤šå¼ è¡¨ï¼Œæ‰‹åŠ¨å°†å­—æ®µå¡«åˆ°è¡¨æ ¼ä¸­ï¼Œå†ç”»ä¸ª ER å›¾ï¼Œå¾ˆæ˜¯è´¹åŠ²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081010650-1206304913.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸æœ€è¿‘åˆšå¥½å‘ç°äº† IDEA Database æ’ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆ ER å›¾ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ç°æœ‰ä¸¤å¼ è¡¨ &lt;code&gt;activity&lt;/code&gt; ä¸ &lt;code&gt;visitor&lt;/code&gt;ï¼Œè¡¨ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;CREATE TABLE activity
(
    activity_id int          NOT NULL,
    title       varchar(256) NOT NULL,
    PRIMARY KEY (activity_id)

);


CREATE TABLE visitor
(
    id          int NOT NULL,
    activity_id int NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (activity_id) REFERENCES activity(activity_id)
);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨ IDEA Database å¼¹æ¡†ä¸­é€‰ä¸­ç›¸åº”çš„è¡¨ï¼Œå³é”®èœå•é€‰æ‹© &lt;strong&gt;Diagrams-Show Visualisation&lt;/strong&gt;ï¼Œå°±å¯ä»¥ç”Ÿæˆ ER å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081011119-613768205.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;ps: maven åŒ…ä¹‹é—´çš„å±‚çº§å…³ç³»ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªåŠŸèƒ½å±•ç¤º&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”±äºå­˜åœ¨çœŸå®å¤–é”®ï¼ŒIDEA Database ç”Ÿæˆ ER å›¾çš„æ—¶å€™å°†ä¼šè‡ªåŠ¨ç”Ÿæˆå¤–é”®çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081011283-576500756.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯çœŸå®ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šå»ºç«‹è¿™ç§çœŸå®ç‰©ç†å¤–é”®å…³ç³»ï¼Œä»…ä»…åªä¼šåœ¨é€»è¾‘ä¸Šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿçš„å¤–é”®çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“åŸå› å¯ä»¥å‚è€ƒé˜¿é‡Œå·´å·´ã€&lt;strong&gt;Java å¼€å‘æ‰‹å†Œ&lt;/strong&gt;ã€&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081011418-1612290060.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœ IDEA çš„ç‰ˆæœ¬ä½äº 2019.3.2ï¼Œé‚£å°±åˆ«æƒ³äº†ï¼Œç›´æ¥ç”¨ä¸‹èŠ‚æåˆ°çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;IDEA 2019.3.2&lt;/strong&gt; æ–°å¢äº†è™šæ‹Ÿå¤–é”®çš„åŠŸèƒ½ï¼Œåœ¨ ER å›¾å¢åŠ ç”Ÿæˆè™šæ‹Ÿå¤–é”®çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ç°æœ‰è¡¨ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;CREATE TABLE activity
(
    activity_id int          NOT NULL,
    visitor_id      int NOT NULL,
    PRIMARY KEY (activity_id)

);


CREATE TABLE visitor
(
    id          int NOT NULL,
    first_name int NOT NULL,
    PRIMARY KEY (id)
);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç³»ç»Ÿç”Ÿæˆ ER å›¾ä¸­å°†ä¼šç”Ÿæˆè™šæ‹Ÿå¤–é”®å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081011767-1703358938.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä¸è¦é«˜å…´å¤ªæ—©ï¼ŒIDEA æ˜¯æ ¹æ®ä¸€å®šè§„åˆ™ç”Ÿæˆè™šæ‹Ÿå¤–é”®å…³ç³»çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„è¡¨ä¸­å¤–é”®å‘½åä¸ç¬¦åˆè§„åˆ™ï¼ŒIDEA æ˜¯ä¸ä¼šç”Ÿæˆå¤–é”®çš„ã€‚æˆ‘ä»¬éœ€è¦åœ¨ &lt;strong&gt;Setting | Editor | Code Completion&lt;/strong&gt; è®¾ç½®è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081011886-220960609.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¯´ç™½äº†å°±æ˜¯è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼ï¼Œè®¾ç½®å®Œæˆä¹‹åï¼Œå¯ä»¥ç‚¹å‡» &lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012018-1410152695.jpg&quot; alt=&quot;&quot;/&gt;è¿™ä¸ªæŒ‰é’®è¿›è¡Œè°ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012159-1039730437.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢åŠŸèƒ½æ¯”è¾ƒé€‚åˆè¡¨ç»“æ„æ¯”è¾ƒè§„èŒƒçš„æƒ…å†µï¼Œä½†æ˜¯çœŸå®åœºæ™¯å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œå¤–é”®å‘½åä¹Ÿä¸æ˜¯è§„èŒƒã€‚ä¸ºäº†ç”Ÿæˆè¿™ä¸ªå¤–é”®å…³ç³»ï¼Œè¿˜è¦é…ç½®æ­£åˆ™è§„åˆ™ï¼Œå­¦ä¹ æˆæœ¬è¿‡å¾ˆå¤§ï¼Œä¹Ÿå¾ˆéš¾å•Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012329-6556222.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å¥½åœ¨ IDEA æœ‰å¦å¤–ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šè¡¨ä¹‹é—´çš„å¤–é”®å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰“å¼€ä¸€ä¸ª IDEA &lt;strong&gt;Database console&lt;/strong&gt; çª—å£ï¼Œåœ¨é‡Œé¢è¾“å…¥è¿è¡¨ sqlï¼Œç„¶åä½¿ç”¨ &lt;em&gt;&lt;strong&gt;Alt+Enter&lt;/strong&gt;&lt;/em&gt; å¿«æ·é”®é€‰æ‹© &lt;strong&gt;Store table relation&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012437-926093349.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ IDEA ä¼šæé†’ä½ ä¿å­˜è¿™ä¸ªå¤–é”®å…³ç³»åˆ° xml æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012568-38954992.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆ XML æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012751-684746704.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¿˜éœ€è¦ç”Ÿæˆå¤–é”®å…³ç³»ï¼Œç›´æ¥åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­å¢åŠ å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;dbschema&quot;&gt;dbschema&lt;/h2&gt;
&lt;p&gt;IDEA Database ç”Ÿæˆè™šæ‹Ÿå¤–é”®ï¼Œè¿™æ ·çœ‹èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œä¸‹é¢ä»‹ç»ä¸€æ¬¾è½¯ä»¶ã€&lt;strong&gt;dbschema&lt;/strong&gt;ã€,å¯ä»¥å›¾å½¢åŒ–ç”Ÿæˆè™šæ‹Ÿå¤–é”®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://dbschema.com/&quot;&gt;https://dbschema.com/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;ps:æ”¶è´¹è½¯ä»¶ï¼Œå…è´¹ 15 å¤©&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ¬¾è½¯ä»¶ä¸“é—¨ç®€åŒ–æ•°æ®åº“è®¾è®¡å’Œç®¡ç†ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè¿™é‡Œä»…ä»…ä»‹ç»å…¶è™šæ‹Ÿå¤–é”®è¿™ä¸ªå°åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½æ„Ÿå…´è¶£åŒå­¦å¯ä»¥è‡ªè¡Œç ”ç©¶ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ª Layoutï¼Œå¯¼å…¥æŒ‡å®šè¡¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081012891-798287539.jpg&quot; alt=&quot;image-20200427211102133&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆ ER å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013092-338794730.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©ç›¸åº”çš„è¡¨ï¼Œå³é”®èœå•é€‰æ‹© &lt;strong&gt;Add Foreign Key&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013227-85967896.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ–°å»ºçª—å£é€‰æ‹©ç›¸åº”çš„è¡¨ä»¥åŠå­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013380-1463761998.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬æ˜¯è¦ç”Ÿæˆè™šæ‹Ÿçš„å¤–é”®å…³ç³»ï¼Œæ‰€ä»¥ä¸€å®šè¦å‹¾é€‰ä¸‹ &lt;strong&gt;Virtual&lt;/strong&gt;,ä¸ç„¶ä¼šç”ŸæˆçœŸå®ç‰©ç†å¤–é”®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€å ER å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013548-1062184621.jpg&quot; alt=&quot;image-20200427212309363&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ª ER å›¾ä»¥åŠè¡¨ç»“æ„å¯¼å‡ºåˆ° PDF ä¸­ã€‚åœ¨ Layout é€‰æ‹© Exportã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013699-1320047786.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013827-209117120.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ€åç”Ÿæˆ PDF å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081013974-917847566.jpg&quot; alt=&quot;image-20200427212355699&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://www.jetbrains.com/help/idea/foreign-keys.html&quot;&gt;https://www.jetbrains.com/help/idea/foreign-keys.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.jetbrains.com/datagrip/2020/01/22/datagrip-2019-3-2-virtual-foreign-keys-and-more/&quot;&gt;https://blog.jetbrains.com/datagrip/2020/01/22/datagrip-2019-3-2-virtual-foreign-keys-and-more/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;æœ€åï¼ˆç‚¹ä¸ªèµï¼Œä¸è¿‡åˆ†å§ï¼ï¼‰&quot;&gt;æœ€åï¼ˆç‚¹ä¸ªèµï¼Œä¸è¿‡åˆ†å§ï¼ï¼‰&lt;/h2&gt;
&lt;p&gt;å˜¿å˜¿ï¼Œæœ¬ä»¥ä¸ºè¿™å‘¨è¿™ä¹ˆå¿™ï¼Œå¯èƒ½ä¼šæ–­æ›´ã€‚å¹¸å¥½é è¿™ä¸ªåˆæ°´äº†ä¸€ç¯‡æ–‡ç« ï¼Œå“ˆå“ˆå“ˆï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œæºœå•¦æºœå•¦ï¼Œè¿˜æœ‰ä¸€å † Bug ç­‰ç€è¦æ”¹~&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯æ¥¼ä¸‹å°é»‘å“¥ï¼Œå’±ä»¬ä¸‹ç¯‡æ–‡ç« å†è§~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/1419561/202004/1419561-20200430081014096-106455519.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5.5384615384615&quot;&gt;
&lt;p&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šç¨‹åºé€šäº‹ï¼Œè·å¾—æ—¥å¸¸å¹²è´§æ¨é€ã€‚å¦‚æœæ‚¨å¯¹æˆ‘çš„ä¸“é¢˜å†…å®¹æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„åšå®¢ï¼š&lt;a href=&quot;https://studyidea.cn&quot;&gt;studyidea.cn&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Thu, 30 Apr 2020 00:10:00 +0000</pubDate>
<dc:creator>æ¥¼ä¸‹å°é»‘å“¥</dc:creator>
<og:description>å¿™ï¼ŒçœŸå¿™ ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ï¼Œå¾®ä¿¡æœç´¢ã€ç¨‹åºé€šäº‹ã€,å…³æ³¨å°±å®Œäº‹äº†ï¼ &amp;quot;ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç²¾å½©çš„æ–‡ç« &amp;quot; è¿™ä¸¤ä¸ªæ˜ŸæœŸçœŸæ˜¯å·¨å¿™ï¼Œå¹´å‰æœ‰ä¸ªé¡¹ç›®å› ä¸ºå„ç§è«ååŸå› ï¼Œä¸€ç›´æ‹–åˆ°è¿™ä¸ªæœˆæ‰å¼€å§‹çœŸæ­£æµ‹è¯•ã€‚ç„¶å</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/goodAndyxublog/p/12806549.html</dc:identifier>
</item>
<item>
<title>å¦‚ä½•ä¼˜é›…çš„ç»´æŠ¤ K8S Worker èŠ‚ç‚¹ - æŠ„è¢­è€…å°†å˜å­¤å„¿-KAnts</title>
<link>http://www.cnblogs.com/ants/p/12804407.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ants/p/12804407.html</guid>
<description>&lt;h2 id=&quot;æ­£å¸¸ç»´æŠ¤å·¥ä½œèŠ‚ç‚¹çš„æµç¨‹&quot;&gt;æ­£å¸¸ç»´æŠ¤å·¥ä½œèŠ‚ç‚¹çš„æµç¨‹&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬è¦è¿›è¡Œ K8S èŠ‚ç‚¹ç»´æŠ¤æ—¶å¾€å¾€éœ€è¦æ‰§è¡Œ &lt;code&gt;kubectl drain&lt;/code&gt;, ç­‰å¾…èŠ‚ç‚¹ä¸Šçš„ Pod è¢«é©±é€åå†è¿›è¡Œç»´æŠ¤åŠ¨ä½œã€‚&lt;br/&gt;å‘½ä»¤è¡Œå¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sh&quot;&gt;kubectl drain NODE
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¾…èŠ‚ç‚¹æ’ç©ºåå†è¿›è¡Œç»´æŠ¤æ“ä½œ, å†…æ ¸å‡çº§ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å­˜åœ¨é—®é¢˜å—ï¼Ÿ&quot;&gt;å­˜åœ¨é—®é¢˜å—ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;drain&lt;/code&gt; å‘½ä»¤æœ‰ä¸€ä¸ªé—®é¢˜, ä»–ä¸ä¼šè€ƒè™‘èµ„æºæ‰€å®šä¹‰çš„ UpdateStrategy, è€Œç›´æ¥å¼ºåˆ¶é©±é€æˆ–åˆ é™¤ Pod, è¿™æ ·å°±ä¼šå¯¼è‡´ Deployment æˆ– StatefulSet èµ„æºçš„ Pod è¾¾ä¸åˆ°æ‰€è®¾ç½®çš„ç­–ç•¥æ•°.&lt;/p&gt;
&lt;h3 id=&quot;æ€è€ƒä¸€ä¸ªæ¡ˆä¾‹&quot;&gt;æ€è€ƒä¸€ä¸ªæ¡ˆä¾‹&lt;/h3&gt;
&lt;ol readability=&quot;-2&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;æœ‰ä¸€ä¸ª Deployment èµ„æº, å®ƒä½¿ç”¨äº†å¦‚ä¸‹é…ç½®
&lt;pre&gt;
&lt;code class=&quot;language-yaml&quot;&gt; replicas: 2
 strategy:
     rollingUpdate:
     maxSurge: 1
     maxUnavailable: 0
 type: RollingUpdate
&lt;/code&gt;
&lt;/pre&gt;
å‰¯æœ¬æ•°ä¸º 3, é‡‡ç”¨äº†æ»šåŠ¨æ›´æ–°, å¹¶ä¸”å…ˆå¯åŠ¨å®Œæˆä¸€ä¸ª Pod åå†è¿›è¡Œæ—§ Pod çš„åˆ é™¤(æœ€å¤§ä¸å¯ç”¨ä¸º0,æœ€å°å¯ç”¨ä¸º2).&lt;/li&gt;
&lt;li&gt;å½“ä¸‹é›†ç¾¤æœ‰ 2 ä¸ª worker èŠ‚ç‚¹&lt;br/&gt;æ„å‘³ç€, å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹è¢«è°ƒåº¦äº† 2 ä¸ª Pod, å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹è¢«è°ƒåº¦äº† 1 ä¸ª Pod.&lt;br/&gt;å‡è®¾ node1 è¿è¡Œç€ pod1 å’Œ pod3, node2 è¿è¡Œç€ pod2.&lt;/li&gt;
&lt;li&gt;è¿™æ—¶å€™ drain node1, ä¼šå‡ºç° Deployment åªæœ‰ä¸€ä¸ª Pod å¯ç”¨&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;æ›´ç³Ÿç³•çš„æƒ…å†µ&quot;&gt;æ›´ç³Ÿç³•çš„æƒ…å†µ&lt;/h3&gt;
&lt;p&gt;Deployment çš„ Pod å…¨éƒ¨è¿è¡Œåœ¨éœ€è¦ç»´æŠ¤çš„èŠ‚ç‚¹ä¸Š, è¿™æ—¶å€™æ‰§è¡Œ &lt;code&gt;drain&lt;/code&gt; é‚£å°†æ˜¯ä¸€ä¸ªç¾éš¾, è¿™ä¸ª Deployment åœ¨æ–°çš„Podå¯åŠ¨ä¹‹å‰å®ƒæ— æ³•åœ¨å¯¹å¤–æä¾›æœåŠ¡äº†, æ¢å¤çš„æ—¶é—´å–å†³äºæ–° Pod çš„å¯åŠ¨é€Ÿåº¦ã€‚&lt;/p&gt;

&lt;p&gt;GitHub: &lt;a href=&quot;https://github.com/majian159/kubectl-safe-drain&quot;&gt;https://github.com/majian159/kubectl-safe-drain&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª kubectl æ’ä»¶, ç”¨äºæ›´ä¸ºå®‰å…¨çš„æ’ç©ºèŠ‚ç‚¹ã€‚&lt;br/&gt;å¯¹äº Deployment å’Œ StatefulSet èµ„æºä¼šæ ¹æ®å…¶é…ç½®çš„æ›´æ–°ç­–ç•¥å…ˆå°†Podè°ƒåº¦åˆ°å…¶å®ƒå¯ç”¨èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é€»è¾‘å’ŒåŸç†&quot;&gt;é€»è¾‘å’ŒåŸç†&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;å…ˆå°†éœ€è¦æ’ç©ºçš„èŠ‚ç‚¹æ ‡è®°ä¸ºä¸å¯è°ƒåº¦ (kubectl cordon)&lt;/li&gt;
&lt;li&gt;åœ¨æ‰¾åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„ Deployment å’Œ StatefulSet èµ„æº&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ Deployment å’Œ StatefulSet çš„ PodTemplate, è®©K8Sæ ¹æ®å¯¹åº”çš„æ›´æ–°ç­–ç•¥é‡æ–°éƒ¨ç½²Pod, è¿™æ—¶å€™éœ€è¦æ’ç©ºçš„èŠ‚ç‚¹ä¸å¯è¢«è°ƒåº¦, ä»è€Œè¾¾åˆ°å…ˆå°†æ’ç©ºèŠ‚ç‚¹ä¸­çš„Podå®‰å…¨é‡å»ºåˆ°å…¶å®ƒèŠ‚ç‚¹çš„é€»è¾‘ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;ç›®å‰æ”¯æŒå®‰å…¨è¿ç§»çš„èµ„æº&quot;&gt;ç›®å‰æ”¯æŒå®‰å…¨è¿ç§»çš„èµ„æº&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;Deployment&lt;/li&gt;
&lt;li&gt;StatefulSet&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;æ•ˆæœ&quot;&gt;æ•ˆæœ&lt;/h2&gt;
&lt;h3 id=&quot;é¦–å…ˆæˆ‘ä»¬æœ‰ä¸€ä¸ª-deployment-é…ç½®å¦‚ä¸‹&quot;&gt;é¦–å…ˆæˆ‘ä»¬æœ‰ä¸€ä¸ª Deployment é…ç½®å¦‚ä¸‹&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-yaml&quot;&gt;spec:
    replicas: 2
strategy:
    type: RollingUpdate
    rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ“ä½œå‰æœ‰ä¸¤ä¸ªå¯ç”¨ Pod&lt;br/&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/majian159/blogs@master/images/2020_04_29_19_42_iaR3Cs%20.jpg&quot; alt=&quot;&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/majian159/blogs@master/images/2020_04_29_19_42_Nb8NZA%20.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ‰§è¡Œ-safe-drain-å&quot;&gt;æ‰§è¡Œ &lt;code&gt;safe-drain&lt;/code&gt; å&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/majian159/blogs@master/images/2020_04_29_19_43_xc2Jhz%20.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥çœ‹-deployment-å˜åŒ–è¿‡ç¨‹&quot;&gt;æŸ¥çœ‹ Deployment å˜åŒ–è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/majian159/blogs@master/images/2020_04_29_19_43_lmDtYv%20.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥çœ‹-pod-å˜åŒ–è¿‡ç¨‹&quot;&gt;æŸ¥çœ‹ Pod å˜åŒ–è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/majian159/blogs@master/images/2020_04_29_19_43_Nd6lPE%20.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æµç¨‹ç®€è¿°&quot;&gt;æµç¨‹ç®€è¿°&lt;/h3&gt;
&lt;p&gt;ä» Deployment watch çš„ä¿¡æ¯ä¸­å¯è§æœ€å° Ready æ•°æ²¡æœ‰å°äº 2, ä» Pod watch çš„ä¿¡æ¯ä¸­å¯è§ kind-worker2 ä¸Šæ‰¿è½½äº† 2 ä¸ªå‡†å¤‡å°±ç»ªçš„ nginx Pod, ä¹Ÿå°±æ˜¯è¯´ nginx ä» kind-worker å®‰å…¨çš„ç§»åŠ¨åˆ°äº† kind-worker2 èŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸-pdb-pod-disruption-budget-æœ‰ä»€ä¹ˆåŒºåˆ«&quot;&gt;ä¸ PDB (Pod Disruption Budget) æœ‰ä»€ä¹ˆåŒºåˆ«?&lt;/h2&gt;
&lt;p&gt;PDB åªä¼šä¿éšœ Pod ä¸è¢«é©±é€, è€Œä¸ä¼šå¸®åŠ©å®ƒåœ¨å…¶å®ƒå¯ç”¨èŠ‚ç‚¹ä¸Šé‡å»ºã€‚&lt;br/&gt;ä½¿ç”¨äº† PDB åèƒ½é˜²æ­¢æœåŠ¡ä¸å¯ç”¨çš„å°´å°¬æƒ…å†µï¼Œä½†å®ƒè¿˜æ˜¯éœ€è¦äººå·¥æ‰‹åŠ¨è¿ç§» Podã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç†æƒ³çš„æƒ…å†µæ˜¯æ­é… PDB ä½¿ç”¨, é˜²æ­¢ä¸¥è‹›æƒ…å†µä¸‹æœåŠ¡ä¸å¯ç”¨çš„é—®é¢˜ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;äºŒè¿›åˆ¶æ–‡ä»¶&quot;&gt;äºŒè¿›åˆ¶æ–‡ä»¶&lt;/h2&gt;
&lt;h3 id=&quot;linux&quot;&gt;Linux&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;curl -sLo sdrain.tgz https://github.com/majian159/kubectl-safe-drain/releases/download/v0.0.1-preview1/kubectl-safe-drain_0.0.1-preview1_linux_amd64.tar.gz \
&amp;amp;&amp;amp; tar xf sdrain.tgz \
&amp;amp;&amp;amp; rm -f sdrain.tgz \
&amp;amp;&amp;amp; mv kubectl-safe-drain /usr/local/bin/kubectl-safe_drain
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;macos&quot;&gt;macOS&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;curl -sLo sdrain.tgz https://github.com/majian159/kubectl-safe-drain/releases/download/v0.0.1-preview1/kubectl-safe-drain_0.0.1-preview1_darwin_amd64.tar.gz \
&amp;amp;&amp;amp; tar xf sdrain.tgz \
&amp;amp;&amp;amp; rm -f sdrain.tgz \
&amp;amp;&amp;amp; mv kubectl-safe-drain /usr/local/bin/kubectl-safe_drain
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;windows&quot;&gt;Windows&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/majian159/kubectl-safe-drain/releases/download/v0.0.1-preview1/kubectl-safe-drain_0.0.1-preview1_windows_amd64.tar.gz&quot;&gt;https://github.com/majian159/kubectl-safe-drain/releases/download/v0.0.1-preview1/kubectl-safe-drain_0.0.1-preview1_windows_amd64.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;åŸºäº-krew&quot;&gt;åŸºäº Krew&lt;/h2&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;curl -O https://raw.githubusercontent.com/majian159/kubectl-safe-drain/master/krew.yaml \
&amp;amp;&amp;amp; kubectl krew install --manifest=krew.yaml \
&amp;amp;&amp;amp; rm -f krew.yaml
&lt;/code&gt;
&lt;/pre&gt;

&lt;pre&gt;
&lt;code class=&quot;language-sh&quot;&gt;kubectl safe-drain NODE

# safe-drainå¹¶æ²¡æœ‰è°ƒç”¨ drainå‘½ä»¤, è€Œæ˜¯åˆ©ç”¨äº† SchedulingDisabled æœºåˆ¶
# æ‰€ä»¥å¦‚æœ‰éœ€è¦å¯ä»¥ç»§ç»­ä½¿ç”¨ drain å‘½ä»¤æ¥ç¡®ä¿èŠ‚ç‚¹è¢«é©±é€
kubectl drain NODE
&lt;/code&gt;
&lt;/pre&gt;

&lt;ol&gt;&lt;li&gt;è€ƒè™‘èŠ‚ç‚¹äº²å’ŒåŠ›å’ŒèŠ‚ç‚¹é€‰æ‹©å™¨çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;è¾“å‡ºæ›´ä¸ºå‹å¥½çš„æç¤ºä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¯¥é¡¹ç›®éƒ¨åˆ†ä»£ç æºäº kubectl é¡¹ç›®ã€‚&lt;/p&gt;
</description>
<pubDate>Thu, 30 Apr 2020 00:02:00 +0000</pubDate>
<dc:creator>æŠ„è¢­è€…å°†å˜å­¤å„¿-KAnts</dc:creator>
<og:description>å‰è¨€ æ­£å¸¸ç»´æŠ¤å·¥ä½œèŠ‚ç‚¹çš„æµç¨‹ å½“æˆ‘ä»¬è¦è¿›è¡Œ K8S èŠ‚ç‚¹ç»´æŠ¤æ—¶å¾€å¾€éœ€è¦æ‰§è¡Œ , ç­‰å¾…èŠ‚ç‚¹ä¸Šçš„ Pod è¢«é©±é€åå†è¿›è¡Œç»´æŠ¤åŠ¨ä½œã€‚ å‘½ä»¤è¡Œå¦‚ä¸‹: å¾…èŠ‚ç‚¹æ’ç©ºåå†è¿›è¡Œç»´æŠ¤æ“ä½œ, å†…æ ¸å‡çº§ç­‰ã€‚ å­˜åœ¨é—®é¢˜å—ï¼Ÿ</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/ants/p/12804407.html</dc:identifier>
</item>
<item>
<title>å’¦ï¼ŒJavaæ‹†åˆ†ä¸ªå­—ç¬¦ä¸²éƒ½è¿™ä¹ˆè®²ç©¶ - æ²‰é»˜ç‹äºŒ</title>
<link>http://www.cnblogs.com/qing-gee/p/12806523.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qing-gee/p/12806523.html</guid>
<description>&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æåˆ° Java æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œæˆ‘çŒœä½ åæœ‰å…«ä¹ä¼šæ’‚ä¸‹ä¸€å¥ç‹ è¯ï¼Œâ€œè¿™æœ‰ä»€ä¹ˆéš¾çš„ï¼Œç›´æ¥ä¸Š String ç±»çš„ &lt;code&gt;split()&lt;/code&gt; æ–¹æ³•ä¸å°±æ‹‰åˆ°äº†ï¼â€å‡å¦‚ä½ çœŸçš„è¿™ä¹ˆè§‰å¾—ï¼Œé‚£å¯è¦æ³¨æ„äº†ï¼Œäº‹æƒ…è¿œæ²¡è¿™ä¹ˆç®€å•ã€‚&lt;/p&gt;&lt;img src=&quot;http://www.itwanger.com/assets/images/2020/04/java-split-01.gif&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥æ¥æ¥ï¼Œæ¬ä¸ªå°æ¿å‡³åä¸‹ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡å¦‚ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸²å­—ç¬¦â€œæ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜â€ï¼Œéœ€è¦æŒ‰ç…§ä¸­æ–‡çš„é€—å·â€œï¼Œâ€è¿›è¡Œæ‹†åˆ†ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸²å­—ç¬¦ä¸ºé€—å·å‰é¢çš„â€œæ²‰é»˜ç‹äºŒâ€ï¼Œç¬¬äºŒä¸²å­—ç¬¦ä¸ºé€—å·åé¢çš„â€œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜â€ï¼ˆè¿™ä¸åºŸè¯ï¼‰ã€‚å¦å¤–ï¼Œåœ¨æ‹†åˆ†ä¹‹å‰ï¼Œè¦å…ˆè¿›è¡Œæ£€æŸ¥ï¼Œåˆ¤æ–­ä¸€ä¸‹è¿™ä¸²å­—ç¬¦æ˜¯å¦åŒ…å«é€—å·ï¼Œå¦åˆ™åº”è¯¥æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Test&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;String cmower = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (cmower.contains(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ï¼Œ&quot;&lt;/span&gt;)) {&lt;br/&gt;String [] parts = cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ï¼Œ&quot;&lt;/span&gt;);&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] +&lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);&lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;hljs-string&quot;&gt;&quot;å½“å‰å­—ç¬¦ä¸²æ²¡æœ‰åŒ…å«é€—å·&quot;&lt;/span&gt;);&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ®µä»£ç çœ‹èµ·æ¥æŒºä¸¥è°¨çš„ï¼Œå¯¹å§ï¼Ÿç¨‹åºè¾“å‡ºçš„ç»“æœå®Œå…¨ç¬¦åˆé¢„æœŸï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;ç¬¬ä¸€éƒ¨åˆ†ï¼šæ²‰é»˜ç‹äºŒ ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜
&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯å»ºç«‹åœ¨å­—ç¬¦ä¸²æ˜¯ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œæœ€é‡è¦çš„æ˜¯åˆ†éš”ç¬¦æ˜¯ç¡®å®šçš„ã€‚å¦åˆ™ï¼Œéº»çƒ¦å°±æ¥äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§çº¦æœ‰ 12 ç§è‹±æ–‡ç‰¹æ®Šç¬¦å·ï¼Œå¦‚æœç›´æ¥æ‹¿è¿™äº›ç‰¹æ®Šç¬¦å·æ›¿æ¢ä¸Šé¢ä»£ç ä¸­çš„åˆ†éš”ç¬¦ï¼ˆä¸­æ–‡é€—å·ï¼‰ï¼Œè¿™æ®µç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™å°±ä¼šå‡ºç°ä»¥ä¸‹æåˆ°çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;li&gt;
&lt;section&gt;åæ–œæ  &lt;code&gt;\&lt;/code&gt;ï¼ˆArrayIndexOutOfBoundsExceptionï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æ’å…¥ç¬¦å· &lt;code&gt;^&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç¾å…ƒç¬¦å· &lt;code&gt;$&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;é€—ç‚¹ &lt;code&gt;.&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;ç«–çº¿ &lt;code&gt;|&lt;/code&gt;ï¼ˆæ­£å¸¸ï¼Œæ²¡æœ‰å‡ºé”™ï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;é—®å· &lt;code&gt;?&lt;/code&gt;ï¼ˆPatternSyntaxExceptionï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;æ˜Ÿå· &lt;code&gt;*&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;åŠ å· &lt;code&gt;+&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å·¦å°æ‹¬å·æˆ–è€…å³å°æ‹¬å· &lt;code&gt;()&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å·¦æ–¹æ‹¬å·æˆ–è€…å³æ–¹æ‹¬å· &lt;code&gt;[]&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;li&gt;
&lt;section&gt;å·¦å¤§æ‹¬å·æˆ–è€…å³å¤§æ‹¬å· &lt;code&gt;{}&lt;/code&gt;ï¼ˆåŒä¸Šï¼‰&lt;/section&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹åˆ°è¿™ï¼Œå¯èƒ½æœ‰å°ä¼™ä¼´ä¼šè¯´ï¼Œâ€œè¿™ä¸æ˜¯é’»ç‰›è§’å°–å˜›â€ï¼Œä¸ä¸ä¸ï¼ŒåšæŠ€æœ¯å°±åº”è¯¥ç§‰æŒä¸¥è°¨çš„æ€åº¦ï¼Œå¦åˆ™ï¼Œè€å¤§ä¼šç»™ä½ çš„ç»©æ•ˆæ‰“ä½åˆ†çš„â€”â€”å¥–é‡‘æ‹¿å¾—å°‘ï¼Œå¯ä¸æ˜¯å¥½æ»‹å‘³ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£é‡åˆ°ç‰¹æ®Šç¬¦å·è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä¸Šæ­£åˆ™è¡¨è¾¾å¼å‘—ã€‚&lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;6&quot;&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç»„ç”±å­—æ¯å’Œç¬¦å·ç»„æˆçš„ç‰¹æ®Šæ–‡æœ¬ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æ‰¾å‡ºæ»¡è¶³ä½ æƒ³è¦çš„æ ¼å¼çš„å¥å­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å¯èƒ½åˆæœ‰å°ä¼™ä¼´è¯´ï¼Œâ€œæ­£åˆ™è¡¨è¾¾å¼é‚£ä¹ˆå¤šï¼Œæˆ‘è®°ä¸ä½å•Šï¼â€åˆ«æ‹…å¿ƒï¼Œæˆ‘å·²ç»æ›¿ä½ æƒ³å¥½å¯¹ç­–äº†ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢è¿™ä¸ªé“¾æ¥æ˜¯ GitHub ä¸Šå­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªåœ¨çº¿æ–‡æ¡£ï¼Œéå¸¸è¯¦ç»†ã€‚é‡åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæå‡ºè¿™ä»½æ‰‹å†Œå°±å®Œäº‹äº†ã€‚è®°ä¸ä½é‚£ä¹ˆå¤šæ­£åˆ™è¡¨è¾¾å¼æ²¡å…³ç³»å•Šï¼Œæ´»å­¦æ´»ç”¨å‘—ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a href=&quot;https://github.com/cdoco/learn-regex-zh&quot;&gt;https://github.com/cdoco/learn-regex-zh&lt;/a&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†è¿™ä»½æ–‡æ¡£ï¼Œè¿˜æœ‰ä¸€ä»½ï¼š&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a href=&quot;https://github.com/cdoco/common-regex&quot;&gt;https://github.com/cdoco/common-regex&lt;/a&gt;&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œè€…æ”¶é›†äº†ä¸€äº›åœ¨å¹³æ—¶é¡¹ç›®å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œå¦™å•Šã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è§£å†³äº†å¿ƒç—…ä¹‹åï¼Œæˆ‘ä»¬æ¥ç”¨è‹±æ–‡é€—ç‚¹â€œ.â€æ¥æ›¿æ¢ä¸€ä¸‹åˆ†éš”ç¬¦ï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;String cmower = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ.ä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (cmower.contains(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.&quot;&lt;/span&gt;)) {&lt;br/&gt;String [] parts = cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\.&quot;&lt;/span&gt;);&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] +&lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä½¿ç”¨ &lt;code&gt;split()&lt;/code&gt; æ–¹æ³•çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ &lt;code&gt;\\.&lt;/code&gt; æ¥æ›¿ä»£ç‰¹æ®Šå­—ç¬¦è‹±æ–‡é€—ç‚¹â€œ.â€äº†ã€‚ä¸ºä»€ä¹ˆç”¨ä¸¤ä¸ªåæ–œæ å‘¢ï¼Ÿå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦å…ˆè½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ç±» &lt;code&gt;[]&lt;/code&gt; æ¥åŒ…å«è‹±æ–‡é€—ç‚¹â€œ.â€ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥åŒ¹é…æ–¹æ‹¬å·ä¸­åŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[.]&quot;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤æ­¤ä¹‹å¤–ï¼Œ è¿˜å¯ä»¥ä½¿ç”¨ Pattern ç±»çš„ &lt;code&gt;quote()&lt;/code&gt; æ–¹æ³•æ¥åŒ…è£¹è‹±æ–‡é€—ç‚¹â€œ.â€ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªä½¿ç”¨ &lt;code&gt;\Q\E&lt;/code&gt; åŒ…è£¹çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;img src=&quot;http://www.itwanger.com/assets/images/2020/04/java-split-02.png&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ—¶ï¼Œ&lt;code&gt;String.split()&lt;/code&gt; æ–¹æ³•çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;String [] parts = cmower.split(Pattern.quote(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.&quot;&lt;/span&gt;));&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“é€šè¿‡è°ƒè¯•æ¨¡å¼è¿›å…¥ &lt;code&gt;String.split()&lt;/code&gt; æ–¹æ³•æºç çš„è¯ï¼Œä¼šå‘ç°ä»¥ä¸‹ç»†èŠ‚ï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; Pattern.compile(regex).split(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;, limit);&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;String ç±»çš„ &lt;code&gt;split()&lt;/code&gt; æ–¹æ³•è°ƒç”¨äº† Pattern ç±»çš„ &lt;code&gt;split()&lt;/code&gt; æ–¹æ³•ã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œæˆ‘ä»¬æ‹†åˆ†å­—ç¬¦ä¸²æœ‰äº†æ–°çš„é€‰æ‹©ï¼Œå¯ä»¥ä¸ä½¿ç”¨ String ç±»çš„ &lt;code&gt;split()&lt;/code&gt; æ–¹æ³•äº†ã€‚&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;4.5&quot;&gt;
&lt;code class=&quot;hljs&quot; readability=&quot;3&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;TestPatternSplit&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Pattern twopart = Pattern.compile(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\.&quot;&lt;/span&gt;);&lt;p&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;String [] parts = twopart.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ.ä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;);&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] +&lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/p&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Pattern é…åˆ Matcher ç±»è¿›è¡Œå­—ç¬¦ä¸²æ‹†åˆ†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥å¯¹è¦æ‹†åˆ†çš„å­—ç¬¦ä¸²è¿›è¡Œä¸€äº›ä¸¥æ ¼çš„é™åˆ¶ï¼Œæ¥çœ‹ä¸€æ®µç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;6.5&quot;&gt;
&lt;code class=&quot;hljs&quot; readability=&quot;7&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;TestPatternMatch&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Pattern twopart = Pattern.compile(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(.+)\\.(.+)&quot;&lt;/span&gt;);&lt;p&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;checkString(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ.ä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;);&lt;br/&gt;checkString(&lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒ.&quot;&lt;/span&gt;);&lt;br/&gt;checkString(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.ä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;);&lt;br/&gt;}&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;checkString&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String str)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;Matcher m = twopart.matcher(str);&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (m.matches()) {&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + m.group(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + &lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + m.group(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;));&lt;br/&gt;} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ä¸åŒ¹é…&quot;&lt;/span&gt;);&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;}&lt;br/&gt;&lt;/p&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶å€™ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¸º &lt;code&gt;(.+)\\.(.+)&lt;/code&gt;ï¼Œæ„å‘³ç€å¯ä»¥æŠŠå­—ç¬¦ä¸²æŒ‰ç…§è‹±æ–‡é€—ç‚¹æ‹†åˆ†æˆä¸€ä¸ªå­—ç¬¦ç»„ï¼Œè‹±æ–‡å°æ‹¬å· &lt;code&gt;()&lt;/code&gt; çš„ä½œç”¨å°±åœ¨äºæ­¤ï¼ˆå¯ä»¥æŸ¥çœ‹æˆ‘ä¹‹å‰æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼æ‰‹å†Œï¼‰ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºæ¨¡å¼æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠ Pattern è¡¨è¾¾å¼æ”¾åœ¨ &lt;code&gt;main()&lt;/code&gt; æ–¹æ³•å¤–é¢ï¼Œé€šè¿‡ static çš„é¢„ç¼–è¯‘åŠŸèƒ½æé«˜ç¨‹åºçš„æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥çœ‹ä¸€ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;ç¬¬ä¸€éƒ¨åˆ†ï¼šæ²‰é»˜ç‹äºŒ ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&lt;br/&gt;ä¸åŒ¹é…&lt;br/&gt;ä¸åŒ¹é…&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸è¿‡ï¼Œä½¿ç”¨ Matcher æ¥åŒ¹é…ä¸€äº›ç®€å•çš„å­—ç¬¦ä¸²æ—¶ç›¸å¯¹æ¯”è¾ƒæ²‰é‡ä¸€äº›ï¼Œä½¿ç”¨ String ç±»çš„ &lt;code&gt;split()&lt;/code&gt; ä»ç„¶æ˜¯é¦–é€‰ï¼Œå› ä¸ºè¯¥æ–¹æ³•è¿˜æœ‰å…¶ä»–ä¸€äº›ç‰›é€¼çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚è¯´ï¼Œä½ æƒ³æŠŠåˆ†éš”ç¬¦åŒ…è£¹åœ¨æ‹†åˆ†åçš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è¿™æ ·åšï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;String cmower = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (cmower.contains(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ï¼Œ&quot;&lt;/span&gt;)) {&lt;br/&gt;String [] parts = cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?&amp;lt;=ï¼Œ)&quot;&lt;/span&gt;);&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] +&lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¨‹åºè¾“å‡ºçš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;ç¬¬ä¸€éƒ¨åˆ†ï¼šæ²‰é»˜ç‹äºŒï¼Œ ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜
&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°åˆ†éš”ç¬¦â€œï¼Œâ€åŒ…è£¹åœ¨äº†ç¬¬ä¸€éƒ¨åˆ†ï¼Œå¦‚æœå¸Œæœ›åŒ…è£¹åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œå¯ä»¥è¿™æ ·åšï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;String [] parts = cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?=ï¼Œ)&quot;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯èƒ½æœ‰äº›å°ä¼™ä¼´å¾ˆå¥½å¥‡ï¼Œ&lt;code&gt;?&amp;lt;=&lt;/code&gt; å’Œ &lt;code&gt;?=&lt;/code&gt; æ˜¯ä»€ä¹ˆä¸œä¸œå•Šï¼Ÿå®ƒå…¶å®æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ–­è¨€æ¨¡å¼ã€‚&lt;/p&gt;
&lt;img src=&quot;http://www.itwanger.com/assets/images/2020/04/java-split-03.png&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¸©é¦¨æé†’ï¼šå¦‚æœå¯¹æ–­è¨€æ¨¡å¼æ¯”è¾ƒç”Ÿç–çš„è¯ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘ä¹‹å‰æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼æ‰‹å†Œã€‚&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼Œå‡å¦‚è¯´å­—ç¬¦ä¸²ä¸­åŒ…å«äº†å¤šä¸ªåˆ†éš”ç¬¦ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦ 2 ä¸ªçš„è¯ï¼Œè¿˜å¯ä»¥è¿™æ ·åšï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;String cmower = &lt;span class=&quot;hljs-string&quot;&gt;&quot;æ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜ï¼Œå® çˆ±ä»–&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (cmower.contains(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ï¼Œ&quot;&lt;/span&gt;)) {&lt;br/&gt;String [] parts = cmower.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ï¼Œ&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);&lt;br/&gt;System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ç¬¬ä¸€éƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] +&lt;span class=&quot;hljs-string&quot;&gt;&quot; ç¬¬äºŒéƒ¨åˆ†ï¼š&quot;&lt;/span&gt; + parts[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;split()&lt;/code&gt; æ–¹æ³•å¯ä»¥ä¼ é€’ 2 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºåˆ†éš”ç¬¦ï¼Œç¬¬äºŒä¸ªä¸ºæ‹†åˆ†çš„å­—ç¬¦ä¸²ä¸ªæ•°ã€‚æŸ¥çœ‹è¯¥æ–¹æ³•æºç çš„è¯ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;img src=&quot;http://www.itwanger.com/assets/images/2020/04/java-split-04.png&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›´æ¥ &lt;code&gt;substring()&lt;/code&gt; åˆ°åŸå­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬äºŒä¸ªåˆ†éš”ç¬¦å¤„ä¸å†æ‹†åˆ†ã€‚ç„¶åå°± break å‡ºå¾ªç¯äº†ã€‚æ¥çœ‹ä¸€ä¸‹ç¨‹åºè¾“å‡ºçš„ç»“æœï¼š&lt;/p&gt;
&lt;pre class=&quot;custom&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;
&lt;code class=&quot;hljs&quot;&gt;ç¬¬ä¸€éƒ¨åˆ†ï¼šæ²‰é»˜ç‹äºŒ ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜ï¼Œå® çˆ±ä»–
&lt;/code&gt;
&lt;/pre&gt;
&lt;img src=&quot;http://www.itwanger.com/assets/images/2020/04/java-split-05.gif&quot; alt=&quot;&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½äº†ï¼Œæˆ‘äº²çˆ±çš„è¯»è€…æœ‹å‹ï¼Œä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹äº†ã€‚æ˜¯ä¸æ˜¯çªç„¶æ„Ÿè§‰æ‹†åˆ†ä¸ªå­—ç¬¦ä¸²çœŸçš„æŒºè®²ç©¶çš„ï¼Ÿ&lt;/p&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æ˜¯æ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜ã€‚å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰ç‚¹å¸®åŠ©ï¼Œè¯·å¾®ä¿¡æœç´¢ã€Œ &lt;strong&gt;æ²‰é»˜ç‹äºŒ&lt;/strong&gt; ã€ç¬¬ä¸€æ—¶é—´é˜…è¯»ã€‚&lt;/p&gt;
&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; readability=&quot;5.7831325301205&quot;&gt;
&lt;p&gt;å›å¤ã€&lt;strong&gt;666&lt;/strong&gt;ã€‘æ›´æœ‰æˆ‘ä¸ºä½ ç²¾å¿ƒå‡†å¤‡çš„ 500G é«˜æ¸…æ•™å­¦è§†é¢‘ï¼ˆå·²åˆ†é—¨åˆ«ç±»ï¼‰ã€‚æœ¬æ–‡ &lt;a href=&quot;https://github.com/qinggee/itwanger.github.io&quot;&gt;GitHub&lt;/a&gt; å·²ç»æ”¶å½•ï¼Œæœ‰å¤§å‚é¢è¯•å®Œæ•´è€ƒç‚¹ï¼Œæ¬¢è¿ Starã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åŸåˆ›ä¸æ˜“ï¼Œè«è¦ç™½ç¥¨ï¼Œè¯·ä½ ä¸ºæœ¬æ–‡ç‚¹èµä¸ªå§&lt;/strong&gt;ï¼Œè¿™å°†æ˜¯æˆ‘å†™ä½œæ›´å¤šä¼˜è´¨æ–‡ç« çš„æœ€å¼ºåŠ¨åŠ›ã€‚&lt;/p&gt;
</description>
<pubDate>Wed, 29 Apr 2020 23:36:00 +0000</pubDate>
<dc:creator>æ²‰é»˜ç‹äºŒ</dc:creator>
<og:description>æåˆ° Java æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œæˆ‘çŒœä½ åæœ‰å…«ä¹ä¼šæ’‚ä¸‹ä¸€å¥ç‹ è¯ï¼Œâ€œè¿™æœ‰ä»€ä¹ˆéš¾çš„ï¼Œç›´æ¥ä¸Š String ç±»çš„ split() æ–¹æ³•ä¸å°±æ‹‰åˆ°äº†ï¼â€å‡å¦‚ä½ çœŸçš„è¿™ä¹ˆè§‰å¾—ï¼Œé‚£å¯è¦æ³¨æ„äº†ï¼Œäº‹æƒ…è¿œæ²¡è¿™ä¹ˆç®€å•ã€‚ æ¥æ¥æ¥ï¼Œæ¬</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/qing-gee/p/12806523.html</dc:identifier>
</item>
<item>
<title>CSSèº¬è¡Œè®°ï¼ˆ8ï¼‰â€”â€”è£å‰ªå’Œé®ç½© - å’–å•¡æœºï¼ˆK.F.Jï¼‰</title>
<link>http://www.cnblogs.com/strick/p/12534739.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/strick/p/12534739.html</guid>
<description>&lt;p&gt;ã€€ã€€è£å‰ªï¼ˆclippingï¼‰èƒ½è®©å…ƒç´ æ˜¾ç¤ºæŒ‡å®šå½¢çŠ¶çš„åŒºåŸŸï¼Œåœ¨å¸ƒå±€æ—¶å¯èµ·ç‚¹ç¼€çš„ä½œç”¨ï¼Œä¸°å¯Œäº†è§†è§‰å‘ˆç°ã€‚æ³¨æ„ï¼Œè£å‰ªæœ¬è´¨ä¸Šåªæ˜¯è®©å…ƒç´ çš„éƒ¨åˆ†åŒºåŸŸé€æ˜ï¼Œç”±æ­¤å¯çŸ¥ï¼Œè£å‰ªå®Œåå…ƒç´ æ‰€å çš„ç©ºé—´ä»æ—§ä¼šä¿ç•™ã€‚è£å‰ªæœ€æ—©æ˜¯åœ¨CSS 2.1æ—¶ä»£ç”±clipå±æ€§å¼•å…¥ï¼Œä½†è¯¥å±æ€§åªèƒ½åº”ç”¨äºç»å¯¹å®šä½çš„å…ƒç´ ï¼Œå¹¶ä¸”åªèƒ½è£å‰ªæˆçŸ©å½¢ã€‚CSS3æä¾›äº†å¼ºå¤§çš„clip-pathå±æ€§ï¼Œçªç ´äº†clipå±æ€§çš„ä¼—å¤šé™åˆ¶ï¼Œæ¥ä¸‹æ¥å°†å›´ç»•clip-pathå±æ€§å±•å¼€è®²è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ï¼‰è£å‰ªå½¢çŠ¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€clip-pathå±æ€§å¯ä»¥ä½¿ç”¨å››ç§è£å‰ªå‡½æ•°ï¼šcircle()ã€ellipse()ã€inset()å’Œpolygon()ï¼Œå®ƒä»¬çš„ä½œç”¨å’Œæµ®åŠ¨å½¢çŠ¶ä¸­çš„shape-outsideå±æ€§ä¸­çš„å½¢çŠ¶å‡½æ•°ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºè¿™å››ä¸ªå‡½æ•°çš„æ•ˆæœï¼Œå°†å®ƒä»¬åˆ†åˆ«åº”ç”¨åˆ°å››ä¸ªdivå…ƒç´ ä¸­ï¼Œæ ·å¼å¦‚ä¸‹ï¼Œå¾—åˆ°çš„å½¢çŠ¶å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;div &lt;/span&gt;{&lt;span&gt;
  width&lt;/span&gt;:&lt;span&gt; 200px&lt;/span&gt;;&lt;span&gt;
  height&lt;/span&gt;:&lt;span&gt; 200px&lt;/span&gt;;&lt;span&gt;
  background&lt;/span&gt;:&lt;span&gt; url(./lake.png)&lt;/span&gt;;
}&lt;span&gt;
.circle &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; circle(50%)&lt;/span&gt;;
}&lt;span&gt;
.ellipse &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; ellipse(50% 30%)&lt;/span&gt;;
}&lt;span&gt;
.inset &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; inset(20px 10px)&lt;/span&gt;;
}&lt;span&gt;
.polygon &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; polygon(0 0, 100px 0, 160px 200px, 0 200px)&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202003/211606-20200320203017179-552869448.png&quot; alt=&quot;&quot; width=&quot;800&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ï¼‰è£å‰ªç›’å­&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è£å‰ªç›’å­å¯æŒ‡å®šå½¢çŠ¶çš„è¾¹ç•Œï¼Œå…¶ä¸­margin-boxã€border-boxã€padding-boxå’Œcontent-boxçš„ä½œç”¨ä¸shape-outsideå±æ€§ä¸­çš„ç›¸åŒï¼Œå¹¶ä¸”è¿™äº›å…³é”®å­—ä¹Ÿèƒ½ä¸è£å‰ªå‡½æ•°ç»„åˆä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œå·¦ä¾§æ˜¯åŸå›¾ï¼Œå³ä¾§æ˜¯ä½¿ç”¨äº†clip-pathå±æ€§åçš„æ•ˆæœã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;div &lt;/span&gt;{&lt;span&gt;
  width&lt;/span&gt;:&lt;span&gt; 160px&lt;/span&gt;;&lt;span&gt;
  height&lt;/span&gt;:&lt;span&gt; 160px&lt;/span&gt;;&lt;span&gt;
  padding&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; content-box circle(50%)&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202003/211606-20200320203130552-1019352911.png&quot; alt=&quot;&quot; width=&quot;450&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿˜æœ‰ä¸‰ä¸ªå…³é”®å­—view-boxã€fill-boxå’Œstroke-boxé€‚ç”¨äºSVGå…ƒç´ ï¼Œå…·ä½“ç”¨é€”å¯åœ¨ç½‘ä¸ŠæŸ¥åˆ°ç›¸å…³èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3ï¼‰è£å‰ªè·¯å¾„&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¯¹äºå¤æ‚çš„å½¢çŠ¶ï¼Œå¯ä»¥é‡‡ç”¨SVGæ¥åˆ›å»ºè£å‰ªè·¯å¾„ï¼Œå®ç°è‡ªå®šä¹‰ã€‚å¼•ç”¨æ–¹å¼å’Œæ»¤é•œä¸­çš„ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨url()å‡½æ•°ï¼Œä½†æŒ‡å‘çš„æ˜¯SVGæ–‡ä»¶ä¸­çš„clipPathå…ƒç´ ï¼Œä¸‹é¢çš„SVGæ–‡ä»¶æºè‡ªMDNç½‘ç«™ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;svg &lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2000/svg&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;defs&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;clipPath &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;cross&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;rect &lt;/span&gt;&lt;span&gt;y&lt;/span&gt;&lt;span&gt;=&quot;110&quot;&lt;/span&gt;&lt;span&gt; x&lt;/span&gt;&lt;span&gt;=&quot;137&quot;&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt;&lt;span&gt; height&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;rect &lt;/span&gt;&lt;span&gt;x&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; y&lt;/span&gt;&lt;span&gt;=&quot;110&quot;&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt;&lt;span&gt; height&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;rect &lt;/span&gt;&lt;span&gt;x&lt;/span&gt;&lt;span&gt;=&quot;137&quot;&lt;/span&gt;&lt;span&gt; y&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt;&lt;span&gt; height&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;rect &lt;/span&gt;&lt;span&gt;x&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; y&lt;/span&gt;&lt;span&gt;=&quot;0&quot;&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt;&lt;span&gt; height&lt;/span&gt;&lt;span&gt;=&quot;90&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;clipPath&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;defs&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;svg&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€æœ‰ä¸¤ç§æ–¹å¼å¼•ç”¨SVGæ–‡ä»¶ä¸­çš„å½¢çŠ¶ï¼Œç¬¬ä¸€ç§æ˜¯å¤–éƒ¨å¼•ç”¨ï¼Œå°†SVGå…ƒç´ æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼›ç¬¬äºŒç§æ˜¯è¡Œå†…å¼•ç”¨ï¼Œå°†SVGå…ƒç´ æ”¾åœ¨å½“å‰çš„HTMLç»“æ„ä¸­ã€‚ä¸‹é¢ç”¨ä¸¤ä¸ªCSSç±»æ¥æ¼”ç¤ºè¿™ä¸¤ç§å¼•ç”¨æ–¹å¼ï¼Œå…¶ä¸­url()å‡½æ•°æ¥æ”¶çš„å‚æ•°çš„æœ€å¤§åŒºåˆ«å°±æ˜¯æ˜¯å¦åŒ…å«æ–‡ä»¶è·¯å¾„ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;.url-cross &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; url(./shapes.svg#cross)&lt;/span&gt;;
}&lt;span&gt;
.inline-cross &lt;/span&gt;{&lt;span&gt;
  clip-path&lt;/span&gt;:&lt;span&gt; url(#cross)&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€ä¸¤ç§æ–¹å¼çš„æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯å°†å…ƒç´ è£å‰ªæˆå››éƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ³¨æ„ï¼Œå¤–éƒ¨å¼•ç”¨çš„æµè§ˆå™¨æ”¯æŒåº¦æ¯”è¾ƒç³Ÿç³•ï¼Œç›®å‰åªæœ‰Firefoxæ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202003/211606-20200320203304360-1886887781.png&quot; alt=&quot;&quot; width=&quot;300&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ï¼‰è’™ç‰ˆ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è’™ç‰ˆï¼ˆmaskingï¼‰ä¸è£å‰ªç±»ä¼¼ï¼Œä¹Ÿæ˜¯è®©å…ƒç´ ä»¥æŸç§å½¢çŠ¶æ˜¾ç¤ºï¼Œä½†è’™ç‰ˆèƒ½æ ¹æ®é€æ˜åº¦å’Œç°åº¦å€¼è®¡ç®—è£å‰ªè¾¹ç¼˜ï¼Œå¹¶ä¸”æœ‰æ›´å¤šçš„è’™ç‰ˆå±æ€§å¯ä¾›é€‰æ‹©ï¼Œä¾‹å¦‚å®šä½ã€å°ºå¯¸ã€å¡«å……æ–¹å¼ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºè’™ç‰ˆçš„ç”¨æ³•ï¼Œé¦–å…ˆåˆ›å»ºHTMLç»“æ„ï¼ŒåŒ…å«ä¸‰ä¸ªdivå…ƒç´ ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;lake&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;star&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;lake star-mask&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€ç„¶åä¸ºä¸‰ä¸ªdivå…ƒç´ æ·»åŠ èƒŒæ™¯å›¾ï¼Œå¹¶ç»™ç¬¬ä¸‰ä¸ªå…ƒç´ å®šä¹‰è’™ç‰ˆï¼Œæ ·å¼å¦‚ä¸‹ã€‚æ³¨æ„ï¼Œåœ¨Chromeæµè§ˆå™¨ä¸­å®šä¹‰è’™ç‰ˆå±æ€§æ—¶ï¼Œéœ€è¦é¢å¤–æ·»åŠ -webkit-å‰ç¼€ï¼Œä¾‹å¦‚å°†åŸæ¥çš„mask-imageå±æ€§æ”¹æˆ-webkit-mask-imageå±æ€§ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;.lake &lt;/span&gt;{&lt;span&gt;
  background&lt;/span&gt;:&lt;span&gt; url(./lake.png)&lt;/span&gt;;
}&lt;span&gt;
.star &lt;/span&gt;{&lt;span&gt;
  background&lt;/span&gt;:&lt;span&gt; url(./star-shadow.png)&lt;/span&gt;;&lt;span&gt;
  background-position&lt;/span&gt;:&lt;span&gt; center&lt;/span&gt;;&lt;span&gt;
  background-repeat&lt;/span&gt;:&lt;span&gt; no-repeat&lt;/span&gt;;
}&lt;span&gt;
.star-mask &lt;/span&gt;{&lt;span&gt;
  mask-image&lt;/span&gt;:&lt;span&gt; url(./star-shadow.png)&lt;/span&gt;;&lt;span&gt;
  mask-position&lt;/span&gt;:&lt;span&gt; center&lt;/span&gt;;&lt;span&gt;
  mask-repeat&lt;/span&gt;:&lt;span&gt; no-repeat&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€€ã€€åœ¨ä¸‹å›¾ä¸­ï¼Œå°†ç¬¬äºŒå¼ äº”è§’æ˜Ÿä½œä¸ºè’™ç‰ˆï¼Œä½œç”¨åˆ°ç¬¬ä¸€å¼ é£æ™¯ç…§ä¸­ï¼Œç¬¬ä¸‰å¼ æ˜¯å‘ç”Ÿé®ç½©åçš„æ•ˆæœå›¾ï¼Œå¯ä»¥çœ‹åˆ°äº”è§’æ˜Ÿä¸­ä¸é€æ˜å’ŒåŠé€æ˜çš„åŒºåŸŸä¼šæ˜¾ç¤ºé£æ™¯ç…§ä¸­çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202003/211606-20200320203449638-824562223.png&quot; alt=&quot;&quot; width=&quot;600&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨.star-maskç±»ä¸­ç”¨åˆ°äº†mask-positionï¼Œå®ƒçš„è¯­æ³•ä¸background-positionä¸€æ ·ï¼Œä¸‹è¡¨åˆ—å‡ºäº†æ‰€æœ‰çš„è’™ç‰ˆå±æ€§å’ŒèƒŒæ™¯å±æ€§ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr&gt;&lt;td&gt;è’™ç‰ˆå±æ€§&lt;/td&gt;
&lt;td&gt;èƒŒæ™¯å±æ€§&lt;/td&gt;
&lt;td&gt;ä½œç”¨&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;mask-size&lt;/td&gt;
&lt;td&gt;background-size&lt;/td&gt;
&lt;td&gt;è°ƒæ•´è’™ç‰ˆçš„å°ºå¯¸&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;mask-repeat&lt;/td&gt;
&lt;td&gt;background-repeat&lt;/td&gt;
&lt;td&gt;è°ƒæ•´è’™ç‰ˆçš„å¡«å……æ–¹å¼&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;mask-position&lt;/td&gt;
&lt;td&gt;background-position&lt;/td&gt;
&lt;td&gt;è°ƒæ•´è’™ç‰ˆçš„å®šä½&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;mask-origin&lt;/td&gt;
&lt;td&gt;background-origin&lt;/td&gt;
&lt;td&gt;è°ƒæ•´è’™ç‰ˆçš„åŸç‚¹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;mask-clip&lt;/td&gt;
&lt;td&gt;background-clip&lt;/td&gt;
&lt;td&gt;è°ƒæ•´è’™ç‰ˆçš„è£å‰ªåŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;ã€€ã€€CSSè¿˜æä¾›äº†ä¸€ä¸ªç®€å†™å±æ€§maskï¼Œå¯å°†ä¸Šè¿°å±æ€§åˆå¹¶åˆ°è¯¥å±æ€§ä¸­ã€‚å…³äºè’™ç‰ˆè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œé‚£å°±æ˜¯é®ç½©ç”¨çš„è’™ç‰ˆå›¾åƒæ—¢å¯ä»¥æ˜¯ä½å›¾å›¾åƒï¼ˆpngã€jpgç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯çŸ¢é‡å›¾å½¢ï¼ˆæŒ‡å‘SVGä¸­çš„maskå…ƒç´ ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ï¼‰æ›¿æ¢å…ƒç´ çš„å¡«å……å’Œå®šä½&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€CSS3å¼•å…¥äº†ä¸¤ä¸ªæ–°å±æ€§ï¼Œç”¨äºé®ç½©æ›¿æ¢å…ƒç´ ã€‚ç¬¬ä¸€ä¸ªæ˜¯object-fitå±æ€§ï¼Œç”¨æ¥æ§åˆ¶æ›¿æ¢å…ƒç´ çš„å†…å®¹ä»¥ä½•ç§æ–¹å¼å¡«å……å½“å‰æ‰€ä½¿ç”¨çš„å…ƒç´ ç›’å­ï¼Œå®ƒæœ‰5ä¸ªå…³é”®å­—å¯ä¾›é€‰æ‹©ï¼Œå¦‚ä¸‹æ‰€åˆ—ï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ1ï¼‰fillï¼šå°†å…ƒç´ ç›’å­å¡«å……æ»¡ï¼Œå®ƒæ˜¯object-fitå±æ€§çš„é»˜è®¤å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ2ï¼‰containï¼šä¿æŒå®½é«˜æ¯”ç¼©æ”¾ï¼Œç›´åˆ°èƒ½å°†æ•´å—å†…å®¹å¡«å……è¿›å…ƒç´ ç›’å­ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ3ï¼‰noneï¼šä¿æŒåŸæœ‰å°ºå¯¸å¡«å……ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ4ï¼‰coverï¼šä¿æŒå®½é«˜æ¯”ç¼©æ”¾ï¼Œç›´åˆ°æ°´å¹³æˆ–å‚ç›´æ–¹å‘æ’‘æ»¡å…ƒç´ ç›’å­ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ï¼ˆ5ï¼‰scale-downï¼šä½œç”¨ä¸noneæˆ–containä¸­çš„ä¸€ä¸ªç›¸åŒï¼Œå–å†³äºè°çš„å°ºå¯¸æ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/211606/202003/211606-20200320203902937-2004036483.png&quot; alt=&quot;&quot; width=&quot;800&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç¬¬äºŒä¸ªæ˜¯object-positionå±æ€§ï¼Œç”¨æ¥æ§åˆ¶æ›¿æ¢å…ƒç´ çš„å†…å®¹åœ¨å…ƒç´ ç›’å­ä¸­çš„ä½ç½®ï¼Œå…¶è¯­æ³•å’Œbackground-positionç›¸åŒã€‚&lt;/p&gt;
</description>
<pubDate>Wed, 29 Apr 2020 23:17:00 +0000</pubDate>
<dc:creator>å’–å•¡æœºï¼ˆK.F.Jï¼‰</dc:creator>
<og:description>ä¸€ã€ è£å‰ª è£å‰ªï¼ˆclippingï¼‰èƒ½è®©å…ƒç´ æ˜¾ç¤ºæŒ‡å®šå½¢çŠ¶çš„åŒºåŸŸï¼Œåœ¨å¸ƒå±€æ—¶å¯èµ·ç‚¹ç¼€çš„ä½œç”¨ï¼Œä¸°å¯Œäº†è§†è§‰å‘ˆç°ã€‚æ³¨æ„ï¼Œè£å‰ªæœ¬è´¨ä¸Šåªæ˜¯è®©å…ƒç´ çš„éƒ¨åˆ†åŒºåŸŸé€æ˜ï¼Œç”±æ­¤å¯çŸ¥ï¼Œè£å‰ªå®Œåå…ƒç´ æ‰€å çš„ç©ºé—´ä»æ—§ä¼šä¿ç•™ã€‚è£å‰ªæœ€æ—©æ˜¯</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/strick/p/12534739.html</dc:identifier>
</item>
<item>
<title>Elasticsearchç³»åˆ—---å®ç°åˆ†å¸ƒå¼é” - æ¸…èŒ¶è±†å¥¶</title>
<link>http://www.cnblogs.com/huangying2124/p/12806508.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/huangying2124/p/12806508.html</guid>
<description>&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;/h3&gt;
&lt;p&gt;Elasticsearchåœ¨æ–‡æ¡£æ›´æ–°æ—¶é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¹è§‚é”æ–¹æ¡ˆï¼Œè€ŒElasticsearchåˆ©ç”¨æ–‡æ¡£çš„ä¸€äº›createé™åˆ¶æ¡ä»¶ï¼Œä¹Ÿèƒ½è¾¾åˆ°æ‚²è§‚é”çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€çœ‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¹è§‚é”ä¸æ‚²è§‚é”&quot;&gt;ä¹è§‚é”ä¸æ‚²è§‚é”&lt;/h3&gt;
&lt;h4 id=&quot;ä¹è§‚é”&quot;&gt;ä¹è§‚é”&lt;/h4&gt;
&lt;p&gt;ESé»˜è®¤å®ç°ä¹è§‚é”ï¼Œæ‰€æœ‰çš„æ•°æ®æ›´æ–°é»˜è®¤ä½¿ç”¨ä¹è§‚é”æœºåˆ¶ã€‚documentæ›´æ–°æ—¶ï¼Œå¿…é¡»è¦å¸¦ä¸Šcurrenct versionï¼Œæ›´æ–°æ—¶ä¸documentçš„versionè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒè¿›è¡Œæ›´æ–°æ“ä½œï¼Œä¸ç›¸åŒè¡¨ç¤ºå·²ç»è¢«åˆ«çš„çº¿ç¨‹æ›´æ–°è¿‡äº†ï¼Œæ­¤æ—¶æ›´æ–°å¤±è´¥ï¼Œå¹¶ä¸”é‡æ–°è·å–æ–°çš„versionå†å°è¯•æ›´æ–°ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ‚²è§‚é”&quot;&gt;æ‚²è§‚é”&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬ä¸¾ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼šElasticsearchå­˜å‚¨æ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ã€æ–‡ä»¶åä¿¡æ¯ï¼Œæœ‰å¤šä¸ªçº¿ç¨‹éœ€è¦å¯¹/home/workspace/ReadMe.txtè¿›è¡Œè¿½åŠ ä¿®æ”¹ï¼Œè€Œä¸”æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œæœ‰å…ˆåé¡ºåºä¹‹åˆ†ï¼Œè·Ÿä¹‹å‰çš„åº“å­˜æ›´æ–°æ¡ˆä¾‹æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œæ­¤æ—¶å•çº¯ä½¿ç”¨ä¹è§‚é”ï¼Œå¯èƒ½ä¼šå‡ºç°ä¹±åºçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§åœºæ™¯å°±éœ€è¦ä½¿ç”¨æ‚²è§‚é”æ§åˆ¶ï¼Œä¿è¯çº¿ç¨‹çš„æ‰§è¡Œé¡ºåºï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ä¿®æ”¹ï¼Œå…¶ä»–çš„çº¿ç¨‹åªèƒ½æŒ‚èµ·ç­‰å¾…ã€‚æ‚²è§‚é”é€šè¿‡/index/lock/å®ç°ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½åšä¿®æ”¹æ“ä½œï¼Œå…¶ä»–çº¿ç¨‹blockæ‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‚²è§‚é”æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ç§ç²’åº¦ï¼Œç”±ç²—åˆ°ç»†å¯ä¸ºåˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å…¨å±€é”ï¼šæœ€ç²—çš„é”ï¼Œç›´æ¥é”æ•´ä¸ªç´¢å¼•&lt;/li&gt;
&lt;li&gt;documenté”ï¼šæŒ‡å®šidåŠ é”ï¼Œåªé”ä¸€æ¡æ•°æ®ï¼Œç±»ä¼¼äºæ•°æ®åº“çš„è¡Œé”&lt;/li&gt;
&lt;li&gt;å…±äº«é”å’Œæ’ä»–é”ï¼šä¹Ÿå«è¯»å†™é”ï¼Œé’ˆå¯¹ä¸€æ¡æ•°æ®åˆ†è¯»å’Œå†™ä¸¤ç§æ“ä½œï¼Œä¸€èˆ¬å…±äº«é”å…è®¸å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€æ¡æ•°æ®è¿›è¡ŒåŠ é”ï¼Œæ’ä»–é”åªå…è®¸ä¸€ä¸ªçº¿ç¨‹å¯¹æ•°æ®åŠ é”ï¼Œå¹¶ä¸”æ’ä»–é”å’Œå…±äº«é”äº’æ–¥ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;é”çš„åŸºæœ¬æ“ä½œæ­¥éª¤&quot;&gt;é”çš„åŸºæœ¬æ“ä½œæ­¥éª¤&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨é”çš„åŸºæœ¬æ­¥éª¤éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ— è®ºæ˜¯å…³ç³»å‹æ•°æ®åº“ã€Redis/Memcache/Zookeeperåˆ†å¸ƒå¼é”ï¼Œè¿˜æ˜¯ä»Šå¤©ä»‹ç»çš„Elasticsearchå®ç°çš„é”æœºåˆ¶ï¼Œéƒ½æœ‰å¦‚ä¸‹ä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä¸Šé”&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œäº‹åŠ¡æ–¹æ³•&lt;/li&gt;
&lt;li&gt;è§£é”&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;å…¨å±€é”&quot;&gt;å…¨å±€é”&lt;/h3&gt;
&lt;p&gt;å‡å®šæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹1å’Œçº¿ç¨‹2&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;çº¿ç¨‹1ä¸Šé”å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;PUT /files/file/global/_create
{}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;filesè¡¨ç¤ºç´¢å¼•åç§°ã€‚&lt;/li&gt;
&lt;li&gt;fileä¸ºtypeï¼Œ6.3.1ä¸€ä¸ªç´¢å¼•åªå…è®¸æœ‰ä¸€ä¸ªtypeï¼Œé€‰ç”¨fileä½œç”¨typeåç§°ã€‚&lt;/li&gt;
&lt;li&gt;globalï¼šå³documentçš„idï¼Œå›ºå®šå†™ä¸ºglobalè¡¨ç¤ºå…¨å±€é”ï¼Œæˆ–è€…ä½¿ç”¨ä¸“é—¨çš„ç´¢å¼•è¿›è¡ŒåŠ é”æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;_create: å¼ºåˆ¶å¿…é¡»æ˜¯åˆ›å»ºï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåˆ›å»ºå¤±è´¥ï¼ŒæŠ¥é”™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;çº¿ç¨‹1æ‰§è¡Œäº‹åŠ¡æ–¹æ³•ï¼šæ›´æ–°æ–‡ä»¶å&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files/file/global/_update
{
  &quot;doc&quot;: {
    &quot;name&quot;:&quot;ReadMe.txt&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;çº¿ç¨‹2å°è¯•åŠ é”ï¼Œå¤±è´¥ï¼Œæ­¤æ—¶ç¨‹åºè¿›è¡Œé‡è¯•é˜¶æ®µï¼Œç›´åˆ°çº¿ç¨‹1é‡Šæ”¾é”&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;# è¯·æ±‚ï¼š
PUT /files/file/global/_create
{}

# å“åº”ï¼š
{
  &quot;error&quot;: {
    &quot;root_cause&quot;: [
      {
        &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,
        &quot;reason&quot;: &quot;[file][global]: version conflict, document already exists (current version [1])&quot;,
        &quot;index_uuid&quot;: &quot;_6E1d7BLQmy9-7gJptVp7A&quot;,
        &quot;shard&quot;: &quot;2&quot;,
        &quot;index&quot;: &quot;files&quot;
      }
    ],
    &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,
    &quot;reason&quot;: &quot;[file][global]: version conflict, document already exists (current version [1])&quot;,
    &quot;index_uuid&quot;: &quot;_6E1d7BLQmy9-7gJptVp7A&quot;,
    &quot;shard&quot;: &quot;2&quot;,
    &quot;index&quot;: &quot;files&quot;
  },
  &quot;status&quot;: 409
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;çº¿ç¨‹1é‡Šæ”¾é”&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;code&gt;DELETE files/file/global&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&quot;5&quot;&gt;&lt;li&gt;çº¿ç¨‹2åŠ é”&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;PUT /files/file/global/_create
{}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å“åº”&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;{
  &quot;_index&quot;: &quot;files&quot;,
  &quot;_type&quot;: &quot;file&quot;,
  &quot;_id&quot;: &quot;global&quot;,
  &quot;_version&quot;: 3,
  &quot;result&quot;: &quot;created&quot;,
  &quot;_shards&quot;: {
    &quot;total&quot;: 2,
    &quot;successful&quot;: 1,
    &quot;failed&quot;: 0
  },
  &quot;_seq_no&quot;: 2,
  &quot;_primary_term&quot;: 1
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;6&quot;&gt;&lt;li&gt;åŠ é”æˆåŠŸï¼Œç„¶åæ‰§è¡Œäº‹åŠ¡æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;h4 id=&quot;ä¼˜ç¼ºç‚¹&quot;&gt;ä¼˜ç¼ºç‚¹&lt;/h4&gt;
&lt;p&gt;å…¨å±€é”æœ¬è´¨ä¸Šæ˜¯æ‰€æœ‰çº¿ç¨‹éƒ½ç”¨_createè¯­æ³•æ¥åˆ›å»ºidä¸ºglobalçš„æ–‡æ¡£ï¼Œåˆ©ç”¨Elasticsearchå¯¹_createè¯­æ³•çš„æ ¡éªŒæ¥å®ç°é”çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;ul readability=&quot;1&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šæ“ä½œç®€å•ï¼Œå®¹æ˜“ä½¿ç”¨ï¼Œæˆæœ¬ä½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;ç¼ºç‚¹ï¼šç›´æ¥é”ä½æ•´ä¸ªç´¢å¼•ï¼Œé™¤äº†åŠ é”çš„é‚£ä¸ªçº¿ç¨‹ï¼Œå…¶ä»–æ‰€æœ‰å¯¹æ­¤ç´¢å¼•çš„çº¿ç¨‹éƒ½blockä½äº†ï¼Œå¹¶å‘é‡è¾ƒä½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šè¯»å¤šå†™å°‘çš„æ•°æ®ï¼Œå¹¶ä¸”åŠ è§£é”çš„æ—¶é—´éå¸¸çŸ­ï¼Œç±»ä¼¼äºæ•°æ®åº“çš„è¡¨é”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ³¨æ„äº‹é¡¹ï¼šåŠ é”è§£é”çš„æ§åˆ¶å¿…é¡»ä¸¥æ ¼åœ¨ç¨‹åºé‡Œå®šä¹‰ï¼Œå› ä¸ºå•çº¯åŸºäºdocçš„é”æ§åˆ¶ï¼Œå¦‚æœidå›ºå®šä½¿ç”¨globalï¼Œåœ¨æœ‰é”çš„æƒ…å†µï¼Œä»»ä½•çº¿ç¨‹æ‰§è¡Œdeleteæ“ä½œéƒ½æ˜¯å¯ä»¥æˆåŠŸçš„ï¼Œå› ä¸ºå¤§å®¶éƒ½çŸ¥é“idã€‚&lt;/p&gt;
&lt;h3 id=&quot;document-levelçº§åˆ«çš„é”&quot;&gt;document levelçº§åˆ«çš„é”&lt;/h3&gt;
&lt;p&gt;document levelçº§åˆ«çš„é”æ˜¯æ›´ç»†ç²’åº¦çš„é”ï¼Œä»¥æ–‡æ¡£ä¸ºå•ä½è¿›è¡Œé”æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç´¢å¼•ä¸“é—¨ç”¨äºåŠ é”æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;PUT /files-lock/_mapping/lock
{
  &quot;properties&quot;: {
    
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªscriptè„šæœ¬ï¼ŒES6.0ä»¥åé»˜è®¤ä½¿ç”¨painlessè„šæœ¬ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST _scripts/document-lock
{
  &quot;script&quot;: {
    &quot;lang&quot;: &quot;painless&quot;,
    &quot;source&quot;: &quot;if ( ctx._source.process_id != params.process_id ) { Debug.explain('already locked by other thread'); }  ctx.op = 'noop';&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Debug.explainè¡¨ç¤ºæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå†…å®¹ä¸ºalready locked by other threadã€‚&lt;br/&gt;ctx.op = 'noop'è¡¨ç¤ºä¸æ‰§è¡Œæ›´æ–°ã€‚&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;çº¿ç¨‹1å¢åŠ è¡Œé”ï¼Œæ­¤æ—¶ä¼ å…¥çš„process_idä¸º181ab3ee-28cc-4339-ba35-69802e06fe42&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code&gt;POST /files-lock/lock/1/_update
{
  &quot;upsert&quot;: { &quot;process_id&quot;: &quot;181ab3ee-28cc-4339-ba35-69802e06fe42&quot; },
  &quot;script&quot;: {
    &quot;id&quot;: &quot;document-lock&quot;, 
    &quot;params&quot;: {
      &quot;process_id&quot;: &quot;181ab3ee-28cc-4339-ba35-69802e06fe42&quot;
    }
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å“åº”ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;_index&quot;: &quot;files-lock&quot;,
  &quot;_type&quot;: &quot;lock&quot;,
  &quot;_id&quot;: &quot;1&quot;,
  &quot;_version&quot;: 1,
  &quot;result&quot;: &quot;created&quot;,
  &quot;_shards&quot;: {
    &quot;total&quot;: 2,
    &quot;successful&quot;: 1,
    &quot;failed&quot;: 0
  },
  &quot;_seq_no&quot;: 0,
  &quot;_primary_term&quot;: 1
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;çº¿ç¨‹1ã€çº¿ç¨‹2æŸ¥è¯¢é”ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;_index&quot;: &quot;files-lock&quot;,
  &quot;_type&quot;: &quot;lock&quot;,
  &quot;_id&quot;: &quot;1&quot;,
  &quot;_version&quot;: 1,
  &quot;found&quot;: true,
  &quot;_source&quot;: {
    &quot;process_id&quot;: &quot;181ab3ee-28cc-4339-ba35-69802e06fe42&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;çº¿ç¨‹2ä¼ å…¥çš„process_idä¸º181ab3ee-28cc-4339-ba35-69802e06fe42ï¼Œå°è¯•åŠ é”ï¼Œå¤±è´¥ï¼Œæ­¤æ—¶åº”è¯¥å¯åŠ¨é‡è¯•æœºåˆ¶&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files-lock/lock/1/_update
{
  &quot;upsert&quot;: { &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot; },
  &quot;script&quot;: {
    &quot;id&quot;: &quot;document-lock&quot;, 
    &quot;params&quot;: {
      &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot;
    }
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æç¤ºè¯¥æ–‡æ¡£å·²ç»è¢«åˆ«çš„çº¿ç¨‹ï¼ˆçº¿ç¨‹1ï¼‰é”ä½äº†ï¼Œä½ ä¸èƒ½æ›´æ–°äº†ï¼Œå“åº”æŠ¥æ–‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;error&quot;: {
    &quot;root_cause&quot;: [
      {
        &quot;type&quot;: &quot;remote_transport_exception&quot;,
        &quot;reason&quot;: &quot;[node-1][192.168.17.137:9300][indices:data/write/update[s]]&quot;
      }
    ],
    &quot;type&quot;: &quot;illegal_argument_exception&quot;,
    &quot;reason&quot;: &quot;failed to execute script&quot;,
    &quot;caused_by&quot;: {
      &quot;type&quot;: &quot;script_exception&quot;,
      &quot;reason&quot;: &quot;runtime error&quot;,
      &quot;painless_class&quot;: &quot;java.lang.String&quot;,
      &quot;to_string&quot;: &quot;already locked by other thread&quot;,
      &quot;java_class&quot;: &quot;java.lang.String&quot;,
      &quot;script_stack&quot;: [
        &quot;Debug.explain('already locked by other thread'); }  &quot;,
        &quot;              ^---- HERE&quot;
      ],
      &quot;script&quot;: &quot;judge-lock&quot;,
      &quot;lang&quot;: &quot;painless&quot;,
      &quot;caused_by&quot;: {
        &quot;type&quot;: &quot;painless_explain_error&quot;,
        &quot;reason&quot;: null
      }
    }
  },
  &quot;status&quot;: 400
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;çº¿ç¨‹1æ‰§è¡Œäº‹åŠ¡æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files/file/1/_update
{
  &quot;doc&quot;: {
    &quot;name&quot;:&quot;README1.txt&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;5&quot;&gt;&lt;li&gt;çº¿ç¨‹1çš„äº‹åŠ¡æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œå¹¶é€šè¿‡åˆ é™¤idä¸º1çš„æ–‡æ¡£ï¼Œç›¸å½“äºé‡Šæ”¾é”&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;code&gt;DELETE /files-lock/lock/1&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&quot;6&quot;&gt;&lt;li&gt;çº¿ç¨‹2åœ¨çº¿ç¨‹1æ‰§è¡Œäº‹åŠ¡çš„æœŸé—´ï¼Œä¸€ç›´åœ¨æ¨¡æ‹ŸæŒ‚èµ·ï¼Œé‡è¯•çš„æ“ä½œï¼Œç›´åˆ°çº¿ç¨‹1å®Œæˆé‡Šæ”¾é”ï¼Œç„¶åçº¿ç¨‹2åŠ é”æˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files-lock/lock/1/_update
{
  &quot;upsert&quot;: { &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot; },
  &quot;script&quot;: {
    &quot;id&quot;: &quot;document-lock&quot;, 
    &quot;params&quot;: {
      &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot;
    }
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;_index&quot;: &quot;files-lock&quot;,
  &quot;_type&quot;: &quot;lock&quot;,
  &quot;_id&quot;: &quot;1&quot;,
  &quot;_version&quot;: 3,
  &quot;found&quot;: true,
  &quot;_source&quot;: {
    &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶é”çš„process_idå˜æˆçº¿ç¨‹2ä¼ å…¥çš„&quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;_index&quot;: &quot;files-lock&quot;,
  &quot;_type&quot;: &quot;lock&quot;,
  &quot;_id&quot;: &quot;1&quot;,
  &quot;_version&quot;: 3,
  &quot;found&quot;: true,
  &quot;_source&quot;: {
    &quot;process_id&quot;: &quot;a6d13529-86c0-4422-b95a-aa0a453625d5&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ ·åŸºäºESçš„è¡Œé”æ“ä½œæ§åˆ¶è¿‡ç¨‹å°±å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;è„šæœ¬è§£é‡Š&quot;&gt;è„šæœ¬è§£é‡Š&lt;/h4&gt;
&lt;p&gt;update+upsertæ“ä½œï¼Œå¦‚æœè¯¥è®°å½•æ²¡åŠ é”ï¼ˆæ­¤æ—¶documentä¸ºç©ºï¼‰ï¼Œæ‰§è¡Œupsertæ“ä½œï¼Œè®¾ç½®process_idï¼Œå¦‚æœå·²åŠ é”ï¼Œæ‰§è¡Œscript&lt;br/&gt;scriptå†…çš„é€»è¾‘æ˜¯ï¼šåˆ¤æ–­ä¼ å…¥å‚æ•°ä¸å½“å‰docçš„process_idï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œè¯´æ˜æœ‰åˆ«çš„çº¿ç¨‹å°è¯•å¯¹æœ‰é”çš„docè¿›è¡ŒåŠ é”æ“ä½œï¼ŒDebug.explainè¡¨ç¤ºæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;process_idå¯ä»¥ç”±Javaåº”ç”¨ç³»ç»Ÿé‡Œç”Ÿæˆï¼Œå¦‚UUIDã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸¤ä¸ªprocess_idç›¸åŒï¼Œè¯´æ˜å½“å‰æ‰§è¡Œçš„çº¿ç¨‹ä¸åŠ é”çš„çº¿ç¨‹æ˜¯åŒä¸€ä¸ªï¼Œctx.op = 'noop'è¡¨ç¤ºä»€ä¹ˆéƒ½ä¸åšï¼Œè¿”å›æˆåŠŸçš„å“åº”ï¼ŒJavaå®¢æˆ·ç«¯æ‹¿åˆ°æˆåŠŸå“åº”çš„æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥çš„æ“ä½œï¼Œä¸€èˆ¬è¿™é‡Œçš„ä¸‹ä¸€æ­¥å°±æ˜¯æ‰§è¡Œäº‹åŠ¡æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç‚¹è¯„&quot;&gt;ç‚¹è¯„&lt;/h4&gt;
&lt;p&gt;æ–‡æ¡£çº§åˆ«çš„é”é¢—ç²’åº¦å°ï¼Œå¹¶å‘æ€§é«˜ï¼Œååé‡å¤§ï¼Œç±»ä¼¼äºæ•°æ®åº“çš„è¡Œé”ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…±äº«é”ä¸æ’ä»–é”&quot;&gt;å…±äº«é”ä¸æ’ä»–é”&lt;/h3&gt;
&lt;h4 id=&quot;æ¦‚å¿µ&quot;&gt;æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;å…±äº«é”ï¼šå…è®¸å¤šä¸ªçº¿ç¨‹è·å–åŒä¸€æ¡æ•°æ®çš„å…±äº«é”è¿›è¡Œè¯»æ“ä½œ&lt;br/&gt;æ’ä»–é”ï¼šåŒä¸€æ¡æ•°æ®åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–æ’ä»–é”ï¼Œç„¶åè¿›è¡Œå¢åˆ æ”¹æ“ä½œ&lt;/p&gt;
&lt;p&gt;äº’æ–¥æ€§ï¼šå…±äº«é”ä¸æ’ä»–é”æ˜¯äº’æ–¥çš„ï¼Œå¦‚æœè¿™æ¡æ•°æ®æœ‰å…±äº«é”å­˜åœ¨ï¼Œé‚£ä¹ˆæ’ä»–é”æ— æ³•åŠ ä¸Šï¼Œå¿…é¡»å¾—å…±äº«é”é‡Šæ”¾å®Œäº†ï¼Œæ’ä»–é”æ‰èƒ½åŠ ä¸Šã€‚&lt;br/&gt;åä¹‹ä¹Ÿæˆç«‹ï¼Œå¦‚æœè¿™æ¡æ•°æ®å½“å‰è¢«æ’ä»–é”é”ä¿¡ï¼Œé‚£ä¹ˆå…¶ä»–çš„æ’ä»–é”ä¸èƒ½åŠ ï¼Œå…±äº«é”ä¹ŸåŠ ä¸ä¸Šã€‚å¿…é¡»ç­‰è¿™ä¸ªæ’ä»–é”é‡Šæ”¾å®Œäº†ï¼Œå…¶ä»–é”æ‰åŠ å¾—ä¸Šã€‚&lt;br/&gt;æœ‰äººåœ¨æ”¹æ•°æ®ï¼Œå°±ä¸å…è®¸åˆ«äººæ¥æ”¹ï¼Œä¹Ÿä¸è®©åˆ«äººæ¥è¯»ã€‚&lt;/p&gt;
&lt;p&gt;è¯»å†™é”çš„åˆ†ç¦»&lt;br/&gt;å¦‚æœåªæ˜¯è¯»æ•°æ®ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥åŠ ä¸€æŠŠå…±äº«é”ï¼Œæ­¤æ—¶è¯¥æ•°æ®çš„å…±äº«é”æ•°é‡ä¸€ç›´é€’å¢ï¼Œå¦‚æœè¿™æ—¶æœ‰å†™æ•°æ®çš„è¯·æ±‚ï¼ˆå†™è¯·æ±‚æ˜¯æ’ä»–é”ï¼‰ï¼Œç”±äºäº’æ–¥æ€§ï¼Œå¿…é¡»ç­‰å…±äº«é”å…¨éƒ¨é‡Šæ”¾å®Œï¼Œå†™é”æ‰åŠ å¾—ä¸Šã€‚&lt;br/&gt;æœ‰äººåœ¨è¯»æ•°æ®ï¼Œå°±ä¸å…è®¸åˆ«äººæ¥æ”¹ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ¡ˆä¾‹å®éªŒ&quot;&gt;æ¡ˆä¾‹å®éªŒ&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå…±äº«é”çš„è„šæœ¬ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;# è¯»æ“ä½œåŠ é”è„šæœ¬
POST _scripts/rw-lock
{
    &quot;script&quot;: {
        &quot;lang&quot;: &quot;painless&quot;,
        &quot;source&quot;: &quot;if (ctx._source.lock_type == 'exclusive') { Debug.explain('one thread is writing data, the lock is exclusive now'); } ctx._source.lock_count++&quot;
    }
}

# è¯»æ“ä½œå®Œæ¯•é‡Šæ”¾é”è„šæœ¬
POST _scripts/rw-unlock
{
    &quot;script&quot;: {
        &quot;lang&quot;: &quot;painless&quot;,
        &quot;source&quot;: &quot;if ( --ctx._source.lock_count == 0) { ctx.op = 'delete' }&quot;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;æ¯æ¬¡æœ‰ä¸€ä¸ªçº¿ç¨‹è¯»æ•°æ®æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡åŠ é”æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files-lock/lock/1/_update
{
  &quot;upsert&quot;: { 
    &quot;lock_type&quot;:  &quot;shared&quot;,
    &quot;lock_count&quot;: 1
  },
  &quot;script&quot;: {
    &quot;id&quot;: &quot;rw-lock&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;åœ¨å¤šä¸ªé¡µé¢ä¸Šå°è¯•ï¼Œå¯ä»¥çœ‹åˆ°lock_countåœ¨é€ä¸€é€’å¢ï¼Œæ¨¡æ‹Ÿå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»ä¸€ä¸ªæ–‡æ¡£çš„æ“ä½œã€‚&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;åœ¨æœ‰çº¿ç¨‹è¯»æ–‡æ¡£ï¼Œè¿˜æœªé‡Šæ”¾çš„æƒ…å†µä¸‹ï¼Œå°è¯•å¯¹è¯¥æ–‡æ¡£åŠ ä¸€ä¸ªæ’ä»–é”&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;PUT /files-lock/lock/1/_create
{ &quot;lock_type&quot;: &quot;exclusive&quot; }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç»“æœè‚¯å®šä¼šæŠ¥é”™ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;error&quot;: {
    &quot;root_cause&quot;: [
      {
        &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,
        &quot;reason&quot;: &quot;[lock][1]: version conflict, document already exists (current version [8])&quot;,
        &quot;index_uuid&quot;: &quot;XD7LFToWSKe_6f1EvLNoFw&quot;,
        &quot;shard&quot;: &quot;3&quot;,
        &quot;index&quot;: &quot;files-lock&quot;
      }
    ],
    &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,
    &quot;reason&quot;: &quot;[lock][1]: version conflict, document already exists (current version [8])&quot;,
    &quot;index_uuid&quot;: &quot;XD7LFToWSKe_6f1EvLNoFw&quot;,
    &quot;shard&quot;: &quot;3&quot;,
    &quot;index&quot;: &quot;files-lock&quot;
  },
  &quot;status&quot;: 409
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;çº¿ç¨‹è¯»æ•°æ®å®Œæˆåï¼Œå¯¹å…±äº«é”è¿›è¡Œé‡Šæ”¾ï¼Œæ‰§è¡Œé‡Šæ”¾é”çš„è„šæœ¬&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;POST /files-lock/lock/1/_update
{
  &quot;script&quot;: {
    &quot;id&quot;: &quot;rw-unlock&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‡Šæ”¾1æ¬¡lock_countå‡1ï¼Œå‡åˆ°0æ—¶ï¼Œè¯´æ˜æ‰€æœ‰çš„å…±äº«é”å·²ç»é‡Šæ”¾å®Œæ¯•ï¼Œå°±æŠŠè¿™ä¸ªdocåˆ é™¤æ‰&lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;æ‰€æœ‰å…±äº«é”é‡Šæ”¾å®Œæ¯•ï¼Œå°è¯•åŠ æ’ä»–é”&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;PUT /files-lock/lock/1/_create
{ &quot;lock_type&quot;: &quot;exclusive&quot; }
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶èƒ½å¤ŸåŠ é”æˆåŠŸï¼Œå“åº”æŠ¥æ–‡ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;_index&quot;: &quot;files-lock&quot;,
  &quot;_type&quot;: &quot;lock&quot;,
  &quot;_id&quot;: &quot;1&quot;,
  &quot;_version&quot;: 1,
  &quot;found&quot;: true,
  &quot;_source&quot;: {
    &quot;lock_type&quot;: &quot;exclusive&quot;
  }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;5&quot;&gt;&lt;li&gt;æœ‰æ’ä»–é”çš„æƒ…å†µï¼Œå°è¯•åŠ ä¸€ä¸ªå…±äº«é”ï¼Œå¤±è´¥ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;{
  &quot;error&quot;: {
    &quot;root_cause&quot;: [
      {
        &quot;type&quot;: &quot;remote_transport_exception&quot;,
        &quot;reason&quot;: &quot;[node-1][192.168.17.137:9300][indices:data/write/update[s]]&quot;
      }
    ],
    &quot;type&quot;: &quot;illegal_argument_exception&quot;,
    &quot;reason&quot;: &quot;failed to execute script&quot;,
    &quot;caused_by&quot;: {
      &quot;type&quot;: &quot;script_exception&quot;,
      &quot;reason&quot;: &quot;runtime error&quot;,
      &quot;painless_class&quot;: &quot;java.lang.String&quot;,
      &quot;to_string&quot;: &quot;one thread is writing data, the lock is exclusive now&quot;,
      &quot;java_class&quot;: &quot;java.lang.String&quot;,
      &quot;script_stack&quot;: [
        &quot;Debug.explain('one thread is writing data, the lock is exclusive now'); } &quot;,
        &quot;              ^---- HERE&quot;
      ],
      &quot;script&quot;: &quot;rw-lock&quot;,
      &quot;lang&quot;: &quot;painless&quot;,
      &quot;caused_by&quot;: {
        &quot;type&quot;: &quot;painless_explain_error&quot;,
        &quot;reason&quot;: null
      }
    }
  },
  &quot;status&quot;: 400
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;6&quot;&gt;&lt;li&gt;æ’ä»–é”äº‹åŠ¡æ‰§è¡Œå®Œæˆæ—¶ï¼Œåˆ é™¤æ–‡æ¡£å³å¯å¯¹é”è¿›è¡Œé‡Šæ”¾&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;code&gt;DELETE /files-lock/lock/1&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;è„šæœ¬è§£é‡Š-2&quot;&gt;è„šæœ¬è§£é‡Š&lt;/h4&gt;
&lt;p&gt;è¯»é”çš„åŠ é”è„šæœ¬å’Œé‡Šæ”¾é”è„šæœ¬ï¼Œæˆå¯¹å‡ºç°ï¼Œç”¨æ¥ç»Ÿè®¡çº¿ç¨‹çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;å†™é”åˆ©ç”¨&lt;code&gt;_create&lt;/code&gt;è¯­æ³•æ¥å®ç°ï¼Œå¦‚æœæœ‰çº¿ç¨‹å¯¹æŸä¸€æ–‡æ¡£æœ‰è¯»å–æ“ä½œï¼Œé‚£ä¹ˆå¯¹è¿™ä¸ªæ–‡æ¡£æ‰§è¡Œ_createæ“ä½œè‚¯å®šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨Elasticsearchä¸€äº›è¯­æ³•çš„ç‰¹æ€§ï¼ŒåŠ ä¸Špainlessè„šæœ¬çš„é…åˆï¼Œä¹Ÿèƒ½å®Œæ•´çš„å¤ç°å…¨å±€é”ã€è¡Œé”ã€è¯»å†™é”çš„ç‰¹æ€§ï¼Œå®ç°çš„æ€è·¯è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œè·Ÿä½¿ç”¨redisã€zookeeperå®ç°åˆ†å¸ƒå¼é”æœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ï¼Œåªæ˜¯ç”Ÿäº§æ¡ˆä¾‹ä¸Šç”¨rediså®ç°åˆ†å¸ƒå¼é”æ˜¯æ¯”è¾ƒæˆåŠŸçš„å®è·µï¼ŒElasticsearchçš„å¯¹è¿™ç§åˆ†å¸ƒå¼é”çš„å®ç°æ–¹å¼å¯èƒ½ä¸æ˜¯æœ€ä½³å®è·µï¼Œä½†ä¹Ÿå¯ä»¥äº†è§£ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸“æ³¨Javaé«˜å¹¶å‘ã€åˆ†å¸ƒå¼æ¶æ„ï¼Œæ›´å¤šæŠ€æœ¯å¹²è´§åˆ†äº«ä¸å¿ƒå¾—ï¼Œè¯·å…³æ³¨å…¬ä¼—å·ï¼šJavaæ¶æ„ç¤¾åŒº&lt;br/&gt;å¯ä»¥æ‰«å·¦è¾¹äºŒç»´ç æ·»åŠ å¥½å‹ï¼Œé‚€è¯·ä½ åŠ å…¥Javaæ¶æ„ç¤¾åŒºå¾®ä¿¡ç¾¤å…±åŒæ¢è®¨æŠ€æœ¯&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1834889/202003/1834889-20200303074927076-1724862603.jpg&quot; alt=&quot;Javaæ¶æ„ç¤¾åŒº&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 29 Apr 2020 23:01:00 +0000</pubDate>
<dc:creator>æ¸…èŒ¶è±†å¥¶</dc:creator>
<og:description>æ¦‚è¦ Elasticsearchåœ¨æ–‡æ¡£æ›´æ–°æ—¶é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¹è§‚é”æ–¹æ¡ˆï¼Œè€ŒElasticsearchåˆ©ç”¨æ–‡æ¡£çš„ä¸€äº›createé™åˆ¶æ¡ä»¶ï¼Œä¹Ÿèƒ½è¾¾åˆ°æ‚²è§‚é”çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€çœ‹ã€‚ ä¹è§‚é”ä¸æ‚²è§‚é” ä¹è§‚é” E</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/huangying2124/p/12806508.html</dc:identifier>
</item>
<item>
<title>C++ç»Ÿä¸€åˆå§‹åŒ–è¯­æ³•ï¼ˆåˆ—è¡¨åˆå§‹åŒ–ï¼‰ - jerry_fuyi</title>
<link>http://www.cnblogs.com/jerry-fuyi/p/12806284.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jerry-fuyi/p/12806284.html</guid>
<description>&lt;h3 id=&quot;å¼•è¨€&quot;&gt;å¼•è¨€&lt;/h3&gt;
&lt;p&gt;è¦æ˜¯ä¸–ä¸Šä¸æ›¾å­˜åœ¨C++14å’ŒC++17è¯¥æœ‰å¤šå¥½ï¼&lt;code&gt;constexpr&lt;/code&gt;æ˜¯å¥½ä¸œè¥¿ï¼Œä½†æ˜¯è®©ç¼–è¯‘å™¨å¼€å‘è€…ç—›ä¸æ¬²ç”Ÿï¼›æ–°æ ‡å‡†åº“çš„ç¡®å¥½ç”¨ï¼Œä½†æ”¹è¯­æ³•ç»†èŠ‚æœªå¿…æ˜¯æ˜æ™ºä¹‹ä¸¾ï¼Œå°¤å…¶æ˜¯3å¹´ä¸€æ¬¡çš„é¢‘ç¹æ”¹åŠ¨ã€‚C++å¸¦äº†å¤ªå¤šå†å²åŒ…è¢±ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¸ºä¹‹ä¹°è´¦çš„ä¸€å‘˜ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ²¡é‚£ä¹ˆå¤šç²¾åŠ›è€ƒè™‘C++14/17çš„é—®é¢˜ï¼Œæ‰€ä»¥æœ¬æ–‡åŸºäºC++11æ ‡å‡†ã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œæ˜¯å­¦ä¹ C++è¶Šå‘å¤æ‚çš„è¯­æ³•çš„æœ€ä½³æ–¹å¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä»åˆ—è¡¨åˆå§‹åŒ–çš„åŠ¨æœºè®²èµ·ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åŠ¨æœº&quot;&gt;åŠ¨æœº&lt;/h3&gt;
&lt;p&gt;æ—©åœ¨2005å¹´ï¼ŒBjarne Stroustrupå°±æå‡ºè¦ç»Ÿä¸€C++ä¸­çš„åˆå§‹åŒ–è¯­æ³•ã€‚è¿™æ˜¯å› ä¸ºåœ¨C++11ä»¥å‰ï¼Œåˆå§‹åŒ–å­˜åœ¨ä¸€ç³»åˆ—é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ¯ä¸€ä¸ªéƒ½æœ‰åŠæ³•è§£å†³ï¼Œä½†åŠ åœ¨ä¸€èµ·å°†ä¼šå˜å¾—éå¸¸å¤æ‚ï¼Œå¯¹ç¼–è¯‘å™¨å’Œå¼€å‘è€…éƒ½æ˜¯è´Ÿæ‹…ã€‚æ¢å¥è¯è¯´ï¼Œå”¯ä¸€çš„éœ€æ±‚å°±æ˜¯ä¸€ç§&lt;strong&gt;ç»Ÿä¸€çš„åˆå§‹åŒ–è¯­æ³•&lt;/strong&gt;ï¼Œå…¶é€‚ç”¨èŒƒå›´èƒ½æ¶µç›–å…ˆå‰çš„å„ç§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ï¼Œ&lt;strong&gt;åˆ—è¡¨åˆå§‹åŒ–&lt;/strong&gt;è¯ç”Ÿäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è¯­æ³•&quot;&gt;è¯­æ³•&lt;/h3&gt;
&lt;p&gt;æ­£å› ä¸ºåˆ—è¡¨åˆå§‹åŒ–æ˜¯ä¸ºè§£å†³åˆå§‹åŒ–é—®é¢˜è€Œç”Ÿï¼Œåˆ—è¡¨åˆå§‹åŒ–çš„é€‚ç”¨èŒƒå›´æ˜¯&lt;strong&gt;ä»»ä½•åˆå§‹åŒ–&lt;/strong&gt;ã€‚ä½ èƒ½æƒ³åˆ°çš„éƒ½å†™å†™çœ‹ï¼Œå†™å¯¹å°±æ˜¯èµšåˆ°ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå…¨å‡­æ„Ÿè§‰æ˜¯è¡Œä¸é€šçš„ï¼Œè¿˜æ˜¯å¾—è®²ç‚¹é“ç†ã€‚åˆ—è¡¨åˆå§‹åŒ–åˆ†ä¸ºä¸¤ç±»ï¼šç›´æ¥åˆå§‹åŒ–ä¸æ‹·è´åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç›´æ¥åˆå§‹åŒ–ä¸­ï¼Œæ— è®ºæ„é€ å‡½æ•°æ˜¯å¦&lt;code&gt;explicit&lt;/code&gt;ï¼Œéƒ½æœ‰å¯èƒ½è¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;ol readability=&quot;9.5&quot;&gt;&lt;li readability=&quot;4&quot;&gt;
&lt;p&gt;&lt;code&gt;T object { arg1, arg2, ... };&lt;/code&gt;ï¼Œç”¨&lt;code&gt;arg1, arg2, ...&lt;/code&gt;æ„é€ &lt;code&gt;T&lt;/code&gt;ç±»å‹çš„å¯¹è±¡&lt;code&gt;object&lt;/code&gt;â€”â€”å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆå§‹åŒ–åˆ—è¡¨ï¼Œä¸‹åŒï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;code&gt;Class { T member { arg1, arg2, ... }; };&lt;/code&gt;ï¼Œæ„é€ &lt;code&gt;member&lt;/code&gt;æˆå‘˜å¯¹è±¡â€”â€”èŠ±æ‹¬å·çš„ä¼˜åŠ¿åœ¨è¿™é‡Œä½“ç°å‡ºæ¥ï¼Œå› ä¸ºå¦‚æœæ˜¯åœ†æ‹¬å·çš„è¯&lt;code&gt;member&lt;/code&gt;ä¼šè¢«çœ‹ä½œä¸€ä¸ªå‡½æ•°ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;T { arg1, arg2, ... }&lt;/code&gt;ï¼Œæ„é€ ä¸´æ—¶å¯¹è±¡ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;new T { arg1, arg2, ... }&lt;/code&gt;ï¼Œæ„é€ heapä¸Šçš„å¯¹è±¡ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;code&gt;Class::Class() : member{arg1, arg2, ...} {...&lt;/code&gt;ï¼Œæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨â€”â€”é™¤äº†2ä»¥å¤–ï¼Œå…¶ä½™éƒ½ä¸ç”¨&lt;code&gt;()&lt;/code&gt;åˆå§‹åŒ–æ²¡æœ‰åŒºåˆ«ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;åœ¨æ‹·è´åˆå§‹åŒ–ä¸­ï¼Œæ— è®ºæ„é€ å‡½æ•°æ˜¯å¦&lt;code&gt;explicit&lt;/code&gt;éƒ½ä¼šè¢«è€ƒè™‘ï¼Œä½†æ˜¯å¦‚æœé‡è½½å†³è®®ä¸ºä¸€ä¸ª&lt;strong&gt;&lt;code&gt;explicit&lt;/code&gt;å‡½æ•°&lt;/strong&gt;ï¼Œåˆ™æ­¤è°ƒç”¨é”™è¯¯ï¼š&lt;/p&gt;
&lt;ol readability=&quot;11.5&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;code&gt;T object = {arg1, arg2, ...};&lt;/code&gt;ï¼Œä¸ç›´æ¥åˆå§‹åŒ–ä¸­çš„&lt;code&gt;1&lt;/code&gt;ç±»ä¼¼ï¼Œé™¤äº†&lt;code&gt;explicit&lt;/code&gt;ä»¥å¤–éƒ½ç›¸åŒï¼Œ&lt;code&gt;operator=&lt;/code&gt;ä¸ä¼šè¢«è°ƒç”¨ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;object = { arg1, arg2, ... }&lt;/code&gt;ï¼Œèµ‹å€¼è¯­å¥ï¼Œè°ƒç”¨&lt;code&gt;operator=&lt;/code&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;Class { T member = { arg1, arg2, ... }; };&lt;/code&gt;ï¼Œä¸ç›´æ¥åˆå§‹åŒ–ä¸­çš„&lt;code&gt;2&lt;/code&gt;ç±»ä¼¼ï¼Œ&lt;code&gt;explicit&lt;/code&gt;åŒç†ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;function( { arg1, arg2, ... } )&lt;/code&gt;ï¼Œæ„é€ å‡½æ•°å‚æ•°ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;return { arg1, arg2, ... } ;&lt;/code&gt;ï¼Œæ„é€ è¿”å›å€¼ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;object[ { arg1, arg2, ... } ]&lt;/code&gt;ï¼Œæ„é€ &lt;code&gt;operator[]&lt;/code&gt;çš„å‚æ•°ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;U( { arg1, arg2, ... } )&lt;/code&gt;ï¼Œæ„é€ &lt;code&gt;U&lt;/code&gt;æ„é€ å‡½æ•°çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;4~7å¯ä»¥æ¦‚æ‹¬ä¸ºï¼Œåœ¨è¯¥æœ‰ä¸€ä¸ªå¯¹è±¡çš„åœ°æ–¹ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªåˆ—è¡¨æ¥æ„é€ å®ƒã€‚è¿™å¥è¯ä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œå› ä¸ºé™¤äº†&lt;code&gt;operator()&lt;/code&gt;å’Œ&lt;code&gt;operator[]&lt;/code&gt;ä»¥å¤–ï¼Œå…¶ä»–è¿ç®—ç¬¦çš„å‚æ•°éƒ½ä¸èƒ½ç”¨åˆ—è¡¨åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„åœ°æ–¹ï¼Œæ˜¯åˆ—è¡¨åˆå§‹åŒ–&lt;strong&gt;ä¸å…è®¸çª„åŒ–è½¬æ¢&lt;/strong&gt;ï¼ˆnarrowing conversionï¼‰ï¼Œå³å¯èƒ½ä¸¢å¤±ä¿¡æ¯çš„è½¬æ¢ï¼Œå¦‚&lt;code&gt;float&lt;/code&gt;è½¬æ¢ä¸º&lt;code&gt;int&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;utility&amp;gt;

struct Test
{
    Test(int, int)
    {
        std::cout &amp;lt;&amp;lt; &quot;Test(int, int)&quot; &amp;lt;&amp;lt; std::endl;
    }
    explicit Test(int, int, int)
    {
        std::cout &amp;lt;&amp;lt; &quot;explicit Test(int, int, int)&quot; &amp;lt;&amp;lt; std::endl;
    }
    void operator[](std::pair&amp;lt;int, int&amp;gt;)
    {
        std::cout &amp;lt;&amp;lt; &quot;void operator[](std::pair&amp;lt;int, int&amp;gt;)&quot; &amp;lt;&amp;lt; std::endl;
    }
    void operator()(std::pair&amp;lt;int, int&amp;gt;)
    {
        std::cout &amp;lt;&amp;lt; &quot;void operator()(std::pair&amp;lt;int, int&amp;gt;)&quot; &amp;lt;&amp;lt; std::endl;
    }
};

Test test()
{
    return { 1, 2 };
}

int main()
{
    Test t{ 1, 2 };
    Test t1 = { 1, 2 };
    Test t2 = { 1, 2, 3 }; // error
    t[{ 1, 2 }];
    t({ 1, 2 });
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;h3 id=&quot;initializer_list&quot;&gt;initializer_list&lt;/h3&gt;
&lt;p&gt;åˆ—è¡¨ä¸æ˜¯è¡¨è¾¾å¼ï¼Œæ›´&lt;strong&gt;ä¸å±äºä»»ä½•ç±»å‹&lt;/strong&gt;ï¼Œæ‰€ä»¥&lt;code&gt;decltype({1, 2})&lt;/code&gt;æ˜¯éæ³•çš„ï¼Œè¿™è¿˜é€‚ç”¨äºæ¨¡æ¿å‚æ•°æ¨å¯¼ã€‚ä½†æ˜¯åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸­ï¼Œåˆ—è¡¨å¯ä»¥è½¬æ¢æˆ&lt;code&gt;std::initializer_list&amp;lt;T&amp;gt;&lt;/code&gt;å®ä¾‹ï¼š&lt;/p&gt;
&lt;ol readability=&quot;0.96657381615599&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ç›´æ¥åˆå§‹åŒ–ä¸­ï¼Œå¯¹åº”æ„é€ å‡½æ•°å‚æ•°ç±»å‹ä¸º&lt;code&gt;std::initializer_list&amp;lt;T&amp;gt;&lt;/code&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;æ‹·è´åˆå§‹åŒ–ä¸­ï¼Œå¯¹åº”å‚æ•°ç±»å‹ä¸º&lt;code&gt;std::initializer_list&amp;lt;T&amp;gt;&lt;/code&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0.94202898550725&quot;&gt;
&lt;p&gt;ç»‘å®šåˆ°&lt;code&gt;auto&lt;/code&gt;ä¸Šï¼ˆåˆ—è¡¨å…ƒç´ ç±»å‹å¿…é¡»ä¸¥æ ¼ä¸€è‡´ï¼‰ï¼ŒåŒ…æ‹¬èŒƒå›´&lt;code&gt;for&lt;/code&gt;ï¼ˆrange forï¼‰å¾ªç¯â€”â€”å½“ç»‘å®š&lt;code&gt;auto&amp;amp;&amp;amp;&lt;/code&gt;æ—¶ï¼Œå˜é‡çš„å®é™…ç±»å‹ä¸º&lt;code&gt;std::initializer_list&amp;lt;T&amp;gt;&amp;amp;&amp;amp;&lt;/code&gt;ï¼Œè¿™æ˜¯&lt;a href=&quot;https://www.cnblogs.com/jerry-fuyi/p/12733924.html&quot; target=&quot;_blank&quot;&gt;è½¬å‘å¼•ç”¨&lt;/a&gt;çš„ç‰¹ä¾‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;code&gt;std::initializer_list&lt;/code&gt;æ˜¯ä¸ºåˆ—è¡¨åˆå§‹åŒ–æä¾›çš„ç‰¹æ®Šçš„å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ•°ç»„ä»£ç†ï¼ˆproxyï¼‰ï¼Œå…¶å…ƒç´ ç±»å‹ä¸º&lt;code&gt;const T&lt;/code&gt;ã€‚è™½ç„¶ä½ èƒ½åœ¨&lt;code&gt;&amp;lt;initializer_list&amp;gt;&lt;/code&gt;ä¸­çœ‹åˆ°&lt;code&gt;std::initializer_list&lt;/code&gt;ç±»æ¨¡æ¿çš„å®ç°ï¼Œä½†å®ƒå®é™…ä¸Šæ˜¯ä¸ç¼–è¯‘å™¨å†…éƒ¨ç»‘å®šçš„ï¼Œä½ æ— æ³•ç”¨ä¸€ä¸ªè‡ªå·±å†™çš„ç›¸ä¼¼çš„ç±»æ›¿æ¢å®ƒï¼ˆé™¤éæ”¹ç¼–è¯‘å™¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::initializer_list&lt;/code&gt;æœ‰æ„é€ å‡½æ•°ã€&lt;code&gt;size&lt;/code&gt;ã€&lt;code&gt;begin&lt;/code&gt;å’Œ&lt;code&gt;end&lt;/code&gt;å‡½æ•°ï¼Œç”¨æ³•ä¸å…¶ä»–STLé¡ºåºå®¹å™¨ç±»ä¼¼ã€‚è¿­ä»£å™¨è§£å¼•ç”¨å¾—åˆ°&lt;code&gt;const T&amp;amp;&lt;/code&gt;ç±»å‹ï¼Œå…ƒç´ æ˜¯ä¸èƒ½ä¿®æ”¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::initializer_list&lt;/code&gt;å¸¦æ¥çš„æœ€æ˜æ˜¾çš„è¿›æ­¥å°±æ˜¯STLå®¹å™¨å¯ä»¥ç”¨åˆ—è¡¨æ¥åˆå§‹åŒ–ï¼Œæ— éœ€å†å†™é‚£ä¹ˆå¤š&lt;code&gt;push_back&lt;/code&gt;äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é‡è½½å†³è®®&quot;&gt;é‡è½½å†³è®®&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;struct Test
{
    Test(int, int)
    {
        std::cout &amp;lt;&amp;lt; &quot;Test(int, int)&quot; &amp;lt;&amp;lt; std::endl;
    }
    Test(std::initializer_list&amp;lt;int&amp;gt;)
    {
        std::cout &amp;lt;&amp;lt; &quot;Test(std::initializer_list&amp;lt;int&amp;gt;)&quot; &amp;lt;&amp;lt; std::endl;
    }
};
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å¦‚æœæˆ‘å†™&lt;code&gt;Test{1, 2}&lt;/code&gt;ï¼Œå“ªä¸ªæ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨å‘¢ï¼Ÿå›ç­”è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å¯¹ä¸åˆ—è¡¨ç›¸å…³çš„é‡è½½å†³è®®æœ‰æ‰€äº†è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¶‰åŠåˆ°æ„é€ å‡½æ•°çš„åˆ—è¡¨åˆå§‹åŒ–ï¼ˆä¸æ¶‰åŠåˆ°çš„åŒ…æ‹¬èšåˆåˆå§‹åŒ–ç­‰ï¼‰ï¼Œå„æ„é€ å‡½æ•°åˆ†ä¸¤ä¸ªé˜¶æ®µè€ƒè™‘ï¼š&lt;/p&gt;
&lt;ol readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;å¦‚æœæœ‰æ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸º&lt;code&gt;std::initializer_list&lt;/code&gt;ï¼Œæ²¡æœ‰å…¶ä»–å‚æ•°æˆ–å…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œåˆ™åŒ¹é…è¯¥æ„é€ å‡½æ•°ï¼ˆè¿™é‡Œä¼¼ä¹å…è®¸çª„åŒ–è½¬æ¢ï¼Œæˆ‘æµ‹è¯•èµ·æ¥ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰â€”â€”&lt;strong&gt;&lt;code&gt;std::initializer_list&lt;/code&gt;ä¼˜å…ˆçº§é«˜&lt;/strong&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;å¦åˆ™ï¼Œæ‰€æœ‰æ„é€ å‡½æ•°å‚ä¸é‡è½½å†³è®®ï¼Œé™¤äº†çª„åŒ–è½¬æ¢ä¸å…è®¸ï¼Œä»¥åŠæ‹·è´åˆå§‹åŒ–ä¸&lt;code&gt;explicit&lt;/code&gt;çš„å†²çªä¾ç„¶æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;æ‰€ä»¥ä¸Šé¢é‚£æ®µç¨‹åºä¸­&lt;code&gt;Test{1, 2}&lt;/code&gt;ä¼šåŒ¹é…ç¬¬äºŒä¸ªæ„é€ å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰å¤šä¸ª&lt;code&gt;std::initializer_list&lt;/code&gt;é‡è½½å‘¢ï¼Ÿä¼—æ‰€å‘¨çŸ¥ï¼Œé‡è½½å†³è®®ä¸­å‚æ•°è½¬æ¢æœ‰å®Œç¾ã€æå‡ã€è½¬æ¢ä¸‰ä¸ªç­‰çº§ï¼Œ&lt;code&gt;std::initializer_list&lt;/code&gt;å‚æ•°çš„è½¬æ¢ç­‰çº§å®šä¹‰ä¸ºæ‰€æœ‰å…ƒç´ ä¸­æœ€å·®çš„ï¼ˆä¸å…è®¸çª„åŒ–è½¬æ¢ï¼‰ï¼Œç„¶åæ‰¾å‡ºç­‰çº§æœ€é«˜çš„è°ƒç”¨ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ™ä¸ºäºŒä¹‰è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰&lt;code&gt;std::initializer_list&lt;/code&gt;é‡è½½å‘¢ï¼Ÿç”±äºä»åˆ—è¡¨åˆ°å‚æ•°æœ¬èº«å°±æ˜¯è½¬æ¢ï¼Œå±äºæœ€å·®çš„ç­‰çº§ï¼Œå¦‚æœæœ‰å¤šä¸ªå‡½æ•°å¯ä»¥é€šè¿‡å‚æ•°è½¬æ¢ååŒ¹é…ï¼Œåˆ™è¯¥è°ƒç”¨å°±æ˜¯äºŒä¹‰è°ƒç”¨ï¼›åªæœ‰å½“åªæœ‰ä¸€ä¸ªå‡½æ•°å¯è¡Œæ—¶æ‰åˆæ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;åˆ—è¡¨åˆå§‹åŒ–æ˜¯ä¸€ç§ä¸‡èƒ½çš„åˆå§‹åŒ–è¯­æ³•ï¼Œé€‚ç”¨èŒƒå›´å¹¿å¯¼è‡´å…¶è§„åˆ™æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬åº”å½“ç»“åˆå…¶åŠ¨æœºæ¥ç†è§£æ ‡å‡†è§„å®šçš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;åˆ—è¡¨åˆå§‹åŒ–åŒ…æ‹¬ç›´æ¥åˆå§‹åŒ–ä¸æ‹·è´åˆå§‹åŒ–ï¼Œåè€…æ¶µç›–äº†å‚æ•°ä¸è¿”å›å€¼ç­‰æƒ…å½¢ã€‚å½“æˆ‘ä»¬ä¸æƒ³è¦éšå¼æ‹·è´åˆå§‹åŒ–æ—¶ï¼Œè¦ç”¨&lt;code&gt;explicit&lt;/code&gt;å…³é”®å­—æ¥æ‹’ç»ã€‚&lt;/p&gt;
&lt;p&gt;åˆ—è¡¨ä¸å±äºä»»ä½•ç±»å‹ï¼Œä½†ä¸€äº›æƒ…å†µä¸‹å¯ä»¥è½¬æ¢æˆ&lt;code&gt;std::initializer_list&lt;/code&gt;ã€‚åœ¨é‡è½½å†³è®®ä¸­ï¼Œ&lt;code&gt;std::initializer_list&lt;/code&gt;æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚&lt;/p&gt;
</description>
<pubDate>Wed, 29 Apr 2020 17:43:00 +0000</pubDate>
<dc:creator>jerry_fuyi</dc:creator>
<og:description>å¼•è¨€ è¦æ˜¯ä¸–ä¸Šä¸æ›¾å­˜åœ¨C++14å’ŒC++17è¯¥æœ‰å¤šå¥½ï¼ æ˜¯å¥½ä¸œè¥¿ï¼Œä½†æ˜¯è®©ç¼–è¯‘å™¨å¼€å‘è€…ç—›ä¸æ¬²ç”Ÿï¼›æ–°æ ‡å‡†åº“çš„ç¡®å¥½ç”¨ï¼Œä½†æ”¹è¯­æ³•ç»†èŠ‚æœªå¿…æ˜¯æ˜æ™ºä¹‹ä¸¾ï¼Œå°¤å…¶æ˜¯3å¹´ä¸€æ¬¡çš„é¢‘ç¹æ”¹åŠ¨ã€‚C++å¸¦äº†å¤ªå¤šå†å²åŒ…è¢±ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¸º</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/jerry-fuyi/p/12806284.html</dc:identifier>
</item>
</channel>
</rss>