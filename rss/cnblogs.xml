<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>åšå®¢å›­_é¦–é¡µ</title>
<link></link>
<description>ä»£ç æ”¹å˜ä¸–ç•Œ</description>
<item>
<title>å…è´¹ç¨³å®šå›¾åºŠæœ€ä½³å®è·µï¼šPicGo+GitHub+jsDeliver æç®€æ•™ç¨‹ - èœ—ç‰›äº’è”ç½‘</title>
<link>http://www.cnblogs.com/huayonglun/p/14333211.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/huayonglun/p/14333211.html</guid>
<description>&lt;h2 id=&quot;ä¸€ã€ä¸‹è½½-picgo&quot;&gt;ä¸€ã€ä¸‹è½½ PicGo&lt;/h2&gt;
&lt;p&gt;PicGo æ˜¯å•¥ï¼Ÿé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¿«é€Ÿä¸Šä¼ å›¾ç‰‡å¹¶è·å– å›¾ç‰‡ URL é“¾æ¥çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰æ”¯æŒä¸ƒç‰›ã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å’Œ GitHub ç­‰å›¾åºŠã€‚è¯¥å·¥å…·ä»£ç å·²åœ¨ GitHub å¼€æºï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå»ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åˆ°ç½‘ç»œé—®é¢˜ï¼Œmac ç”¨æˆ·åå°å›å¤ picgo_dmg è·å–é«˜é€Ÿä¸‹è½½é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.yuque.com/attachments/yuque/0/2021/dmg/292263/1610785259608-1aebc9d6-bf82-468e-ad31-064d165d3ade.dmg&quot; target=&quot;_blank&quot;&gt;ğŸ“PicGo-2.2.2.dmg&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½å®Œæˆåï¼Œåº”ç”¨åˆ—è¡¨ä¼šæœ‰è¿™ä¹ˆä¸€ä¸ªå›¾æ ‡ï¼Œç‚¹å‡»å°±å¯åŠ¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610785381453-176f47e3-f259-4e30-ae59-d98072baaaef-20210116211040479.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;PicGo é»˜è®¤åªå‡ºç°åœ¨é¡¶éƒ¨èœå•æ ï¼Œç‚¹å‡»è½¯ä»¶å›¾æ ‡ä¼šæ˜¾ç¤ºå·²ä¸Šä¼ çš„å›¾ç‰‡åˆ—è¡¨ï¼Œç‚¹å‡»å›¾ç‰‡ä¼šå¤åˆ¶é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610785560440-bee9dd34-45d0-4081-83ce-7150f0b2d2be-20210116211111752.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å³å‡»å›¾æ ‡ï¼Œæ‰“å¼€è¯¦ç»†çª—å£ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å›¾åºŠåšä¸‹é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610786569046-1e987e9a-98f2-4d8f-b4e7-dd1b3bc6d85b-20210116211140992.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;äºŒã€å›¾åºŠé…ç½®&quot;&gt;äºŒã€å›¾åºŠé…ç½®&lt;/h2&gt;
&lt;p&gt;ç‚¹å‡»å›¾åºŠè®¾ç½®-GitHub å›¾åºŠï¼Œå¯ä»¥çœ‹åˆ°éœ€è¦é…ç½®ä»¥ä¸‹ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610786849004-9b255dad-7ad2-4535-bb7a-52a2106632a8-20210116211226093.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å¿…é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul readability=&quot;3.4423897581792&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;ä»“åº“åï¼šç”¨æˆ·å/å›¾åºŠä»“åº“å&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;åˆ†æ”¯åï¼šä¸»å¹²åˆ†æ”¯å³å¯ï¼Œ&lt;strong&gt;GitHub ä¸»å¹²åˆ†æ”¯è¿‘æœŸä» master æ”¹ä¸ºäº† main&lt;/strong&gt;ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ·» mainï¼Œå¦åˆ™ä¸Šä¼ å›¾ç‰‡æ—¶ä¼šå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;Tokenï¼šPicGo è®¿é—®ä½  GitHub ä»“åº“çš„ä»¤ç‰Œï¼Œéœ€è¦ä½ åœ¨ GitHub ä¸ªäººè®¾ç½®é‡Œç”Ÿæˆï¼Œä¸‹æ–‡ä¼šæåˆ°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;å­˜å‚¨è·¯å¾„ï¼šä»“åº“ä¸‹çš„å…·ä½“è·¯å¾„ã€‚å¦‚æœåç§°ä¸å­˜åœ¨ï¼ŒPicGo ä¼šåœ¨å›¾ç‰‡ä¸Šä¼ æ—¶è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;è‡ªå®šä¹‰åŸŸåï¼šé»˜è®¤è®¿é—® GItHub èµ„æºï¼Œä½†ç”±äº GitHub è®¿é—®ç‰¹åˆ«æ…¢ï¼Œå½±å“å›¾ç‰‡åŠ è½½é€Ÿåº¦ã€‚å› æ­¤æ¥å…¥å…è´¹å¼€æºçš„ CDN åŠ é€ŸæœåŠ¡ &lt;strong&gt;jsdelivrã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ä¸‰ã€github-æ¥å…¥&quot;&gt;ä¸‰ã€GitHub æ¥å…¥&lt;/h2&gt;
&lt;h3 id=&quot;31-åˆ›å»ºä»“åº“&quot;&gt;3.1 åˆ›å»ºä»“åº“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610797667093-64c89cf3-bbd1-411b-987d-e4ae6d13ffd6-20210116211308597.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;32-è·å–-token&quot;&gt;3.2 è·å– Token&lt;/h3&gt;
&lt;p&gt;è·å–è·¯å¾„ï¼šS&lt;strong&gt;ettings&lt;/strong&gt; --&amp;gt; &lt;strong&gt;Developer settings&lt;/strong&gt; --&amp;gt; &lt;strong&gt;Personal access tokens&lt;/strong&gt; --&amp;gt; &lt;strong&gt;New personal access token&lt;/strong&gt; --&amp;gt; &lt;strong&gt;copy token&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610797352744-d515fbd7-3a71-455d-ada3-91490fdf9555-20210116211341369.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610797621225-6e3202a3-1c0d-4ba6-b0c4-bf4026b95f98-20210116211421765.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å°†ç”Ÿæˆçš„ token å¡«å†™åˆ°ç¬¬äºŒèŠ‚é‡Œçš„é…ç½®é‡Œï¼Œå›¾åºŠå³å¯æŠ•å…¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å››ã€å›¾åºŠä½¿ç”¨&quot;&gt;å››ã€å›¾åºŠä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;å°†å›¾ç‰‡æ‹–å…¥è¯¦ç»†çª—å£æˆ–è€…é¡¶éƒ¨ç¼©ç•¥å›¾æ ‡é‡Œï¼Œå³å¯å®Œæˆå›¾ç‰‡ä¸Šä¼ ï¼Œé“¾æ¥ä¼šå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œä½¿ç”¨çš„æ—¶å€™ç›´æ¥ç²˜è´´å°±å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/huayonglun/cdn_image001/img/1610797896196-31cf65db-d4f1-447a-a5f6-9bd1fea19c5e-20210116211450510.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§ç»„è£…çš„å›¾åºŠå·¥å…·ç®€å•åˆå¥½ç”¨å§ï¼Œå¦‚æœå¯¹ä½ ä¹Ÿæœ‰ç”¨çš„è¯ï¼Œå¯ä»¥ç»™æˆ‘&lt;strong&gt;ç‚¹ä¸ªèµ&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç‚¹ä¸ªåœ¨çœ‹&lt;/strong&gt;ï¼Œä¹Ÿå¯ä»¥åˆ†äº«ç»™èº«è¾¹æœ‹å‹ï¼Œéå¸¸æ„Ÿè°¢è¯»è€…æœ‹å‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯èœ—ç‰›ï¼Œæ­£åœ¨äº’è”ç½‘ä¸Šç–¯ç‹‚çˆ¬è¡Œï¼Œä¸‹æœŸè§ã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;a href=&quot;https://www.yuque.com/woniu666/tech_doc/about_woniu&quot; target=&quot;_blank&quot;&gt;æˆ‘æ˜¯èœ—ç‰›ï¼ŒJava åç«¯å¼€å‘ï¼Œæ­£åœ¨äº’è”ç½‘ä¸Šç–¯ç‹‚çˆ¬è¡Œï¼Œæ¬¢è¿ä¸€èµ·æ¥çˆ¬ã€‚æˆ‘ä»¬ä¸‹æœŸå†è§ï¼å¾®ä¿¡æœâ€œèœ—ç‰›äº’è”ç½‘â€å›å¤â€œ1024â€é¢†å–æˆ‘æ•´ç†çš„ Java ç¨‹åºå‘˜å¿…å¤‡çš„å­¦ä¹ èµ„æ–™ã€‚&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 27 Jan 2021 00:16:00 +0000</pubDate>
<dc:creator>èœ—ç‰›äº’è”ç½‘</dc:creator>
<og:description>ä¸€ã€ä¸‹è½½ PicGo PicGo æ˜¯å•¥ï¼Ÿé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¿«é€Ÿä¸Šä¼ å›¾ç‰‡å¹¶è·å– å›¾ç‰‡ URL é“¾æ¥çš„å·¥å…·ã€‚ ç›®å‰æ”¯æŒä¸ƒç‰›ã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å’Œ GitHub ç­‰å›¾åºŠã€‚è¯¥å·¥å…·ä»£ç å·²åœ¨ GitHub å¼€æºï¼Œè¯»è€…</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/huayonglun/p/14333211.html</dc:identifier>
</item>
<item>
<title>jacksonå­¦ä¹ ä¹‹äºŒï¼šjackson-core - ç¨‹åºå‘˜æ¬£å®¸</title>
<link>http://www.cnblogs.com/bolingcavalry/p/14333204.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/bolingcavalry/p/14333204.html</guid>
<description>&lt;h3 id=&quot;æ¬¢è¿è®¿é—®æˆ‘çš„github&quot;&gt;æ¬¢è¿è®¿é—®æˆ‘çš„GitHub&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/zq2599/blog_demos&quot; target=&quot;_blank&quot;&gt;https://github.com/zq2599/blog_demos&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å†…å®¹ï¼šæ‰€æœ‰åŸåˆ›æ–‡ç« åˆ†ç±»æ±‡æ€»åŠé…å¥—æºç ï¼Œæ¶‰åŠJavaã€Dockerã€Kubernetesã€DevOPSç­‰ï¼›&lt;/p&gt;
&lt;h3 id=&quot;ç³»åˆ—æ–‡ç« æ±‡æ€»&quot;&gt;ç³»åˆ—æ–‡ç« æ±‡æ€»&lt;/h3&gt;
&lt;h3 id=&quot;å…³äºjackson-core&quot;&gt;å…³äºjackson-core&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;æœ¬æ–‡ä¸»è¦å†…å®¹æ˜¯&lt;span&gt;jackson-coreåº“&lt;/span&gt;ï¼Œè¿™æ˜¯ä¸ªä½é˜¶APIåº“ï¼Œæä¾›æµå¼è§£æå·¥å…·&lt;span&gt;JsonParser&lt;/span&gt;ï¼Œæµå¼ç”Ÿæˆå·¥å…·&lt;span&gt;JsonGenerator&lt;/span&gt;ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ—¥å¸¸çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¤„ç†ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯&lt;span&gt;jackson-annotations&lt;/span&gt;å’Œ&lt;span&gt;jackson-databind&lt;/span&gt;ï¼Œè€Œjackson-coreç”±äºå®ƒæä¾›çš„APIè¿‡äºåŸºç¡€ï¼Œæˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ç”¨ä¸ä¸Šçš„ï¼›&lt;/li&gt;
&lt;li&gt;å°½ç®¡jackson-databindè´Ÿè´£åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¤„ç†ï¼Œä½†å®ƒçš„åº•å±‚å®ç°æ˜¯è°ƒç”¨äº†jackson-coreçš„APIï¼›&lt;/li&gt;
&lt;li&gt;æœ¬ç€ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·çš„åŸåˆ™ï¼Œæœ¬æ–‡å’±ä»¬é€šè¿‡å®æˆ˜äº†è§£ç¥ç§˜çš„jackson-coreï¼Œäº†è§£æ•´ä¸ªjacksonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åŸºæœ¬åŸç†ï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;æºç ä¸‹è½½&quot;&gt;æºç ä¸‹è½½&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;å¦‚æœæ‚¨ä¸æƒ³ç¼–ç ï¼Œå¯ä»¥åœ¨GitHubä¸‹è½½æ‰€æœ‰æºç ï¼Œåœ°å€å’Œé“¾æ¥ä¿¡æ¯å¦‚ä¸‹è¡¨æ‰€ç¤º(&lt;a href=&quot;https://github.com/zq2599/blog_demos&quot; target=&quot;_blank&quot;&gt;https://github.com/zq2599/blog_demos&lt;/a&gt;)ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;è¿™ä¸ªgité¡¹ç›®ä¸­æœ‰å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œæœ¬ç« çš„åº”ç”¨åœ¨&lt;span&gt;jacksondemo&lt;/span&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/485422/202101/485422-20210127080923850-1727906878.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;åˆ›å»ºçˆ¶å­å·¥ç¨‹&quot;&gt;åˆ›å»ºçˆ¶å­å·¥ç¨‹&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºåä¸º&lt;span&gt;jacksondemo&lt;/span&gt;çš„mavenå·¥ç¨‹ï¼Œè¿™æ˜¯ä¸ªçˆ¶å­ç»“æ„çš„å·¥ç¨‹ï¼Œå…¶pom.xmlå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;java.version&amp;gt;1.8&amp;lt;/java.version&amp;gt;
    &amp;lt;/properties&amp;gt;
    &amp;lt;groupId&amp;gt;com.bolingcavalry&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jacksondemo&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt;
    &amp;lt;modules&amp;gt;
        &amp;lt;module&amp;gt;core&amp;lt;/module&amp;gt;
        &amp;lt;module&amp;gt;beans&amp;lt;/module&amp;gt;
        &amp;lt;module&amp;gt;databind&amp;lt;/module&amp;gt;
    &amp;lt;/modules&amp;gt;
    &amp;lt;dependencyManagement&amp;gt;
        &amp;lt;dependencies&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;com.fasterxml.jackson.core&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;jackson-databind&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;2.11.0&amp;lt;/version&amp;gt;
                &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.7.25&amp;lt;/version&amp;gt;
                &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;commons-io&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;commons-io&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;2.7&amp;lt;/version&amp;gt;
                &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;commons-lang3&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;3.10&amp;lt;/version&amp;gt;
                &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
            &amp;lt;/dependency&amp;gt;
        &amp;lt;/dependencies&amp;gt;
    &amp;lt;/dependencyManagement&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;æ–°å¢å­å·¥ç¨‹beans&quot;&gt;æ–°å¢å­å·¥ç¨‹beans&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;åœ¨çˆ¶å·¥ç¨‹jscksondemoä¸‹æ–°å¢åä¸º&lt;span&gt;beans&lt;/span&gt;çš„å­å·¥ç¨‹ï¼Œè¿™é‡Œé¢æ˜¯ä¸€äº›å¸¸é‡å’ŒPojoç±»ï¼›&lt;/li&gt;
&lt;li&gt;å¢åŠ å®šä¹‰å¸¸é‡çš„ç±»Constant.javaï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package com.bolingcavalry.jacksondemo.beans;

public class Constant {
    /**
     * è¯¥å­—ç¬¦ä¸²çš„å€¼æ˜¯ä¸ªç½‘ç»œåœ°å€ï¼Œè¯¥åœ°å€å¯¹åº”çš„å†…å®¹æ˜¯ä¸ªJSON
     */
    public final static String TEST_JSON_DATA_URL = &quot;https://raw.githubusercontent.com/zq2599/blog_demos/master/files/twitteer_message.json&quot;;
    /**
     * ç”¨æ¥éªŒè¯ååºåˆ—åŒ–çš„JSONå­—ç¬¦ä¸²
     */
    public final static String TEST_JSON_STR = &quot;{\n&quot; +
            &quot;  \&quot;id\&quot;:1125687077,\n&quot; +
            &quot;  \&quot;text\&quot;:\&quot;@stroughtonsmith You need to add a \\\&quot;Favourites\\\&quot; tab to TC/iPhone. Like what TwitterFon did. I can't WAIT for your Twitter App!! :) Any ETA?\&quot;,\n&quot; +
            &quot;  \&quot;fromUserId\&quot;:855523, \n&quot; +
            &quot;  \&quot;toUserId\&quot;:815309,\n&quot; +
            &quot;  \&quot;languageCode\&quot;:\&quot;en\&quot;\n&quot; +
            &quot;}&quot;;
    /**
     * ç”¨æ¥éªŒè¯åºåˆ—åŒ–çš„TwitterEntryå®ä¾‹
     */
    public final static TwitterEntry TEST_OBJECT = new TwitterEntry();
    /**
     * å‡†å¤‡å¥½TEST_OBJECTå¯¹è±¡çš„å„ä¸ªå‚æ•°
     */
    static {
        TEST_OBJECT.setId(123456L);
        TEST_OBJECT.setFromUserId(101);
        TEST_OBJECT.setToUserId(102);
        TEST_OBJECT.setText(&quot;this is a message for serializer test&quot;);
        TEST_OBJECT.setLanguageCode(&quot;zh&quot;);
    }}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;å¢åŠ ä¸€ä¸ªPojoï¼Œå¯¹åº”çš„æ˜¯ä¸€æ¡æ¨ç‰¹æ¶ˆæ¯ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package com.bolingcavalry.jacksondemo.beans;
/**
 * @Description: æ¨ç‰¹æ¶ˆæ¯bean
 * @author: willzhao E-mail: zq2599@gmail.com
 * @date: 2020/7/4 16:24
 */
public class TwitterEntry {
    /**
     * æ¨ç‰¹æ¶ˆæ¯id
     */
    long id;
    /**
     * æ¶ˆæ¯å†…å®¹
     */
    String text;    /**
     * æ¶ˆæ¯åˆ›å»ºè€…
     */
    int fromUserId;
    /**
     * æ¶ˆæ¯æ¥æ”¶è€…
     */
    int toUserId;
    /**
     * è¯­è¨€ç±»å‹
     */
    String languageCode;    public long getId() {
        return id;
    }    public void setId(long id) {
        this.id = id;
    }    public String getText() {
        return text;
    }    public void setText(String text) {
        this.text = text;
    }    public int getFromUserId() {
        return fromUserId;
    }    public void setFromUserId(int fromUserId) {
        this.fromUserId = fromUserId;
    }    public int getToUserId() {
        return toUserId;
    }    public void setToUserId(int toUserId) {
        this.toUserId = toUserId;
    }    public String getLanguageCode() {
        return languageCode;
    }    public void setLanguageCode(String languageCode) {
        this.languageCode = languageCode;
    }    public TwitterEntry() {
    }    public String toString() {
        return &quot;[Tweet, id: &quot;+id+&quot;, text='&quot;+text+&quot;', from: &quot;+fromUserId+&quot;, to: &quot;+toUserId+&quot;, lang: &quot;+languageCode+&quot;]&quot;;
    }}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;ä»¥ä¸Šå°±æ˜¯å‡†å¤‡å·¥ä½œäº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹å®æˆ˜jackson-coreï¼›&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;jsonfactoryçº¿ç¨‹å®‰å…¨å—&quot;&gt;JsonFactoryçº¿ç¨‹å®‰å…¨å—?&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;JsonFactoryæ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™æ˜¯ç¼–ç å‰è¦å¼„æ¸…æ¥šçš„é—®é¢˜ï¼Œå› ä¸º&lt;span&gt;JsonParser&lt;/span&gt;å’Œ&lt;span&gt;JsonGenerator&lt;/span&gt;çš„åˆ›å»ºéƒ½ç¦»ä¸å¼€JsonFactoryï¼›&lt;/li&gt;
&lt;li&gt;å¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼Œjacksonå®˜æ–¹æ–‡æ¡£ä¸­æ˜ç¡®æŒ‡å‡º&lt;span&gt;JsonFactoryæ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/span&gt;ï¼Œå¯ä»¥æ”¾å¿ƒçš„ä½œä¸ºå…¨å±€å˜é‡ç»™å¤šçº¿ç¨‹åŒæ—¶ä½¿ç”¨ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/485422/202101/485422-20210127080924250-2034290652.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;3. å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š&lt;a href=&quot;http://fasterxml.github.io/jackson-core/javadoc/2.11/&quot; target=&quot;_blank&quot;&gt;http://fasterxml.github.io/jackson-core/javadoc/2.11/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;jackson-coreå®æˆ˜&quot;&gt;jackson-coreå®æˆ˜&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;æ–°å»ºå­å·¥ç¨‹&lt;span&gt;core&lt;/span&gt;ï¼Œpom.xmlå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
    &amp;lt;parent&amp;gt;
        &amp;lt;artifactId&amp;gt;jacksondemo&amp;lt;/artifactId&amp;gt;
        &amp;lt;groupId&amp;gt;com.bolingcavalry&amp;lt;/groupId&amp;gt;
        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
        &amp;lt;relativePath&amp;gt;../pom.xml&amp;lt;/relativePath&amp;gt;
    &amp;lt;/parent&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
    &amp;lt;groupId&amp;gt;com.bolingcavalry&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;core&amp;lt;/artifactId&amp;gt;
    &amp;lt;name&amp;gt;core&amp;lt;/name&amp;gt;
    &amp;lt;description&amp;gt;Demo project for jackson core use&amp;lt;/description&amp;gt;
    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;8&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;8&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.fasterxml.jackson.core&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jackson-databind&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;commons-io&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;commons-io&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;commons-lang3&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.bolingcavalry&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;beans&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;æ–°å»ºStreamingDemoç±»ï¼Œè¿™é‡Œé¢æ˜¯è°ƒç”¨jackson-coreçš„APIè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ‰€æœ‰demoï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-java&quot;&gt;package com.bolingcavalry.jacksondemo.core;

import com.bolingcavalry.jacksondemo.beans.TwitterEntry;
import com.fasterxml.jackson.core.*;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.apache.commons.io.IOUtils;
import org.apache.commons.lang3.StringUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.net.URL;

/**
 * @Description: jacksonä½é˜¶æ–¹æ³•çš„ä½¿ç”¨
 * @author: willzhao E-mail: zq2599@gmail.com
 * @date: 2020/7/4 15:50
 */
public class StreamingDemo {

    private static final Logger logger = LoggerFactory.getLogger(StreamingDemo.class);

    JsonFactory jsonFactory = new JsonFactory();

    /**
     * è¯¥å­—ç¬¦ä¸²çš„å€¼æ˜¯ä¸ªç½‘ç»œåœ°å€ï¼Œè¯¥åœ°å€å¯¹åº”çš„å†…å®¹æ˜¯ä¸ªJSON
     */
    final static String TEST_JSON_DATA_URL = &quot;https://raw.githubusercontent.com/zq2599/blog_demos/master/files/twitteer_message.json&quot;;

    /**
     * ç”¨æ¥éªŒè¯ååºåˆ—åŒ–çš„JSONå­—ç¬¦ä¸²
     */
    final static String TEST_JSON_STR = &quot;{\n&quot; +
            &quot;  \&quot;id\&quot;:1125687077,\n&quot; +
            &quot;  \&quot;text\&quot;:\&quot;@stroughtonsmith You need to add a \\\&quot;Favourites\\\&quot; tab to TC/iPhone. Like what TwitterFon did. I can't WAIT for your Twitter App!! :) Any ETA?\&quot;,\n&quot; +
            &quot;  \&quot;fromUserId\&quot;:855523, \n&quot; +
            &quot;  \&quot;toUserId\&quot;:815309,\n&quot; +
            &quot;  \&quot;languageCode\&quot;:\&quot;en\&quot;\n&quot; +
            &quot;}&quot;;

    /**
     * ç”¨æ¥éªŒè¯åºåˆ—åŒ–çš„TwitterEntryå®ä¾‹
     */
    final static TwitterEntry TEST_OBJECT = new TwitterEntry();

    /**
     * å‡†å¤‡å¥½TEST_OBJECTå¯¹è±¡çš„å„ä¸ªå‚æ•°
     */
    static {
        TEST_OBJECT.setId(123456L);
        TEST_OBJECT.setFromUserId(101);
        TEST_OBJECT.setToUserId(102);
        TEST_OBJECT.setText(&quot;this is a message for serializer test&quot;);
        TEST_OBJECT.setLanguageCode(&quot;zh&quot;);
    }


    /**
     * ååºåˆ—åŒ–æµ‹è¯•(JSON -&amp;gt; Object)ï¼Œå…¥å‚æ˜¯JSONå­—ç¬¦ä¸²
     * @param json JSONå­—ç¬¦ä¸²
     * @return
     * @throws IOException
     */
    public TwitterEntry deserializeJSONStr(String json) throws IOException {

        JsonParser jsonParser = jsonFactory.createParser(json);

        if (jsonParser.nextToken() != JsonToken.START_OBJECT) {
            jsonParser.close();
            logger.error(&quot;èµ·å§‹ä½ç½®æ²¡æœ‰å¤§æ‹¬å·&quot;);
            throw new IOException(&quot;èµ·å§‹ä½ç½®æ²¡æœ‰å¤§æ‹¬å·&quot;);
        }

        TwitterEntry result = new TwitterEntry();

        try {
            // Iterate over object fields:
            while (jsonParser.nextToken() != JsonToken.END_OBJECT) {

                String fieldName = jsonParser.getCurrentName();

                logger.info(&quot;æ­£åœ¨è§£æå­—æ®µ [{}]&quot;, jsonParser.getCurrentName());

                // è§£æä¸‹ä¸€ä¸ª
                jsonParser.nextToken();

                switch (fieldName) {
                    case &quot;id&quot;:
                        result.setId(jsonParser.getLongValue());
                        break;
                    case &quot;text&quot;:
                        result.setText(jsonParser.getText());
                        break;
                    case &quot;fromUserId&quot;:
                        result.setFromUserId(jsonParser.getIntValue());
                        break;
                    case &quot;toUserId&quot;:
                        result.setToUserId(jsonParser.getIntValue());
                        break;
                    case &quot;languageCode&quot;:
                        result.setLanguageCode(jsonParser.getText());
                        break;
                    default:
                        logger.error(&quot;æœªçŸ¥å­—æ®µ '&quot; + fieldName + &quot;'&quot;);
                        throw new IOException(&quot;æœªçŸ¥å­—æ®µ '&quot; + fieldName + &quot;'&quot;);
                }
            }
        } catch (IOException e) {
            logger.error(&quot;ååºåˆ—åŒ–å‡ºç°å¼‚å¸¸ :&quot;, e);
        } finally {
            jsonParser.close(); // important to close both parser and underlying File reader
        }

        return result;
    }

    /**
     * ååºåˆ—åŒ–æµ‹è¯•(JSON -&amp;gt; Object)ï¼Œå…¥å‚æ˜¯JSONå­—ç¬¦ä¸²
     * @param url JSONå­—ç¬¦ä¸²çš„ç½‘ç»œåœ°å€
     * @return
     * @throws IOException
     */
    public TwitterEntry deserializeJSONFromUrl(String url) throws IOException {
        // ä»ç½‘ç»œä¸Šå–å¾—JSONå­—ç¬¦ä¸²
        String json = IOUtils.toString(new URL(TEST_JSON_DATA_URL), JsonEncoding.UTF8.name());

        logger.info(&quot;ä»ç½‘ç»œå–å¾—JSONæ•°æ® :\n{}&quot;, json);

        if(StringUtils.isNotBlank(json)) {
            return deserializeJSONStr(json);
        } else {
            logger.error(&quot;ä»ç½‘ç»œè·å–JSONæ•°æ®å¤±è´¥&quot;);
            return null;
        }
    }


    /**
     * åºåˆ—åŒ–æµ‹è¯•(Object -&amp;gt; JSON)
     * @param twitterEntry
     * @return ç”±å¯¹è±¡åºåˆ—åŒ–å¾—åˆ°çš„JSONå­—ç¬¦ä¸²
     */
    public String serialize(TwitterEntry twitterEntry) throws IOException{
        String rlt = null;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        JsonGenerator jsonGenerator = jsonFactory.createGenerator(byteArrayOutputStream, JsonEncoding.UTF8);

        try {
            jsonGenerator.useDefaultPrettyPrinter();

            jsonGenerator.writeStartObject();
            jsonGenerator.writeNumberField(&quot;id&quot;, twitterEntry.getId());
            jsonGenerator.writeStringField(&quot;text&quot;, twitterEntry.getText());
            jsonGenerator.writeNumberField(&quot;fromUserId&quot;, twitterEntry.getFromUserId());
            jsonGenerator.writeNumberField(&quot;toUserId&quot;, twitterEntry.getToUserId());
            jsonGenerator.writeStringField(&quot;languageCode&quot;, twitterEntry.getLanguageCode());
            jsonGenerator.writeEndObject();
        } catch (IOException e) {
            logger.error(&quot;åºåˆ—åŒ–å‡ºç°å¼‚å¸¸ :&quot;, e);
        } finally {
            jsonGenerator.close();
        }

        // ä¸€å®šè¦åœ¨
        rlt = byteArrayOutputStream.toString();

        return rlt;
    }


    public static void main(String[] args) throws Exception {

        StreamingDemo streamingDemo = new StreamingDemo();

        // æ‰§è¡Œä¸€æ¬¡å¯¹è±¡è½¬JSONæ“ä½œ
        logger.info(&quot;********************æ‰§è¡Œä¸€æ¬¡å¯¹è±¡è½¬JSONæ“ä½œ********************&quot;);
        String serializeResult = streamingDemo.serialize(TEST_OBJECT);
        logger.info(&quot;åºåˆ—åŒ–ç»“æœæ˜¯JSONå­—ç¬¦ä¸² : \n{}\n\n&quot;, serializeResult);

        // ç”¨æœ¬åœ°å­—ç¬¦ä¸²æ‰§è¡Œä¸€æ¬¡JSONè½¬å¯¹è±¡æ“ä½œ
        logger.info(&quot;********************æ‰§è¡Œä¸€æ¬¡æœ¬åœ°JSONååºåˆ—åŒ–æ“ä½œ********************&quot;);
        TwitterEntry deserializeResult = streamingDemo.deserializeJSONStr(TEST_JSON_STR);
        logger.info(&quot;\næœ¬åœ°JSONååºåˆ—åŒ–ç»“æœæ˜¯ä¸ªjavaå®ä¾‹ : \n{}\n\n&quot;, deserializeResult);

        // ç”¨ç½‘ç»œåœ°å€æ‰§è¡Œä¸€æ¬¡JSONè½¬å¯¹è±¡æ“ä½œ
        logger.info(&quot;********************æ‰§è¡Œä¸€æ¬¡ç½‘ç»œJSONååºåˆ—åŒ–æ“ä½œ********************&quot;);
        deserializeResult = streamingDemo.deserializeJSONFromUrl(TEST_JSON_DATA_URL);
        logger.info(&quot;\nç½‘ç»œJSONååºåˆ—åŒ–ç»“æœæ˜¯ä¸ªjavaå®ä¾‹ : \n{}&quot;, deserializeResult);

        ObjectMapper a;
    }
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;ä¸Šè¿°ä»£ç å¯è§JsonParserè´Ÿè´£å°†JSONè§£ææˆå¯¹è±¡çš„å˜é‡å€¼ï¼Œæ ¸å¿ƒæ˜¯å¾ªç¯å¤„ç†JSONä¸­çš„æ‰€æœ‰å†…å®¹ï¼›&lt;/li&gt;
&lt;li&gt;JsonGeneratorè´Ÿè´£å°†å¯¹è±¡çš„å˜é‡å†™å…¥JSONçš„å„ä¸ªå±æ€§ï¼Œè¿™é‡Œæ˜¯å¼€å‘è€…è‡ªè¡Œå†³å®šè¦å¤„ç†å“ªäº›å­—æ®µï¼›&lt;/li&gt;
&lt;li&gt;ä¸è®ºæ˜¯JsonParserè¿˜æ˜¯JsonGeneratorï¼Œå¤§å®¶éƒ½å¯ä»¥æ„Ÿè§‰åˆ°å·¥ä½œé‡å¾ˆå¤§ï¼Œéœ€è¦å¼€å‘è€…è‡ªå·±åŠ¨æ‰‹å®ç°å¯¹è±¡å’ŒJSONå­—æ®µçš„å…³ç³»æ˜ å°„ï¼Œå®é™…åº”ç”¨ä¸­ä¸éœ€è¦å’±ä»¬è¿™æ ·è¾›è‹¦çš„ç¼–ç ï¼Œjacksonçš„å¦å¤–ä¸¤ä¸ªåº“(annonationçš„databind)å·²ç»å¸®æˆ‘ä»¬å®Œæˆäº†å¤§é‡å·¥ä½œï¼Œä¸Šè¿°ä»£ç åªæ˜¯æ­ç¤ºæœ€åŸºç¡€çš„jacksonæ‰§è¡ŒåŸç†ï¼›&lt;/li&gt;
&lt;li&gt;æ‰§è¡ŒStreamingDemoç±»ï¼Œå¾—åˆ°ç»“æœå¦‚ä¸‹ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–éƒ½æˆåŠŸäº†ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/other/485422/202101/485422-20210127080924885-1826047696.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ä»¥ä¸Šå°±æ˜¯jackson-coreçš„åŸºæœ¬åŠŸèƒ½ï¼Œå’±ä»¬äº†è§£äº†jacksonæœ€åº•å±‚çš„å·¥ä½œåŸç†ï¼Œæ¥ä¸‹æ¥çš„æ–‡ç« ä¼šç»§ç»­å®è·µæ›´å¤šæ“ä½œï¼›&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¬£å®¸&quot;&gt;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¬£å®¸&lt;/h3&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;å¾®ä¿¡æœç´¢ã€Œç¨‹åºå‘˜æ¬£å®¸ã€ï¼Œæˆ‘æ˜¯æ¬£å®¸ï¼ŒæœŸå¾…ä¸æ‚¨ä¸€åŒç•…æ¸¸Javaä¸–ç•Œ...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä½ ä¸å­¤å•ï¼Œæ¬£å®¸åŸåˆ›ä¸€è·¯ç›¸ä¼´&quot;&gt;ä½ ä¸å­¤å•ï¼Œæ¬£å®¸åŸåˆ›ä¸€è·¯ç›¸ä¼´&lt;/h3&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105068742&quot; target=&quot;_blank&quot;&gt;Javaç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105086498&quot; target=&quot;_blank&quot;&gt;Springç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105086732&quot; target=&quot;_blank&quot;&gt;Dockerç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105086794&quot; target=&quot;_blank&quot;&gt;kubernetesç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105086850&quot; target=&quot;_blank&quot;&gt;æ•°æ®åº“+ä¸­é—´ä»¶ç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://xinchen.blog.csdn.net/article/details/105086920&quot; target=&quot;_blank&quot;&gt;DevOpsç³»åˆ—&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¬£å®¸-1&quot;&gt;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¬£å®¸&lt;/h3&gt;
&lt;blockquote readability=&quot;4.258064516129&quot;&gt;
&lt;p&gt;å¾®ä¿¡æœç´¢ã€Œç¨‹åºå‘˜æ¬£å®¸ã€ï¼Œæˆ‘æ˜¯æ¬£å®¸ï¼ŒæœŸå¾…ä¸æ‚¨ä¸€åŒç•…æ¸¸Javaä¸–ç•Œ...&lt;br/&gt;&lt;a href=&quot;https://github.com/zq2599/blog_demos&quot; target=&quot;_blank&quot;&gt;https://github.com/zq2599/blog_demos&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Wed, 27 Jan 2021 00:09:00 +0000</pubDate>
<dc:creator>ç¨‹åºå‘˜æ¬£å®¸</dc:creator>
<og:description>æ¬¢è¿è®¿é—®æˆ‘çš„GitHub https://github.com/zq2599/blog_demos å†…å®¹ï¼šæ‰€æœ‰åŸåˆ›æ–‡ç« åˆ†ç±»æ±‡æ€»åŠé…å¥—æºç ï¼Œæ¶‰åŠJavaã€Dockerã€Kubernetesã€DevOPS</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/bolingcavalry/p/14333204.html</dc:identifier>
</item>
<item>
<title>ä½¿ç”¨banditå¯¹ç›®æ ‡pythonä»£ç è¿›è¡Œå®‰å…¨å‡½æ•°æ‰«æ - DechinPhy</title>
<link>http://www.cnblogs.com/dechinphy/p/bandit.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/dechinphy/p/bandit.html</guid>
<description>&lt;p&gt;æœ¬æ–‡ä»‹ç»äº†pythonå®‰å…¨å±é™©å‡½æ•°æ‰«æå·¥å…·banditçš„æ•°ç§ä½¿ç”¨æ–¹æ³•ä¸æŠ€å·§ï¼ŒåŒæ—¶ä¹Ÿåˆ†æäº†banditåœ¨å®é™…é¡¹ç›®ä¸­çš„æ€§èƒ½è¡¨ç°ï¼Œç»™äºˆäº†è¯»è€…æ˜¯å¦åœ¨pythonå¼€å‘é¡¹ç›®ä¸­å¼•å…¥banditçš„å¯å‘æ€è€ƒã€‚&lt;/p&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;281.72058823529&quot;&gt;

&lt;p&gt;åœ¨ä¸€äº›å¯¹pythonå¼€æºåº“ä»£ç çš„å®‰å…¨æ‰«æä¸­ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½éœ€è¦åˆ†æåº“ä¸­æ‰€ä½¿ç”¨åˆ°çš„å‡½æ•°æ˜¯å¦ä¼šå¯¹ä»£ç çš„æ‰§è¡Œç¯å¢ƒé€ æˆä¸€äº›éé¢„æœŸçš„å½±å“ã€‚å…¸å‹çš„ä¾‹å¦‚pythonçš„æ²™ç®±é€ƒé€¸é—®é¢˜ï¼Œé€šè¿‡ä¸€äº›pythonçš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥æ‰§è¡Œç³»ç»Ÿshellå‘½ä»¤ï¼Œè€Œè¿™å°±ä¸åœ¨pythonçš„æ²™ç®±é˜²æŠ¤èŒƒå›´ä¹‹å†…äº†ã€‚å…³äºpythonçš„æ²™ç®±é€ƒé€¸é—®é¢˜ï¼Œè¿™é‡Œä¸ä½œå±•å¼€ï¼Œè¿™ä¹Ÿæ˜¯å›°æ‰°ä¸šç•Œå¤šå¹´çš„ä¸€ä¸ªé—®é¢˜ï¼Œè¿pythonå®˜æ–¹ä¹Ÿæè¿‡pythonçš„æ²™ç®±æ˜¯æ²¡æœ‰å®Œç¾çš„é˜²æŠ¤æ–¹æ¡ˆçš„ï¼Œè¿™é‡Œä»…ä½œä¸ºä¸€ä¸ªèƒŒæ™¯æ¡ˆä¾‹ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;# subprocess_Popen.py

import subprocess
import uuid

subprocess.Popen('touch ' + str(uuid.uuid1()) +'.txt', shell = True)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œæ¼”ç¤ºçš„åŠŸèƒ½æ˜¯ä½¿ç”¨&lt;code&gt;subprocess&lt;/code&gt;å‡½æ•°åº“å¼€å¯ä¸€ä¸ªç³»ç»Ÿ&lt;code&gt;shell&lt;/code&gt;ï¼Œå¹¶æ‰§è¡Œä¸€ä¸ª&lt;code&gt;touch&lt;/code&gt;çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªæŒ‡å®šæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œç±»ä¼¼äº&lt;code&gt;mkdir&lt;/code&gt;äº§ç”Ÿä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶æˆåŠŸæ‰§è¡Œåä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª&lt;code&gt;uuid&lt;/code&gt;éšæœºå‘½åçš„txtæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ python3 subprocess_Popen.py 
[dechin@dechin-manjaro bandit_test]$ ll
æ€»ç”¨é‡ 4
-rw-r--r-- 1 dechin dechin   0  1æœˆ 26 23:03 b7aa0fc8-5fe7-11eb-b5d3-058313e110e4.txt
-rw-r--r-- 1 dechin dechin 123  1æœˆ 26 23:03 subprocess_Popen.py
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ç„¶è€Œï¼Œæœ¬æ¬¡çš„å…³æ³¨ç‚¹å¹¶ä¸åœ¨ä¸è¿™ä¸ªå‡½æ•°æ‰§è¡Œäº†ä»€ä¹ˆåŠŸèƒ½ï¼Œè€Œæ˜¯è¿™ä¸ªå‡½æ•°ä¸­ç”¨åˆ°äº†&lt;code&gt;subprocess&lt;/code&gt;è¿™ä¸ªå‡½æ•°åº“ã€‚æŒ‰ç…§pythonçš„è¯­è¨€ç‰¹ç‚¹ï¼Œå½“ä½ çš„ç³»ç»Ÿä¸­å¦‚æœå­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªæ¨¡å—å¼•ç”¨äº†&lt;code&gt;subprocess&lt;/code&gt;åº“ï¼Œé‚£ä¹ˆä»»ä½•å¯ä»¥è°ƒç”¨è¯¥åŠŸèƒ½æ¨¡å—çš„å‡½æ•°ï¼Œéƒ½å¯ä»¥è°ƒç”¨åˆ°&lt;code&gt;subprocess&lt;/code&gt;è¿™ä¸ªå‡½æ•°ï¼Œä»¥ä¸‹æ˜¯å¦å¤–ä¸€ä¸ª&lt;code&gt;æ¶æ„ç”¨æˆ·çš„pythonä»£ç &lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;# bad.py

from subprocess_Popen import subprocess as subprocess

subprocess.Popen('touch bad.txt', shell = True)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥ä»£ç çš„ç›®çš„æ˜¯åœ¨ä¸ç›´æ¥&lt;code&gt;import subprocess&lt;/code&gt;çš„æ¡ä»¶ä¸‹ï¼Œé€šè¿‡å‰é¢åˆ›å»ºå¥½çš„&lt;code&gt;subprocess_Popen.py&lt;/code&gt;æ¥è¿›è¡Œæ­æ¡¥è°ƒç”¨&lt;code&gt;subprocess&lt;/code&gt;çš„åŠŸèƒ½å‡½æ•°ã€‚è¿™ä¸ªè„šæœ¬çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ python3 bad.py 
[dechin@dechin-manjaro bandit_test]$ ll
æ€»ç”¨é‡ 12
-rw-r--r-- 1 dechin dechin    0  1æœˆ 26 23:13 0fda7ede-5fe9-11eb-80a8-ad279ab4e0a6.txt
-rw-r--r-- 1 dechin dechin    0  1æœˆ 26 23:03 b7aa0fc8-5fe7-11eb-b5d3-058313e110e4.txt
-rw-r--r-- 1 dechin dechin  113  1æœˆ 26 23:13 bad.py
-rw-r--r-- 1 dechin dechin    0  1æœˆ 26 23:13 bad.txt
drwxr-xr-x 2 dechin dechin 4096  1æœˆ 26 23:13 __pycache__
-rw-r--r-- 1 dechin dechin  123  1æœˆ 26 23:03 subprocess_Popen.py
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªç»“æœæ„å‘³ç€ï¼Œæˆ‘ä»¬æˆåŠŸçš„ä½¿ç”¨&lt;code&gt;bad.py&lt;/code&gt;è°ƒç”¨äº†&lt;code&gt;subprocess_Popen.py&lt;/code&gt;ä¸­æ‰€å¼•ç”¨çš„&lt;code&gt;subprocess&lt;/code&gt;ï¼ŒæˆåŠŸ&lt;code&gt;touch&lt;/code&gt;äº†ä¸€ä¸ª&lt;code&gt;bad.txt&lt;/code&gt;çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œæˆ‘ä»¬çš„èƒŒæ™¯æ¡ˆä¾‹æ¼”ç¤ºç»“æŸï¼Œä½†æˆ‘ä»¬éœ€è¦é‡æ–°æ¢³ç†è¿™äº›æ¡ˆä¾‹ä¸­æ‰€åŒ…å«çš„é€»è¾‘ï¼šæˆ‘ä»¬åŸæœ¬æ˜¯å¸Œæœ›åœ¨è‡ªå·±çš„ç³»ç»Ÿä¸­ä¸å¼•å…¥pythonçš„æ²™ç®±é€ƒé€¸é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šå¯¹å…¶ä»–äººä¼ é€’è¿‡æ¥çš„ä»£ç è¿›è¡Œæ‰«æï¼Œå¦‚ä½¿ç”¨ä¸‹æ–‡ä¸­å°†è¦ä»‹ç»çš„&lt;code&gt;bandit&lt;/code&gt;å·¥å…·æ¥å±è”½&lt;code&gt;subprocess&lt;/code&gt;ç­‰&quot;å±é™©å‡½æ•°&quot;ã€‚è€Œå¦‚æœæˆ‘ä»¬åœ¨è‡ªå·±å†™çš„pythonåº“æˆ–è€…å¼•å…¥çš„ç¬¬ä¸‰æ–¹pythonåº“ä¸­å­˜åœ¨ç±»ä¼¼äº&lt;code&gt;subprocess&lt;/code&gt;çš„å¼•ç”¨ï¼Œè¿™å°±ä¼šå¯¼è‡´æˆ‘ä»¬çš„å±è”½å¤±æ•ˆï¼Œç”¨æˆ·å¯ä»¥ä»»æ„çš„é€šè¿‡è¿™äº›å¼•ç”¨çš„æ­æ¡¥ç›´æ¥è°ƒç”¨&lt;code&gt;subprocess&lt;/code&gt;çš„å‡½æ•°åŠŸèƒ½ã€‚å› æ­¤ï¼Œåœ¨ç‰¹æ®Šçš„æ¡ä»¶è¦æ±‚ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è‡ªå·±çš„ä»£ç è¿›è¡Œå®‰å…¨å‡½æ•°æ‰«æï¼Œä»¥å…ä¸ºå…¶ä»–äººçš„ç³»ç»Ÿå¸¦æ¥ä¸å¯é¢„æœŸçš„å®‰å…¨é£é™©ã€‚&lt;code&gt;bandit&lt;/code&gt;åªæ˜¯å…¶ä¸­çš„ä¸€ç§å®‰å…¨å‡½æ•°æ‰«æçš„å·¥å…·ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹å…¶åŸºæœ¬å®‰è£…å’Œä½¿ç”¨æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œç›´æ¥ä½¿ç”¨&lt;code&gt;pip&lt;/code&gt;æ¥å®‰è£…&lt;code&gt;bandit&lt;/code&gt;ï¼Œæœ‰éœ€è¦çš„ä¹Ÿå¯ä»¥ä»æºç ç›´æ¥å®‰è£…ã€‚å…³äºåœ¨&lt;code&gt;pip&lt;/code&gt;çš„ä½¿ç”¨ä¸­é…ç½®å›½å†…é•œåƒæºçš„æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡&lt;a href=&quot;https://www.cnblogs.com/dechinphy/p/line-profiler.html&quot; target=&quot;_blank&quot;&gt;åšå®¢&lt;/a&gt;ä¸­å¯¹pythonå®‰è£…ç¬¬ä¸‰æ–¹åº“çš„ä»‹ç»ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ python3 -m pip install bandit
Collecting bandit
  Downloading bandit-1.7.0-py3-none-any.whl (115 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 115 kB 101 kB/s 
Requirement already satisfied: PyYAML&amp;gt;=5.3.1 in /home/dechin/anaconda3/lib/python3.8/site-packages (from bandit) (5.3.1)
Collecting GitPython&amp;gt;=1.0.1
  Downloading GitPython-3.1.12-py3-none-any.whl (159 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 159 kB 28 kB/s 
Requirement already satisfied: six&amp;gt;=1.10.0 in /home/dechin/anaconda3/lib/python3.8/site-packages (from bandit) (1.15.0)
Collecting stevedore&amp;gt;=1.20.0
  Downloading stevedore-3.3.0-py3-none-any.whl (49 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 49 kB 25 kB/s 
Collecting gitdb&amp;lt;5,&amp;gt;=4.0.1
  Downloading gitdb-4.0.5-py3-none-any.whl (63 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 63 kB 28 kB/s 
Collecting pbr!=2.1.0,&amp;gt;=2.0.0
  Downloading pbr-5.5.1-py2.py3-none-any.whl (106 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 106 kB 26 kB/s 
Collecting smmap&amp;lt;4,&amp;gt;=3.0.1
  Downloading smmap-3.0.5-py2.py3-none-any.whl (25 kB)
Installing collected packages: smmap, gitdb, GitPython, pbr, stevedore, bandit
Successfully installed GitPython-3.1.12 bandit-1.7.0 gitdb-4.0.5 pbr-5.5.1 smmap-3.0.5 stevedore-3.3.0
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å®‰è£…ç»“æŸä¹‹åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ bandit -h
usage: bandit [-h] [-r] [-a {file,vuln}] [-n CONTEXT_LINES] [-c CONFIG_FILE] [-p PROFILE] [-t TESTS] [-s SKIPS] [-l] [-i] [-f {csv,custom,html,json,screen,txt,xml,yaml}] [--msg-template MSG_TEMPLATE] [-o [OUTPUT_FILE]] [-v] [-d] [-q]
              [--ignore-nosec] [-x EXCLUDED_PATHS] [-b BASELINE] [--ini INI_PATH] [--exit-zero] [--version]
              [targets [targets ...]]

Bandit - a Python source code security analyzer

positional arguments:
  targets               source file(s) or directory(s) to be tested

optional arguments:
  -h, --help            show this help message and exit
  -r, --recursive       find and process files in subdirectories
  -a {file,vuln}, --aggregate {file,vuln}
                        aggregate output by vulnerability (default) or by filename
  -n CONTEXT_LINES, --number CONTEXT_LINES
                        maximum number of code lines to output for each issue
  -c CONFIG_FILE, --configfile CONFIG_FILE
                        optional config file to use for selecting plugins and overriding defaults
  -p PROFILE, --profile PROFILE
                        profile to use (defaults to executing all tests)
  -t TESTS, --tests TESTS
                        comma-separated list of test IDs to run
  -s SKIPS, --skip SKIPS
                        comma-separated list of test IDs to skip
  -l, --level           report only issues of a given severity level or higher (-l for LOW, -ll for MEDIUM, -lll for HIGH)
  -i, --confidence      report only issues of a given confidence level or higher (-i for LOW, -ii for MEDIUM, -iii for HIGH)
  -f {csv,custom,html,json,screen,txt,xml,yaml}, --format {csv,custom,html,json,screen,txt,xml,yaml}
                        specify output format
  --msg-template MSG_TEMPLATE
                        specify output message template (only usable with --format custom), see CUSTOM FORMAT section for list of available values
  -o [OUTPUT_FILE], --output [OUTPUT_FILE]
                        write report to filename
  -v, --verbose         output extra information like excluded and included files
  -d, --debug           turn on debug mode
  -q, --quiet, --silent
                        only show output in the case of an error
  --ignore-nosec        do not skip lines with # nosec comments
  -x EXCLUDED_PATHS, --exclude EXCLUDED_PATHS
                        comma-separated list of paths (glob patterns supported) to exclude from scan (note that these are in addition to the excluded paths provided in the config file) (default:
                        .svn,CVS,.bzr,.hg,.git,__pycache__,.tox,.eggs,*.egg)
  -b BASELINE, --baseline BASELINE
                        path of a baseline report to compare against (only JSON-formatted files are accepted)
  --ini INI_PATH        path to a .bandit file that supplies command line arguments
  --exit-zero           exit with 0, even with results found
  --version             show program's version number and exit

CUSTOM FORMATTING
-----------------

Available tags:

    {abspath}, {relpath}, {line},  {test_id},
    {severity}, {msg}, {confidence}, {range}

Example usage:

    Default template:
    bandit -r examples/ --format custom --msg-template \
    &quot;{abspath}:{line}: {test_id}[bandit]: {severity}: {msg}&quot;

    Provides same output as:
    bandit -r examples/ --format custom

    Tags can also be formatted in python string.format() style:
    bandit -r examples/ --format custom --msg-template \
    &quot;{relpath:20.20s}: {line:03}: {test_id:^8}: DEFECT: {msg:&amp;gt;20}&quot;

    See python documentation for more information about formatting style:
    https://docs.python.org/3/library/string.html

The following tests were discovered and loaded:
-----------------------------------------------
        B101    assert_used
        B102    exec_used
        B103    set_bad_file_permissions
        B104    hardcoded_bind_all_interfaces
        B105    hardcoded_password_string
        B106    hardcoded_password_funcarg
        B107    hardcoded_password_default
        B108    hardcoded_tmp_directory
        B110    try_except_pass
        B112    try_except_continue
        B201    flask_debug_true
        B301    pickle
        B302    marshal
        B303    md5
        B304    ciphers
        B305    cipher_modes
        B306    mktemp_q
        B307    eval
        B308    mark_safe
        B309    httpsconnection
        B310    urllib_urlopen
        B311    random
        B312    telnetlib
        B313    xml_bad_cElementTree
        B314    xml_bad_ElementTree
        B315    xml_bad_expatreader
        B316    xml_bad_expatbuilder
        B317    xml_bad_sax
        B318    xml_bad_minidom
        B319    xml_bad_pulldom
        B320    xml_bad_etree
        B321    ftplib
        B323    unverified_context
        B324    hashlib_new_insecure_functions
        B325    tempnam
        B401    import_telnetlib
        B402    import_ftplib
        B403    import_pickle
        B404    import_subprocess
        B405    import_xml_etree
        B406    import_xml_sax
        B407    import_xml_expat
        B408    import_xml_minidom
        B409    import_xml_pulldom
        B410    import_lxml
        B411    import_xmlrpclib
        B412    import_httpoxy
        B413    import_pycrypto
        B501    request_with_no_cert_validation
        B502    ssl_with_bad_version
        B503    ssl_with_bad_defaults
        B504    ssl_with_no_version
        B505    weak_cryptographic_key
        B506    yaml_load
        B507    ssh_no_host_key_verification
        B601    paramiko_calls
        B602    subprocess_popen_with_shell_equals_true
        B603    subprocess_without_shell_equals_true
        B604    any_other_function_with_shell_equals_true
        B605    start_process_with_a_shell
        B606    start_process_with_no_shell
        B607    start_process_with_partial_path
        B608    hardcoded_sql_expressions
        B609    linux_commands_wildcard_injection
        B610    django_extra_used
        B611    django_rawsql_used
        B701    jinja2_autoescape_false
        B702    use_of_mako_templates
        B703    django_mark_safe
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä»è¿™ä¸ªåˆ—è¡¨ä¸­çš„å±è”½å‡½æ•°æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ‰€è°“çš„&quot;å±é™©å‡½æ•°&quot;åˆ°åº•éƒ½æœ‰å“ªäº›ï¼Œæ¯”å¦‚å¸¸ç”¨çš„&lt;code&gt;subprocess&lt;/code&gt;å’Œ&lt;code&gt;random&lt;/code&gt;éƒ½è¢«åŒ…å«åœ¨å†…ã€‚&lt;code&gt;subprocess&lt;/code&gt;æ˜¯å› ä¸ºå…¶å¯¹shellçš„è°ƒç”¨è€Œè¢«åˆ—ä¸º&quot;å±é™©å‡½æ•°&quot;ï¼Œè€Œ&lt;code&gt;random&lt;/code&gt;åˆ™æ˜¯å› ä¸ºå…¶ä¼ªéšæœºæ•°çš„æ€§è´¨(è¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹ï¼Œç°åœ¨ä¸€èˆ¬æ¨èä½¿ç”¨&lt;code&gt;secrets&lt;/code&gt;ä¸­çš„æ‰€è°“å®‰å…¨éšæœºæ•°ï¼Œä½†æ˜¯å®é™…ä¸Šåªæœ‰é‡å­å åŠ æµ‹é‡æ‰èƒ½å¤ŸçœŸæ­£å®ç°çœŸéšæœºæ•°)ã€‚&lt;/p&gt;

&lt;ol&gt;&lt;li&gt;ç›´æ¥å¯¹&lt;code&gt;py&lt;/code&gt;æ–‡ä»¶è¿›è¡Œæ‰«æï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ bandit subprocess_Popen.py 
[main]  INFO    profile include tests: None
[main]  INFO    profile exclude tests: None
[main]  INFO    cli include tests: None
[main]  INFO    cli exclude tests: None
[main]  INFO    running on Python 3.8.5
[node_visitor]  INFO    Unable to find qualified name for module: subprocess_Popen.py
Run started:2021-01-26 15:31:00.425603

Test results:
&amp;gt;&amp;gt; Issue: [B404:blacklist] Consider possible security implications associated with subprocess module.
   Severity: Low   Confidence: High
   Location: subprocess_Popen.py:3
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_imports.html#b404-import-subprocess
2
3       import subprocess
4       import uuid

--------------------------------------------------
&amp;gt;&amp;gt; Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
   Severity: High   Confidence: High
   Location: subprocess_Popen.py:6
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b602_subprocess_popen_with_shell_equals_true.html
5
6       subprocess.Popen('touch ' + str(uuid.uuid1()) +'.txt', shell = True)

--------------------------------------------------

Code scanned:
        Total lines of code: 3
        Total lines skipped (#nosec): 0

Run metrics:
        Total issues (by severity):
                Undefined: 0.0
                Low: 1.0
                Medium: 0.0
                High: 1.0
        Total issues (by confidence):
                Undefined: 0.0
                Low: 0.0
                Medium: 0.0
                High: 2.0
Files skipped (0):
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡å¯¹åˆšæ‰æ‰€åˆ›å»ºçš„è°ƒç”¨äº†å±é™©å‡½æ•°&lt;code&gt;subprocess&lt;/code&gt;çš„pyæ–‡ä»¶&lt;code&gt;subprocess_Popen.py&lt;/code&gt;çš„æ‰«æï¼Œæˆ‘ä»¬è¯†åˆ«å‡ºäº†å…¶ä¸­çš„&quot;å±é™©å‡½æ•°&quot;ï¼Œæ³¨æ„è¿™é‡Œçš„&lt;code&gt;Issue&lt;/code&gt;ç¼–å·æ˜¯&lt;code&gt;602&lt;/code&gt;ï¼Œå®šçº§æ˜¯&lt;code&gt;Severity: Low Confidence: High&lt;/code&gt;ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç”¨&lt;code&gt;bandit&lt;/code&gt;å»æ‰«æåˆ©ç”¨äº†å…¶ä»–å‡½æ•°å¯¹å±é™©å‡½æ•°çš„è°ƒç”¨æ­æ¡¥æ¥äºŒæ¬¡è°ƒç”¨çš„&lt;code&gt;bad.py&lt;/code&gt;æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°æ˜¯å¦å¤–ä¸€ç§ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ bandit bad.py 
[main]  INFO    profile include tests: None
[main]  INFO    profile exclude tests: None
[main]  INFO    cli include tests: None
[main]  INFO    cli exclude tests: None
[main]  INFO    running on Python 3.8.5
[node_visitor]  INFO    Unable to find qualified name for module: bad.py
Run started:2021-01-26 15:30:47.370468

Test results:                                                                                                                                                                                                                               
&amp;gt;&amp;gt; Issue: [B404:blacklist] Consider possible security implications associated with subprocess module.
   Severity: Low   Confidence: High                                                                                                                                                                                                         
   Location: bad.py:3                                                                                                                                                                                                                       
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_imports.html#b404-import-subprocess                                                                                                                              
2
3       from subprocess_Popen import subprocess as subprocess
4
5       subprocess.Popen('touch bad.txt', shell = True)

--------------------------------------------------
&amp;gt;&amp;gt; Issue: [B604:any_other_function_with_shell_equals_true] Function call with shell=True parameter identified, possible security issue.
   Severity: Medium   Confidence: Low                                                                                                                                                                                                       
   Location: bad.py:5                                                                                                                                                                                                                       
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b604_any_other_function_with_shell_equals_true.html                                                                                                                           
4
5       subprocess.Popen('touch bad.txt', shell = True)

--------------------------------------------------

Code scanned:                                                                                                                                                                                                                               
        Total lines of code: 2
        Total lines skipped (#nosec): 0

Run metrics:                                                                                                                                                                                                                                
        Total issues (by severity):
                Undefined: 0.0
                Low: 1.0
                Medium: 1.0
                High: 0.0
        Total issues (by confidence):
                Undefined: 0.0
                Low: 1.0
                Medium: 0.0
                High: 1.0
Files skipped (0):
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œè™½ç„¶å®ç°çš„åŠŸèƒ½è·Ÿä¸Šé¢é‚£ä¸ªä¾‹å­æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™é‡Œçš„&lt;code&gt;Issue&lt;/code&gt;ç¼–å·ä¸º&lt;code&gt;604&lt;/code&gt;ï¼Œå®šçº§ä¹Ÿå˜æˆäº†&lt;code&gt;Severity: Medium Confidence: Low&lt;/code&gt;ã€‚è¿™é‡Œçš„å…³é”®å¹¶ä¸æ˜¯å®šçº§å˜æˆäº†ä»€ä¹ˆï¼Œè€Œæ˜¯å®šçº§è¢«æ”¹å˜äº†ï¼Œè¿™æ˜¯å› ä¸º&lt;code&gt;bandit&lt;/code&gt;æ˜¯é€šè¿‡å¯¹å­—ç¬¦ä¸²çš„å¤„ç†æ¥è¯†åˆ«å±é™©å‡½æ•°çš„ï¼Œå› æ­¤å¯¹äºè¿™ç§äºŒæ¬¡è°ƒç”¨çš„ç‰¹æ®Šåœºæ™¯ï¼Œ&lt;code&gt;bandit&lt;/code&gt;ä¸ä¸€å®šéƒ½èƒ½å¤Ÿå‡†ç¡®çš„è¯†åˆ«å‡ºæ¥å¯¹å±é™©å‡½æ•°çš„è°ƒç”¨ï¼Œç”šè‡³å¯èƒ½å‡ºç°äºŒæ¬¡è°ƒç”¨åï¼Œå®Œå…¨æ— æ³•è¯†åˆ«é£é™©å‡½æ•°çš„ä½¿ç”¨çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;æ‰«æä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰&lt;code&gt;py&lt;/code&gt;æ–‡ä»¶ï¼Œå¹¶å°†ç»“æœå†™å…¥&lt;code&gt;txt&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ bandit *.py -o test_bandit.txt -f txt
[main]  INFO    profile include tests: None
[main]  INFO    profile exclude tests: None
[main]  INFO    cli include tests: None
[main]  INFO    cli exclude tests: None
[main]  INFO    running on Python 3.8.5
[node_visitor]  INFO    Unable to find qualified name for module: bad.py
[node_visitor]  INFO    Unable to find qualified name for module: subprocess_Popen.py
[text]  INFO    Text output written to file: test_bandit.txt
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¯¥æ¡ˆä¾‹å°±æ‰«æäº†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰pyæ–‡ä»¶ï¼Œå…¶å®å°±æ˜¯&lt;code&gt;bad.py&lt;/code&gt;å’Œ&lt;code&gt;subprocess_Popen.py&lt;/code&gt;è¿™ä¸¤ä¸ªï¼Œå¹¶ä¸”å°†æœ€ç»ˆçš„æ‰«æç»“æœä¿å­˜è‡³&lt;code&gt;test_bandit.txt&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸å±•ç¤ºtxtæ–‡ä»¶çš„å…·ä½“å†…å®¹ï¼Œå¤§æ¦‚å°±æ˜¯å°†ä¸Šä¸€ç« èŠ‚çš„ä¸¤ä¸ªæ‰§è¡Œç»“æœè¿›è¡Œäº†æ•´åˆã€‚&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;æ‰«æä¸€ä¸ªç›®å½•ä¸‹çš„å¤šå±‚æ–‡ä»¶å¤¹ä¸­çš„&lt;code&gt;py&lt;/code&gt;æ–‡ä»¶ï¼Œå¹¶å°†ç»“æœå†™å…¥&lt;code&gt;html&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å‡å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹æ‰€ç¤ºçš„ä¸€ä¸ªç›®å½•ç»“æ„éœ€è¦è¿›è¡Œæ‰«ææµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ tree
.
â”œâ”€â”€ bad.py
â”œâ”€â”€ bad.txt
â”œâ”€â”€ level2
â”‚   â””â”€â”€ test_random.py
â”œâ”€â”€ subprocess_Popen.py
â”œâ”€â”€ test_bandit.html
â””â”€â”€ test_bandit.txt

1 directory, 6 files
[dechin@dechin-manjaro bandit_test]$ cat level2/test_random.py 
# test_bandit.py

import random

a = random.random()
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ bandit -r . -f html -o test_bandit.html
[main]  INFO    profile include tests: None
[main]  INFO    profile exclude tests: None
[main]  INFO    cli include tests: None
[main]  INFO    cli exclude tests: None
[main]  INFO    running on Python 3.8.5
[html]  INFO    HTML output written to file: test_bandit.html
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ª&lt;code&gt;test_bandit.html&lt;/code&gt;æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2277440/202101/2277440-20210127001057303-1480466876.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;ä½¿ç”¨é…ç½®æ–‡ä»¶ç¦ç”¨éƒ¨åˆ†&lt;code&gt;Issue&lt;/code&gt;&lt;br/&gt;åœ¨æ‰§è¡Œç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª&lt;code&gt;.bandit&lt;/code&gt;æ–‡ä»¶ï¼Œä½œå¦‚ä¸‹é…ç½®å°±å¯ä»¥é¿å…å¯¹&lt;code&gt;B404&lt;/code&gt;çš„å®¡æŸ¥ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[bandit]
skips: B404
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œçš„æ‰«æç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°&lt;code&gt;B404&lt;/code&gt;ç›¸å…³çš„Issueå·²ç»ä¸åœ¨åˆ—è¡¨ä¸­äº†ï¼š&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2277440/202101/2277440-20210127002705147-437046495.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;ol start=&quot;5&quot;&gt;&lt;li&gt;åœ¨&lt;code&gt;py&lt;/code&gt;æ–‡ä»¶ä¸­ç›´æ¥é€ƒé¿&lt;code&gt;bandit&lt;/code&gt;å®¡è®¡&lt;br/&gt;åœ¨å¾…æ‰«æçš„pyæ–‡ä»¶çš„å¯¹åº”é£é™©å‡½æ•°ååŠ ä¸Šå¦‚ä¸‹æ³¨é‡Šï¼Œå³å¯åœ¨&lt;code&gt;bandit&lt;/code&gt;å®¡è®¡è¿‡ç¨‹ä¸­è‡ªåŠ¨å¿½ç•¥ï¼š&lt;/li&gt;
&lt;/ol&gt;&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;# bad.py

from subprocess_Popen import subprocess as sb

sb.Popen('touch bad.txt', shell = 1) # nosec
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„å®¡è®¡ç»“æœä¸­ï¼Œ&lt;code&gt;B604&lt;/code&gt;ä¹Ÿéšä¹‹è€Œä¸è§äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ä»è¿™ä¸ªæ¡ˆä¾‹ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çŸ¥æ‚‰ï¼Œ&lt;code&gt;bandit&lt;/code&gt;å¹¶ä¸æ˜¯ä¸€ä¸ªç”¨æ¥ä½œå®‰å…¨é˜²æŠ¤çš„å·¥å…·ï¼Œä»…ä»…æ˜¯ç”¨æ¥åšæ¯”è¾ƒåˆæ­¥çš„pythonä»£ç å®‰å…¨å‡½æ•°ä½¿ç”¨è§„èŒƒçš„å®¡æŸ¥å·¥ä½œï¼Œè€Œæ‰«æå‡ºæ¥çš„é—®é¢˜æ˜¯å¦å¤„ç†ï¼Œå…¶å®æœ€ç»ˆè¿˜æ˜¯å–å†³äºå¼€å‘è€…è‡ªå·±ã€‚&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/2277440/202101/2277440-20210127004434716-314274217.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥pythonè¯­è¨€çš„æ€§èƒ½æ˜¯æå…¶å—é™çš„ï¼Œå› æ­¤banditçš„æ€§èƒ½ä¹Ÿæœ‰å¯èƒ½ååˆ†çš„ä½ä¸‹ï¼Œè¿™é‡Œè®©æˆ‘ä»¬æ¥å®šé‡çš„æµ‹è¯•ä¸€ä¸‹banditçš„æ€§èƒ½åˆ°åº•åœ¨ä»€ä¹ˆæ°´å‡†ã€‚é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª10000è¡Œçš„pyæ–‡ä»¶ï¼Œå†…å®¹å…¨éƒ¨ä¸ºå±é™©å‡½æ•°çš„ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;# gen.py

import os

with open('test_bandit_power.py', 'w') as py_file:
    py_file.write('import subprocess as sb\n')
    for i in range(10000):
        py_file.write('sb.Popen(\'whoami\', shell = 1)\n')
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é€šè¿‡æ‰§è¡Œ&lt;code&gt;python3 gen.py&lt;/code&gt;å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ª10000è¡Œçš„å±é™©å‡½æ•°æ–‡ä»¶&lt;code&gt;test_bandit_power.py&lt;/code&gt;ï¼Œå¤§çº¦300KBçš„å¤§å°ã€‚æ­¤æ—¶æˆ‘ä»¬é’ˆå¯¹è¿™å•ä¸ªçš„æ–‡ä»¶è¿›è¡Œ&lt;code&gt;bandit&lt;/code&gt;æ‰«ææµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªè¿‡ç¨‹æä¸ºæ¼«é•¿ï¼Œå¹¶ä¸”ç”Ÿæˆäº†å¤§é‡çš„é”™è¯¯æ—¥å¿—ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot;&gt;[dechin@dechin-manjaro bandit_test]$ time bandit test_bandit_power.py -f html -o test_power.html
[main]  INFO    profile include tests: None
[main]  INFO    profile exclude tests: None
[main]  INFO    cli include tests: None
[main]  INFO    cli exclude tests: None
[main]  INFO    running on Python 3.8.5
[node_visitor]  INFO    Unable to find qualified name for module: test_bandit_power.py
[html]  INFO    HTML output written to file: test_power.html

real    0m6.239s
user    0m6.082s
sys     0m0.150s
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç®€å•ä¼°ç®—ï¼Œå¦‚æœ10000è¡Œçš„ä»£ç éƒ½éœ€è¦&lt;code&gt;6s&lt;/code&gt;çš„æ—¶é—´æ¥è¿›è¡Œæ‰«æï¼Œé‚£ä¹ˆå¯¹äºæ¯”è¾ƒå¤§çš„é¡¹ç›®çš„&lt;code&gt;1000000+&lt;/code&gt;çš„ä»£ç çš„æ‰«ææ—¶é—´ï¼Œåˆ™æœ‰å¯èƒ½è¾¾åˆ°&lt;code&gt;10min&lt;/code&gt;å¾€ä¸Šï¼Œè¿™ä¸ªæ—¶é—´è™½ç„¶ä¹Ÿä¸æ˜¯ç‰¹åˆ«é•¿ï¼Œä½†æ˜¯å¯¹äºå¤§å‹çš„é¡¹ç›®è€Œè¨€è¿™ç»å¯¹ä¸æ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸€äº›å¯¹å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„å¼€å‘é¡¹ç›®ä¸­ï¼Œæœ‰å¯èƒ½ä¼šç¦æ­¢ä½¿ç”¨å±é™©å‡½æ•°ï¼Œå¦‚&lt;code&gt;subprocess&lt;/code&gt;ç­‰ã€‚è€Œ&lt;code&gt;bandit&lt;/code&gt;çš„ä½œç”¨æ—¨åœ¨é€šè¿‡å¯¹ä»£ç çš„æ‰«æè‡ªåŠ¨åŒ–çš„ç»™å‡ºå®‰å…¨å±é™©å‡½æ•°åˆ†ææ„è§ï¼Œè‡³äºæ˜¯å¦é‡‡çº³ï¼Œè¿˜æ˜¯ä»¥ä¸åŒé¡¹ç›®çš„ç®¡ç†è€…éœ€æ±‚ä¸ºå‡†ã€‚åŒæ—¶ç»è¿‡æˆ‘ä»¬çš„æµ‹è¯•å‘ç°ï¼Œ&lt;code&gt;bandit&lt;/code&gt;åœ¨å®é™…ä½¿ç”¨åœºæ™¯ä¸‹æ€§èƒ½è¡¨ç°å¹¶ä¸å¦‚æ„ï¼Œå› æ­¤åœ¨å¤§å‹é¡¹ç›®ä¸­æˆ‘ä»¬å¹¶ä¸æ¨èä½¿ç”¨ï¼Œå¦‚æœä¸€å®šè¦ä½¿ç”¨ä¹Ÿå¯ä»¥è€ƒè™‘è¿›è¡Œé’ˆå¯¹æ€§çš„é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡é¦–å‘é“¾æ¥ä¸ºï¼š&lt;a href=&quot;https://www.cnblogs.com/dechinphy/p/bandit.html&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/dechinphy/p/bandit.html&lt;/a&gt;&lt;br/&gt;ä½œè€…IDï¼šDechinPhy&lt;br/&gt;æ›´å¤šåŸè‘—æ–‡ç« è¯·å‚è€ƒï¼š&lt;a href=&quot;https://www.cnblogs.com/dechinphy/&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/dechinphy/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Tue, 26 Jan 2021 17:08:00 +0000</pubDate>
<dc:creator>DechinPhy</dc:creator>
<og:description>æœ¬æ–‡ä»‹ç»äº†pythonå®‰å…¨å±é™©å‡½æ•°æ‰«æå·¥å…·banditçš„æ•°ç§ä½¿ç”¨æ–¹æ³•ä¸æŠ€å·§ï¼ŒåŒæ—¶ä¹Ÿåˆ†æäº†banditåœ¨å®é™…é¡¹ç›®ä¸­çš„æ€§èƒ½è¡¨ç°ï¼Œç»™äºˆäº†è¯»è€…æ˜¯å¦åœ¨pythonå¼€å‘é¡¹ç›®ä¸­å¼•å…¥banditçš„å¯å‘æ€è€ƒã€‚</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/dechinphy/p/bandit.html</dc:identifier>
</item>
<item>
<title>Elasticsearchä»å…¥é—¨åˆ°æ”¾å¼ƒï¼šæµ…è°ˆç®—åˆ† - Jackeyzhe</title>
<link>http://www.cnblogs.com/Jackeyzhe/p/14333109.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Jackeyzhe/p/14333109.html</guid>
<description>&lt;p&gt;ä»Šå¤©æ¥èŠä¸€ä¸ª Elasticsearch çš„å¦ä¸€ä¸ªå…³é”®æ¦‚å¿µâ€”â€”ç›¸å…³æ€§ç®—åˆ†ã€‚åœ¨æŸ¥è¯¢ API çš„ç»“æœä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ° &lt;code&gt;_score&lt;/code&gt; è¿™ä¸ªå­—æ®µï¼Œå®ƒå°±æ˜¯ç”¨æ¥è¡¨ç¤ºç›¸å…³æ€§ç®—åˆ†çš„å­—æ®µï¼Œè€Œç›¸å…³æ€§å°±æ˜¯æè¿°ä¸€ä¸ªæ–‡æ¡£å’ŒæŸ¥è¯¢è¯­å¥çš„åŒ¹é…ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“åˆ†çš„æœ¬è´¨å…¶å®å°±æ˜¯æ’åºï¼ŒElasticsearch ä¼šæŠŠæœ€ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„æ–‡æ¡£æ’åœ¨æœ€å‰é¢ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Elasticsearch 5.0 ä¹‹å‰ï¼Œç›¸å…³æ€§ç®—åˆ†ç®—æ³•é‡‡ç”¨çš„æ˜¯ TF-IDF ç®—æ³•ï¼Œè€Œåœ¨5.0ä¹‹åé‡‡ç”¨çš„æ˜¯ BM 25 ç®—æ³•ã€‚å¬åˆ°è¿™ä¹Ÿè®¸ä½ ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œæƒ³çŸ¥é“è¿™ä¸¤ä¸ªç®—æ³•åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚åˆ«æ€¥ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“äº†è§£ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;tf-idf&quot;&gt;TF-IDF&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæ¥çœ‹å­—é¢æ„æ€ï¼ŒTF æ˜¯ Term Frequency çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯è¯é¢‘ã€‚IDF æ˜¯ Inverse Document Frequency çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯é€†æ–‡æ¡£é¢‘ç‡ã€‚&lt;/p&gt;
&lt;h4 id=&quot;è¯é¢‘&quot;&gt;è¯é¢‘&lt;/h4&gt;
&lt;p&gt;è¯é¢‘æ¯”è¾ƒå¥½ç†è§£ï¼Œå°±æ˜¯è¦æœç´¢çš„ç›®æ ‡å•è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡ã€‚ç®—å¼ä¸ºæ£€ç´¢è¯å‡ºç°çš„æ¬¡æ•°é™¤ä»¥æ–‡æ¡£çš„æ€»å­—æ•°ã€‚æœ€ç®€å•çš„ç›¸å…³æ€§ç®—æ³•å°±æ˜¯å°†æ£€ç´¢è¯è¿›è¡Œåˆ†è¯åå¯¹ä»–ä»¬çš„è¯é¢‘è¿›è¡Œç›¸åŠ ã€‚ä¾‹å¦‚ï¼Œæˆ‘è¦æœç´¢â€œæˆ‘çš„ç®—æ³•â€ï¼Œå…¶ç›¸å…³æ€§å°±å¯ä»¥è¡¨ç¤ºä¸ºï¼š&lt;/p&gt;
&lt;p&gt;TF(æˆ‘) + TF(çš„) + TF(ç®—æ³•)&lt;/p&gt;
&lt;p&gt;ä½†è¿™é‡Œä¹Ÿæœ‰äº›é—®é¢˜ï¼Œåƒâ€œçš„â€è¿™æ ·çš„è¯ï¼Œè™½ç„¶å‡ºç°çš„æ¬¡æ•°å¾ˆå¤šï¼Œä½†æ˜¯å¯¹è´¡çŒ®çš„ç›¸å…³åº¦å‡ ä¹æ²¡æœ‰ç”¨å¤„ã€‚æ‰€ä»¥åœ¨è€ƒè™‘ç›¸å…³åº¦æ—¶ä¸åº”è¯¥è€ƒè™‘ä»–ä»¬ï¼Œå¯¹äºè¿™ç±»è¯ï¼Œæˆ‘ä»¬ç»Ÿç§°ä¸º Stop Wordã€‚&lt;/p&gt;
&lt;h4 id=&quot;é€†æ–‡æ¡£é¢‘ç‡&quot;&gt;é€†æ–‡æ¡£é¢‘ç‡&lt;/h4&gt;
&lt;p&gt;èŠå®Œäº† TFï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ IDFï¼Œåœ¨äº†è§£é€†æ–‡æ¡£é¢‘ç‡ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯æ–‡æ¡£é¢‘ç‡ï¼Œä¹Ÿå°±æ˜¯ DFã€‚&lt;/p&gt;
&lt;p&gt;DF å…¶å®æ˜¯æ£€ç´¢è¯åœ¨æ‰€æœ‰æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡ã€‚ä¾‹å¦‚ï¼Œâ€œæˆ‘â€åœ¨è¾ƒå¤šçš„æ–‡æ¡£ä¸­å‡ºç°ï¼Œâ€œçš„â€åœ¨éå¸¸å¤šçš„æ–‡æ¡£ä¸­éƒ½ä¼šå‡ºç°ï¼Œè€Œâ€œç®—æ³•â€åªä¼šåœ¨è¾ƒå°‘çš„æ–‡æ¡£ä¸­å‡ºç°ã€‚è¿™å°±æ˜¯æ–‡æ¡£é¢‘ç‡ï¼Œé‚£é€†æ–‡æ¡£é¢‘ç‡ï¼Œç®€å•ç†è§£å°±æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;log(å…¨éƒ¨æ–‡æ¡£æ•° / æ£€ç´¢è¯å‡ºç°è¿‡çš„æ–‡æ¡£æ€»æ•°)&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†å®ƒæ›´å…·ä½“çš„å‘ˆç°ä¸€ä¸‹ã€‚å‡è®¾æˆ‘ä»¬æ–‡æ¡£æ€»æ•°ä¸º1äº¿ï¼Œå‡ºç°â€œæˆ‘â€å­—çš„æ–‡æ¡£æœ‰5000ä¸‡ï¼Œé‚£ä¹ˆå®ƒçš„ IDF å°±æ˜¯ log(2) = 1 ã€‚â€œçš„â€åœ¨1äº¿æ–‡æ¡£ä¸­éƒ½æœ‰å‡ºç°ï¼ŒIDF å°±æ˜¯ log(1) = 0ï¼Œè€Œç®—æ³•åªåœ¨20ä¸‡ä¸ªæ–‡æ¡£ä¸­å‡ºç°ï¼Œé‚£ä¹ˆå®ƒçš„ IDF å°±æ˜¯ log(500) ï¼Œå¤§çº¦æ˜¯8.96ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼ŒIDF è¶Šå¤§çš„å•è¯è¶Šé‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å„ä½ TF å’Œ IDF åº”è¯¥éƒ½æœ‰ä¸€å®šçš„äº†è§£äº†ï¼Œé‚£ä¹ˆ TF-IDF æœ¬è´¨ä¸Šå°±æ˜¯å¯¹ TF è¿›è¡Œä¸€ä¸ªåŠ æƒæ±‚å’Œã€‚&lt;/p&gt;
&lt;p&gt;TF(æˆ‘) * IDF(æˆ‘) + TF(çš„) * IDF(çš„) + TF(ç®—æ³•) * IDF(ç®—æ³•)&lt;/p&gt;
&lt;h3 id=&quot;bm-25&quot;&gt;BM 25&lt;/h3&gt;
&lt;p&gt;BM25å¯ä»¥çœ‹ä½œæ˜¯å¯¹ TF-IDF çš„ä¸€ä¸ªä¼˜åŒ–ï¼Œå…¶ä¼˜åŒ–çš„æ•ˆæœæ˜¯ï¼Œå½“ TF æ— é™å¢åŠ æ—¶ï¼Œ TF-IDF çš„ç»“æœä¼šéšä¹‹å¢åŠ ï¼Œè€Œ BM 25 çš„ç»“æœä¼šè¶‹è¿‘äºä¸€ä¸ªæ•°å€¼ã€‚è¿™å°±é™åˆ¶äº†ä¸€ä¸ª term å¯¹äºæ£€ç´¢è¯æ•´ä½“ç›¸å…³æ€§çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;BM25ç®—æ³•çš„å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://res.cloudinary.com/dxydgihag/image/upload/v1611591823/Blog/ES/06/1713353-fc89dbc4421949c6.png&quot; alt=&quot;BM25&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æƒ³è¦è¯¦ç»†äº†è§£BM25ç®—æ³•çš„åŒå­¦å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« &lt;a href=&quot;https://opensourceconnections.com/blog/2015/10/16/bm25-the-next-generation-of-lucene-relevation/&quot; target=&quot;_blank&quot;&gt;BM25 The Next Generation of Lucene Relevance&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;explain-api&quot;&gt;Explain API&lt;/h3&gt;
&lt;p&gt;å¦‚æœæƒ³è¦äº†è§£ä¸€ä¸ªæŸ¥è¯¢æ˜¯å¦‚ä½•è¿›è¡Œæ‰“åˆ†çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Elasticsearch æä¾›çš„ Explain APIï¼Œå…¶ç”¨æ³•éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å‚æ•°ä¸­å¢åŠ &lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;&quot;explain&quot;: true
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨ path ä¸­å¢åŠ  &lt;code&gt;_explain&lt;/code&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;curl -X GET &quot;localhost:9200/my-index-000001/_explain/0?pretty&quot; -H 'Content-Type: application/json' -d'
{
  &quot;query&quot; : {
    &quot;match&quot; : { &quot;message&quot; : &quot;elasticsearch&quot; }
  }
}
'
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;è¿™æ—¶ï¼Œè¿”å›ç»“æœä¸­å°±ä¼šæœ‰ä¸€ä¸ª &lt;code&gt;explanation&lt;/code&gt; å­—æ®µï¼Œç”¨æ¥æè¿°å…·ä½“çš„ç®—åˆ†è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h3&gt;
&lt;p&gt;å…³äº Elasticsearch çš„ç®—åˆ†ï¼Œç›¸ä¿¡å„ä½ä¹Ÿæœ‰ä¸€ä¸ªåˆæ­¥çš„è®¤è¯†äº†ï¼Œå¦‚æœæ„Ÿå…´è¶£çš„è¯ä¹Ÿå¯ä»¥è‡ªå·±è¿›è¡Œæ›´åŠ æ·±å…¥çš„ç ”ç©¶ï¼Œä¹Ÿæ¬¢è¿å„ä½å’Œæˆ‘ä¸€èµ·äº¤æµã€‚&lt;/p&gt;
</description>
<pubDate>Tue, 26 Jan 2021 16:28:00 +0000</pubDate>
<dc:creator>Jackeyzhe</dc:creator>
<og:description>ä»Šå¤©æ¥èŠä¸€ä¸ª Elasticsearch çš„å¦ä¸€ä¸ªå…³é”®æ¦‚å¿µâ€”â€”ç›¸å…³æ€§ç®—åˆ†ã€‚åœ¨æŸ¥è¯¢ API çš„ç»“æœä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ° _score è¿™ä¸ªå­—æ®µï¼Œå®ƒå°±æ˜¯ç”¨æ¥è¡¨ç¤ºç›¸å…³æ€§ç®—åˆ†çš„å­—æ®µï¼Œè€Œç›¸å…³æ€§å°±æ˜¯æè¿°ä¸€ä¸ªæ–‡æ¡£å’ŒæŸ¥</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/Jackeyzhe/p/14333109.html</dc:identifier>
</item>
<item>
<title>dotnet cli 5.0 æ–°ç‰¹æ€§â€”â€”dotnet tool search - WeihanLi</title>
<link>http://www.cnblogs.com/weihanli/p/14332998.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/weihanli/p/14332998.html</guid>
<description>&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;
&lt;p&gt;.NET 5.0 SDK çš„å‘å¸ƒï¼Œç»™ dotnet cli å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç‰¹æ€§ï¼Œ&lt;code&gt;dotnet tool search&lt;/code&gt;ï¼Œä¸»è¦ç”¨äºæœç´¢ Nuget ä¸Šçš„ dotnet toolï¼Œè¿™ä¸ªå‘½ä»¤ä¼šæœç´¢ tool çš„åç§°ä»¥åŠä¸€äº›å…ƒæ•°æ®ï¼Œ titles, descriptions, å’Œ tags&lt;/p&gt;
&lt;h2 id=&quot;search&quot;&gt;Search&lt;/h2&gt;
&lt;h3 id=&quot;synopsis&quot;&gt;Synopsis&lt;/h3&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;dotnet tool search [--detail] [--prerelease]&lt;br/&gt;[--skip ] [--take ]&lt;/p&gt;
&lt;p&gt;dotnet tool search -h|--help&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;dotnet tool search -h&lt;/code&gt; æŸ¥çœ‹æ”¯æŒçš„å‚æ•°ï¼Œæ”¯æŒçš„å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h3 id=&quot;examples&quot;&gt;Examples&lt;/h3&gt;
&lt;p&gt;æ¥çœ‹å‡ ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;dotnet tool search &amp;lt;keyword&amp;gt;&lt;/code&gt; è¿›è¡Œæœ€åŸºæœ¬çš„æœç´¢ï¼Œ&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;dotnet tool search &amp;lt;keyword&amp;gt; --skip &amp;lt;skip&amp;gt; --take &amp;lt;take&amp;gt;&lt;/code&gt; æ¥è¿›è¡Œåˆ†é¡µæŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/489462/202101/489462-20210126232000018-1108843325.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;dotnet tool search &amp;lt;keyword&amp;gt; --take 1 --detail&lt;/code&gt; æŸ¥è¯¢è¯¦ç»†ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/489462/202101/489462-20210126231927765-1797568363.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;more&quot;&gt;More&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªåŠŸèƒ½ä» .NET 5.0 SDK ä¹‹åæ‰æ”¯æŒï¼Œå®ƒçš„å®ç°æ–¹å¼å€’æ˜¯å¾ˆç®€å•ï¼Œç›´æ¥è°ƒç”¨äº† Nuget çš„æ¥å£ï¼Œé€šè¿‡ &lt;code&gt;packageType=dotnettool&lt;/code&gt; åªæŸ¥è¯¢ dotnet tool&lt;/p&gt;
&lt;p&gt;ç”¨æŠ“åŒ…å·¥å…·æŠ“ä¸ªåŒ…çœ‹çœ‹ï¼Œsearch çš„æ—¶å€™åšäº†ä»€ä¹ˆï¼Œsearch çš„æ—¶å€™ä¼šè°ƒç”¨ nuget çš„æ¥å£ï¼Œæ¥å£è°ƒç”¨æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/489462/202101/489462-20210126233743636-1573464557.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™ä¸ªæˆ‘ä»¬å³ä½¿ä¸å®Œå…¨è®°å¾— package tool çš„ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¿›è¡ŒæŸ¥è¯¢ï¼Œæ–¹ä¾¿äº†å¾ˆå¤š&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
</description>
<pubDate>Tue, 26 Jan 2021 15:38:00 +0000</pubDate>
<dc:creator>WeihanLi</dc:creator>
<og:description>dotnet cli 5.0 æ–°ç‰¹æ€§â€”â€”dotnet tool search Intro .NET 5.0 SDK çš„å‘å¸ƒï¼Œç»™ dotnet cli å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç‰¹æ€§ï¼Œdotnet tool sea</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/weihanli/p/14332998.html</dc:identifier>
</item>
<item>
<title>HTML5ä¸CSS3çŸ¥è¯†ç‚¹æ€»ç»“ - Robodä¸¶</title>
<link>http://www.cnblogs.com/robod/p/14332916.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/robod/p/14332916.html</guid>
<description>&lt;blockquote readability=&quot;5.556862745098&quot;&gt;
&lt;p&gt;&lt;strong&gt;å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„Githubä»“åº“&lt;a href=&quot;https://github.com/RobodLee/DayDayUP&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;DayDayUP&lt;/strong&gt;&lt;/a&gt;ï¼šgithub.com/RobodLee/DayDayUPï¼Œæ¬¢è¿Star&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;â­â­â­â­â­â­â­â­â­â­&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_43461520/article/details/113201713&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;â­â­â­â­â­â­â­â­â­â­&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;html5æ–°å¢æ ‡ç­¾&quot;&gt;HTML5æ–°å¢æ ‡ç­¾&lt;/h2&gt;
&lt;p&gt;HTML5é’ˆå¯¹ä»¥å‰çš„ä¸è¶³ï¼Œæ–°å¢äº†ä¸€äº›æ–°çš„æ ‡ç­¾ã€è¡¨å•ä»¥åŠè¡¨å•å±æ€§ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¯­ä¹‰åŒ–æ ‡ç­¾&quot;&gt;è¯­ä¹‰åŒ–æ ‡ç­¾&lt;/h3&gt;
&lt;p&gt;ä¹‹å‰åœ¨åšå¸ƒå±€çš„ä½¿ç”¨ï¼Œä½¿ç”¨äº†å¤§é‡çš„divï¼Œè¿™äº›divéƒ½æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ï¼Œæˆ‘ä»¬ä¸èƒ½å¾ˆè½»æ˜“çš„å°±åˆ¤æ–­å‡ºæŸä¸ªdivå¤§è‡´æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œæ‰€ä»¥åœ¨HTML5ä¸­æ–°å¢äº†è¯­ä¹‰åŒ–æ ‡ç­¾æ¥å¼¥è¡¥è¿™ä¸ªç¼ºé™·ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥æ ¹æ®æ ‡ç­¾åå»æ¨æ–­å‡ºå…¶å¤§è‡´å†…å®¹ï¼Œæ–¹ä¾¿ä»£ç çš„é˜…è¯»ï¼Œè€Œä¸”ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ä¹Ÿå¯ä»¥æé«˜è¢«æœç´¢å¼•æ“æ£€ç´¢çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;ï¼šå¤´éƒ¨æ ‡ç­¾&lt;br/&gt;&lt;code&gt;&amp;lt;nav&amp;gt;&lt;/code&gt;ï¼šå¯¼èˆªæ ‡ç­¾&lt;br/&gt;&lt;code&gt;&amp;lt;article&amp;gt;&lt;/code&gt;ï¼šå†…å®¹æ ‡ç­¾&lt;br/&gt;&lt;code&gt;&amp;lt;section&amp;gt;&lt;/code&gt;ï¼šå®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸ&lt;br/&gt;&lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt;ï¼šä¾§è¾¹æ æ ‡ç­¾&lt;br/&gt;&lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt;ï¼šå°¾éƒ¨æ ‡ç­¾&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/34f163c8c6de0ebcad53dae07163b6d5.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¤šåª’ä½“æ ‡ç­¾&quot;&gt;å¤šåª’ä½“æ ‡ç­¾&lt;/h3&gt;
&lt;p&gt;HTML5åŸç”Ÿæ”¯æŒéŸ³è§†é¢‘æ–‡ä»¶çš„æ’­æ”¾ï¼Œå…¶ä¸­éŸ³é¢‘æ ‡ç­¾å’Œè§†é¢‘æ ‡ç­¾çš„ä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸€è‡´ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;autdio&amp;gt;&lt;/code&gt;ï¼šéŸ³é¢‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;audio&amp;gt;&lt;/code&gt;æ ‡ç­¾æ”¯æŒä¸‰ç§éŸ³é¢‘æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯MP3ã€Wavä»¥åŠOggï¼Œå…¶ä¸­MP3æ ¼å¼æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;è¯­æ³•ï¼š
&amp;lt;audio src=&quot;æ–‡ä»¶åœ°å€&quot; controls=&quot;controls&quot;&amp;gt;&amp;lt;/audio&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;audio&amp;gt;&lt;/code&gt;æ ‡ç­¾å¸¸è§å±æ€§ğŸ‘‡&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å±æ€§&lt;/th&gt;
&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;3&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;autoplay&lt;/td&gt;
&lt;td&gt;autoplay&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºéŸ³é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;controls&lt;/td&gt;
&lt;td&gt;controls&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºå‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;loop&lt;/td&gt;
&lt;td&gt;loop&lt;/td&gt;
&lt;td&gt;å¾ªç¯æ’­æ”¾ï¼Œå³æ¯å½“éŸ³é¢‘ç»“æŸæ—¶é‡æ–°å¼€å§‹æ’­æ”¾&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;src&lt;/td&gt;
&lt;td&gt;url&lt;/td&gt;
&lt;td&gt;è¦æ’­æ”¾çš„éŸ³é¢‘çš„url&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt;ï¼šè§†é¢‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt;æ ‡ç­¾æ”¯æŒä¸‰ç§è§†é¢‘æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯MP4ã€WebMä»¥åŠOggï¼Œå…¶ä¸­MP4æ ¼å¼æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;è¯­æ³•ï¼š
&amp;lt;video src=&quot;æ–‡ä»¶åœ°å€&quot; controls=&quot;controls&quot;&amp;gt;&amp;lt;/video&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt;æ ‡ç­¾æœ‰å¾ˆå¤šå±æ€§ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ğŸ‘‡&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å±æ€§&lt;/th&gt;
&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;6.5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td&gt;autoplay&lt;/td&gt;
&lt;td&gt;autoplay&lt;/td&gt;
&lt;td&gt;è§†é¢‘å°±ç»ªè‡ªåŠ¨æ’­æ”¾(è°·æ­Œæµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨æ’­æ”¾ï¼Œéœ€è¦æ·»åŠ mutedå±æ€§æ¥è‡ªåŠ¨æ’­æ”¾)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;controls&lt;/td&gt;
&lt;td&gt;controls&lt;/td&gt;
&lt;td&gt;å‘ç”¨æˆ·æ˜¾ç¤ºæ’­æ”¾æ§ä»¶&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;width&lt;/td&gt;
&lt;td&gt;pixels(åƒç´ )&lt;/td&gt;
&lt;td&gt;è®¾ç½®æ’­æ”¾å™¨å®½åº¦&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;height&lt;/td&gt;
&lt;td&gt;pixels(åƒç´ )&lt;/td&gt;
&lt;td&gt;è®¾ç½®æ’­æ”¾å™¨é«˜åº¦&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;loop&lt;/td&gt;
&lt;td&gt;loop&lt;/td&gt;
&lt;td&gt;æ’æ”¾å®Œæ˜¯å¦ç»§ç»­æ’­æ”¾è¯¥è§†é¢‘ï¼Œå¾ªç¯æ’­æ”¾&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;preload&lt;/td&gt;
&lt;td&gt;auto(é¢„å…ˆåŠ è½½è§†é¢‘)&lt;br/&gt;none(ä¸åŠ è½½è§†é¢‘)&lt;/td&gt;
&lt;td&gt;è§„å®šæ˜¯å¦é¢„åŠ è½½è§†é¢‘ (å¦‚æœæœ‰äº† autoplay å°±å¿½ç•¥è¯¥å±æ€§)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;src&lt;/td&gt;
&lt;td&gt;url&lt;/td&gt;
&lt;td&gt;è§†é¢‘uråœ°å€&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;poster&lt;/td&gt;
&lt;td&gt;å›¾ç‰‡çš„url&lt;/td&gt;
&lt;td&gt;åŠ è½½ç­‰å¾…çš„ç”»é¢å›¾ç‰‡&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;muted&lt;/td&gt;
&lt;td&gt;muted&lt;/td&gt;
&lt;td&gt;é™éŸ³æ’æ”¾&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3 id=&quot;inputè¡¨å•&quot;&gt;inputè¡¨å•&lt;/h3&gt;
&lt;p&gt;åœ¨HTML5ä¸­ï¼Œå¢åŠ äº†ä¸€äº›æ–°çš„inputç±»å‹ï¼Œä½¿å…¶è¯­ä¹‰åŒ–æ›´åŠ æ˜æ˜¾ã€‚&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å±æ€§å€¼&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;8&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;email&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºEmailç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;url&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºURLç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;date&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¥æœŸç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;time&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¶é—´ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;month&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæœˆç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;week&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºå‘¨ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;number&quot;&lt;/td&gt;
&lt;td&gt;é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ•°å­—ç±»å‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;type=&quot;tel&quot;&lt;/td&gt;
&lt;td&gt;æ‰‹æœºå·ç &lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;type=&quot;search&quot;&lt;/td&gt;
&lt;td&gt;æœç´¢æ¡†&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;type=&quot;color&quot;&lt;/td&gt;
&lt;td&gt;ç”Ÿæˆä¸€ä¸ªé¢œè‰²é€‰æ‹©è¡¨å•&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;HTML5ä¸­ä¸ä»…æ–°å¢äº†ä¸€äº›inputç±»å‹ï¼Œè¿˜æ–°å¢äº†ä¸€äº›è¡¨å•å±æ€§ğŸ‘‡&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å±æ€§&lt;/th&gt;
&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;5&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;required&lt;/td&gt;
&lt;td&gt;required&lt;/td&gt;
&lt;td&gt;è¡¨å•æ‹¥æœ‰è¯¥å±æ€§è¡¨ç¤ºå…¶å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œå¿…å¡«&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;placeholder&lt;/td&gt;
&lt;td&gt;æç¤ºæ–‡æœ¬&lt;/td&gt;
&lt;td&gt;è¡¨å•çš„æç¤ºä¿¡æ¯ï¼Œå­˜åœ¨é»˜è®¤å€¼å°†ä¸æ˜¾ç¤º&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;autofocus&lt;/td&gt;
&lt;td&gt;autofocus&lt;/td&gt;
&lt;td&gt;è‡ªåŠ¨èšç„¦å±æ€§ï¼Œé¡µé¢åŠ è½½å®Œæˆè‡ªåŠ¨èšç„¦åˆ°æŒ‡å®šè¡¨å•&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;autocomplete&lt;/td&gt;
&lt;td&gt;off / on&lt;/td&gt;
&lt;td&gt;å½“ç”¨æˆ·åœ¨å­—æ®µå¼€å§‹é”®å…¥æ—¶ï¼Œæµè§ˆå™¨åŸºäºä¹‹å‰é”®å…¥è¿‡çš„å€¼ï¼Œåº”è¯¥æ˜¾ç¤ºå‡ºåœ¨å­—æ®µä¸­å¡«å†™çš„é€‰é¡¹ã€‚é»˜è®¤å·²ç»æ‰“å¼€ï¼Œå¦‚autocomplete=&quot;on&quot;ï¼Œå…³é—­autocomplete=&quot;offï¼Œéœ€è¦æ”¾åœ¨è¡¨å•å†…ï¼ŒåŒæ—¶åŠ ä¸Šnameå±æ€§ï¼Œå¹¶ä¸”æäº¤æˆåŠŸè¿‡&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;multiple&lt;/td&gt;
&lt;td&gt;multiple&lt;/td&gt;
&lt;td&gt;å¯ä»¥å¤šé€‰æ–‡ä»¶æäº¤&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2 id=&quot;css3æ–°å¢é€‰æ‹©å™¨&quot;&gt;CSS3æ–°å¢é€‰æ‹©å™¨&lt;/h2&gt;
&lt;h3 id=&quot;å±æ€§é€‰æ‹©å™¨&quot;&gt;å±æ€§é€‰æ‹©å™¨&lt;/h3&gt;
&lt;p&gt;å±æ€§é€‰æ‹©å™¨å¯ä»¥åœ¨ä¸ç”¨å€ŸåŠ©äºç±»æˆ–è€…idé€‰æ‹©å™¨çš„æƒ…å†µä¸‹ç›´æ¥&lt;strong&gt;æ ¹æ®å…ƒç´ ç‰¹å®šå±æ€§æ¥é€‰æ‹©å…ƒç´ &lt;/strong&gt;ï¼Œå®ƒçš„&lt;strong&gt;æƒé‡ä¸º10&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;code&gt;E[att]&lt;/code&gt;ï¼šé€‰æ‹©å…·æœ‰&lt;strong&gt;att&lt;/strong&gt;å±æ€§çš„&lt;strong&gt;E&lt;/strong&gt;å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!-- å°†å…·æœ‰valueå±æ€§çš„æŒ‰é’®1ä¸­æ–‡å­—é¢œè‰²ä¿®æ”¹ä¸ºçº¢è‰²ï¼ŒæŒ‰é’®2å› ä¸ºä¸å…·æœ‰valueå±æ€§ï¼Œæ‰€ä»¥æ–‡å­—é¢œè‰²æ²¡æœ‰æ”¹å˜ --&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;
    &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&amp;gt;
    &amp;lt;title&amp;gt;Document&amp;lt;/title&amp;gt;
    &amp;lt;style&amp;gt;
        input[value] {
            color: red;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;input type=&quot;button&quot; value=&quot;æŒ‰é’®1&quot;&amp;gt;
    &amp;lt;input type=&quot;button&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/fa674ca7cbfb28b598238a959803bf48.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;code&gt;E[att=&quot;val&quot;]&lt;/code&gt;ï¼šé€‰æ‹©å…·æœ‰&lt;strong&gt;att&lt;/strong&gt;å±æ€§ä¸”å±æ€§å€¼ç­‰äº&lt;strong&gt;val&lt;/strong&gt;çš„&lt;strong&gt;E&lt;/strong&gt;å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!-- å°†valueå±æ€§å€¼ä¸º â€œæŒ‰é’®2â€ çš„buttonçš„æ–‡å­—é¢œè‰²ä¿®æ”¹ä¸ºè“è‰² --&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        input[value=&quot;æŒ‰é’®2&quot;] {
            color: blue;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;input type=&quot;button&quot; value=&quot;æŒ‰é’®1&quot;&amp;gt;
    &amp;lt;input type=&quot;button&quot; value=&quot;æŒ‰é’®2&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/2aa60a8675a88888168bcd1387ac4c0a.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;code&gt;E[att^=&quot;val&quot;]&lt;/code&gt;ï¼šåŒ¹é…å…·æœ‰&lt;strong&gt;att&lt;/strong&gt;å±æ€§ä¸”å€¼ä»¥&lt;strong&gt;val&lt;/strong&gt;å¼€å¤´çš„&lt;strong&gt;E&lt;/strong&gt;å…ƒç´ &lt;br/&gt;&lt;code&gt;E[att$=&quot;val&quot;]&lt;/code&gt;ï¼šåŒ¹é…å…·æœ‰&lt;strong&gt;att&lt;/strong&gt;å±æ€§ä¸”å€¼ä»¥&lt;strong&gt;val&lt;/strong&gt;ç»“å°¾çš„&lt;strong&gt;E&lt;/strong&gt;å…ƒç´ &lt;br/&gt;&lt;code&gt;E[att*=&quot;val&quot;]&lt;/code&gt;ï¼šåŒ¹é…å…·æœ‰&lt;strong&gt;att&lt;/strong&gt;å±æ€§ä¸”å€¼ä¸­å«æœ‰&lt;strong&gt;val&lt;/strong&gt;çš„&lt;strong&gt;E&lt;/strong&gt;å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ç»“æ„ä¼ªç±»é€‰æ‹©å™¨&quot;&gt;ç»“æ„ä¼ªç±»é€‰æ‹©å™¨&lt;/h3&gt;
&lt;p&gt;ç»“æ„ä¼ªç±»é€‰æ‹©å™¨ä¸»è¦&lt;strong&gt;æ ¹æ®æ–‡æ¡£ç»“æ„æ¥é€‰æ‹©å…ƒç´ &lt;/strong&gt;ï¼Œå¸¸ç”¨äº&lt;strong&gt;æ ¹æ®çˆ¶çº§å…ƒç´ é€‰æ‹©é‡Œé¢çš„å­å…ƒç´ &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;E: first-child&lt;/code&gt;ï¼šåŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ E&lt;br/&gt;&lt;code&gt;E: last-child&lt;/code&gt;ï¼šåŒ¹é…çˆ¶å…ƒç´ ä¸­æœ€åä¸€ä¸ªEå…ƒç´ &lt;br/&gt;&lt;code&gt;E: nth-child(n)&lt;/code&gt;ï¼šåŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬nä¸ªå­å…ƒç´ Eï¼Œnä¹Ÿå¯ä»¥æ˜¯å…³é”®å­—&lt;strong&gt;evenå¶æ•°&lt;/strong&gt;ã€&lt;strong&gt;oddå¥‡æ•°&lt;/strong&gt;ï¼Œå¦‚æœç›´æ¥å†™å­—æ¯nåˆ™è¡¨ç¤ºé€‰æ‹©æ‰€æœ‰çš„å­å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        ul li:first-child {
            background-color: skyblue;
        }
        ul li:last-child {
            background-color: aquamarine;
        }
        ul li:nth-child(2) {
            background-color: blueviolet;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;æ¬¢è¿å…³æ³¨&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;å¾®ä¿¡å…¬ä¼—å·ï¼š&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Robod&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/98aff0c6c6715d6f2acd40780b6bc2ab.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;code&gt;E: first-of-type&lt;/code&gt;ï¼šæŒ‡å®šç±»å‹Eçš„ç¬¬ä¸€ä¸ª&lt;br/&gt;&lt;code&gt;E: last-of-type&lt;/code&gt;ï¼šæŒ‡å®šç±»å‹Eçš„æœ€å&lt;br/&gt;&lt;code&gt;E: nth-of-type(n)&lt;/code&gt;ï¼šæŒ‡å®šç±»å‹Eçš„ç¬¬nä¸ª&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªå’Œä¸Šé¢ä¸‰ä¸ªä½¿ç”¨èµ·æ¥ç±»ä¼¼ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„ï¼Œ&lt;strong&gt;nth-child&lt;/strong&gt;æ˜¯å¯¹çˆ¶å…ƒç´ é‡Œé¢æ‰€æœ‰å­å…ƒç´ æ’åºé€‰æ‹©(åºå·æ˜¯å›ºå®šçš„)å…ˆæ‰¾åˆ°ç¬¬nä¸ªå­©å­ï¼Œç„¶åçœ‹çœ‹æ˜¯å¦å’ŒEåŒ¹é…ï¼›è€Œ&lt;strong&gt;nth-of-type&lt;/strong&gt;åˆ™æ˜¯å¯¹çˆ¶å…ƒç´ é‡Œé¢æŒ‡å®šå­å…ƒç´ è¿›è¡Œæ’åºé€‰æ‹©ï¼Œå…ˆå»åŒ¹é…Eï¼Œç„¶åå†æ ¹æ®Eæ‰¾ç¬¬nä¸ªå­å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        ul li:nth-child(1) {
            /* å…ˆå¯¹ulé‡Œçš„æ‰€æœ‰å­å…ƒç´ æ’åºï¼Œæ‰¾åˆ°åºå·ä¸º1çš„å…ƒç´ ï¼Œå‘ç°æ˜¯pæ ‡ç­¾è€Œä¸æ˜¯liï¼Œæ‰€ä»¥æ ·å¼ä¸ç”Ÿæ•ˆ */
            background-color: skyblue;
        }
        div li:nth-of-type(1) {
            /* å…ˆåŒ¹é…å¯¹åº”çš„liå…ƒç´ ï¼Œå¯¹liå…ƒç´ è¿›è¡Œæ’åºï¼Œæ’åºåé€‰æ‹©ç¬¬ä¸€ä¸ªli */
            background-color: skyblue;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;p&amp;gt;å¾®ä¿¡å…¬ä¼—å·ï¼šRobod&amp;lt;/p&amp;gt;     &amp;lt;!-- åºå·æ˜¯1 --&amp;gt;
        &amp;lt;li&amp;gt;æ¬¢è¿å…³æ³¨&amp;lt;/li&amp;gt;            &amp;lt;!-- åºå·æ˜¯2 --&amp;gt;
        &amp;lt;li&amp;gt;å¾®ä¿¡å…¬ä¼—å·ï¼š&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Robod&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;div&amp;gt;
        &amp;lt;p&amp;gt;p&amp;lt;/p&amp;gt;
        &amp;lt;li&amp;gt;li1&amp;lt;/li&amp;gt;    &amp;lt;!-- åºå·æ˜¯1 --&amp;gt;    
        &amp;lt;li&amp;gt;li2&amp;lt;/li&amp;gt;    &amp;lt;!-- åºå·æ˜¯2 --&amp;gt;  
    &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/b4c2827bc51ec6f49bd332dc3e915d30.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¼ªå…ƒç´ é€‰æ‹©å™¨&quot;&gt;ä¼ªå…ƒç´ é€‰æ‹©å™¨&lt;/h3&gt;
&lt;p&gt;æœ‰çš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªç®€å•çš„æ ‡ç­¾ï¼Œå¦‚æœç”¨HTMLåšçš„è¯å°±ä¼šä½¿ä»£ç ç»“æ„å˜å¾—å¤æ‚ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨CSSåˆ›å»ºæ–°æ ‡ç­¾å…ƒç´ ï¼Œä»è€Œç®€åŒ–HTMLç»“æ„ã€‚ä¼ªå…ƒç´ é€‰æ‹©å™¨æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯&lt;code&gt;::before&lt;/code&gt;ï¼ˆåœ¨å…ƒç´ å†…éƒ¨çš„å‰é¢æ’å…¥å†…å®¹ï¼‰å’Œ&lt;code&gt;::after&lt;/code&gt;ï¼ˆåœ¨å…ƒç´ å†…éƒ¨çš„åé¢æ·»åŠ å†…å®¹ï¼‰ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å®ƒä»¬åˆ›å»ºçš„å…ƒç´ æ˜¯&lt;strong&gt;è¡Œå†…å…ƒç´ &lt;/strong&gt;ï¼Œè€Œä¸”åœ¨æ–‡æ¡£æ ‘é‡Œé¢æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œè¿™ä¸¤ä¸ªé€‰æ‹©å™¨å¿…é¡»è¦æœ‰&lt;strong&gt;content&lt;/strong&gt;å±æ€§(å¯ä»¥æ²¡æœ‰å€¼)ï¼Œä¼ªå…ƒç´ é€‰æ‹©å™¨çš„&lt;strong&gt;æƒé‡æ˜¯1&lt;/strong&gt;ï¼Œ&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!--è¯­æ³•ï¼š
        element::before{}
--&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        div {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: aquamarine;
        }
        div::before {
            content: 'å¾®ä¿¡å…¬ä¼—å·';
        }
        div::after {
            position: absolute;
            font-size: 30px;
            content: &quot;Robod&quot;;
            right: 10px;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;
        :
    &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/581c476973fc59fd664f8186d95ff6fd.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;css3æ–°ç‰¹æ€§&quot;&gt;CSS3æ–°ç‰¹æ€§&lt;/h2&gt;
&lt;h3 id=&quot;css3ç›’æ¨¡å‹&quot;&gt;CSS3ç›’æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä¹‹å‰æˆ‘ä»¬åœ¨å®šä¹‰ç›’å­å¤§å°çš„æ—¶å€™ï¼ŒæŒ‡å®šäº†widthå±æ€§ï¼Œå¯æ˜¯ç›’å­å®é™…çš„å®½åº¦å¹¶ä¸æ˜¯widthï¼Œpaddingå’Œborderéƒ½ä¼šå°†ç›’å­æ’‘å¤§ï¼Œä¹Ÿå°±æ˜¯å®é™…çš„ç›’å­å®½åº¦æ˜¯&lt;strong&gt;width+padding+border&lt;/strong&gt;ï¼Œè€Œç°åœ¨å¯ä»¥ç”¨&lt;code&gt;box-sizing&lt;/code&gt;æ¥æŒ‡å®šç›’æ¨¡å‹ï¼Œbox-sizingå±æ€§æœ‰ä»¥ä¸‹ä¸¤ä¸ªå€¼ã€‚&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;content-box&lt;/code&gt;ï¼šè¿™ä¸ªæ˜¯é»˜è®¤å€¼ï¼Œç›’å­çš„å®½åº¦æ˜¯&lt;strong&gt;width+padding+border&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;border-box&lt;/code&gt;ï¼šç›’å­çš„å¤§å°ä¸º&lt;strong&gt;width&lt;/strong&gt;å±æ€§çš„å€¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        .box1 {
            width: 400px;
            height: 100px;
            border: 20px solid red;
            background-color: aqua;
            padding: 10px;
            box-sizing: content-box;
        }
        .box2 {
            width: 400px;
            height: 100px;
            border: 20px solid green;
            background-color: blanchedalmond;
            padding: 10px;
            box-sizing: border-box;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&quot;box1&quot;&amp;gt;è¯·å°ä¼™ä¼´ä»¬ç»™æˆ‘çš„æ–‡ç« æ¥ä¸ªèµï¼&amp;lt;/div&amp;gt;
    &amp;lt;div class=&quot;box2&quot;&amp;gt;æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šRobod&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/d98a8a94981e45cacfe9a10830ce8bff.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;css3æ»¤é•œfilter&quot;&gt;CSS3æ»¤é•œfilter&lt;/h3&gt;
&lt;p&gt;filterå±æ€§å°†æ¨¡ç³Šæˆ–é¢œè‰²åç§»ç­‰å›¾å½¢æ•ˆæœåº”ç”¨äºå…ƒç´ ï¼Œé€šå¸¸ç”¨äºè°ƒæ•´å›¾åƒï¼ŒèƒŒæ™¯å’Œè¾¹æ¡†çš„æ¸²æŸ“ã€‚å¸¸ç”¨çš„å‡ ä¸ªå‡½æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote readability=&quot;8.7695749440716&quot;&gt;
&lt;p&gt;&lt;code&gt;filter: blur(5px)&lt;/code&gt; è¯¥å‡½æ•°ç”¨æ¥å¯¹å›¾ç‰‡è¿›è¡Œæ¨¡ç³Šå¤„ç†ï¼Œæ•°å€¼è¶Šå¤§å›¾ç‰‡è¶Šæ¨¡ç³Š&lt;br/&gt;&lt;code&gt;filter: contrast(200%)&lt;/code&gt; è°ƒæ•´å›¾åƒçš„å¯¹æ¯”åº¦ï¼Œ0%ä¼šå…¨é»‘ï¼Œ100%å›¾åƒä¸å˜ï¼Œè¶…è¿‡100%æ›´ä½çš„å¯¹æ¯”åº¦&lt;br/&gt;&lt;code&gt;filter: grayscale(80%)&lt;/code&gt; å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒï¼Œ100%å®Œå…¨è½¬ä¸ºç°åº¦å›¾åƒï¼Œ0%å›¾åƒæ— å˜åŒ–&lt;br/&gt;&lt;code&gt;filter: hue-rotate(90deg)&lt;/code&gt; ç»™å›¾åƒåº”ç”¨è‰²ç›¸æ—‹è½¬&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å…¶å®ƒçš„ä¸€äº›å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/filter&quot; target=&quot;_blank&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/CSS/filter&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;calcå‡½æ•°&quot;&gt;calc()å‡½æ•°&lt;/h3&gt;
&lt;p&gt;calc()å‡½æ•°å¯ä»¥åœ¨å£°æ˜CSSå±æ€§å€¼æ—¶æ‰§è¡Œä¸€äº›è®¡ç®—ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;width: calc(100% - 30px);              &amp;lt;!-- è¡¨ç¤ºæ¯”çˆ¶ç›’å­å°30åƒç´  --&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;css3è¿‡æ¸¡&quot;&gt;CSS3è¿‡æ¸¡&lt;/h3&gt;
&lt;p&gt;è¿‡æ¸¡åŠ¨ç”»æ˜¯ä»ä¸€ä¸ªçŠ¶æ€æ¸æ¸çš„è¿‡æ¸¡åˆ°å¦å¤–ä¸€ä¸ªçŠ¶æ€ï¼Œé€šå¸¸å’Œ&lt;strong&gt;:hover&lt;/strong&gt;ä¸€èµ·æ­é…ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;/*è¯­æ³•ï¼š*/
transition:è¦è¿‡æ¸¡çš„å±æ€§ èŠ±è´¹æ—¶é—´ è¿åŠ¨æ›²çº¿ ä½•æ—¶å¼€å§‹
/*å‚æ•°è¯´æ˜ */
1ã€å±æ€§ï¼šæƒ³è¦å˜åŒ–çš„csså±æ€§,å®½åº¦é«˜åº¦èƒŒæ™¯é¢œè‰²å†…å¤–è¾¹è·éƒ½å¯ä»¥ï¼Œå¦‚æœæƒ³è¦æ‰€æœ‰çš„å±æ€§éƒ½å˜åŒ–è¿‡æ¸¡,å†™ä¸€ä¸ª all å³å¯
2ã€èŠ±è´¹æ—¶é—´ï¼šå•ä½æ˜¯ç§’(å¿…é¡»å†™å•ä½)æ¯”å¦‚0.5s
3ã€è¿åŠ¨æ›²çº¿ï¼šé»˜è®¤æ˜¯ease(é€æ¸æ…¢ä¸‹æ¥ï¼Œå¯ä»¥çœç•¥)ï¼Œè¿˜å¯ä»¥æ˜¯linear(åŒ€é€Ÿ)ï¼Œease-in(åŠ é€Ÿ)ï¼Œease-out(å‡é€Ÿ)ï¼Œease-in-out(å…ˆåŠ é€Ÿåå‡é€Ÿ)
4ã€ä½•æ—¶å¼€å§‹ï¼šå•ä½æ˜¯ç§’(å¿…é¡»å†™å•ä½)ï¼Œå¯ä»¥è®¾ç½®å»¶è¿Ÿè§¦å‘æ—¶é—´é»˜è®¤æ˜¯0s(å¯ä»¥çœç•¥)
&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        div {
            width: 50px;
            height: 50px;
            background-color: aqua;
            /* å¦‚æœè¦å†™å¤šä¸ªå±æ€§ï¼Œç”¨é€—å·éš”å¼€å³å¯ */
            /* transition: width 1s ease-in-out .5s,height 1s ease-in-out .5s; */
            /* å¦‚æœæ‰€æœ‰çš„å±æ€§éƒ½è¦è¿‡æ¸¡ï¼Œå†™ all å³å¯ */
            transition: all 1s ease-in-out .5s;
        }
        div:hover {
            width: 100px;
            height: 100px;
            background-color: red;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;å¾®ä¿¡å…¬ä¼—å·ï¼šRobod&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/ab46aa1ff4d53e757a017c5b09091061.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;2dè½¬æ¢&quot;&gt;2Dè½¬æ¢&lt;/h2&gt;
&lt;h3 id=&quot;ç§»åŠ¨translation&quot;&gt;ç§»åŠ¨translation&lt;/h3&gt;
&lt;p&gt;2Dç§»åŠ¨æ˜¯2Dè½¬æ¢é‡Œé¢çš„ä¸€ç§åŠŸèƒ½ï¼Œå¯ä»¥æ”¹å˜å…ƒç´ åœ¨é¡µé¢ä¸­çš„ä½ç½®ï¼Œç±»ä¼¼å®šä½ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;/*ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯xæ–¹å‘ç§»åŠ¨çš„è·ç¦»ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯yæ–¹å‘ç§»åŠ¨çš„è·ç¦»ï¼Œå¯ä»¥æ˜¯ç™¾åˆ†æ¯”ï¼Œå€¼å¯ä»¥ä¸º0ä½†ä¸èƒ½æ²¡æœ‰*/
transform: translate(20px,0); 
/*ä¹Ÿå¯ä»¥åˆ†å¼€å†™ï¼ŒğŸ‘†çš„ä¸€è¡Œç­‰åŒäºğŸ‘‡ä¸¤è¡Œ*/
transfrom: translateX(20px);
transform: translateY(30px);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;translateçš„ä¼˜ç‚¹å°±æ˜¯&lt;strong&gt;ä¸ä¼šå½±å“åˆ°å…¶å®ƒå…ƒç´ çš„ä½ç½®&lt;/strong&gt;ï¼Œå¦‚æœå•ä½ä¸æ˜¯pxè€Œæ˜¯ç™¾åˆ†æ¯”çš„è¯ï¼Œè¡¨ç¤ºçš„å°±æ˜¯è‡ªèº«å…ƒç´ çš„ç™¾åˆ†æ¯”ï¼Œè¿™ç§ç§»åŠ¨æ–¹å¼&lt;strong&gt;å¯¹è¡Œå†…æ ‡ç­¾æ˜¯æ²¡æœ‰æ•ˆæœ&lt;/strong&gt;çš„ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        div:first-child {
            width: 100px;
            height: 100px;
            background-color: red;
            transform: translate(50%,20px);
        }
        div:last-child {
            width: 100px;
            height: 100px;
            background-color: aquamarine;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/24d5064e56d06b07bb82de52b5b5224a.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ—‹è½¬rotate&quot;&gt;æ—‹è½¬rotate&lt;/h3&gt;
&lt;p&gt;2Dæ—‹è½¬æŒ‡çš„æ˜¯è®©å…ƒç´ åœ¨äºŒç»´å¹³é¢å†…é¡ºæ—¶é’ˆæˆ–è€…é€†æ—¶é’ˆæ—‹è½¬ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!-- rotateä¸­åº¦æ•°çš„å•ä½æ˜¯degï¼Œé¡ºæ—¶é’ˆæ˜¯æ­£æ•°ï¼Œé€†æ—¶é’ˆæ˜¯è´Ÿæ•° --&amp;gt;
&amp;lt;!-- transfrom: rotate(åº¦æ•°); --&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        img {
            transition: all 1s;
        }
        img:hover {
            transform: rotate(360deg);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/c0ff79e2a6a3b1cfe95d40a72d281429.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ˜¯ä»¥å…ƒç´ çš„ä¸­å¿ƒä¸ºæ—‹è½¬ç‚¹è¿›è¡Œæ—‹è½¬ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„æ—‹è½¬ç‚¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;transfrom-origin&lt;/code&gt;å±æ€§æ›´æ”¹æ—‹è½¬ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!-- ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯xæ–¹å‘å’Œyæ–¹å‘çš„ä½ç½®ï¼Œå¯ä»¥æ˜¯åƒç´ ä¹Ÿå¯ä»¥æ˜¯æ–¹ä½åè¯ --&amp;gt;
&amp;lt;!-- transfrom-origin: x y; --&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        img {
            transform-origin: 50px bottom;
            transition: all 1s;
        }
        img:hover {
            transform: rotate(90deg);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/6b9d62ea942261cd8abe689b98e9eedb.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç¼©æ”¾scale&quot;&gt;ç¼©æ”¾scale&lt;/h3&gt;
&lt;p&gt;ç¼©æ”¾çš„æ„æ€å°±æ˜¯å¯ä»¥æ”¾å¤§å’Œç¼©å°ï¼Œå¯ä»¥ç”¨&lt;code&gt;scale&lt;/code&gt;æ¥è®¾ç½®ç¼©æ”¾ï¼Œè¿™ç§æ–¹å¼ç›¸è¾ƒäºç›´æ¥ä¿®æ”¹å®½é«˜è€Œè¨€ä¼˜åŠ¿å°±æ˜¯&lt;strong&gt;ä¸å½±å“å…¶å®ƒç›’å­&lt;/strong&gt;ï¼Œå’Œrotateä¸€æ ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡&lt;strong&gt;transform-origin&lt;/strong&gt;å±æ€§æ¥ä¿®æ”¹ç¼©æ”¾ä¸­å¿ƒã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;!-- ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå®½ç¼©æ”¾ä¸ºåŸæ¥çš„må€ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºé«˜ç¼©æ”¾ä¸ºåŸæ¥çš„nå€ï¼Œå¦‚æœåªå¡«ä¸€ä¸ªå‚æ•°ä»£è¡¨å®½é«˜åŒæ—¶ç¼©æ”¾ä¸ºåŸæ¥çš„xå€
transform: scale(m,n);
transform: scale(x); --&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        img {
            transition: all 1s;
            transform-origin: right bottom;
        }
        img:hover {
            transform: scale(.5);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
    &amp;lt;p&amp;gt;å¾®ä¿¡å…¬ä¼—å·ï¼šRobod&amp;lt;/p&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/b6d153899b5ce313f4b82e808b556841.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;ä¸Šè¿°çš„å‡ ä¸ªè½¬æ¢æ–¹å¼æ˜¯å¯ä»¥åŒæ—¶ä½¿ç”¨çš„ï¼Œä¸­é—´ç”¨ç©ºæ ¼éš”å¼€å³å¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;transform: translate() rotate() scale()...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¹¦å†™é¡ºåºä¼šå½±å“è½¬æ¢çš„æ•ˆæœï¼Œæ¯”å¦‚å…ˆæ—‹è½¬ä¼šæ”¹å˜åæ ‡è½´æ–¹å‘ï¼Œæ‰€ä»¥åœ¨åŒæ—¶æœ‰ä½ç§»å’Œå…¶å®ƒå±æ€§çš„æ—¶å€™ï¼Œä½ç§»è¦æ”¾åœ¨æœ€å‰é¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;css3-åŠ¨ç”»&quot;&gt;CSS3 åŠ¨ç”»&lt;/h2&gt;
&lt;p&gt;åŠ¨ç”»(animation)æ˜¯CSS3ä¸­å…·æœ‰é¢ è¦†æ€§çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å¤šä¸ªèŠ‚ç‚¹æ¥ç²¾ç¡®æ§åˆ¶ä¸€ä¸ªæˆ–ä¸€ç»„åŠ¨ç”»ï¼Œå¸¸ç”¨æ¥å®ç°å¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼Œç›¸æ¯”è¾ƒè¿‡æ¸¡ï¼ŒåŠ¨ç”»å¯ä»¥å®ç°æ›´å¤šå˜åŒ–ï¼Œæ›´å¤šæ§åˆ¶ï¼Œè¿ç»­è‡ªåŠ¨æ’­æ”¾ç­‰æ•ˆæœã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŠ¨ç”»çš„åŸºæœ¬ä½¿ç”¨&quot;&gt;åŠ¨ç”»çš„åŸºæœ¬ä½¿ç”¨&lt;/h3&gt;
&lt;ul readability=&quot;3.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;åŠ¨ç”»åºåˆ—&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å­¦ä¹ åŠ¨ç”»ä¹‹å‰ï¼Œè¦å…ˆæ˜ç¡®&lt;strong&gt;åŠ¨ç”»åºåˆ—&lt;/strong&gt;è¿™ä¸ªæ¦‚å¿µğŸ‘‡&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;0%&lt;/strong&gt;æ˜¯åŠ¨ç”»çš„&lt;strong&gt;å¼€å§‹&lt;/strong&gt;ï¼Œ&lt;strong&gt;100%&lt;/strong&gt;æ˜¯åŠ¨ç”»çš„ç»“æŸï¼ˆ0%~100%ä»£è¡¨ä¸åŒé˜¶æ®µçš„åŠ¨ç”»ï¼Œéƒ½å¯ä»¥è®¾ç½®ï¼‰ã€‚è¿™æ ·çš„è§„åˆ™å°±æ˜¯åŠ¨ç”»åºåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;@keyframes&lt;/code&gt;ä¸­è§„å®šæŸé¡¹CSSæ ·å¼ï¼Œå°±èƒ½åˆ›å»ºç”±å½“å‰æ ·å¼é€æ¸æ”¹ä¸ºæ–°æ ·å¼çš„åŠ¨ç”»æ•ˆæœã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨ç”»æ˜¯ä½¿å…ƒç´ ä»ä¸€ç§æ ·å¼é€æ¸å˜åŒ–ä¸ºå¦ä¸€ç§æ ·å¼çš„æ•ˆæœã€‚æ‚¨å¯ä»¥æ”¹å˜ä»»æ„å¤šçš„æ ·å¼ä»»æ„å¤šçš„&lt;strong&gt;æ¬¡æ•°&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¯·ç”¨ç™¾åˆ†æ¯”æ¥è§„å®šå˜åŒ–å‘ç”Ÿçš„æ—¶é—´ï¼Œæˆ–ç”¨å…³é”®è¯ &quot;&lt;strong&gt;from&lt;/strong&gt;&quot; å’Œ &quot;&lt;strong&gt;to&lt;/strong&gt;&quot; ï¼Œç­‰åŒäº0%å’Œ100%ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;code&gt;1ã€ä½¿ç”¨@keyframeså®šä¹‰åŠ¨ç”»&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;@keyframes è‡ªå®šä¹‰çš„åŠ¨ç”»åç§° {
    0% {
        xxxxxxï¼›
    }
    100% {
        xxxxxxxï¼›
    }
}
&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li readability=&quot;4&quot;&gt;
&lt;p&gt;&lt;code&gt;2ã€å…ƒç´ ä½¿ç”¨åŠ¨ç”»&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç»™éœ€è¦ä½¿ç”¨åŠ¨ç”»çš„å…ƒç´ æ·»åŠ &lt;code&gt;animation-name&lt;/code&gt;(è°ƒç”¨åŠ¨ç”»)ä»¥åŠ&lt;code&gt;animation-duration&lt;/code&gt;(æŒç»­æ—¶é—´)è¿™ä¸¤ä¸ªå±æ€§ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        @keyframes robod_animation {
            0% {
                transform: rotate(0) scale(1);
            }
            to {
                transform: rotate(90deg) scale(0.5);
            }
        }
        img {
            animation-name: robod_animation;
            animation-duration: 2s;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/9c25efeaad092b5755126c80e88e38f9.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;å¸¸ç”¨åŠ¨ç”»å±æ€§&quot;&gt;å¸¸ç”¨åŠ¨ç”»å±æ€§&lt;/h3&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å±æ€§&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;10&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;@keyframes&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ‰€æœ‰åŠ¨ç”»å±æ€§çš„ç®€å†™å±æ€§ï¼Œé™¤äº†animation-play-stateå±æ€§&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-name&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®š@keyframesåŠ¨ç”»çš„åç§°ï¼ˆå¿…é¡»ï¼‰&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-duration&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»å®Œæˆä¸€ä¸ªå‘¨æœŸæ‰€èŠ±è´¹çš„ç§’æˆ–æ¯«ç§’ï¼Œé»˜è®¤æ˜¯0ï¼ˆå¿…é¡»ï¼‰&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-timing-funtion&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ï¼Œé»˜è®¤æ˜¯ â€œeaseâ€&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-delay&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»ä½•æ—¶å¼€å§‹ï¼Œé»˜è®¤æ˜¯0&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-iteration-count&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»è¢«æ’­æ”¾çš„æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1ï¼Œè¿˜æœ‰infinite(æ— é™å¾ªç¯)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-direction&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»æ˜¯å¦åœ¨ä¸‹ä¸€å‘¨æœŸé€†å‘æ’­æ”¾ï¼Œé»˜è®¤æ˜¯â€œnormalâ€ï¼Œalternateé€†æ’­æ”¾&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-play-state&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»æ˜¯å¦æ­£åœ¨è¿è¡Œæˆ–æš‚åœï¼Œé»˜è®¤æ˜¯ â€œrunningâ€ï¼Œè¿˜æœ‰ â€œpausedâ€&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;strong&gt;animation-fill-mode&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è§„å®šåŠ¨ç”»ç»“æŸåçŠ¶æ€ï¼Œä¿æŒforwardsï¼Œå›åˆ°èµ·å§‹backwards&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;åŠ¨ç”»å±æ€§ä¹Ÿå¯ä»¥é‡‡ç”¨ç®€å†™çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;animation: åŠ¨ç”»åç§° æŒç»­æ—¶é—´ è¿åŠ¨æ›²çº¿ ä½•æ—¶å¼€å§‹ æ’­æ”¾æ¬¡æ•° æ˜¯å¦åæ–¹å‘ åŠ¨ç”»èµ·å§‹æˆ–è€…ç»“æŸçš„çŠ¶æ€;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç®€å†™å±æ€§é‡Œé¢ä¸åŒ…å«&lt;strong&gt;animation-play-state&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;é€Ÿåº¦æ›²çº¿&quot;&gt;é€Ÿåº¦æ›²çº¿&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢æåˆ°äº†ä¸€ä¸ª&lt;strong&gt;animation-timing-funtion&lt;/strong&gt;å±æ€§ç”¨æ¥è®¾ç½®åŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ï¼Œè¯¥å±æ€§çš„å€¼ä¸€å…±æœ‰6ä¸ªï¼š&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;4&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;linear&lt;/td&gt;
&lt;td&gt;åŠ¨ç”»ä»å¤´åˆ°å°¾çš„é€Ÿåº¦æ˜¯ç›¸åŒçš„ï¼ŒåŒ€é€Ÿ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;ease&lt;/td&gt;
&lt;td&gt;é»˜è®¤ï¼ŒåŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ï¼Œç„¶ååŠ å¿«ï¼Œåœ¨ç»“æŸå‰å˜æ…¢&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ease-in&lt;/td&gt;
&lt;td&gt;åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ease-out&lt;/td&gt;
&lt;td&gt;åŠ¨ç”»ä»¥ä½é€Ÿç»“æŸ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;ease-in-out&lt;/td&gt;
&lt;td&gt;åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹å’Œç»“æŸ&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;steps()&lt;/td&gt;
&lt;td&gt;æŒ‡å®šäº†æ—¶é—´å‡½æ•°ä¸­çš„é—´éš”æ•°é‡ï¼ˆæ­¥é•¿ï¼‰&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;å‰é¢å‡ ä¸ªéƒ½å¾ˆå¥½ç†è§£ï¼Œè¿™ä¸ªæ­¥é•¿çš„æ„æ€å°±æ˜¯æ•´ä¸ªæ“ä½œåˆ’åˆ†ä¸ºå¤šå°‘æ­¥ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥æ‰§è¡Œï¼Œç±»ä¼¼äºé‚£ç§ä¸€æ ¼ä¸€æ ¼çš„è¿›åº¦æ¡çš„æ„Ÿè§‰ï¼Œå¯ä»¥åšä¸€äº›æœ‰æ„æ€çš„åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        @keyframes steeeep {
            from {
                width: 0;
            }
            to {
                width: 160px;
            }
        }
        div {
            width: 160px;
            overflow: hidden;
            white-space: nowrap;
            font-size: 10px;
            background-color: aqua;
            animation: steeeep 2s steps(15) backwards;
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;
        æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šRobod
    &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/c833addb483297dd6b005ca020181862.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;3dè½¬æ¢&quot;&gt;3Dè½¬æ¢&lt;/h2&gt;
&lt;h3 id=&quot;é€è§†-perspective&quot;&gt;é€è§† perspective&lt;/h3&gt;
&lt;p&gt;åœ¨äº†è§£3Dè½¬æ¢ä¹‹å‰é¦–è¦è¦æ˜ç¡®ä¸€ä¸ªæ¦‚å¿µâ€”â€”â€œ&lt;strong&gt;é€è§†&lt;/strong&gt;â€ï¼Œç”µè„‘å±å¹•æ˜¯äºŒç»´çš„ï¼Œæˆ‘ä»¬æ²¡åŠæ³•ç›´æ¥çœ‹åˆ°ç«‹ä½“çš„ä¸œè¥¿ï¼Œå¦‚æœè¦æƒ³çœ‹åˆ°ç‰©ä½“åœ¨Zè½´ä¸Šçš„å˜åŒ–ï¼Œå°±å¾—ä½¿ç”¨&lt;strong&gt;é€è§†&lt;/strong&gt;ï¼Œé€è§†åˆç§°&lt;strong&gt;è§†è·&lt;/strong&gt;ï¼Œå…¶å®å°±æ˜¯3Dçš„ä¸œè¥¿æŠ•å½±åœ¨2Då¹³é¢çš„æ•ˆæœï¼Œä¸‹å›¾ä¸­çš„&lt;strong&gt;d&lt;/strong&gt;å°±æ˜¯é€è§†ï¼Œå½“ç‰©ä½“ä¸å˜æ—¶ï¼Œé€è§†è¶Šå¤§ï¼Œåœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å°±è¶Šå°ï¼Œé€è§†è¶Šå°ï¼Œåœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å°±è¶Šå¤§ï¼Œæ‰€è°“&lt;strong&gt;è¿‘å¤§è¿œå°&lt;/strong&gt;ã€‚é€è§†çš„&lt;strong&gt;å•ä½æ˜¯px&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/7ea3e9df5ba0646292d4e5db1a4038b0.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;3dç§»åŠ¨-translate3d&quot;&gt;3Dç§»åŠ¨ translate3d&lt;/h3&gt;
&lt;p&gt;3Dç§»åŠ¨å’Œ2Dç§»åŠ¨ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯å¤šäº†ä¸ªZè½´ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;/*è¿™ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨åœ¨xyzè½´è¦ç§»åŠ¨çš„è·ç¦»ï¼Œzè½´ä¸€èˆ¬ä»¥pxä¸ºå•ä½*/
transform: translate3d(x , y , z);
/*ä¹Ÿå¯ä»¥åˆ†å¼€å†™*/
translate: translateX(x);
translate: translateY(y);
translate: translateZ(z);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é¦–å…ˆç»™éœ€è¦ç§»åŠ¨çš„å…ƒç´ çš„çˆ¶å…ƒç´ æ·»åŠ é€è§†ï¼Œåœ¨é€è§†å›ºå®šçš„æƒ…å†µä¸‹ï¼Œæ”¹å˜translateZçš„å¤§å°ï¼Œå°±ä¼šæ”¹å˜å…ƒç´ åœ¨å±å¹•ä¸Šçš„å¤§å°ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        body {
            perspective: 500px;
        }
        div {
            width: 200px;
            height: 200px;
            background-color: aquamarine;
            margin: 0 auto;
            transform: translateZ(100px);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/3f066eee6f8db05c6bbb66bddfd44a31.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;3dæ—‹è½¬-rotate3d&quot;&gt;3Dæ—‹è½¬ rotate3d&lt;/h3&gt;
&lt;p&gt;3Dæ—‹è½¬æŒ‡å¯ä»¥è®©å…ƒç´ åœ¨ä¸‰ç»´å¹³é¢å†…æ²¿ç€xè½´ï¼Œyè½´ï¼Œzè½´æˆ–è€…è‡ªå®šä¹‰è½´è¿›è¡Œæ—‹è½¬ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;transform: rotateX(45deg);      /*æ²¿xè½´æ­£æ–¹å‘æ—‹è½¬45åº¦*/
transform: rotateY(45deg);      /*æ²¿yè½´æ­£æ–¹å‘æ—‹è½¬45åº¦*/
transform: rotateZ(45deg);      /*æ²¿zè½´æ­£æ–¹å‘æ—‹è½¬45åº¦*/
transform: rotate3d(1,1,0,45deg);       /*æ²¿ç€xè½´ä¸yè½´çš„å¯¹è§’çº¿æ—‹è½¬45åº¦*/
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆå“ªä¸€ä¸ªæ–¹å‘æ˜¯æ—‹è½¬æ­£æ–¹å‘å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§ï¼Œå°±æ˜¯&lt;strong&gt;å·¦æ‰‹å‡†åˆ™&lt;/strong&gt;ï¼Œå·¦æ‰‹å¤§æ‹‡æŒ‡æŒ‡å‘æŸä¸€ä¸ªè½´çš„æ­£æ–¹å‘ï¼Œæ‰‹æŒ‡å¼¯æ›²çš„æ–¹å‘å°±æ˜¯æ—‹è½¬çš„æ­£æ–¹å‘ï¼Œåä¹‹å°±æ˜¯åæ–¹å‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/a3927612cdd2554e6fde70224af7c10e.png#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        body {
            perspective: 500px;
        }
        img {
            transition: all 1s;
        }
        img:hover:first-child {
            transform: rotateX(45deg);
        }
        img:hover:nth-child(2) {
            transform: rotateY(45deg);
        }
        img:hover:nth-child(3) {
            transform: rotateZ(45deg);
        }
        img:hover:last-child {
            transform: rotate3d(1,1,0,45deg);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
    &amp;lt;img src=&quot;./images/robod.png&quot; alt=&quot;&quot;&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/62c103544f6f532bdea34ad2c581385a.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;3då‘ˆç°-transform-style&quot;&gt;3Då‘ˆç° transform-style&lt;/h3&gt;
&lt;p&gt;3Då‘ˆç°å°±æ˜¯ç”¨æ¥æ§åˆ¶å­å…ƒç´ æ˜¯å¦å¼€å¯ä¸‰ç»´ç«‹ä½“ç¯å¢ƒï¼Œé»˜è®¤æ˜¯&lt;strong&gt;transform-style: flat&lt;/strong&gt;(ä¸å¼€å¯)ï¼Œå¦‚æœæƒ³å¼€å¯ï¼Œå¯ä»¥ä¿®æ”¹ä¸º&lt;code&gt;transform-style: preserve-3d&lt;/code&gt;ã€‚æ³¨æ„ï¼š&lt;strong&gt;ä»£ç æ˜¯å†™ç»™çˆ¶å…ƒç´ çš„ï¼Œä½†å½±å“çš„å­å…ƒç´ &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-html&quot;&gt;&amp;lt;head&amp;gt;
    &amp;lt;style&amp;gt;
        body {
            perspective: 500px;
        }
        .box1 {
            width: 200px;
            height: 200px;
            transition: all 2s;
            transform-style: preserve-3d; /*å’Œtransform-style: flat*/
        }
        .box2 {
            width: 100%;
            height: 100%;
            background-color: aqua;
            transform: rotateX(45deg);
        }
        .box1:hover {
            transform: rotateY(45deg);
        }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&quot;box1&quot;&amp;gt;
        &amp;lt;div class=&quot;box2&quot;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­çš„ä¾‹å­ï¼Œå…ˆçœ‹ä¸€ä¸‹&lt;strong&gt;transform-style: flat&lt;/strong&gt;çš„æ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/4898e3ab6dbf46013cec708c9cc2f0c7.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;å½“é¼ æ ‡ç§»åˆ°ä¸Šé¢çš„æ—¶å€™ï¼Œå…ˆæ˜¯ç”±æœ¬æ¥çš„ç»•xè½´æ—‹è½¬45åº¦çš„çŠ¶æ€è½¬æ¢ä¸ºæ™®é€šçš„å¹³é¢å›¾ï¼Œå†ç”±å¹³é¢å›¾ç»•yè½´è¿›è¡Œæ—‹è½¬ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹&lt;strong&gt;transform-style: preserve-3d&lt;/strong&gt;çš„æ•ˆæœğŸ‘‡&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/338dd8c740b1b3204d2e07caf06cb75c.gif#pic_center&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨å°±æ˜¯ä¸‰ç»´çš„è½¬æ¢æ•ˆæœäº†ï¼Œç›´æ¥ç”±ç»•xè½´æ—‹è½¬45åº¦çš„çŠ¶æ€ç›´æ¥å†ç»•yè½´æ—‹è½¬45åº¦ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æµè§ˆå™¨ç§æœ‰å‰ç¼€&quot;&gt;æµè§ˆå™¨ç§æœ‰å‰ç¼€&lt;/h2&gt;
&lt;p&gt;æµè§ˆå™¨ç§æœ‰å‰ç¼€æ˜¯ä¸ºäº†å…¼å®¹è€ç‰ˆæœ¬çš„å†™æ³•ï¼Œæ¯”è¾ƒæ–°çš„ç‰ˆæœ¬çš„æµè§ˆå™¨æ— é¡»å¿åŠ ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;-moz-&lt;/code&gt;ï¼šä»£è¡¨ firefoxæµè§ˆå™¨çš„ç§æœ‰å±æ€§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-ms-&lt;/code&gt;ï¼šä»£è¡¨ieæµè§ˆå™¨ç§æœ‰å±æ€§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-webkit-&lt;/code&gt;ï¼šä»£è¡¨ safariã€chromeç§æœ‰å±æ€§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-o-&lt;/code&gt;ï¼šä»£è¡¨Operaç§æœ‰å±æ€§&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;æ¯”å¦‚åœ†è§’å±æ€§å°±å¯ä»¥è¿™æ ·å†™ğŸ‘‡&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;-moz-border-radius: 10px;
-webkit-border-radius: 10px;
border-radius: 10px;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å¥½äº†ï¼Œè¿™å°±æ˜¯æˆ‘è¿™æ®µæ—¶é—´å­¦ä¹ HTML5å’ŒCSS3æ‰€æ€»ç»“å‡ºæ¥çš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¸€æ–¹é¢æ˜¯æ€•æˆ‘è‡ªå·±ä»¥åå¿˜äº†å¯ä»¥æ‹¿æ¥å¤ä¹ ä½¿ç”¨ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯å¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä¸€èµ·å­¦ä¹ çš„å°ä¼™ä¼´ä»¬ï¼&lt;/p&gt;
&lt;blockquote readability=&quot;9.0650406504065&quot;&gt;
&lt;p&gt;ç å­—ä¸æ˜“ï¼Œå¯ä»¥çš„è¯ï¼Œç»™æˆ‘æ¥ä¸ª&lt;code&gt;ç‚¹èµ&lt;/code&gt;ï¼Œ&lt;code&gt;æ”¶è—&lt;/code&gt;ï¼Œ&lt;code&gt;å…³æ³¨&lt;/code&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· &lt;strong&gt;ã€ &lt;span&gt;R&lt;/span&gt; &lt;span&gt;o&lt;/span&gt; &lt;span&gt;b&lt;/span&gt; &lt;span&gt;o&lt;/span&gt; &lt;span&gt;d&lt;/span&gt; ã€&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„Githubä»“åº“&lt;a href=&quot;https://github.com/RobodLee/DayDayUP&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;DayDayUP&lt;/strong&gt;&lt;/a&gt;ï¼šgithub.com/RobodLee/DayDayUPï¼Œæ¬¢è¿Star&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;â­â­â­â­â­â­â­â­â­â­&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_43461520/article/details/113201713&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43461520/article/details/113201713&quot; target=&quot;_blank&quot;&gt;â­â­â­â­â­â­â­â­â­â­&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://gitee.com/RobodLee/image_store/raw/master/QRcode2.0.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 26 Jan 2021 15:12:00 +0000</pubDate>
<dc:creator>Robodä¸¶</dc:creator>
<og:description>HTMLå¸¸ç”¨æ ‡ç­¾æ€»ç»“ æ‰‹æ‘¸æ‰‹å¸¦ä½ å­¦CSS å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„Githubä»“åº“DayDayUPï¼šgithub.com/RobodLee/DayDayUPï¼Œæ¬¢è¿Star â­â­â­â­â­â­â­â­</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/robod/p/14332916.html</dc:identifier>
</item>
<item>
<title>ä»è½¯ä»¶(Java/hotspot/Linux)åˆ°ç¡¬ä»¶(ç¡¬ä»¶æ¶æ„)åˆ†æäº’æ–¥æ“ä½œçš„æœ¬è´¨ - æ‰§ç”Ÿ</title>
<link>http://www.cnblogs.com/lqlqlq/p/14330313.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lqlqlq/p/14330313.html</guid>
<description>&lt;p&gt;å…ˆä¸Šç»“è®ºï¼š&lt;/p&gt;
&lt;p&gt;ä¸€åˆ‡äº’æ–¥æ“ä½œçš„ä¾èµ–æ˜¯ è‡ªæ—‹é”ï¼ˆspin_lockï¼‰ï¼Œäº’æ–¥é‡ï¼ˆsemaphoreï¼‰ç­‰å…¶ä»–éœ€è¦é˜Ÿåˆ—çš„å®ç°å‡éœ€è¦è‡ªé€‰é”ä¿è¯ä¸´ç•ŒåŒºäº’æ–¥è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;è€Œè‡ªæ—‹é”éœ€è¦xcmpchgç­‰ç±»ä¼¼çš„å¯æä¾›CASæ“ä½œçš„ç¡¬ä»¶æŒ‡ä»¤æä¾›åŸå­æ€§ å’Œ å¯è§æ€§ï¼Œï¼ˆxcmpchgä¼šé”æ€»çº¿æˆ–ç¼“å­˜è¡Œï¼Œä¸€åˆ‡ä¼šé”æ€»çº¿æˆ–ç¼“å­˜è¡Œçš„æ“ä½œéƒ½ä¼šåˆ·StoreBufferï¼Œèµ·åˆ°å†™å±éšœçš„æ“ä½œï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ‰€ä»¥ï¼Œä»»æ„çš„äº’æ–¥æ“ä½œï¼Œæ— è®ºæ˜¯ java å±‚é¢ï¼Œhotspotå±‚é¢ï¼Œlinuxå±‚é¢ çš„æ ¹æœ¬ä¾èµ–éƒ½æ˜¯ xcmpchg ç­‰ç¡¬ä»¶æŒ‡ä»¤&lt;/span&gt;&lt;/strong&gt;ã€‚javaç®—æ˜¯ä¸Šå±‚ï¼Œéœ€è¦ä¾èµ–hotspotå’ŒlinuxåµŒå…¥çš„æ±‡ç¼–å®Œæˆxcmpchgçš„è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ‰€æœ‰åŒæ­¥æ‰‹æ®µçš„æ ¹æœ¬æ˜¯ç¡¬ä»¶ï¼Œè½¯ä»¶æ˜¯è¾…åŠ©æ‰‹æ®µï¼Œè½¯ä»¶å’Œç¡¬ä»¶çš„äº¤ç•Œé¢æ˜¯ç”¨äºå¹¶å‘æ§åˆ¶çš„ç¡¬ä»¶æŒ‡ä»¤ï¼ˆå¦‚ cmpchg, å¸¦lockå‰ç¼€çš„æŒ‡ä»¤ï¼Œlwsync, sfence ç­‰ï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªä¾èµ–é“¾æ¡ï¼š&lt;/p&gt;
&lt;p&gt;1. Java çš„å¹¶å‘å·¥å…·åŒ… JUC ä¸­å¤§éƒ¨åˆ†åŒæ­¥å·¥å…·ç±»ä¾èµ– AQS ä¸ºä»–ä»¬æä¾›é˜Ÿåˆ—æœåŠ¡å’Œèµ„æºæ§åˆ¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;2. AQS ä¾èµ– LockSupport çš„ park å’Œ unpark ä¸ºä»–æä¾›çº¿ç¨‹ä¼‘çœ å”¤é†’æ“ä½œ&lt;/p&gt;
&lt;p&gt;3. LockSupport çš„ park å’Œ unpark æ˜¯ä¾èµ– JVMï¼ˆæ­¤å¤„è¯­å¢ƒè®¨è®º Hotspotï¼‰è°ƒç”¨æ“ä½œç³»ç»Ÿçš„Â  pthread_mutex_lock å’Œ pthread_cond_wait ï¼Œ å‰è€…æ˜¯ä¿æŠ¤åè€…å’Œ counter å˜é‡çš„äº’æ–¥é”ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œ counter å˜é‡å’Œ condtion ä¸Šçš„ç­‰å¾…é˜Ÿåˆ—&lt;/p&gt;
&lt;p&gt;4. pthread_mutex_wait ä¾èµ–äº æ“ä½œç³»ç»Ÿçš„ futex æœºåˆ¶ï¼Œå¤šä¸ªç”¨æˆ·æ€çš„çº¿ç¨‹ï¼ˆJavaçº¿ç¨‹ï¼Œå³Mutatorï¼‰é€šè¿‡ç”¨æˆ·ç©ºé—´ç›¸åŒï¼Œç‰©ç†é¡µå…±äº«ï¼Œå…±åŒäº‰æŠ¢å—å†™å±éšœå¢å¼ºï¼Œçº¿ç¨‹å¯è§æ€§å¼ºçš„èµ„æºå˜é‡ã€‚å¦‚æœæŠ¢ä¸åˆ°ï¼Œéœ€è¦ç”¨ futex_wait ç³»ç»Ÿè°ƒç”¨ï¼Œå…·ä½“æ˜¯å§”æ‰˜å†…æ ¸æŸ¥çœ‹è¯¥å˜é‡æ˜¯å¦è¿˜æ˜¯ futex_wait çš„å…¥å‚ï¼ˆäº‰æŠ¢å¤±è´¥åçš„å€¼ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è®©å†…æ ¸å°†è‡ªå·±ä» runqueueï¼ˆLinuxä¸‹çš„å°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ï¼‰æ‘˜ä¸‹æ¥ï¼Œå¹¶ä¸”çŠ¶æ€è®¾ä¸º TASK_INTERRUABLEï¼Œè¡¨ç¤ºä¸éœ€è¦ç»§ç»­æ‰§è¡Œï¼Œä½†æ˜¯å¯ä»¥ç”¨ä¿¡å·å”¤é†’ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¿”å›ç”¨æˆ·ç©ºé—´ï¼Œå†æ¬¡äº‰æŠ¢&lt;/p&gt;
&lt;p&gt;5. futex_wait å’Œ futex_wakeup ä¾èµ– spin_lockä¿æŠ¤æ¡¶bucketï¼Œå…¶å®ä¿æŠ¤bucketä¸Šçš„ä¸€æ•´æ¡é“¾è¡¨&lt;/p&gt;
&lt;p&gt;6. æ“ä½œç³»ç»Ÿçš„ down , up ä¾èµ– spin_lock ä¿æŠ¤ç­‰å¾…é˜Ÿåˆ—å’Œèµ„æºå˜é‡&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â ç¡¬ä»¶å±‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;é¢„å¤‡çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;å†™å±éšœ&lt;/strong&gt;&lt;/span&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ç®€åŒ–å¾®æœºæ¶æ„ï¼ˆIntel X86ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126173307460-1762768207.png&quot; alt=&quot;&quot; width=&quot;536&quot; height=&quot;403&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;


&lt;p&gt;Â æ— å†™å±éšœï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1.å‡è®¾æœ‰å˜é‡var&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126173706015-30545588.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;


&lt;p&gt;Â ã€€ã€€2. CPU A(è¿›ç¨‹/çº¿ç¨‹A) ä¿®æ”¹ var = 1&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126173756835-1826169514.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€3.Â CPU C(è¿›ç¨‹/çº¿ç¨‹C) è¯»å–åˆ° var = 3ï¼Œ æ— æ³•ç«‹åˆ»å¾—åˆ° A çš„ä¿®æ”¹&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126173939142-1391104513.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;æœ‰å†™å±éšœï¼ˆA,B,Cä»»æ„CPUåœ¨ä¿®æ”¹å®ŒæŸä¸ªå˜é‡åå‡ä½¿ç”¨å†™å±éšœï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸Šé¢çš„å¾®æœºæ¶æ„å¯ä»¥ç®€åŒ–æˆï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126174156440-1466387728.png&quot; alt=&quot;&quot; width=&quot;472&quot; height=&quot;321&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€1.Aä¿®æ”¹var&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126174317851-1888322916.png&quot; alt=&quot;&quot; width=&quot;449&quot; height=&quot;323&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€ã€€2.Cç«‹åˆ»å¯è§&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126174400181-1980030222.png&quot; alt=&quot;&quot; width=&quot;425&quot; height=&quot;303&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨å†™å±éšœç±»ä¼¼ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€var = 1;&lt;/p&gt;
&lt;p&gt;ã€€ã€€write_fence_here(); // å†™å±éšœ&lt;/p&gt;
&lt;p&gt;ä½œç”¨åªæ˜¯å°† storeBufferä¸­çš„å†…å®¹é©¬ä¸Šåˆ·å‡ºåˆ° è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ä¸­ï¼Œå› ä¸ºé«˜é€Ÿç¼“å­˜æœ‰MESIç¼“å­˜ä¸€è‡´æ€§åè®®ï¼Œæ‰€ä»¥å…¶ä»–CPUè¯»å–è¯¥å˜é‡ï¼Œå°†æ˜¯ä¸€ç›´çš„æ–°å€¼ï¼ˆå³ä½¿ç©¿é€ç¼“å­˜ç›´æ¥è¯»å–å†…å­˜ä¹Ÿæ˜¯ä¸€æ ·ä¸€è‡´ï¼‰&lt;/p&gt;

&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Â æ“ä½œç³»ç»Ÿå±‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Â è‡ªæ—‹é”å’Œé˜Ÿåˆ—é”ï¼ˆä¸€èˆ¬äº’æ–¥é‡æ˜¯é˜Ÿåˆ—é”ï¼‰&lt;/span&gt;&lt;/strong&gt;ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.è‡ªæ—‹é”ç®€åŒ–ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;ã€€ã€€ã€€ã€€while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;&lt;span&gt;) {
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (compareAndSet(æœŸæœ›çš„æ—§å€¼, æ–°å€¼)) {
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
            }
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡ªæ—‹é”åœ¨Linuxä¸­å†™ä½œ spin_lock ï¼Œspin æœ¬èº«æœ‰â€œè¿è½´è½¬â€çš„æ„æ€ã€‚è‡ªæ—‹é”çš„æœ¬è´¨æ˜¯è·å–ä¸åˆ°èµ„æºå°±ä¸€ç›´ç©ºè½¬ã€‚&lt;/p&gt;
&lt;p&gt;compareAndSet : ç±»ä¼¼ä¸‹é¢ä»£ç ï¼Œä½†æ˜¯è¢«åŒ…è£…æˆ ä¸€æ¡ç¡¬ä»¶æŒ‡ä»¤ï¼Œæ‰€ä»¥æ˜¯åŸå­çš„ï¼Œåœ¨ä»–æ‰§è¡Œçš„ä¸­é—´ï¼Œä¸èƒ½æœ‰åˆ«çš„CPUæ’æ‰‹è¿™ä¸ªå†…å­˜çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”CASè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆä¸æ‰§è¡Œï¼Œä¸èƒ½åªæ‰§è¡Œä¸€åŠï¼Œå› ä¸ºä»–æ˜¯ä¸€æ¡é”äº†æ€»çº¿æˆ–ç¼“å­˜è¡Œçš„ç¡¬ä»¶æŒ‡ä»¤ã€‚åœ¨SMPæ¡ä»¶ä¸‹ï¼Œå¦‚æœä¸é”æ€»çº¿æˆ–ç¼“å­˜è¡Œï¼ŒæŒ‡ä»¤ä¹Ÿä¸æ˜¯åŸå­çš„ï¼Œæ¯”å¦‚ADDï¼ˆread-write-readï¼‰ï¼Œåªæœ‰å¾®æ“ä½œæ˜¯åŸå­çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚å°†æŸä¸ªå€¼æ‰“å…¥æŸä¸ªå¯„å­˜å™¨ä¸­(write)ã€‚&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; compareAndSet (æœŸæœ›çš„æ—§å€¼, æ–°å€¼) {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (å˜é‡å€¼ ==&lt;span&gt; æœŸæœ›çš„æ—§å€¼) {
             å˜é‡ &lt;/span&gt;=&lt;span&gt; æ–°å€¼ï¼›
             &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
        }
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2. é˜Ÿåˆ—é”ç®€åŒ–ï¼š&lt;/p&gt;
&lt;p&gt;addToQueueï¼š å°†çº¿ç¨‹/è¿›ç¨‹çš„TCB/PCB(åœ¨linuxæ˜¯task_struct)ï¼Œæ”¾å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œå½“æŒæœ‰èµ„æºçš„çº¿ç¨‹é‡Šæ”¾èµ„æºçš„æ—¶å€™ä¼šå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çº¿ç¨‹ï¼ˆPCB/TCPå°±æ˜¯ä»£è¡¨è¿›ç¨‹/çº¿ç¨‹çš„ç»“æ„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€Â  Â  å¹¶ä¸”å°†è¿›ç¨‹/çº¿ç¨‹çš„ çŠ¶æ€è®¾ä¸ºéè¿è¡ŒçŠ¶æ€ï¼ˆlinuxä¸­ä¸€èˆ¬ä½¿ç”¨TASK_INTERRUPTABLEï¼‰, å¹¶ä»å°±ç»ªé˜Ÿåˆ—ä¸Šæ‘˜ä¸‹æ¥ï¼ˆLinuxä¸Šæ˜¯runqueueï¼‰&lt;/p&gt;
&lt;p&gt;schedule ï¼šå½“å‰çº¿ç¨‹å·²è®¾ç½®ä¸ºéè¿è¡ŒçŠ¶æ€ï¼Œæ‰€ä»¥ä¼šé€‰æ‹©å…¶ä»–çº¿ç¨‹å ç”¨CPUï¼Œ å½“å‰çº¿ç¨‹åœ¨æ­¤ç‚¹ç¡çœ &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
 ã€€ã€€&lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;&lt;span&gt;) {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;compareAndSet(æœŸæœ›æ—§å€¼,æ–°å€¼)) { // å°è¯•è·å–èµ„æºï¼Œå¦‚ï¼šcompareAndSet(åŸèµ„æºæ•°ï¼ŒåŸèµ„æºæ•° - 1)
            addToQueue(å½“å‰çº¿ç¨‹PCB/TCB); // è·å–ä¸åˆ°å°±è¿›å…¥ç­‰å¾…é˜Ÿåˆ—
            schedule();// ç¡çœ ï¼Œè®©å‡ºCPU
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸ºä»€ä¹ˆè¯´äº’æ–¥é‡ï¼ˆé˜Ÿåˆ—é”ï¼‰ä¾èµ–è‡ªæ—‹é”ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Â  &lt;span&gt;å‡è®¾æœ‰ä»¥ä¸‹æƒ…å†µï¼šï¼ˆäº’æ–¥é‡å¯¹åº”èµ„æºåˆå§‹å€¼=1ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126183424859-561215223.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ã€€å¦‚æ­¤ä¸€æ¥ï¼Œæ˜æ˜æœ‰èµ„æºï¼Œä½†æ˜¯çº¿ç¨‹Bå´æ— æ³•è¢«å”¤é†’ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸ºBçš„ æ£€æµ‹èµ„æº-æŒ‚å…¥ç­‰å¾…é˜Ÿåˆ—-ç¡çœ  è¿™ä¸‰ä¸ªé˜¶æ®µï¼Œä¸æ˜¯åŸå­çš„ã€‚çº¿ç¨‹A å¯ä»¥ä¿®æ”¹èµ„æºï¼Œè®©èµ„æºå˜æˆ1ã€‚&lt;/p&gt;
&lt;p&gt;ã€€çº¿ç¨‹Aå¯¹èµ„æºçš„æ“ä½œæ’å…¥åˆ°äº†çº¿ç¨‹Bçš„æ“ä½œä¹‹ä¸­ï¼Œä½¿å¾—Bçš„æ“ä½œé›†åˆä¸­è¯­å¥&lt;span&gt;å‰åæ‰€å¤„çš„çŠ¶æ€ä¸ä¸€è‡´&lt;/span&gt;ï¼Œå³éåŸå­çš„ï¼Œå—å¹²æ‰°çš„ï¼ˆåŒºåˆ«äºäº‹ç‰©åŸå­æ€§ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Â  Â å¯ä»¥ä½¿ç”¨è‡ªæ—‹é”ä¿æŠ¤ èµ„æºï¼Œåœ¨è¯»å–èµ„æºæ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½ä¿®æ”¹èµ„æºï¼Œé‚£ä¹ˆé‡Šæ”¾æ“ä½œå°±ä¼šè¢«æ”¾åˆ°ç¡çœ ä¹‹åï¼š&lt;/p&gt;

&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126214254398-390532575.png&quot; alt=&quot;&quot; width=&quot;698&quot; height=&quot;493&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;





&lt;p&gt;Â ã€€ã€€ä¸ºä½•å¯ä»¥ä½¿ç”¨è‡ªæ—‹é”ï¼Ÿ å› ä¸ºè‡ªæ—‹é”ä¸æ¶‰åŠé˜Ÿåˆ—ï¼Œå¦‚æœçº¿ç¨‹æ— æ³•è·å–è‡ªæ—‹é”ï¼Œå°±åœ¨CPU ä¸Šç©ºè½¬ï¼Œç›´åˆ°è·å–ä¸ºæ­¢ï¼Œä¸éœ€è¦é˜Ÿåˆ—å»å­˜å‚¨ä»–ä»¬ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°å¤šä¸ªçº¿ç¨‹ä¿®æ”¹ä¸€ä¸ªé˜Ÿåˆ—çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿä¸ä¼šç¡çœ ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šå‡ºç°å› ä¸ºç¡çœ è€Œé”™è¿‡èµ„æºçš„æƒ…å†µï¼Œåƒä¸ŠäºŒå¼ å›¾å°±æ˜¯é”™è¿‡èµ„æºçš„æƒ…å†µï¼Œè‡ªé€‰é”ä¸€ç›´éƒ½åœ¨äº‰æŠ¢ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä½†æ˜¯è‡ªæ—‹é”çš„å±€é™æ€§ä¹Ÿå¾ˆå¤§ï¼Œç©ºè½¬ï¼Œæ— æ„ä¹‰çš„CPUæ—¶é—´è¢«æµªè´¹ã€‚æ‰€ä»¥åªæœ‰ç«äº‰ä¸æ˜¯å¾ˆæ¿€çƒˆï¼Œä»¥åŠå ç”¨é”æ—¶é—´ä¸é•¿çš„æƒ…å†µï¼Œæ‰ä½¿ç”¨è‡ªæ—‹é”ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™é‡Œçš„å¯¹é˜Ÿåˆ—æ“ä½œï¼Œåªæ˜¯ç®€å•åœ°è¯»å–ä¸€ä¸‹å˜é‡ï¼Œå’Œåœ¨é“¾è¡¨ä¸ŠæŒ‚ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¾ˆå¿«ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€åœ¨Linuxï¼ˆ3.0.7ï¼‰ä¸‹çš„å®ç°ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€up æ“ä½œæ˜¯é‡Šæ”¾äº’æ–¥é‡èµ„æºï¼Œdown æ“ä½œæ˜¯è·å–äº’æ–¥é‡èµ„æº&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126194724590-1044184316.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;Â Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126194957839-1053360876.png&quot; alt=&quot;&quot; width=&quot;497&quot; height=&quot;265&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;



&lt;p&gt;futexï¼ˆfast user mutexï¼‰ï¼šä¹‹æ‰€ä»¥ç§°ä¸º user mutexï¼Œæ˜¯å› ä¸ºå¤šä¸ªç”¨æˆ·æ€çº¿ç¨‹é€šè¿‡ä¸€å—å…±äº«å†…å­˜å­˜å‚¨ä»£è¡¨èµ„æºçš„å˜é‡ï¼Œå¤šä¸ªç”¨æˆ·æ€çº¿ç¨‹å¯¹è¿™ä¸ªèµ„æºçš„æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œè¿™æ˜¯åœ¨ç”¨æˆ·æ€çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å½“ç”¨æˆ·çº¿ç¨‹å‘ç°è‡ªå·±äº‰æŠ¢ä¸åˆ°èµ„æºï¼Œæ‰å§”æ‰˜ç³»ç»Ÿè°ƒç”¨å¸®è‡ªå·±æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªå˜é‡è¿˜æ˜¯ä¸æ˜¯åˆšæ‰è¯»åˆ°çš„å˜é‡ï¼Œå¦‚æœæ˜¯å°±å½“å‰çº¿ç¨‹ä¼‘çœ ï¼Œæ‰€ä»¥æ˜¯åœ¨ç”¨æˆ·æ€åˆ¤æ–­æ˜¯å¦å¯ä»¥è·å–èµ„æºï¼Œä¸è¡Œå†ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨é™·å…¥å†…æ ¸æ€ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘æœ‰ä¸€å—å†…å­˜é¡µï¼Œè¢«A,Bä¸¤ä¸ªçº¿ç¨‹å…±äº«ï¼Œè¿™ä¸ªå†…å­˜é¡µé‡Œæœ‰ä¸ªå˜é‡ var ï¼Œè¡¨ç¤ºèµ„æºçš„ä¸ªæ•°ï¼Œä¸€å¼€å§‹æ˜¯1ã€‚çº¿ç¨‹Aå’ŒBéƒ½æ˜¯é€šè¿‡CASå‹çš„ç¡¬ä»¶æŒ‡ä»¤å»è®¾ç½®è¿™ä¸ªèµ„æºï¼Œå³æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚å‡å¦‚ä¸€å¼€å§‹Aï¼ŒCAS æŠ¢å¤ºæˆåŠŸï¼Œèµ„æºvar å˜æˆ 0ã€‚èµ„æºB ç›´æ¥é€šè¿‡è‡ªå·±çš„é¡µé¢æ˜ å°„è¡¨å»åˆ°è¿™ä¸ªå…±äº«çš„ç‰©ç†é¡µï¼Œè¯»å–ä¸€ä¸‹ï¼Œå‘ç°æ˜¯0ï¼Œé‚£ä¹ˆå½“å‰è¡¨ç¤ºæ— èµ„æºå¯ç”¨ã€‚Bå°†ä¼šä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œå§”æ‰˜æ“ä½œç³»ç»Ÿæ£€æŸ¥ï¼Œè¿™ä¸ªèµ„æºæ˜¯ä¸æ˜¯è¿˜æ˜¯0ï¼Œå¦‚æœæ˜¯å°±å°†è‡ªå·±ä¼‘çœ ï¼Œå¦åˆ™Bé€€å‡ºå†…æ ¸æ€å›åˆ°ç”¨æˆ·æ€ã€‚ä¸ºä»€ä¹ˆè¦å§”æ‰˜æ“ä½œç³»ç»Ÿå†æ£€æŸ¥ä¸€æ¬¡å‘¢ï¼Ÿå› ä¸ºæœ‰å¯èƒ½Aå·²ç»é‡Šæ”¾èµ„æºäº†ï¼ŒBåªè¦å†CASä¸€æ¬¡å°±èƒ½è·å¾—èµ„æºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126212402923-737995741.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;



&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126212333924-451615460.png&quot; alt=&quot;&quot; width=&quot;651&quot; height=&quot;406&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;futex æœºåˆ¶çš„å®ç°æ¯”è¾ƒç®€å•ï¼ŒåŸºäºæ•£åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªfutex_keyä»£è¡¨ä¸€ä¸ªå…±äº«å˜é‡ï¼Œå³èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªèŠ‚ç‚¹åŒ…è£¹ç€ futex_key&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªfutex_bucketä»£è¡¨ä¸€ä¸ªhashæ¡¶ï¼Œä¹Ÿå°±æ˜¯hashè¡¨ä¸­çš„æŸä¸ªä½ç½®&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª futex_bucket çš„é“¾è¡¨ä¸­ï¼Œæœ‰ä¸åŒèŠ‚ç‚¹ï¼Œè¯´æ˜æœ‰ä¸åŒèµ„æºã€‚æ¯”å¦‚è¯´ï¼Œâ€œè¤çŸ³â€ æ˜¯ä¸€ç§èµ„æºï¼Œâ€œçº¢çŸ³â€ä¹Ÿæ˜¯ä¸€ç§èµ„æºï¼Œä»–ä»¬çš„æ•°é‡æ‰€ä»£è¡¨çš„å˜é‡ï¼ˆåœ°å€ï¼‰çš„èŠ‚ç‚¹ä¼šå­˜åœ¨äºä¸‹å›¾çš„åŒä¸€ä¸ªé“¾è¡¨ä¸Š&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªbucketéƒ½æœ‰ä¸€ä¸ª é” å¯ä»¥è¢«è‡ªæ—‹é” é”å®šï¼Œé”çš„å•ä½æ˜¯ ä¸€ä¸ª bucketä¸Šçš„é“¾è¡¨ï¼Œæ‰€ä»¥å½“ä¸€ç§èµ„æºéœ€è¦åŠ é”ï¼Œä¼šé”åˆ°é“¾è¡¨ä¸Šçš„å…¶ä»–èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;è®¾è®¡è€…è¿™ä¹ˆåšå…¶å®å¹¶ä¸è¿‡åˆ†ï¼Œå› ä¸ºä¸€ä¸ªæ¡¶ä¸­çš„é“¾è¡¨é•¿åº¦å¹¶ä¸æ˜¯å¾ˆé•¿ï¼Œè€Œä¸”spin_lockæ˜¯çŸ­æ—¶é—´é”ï¼Œå°†é”ç²’åº¦æ§åˆ¶åœ¨æ•´ä¸ªæ•£åˆ—è¡¨ä¸€ä¸ªé”å’Œæ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªé”ä¹‹é—´ï¼Œæ˜¯å¯¹ç©ºé—´å’Œæ—¶é—´çš„æƒè¡¡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126212523569-1446026071.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;futexåœ¨ çº¿ç¨‹å¤„äºå†…æ ¸æ€ ï¼Œè¯»å–èµ„æº ä¹‹å‰ï¼Œä¼šç”¨ spin_lock é”ä½ bucketï¼Œè¯»å–èµ„æºåå‘ç°æ²¡æœ‰èµ„æºä¼šæŠŠè‡ªå·±æŒ‚å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œç„¶åé‡Šæ”¾spin_lock ã€‚&lt;/p&gt;
&lt;p&gt;æŒæœ‰èµ„æºçš„çº¿ç¨‹åœ¨å”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çº¿ç¨‹ä¹‹å‰ï¼ŒåŒæ ·è¦ç”¨ spin_lock é”ä½åŒæ ·ä½ç½®çš„ bucketã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ futex çš„äº’æ–¥æœºåˆ¶ï¼Œå¯èƒ½ä¼šæœ‰ç–‘é—®ï¼šè·å–èµ„æºä¸ç”¨ç®—è¿›å»å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å’Œç¨‹åºé¡ºåºæœ‰å…³ï¼Œé‡Šæ”¾èµ„æºè‚¯å®šåœ¨å”¤é†’ä¹‹å‰çš„ï¼Œè¿™æ˜¯å¿…é¡»éµå¾ªçš„ï¼Œå› ä¸ºé‡Šæ”¾å®Œèµ„æºæ‰ä¼šå»å”¤é†’è¿›ç¨‹å»äº‰å¤º&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå”¤é†’ç­‰å¾…é˜Ÿåˆ—è¿™ä¸ªæ“ä½œå¯èƒ½åœ¨ è¢«è‡ªæ—‹é”ä¿æŠ¤åŒºåŸŸçš„ä¸Šé¢æˆ–è€…ä¸‹é¢ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ä¸Šé¢ï¼Œé‚£ä¹ˆèµ„æºåœ¨å”¤é†’ä¹‹å‰å°±é‡Šæ”¾äº†ï¼Œä¿æŠ¤åŒºé‡Œè‚¯å®šå¯ä»¥å¾—åˆ°èµ„æºï¼Œå…äºç¡çœ ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ä¸‹é¢ï¼Œé‚£ä¹ˆæ— è®ºèµ„æºåœ¨å”¤é†’ä¹‹å‰çš„å“ªä¸ªä½ç½®ï¼Œå°±ç®—æ˜¯åœ¨ä¿æŠ¤åŒºé‡Œä¹Ÿå¥½ï¼Œåªè¦æ˜¯é‡Šæ”¾äº†å°±è¡Œã€‚å› ä¸ºå”¤é†’æ“ä½œåœ¨ä¿æŠ¤åŒºä¹‹åï¼Œè€Œä¿æŠ¤åŒºé‡Œï¼Œè¦ä¼‘çœ è¿›ç¨‹å·²ç»æŒ‚åˆ°ç­‰å¾…é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å”¤é†’æ“ä½œå¿…èƒ½å”¤é†’è¦ä¼‘çœ è¿›ç¨‹ï¼Œå› ä¸ºä»–åœ¨ å…¥é˜Ÿæ“ä½œä¹‹åï¼Œä»–èƒ½æ‰¾åˆ°é‚£äº›ä¼‘çœ çš„è¿›ç¨‹ï¼Œä»è€Œå”¤é†’ä»–ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126214111724-710559861.png&quot; alt=&quot;&quot; width=&quot;655&quot; height=&quot;448&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å†å‘ä¸Šä¸€å±‚çœ‹ï¼Œ pthread_mutex_wait å’Œ pthread_cond_waitï¼Œè¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ Hotspot å®ç° park å‡½æ•°ä¾èµ–çš„æ“ä½œç³»ç»Ÿå±‚é¢æ¥å£ã€‚è€Œparkå‡½æ•°æ˜¯ LockSupport.park æ–¹æ³•çš„æœ¬åœ°æ–¹æ³•å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ pthread_cond_wait æ˜¯æŠŠ Javaçº¿ç¨‹ï¼ˆjavaåº”ç”¨çº¿ç¨‹ï¼Œå³Mutatorï¼‰æ”¾å…¥åˆ°ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—ç§°ä¸ºæ¡ä»¶é˜Ÿåˆ—ã€‚å¯¹åº”LockSupport.park æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„è§£é”æ–¹æ³•ï¼Œpthread_cond_signal ï¼Œæ˜¯å”¤é†’è¿™ä¸ªé˜Ÿåˆ—ä¸Šçš„çº¿ç¨‹ã€‚é‚£ä¹ˆæ€ä¹ˆä¿è¯å¯¹è¿™ä¸ªç­‰å¾…é˜Ÿåˆ—çš„æ“ä½œæ˜¯äº’æ–¥çš„å‘¢ï¼Ÿå¦‚æœä¸äº’æ–¥ï¼Œå°±å¯èƒ½å‘ç”Ÿä¸‹é¢è¿™é’Ÿå…¸å‹çš„å†™è¦†ç›–å¹¶å‘é—®é¢˜ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126220039220-1560341790.png&quot; alt=&quot;&quot; width=&quot;538&quot; height=&quot;563&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä¾èµ–çš„æ˜¯ pthread_mutex_lock, è¦æ“ä½œé˜Ÿåˆ—ä¹‹å‰å…ˆè·å–äº’æ–¥é‡ï¼Œæ“ä½œå®Œé‡Šæ”¾äº’æ–¥é‡&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
pthread_mutex_lock(&amp;amp;&lt;span&gt;mutex);
pthread_cond_wait(&lt;/span&gt;&amp;amp;&lt;span&gt;queue);
pthread_mutex_unlock(&lt;/span&gt;&amp;amp;mutex);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;pthread_mutex_lock ä¾èµ–çš„æ˜¯ä¸Šé¢æ‰€è¯´çš„ï¼Œfutex, æ‰€ä»¥ pthread_mutex_lock å°±æ˜¯ä¸Šé¢è¯´çš„ï¼Œå…ˆåœ¨ç”¨æˆ·æ€è¯»å–èµ„æºï¼Œå¦‚æœæ²¡èµ„æºäº†ï¼Œå°±è°ƒç”¨ SYS futex ç³»ç»Ÿè°ƒç”¨&lt;/p&gt;

&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;jvmï¼ˆhotspotï¼‰å±‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åˆ°è¿™é‡Œï¼Œæ“ä½œç³»ç»Ÿå’Œjavaå±‚é¢å·®ä¸å¤šè¦è¿èµ·æ¥äº†ï¼Œæˆ‘ä»¬å†é€šè¿‡LockSupportå‘ä¸Šèµ°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;åœ¨ è°ƒç”¨LockSupport.unpark ä¹‹åè°ƒç”¨LockSupport.park çš„è¯ï¼Œçº¿ç¨‹ä¸ä¼šä¼‘çœ ã€‚è¿™ä¸ªç‚¹å¾ˆé‡è¦ï¼Œæ²¡æœ‰è¿™ä¸ªç‚¹ ï¼ŒJUCä¸­çš„AQSæ— æ³•æ­£å¸¸å·¥ä½œã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä¼ªä»£ç ï¼šxchgç›¸æ¯”xcmpchgä¸ä¼šæ¯”è¾ƒï¼Œè€Œæ˜¯ç›´æ¥åŸå­è®¾ç½®ç›¸åº”å†…å­˜å•å…ƒçš„å€¼ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;park () {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ä¹‹å‰æœ‰èµ„æºï¼Œç›´æ¥è¿”å›ï¼Œå¹¶ä¸”æŠŠèµ„æºæ¶ˆè€—æ‰&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; (xchg(&amp;amp;counter ,1, 0) == 1&lt;span&gt;) {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
        }
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å‡†å¤‡æ“ä½œ ç¥¨æ®å’Œé˜Ÿåˆ—&lt;/span&gt;
&lt;span&gt;        pthread_mutex_lock();
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å¯èƒ½ä¹‹å‰ è·å– mutex çš„çº¿ç¨‹ç»™äºˆäº† èµ„æº
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å¿…é¡»è¦æœ‰è¿™ä¸€å¥ï¼Œå¦åˆ™å¯èƒ½é”™è¿‡é‡Šæ”¾äº†çš„èµ„æºï¼Œæ°¸è¿œæ— æ³•è¢«å”¤é†’&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; (counter == 1&lt;span&gt;) {
            counter &lt;/span&gt;= 0&lt;span&gt;;
            pthread_mutex_unlock();
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
        }
        pthread_cond_wait();
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; è¿™å¥ä¸ºä»€ä¹ˆåœ¨ pthread_cond_wait ä¹‹åå‘¢ï¼Ÿ
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; å› ä¸ºè¿™é‡Œæ˜¯çº¿ç¨‹è¢«å”¤é†’ä¹‹åçš„åœ°æ–¹ï¼Œå…¶ä»–çº¿ç¨‹ç»™äº†ä¸€ä¸ªèµ„æºï¼Œå½“å‰çº¿ç¨‹æ‰è¢«å”¤é†’
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ—¢ç„¶è¢«å”¤é†’äº†ï¼Œå°±è¦å»æ¶ˆè€—è¿™ä¸ªèµ„æºï¼Œè¿™æ ·ä¸€å”¤é†’(èµ„æº+1)ï¼Œä¸€ç¡çœ (èµ„æº-1)ã€‚
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; æ‰¯å¹³ä¹‹åå°±æ˜¯å½“å‰çº¿ç¨‹çš„ ç»§ç»­è¿è¡ŒçŠ¶æ€&lt;/span&gt;
        counter = 0&lt;span&gt;;
        pthread_mutex_unlock();
    }

    unpark () {
        pthread_mutex_lock();
        counter &lt;/span&gt;= 1&lt;span&gt;;
        writeBarrierHere();
        pthread_cond_signal();
        pthread_mutex_unlock();
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å›åˆ°åˆšæ‰çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆunpark ä¹‹å park ä¸ä¼šä¼‘çœ åœ¨ AQS ä¸­èµ·åˆ°å…³é”®ä½œç”¨ï¼Ÿ&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;javaå±‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‡è®¾çº¿ç¨‹Aæ˜¯å·²ç»è·å–èµ„æºï¼Œè¦é‡Šæ”¾èµ„æºçš„çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;Bæ˜¯å°è¯•è·å–èµ„æºçš„çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126223616485-2056843522.png&quot; alt=&quot;&quot; width=&quot;566&quot; height=&quot;479&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;




&lt;p&gt;çº¿ç¨‹Aå¯¹åº”ä¸‹é¢ä¸¤å¤„ä»£ç ï¼šÂ &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126222825564-324962343.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;çº¿ç¨‹Bå¯¹åº”ä¸‹é¢ä¸¤å¤„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126223655034-1041550163.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;


&lt;p&gt;Â æç«¯ä¸€æ®µå‡è®¾ï¼šå½“çº¿ç¨‹Bæ‰§è¡Œåˆ°ä¸‹é¢çš„ç»¿è‰²å¤„ï¼ŒAæ‰§è¡Œå®Œæˆä»– release æ–¹æ³•ä¸­çš„ä¸¤å¤„ä»£ç &lt;/p&gt;
&lt;p&gt;Â &lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126223009875-964792311.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126222825564-324962343.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;


&lt;p&gt;è™½ç„¶Aé‡Šæ”¾äº†èµ„æºï¼Œä½†æ˜¯Bè¿˜æ˜¯åˆ¤æ–­è¦ä¼‘çœ ï¼Œäºæ˜¯è°ƒç”¨LockSupport.parkã€‚äºæ˜¯è™½ç„¶æœ‰èµ„æºä½†æ˜¯Bè¿˜æ˜¯è°ƒç”¨äº†park&lt;/p&gt;
&lt;p&gt;BçœŸçš„å°±è¿™æ ·ä¼‘çœ äº†å—ï¼Ÿä¸ä¼šï¼Œå¥¥ç§˜åœ¨unparkSuccessorã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126224021920-1899069684.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä»–ä¼šunpark å¤´èŠ‚ç‚¹çš„åç»§ã€‚Båœ¨è°ƒç”¨ acquireQueuedä¹‹å‰å·²ç»åœ¨é˜Ÿåˆ—ä¸­ï¼Œæ‰€ä»¥Bçš„çº¿ç¨‹ä¼šè¢«è°ƒç”¨ LockSupport.unpark(B);&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1850839/202101/1850839-20210126224143295-1491698034.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;

&lt;p&gt;äºæ˜¯Båœ¨ä¸‹æ¬¡è°ƒç”¨ LockSupport.park çš„æ—¶å€™ä¸ä¼šä¼‘çœ ï¼Œå¯ä»¥æ¥ç€äº‰æŠ¢èµ„æºï¼&lt;/p&gt;

&lt;p&gt;æœ€åï¼ŒJUCä¸­çš„ç»å¤§å¤šæ˜¯åŒæ­¥å·¥å…·ï¼Œå¦‚Semaphore å’Œ CountDownLatch éƒ½æ˜¯ä¾èµ–AQSçš„ã€‚æ•´ä¸ªJAVAåº”ç”¨å±‚é¢åˆ°ç¡¬ä»¶åŸç†å±‚é¢çš„åŒæ­¥ä½“ç³»è‡³æ­¤ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;



















</description>
<pubDate>Tue, 26 Jan 2021 14:50:00 +0000</pubDate>
<dc:creator>æ‰§ç”Ÿ</dc:creator>
<og:description>å…ˆä¸Šç»“è®ºï¼š ä¸€åˆ‡äº’æ–¥æ“ä½œçš„ä¾èµ–æ˜¯ è‡ªæ—‹é”ï¼ˆspin_lockï¼‰ï¼Œäº’æ–¥é‡ï¼ˆsemaphoreï¼‰ç­‰å…¶ä»–éœ€è¦é˜Ÿåˆ—çš„å®ç°å‡éœ€è¦è‡ªé€‰é”ä¿è¯ä¸´ç•ŒåŒºäº’æ–¥è®¿é—®ã€‚ è€Œè‡ªæ—‹é”éœ€è¦xcmpchgç­‰ç±»ä¼¼çš„å¯æä¾›CASæ“ä½œçš„ç¡¬</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/lqlqlq/p/14330313.html</dc:identifier>
</item>
<item>
<title>linux GPUä¸Šå¤šä¸ªbufferé—´çš„åŒæ­¥ä¹‹ww_mutexã€dma_fenceçš„ä½¿ç”¨ ç¬”è®° - -Yaong-</title>
<link>http://www.cnblogs.com/yaongtime/p/14332526.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yaongtime/p/14332526.html</guid>
<description>
&lt;p&gt;&lt;span&gt;WW-Mutexes&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;åœ¨GPUä¸­ä¸€æ¬¡Renderå¯èƒ½ä¼šæ¶‰åŠåˆ°å¯¹å¤šä¸ªbufferçš„å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨command bufferæäº¤åˆ°GPUå‰ï¼Œéœ€è¦ç­‰åˆ°æ‰€æœ‰ä¾èµ–çš„bufferå¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™äº›bufferå¯èƒ½è¢«å¤šä¸ªè®¾å¤‡æˆ–è¿›ç¨‹æ‰€å…±äº«ï¼Œæ‰€ä»¥ç›¸æ¯”å•ä¸ªbufferï¼Œå¢åŠ äº†deadlockçš„é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸èƒ½ç®€å•åœ°é€šè¿‡ä¸€ä¸ª buffer mutexé”æ¥ç­‰å¾…bufferå¯ç”¨ï¼Œå› ä¸ºè¿™äº›bufferé€šå¸¸å—æ§äºåº”ç”¨ç¨‹åº.&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚Vertex shaderä¸­ç”¨åˆ°çš„vertex dataï¼š input attributes buffer å’Œ vertex index bufferï¼Œæˆ–è€…æ˜¯fragment shaderä¸­ç”¨åˆ°çš„texel bufferã€uniform bufferç­‰ï¼Œä»¥åŠç”¨ä½œrenderçš„frambufferã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ²¡æœ‰ä¸€ä¸ªæœºåˆ¶èƒ½ä¿è¯è¿™äº›bufferä»¥ç›¸åŒçš„é¡ºåºå‡ºç°åœ¨å„ä¸ªå…±äº«è¿›ç¨‹ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºè§£å†³è¿™æ ·çš„é—®é¢˜linux kernelä¸­å¼•å…¥äº†WW-Mutexesé”ã€‚&lt;/p&gt;
&lt;p&gt;WW-Mutexesä¸mutexæ˜¯æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼ŒåŠ é”çš„æ–¹å¼ä¹Ÿç±»ä¼¼ã€‚&lt;/p&gt;

&lt;p&gt;WW-Mutexesçš„å·¥ä½œæœºåˆ¶å¤§æ¦‚æ˜¯ï¼Œé¦–å…ˆå°†è¦å¼•ç”¨çš„bufferçš„é”åŠ å…¥åˆ°ä¸€ä¸ªlisté‡Œé¢ï¼Œç„¶åä¾æ¬¡å¯¹listä¸­çš„é”è¿›è¡Œä¸Šé”æ“ä½œï¼Œå¯¹å•ä¸ªé”çš„è·å–å¯èƒ½ä¼šå¤±è´¥ï¼Œå³è¯¥é”å·²è¢«å…¶ä»–äººå ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‡ºç°é”è·å–å¤±è´¥æ—¶ï¼Œæ¥ä¸‹æ¥WW-Mutexesä¼šæœ‰åˆ†ä¸¤ç§æƒ…å†µæ¥è§£å†³å†²çªï¼š&lt;/p&gt;
&lt;p&gt;1.å¦‚æœå½“å‰æ­£åœ¨åŠ é”çš„è¿›ç¨‹ï¼ˆtransactionï¼‰æ¯”å·²åŠ é”çš„è¿›ç¨‹æ–°ï¼ˆyoungerï¼‰ï¼Œé‚£ä¹ˆå½“å‰è¿›ç¨‹çš„åŠ é”æ“ä½œä¼šè¢«ç»ˆæ­¢ï¼Œåœæ­¢ä¹‹å‰é‡Šæ”¾ï¼ˆunlockï¼‰å·²æˆåŠŸè·å–åˆ°çš„é”ï¼Œç„¶åç­‰å¾…é‡æ–°å¯¹listçš„é”è¿›è¡Œå†æ¬¡åŠ é”æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;2.å¦‚æœå½“å‰æ­£åœ¨åŠ é”çš„è¿›ç¨‹ï¼ˆtransactionï¼‰æ¯”å·²åŠ é”çš„è¿›ç¨‹æ—§ï¼ˆolderï¼‰ï¼Œé‚£ä¹ˆå½“å‰è¿›ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°å ç”¨è¯¥é”çš„è¿›ç¨‹é‡Šæ”¾é”ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div readability=&quot;20&quot;&gt;
&lt;p&gt;A:&lt;/p&gt;
&lt;p&gt;Â Â Â Â lock-list: B0, B1, B2, B3&lt;/p&gt;
&lt;p&gt;Â Â Â Â locked:Â Â Â Â B0, B1, B2&lt;/p&gt;
&lt;p&gt;Â Â Â Â locking:Â Â Â B3&lt;/p&gt;
&lt;p&gt;B:&lt;/p&gt;
&lt;p&gt;Â Â Â Â lock-list: B1, B3, B4&lt;/p&gt;
&lt;p&gt;Â Â Â Â locked:Â Â Â Â B3&lt;/p&gt;
&lt;p&gt;Â Â Â Â locking:Â Â Â B1&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1.å¦‚ä¸Šæœ‰Aã€Bä¸¤ä¸ªè¿›ç¨‹ï¼Œå‡å¦‚Bæ¯”Aæ™šï¼ˆyoungerï¼‰å¯åŠ¨ï¼ŒBè¿›ç¨‹æ­£åœ¨å¯¹B1è¿›è¡ŒåŠ é”ï¼Œä½†æ˜¯B1å·²è¢«Aè¿›ç¨‹ä¸Šé”äº†ï¼Œæ‰€ä»¥Bè¿›ç¨‹åŠ é”å¤±è´¥ï¼Œå› ä¸ºBæ¯”Aæ–°ï¼Œæ‰€ä»¥Béœ€è¦é‡Šæ”¾åˆ°å®ƒå·²è·å–åˆ°çš„é”B4ï¼Œç„¶åé‡æ–°ç­‰å¾…å¯¹B1ï¼ŒB3ï¼ŒB4çš„åŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;2.ç›¸åï¼Œå¦‚æœBæ¯”Aæ—©ï¼ˆolderï¼‰å¯åŠ¨ï¼Œé‚£ä¹ˆBå¯¹B1åŠ é”å¤±è´¥åï¼ŒBä¼šç­‰å¾…ï¼Œç›´åˆ°B1è¢«Aé‡Šæ”¾ã€‚æ¥ç€çœ‹Açš„æƒ…å†µï¼ŒAæ­£åœ¨å¯¹B3è¿›è¡ŒåŠ é”ï¼ˆå‡è®¾Aåœ¨Bå¼€å§‹ç­‰å¾…åå¯¹B3åŠ é”ï¼‰ï¼Œä½†B3å·²è¢«Bé”ä½ï¼ŒæŒ‰åŒæ ·çš„è§„åˆ™ï¼Œè¿™æ˜¯Aæ¯”Bæ–°ï¼Œé‚£ä¹ˆAè¦è¢«ä¸­æ–­ï¼Œå¹¶é‡Šæ”¾æ‰å·²è·å–åˆ°çš„B0ã€B1ã€B2ï¼Œå¹¶é‡æ–°å¼€å§‹ä¸‹ä¸€è½®å¯¹B0, B1, B2, B3è¿›è¡ŒåŠ é”ã€‚å› ä¸ºAé‡Šæ”¾æ‰B1ï¼Œé‚£ä¹ˆBå°±èƒ½åœæ­¢ç­‰å¾…ï¼Œè·å–åˆ°B1äº†ã€‚ä¸€æ—¦è·å–åˆ°B lock-listä¸­æ‰€æœ‰bufferçš„é”åï¼ŒBå°±èƒ½å¯¹è¿™äº›bufferè¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå®Œæ¯•åå†é‡Šæ”¾æ‰æ‰€æœ‰çš„é”ï¼ŒAè¿›ç¨‹ä¹Ÿå°±æœ‰æœºä¼šé‡æ–°è·å–åˆ°æ‰€éœ€çš„é”äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;


&lt;div readability=&quot;110&quot;&gt;
&lt;p&gt;/* é™æ€åˆå§‹åŒ–ä¸€ä¸ª ww_class */&lt;/p&gt;
&lt;p&gt;static DEFINE_WW_CLASS(ww_class);&lt;/p&gt;

&lt;p&gt;/* è¦è¢«åŠ é”çš„å¯¹è±¡ï¼Œåœ¨å…¶ä¸­åµŒå…¥ struct ww_mutex lock */&lt;/p&gt;
&lt;p&gt;struct obj {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct ww_mutex lock;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â /* obj data */&lt;/p&gt;
&lt;p&gt;};&lt;/p&gt;

&lt;p&gt;/* éœ€è¦è·å–çš„å¯¹è±¡ç»„æˆçš„list */&lt;/p&gt;
&lt;p&gt;struct obj_entry {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct list_head head;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct obj *obj;&lt;/p&gt;
&lt;p&gt;};&lt;/p&gt;

&lt;p&gt;int lock_objs(struct list_head *list, struct ww_acquire_ctx *ctx)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct obj *res_obj = NULL;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct obj_entry *contended_entry = NULL;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â struct obj_entry *entry;&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â /* åŠ é”å‰å¯¹ww_acquire_ctxè¿›è¡Œåˆå§‹åŒ– */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â &lt;strong&gt;ww_acquire_init(ctx, &amp;amp;ww_class);&lt;/strong&gt;&lt;/p&gt;


&lt;p&gt;retry:&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â /* ä¸€æ¬¡ä»listä¸­å–å‡ºè¦åŠ é”çš„å¯¹è±¡ï¼Œå¹¶å¯¹å…¶è¿›è¡ŒåŠ é”æ“ä½œ */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â list_for_each_entry (entry, list, head) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (entry-&amp;gt;obj == res_obj) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res_obj = NULL;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â /* åŠ é”æ“ä½œï¼Œå¦‚æœå‡ºç°å†²çªï¼Œä¸”å½“å‰è¿›ç¨‹è¾ƒæ—§ï¼Œä¼šç­‰å¾…åœ¨ ww_mutex_lock()ä¸­ï¼Œä¸mutex_lock()ç±»ä¼¼ */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â ret = &lt;strong&gt;ww_mutex_lock(&amp;amp;entry-&amp;gt;obj-&amp;gt;lock, ctx);&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (ret &amp;lt; 0) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â /* åŠ é”å¤±è´¥ï¼Œå¹¶ä¸”å½“å‰è¿›è¡Œè¾ƒæ–°ï¼Œå½“å‰è¿›è¡Œå°†è¢«ç»ˆæ­¢ç»§ç»­è·å–å‰©ä½™çš„é”ï¼Œè®°å½•ä¸‹å†²çªå¯¹è±¡ */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â contended_entry = entry;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â goto err;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â ww_acquire_done(ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â return 0;&lt;/p&gt;

&lt;p&gt;err:&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â /* åœ¨è¿›è¡Œä¸‹ä¸€è½®åŠ é”å‰ï¼Œé‡Šæ”¾æ‰å·²è·å–åˆ°çš„é” */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â list_for_each_entry_continue_reverse (entry, list, head)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;strong&gt;ww_mutex_unlock&lt;/strong&gt;(&amp;amp;entry-&amp;gt;obj-&amp;gt;lock); /* ä¸mutex_unlockç±»ä¼¼ */&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â if (res_obj)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â ww_mutex_unlock(&amp;amp;res_obj-&amp;gt;lock);&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â if (ret == -EDEADLK) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â /* åœ¨å¼€å§‹ä¸‹ä¸€è½®çš„åŠ é”å‰ï¼Œä½¿ç”¨ww_mutex_lock_slow()è·å–ä¸Šä¸€è½®æœ‰å†²çªçš„é”ï¼Œww_mutex_lock_slow()ä¼šä¸€ç›´ä¼‘çœ ï¼Œç›´åˆ°è¯¥é”å¯ç”¨ä¸ºæ­¢ */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â /* we lost out in a seqno race, lock and retry.. */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;strong&gt;ww_mutex_lock_slow&lt;/strong&gt;(&amp;amp;contended_entry-&amp;gt;obj-&amp;gt;lock, ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â res_obj = contended_entry-&amp;gt;obj;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â /* è·³è½¬åˆ°ä¸‹ä¸€è½®çš„åŠ é”æ“ä½œ */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â goto retry;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â ww_acquire_fini(ctx);&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â return ret;&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;void unlock_objs(struct list_head *list, struct ww_acquire_ctx *ctx)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â struct obj_entry *entry;&lt;/p&gt;

&lt;p&gt;Â Â Â Â list_for_each_entry (entry, list, head)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â ww_mutex_unlock(&amp;amp;entry-&amp;gt;obj-&amp;gt;lock);Â Â //ä¾æ¬¡é‡Šæ”¾listä¸­çš„é”&lt;/p&gt;

&lt;p&gt;Â Â Â Â ww_acquire_fini(ctx);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;span&gt;dma_resv&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;GEM objectä¸»è¦æ˜¯æä¾›äº†graphics memory managerï¼Œæ­£æ˜¯å‰æ–‡ä¸­æåˆ°çš„GPU bufferå¯¹è±¡ï¼ˆlinux kernelä¸­è¿˜æœ‰å…¶ä»–çš„bufferç®¡ç†å¯¹è±¡ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦æ•´ç†äº†GEMçš„ä¸­ç”¨åˆ°çš„åŒæ­¥æ–¹æ³•ï¼Œä¸å¯¹å…¶ä»–æ–¹é¢åšè®²è§£ã€‚&lt;/p&gt;
&lt;p&gt;GEMä¸­ä¸»è¦ç”¨åˆ°WW-Mutexeså’Œdma-fenceæ¥åšåŒæ­¥ï¼Œè€Œè¿™ä¸¤è€…è¢«å°è£…åˆ°dma_resvä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è€Œdma_resvå®é™…ä¸Šæ˜¯æä¾›äº†æ‰€è°“çš„éšå¼åŒæ­¥ï¼ˆimplicit synchronizationã€implicit fenceï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;reservation objectæä¾›äº†ç®¡ç†å…±äº«å’Œç‹¬å fenceçš„æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªreservation objectä¸Šåªèƒ½æ·»åŠ ä¸€ä¸ªç‹¬å fenceï¼ˆé€šå¸¸å¯¹äºå†™æ“ä½œï¼‰ï¼Œæˆ–æ·»åŠ å¤šä¸ªå…±äº«fenceï¼ˆè¯»æ“ä½œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç±»ä¼¼äºRCUçš„æ¦‚å¿µï¼Œä¸€ä¸ªreservation objectç®¡ç†çš„å¯¹è±¡èƒ½æ”¯æŒå¹¶å‘çš„readæ“ä½œï¼Œä½†æ˜¯åªæ”¯æŒåŒæ—¶ä¸€ä¸ªå†™å…¥æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;Dma-fenceæ˜¯ç”¨åœ¨kernelå†…éƒ¨çš„è·¨è®¾å¤‡ï¼ˆcross-deviceï¼‰çš„DMAæ“ä½œåŒæ­¥åŸè¯­ï¼Œæ¯”å¦‚GPUå‘framebufferåšrenderingï¼Œè€Œdisplayingåœ¨è¯»å–framebufferå‰éœ€è¦ç¡®ä¿GPUå·²å®Œæˆrenderingæ“ä½œï¼Œå³è¯»æ“ä½œä¹‹å‰ï¼Œç¡®ä¿å†™æ“ä½œå·²å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Dma-fenceé€šå¸¸æœ‰ä¸¤ç§çŠ¶æ€ï¼Œsignaled å’Œ unsignaledã€‚åœ¨è¿™é‡Œï¼Œé€šå¸¸unsignaledè¡¨ç¤ºbufferè¿˜åœ¨è¢«ä½¿ç”¨ï¼Œsignaledè¡¨ç¤ºbufferå·²ä½¿ç”¨å®Œæ¯•ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºDma-fenceæ˜¯ä¸ºè·¨è®¾å¤‡é—´çš„åŒæ­¥è€Œè®¾è®¡ï¼Œè¿™é‡Œæœ‰å¤šç§ä½¿ç”¨dma-fenceæ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;1ã€explicit fencingï¼šå•ä¸ªdma-fenceé€šè¿‡ä»¥æ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼‰çš„å½¢å¼æš´éœ²ç»™ç”¨æˆ·å±‚ï¼Œç”¨æˆ·å±‚å¯ä»¥æŠŠè¯¥æ–‡ä»¶æè¿°ç¬¦ä¼ é€’ç»™å…¶ä»–è¿›ç¨‹ï¼Œå› ä¸ºæ˜¯å¯¹åº”ç”¨å±‚å¯è§çš„ï¼Œæ‰€ä»¥å«è¿™ç±»dma-fenceä¸ºexplicit fencingã€‚&lt;/p&gt;
&lt;p&gt;2ã€implicit fencingï¼šå…¶å®å°±æ˜¯å¯¹ç”¨æˆ·å±‚ä¸å¯è§çš„dma-fenceï¼Œé€šå¸¸å­˜å‚¨åœ¨dma_resvä¸­ï¼Œåœ¨é€šè¿‡dma_bufåœ¨å†…æ ¸ä¸­ä¼ é€’ã€‚&lt;/p&gt;

&lt;p&gt;GEM buffer objectçš„å®šä¹‰å¦‚ä¸‹ï¼ˆçœç•¥äº†ä¸æœ¬æ–‡æ— å…³çš„æˆå‘˜ï¼‰ï¼š&lt;/p&gt;
&lt;div readability=&quot;27&quot;&gt;
&lt;p&gt;struct drm_gem_object {&lt;/p&gt;
&lt;p&gt;Â Â Â Â â€¦ â€¦&lt;/p&gt;
&lt;p&gt;Â Â struct dma_resv *resv;&lt;/p&gt;
&lt;p&gt;Â Â struct dma_resv _resv;&lt;/p&gt;
&lt;p&gt;Â Â Â Â â€¦ â€¦&lt;/p&gt;
&lt;p&gt;};&lt;/p&gt;

&lt;p&gt;resv&lt;/p&gt;
&lt;p&gt;Â Â Â Â Pointer to reservation object associated with the this GEM object.&lt;/p&gt;
&lt;p&gt;Â Â Â Â Normally (resv == &amp;amp;**_resv**) except for imported GEM objects.&lt;/p&gt;
&lt;p&gt;_resv&lt;/p&gt;
&lt;p&gt;Â Â Â Â A reservation object for this GEM object.&lt;/p&gt;
&lt;p&gt;Â Â Â Â This is unused for imported GEM objects.&lt;/p&gt;

&lt;p&gt;GEMä¸­å¯¹WW-Mutexeså’Œdma-fenceæ˜¯é€šè¿‡dma_resvæ¥å®ç°çš„ï¼Œdma_resvçš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;struct dma_resv {&lt;/p&gt;
&lt;p&gt;Â Â Â Â struct ww_mutex lock;&lt;/p&gt;
&lt;p&gt;Â Â Â Â seqcount_ww_mutex_t seq;&lt;/p&gt;

&lt;p&gt;Â Â Â Â struct dma_fence __rcu *fence_excl;&lt;/p&gt;
&lt;p&gt;Â Â Â Â struct dma_resv_list __rcu *fence;&lt;/p&gt;
&lt;p&gt;};&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬æœ€ç»ˆè¦å…³æ³¨çš„å¯¹è±¡å®é™…ä¸Šæ˜¯dma_resvã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œæˆ‘ä»¬å…³æ³¨çš„bufferå¯¹è±¡ï¼Œåœ¨è¿™é‡Œå°±æ˜¯ä¸€ä¸ªGEMå¯¹è±¡ï¼Œè€Œè¿™ä¸ªGEMå¯¹è±¡çš„åŒæ­¥æ“ä½œæ˜¯ç”±GEMä¸­çš„dma_resvæä¾›çš„ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºåœ¨è¿™ç‰‡æ–‡ç« ä¸­ï¼Œä¸ä¼šæ¶‰åŠbufferåŒæ­¥ä»¥ä¸ºçš„å†…å®¹ï¼ˆä¾‹å¦‚backing memoryï¼‰ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥åœ¨è®¨è®ºdma_resvæ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨è®¨è®ºå•ä¸ªGEMå¯¹è±¡çš„åŒæ­¥ï¼Œä¹Ÿå³æ˜¯å•ä¸ªbufferå¯¹è±¡çš„åŒæ­¥ã€‚&lt;/p&gt;

&lt;p&gt;å‰æ–‡å·²å°†è°ˆåˆ°ï¼Œåœ¨GPUçš„æ“ä½œä¸­æ¶‰åŠåˆ°å¤šbufferçš„åŒæ­¥äº’æ–¥é—®é¢˜ï¼Œéœ€è¦ä¸€æ¬¡æ€§å‡†å¤‡å¥½GPUçš„pipelineä¸Šæ‰€éœ€è¦çš„bufferã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½¿ç”¨è¿™ç»„bufferæ—¶ï¼Œå¾ˆå¯èƒ½è¿™ç»„bufferä¹Ÿè¢«å…¶ä»–äººä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé’ˆå¯¹å•ä¸ªbufferåŠ é”ï¼ˆå¦‚mutexï¼‰ï¼Œä¼šæœ‰æ­»é”çš„é£é™©ï¼ˆdeadlockï¼‰ï¼Œæ¯”å¦‚Aã€Bä¸¤ä¸ªè¿›ç¨‹éƒ½éœ€è¦åŒæ—¶å¼•ç”¨ä¸¤ä¸ªbufferï¼Œåˆ†åˆ«å¯¹ä¸¤ä¸ªbufferåŠ é”ï¼ŒAè·å¾—buffer0ï¼ŒBè·å¾—buffer1ï¼Œå½“Aåœ¨å¯¹buffer1åŠ é”å°±ä¼šæ­»é”ï¼ŒåŒæ ·çš„Bä¹Ÿä¼šåœ¨åŠ é”buffer0æ—¶æ­»é”ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å°±å¼•å…¥äº†WW-Mutexesæ¥è§£å†³è¿™æ ·çš„å†²çªï¼ŒLinux DRMä¸­çš„GEMæä¾›äº†å¯¹WW-Mutexesçš„æ”¯æŒã€‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å‘ç°åœ¨GPUä¸Šï¼Œå¯¹bufferçš„æ“ä½œæœ‰è¯»æœ‰å†™ï¼Œæ¯”å¦‚texture bufferã€uniform bufferæ˜¯åªè¯»çš„ï¼Œframebufferå¯è¯»å¯å†™ã€‚&lt;/p&gt;
&lt;p&gt;å†™æ“ä½œå¿…é¡»æ˜¯ç‹¬å å¼çš„ï¼Œä½†è¯»æ“ä½œå´å¯ä»¥è¢«å…±äº«ï¼Œæ‰€ä»¥åˆå¼•å…¥äº†dma-fenceæ¥è¾¾åˆ°è¿™æ ·çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;dma_resvæŠŠWW-Mutexeså’Œdma-fenceç›¸ç»“åˆï¼Œè¾¾åˆ°å¤šbufferé—´åŒæ­¥çš„æœ€ä¼˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨æ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;kernelä¸­å·²ç»åšäº†å¾ˆå¥½çš„å°è£…ï¼Œæ¶‰åŠåˆ°å‡ ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œæˆ‘æ€»ç»“çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€è°ƒç”¨drm_gem_lock_reservations()è·å–GPUä¸€æ¬¡renderingæ‰€ç”¨åˆ°çš„bufferçš„é”ww_mutex&lt;/p&gt;
&lt;p&gt;2ã€æˆåŠŸè·å–åˆ°æ‰€æœ‰bufferçš„ww_mutexé”åï¼Œé’ˆå¯¹æ¯ä¸ªbufferåœ¨GPUä¸­çš„ä½¿ç”¨æƒ…å†µæ·»åŠ ä¸åŒçš„dma-fenceï¼Œ&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â å¦‚æœGPUä¸­ä¼šè¯»å–æŸä¸ªbufferï¼Œåˆ™é€šè¿‡å‡½æ•°dma_resv_add_shared_fence()æ·»åŠ ä¸€ä¸ªå…±äº«dma-fenceï¼›&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â å¦‚æœGPUä¼šå†™æ¯ä¸ªbufferï¼Œåˆ™é€šè¿‡å‡½æ•°dma_resv_add_excl_fence()æ·»åŠ ä¸€ä¸ªç‹¬å çš„dma-fenceã€‚&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â æ³¨æ„åœ¨è°ƒç”¨dma_resv_add_excl_fence()å‰ï¼Œéœ€è¦ç¡®ä¿åœ¨è¿™ä¹‹å‰æ·»åŠ çš„share fenceå‡å¤„äºunsignaledçŠ¶æ€ï¼Œå°±æ˜¯ç¡®ä¿å†™ä¹‹å‰ï¼Œè¯»æ“ä½œå·²å…¨æ¯”å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;3ã€å®Œæˆfenceçš„æ·»åŠ åï¼Œè°ƒç”¨drm_gem_unlock_reservations()é‡Šæ”¾è¿™ç»„bufferçš„ww_mutex&lt;/p&gt;
&lt;p&gt;4ã€æ¥ä¸‹æ¥ï¼Œå½“å…¶ä»–è¿›ç¨‹æˆ–è®¾å¤‡è¦å¯¹æŸä¸ªbufferåšæ“ä½œå‰ï¼Œéœ€è¦åˆ¤æ–­dma-fenceçš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â å‡å¦‚æˆ‘è¦è¯»å–framebufferçš„å†…å®¹ç”¨äºå±å¹•æ˜¾ç¤ºï¼Œé‚£å°±æ˜¯è¯»ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿å†™ç»“æŸï¼Œè°ƒç”¨å‡½æ•°dma_resv_get_excl_rcu(), è¯»å–ç‹¬å dma-fenceï¼Œç¡®ä¿å…¶ä¸ºunsignaledçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â ä¾‹å¦‚ï¼Œæˆ‘ä»¬çœ‹çœ‹KMSçš„atomicä¸­çš„plane frambuffer çš„æ“ä½œï¼š&lt;/p&gt;
&lt;p&gt;Â  Â  Â è¯»å–ç‹¬å dma-fenceï¼š&lt;/p&gt;

&lt;div readability=&quot;28&quot;&gt;
&lt;p&gt;Â Â int drm_gem_fb_prepare_fb(struct drm_plane *plane,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â struct drm_plane_state *state)&lt;/p&gt;
&lt;p&gt;Â Â Â Â {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â struct drm_gem_object *obj;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â struct dma_fence *fence;&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â if (!state-&amp;gt;fb)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â return 0;&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â obj = drm_gem_fb_get_obj(state-&amp;gt;fb, 0);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â &lt;strong&gt;&lt;span&gt;fence = dma_resv_get_excl_rcu(obj-&amp;gt;resv);&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â drm_atomic_set_fence_for_plane(state, fence);&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â return 0;&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Â  Â  Â åœ¨KMSçš„atomicæ“ä½œä¸­ï¼Œä¼šç­‰å¾…ç‹¬å dma-fenceè¢«signalï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div readability=&quot;56&quot;&gt;
&lt;p&gt;Â Â  Â int drm_atomic_helper_wait_for_fences(struct drm_device *dev,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â struct drm_atomic_state *state,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bool pre_swap)&lt;/p&gt;
&lt;p&gt;Â  Â  {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â struct drm_plane *plane;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â struct drm_plane_state *new_plane_state;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â int i, ret;&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â Â Â Â for_each_new_plane_in_state(state, plane, new_plane_state, i) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â if (!new_plane_state-&amp;gt;fence)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â WARN_ON(!new_plane_state-&amp;gt;fb);&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â /*&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â * If waiting for fences pre-swap (ie: nonblock), userspace can&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â * still interrupt the operation. Instead of blocking until the&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â * timer expires, make the wait interruptible.&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â */&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&lt;strong&gt;ret = dma_fence_wait(new_plane_state-&amp;gt;fence, pre_swap);&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â if (ret)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return ret;&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â dma_fence_put(new_plane_state-&amp;gt;fence);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â new_plane_state-&amp;gt;fence = NULL;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â }&lt;/p&gt;


&lt;p&gt;Â Â Â Â Â Â Â Â return 0;&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;ä»£ç ç®€æï¼š&lt;/p&gt;
&lt;p&gt;å‡½æ•°drm_gem_lock_reservations()çš„åŠ é”è¿‡ç¨‹å°±æ˜¯ï¼Œä¸Šæ–‡ä¸­æåˆ°çš„ww_mutexesçš„å…¸å‹ç”¨æ³•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div readability=&quot;68&quot;&gt;
&lt;p&gt;int&lt;/p&gt;
&lt;p&gt;drm_gem_lock_reservations(struct drm_gem_object **objs, int count,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â struct ww_acquire_ctx *acquire_ctx)&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;Â Â Â Â int contended = -1;&lt;/p&gt;
&lt;p&gt;Â Â Â Â int i, ret;&lt;/p&gt;

&lt;p&gt;Â Â Â &lt;strong&gt;Â ww_acquire_init(acquire_ctx, &amp;amp;reservation_ww_class);&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;retry:&lt;/p&gt;
&lt;p&gt;Â Â Â Â if (contended != -1) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â struct drm_gem_object *obj = objs[contended];&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â ret = &lt;strong&gt;dma_resv_lock_slow_interruptible&lt;/strong&gt;(obj-&amp;gt;resv,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â acquire_ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â if (ret) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â ww_acquire_done(acquire_ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â return ret;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â for (i = 0; i &amp;lt; count; i++) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â if (i == contended)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â continue;&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â ret = &lt;strong&gt;dma_resv_lock_interruptible&lt;/strong&gt;(objs[i]-&amp;gt;resv,&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â acquire_ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â if (ret) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â int j;&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â for (j = 0; j &amp;lt; i; j++)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;strong&gt;dma_resv_unlock&lt;/strong&gt;(objs[j]-&amp;gt;resv);&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â if (contended != -1 &amp;amp;&amp;amp; contended &amp;gt;= i)&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dma_resv_unlock(objs[contended]-&amp;gt;resv);&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â if (ret == -EDEADLK) {&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â contended = i;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â goto retry;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â ww_acquire_done(acquire_ctx);&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â Â Â Â Â return ret;&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â Â }&lt;/p&gt;
&lt;p&gt;Â Â Â Â }&lt;/p&gt;

&lt;p&gt;Â Â Â Â &lt;strong&gt;ww_acquire_done&lt;/strong&gt;(acquire_ctx);&lt;/p&gt;

&lt;p&gt;Â Â Â Â return 0;&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;å‚è€ƒæ–‡æ¡£ï¼š&lt;/p&gt;



</description>
<pubDate>Tue, 26 Jan 2021 13:50:00 +0000</pubDate>
<dc:creator>-Yaong-</dc:creator>
<og:description>åŸæ–‡é“¾æ¥ï¼šhttps://www.cnblogs.com/yaongtime/p/14111134.html WW-Mutexes åœ¨GPUä¸­ä¸€æ¬¡Renderå¯èƒ½ä¼šæ¶‰åŠåˆ°å¯¹å¤šä¸ªbufferçš„å¼•ç”¨ã€‚ æ‰€</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/yaongtime/p/14332526.html</dc:identifier>
</item>
<item>
<title>ä»€ä¹ˆæ˜¯ä¸­å°ç³»ç»Ÿï¼Ÿ - nylgwn</title>
<link>http://www.cnblogs.com/nylgwn/p/14332567.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nylgwn/p/14332567.html</guid>
<description>&lt;div id=&quot;cnblogs_post_description&quot; readability=&quot;35&quot;&gt;&lt;img src=&quot;https://www.hualigs.cn/image/600bff207f997.jpg&quot; class=&quot;desc_img&quot;/&gt;è¯´èµ·ä¸­å°çš„èƒŒæ™¯ï¼Œæœ€å…ˆæƒ³åˆ°çš„åº”è¯¥æ˜¯é˜¿é‡Œå·´å·´æå‡ºçš„â€œå¤§ä¸­å°ã€å°å‰å°â€æˆ˜ç•¥ã€‚é˜¿é‡ŒCEOå¼ å‹‡åœ¨2015å¹´12æœˆ7æ—¥ä»¥å…¬å¸å†…éƒ¨ä¿¡çš„æ–¹å¼ï¼Œæ­£å¼ä»å…¬å¸é›†å›¢å±‚é¢æå‡ºäº†â€å¤§ä¸­å°ã€å°å‰å°â€çš„ä¸­å°æˆ˜ç•¥ï¼Œè¯¥æˆ˜ç•¥çš„ä»·å€¼ä¸ºï¼šå‰å°å¯æ•æ·å¿«é€Ÿé€‚åº”ç¬æ¯ä¸‡å˜çš„å¸‚åœºï¼Œä¸­å°é›†åˆé›†å›¢çš„æŠ€æœ¯å’Œæ•°æ®èƒ½åŠ›ï¼Œå¯¹å‰å°è¿›è¡Œå¼ºåŠ›æ”¯æ’‘ã€‚&lt;/div&gt;&lt;div id=&quot;cnblogs_post_body&quot; readability=&quot;98.700256739409&quot;&gt;
&lt;p&gt;æŸ¥çœ‹ç™¾åº¦æŒ‡æ•°ï¼Œâ€œä¸­å°â€ä¸¤å­—çš„æœç´¢é‡ä»2019å¹´5æœˆ21æ—¥åå¼€å§‹é™¡å¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/987359/202101/987359-20210126212128529-1112269134.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™å¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿè¿™å¤©è…¾è®¯å¬å¼€äº†â€œè…¾è®¯å…¨çƒæ•°å­—ç”Ÿæ€å¤§ä¼šâ€ï¼Œåœ¨ä¼šä¸Šï¼Œå¤šä½è…¾è®¯é«˜ç®¡æåˆ°â€å¼€æ”¾ä¸­å°èƒ½åŠ›ï¼Œæ‹¥æŠ±äº§å“äº’è”ç½‘â€œã€‚è‡³æ­¤ï¼Œâ€œä¸­å°â€2ä¸ªå­—å¼€å§‹é¢‘ç¹å‡ºç°åœ¨èµ„è®¯æŠ¥é“ã€å…¬ä¼—å·æ–‡ç« å’ŒçŸ¥ä¹ä¸Šã€‚&lt;br/&gt;åœ¨2019å¹´5æœˆ21æ—¥åçš„2ä¸ªæœˆå†…ï¼Œåœ¨ç™¾åº¦æŒ‡æ•°ä¸­ï¼Œä¸â€œä¸­å°â€œç›¸å…³çš„é«˜é¢‘æœç´¢è¯æœ‰ï¼šä»€ä¹ˆæ˜¯ä¸­å°ç³»ç»Ÿã€ä¸­å°æ˜¯ä»€ä¹ˆæ„æ€ã€æ•°æ®ä¸­å°ã€ä¸­å°ç³»ç»Ÿã€ç³»ç»Ÿã€äº’è”ç½‘ä¸­å°æ˜¯ä»€ä¹ˆæ„æ€ã€ä¸­å°äº§å“ç»ç†ï¼Œä¸šåŠ¡ä¸­å°ã€ä¸­å°æˆ˜ç•¥ã€ä¸­å°æ¦‚å¿µã€æ•°æ®ä¸­æ³°ã€ä»€ä¹ˆæ˜¯ä¸­å°éƒ¨é—¨ã€æ•°æ®ä¸­å°æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç­‰ç­‰ã€‚ä»æœç´¢è¯ä¸Šå¯ä»¥çœ‹å‡ºï¼Œæœç´¢å»å‘çš„ç›¸å…³è¯ï¼Œå¤§éƒ¨åˆ†è¿˜é›†ä¸­åœ¨â€œwhatâ€çš„é˜¶æ®µï¼Œå³â€œä»€ä¹ˆæ˜¯ä¸­å°â€ï¼Œâ€œä¸­å°æ˜¯ä»€ä¹ˆæ„æ€â€ï¼Œâ€œä»€ä¹ˆæ˜¯ä¸­å°ç³»ç»Ÿâ€œçš„é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ï¼Œå°†è¯•ç€å›ç­”â€ä»€ä¹ˆæ˜¯ä¸­å°ç³»ç»Ÿâ€œï¼ˆä¸­å°çš„æ¦‚å¿µå¾ˆå¤šï¼Œæœ¬æ–‡ä¸»è¦è®¨è®ºçš„æ˜¯â€œä¸šåŠ¡ä¸­å°â€ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€ä¸­å°æ¦‚å¿µäº§ç”Ÿçš„èƒŒæ™¯&quot;&gt;ä¸€ã€ä¸­å°æ¦‚å¿µäº§ç”Ÿçš„èƒŒæ™¯&lt;/h2&gt;
&lt;h3 id=&quot;11ã€é˜¿é‡Œçš„å¤§ä¸­å°ï¼Œå°å‰å°æˆ˜ç•¥&quot;&gt;1.1ã€é˜¿é‡Œçš„â€œå¤§ä¸­å°ï¼Œå°å‰å°â€æˆ˜ç•¥&lt;/h3&gt;
&lt;p&gt;è¯´èµ·ä¸­å°çš„èƒŒæ™¯ï¼Œæœ€å…ˆæƒ³åˆ°çš„åº”è¯¥æ˜¯é˜¿é‡Œå·´å·´æå‡ºçš„â€œå¤§ä¸­å°ã€å°å‰å°â€æˆ˜ç•¥ã€‚é˜¿é‡ŒCEOå¼ å‹‡åœ¨2015å¹´12æœˆ7æ—¥ä»¥å…¬å¸å†…éƒ¨ä¿¡çš„æ–¹å¼ï¼Œæ­£å¼ä»å…¬å¸é›†å›¢å±‚é¢æå‡ºäº†â€å¤§ä¸­å°ã€å°å‰å°â€çš„ä¸­å°æˆ˜ç•¥ï¼Œè¯¥æˆ˜ç•¥çš„ä»·å€¼ä¸ºï¼šå‰å°å¯æ•æ·å¿«é€Ÿé€‚åº”ç¬æ¯ä¸‡å˜çš„å¸‚åœºï¼Œä¸­å°é›†åˆé›†å›¢çš„æŠ€æœ¯å’Œæ•°æ®èƒ½åŠ›ï¼Œå¯¹å‰å°è¿›è¡Œå¼ºåŠ›æ”¯æ’‘ã€‚&lt;br/&gt;å‚è€ƒ ã€Šä¼ä¸šITæ¶æ„è½¬å‹ä¹‹é“ã€‹ä¹¦ä¸­ç¬¬1ç« çš„æè¿°ï¼Œé˜¿é‡Œä¸­å°çš„äº§ç”Ÿå†ç¨‹ï¼Œå®é™…ä¸Šæ˜¯é˜¿é‡Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨æ¼”è¿›å†ç¨‹ï¼Œé˜¿é‡Œå¹¶éå‡­ç©ºæå‡ºæ¥1ä¸ªâ€œä¸­å°æˆ˜ç•¥â€ï¼Œå®é™…ä¸Šæ˜¯é˜¿é‡Œä¸€ç›´éƒ½åœ¨å¯¹â€œä¸­å°â€è¿›è¡Œæ¼”åŒ–æ¨è¿›ï¼›æ¼”è¿›åˆ°äº†2015å¹´ï¼Œä¸­å°æˆ˜ç•¥ä¸ç®¡æ˜¯ç»„ç»‡æ¶æ„ä¸Šï¼Œè¿˜æ˜¯ä»æŠ€æœ¯å’Œä¸šåŠ¡ä¸Šï¼Œè¶‹å·²æˆç†Ÿï¼Œé¡ºåŠ¿æŠŠâ€œä¸­å°æ¦‚å¿µâ€å½’çº³æ€»ç»“å‡ºæ¥ï¼Œå¹¶ä½œä¸ºå…¬å¸çš„1ä¸ªæˆ˜ç•¥ã€‚&lt;/p&gt;
&lt;h3 id=&quot;12ã€é˜¿é‡Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨çš„å‘å±•å²&quot;&gt;1.2ã€é˜¿é‡Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨çš„å‘å±•å²&lt;/h3&gt;
&lt;p&gt;æ ¹æ®ã€Šä¼ä¸šITæ¶æ„è½¬å‹ä¹‹é“ã€‹çš„æè¿°ï¼Œé˜¿é‡Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨å…±ç»å†äº†3ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ç¬¬1é˜¶æ®µï¼šæ·˜å®æŠ€æœ¯å›¢é˜Ÿï¼Œä½œä¸ºæ·˜å®ç½‘çš„æŠ€æœ¯å›¢é˜Ÿï¼ŒåŒæ—¶æ”¯æ’‘æ·˜å®å’Œå¤©çŒ«çš„ä¸šåŠ¡ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬2é˜¶æ®µï¼šæ·˜å®æŠ€æœ¯å›¢é˜Ÿæ”¹ç»„ä¸ºå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨ï¼ŒåŒæ—¶æ»¡è¶³æ·˜å®å’Œå¤©çŒ«é«˜å‹æ€åŠ¿çš„ä¸šåŠ¡æ”¯æ’‘ï¼Œå¤¹ç¼ç”Ÿå­˜ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬3é˜¶æ®µï¼šå› èšåˆ’ç®—çš„å‡ºç°ï¼Œé›†å›¢å±‚é¢å†³å®šä¸‰å¤§ç”µå•†å¹³å°ï¼ˆæ·˜å®ã€å¤©çŒ«ã€1688ï¼‰ä¸èšåˆ’ç®—å¯¹æ¥ï¼Œå¿…é¡»é€šè¿‡å…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨ï¼Œä»æ­¤ï¼Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨æœ‰äº†1ä¸ªæå¼ºçš„ä¸šåŠ¡æŠ“æ‰‹ï¼Œå¹¶ä½¿ä¹‹æˆä¸ºé˜¿é‡Œå·´å·´é›†å›¢ä¸šåŠ¡çš„æ ¸å¿ƒä¸šåŠ¡å¹³å°ï¼›&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/987359/202101/987359-20210126212431426-100373564.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;br/&gt;å…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨ï¼Œå°±æ˜¯é˜¿é‡Œå·´å·´ä¸­å°ï¼ˆæ›´ç¡®åˆ‡è¯´ï¼Œæ˜¯â€ä¸šåŠ¡ä¸­å°â€œï¼‰çš„é›å½¢ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;13ã€ä¸­å°è§£å†³ä»€ä¹ˆé—®é¢˜&quot;&gt;1.3ã€ä¸­å°è§£å†³ä»€ä¹ˆé—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä»é˜¿é‡Œå…±äº«ä¸šåŠ¡äº‹ä¸šéƒ¨çš„å‘å±•å²å¯ä»¥çœ‹å‡ºï¼Œå…±äº«æœåŠ¡æ¶æ„è§£å†³æ˜¯ä¼ä¸šâ€çƒŸå›±å¼â€œç³»ç»Ÿå»ºè®¾å¸¦æ¥çš„3å¤§å¼Šç«¯ï¼šé‡å¤åŠŸèƒ½å»ºè®¾å’Œç»´æŠ¤å¸¦æ¥çš„é‡å¤æŠ•èµ„ã€æ‰“é€šçƒŸå›±å¼ç³»ç»Ÿé—´äº¤äº’çš„é›†æˆå’Œåä½œæˆæœ¬é«˜æ˜‚ã€ä¸åˆ©äºä¸šåŠ¡æ²‰æ·€å’ŒæŒç»­å‘å±•ã€‚å…±äº«æœåŠ¡æ¶æ„çš„å»ºè®¾ï¼Œæ‘†è„±äº†â€çƒŸå›±å¼â€œç³»ç»Ÿå»ºè®¾æ–¹å¼æ‰€å¸¦æ¥çš„ç§ç§å‘å±•æ¡æ¢ã€‚&lt;/p&gt;
&lt;h2 id=&quot;äºŒã€ä¸­å°çš„æœ¬è´¨å’Œä»·å€¼&quot;&gt;äºŒã€ä¸­å°çš„æœ¬è´¨å’Œä»·å€¼&lt;/h2&gt;
&lt;h3 id=&quot;21ã€ä¸­å°çš„æœ¬è´¨&quot;&gt;2.1ã€ä¸­å°çš„æœ¬è´¨&lt;/h3&gt;
&lt;p&gt;ä¸­å°çš„æœ¬è´¨ï¼šå…±æ€§æœåŠ¡ä¸èµ„æºçš„æœ‰æ•ˆå¤ç”¨ï¼Œæ¦‚æ‹¬ä¸ºå››ä¸ªå­—å°±æ˜¯ï¼š&lt;strong&gt;æœåŠ¡å¤ç”¨&lt;/strong&gt;ã€‚&lt;br/&gt;BATå„å®¶å®šä¹‰çš„â€ä¸­å°â€œï¼Œä»æœ¬è´¨ä¸Šï¼Œå‡å¯æ¦‚å†µä¸ºæœåŠ¡å¤ç”¨ã€‚&lt;br/&gt;åœ¨2019å¹´è…¾è®¯å…¨çƒæ•°å­—ç”Ÿæ€å¤§ä¼šä¸Šï¼ŒCSIGäº‹ä¸šç¾¤æ€»è£æ±¤é“ç”Ÿæåˆ°çš„æ•°æ®ä¸­å°å’ŒæŠ€æœ¯ä¸­å°ã€‚å…¶ä¸­æåˆ°â€œæˆ‘ä»¬çš„ç”¨æˆ·ä¸­å°ï¼Œå¯ä»¥ä¸ºå®¢æˆ·æä¾›ç”¨æˆ·å¢é•¿ã€ç”¨æˆ·æ²Ÿé€šã€ç”¨æˆ·æ•°æ®ä¿æŠ¤ã€ä¼šå‘˜ç®¡ç†ç­‰å®Œæ•´å·¥å…·ã€‚ä»¥æ±½è½¦è¡Œä¸šä¸ºä¾‹ï¼Œåˆ©ç”¨ç”¨æˆ·ä¸­å°ï¼Œæˆ‘ä»¬ä¸ºè½¦ä¼æ‰“é€ äº†æ™ºæ…§è½¦é”€æ–¹æ¡ˆï¼Œè¦†ç›–å”®å‰ã€å”®ä¸­ã€å”®åå…¨å‘¨æœŸï¼Œæå‡è½¦ä¼è·å®¢ã€å¾…å®¢ã€ç•™å®¢çš„æ•ˆèƒ½â€&lt;br/&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/987359/202101/987359-20210126212700702-2072408568.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;22ã€ä¸­å°çš„ä»·å€¼&quot;&gt;2.2ã€ä¸­å°çš„ä»·å€¼&lt;/h3&gt;
&lt;p&gt;ä¸­å°çš„ä»·å€¼ï¼Œå³æœåŠ¡å¤ç”¨åçš„ç›´æ¥ç»“æœï¼šâ€œ&lt;strong&gt;é™æœ¬å¢æ•ˆ&lt;/strong&gt;â€ã€‚&lt;br/&gt;é™æœ¬å¢æ•ˆï¼Œå¯ä»¥ä»ä¸‹é¢å‡ ç‚¹ç†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å…±æ€§ä¸šåŠ¡çš„æ— éœ€é‡å¤æŠ•èµ„å»ºè®¾ï¼Œå»ºè®¾æˆæœ¬å’Œç»´æŠ¤æˆæœ¬é™ä½ï¼›&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¿«é€Ÿè¿›è¡ŒæœåŠ¡èƒ½åŠ›è¿­ä»£ï¼Œé«˜æ•ˆæ”¯æ’‘å‰ç«¯ä¸šåŠ¡å˜åŒ–ï¼›&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;ä¸‰ã€å…¬å¸è¦ä¸è¦åšä¸­å°ï¼Ÿ&quot;&gt;ä¸‰ã€å…¬å¸è¦ä¸è¦åšä¸­å°ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä»ç™¾åº¦æŒ‡æ•°å¯ä»¥çœ‹å‡ºï¼Œ2019å¹´â€œä¸­å°â€è¿™ä¸ªè¯å¾ˆçƒ­ï¼Œæ¯”è¾ƒå¤ºäººçœ¼çƒçš„èµ„è®¯æ ‡é¢˜æœ‰ï¼šå…¬å¸ä¸åšä¸­å°ï¼Œä¼šæ­»å—ï¼Ÿç¬”è€…çš„å›ç­”æ˜¯ï¼šä¸ä¼šæ­»ï¼Œè€Œä¸”è¦åšä¹‹å‰ï¼Œå…ˆè¦åˆ¤æ–­â€œè¦ä¸è¦åšä¸­å°â€&lt;br/&gt;å›é¡¾è¿‘æœŸå„å®¶å¯¹ä¸­å°çš„é˜è¿°ï¼Œå¤§å®¶å¯¹ä¸­å°çš„ç†è§£å’Œå®šä¹‰è¿˜å¤„åœ¨ç™¾å®¶äº‰é¸£çš„é˜¶æ®µã€‚ç¬”è€…è®¤ä¸ºï¼Œè¦ä¸è¦åšä¸­å°ï¼ŒæŒ‰ç…§é¡ºåºï¼Œå¯ä»¥é—®ä¸‹é¢2ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol readability=&quot;2&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;åœ¨å…¬å¸å†…éƒ¨ï¼Œæœ‰æ²¡æœ‰å…±æ€§ä¸šåŠ¡ï¼Ÿ&lt;br/&gt;è¿™æ˜¯å‰ææ¡ä»¶ï¼Œä¸€å®šè¦åœ¨é›†å›¢ï¼ˆå…¬å¸ï¼‰å†…éƒ¨ï¼Œæ‰¾åˆ°å…±æ€§ä¸šåŠ¡æˆ–éœ€æ±‚ï¼Œæœ€å¥½æ˜¯æœ‰è¾ƒå¤šçš„å†…éƒ¨å…±æ€§ä¸šåŠ¡å’Œéœ€æ±‚ã€‚&lt;br/&gt;åœ¨ç›®å‰çš„å¤§å‚ä¸­ï¼Œå…±æ€§ä¸šåŠ¡æœ€å¤šçš„æ˜¯2å®¶ï¼šé˜¿é‡Œå·´å·´å’Œæ»´æ»´å‡ºè¡Œã€‚é˜¿é‡Œå·´å·´æœ‰å¤§é‡çš„ç”µå•†ç³»ç»Ÿï¼Œæ¯”å¦‚å¤©çŒ«ï¼Œæ·˜å®ï¼Œ1688ï¼Œé—²é±¼ç­‰ï¼Œç”µå•†ç³»ç»Ÿçš„å…±æ€§éƒ¨åˆ†åŒ…æ‹¬å•†å“ä¸­å¿ƒã€è®¢å•ä¸­å¿ƒã€ç”¨æˆ·ä¸­å¿ƒã€æ”¯ä»˜ä¸­å¿ƒã€ç‰©æµä¸­å¿ƒç­‰ï¼›æ»´æ»´å‡ºè¡Œæœ‰å¤§é‡çš„æ‰“è½¦ç³»ç»Ÿï¼Œæ¯”å¦‚å¿«è½¦ï¼Œå‡ºç§Ÿè½¦ï¼Œä¸“è½¦ï¼Œè±ªåè½¦ï¼Œä»£ä»·ç­‰ï¼Œæ‰“è½¦ç³»ç»Ÿçš„å…±æ€§éƒ¨åˆ†åŒ…æ‹¬ï¼šå¸æœºç«¯ã€ä¹˜å®¢ç«¯ã€è®¢å•ä¸­å¿ƒã€è®¡è´¹ä¸­å¿ƒç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;æœ‰æ²¡æœ‰éœ€è¦å¿«é€Ÿå“åº”çš„ä¸šåŠ¡éœ€æ±‚ï¼Ÿ&lt;br/&gt;å› ä¸ºåœ¨è¿›è¡Œç¬¬1æ­¥çš„å…±æ€§èƒ½åŠ›æŠ½ç¦»è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯éœ€è¦è€—è´¹å¤§é‡æˆæœ¬çš„ï¼›åœ¨è€ƒè™‘éœ€ä¸éœ€è¦å»ºä¸­å°æ—¶ï¼Œéœ€è¦è€ƒè™‘æœªæ¥çš„æ”¶ç›Šï¼›å¦‚æœå‰ç«¯çš„ä¸šåŠ¡ç»å¸¸éœ€è¦å˜åŠ¨ï¼Œç‰¹åˆ«åœ°ï¼Œæ–°çš„ä¸šåŠ¡ç±»å‹å’Œä¹‹å‰çš„ä¸šåŠ¡ç›¸ä¼¼åº¦å¾ˆå¤§æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘é€šè¿‡ä¸­å°çš„æ–¹å¼æ¥æ”¯æ’‘äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;å¦‚æœä»¥ä¸Š2ä¸ªé—®é¢˜çš„ç­”æ¡ˆéƒ½æ˜¯è‚¯å®šçš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘å»ºä¸­å°äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å››ã€ç»“è¯­&quot;&gt;å››ã€ç»“è¯­&lt;/h2&gt;
&lt;p&gt;ä¸­å°çš„æ¦‚å¿µéå¸¸å¤šï¼Œæœ€çƒ­çš„ä¸‰ä¸ªä¸­å°æ¦‚å¿µæ˜¯ï¼Œä¸šåŠ¡ä¸­å°ã€æ•°æ®ä¸­å°å’ŒæŠ€æœ¯ä¸­å°ã€‚å„ä¸ªä¸­å°æ¦‚å¿µçš„è§£æ„æ€è·¯ç±»ä¼¼ï¼Œæœ¬æ–‡ä»ä¸šåŠ¡ä¸­å°çš„äº§ç”Ÿçš„èƒŒæ™¯ã€ä¸­å°çš„ä»·å€¼ä»¥åŠè¦ä¸è¦åšä¸šåŠ¡ä¸­å°è¿™ä¸‰ä¸ªæ–¹é¢ï¼Œç»™å‡ºäº†ç¬”è€…çš„ä¸ªäººæ€è€ƒå’Œç†è§£ã€‚&lt;br/&gt;åç»­ï¼Œç»§ç»­æ¨å‡ºç¬¬2ç¯‡â€œæ€ä¹ˆå»ºä¸­å°ï¼Ÿâ€ä»¥åŠç¬¬3ç¯‡â€œä¸ºä»€ä¹ˆè¯´æ‰€æœ‰ä¸­å°éƒ½æ˜¯ä¸šåŠ¡ä¸­å°â€ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èé˜…è¯»ï¼š&lt;br/&gt;&lt;a href=&quot;https://www.sohu.com/a/321073156_114819&quot; target=&quot;_blank&quot;&gt;ä¸­å°åˆ°è¾¾æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Ÿ&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;https://www.zhihu.com/question/57717433&quot; target=&quot;_blank&quot;&gt;äº’è”ç½‘å…¬å¸ä¸­æ‰€è°“ä¸­å°æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Tue, 26 Jan 2021 13:36:00 +0000</pubDate>
<dc:creator>nylgwn</dc:creator>
<og:description>æŸ¥çœ‹ç™¾åº¦æŒ‡æ•°ï¼Œâ€œä¸­å°â€ä¸¤å­—çš„æœç´¢é‡ä»2019å¹´5æœˆ21æ—¥åå¼€å§‹é™¡å¢ã€‚ è¿™å¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿè¿™å¤©è…¾è®¯å¬å¼€äº†â€œè…¾è®¯å…¨çƒæ•°å­—ç”Ÿæ€å¤§ä¼šâ€ï¼Œåœ¨ä¼šä¸Šï¼Œå¤šä½è…¾è®¯é«˜ç®¡æåˆ°â€å¼€æ”¾ä¸­å°èƒ½åŠ›ï¼Œæ‹¥æŠ±äº§å“äº’è”ç½‘â€œã€‚è‡³æ­¤ï¼Œâ€œä¸­å°â€2</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/nylgwn/p/14332567.html</dc:identifier>
</item>
<item>
<title>Redis å®æˆ˜ â€”â€” 07. å¤åˆ¶ã€å¤„ç†æ•…éšœã€äº‹åŠ¡åŠæ€§èƒ½ä¼˜åŒ– - æ»¡èµ‹è¯¸æœº</title>
<link>http://www.cnblogs.com/manfuzhuji/p/14332498.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/manfuzhuji/p/14332498.html</guid>
<description>&lt;h4 id=&quot;å¤åˆ¶ç®€ä»‹-p61&quot;&gt;å¤åˆ¶ç®€ä»‹ &lt;code&gt;P61&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;å…³ç³»å‹æ•°æ®åº“é€šå¸¸ä¼šä½¿ç”¨ä¸€ä¸ªä¸»æœåŠ¡å™¨ (master) å‘å¤šä¸ªä»æœåŠ¡å™¨ (slave) å‘é€æ›´æ–°ï¼Œå¹¶ä½¿ç”¨ä»æœåŠ¡å™¨æ¥å¤„ç†æ‰€æœ‰è¯»è¯·æ±‚ã€‚ &lt;code&gt;Redis&lt;/code&gt; ä¹Ÿé‡‡ç”¨äº†åŒæ ·çš„æ–¹æ³•å®ç°è‡ªå·±çš„å¤åˆ¶ç‰¹æ€§ï¼Œå¹¶å°†å…¶ç”¨ä½œæ‰©å±•æ€§èƒ½çš„ä¸€ç§æ‰‹æ®µã€‚ &lt;code&gt;P69&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ¥æ”¶åˆ°ä¸»æœåŠ¡å™¨å‘é€çš„æ•°æ®åˆå§‹å‰¯æœ¬ (initial copy of the data) ä¹‹åï¼Œå®¢æˆ·ç«¯æ¯æ¬¡å‘ä¸»æœåŠ¡å™¨è¿›è¡Œå†™å…¥æ—¶ï¼Œä»æœåŠ¡å™¨éƒ½ä¼šå®æ—¶åœ°å¾—åˆ°æ›´æ–°ã€‚ &lt;code&gt;P69&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¤åˆ¶-p62&quot;&gt;å¤åˆ¶ &lt;code&gt;P62&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ &lt;code&gt;Redis&lt;/code&gt; æœåŠ¡å™¨ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‘é€ &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt; å‘½ä»¤æ¥è®©æœåŠ¡å™¨ç»ˆæ­¢å¤åˆ¶æ“ä½œï¼Œä¸å†æ¥å—ä¸»æœåŠ¡å™¨çš„æ•°æ®æ›´æ–°ï¼›ä¹Ÿå¯ä»¥é€šè¿‡å‘é€ &lt;code&gt;SLAVEOF host port&lt;/code&gt; å‘½ä»¤æ¥è®©æœåŠ¡å™¨å¼€å§‹å¤åˆ¶ä¸€ä¸ªæ–°çš„ä¸»æœåŠ¡å™¨ã€‚ &lt;code&gt;P69&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;é…ç½®é€‰é¡¹&quot;&gt;é…ç½®é€‰é¡¹&lt;/h5&gt;
&lt;pre&gt;
&lt;code class=&quot;language-properties&quot;&gt;# è®¾ç½®æœ¬æœºä¸ºæŒ‡å®šæœåŠ¡å™¨çš„ä»æœåŠ¡å™¨
#
# slaveof &amp;lt;master-host&amp;gt; &amp;lt;master-port&amp;gt;

# å½“ä¸»æœåŠ¡å™¨è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼ˆç”¨ requirepass æŒ‡å®šçš„å¯†ç ï¼‰
# ä»æœåŠ¡å™¨æœåŠ¡è¿æ¥ä¸»æœåŠ¡å™¨éœ€è¦è®¾ç½®ç›¸åº”çš„å¯†ç 
#
# masterauth &amp;lt;master-password&amp;gt;


# å½“ä»æœåŠ¡å™¨ ä¸ä¸»æœåŠ¡å™¨å¤±å»è¿æ¥ æˆ–è€… æ­£åœ¨è¿›è¡Œå¤åˆ¶ æ—¶
# yes: ä»æœåŠ¡å™¨ä¼šç»§ç»­å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼ˆé»˜è®¤ yesï¼‰
# no: é™¤äº† INFO å’Œ SLAVOF å‘½ä»¤ä¹‹å¤–çš„ä»»ä½•è¯·æ±‚éƒ½ä¼š
#     è¿”å›ä¸€ä¸ªé”™è¯¯ &quot;SYNC with master in progress&quot;
#
slave-serve-stale-data yes

# ä»æœåŠ¡å™¨æ¯éš”ä¸€å®šæ—¶é—´ä¼šå‘ä¸»æœåŠ¡å™¨å‘é€ ping
# é»˜è®¤ 10 ç§’
#
# repl-ping-slave-period 10

# ping å›å¤ æˆ– ä¸»æœåŠ¡å™¨æ‰¹é‡æ•°æ®ä¼ è¾“ è¶…æ—¶æ—¶é•¿
# é»˜è®¤ 60 ç§’
# ç¡®ä¿ repl-timeout å¤§äº repl-ping-slave-period
#
# repl-timeout 60
&lt;/code&gt;
&lt;/pre&gt;
&lt;h5 id=&quot;ä»æœåŠ¡å™¨è¿æ¥ä¸»æœåŠ¡å™¨æ—¶çš„æ­¥éª¤-p70&quot;&gt;ä»æœåŠ¡å™¨è¿æ¥ä¸»æœåŠ¡å™¨æ—¶çš„æ­¥éª¤ &lt;code&gt;P70&lt;/code&gt;&lt;/h5&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æ­¥éª¤&lt;/th&gt;
&lt;th&gt;ä¸»æœåŠ¡å™¨æ“ä½œ&lt;/th&gt;
&lt;th&gt;ä»æœåŠ¡å™¨æ“ä½œ&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;11&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;ï¼ˆç­‰å¾…å‘½ä»¤è¿›å…¥ï¼‰&lt;/td&gt;
&lt;td&gt;è¿æ¥ï¼ˆæˆ–è€…é‡è¿ï¼‰ä¸»æœåŠ¡å™¨ï¼Œå‘é€ &lt;code&gt;SYNC&lt;/code&gt; å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;å¼€å§‹æ‰§è¡Œ &lt;code&gt;BGSAVE&lt;/code&gt; ï¼Œå¹¶ä½¿ç”¨ç¼“å†²åŒºè®°å½• &lt;code&gt;BGSAVE&lt;/code&gt; ä¹‹åæ‰§è¡Œæ‰€æœ‰å†™å‘½ä»¤&lt;/td&gt;
&lt;td&gt;æ ¹æ®é…ç½®é€‰é¡¹ (&lt;code&gt;slave-serve-stale-data&lt;/code&gt;) æ¥å†³å®šæ˜¯ç»§ç»­ä½¿ç”¨ç°æœ‰çš„æ•°æ®ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æ¥å¤„ç†å®¢æˆ·ç«¯çš„å‘½ä»¤è¯·æ±‚ï¼Œè¿˜æ˜¯å‘å®¢æˆ·ç«¯è¿”å›é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;code&gt;BGSAVE&lt;/code&gt; æ‰§è¡Œå®Œæ¯•ï¼Œå‘ä»æœåŠ¡å™¨å‘é€å¿«ç…§æ–‡ä»¶ï¼Œå¹¶åœ¨å‘é€æœŸé—´ç»§ç»­ä½¿ç”¨ç¼“å†²åŒºè®°å½•è¢«æ‰§è¡Œçš„å†™å‘½ä»¤&lt;/td&gt;
&lt;td&gt;ä¸¢å¼ƒæ‰€æœ‰æ—§æ•°æ®ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¼€å§‹è½½å…¥ä¸»æœåŠ¡å™¨å‘æ¥çš„å¿«ç…§æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;å¿«ç…§æ–‡ä»¶å‘é€å®Œæ¯•ï¼Œå¼€å§‹å‘ä»æœåŠ¡å™¨å‘é€å­˜å‚¨åœ¨ç¼“å†²åŒºé‡Œé¢çš„å†™å‘½ä»¤&lt;/td&gt;
&lt;td&gt;å®Œæˆå¯¹å¿«ç…§æ–‡ä»¶çš„è§£é‡Šæ“ä½œï¼Œåƒå¾€å¸¸ä¸€æ ·å¼€å§‹æ¥å—å‘½ä»¤è¯·æ±‚&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;ç¼“å†²åŒºå­˜å‚¨çš„å†™å‘½ä»¤å‘é€å®Œæ¯•ï¼›ä»ç°åœ¨å¼€å§‹ï¼Œæ¯æ‰§è¡Œä¸€ä¸ªå†™å‘½ä»¤ï¼Œå°±å‘ä»æœåŠ¡å™¨å‘é€ç›¸åŒçš„å†™å‘½ä»¤&lt;/td&gt;
&lt;td&gt;æ‰§è¡Œä¸»æœåŠ¡å™¨å‘æ¥çš„æ‰€æœ‰å­˜å‚¨åœ¨ç¼“å†²åŒºé‡Œé¢çš„å†™å‘½ä»¤ï¼›å¹¶ä»ç°åœ¨å¼€å§‹ï¼Œæ¥å—å¹¶æ‰§è¡Œä¸»æœåŠ¡å™¨ä¼ æ¥çš„æ¯ä¸ªå†™å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;åœ¨å®é™…ä¸­æœ€å¥½è®©ä¸»æœåŠ¡å™¨åªä½¿ç”¨ &lt;code&gt;50% ~ 65%&lt;/code&gt; çš„å†…å­˜ï¼Œç•™ä¸‹ &lt;code&gt;30% ~ 45%&lt;/code&gt; çš„å†…å­˜ç”¨äºæ‰§è¡Œ &lt;code&gt;BGSAVE&lt;/code&gt; å‘½ä»¤å’Œåˆ›å»ºè®°å½•å†™å‘½ä»¤çš„ç¼“å†²åŒºã€‚ &lt;code&gt;P70&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»æœåŠ¡å™¨åœ¨è¿›è¡ŒåŒæ­¥æ—¶ï¼Œä¼šæ¸…ç©ºè‡ªå·±çš„æ‰€æœ‰æ•°æ®ã€‚&lt;/strong&gt; &lt;code&gt;P70&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Redis&lt;/code&gt; ä¸æ”¯æŒä¸»ä¸»å¤åˆ¶ (master-master replication)&lt;/strong&gt; &lt;code&gt;P71&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å½“ä¸€ä¸ªä»æœåŠ¡å™¨è¿æ¥ä¸€ä¸ªå·²æœ‰çš„ä¸»æœåŠ¡å™¨æ—¶ï¼Œæœ‰æ—¶å¯ä»¥é‡ç”¨å·²æœ‰çš„å¿«ç…§æ–‡ä»¶ï¼š&lt;/strong&gt; &lt;code&gt;P71&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;æ­¥éª¤ 3 å°šæœªæ‰§è¡Œï¼šæ‰€æœ‰ä»æœåŠ¡å™¨éƒ½ä¼šæ¥æ”¶åˆ°ç›¸åŒçš„å¿«ç…§æ–‡ä»¶å’Œç›¸åŒçš„ç¼“å†²åŒºå†™å‘½ä»¤&lt;/li&gt;
&lt;li&gt;æ­¥éª¤ 3 æ­£åœ¨æ‰§è¡Œæˆ–å·²ç»æ‰§è¡Œå®Œæ¯•ï¼šå½“ä¸»æœåŠ¡å™¨ä¸æ¯”è¾ƒæ—©è¿›è¡Œè¿æ¥çš„ä»æœåŠ¡å™¨æ‰§è¡Œå®Œå¤åˆ¶æ‰€éœ€çš„ 5 ä¸ªæ­¥éª¤ä¹‹åï¼Œä¸»æœåŠ¡å™¨ä¼šä¸æ–°è¿æ¥çš„ä»æœåŠ¡å™¨æ‰§è¡Œä¸€æ¬¡æ–°çš„æ­¥éª¤ 1 è‡³æ­¥éª¤ 5&lt;/li&gt;
&lt;/ul&gt;&lt;h5 id=&quot;ä¸»ä»é“¾-p71&quot;&gt;ä¸»ä»é“¾ &lt;code&gt;P71&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt; çš„ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¸åŒçš„åœ°æ–¹ï¼Œæ‰€ä»¥ä»æœåŠ¡å™¨ä¹Ÿå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ä»æœåŠ¡å™¨ï¼Œå¹¶ç”±æ­¤å½¢æˆä¸»ä»é“¾ (master/slave chaining) ã€‚ &lt;code&gt;P71&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¦‚æœä»æœåŠ¡å™¨ &lt;code&gt;X&lt;/code&gt; æ‹¥æœ‰ä»æœåŠ¡å™¨ &lt;code&gt;Y&lt;/code&gt; ï¼Œé‚£ä¹ˆå½“ä»æœåŠ¡å™¨ &lt;code&gt;X&lt;/code&gt; åœ¨æ‰§è¡Œæ­¥éª¤ 4 æ—¶ï¼Œå®ƒå°†æ–­å¼€ä¸ä»æœåŠ¡å™¨ &lt;code&gt;Y&lt;/code&gt; çš„è¿æ¥ï¼Œå¯¼è‡´ä»æœåŠ¡å™¨ &lt;code&gt;Y&lt;/code&gt; éœ€è¦é‡æ–°è¿æ¥å¹¶é‡æ–°åŒæ­¥ã€‚ &lt;code&gt;P71&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“è¯»è¯·æ±‚æ¯”å†™è¯·æ±‚é‡è¦ï¼Œä¸”è¯»è¯·æ±‚çš„æ•°é‡è¿œè¿œè¶…è¿‡ä¸€å° &lt;code&gt;Redis&lt;/code&gt; æœåŠ¡å™¨å¯ä»¥å¤„ç†çš„èŒƒå›´æ—¶ï¼Œå°±éœ€è¦æ·»åŠ æ–°çš„ä»æœåŠ¡å™¨æ¥å¤„ç†è¯»è¯·æ±‚ã€‚éšç€è´Ÿè½½ä¸æ–­ä¸Šå‡ï¼Œä¸»æœåŠ¡å™¨å¯èƒ½ä¼šæ— æ³•å¿«é€Ÿåœ°æ›´æ–°æ‰€æœ‰ä»æœåŠ¡å™¨ï¼Œæˆ–è€…å› ä¸ºé‡æ–°è¿æ¥å’Œé‡æ–°åŒæ­¥ä»æœåŠ¡å™¨è€Œå¯¼è‡´ç³»ç»Ÿè¶…è½½ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç”± &lt;code&gt;Redis&lt;/code&gt; ä¸»ä»èŠ‚ç‚¹ (master/slave node) ç»„æˆçš„ä¸­é—´å±‚æ¥åˆ†æ‹…ä¸»æœåŠ¡å™¨çš„å¤åˆ¶å·¥ä½œã€‚ &lt;code&gt;P71&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡åŒæ—¶ä½¿ç”¨å¤åˆ¶å’Œ &lt;code&gt;AOF&lt;/code&gt; æŒä¹…åŒ–ï¼Œç”¨æˆ·å¯ä»¥å¢å¼º &lt;code&gt;Redis&lt;/code&gt; å¯¹äºç³»ç»Ÿå´©æºƒçš„æŠµæŠ—èƒ½åŠ›ã€‚ &lt;code&gt;P73&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¤„ç†ç³»ç»Ÿæ•…éšœ&quot;&gt;å¤„ç†ç³»ç»Ÿæ•…éšœ&lt;/h4&gt;
&lt;h5 id=&quot;éªŒè¯å¿«ç…§æ–‡ä»¶å’Œ-aof-æ–‡ä»¶&quot;&gt;éªŒè¯å¿«ç…§æ–‡ä»¶å’Œ &lt;code&gt;AOF&lt;/code&gt; æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;redis-check-aof [--fix] &amp;lt;file.aof&amp;gt;&lt;/code&gt; å¯ä»¥æ£€æŸ¥ &lt;code&gt;AOF&lt;/code&gt; æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œä¿®å¤ï¼šå°†ç¬¬ä¸€ä¸ªå‡ºé”™å‘½ä»¤ï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹åœ¨æ–‡ä»¶æœ«å°¾ï¼‰åŠä¹‹åçš„æ‰€æœ‰å‘½ä»¤åˆ é™¤ã€‚ &lt;code&gt;P74&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;redis-check-dump &amp;lt;dump.rdb&amp;gt;&lt;/code&gt; å¯ä»¥æ£€æŸ¥å¿«ç…§æ–‡ä»¶ã€‚å¿«ç…§æ–‡ä»¶ç›®å‰æ— æ³•è¿›è¡Œä¿®å¤ï¼Œå› ä¸ºå¿«ç…§æ–‡ä»¶æœ¬èº«è¿›è¡Œäº†å‹ç¼©ã€‚ &lt;code&gt;P74&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;äº‹åŠ¡&quot;&gt;äº‹åŠ¡&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt; äº‹åŠ¡çš„ä½œç”¨ï¼š &lt;code&gt;P76&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;é˜²æ­¢æ•°æ®å‡ºé”™&lt;/li&gt;
&lt;li&gt;åœ¨æŸäº›æƒ…å†µä¸‹æå‡æ€§èƒ½ã€‚åˆ©ç”¨äº‹åŠ¡ä¸€æ¬¡æ€§å‘é€å¤šä¸ªå‘½ä»¤ï¼Œç„¶åç­‰å¾…æ‰€æœ‰å›å¤å‡ºç°å®ç°æµæ°´çº¿ (pipeline)ã€‚é€šè¿‡å‡å°‘å®¢æˆ·ç«¯ä¸ &lt;code&gt;Redis&lt;/code&gt; æœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œé€šä¿¡æ¬¡æ•°æ¥æå‡ &lt;code&gt;Redis&lt;/code&gt; åœ¨æ‰§è¡Œå¤šä¸ªå‘½ä»¤æ—¶çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å…³ç³»æ•°æ®åº“äº‹åŠ¡ä¸ &lt;code&gt;Redis&lt;/code&gt; äº‹åŠ¡çš„åŒºåˆ«ï¼š &lt;code&gt;P76&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;å…³ç³»æ•°æ®åº“ï¼šå…ˆå‘æ•°æ®åº“æœåŠ¡å™¨å‘é€ &lt;code&gt;BEGIN&lt;/code&gt; ï¼Œç„¶åæ‰§è¡Œå„ä¸ªç›¸äº’ä¸€è‡´ (consistent) çš„è¯»å†™æ“ä½œï¼Œæœ€åå¯ä»¥é€‰æ‹©å‘é€ &lt;code&gt;COMMIT&lt;/code&gt; æ¥ç¡®è®¤ä¹‹å‰çš„ä¿®æ”¹ï¼Œæˆ–è€…å‘é€ &lt;code&gt;ROLLBACK&lt;/code&gt; æ¥æ”¾å¼ƒä¹‹å‰çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Redis&lt;/code&gt; ï¼šä»¥ç‰¹æ®Šå‘½ä»¤ &lt;code&gt;MULTI&lt;/code&gt; å¼€å§‹ï¼Œç„¶åä¼ å…¥å¤šä¸ªå‘½ä»¤ï¼Œæœ€åä»¥ &lt;code&gt;EXEC&lt;/code&gt; ç»“æŸï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œä¼ å…¥çš„å‘½ä»¤ã€‚&lt;code&gt;Redis&lt;/code&gt; äº‹åŠ¡ä¸èƒ½ä»¥ä¸€è‡´çš„å½¢å¼è¯»å–æ•°æ®ï¼Œä½¿å¾—æŸä¸€ç±»å‹çš„é—®é¢˜éš¾ä»¥è§£å†³ï¼Œä¸”æ— æ³•å®ç°äºŒé˜¶æ®µæäº¤ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;é€šè¿‡ä½¿ç”¨ &lt;code&gt;WATCH&lt;/code&gt;, &lt;code&gt;MULTI/EXEC&lt;/code&gt;, &lt;code&gt;UNWATCH/DISCARD&lt;/code&gt; ç­‰å‘½ä»¤ï¼Œç¨‹åºå¯ä»¥åœ¨æ‰§è¡ŒæŸäº›é‡è¦æ“ä½œæ—¶ï¼Œé€šè¿‡ç¡®ä¿è‡ªå·±æ­£åœ¨ä½¿ç”¨çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ–æ¥é¿å…å‡ºé”™ã€‚ &lt;code&gt;P78&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;WATCH&lt;/code&gt;: ä½¿ç”¨ &lt;code&gt;WATCh&lt;/code&gt; å¯¹é”®è¿›è¡Œç›‘è§†ä¹‹åï¼Œç›´åˆ°ç”¨æˆ·æ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt; çš„è¿™æ®µæ—¶é—´é‡Œé¢ï¼Œå¦‚æœæœ‰å…¶ä»–å®¢æˆ·ç«¯æŠ¢å…ˆå¯¹ä»»ä½•è¢«ç›‘è§†çš„é”®è¿›è¡Œäº†æ›¿æ¢ã€æ›´æ–°æˆ–åˆ é™¤ç­‰æ“ä½œï¼Œé‚£ä¹ˆå½“ç”¨æˆ·å°è¯•æ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt; æ—¶ï¼Œäº‹åŠ¡å°†å¤±è´¥å¹¶è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ï¼ˆä¹‹åç”¨æˆ·å¯é€‰æ‹©é‡è¯•äº‹åŠ¡æˆ–è€…æ”¾å¼ƒäº‹åŠ¡ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UNWATCH&lt;/code&gt;: å¯ä»¥åœ¨ &lt;code&gt;WATCH&lt;/code&gt; æ‰§è¡Œä¹‹åã€ &lt;code&gt;MULTI&lt;/code&gt; æ‰§è¡Œä¹‹å‰å¯¹è¿æ¥è¿›è¡Œé‡ç½® (reset)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DISCARD&lt;/code&gt;: å¯ä»¥åœ¨ &lt;code&gt;MULTI&lt;/code&gt; æ‰§è¡Œä¹‹åã€ &lt;code&gt;EXEC&lt;/code&gt; æ‰§è¡Œä¹‹å‰å¯¹è¿æ¥è¿›è¡Œé‡ç½®ï¼Œå³å–æ¶ˆ &lt;code&gt;WATCH&lt;/code&gt; å¹¶æ¸…ç©ºæ‰€æœ‰å·²å…¥é˜Ÿå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;ä¸ºä»€ä¹ˆ &lt;code&gt;Redis&lt;/code&gt; æ²¡æœ‰å®ç°å…¸å‹çš„åŠ é”åŠŸèƒ½ï¼Ÿ &lt;code&gt;P82&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;åŠ é”æ˜¯æ‚²è§‚é”ï¼ŒæŒæœ‰é”çš„å®¢æˆ·ç«¯è¿è¡Œè¶Šæ…¢ï¼Œç­‰å¾…è§£é”çš„å®¢æˆ·ç«¯è¢«é˜»å¡çš„æ—¶é—´è¶Šé•¿&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WATCH&lt;/code&gt; æ˜¯ä¹è§‚é”ï¼Œå®¢æˆ·ç«¯ä¸å¿…ç­‰å¾…å–å¾—é”ï¼Œåªéœ€è¦åœ¨äº‹åŠ¡æ‰§è¡Œå¤±è´¥æ—¶é‡è¯•å³å¯ï¼Œä¹è§‚é”å¯ä»¥æé«˜å¹¶å‘èƒ½åŠ›&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;éäº‹åŠ¡å‹æµæ°´çº¿-non-transactional-pipeline&quot;&gt;éäº‹åŠ¡å‹æµæ°´çº¿ (non-transactional pipeline)&lt;/h4&gt;
&lt;p&gt;å¯¹äºæ— éœ€äº‹åŠ¡çš„å¤§é‡æ“ä½œå¯ä»¥ä½¿ç”¨éäº‹åŠ¡å‹æµæ°´çº¿ï¼Œå¯ä»¥é¿å…äº‹åŠ¡æ¶ˆè€—èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Python&lt;/code&gt; ä¸­é€šè¿‡ä¿®æ”¹å…¥å‚å³å¯å°†äº‹åŠ¡æ”¹ä¸ºéäº‹åŠ¡å‹æµæ°´çº¿ï¼Œè€Œ &lt;code&gt;Go&lt;/code&gt; ä¸­æ ¹æ®å…·ä½“æ¡†æ¶çš„ä¸åŒï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å°è£…æµæ°´çº¿çš„å¤„ç†é€»è¾‘ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ€§èƒ½ä¼˜åŒ–&quot;&gt;æ€§èƒ½ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;è¦å¯¹ &lt;code&gt;Redis&lt;/code&gt; çš„æ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼Œé¦–å…ˆéœ€è¦å¼„æ¸…æ¥šå„ç§ç±»å‹çš„ &lt;code&gt;Redis&lt;/code&gt; å‘½ä»¤èƒ½è·‘å¤šå—ï¼Œè€Œè¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡è°ƒç”¨ &lt;code&gt;Redis&lt;/code&gt; é™„å¸¦çš„æ€§èƒ½æµ‹è¯•ç¨‹åº &lt;code&gt;redis-benchmark&lt;/code&gt; å¾—çŸ¥ã€‚ &lt;code&gt;P85&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆ‡è®°ä¸è¦å°†è¾“å‡ºç»“æœçœ‹ä½œæ˜¯åº”ç”¨ç¨‹åºçš„å®é™…æ€§èƒ½ï¼Œå› ä¸º &lt;code&gt;redis-benchmark&lt;/code&gt; ä¸ä¼šå¤„ç†æ‰§è¡Œå‘½ä»¤æ‰€è·å¾—çš„å‘½ä»¤å›å¤ï¼Œæ‰€ä»¥å®ƒèŠ‚çº¦äº†å¤§é‡ç”¨äºå¯¹å‘½ä»¤å›å¤è¿›è¡Œè¯­æ³•åˆ†æçš„æ—¶é—´ã€‚ &lt;code&gt;P86&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;å¯èƒ½å½±å“æ€§èƒ½çš„åŸå› -p86&quot;&gt;å¯èƒ½å½±å“æ€§èƒ½çš„åŸå›  &lt;code&gt;P86&lt;/code&gt;&lt;/h5&gt;
&lt;ul&gt;&lt;li&gt;æœªä½¿ç”¨æµæ°´çº¿ï¼šå¯è§†æƒ…å†µé€‚å½“ä½¿ç”¨æµæ°´çº¿&lt;/li&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªå‘½ä»¤æˆ–æ¯ç»„å‘½ä»¤éƒ½åˆ›å»ºäº†æ–°çš„è¿æ¥ï¼šä½¿ç”¨è¿æ¥æ± é‡ç”¨ &lt;code&gt;Redis&lt;/code&gt; è¿æ¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Redis&lt;/code&gt; çš„æ•°æ®ç»“æ„æˆ–å‘½ä»¤ä¸åˆç†ï¼ˆ&lt;code&gt;value&lt;/code&gt; éå¸¸å¤§ï¼Œä½¿ç”¨ &lt;code&gt;keys, hgetall&lt;/code&gt; ç­‰ï¼‰ï¼šä¼˜åŒ–æ•°æ®ç»“æ„å’Œå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;3.5044247787611&quot;&gt;
&lt;p&gt;æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šæ»¡èµ‹è¯¸æœºï¼ˆ&lt;a href=&quot;https://mp.weixin.qq.com/s/sTPKmNwyTZagMsnX-8UCow&quot; target=&quot;_blank&quot;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ï¼‰ å¼€æºåœ¨ GitHub ï¼š&lt;a href=&quot;https://github.com/idealism-xxm/reading-notes/tree/master/redis-in-action&quot; target=&quot;_blank&quot;&gt;reading-notes/redis-in-action&lt;/a&gt;&lt;br/&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/16055078/103480735-02019200-4e11-11eb-91a2-70a687781033.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Tue, 26 Jan 2021 13:21:00 +0000</pubDate>
<dc:creator>æ»¡èµ‹è¯¸æœº</dc:creator>
<og:description>å¤åˆ¶ç®€ä»‹ P61 å…³ç³»å‹æ•°æ®åº“é€šå¸¸ä¼šä½¿ç”¨ä¸€ä¸ªä¸»æœåŠ¡å™¨ (master) å‘å¤šä¸ªä»æœåŠ¡å™¨ (slave) å‘é€æ›´æ–°ï¼Œå¹¶ä½¿ç”¨ä»æœåŠ¡å™¨æ¥å¤„ç†æ‰€æœ‰è¯»è¯·æ±‚ã€‚ Redis ä¹Ÿé‡‡ç”¨äº†åŒæ ·çš„æ–¹æ³•å®ç°è‡ªå·±çš„å¤åˆ¶ç‰¹æ€§ï¼Œå¹¶</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnblogs.com/manfuzhuji/p/14332498.html</dc:identifier>
</item>
</channel>
</rss>