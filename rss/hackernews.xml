<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>It seems that Google is forgetting the old web</title>
<link>http://stop.zona-m.net/2018/01/indeed-it-seems-that-google-is-forgetting-the-old-web/</link>
<guid isPermaLink="true" >http://stop.zona-m.net/2018/01/indeed-it-seems-that-google-is-forgetting-the-old-web/</guid>
<description>&lt;p&gt;XML pioneer and early blogger Tim Bray says that Google maybe suffers of deliberate memory loss. I may have found more evidence that this is the case.&lt;/p&gt;
&lt;p&gt;Bray &lt;a href=&quot;https://www.tbray.org/ongoing/When/201x/2018/01/15/Google-is-losing-its-memory&quot;&gt;writes&lt;/a&gt; that: “I think Google has stopped in­dex­ing the old­er parts of the We­b. I think I can prove it. Google’s com­pe­ti­tion is do­ing bet­ter.”&lt;/p&gt;
&lt;h2 id=&quot;bray-s-case-a-2006-review&quot;&gt;Bray’s case: a 2006 review&lt;/h2&gt;
&lt;p&gt;Back in 2006, Bray pub­lished on his own blog a re­view of a Lou Reed album. A few days ago, when he needed to quote again the URL of that review, he realized that he himself couldn’t find it via Google “Even if you read them first and can care­ful­ly con­jure up exact-match strings, and then use the “site:” pre­fix”.&lt;/p&gt;
&lt;h2 id=&quot;my-own-case-again-from-2006&quot;&gt;My own case, again from 2006&lt;/h2&gt;
&lt;p&gt;Back in 2006, I published on one of my domains, digifreedom.net, the opinion piece &lt;a href=&quot;http://stop.zona-m.net/2006/09/seven-things-were-tired-of-hearing-from-software-hackers/&quot;&gt;“Seven Things we’re tired of hearing from software hackers”&lt;/a&gt;. A few years later, for reasons not relevant here, I froze that whole project. One unwanted consequence was that the “Seven Things”, together with other posts, were not accessible anymore. I was able to put the post back online only in December 2013, at a &lt;a href=&quot;http://stop.zona-m.net/2006/09/seven-things-were-tired-of-hearing-from-software-hackers/&quot;&gt;new URL on this other website&lt;/a&gt;. Last Saturday I needed to email that link to a friend and I had exactly the same experience as Bray: Google would only return links to mentions, or even to whole copies, but archived &lt;strong&gt;elsewhere&lt;/strong&gt;. I asked Google to reindex this whole website, but nothing changed. Yesterday afternoon, through &lt;a href=&quot;https://boingboing.net/2018/01/16/try-duckduckgo-or-bing.html&quot;&gt;BoingBoing&lt;/a&gt; I discovered Bray’s post. As soon as I read it, I tried DuckDuckGo and got the same result: Google ignores &lt;strong&gt;my&lt;/strong&gt; copy of &lt;strong&gt;my own post&lt;/strong&gt;, DuckDuckGo correctly lists it as first result (click &lt;a href=&quot;http://stop.zona-m.net/img/google-forgets-duckduckgo-not.png&quot;&gt;here&lt;/a&gt; for high-resolution screenshot):&lt;/p&gt;
&lt;img src=&quot;http://stop.zona-m.net//img/google-forgets-duckduckgo-not.jpg&quot; alt=&quot;Indeed, it seems that Google IS forgetting the old Web /img/google-forgets-duckduckgo-not.jpg&quot;/&gt;&lt;h2 id=&quot;different-stories-same-practical-result&quot;&gt;Different stories, same practical result?&lt;/h2&gt;
&lt;p&gt;Unlike Bray’s, my own post disappeared from the Web for a while, and then reappeared with the original date, but only after a few years, and in a different domain. This &lt;strong&gt;is&lt;/strong&gt; an important difference which may mean that, in my case, part of Google’s failure is &lt;strong&gt;my own fault&lt;/strong&gt;. Still, for all practical purposes, the result is the same:&lt;/p&gt;
&lt;p&gt;DuckDuckGo gives as first result the most, if not the only correct answer to whoever would be interested in that post today: the &lt;strong&gt;current&lt;/strong&gt; link to the &lt;strong&gt;original version, on the (current) website of its author&lt;/strong&gt;. DuckDuckGo gets things right. Google does not (not at the time of writing, of course).&lt;/p&gt;
&lt;p&gt;Bray concludes that Google deliberately forgets old pages, because “in­dex­ing the whole Web is crush­ing­ly ex­pen­sive, and get­ting more so ev­ery day” and Google “cares about giv­ing you great an­swers to the ques­tions that mat­ter to you right now”. His conclusion is that, if the Web should be “a per­ma­nen­t, long-lived store of humanity’s in­tel­lec­tu­al her­itage… it needs to be in­dexed, just like a li­brary. Google ap­par­ent­ly doesn’t share that view.”&lt;/p&gt;
&lt;p&gt;I agree with that conclusion. For the same reason, I also find misleading the &lt;strong&gt;title&lt;/strong&gt; of BoingBoing’s report of this story: “Google’s forgetting the early web”. The two posts mentioned here are not “early web”, nor really “old”. Unless we’re all missing something here, it seems more correct to say that Google forgets stuff that is &lt;strong&gt;more than 10 years old&lt;/strong&gt;. If this is the case, Google will remember and index a &lt;strong&gt;smaller part of the web every year&lt;/strong&gt;. Google may do so simply because it would be impossible to do more, for economical and/or technological constraints, which sooner or later would also hit its competitors. But this only makes bigger the problem of what to remember, what to forget and above all &lt;strong&gt;who and how&lt;/strong&gt; should remember and forget.&lt;/p&gt;
</description>
<pubDate>Mon, 08 Apr 2019 11:22:30 +0000</pubDate>
<dc:creator>barry-cotter</dc:creator>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://stop.zona-m.net/2018/01/indeed-it-seems-that-google-is-forgetting-the-old-web/</dc:identifier>
</item>
<item>
<title>Explaining Sex Rate Changes</title>
<link>http://www.overcomingbias.com/2019/03/explaining-sex-rate-changes.html</link>
<guid isPermaLink="true" >http://www.overcomingbias.com/2019/03/explaining-sex-rate-changes.html</guid>
<description>&lt;p&gt;&lt;a href=&quot;https://www.washingtonpost.com/business/2019/03/29/share-americans-not-having-sex-has-reached-record-high/&quot;&gt;According to the Post&lt;/a&gt;, polls say 28% of US men age 18-30 report not having sex in the last year, almost 3 times as many as a decade ago. Women that age show a much smaller increase, and other ages don’t show noticeable changes:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex.png&quot;&gt;&lt;img class=&quot;aligncenter wp-image-32067&quot; src=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex-1024x769.png&quot; alt=&quot;&quot; width=&quot;500&quot; height=&quot;376&quot; srcset=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex-1024x769.png 1024w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex-300x225.png 300w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex-768x577.png 768w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungSex.png 1046w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex.png&quot;&gt;&lt;img class=&quot;aligncenter wp-image-32068&quot; src=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex-1024x742.png&quot; alt=&quot;&quot; width=&quot;500&quot; height=&quot;362&quot; srcset=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex-1024x742.png 1024w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex-300x217.png 300w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex-768x557.png 768w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungMenSex.png 1046w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Even if much of this change is due to random polling error, I’d bet there is still a real effect here to explain. I asked via a &lt;a href=&quot;https://twitter.com/robinhanson/status/1111967773394194432&quot;&gt;Twitter poll&lt;/a&gt; if the young women switched to sex with older men, or with more desirable younger men, and by 3-2 (out of 11,456!), they favored the latter theory. Yes, in principle women could be switching to sex with other women, but I’d bet that’s not the biggest effect here.&lt;/p&gt;
&lt;p&gt;So there’s probably a real effect here to explain: regarding heterosexual sex, over the last decade many more young men are having no sex, compared to other ages and genders, and with their potential partners switching to more desirable young men and older men. That’s a pattern we might want to explain.&lt;/p&gt;
&lt;p&gt;If we think of sex as a mating market, using simple supply and demand concepts, then the (quality weighted) quantity of sex that each person gets should depend on 1) how much they value sex, 2) how much they have to offer potential partners, and 3) how much those partners value them. In addition, 4) search and other deal frictions can make it harder to find and sustain pairings.&lt;/p&gt;
&lt;p&gt;So the young men who have less to offer, relative to average young men, might get even less sex over time because they become even less desirable in the eyes of women, because those women now find other options more attractive, because these young men are less eager for sex, or because of increased costs to find and proposition well-matched women.&lt;/p&gt;
&lt;p&gt;These are categories of proximate causes, and are consistently with many distal causes. For example, longer lifespans could cause changes in youthful desire, or changes in outside options. Yes, each of these categories can be broken down further. For example, young men might be less eager for sex either because young women have changed and become less desirable to them, or because those men now find other activities more enjoyable.&lt;/p&gt;
&lt;p&gt;In one of my most popular Twitter polls to date (with 4940 responses), I &lt;a href=&quot;https://twitter.com/robinhanson/status/1111781747535040513&quot;&gt;asked&lt;/a&gt; people to pick from three cause categories:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;p dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;% of young men w/ no sex in year has doubled in 10 years to 28% in 2018. Which factor contributes most: they want sex less, they are objectively less desirable, or potential partners have raised their standards?&lt;/p&gt;
&lt;p&gt;— Robin Hanson (@robinhanson) &lt;a href=&quot;https://twitter.com/robinhanson/status/1111781747535040513?ref_src=twsrc%5Etfw&quot;&gt;March 30, 2019&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;While there is no strong consensus, respondents did favor pickier young women by almost 2-1 over each of the other two options (less male desire and less desirable men). The stories of pickier women and less desirable men will in practice be pretty hard to distinguish, especially as there can be feedback loops, such as where men who succeed less get discouraged and try less hard. So let us just bundle these stories together into: PW+LDM. In my poll, that bundle is favored 3-1 over the men want sex less story.&lt;/p&gt;
&lt;p&gt;While my poll induced many commenters to offer theories, most did not think very carefully about how to explain social changes. So let me elaborate here on that. If real, this particular pattern is regarding one particular subset of people, less-desirable young men (LDYM), who are losing out over a particular decade to another particular subset, young more-desirable men, for a particular thing, sex. So any explanation of this pattern needs to be specific to these two groups, this outcome (sex), and this time period.&lt;/p&gt;
&lt;p&gt;Thus it won’t at all do to point to effects that are constant in time, such as people not always telling the truth in polls, or men having lower standards for sex partners. It also won’t do to point to changes over this time period that effected all ages and genders similarly, such as obesity, porn, video games, social media, dating apps, and wariness re harassment claims. They might be part of an answer, but can’t explain all by themselves. To explain an unusual burst over the last decade, it is also problematic to point to factors (e.g., computing power) that changed over the last decade, but changed just as much over prior decades.&lt;/p&gt;
&lt;p&gt;A good theory instead needs to identify why its favored effect was much stronger in this past decade, especially for the package of LDYM. Consider the explanations mentioned by the Post:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are several potential explanations … Labor force participation among young men has fallen, particularly in the aftermath of the last recession. … 54% of unemployed Americans didn’t have a steady romantic partner, compared with 32% among the employed. … Young men also are more likely to be living with their parents than young women: In 2014, for instance, 35% of men age 18 to 34 were living in their parents’ home, compared with 29% of women in that age group. …&lt;/p&gt;
&lt;p&gt;One final factor that may be affecting Americans’ sexual habits at all ages is technology. “There are a lot more things to do at 10 o’clock at night now than there were 20 years ago,… Streaming video, social media, console games, everything else.” (&lt;a href=&quot;https://www.washingtonpost.com/business/2019/03/29/share-americans-not-having-sex-has-reached-record-high/&quot;&gt;more&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But streaming video and social media effect all ages, genders, and desirability levels, not just LDYM. The other two effects are at least specific to LDYM, but there’s no mention of just how much living at home has changed among young men, and the &lt;a href=&quot;https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm&quot;&gt;drop&lt;/a&gt; in labor force participation (e.g., 79.6-73.0% for men age 20-24 from ’06-’16) seems much less than increase in the sexless.&lt;/p&gt;
&lt;p&gt;A related effect the Post didn’t mention is women going further in school than men now, and women being reluctant to date men with less school. There’s been a &lt;a href=&quot;https://www.theatlantic.com/business/archive/2017/11/gender-education-gap/546677/&quot;&gt;big change&lt;/a&gt; in that over the last 15 years:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege.png&quot;&gt;&lt;img class=&quot;aligncenter wp-image-32069&quot; src=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege-1024x646.png&quot; alt=&quot;&quot; width=&quot;500&quot; height=&quot;316&quot; srcset=&quot;http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege-1024x646.png 1024w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege-300x189.png 300w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege-768x485.png 768w, http://www.overcomingbias.com/wp-content/uploads/2019/03/YoungCollege.png 1280w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that these 3 possible causes, schooling differences, labor force participation declines, and living at home, all more plausibly act through the PW+LDM channel, relative to less male desire or higher deal frictions channels.&lt;/p&gt;
&lt;p&gt;In December, the &lt;em&gt;Atlantic&lt;/em&gt; &lt;a href=&quot;https://www.theatlantic.com/magazine/archive/2018/12/the-sex-recession/573949/&quot;&gt;outlined&lt;/a&gt; a great many possible theories:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Fisher, like many other experts, attributes the sex decline to a decline in couplehood among young people. For a quarter century, fewer people have been marrying, and those who do have been marrying later. … But this doesn’t explain why young people are partnering up less to begin with. …&lt;/p&gt;
&lt;p&gt;It might be a consequence of the hookup culture, of crushing economic pressures, of surging anxiety rates, of psychological frailty, of widespread antidepressant use, of streaming television, of environmental estrogens leaked by plastics, of dropping testosterone levels, of digital porn, of the vibrator’s golden age, of dating apps, of option paralysis, of helicopter parents, of careerism, of smartphones, of the news cycle, of information overload generally, of sleep deprivation, of obesity. Name a modern blight, and someone, somewhere, is ready to blame it for messing with the modern libido. …&lt;/p&gt;
&lt;p&gt;Rates of childhood sexual abuse have decreased in recent decades, and abuse can lead to both precocious and promiscuous sexual behavior. And some people today may feel less pressured into sex they don’t want to have, thanks to changing gender mores and growing awareness of diverse sexual orientations, including asexuality. Maybe more people are prioritizing school or work over love and sex, at least for a time. …&lt;/p&gt;
&lt;p&gt;In more recent decades, by contrast, teen romantic relationships appear to have grown less common. … Unless you are exceptionally good-looking, the thing online dating may be best at is sucking up large amounts of time. … Tinder … logs 1.6 billion swipes a day, and just 26 million matches. … overwhelming majority of matches don’t lead to so much as a two-way text exchange, much less a date, much less sex. … #MeToo movement … less healthy reactions, like avoiding romantic overtures for fear that they might be unwelcome. In my own conversations, men and women alike spoke of a new tentativeness and hesitancy. … Online daters, he argued, might be tempted to keep going back for experiences with new people; commitment and marriage might suffer. … porn may be contributing to some particularly unpleasant early sexual experiences. … Learning sex in the context of one-off hookups isn’t helping. …&lt;/p&gt;
&lt;p&gt;Millennials don’t like to get naked—if you go to the gym now, everyone under 30 will put their underwear on under the towel, which is a massive cultural shift … Designs for master-bedroom suites were evolving for much the same reason: “They want their own changing rooms and bathrooms, even in a couple.” … May also be newly worried about what they look like naked. … Social-media use is correlated with body dissatisfaction. … a lot of men who would like to perform oral sex but are rebuffed by their partner. … Women will say … ‘It’s the ugliest part of my body.’ “ …&lt;/p&gt;
&lt;p&gt;There may be such a thing as waiting too long. Among people who are sexually inexperienced at age 18, about 80% will become sexually active by the time they are 25. But those who haven’t gained sexual experience by their mid-20s are much less likely to ever do so. (&lt;a href=&quot;https://www.theatlantic.com/magazine/archive/2018/12/the-sex-recession/573949/&quot;&gt;more&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Note that many of these channels result in women being less interested in or open to male sex proposals, and are thus within the PW+LDM channel. These include less child sex abuse, feeling less pressured, prioritizing careers, women feeling more anxious about their bodies, and more #MeToo disapproval of sex proposals. (Though that last one can also be seen as higher deal frictions.) Overall, both my polls and MSM stories seem to agree that PW+LDM is the most likely channel of change here.&lt;/p&gt;
&lt;p&gt;Note also that the “waiting too long” problem can contribute to cohort specific sex cultures. That is, age cohorts often generate distinct tastes in music, food, and hobbies, tastes which can last a lifetime. Similarly, age cohorts can generate distinct lasting sex cultures, cultures that are especially sensitive to the conditions around when that cohort first started to have sex. In general, age cohorts seem eager to change from the fashions of prior cohorts, to define themselves via distinct music, etc. And in addition, dramatic events like 9-11, the great recession, and #MeToo could help push a new age cohort to switch to a new cultural equilibrium, which might then stick around for a while, at least until the next such disruption.&lt;/p&gt;
&lt;p&gt;It seems that, whether due to recent cultural events or random cultural drift, the latest age cohort has switched to a new sex culture wherein the less desirable half of young men are now seen as even less desirable by young women than previous cohorts would have seen them. And within this culture it is seen as more acceptable for young women to share the more desirable half of young men, relative to the higher (but never maximal) priority previous cohorts put on more monogamous ties.&lt;/p&gt;
&lt;p&gt;Random future cultural changes could of course move back the other way. But my increasing-wealth-induces-farmer-to-forager &lt;a href=&quot;http://www.overcomingbias.com/2010/10/two-types-of-people.html&quot;&gt;story&lt;/a&gt; about the direction of modern cultural changes predicts otherwise for the long run. Via marriage, foragers were more promiscuous and less monogamous than farmers, and this recent age cohort sex culture change continues this predicted farmer-to-forager movement.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Added 10p:&lt;/strong&gt; &lt;a href=&quot;https://twitter.com/socofthesacred/status/1112084128306999297&quot;&gt;Some evidence&lt;/a&gt; against the porn story.&lt;/p&gt;
&lt;div class=&quot;gdsrcacheloader gdsrclsmall&quot; id=&quot;gdsrc_atr.32066.0.2.1553968208.42.0.20.1.1.0&quot;&gt;&lt;strong&gt;GD Star Rating&lt;/strong&gt;&lt;br/&gt;&lt;em&gt;loading...&lt;/em&gt;&lt;/div&gt;
</description>
<pubDate>Mon, 08 Apr 2019 03:02:24 +0000</pubDate>
<dc:creator>sidko</dc:creator>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.overcomingbias.com/2019/03/explaining-sex-rate-changes.html</dc:identifier>
</item>
<item>
<title>VPN – Very Precarious Narrative</title>
<link>https://schub.io/blog/2019/04/08/very-precarious-narrative.html</link>
<guid isPermaLink="true" >https://schub.io/blog/2019/04/08/very-precarious-narrative.html</guid>
<description>&lt;p&gt;I just watched a &lt;em&gt;great&lt;/em&gt; YouTube video, touching technical, political, and philosophical questions around the whole “who controls the algorithm” topic, from one of those multi-million subscriber channels, spending lots and lots of time and resources on researching and producing. The video was perfect, but the end did upset me slightly. In the end, the sponsoring message was read, and the sponsor was one of those VPN companies, with their usual marketing lingo. You surely know what I am talking about, but let me quote the sponsoring message here for context:&lt;/p&gt;&lt;blockquote readability=&quot;18&quot;&gt;
&lt;p&gt;Your internet connection, right now, is broadcasting your IP address, which is the way people track you online. Check this out [shows a screencap of a website displaying the IP and GeoLocation information], when I go to this website, it tests everything that my internet connection is leaking. You can see my IP address, but you can also see where I am. Your internet connection is doing this right now. Here is how [VPN company] works: It is a Virtual Private Network, you turn it on with one click. My internet traffic is now encrypted, and going through [VPN company]s servers located throughout the world, so people can no longer figure out where I am located. I protect myself online with [VPN company]. […] There is a 30-day money back guarantee which I am confident you are not going to use, because I feel comforted knowing that my personal information is protected on the internet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is another one, from a different channel:&lt;/p&gt;
&lt;blockquote readability=&quot;13&quot;&gt;
&lt;p&gt;With all the recent news about online security breaches, it is hard not to worry about where my data goes. Make an online purchase or simply accessing your email puts your private information at risk. You are being tracked online all the time by social media sites, marketing companies, and mobile internet providers. That is why you need to take your internet privacy back right now. Use [VPN company]! [VPN company] has the easiest apps that run seamlessly in the background of any computer, phone, and tablet. Turning on [VPN company] protection only takes one click. I am going to tell you what takes more than one click: getting your identity and data back after it’s been lost. Try getting back the money from your stolen credit cards. Do one click now. [VPN company] secures and anoymizes your internet browsing by encrypting your data and hiding your public IP address.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The popularity of those services and the way they are recommended and promoted is bad. So bad that I feel impelled to write this article on it, to explain two problematic points. Those are:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;In most circumstances, &lt;strong&gt;VPNs do very little to enhance your data security or privacy&lt;/strong&gt; unless paired with other changes.&lt;/li&gt;
&lt;li&gt;Acting as they do, and &lt;strong&gt;promoting commercial VPN providers&lt;/strong&gt; as a solution to potential issues &lt;strong&gt;does more harm than good&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Just stick around for a bit, and I will explain everything. Before I start, though, let me clarify that I am writing this post with non-technical, but curious people in mind. This means that I will be using simplified terms and sometimes generalize a bit. However, I can assure you that all information is still very accurate. Sometimes, using technical words is necessary to avoid this post becoming inaccurate. If you do not understand something, just read on, the next paragraph might be more apparent.&lt;/p&gt;
&lt;h2 id=&quot;what-a-vpn-is-and-what-it-is-not&quot;&gt;What a VPN is, and what it is not.&lt;/h2&gt;
&lt;blockquote readability=&quot;9.1901408450704&quot;&gt;
&lt;p&gt;[…] another worrying aspect of today’s market of VPN services is the large misinformation end users are exposed to, which makes it hard for them to properly tell apart vague and bold claims typical of product advertisement campaigns with actual facts.&lt;/p&gt;
&lt;p&gt;- &lt;em&gt;a &lt;a href=&quot;https://www.degruyter.com/downloadpdf/j/popets.2015.1.issue-1/popets-2015-0006/popets-2015-0006.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;paper published in 2015&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/vpn-banner.png&quot; alt=&quot;VPN - a Very Precarious Narrative&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;To start, &lt;a href=&quot;https://en.wikipedia.org/wiki/Virtual_private_network&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Wikipedia&lt;/a&gt; has a very nice summary of what a VPN is:&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;A virtual private network (VPN) extends a private network across a public network, and enables users to send and receive data across shared or public networks as if their computing devices were directly connected to the private network.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A VPN is a &lt;em&gt;tunnel&lt;/em&gt; connecting two different networks. You throw traffic into one end of the tunnel, and it will come out somewhere else, even if the destination might not be reachable on the public internet. VPNs are popular in company environments: Imagine a large company running their servers with private sale data on them. The company does not want those servers to be reachable via the internet for security reasons, but at the same time, salespeople need to be able to access those datasets, even if they are on the road. The salesperson can use the company’s VPN to “move their laptop into the company network”, without the need to physically be there, so they have access to that information. In addition, network traffic sent over VPNs is generally encrypted, so even if the salesperson is using a maybe insecure network, the data is probably safe, if everything is configured correctly.&lt;/p&gt;
&lt;p&gt;The VPNs that get advertised at the end of YouTube videos are different. They are not used to access protected, internal infrastructure. Instead, they are used to tunnel &lt;em&gt;all&lt;/em&gt; network traffic into a datacenter you neither know nor can control in any way. To understand why this might be a bad idea and is absolutely not necessary in most cases, let’s look at the marketing claims.&lt;/p&gt;
&lt;h2 id=&quot;your-ip-is-used-for-tracking-and-leaks-private-information-you-should-hide-it&quot;&gt;“Your IP is used for tracking and leaks private information. You should hide it.”&lt;/h2&gt;
&lt;p&gt;One thing that most VPN advertisements have in common is some babble around IP addresses. Providers claim that your IP address leaks tons of private information, even your physical location, and they also claim that IP addresses are used for tracking. I call that fearmongering and deliberate misinformation.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/vpn-check.jpg&quot; alt=&quot;Two screenshots from VPN websites showing my &amp;quot;unprotected&amp;quot; IP address&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;I am sure you have seen notices like these on VPN provider’s websites before. They claim that your IP can be used to track you, and they even show a map of where you are located to make it look scarier.&lt;/p&gt;
&lt;p&gt;Before I address those two things, let me say something more generic. Notice how both sites show my IP, claim that my connection is “unprotected”, and one is even showing a map? Well. In reality, I am actually &lt;em&gt;using a VPN&lt;/em&gt; in those screenshots, I just happened to use &lt;a href=&quot;https://protonvpn.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ProtonVPN&lt;/a&gt; for this example, so I should be protected very well, right? How come they claim I am unprotected?&lt;/p&gt;
&lt;p&gt;That is because those “tests” do not do anything useful. The only check these things are doing is a simple “is the user currently connected via one of our IPs, and thus is using our VPN? If yes, say the user is protected, otherwise, act like the world is on fire”. Not very productive.&lt;/p&gt;
&lt;h3 id=&quot;ip-addresses-for-user-identification&quot;&gt;IP addresses for user identification&lt;/h3&gt;
&lt;p&gt;One of the sponsor messages I quoted earlier explicitly claims that IP addresses are how you “are being tracked online all the time by social media sites and marketing companies”. But is that so? We all know that Facebook is pretty big in the whole “tracking people” business, so if you have an active subscription at one of those VPN providers and a Facebook account, let’s do a test together!&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Open a new Private Window/Incognito Window in your favorite browser.&lt;/li&gt;
&lt;li&gt;In that window, open two tabs: Facebook, and the “What is my IP?” page of your VPN provider, like &lt;a href=&quot;https://www.expressvpn.com/what-is-my-ip&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;this one from ExpressVPN&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Log in to your Facebook account.&lt;/li&gt;
&lt;li&gt;With the VPN disabled, verify that the “test” site shows “you are unprotected”, like in my screenshots above.&lt;/li&gt;
&lt;li&gt;Connect to your VPN. Refresh the VPN test page, which should now say that your IP is hidden and your connection is protected. Right?&lt;/li&gt;
&lt;li&gt;Now, switch over to the Facebook tab, and hit reload.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;So, what happened? Did Facebook forget who you are, and boot you back out to the login form? No, of course not. Even though your IP address changed, Facebook still knew &lt;em&gt;exactly&lt;/em&gt; who you are. So do marketing companies and other tracking parties.&lt;/p&gt;
&lt;p&gt;The reality here is that your IP address is only a tiny piece of your trackable profile and a pretty unreliable one as such. Tracking companies are interested in tracking &lt;em&gt;you&lt;/em&gt;, not a specific device or a specific browsing session. Your IP changes all the time, take your mobile phone as an example: You may be connected to your home WiFi, to your mobile connection, the network at work, … and you will have a different IP in each network. Moreover, these IPs are not even unique to you in most cases: most mobile phone networks share their public IPs to hundreds, sometimes thousands of mobile phones in a process called &lt;a href=&quot;https://en.wikipedia.org/wiki/Network_address_translation&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NAT&lt;/a&gt;. Tracking companies have to distinguish between all those people - their profiles would be useless otherwise.&lt;/p&gt;
&lt;p&gt;Tracking companies have far more advanced methods. One well-known identification method is &lt;em&gt;Cookies&lt;/em&gt;, little portions of data in your browser or mobile client. However, since Cookies can easily be altered or removed by users, trackers came up with far more advanced technologies like browser fingerprinting and even running behavioral pattern recognition to uniquely identify users. All these things cannot be influenced or altered in any way by a VPN.&lt;/p&gt;
&lt;p&gt;If you are worried about these things, then use a browser with integrated tracking protection features. In Firefox, &lt;a href=&quot;https://blog.mozilla.org/firefox/facebook-container-extension/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Multi-Account Containers and the Facebook Container Extension&lt;/a&gt; for example help by locking those tracking sites into their isolated sandbox, so they cannot track you when you are not actively using them. The whole “a VPN makes you browse anonymously” thing is just marketing.&lt;/p&gt;
&lt;h3 id=&quot;location-leaking&quot;&gt;Location leaking&lt;/h3&gt;
&lt;p&gt;Another very effective method these VPN marketing people are using is showing your location on their sites. This is very effective at scaring people since those sites hit either your actual hometown or a city nearby. Nobody wants to share their location publicly.&lt;/p&gt;
&lt;p&gt;“Your IP address” is not leaking your home address.&lt;/p&gt;
&lt;p&gt;You see, your modem is not connected to a cable that leads directly to your ISPs main router. Instead, your internet data is &lt;em&gt;merged together&lt;/em&gt; with other peoples data on the way. ISPs split up their network into multiple segments to make their network more manageable, and to reduce the amount of cable needed. To have some structure in their networks, they “group” a bunch of customers together, for example by city or by district.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/net-chart.png&quot; alt=&quot;Very simplified scheme of how your route to a server looks like.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Some of these &lt;em&gt;merging points&lt;/em&gt; are passive components, a bit like a USB splitter. Other points are proper routers themselves, and those have IP addresses on their own. Let’s call those points &lt;em&gt;hops&lt;/em&gt;, as in “your internet packets &lt;em&gt;hop&lt;/em&gt; on those points to reach their target”, and multiple hops build the &lt;em&gt;route&lt;/em&gt; to the server you want to reach. With utilities like &lt;a href=&quot;https://en.wikipedia.org/wiki/Traceroute&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;traceroute&lt;/code&gt;&lt;/a&gt; you can check the route to a server yourself. Here, for example, is the route between the server hosting my blog and &lt;code class=&quot;highlighter-rouge&quot;&gt;google.com&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt; 1  core12.nbg1.hetzner.com (213.239.229.5)
 2  core0.fra.hetzner.com (213.239.252.25)
 3  72.14.218.176 (72.14.218.176)
 4  108.170.251.193 (108.170.251.193)
 5  72.14.234.227 (72.14.234.227)
 6  fra16s25-in-f14.1e100.net (216.58.207.78)
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;If you are from Germany, you might be able to identify some snippets here. &lt;code class=&quot;highlighter-rouge&quot;&gt;nbg&lt;/code&gt;, for example, is short for Nuremberg, &lt;code class=&quot;highlighter-rouge&quot;&gt;fra&lt;/code&gt; is short for Frankfurt. So, as the first hop has Nuremberg in its name, this server is probably located close to - or in - Nuremberg. Also, the Google server I am connecting to is &lt;em&gt;probably&lt;/em&gt; in Frankfurt.&lt;/p&gt;
&lt;p&gt;Companies like &lt;a href=&quot;https://www.maxmind.com/en/locate-my-ip-address&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MaxMind&lt;/a&gt; sell large databases that map IP ranges, and the data I showed to you is one of the multiple indications they probably use to build these databases. Ultimately, this means that the location these VPN sites show you is the location of a piece of large network equipment of your ISP, and not your location. Quite often, if you look closely on the maps they show you, the marker ends up just being in the geographical center of a town, sometimes tens if not hundreds of kilometers away, because that is the best they can do to locate “you”.&lt;/p&gt;
&lt;h2 id=&quot;network-encryption&quot;&gt;“Network Encryption”&lt;/h2&gt;
&lt;p&gt;The second large topic in VPN advertisements is traffic encryption. They claim that, without VPNs, your personal data is sent unencrypted for everyone to read, while the VPN protects your private data by wrapping it in strong encryption.&lt;/p&gt;
&lt;p&gt;Technically, this is not a lie, they indeed &lt;em&gt;do&lt;/em&gt; encrypt your network traffic inside the VPN. However, I am fairly confident that most people will overestimate the amount of protection you gain from it, and &lt;em&gt;where&lt;/em&gt; the data is actually encrypted. So let’s look into that.&lt;/p&gt;
&lt;h3 id=&quot;what-a-vpn-can-encrypt-and-what-it-cant&quot;&gt;What a VPN can encrypt, and what it can’t.&lt;/h3&gt;
&lt;p&gt;In the following few paragraphs, I will write on the assumption that you indeed send out your data unencrypted. We will look into the substance of that assumption in just a bit, but it makes explaining the situation a lot easier, for now.&lt;/p&gt;
&lt;p&gt;If you send unencrypted data over the internet, you are essentially sending out a love letter on the back of a postcard. Every node in the chart shown earlier &lt;em&gt;could&lt;/em&gt; read and modify the contents. The following charts show the &lt;em&gt;cables&lt;/em&gt; and &lt;em&gt;nodes&lt;/em&gt; where your content is passed, red means the content is sent unencrypted, green means the content is encrypted.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/net-all-unencrypted.png&quot; alt=&quot;Your data is unencrypted everywhere.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Okay, this is bad. Everything is red, not a single connection in there is green. And yes, that is &lt;em&gt;absolutely&lt;/em&gt; how your data is passed when you send stuff unencrypted, which is why encryption is so important.&lt;/p&gt;
&lt;p&gt;So, how does a VPN solve that issue? Well, the thing is, it does not. Remember when I earlier described VPNs as a &lt;em&gt;tunnel&lt;/em&gt;? Every tunnel needs to end somewhere. For VPNs, you send your data through the encrypted “VPN tunnel” to VPN provider’s servers. But what happens to your data once it arrives there? Well, VPN providers are unable to deliver your data packets directly to the final destination, because they do not actually know where that is. All they can do is to throw your packets back into the public internet so that it eventually can reach its goal. To visualize this, we need to alter our chart slightly.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/net-via-vpn.png&quot; alt=&quot;VPN doing what a VPN does: Encrypting traffic from your client to the VPN endpoint.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;You might be surprised now, given there is still a lot of red in there. And as sorry as I am, this chart is not an exaggeration in any way.&lt;/p&gt;
&lt;p&gt;Remember how I explained the &lt;em&gt;proper&lt;/em&gt; use case for VPNs earlier? VPNs were designed to get network traffic &lt;em&gt;into&lt;/em&gt; the network they are located, and they are designed to do that in a very secure manner. There is no difference here with commercial VPNs: They get your data to the VPNs endpoint in a secure fashion, and that is about it. As soon as your traffic reached the VPN endpoint, which is a server the VPN provider runs, the data will get decrypted and leave the VPN provider’s network just like it would leave your network if you did not use a VPN. Unencrypted.&lt;/p&gt;
&lt;p&gt;This means that as soon as your data leaves the VPN tunnel, everyone can, once again, read and modify your data. This includes the VPN provider itself. The only secured channel here is the route between your machine and the VPN server.&lt;/p&gt;
&lt;p&gt;Now, what can &lt;em&gt;you&lt;/em&gt; do to get your data encrypted to the target server? Unfortunately, there is nothing you can do. The only way to transmit data encrypted to the end is if the target server is supporting encrypted connections. However, as it turns out, this is &lt;em&gt;probably&lt;/em&gt; nothing you actually have to worry about.&lt;/p&gt;
&lt;h3 id=&quot;your-data-probably-is-encrypted-anyway&quot;&gt;Your data probably is encrypted anyway&lt;/h3&gt;
&lt;p&gt;Remember the thing about little padlock icons in your browser’s address bar, and the prefix &lt;code class=&quot;highlighter-rouge&quot;&gt;https://&lt;/code&gt; in front of the domain name?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/https-address-bar.png&quot; alt=&quot;If you are using Firefox, your address bar will look like this.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;HTTPS is the &lt;em&gt;secure&lt;/em&gt; version of HTTP, which is the protocol your browser is using to talk to web servers. HTTPS is using a set of cryptographic protocols called &lt;a href=&quot;https://en.wikipedia.org/wiki/Transport_Layer_Security&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Transport Layer Security&lt;/a&gt;. You do not need to know the details, because they are so complicated that I cannot remember them myself. All you need to know is that whenever there is a padlock and the &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt; prefix in your address bar, &lt;em&gt;your browser&lt;/em&gt; will encrypt the data in a way that can only be decrypted by the destination server. No matter if you are using a VPN or not, with TLS, your data is encrypted from the start to the end, and the chart would look like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/net-tls.png&quot; alt=&quot;All lights are green, everything is encrypted.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;TLS is not just used in your browser. Your email client? Probably using TLS. Your instant messaging app? Using TLS. Your Twitter client? Using TLS. In modern days, it is really, &lt;em&gt;really&lt;/em&gt;, rare for an application handling personal data not to use some form of encryption. With projects like &lt;a href=&quot;https://letsencrypt.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Let’s Encrypt&lt;/a&gt;, making TLS certificates free for everyone, there is absolutely no reason for applications not to add encryption, and there is a myriad of reasons why not encrypting is a horrible idea.&lt;/p&gt;
&lt;p&gt;I wanted to know &lt;em&gt;how&lt;/em&gt; popular TLS is these days. Getting reliable data on all forms of communication is tricky, so I decided to only look at the distribution of HTTP vs. HTTPS. For that, I had to shell out money and get the list of top 3000 domains in the United States via the &lt;a href=&quot;https://aws.amazon.com/alexa-top-sites/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Alexa Top Sites web service&lt;/a&gt;. I used that list to run some checks&lt;sup id=&quot;fnref:1&quot;/&gt; on the sites you are probably using the most, here are the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://schub.io/statics/blog/20190408/top3000-chart.png&quot; alt=&quot;A pie chart. Explanation is in the paragraphs below.&quot; class=&quot;center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Out of 3000 tested domains, 2906 offered HTTP at the root level. The few others are domains that only get used for subdomains, like CDNs, so I filtered them out. Out of those remaining, 2863 domains did support HTTPS. This means that &lt;em&gt;98.52%&lt;/em&gt; of the top 3000 sites are either using HTTPS right away, or are redirecting to another domain that supports HTTPS immediately, meaning your data is encrypted just fine, no matter if you are using an “encrypted VPN” or not.&lt;/p&gt;
&lt;p&gt;In conclusion, “make sure there is a lock in your address bar” is much better advice than “use a VPN”.&lt;/p&gt;
&lt;h3 id=&quot;what-about-dns-leakage&quot;&gt;What about “DNS leakage”?&lt;/h3&gt;
&lt;p&gt;Interestingly enough, &lt;a href=&quot;https://en.wikipedia.org/wiki/DNS_leak&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;“DNS leak”&lt;/a&gt; is a term coined and widely popularized by commercial VPN providers. A “DNS leak” happens when your VPN fails to take care of tunneling your DNS requests, resulting in the request being sent to your ISP. Somehow, VPNs have turned them not failing to do their job into something they can market as a special feature. As these VPNs make a really big deal about using your ISP for DNS, let’s talk about what DNS is and the privacy impact of DNS queries.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Domain_Name_System&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;DNS&lt;/a&gt;, short for Domain Name System, the system that turns human-readable domain names like &lt;code class=&quot;highlighter-rouge&quot;&gt;schub.io&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;twitter.com&lt;/code&gt; into something more useful to computers, IP addresses like &lt;code class=&quot;highlighter-rouge&quot;&gt;159.69.231.132&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;104.244.42.129&lt;/code&gt;. DNS was invented because humans generally have a hard time remembering IP addresses.&lt;/p&gt;
&lt;p&gt;Generally speaking, DNS is unencrypted, which means that everyone between you and the DNS server can read your DNS queries. There is nothing too private in there, as the query is basically a simple “Hey, can you tell me the IP for &lt;code class=&quot;highlighter-rouge&quot;&gt;schub.io&lt;/code&gt;?”, where the server replies with “Sure, the IP is &lt;code class=&quot;highlighter-rouge&quot;&gt;159.69.231.132&lt;/code&gt; - good luck!”. Usually, your ISP runs your DNS servers, so you do not send this information all over the internet.&lt;/p&gt;
&lt;p&gt;This is where the VPN marketeers pick you up, because, in theory, your ISP could keep a list of all domains you requested and based on that, they would have a pretty good understanding of what you were doing online. So VPNs claim to “solve” this issue by offering their own DNS servers, and setting your computer up in a way that uses these servers through the VPN. However, it should be clear by now that this is not resolving the issue because the VPN provider still handles unencrypted DNS requests, and now &lt;em&gt;they&lt;/em&gt; could log these requests. With a VPN, all you end up doing is shifting the trust from one party to another. You are not gaining anything.&lt;/p&gt;
&lt;p&gt;Instead of just shifting the trust from one ISP to another, some people are working on getting DNS itself encrypted, just like HTTPS. As this story is far too big for me to explain here, please check out &lt;a href=&quot;https://hacks.mozilla.org/2018/05/a-cartoon-intro-to-dns-over-https/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;this article on Mozilla Hacks&lt;/a&gt; for more details.&lt;/p&gt;
&lt;h2 id=&quot;but-can-using-a-vpn-cause-harm&quot;&gt;But can using a VPN cause harm?&lt;/h2&gt;
&lt;p&gt;With all that being said, we have figured out that VPNs really do not add that much to your online privacy. But can using them cause actual harm?&lt;/p&gt;
&lt;p&gt;There is no black or white answer here. First of all, using a VPN that is being marked as super secure and super anonymous can easily have some unfortunate side-effects. This false sense of security can lead you to do things that you normally would not do. Additionally, there is a lot of room on the technical side for things to go wrong.&lt;/p&gt;
&lt;h3 id=&quot;the-no-logs-thing&quot;&gt;The “no logs” thing&lt;/h3&gt;
&lt;p&gt;Almost all of the commercial VPN providers claim they do not collect personal data or your VPN activity. However, the sad reality is, there is no such thing as a “no logs” VPN. Because running it would technically be impossible.&lt;/p&gt;
&lt;p&gt;Starting with the obvious, if you pay for a VPN service, they have to keep your user account and associated payment information and your payment history. So, unless you are using a fake identity and an anonymous credit card (is that even possible these days?), your VPN account will be linked to your actual identity.&lt;/p&gt;
&lt;p&gt;Most VPNs limit the number of devices that can be connected at the same time. For that to work, well, they have to store a piece of information stating which device is connected, and what VPN account it is associated with. They have to associate your VPN session with your VPN account, as counting the number of sessions per account would be impossible otherwise. There is a lot more data that needs to be stored, at least temporary, to make networking work.&lt;/p&gt;
&lt;p&gt;How long do they store this data? Surely it’s only temporary, right? You do not know. Just like you have to &lt;em&gt;trust&lt;/em&gt; your ISP that they do not collect data, you have to &lt;em&gt;trust&lt;/em&gt; that your VPN provider is not storing the same data. And seriously, what is your reasoning behind trusting an anonymous company from the British Virgin Islands or in Panama more than you trust your ISP, which is a big company with public leadership people and something to lose?&lt;/p&gt;
&lt;h3 id=&quot;using-a-vpn-does-not-make-you-anonymous&quot;&gt;Using a VPN does not make you anonymous.&lt;/h3&gt;
&lt;p&gt;As outlined in previous paragraphs, VPNs do absolutely nothing to protect your identity in most cases. As a good example &lt;a href=&quot;https://www.justice.gov/opa/press-release/file/1001841/download&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;here&lt;/a&gt; is a case from a US District Court. The offense in question were serious cases of cyberstalking. The defendant was using a VPN in an attempt to hide their identity, but it turned out to be worthless.&lt;/p&gt;
&lt;p&gt;While connected to the VPN, the defendant logged into their personal Google Mail account. This could be a simple mistake by accessing that account, but it could also be that this was just some background service checking the server for new mail. Because of that, their VPN IP (you know, the one that is supposed to “hide” your identity) was directly linked to their identity, and the case was simple.&lt;/p&gt;
&lt;p&gt;Regardless if you want to stay anonymous towards other sites, trackers, ISPs, hackers, or governments, a VPN is not doing that job for you.&lt;/p&gt;
&lt;h3 id=&quot;security-issues-in-vpns-and-their-clients&quot;&gt;Security issues in VPNs and their clients&lt;/h3&gt;
&lt;p&gt;Just like any piece of software, VPNs and their clients are far from perfect. A &lt;a href=&quot;https://www.degruyter.com/downloadpdf/j/popets.2015.1.issue-1/popets-2015-0006/popets-2015-0006.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;paper published in 2015&lt;/a&gt; concludes that lots of large commercial VPNs clients had significant security issues. These issues ranged from simple DNS leaks to more significant issues like VPNs that did not tunnel IPv6 and forgot to turn it off, and even VPNs that allowed hijacking the user’s DNS configuration. The study also showed that some VPN services did not even run their own DNS servers, but just used Google’s public DNS server, despite claiming “privacy improvements”.&lt;/p&gt;
&lt;p&gt;I am not saying that all current VPNs have security issues, especially since the paper was published four years ago and I hope that all these issues have been addressed. However, VPN clients are still software, and contrary to projects like &lt;a href=&quot;https://openvpn.net/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;OpenVPN&lt;/a&gt;, which can be validated by independent security researchers, commercial VPN clients always add their own little touches. And more often than not, these “customizations” are cause for a lot of trouble.&lt;/p&gt;
&lt;h3 id=&quot;vpns-are-a-central-point-for-attackers&quot;&gt;VPNs are a central point for attackers&lt;/h3&gt;
&lt;p&gt;The security issues I mentioned are more dangerous if you think what these commercial VPN providers actually are. The big services, especially those with enough money to sponsor tons of YouTubers, handle &lt;em&gt;tons&lt;/em&gt; of private information from a lot of different users.&lt;/p&gt;
&lt;p&gt;If you were a hacker with malicious intentions, what would you attack? A small instance of someone hosting their private VPN based on open source software; or a large commercial VPN provider, handling the connections for thousands if not hundreds of thousands of users? Yes. Ironically, these VPN providers claiming they want to improve the privacy and security of their customers create &lt;em&gt;huge&lt;/em&gt; issues. They centralize a lot of traffic onto a single infrastructure, and suddenly, lots of people depend on a small number of engineers maintaining that central infrastructure to do their job correctly.&lt;/p&gt;
&lt;p&gt;Large commercial VPNs are not only interesting to malicious hackers looking for credit cards to sell and private data to use. They also make governmental surveillance easier. Instead of having to listen on each person’s ISP, a government could, in theory, just hijack a large VPN service. This is not a good situation for anyone.&lt;/p&gt;
&lt;h2 id=&quot;so-are-there-valid-reasons-to-use-a-vpn&quot;&gt;So, are there valid reasons to use a VPN?&lt;/h2&gt;
&lt;p&gt;All right. After I spent over 4000 words explaining why VPNs are using deliberate misinformation in their marketing strategies and showing how VPNs do not help your privacy online, this post sounds like I am totally against VPNs. And while I indeed do &lt;em&gt;dislike&lt;/em&gt; the current wave of commercial VPN providers, I think there are some valid use-cases, and I think it is important to highlight those as well.&lt;/p&gt;
&lt;h3 id=&quot;accessing-private-networks&quot;&gt;Accessing private networks&lt;/h3&gt;
&lt;p&gt;Just as a reminder: This is what VPNs were originally designed for. There is absolutely nothing wrong with using VPNs to gain access to otherwise inaccessible resources. This usually applies to business contexts where companies will use VPNs to grant you access to internal network resources. However, there are other groups using VPNs as well. For example, a non-profit organization could use a VPN to grant its members access to internal-only applications, without the risk of having these systems exposed to the internet.&lt;/p&gt;
&lt;h3 id=&quot;public-networks&quot;&gt;Public networks&lt;/h3&gt;
&lt;p&gt;If you are using your device on a public network, VPNs can help you protect your data. Good examples for such networks are the WiFi networks that do not require a passphrase to connect, for example on Airports, in Cafes, or public buildings. Networks like these make it easy for attackers to get a copy of your network data, and if you send something unencrypted, the results can be quite harmful. Although data is encrypted when you are using HTTPS, and while the same mechanisms should protect you against most attacks, there is always a little risk left that some application you use is using unencrypted data transfer for whatever reason. When it is as easy for other people to sniff your network traffic as it is in a public WiFi, using a VPN is just one less thing to worry about. VPN clients sometimes also have a nice side effect of temporarily disabling file sharing and similar features in your operating system, which is a good thing in public networks.&lt;/p&gt;
&lt;p&gt;I have a &lt;a href=&quot;https://protonvpn.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ProtonVPN&lt;/a&gt; subscription myself, just for those instances where I am sitting in an airport waiting for my plane, or using a large event’s WiFi to check my mail. In those cases, using a VPN is a really smart thing to do, as long as you do not expect your data is more secure than in your home network.&lt;/p&gt;
&lt;h3 id=&quot;geolocked-content&quot;&gt;Geolocked content&lt;/h3&gt;
&lt;p&gt;Some content on the internet is, unfortunately, locked behind geographic borders. Examples of that may include your favorite news channel livestream, which is unavailable if you are traveling abroad, or some sites that decided it is a good idea to lock everyone inside the European Union out because they are too lazy to comply with EU data protection laws.&lt;/p&gt;
&lt;p&gt;In those cases, using a VPN which allows you to select the country you would like to be in can be beneficial. Again, unless you expect your data to be magically protected, this is an awesome use-case for a commercial VPN!&lt;/p&gt;
&lt;h3 id=&quot;circumvention-of-isp-level-web-blocking&quot;&gt;Circumvention of ISP-level web blocking&lt;/h3&gt;
&lt;p&gt;Commercial VPNs are not just interesting to people who want to “protect their privacy”. In some countries, or behind some ISPs, certain internet resources can be blocked for technical or political reasons. YouTube, for example, is blocked in Turkey. VPNs &lt;em&gt;can&lt;/em&gt; be a way to work around these restrictions, by tunneling your network traffic through a country where those limitations do not apply.&lt;/p&gt;
&lt;p&gt;Let me be 100% clear here. VPNs &lt;em&gt;do not protect you&lt;/em&gt; and they are not a valid method to circumvent governmental surveillance. If you do use a commercial VPN to do things that are illegal in your country, you put yourself in great danger. I am not kidding.&lt;/p&gt;
&lt;p&gt;However, in some cases, the basis of those blocks can be quite… gray, and circumventing the blocks might not directly violate the laws. I am not your lawyer, and I am not giving you any advice. Do your research about your situation if you think this could affect you. However, VPNs could be a way to work around these blocks.&lt;/p&gt;
&lt;h2 id=&quot;in-the-end&quot;&gt;In the end…&lt;/h2&gt;
&lt;p&gt;Starting out this article, I quote a &lt;a href=&quot;https://www.degruyter.com/downloadpdf/j/popets.2015.1.issue-1/popets-2015-0006/popets-2015-0006.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;paper published from 2015&lt;/a&gt;. To close this, I would like to quote the same sentence once again.&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;[…] another worrying aspect of today’s market of VPN services is the large misinformation end users are exposed to, which makes it hard for them to properly tell apart vague and bold claims typical of product advertisement campaigns with actual facts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This quote was written four years ago. Nowadays, we still see popular people advertising commercial VPN services with the same marketing claims and bold promises. Even worse, I feel like these services become more and more popular. This has to stop. We have to get better.&lt;/p&gt;
&lt;p&gt;Making people aware of privacy and security topics is amazing. Showing them solutions to those issues is also awesome, but for that to be effective, we - as in the whole internet - have to suggest and rely on methods that actually &lt;em&gt;do&lt;/em&gt; what we need them to do. Using a VPN does not protect you against hackers who hijack parts of the internet to read traffic. Using a VPN does not protect you against data breaches on the services you are using. Using a VPN does not automatically protect your privacy and your identity. VPNs are tools you can use to achieve those goals, but you have to know &lt;em&gt;how&lt;/em&gt; to use them.&lt;/p&gt;
&lt;p&gt;I wrote this article to vent my frustration about popular YouTube education channels promoting VPNs by reading their false marketing lingo out loud. I also wrote this article as a reference to point people towards if they have questions, or to quote from if I have to explain data breaches to people who were using a VPN.&lt;/p&gt;
&lt;p&gt;To people currently promoting these services, I have a personal message. I am not asking you to stop accepting money from those services. I do understand that sponsoring is a huge part of the thing that makes your work possible, and I am not the person to tell you where you should get your money from. All I am asking is that you spend a bit of time researching and validating the claims that your sponsors get you to read. I know this is annoying and a lot of work, but you have to do it. People who are far less experienced and knowledgeable than you keep watching your videos. They will hear your advertisement, and they expect you only to say things that you have personally vetted, and they trust you. If you tell them that using a VPN will keep their data safe, they will have false expectations. Let us work on not raising false expectations, and instead, let’s educate people, without relying on marketing material.&lt;/p&gt;
&lt;p&gt;If you made it this far, you have successfully finished a 5000+ words article on VPNs. I know this was a long text, but I did not manage to write it any shorter without losing out on accuracy. Thank you so much for working through this. Feel free to validate all of my claims, and share the knowledge you have gained. You &lt;em&gt;are&lt;/em&gt; awesome.&lt;/p&gt;

</description>
<pubDate>Mon, 08 Apr 2019 02:34:48 +0000</pubDate>
<dc:creator>denschub</dc:creator>
<og:title>VPN - a Very Precarious Narrative - Dennis Schubert</og:title>
<og:type>website</og:type>
<og:url>https://schub.io/blog/2019/04/08/very-precarious-narrative.html</og:url>
<og:description>A very long article about commercial VPNs, their marketing strategies, and the truth behind their privacy and security claims.</og:description>
<og:image>https://schub.io/statics/opengraph_fallback.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://schub.io/blog/2019/04/08/very-precarious-narrative.html</dc:identifier>
</item>
<item>
<title>Facebook are &amp;#039;morally bankrupt liars&amp;#039; says New Zealand&amp;#039;s privacy commissioner</title>
<link>https://www.theguardian.com/technology/2019/apr/08/facebook-are-morally-bankrupt-liars-says-new-zealands-privacy-commissioner</link>
<guid isPermaLink="true" >https://www.theguardian.com/technology/2019/apr/08/facebook-are-morally-bankrupt-liars-says-new-zealands-privacy-commissioner</guid>
<description>&lt;p&gt;New Zealand’s privacy commissioner has lashed out at social media giant Facebook in the wake of the &lt;a href=&quot;https://www.theguardian.com/world/christchurch&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Christchurch&lt;/a&gt; attacks, calling the company “morally bankrupt pathological liars”.&lt;/p&gt;
&lt;p&gt;The commissioner used his personal Twitter page to lambast the social network, which has also drawn the ire of prime minister Jacinda Ardern for &lt;a href=&quot;https://www.theguardian.com/us-news/2019/mar/29/facebook-new-zealand-christchurch-attack-response&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;hosting a livestream&lt;/a&gt; of the attacks that left 50 dead, which was then copied and shared all over the internet.&lt;/p&gt;
&lt;p&gt;“Facebook cannot be trusted,” wrote Edwards.&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-2 | 1&quot;&gt;&lt;div class=&quot;rich-link&quot;&gt;
&lt;div class=&quot;rich-link__container&quot;&gt;
&lt;div class=&quot;rich-link__header&quot;&gt;
&lt;h2 class=&quot;rich-link__title&quot;&gt;Online hate threatens us all. Platforms can and must do more to eradicate it | Dan Hett&lt;/h2&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/aside&gt;&lt;p&gt;“They are morally bankrupt pathological liars who enable genocide (Myanmar), facilitate foreign undermining of democratic institutions.&lt;/p&gt;
&lt;p&gt;“[They] allow the live streaming of suicides, rapes, and murders, continue to host and publish the mosque attack video, allow advertisers to target ‘Jew haters’ and other hateful market segments, and refuse to accept any responsibility for any content or harm.&lt;/p&gt;
&lt;p&gt;“They #dontgiveazuck” wrote Edwards. He later deleted the tweets, saying they had prompted &lt;a href=&quot;https://twitter.com/JCE_PC/status/1115090993395654657&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;“toxic and misinformed traffic”&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Edwards was responding to an interview given by Facebook co-founder Mark Zuckerberg to &lt;a href=&quot;https://abcnews.go.com/Business/interview-facebook-ceo-mark-zuckerberg-transcript/story?id=62152829&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;America’s ABC&lt;/a&gt; network, in which he failed to commit to any changes to the Facebook live technology, including a time delay on livestreams.&lt;/p&gt;
&lt;p&gt;Zuckerberg said incidents like the live streaming of the Christchurch mosque attacks were the result of “bad actors”; not bad technology and a time delay would disrupt the enjoyment of users who broadcast events like birthday parties or group hangouts.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.radionz.co.nz/national/programmes/morningreport/audio/2018689989/facebook-cannot-be-trusted-privacy-commissioner&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;In a later interview with RNZ&lt;/a&gt; on Monday, Edwards described Zuckerberg’s comments as “disingenuous”, and said the company had refused to tell his office how many murders, suicides and sexual assaults had been broadcast using the platform.&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-2 | 2&quot;&gt;&lt;div class=&quot;rich-link&quot;&gt;
&lt;div class=&quot;rich-link__container&quot;&gt;
&lt;div class=&quot;rich-link__header&quot;&gt;
&lt;h2 class=&quot;rich-link__title&quot;&gt;Australia passes social media law penalising platforms for violent content&lt;/h2&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/aside&gt;&lt;p&gt;“It is a technology which is capable of causing great harm,” Edwards told RNZ.&lt;/p&gt;
&lt;p&gt;Before the mosque attacks prime minister Ardern was an avid user of &lt;a href=&quot;https://www.theguardian.com/technology/facebook&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Facebook&lt;/a&gt; live, using the technology to broadcast her formal press conferences, as well as more casual, informal messages from the sofa of her Auckland home, or the kitchen of Premier House in Wellington.&lt;/p&gt;
&lt;p&gt;The Guardian understands the prime minister’s office were considering what other platforms it could use to broadcast the prime minister’s video messages, including a separate, dedicated website, to avoid using Facebook.&lt;/p&gt;
&lt;p&gt;The last Facebook live video posted by the prime minister was a post-cabinet press conference on March 25, and the last informal Facebook live video was a climate change discussion two days before the attack.&lt;/p&gt;
&lt;p&gt;On Monday, Ardern said the Royal Commission inquiry into the Christchurch attack will report back to the government by 10 December 10.&lt;/p&gt;
&lt;p&gt;The inquiry would look into the suspected gunman’s activities, use of social media and international connections, as well as whether there was “inappropriate” priority setting in state counter terrorism resources, Ardern said in a statement.&lt;/p&gt;


</description>
<pubDate>Mon, 08 Apr 2019 02:24:24 +0000</pubDate>
<dc:creator>oska</dc:creator>
<og:url>http://www.theguardian.com/technology/2019/apr/08/facebook-are-morally-bankrupt-liars-says-new-zealands-privacy-commissioner</og:url>
<og:description>John Edwards calls out social media giant after Christchurch attack for refusing to accept responsibility for harm</og:description>
<og:image>https://i.guim.co.uk/img/media/70c82b3919e204ae111caa5f967599a33430f521/0_354_5314_3188/master/5314.jpg?width=1200&amp;height=630&amp;quality=85&amp;auto=format&amp;fit=crop&amp;overlay-align=bottom%2Cleft&amp;overlay-width=100p&amp;overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&amp;s=b42734571125620af03bb3fe8db058de</og:image>
<og:type>article</og:type>
<og:title>Facebook are 'morally bankrupt liars' says New Zealand's privacy commissioner</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theguardian.com/technology/2019/apr/08/facebook-are-morally-bankrupt-liars-says-new-zealands-privacy-commissioner</dc:identifier>
</item>
<item>
<title>Programming: Doing it more vs. doing it better</title>
<link>https://kevinmartinjose.com/2019/04/08/programming-doing-it-more-vs-doing-it-better/</link>
<guid isPermaLink="true" >https://kevinmartinjose.com/2019/04/08/programming-doing-it-more-vs-doing-it-better/</guid>
<description>&lt;hr class=&quot;wp-block-separator&quot;/&gt;&lt;p&gt;A few years ago, very early into my programming career, I came across a story:&lt;/p&gt;
&lt;blockquote class=&quot;wp-block-quote&quot;&gt;
&lt;p&gt;The ceramics teacher announced on opening day that he was dividing the class into two groups. All those on the left side of the studio, he said, would be graded solely on the quantity of work they produced, all those on the right solely on its quality. His procedure was simple: on the final day of class he would bring in his bathroom scales and weigh the work of the “quantity” group: fifty pound of pots rated an “A”, forty pounds a “B”, and so on. Those being graded on “quality”, however, needed to produce only one pot – albeit a perfect one – to get an “A”.&lt;/p&gt;
&lt;p&gt;Well, came grading time and a curious fact emerged: the works of highest quality were all produced by the group being graded for quantity. It seems that while the “quantity” group was busily churning out piles of work – and learning from their mistakes – the “quality” group had sat theorizing about perfection, and in the end had little more to show for their efforts than grandiose theories and a pile of dead clay.&lt;/p&gt;
&lt;cite&gt;Jeff Atwood’s “&lt;a href=&quot;https://blog.codinghorror.com/quantity-always-trumps-quality/&quot;&gt;Quantity Always Trumps Quality&lt;/a&gt;” post, though he himself took the story from somewhere else.&lt;/cite&gt;&lt;/blockquote&gt;
&lt;p&gt;This little story has had a tremendous impact on how I approach software engineering as a craft. I was (and still am) convinced that the best way to get better at software engineering is to write more software. I was careful enough to not take the story too seriously – I have always strived to write readable, maintainable code without bugs. &lt;strong&gt;However, deep inside my mind was this idea that one day I would be able to write beautiful code without thinking. It would be as effortless to me as breathing.&lt;/strong&gt; “Refactoring code” would be something left to the apprentice, not something that I, the master who has churned out enough ceramic pots, would be bothered with. I just have to keep making ceramic pots until I get there.&lt;/p&gt;
&lt;p&gt;Three years later, I am still very much the apprentice. Rather than programming effortlessly, I have learned to program more deliberately. I have learned (the hard way) to review my code more thoroughly and to refactor it now rather than later. I get pangs of guilt and disappointment every time my pull request has to go through another round of review. I am frustrated when I deliver a feature two days late. As an engineer I want to, above everything else, churn out (the right) features as fast as possible.&lt;/p&gt;
&lt;p&gt;Today, I came across an essay that would let me resign from my perpetual struggle to “get faster” at engineering:&lt;/p&gt;
&lt;blockquote class=&quot;wp-block-quote&quot;&gt;
&lt;p&gt;I used to have students who bragged to me about how fast they wrote their papers. I would tell them that the great German novelist Thomas Mann said that a writer is someone for whom writing is more difficult than it is for other people. The best writers write much more slowly than everyone else, and the better they are, the slower they write. James Joyce wrote Ulysses, the greatest novel of the 20th century, at the rate of about a hundred words a day&lt;/p&gt;
&lt;cite&gt;&lt;a href=&quot;https://theamericanscholar.org/solitude-and-leadership/&quot;&gt;William Deresiewicz, Solitude and Leadership&lt;/a&gt;&lt;br/&gt;&lt;/cite&gt;&lt;/blockquote&gt;
&lt;p&gt;I can strongly relate to this – I would often read and re-read something that I wrote and then I would go back and change it, only to repeat the process again. Though comparing my modest penmanship (keymanship?!) to “the best writers” is outright sacrilegious, even I have in the past noticed that the slower I write, the better I write.&lt;/p&gt;
&lt;p&gt;The equivalent in software engineering terms would be to (nothing you did not know before, except for &lt;em&gt;maybe&lt;/em&gt; the last point):&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Put more thought into the design of your systems&lt;/li&gt;
&lt;li&gt;Refactor liberally and lavishly&lt;/li&gt;
&lt;li&gt;Test thoroughly&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Take your sweet time&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;As I said, nothing you did not know before. Also, this is almost impossible to pull off when you have realistic business objectives to meet.&lt;/p&gt;
&lt;p&gt;But James Joyce probably did not write Ulysses with a publisher breathing down his neck saying “We need to ship this before Christmas!”.&lt;/p&gt;
&lt;p&gt;So the secret sauce that makes good code great and the average Joe the next 10x programmer might be this – diligence exercised over a long time.&lt;/p&gt;
&lt;p&gt;How does this affect me? Disillusionment. Writing more software does not automatically make you a better programmer. You need the secret sauce, whatever that might be.&lt;/p&gt;
&lt;div id=&quot;jp-post-flair&quot; class=&quot;sharedaddy sd-like-enabled sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;sharedaddy sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Share this:&lt;/h3&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded&quot; id=&quot;like-post-wrapper-157327991-263-5cab6fc8038bb&quot; data-src=&quot;//widgets.wp.com/likes/index.html?ver=20190321#blog_id=157327991&amp;amp;post_id=263&amp;amp;origin=kevinmartinjose.wordpress.com&amp;amp;obj_id=157327991-263-5cab6fc8038bb&amp;amp;domain=kevinmartinjose.com&quot; data-name=&quot;like-post-frame-157327991-263-5cab6fc8038bb&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Like this:&lt;/h3&gt;
&lt;div class=&quot;likes-widget-placeholder post-likes-widget-placeholder&quot;&gt;&lt;span class=&quot;button&quot;&gt;&lt;span&gt;Like&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;loading&quot;&gt;Loading...&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
</description>
<pubDate>Sun, 07 Apr 2019 22:47:28 +0000</pubDate>
<dc:creator>lonesword</dc:creator>
<og:type>article</og:type>
<og:title>Programming: doing it more vs doing it better</og:title>
<og:url>https://kevinmartinjose.com/2019/04/08/programming-doing-it-more-vs-doing-it-better/</og:url>
<og:description>A few years ago, very early into my programming career, I came across a story: The ceramics teacher announced on opening day that he was dividing the class into two groups. All those on the left si…</og:description>
<og:image>https://s0.wp.com/i/blank.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://kevinmartinjose.com/2019/04/08/programming-doing-it-more-vs-doing-it-better/</dc:identifier>
</item>
<item>
<title>Fat, Not Meat, May Have Led to Bigger Hominin Brains</title>
<link>https://www.scientificamerican.com/article/fat-not-meat-may-have-led-to-bigger-hominin-brains/</link>
<guid isPermaLink="true" >https://www.scientificamerican.com/article/fat-not-meat-may-have-led-to-bigger-hominin-brains/</guid>
<description>&lt;div class=&quot;mura-region mura-region-loose&quot;&gt;
&lt;div class=&quot;mura-region-local&quot;&gt;
&lt;p&gt;Northern Ethiopia was once home to a vast, ancient lake. Saber-toothed cats prowled around it, giant crocodiles swam within. The streams and rivers that fed it—over 3 million years ago, during the Pliocene—left behind trails of sediment that have now hardened into sandstone.&lt;/p&gt;
&lt;p&gt;Deposited within these layers are fossils: some of early hominins, along with the bones of hippos, antelope, and elephants. Anthropologist Jessica Thompson encountered two of these specimens, from an area named Dikika, in 2010.&lt;/p&gt;
&lt;p&gt;At the time, she was a visiting researcher at the Institute of Human Origins at Arizona State University. Given no explanation as to their history, she analyzed the bones and found signs of butchery. Percussion marks suggested someone may have accessed the marrow; cut marks hinted that flesh was stripped from bone. To her surprise, the specimens were &lt;a href=&quot;https://www.nature.com/articles/nature09248?message-global=remove&quot; target=&quot;_blank&quot;&gt;3.4 million years old&lt;/a&gt;, putting the butcher’s behaviors back 800,000 years earlier than conventional estimates would suggest. That fact got Thompson, now an assistant professor in the department of anthropology at Yale University, thinking there might be more traces of tool use from those early times.&lt;/p&gt;
&lt;p&gt;In a &lt;a href=&quot;https://www.journals.uchicago.edu/doi/abs/10.1086/701477?mobileUi=0&amp;amp;journalCode=ca&quot; target=&quot;_blank&quot;&gt;wide-ranging review&lt;/a&gt; published in February’s issue of &lt;em&gt;Current Anthropology&lt;/em&gt;, Thompson joins a team of researchers to weave together several strands of recent evidence and propose a new theory about the transition to large animal consumption by our ancestors. The prevailing view, supported by a confluence of fossil evidence from sites in Ethiopia, is that the emergence of flaked tool use and meat consumption led to the cerebral expansion that kickstarted human evolution more than 2 million years ago. Thompson and her colleagues disagree: Rather than using sharpened stones to hunt and scrape meat from animals, they suggest, earlier hominins may have first bashed bones to harvest fatty nutrients from marrow and brains.&lt;/p&gt;
&lt;p&gt;Humans are the only primate to regularly consume animals larger than themselves. This nutritional exploitation, something Thompson and her colleagues call the “human predatory pattern,” has long been synonymous with the flesh-eating, man-the-hunter view of human origins.&lt;/p&gt;
&lt;p&gt;Because large animals such as antelope pack a serious micro-and-macro-nutrient punch, scientists have thought their meat contributed to humanity’s outsized brains. A consensus arose in the 1950s that our ancestors first hunted small animals before moving on to larger beasts around 2.6 million years ago. Flaked tool use and meat eating became defining characteristics of the &lt;em&gt;Homo&lt;/em&gt; genus.&lt;/p&gt;
&lt;p&gt;“It’s a very appealing story,” says Thompson. “Right around that time there appeared to be the first stone tools and butchery marks. You have the origins of our &lt;em&gt;Homo&lt;/em&gt; genus. A lot of people like to associate that with what it means to be human.”&lt;/p&gt;
&lt;p&gt;Then, starting in the mid-1980s, an opposing theory arose in which &lt;em&gt;Homo&lt;/em&gt;’s emergence wasn’t so tightly coupled with the origins of hunting and predatory dominance. Rather, early hominins first accessed brain-feeding nutrients through scavenging large animal carcasses. The debate has rolled on through the decades, with evidence for the scavenging theory gradually building.&lt;/p&gt;
&lt;p&gt;The new paper goes further: Harvesting outer-bone meat would have come at significant costs, the authors argue. The chance of encountering predators is high when scraping raw flesh from a carcass. Chewing raw meat without specialized teeth doesn’t give much energetic benefit, &lt;a href=&quot;https://www.sapiens.org/body/early-humans-and-raw-meat/&quot; target=&quot;_blank&quot;&gt;studies have shown&lt;/a&gt;. In addition, meat exposed to the elements will quickly rot.&lt;/p&gt;
&lt;p&gt;Marrow and brains, meanwhile, are locked inside bones and stay fresh longer. These highly nutritional parts are also a precursor to the fatty acids involved with brain and eye development. And more easily than flesh-meat, bones could be carried away from carcass sites, safe from predators.&lt;/p&gt;
&lt;p&gt;Conventional thinking has been that the behavioral package of early hominins was to go after meat and marrow together, explains Briana Pobiner, a paleoanthropologist at the Smithsonian Institution, who did not contribute to the new paper. But in the new paper, she says, “This team has shown that marrow may have in fact been more important. It’s a nuance, but an important nuance.”&lt;/p&gt;
&lt;p&gt;The Pliocene—between 5.3 and 2.6 million years ago—was an era of dramatic change. An intensely variable and cooling climate transformed vast swaths of rainforest into mosaics of grassland and savanna. Large clearings spawned ecological niches for opportunistic and versatile hominins like &lt;em&gt;Australopithecus&lt;/em&gt;, a likely contender for the &lt;em&gt;Homo&lt;/em&gt; ancestor, and &lt;em&gt;Kenyanthropus&lt;/em&gt; to fill in. Larger predators may well have left carcasses for them to scavenge.&lt;/p&gt;
&lt;p&gt;Evidence suggests hominins shifted their diet around 3.76 million years ago as they took advantage of the open spaces. By around 3.5 million years ago, some species of &lt;em&gt;Australopithecus&lt;/em&gt; already showed increased brain sizes, up to 30 percent larger than chimpanzees of comparable body size. Canines had shrunk to proportions later seen in the genus &lt;em&gt;Homo&lt;/em&gt;, and hand morphology was already more human than ape, with potential both for terrestrial travel and tool use.&lt;/p&gt;
&lt;p&gt;Percussive tools, the authors argue, were the key to the transition to large animal exploitation. Rocks could bash open bones, exposing the marrow inside. The alternative—that humans sharpened stone against stone, creating a flaked tool to carve meat from bone—seems more onerous, they say. They argue that such meat carving and the associated tool creation would likely come later.&lt;/p&gt;
&lt;p&gt;As to who wielded these percussive instruments, the timeline presents a puzzle. The earliest &lt;em&gt;Homo&lt;/em&gt; specimen is now dated to 2.8 million years. The Dikika fossils suggest butchery behaviors at 3.4 million years ago. &lt;em&gt;Homo&lt;/em&gt; may have emerged earlier than scientists suspected—a theory that would need more fossil evidence to support it—or another hominin, such as &lt;em&gt;Australopithecus&lt;/em&gt;, may have created tools before &lt;em&gt;Homo&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Some scholars aren’t convinced by the study’s arguments, however. For example, Craig Stanford, an anthropologist at the University of Southern California, questions the emphasis on hominin scavenging behavior appearing before hunting. “We have no examples today of animals that scavenge but don’t hunt,” he adds.&lt;/p&gt;
&lt;p&gt;To test the new theory, the review authors suggest seeking out further evidence of percussive tools that predate flaked tools. Researchers could, they note, broaden the search for the signatures of such instruments within both the existing fossil record and at dig sites. Thompson’s graduate students, for example, are using 3D scanning and artificial intelligence techniques to improve the identification of marks on fossils—whether they were created by early hominins, saber-toothed cats, hyenas, or other types of creatures.&lt;/p&gt;
&lt;p&gt;What they uncover could deal a blow to their theory, but it will also, undoubtedly, enrich our understanding of how our ancestors evolved.&lt;/p&gt;
&lt;p&gt;This work first appeared on &lt;a href=&quot;http://https://www.sapiens.org&quot;&gt;SAPIENS&lt;/a&gt; under a &lt;a href=&quot;https://creativecommons.org/licenses/by-nd/4.0/&quot;&gt;CC BY-ND 4.0 license&lt;/a&gt;. Read the &lt;a href=&quot;https://www.sapiens.org/evolution/brain-evolution-fat/&quot; target=&quot;_blank&quot;&gt;original here&lt;/a&gt;.&lt;img alt=&quot;&quot; height=&quot;1&quot; src=&quot;https://www.sapiens.org/track/9365-[TIMESTAMP]/?dt=Fat%2C+Not+Meat%2C+May+Have+Led+to+Bigger+Hominin+Brains&amp;amp;dl=https%3A%2F%2Fwww.sapiens.org%2Fevolution%2Fbrain-evolution-fat%2F&quot; width=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Sun, 07 Apr 2019 22:42:35 +0000</pubDate>
<dc:creator>hourislate</dc:creator>
<og:type>article</og:type>
<og:title>Fat, Not Meat, May Have Led to Bigger Hominin Brains</og:title>
<og:description>A new theory challenges assumptions about when and how our ancestors altered their behaviors to boost brainpower</og:description>
<og:image>https://static.scientificamerican.com/sciam/cache/file/6D2B2408-4D02-492A-93F7D23399E4127F.jpg</og:image>
<og:url>https://www.scientificamerican.com/article/fat-not-meat-may-have-led-to-bigger-hominin-brains/</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.scientificamerican.com/article/fat-not-meat-may-have-led-to-bigger-hominin-brains/</dc:identifier>
</item>
<item>
<title>How to increase your chances of finding a hidden camera</title>
<link>https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/</link>
<guid isPermaLink="true" >https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/</guid>
<description>&lt;p&gt;Take note of the title of this blog.  What you read below will give you some additional knowledge that may help you identify a hidden camera but it certainly won’t guarantee that.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;We got lucky (if you can say that), the host had the hidden camera on the same network as the wifi that he allowed us access to and the stream was not protected (required authentication to access).&lt;/p&gt;
&lt;p&gt;If a camera is hidden well and is not on the network (i.e. records to an internal memory card) or is on a network that you don’t have access to it may be very difficult to identify.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Below are the steps we are now taking when booking/staying at an Airbnb (or similar).&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 1: Read the house listing in detail and view all photos&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Before you book a house make sure you aren’t setting yourself up to fail.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;It is Airbnb policy that any cameras be detailed in the listing.  Scroll through all the details as there doesn’t seem to be a defined place for the host to list these details.  Details could be in the description, the amenities section, the safety features or the house rules.&lt;/li&gt;
&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;If a camera can be seen in a photo of the house listing then Airbnb deems that you have been notified of the cameras.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;So, in summary if you want to avoid a house with cameras ensure that when you book it you have not been notified that there are cameras.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 2: Do a physical check of the house&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;First, understand what you are looking for.  Non-hidden cameras are pretty obvious and are readily identifiable as cameras.  Hidden cameras unfortunately come in all shapes and sizes and are hidden in numerous objects.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Here are some examples:&lt;/p&gt;

&lt;img data-attachment-id=&quot;499&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/sc71-72_2__33797__33506-1515182268/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg&quot; data-orig-size=&quot;1000,750&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;SC71-72_2__33797__33506.1515182268&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=597&amp;amp;h=448&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=597&amp;amp;h=448&quot; alt=&quot;&quot; class=&quot;wp-image-499&quot; width=&quot;597&quot; height=&quot;448&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=597&amp;amp;h=448 597w, https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=150&amp;amp;h=113 150w, https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=300&amp;amp;h=225 300w, https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg?w=768&amp;amp;h=576 768w, https://sixfortwelve.files.wordpress.com/2019/04/sc71-72_2__33797__33506.1515182268.jpg 1000w&quot; sizes=&quot;(max-width: 597px) 85vw, 597px&quot;/&gt;&lt;em&gt;&lt;a href=&quot;http://www.brickhousesecurity.com&quot; rel=&quot;nofollow&quot;&gt;http://www.brickhousesecurity.com&lt;/a&gt;&lt;/em&gt; &lt;img data-attachment-id=&quot;495&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/017-ss-ai-bw_4__56832__16513-1515182170/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg&quot; data-orig-size=&quot;800,600&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;017-SS-AI-BW_4__56832__16513.1515182170&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=800&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=800&quot; alt=&quot;&quot; class=&quot;wp-image-495&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg 800w, https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=150 150w, https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=300 300w, https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg?w=768 768w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px&quot;/&gt;Fan &lt;em&gt;– &lt;a href=&quot;http://www.brickhousesecurity.com&quot; rel=&quot;nofollow&quot;&gt;http://www.brickhousesecurity.com&lt;/a&gt;&lt;/em&gt; &lt;img data-attachment-id=&quot;497&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/bhs-sc70074k_4__29887-1525891652/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg&quot; data-orig-size=&quot;1280,960&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;BHS-SC70074K_4__29887.1525891652&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=840&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-497&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=150 150w, https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=300 300w, https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg?w=1024 1024w, https://sixfortwelve.files.wordpress.com/2019/04/bhs-sc70074k_4__29887.1525891652.jpg 1280w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;Clock – &lt;em&gt;&lt;a href=&quot;http://www.brickhousesecurity.com&quot; rel=&quot;nofollow&quot;&gt;http://www.brickhousesecurity.com&lt;/a&gt;&lt;/em&gt; &lt;img src=&quot;https://imgs.inkfrog.com/pix/kenvie/__12-(8).jpg&quot;/&gt;Yes, they even come disguised as screws. &lt;img data-attachment-id=&quot;507&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/hdrpl-49/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=840&quot; data-orig-size=&quot;3648,2736&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;LYA-L29&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;hdrpl&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;hdrpl&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;hdrpl&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=840?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=840?w=840&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-507&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=1680 1680w, https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=150 150w, https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=300 300w, https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/img_20190303_195658.jpg?w=1024 1024w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;This was the one we found. The hidden camera is in the enclosure on the left (the one on the right is a real smoke detector). If you zoom in on the picture you can see that I have stuffed tissue paper in the hole where the camera lens was so that we could work out what to do without the host watching us.
&lt;p&gt;A camera has to “see” to take an image so it needs a hole (although that can be as small as a pinhole) or a clear substrate to see through.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Look for anything unusual in the rooms e.g. 2 smoke detectors in the same room, an alarm sensor but no alarm pad.&lt;/li&gt;
&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;A hidden camera will typically be placed so it has a field of view of what the person wants to see. So usually on a ceiling, bedside table, bathrooms, corners of rooms etc. Remember that these cameras typically have a wide field of view.&lt;/li&gt;
&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;Have a close look at any devices you find and see if you can see any lens. You can take photos using your phone up close with the flash or shine lights on them in the dark – the lens will usually reflect light.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Step 3: Scan the house network to identify potential cameras&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Before we start you should note that a camera will not be discoverable on the network in the following circumstances:&lt;br/&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;The camera is not on the same network as the network you have connected to.  That is, if a host wants to hide a camera they can connect it to a network that you may not have access to.&lt;/li&gt;
&lt;li&gt;If the camera records to an internal memory card then it doesn’t need to be connected to a network and therefore wont show up on one.&lt;/li&gt;
&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;Connect to host accommodation network. Typically all host houses provide wireless access with a password. Once you are connected to the hosts wireless network you can then access the network to discover what is on it.&lt;/li&gt;
&lt;li&gt;Launch network scanning app and scan for devices connected to the network.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In my case I used an Android app called “Network Scanner – First Row”. There are many alternatives for Windows, Mac, iOS etc.&lt;br/&gt;&lt;/p&gt;
&lt;img data-attachment-id=&quot;501&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/screenshot_20190406_002522_com-android-vending/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=840&quot; data-orig-size=&quot;1073,800&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;1554510570&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;1&amp;quot;}&quot; data-image-title=&quot;screenshot_20190406_002522_com.android.vending&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=840?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=840?w=840&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-501&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=150 150w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=300 300w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg?w=1024 1024w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_002522_com.android.vending.jpg 1073w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;&lt;p&gt;This app automatically scans the network you are connected to and displays the IP address of the device and the Manufacturer.  See example output below.&lt;/p&gt;
&lt;img data-attachment-id=&quot;504&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/screenshot_20190405_195710_com-myprog-netscan-1-2/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=840&quot; data-orig-size=&quot;1079,2406&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;1554510706&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;1&amp;quot;}&quot; data-image-title=&quot;screenshot_20190405_195710_com.myprog.netscan-1-2&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=840?w=135&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=840?w=459&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-504&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=67 67w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=135 135w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg?w=459 459w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195710_com.myprog.netscan-1-2.jpg 1079w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;&lt;p&gt;As you can see the scan has identified a number of devices on the network including the Gateway (wireless access point / router), my laptop and several phones (Huawei and LG).&lt;/p&gt;
&lt;p&gt;At this stage you should be looking for any giveaway signs that one of the devices is a camera. For example, the manufacturer could be IPCAMERA. (That was the case in the one I discovered 😂)&lt;/p&gt;
&lt;p&gt;In this example the device at the bottom has raised my suspicions as it is not one of my devices (tick off your devices and see whats left) and the manufacturer is not a well known brand. For example we found it common to find the likes of Nest heating devices on the network.&lt;/p&gt;
&lt;p&gt;I then use a port scanning app to see what ports (different options to connect to a device) are open on the device. This typically helps me identify the device.&lt;/p&gt;
&lt;p&gt;I used the Android “Network Mapper” app.&lt;/p&gt;
&lt;img data-attachment-id=&quot;505&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/screenshot_20190406_004535_com-android-vending/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=840&quot; data-orig-size=&quot;1073,730&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;1554511589&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;1&amp;quot;}&quot; data-image-title=&quot;screenshot_20190406_004535_com.android.vending&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=840?w=300&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=840?w=840&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-505&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=150 150w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=300 300w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg?w=1024 1024w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_004535_com.android.vending.jpg 1073w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;&lt;p&gt;Once you run the app you need to enter in the IP address of the device you want to port scan. In this case it is 192.168.0.116&lt;/p&gt;
&lt;p&gt;The output of that port scan is below:&lt;/p&gt;
&lt;img data-attachment-id=&quot;506&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/screenshot_20190405_195756_org-kost_-nmap_-android-networkmapper/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=840&quot; data-orig-size=&quot;1079,1726&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;1554511736&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;1&amp;quot;}&quot; data-image-title=&quot;screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=840?w=188&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=840?w=640&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-506&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=94 94w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=188 188w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg?w=640 640w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190405_195756_org.kost_.nmap_.android.networkmapper.jpg 1079w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;&lt;p&gt;The details you are interested in are the Open ports detailed at the bottom of the scan.&lt;/p&gt;
&lt;p&gt;In this example there are 4 ports open: 81, 554, 1935 and 8080 and the port scanner notes the typical service used on these ports.&lt;/p&gt;
&lt;p&gt;You can Google the services and for this one you would discover that RTSP and RTMP services are used to stream video. Any ports that appear with the service HTTP or HTTPS can be attempted to be connected to with your web browser.&lt;/p&gt;
&lt;p&gt;For example here is the output below when I connect to Port 8080 with my web browser:&lt;/p&gt;
&lt;img data-attachment-id=&quot;508&quot; data-permalink=&quot;https://sixfortwelve.wordpress.com/screenshot_20190406_104731_com-android-chrome/&quot; data-orig-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=840&quot; data-orig-size=&quot;1080,2340&quot; data-comments-opened=&quot;1&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;screenshot_20190406_104731_com.android.chrome&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=840?w=138&quot; data-large-file=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=840?w=473&quot; src=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=840&quot; alt=&quot;&quot; class=&quot;wp-image-508&quot; srcset=&quot;https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=840 840w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=69 69w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=138 138w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=768 768w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg?w=473 473w, https://sixfortwelve.files.wordpress.com/2019/04/screenshot_20190406_104731_com.android.chrome.jpg 1080w&quot; sizes=&quot;(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px&quot;/&gt;&lt;p&gt;The important thing to note from the output of the above is the mention of ONVIF. ONVIF is a standardised way of connecting to IP security cameras.&lt;/p&gt;
&lt;p&gt;So, we can be fairly certain that this is a camera. In this instance this is a external camera that we were made aware of.&lt;/p&gt;
&lt;p&gt;In our case finding and accessing the hidden camera was easy because:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;it was on the same nework as the wifi we were given access to&lt;/li&gt;
&lt;li&gt;it was named in the network scan as an “IPCAMERA”&lt;/li&gt;
&lt;li&gt;it had a live stream running on port 80 which could be connect to without requiring authentication (login and password)&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In many cases accessing a hidden camera video stream may require more “invasive” techniques (e.g. password bruteforcing, vulnerability exploitation etc). Essentially hacking the devices to get access. Be aware that this may be illegal.&lt;/p&gt;
&lt;p&gt;So, I hope that has provided some guidance. Just be careful sometimes a little knowledge can get you all paranoid without there actually being an issue.&lt;/p&gt;

&lt;div class=&quot;wpcnt&quot;&gt;
&lt;div class=&quot;wpa wpmrec&quot;&gt;&lt;span class=&quot;wpa-about&quot;&gt;Advertisements&lt;/span&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;jp-post-flair&quot; class=&quot;sharedaddy sd-like-enabled sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;sharedaddy sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Share this:&lt;/h3&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded&quot; id=&quot;like-post-wrapper-127086585-493-5cab6f77912fc&quot; data-src=&quot;//widgets.wp.com/likes/index.html?ver=20190321#blog_id=127086585&amp;amp;post_id=493&amp;amp;origin=sixfortwelve.wordpress.com&amp;amp;obj_id=127086585-493-5cab6f77912fc&quot; data-name=&quot;like-post-frame-127086585-493-5cab6f77912fc&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Like this:&lt;/h3&gt;
&lt;div class=&quot;likes-widget-placeholder post-likes-widget-placeholder&quot;&gt;&lt;span class=&quot;button&quot;&gt;&lt;span&gt;Like&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;loading&quot;&gt;Loading...&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
</description>
<pubDate>Sun, 07 Apr 2019 21:49:40 +0000</pubDate>
<dc:creator>rurban</dc:creator>
<og:type>article</og:type>
<og:title>How to increase your chances of finding a hidden camera</og:title>
<og:url>https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/</og:url>
<og:description>Take note of the title of this blog.  What you read below will give you some additional knowledge that may help you identify a hidden camera but it certainly won’t guarantee that. We got lucky…</og:description>
<og:image>https://sixfortwelve.files.wordpress.com/2019/04/017-ss-ai-bw_4__56832__16513.1515182170.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://sixfortwelve.wordpress.com/2019/04/06/how-to-increase-your-chances-of-finding-a-hidden-camera/</dc:identifier>
</item>
<item>
<title>How to Improve MacBook Pro Performance and Thermals</title>
<link>https://bsid.io/posts/2019/03/how-to-improve-macbook-pro-performance-and-thermals/</link>
<guid isPermaLink="true" >https://bsid.io/posts/2019/03/how-to-improve-macbook-pro-performance-and-thermals/</guid>
<description>&lt;img src=&quot;https://bsid.io/static/images/mymacbook.jpg&quot;/&gt; My Macbook Pro Early 2015
&lt;p&gt;I have a Early 2015 MacBook Pro , bought it when I joined engineering It’s a thing of beauty and I love it. Which started to get a bit warmer (may be because Global Warming 😱) when Idle and was reaching high temperature with medium load usually Chrome with few tabs, Spotify, VS Code, Terminal etc. If I said that I could perhaps fry an egg on its surface at times, I don’t think I would be too far from the truth.&lt;/p&gt;&lt;p&gt;The laptop got really, really hot at times and it was affecting performance. When temp rises the fan kicks and starts making noise. Some research on the web confirmed my suspicions that there was indeed a relation between the temperature and performane, always high but strangely never above 90-92C, and the general slowness, in particular with tasks such as video encoding or heavy testing. Apparently, this is due to the CPU throttling that kernel_task in Mac OS operates to prevent heat from damaging the hardware.&lt;/p&gt;
&lt;p&gt;From personal experience, I am aware that heat issues on laptops are often caused by a poor application of the stock thermal paste (also known as “thermal interface material” or TIM), provided that the cooling system is functioning. The reason is simple: the thermal paste – as the name suggests – is supposed to facilitate the transfer of the heat from the CPU/GPU to the heatsink. This only works efficiently, though, if a very thin layer of thermal paste is applied between CPU and heatsink in such a way that minimises the chance of creating “air bubbles” (air has a bad thermal conductivity). So the problem is that very often, the stock thermal paste is applied in factories in ridiculously large amounts, that often spread out of the die of the CPU and that most certainly achieve the opposite effect by slowing down, instead of facilitating, the transfer of heat from CPU to heatsink. Sadly, Apple doesn’t seem to be any different from other manufacturers from this point of view, despite the higher prices and the generally wonderful design and construction quality. Plus, often the stock thermal paste used by some manufacturers is quite cheap, and not based on some very efficient thermally conductive material.&lt;/p&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookproc.jpg&quot;/&gt; Dried Factory Thermal Paste
&lt;p&gt;Disassembling the laptop, removing the thermal paste and reapplying it, then reassembling the laptop… obviously doesn’t fit in Apple’s description of “user replaceable parts” (only hard drives and memory can be replaced / upgraded on Macbook Pros by the owner without affecting the warranty).&lt;/p&gt;
&lt;p&gt;I purchased the best reviewd thermal paste available at the moment, &lt;a href=&quot;https://amzn.to/2OovPl4&quot; target=&quot;_blank&quot;&gt;Arctic Silver 5 Thermal Compound 3.5G&lt;/a&gt; – you can find a small syringe on Amazon for a 750. Here’s how the syringe looks like:&lt;/p&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbooktherm.jpg&quot;/&gt; Arctic Silver 5 Thermal Compound 3.5G Rs.740.00
&lt;p&gt;If you are experiencing the same kind of heat-related issues with your own MBP, and want to try and reapply the thermal paste – provided you are well aware that this will virtually void the warranty, if any – I’d recommend you to get some proper screw drivers first. I don’t have any particular set of tools with me, So I had to order a Special Screw Driver to open back plate&lt;/p&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookscrew.png&quot;/&gt; 1.2 Pentalobe Screwdriver Rs.349.00
&lt;p&gt;I used Isopropanol – and some lint free cloth to properly clean both the CPU and the GPU after removing the old thermal paste and before reapplying the new one:&lt;/p&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookiso.jpg&quot;/&gt; ISO PROPYL ALCOHOL 99% Pure
&lt;p&gt;Besides tools, you obviously need to be a little patient and have steady hands if you go the same route and want to reapply the thermal paste. It’s not a really complicated operation, but – perhaps needless to say – you must be very careful. And did I mention that this will void your warranty, if any? (I warned you)&lt;/p&gt;
&lt;p&gt;Before jumping to the results, here’s a few more pics of my laptop while I disassembled, so that you can get an idea of what to expect from the inside if you have never opened a MBP – if you aren’t sure of how to remove the back cover of your MBP, please stop here 🙂&lt;/p&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookdust.jpg&quot;/&gt; Dusty
&lt;p&gt;You can see that my laptop was quite dusty inside. This is kinda important: because reapplying the thermal paste will void your warranty, I recommend you first try by cleaning up all the dust especially from the fans. If too much dust and dirt is preventing the regular air flow, you might be shocked to see the difference that just cleaning the fans might make with regards to the temperatures! In my case I saw a drop of 2C or even more just after cleaning the fans.&lt;/p&gt;
&lt;h2 id=&quot;before&quot;&gt;Before…&lt;/h2&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookdry.jpg&quot;/&gt; Dried Stock Thermal Paste
&lt;h2 id=&quot;after&quot;&gt;After…&lt;/h2&gt;
&lt;img src=&quot;https://bsid.io/static/images/mymacbookclean.jpeg&quot;/&gt; Shiny and New
&lt;h2 id=&quot;amazing-results&quot;&gt;Amazing results!&lt;/h2&gt;
&lt;p&gt;Reapplying the thermal paste can yield different results depending on various factors (how good the stock paste is, how well or badly it has been applied, which other thermal paste you want to replace it with, and how well you apply it). In my case, the results were pretty amazing!&lt;/p&gt;
&lt;h3 id=&quot;heavy-load&quot;&gt;Heavy Load&lt;/h3&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Test Case&lt;/th&gt;
&lt;th&gt;Temp&lt;/th&gt;
&lt;th&gt;Power&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Before&lt;/td&gt;
&lt;td&gt;88.3 C&lt;/td&gt;
&lt;td&gt;22.17 Watts&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;After&lt;/td&gt;
&lt;td&gt;82.7 C&lt;/td&gt;
&lt;td&gt;21.82 Watts&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3 id=&quot;idle&quot;&gt;Idle&lt;/h3&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Test Case&lt;/th&gt;
&lt;th&gt;Temp&lt;/th&gt;
&lt;th&gt;Power&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Before&lt;/td&gt;
&lt;td&gt;45.8 C&lt;/td&gt;
&lt;td&gt;3.1 Watts&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;After&lt;/td&gt;
&lt;td&gt;41 C&lt;/td&gt;
&lt;td&gt;1.5 Watts&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;This is a massive improvement. My laptop feels a lot snappier now, it almost feels like a CPU upgrade and it is finally almost silent when I do anything other than video encoding. I am definitely happy about the improvement and would definitely recommend the same “fix” to others who may be experiencing the same issues. It’s cheap, it doesn’t take longer than 30 minutes overall and you just need to be a little careful. Remember about the warranty though!&lt;/p&gt;
&lt;p&gt;Update 08/04/2019 Opening the base plate doesn’t void warranty [1] [1] &lt;a href=&quot;https://www.reddit.com/r/apple/comments/3zix1f/does_this_void_a_macbook_pros_warranty/&quot; target=&quot;_blank&quot;&gt;https://www.reddit.com/r/apple/comments/3zix1f/does_this_void_a_macbook_pros_warranty/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Images from tests -&lt;/p&gt;
&lt;h2 id=&quot;heavy-load-1&quot;&gt;Heavy Load&lt;/h2&gt;
&lt;h3 id=&quot;before-1&quot;&gt;Before&lt;/h3&gt;
&lt;p&gt;with load &lt;img src=&quot;https://bsid.io/static/images/testload.png&quot; alt=&quot;&quot;/&gt; idle &lt;img src=&quot;https://bsid.io/static/images/testidle.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;after-1&quot;&gt;After&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://bsid.io/static/images/testafterload.png&quot; alt=&quot;&quot;/&gt; idle &lt;img src=&quot;https://bsid.io/static/images/testafteridle.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 07 Apr 2019 20:00:50 +0000</pubDate>
<dc:creator>jseliger</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://bsid.io/posts/2019/03/how-to-improve-macbook-pro-performance-and-thermals/</dc:identifier>
</item>
<item>
<title>Prisma – Database tools for modern application development</title>
<link>https://www.prisma.io/</link>
<guid isPermaLink="true" >https://www.prisma.io/</guid>
<description>&lt;h3 class=&quot;Section__Heading3-sc-9llphx-2 dXHwew&quot;&gt;Building a GraphQL server with Prisma&lt;/h3&gt;
&lt;p class=&quot;Section__Description-sc-9llphx-4 ibWLhV&quot;&gt;Prisma makes it easy to implement GraphQL servers. Learn how to use the Prisma client to access your database inside your resolvers.&lt;/p&gt;

&lt;ul readability=&quot;0.93103448275862&quot;&gt;&lt;li class=&quot;FeatureListItem__Wrapper-sc-1ozxdtz-0 hbglIn&quot; readability=&quot;-1&quot;&gt;
&lt;p&gt;Solves N+1 Problem with built-in dataloader&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;FeatureListItem__Wrapper-sc-1ozxdtz-0 hbglIn&quot; readability=&quot;1&quot;&gt;
&lt;p&gt;No boilerplate for CRUD, filters, pagination &amp;amp; more&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;FeatureListItem__Wrapper-sc-1ozxdtz-0 hbglIn&quot; readability=&quot;-1&quot;&gt;
&lt;p&gt;Easily implement GraphQL subscriptions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;

&lt;a class=&quot;Buttons__PrimaryButton-sc-1buxojb-0-Link dTWvet&quot; href=&quot;https://www.prisma.io/with-graphql&quot;&gt;Learn More&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Sun, 07 Apr 2019 17:19:50 +0000</pubDate>
<dc:creator>octosphere</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.prisma.io/</dc:identifier>
</item>
<item>
<title>Fast Directory Listing on Linux</title>
<link>https://github.com/romkatv/gitstatus/blob/master/docs/listdir.md</link>
<guid isPermaLink="true" >https://github.com/romkatv/gitstatus/blob/master/docs/listdir.md</guid>
<description>
&lt;p&gt;In order to find untracked files in a git repository, &lt;a href=&quot;https://github.com/romkatv/gitstatus&quot;&gt;gitstatusd&lt;/a&gt; needs to list the contents of every directory. gitstatusd does it 27% faster than a reasonable implementation that a seasoned C/C++ practitioner might write. This document explains the optimizations that went into it. As directory listing is a common operation, many other projects can benefit from applying these optimizations.&lt;/p&gt;
&lt;h2&gt;v1&lt;/h2&gt;
&lt;p&gt;Given a path to a directory, &lt;code&gt;ListDir()&lt;/code&gt; must produce the list of files in that directory. Moreover, the list must be sorted lexicographically to enable fast comparison with the index.&lt;/p&gt;
&lt;p&gt;The following C++ implementation gets the job done. For simplicity, it returns an empty list on error.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
vector&amp;lt;string&amp;gt; &lt;span class=&quot;pl-en&quot;&gt;ListDir&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* dirname) {
  vector&amp;lt;string&amp;gt; entries;
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (DIR* dir = &lt;span class=&quot;pl-c1&quot;&gt;opendir&lt;/span&gt;(dirname)) {
    &lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;dirent&lt;/span&gt;* ent = (errno = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;readdir&lt;/span&gt;(dir))) {
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;Dots&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;)) entries.&lt;span class=&quot;pl-c1&quot;&gt;push_back&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;);
    }
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (errno) entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
    &lt;span class=&quot;pl-c1&quot;&gt;sort&lt;/span&gt;(entries.&lt;span class=&quot;pl-c1&quot;&gt;begin&lt;/span&gt;(), entries.&lt;span class=&quot;pl-c1&quot;&gt;end&lt;/span&gt;());
    &lt;span class=&quot;pl-c1&quot;&gt;closedir&lt;/span&gt;(dir);
  }
  &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; entries;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Every directory has entries &lt;code&gt;&quot;.&quot;&lt;/code&gt; and &lt;code&gt;&quot;..&quot;&lt;/code&gt;, which we aren't interested in. We filter them out with a helper function &lt;code&gt;Dots()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;Dots&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* s) { &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; s[&lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;.&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt; &amp;amp;&amp;amp; (!s[&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;] || (s[&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;.&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt; &amp;amp;&amp;amp; !s[&lt;span class=&quot;pl-c1&quot;&gt;2&lt;/span&gt;])); }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To check how fast &lt;code&gt;ListDir()&lt;/code&gt; performs, we can run it many times on a typical directory. One million runs on a directory with 32 files with 16-character names takes 12.7 seconds.&lt;/p&gt;
&lt;h2&gt;v2&lt;/h2&gt;
&lt;p&gt;Experienced C++ practitioners will scoff at our implementation of &lt;code&gt;ListDir()&lt;/code&gt;. If it's meant to be efficient, returning &lt;code&gt;vector&amp;lt;string&amp;gt;&lt;/code&gt; is an unaffordable convenience. To avoid heap allocations we can use a simple arena that will allow us to reuse memory between different &lt;code&gt;ListDir()&lt;/code&gt; calls.&lt;/p&gt;
&lt;p&gt;(Changed and added lines are marked with comments.)&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;ListDir&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* dirname, string&amp;amp; arena, vector&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;&amp;amp; entries) {  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (DIR* dir = &lt;span class=&quot;pl-c1&quot;&gt;opendir&lt;/span&gt;(dirname)) {
    arena.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;dirent&lt;/span&gt;* ent = (errno = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;readdir&lt;/span&gt;(dir))) {
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;Dots&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;)) {
        entries.&lt;span class=&quot;pl-c1&quot;&gt;push_back&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;(arena.&lt;span class=&quot;pl-c1&quot;&gt;size&lt;/span&gt;()));           &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
        arena.&lt;span class=&quot;pl-c1&quot;&gt;append&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;strlen&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;) + &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;);                 &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      }
    }
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (errno) entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
    &lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;amp; p : entries) p = &amp;amp;arena[&lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-c1&quot;&gt;size_t&lt;/span&gt;&amp;gt;(p)];      &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-c1&quot;&gt;sort&lt;/span&gt;(entries.&lt;span class=&quot;pl-c1&quot;&gt;begin&lt;/span&gt;(), entries.&lt;span class=&quot;pl-c1&quot;&gt;end&lt;/span&gt;(),                                   &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
         [](&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* a, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* b) { &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;strcmp&lt;/span&gt;(a, b) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; });   &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-c1&quot;&gt;closedir&lt;/span&gt;(dir);
  }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To make performance comparison easier, we can normalize them relative to the baseline. v1 will get performance score of 100. A twice-as-fast alternative will be 200.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;version&lt;/th&gt;
&lt;th&gt;optimization&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;score&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;v1&lt;/td&gt;
&lt;td&gt;baseline&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;100.0&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;v2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;avoid heap allocations&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;&lt;strong&gt;112.7&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;Avoiding heap allocations makes &lt;code&gt;ListDir()&lt;/code&gt; 12.7% faster. Not bad. As an added bonus, those casts will fend off the occasional frontend developer who accidentally wanders into the codebase.&lt;/p&gt;
&lt;h2&gt;v3&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;opendir()&lt;/code&gt; is an expensive call whose performance is linear in the number of subdirectories in the path because it needs to perform a lookup for every one of them. We can replace it with &lt;code&gt;openat()&lt;/code&gt;, which takes a file descriptor to the parent directory and a name of the subdirectory. Just a single lookup, less CPU time. This optimization assumes that callers already have a descriptor to the parent directory, which is indeed the case for gitstatusd, and is often the case in other applications that traverse filesystem.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;ListDir&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; parent_fd, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* dirname, string&amp;amp; arena, vector&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;&amp;amp; entries) {  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
  &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; dir_fd = &lt;span class=&quot;pl-c1&quot;&gt;openat&lt;/span&gt;(root_fd, dirname, O_NOATIME | O_RDONLY | O_DIRECTORY | O_CLOEXEC);   &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (dir_fd &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;                                                                  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (DIR* dir = &lt;span class=&quot;pl-c1&quot;&gt;fdopendir&lt;/span&gt;(dir_fd)) {
    arena.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
    &lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;dirent&lt;/span&gt;* ent = (errno = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;readdir&lt;/span&gt;(dir))) {
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;Dots&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;)) {
        entries.&lt;span class=&quot;pl-c1&quot;&gt;push_back&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;(arena.&lt;span class=&quot;pl-c1&quot;&gt;size&lt;/span&gt;()));
        arena.&lt;span class=&quot;pl-c1&quot;&gt;append&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;strlen&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;) + &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;);
      }
    }
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (errno) entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
    &lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;amp; p : entries) p = &amp;amp;arena[&lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-c1&quot;&gt;size_t&lt;/span&gt;&amp;gt;(p)];
    &lt;span class=&quot;pl-c1&quot;&gt;sort&lt;/span&gt;(entries.&lt;span class=&quot;pl-c1&quot;&gt;begin&lt;/span&gt;(), entries.&lt;span class=&quot;pl-c1&quot;&gt;end&lt;/span&gt;(),
         [](&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* a, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* b) { &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;strcmp&lt;/span&gt;(a, b) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; });
    &lt;span class=&quot;pl-c1&quot;&gt;closedir&lt;/span&gt;(dir);
  } &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; {                                                                                 &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-c1&quot;&gt;close&lt;/span&gt;(dir_fd);                                                                         &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  }                                                                                        &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is worth about 3.5% in speed.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;version&lt;/th&gt;
&lt;th&gt;optimization&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;score&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;v1&lt;/td&gt;
&lt;td&gt;baseline&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;100.0&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v2&lt;/td&gt;
&lt;td&gt;avoid heap allocations&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;112.7&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;v3&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;open directories with &lt;code&gt;openat()&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;&lt;strong&gt;116.2&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2&gt;v4&lt;/h2&gt;
&lt;p&gt;Copying file names to the arena isn't free but it doesn't seem like we can avoid it. Poking around we can see that the POSIX API we are using is implemented on Linux on top of &lt;code&gt;getdents64&lt;/code&gt; system call. Its documentation isn't very encouraging:&lt;/p&gt;
&lt;pre lang=&quot;text&quot;&gt;
&lt;code&gt;These are not the interfaces you are interested in.  Look at
readdir(3) for the POSIX-conforming C library interface.  This page
documents the bare kernel system call interfaces.

Note: There are no glibc wrappers for these system calls.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Hmm... The API looks like something we can take advantage of, so let's try it anyway.&lt;/p&gt;
&lt;p&gt;First, we'll need a simple &lt;code&gt;Arena&lt;/code&gt; class that can allocate 8KB blocks of memory.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;Arena&lt;/span&gt; {
 &lt;span class=&quot;pl-k&quot;&gt;public:&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;enum&lt;/span&gt; { &lt;span class=&quot;pl-c1&quot;&gt;kBlockSize&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;8&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;10&lt;/span&gt; };

  &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* &lt;span class=&quot;pl-en&quot;&gt;Alloc&lt;/span&gt;() {
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (cur_ == blocks_.&lt;span class=&quot;pl-c1&quot;&gt;size&lt;/span&gt;()) blocks_.&lt;span class=&quot;pl-c1&quot;&gt;emplace_back&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;kBlockSize&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;);
    &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; blocks_[cur_++].&lt;span class=&quot;pl-c1&quot;&gt;data&lt;/span&gt;();
  }

  &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;Clear&lt;/span&gt;() { cur_ = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; }

 &lt;span class=&quot;pl-k&quot;&gt;private:&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;size_t&lt;/span&gt; cur_ = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;;
  vector&amp;lt;string&amp;gt; blocks_;
};
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, we need to define &lt;code&gt;struct dirent64_t&lt;/code&gt; ourselves because there is no wrapper for the system call we are about to use.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;dirent64_t&lt;/span&gt; {
  &lt;span class=&quot;pl-c1&quot;&gt;ino64_t&lt;/span&gt; d_ino;
  &lt;span class=&quot;pl-c1&quot;&gt;off64_t&lt;/span&gt; d_off;
  &lt;span class=&quot;pl-k&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;short&lt;/span&gt; d_reclen;
  &lt;span class=&quot;pl-k&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt; d_type;
  &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt; d_name[];
};
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally we can get to the implementation of &lt;code&gt;ListDir()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;ListDir&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; parent_fd, Arena&amp;amp; arena, vector&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;&amp;amp; entries) {                       &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
  &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; dir_fd = &lt;span class=&quot;pl-c1&quot;&gt;openat&lt;/span&gt;(root_fd, dirname, O_NOATIME | O_RDONLY | O_DIRECTORY | O_CLOEXEC);
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (dir_fd &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;
  arena.&lt;span class=&quot;pl-c1&quot;&gt;Clear&lt;/span&gt;();                                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;) {                                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* buf = arena.&lt;span class=&quot;pl-c1&quot;&gt;Alloc&lt;/span&gt;();                                                            &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; n = &lt;span class=&quot;pl-bu&quot;&gt;syscall&lt;/span&gt;(SYS_getdents64, dir_fd, buf, Arena::&lt;span class=&quot;pl-c1&quot;&gt;kBlockSize&lt;/span&gt;);                      &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (n &amp;lt;= &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) {                                                                         &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (n) entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();                                                             &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      &lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;                                                                              &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    }                                                                                     &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; pos = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; pos &amp;lt; n;) {                                                         &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      &lt;span class=&quot;pl-k&quot;&gt;auto&lt;/span&gt;* ent = &lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-c1&quot;&gt;dirent64_t&lt;/span&gt;*&amp;gt;(buf + pos);                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;Dots&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;)) entries.&lt;span class=&quot;pl-c1&quot;&gt;push_back&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;);                             &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
      pos += ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_reclen&lt;/span&gt;;                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    }                                                                                     &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  }                                                                                       &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;sort&lt;/span&gt;(entries.&lt;span class=&quot;pl-c1&quot;&gt;begin&lt;/span&gt;(), entries.&lt;span class=&quot;pl-c1&quot;&gt;end&lt;/span&gt;(),
       [](&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* a, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* b) { &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;strcmp&lt;/span&gt;(a, b) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; });
  &lt;span class=&quot;pl-c1&quot;&gt;close&lt;/span&gt;(dir_fd);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;How are we doing with this one?&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;version&lt;/th&gt;
&lt;th&gt;optimization&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;score&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;v1&lt;/td&gt;
&lt;td&gt;baseline&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;100.0&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v2&lt;/td&gt;
&lt;td&gt;avoid heap allocations&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;112.7&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v3&lt;/td&gt;
&lt;td&gt;open directories with &lt;code&gt;openat()&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;116.2&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;v4&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;call &lt;code&gt;getdents64()&lt;/code&gt; directly&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;&lt;strong&gt;137.8&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;Solid 20% speedup. Worth the trouble. Unfortunately, we now have just one &lt;code&gt;reinterpret_cast&lt;/code&gt; instead of two, and it's not nearly as scary-looking. Hopefully with the next iteration we can get back some of that evil vibe of low-level code.&lt;/p&gt;
&lt;p&gt;As a bonus, every element in &lt;code&gt;entries&lt;/code&gt; has &lt;code&gt;d_type&lt;/code&gt; at offset -1. This can be useful to the callers that need to distinguish between regular files and directories (gitstatusd, in fact, needs this). Note how &lt;code&gt;ListDir()&lt;/code&gt; implements this feature at zero cost, as a lucky accident of &lt;code&gt;dirent64_t&lt;/code&gt; memory layout.&lt;/p&gt;
&lt;h2&gt;v5&lt;/h2&gt;
&lt;p&gt;The CPU profile of &lt;code&gt;ListDir()&lt;/code&gt; reveals that almost all userspace CPU time is spent in &lt;code&gt;strcmp()&lt;/code&gt;. Digging into the source code of &lt;code&gt;std::sort()&lt;/code&gt; we can see that it uses Insertion Sort for short collections. Our 32-element vector falls under the threshold. Insertion Sort makes &lt;code&gt;O(N^2)&lt;/code&gt; comparisons, hence a lot of CPU time in &lt;code&gt;strcmp()&lt;/code&gt;. Switching to &lt;code&gt;qsort()&lt;/code&gt; or &lt;a href=&quot;https://en.wikipedia.org/wiki/Timsort&quot; rel=&quot;nofollow&quot;&gt;Timsort&lt;/a&gt; is of no use as all good sorting algorithms fall back to Insertion Sort.&lt;/p&gt;
&lt;p&gt;If we cannot make fewer comparisons, perhaps we can make each of them faster? &lt;code&gt;strcmp()&lt;/code&gt; compares characters one at a time. It cannot read ahead as it can be illegal to touch memory past the first null byte. But &lt;em&gt;we&lt;/em&gt; know that it's safe to read a few extra bytes past the end of &lt;code&gt;d_name&lt;/code&gt; for every entry except the last in the buffer. And since we own the buffer, we can overallocate it so that reading past the end of the last entry is also safe.&lt;/p&gt;
&lt;p&gt;Combining these ideas with the fact that file names on Linux are at most 255 bytes long, we can invoke &lt;code&gt;getdents64()&lt;/code&gt; like this:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; n = syscall(SYS_getdents64, dir_fd, buf, Arena::&lt;span class=&quot;pl-c1&quot;&gt;kBlockSize&lt;/span&gt; - &lt;span class=&quot;pl-c1&quot;&gt;256&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And then compare entries like this:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
[](&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* a, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* b) { &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;memcmp&lt;/span&gt;(a, b, &lt;span class=&quot;pl-c1&quot;&gt;255&lt;/span&gt;) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This version doesn't give any speedup compared to the previous but it opens an avenue for another optimization. The pointers we pass to &lt;code&gt;memcmp()&lt;/code&gt; aren't aligned. To be more specific, their numerical values are &lt;code&gt;N * 8 + 3&lt;/code&gt; for some &lt;code&gt;N&lt;/code&gt;. When given such a pointer, &lt;code&gt;memcmp()&lt;/code&gt; will check the first 5 bytes one by one, and only then switch to comparing 8 bytes at a time. If we can handle the first 5 bytes ourselves, we can pass aligned memory to &lt;code&gt;memcmp()&lt;/code&gt; and take full advantage of its vectorized loop.&lt;/p&gt;
&lt;p&gt;Here's the implementation:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-c++&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;pl-c1&quot;&gt;uint64_t&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;Read64&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt;* p) {                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;uint64_t&lt;/span&gt; x;                                                                             &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;memcpy&lt;/span&gt;(&amp;amp;x, p, &lt;span class=&quot;pl-k&quot;&gt;sizeof&lt;/span&gt;(x));                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; x;                                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
}                                                                                         &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;

&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;ByteSwap64&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt;* p) {                                                                &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;uint64_t&lt;/span&gt; x = &lt;span class=&quot;pl-c1&quot;&gt;__builtin_bswap64&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;Read64&lt;/span&gt;(p));                                              &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;memcpy&lt;/span&gt;(p, &amp;amp;x, &lt;span class=&quot;pl-k&quot;&gt;sizeof&lt;/span&gt;(x));                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
}                                                                                         &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;

&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;ListDir&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; parent_fd, Arena&amp;amp; arena, vector&amp;lt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;*&amp;gt;&amp;amp; entries) {
  entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
  &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; dir_fd = &lt;span class=&quot;pl-c1&quot;&gt;openat&lt;/span&gt;(root_fd, dirname, O_NOATIME | O_RDONLY | O_DIRECTORY | O_CLOEXEC);
  &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (dir_fd &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;
  arena.&lt;span class=&quot;pl-c1&quot;&gt;Clear&lt;/span&gt;();
  &lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;) {
    &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* buf = arena.&lt;span class=&quot;pl-c1&quot;&gt;Alloc&lt;/span&gt;();
    &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; n = &lt;span class=&quot;pl-bu&quot;&gt;syscall&lt;/span&gt;(SYS_getdents64, dir_fd, buf, Arena::&lt;span class=&quot;pl-c1&quot;&gt;kBlockSize&lt;/span&gt; - &lt;span class=&quot;pl-c1&quot;&gt;256&lt;/span&gt;);                &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (n &amp;lt;= &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) {
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (n) entries.&lt;span class=&quot;pl-c1&quot;&gt;clear&lt;/span&gt;();
      &lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;
    }
    &lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; pos = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; pos &amp;lt; n;) {
      &lt;span class=&quot;pl-k&quot;&gt;auto&lt;/span&gt;* ent = &lt;span class=&quot;pl-k&quot;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;&lt;span class=&quot;pl-c1&quot;&gt;dirent64_t&lt;/span&gt;*&amp;gt;(buf + pos);
      &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;Dots&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;)) {
        &lt;span class=&quot;pl-c1&quot;&gt;ByteSwap64&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;);                                                          &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
        entries.&lt;span class=&quot;pl-c1&quot;&gt;push_back&lt;/span&gt;(ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_name&lt;/span&gt;);
      }
      pos += ent-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;d_reclen&lt;/span&gt;;
    }
  }
  &lt;span class=&quot;pl-c1&quot;&gt;sort&lt;/span&gt;(entries.&lt;span class=&quot;pl-c1&quot;&gt;begin&lt;/span&gt;(), entries.&lt;span class=&quot;pl-c1&quot;&gt;end&lt;/span&gt;(), [](&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* a, &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* b) {
    &lt;span class=&quot;pl-c1&quot;&gt;uint64_t&lt;/span&gt; x = &lt;span class=&quot;pl-c1&quot;&gt;Read64&lt;/span&gt;(a);                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-c1&quot;&gt;uint64_t&lt;/span&gt; y = &lt;span class=&quot;pl-c1&quot;&gt;Read64&lt;/span&gt;(b);                                                               &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
    &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; x &amp;lt; y || (x == y &amp;amp;&amp;amp; a != b &amp;amp;&amp;amp; &lt;span class=&quot;pl-c1&quot;&gt;memcmp&lt;/span&gt;(a + &lt;span class=&quot;pl-c1&quot;&gt;5&lt;/span&gt;, b + &lt;span class=&quot;pl-c1&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;256&lt;/span&gt;) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;);                  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  });
  &lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt;* p : entries) &lt;span class=&quot;pl-c1&quot;&gt;ByteSwap64&lt;/span&gt;(p);                                                  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; +&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;close&lt;/span&gt;(dir_fd);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is for Little Endian architecture. Big Endian doesn't need &lt;code&gt;ByteSwap64()&lt;/code&gt;, so it'll be a bit faster.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;version&lt;/th&gt;
&lt;th&gt;optimization&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;score&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;v1&lt;/td&gt;
&lt;td&gt;baseline&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;100.0&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v2&lt;/td&gt;
&lt;td&gt;avoid heap allocations&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;112.7&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v3&lt;/td&gt;
&lt;td&gt;open directories with &lt;code&gt;openat()&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;116.2&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;v4&lt;/td&gt;
&lt;td&gt;call &lt;code&gt;getdents64()&lt;/code&gt; directly&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;137.8&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;v5&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;hand-optimize &lt;code&gt;strcmp()&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;&lt;strong&gt;143.3&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;Fast and respectably arcane.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Through a series of incremental improvements we've sped up directory listing by 43.3% compared to a naive implementation (v1) and 27.2% compared to a reasonable implementation that a seasoned C/C++ practitioner might write (v2).&lt;/p&gt;
&lt;p&gt;However, these numbers are based on an artificial benchmarks while the real judge is always the real code. Our goal was to speed up gitstatusd. Benchmark was just a tool. Thankfully, the different versions of &lt;code&gt;ListDir()&lt;/code&gt; have the same comparative performance within gitstatusd as in the benchmark. In truth, the directory chosen for the benchmark wasn't arbitrary. It was picked by sampling gitstatusd when it runs on &lt;a href=&quot;https://github.com/chromium/chromium&quot;&gt;chromium&lt;/a&gt; git repository.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ListDir()&lt;/code&gt; spends 97% of its CPU time in the kernel. If we assume that it makes the minimum possible number of system calls and these calls are optimal, it puts the upper bound on possible future performance improvements at just 3%.&lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://raw.githubusercontent.com/romkatv/gitstatus/master/docs/cpu-profile-listdir.png&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/romkatv/gitstatus/master/docs/cpu-profile-listdir.png&quot; alt=&quot;ListDir() CPU profile&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(The CPU profile was created with &lt;a href=&quot;https://github.com/gperftools/gperftools&quot;&gt;gperftools&lt;/a&gt; and rendered with &lt;a href=&quot;https://github.com/google/pprof&quot;&gt;pprof&lt;/a&gt;).&lt;/p&gt;
</description>
<pubDate>Sun, 07 Apr 2019 15:41:22 +0000</pubDate>
<dc:creator>romka2</dc:creator>
<og:image>https://avatars0.githubusercontent.com/u/1282067?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>romkatv/gitstatus</og:title>
<og:url>https://github.com/romkatv/gitstatus</og:url>
<og:description>10x faster implementation of `git status` command. Contribute to romkatv/gitstatus development by creating an account on GitHub.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://github.com/romkatv/gitstatus/blob/master/docs/listdir.md</dc:identifier>
</item>
</channel>
</rss>