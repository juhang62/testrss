<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Amsterdam displaces London as Europe&amp;#039;s top stocks centre after Brexit</title>
<link>https://www.reuters.com/article/us-britain-eu-markets/amsterdam-displaces-london-as-europes-top-stocks-centre-after-brexit-idUSKBN2AB0I8</link>
<guid isPermaLink="true" >https://www.reuters.com/article/us-britain-eu-markets/amsterdam-displaces-london-as-europes-top-stocks-centre-after-brexit-idUSKBN2AB0I8</guid>
<description>&lt;div class=&quot;ArticleBody-byline-container-3H6dy&quot;&gt;
&lt;p class=&quot;Byline-byline-1sVmo ArticleBody-byline-10B7D&quot;&gt;By &lt;a class=&quot;TextLabel__text-label___3oCVw TextLabel__black-to-orange___23uc0 TextLabel__serif___3lOpX Byline-author-2BSir&quot; href=&quot;https://www.reuters.com/journalists/huw-jones&quot; target=&quot;_blank&quot;&gt;Huw Jones&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;ArticleBody-read-time-and-social-2VOIr&quot;&gt;
&lt;p class=&quot;TextLabel__text-label___3oCVw TextLabel__gray___1V4fk TextLabel__small-all-caps-spaced-out___3O9H4 ReadTime-read-time-1s3CG ArticleBody-read-time-29pGN&quot;&gt;5 Min Read&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;LONDON (Reuters) - Amsterdam has displaced London as Europe’s biggest share trading centre after Britain left the European Union’s single market, and picked up a chunk of UK derivatives business along the way, according to data published on Thursday.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Stock exchanges in the Dutch capital traded 9.2 billion euros ($11.15 billion) a day in January, compared to London’s 8.6 billion, according to the Cboe exchange, which operates in both cities.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;This compares with an average of 17.5 billion euros traded daily in London during 2020, when Frankfurt was second with 5.9 billion and Amsterdam sixth at 2.6 billion, Cboe said.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The City of London had long warned of the consequences of leaving the EU single market without adequate provisions for trade in services, and notably finance, which accounted for more than 10% of UK tax receipts before Brexit.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The EU’s securities watchdog ESMA said on Thursday the shift of share trading from London to the bloc is permanent.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The EU has shown no sign of reversing its position that euro-denominated shares must be traded in the EU - whose internal market Britain left on Jan. 1.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The gap may narrow, however, as trading in Swiss shares resumed in Britain this month. It is averaging 250 million euros and is expected to build up towards over a billion euros a day - the level reached before trading of Swiss shares in London stopped in June 2019.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Separate data published on Thursday showed how chunks of trading in euro-denominated interest rate swaps have shifted from London, the world’s biggest swaps trading centre, to platforms in the EU and New York since January.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Platforms in Amsterdam, and to a much lesser extent Paris, accounted for a quarter of the euro rate swaps market in January, up from just 10% last July, IHS Markit said.&lt;/p&gt;
&lt;div class=&quot;RelatedCoverage-container-3AnSP ArticleBody-related-coverage-7S2f1&quot;&gt;
&lt;p class=&quot;TextLabel__text-label___3oCVw TextLabel__gray___1V4fk TextLabel__small-all-caps___2Z2RG&quot;&gt;Related Coverage&lt;/p&gt;

&lt;button class=&quot;RelatedCoverage-show-all-button-5XWJe&quot;&gt;
&lt;p class=&quot;TextLabel__text-label___3oCVw TextLabel__blue-to-orange___1SFN2 TextLabel__regular___2X0ym RelatedCoverage-text-c3wuC&quot;&gt;See more stories&lt;/p&gt;
&lt;/button&gt;&lt;/div&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Over the same period, London’s share fell from just under 40% to just over 10%, with U.S. platforms doubling volumes to 20% of the total euro swaps market.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;‘PROGRESSIVE EQUIVALENCE DISCUSSIONS’&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;As with shares, the swaps market has been fragmented by Brussels “obliging” EU-based firms to trade interest rate swaps and credit default swaps either on a platform inside the bloc, or in a non-EU country whose platforms have been approved for use, such as the United States.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;London has not yet secured that “equivalence” because Brussels says it needs information about Britain’s intentions to diverge from EU rules.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Prime Minister Boris Johnson’s spokesman said London had already supplied the necessary paperwork and was “one of the world’s most pre-eminent financial centres, with a strong regulatory system”, adding that fragmenting markets was in no one’s interests.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The EU’s financial services chief Mairead McGuinness said on Thursday the bloc will discuss equivalence with Britain “progressively” and take into account its intentions regarding rules on a case-by-case basis, but there “cannot be equivalence and wide divergence”.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;One of her senior officials has said the three-way split between Britain, the EU and United States in swaps due to the EU “derivatives trading obligation” or DTO will not be reversed.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;“For the foreseeable future, all three jurisdictions will have trading venues that offer all currencies in such volumes that keep the DTO in all currencies,” Tilman Lueder, head of securities markets at the EU executive, told a Bloomberg event.&lt;/p&gt;

&lt;p&gt;FILE PHOTO: Overview of Amsterdam's stock exchange interior as Prosus begins trading on the Euronext stock exchange in Amsterdam, Netherlands, September 11, 2019. REUTERS/Piroschka van de Wouw/File Photo&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;“The three-way liquidity split is going to stabilise.”&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The Bank for International Settlements says the gross market value of euro rate swaps in the first half of last year was the equivalent of $5.2 trillion.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Brussels had been clear that it wanted euro-denominated financial activity shifted from London to build up its own capital market and have direct supervision.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Over 6 billion euros in daily trading left London on Jan. 4 for EU-based platforms.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The rise of Amsterdam, home to the world’s oldest stock exchange, had been well flagged as pan-European share platforms - Cboe and London Stock Exchange’s Turquoise in London - began preparing to open in the Amsterdam after Britain voted in 2016 to leave the EU.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The ICE exchange announced this week that trading in EU carbon emissions worth a billion euros daily will move from London to the Dutch city during the second quarter.&lt;/p&gt;
&lt;h2 class=&quot;Headline-headline-2FXIq Headline-black-OogpV ArticleBody-heading-3h695&quot;&gt;($1 = 0.8251&lt;/h2&gt;
&lt;div readability=&quot;5.8383233532934&quot;&gt;
&lt;div class=&quot;Attribution-attribution-Y5JpY&quot; readability=&quot;8&quot;&gt;
&lt;p&gt;Additional reporting by Padraic Halpin in Dublin; Editing by Timothy Heritage and Kevin Liffey and Kirsten Donovan&lt;/p&gt;
&lt;/div&gt;

&lt;/div&gt;
</description>
<pubDate>Thu, 11 Feb 2021 20:33:28 +0000</pubDate>
<dc:creator>Someone</dc:creator>
<og:title>Amsterdam displaces London as Europe's top stocks centre after Brexit</og:title>
<og:description>Amsterdam has displaced London as Europe's biggest share trading centre after Britain left the European Union's single market, and picked up a chunk of UK derivatives business along the way, according to data published on Thursday.</og:description>
<og:image>https://static.reuters.com/resources/r/?m=02&amp;d=20210211&amp;t=2&amp;i=1551142535&amp;r=LYNXMPEH1A0CN&amp;w=800</og:image>
<og:url>https://www.reuters.com/article/uk-britain-eu-markets-idUSKBN2AB0IO</og:url>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.reuters.com/article/us-britain-eu-markets/amsterdam-displaces-london-as-europes-top-stocks-centre-after-brexit-idUSKBN2AB0I8</dc:identifier>
</item>
<item>
<title>Kubernetes Failure Stories</title>
<link>https://k8s.af</link>
<guid isPermaLink="true" >https://k8s.af</guid>
<description>&lt;p&gt;A compiled list of links to public failure stories related to Kubernetes. Most recent publications on top.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://prometheuskube.com/why-we-switched-from-fluent-bit-to-fluentd-in-2-hours&quot;&gt;Why we switched from fluent-bit to Fluentd in 2 hours - PrometheusKube - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: fluent-bit, missing logs, Fluentd&lt;/li&gt;
&lt;li&gt;impact: lost application logs in production&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://erickhun.com/posts/kubernetes-faster-services-no-cpu-limits/&quot;&gt;Make your services faster by removing CPU limits - Buffer - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: kops, CPU Limit, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: high latency&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://yashmehrotra.com/post/2020-03-16-case-of-missing-packet/&quot;&gt;The case of the missing packet: An EKS migration tale - MindTickle - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: EKS, AWS CNI Plugin,&lt;/li&gt;
&lt;li&gt;impact: frequent connection failures when talking to services outside the cluster&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://deploy.live/blog/kubernetes-networking-problems-due-to-the-conntrack/&quot;&gt;Kubernetes Networking Problems Due to the Conntrack - loveholidays - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, conntrack, HAProxy&lt;/li&gt;
&lt;li&gt;impact: high error rate on network-heavy services&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/preply-engineering/dns-postmortem-e169efd45afd&quot;&gt;DNS issues in Kubernetes. Public postmortem #1 - Preply - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: conntrack, DNS, CoreDNS-autoscaler&lt;/li&gt;
&lt;li&gt;impact: partial production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/omio-engineering/cpu-limits-and-aggressive-throttling-in-kubernetes-c5b20bd8a718&quot;&gt;CPU limits and aggressive throttling in Kubernetes - Omio - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, CPU Limit, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: high latency, errors&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://deploy.live/blog/when-gke-ran-out-of-ip-addresses/&quot;&gt;When GKE ran out of IP addresses - loveholidays - blog post 2020&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, cluster autoscaler, HPA, Alias IP VPC (VPC Native)&lt;/li&gt;
&lt;li&gt;impact: stuck deployment, blocked autoscaling of both pods and nodes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@jakubkulich/sailing-with-the-istio-through-the-shallow-water-8ae81668381e&quot;&gt;How we failed to integrate Istio into our platform - Exponea - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Istio, GKE, proxy injection&lt;/li&gt;
&lt;li&gt;impact: stopped Istio rollout, developers' time spent&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://srvaroa.github.io/kubernetes/migration/latency/dns/java/aws/microservices/2019/10/22/kubernetes-added-a-0-to-my-latency.html&quot;&gt;Kubernetes made my latency 10x higher - Adevinta - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: KIAM, DNS, AWS IAM, latency&lt;/li&gt;
&lt;li&gt;impact: service showing up to x10 higher latencies compared to a deployment in EC2&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pieterlange.github.io/failure-stories/2019-06.dex.html&quot;&gt;A Kubernetes failure story (dex) - anonymous Fullstaq client - Dutch kubernetes meetup slides 2019-06&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: etcd, apiserver, dex, custom resources&lt;/li&gt;
&lt;li&gt;impact: broken control plane on production with no access to o11y due to broken authentication system, no actual business impact&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/jw-player-engineering/how-a-cryptocurrency-miner-made-its-way-onto-our-internal-kubernetes-clusters-9b09c4704205&quot;&gt;How A Cryptocurrency Miner Made Its Way onto Our Internal Kubernetes Clusters - JW Player - Medium post March 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Weave Scope, public AWS ELB&lt;/li&gt;
&lt;li&gt;impact: security issue, cryptominer stealing compute power&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://engineering.prezi.com/https-engineering-prezi-com-a-kubernetes-crime-story-2e8d75a77630&quot;&gt;A Kubernetes crime story - Prezi - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS EKS, SNAT, conntrack, Amazon VPC CNI plugin&lt;/li&gt;
&lt;li&gt;impact: delay of 1-3 seconds for outgoing TCP connections&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/freenowtech/postmortems/blob/master/2019-09-19%20-%20New%20K8s%20workers%20unable%20to%20join%20cluster.pdf&quot;&gt;Postmortem: New K8s workers unable to join cluster - FREE NOW - postmortem 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS spot instances, kops, CentOS, container-selinux&lt;/li&gt;
&lt;li&gt;impact: insufficient cluster capacity in testing environments, failed deployments in production and staging environments&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.jetstack.io/blog/gke-webhook-outage&quot;&gt;How a simple admission webhook lead to a cluster outage - Jetstack - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: ValidatingWebhookConfiguration, GKE node auto-repair&lt;/li&gt;
&lt;li&gt;impact: prolonged downtime of non-prod environment, nodes lost, failed master upgrade&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bluematador.com/blog/post-mortem-kubernetes-node-oom&quot;&gt;Post Mortem: Kubernetes Node OOM - Blue Matador - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, SystemOOM, EBS, fluentd-sumologic, no resource requests/limits&lt;/li&gt;
&lt;li&gt;impact: unknown, Pods killed&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://philpearl.github.io/post/k8s_ingress/&quot;&gt;Kubernetes’ dirty endpoint secret and Ingress - Ravelin - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, Ingress, replication controller, SIGTERM, &quot;graceful shutdown&quot;&lt;/li&gt;
&lt;li&gt;impact: occasional 502 errors&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://grafana.com/blog/2019/07/24/how-a-production-outage-was-caused-using-kubernetes-pod-priorities/&quot;&gt;How a Production Outage Was Caused Using Kubernetes Pod Priorities - Grafana Labs 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Pod priorities&lt;/li&gt;
&lt;li&gt;impact: cascading Pod evictions&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=MoIdU0J0f0E&quot;&gt;Moving to Kubernetes: the Bad and the Ugly - Xing - ContainerDays EU 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: nginx Ingress, network interrupts, conntrack, frozen CronJob, PLEG, stuck controllers&lt;/li&gt;
&lt;li&gt;impact: lost requests, response time jumps, not ready nodes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=LpFApeaGv7A&quot;&gt;Kubernetes Failure Stories, or: How to Crash Your Cluster - Zalando - ContainerDays EU 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS IAM, Kubelet, &lt;code&gt;--kube-api-qps&lt;/code&gt;, Skipper-Ingress, AWS, &lt;code&gt;OOMKill&lt;/code&gt;, CronJob, CoreDNS, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: build errors, production outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zalando-incubator/kubernetes-on-aws/blob/dev/docs/postmortems/jun-2019-kubelet-qps.md&quot;&gt;Build Errors of Continuous Delivery Platform - Zalando - postmortem 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS IAM, Kubelet, kube2iam, &lt;code&gt;--kube-api-qps&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;impact: build errors&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=QKI-JRs2RIE&quot;&gt;10 Ways to Shoot Yourself in the Foot with Kubernetes, #9 Will Surprise You - Datadog - KubeCon Barcelona 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: CoreDNS, &lt;code&gt;ndots:5&lt;/code&gt;, IPVS conntrack, &lt;code&gt;imagePullPolicy: Always&lt;/code&gt;, DaemonSet, NAT instances, &lt;code&gt;latest&lt;/code&gt; tag, API server &lt;code&gt;OOMKill&lt;/code&gt;, kube2iam, cluster-autoscaler, PodPriority, audit logs, &lt;code&gt;spec.replicas&lt;/code&gt;, AWS ASG rebalance, CronJob, Pod toleration, zombies, &lt;code&gt;readinessProbe.exec&lt;/code&gt;, cgroup freeze, kubectl&lt;/li&gt;
&lt;li&gt;impact: unknown, API server outage, pending pods, slow deployments&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=ix0Tw8uinWs&quot;&gt;How Spotify Accidentally Deleted All its Kube Clusters with No User Impact - Spotify - KubeCon Barcelona 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, cluster deletion, browser tabs, Terraform, global state file, git PRs, GCP permissions&lt;/li&gt;
&lt;li&gt;impact: no impact on end users&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=6sDTB4eV4F8&quot;&gt;Kubernetes Failure Stories - Zalando - KubeCon Barcelona 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Skipper-Ingress, AWS, &lt;code&gt;OOMKill&lt;/code&gt;, high latency, CronJob, CoreDNS, &lt;code&gt;ndots:5&lt;/code&gt;, etcd, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: multiple production outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=8P7-C44Gjj8&quot;&gt;Oh Sh*t! The Config Changed! - Pusher - KubeCon Barcelona 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, nginx, ConfigMap change&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@SkyscannerEng/misunderstanding-the-behaviour-of-one-templating-line-and-the-pain-it-caused-our-k8s-clusters-a420f30a99f1&quot;&gt;Misunderstanding the behaviour of one templating line - Skyscanner - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: HAProxy-Ingress, Service VIPs, Golang templating&lt;/li&gt;
&lt;li&gt;impact: Significantly increased latency, 5XXs thrown from some services&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=Fjyg7cxRZQs&amp;amp;list=PLuHdbqhRgWHJg9eOFCl5dgLvVjd_DFz8O&amp;amp;index=3&amp;amp;t=0s&quot;&gt;How to kill the Algolia dashboard during Black Friday or How not to use Kubernetes - Algolia - Algolia Search Party 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, Jobs, overload&lt;/li&gt;
&lt;li&gt;impact: high latency, timeouts&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://updates.moonlightwork.com/outage-post-mortem-87370&quot;&gt;All pods scheduled to same failing host - Moonlight - postmortem 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Google Kubernetes Engine, scheduler, anti-affinity rules&lt;/li&gt;
&lt;li&gt;impact: major production outage, 100% traffic loss&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://deploy.live/blog/the-shipwreck-of-gke-cluster-upgrade/&quot;&gt;The shipwreck of GKE Cluster Upgrade - loveholidays - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GCP Ingress, GKE Cluster, nodes&lt;/li&gt;
&lt;li&gt;impact: critical drop in pod availability, loss of ingress, 2 hour maintenance lasting 7 hours&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/civis-analytics/https-medium-com-civis-analytics-breaking-kubernetes-how-we-broke-and-fixed-our-k8s-cluster-adfa6fbade61&quot;&gt;Breaking Kubernetes: How We Broke and Fixed our K8s Cluster - Civis Analytics - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, kops, large clusters, batch jobs infrastructure, Datadog, API server, DNS, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/try_except_/lets-talk-about-failures-with-kubernetes-hamburg-meetup&quot;&gt;Let's talk about Failures with Kubernetes - Zalando - Hamburg meetup 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, &lt;code&gt;NotReady&lt;/code&gt; nodes, ELB dynamic IPs, Ingress, API server, CronJob, CoreDNS, &lt;code&gt;OOMKill&lt;/code&gt;, kubelet memory leak, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: production outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zalando-incubator/kubernetes-on-aws/blob/dev/docs/postmortems/jan-2019-dns-outage.md&quot;&gt;Total DNS outage in Kubernetes cluster - Zalando - postmortem 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, DNS, CoreDNS, &lt;code&gt;OOMKill&lt;/code&gt;, &lt;code&gt;ndots:5&lt;/code&gt;, HTTP retries&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.tibobeijen.nl/2019/02/01/learning-from-kubernetes-cluster-failure/&quot;&gt;Maximize learnings from a Kubernetes cluster failure - NU.nl - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, &lt;code&gt;NotReady&lt;/code&gt; nodes, &lt;code&gt;SystemOOM&lt;/code&gt;, Helm, ElastAlert, no resource limits set&lt;/li&gt;
&lt;li&gt;impact: user experience affected for internally used tools and dashboards&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.devops-hof.de/kubernetes-load-balancer-konfiguration-beware-when-draining-nodes/&quot;&gt;Kubernetes Load Balancer Configuration - Beware when draining nodes - DevOps Hof - blog post 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GCP Load Balancer, &lt;code&gt;externalTrafficPolicy&lt;/code&gt;, ingress-nginx&lt;/li&gt;
&lt;li&gt;impact: total ingress traffic outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@daniel.p.woods/on-infrastructure-at-scale-a-cascading-failure-of-distributed-systems-7cff2a3cd2df&quot;&gt;On Infrastructure at Scale: A Cascading Failure of Distributed Systems - Target - Medium post January 2019&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: on-premise, Kafka, large cluster, Consul, Docker daemon, high CPU usage&lt;/li&gt;
&lt;li&gt;impact: development environment outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=V0DVkrHf08k&quot;&gt;How NOT to do Kubernetes - Sr.SRE Medya Ghazizadeh - Google - Cloud Native Meetup Sep 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: public container registery, ingress wild card, image size, replica count, 12factor&lt;/li&gt;
&lt;li&gt;impact: security, stablity of clusters.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/try_except_/running-kubernetes-in-production-a-million-ways-to-crash-your-cluster-devopscon-munich-2018&quot;&gt;Running Kubernetes in Production: A Million Ways to Crash Your Cluster - Zalando - DevOpsCon Munich 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, Ingress, CronJob, etcd, flannel, Docker, CPU throttling&lt;/li&gt;
&lt;li&gt;impact: production outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://sethmccombs.github.io/work/2018/12/03/Outages.html&quot;&gt;Outages? Downtime? - Veracode - blog post 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, AWS IAM, region migration, kubespray, Terraform, pod CIDR&lt;/li&gt;
&lt;li&gt;impact: QA/dev cluster outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://keepingitclassless.net/2018/12/december-4-nre-labs-outage-post-mortem/&quot;&gt;NRE Labs Outage Post-Mortem - NRE Labs - blog post 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GCP, kubeadm, etcd, Terraform, &lt;code&gt;livenessProbe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.adammargherio.com/a-perfect-dns-storm/&quot;&gt;A Perfect DNS Storm - Toyota Connected - blog post 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Azure, DNS, &lt;code&gt;ndots:5&lt;/code&gt;, Alpine musl libc&lt;/li&gt;
&lt;li&gt;impact: DNS resolution failures&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itnext.io/kubernetes-and-the-menace-elb-the-tale-of-an-outage-c00bef678fc0&quot;&gt;Kubernetes and the Menace ELB, the tale of an outage - Turnitin - blog post 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, kube-aws, ELB dynamic IPs, API server, kubelet, &lt;code&gt;NotReady&lt;/code&gt; nodes&lt;/li&gt;
&lt;li&gt;impact: 15 minutes cluster outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=tA8Sr3Nsx1I&quot;&gt;Moving the Entire Stack to K8s Within a Year – Lessons Learned - ThredUP - DevOpsStage 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, kops, HAProxy, &lt;code&gt;livenessProbe&lt;/code&gt;, DNS, too many open files&lt;/li&gt;
&lt;li&gt;impact: unknown outages, DNS errors&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.airmap.com/incident-180719/&quot;&gt;AirMap Platform Service Outage - AirMap - incident report 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Azure, &lt;code&gt;NotReady&lt;/code&gt; nodes, kubelet PLEG, CNI&lt;/li&gt;
&lt;li&gt;impact: production AirMap platform outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=OUYTNywPk-s&quot;&gt;Anatomy of a Production Kubernetes Outage - Monzo - KubeCon Europe 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, etcd, Linkerd, &lt;code&gt;NullPointerException&lt;/code&gt;, gRPC client, services without endpoints, incompatible Kubernetes API change&lt;/li&gt;
&lt;li&gt;impact: production ledger/platform outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://youtu.be/N2JUGnwinbQ&quot;&gt;Stories from the Playbook - Google - KubeCon Europe 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: GKE, etcd, Docker daemon, Image registry, dnsmasq vulnerabilities&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=likHm-KHGWQ&quot;&gt;101 Ways to &quot;Break and Recover&quot; Kubernetes Cluster - Oath/Yahoo - KubeCon Europe 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: on-premise, namespace deletion, domain name collision, &lt;code&gt;NotReady&lt;/code&gt; nodes, etcd empty dir, TLS certificate refresh, DNS issues, OOM&lt;/li&gt;
&lt;li&gt;impact: unknown cluster outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gravitational.com/blog/running-postgresql-on-kubernetes/&quot;&gt;Experiences with running PostgreSQL on Kubernetes - Gravitational - blog post 2018&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: PostgreSQL, streaming replication&lt;/li&gt;
&lt;li&gt;impact: data loss&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=xZO9nx6GBu0&quot;&gt;101 Ways to Crash Your Cluster - Nordstrom - KubeCon North America 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, &lt;code&gt;NotReady&lt;/code&gt; nodes, OOM, eviction thresholds, ELB dynamic IPs, kubelet, cluster autoscaler, etcd split&lt;/li&gt;
&lt;li&gt;impact: full production cluster outage, other outages&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://community.monzo.com/t/resolved-current-account-payments-may-fail-major-outage-27-10-2017/26296/95&quot;&gt;Major Outage: Current account payments may fail - Monzo - Monzo Community post 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, etcd, Linkerd, &lt;code&gt;NullPointerException&lt;/code&gt;, services without endpoints&lt;/li&gt;
&lt;li&gt;impact: major production outage, full platform outage, current account payments fail&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/RaffaeleDiFazio/fallacies-of-distributed-computing-with-kubernetes-on-aws&quot;&gt;Fallacies of Distributed Computing with Kubernetes on AWS - Zalando - AWS User Group Hamburg October 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, unhealthy nodes, Ingress, CronJob&lt;/li&gt;
&lt;li&gt;impact: production outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://status.universe.com/incidents/115n3vxqwzcf&quot;&gt;Search and Reporting Outage - Universe - incident report 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: Job, &lt;code&gt;RestartPolicy&lt;/code&gt;, consume node resources&lt;/li&gt;
&lt;li&gt;impact: production Universe search and reporting outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://engineering.saltside.se/our-first-kubernetes-outage-c6b9249cfd3a&quot;&gt;Our First Kubernetes Outage - Saltside - blog post 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, kops, Helm, &lt;code&gt;NotReady&lt;/code&gt; nodes, resource exhaustion&lt;/li&gt;
&lt;li&gt;impact: nonproduction cluster outage&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://engineering.saltside.se/our-failure-migrating-to-kubernetes-25c28e6dd604&quot;&gt;Our Failure Migrating to Kubernetes - Saltside - blog post 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, kops, ELB, &lt;code&gt;BackendConnectionErrors&lt;/code&gt;, &lt;code&gt;LoadBalancer&lt;/code&gt; service&lt;/li&gt;
&lt;li&gt;impact: aborted application migration&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://status.salemove.com/incidents/xf6cr710yrzn&quot;&gt;SaleMove US System Issue - SaleMove - incident report 2017&lt;/a&gt;
&lt;ul&gt;&lt;li&gt;involved: AWS, ELB dynamic IPs, DNS &lt;code&gt;A&lt;/code&gt; record for master, API server&lt;/li&gt;
&lt;li&gt;impact: production issues with SaleMove US System&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Kubernetes is a fairly complex system with many moving parts. Its ecosystem is constantly evolving and adding even more layers (service mesh, ...) to the mix. Considering this environment, we don't hear enough real-world horror stories to learn from each other! This compilation of failure stories should make it easier for people dealing with Kubernetes operations (SRE, Ops, platform/infrastructure teams) to learn from others and reduce the unknown unknowns of running Kubernetes in production. For more information, &lt;a href=&quot;https://srcco.de/posts/kubernetes-failure-stories.html&quot;&gt;see the blog post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Please help the community and &lt;strong&gt;&lt;a href=&quot;https://codeberg.org/hjacobs/kubernetes-failure-stories/_edit/main/README.md&quot;&gt;share a link to your failure story by opening a Pull Request!&lt;/a&gt;&lt;/strong&gt; Failure stories can be anything like blog posts, conference/meetup talks, incident postmortems, tweetstorms, ...&lt;/p&gt;
&lt;p&gt;I would also be glad to hear about your failure stories on Twitter: my handle is &lt;a href=&quot;https://twitter.com/try_except_&quot;&gt;@try_except_&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks to all contributors and everybody who writes public Kubernetes postmortems! 👏&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;https://twitter.com/jbeda&quot;&gt;Joe Beda&lt;/a&gt; for contributing his domain k8s.af for this project! 👏&lt;/p&gt;
</description>
<pubDate>Thu, 11 Feb 2021 19:38:06 +0000</pubDate>
<dc:creator>jakozaur</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://k8s.af/</dc:identifier>
</item>
<item>
<title>Why I Built Litestream</title>
<link>https://litestream.io/blog/why-i-built-litestream/</link>
<guid isPermaLink="true" >https://litestream.io/blog/why-i-built-litestream/</guid>
<description>&lt;p&gt;&lt;em&gt;tl;dr—Despite an exponential increase in computing power, our applications require more machines than ever because of architectural decisions made 25 years ago. You can eliminate much of your complexity and cost by using SQLite &amp;amp; Litestream for your production applications.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;when-i-was-your-age&quot;&gt;When I was your age&amp;amp;mldr;&lt;/h2&gt;
&lt;p&gt;I can tell I’m getting old because I talk about the “good old days” of computing. Back when knowing a single programming language and SQL was good enough to work at most jobs. Back when you could build all your web pages with basic HTML skills.&lt;/p&gt;
&lt;p&gt;But the good old days weren’t actually that good.&lt;/p&gt;
&lt;p&gt;They kinda sucked.&lt;/p&gt;
&lt;p&gt;In 1995, the &lt;a href=&quot;https://tedium.co/2019/10/01/lamp-stack-php-mysql-apache-history/&quot;&gt;LAMP stack&lt;/a&gt; emerged. It was a combination of Linux, Apache, MySQL, &amp;amp; PHP. It’s a simple stack that all lived on one box. Unfortunately, that box was stocked with a CPU that was measured in megahertz and memory that was measured in megabytes. It was dog slow.&lt;/p&gt;
&lt;p&gt;But &lt;a href=&quot;https://en.wikipedia.org/wiki/Moore%27s_law&quot;&gt;Moore’s Law&lt;/a&gt; promised a better future as computers became exponentially faster. So why do we need more computers than ever before?&lt;/p&gt;
&lt;h3 id=&quot;where-it-went-wrong&quot;&gt;Where it went wrong&lt;/h3&gt;
&lt;p&gt;Since early web languages like PHP and Ruby were slow, you didn’t want them running on your database server so you moved them to their own servers in what is called an &lt;a href=&quot;https://en.wikipedia.org/wiki/Multitier_architecture&quot;&gt;n-tier architecture&lt;/a&gt;. Now you can keep adding more stateless Ruby servers to this &lt;em&gt;presentation layer&lt;/em&gt; and scale your application.&lt;/p&gt;
&lt;p&gt;Database servers like Oracle, PostgreSQL, and MySQL tended to be complicated to operate so this architecture helped to isolate them. Scaling and managing a fleet of database servers is a nighmare so organizations scale up their database machine vertically as much as possible before they scaled horizontally to multiple servers.&lt;/p&gt;
&lt;p&gt;This n-tier architecture sounds simple at first but it has hidden complexity. On a single machine, our server could add an in-memory cache to speed up requests but now data is shared across multiple machines so we must add a &lt;a href=&quot;https://memcached.org/&quot;&gt;memcached&lt;/a&gt; or &lt;a href=&quot;https://redis.io/&quot;&gt;Redis&lt;/a&gt; server to share cached data. Database servers are easily overloaded by numerous connections so we have to add intermediate services like &lt;a href=&quot;https://www.pgbouncer.org/&quot;&gt;PgBouncer&lt;/a&gt; to pool connections. If we have events in our system that must be communicated to all our nodes then we need a cluster of &lt;a href=&quot;https://kafka.apache.org/&quot;&gt;Kafka&lt;/a&gt; machines.&lt;/p&gt;
&lt;p&gt;Now we have a fleet of machines to manage. These systems have then caused an explosion in infrastructure automation with tooling like &lt;a href=&quot;https://kubernetes.io/&quot;&gt;Kubernetes&lt;/a&gt;. All of these layers slow us down from our job of writing software systems that solve real problems.&lt;/p&gt;
&lt;p&gt;What started as a simple two-tier software system has grown into a behemoth with a dozen layers of complexity.&lt;/p&gt;
&lt;p&gt;Complexity begets complexity.&lt;/p&gt;
&lt;h2 id=&quot;building-litestream&quot;&gt;Building Litestream&lt;/h2&gt;
&lt;p&gt;My background is in writing databases. Seven years ago, I wrote a pure Go, embedded key/value store called &lt;a href=&quot;http://github.com/boltdb/bolt&quot;&gt;BoltDB&lt;/a&gt; that has seen success in other open-source applications that use it such as &lt;a href=&quot;https://etcd.io/&quot;&gt;etcd&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For a while, I used Bolt when writing applications and it was refreshing because there were no depedencies to set up and performance was &lt;em&gt;blazingly fast&lt;/em&gt;. However, it lacked features like schema migration, a query language, or a &lt;a href=&quot;https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop&quot;&gt;REPL&lt;/a&gt; so it made application development difficult. But instead of going back to database servers like Postgres, I turned to &lt;a href=&quot;https://sqlite.org/&quot;&gt;SQLite&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;moving-to-sqlite&quot;&gt;Moving to SQLite&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;“But nobody writes production applications with SQLite, right?&quot;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;No, there’s a growing movement of people that see the value of single process applications. Expensify has run tests of &lt;a href=&quot;https://blog.expensify.com/2018/01/08/scaling-sqlite-to-4m-qps-on-a-single-server/&quot;&gt;4 million queries per second on a single node&lt;/a&gt; using SQLite. &lt;a href=&quot;https://twitter.com/davidcrawshaw&quot;&gt;David Crawshaw&lt;/a&gt; has a &lt;a href=&quot;https://www.youtube.com/watch?v=RqubKSF3wig&quot;&gt;conference talk&lt;/a&gt; and &lt;a href=&quot;https://crawshaw.io/blog/one-process-programming-notes&quot;&gt;blog post&lt;/a&gt; on building single process applications on SQLite. Django co-creator &lt;a href=&quot;https://simonwillison.net/&quot;&gt;Simon Willison&lt;/a&gt; built a data exploration and publishing tool called &lt;a href=&quot;https://datasette.io/&quot;&gt;Datasette&lt;/a&gt; that’s built on SQLite.&lt;/p&gt;
&lt;p&gt;SQLite is known for being bulletproof and having an &lt;a href=&quot;https://litestream.io/blog/why-i-built-litestream/sqlite-testing&quot;&gt;absurdly in-depth testing suite&lt;/a&gt;. It’s motto is &lt;em&gt;“Small. Fast. Reliable. Choose any three.&quot;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So why is SQLite considered a “toy” database in the application development world and not a production database?&lt;/p&gt;
&lt;h3 id=&quot;that-one-big-issue&quot;&gt;That one big issue&lt;/h3&gt;
&lt;p&gt;The biggest problem with using SQLite in production is disaster recovery. If your server dies, so does your data. That’s&amp;amp;mldr; not good.&lt;/p&gt;
&lt;p&gt;Other database servers have replication so they can stream database changes to another server in case one goes down. The best you can hope for with standard SQLite is to run a nightly backup. Solutions like &lt;a href=&quot;https://github.com/rqlite/rqlite&quot;&gt;rqlite&lt;/a&gt; are great but it requires a 3-node cluster.&lt;/p&gt;
&lt;p&gt;Why can’t SQLite have a replication tool that’s as easy to use as SQLite?&lt;/p&gt;
&lt;h3 id=&quot;the-problem-litestream-solves&quot;&gt;The problem Litestream solves&lt;/h3&gt;
&lt;p&gt;I built Litestream to bring back sanity to application development. Litestream is a tool that runs in a separate process and continuously replicates a SQLite database to Amazon S3. You can get up and running with a few lines of configuration. Then you can set-it-and-forget-it and get back to writing code.&lt;/p&gt;
&lt;p&gt;You might think this sounds expensive to continuously write to cloud storage that provides &lt;a href=&quot;https://aws.amazon.com/s3/storage-classes/&quot;&gt;99.99% uptime&lt;/a&gt; and &lt;a href=&quot;https://aws.amazon.com/s3/storage-classes/&quot;&gt;99.999999999% durability&lt;/a&gt; but it’s astoundingly cheap. Typical costs are only about $1 per month. Litestream is free and open-source too so there’s never a license to pay for.&lt;/p&gt;
&lt;h3 id=&quot;but-i-need-100-uptime&quot;&gt;But I need 100% uptime&amp;amp;mldr;&lt;/h3&gt;
&lt;p&gt;The software industry has chased uptime as a goal in and of itself over the last several decades. Solutions such as Kubernetes tout the benefits of zero-downtime deployments but ignore that their inherent complexity causes availability issues. &lt;a href=&quot;https://k8s.af/&quot;&gt;There’s even a web site dedicated to public postmortems related to Kubernetes.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Most cloud providers provide multiple layers of redundancy in their systems to protect against individual node and network failures. This doesn’t provide a 100% guarantee but will provide you with very high uptime servers. Anecdotally, I’ve run several VPS servers over the years which all have well over 99.9% uptime and have suffered no catastrophic failures.&lt;/p&gt;
&lt;h3 id=&quot;sounds-good-but-how-do-you-scale-this&quot;&gt;Sounds good, but how do you scale this?&lt;/h3&gt;
&lt;p&gt;Developers always want to know how to scale but that depends on their particular application. Typically, you want to scale vertically first by simply increasing amount of CPUs cores and RAM on your machine first.&lt;/p&gt;
&lt;p&gt;Servers these days have a &lt;em&gt;ton&lt;/em&gt; of power. I recently wrote a Go web application with a SQLite database that would serve an HTTP request with multiple database queries in under &lt;em&gt;50µs&lt;/em&gt; on a $5/month VPS. That translates to thousands of requests per second per core. SQLite scales reads well with the number of cores on a machine. Amazon AWS has machines that can then scale up to 96 CPU cores and hundreds of gigabytes of RAM.&lt;/p&gt;
&lt;p&gt;If you exceed the capacity of a single node, sharding your data can allow you to scale horizontally to multiple nodes. This works particularly well for SaaS applications where each customer is isolated from one another. Because SQLite and Litestream simplify deployment, managing a cluster of several isolated nodes is easy to maintain.&lt;/p&gt;
&lt;h2 id=&quot;the-future-of-litestream&quot;&gt;The Future of Litestream&lt;/h2&gt;
&lt;p&gt;Litestream is helping to simplify application development but that’s only the start of it. There are exciting features coming including replication to &lt;a href=&quot;https://github.com/benbjohnson/litestream/issues/8&quot;&gt;read-only replicas&lt;/a&gt;. This will give you the ability to run local copies of your database at the edge to deliver requests instantly.&lt;/p&gt;
&lt;p&gt;If you’re interested in trying out Litestream, the &lt;a href=&quot;https://litestream.io/getting-started&quot;&gt;Getting Started&lt;/a&gt; can get you up and running in less than 10 minutes.&lt;/p&gt;
&lt;p&gt;I’m interested to hear from others that want to simplify and improve application development. If you have ideas or thoughts about the future of Litestream, please get in touch on the &lt;a href=&quot;https://github.com/benbjohnson/litestream/discussions&quot;&gt;GitHub Discussions board&lt;/a&gt; and drop me a line.&lt;/p&gt;
&lt;p&gt;—Ben Johnson (&lt;a href=&quot;https://twitter.com/benbjohnson&quot;&gt;@benbjohnson&lt;/a&gt;)&lt;/p&gt;
</description>
<pubDate>Thu, 11 Feb 2021 16:46:42 +0000</pubDate>
<dc:creator>benbjohnson</dc:creator>
<og:title>Why I Built Litestream</og:title>
<og:description>Despite an exponential increase in computing power, our applications require more machines than ever because of architectural decisions made 25 years ago. You can eliminate much of your complexity and cost by using SQLite &amp; Litestream for your production applications.</og:description>
<og:type>article</og:type>
<og:url>https://litestream.io/blog/why-i-built-litestream/</og:url>
<og:image>https://litestream.io/litestream.png</og:image>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://litestream.io/blog/why-i-built-litestream/</dc:identifier>
</item>
<item>
<title>America&amp;#039;s 1% Has Taken $50T From the Bottom 90%</title>
<link>https://time.com/5888024/50-trillion-income-inequality-america/</link>
<guid isPermaLink="true" >https://time.com/5888024/50-trillion-income-inequality-america/</guid>
<description>&lt;div readability=&quot;30.316666666667&quot;&gt;
&lt;p&gt;You have reached your limit of 4 free articles.&lt;/p&gt;
&lt;p&gt;Get unlimited access to TIME.com.&lt;br/&gt;99¢ for the first month&lt;/p&gt;
&lt;a class=&quot;button&quot; href=&quot;https://time.com/subscribe-meter2-time&quot;&gt;Subscribe Now&lt;/a&gt;

&lt;/div&gt;&lt;div readability=&quot;28.207407407407&quot;&gt;
&lt;p&gt;You have 1 free article left. Subscribe for just 99¢.&lt;/p&gt;
&lt;p&gt;This is your last free article. Subscribe for just 99¢.&lt;/p&gt;
&lt;a class=&quot;button&quot; href=&quot;https://time.com/subscribe-meter-time&quot;&gt;&lt;span class=&quot;mobile&quot;&gt;Subscribe&lt;/span&gt; &lt;span class=&quot;desktop&quot;&gt;Subscribe Now&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;</description>
<pubDate>Thu, 11 Feb 2021 15:41:42 +0000</pubDate>
<dc:creator>paulpauper</dc:creator>
<og:title>The Top 1% of Americans Have Taken $50 Trillion From the Bottom 90%—And That's Made the U.S. Less Secure</og:title>
<og:type>article</og:type>
<og:url>https://time.com/5888024/50-trillion-income-inequality-america/</og:url>
<og:description>A report shows that a $50 trillion redistribution of income to benefit the richest has made America less healthy, resilient, and secure</og:description>
<og:image>https://api.time.com/wp-content/uploads/2020/09/5-trillion-income-inequality-usa-01.jpg?quality=85&amp;crop=0px%2C347px%2C2400px%2C1256px&amp;resize=1200%2C628&amp;strip</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://time.com/5888024/50-trillion-income-inequality-america/</dc:identifier>
</item>
<item>
<title>TurboTax Tricked You into Paying to File Your Taxes  (2019)</title>
<link>https://www.propublica.org/article/turbotax-just-tricked-you-into-paying-to-file-your-taxes</link>
<guid isPermaLink="true" >https://www.propublica.org/article/turbotax-just-tricked-you-into-paying-to-file-your-taxes</guid>
<description>&lt;aside class=&quot;promo x-small left&quot;&gt;&lt;div class=&quot;series-entry&quot;&gt;
&lt;div class=&quot;lead-art&quot;&gt;&lt;a class=&quot;aspect-3-2&quot; href=&quot;https://www.propublica.org/series/the-turbotax-trap&quot;&gt;&lt;img alt=&quot;&quot; width=&quot;400&quot; height=&quot;267&quot; src=&quot;https://assets-c3.propublica.org/images/series/_threeTwo400w/20190502-borge-3x2.jpg&quot; srcset=&quot;https://assets-c3.propublica.org/images/series/_threeTwo400w/20190502-borge-3x2.jpg 400w, https://assets-c3.propublica.org/images/series/_threeTwo800w/20190502-borge-3x2.jpg 800w, https://assets-c3.propublica.org/images/series/_threeTwo1200w/20190502-borge-3x2.jpg 1200w&quot;/&gt;&lt;/a&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/aside&gt;&lt;div class=&quot;top-notes&quot; readability=&quot;6.162962962963&quot;&gt;
&lt;div class=&quot;note related-story&quot; readability=&quot;7.5851851851852&quot;&gt;
&lt;p&gt;ProPublica is a nonprofit newsroom that reports on abuses of power. &lt;a href=&quot;https://go.propublica.org/big-story-article&quot;&gt;Sign up&lt;/a&gt; to receive our best stories as soon as they’re published.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;1.0&quot;&gt;Did you know that if you make less than $66,000 a year, you can prepare and &lt;a href=&quot;https://www.propublica.org/article/how-to-file-state-federal-taxes-free-2020&quot;&gt;file your taxes for free&lt;/a&gt;?&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;1.1&quot;&gt;No? That’s no accident. Companies that make tax preparation software, like Intuit, the maker of TurboTax, would rather you didn’t know.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;2.0&quot;&gt;Intuit and other tax software companies have &lt;a href=&quot;https://www.propublica.org/article/congress-is-about-to-ban-the-government-from-offering-free-online-tax-filing-thank-turbotax&quot;&gt;spent millions&lt;/a&gt; &lt;a href=&quot;https://www.propublica.org/article/how-the-maker-of-turbotax-fought-free-simple-tax-filing&quot;&gt;lobbying&lt;/a&gt; to make sure that the IRS doesn’t offer its own tax preparation and filing service. In exchange, the companies have entered into an agreement with the IRS to offer a &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;“Free File” product&lt;/a&gt; to most Americans — but good luck &lt;a href=&quot;https://www.propublica.org/article/turbotax-deliberately-hides-its-free-file-page-from-search-engines&quot;&gt;finding it&lt;/a&gt;.&lt;/p&gt;
&lt;aside class=&quot;newsletter large left&quot; readability=&quot;1.6531791907514&quot;&gt;&lt;h3 class=&quot;newsletter-head&quot;&gt;Get Our Top Investigations&lt;/h3&gt;
&lt;p&gt;Subscribe to the Big Story newsletter.&lt;/p&gt;

&lt;/aside&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;4.0&quot;&gt;Here’s what happened when we went looking.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;4.1&quot;&gt;Our first stop was Google. We searched for “irs free file taxes.”&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;4.2&quot;&gt;And we thought we found what we were looking for: Ads from TurboTax and others directing us to free products.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-01-google.jpg&quot; width=&quot;400&quot; height=&quot;376&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-01-google.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-01-google.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-01-google.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-01-google.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;6.0&quot;&gt;The first link looked promising. It contained the word “free” five times! We clicked and were relieved to see that filing for free was &lt;em&gt;guaranteed.&lt;/em&gt;&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-02-guaranteed.jpg&quot; width=&quot;400&quot; height=&quot;307&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-02-guaranteed.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-02-guaranteed.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-02-guaranteed.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-02-guaranteed.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;8.0&quot;&gt;We started the process by creating the profile of a TaskRabbit house cleaner who took in $29,000. We entered extensive personal information. TurboTax asked us to click through more than a dozen questions and prompts about our finances.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;9.0&quot;&gt;After all of that, only then did we get the bad news: TurboTax revealed this wasn’t going to be free at all. Turns out the house cleaner didn’t qualify because he is a independent contractor. The charge? $119.99.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-03-upgrade.jpg&quot; width=&quot;400&quot; height=&quot;332&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-03-upgrade.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-03-upgrade.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-03-upgrade.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-03-upgrade.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;11.0&quot;&gt;Then we tried with a second scenario. We went back to TurboTax.com and clicked on “FREE Guaranteed.” This time, we went through the process as a Walgreens cashier without health insurance, entering personal information and giving the company lots of sensitive data.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;12.0&quot;&gt;Again, TurboTax told us we had to pay — this time because there’s an extra form if you don’t have insurance. The charge? $59.99.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-04-deluxe.jpg&quot; width=&quot;400&quot; height=&quot;236&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-04-deluxe.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-04-deluxe.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-04-deluxe.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-04-deluxe.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;14.0&quot;&gt;But wait. Are the house cleaner and the cashier not allowed to prepare and file their taxes for free because of their particular tax situations? No! According to the agreement between the IRS and the companies, anyone who makes less than $66,000 can prepare and file their taxes for free.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;15.0&quot;&gt;So how did we end up with a product that would make us pay?&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;16.0&quot;&gt;We took a close look at the source code of the TurboTax website and noticed something strange. Even though we clicked on the “FREE Guaranteed” option and met all the requirements to file for free, the company had tagged us as a potential paying customer.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;17.0&quot;&gt;In the source code, TurboTax had branded us as “NONFFA.” That stands for “Non Free File Alliance.” In other words, we were not on track to file for free after all.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;17.1&quot;&gt;Here’s what it looks like behind the curtain:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ch: /personal—taxes/online/  
cc: USD  
c2: 2019-04-12T17:44:20.316Z  
&lt;strong&gt;c5: NONFFA&lt;/strong&gt;
c6: TT.com  
c7: TTCamp  
c9: 582c1659—f678-4316—a059-29ee9324cf4c  
c14: performance|domComplete&lt;/code&gt;
&lt;/pre&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;19.0&quot;&gt;Even though TurboTax could tell we were eligible to file for free, the company never told us about the truly free version.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;19.1&quot;&gt;It turns out that if you start the process from TurboTax.com, it’s impossible to find the truly free version. The company itself admits this.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-05-faq.jpg&quot; width=&quot;400&quot; height=&quot;313&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-05-faq.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-05-faq.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-05-faq.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-05-faq.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;21.0&quot;&gt;This is a good time to remind you: Intuit, the maker of TurboTax, is one of the companies that has &lt;a href=&quot;https://www.documentcloud.org/documents/5910809-Eight-Free-File-MOU.html#document/p5/a494489&quot;&gt;promised the IRS&lt;/a&gt; to offer free tax filing to lower-income Americans.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;22.0&quot;&gt;Is it called the Free Edition? No, that’s reserved for the widely advertised commercial products that are only free for people with the simplest taxes. The company calls the truly free version the &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;Freedom Edition&lt;/a&gt;.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;23.0&quot;&gt;Once we realized that what we really wanted was TurboTax Freedom, we simply entered that into Google:&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-06-google.jpg&quot; width=&quot;400&quot; height=&quot;507&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-06-google.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-06-google.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-06-google.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-06-google.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;25.0&quot;&gt;The first link was from TurboTax and said “Free File Program” right in the text. We clicked, and it brought us to this new page.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-07-qualify.jpg&quot; width=&quot;400&quot; height=&quot;319&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-07-qualify.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-07-qualify.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-07-qualify.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-07-qualify.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;27.0&quot;&gt;While the orange “See If You Qualify” link did take us to the real Free File program, the blue “Start for Free” link brought us back to the version of TurboTax where we ended up having to pay.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;27.1&quot;&gt;There’s a name for internet design tactics that get users to pay for products they don’t necessarily want: &lt;a href=&quot;https://darkpatterns.org/&quot;&gt;dark patterns&lt;/a&gt;.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;27.2&quot;&gt;Now, let’s go back to our original Google search.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-08-google.jpg&quot; width=&quot;400&quot; height=&quot;376&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-08-google.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-08-google.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-08-google.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-08-google.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;29.0&quot;&gt;The fifth link, a government site, looked like it would take us to the actual Free File program.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;30.0&quot;&gt;But not so fast! When we clicked, and then clicked through to a second page, we found a whole new set of choices and restrictions. Each of the 12 companies that have signed on to the deal with the IRS offer their own Free File product. But they all have different requirements based on age, income and location.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-09-requirements.jpg&quot; width=&quot;400&quot; height=&quot;322&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-09-requirements.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-09-requirements.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-09-requirements.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-09-requirements.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;32.0&quot;&gt;Finally! We clicked the “TurboTax Free File Program” link and found the actual homepage for TurboTax Freedom.&lt;/p&gt;
&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-10-turbotax-freedom.jpg&quot; width=&quot;400&quot; height=&quot;315&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190422-turbotax-10-turbotax-freedom.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190422-turbotax-10-turbotax-freedom.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1600w/20190422-turbotax-10-turbotax-freedom.jpg 1600w, https://assets-c3.propublica.org/images/articles/_threeTwo2000w/20190422-turbotax-10-turbotax-freedom.jpg 2000w&quot; sizes=&quot;(min-width: 1720px) 826px, (min-width: 780px) calc(46.09vw + 43px), (min-width: 600px) 59.38vw, 93.21vw&quot;/&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;34.0&quot;&gt;It’s not exactly a secret that this Free File program isn’t working well. The national taxpayer advocate recently &lt;a href=&quot;https://taxpayeradvocate.irs.gov/Free_File_Program_Is_Failing_to_Achieve_Objectives&quot;&gt;said&lt;/a&gt; it “is failing to achieve its objectives and should be substantially improved or eliminated.” The IRS has been &lt;a href=&quot;https://www.documentcloud.org/documents/5910811-Internal-Revenue-Service-Advisory-Council.html#document/p15/a494005&quot;&gt;criticized&lt;/a&gt; for failing to oversee the program and the number of people using Free File has &lt;a href=&quot;https://www.documentcloud.org/documents/5910811-Internal-Revenue-Service-Advisory-Council.html#document/p17/a494430&quot;&gt;dropped&lt;/a&gt; by millions since it peaked in 2005.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;35.0&quot;&gt;Consumer groups have long argued that the IRS should offer its own free, online tax preparation and filing, as many &lt;a href=&quot;https://twitter.com/propublica/status/1116058831845568514&quot;&gt;other countries&lt;/a&gt; do.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;36.0&quot;&gt;But Congress is now moving to put the Free File program into law, including its restriction on the IRS creating its own free service. We wrote about that &lt;a href=&quot;https://www.propublica.org/article/congress-is-about-to-ban-the-government-from-offering-free-online-tax-filing-thank-turbotax&quot;&gt;earlier this month&lt;/a&gt; and the &lt;a href=&quot;https://www.propublica.org/article/bill-to-limit-irs-ability-to-offer-free-tax-filing-service-is-getting-new-scrutiny&quot;&gt;opposition&lt;/a&gt; to this provision by freshman Democratic Reps. &lt;a href=&quot;https://projects.propublica.org/represent/members/H001087-katie-hill&quot;&gt;Katie Hill&lt;/a&gt;, &lt;a href=&quot;https://projects.propublica.org/represent/members/P000618-katie-porter&quot;&gt;Katie Porter&lt;/a&gt;, &lt;a href=&quot;https://projects.propublica.org/represent/members/O000172-alexandria-ocasio-cortez&quot;&gt;Alexandria Ocasio-Cortez&lt;/a&gt; and others. The House ultimately passed the bipartisan &lt;a href=&quot;https://projects.propublica.org/represent/bills/116/s928&quot;&gt;Taxpayer First Act&lt;/a&gt;, which also contains some provisions that consumer advocates support, such as restrictions on private debt collection of unpaid taxes.&lt;/p&gt;
&lt;aside class=&quot;ad-300&quot;&gt;

&lt;/aside&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;38.0&quot;&gt;Now the Senate is considering the bill. Its sponsors have &lt;a href=&quot;https://www.foxnews.com/opinion/sen-chuck-grassley-rep-mike-kelly-taxpayer-first-act-is-a-bipartisan-achievement-that-deserves-more-attention&quot;&gt;argued&lt;/a&gt; that it doesn’t tie the IRS’ hands, but outside legal experts we’ve spoken to &lt;a href=&quot;https://www.propublica.org/article/bill-to-limit-irs-ability-to-offer-free-tax-filing-service-is-getting-new-scrutiny&quot;&gt;disagree&lt;/a&gt;. The text in the bill codifying the Free File program has long been sought by lobbyists for Intuit.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;39.0&quot;&gt;We asked TurboTax spokesman Rick Heineman why the company doesn’t automatically direct eligible taxpayers to the Free File product. He didn’t respond, but said in a statement that “&lt;a href=&quot;https://turbotax.intuit.com/personal-taxes/online/free-edition.jsp&quot;&gt;TurboTax Free Edition&lt;/a&gt; is a free commercial tax preparation product that costs $0 for fed, $0 for state, $0 to file so 50 million users with ‘simple’ filings can file for absolutely no cost. Details for eligibility for this and other TurboTax products are stated on the &lt;a href=&quot;https://turbotax.intuit.com/personal-taxes/online/free-edition.jsp&quot;&gt;Products &amp;amp; Pricing&lt;/a&gt; page.”&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;40.0&quot;&gt;Heineman also directed us to Intuit’s &lt;a href=&quot;https://www.intuit.com/content/dam/intuit/intuitcom/documents/company/intuit-csr-report-2018.pdf&quot;&gt;annual corporate social responsibility report&lt;/a&gt;, which said that last year it “donated 2.3 million federal and state returns ($27 million in value) to lower-income taxpayers through the IRS and state Free File programs.”&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;41.0&quot;&gt;Last year, Intuit’s consumer division, which includes TurboTax, reported &lt;a href=&quot;https://www.documentcloud.org/documents/5955655-Intuit-2018-Annual-Report-on-Form-10-K-PDF.html#document/p41&quot;&gt;$1.6 billion&lt;/a&gt; in operating income.&lt;/p&gt;
&lt;h3&gt;How to Ask for a Refund&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;42.0&quot;&gt;If you made less than $34,000 last year and paid to file your taxes on TurboTax, you may be able to get a refund.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;42.1&quot;&gt;A reader who reported that TurboTax agreed to refund his money said he called the TurboTax customer service line at 888-777-3066.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;42.2&quot;&gt;Spokespeople for Intuit, the maker of TurboTax, didn’t immediately respond to a request for comment on its refund policy.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;43.0&quot;&gt;If you made less than $66,000 last year, you should have been able to prepare and file your taxes for free with one of the companies participating in the IRS’ Free File program. But each company has its own distinct eligibility requirements. It’s not clear if the other companies would offer refunds.&lt;/p&gt;
&lt;h3&gt;Frequently Asked Questions About Free Tax Filing From TurboTax:&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;45.0&quot;&gt;Recently, we reported that TurboTax and H&amp;amp;R Block were &lt;a href=&quot;https://www.propublica.org/article/turbotax-deliberately-hides-its-free-file-page-from-search-engines&quot;&gt;deliberately hiding their Free File program from Google and other search engines&lt;/a&gt;. In an effort to make sure accurate information is available to those who are searching for it, we have compiled and answered some frequently asked questions.&lt;/p&gt;
&lt;h3&gt;What Is the TurboTax Free File Program?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.0&quot;&gt;The TurboTax Free File program is required as part of the &lt;a href=&quot;https://www.irs.gov/filing/free-file-do-your-federal-taxes-for-free&quot;&gt;IRS Free File program&lt;/a&gt;.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.1&quot;&gt;To qualify for the TurboTax Free File, you must make under $34,000 per year.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.2&quot;&gt;You are eligible if you make less than $34,000 and:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Work full time&lt;/li&gt;
&lt;li&gt;Work part time&lt;/li&gt;
&lt;li&gt;Are an independent contractor&lt;/li&gt;
&lt;li&gt;Are retired or&lt;/li&gt;
&lt;li&gt;Paid student loans&lt;/li&gt;
&lt;/ul&gt;&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.3&quot;&gt;Click here to access the &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Free File program&lt;/a&gt;.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.4&quot;&gt;&lt;strong&gt;Important:&lt;/strong&gt; If you make under $66,000 per year, you are eligible to file your taxes for free under the IRS Free File program.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.5&quot;&gt;If you make under $66,000 per year, &lt;a href=&quot;https://apps.irs.gov/app/freeFile/&quot;&gt;click this link to see other options from the IRS Free File program&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;What Is the TurboTax Free Edition?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.6&quot;&gt;TurboTax Free Edition is the name for a free version of TurboTax. It is not the same as the TurboTax Free File edition, which is part of the IRS program.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.7&quot;&gt;TurboTax Free Edition is free for people who are filing very simple returns only.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.8&quot;&gt;Warning: TurboTax Free Edition is not always free. It puts many people on track to pay.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.9&quot;&gt;Read about &lt;a href=&quot;https://www.propublica.org/article/turbotax-deliberately-hides-its-free-file-page-from-search-engines&quot;&gt;how TurboTax tries to hide its Free File edition&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;What Is the TurboTax Freedom Edition?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.10&quot;&gt;The TurboTax Freedom Edition is another name TurboTax uses for its Free File edition. This edition is required as part of the industry’s deal with the IRS.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;46.11&quot;&gt;If you make less than $34,000 per year, you are eligible to use this program. You can access the &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Freedom Edition by clicking here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Wait, Is TurboTax Really Free?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;47.0&quot;&gt;&lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Free File&lt;/a&gt;, also called &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Freedom Edition&lt;/a&gt;, is free for those making under $34,000 per year. Click here to access the TurboTax Free File edition.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;48.0&quot;&gt;TurboTax also offers a Free Edition for anyone who is filing a simple return only.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;48.1&quot;&gt;Warning: Despite its confusing name, the TurboTax Free Edition is not always free. It puts many people on track to pay.&lt;/p&gt;
&lt;h3&gt;Does TurboTax Offer Free State Filing?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;48.2&quot;&gt;Yes. If you make under $34,000 and qualify for TurboTax Free File, you can also prepare and file your state return for free.&lt;/p&gt;
&lt;h3&gt;Who Qualifies for TurboTax Free Edition?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;49.0&quot;&gt;If you make less than $34,000 per year, you can file your taxes for free with &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Free File&lt;/a&gt;. This edition is required as part of the industry’s deal with the IRS. You can access the &lt;a href=&quot;https://turbotax.intuit.com/taxfreedom/&quot;&gt;TurboTax Free File program here&lt;/a&gt;.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;50.0&quot;&gt;TurboTax also offers a Free Edition for people who are filing very simple returns. Warning: The Free Edition puts many people on track to pay is not part of the IRS Free File program.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;50.1&quot;&gt;&lt;strong&gt;Remember:&lt;/strong&gt; If you make under $66,000 per year, you are still eligible to prepare and file your taxes for free under the IRS Free File program.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;51.0&quot;&gt;If you make under $66,000 per year, &lt;a href=&quot;https://apps.irs.gov/app/freeFile/&quot;&gt;click this link&lt;/a&gt; to find another free tax preparation offer from &lt;a href=&quot;https://www.irs.gov/filing/free-file-do-your-federal-taxes-for-free&quot;&gt;IRS Free File&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;How Do I Reach TurboTax Support?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;52.0&quot;&gt;You can call TurboTax at 888-777-3066 or reach them on Twitter @TeamTurboTax&lt;/p&gt;
&lt;h3&gt;How Do I Get a Refund From TurboTax?&lt;/h3&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;52.1&quot;&gt;Some readers have told us that they have been able to ask for refunds by calling 888-777-3066.&lt;/p&gt;
&lt;p data-pp-blocktype=&quot;copy&quot; data-pp-id=&quot;52.2&quot;&gt;If you made less than $34,000, you were eligible to file for free with TurboTax. If you were charged a fee, you can call TurboTax to ask for a refund.&lt;/p&gt;
&lt;aside data-pp-id=&quot;53&quot; data-pp-blocktype=&quot;promo&quot; class=&quot;promo large left&quot;&gt;&lt;h3 class=&quot;aside-head&quot;&gt;Read More&lt;/h3&gt;
&lt;div class=&quot;story-entry section-articles&quot; readability=&quot;13.315436241611&quot;&gt;
&lt;div class=&quot;lead-art&quot;&gt;&lt;a class=&quot;aspect-3-2&quot; href=&quot;https://www.propublica.org/article/bill-to-limit-irs-ability-to-offer-free-tax-filing-service-is-getting-new-scrutiny&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190410-free-file-3x2.jpg&quot; width=&quot;400&quot; height=&quot;267&quot; srcset=&quot;https://assets-c3.propublica.org/images/articles/_threeTwo400w/20190410-free-file-3x2.jpg 400w, https://assets-c3.propublica.org/images/articles/_threeTwo800w/20190410-free-file-3x2.jpg 800w, https://assets-c3.propublica.org/images/articles/_threeTwo1200w/20190410-free-file-3x2.jpg 1200w&quot; sizes=&quot;(min-width: 1720px) 335px, (min-width: 960px) calc(18.38vw + 23px), (min-width: 780px) 18.75vw, (min-width: 600px) 27.5vw, 43.21vw&quot;/&gt;&lt;/a&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/aside&gt;&lt;div class=&quot;bottom-notes&quot; readability=&quot;14.614285714286&quot;&gt;
&lt;div class=&quot;note story-update&quot; readability=&quot;40&quot;&gt;
&lt;p&gt;&lt;strong&gt;Update, April 22, 2019:&lt;/strong&gt; After we published this story, a reader reached out to say that TurboTax charged him $120 to file his mother-in-law’s taxes even though she made around $18,000. Once he read our story, he said he called TurboTax and complained because his mother-in-law was eligible to file for free. The company agreed to refund the money.&lt;/p&gt;
&lt;hr/&gt;&lt;/div&gt;
&lt;div class=&quot;note tips-callout&quot; readability=&quot;14.228571428571&quot;&gt;
&lt;p&gt;Did you file your taxes after the July 15, 2020, tax deadline? Did you file them on paper? The IRS may have taken months to process them. If you’re still waiting for a reply to your 2019 tax return, ProPublica reporter Lydia DePillis would like to hear from you. You can email her at &lt;a href=&quot;https://www.propublica.org/cdn-cgi/l/email-protection#93ffeaf7faf2bdf7f6e3fafffffae0d3e3e1fce3e6f1fffaf0f2bdfce1f4&quot;&gt;&lt;span class=&quot;__cf_email__&quot; data-cfemail=&quot;7e12071a171f501a1b0e171212170d3e0e0c110e0b1c12171d1f50110c19&quot;&gt;[email protected]&lt;/span&gt;&lt;/a&gt;, or call, text or Signal her at 202-913-3717.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Thu, 11 Feb 2021 15:41:14 +0000</pubDate>
<dc:creator>paulpauper</dc:creator>
<og:type>article</og:type>
<og:url>https://www.propublica.org/article/turbotax-just-tricked-you-into-paying-to-file-your-taxes?token=g8q-7qvqu4omncgslrxtvalwdnfwaeab</og:url>
<og:title>Here’s How TurboTax Just Tricked You Into Paying to File Your Taxes</og:title>
<og:description>Come along as we try to file our taxes for free on TurboTax!</og:description>
<og:image>https://assets-c3.propublica.org/images/articles/_1200x630_crop_center-center_82_none/20190422-turbotax-ads-1200x630.jpg?mtime=1571340539</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.propublica.org/article/turbotax-just-tricked-you-into-paying-to-file-your-taxes</dc:identifier>
</item>
<item>
<title>Uncovering a 24-year-old bug in the Linux Kernel</title>
<link>https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</link>
<guid isPermaLink="true" >https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</guid>
<description>&lt;p&gt;As part of our standard toolkit, we provide each developer at Skroutz with a writable database snapshot against which she can develop. These snapshots are updated daily through a pipeline that involves taking an LVM snapshot of production data, anonymizing the dataset by stripping all personal data, and transferring it via rsync to the development database servers. The development servers in turn use ZFS snapshots to expose a copy-on-write snapshot to each developer, with self-service tools allowing rollback or upgrades to newer snapshots.&lt;/p&gt;
&lt;p&gt;We use the same pipeline to expose MariaDB and MongoDB data, with a full dataset size of 600GB and 200GB respectively, and a slightly modified pipeline for Elasticsearch. While on-disk data changes significantly for all data sources, rsync still saves significant time by transferring roughly 1/3 of the full data set every night. This setup has worked rather well for the better part of a decade and has managed to scale from 15 developers to 150. However, as with most systems, it has had its fair share of maintenance and has given us some interesting moments.&lt;/p&gt;
&lt;p&gt;One of the most interesting issues we encountered led to the discovery of a fairly old bug in the Linux kernel TCP implementation: every now and then, an rsync transfer from a source server would hang indefinitely for no apparent reason, as — apart from the stuck transfer — everything else seemed to be in order. What’s more, for reasons that became apparent later, the issue could not be reproduced at will, although some actions (e.g. adding an rsync-level rate limit) seemed to make the issue less frequent, with frequency ranging from once or twice per week to once every three months.&lt;/p&gt;
&lt;p&gt;As is not unusual in these cases, we had more urgent systems and issues to attend to, so we labeled this a “race condition in rsync” that we should definitely look into at some point, and worked around it by throttling the rsync transfers.&lt;/p&gt;
&lt;p&gt;Until it started biting us every single day.&lt;/p&gt;
&lt;h2 id=&quot;rsync-as-a-pipeline&quot;&gt;rsync as a pipeline&lt;/h2&gt;
&lt;p&gt;While not strictly necessary, knowing how rsync works internally will help understand the analysis that follows. The rsync site contains &lt;a href=&quot;https://rsync.samba.org/how-rsync-works.html&quot;&gt;a thorough description&lt;/a&gt; of rsync’s internal architecture, so I’ll try to summarize the most important points here:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;
&lt;p&gt;rsync starts off as a single process on the client and a single process on the server, communicating via a socket pair. When using the rsync daemon, as in our case, communication is done over a plain TCP connection&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Based on the direction of sync, after the initial handshake is over, each end assumes a &lt;em&gt;role&lt;/em&gt;, either that of the &lt;em&gt;sender&lt;/em&gt;, or that of the &lt;em&gt;receiver&lt;/em&gt;. In our case the client is the receiver, and the server is the sender.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The receiver forks an additional process called the &lt;em&gt;generator&lt;/em&gt;, sharing the socket with the &lt;em&gt;receiver&lt;/em&gt; process. The &lt;em&gt;generator&lt;/em&gt; figures out what it needs to ask from the &lt;em&gt;sender&lt;/em&gt;, and the &lt;em&gt;sender&lt;/em&gt; subsequently sends the data to the &lt;em&gt;receiver&lt;/em&gt;. What we essentially have after this step is a pipeline, &lt;em&gt;generator&lt;/em&gt; → &lt;em&gt;sender&lt;/em&gt; → &lt;em&gt;receiver&lt;/em&gt;, where the arrows are the two directions of &lt;em&gt;the same&lt;/em&gt; TCP connection. While there is some signaling involved, the pipeline operates in a &lt;em&gt;blocking&lt;/em&gt; fashion and relies on OS buffers and TCP receive windows to apply backpressure.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;a-ghost-in-the-network&quot;&gt;A ghost in the network?&lt;/h2&gt;
&lt;p&gt;Our first reaction when we encountered the issue was to suspect the network for errors, which was a &lt;em&gt;reasonable&lt;/em&gt; thing to do since we had recently upgraded our servers and switches. After eliminating the usual suspects (NIC firmware bugs involving TSO/GSO/GRO/VLAN offloading, excessive packet drops or CRC errors at the switches etc), we came to the conclusion that everything was normal and something else had to be going on.&lt;/p&gt;
&lt;p&gt;Attaching the hung processes using strace and gdb told us little: the generator was hung on &lt;code&gt;send()&lt;/code&gt; and the sender and receiver were hung on &lt;code&gt;recv()&lt;/code&gt;, yet no data was moving. However, turning to the kernel on both systems revealed something interesting! On the client the rsync socket shared between the &lt;em&gt;generator&lt;/em&gt; and the &lt;em&gt;receiver&lt;/em&gt; processes was in the following state:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ss -mito dst :873
State      Recv-Q Send-Q                  Local Address:Port                                 Peer Address:Port
ESTAB      &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;m&quot;&gt;392827&lt;/span&gt; ❶             2001:db8:2a::3:38022                             2001:db8:2a::18:rsync                 timer:&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;persist,1min56sec,0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
         skmem:&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;r0,rb4194304,t0,tb530944,f3733,w401771,o0,bl0,d757&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; ts sack cubic wscale:7,7 rto:204 backoff:15 rtt:2.06/0.541 ato:40 mss:1428 cwnd:10 ssthresh:46 bytes_acked:22924107 bytes_received:100439119971 segs_out:7191833 segs_in:70503044 data_segs_out:16161 data_segs_in:70502223 send 55.5Mbps lastsnd:16281856 lastrcv:14261988 lastack:3164 pacing_rate 133.1Mbps retrans:0/11 rcv_rtt:20 rcv_space:2107888 notsent:392827 minrtt:0.189&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;while on the server, the socket state was the following:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ss -mito src :873
State      Recv-Q Send-Q                Local Address:Port                                 Peer Address:Port
ESTAB      &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;                   2001:db8:2a::18:rsync                              2001:db8:2a::3:38022                 timer:&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;keepalive,3min7sec,0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
         skmem:&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;r0,rb3540548,t0,tb4194304,f0,w0,o0,bl0,d292&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; ts sack cubic wscale:7,7 rto:204 rtt:1.234/1.809 ato:40 mss:1428 cwnd:1453 ssthresh:1431 bytes_acked:100439119971 bytes_received:22924106 segs_out:70503089 segs_in:7191833 data_segs_out:70502269 data_segs_in:16161 send 13451.4Mbps lastsnd:14277708 lastrcv:16297572 lastack:7012576 pacing_rate 16140.1Mbps retrans:0/794 rcv_rtt:7.5 rcv_space:589824 minrtt:0.026&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The interesting thing here is that there are 3.5MB of data on the client, queued to be sent (❶ in the first output) by the &lt;em&gt;generator&lt;/em&gt; to the server; however, while the server has an empty &lt;code&gt;Recv-Q&lt;/code&gt; and can accept data, nothing seems to be moving forward. If &lt;code&gt;Recv-Q&lt;/code&gt; in the second output was non-zero, we would be looking at rsync on the server being stuck and not reading from the network, however here it is obvious that rsync has consumed all incoming data and is not to blame.&lt;/p&gt;
&lt;p&gt;So why is data queued up on one end of the connection, while the other end is obviously able to accept it? The answer is conveniently hidden in the &lt;code&gt;timer&lt;/code&gt; fields of both &lt;code&gt;ss&lt;/code&gt; outputs, especially in &lt;code&gt;timer:(persist,1min56sec,0)&lt;/code&gt;. Quoting &lt;code&gt;ss(8)&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-man&quot; data-lang=&quot;man&quot;&gt;-o, --options
              Show timer information. For TCP protocol, the output format is:

              timer:(&amp;lt;timer_name&amp;gt;,&amp;lt;expire_time&amp;gt;,&amp;lt;retrans&amp;gt;)

              &amp;lt;timer_name&amp;gt;
                     the name of the timer, there are five kind of timer names:

                     on : means one of these  timers:  TCP  retrans  timer,  TCP
                     early retrans timer and tail loss probe timer

                     keepalive: tcp keep alive timer

                     timewait: timewait stage timer

                     persist: zero window probe timer

                     unknown: none of the above timers&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;persist&lt;/code&gt; means that the connection has received a zero window advertisement and is waiting for the peer to advertise a non-zero window.&lt;/p&gt;
&lt;h2 id=&quot;tcp-zero-windows-and-zero-window-probes&quot;&gt;TCP Zero Windows and Zero Window Probes&lt;/h2&gt;
&lt;p&gt;TCP implements flow control by limiting the data in flight using a sliding window called the &lt;em&gt;receive window&lt;/em&gt;. Wikipedia has a &lt;a href=&quot;https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control&quot;&gt;good description&lt;/a&gt;, but in short each end of a TCP connection advertises how much data it is willing to buffer for the connection, i.e. how much data the other end may send before waiting for an acknowledgment.&lt;/p&gt;
&lt;p&gt;When one side’s receive buffer (&lt;code&gt;Recv-Q&lt;/code&gt;) fills up (in this case because the rsync process is doing disk I/O at a speed slower than the network’s), it will send out a zero window advertisement, which will put that direction of the connection on hold. When buffer space eventually frees up, the kernel will send an unsolicited window update with a non-zero window size, and the data transfer continues. To be safe, just in case this unsolicited window update is lost, the other end will regularly poll the connection state using the so-called Zero Window Probes (the &lt;code&gt;persist&lt;/code&gt; mode we are seeing here).&lt;/p&gt;
&lt;h2 id=&quot;the-window-is-stuck-closed&quot;&gt;The window is stuck closed&lt;/h2&gt;
&lt;p&gt;It’s now time to dive a couple of layers deeper and use &lt;code&gt;tcpdump&lt;/code&gt; to see what’s going on at the network level:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[…]
09:34:34.165148 0c:c4:7a:f9:68:e4 &amp;gt; 0c:c4:7a:f9:69:78, ethertype IPv6 (0x86dd), length 86: (flowlabel 0xcbf6f, hlim 64, next-header TCP (6) payload length: 32) 2001:db8:2a::3.38022 &amp;gt; 2001:db8:2a::18.873: Flags [.], cksum 0x711b (incorrect -&amp;gt; 0x4d39), seq 4212361595, ack 1253278418, win 16384, options [nop,nop,TS val 2864739840 ecr 2885730760], length 0
09:34:34.165354 0c:c4:7a:f9:69:78 &amp;gt; 0c:c4:7a:f9:68:e4, ethertype IPv6 (0x86dd), length 86: (flowlabel 0x25712, hlim 64, next-header TCP (6) payload length: 32) 2001:db8:2a::18.873 &amp;gt; 2001:db8:2a::3.38022: Flags [.], cksum 0x1914 (correct), seq 1253278418, ack 4212361596, win 13831, options [nop,nop,TS val 2885760967 ecr 2863021624], length 0
[… repeats every 2 mins]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first packet is the rsync client’s zero window probe, the second packet is the server’s response. Surprisingly enough, the server is advertising a non-zero window size of 13831 bytes¹ which the client apparently ignores.&lt;/p&gt;
&lt;p&gt;¹ actually multiplied by 128 because of a &lt;a href=&quot;https://en.wikipedia.org/wiki/TCP_window_scale_option&quot;&gt;window scaling&lt;/a&gt; factor of 7&lt;/p&gt;
&lt;p&gt;We are finally making some progress and have a case to work on! At some point the client encountered a zero window advertisement from the server as part of regular TCP flow control, but then the window failed to re-open for some reason. The client seems to be still ignoring the new window advertised by the server and this is why the transfer is stuck.&lt;/p&gt;
&lt;h2 id=&quot;linux-tcp-input-processing&quot;&gt;Linux TCP input processing&lt;/h2&gt;
&lt;p&gt;By now it’s obvious that the TCP connection is in a weird state on the rsync client. Since TCP flow control happens at the kernel level, to get to the root of this we need to look at how the Linux kernel handles incoming TCP acknowledgments and try to figure out why it ignores the incoming window advertisement.&lt;/p&gt;
&lt;p&gt;Incoming TCP packet processing happens in &lt;a href=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/net/ipv4/tcp_input.c&quot;&gt;&lt;code&gt;net/ipv4/tcp_input.c&lt;/code&gt;&lt;/a&gt;.Despite the &lt;code&gt;ipv4&lt;/code&gt; component in the path, this is mostly shared code between IPv4 and IPv6.&lt;/p&gt;
&lt;p&gt;Digging a bit through the code we find out that incoming window updates are handled in &lt;a href=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/net/ipv4/tcp_input.c?id=c3df39ac9b0e3747bf8233ea9ce4ed5ceb3199d3#n3552&quot;&gt;&lt;code&gt;tcp_ack_update_window&lt;/code&gt;&lt;/a&gt; and actually updating the window is guarded by the following function:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/* Check that window update is acceptable.&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt; * The function assumes that snd_una&amp;lt;=ack&amp;lt;=snd_next.&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;tcp_may_update_window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tcp_sock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u32&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u32&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ack_seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u32&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nwin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_una&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;❶&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ack_seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_wl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;❷&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ack_seq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_wl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nwin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_wnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;❸&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;ack&lt;/code&gt;, &lt;code&gt;ack_seq&lt;/code&gt;, &lt;code&gt;snd_wl1&lt;/code&gt; and &lt;code&gt;snd_una&lt;/code&gt; variables hold TCP sequence numbers that are used in TCP’s sliding window to keep track of the data exchanged over the wire. These sequence numbers are 32-bit unsigned integers (&lt;code&gt;u32&lt;/code&gt;) and are incremented by 1 for each byte that is exchanged, beginning from an arbitrary initial value (&lt;em&gt;initial sequence number&lt;/em&gt;). In particular:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;ack_seq&lt;/code&gt; is the sequence number of the incoming segment&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ack&lt;/code&gt; is the &lt;em&gt;acknowledgment number&lt;/em&gt; contained in the incoming segment, i.e. it acknowledges the sequence number of the last segment the peer received from us.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snd_wl1&lt;/code&gt; is the sequence number of the incoming segment that last updated the peer’s receive window.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snd_una&lt;/code&gt; is the sequence number of the first &lt;em&gt;unacknowledged&lt;/em&gt; segment, i.e. a segment we have sent but has not been yet acknowledged by the peer.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Being fixed-size integers, the sequence numbers will eventually wrap around, so the &lt;code&gt;after()&lt;/code&gt; macro takes care of comparing two sequence numbers &lt;a href=&quot;https://en.wikipedia.org/wiki/Serial_number_arithmetic&quot;&gt;in the face of wraparounds&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For the record, the &lt;code&gt;snd_una&lt;/code&gt; and &lt;code&gt;snd_wl1&lt;/code&gt; names come directly from the &lt;a href=&quot;https://tools.ietf.org/html/rfc793#section-3.2&quot;&gt;original TCP specification in RFC 793&lt;/a&gt;, back in 1981!&lt;/p&gt;
&lt;p&gt;Translating the rather cryptic check into plain English, we are willing to accept a window update from a peer if:&lt;/p&gt;
&lt;dl&gt;&lt;dt&gt;❶&lt;/dt&gt;
&lt;dd&gt;our peer acknowledges the receipt of data we previously sent; &lt;em&gt;or&lt;/em&gt;&lt;/dd&gt;
&lt;dt&gt;❷&lt;/dt&gt;
&lt;dd&gt;our peer is sending new data since the previous window update; &lt;em&gt;or&lt;/em&gt;&lt;/dd&gt;
&lt;dt&gt;❸&lt;/dt&gt;
&lt;dd&gt;our peer isn’t sending us new data since the previous window update, but is advertising a larger window&lt;/dd&gt;
&lt;/dl&gt;&lt;p&gt;Note that the comparison of &lt;code&gt;ack_seq&lt;/code&gt; with &lt;code&gt;snd_wl1&lt;/code&gt; is done to make sure that the window is not accidentally updated by a (retransmission of a) segment that was seen earlier.&lt;/p&gt;
&lt;p&gt;In our case, at least condition ❸ should be able to re-open the window, but apparently it doesn’t and we need access to these variables to figure out what is happening. Unfortunately, these variables are part of the internal kernel state and are not directly exposed to userspace, so it’s time to get a bit creative.&lt;/p&gt;
&lt;h2 id=&quot;accessing-the-internal-kernel-state&quot;&gt;Accessing the internal kernel state&lt;/h2&gt;
&lt;p&gt;To get access to the kernel state, we somehow need to run code inside the kernel. One way would be to patch the kernel with a few &lt;code&gt;printk()&lt;/code&gt; calls here and there, but that would require rebooting the machine and waiting for rsync to hang again. Rather, we opted to live-patch the kernel using &lt;a href=&quot;https://sourceware.org/systemtap/&quot;&gt;systemtap&lt;/a&gt; with the following script:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-perl&quot; data-lang=&quot;perl&quot;&gt;&lt;span class=&quot;n&quot;&gt;probe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kernel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;statement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tcp_ack@./net/ipv4/tcp_input.c:3751&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sk_send_head&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;ack_seq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$skb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_skb_cb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;net/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;
          &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ack: %d, ack_seq: %d, prior_snd_una: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ack_seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$prior_snd_una&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sk_send_head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_skb_cb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;net/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;end_seq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sk_send_head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_skb_cb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;net/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;end_seq&lt;/span&gt;
          &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sk_send_head seq:%d, end_seq: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end_seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

          &lt;span class=&quot;n&quot;&gt;snd_wnd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_sock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;linux/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_wnd&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;snd_wl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_sock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;linux/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;snd_wl1&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;ts_recent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_sock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;linux/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rx_opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ts_recent&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;rcv_tsval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@cast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tcp_sock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;kernel&amp;lt;linux/tcp.h&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rx_opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rcv_tsval&lt;/span&gt;
          &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;snd_wnd: %d, tcp_wnd_end: %d, snd_wl1: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;snd_wnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$prior_snd_una&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;snd_wnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;snd_wl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;flag: %x, may update window: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;rcv_tsval: %d, ts_recent: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rcv_tsval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ts_recent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Systemtap works by converting systemtap scripts into C and building a kernel module that hot-patches the kernel and overrides specific instructions. Here we overrode &lt;code&gt;tcp_ack()&lt;/code&gt;, hooked at its end and dumped the internal TCP connection state. The &lt;code&gt;$sk-&amp;gt;sk_send_head != NULL&lt;/code&gt; check is a quick way to only match connections that have a non-empty &lt;code&gt;Send-Q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Loading the resulting module into the kernel gave us the following:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ack: 4212361596, ack_seq: 1253278418, prior_snd_una: 4212361596
sk_send_head seq:4212361596, end_seq: 4212425472
snd_wnd: 0, tcp_wnd_end: 4212361596, snd_wl1: 1708927328
flag: 4100, may update window: 0
rcv_tsval: 2950255047, ts_recent: 2950255047&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The two things of interest here are &lt;code&gt;snd_wl1: 1708927328&lt;/code&gt; and &lt;code&gt;ack_seq: 1253278418&lt;/code&gt;. Not only are they not identical as we would expect, but actually &lt;code&gt;ack_seq&lt;/code&gt; is &lt;em&gt;smaller&lt;/em&gt; than &lt;code&gt;snd_wl1&lt;/code&gt;, indicating that &lt;code&gt;ack_seq&lt;/code&gt; wrapped around at some point and &lt;code&gt;snd_wl1&lt;/code&gt; has not been updated for a while. Using the &lt;a href=&quot;https://en.wikipedia.org/wiki/Serial_number_arithmetic&quot;&gt;serial number arithmetic&lt;/a&gt; rules, we can figure out that this end has received (at least) 3.8 GB since the last update of &lt;code&gt;snd_wl1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We already saw that &lt;code&gt;snd_wl1&lt;/code&gt; contains the last sequence number used to update the peer’s receive window (and thus our send window), with the ultimate purpose of guarding against window updates from old segments. It should be okay if &lt;code&gt;snd_wl1&lt;/code&gt; is not updated for a while, but it should not lag too far behind &lt;code&gt;ack_seq&lt;/code&gt;, or else we risk rejecting valid window updates, as in this case. So it looks like the Linux kernel fails to update &lt;code&gt;snd_wl1&lt;/code&gt; under some circumstances, which leads to an inability to recover from a zero-window condition.&lt;/p&gt;
&lt;p&gt;Having tangible proof that something was going on in the kernel, it was time to get people familiar with the networking code in the loop.&lt;/p&gt;
&lt;h2 id=&quot;taking-things-upstream&quot;&gt;Taking things upstream&lt;/h2&gt;
&lt;p&gt;After sleeping on this, we wrote a good summary of what we knew so far and what we supposed was happening, and reached out to &lt;a href=&quot;https://lore.kernel.org/netdev/87eelz4abk.fsf@marvin.dmesg.gr/T/#u&quot;&gt;the Linux networking maintainers&lt;/a&gt;. Confirmation came less than two hours later, &lt;a href=&quot;https://lore.kernel.org/netdev/87eelz4abk.fsf@marvin.dmesg.gr/T/#mf568052a4f9d76d847ae192d3632b8e87083d75a&quot;&gt;together with a patch by Neal Cardwell&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Apparently, the bug was in the &lt;em&gt;bulk receiver fast-path&lt;/em&gt;, a code path that skips most of the expensive, strict TCP processing to optimize for the common case of bulk data reception. This is a significant optimization, outlined 28 years ago² by Van Jacobson in his &lt;a href=&quot;https://www.pdl.cmu.edu/mailinglists/ips/mail/msg00133.html&quot;&gt;“TCP receive in 30 instructions” email&lt;/a&gt;. Apparently the Linux implementation did not update &lt;code&gt;snd_wl1&lt;/code&gt; while in the receiver fast path. If a connection uses the fast path for too long, &lt;code&gt;snd_wl1&lt;/code&gt; will fall so far behind that &lt;code&gt;ack_seq&lt;/code&gt; will wrap around with respect to it. And if this happens while the receive window is zero, there is no way to re-open the window, as demonstrated above. What’s more, this bug had been present in Linux &lt;a href=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/history/history.git/commit/net/ipv4/tcp_input.c?h=2.1.8&amp;amp;id=0f9cac5b27076f801b29a0867868e1bce7310e00&amp;amp;ignorews=1&quot;&gt;since v2.1.8&lt;/a&gt;, dating back to 1996!&lt;/p&gt;
&lt;p&gt;² This optimization is still relevant today: a relatively recent &lt;a href=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=45f119bf936b1f9f546a0b139c5b56f9bb2bdc78&quot;&gt;attempt&lt;/a&gt; to remove the header prediction code and associated fast paths to simplify the code was &lt;a href=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=31770e34e43d6c8dee129bfee77e56c34e61f0e5&quot;&gt;reverted&lt;/a&gt; on performance regression grounds.&lt;/p&gt;
&lt;p&gt;As soon as we got the patch, we applied it, rebuilt the kernel, deployed it on the affected machines and waited to see if the issue was fixed. A couple of days later we were certain that the fix was indeed correct and did not cause any ill side-effects.&lt;/p&gt;
&lt;p&gt;After a bit of discussion, the &lt;a href=&quot;https://patchwork.ozlabs.org/project/netdev/patch/20201022143331.1887495-1-ncardwell.kernel@gmail.com/&quot;&gt;final commit&lt;/a&gt; landed in &lt;code&gt;linux-net&lt;/code&gt;, and from there it was merged into Linux mainline for 5.10-rc1. Eventually it found its way to the stable 4.9 and 4.19 kernel series that we use on our Debian systems, in 4.9.241 and 4.19.153 respectively.&lt;/p&gt;
&lt;h2 id=&quot;aftermath&quot;&gt;Aftermath&lt;/h2&gt;
&lt;p&gt;With the fix in place, we still had a couple of questions to answer, namely:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;How is it possible for a TCP bug that leads to stuck connections to go unnoticed for 24 years?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Out of an infrastructure with more than 600 systems running all kinds of software, how come we only witnessed this bug when using rsync?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;It’s hard to give a definitive answer to these questions, but we can reason about it this way:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;
&lt;p&gt;This bug will not be triggered by most L7 protocols. In “synchronous” request-response protocols such as HTTP, usually each side will consume all available data before sending. In this case, even if &lt;code&gt;snd_wl1&lt;/code&gt; wraps around, the bulk receiver will be left with a non-zero window and will still be able to send out data, causing the next acknowledgment to update the window and adjust &lt;code&gt;snd_wl1&lt;/code&gt; through check ❶ in &lt;code&gt;tcp_may_update_window&lt;/code&gt;. &lt;code&gt;rsync&lt;/code&gt; on the other hand uses a pretty aggressive pipeline where the server might send out multi-GB responses without consuming incoming data in the process. Even in &lt;code&gt;rsync&lt;/code&gt;’s case, using &lt;code&gt;rsync&lt;/code&gt; over SSH (a rather common combination) rather than the plain TCP transport would not expose this bug, as SSH framing/signaling would most likely not allow data to queue up on the server this way.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Regardless of the application protocol, the receiver must remain long enough (for at least 2GB) with a zero send window in the fast path to cause a wrap-around — but not too long for &lt;code&gt;ack_seq&lt;/code&gt; to overtake &lt;code&gt;snd_wl1&lt;/code&gt; again. For this to happen, there must be no packet loss or other conditions that would cause the fast path’s header prediction to fail. This is very unlikely to happen in practice as TCP itself determines the network capacity by actually causing packets to be lost.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most applications will care about network timeouts and will either fail or reconnect, making it appear as a “random network glitch” and leaving no trace to debug behind.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Finally, even if none of the above happens and you end up with a stuck TCP connection, it takes a lot of annoyance to decide to deal with it and drill deep in kernel code. And when you do, you are rewarded with a nice adventure, where you get to learn about internet protocol history, have a glimpse at kernel internals, and witness open source work in motion!&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;If you enjoyed reading this post and you like hunting weird bugs and looking at kernel code, you might want to drop us a line — we are always looking for talented &lt;a href=&quot;https://apply.workable.com/skroutz/j/485671FB1F/&quot;&gt;SREs&lt;/a&gt; and &lt;a href=&quot;https://apply.workable.com/skroutz/j/9D8A0589DE/&quot;&gt;DevOps Engineers&lt;/a&gt;!&lt;/p&gt;

</description>
<pubDate>Thu, 11 Feb 2021 15:12:09 +0000</pubDate>
<dc:creator>greenonion</dc:creator>
<og:type>article</og:type>
<og:title>Uncovering a 24-year-old bug in the Linux Kernel</og:title>
<og:description>How a failing rsync run led to the discovery of a long-standing bug in the Linux TCP implementation.</og:description>
<og:url>https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</dc:identifier>
</item>
<item>
<title>AMD Is Currently Hiring More Linux Engineers</title>
<link>https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-Hiring-More-Linux-2021</link>
<guid isPermaLink="true" >https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-Hiring-More-Linux-2021</guid>
<description>&lt;div&gt;&lt;img alt=&quot;AMD -- &quot; src=&quot;https://www.phoronix.com/assets/categories/amd.jpg&quot; width=&quot;100&quot; height=&quot;100&quot;/&gt;&lt;/div&gt;
It looks like thanks to AMD's increasing sales and continuing successes in the enterprise space with more HPC wins and the like, AMD is hiring more Linux engineers. AMD currently has several interesting job openings on the Linux front.&lt;p&gt;While AMD has been delivering reliable Linux support with their recent launches, there is room for improvement in areas like more timely compiler support for new processors, better alignment of their new hardware enablement for getting the code not only upstreamed but into distributions for launch-day, and similar areas. Based on recent job postings, it looks like AMD is working to make such strides.&lt;/p&gt;&lt;p&gt;Here is a look at some of the new and currently active Linux-related job openings at AMD:&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://jobs.amd.com/job/Austin-Manager-Linux-Kernel-Development-81683-Texa/696192800/&quot;&gt;Manager Linux Kernel Development&lt;/a&gt; - AMD is looking for a manager to see over all their Linux kernel and virtualization development team. The manager will oversee the engineers working on designing/implementing/testing the Linux features for AMD CPUs. I am not aware of any &quot;Linux manager&quot; currently at AMD so hopefully that increased coordination can lead to more punctual hardware enablement and striking a rhythm like Intel is known for with their Linux hardware support.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://jobs.amd.com/job/Austin-Linux-Technical-Lead-Client-82516-Texa/706353700/&quot;&gt;Linux Technical Lead&lt;/a&gt; - This admittedly sounds like a very fun one and even piqued my personal interest. (Heck partially seems along the lines of what I often end up doing externally for the community with relentlessly trawling of Git repositories and development mailing lists in pointing out new AMD support code and commentary and pointing out base support requirements at launch and versions/patches for more optimized support. Plus benchmarking.) The client engineering Linux lead workload will include coordinating with OEM partners and the tier one Linux distributions around new features and components. This also includes working with those Linux distribution vendors and partners on optimized platform feature support and similar scenarios. Basically, seeing that their partners and distributions stay up-to-date on the AMD Linux support. Hopefully such a lead at AMD will indeed help ensure necessary patches or version requirements are in place for seeing good launch-day Linux support with the major distributions.&lt;/p&gt;&lt;p&gt;AMD is also hiring for &lt;a href=&quot;https://jobs.amd.com/job/Austin-Linux-Engineer-Client-82519-Texa/706675700/&quot;&gt;Linux engineering&lt;/a&gt; and &lt;a href=&quot;https://jobs.amd.com/job/Austin-Linux-Systems-Architect-82517-Texa/706345000/&quot;&gt;Linux systems architect&lt;/a&gt;, among other traditional software/hardware engineering roles.&lt;br/&gt;&lt;/p&gt;&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;https://www.phoronix.com/image-viewer.php?id=2021&amp;amp;image=amd_more_engineers_lrg&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://www.phoronix.net/image.php?id=2021&amp;amp;image=amd_more_engineers_med&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;br/&gt;Several of these new job descriptions do begin with, &quot;&lt;em&gt;step up into a new organization built to engage more strategically and deeply with the technical teams of our commercial customers.&lt;/em&gt;&quot; Interestingly, I only see that opening line on their current Linux job postings. When asking AMD if there is a &quot;new (Linux) organization&quot; at AMD, the comment was there is no organization to announce but this is part of the overall expansion at AMD. So for now it's back to dreaming about a new unit akin to the defunct &lt;a href=&quot;https://www.phoronix.com/scan.php?page=news_item&amp;amp;px=MTIyMzI&quot;&gt;AMD Operating System Research Center&lt;/a&gt; that previously drove their Linux support or Intel's former Open-Source Technology Center.&lt;p&gt;In any case, great seeing AMD ramping up their Linux talent. See &lt;a href=&quot;https://jobs.amd.com/search/?q=Linux&amp;amp;q2=&amp;amp;alertId=&amp;amp;locationsearch=&amp;amp;title=&amp;amp;location=Austin&quot;&gt;this Linux jobs search&lt;/a&gt; for more of the open positions at AMD, which does include some 2021 internships as well.&lt;/p&gt;&lt;p&gt;Related to our interests, there are also a number of firmware engineer job openings &lt;a href=&quot;https://jobs.amd.com/search/?createNewAlert=false&amp;amp;q=Coreboot&amp;amp;locationsearch=&quot;&gt;mentioning Coreboot&lt;/a&gt;, including some noting &quot;this role enables Coreboot technology on AMD products&quot; -- which may just be for Chromebooks or could be for future server support (some of the posts do mention Chromebooks but not all).&lt;/p&gt;&lt;p&gt;&lt;em&gt;What areas would you like to see AMD improve with regard to their Linux support? Share your thoughts by commenting on this article in the forums.&lt;/em&gt;&lt;/p&gt;</description>
<pubDate>Thu, 11 Feb 2021 14:58:32 +0000</pubDate>
<dc:creator>thg</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-Hiring-More-Linux-2021</dc:identifier>
</item>
<item>
<title>MasterCard to open up network to cryptocurrencies</title>
<link>https://www.reuters.com/article/us-crypto-currency-mastercard/mastercard-to-open-up-network-to-select-cryptocurrencies-idUSKBN2AA2WF</link>
<guid isPermaLink="true" >https://www.reuters.com/article/us-crypto-currency-mastercard/mastercard-to-open-up-network-to-select-cryptocurrencies-idUSKBN2AA2WF</guid>
<description>&lt;div class=&quot;ArticleBody-byline-container-3H6dy&quot;&gt;
&lt;p class=&quot;Byline-byline-1sVmo ArticleBody-byline-10B7D&quot;&gt;By &lt;span class=&quot;TextLabel__text-label___3oCVw TextLabel__black___2FN-Z TextLabel__serif___3lOpX Byline-author-2BSir&quot; target=&quot;_blank&quot;&gt;Reuters Staff&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;ArticleBody-read-time-and-social-2VOIr&quot;&gt;
&lt;p class=&quot;TextLabel__text-label___3oCVw TextLabel__gray___1V4fk TextLabel__small-all-caps-spaced-out___3O9H4 ReadTime-read-time-1s3CG ArticleBody-read-time-29pGN&quot;&gt;2 Min Read&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;FILE PHOTO: A Mastercard logo is seen on a credit card in this picture illustration August 30, 2017. REUTERS/Thomas White/File Photo&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;(Reuters) - Mastercard Inc said on Wednesday it was planning to offer support for some cryptocurrencies on its network this year, joining a string of big-ticket firms that have pledged similar support.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;The credit-card giant’s announcement comes days after Elon Musk’s Tesla Inc revealed it had purchased $1.5 billion of bitcoin and would soon accept it as a form of payment.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Asset manager BlackRock Inc and payments companies Square and PayPal have also recently backed cryptocurrencies.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Mastercard already offers customers cards that allow people to transact using their cryptocurrencies, although without going through its network.&lt;/p&gt;

&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;&quot;Doing this work will create a lot more possibilities for shoppers and merchants, allowing them to transact in an entirely new form of payment. This change may open merchants up to new customers who are already flocking to digital assets,&quot; Mastercard said. (&lt;a href=&quot;https://mstr.cd/3tLaPZM&quot;&gt;mstr.cd/3tLaPZM&lt;/a&gt;)&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Mastercard specified that not all cryptocurrencies will be supported on its network, adding that many of the hundreds of digital assets in circulation still need to tighten their compliance measures.&lt;/p&gt;
&lt;p class=&quot;Paragraph-paragraph-2Bgue ArticleBody-para-TD_9x&quot;&gt;Many cryptocurrencies have struggled to win the trust of mainstream investors and the general public due to their speculative nature and potential for money laundering.&lt;/p&gt;
&lt;div readability=&quot;4.9444444444444&quot;&gt;
&lt;div class=&quot;Attribution-attribution-Y5JpY&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;Reporting by Noor Zainab Hussain in Bengaluru; Editing by Ramakrishnan M.&lt;/p&gt;
&lt;/div&gt;

&lt;/div&gt;
</description>
<pubDate>Thu, 11 Feb 2021 14:54:12 +0000</pubDate>
<dc:creator>ArtTimeInvestor</dc:creator>
<og:title>Mastercard to open up network to select cryptocurrencies</og:title>
<og:description>Mastercard Inc said on Wednesday it was planning to offer support for some cryptocurrencies on its network this year, joining a string of big-ticket firms that have pledged similar support.</og:description>
<og:image>https://static.reuters.com/resources/r/?m=02&amp;d=20210211&amp;t=2&amp;i=1551122467&amp;r=LYNXMPEH19204&amp;w=800</og:image>
<og:url>https://www.reuters.com/article/us-crypto-currency-mastercard-idUSKBN2AA2WF</og:url>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.reuters.com/article/us-crypto-currency-mastercard/mastercard-to-open-up-network-to-select-cryptocurrencies-idUSKBN2AA2WF</dc:identifier>
</item>
<item>
<title>The Vaccine Had to Be Used. He Used It. He Was Fired</title>
<link>https://nyti.ms/3q5J38a</link>
<guid isPermaLink="true" >https://nyti.ms/3q5J38a</guid>
<description>&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;In recent years, Dr. Gokal split his time between two area hospitals. But when the pandemic hit in early 2020, he lived for a month in a hotel and an apartment rather than risk infecting his wife, Maria, 47, who has pulmonary sarcoidosis, a disease in her lungs that leaves her winded after even minimal activity.&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;“I was petrified to go home and bring Covid to my wife,” he said.&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;Fortunately, he said, the Harris County Public Health department recruited him in April to become the medical director for its Covid-response team. The job paid less, but he was eager to protect his wife by limiting his exposure to the coronavirus in emergency rooms.&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;On Dec. 22, Dr. Gokal joined a conference call in which state health officials explained the protocols for administering the recently approved Moderna vaccine. The 10 or 11 doses in a vial are viable for six hours after the seal is punctured.&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;Dr. Gokal said the advice was to vaccinate people eligible under the 1(a) category (health care workers and residents in long-term-care facilities), then those under the 1(b) category (people over 65 or with a health condition that increases risk of severe Covid-related illness).&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;After that, he said, the message was: “Just put it in people’s arms. We don’t want any doses to go to waste. Period.”&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;On Dec. 29, a mild Tuesday, Dr. Gokal arrived before dawn at a park in the Houston suburb of Humble to supervise a vaccination event intended mostly for emergency workers. In part because of minimal publicity, the pace was slow, with no more than 250 doses administered. But this was the county’s first public event, he said. “We knew there would be hiccups.”&lt;/p&gt;&lt;p class=&quot;css-axufdj evys1bk0&quot;&gt;Around 6:45 at night, as the event wound down, an eligible person arrived for a shot. A nurse punctured a new vial to administer the vaccine, which activated the six-hour time limit for the 10 remaining doses.&lt;/p&gt;</description>
<pubDate>Thu, 11 Feb 2021 14:43:24 +0000</pubDate>
<dc:creator>Clewza313</dc:creator>
<og:url>https://www.nytimes.com/2021/02/10/us/houston-doctor-fired-covid-vaccine.html</og:url>
<og:type>article</og:type>
<og:title>The Vaccine Had to Be Used. He Used It. He Was Fired.</og:title>
<og:image>https://static01.nyt.com/images/2021/02/09/multimedia/00covid-doctor-1/00covid-doctor-1-facebookJumbo.jpg</og:image>
<og:description>Ten doses of the Covid-19 vaccine would expire within hours, so a Houston doctor gave it to people with medical conditions, including his wife. What followed was “the lowest moment in my life,” Dr. Hasan Gokal said.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nytimes.com/2021/02/10/us/houston-doctor-fired-covid-vaccine.html</dc:identifier>
</item>
<item>
<title>Rust 1.50</title>
<link>https://blog.rust-lang.org/2021/02/11/Rust-1.50.0.html</link>
<guid isPermaLink="true" >https://blog.rust-lang.org/2021/02/11/Rust-1.50.0.html</guid>
<description>&lt;p&gt;Feb. 11, 2021 · The Rust Release Team&lt;/p&gt;&lt;div readability=&quot;121.60765550239&quot;&gt;
&lt;p&gt;The Rust team is happy to announce a new version of Rust, 1.50.0. Rust is a programming language that is empowering everyone to build reliable and efficient software.&lt;/p&gt;
&lt;p&gt;If you have a previous version of Rust installed via rustup, getting Rust 1.50.0 is as easy as:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-console&quot;&gt;rustup update stable
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you don't have it already, you can &lt;a href=&quot;https://www.rust-lang.org/install.html&quot;&gt;get &lt;code&gt;rustup&lt;/code&gt;&lt;/a&gt; from the appropriate page on our website, and check out the &lt;a href=&quot;https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1500-2021-02-11&quot;&gt;detailed release notes for 1.50.0&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;h2&gt;What's in 1.50.0 stable&lt;/h2&gt;
&lt;p&gt;For this release, we have improved array indexing, expanded safe access to union fields, and added to the standard library. See the &lt;a href=&quot;https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1500-2021-02-11&quot;&gt;detailed release notes&lt;/a&gt; to learn about other changes not covered by this post.&lt;/p&gt;
&lt;h3&gt;Const-generic array indexing&lt;/h3&gt;
&lt;p&gt;Continuing the march toward stable &lt;code&gt;const&lt;/code&gt; generics, this release adds implementations of &lt;code&gt;ops::Index&lt;/code&gt; and &lt;code&gt;IndexMut&lt;/code&gt; for arrays &lt;code&gt;[T; N]&lt;/code&gt; for &lt;em&gt;any&lt;/em&gt; length of &lt;code&gt;const N&lt;/code&gt;. The indexing operator &lt;code&gt;[]&lt;/code&gt; already worked on arrays through built-in compiler magic, but at the type level, arrays didn't actually implement the library traits until now.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-rust&quot;&gt;fn second&amp;lt;C&amp;gt;(container: &amp;amp;C) -&amp;gt; &amp;amp;C::Output
where
    C: std::ops::Index&amp;lt;usize&amp;gt; + ?Sized,
{
    &amp;amp;container[1]
}

fn main() {
    let array: [i32; 3] = [1, 2, 3];
    assert_eq!(second(&amp;amp;array[..]), &amp;amp;2); // slices worked before
    assert_eq!(second(&amp;amp;array), &amp;amp;2); // now it also works directly
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;&lt;code&gt;const&lt;/code&gt; value repetition for arrays&lt;/h3&gt;
&lt;p&gt;Arrays in Rust can be written either as a list &lt;code&gt;[a, b, c]&lt;/code&gt; or a repetition &lt;code&gt;[x; N]&lt;/code&gt;. For lengths &lt;code&gt;N&lt;/code&gt; greater than one, repetition has only been allowed for &lt;code&gt;x&lt;/code&gt;s that are &lt;code&gt;Copy&lt;/code&gt;, and &lt;a href=&quot;https://rust-lang.github.io/rfcs/2203-const-repeat-expr.html&quot;&gt;RFC 2203&lt;/a&gt; sought to allow any &lt;code&gt;const&lt;/code&gt; expression there. However, while that feature was unstable for arbitrary expressions, its implementation since Rust 1.38 accidentally allowed stable use of &lt;code&gt;const&lt;/code&gt; &lt;em&gt;values&lt;/em&gt; in array repetition.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-rust&quot;&gt;fn main() {
    // This is not allowed, because `Option&amp;lt;Vec&amp;lt;i32&amp;gt;&amp;gt;` does not implement `Copy`.
    let array: [Option&amp;lt;Vec&amp;lt;i32&amp;gt;&amp;gt;; 10] = [None; 10];

    const NONE: Option&amp;lt;Vec&amp;lt;i32&amp;gt;&amp;gt; = None;
    const EMPTY: Option&amp;lt;Vec&amp;lt;i32&amp;gt;&amp;gt; = Some(Vec::new());

    // However, repeating a `const` value is allowed!
    let nones = [NONE; 10];
    let empties = [EMPTY; 10];
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;In Rust 1.50, that stabilization is formally acknowledged. In the future, to avoid such &quot;temporary&quot; named constants, you can look forward to inline &lt;code&gt;const&lt;/code&gt; expressions per &lt;a href=&quot;https://rust-lang.github.io/rfcs/2920-inline-const.html&quot;&gt;RFC 2920&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Safe assignments to &lt;code&gt;ManuallyDrop&amp;lt;T&amp;gt;&lt;/code&gt; union fields&lt;/h3&gt;
&lt;p&gt;Rust 1.49 made it possible to add &lt;code&gt;ManuallyDrop&amp;lt;T&amp;gt;&lt;/code&gt; fields to a &lt;code&gt;union&lt;/code&gt; as part of allowing &lt;code&gt;Drop&lt;/code&gt; for unions at all. However, unions don't drop old values when a field is assigned, since they don't know which variant was formerly valid, so safe Rust previously limited this to &lt;code&gt;Copy&lt;/code&gt; types only, which never &lt;code&gt;Drop&lt;/code&gt;. Of course, &lt;code&gt;ManuallyDrop&amp;lt;T&amp;gt;&lt;/code&gt; also doesn't need to &lt;code&gt;Drop&lt;/code&gt;, so now Rust 1.50 allows safe assignments to these fields as well.&lt;/p&gt;
&lt;h3&gt;A niche for &lt;code&gt;File&lt;/code&gt; on Unix platforms&lt;/h3&gt;
&lt;p&gt;Some types in Rust have specific limitations on what is considered a valid value, which may not cover the entire range of possible memory values. We call any remaining invalid value a &lt;a href=&quot;https://rust-lang.github.io/unsafe-code-guidelines/glossary.html#niche&quot;&gt;niche&lt;/a&gt;, and this space may be used for type layout optimizations. For example, in Rust 1.28 we introduced &lt;code&gt;NonZero&lt;/code&gt; integer types (like &lt;code&gt;NonZeroU8&lt;/code&gt;) where &lt;code&gt;0&lt;/code&gt; is a niche, and this allowed &lt;code&gt;Option&amp;lt;NonZero&amp;gt;&lt;/code&gt; to use &lt;code&gt;0&lt;/code&gt; to represent &lt;code&gt;None&lt;/code&gt; with no extra memory.&lt;/p&gt;
&lt;p&gt;On Unix platforms, Rust's &lt;code&gt;File&lt;/code&gt; is simply made of the system's integer file descriptor, and this happens to have a possible niche as well because it can never be &lt;code&gt;-1&lt;/code&gt;! System calls which return a file descriptor use &lt;code&gt;-1&lt;/code&gt; to indicate that an error occurred (check &lt;code&gt;errno&lt;/code&gt;) so it's never possible for &lt;code&gt;-1&lt;/code&gt; to be a real file descriptor. Starting in Rust 1.50 this niche is added to the type's definition so it can be used in layout optimizations too. It follows that &lt;code&gt;Option&amp;lt;File&amp;gt;&lt;/code&gt; will now have the same size as &lt;code&gt;File&lt;/code&gt; itself!&lt;/p&gt;
&lt;h3&gt;Library changes&lt;/h3&gt;
&lt;p&gt;In Rust 1.50.0, there are nine new stable functions:&lt;/p&gt;
&lt;p&gt;And quite a few existing functions were made &lt;code&gt;const&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&quot;https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1500-2021-02-11&quot;&gt;detailed release notes&lt;/a&gt; to learn about other changes.&lt;/p&gt;
&lt;h3&gt;Other changes&lt;/h3&gt;
&lt;p&gt;There are other changes in the Rust 1.50.0 release: check out what changed in &lt;a href=&quot;https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1500-2021-02-11&quot;&gt;Rust&lt;/a&gt;, &lt;a href=&quot;https://github.com/rust-lang/cargo/blob/master/CHANGELOG.md#cargo-150-2021-02-11&quot;&gt;Cargo&lt;/a&gt;, and &lt;a href=&quot;https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md#rust-150&quot;&gt;Clippy&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Contributors to 1.50.0&lt;/h2&gt;
&lt;p&gt;Many people came together to create Rust 1.50.0. We couldn't have done it without all of you. &lt;a href=&quot;https://thanks.rust-lang.org/rust/1.50.0/&quot;&gt;Thanks!&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Thu, 11 Feb 2021 14:43:08 +0000</pubDate>
<dc:creator>joseluisq</dc:creator>
<og:title>Announcing Rust 1.50.0 | Rust Blog</og:title>
<og:description>Empowering everyone to build reliable and efficient software.</og:description>
<og:image>https://www.rust-lang.org/static/images/rust-social-wide.jpg</og:image>
<og:type>website</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.rust-lang.org/2021/02/11/Rust-1.50.0.html</dc:identifier>
</item>
</channel>
</rss>