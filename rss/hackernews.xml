<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Playdate – A New Handheld Gaming System</title>
<link>https://play.date/</link>
<guid isPermaLink="true" >https://play.date/</guid>
<description>&lt;h2 id=&quot;welcome&quot;&gt;Hello. We made a brand new handheld gaming system.&lt;/h2&gt;&lt;p&gt;It’s yellow. It fits in your pocket. It’s got a beautiful black and white screen. It’s not super cheap, but not super expensive. It includes brand new games from some amazing creators. Plus it has a crank.&lt;/p&gt;
&lt;p&gt;OK, yeah, let’s back up a little bit.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;For over 20 years &lt;a href=&quot;https://panic.com&quot;&gt;Panic&lt;/a&gt; has mostly made Mac and iOS software. Twenty years is a long time, and we wanted to try some new things. To make the most of what we have.&lt;/p&gt;
&lt;p&gt;That’s why we started publishing games, like &lt;a href=&quot;https://www.firewatchgame.com/&quot;&gt;Firewatch&lt;/a&gt; and, soon, &lt;a href=&quot;https://goose.game/&quot;&gt;Untitled Goose Game&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But what if we could push ourselves even further? What if we could build something? A real something that you could hold?&lt;/p&gt;
&lt;p&gt;It was harder than we thought, but it’s here.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;And it’s called Playdate&lt;span class=&quot;circleR&quot;&gt;®&lt;/span&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;https://cdn.play.date/img/device-interior-80.jpg&quot; width=&quot;1400&quot; height=&quot;788&quot; alt=&quot;Close-up rendering of a Playdate device with its outer case removed and internal components visible.&quot;/&gt;&lt;p&gt;We love video games.&lt;/p&gt;
&lt;p&gt;We love the places they take us and the feelings they give us. We’ve grown up with them. It sounds silly, but they really mean a lot to us.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Playdate is our celebration of the video game.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We reached out to some top game designers, like Keita Takahashi and Zach Gage and Bennett Foddy and Shaun Inman.&lt;/p&gt;
&lt;p&gt;We showed them Playdate and asked, “Want to make a game for it?”. Then we lost our minds when they said “Yeah!”&lt;/p&gt;
&lt;p&gt;So Playdate isn’t just the hardware.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;It’s twelve brand new video games, one each week.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;What are these games? Here’s the thing: we’d like to keep them a secret until they appear on your Playdate. We want to surprise you.&lt;/p&gt;
&lt;p&gt;Some are short, some long, some are experimental, some traditional. All are fun.&lt;/p&gt;
&lt;p&gt;When your Playdate lights up with a brand new game delivery, we hope you can’t wait to unwrap your gift.&lt;/p&gt;
&lt;p&gt;And there’s so much more to come. Playdate is alive with possibilities and surprises, future games and new ways to make them. We’ll have even more to talk about at launch.&lt;/p&gt;
&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://play.date/img/nowebgl-demo.png&quot; alt=&quot;A Playdate device with its crank extended and a game onscreen.&quot; width=&quot;527&quot; height=&quot;443&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;
&lt;p id=&quot;crank&quot;&gt;&lt;strong&gt;We weren’t kidding about the crank.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It flips out from the side, a rotating analog controller that puts a whole new spin on games.&lt;/p&gt;
&lt;p&gt;Some games use the crank exclusively (like &lt;em&gt;Crankin’s Time Travel Adventure&lt;/em&gt;, above.) Some don’t use it at all.&lt;/p&gt;
&lt;p&gt;But it’s very fun. Extremely fun.&lt;/p&gt;
&lt;p&gt;By the way, the crank came from our friends at &lt;a href=&quot;https://teenage.engineering/&quot;&gt;Teenage Engineering&lt;/a&gt;. They were our partners for Playdate’s design. Isn’t it nice?&lt;/p&gt;
</description>
<pubDate>Wed, 22 May 2019 22:11:56 +0000</pubDate>
<dc:creator>dombili</dc:creator>
<og:title>Playdate. A New Handheld Gaming System</og:title>
<og:description>It’s yellow. It fits in your pocket. It’s got a beautiful black and white screen. Playdate from Panic is coming soon.</og:description>
<og:type>website</og:type>
<og:url>https://play.date/</og:url>
<og:image>https://play.date/social-card.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://play.date/</dc:identifier>
</item>
<item>
<title>US cosmetics are full of chemicals banned by Europe</title>
<link>https://www.theguardian.com/us-news/2019/may/22/chemicals-in-cosmetics-us-restricted-eu</link>
<guid isPermaLink="true" >https://www.theguardian.com/us-news/2019/may/22/chemicals-in-cosmetics-us-restricted-eu</guid>
<description>&lt;p&gt;&lt;span class=&quot;drop-cap&quot;&gt;&lt;span class=&quot;drop-cap__inner&quot;&gt;A&lt;/span&gt;&lt;/span&gt; brief but telling piece of legislation was put forward in Connecticut in January. Just three lines in length, the &lt;a href=&quot;https://www.cga.ct.gov/2019/TOB/s/pdf/2019SB-00075-R00-SB.PDF&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;bill&lt;/a&gt; calls for any cosmetics in the state to “meet the chemical safety standards established by the European Union”.&lt;/p&gt;
&lt;p&gt;The move, unlikely to be made law, is the latest signal of mounting anguish over the enfeebled regulation of everyday products in the US compared with European countries. Across a span of cosmetics, including makeup, toothpaste and shampoo, to items ranging from household cleaners to fruit juice to cheese, hundreds of potentially harmful ingredients banned in the EU are legally allowed in the US.&lt;/p&gt;
&lt;a href=&quot;https://interactive.guim.co.uk/embed/2019/05/toxic-america/v31/embed.html&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;toxic america embed&lt;/a&gt;
&lt;p&gt;“Many Americans are unaware that they are absorbing untested and unsafe chemicals in their products,” said Alex Bergstein, a state senator who put forward the Connecticut legislation. Bergstein was previously the chair of the Mount Sinai Children’s Environmental health center.&lt;/p&gt;
&lt;p&gt;“Generally, the EU has got it right. In the US we have a strong favouritism towards companies and manufacturers, to the extent that public health and the environment is being harmed. The pendulum has swung in an extreme way and it’s really going to take a general awakening by the public.”&lt;/p&gt;
&lt;p&gt;The disparity in standards between the EU and US has grown to the extent it touches almost every element of most Americans’ lives. In &lt;a href=&quot;https://www.beautybyearth.com/over-1000-toxic-ingredients-banned-in-europe-but-not-in-us/&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;cosmetics alone&lt;/a&gt;, the EU has banned or restricted more than 1,300 chemicals while the US has outlawed or curbed just 11.&lt;/p&gt;
&lt;p&gt;It’s possible to find formaldehyde, a known carcinogen banned in EU-sold cosmetics, in US hair-straightening treatments and nail polish. Parabens, linked to reproductive problems, are ruled out in the EU but not the US, where they lurk in skin and hair products. Coal tar dyes can be found in Americans’ eyeshadow, years after they were banned in the EU and Canada.&lt;/p&gt;
&lt;aside class=&quot;element element-pullquote element--supporting&quot;&gt;&lt;blockquote&gt;
&lt;p class=&quot;pullquote-paragraph&quot;&gt;Many Americans are unaware that they are absorbing untested and unsafe chemicals in their products&lt;/p&gt;
&lt;footer&gt;&lt;cite class=&quot;pullquote-cite&quot;&gt;Alex Bergstein&lt;/cite&gt;&lt;/footer&gt;&lt;/blockquote&gt;
&lt;/aside&gt;&lt;p&gt;“In the US it’s really a buyer beware situation,” said Janet Nudelman, director of the &lt;a href=&quot;http://www.safecosmetics.org/&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Campaign for Safe Cosmetics&lt;/a&gt;. “Cosmetics companies can use any raw material that they like and there’s no way to know if they are safe before they reach the shelves. The contrast with the EU is stark and troubling.”&lt;/p&gt;
&lt;p&gt;At the heart of the EU’s approach is what as known as its &lt;a href=&quot;https://echa.europa.eu/regulations/reach/understanding-reach&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Reach (Registration, Evaluation, Authorisation and Restriction of Chemicals)&lt;/a&gt; laws which require manufacturers to prove to regulators that a product is safe before it can be used. The US has similar rules for new chemicals entering the market but no such precautionary principles for the thousands of potential toxins already in use.&lt;/p&gt;
&lt;p&gt;This means that &lt;a href=&quot;https://www.thrillist.com/health/nation/8-food-additives-banned-in-europe-that-are-legal-in-the-united-states&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;certain&lt;/a&gt; &lt;a href=&quot;https://www.chicagotribune.com/business/ct-artificial-food-coloring-0626-biz-20160624-story.html&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;dyes&lt;/a&gt; used in cheese, chocolates and juice are restricted in some European countries such as the UK – where a &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/17825405&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;2007 study&lt;/a&gt; found some artificial colors and preservatives are linked to increased hyperactivity in children – but not the US. Atrazine is the most widely used herbicide in the US but has been banned in Europe since 2003 due to concerns it pollutes water. Lead-based paints were banned in much of Europe before the second world war but it took the US until 1978 to follow suit.&lt;/p&gt;

&lt;div class=&quot;u-responsive-ratio&quot;&gt;&lt;img class=&quot;gu-image&quot; itemprop=&quot;contentUrl&quot; alt=&quot;Products such as shampoo and conditioner contain potentially harmful ingredients that are banned in the EU but legally allowed in the US.&quot; src=&quot;https://i.guim.co.uk/img/media/59762356501c09bec4083d665cfafecd2c56c55b/0_384_5760_3456/master/5760.jpg?width=300&amp;amp;quality=85&amp;amp;auto=format&amp;amp;fit=max&amp;amp;s=4aaca0a70a17248d140ab1eb864a17b9&quot;/&gt;&lt;/div&gt;

Products such as shampoo and conditioner contain potentially harmful ingredients that are banned in the EU but legally allowed in the US. Photograph: Graham Turner/The Guardian
&lt;p&gt;Asbestos exposure has long been known to cause deaths and illnesses but the substance is still not banned in the US. The Environmental Protection Agency (EPA) attempted to do so in 1989 only to be overturned by the federal court following a backlash from manufacturers.&lt;/p&gt;
&lt;p&gt;The clout of powerful industry interests, combined with a regulatory system that demands a high level of proof of harm before any action is taken, has led to the American public being routinely exposed to chemicals that have been rubbed out of the lives of people in countries such as the UK, Germany and France.&lt;/p&gt;
&lt;p&gt;“When the asbestos ban got overturned the EPA got nervous about banning anything,” said Molly Jacobs, a senior researcher at the &lt;a href=&quot;https://www.uml.edu/research/lowell-center/&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Lowell Center for Sustainable Production&lt;/a&gt;. “That was the last time the EPA sought very strict restrictions on industrial chemicals. The EU definitely has stronger policies.”&lt;/p&gt;
&lt;p&gt;Of the more than 40,000 chemicals on the market in the US, the EPA &lt;a href=&quot;https://www.businessinsider.com/epa-only-restricts-9-chemicals-2016-2&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;has only banned six&lt;/a&gt;, including polychlorinated biphenyls (known as PCBs) which are linked to cancers, certain aerosol sprays blamed for the hole in the ozone layer and dioxins, used as an ingredient in Agent Orange, which the US sprayed during the Vietnam war.&lt;/p&gt;
&lt;p&gt;Under a 1976 law called the Toxic Substances Control Act (TSCA) the EPA has the power to limit chemicals, but critics say it is severely flawed. The act largely focuses on new potential toxins and even then &lt;a href=&quot;https://www.ewg.org/enviroblog/2016/05/will-congress-protect-americans-untested-chemicals&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;gives the EPA just 90 days&lt;/a&gt; to work out if new products pose a risk before they hit the market.&lt;/p&gt;
&lt;p&gt;A 2016 amendment known as the Lautenberg Act required the EPA to evaluate all potentially risky chemicals, but progress on this backlog has often appeared painfully slow. “The EPA is playing catchup, and under this administration things aren’t moving very fast at all,” said Jacobs.&lt;/p&gt;
&lt;p&gt;The EPA recently listed 40 chemicals to be assessed for review, including asbestos, formaldehyde and trichloroethylene, which is used in refrigeration and can cause damage to the nervous system and liver. Andrew Wheeler, administrator of the EPA, said the agency was committed to the “successful and timely implementation” of the Lautenberg Act.&lt;/p&gt;
&lt;details data-snippet-id=&quot;bc3be0ed-944a-4f30-b04f-57a92e9d31ea&quot; data-snippet-type=&quot;qanda&quot; class=&quot;atom atom--snippet atom--snippet--qanda&quot;&gt;&lt;span class=&quot;atom--snippet__label&quot;&gt;Q&amp;amp;A&lt;/span&gt;
&lt;h4 class=&quot;atom--snippet__headline&quot;&gt;What is the Toxic America series?&lt;/h4&gt;
&lt;button class=&quot;atom__button atom__button--large atom__button--rounded atom--snippet__handle&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;is-on&quot;&gt; Show&lt;/span&gt; &lt;span class=&quot;is-off&quot;&gt; Hide&lt;/span&gt;&lt;/button&gt;
&lt;div class=&quot;atom--snippet__body&quot;&gt;
&lt;p&gt;The American public is routinely exposed to toxic chemicals that have long been banned in countries such as the UK, Germany and France. If they’re deemed harmful in those countries, why not in the US?&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;From pesticides in our produce to toxic dyes in cosmetics, &lt;a href=&quot;https://www.theguardian.com/us-news/series/toxic-america&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Toxic America&lt;/a&gt; is an ambitious new series to investigate the health risks from exposure to chemicals in our everyday lives.&lt;/p&gt;
&lt;p&gt;The project will:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Hold politicians, the Trump administration, the EPA and the FDA accountable for any regulatory rollbacks and failures keep dangerous chemicals out of products and off of store shelves&lt;/li&gt;
&lt;li&gt;Offer advice on how to navigate the supermarket and make food choices to reduce your exposure&lt;/li&gt;
&lt;li&gt;Look at potential everyday dangers in our homes, from flame retardants in the sofa to carcinogens in dry cleaning&lt;/li&gt;
&lt;li&gt;Explore how plastic pollution is impacting human health&lt;/li&gt;
&lt;li&gt;Report on threats to our drinking water supply&lt;/li&gt;
&lt;li&gt;Deliver rigorous, accessible, scientific reporting that explains what we know about how the chemicals in our environment are impacting our health and raises public awareness about this issue&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Reader support protects The Guardian’s independence and ensures our in-depth environmental journalism remains open to all. Our editorial independence allows us to fight for transparency and accountability – and deliver the facts with clarity. Please help us reach our goal by &lt;a href=&quot;https://support.theguardian.com/us/contribute/toxicamerica&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline js-acquisition-link&quot;&gt;contributing today&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;footer class=&quot;atom--snippet__footer&quot;&gt;&lt;div class=&quot;atom--snippet__feedback&quot;&gt;
&lt;div&gt;Was this helpful?&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__ack&quot; hidden=&quot;&quot; aria-role=&quot;alert&quot; aria-live=&quot;polite&quot;&gt;Thank you for your feedback.&lt;/div&gt;
&lt;/footer&gt;&lt;/details&gt;&lt;p&gt;But while the process has lagged, deaths have mounted. More than &lt;a href=&quot;https://www.edf.org/health/methylene-chloride-paint-strippers-ban-falls-short&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;50 deaths&lt;/a&gt; in the US since the 1980s have been linked to methylene chloride, a &lt;a href=&quot;https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6107a2.htm&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;lethal&lt;/a&gt; &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/2222600&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;ingredient&lt;/a&gt; of paint stripper that has been banned in the EU. The EPA recently got around to banning the chemical from consumer use after a group of retailers voluntarily removed it from shelves.&lt;/p&gt;
&lt;p&gt;It will still be allowed for commercial use, however. “I am deeply disappointed that the EPA has decided to weaken its proposed ban on methylene chloride,” said Wendy Hartley, whose 21-year-old son Kevin died two years ago while using paint stripper on a bathtub, even after receiving training and wearing a protective mask. Hartley is one of two mothers &lt;a href=&quot;https://saferchemicals.org/wp-content/uploads/2019/01/saferchemicals.org_vpirg_et_al_v_wheeler_complaint.pdf&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;who are suing the EPA&lt;/a&gt; claiming that their sons died while using the paint stripper.&lt;/p&gt;
&lt;p&gt;“Workers who use methylene chloride will now be left unprotected and at risk of health issues or death. I will continue my fight until the EPA does its job.”&lt;/p&gt;
&lt;p&gt;But even within the Trump administration, characterized by its zeal for deregulation, there is frustration that regulators have not been able to intervene as strongly as their EU counterparts. The Food and Drug Administration (FDA) recently found asbestos in Claire’s cosmetics but could do little when the company refused to recall the products. Claire’s subsequently withdrew the eyeshadows and compact powders &lt;a href=&quot;https://www.fda.gov/Safety/Recalls/ucm633237.htm&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;voluntarily&lt;/a&gt;.&lt;/p&gt;
&lt;aside class=&quot;element element-pullquote element--supporting&quot;&gt;&lt;blockquote&gt;
&lt;p class=&quot;pullquote-paragraph&quot;&gt;Consumers have to realize they have the power to become more vocal and demand change&lt;/p&gt;
&lt;footer&gt;&lt;cite class=&quot;pullquote-cite&quot;&gt;Alex Bergstein&lt;/cite&gt;&lt;/footer&gt;&lt;/blockquote&gt;
&lt;/aside&gt;&lt;p&gt;Scott Gottlieb, the departing FDA commissioner, said the episode showed that cosmetics regulations unchanged since 1938 are “outdated” and need to be overhauled to ensure public health.&lt;/p&gt;
&lt;p&gt;“To be clear, there are currently no legal requirements for any cosmetic manufacturer marketing products to American consumers to test their products for safety,” Gottlieb &lt;a href=&quot;https://www.fda.gov/NewsEvents/Newsroom/PressAnnouncements/ucm632736.htm&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;said&lt;/a&gt;. “This means that ultimately a cosmetic manufacturer can decide if they’d like to test their product for safety and register it with the FDA.”&lt;/p&gt;
&lt;p&gt;In lieu of any new laws, consumer advocates want federal agencies to act more aggressively and defy chemical industry lobbyists. They concede, however, a more likely recourse is an upwelling of public outrage at the risks faced in mundanities such as applying makeup or eating lunch.&lt;/p&gt;
&lt;p&gt;“I’m hoping for dramatic changes in our politics but there’s little chance of that,” said Bergstein. “The federal government is barely functioning, so consumers have to realize they have the power to become more vocal and demand change. The awareness is still not there, though.”&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;&lt;em&gt;This article has been updated to correct the date of the Lautenberg Act&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

</description>
<pubDate>Wed, 22 May 2019 16:21:28 +0000</pubDate>
<dc:creator>gpresot</dc:creator>
<og:url>http://www.theguardian.com/us-news/2019/may/22/chemicals-in-cosmetics-us-restricted-eu</og:url>
<og:description>A long list of potentially harmful ingredients banned in the EU are legally allowed in the US due to historically relaxed regulations</og:description>
<og:image>https://i.guim.co.uk/img/media/0d94de224c83b51b59044f957a2e807b0e75a77e/0_0_5644_3386/master/5644.jpg?width=1200&amp;height=630&amp;quality=85&amp;auto=format&amp;fit=crop&amp;overlay-align=bottom%2Cleft&amp;overlay-width=100p&amp;overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&amp;s=27154847b11ca04f313d6455aa6fac19</og:image>
<og:type>article</og:type>
<og:title>US cosmetics are full of chemicals banned by Europe – why?</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theguardian.com/us-news/2019/may/22/chemicals-in-cosmetics-us-restricted-eu</dc:identifier>
</item>
<item>
<title>Show HN: Scar – Static websites with HTTPS, a global CDN, and custom domains</title>
<link>https://github.com/cloudkj/scar</link>
<guid isPermaLink="true" >https://github.com/cloudkj/scar</guid>
<description>&lt;div class=&quot;Box-body&quot;&gt;
&lt;article class=&quot;markdown-body entry-content p-5&quot; itemprop=&quot;text&quot;&gt;
&lt;p&gt;Tired of reading outdated blog posts or combing through verbose AWS documentation just to figure out how to deploy your blog? Deploying static websites on AWS shouldn't be so &lt;em&gt;scar&lt;/em&gt;y.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SCAR&lt;/strong&gt; is a deployment stack that make it easy for you to deploy a static website with a custom domain, SSL, and a CDN. All you need is an AWS account to get started in three simple steps:&lt;/p&gt;
&lt;h2&gt;Quick Start&lt;/h2&gt;
&lt;h4&gt;1. Launch a new stack using the AWS console to create all the required resources&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=SCAR&amp;amp;templateURL=https://s3.amazonaws.com/cloudkj/scar_base_template.json&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;https://camo.githubusercontent.com/210bb3bfeebe0dd2b4db57ef83837273e1a51891/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f636c6f7564666f726d6174696f6e2d6578616d706c65732f636c6f7564666f726d6174696f6e2d6c61756e63682d737461636b2e706e67&quot; alt=&quot;Launch stack&quot; data-canonical-src=&quot;https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;2. Update the settings at your domain registrar to use the Route 53 name servers&lt;/h4&gt;
&lt;p&gt;Find the name servers from your newly created &lt;a href=&quot;https://console.aws.amazon.com/route53/home?#hosted-zones:&quot; rel=&quot;nofollow&quot;&gt;Route 53 hosted zone&lt;/a&gt;, then update the &lt;a href=&quot;https://github.com/cloudkj/scar#name-server-settings&quot;&gt;name server settings at your registrar&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;3. Validate the domain for your new &lt;a href=&quot;https://console.aws.amazon.com/acm/home&quot; rel=&quot;nofollow&quot;&gt;ACM certificate&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Find and expand the details of the certificate for your domain in the AWS console, then click the &lt;em&gt;&quot;Create record in Route 53&quot;&lt;/em&gt; buttons in the two prompts for validation.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;That's all, folks!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use the &lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home&quot; rel=&quot;nofollow&quot;&gt;CloudFormation&lt;/a&gt; console to check the status of the stack. Once it has been created, navigate to your given domain, and you should see the SCAR welcome page. You can now upload the contents of your website directly with the &lt;a href=&quot;https://s3.console.aws.amazon.com/s3/home&quot; rel=&quot;nofollow&quot;&gt;S3 console&lt;/a&gt;, or use the &lt;a href=&quot;https://aws.amazon.com/cli/&quot; rel=&quot;nofollow&quot;&gt;AWS CLI&lt;/a&gt; for programmatic control.&lt;/p&gt;
&lt;h2&gt;Stack&lt;/h2&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/cloudkj/scar/blob/master/src/cloudformation/scar_base_template.png&quot;&gt;&lt;img src=&quot;https://github.com/cloudkj/scar/raw/master/src/cloudformation/scar_base_template.png&quot; alt=&quot;SCAR stack&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SCAR&lt;/strong&gt; is a deployment stack for static websites running entirely on AWS, using &lt;strong&gt;S&lt;/strong&gt;3, &lt;strong&gt;C&lt;/strong&gt;loudFront, &lt;strong&gt;A&lt;/strong&gt;mazon Certificate Manager, and &lt;strong&gt;R&lt;/strong&gt;oute 53. For a given domain such as &lt;code&gt;example.com&lt;/code&gt;, the default SCAR stack will create the following:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Two S3 buckets, one for storing the contents of your static website (&lt;code&gt;www.example.com&lt;/code&gt;) and another for redirecting requests for the apex domain (&lt;code&gt;example.com&lt;/code&gt;) to the &lt;code&gt;www&lt;/code&gt; subdomain.&lt;/li&gt;
&lt;li&gt;Two CloudFront distributions, one for each S3 bucket.&lt;/li&gt;
&lt;li&gt;One ACM public SSL/TLS certificate for both &lt;code&gt;example.com&lt;/code&gt; and &lt;code&gt;*.example.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;One Route 53 hosted zone, with an &lt;code&gt;A&lt;/code&gt; record for each CloudFront distribution.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The behavior for the default SCAR stack is to redirect all requests for the apex domain to the &lt;code&gt;www&lt;/code&gt; subdomain, and to redirect all &lt;code&gt;http&lt;/code&gt; requests to &lt;code&gt;https&lt;/code&gt;. All content will be stored in and served out of the &lt;code&gt;www&lt;/code&gt; S3 bucket.&lt;/p&gt;
&lt;p&gt;Additional stacks with slight variations from the default stack are also available:&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Behavior&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;WWW-&amp;gt;Apex&lt;/th&gt;
&lt;th&gt;Apex only&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Apex domain requests&lt;/td&gt;
&lt;td&gt;Redirect to &lt;code&gt;www&lt;/code&gt;&lt;/td&gt;
&lt;td/&gt;
&lt;td/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;www&lt;/code&gt; subdomain requests&lt;/td&gt;
&lt;td/&gt;
&lt;td&gt;Redirect to apex domain&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;http&lt;/code&gt; requests&lt;/td&gt;
&lt;td&gt;Redirect to &lt;code&gt;https&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Redirect to &lt;code&gt;https&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Redirect to &lt;code&gt;https&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td/&gt;
&lt;td&gt;&lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=SCAR&amp;amp;templateURL=https://s3.amazonaws.com/cloudkj/scar_base_template.json&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;https://camo.githubusercontent.com/210bb3bfeebe0dd2b4db57ef83837273e1a51891/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f636c6f7564666f726d6174696f6e2d6578616d706c65732f636c6f7564666f726d6174696f6e2d6c61756e63682d737461636b2e706e67&quot; alt=&quot;Launch stack&quot; data-canonical-src=&quot;https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png&quot;/&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;(Coming Soon)&lt;/td&gt;
&lt;td&gt;(Coming Soon)&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2&gt;Name Server Settings&lt;/h2&gt;
&lt;h2&gt;Development&lt;/h2&gt;
&lt;p&gt;TODO:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Additional templates for bare domain only, www-&amp;gt;root&lt;/li&gt;
&lt;li&gt;See if there's a way to use same set of name servers for Route 53 zone to avoid having to always look up name servers&lt;/li&gt;
&lt;li&gt;Include certificate validation using CNAME DNS record as part of template. Until official CloudFormation support, potential solutions:
&lt;/li&gt;
&lt;li&gt;Add custom resource to delete the CNAME DNS record used for validation in Route 53 hosted zone&lt;/li&gt;
&lt;/ul&gt;&lt;h2&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright © 2019&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;
</description>
<pubDate>Wed, 22 May 2019 14:56:42 +0000</pubDate>
<dc:creator>cloudkj</dc:creator>
<og:image>https://avatars1.githubusercontent.com/u/227462?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>cloudkj/scar</og:title>
<og:url>https://github.com/cloudkj/scar</og:url>
<og:description>Deploy static websites in seconds - with HTTPS, a global CDN, and custom domains. - cloudkj/scar</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://github.com/cloudkj/scar</dc:identifier>
</item>
<item>
<title>IQ rates are dropping in many developed countries</title>
<link>https://www.nbcnews.com/think/opinion/iq-rates-are-dropping-many-developed-countries-doesn-t-bode-ncna1008576</link>
<guid isPermaLink="true" >https://www.nbcnews.com/think/opinion/iq-rates-are-dropping-many-developed-countries-doesn-t-bode-ncna1008576</guid>
<description>&lt;section class=&quot;mb7&quot; readability=&quot;4&quot;&gt;&lt;p&gt;&lt;time data-test=&quot;timestamp__datePublished&quot; class=&quot;relative z-1&quot; itemprop=&quot;datePublished&quot; content=&quot;2019-05-22T08:31:00.000Z&quot; datetime=&quot;Wed May 22 2019 08:31:00 GMT+0000 (UTC)&quot;&gt;May 22, 2019, 8:31 AM UTC&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;By Evan Horowitz&lt;/p&gt;
&lt;/section&gt;&lt;p class=&quot;&quot;&gt;People are getting dumber. That's not a judgment; it's a global fact. In a host of leading nations, IQ scores &lt;a href=&quot;https://www.sciencealert.com/iq-scores-falling-in-worrying-reversal-20th-century-intelligence-boom-flynn-effect-intelligence&quot;&gt;have started to decline&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;Though there are legitimate questions about the relationship between &lt;a href=&quot;https://theconversation.com/the-iq-test-wars-why-screening-for-intelligence-is-still-so-controversial-81428&quot;&gt;IQ and intelligence&lt;/a&gt;, and broad recognition that success depends as much on &lt;a href=&quot;https://qz.com/work/1233940/angela-duckworth-explains-grit-is-the-key-to-success-and-self-confidence/&quot;&gt;other virtues like grit&lt;/a&gt;, &lt;a href=&quot;https://www.guilford.com/books/Contemporary-Intellectual-Assessment/Flanagan-McDonough/9781462535781&quot;&gt;IQ tests in use&lt;/a&gt; throughout the world today really do seem to capture something meaningful and durable. Decades of research have shown that individual IQ scores predict things such as &lt;a href=&quot;https://www.sciencedirect.com/science/article/pii/S0160289606000171&quot;&gt;educational achievement&lt;/a&gt; and &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/19234402&quot;&gt;longevity&lt;/a&gt;. More broadly, the average IQ score of a country is linked to &lt;a href=&quot;https://www.weforum.org/agenda/2015/12/why-your-nations-iq-matters-more-than-your-own/&quot;&gt;economic growth&lt;/a&gt; and &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/21537056&quot;&gt;scientific innovation&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;container___1unUn mv8 smallContainer___VvWON mt2-m&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;text___2iNlR ma0 mt6 f8 lh-none founders-cond&quot;&gt;Even children born to high-IQ parents are slipping down the IQ ladder.&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;&quot;&gt;So if IQ scores are really dropping, that could not only mean 15 more seasons of the Kardashians, but also the potential end of progress on all these other fronts, ultimately leading to fewer scientific breakthroughs, stagnant economies and a general dimming of our collective future.&lt;/p&gt;


&lt;p class=&quot;&quot;&gt;As yet, the United States hasn’t hit this IQ wall — despite what you may be tempted to surmise from the current state of the political debate. But don’t rush to celebrate American exceptionalism: If IQs are dropping in other advanced countries but not here, maybe that means we’re not really an advanced country (&lt;a href=&quot;https://qz.com/879092/the-us-doesnt-look-like-a-developed-country/&quot;&gt;too much poverty&lt;/a&gt;, too little &lt;a href=&quot;https://www.peoplespolicyproject.org/2018/03/26/the-u-s-spends-far-too-little-on-social-welfare/&quot;&gt;social support&lt;/a&gt;).&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;Or — just as troubling — if we are keeping up with the Joneses (or Johanssons and Jacques) in terms of national development, that means we are likely to experience similarly plummeting IQs in the near future. At which point, the U.S. will face the same dangers of intellectual and economic stagnation.&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;&lt;a href=&quot;https://secure.nbcnews.com/optin/think/newsletter?icid=ed_npd_nn_nn_tk-win_181016&quot; target=&quot;_blank&quot;&gt;SIGN UP FOR THE THINK WEEKLY NEWSLETTER HERE&lt;/a&gt;&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;If we want to prevent America from suffering this fate, we’d better figure out why IQs are dropping elsewhere. But it’s uncharted territory. Until recently, IQ scores only moved in one direction: up. And if you're thinking, &quot;Isn't the test set up so that 100 is always the average IQ?,&quot; that's only true because researchers rescale the tests to correct for improving raw scores. (Also, congrats, that’s the kind of critical thinking we don’t want to lose!)&lt;/p&gt;

&lt;p class=&quot;&quot;&gt;These raw scores have been rising on a variety of standard IQ tests for &lt;a href=&quot;https://journals.sagepub.com/doi/abs/10.1177/1745691615577701&quot;&gt;over half a century&lt;/a&gt;. That may sound odd if you think of IQ as largely hereditary. But current IQ tests are designed to measure &lt;a href=&quot;https://blogs.scientificamerican.com/beautiful-minds/what-do-iq-tests-test-interview-with-psychologist-w-joel-schneider/?redirect=1&quot;&gt;core cognitive skills&lt;/a&gt; such as short-term memory, problem-solving speed and visual processing, and rising scores show that these cognitive capabilities can actually be &lt;a href=&quot;https://www.sciencedirect.com/science/article/pii/S0160289618300904&quot;&gt;sharpened by environmental factors&lt;/a&gt; such as higher-quality schools and more demanding workplaces.&lt;/p&gt;
&lt;section class=&quot;related related--relatedContent related___2RfEH single___1bpFv dn-print&quot; data-test=&quot;related&quot;&gt;
&lt;/section&gt;&lt;p class=&quot;&quot;&gt;For a while, rising IQ scores seemed like clear evidence of social progress, palpable proof that humanity was getting steadily smarter — and might even be able to boost brainpower indefinitely. Scholars called it the &quot;Flynn effect,&quot; in homage to J.R. Flynn, the researcher who recognized its full sweep and import.&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;These days, however, &lt;a href=&quot;https://pdf.sciencedirectassets.com/272071/1-s2.0-S0160289617X0007X/1-s2.0-S0160289617302787/main.pdf?x-amz-security-token=AgoJb3JpZ2luX2VjEOf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIFxVZykALebxgKzmTAIeHJlkTmU96qKlb4uKdSsRYUy%2FAiEAqayZJ%2FIbFuc0fo6cMhy6vStTCkXpp44fYy98mf0gtQ8q4wMI4P%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARACGgwwNTkwMDM1NDY4NjUiDJ4YqaOZU3y33JCYmyq3A3lArkT0Q74uNuuP3UFR1YpenDeQxYuFcRUJ0JqtChddAe1fEWPRi4DbLqZbZvE3tCFsejoiybU8v2VcdQJWyHFH%2Bedx0rYkINhETAgQ%2Bd8HOEzGuiyrm7a61MsO1cwx7RD8D9K5Nkoh6BNmYOLtFt%2B84gp%2Bdwfs0UZvaYV6gI1g04Rpd0iGOvoJT0nS1DGHiOwq2AxN%2F9Vc3u5%2FaWzQtk5ilcMsV21hzywDOLfO1H53wYml776tzTkR3%2B6qb90H29s424USZNJdZ1lLpGO1049RtI682gvar%2FhoLQGcWsnDY9dCcGwIB4QSHQ%2Bz951x%2BM6DfT4JO2OLwCqJII6%2FhC%2FAopeEhBBxgtR%2BQWXF2Hu6uts8yo9I98WpziBNKeuqp%2B5fz8%2BFTMH0lmAmsyWwQv4NCoWKuDDGKtOkeQdY4XH0AsBLyjmVMXRFojTndwuxXGNHIrJ0bP7GihgN9W%2Bk%2Fhh6fqUa%2Fs%2BB6zGbcFEw5dREjal6%2FLSPH%2F09v22b6kDM3fTw%2B%2BdLA6CZ2Ypw%2BUOC%2FL6MnnokplNCE0Jt%2FrzSlBK9ruTS08sTja%2BtDwqa3fRou2AWYJ0PWlkwvInt5gU6tAEz%2FGfInN8NlS0YWPGiVuSrfnpFHFJIdF6zKEMQuihgSqZN8OPOJol4zRM3Lthc38QBGcg72LBbyQI1adqR3eAV0BFbAfvT09mHzff4R7%2BqA1xT%2BJKzu9i2W%2F%2BEs25wHyeLUwFh9He6RBenw4OnBcKC9dK7v9ipTXDjWiO63Ut6FUTtHhjNFxwy0nsfESzNKoU8inE3Fepidan1DAuo2KRZ7ikYagM3ZsdcLOmCnID%2FOOz5SaA%3D&amp;amp;AWSAccessKeyId=ASIAQ3PHCVTY7XVYDE45&amp;amp;Expires=1557877759&amp;amp;Signature=WqQHbQY%2FGYMyFNBr2GX%2FHC96Uuc%3D&amp;amp;hash=29940b44fb521b16b8c86b891eda72f67296d7e8bc9b175877823a9736aca741&amp;amp;host=68042c943591013ac2b2430a89b270f6af2c76d8dfd086a07176afe7c76c2c61&amp;amp;pii=S0160289617302787&amp;amp;tid=spdf-4ac2916d-db8d-40d7-a685-53cf35e0fe94&amp;amp;sid=53bc8c3a543de845664a6d51292a9b656853gxrqa&amp;amp;type=client&quot;&gt;Flynn himself concedes&lt;/a&gt; that &quot;the IQ gains of the 20th century have faltered.&quot; A range of studies using a variety of well-established &lt;a href=&quot;https://www.gwern.net/docs/iq/2016-dutton.pdf&quot;&gt;IQ tests and metrics&lt;/a&gt; have found declining scores across Scandinavia, Britain, Germany, France and Australia.&lt;/p&gt;

&lt;p class=&quot;&quot;&gt;Details vary from study to study and from place to place given the available data. &lt;a href=&quot;http://differentialclub.wdfiles.com/local--files/assigned-topics-iq/End%20of%20Flynn%20effect%202004.pdf&quot;&gt;IQ shortfalls in Norway&lt;/a&gt; and &lt;a href=&quot;https://psycnet.apa.org/record/2008-01547-005&quot;&gt;Denmark appear in longstanding tests&lt;/a&gt; of military conscripts, whereas information about &lt;a href=&quot;http://www.iapsych.com/iqmr/fe/LinkedDocuments/dutton2015.pdf&quot;&gt;France is based&lt;/a&gt; on a smaller sample and a different test. But the broad pattern has become clearer: Beginning around the turn of the 21st century, many of the most economically advanced nations began experiencing some kind of decline in IQ.&lt;/p&gt;
&lt;section class=&quot;inlineVideo___3ZAlE&quot;&gt;
&lt;div class=&quot;pt4 pl4 pr8 pt5-m pl6-m pr9-m info___3BGcG&quot;&gt;

&lt;span class=&quot;infoText___2xq7T f2 ttu mt3&quot;&gt;&lt;span class=&quot;date___2i7u0&quot;&gt;May 22, 2018&lt;/span&gt;&lt;span&gt;02:40&lt;/span&gt;&lt;/span&gt;

&lt;/div&gt;
&lt;/section&gt;&lt;p class=&quot;&quot;&gt;One potential explanation was &lt;a href=&quot;https://www.gwern.net/docs/iq/2016-dutton.pdf&quot;&gt;quasi-eugenic&lt;/a&gt;. As in &lt;a href=&quot;https://www.imdb.com/title/tt0387808/&quot;&gt;the movie “Idiocracy,”&lt;/a&gt; it was suggested that average intelligence is being pulled down because lower-IQ families are having more children (&quot;dysgenic fertility&quot; is the technical term). Alternatively, widening immigration might be bringing less-intelligent newcomers to societies with otherwise higher IQs.&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;However, a &lt;a href=&quot;https://www.pnas.org/content/pnas/115/26/6674.full.pdf&quot;&gt;2018 study of Norway&lt;/a&gt; has punctured these theories by showing that IQs are dropping not just across societies but within families. In other words, the issue is not that educated Norwegians are increasingly outnumbered by lower-IQ immigrants or the children of less-educated citizens. Even children born to high-IQ parents are slipping down the IQ ladder.&lt;/p&gt;
&lt;p class=&quot;&quot;&gt;Some environmental factor — or collection of factors — is causing a drop in the IQ scores of parents and their own children, and older kids and their younger siblings. One leading explanation is that the rise of lower-skill &lt;a href=&quot;https://fredblog.stlouisfed.org/2018/08/the-rise-of-the-service-economy/&quot;&gt;service jobs&lt;/a&gt; has made work &lt;a href=&quot;https://www.bbc.com/news/magazine-31556802&quot;&gt;less intellectually demanding&lt;/a&gt;, leaving IQs to atrophy as people flex their brains less.&lt;/p&gt;
&lt;div class=&quot;container___1unUn mv8 smallContainer___VvWON mt2-m&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;text___2iNlR ma0 mt6 f8 lh-none founders-cond&quot;&gt;One leading explanation is that the rise of lower-skill service jobs has made work less intellectually demanding, leaving IQs to atrophy as people flex their brains less.&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;&quot;&gt;There are also other possibilities, largely untested, such as global warming &lt;a href=&quot;https://www.scientificamerican.com/article/does-global-warming-make-food-less-nutritious/?redirect=1&quot;&gt;making food less nutritious&lt;/a&gt; or information-age devices &lt;a href=&quot;https://health.clevelandclinic.org/science-clear-multitasking-doesnt-work/&quot;&gt;sapping our ability to focus&lt;/a&gt;.&lt;/p&gt;

&lt;p class=&quot;&quot;&gt;Ultimately, it’d be nice to pin down the precise reason IQ scores are dropping before we’re too stupid to figure it out, especially as these scores really do seem connected to &lt;a href=&quot;https://mason.gmu.edu/~gjonesb/IQandNationalProductivity.pdf&quot;&gt;long-term productivity and economic success&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;lastMarkupItem&quot;&gt;And while we might be able to compensate with skills besides intelligence, like determination or passion, in a world where IQ scores continue to fall — and where the drop expands to places like the United States — there’s also a bleaker scenario: a global intelligence crisis that undermines humanity's problem-solving capacity and leaves us ill-equipped to tackle the complex challenges posed by AI, global warming and developments we have yet to imagine.&lt;/p&gt;
&lt;div class=&quot;articleBylineContainer mt8&quot; readability=&quot;32&quot;&gt;
&lt;div class=&quot;articleByline byline___2NGv_ noImage___3G0GY pt3 pb2&quot; readability=&quot;34&quot;&gt;
&lt;p&gt;&lt;span class=&quot;articleByline__name name___32ZJk founders-mono f3 lh-title ls-tight pt1 pt4-m ml9 ml0-m ml0-print&quot;&gt;Evan Horowitz&lt;/span&gt;&lt;span class=&quot;articleByline__social social___kAOJV f2 mt2 mt4-m ml9 ml0-m dn-print&quot; data-test=&quot;article-byline__social&quot;/&gt;&lt;/p&gt;
&lt;p class=&quot;articleByline__bio bio___3q2CD publico-txt f2 lh-copy mt3 mt0-m ml9-m&quot;&gt;Evan Horowitz is the director of research communication at FCLT Global, a financial think thank. The views expressed here are his own.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Wed, 22 May 2019 13:10:44 +0000</pubDate>
<dc:creator>onetimemanytime</dc:creator>
<og:url>https://www.nbcnews.com/think/opinion/iq-rates-are-dropping-many-developed-countries-doesn-t-bode-ncna1008576</og:url>
<og:title>Opinion | Many developed countries are getting dumber, and the U.S. is likely next</og:title>
<og:description>An intelligence crisis could undermine our problem-solving capacities and dim the prospects of the global economy.</og:description>
<og:image>https://media1.s-nbcnews.com/j/newscms/2019_21/2865616/190521-brain-iq-think-cs-456p_a579caeb49b55338447cdc5b80c70199.nbcnews-fp-1200-630.jpg</og:image>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nbcnews.com/think/opinion/iq-rates-are-dropping-many-developed-countries-doesn-t-bode-ncna1008576</dc:identifier>
</item>
<item>
<title>Europe says 737 Max won&amp;#039;t fly until it completes it own design review</title>
<link>https://www.bloomberg.com/news/articles/2019-05-07/europe-says-737-max-won-t-fly-until-its-design-review-complete</link>
<guid isPermaLink="true" >https://www.bloomberg.com/news/articles/2019-05-07/europe-says-737-max-won-t-fly-until-its-design-review-complete</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://www.bloomberg.com/news/articles/2019-05-07/europe-says-737-max-won-t-fly-until-its-design-review-complete&quot;&gt;https://www.bloomberg.com/news/articles/2019-05-07/europe-says-737-max-won-t-fly-until-its-design-review-complete&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=19979977&quot;&gt;https://news.ycombinator.com/item?id=19979977&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 334&lt;/p&gt;
&lt;p&gt;# Comments: 361&lt;/p&gt;
</description>
<pubDate>Wed, 22 May 2019 11:29:17 +0000</pubDate>
<dc:creator>prmph</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bloomberg.com/tosv2.html?vid=&amp;uuid=e5254870-7ced-11e9-a3ad-c7bf2dd83785&amp;url=L25ld3MvYXJ0aWNsZXMvMjAxOS0wNS0wNy9ldXJvcGUtc2F5cy03MzctbWF4LXdvbi10LWZseS11bnRpbC1pdHMtZGVzaWduLXJldmlldy1jb21wbGV0ZQ==</dc:identifier>
</item>
<item>
<title>Alexis Ohanian speaks out against “always-on” work culture</title>
<link>https://www.wsj.com/articles/always-on-work-culture-creating-broken-people-says-reddit-co-founder-11558464608</link>
<guid isPermaLink="true" >https://www.wsj.com/articles/always-on-work-culture-creating-broken-people-says-reddit-co-founder-11558464608</guid>
<description>&lt;p&gt;Alexis Ohanian, venture investor and husband of tennis superstar Serena Williams, loves getting asked how he balances family life and his career as managing partner of &lt;a href=&quot;https://blogs.wsj.com/cio/2018/02/07/reddit-co-founder-alexis-ohanian-steps-aside-focuses-on-initialized-capital/?mod=article_inline&quot; class=&quot;icon none&quot;&gt;Initialized Capital&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;He and Ms. Williams became first-time parents in 2017, and in the months that followed, Mr. Ohanian frequently spoke out about why it was so important for him to take time away from the Bay Area firm he co-founded to bond with their daughter.&lt;/p&gt;
&lt;p&gt;Parental leave wasn’t only a fun way to spend 16 weeks with their newborn Alexis Olympia Jr., he said at The Wall Street Journal’s &lt;a href=&quot;https://foefestival.wsj.com/?mod=article_inline&quot; class=&quot;icon none&quot;&gt;Future of Everything Festival&lt;/a&gt; on Tuesday, but it was also a reminder of why work should never be the only metric for measuring success.&lt;/p&gt;
</description>
<pubDate>Wed, 22 May 2019 11:01:39 +0000</pubDate>
<dc:creator>petethomas</dc:creator>
<og:title>Reddit Co-Founder Alexis Ohanian Warns Always-On Work Culture Creating ‘Broken’ People</og:title>
<og:description>Alexis Ohanian, venture investor and husband of tennis superstar Serena Williams, loves getting asked how he balances family life and his career as managing partner of Initialized Capital.</og:description>
<og:url>https://www.wsj.com/articles/always-on-work-culture-creating-broken-people-says-reddit-co-founder-11558464608</og:url>
<og:image>https://images.wsj.net/im-76097/social</og:image>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.wsj.com/articles/always-on-work-culture-creating-broken-people-says-reddit-co-founder-11558464608</dc:identifier>
</item>
<item>
<title>ARM memo tells staff to stop working with Huawei</title>
<link>https://www.bbc.com/news/technology-48363772</link>
<guid isPermaLink="true" >https://www.bbc.com/news/technology-48363772</guid>
<description>&lt;figure class=&quot;media-landscape has-caption full-width lead&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                &lt;img class=&quot;js-image-replace&quot; alt=&quot;Honor launch&quot; src=&quot;https://ichef.bbci.co.uk/news/320/cpsprodpb/006A/production/_107060100_2f688152-1d85-4aee-aec3-5f7e259f1b6e.jpg&quot; width=&quot;976&quot; height=&quot;549&quot;/&gt;&lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Getty Images&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    Huawei unveiled new phones powered by ARM-based chips, on Tuesday
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p class=&quot;story-body__introduction&quot;&gt;UK-based chip designer ARM has told staff it must suspend business with Huawei, according to internal documents obtained by the BBC.&lt;/p&gt;&lt;p&gt;ARM instructed employees to halt &quot;all active contracts, support entitlements, and any pending engagements” with Huawei and its subsidiaries to comply with a recent US trade clampdown. &lt;/p&gt;&lt;p&gt;ARM's designs form the basis of most mobile device processors worldwide.&lt;/p&gt;&lt;p&gt;In a company memo, it said its designs contained “US origin technology”.&lt;/p&gt;&lt;p&gt;As a consequence, it believes it is affected by the Trump administration's ban. &lt;/p&gt;&lt;p&gt;One analyst described the move, if it became long-term, as an “insurmountable” blow to Huawei’s business. &lt;/p&gt;&lt;p&gt;He said it would greatly affect the firm's ability to develop its own chips, many of which are currently built with ARM’s underlying technology, for which it pays a licence.&lt;/p&gt;&lt;p&gt;These are used in the Chinese company's 5G base stations and computer servers in addition to its smartphones.&lt;/p&gt;&lt;p&gt;Cambridge-headquartered ARM had been described as the UK's largest tech firm until its takeover by a Japanese fund. It employs 6,000 workers &lt;a href=&quot;https://www.arm.com/company/offices&quot; class=&quot;story-body__link-external&quot;&gt;and lists eight offices in the US&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;In a statement on Wednesday it said: &quot;ARM is complying with the latest restrictions set forth by the US government and is having ongoing conversations with the appropriate US government agencies to ensure we remain compliant. &lt;/p&gt;&lt;p&gt;&quot;ARM values its relationship with our long-time partner HiSilicon and we are hopeful for a swift resolution on this matter.&quot;&lt;/p&gt;&lt;p&gt;Huawei has issued a brief statement of its own.&lt;/p&gt;&lt;p&gt;&quot;We value our close relationships with our partners, but recognise the pressure some of them are under, as a result of politically motivated decisions,&quot; it said.&lt;/p&gt;&lt;p&gt;&quot;We are confident this regrettable situation can be resolved and our priority remains to continue to deliver world-class technology and products to our customers around the world.&quot;&lt;/p&gt;&lt;figure class=&quot;media-landscape no-caption body-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
            &lt;/span&gt;
            
        &lt;/figure&gt;&lt;h2 class=&quot;story-body__crosshead&quot;&gt;What is ARM?&lt;/h2&gt;&lt;figure class=&quot;media-landscape no-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
                 &lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;ARM&lt;/span&gt;
                
            &lt;/span&gt;
            
        &lt;/figure&gt;&lt;p&gt;ARM is a chip designer founded in 1990. In September 2016 it was acquired by Japanese telecoms giant Softbank, but remains based in Cambridge, UK. &lt;/p&gt;&lt;p&gt;ARM does not manufacture computer processors itself, but rather licenses its semiconductor technologies to others. &lt;/p&gt;&lt;p&gt;In some cases, manufacturers only license ARM's architecture, or &quot;instruction sets&quot;, which determine how processors handle commands. This option gives chip-makers greater freedom to customise their own designs. &lt;/p&gt;&lt;p&gt;In other cases, manufacturers license ARM's processor core designs - which describes how the chips' transistors should be arranged. These blueprints still need to be combined with other elements - such as memory and radios - to create what is referred to as a system-on-chip. &lt;/p&gt;&lt;p&gt;As a result, when you hear talk of a device being powered by a Samsung Exynos, Qualcomm Snapdragon or Apple A11 chip - or one in a Huawei smartphone - it is still ARM's technology that is involved. &lt;/p&gt;&lt;p&gt;ARM's US headquarters are in San Jose, California, and the firm has offices in Washington, Arizona, Texas and Massachusetts.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://www.bbc.co.uk/news/technology-36826095&quot; class=&quot;story-body__link&quot;&gt;Read more: What is ARM and why was it worth $24bn? &lt;/a&gt;&lt;/p&gt;&lt;figure class=&quot;media-landscape no-caption body-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
            &lt;/span&gt;
            
        &lt;/figure&gt;&lt;h2 class=&quot;story-body__crosshead&quot;&gt;‘Unfortunate situation’&lt;/h2&gt;&lt;p&gt;ARM’s staff were informed of the decision on 16 May, following the US Commerce Department’s move to add Huawei to its “entity list” of companies with which American firms could no longer do business. &lt;/p&gt;&lt;p&gt;The BBC has also seen a company memo dated 18 May detailing the implications of the export ban.&lt;/p&gt;&lt;p&gt;On Monday 20 May, US government officials &lt;a href=&quot;https://www.commerce.gov/news/press-releases/2019/05/department-commerce-issues-limited-exemptions-huawei-products&quot; class=&quot;story-body__link-external&quot;&gt;issued a 90-day reprieve&lt;/a&gt; on some of the restrictions in order to minimise immediate disruption. But ARM believes that the temporary licence involved does not apply to it.&lt;/p&gt;&lt;p&gt;A spokesman for ARM declined to offer any additional clarity about the current status of its Huawei contracts.&lt;/p&gt;&lt;figure class=&quot;media-landscape has-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
                 &lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Huawei&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    A break with ARM would make it difficult for Huawei to develop future generations of its Kirin processors
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;According to one memo, ARM staff were instructed to suspend all interactions with Huawei and its subsidiaries. &lt;/p&gt;&lt;p&gt;It advised staff to send a note informing Huawei (or related) employees that due to an “unfortunate situation”, they were not allowed to “provide support, delivery technology (whether software, code, or other updates), engage in technical discussions, or otherwise discuss technical matters with Huawei, HiSilicon or any of the other named entities”. &lt;/p&gt;&lt;p&gt;ARM staff that come into contact with employees at industry events must “politely decline and stop” any conversations about the business, the guidance said - stressing that individuals could be held personally liable for breaking the trade rules. &lt;/p&gt;&lt;p&gt;The ban also appeared to apply to ARM China, the China-based company in which ARM Holdings owns a 49% stake. It was set up as a joint venture with a Chinese investment consortium last year in order to enable ARM to develop, sell and offer support for its products in the region.  &lt;/p&gt;&lt;h2 class=&quot;story-body__crosshead&quot;&gt;'Insurmountable obstacle'&lt;/h2&gt;&lt;p&gt;Huawei told reporters on Tuesday that its “plan B” for software would be to develop its own operating system, something it has already been working on for some time. However, it will be significantly more difficult for the firm to source home-grown components of sufficient quality.&lt;/p&gt;&lt;p&gt;Huawei currently sources some of its chips from HiSilicon, which it owns. However, while produced in China, HiSilicon’s chips are built using underlying technology created by ARM. &lt;/p&gt;&lt;p&gt;While HiSilicon and Huawei are free to carry on using and manufacturing existing chips, the ban would mean the company could no longer turn to ARM for assistance in developing components for devices in future.  &lt;/p&gt;&lt;p&gt;HiSilicon's upcoming processor, Kirin 985, is due be used in Huawei devices later this year. According to a source at ARM, it is not expected to be affected by the ban. However, the next iteration of the chip has not yet been completed - and is likely to need to be rebuilt from scratch, the source said.  &lt;/p&gt;&lt;p&gt;Huawei also uses ARM's designs for its recently unveiled Kunpeng chips. These are used to power its TaiShan-series computer servers, &lt;a href=&quot;https://www.huawei.com/en/press-events/news/2019/1/huawei-unveils-highest-performance-arm-based-cpu&quot; class=&quot;story-body__link-external&quot;&gt;which are designed to provide cloud computing and storage to clients&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;In addition, the company told analysts in January that the Tiangang chip at the heart of its 5G base stations is also ARM-based.&lt;/p&gt;&lt;figure class=&quot;media-landscape has-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
                 &lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Capacitymedia.com&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    Huawei's carrier division chief Ryan Ding showed off its 5G base station chip alongside an image saying it involved a &quot;high-performance ARM-based processor&quot;
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&quot;The problem of the whole telecoms industry is that so much of it is based on the exchange of technology between different companies - whether that's chip companies, software providers or the makers of other hardware,&quot; commented Alan Burkitt-Gray, editor-at-large of the telecoms news site Capacity Media.&lt;/p&gt;&lt;p&gt;He added that Huawei would likely face other problems licensing 5G-related tech from others, and in turn US-based companies would now be unable to licence the Chinese company's 5G inventions.&lt;/p&gt;&lt;p&gt;&quot;This will carve out a chasm in the industry between Huawei-originated intellectual property and the rest of the world's,&quot; he said.&lt;/p&gt;&lt;p&gt;&quot;It's just a total mess and it's happened at a critical time for the rollout of 5G.&quot;&lt;/p&gt;&lt;p&gt;The relationship between ARM and Huawei engineers is tight - earlier this month Huawei announced its intention to build a research centre only 15 minutes from ARM’s headquarters in Cambridge, UK. &lt;/p&gt;&lt;figure class=&quot;media-landscape has-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
                 &lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Reuters&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    The latest development follows news that Huawei will lose access to some of Google's Android services
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&quot;ARM is the foundation of Huawei’s smartphone chip designs, so this is an insurmountable obstacle for Huawei,” said Geoff Blaber, from CCS Insight. &lt;/p&gt;&lt;p&gt;&quot;That said, with an abundance of companies in Huawei’s supply chain already having taken action to comply with the US order, Huawei’s ability to operate was already severely affected.” &lt;/p&gt;&lt;p&gt;What is not yet clear is whether ARM is acting on its own interpretation of the US rules, or whether it has been advised by the Commerce Department. &lt;/p&gt;&lt;p&gt;&quot;If that interpretation is correct, that’s going to affect every semiconductor company in the world,” remarked analyst Lee Ratliff, from IHS Markit. &lt;/p&gt;&lt;p&gt;&quot;They’re not going to be able to easily replace these parts with new, in-house designs - the semiconductor industry in China is nascent.”&lt;/p&gt;&lt;p&gt;_______&lt;/p&gt;&lt;p&gt;&lt;i&gt;Additional reporting by Leo Kelion&lt;/i&gt;&lt;/p&gt;&lt;p&gt;&lt;i&gt;Follow Dave Lee on Twitter &lt;/i&gt;&lt;a href=&quot;http://twitter.com/daveleebbc&quot; class=&quot;story-body__link-external&quot;&gt;@DaveLeeBBC&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;i&gt;Do you have more information about this or any other technology story? You can reach Dave directly and securely through encrypted messaging app Signal on: +1 (628) 400-7370&lt;/i&gt;&lt;/p&gt;
            </description>
<pubDate>Wed, 22 May 2019 10:17:55 +0000</pubDate>
<dc:creator>yitchelle</dc:creator>
<og:title>Huawei faces break with UK chip giant ARM</og:title>
<og:type>article</og:type>
<og:description>Chinese company is dealt an &quot;insurmountable&quot; blow as chip designer says it must comply with US trade ban.</og:description>
<og:url>https://www.bbc.com/news/technology-48363772</og:url>
<og:image>https://ichef.bbci.co.uk/news/1024/branded_news/006A/production/_107060100_2f688152-1d85-4aee-aec3-5f7e259f1b6e.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bbc.com/news/technology-48363772</dc:identifier>
</item>
<item>
<title>A new core playlist for VLC 4</title>
<link>https://blog.rom1v.com/2019/05/a-new-core-playlist-for-vlc-4/</link>
<guid isPermaLink="true" >https://blog.rom1v.com/2019/05/a-new-core-playlist-for-vlc-4/</guid>
<description>&lt;span class=&quot;post-date&quot;&gt;21 May 2019&lt;/span&gt;
&lt;p&gt;The &lt;a href=&quot;https://wiki.videolan.org/Hacker_Guide/Core/&quot;&gt;core&lt;/a&gt; playlist in VLC was started &lt;a href=&quot;https://git.videolan.org/?p=vlc.git;a=commit;h=57e189eb5d1d387f2036c31720e1e9aa8cb3ea78&quot;&gt;a long time ago&lt;/a&gt;. Since then, it has grown to handle too many different things, to the point it became a kind of &lt;a href=&quot;https://en.wikipedia.org/wiki/God_object&quot;&gt;god object&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In practice, the playlist was also controlling playback (start, stop, change volume…), configuring audio and video outputs, storing media detected by &lt;em&gt;discovery&lt;/em&gt;…&lt;/p&gt;
&lt;p&gt;For &lt;a href=&quot;https://www.youtube.com/watch?v=jzvC-0WCjKU&amp;amp;t=312&quot;&gt;VLC 4&lt;/a&gt;, we wanted a new playlist API, containing a simple list of items (instead of a tree), acting as a &lt;em&gt;media provider&lt;/em&gt; for a &lt;em&gt;player&lt;/em&gt;, without unrelated responsabilities.&lt;/p&gt;
&lt;p&gt;I &lt;a href=&quot;https://code.videolan.org/videolan/vlc/commits/76e575307494a1f8ddf6f30266f5e6d7466a7013&quot;&gt;wrote it&lt;/a&gt; several months ago (at &lt;a href=&quot;https://videolabs.io/&quot;&gt;Videolabs&lt;/a&gt;). Now that the old one has been &lt;a href=&quot;https://code.videolan.org/videolan/vlc/commit/c67934b0b4fc9298cb0784c07f701392589e61b7&quot;&gt;removed&lt;/a&gt;, it’s time to give some technical details.&lt;/p&gt;
&lt;p class=&quot;center&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/rom1v/blog.rom1v.com/master/assets/vlc_playlist/vlc.png&quot; alt=&quot;vlc&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;objectives&quot;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;One major design goal is to expose what &lt;strong&gt;UI frameworks&lt;/strong&gt; need. Several user interfaces, like Qt, Mac OS and Android&lt;sup id=&quot;fnref:1&quot;/&gt;, will use this API to display and interact with the main VLC playlist.&lt;/p&gt;
&lt;p&gt;The playlist must be &lt;strong&gt;performant&lt;/strong&gt; for common use cases and usable from &lt;strong&gt;multiple threads&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Indeed, in VLC, user interfaces are implemented as &lt;em&gt;modules&lt;/em&gt; loaded dynamically. In general, there is exactly one user interface, but there may be none or (in theory) several. Thus, the playlist may not be bound to the &lt;a href=&quot;https://en.wikipedia.org/wiki/Event_loop&quot;&gt;event loop&lt;/a&gt; of some specific user interface. Moreover, the playlist may be modified from a &lt;em&gt;player&lt;/em&gt; thread; for example, playing a zip archive will replace the item by its content automatically.&lt;/p&gt;
&lt;p&gt;As a consequence, the playlist will use a &lt;a href=&quot;https://en.wikipedia.org/wiki/Lock_(computer_science)&quot;&gt;mutex&lt;/a&gt;; to avoid &lt;a href=&quot;https://en.wikipedia.org/wiki/Time_of_check_to_time_of_use&quot;&gt;ToCToU&lt;/a&gt; issues, it will also expose public functions to lock and unlock it. But as we will see later, there will be other consequences.&lt;/p&gt;
&lt;h2 id=&quot;data-structure&quot;&gt;Data structure&lt;/h2&gt;
&lt;p&gt;User interfaces need &lt;a href=&quot;https://en.wikipedia.org/wiki/Random_access&quot;&gt;random access&lt;/a&gt; to the playlist items, so a &lt;em&gt;vector&lt;/em&gt; is the most natural structure to store the items. A &lt;em&gt;vector&lt;/em&gt; is provided by the standard library of many languages (&lt;a href=&quot;https://en.cppreference.com/w/cpp/container/vector&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vector&lt;/code&gt;&lt;/a&gt; in &lt;em&gt;C++&lt;/em&gt;, &lt;a href=&quot;https://doc.rust-lang.org/std/vec/struct.Vec.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Vec&lt;/code&gt;&lt;/a&gt; in &lt;em&gt;Rust&lt;/em&gt;, &lt;a href=&quot;https://docs.oracle.com/javase/10/docs/api/java/util/ArrayList.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ArrayList&lt;/code&gt;&lt;/a&gt; in &lt;em&gt;Java&lt;/em&gt;…). But here, we’re in &lt;em&gt;C&lt;/em&gt;, so there is nothing.&lt;/p&gt;
&lt;p&gt;In the playlist, we only need a vector of &lt;em&gt;pointers&lt;/em&gt;, so I first &lt;a href=&quot;https://mailman.videolan.org/pipermail/vlc-devel/2018-July/120434.html&quot;&gt;proposed improvements&lt;/a&gt; to an existing type, &lt;code class=&quot;highlighter-rouge&quot;&gt;vlc_array_t&lt;/code&gt;, which only supports &lt;code class=&quot;highlighter-rouge&quot;&gt;void *&lt;/code&gt; as items. But it was considered useless (&lt;a href=&quot;https://mailman.videolan.org/pipermail/vlc-devel/2018-July/120466.html&quot;&gt;1&lt;/a&gt;, &lt;a href=&quot;https://mailman.videolan.org/pipermail/vlc-devel/2018-July/120509.html&quot;&gt;2&lt;/a&gt;) because it is too limited and not type-safe.&lt;/p&gt;
&lt;p&gt;Therefore, I wrote &lt;a href=&quot;https://code.videolan.org/videolan/vlc/commit/983c43f05928032a14f201c506d6b9c51d0c5145?expanded=1&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vlc_vector&lt;/code&gt;&lt;/a&gt;. It is implemented using macros so that it’s generic over its item type. For example, we can use a vector of &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;s as follow:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// declare and initialize a vector of int
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VLC_VECTOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VLC_VECTOR_INITIALIZER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// append 0, 10, 20, 30 and 40
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vlc_vector_push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// allocation failure...
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// remove item at index 2
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vlc_vector_remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// the vector now contains [0, 10, 30, 40]
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 0
&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;last&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 40
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// free resources
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vlc_vector_destroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Internally, the playlist uses a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/playlist.h#L54&quot;&gt;vector of playlist items&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VLC_VECTOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vlc_playlist_item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;playlist_item_vector_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vlc_playlist&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;playlist_item_vector_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ...
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;interaction-with-ui&quot;&gt;Interaction with UI&lt;/h2&gt;
&lt;p&gt;UI frameworks typically use &lt;em&gt;list models&lt;/em&gt; to bind items to a &lt;em&gt;list view&lt;/em&gt; component. A &lt;em&gt;list model&lt;/em&gt; must provide:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the &lt;strong&gt;total number of items&lt;/strong&gt;,&lt;/li&gt;
&lt;li&gt;the &lt;strong&gt;item at a given index&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In addition, the model must notify its view when items are &lt;strong&gt;inserted&lt;/strong&gt;, &lt;strong&gt;removed&lt;/strong&gt;, &lt;strong&gt;moved&lt;/strong&gt; or &lt;strong&gt;updated&lt;/strong&gt;, and when the model is &lt;strong&gt;reset&lt;/strong&gt; (the whole content should be invalidated).&lt;/p&gt;
&lt;p&gt;For example, Qt list views use &lt;a href=&quot;http://doc.qt.io/qt-5/qabstractitemmodel.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;QAbstractItemModel&lt;/code&gt;&lt;/a&gt;/&lt;a href=&quot;http://doc.qt.io/qt-5/qabstractlistmodel.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;QAbstractListModel&lt;/code&gt;&lt;/a&gt; and the Android &lt;a href=&quot;https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.html&quot;&gt;recycler view&lt;/a&gt; uses &lt;a href=&quot;https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;RecyclerView.Adapter&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The playlist API exposes the functions and callbacks providing these features.&lt;/p&gt;
&lt;h3 id=&quot;desynchronization&quot;&gt;Desynchronization&lt;/h3&gt;
&lt;p&gt;However, &lt;strong&gt;the core playlist may not be used as a direct data source for a list model&lt;/strong&gt;. In other word, the functions of a list model must not delegate the calls to the core playlist.&lt;/p&gt;
&lt;p&gt;To understand why, let’s consider a typical sequence of calls executed by a view on its model, from the UI thread:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If we implemented &lt;code class=&quot;highlighter-rouge&quot;&gt;count()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;get(index)&lt;/code&gt; by delegating to the playlist, we would have to lock each call individually:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// in some artificial UI framework in C++
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// don't do this
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;vlc_playlist_Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vlc_playlist_Count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vlc_playlist_Unlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;vlc_playlist_item_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MyModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// don't do this
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;vlc_playlist_Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vlc_playlist_item_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vlc_playlist_Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vlc_playlist_Unlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Note that locking and unlocking from the UI thread for every playlist item is not a good idea for responsiveness, but this is a minor issue here.&lt;/p&gt;
&lt;p&gt;The real problem is that locking is not sufficient to guarantee correctness: the &lt;em&gt;list view&lt;/em&gt; expects its model to return consistent values. Our implementation can break this assumption, because the playlist content could change asynchronously between calls. Here is an example:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// the playlist initially contains 5 items: [A, B, C, D, E]
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 5
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// A
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// B
&lt;/span&gt;                    &lt;span class=&quot;c1&quot;&gt;// the first playlist item is removed from another thread:
&lt;/span&gt;                    &lt;span class=&quot;c1&quot;&gt;//     vlc_playlist_RemoveOne(playlist, 0);
&lt;/span&gt;                    &lt;span class=&quot;c1&quot;&gt;// the playlist now contains [B, C, D, E]
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// D
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// E
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;behavior&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;probably&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;segfault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The view could not process any notification of the item removal before the end of the current execution in its event loop… that is, at least after &lt;code class=&quot;highlighter-rouge&quot;&gt;model.get(4)&lt;/code&gt;. To avoid this problem, &lt;strong&gt;the data provided by view models must always &lt;em&gt;live&lt;/em&gt; in the UI thread&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;This implies that the UI has to manage &lt;strong&gt;a copy of the playlist content&lt;/strong&gt;. The UI playlist should be considered as a remote out-of-sync view of the core playlist.&lt;/p&gt;
&lt;p&gt;Note that the copy must be not limited to the list of &lt;em&gt;pointers&lt;/em&gt; to playlist items: the content which is displayed and susceptible to change asynchronously (media metadata, like &lt;em&gt;title&lt;/em&gt; or &lt;em&gt;duration&lt;/em&gt;) must also be copied. The UI needs a &lt;strong&gt;deep copy&lt;/strong&gt;; otherwise, the content could change (and be exposed) before the &lt;em&gt;list view&lt;/em&gt; was notified… which, again, would break assumptions about the model.&lt;/p&gt;
&lt;h3 id=&quot;synchronization&quot;&gt;Synchronization&lt;/h3&gt;
&lt;p&gt;The core playlist and the UI playlist are out-of-sync. So we need to “synchronize” them:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the changes on the core playlist must be reflected to the UI views,&lt;/li&gt;
&lt;li&gt;the user, via the UI, may request changes to the core playlist (to add, move or remove items for example).&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;core-to-ui&quot;&gt;Core to UI&lt;/h4&gt;
&lt;p&gt;The core playlist is the &lt;em&gt;source of truth&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Every change to the UI playlist must occur in the UI thread, yet the core playlist notification handlers are executed from any thread. Therefore, playlist callback handlers must retrieve appropriate data from the playlist, then &lt;em&gt;post&lt;/em&gt; an event to the UI event loop&lt;sup id=&quot;fnref:2&quot;/&gt;, which will be handled from the UI thread. From there, the core playlist will be out-of-sync, so it would be incorrect to access it.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;order of events&lt;/strong&gt; forwarded to the UI thread &lt;strong&gt;must be preserved&lt;/strong&gt;. That way, the indices notified by the core playlist are necessarily valid within the context of the &lt;em&gt;list model&lt;/em&gt; in the UI thread. The core playlist events can be understood as a sequence of “patches” that the UI playlist must apply to its own copy.&lt;/p&gt;
&lt;p&gt;This only works if &lt;strong&gt;only the core playlist callbacks modify the &lt;em&gt;list model&lt;/em&gt; content&lt;/strong&gt;.&lt;/p&gt;
&lt;h4 id=&quot;ui-to-core&quot;&gt;UI to core&lt;/h4&gt;
&lt;p&gt;Since the &lt;em&gt;list model&lt;/em&gt; can only be modified by the core playlist callbacks, it is incorrect to modify it on user actions. As a consequence, the changes must be requested to the core playlist, which will, in turn, notify the actual changes.&lt;/p&gt;
&lt;p&gt;The synchronization is more tricky in that direction.&lt;/p&gt;
&lt;p&gt;To understand why, suppose the user selects items 10 to 20, then drag &amp;amp; drop to move them to index 42. Once the user releases the mouse button to “drop” the items, we need to lock the core playlist to apply the changes.&lt;/p&gt;
&lt;p&gt;The problem is that, before we successfully acquired the lock, another client may have modified the playlist: it may have cleared it, or shuffled it, or removed items 5 to 15… As a consequence, we cannot apply the “move” request as is, because it was created from a previous playlist state.&lt;/p&gt;
&lt;p&gt;To solve the issue, we need to adapt the request to make it fit the current playlist state. In other words, resolve conflicts: find the items if they had been moved, ignore the items not found for removal…&lt;/p&gt;
&lt;p&gt;For that purpose, in addition to functions modifying the content directly, the playlist exposes functions to &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L548&quot;&gt;request&lt;/a&gt; “desynchronized” changes, which automatically resolve conflicts and generate an appropriate sequence of events to notify the clients of the &lt;em&gt;actual&lt;/em&gt; changes.&lt;/p&gt;
&lt;p&gt;Let’s take an example. Initially, our playlist contains 10 items:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;16&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;[A, B, C, D, E, F, G, H, I, J]
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The user selects &lt;code class=&quot;highlighter-rouge&quot;&gt;[C, D, E, F, G]&lt;/code&gt; and press the &lt;code class=&quot;highlighter-rouge&quot;&gt;Del&lt;/code&gt; key to remove the items. To apply the change, we need to lock the core playlist.&lt;/p&gt;
&lt;p&gt;But at that time, another thread was holding the lock to apply some other changes. It removed &lt;code class=&quot;highlighter-rouge&quot;&gt;F&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;I&lt;/code&gt;, and shuffled the playlist:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;[E, B, D, J, C, G, H, A]
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once the other thread unlocks the playlist, our lock finally succeeds. Then, we call &lt;code class=&quot;highlighter-rouge&quot;&gt;request_remove([C, D, E, F, G])&lt;/code&gt; (this is pseudo-code, the real function is &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L597&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vlc_playlist_RequestRemove&lt;/code&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Internally, it triggers several calls:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// [E, B, D, J, C, G, H, A]
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// remove [C, G]
// [E, B, D, J, H, A]
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// remove [D]
// [E, B, J, H, A]
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// remove [E]
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;J&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Thus, every client (including the UI from which the user requested to remove the items), will receive a sequence of 3 events &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L204&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;on_items_removed&lt;/code&gt;&lt;/a&gt;, corresponding to each removed slice.&lt;/p&gt;
&lt;p&gt;The slices are removed in descending order for both optimization (it minimizes the number of shifts) and simplicity (the index of a removal does not depend on previous removals).&lt;/p&gt;
&lt;p&gt;In practice, it is very likely that the request will apply exactly to the current state of the playlist. To avoid unnecessary linear searches to find the items, these functions accept an additional &lt;code class=&quot;highlighter-rouge&quot;&gt;index_hint&lt;/code&gt; parameter, giving the index of the items when the request was created. It should (hopefully) almost always be the same as the index in the current playlist state.&lt;/p&gt;
&lt;h2 id=&quot;random-playback&quot;&gt;Random playback&lt;/h2&gt;
&lt;p&gt;Contrary to &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L623&quot;&gt;shuffle&lt;/a&gt;, random playback does not move the items within the playlist; instead, it does not play them sequentially.&lt;/p&gt;
&lt;p&gt;To select the next item to play, we could just pick one at random.&lt;/p&gt;
&lt;p&gt;But this is not ideal: some items will be selected several times (possibly in a row) while some others will not be selected at all. And if &lt;em&gt;loop&lt;/em&gt; is disabled, when should we stop? After all &lt;em&gt;n&lt;/em&gt; items have been selected at least once or after &lt;em&gt;n&lt;/em&gt; playbacks?&lt;/p&gt;
&lt;p&gt;Instead, we would like some desirable properties that work both with &lt;em&gt;loop&lt;/em&gt; enabled and disabled:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;an item must never be selected twice (within a cycle, if &lt;em&gt;loop&lt;/em&gt; is enabled),&lt;/li&gt;
&lt;li&gt;we should be able to navigate back to the previously selected items,&lt;/li&gt;
&lt;li&gt;we must able to force the selection of a specific item (typically when the user double-click on an item in the playlist),&lt;/li&gt;
&lt;li&gt;insertions and removals must be taken into account at any time,&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In addition, if &lt;em&gt;loop&lt;/em&gt; is enabled:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the random order must be recomputed for very cycle (we don’t always want the &lt;a href=&quot;https://xkcd.com/221/&quot;&gt;same random&lt;/a&gt; order),&lt;/li&gt;
&lt;li&gt;it should be possible to navigate back to previous items from the previous cycle,&lt;/li&gt;
&lt;li&gt;an item must never be selected twice in a row (in particular, it may not be the last item of one cycle and the first item of the next cycle).&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;randomizer&quot;&gt;Randomizer&lt;/h3&gt;
&lt;p&gt;I wrote a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/randomizer.c&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;randomizer&lt;/code&gt;&lt;/a&gt; to select items “randomly” within all these constraints.&lt;/p&gt;
&lt;p&gt;To get an idea of the results, here is a sequence produced for a playlist containing 5 items (&lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;B&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;D&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;), with &lt;em&gt;loop&lt;/em&gt; enabled (so that it continues indefinitely):&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;E D A B C E B C A D C B E D A C E A D B A D C E B A B D E C B C A E D E D B C A
E C B D A C A E B D C D E A B E D B A C D C B A E D A B C E B D C A E D C A B E
B A E C D C E D A B C E B A D E C B D A D B A C E C E B A D B C E D A E A C B D
A D E B C D C A E B E A D C B C D B A E C E A B D C D E A B D A E C B C A D B E
A B E C D A C B E D E D A B C D E C A B C A E B D E B D C A C A E D B D B E C A
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here is how it works.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;randomizer&lt;/em&gt; stores a single &lt;em&gt;vector&lt;/em&gt; containing all the items of the playlist. This &lt;em&gt;vector&lt;/em&gt; is not shuffled at once. Instead, steps of the &lt;a href=&quot;https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle&quot;&gt;Fisher-Yates&lt;/a&gt; algorithm are executed one-by-one on demand. This has several advantages:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;on insertions and removals, there is no need to reshuffle or shift the whole array;&lt;/li&gt;
&lt;li&gt;if &lt;em&gt;loop&lt;/em&gt; is enabled, the history of the last cycle can be kept in place.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;It also maintains 3 indexes:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; indicates the end of the items already determinated for the current cycle (if &lt;em&gt;loop&lt;/em&gt; is disabled, there is only one cycle),&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; points to the item after the current one&lt;sup id=&quot;fnref:3&quot;/&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;history&lt;/code&gt; points to the first item of ordered history from the last cycle.&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;0              next  head          history       size
|---------------|-----|.............|-------------|
 &amp;lt;-------------------&amp;gt;               &amp;lt;-----------&amp;gt;
  determinated range                 history range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Let’s reuse the example I wrote in the &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/randomizer.c#L87&quot;&gt;documentation&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Here is the initial state with our 5 items:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                next                     |
                head                     |
                |                        |
                A    B    C    D    E
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; to retrieve the next random item. The randomizer picks one item (say, &lt;code class=&quot;highlighter-rouge&quot;&gt;D&lt;/code&gt;), and swaps it with the current head (&lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt;). &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; returns &lt;code class=&quot;highlighter-rouge&quot;&gt;D&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                     next                |
                     head                |
                     |                   |
                D    B    C    A    E
              &amp;lt;---&amp;gt;
           determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; one more time. The randomizer selects one item outside the determinated range (say, &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;). &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; returns &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                          next           |
                          head           |
                          |              |
                D    E    C    A    B
              &amp;lt;--------&amp;gt;
           determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; one more time. The randomizer selects &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt; (already in place). &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; returns &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                               next      |
                               head      |
                               |         |
                D    E    C    A    B
              &amp;lt;-------------&amp;gt;
            determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist then calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Prev()&lt;/code&gt;. Since the “current” item is &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;, the previous one is &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;, so &lt;code class=&quot;highlighter-rouge&quot;&gt;Prev()&lt;/code&gt; returns &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; moves back.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                          next           |
                          |    head      |
                          |    |         |
                D    E    C    A    B
              &amp;lt;-------------&amp;gt;
            determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt;, which returns &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;, as expected.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                               next      |
                               head      |
                               |         |
                D    E    C    A    B
              &amp;lt;-------------&amp;gt;
            determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt;, the randomizer selects &lt;code class=&quot;highlighter-rouge&quot;&gt;B&lt;/code&gt;, and returns it.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                                    next |
                                    head |
                                    |    |
                D    E    C    B    A
              &amp;lt;------------------&amp;gt;
               determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt;, the randomizer selects the last item (it has no choice). &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; now point one item past the end (their value is the vector size).&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                                         history
                                         next
                                         head
                                         |
                D    E    C    B    A
              &amp;lt;-----------------------&amp;gt;
                 determinated range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At this point, if &lt;em&gt;loop&lt;/em&gt; is disabled, it is not possible to call &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; anymore (&lt;code class=&quot;highlighter-rouge&quot;&gt;HasNext()&lt;/code&gt; returns &lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;). So let’s enable it by calling &lt;code class=&quot;highlighter-rouge&quot;&gt;SetLoop()&lt;/code&gt;, then let’s call &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt; again.&lt;/p&gt;
&lt;p&gt;This will start a new loop cycle. Firstly, &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; are reset, and the whole vector belongs to the last cycle history.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                 history
                 next
                 head
                 |
                 D    E    C    B    A
              &amp;lt;------------------------&amp;gt;
                    history range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Secondly, to avoid to select &lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt; twice in a row (as the last item of the previous cycle and the first item of the new one), the randomizer will immediately determine another item in the vector (say &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;) to be the first of the new cycle. The items that belong to the history are kept in order. &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;history&lt;/code&gt; move forward.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                     history
                next |
                |    head
                |    |
                C    D    E    B    A
              &amp;lt;---&amp;gt;&amp;lt;------------------&amp;gt;
      determinated     history range
             range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, it will actually select and return the first item (&lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                     history
                     next
                     head
                     |
                C    D    E    B    A
              &amp;lt;---&amp;gt;&amp;lt;------------------&amp;gt;
      determinated     history range
             range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, the user adds an item to the playlist (&lt;code class=&quot;highlighter-rouge&quot;&gt;F&lt;/code&gt;). This item is added in front of history.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                          history
                     next |
                     head |
                     |    |
                C    F    D    E    B    A
              &amp;lt;---&amp;gt;     &amp;lt;------------------&amp;gt;
      determinated          history range
             range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Next()&lt;/code&gt;, the randomizer randomly selects &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt; “disappears” from the history of the last cycle. This is a general property: each item may not appear more than one in the “history” (both from the last and the new cycle). The history order is preserved.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                               history
                          next |
                          head |
                          |    |
                C    E    F    D    B    A
              &amp;lt;--------&amp;gt;     &amp;lt;--------------&amp;gt;
             determinated     history range
                range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The playlist then calls &lt;code class=&quot;highlighter-rouge&quot;&gt;Prev()&lt;/code&gt; 3 times, that yield &lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;, then &lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt;, then &lt;code class=&quot;highlighter-rouge&quot;&gt;B&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; is decremented (modulo size) on each call.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;codehilite&quot;&gt;
&lt;code&gt;                               history
                               |    next
                          head |    |
                          |    |    |
                C    E    F    D    B    A
              &amp;lt;--------&amp;gt;     &amp;lt;--------------&amp;gt;
             determinated     history range
                range
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hopefully, the resulting randomness will match what people expect in practice.&lt;/p&gt;
&lt;h2 id=&quot;sorting&quot;&gt;Sorting&lt;/h2&gt;
&lt;p&gt;The playlist can be &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L631&quot;&gt;sorted&lt;/a&gt; by an ordered list of criteria (a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L128&quot;&gt;key&lt;/a&gt; and a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_playlist.h#L143&quot;&gt;order&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The implementation is complicated by the fact that items metadata can change asynchronously (for example if the player is parsing it), making the comparison function inconsistent.&lt;/p&gt;
&lt;p&gt;To avoid the problem, a first pass builds a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/sort.c#L374&quot;&gt;list of metadata&lt;/a&gt; for all items, then this list is &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/sort.c#L381&quot;&gt;sorted&lt;/a&gt;, and finally the resulting order is &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/src/playlist/sort.c#L383&quot;&gt;applied back&lt;/a&gt; to the playlist.&lt;/p&gt;
&lt;p&gt;As a benefit, the items are locked only once to retrieved their metadata.&lt;/p&gt;
&lt;h2 id=&quot;interaction-with-the-player&quot;&gt;Interaction with the player&lt;/h2&gt;
&lt;p&gt;For VLC 4, &lt;a href=&quot;https://twitter.com/tguill3m&quot;&gt;Thomas&lt;/a&gt; wrote a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_player.h&quot;&gt;new player API&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;em&gt;player&lt;/em&gt; can be used without a &lt;em&gt;playlist&lt;/em&gt;: we can set its &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_player.h#L1082&quot;&gt;current media&lt;/a&gt; and the player can request, when necessary, the next media to play from a &lt;a href=&quot;https://code.videolan.org/videolan/vlc/blob/519877e327bb86aba1f4861412792c63248564d6/include/vlc_player.h#L354&quot;&gt;media provider&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;em&gt;playlist&lt;/em&gt;, on the other hand, needs a &lt;em&gt;player&lt;/em&gt;, and registers itself as its media provider. They are tightly coupled:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the playlist controls the player on user actions;&lt;/li&gt;
&lt;li&gt;the player events may update the playlist state.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;To keep them synchronized:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;on user actions, we need to lock the playlist, then the player;&lt;/li&gt;
&lt;li&gt;on player events, we need to lock the player, then the playlist.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;This poses a lock-order inversion problem: for example, if thread A locks the playlist then waits for the player lock, while thread B locks the player then waits for the playlist lock, then thread A and B are &lt;a href=&quot;https://en.wikipedia.org/wiki/Deadlock&quot;&gt;deadlocked&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To avoid the problem, the &lt;em&gt;player&lt;/em&gt; and the &lt;em&gt;playlist&lt;/em&gt; share the same lock. Concretely, &lt;code class=&quot;highlighter-rouge&quot;&gt;vlc_playlist_Lock()&lt;/code&gt; delegates to &lt;code class=&quot;highlighter-rouge&quot;&gt;vlc_player_Lock()&lt;/code&gt;. In practice, the lock should be held only for short periods of time.&lt;/p&gt;

&lt;p&gt;A separate API (&lt;a href=&quot;https://code.videolan.org/videolan/vlc/commit/3e0cc1942a963693cf97c99a5ab1e9c6171fe6b1&quot;&gt;&lt;em&gt;media source&lt;/em&gt; and &lt;em&gt;media tree&lt;/em&gt;&lt;/a&gt;) was necessary to expose what is called &lt;em&gt;services discovery&lt;/em&gt; (used to detect media from various sources like &lt;a href=&quot;https://fr.wikipedia.org/wiki/Server_Message_Block&quot;&gt;Samba&lt;/a&gt; or &lt;a href=&quot;https://en.wikipedia.org/wiki/Media_Transfer_Protocol&quot;&gt;MTP&lt;/a&gt;), which were previously managed by the old playlist.&lt;/p&gt;
&lt;p&gt;Thus, we could &lt;a href=&quot;https://code.videolan.org/videolan/vlc/commit/c67934b0b4fc9298cb0784c07f701392589e61b7&quot;&gt;kill&lt;/a&gt; the old playlist.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The new playlist and player API should help to implement UI properly &lt;em&gt;(spoiler: a new &lt;a href=&quot;https://www.youtube.com/watch?v=jzvC-0WCjKU&amp;amp;t=841&quot;&gt;modern UI&lt;/a&gt; is being developed)&lt;/em&gt;, to avoid racy bugs and to implement new features &lt;em&gt;(spoiler: &lt;a href=&quot;https://en.wikipedia.org/wiki/Gapless_playback&quot;&gt;gapless&lt;/a&gt;)&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Discuss on &lt;a href=&quot;https://www.reddit.com/r/programming/comments/br7or7/a_new_core_playlist_for_vlc_4/&quot;&gt;reddit&lt;/a&gt; and &lt;a href=&quot;https://news.ycombinator.com/item?id=19978295&quot;&gt;Hacker News&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;hr/&gt;
</description>
<pubDate>Wed, 22 May 2019 06:17:42 +0000</pubDate>
<dc:creator>rom1v</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.rom1v.com/2019/05/a-new-core-playlist-for-vlc-4/</dc:identifier>
</item>
<item>
<title>Go is Google&amp;#039;s language, not ours</title>
<link>https://utcc.utoronto.ca/~cks/space/blog/programming/GoIsGooglesLanguage</link>
<guid isPermaLink="true" >https://utcc.utoronto.ca/~cks/space/blog/programming/GoIsGooglesLanguage</guid>
<description>&lt;p&gt;Over on Twitter, I saw &lt;a href=&quot;https://twitter.com/kapoorsunny/status/1130150301468700674&quot;&gt;the following question&lt;/a&gt; (&lt;a href=&quot;https://old.reddit.com/r/golang/comments/bqiyyb/generics_in_go/&quot;&gt;via&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;There is lot of conversation around generics in #go, can't we have something like OpenGo, where community can implement generics , rather that waiting for official #go generics to happen ? Something like OpenJDK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are many answers for why this won't happen, but one that does not usually get said out loud is that &lt;strong&gt;Go is Google's language, not the community's&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Yes, there's a community that contributes things to Go, some of them important and valued things; you only have to look at the diversity of people in &lt;a href=&quot;https://github.com/golang/go/blob/master/CONTRIBUTORS&quot;&gt;CONTRIBUTORS&lt;/a&gt; or see the variety of people appearing in &lt;a href=&quot;https://github.com/golang/go/commits/master&quot;&gt;the commits&lt;/a&gt;. But Google is the gatekeeper for these community contributions; it alone decides what is and isn't accepted into Go. To the extent that there even is a community process for deciding what is accepted, there is an 800-pound gorilla in the room. Nothing is going to go into Go that Google objects to, and if Google decides that something needs to be in Go, it will happen.&lt;/p&gt;
&lt;p&gt;(The most clear and obvious illustration of this is what happened with Go modules, where one member of Google's Go core team discarded the entire system the outside Go community had been working on in favour of a &lt;a href=&quot;https://research.swtch.com/vgo&quot;&gt;relatively radically different model&lt;/a&gt;. See &lt;a href=&quot;https://peter.bourgon.org/blog/2018/07/27/a-response-about-dep-and-vgo.html&quot;&gt;eg&lt;/a&gt; for one version of this history.)&lt;/p&gt;
&lt;p&gt;Or in short, Go has community contributions but it is not a community project. It is Google's project. This is an unarguable thing, whether you consider it to be good or bad, and it has effects that we need to accept. For example, if you want some significant thing to be accepted into Go, working to build consensus in the community is far less important than persuading the Go core team.&lt;/p&gt;
&lt;p&gt;(As a corollary, sinking a lot of time and effort into a community effort that doesn't have enthusiastic buy-in from the Go core team is probably a waste of time; at the most, your work might help the Go core team understand the issues better. Again, see Go modules for this in action.)&lt;/p&gt;
&lt;p&gt;In general, it's extremely clear that the community's voice doesn't matter very much for Go's development, and those of us working with Go outside Google's walls just have to live with that. If we're very lucky, our priorities match up with Google's; if we're reasonably lucky, the Go core team and Google will decide that they care enough about our priorities to work on them. The good news is that Google and the Go core team do care (so far) about Go being a success in the outside world, not just inside Google, so they're willing to work on pain points.&lt;/p&gt;
&lt;p&gt;(On the good and bad scale, there is a common feeling that Go has done well by having a small core team with good taste and a consistent vision for the language, a team that is not swayed by outside voices and is slow moving and biased to not making changes.)&lt;/p&gt;
&lt;p&gt;PS: I like Go and have for a fair while now, and I'm basically okay with how the language has been evolving and how the Go core team has managed it. I certainly think it's a good idea to take things like generics slowly. But at the same time, how things developed around Go modules has left a bad taste in my mouth and I now can't imagine becoming a Go contributor myself, even for small trivial changes (to put it one way, I have no interest in knowing that I'm always going to be a second class citizen). I'll file bug reports, but that's it. The whole situation leaves me with ambiguous feelings, so I usually ignore it completely.&lt;/p&gt;
&lt;p&gt;(And claims by the Go team that they really care about the community and want them to be involved now sound laughable. I'm sure they care, but only up to a certain point. I think that the Go core team should be bluntly honest about the situation, rather than pretend and implicitly lead people on.)&lt;/p&gt;
&lt;h3&gt;Sidebar: Google and the Go core team&lt;/h3&gt;
&lt;p&gt;You could ask if Go is Google's language or the Go core team's language, since Go's direction is set and controlled by that small core team. However, at the moment I believe that most or all of the active Go core team is employed by Google, making the distinction impossibly to determine in practice (at least from outside Google). In practice we'll only get a chance to find out who Go really belongs to if Go core team members start leaving Google and try to remain active in determining Go's direction. If that works, especially if the majority of them no longer work for Google, then Go probably is their language, not Google's, in the same way that Python has always been Guido van Rossum's language regardless of who he worked for at the time.&lt;/p&gt;
&lt;p&gt;On a practical level, it's undeniable that at the moment Google provides much of the infrastructure and resources to support Go, such as &lt;a href=&quot;https://golang.org/&quot;&gt;golang.org&lt;/a&gt;, and as a result owns the domain names and so on. Google also holds the trademarks on 'Go' as a programming language, per &lt;a href=&quot;https://www.google.com/permissions/trademark/trademark-list/&quot;&gt;their trademarks list&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Wed, 22 May 2019 05:59:04 +0000</pubDate>
<dc:creator>uggedal</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://utcc.utoronto.ca/~cks/space/blog/programming/GoIsGooglesLanguage</dc:identifier>
</item>
<item>
<title>A Revolution in Your Pocket</title>
<link>https://rbs.io/2019/05/a-revolution-in-your-pocket/</link>
<guid isPermaLink="true" >https://rbs.io/2019/05/a-revolution-in-your-pocket/</guid>
<description>&lt;div class=&quot;main-content-wrap&quot;&gt;
&lt;p&gt;Internet users have been trained over the past decade or so to believe the argument that the services we have grown to think of as “the internet” are expensive to run and that the only way to pay for those services is to let ourselves be tracked everywhere in the service of advertising. Our concepts of privacy, particularly when we talk about laws and regulations, are often presumed to take place solely within this frame. The platforms want us to be asking “how is all of this going to be paid for, if not advertising based on mining of personal information?”&lt;/p&gt;
&lt;p&gt;Following that logic, however, leads to a thought-provoking conclusion: If this status quo value exchange is truly what the platforms are suggesting we should continue to engage in, its a horrendous deal for most of us! We are giving away all of own information–incredibly detailed portraits of ourselves, families, and friends that will be stored forever and used in ways we can’t imagine–in exchange for computing resources that can be had today for $35, and code with equivalents that are free and open source. Indeed, the argument about the value of these online services seems to be presuming the conclusion that services like these must be paid for to begin with. In reality, our future technology need not be owned by any one platform and doesn’t require anyone to pay for it. Why? Because we have all already spent the money (or other resources). We just don’t usually think of it as such.&lt;/p&gt;
&lt;p&gt;Many, if not most, of us already own a hand-sized computer with a persistent network connection that we take pretty much everywhere and which lives in our pockets or bags. The top of the line Android and Apple personal computing devices (honestly, does anyone use their “phone” primarily as a voice communication device anymore?) run at upwards of 2 Ghz, have around 4GB of RAM, and on-board storage ranging between 64 and 512 GB. If those numbers don’t mean much to you, they are roughly equivalent to a full laptop from 2010. All these devices are also capable of receiving and transmitting across a decently wide range of frequencies.&lt;/p&gt;
&lt;p&gt;Those frequencies are another resource that we already possess (at least, conceptually). The airwaves were long considered to be public property that Federal Communications Commission was responsible for parceling out because of the problems inherent in competing broadcasting signals. That viewpoint withered in the face of the deregulatory agenda of the Reagan years, but its recent revival can be seen in the use of explicitly unlicensed spectrum that makes technologies such as WiFi and Bluetooth possible.&lt;/p&gt;
&lt;p&gt;Using these existing resources and just a few others, we have the opportunity to reshape how we have been taught the internet is supposed to work: from a set of walled-off services belonging to massive companies with far-away data centers to a harmonized set of free tools speaking a common language, working together to enable all of us to make the most of every day, all from our own pockets. What might that look like?&lt;/p&gt;

&lt;p&gt;There is the potential today to reclaim control of our digital lives from monopolist platforms and unnecessary rent-seeking. There is a world within reach where always-on, always-connected pocket computers become personal data stores. All your photos, documents, messages, and other data live with you, not on a faceless server belonging to a random corporation. The only machine learning done is done for you. Data only leaves your device because you want to send it somewhere. Here’s what it might look like:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;What we call a phone today will transition even further toward a general computing and communications device&lt;/li&gt;
&lt;li&gt;Our data will stay on our mobile computers and be backed up (encrypted of course) in the cloud&lt;/li&gt;
&lt;li&gt;We will carry with us the fundamental representation of our identity, backed and verified by advanced encryption, instead of cumbersome passwords or logins associated with the same large platforms that control our social lives&lt;/li&gt;
&lt;li&gt;Sharing of data, either broadly with a large group or directly person to person, will happen directly between mobile computers, skipping the intermediaries like Facebook or Twitter we’re used to today&lt;/li&gt;
&lt;li&gt;Where possible, that sharing will take place over pervasive locally formed networks, without needing the internet&lt;/li&gt;
&lt;li&gt;Artificial assistance will be local first – for example, searches for the best nearby coffee shop will turn to the nearby network for responses before asking the entire planet&lt;/li&gt;
&lt;li&gt;Machine learning will provide personalized intelligent assistance that runs on your own mobile computer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The shift I’m contemplating won’t be easy. Obstacles to making it happen are everywhere and powerful entities have a lot to lose if the status quo is upended. While much of the technology already exists, there are also large swaths that are still very much under construction, such as the details of &lt;a href=&quot;https://w3c-ccg.github.io/did-spec/&quot;&gt;decentralized identity&lt;/a&gt; and the need for exhaustive &lt;a href=&quot;https://simplysecure.org/blog/decentral-patterns-project&quot;&gt;user experience testing and user interface design&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And while 2018 and 2019 have seen a large growth in &lt;a href=&quot;https://www.pewresearch.org/fact-tank/2018/03/27/americans-complicated-feelings-about-social-media-in-an-era-of-privacy-concerns/&quot;&gt;the number of people who are aware of and find problematic the mass collection of personal data&lt;/a&gt;, it isn’t clear that a fundamental shift in how our computing infrastructure operates will catch on. There are powerful entities for whom the status quo makes a lot of money, and getting people to change their behaviors takes more than a blog post.&lt;/p&gt;
&lt;p&gt;There is plenty of work to do.&lt;/p&gt;
&lt;h2 id=&quot;technical&quot;&gt;Technical&lt;/h2&gt;
&lt;p&gt;The technical part of this vision focuses on the personal Mobile Computing Device (MCD). Instead of a large and heavy all-in-one device, we may carry smaller devices and use other input methods. A piece of jewelry could contain enough computing power for the job and a few different forms of interaction could make it accessible to us. Voice control through a Bluetooth headset, a UI projected onto a wall or desk, or augmented reality glasses, could all provide different methods of controlling and working with our personal computing device.&lt;/p&gt;
&lt;p&gt;The MCD will also serve as our online presence. Social media, messaging, collaboration, gaming, and all sorts of other uses of data we haven’t thought of yet, will all be centered on your own mobile computer. Private messages will be delivered directly to others while social media with a broad audience can be reshared by followers in case an MCD goes offline for some reason.&lt;/p&gt;
&lt;p&gt;At the core of that presence will be our &lt;a href=&quot;https://identity.foundation/&quot;&gt;digital identity (DID)&lt;/a&gt;. The decentralized identity projects just growing out of the World Wide Web Consortium (W3C) use peer to peer data structures to give each person a universally compatible proof of identity (or identities) that they control and which cannot be taken away. The DID represents a canonical statement of how to reach an entity, information about the entity that others have attested to (e.g. can drive a car, graduated from a university, is a citizen of a country), and where to access public encryption keys.&lt;/p&gt;
&lt;p&gt;The last five years have seen an explosion in research into and development of tools that will enable this decentralized vision. Mesh networking, Dat, IPFS, Secure Scuttlebutt, ActivityPub, and (yes) even some blockchain applications, have all been pushing forward the distributed tech state of the art. Simultaneously, the capabilities of smart phones have exploded, so much so that modern phones are shipping with artificial intelligence chips built in. Those chips mean that even more computation can happen on edge devices, rather than being farmed out to the cloud.&lt;/p&gt;
&lt;h3 id=&quot;the-future&quot;&gt;The Future&lt;/h3&gt;
&lt;p&gt;There are still plenty of places where the technology needs to continue to evolve, however. For example, we have always viewed our phones as devices that only ever connect to servers, and never as servers themselves that should listen for connections. Changing that viewpoint is certainly possible, but there are technical blockers like Network Address Translation (NAT), as well as engineering preconceptions that need to be reexamined such as security threat models.&lt;/p&gt;
&lt;p&gt;Another fundamental technical expectation that will have to change surrounds how we construct our networks and route the traffic of the internet. Our networks today are arranged in a hub-and-spoke model, though it is a network with a huge number of hubs. In a world in which we share our data directly peer to peer, our networks need to look more like the mesh of a window screen than the spokes of a bike wheel. We need to take advantage of every slice of spectrum, and we need to work as a community to relay our neighbors’ traffic and even to store messages destined for other nodes until there exists a route to deliver them.&lt;/p&gt;
&lt;p&gt;There is also a challenge that is technical and cultural at the same time. Almost all of the technologies that could make the distributed network vision possible are still in the early adopter phase. What is still needed is user experience and interface design to make them more accessible to people who are not yet as invested in the dream of a different network. One of the barriers to achieving the great user experience that the public needs is the fractured nature of the decentralized software community as it is today. Each of the projects out there solves its own particular problem in its own particular way, but there is clear lack of overarching solution aimed at consumers, with a user experience that abstracts away the gritty details while delivering the best of all of the projects it uses under the hood. Similarly, there is an important communication problem in how these projects are described to the public. Making the tech and its benefits accessible to every smartphone user out there must be a near term goal.&lt;/p&gt;
&lt;h2 id=&quot;political&quot;&gt;Political&lt;/h2&gt;
&lt;p&gt;Many decentralization advocates either ignore governments or purposefully reject the establishment of law and public policy as contrary to the spirit of the entire project. Whether or not that is the case, from a practical perspective governments exist and wield the power to hinder progress on decentralization if convinced to do so, or to help the vision move forward if we take the time to reach out and explain the technology and the opportunities. There are a variety of ways in which we can use laws and public policy to reach our goals, what follows is just a few of them. These suggestions focus mainly on the United States government and laws, because they are what I know best, but most can be adapted to other countries.&lt;/p&gt;
&lt;h3 id=&quot;ipv6&quot;&gt;IPv6&lt;/h3&gt;
&lt;p&gt;If one overarching goal is to enable people with the power to collect and distribute their own data as they desire, having a device able to act as a server, either from home or even more ideally from mobile, will be an important capability. Servers on the internet have to be reachable by anywhere else on the network, a fundamental premise known as the “end-to-end principle.” That means they can’t be hidden behind &lt;a href=&quot;https://en.wikipedia.org/wiki/Network_address_translation&quot;&gt;network address translation (NAT)&lt;/a&gt;–a technique that masks a bunch of devices, each with one of a number of “private” Internet Protocol (IP) addresses, behind one public IP. This technique has taken off in the past two decades or so because of the &lt;a href=&quot;https://www.arin.net/vault/announcements/2015/20150924.html&quot;&gt;steady decline in the number of available IPv4 addresses&lt;/a&gt;, as well as the security benefits of hiding most people’s computers away from the global internet. Most homes only have one globally routable IP address, and there are a non-negligible number of broadband providers (particularly mobile providers and smaller ISPs with less access to IP addresses) that have implemented “carrier-grade NAT,” meaning that individual subscribers, and even entire families, may not have a single globally routable IP address.&lt;/p&gt;
&lt;p&gt;The solution here is, on the surface, a technical one. A newer version of the Internet Protocol called &lt;a href=&quot;https://en.wikipedia.org/wiki/IPv6&quot;&gt;IPv6&lt;/a&gt; (don’t ask what happened to IPv5) has been available for nearly two decades and vastly increases the number of available IP addresses. Implementation has been lethargic, however, because the broadband consumer market doesn’t understand the problem and doesn’t know what to ask for as the solution. Providers have therefore seen no incentive to invest in making the transition. We have to find another lever to use in order to encourage IPv6 deployment.&lt;/p&gt;
&lt;p&gt;One possibility that wouldn’t entail actually legislating the details of broadband deployment would see the Federal Communications Commission include the end-to-end principle in their official definition of “broadband.” This would give ISPs some incentive to roll out IPv6 and make other changes that would make running services from home or mobile more practicable.&lt;/p&gt;
&lt;h3 id=&quot;open-radio-spectrum&quot;&gt;Open Radio Spectrum&lt;/h3&gt;
&lt;p&gt;The existence of radio spectrum that can be used without a government license has an interesting history. Originally set aside in 1947 because microwave ovens created so much interference that it was undesirable for other radio purposes, the 2.4 GHz band, among others, was designated for industrial, scientific, and medical (ISM) machinery, and any other uses as long as those uses put up with the inevitable radio noise from nearby equipment. For a long time, these unlicensed bands were only sporadically used for communications–in the US, some of the Citizens’ Band frequencies are in ISM ranges. It is only in the last few decades that technologies such as WiFi and Bluetooth have developed along with methods such as error correction and frequency hopping that make it possible to avoid and compensate for the interference inherent in the spectrum.&lt;/p&gt;
&lt;p&gt;In the face of the massive success of the unlicensed bands for Bluetooth, WiFi, and other protocols, we should be making a concerted push for governments to set aside larger and more varied frequency bands for unlicensed use. Such a change would open up more opportunities for building robust mesh networks that allow people’s devices to relay communications for others and have their own traffic relayed in turn. It would also give devices the option of using different frequency bands for different purposes. Higher frequencies, such as the 2.4 and 5 Gigahertz that WiFi uses, can carry a lot of bandwidth but are limited to short distances and can’t penetrate solid walls very well. Lower frequencies, such as those used by FM radio, can carry great distances but aren’t capable of delivering nearly the same amount of data. Having available unlicensed spectrum across the various options could let software choose the most efficient means of reaching another device.&lt;/p&gt;
&lt;p&gt;In the US, the Federal Communications Commission has the power to make some decisions about how spectrum is used, but much of the frequency assignment happens at the International Telecommunications Union–a UN treaty organization. Petitioning the FCC is worthwhile for freeing up spectrum in the near term, but a wholesale overhaul of global spectrum allocation (e.g. in order to allow for unlicensed use of all or most of the available frequencies) is stuck behind a slow moving and diverse bureaucracy. Change in this area will be slow and incremental.&lt;/p&gt;
&lt;h3 id=&quot;education&quot;&gt;Education&lt;/h3&gt;
&lt;p&gt;There are a host of other public policy levers that could be usefully leaned on to help build a decentralized future, from truly protective privacy legislation to wholesale attack on the economic theories underlying late-stage capitalism, particularly surveillance capitalism. At the end of the day, however, the tactic that will probably move the needle the most with policy-makers is simple education. To many people in government, technology is already something of a black box. Concepts such as peer to peer data sharing, mesh networking, or distributed computing are still likely to be greeted with blank stares or vague associations to copyright violations using BitTorrent or massive blockchain fraud.&lt;/p&gt;
&lt;p&gt;Changing that fact will take a lot of very basic engagement. Some of that will no doubt take the form of patient explanation of the technical underpinnings of MerkleDAGs or Distributed Hash Tables, but much of it will be about socializing the fact of alternatives: Alternatives to the image of consumption baked into the server/client metaphor; alternatives to the idea that privacy is something that is dead or not a concern; alternatives to the edifice of corporate capitalism that acknowledge the human drive to collaborate, cooperate, share, and help our neighbors. It would entail speaking up for the type of spirit that drives &lt;a href=&quot;https://enspiral.com&quot;&gt;worker-owned cooperatives&lt;/a&gt;, mesh networks &lt;a href=&quot;https://librerouter.org/what-the-project-is-about-2/&quot;&gt;providing internet access to off-the-grid villages&lt;/a&gt; from Argentina to &lt;a href=&quot;https://www.bbc.com/news/av/world-africa-47723967/internet-access-in-africa-are-mesh-networks-the-future&quot;&gt;South Africa&lt;/a&gt;, and protocols aimed at creating &lt;a href=&quot;http://activitypub.rocks/&quot;&gt;social networks driven by community rather than rage-induced addiction&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This type of advocacy is grueling and necessary. It also calls for a skill-set that doesn’t always (though by no means never) overlap with the ability to design eventually consistent distributed data structures. The vision I’ve just laid out needs buy in as much as it needs code.&lt;/p&gt;

&lt;p&gt;For the past few decades, the marriage of technical innovation and unharnessed capitalism has chugged confidently down the tracks, resulting in a handful of companies controlling how the whole world interacts and collecting personal information from people without their understanding. The last few years have seen a surge in alternative technologies and organizational models and the past 18 months have seen an explosion in popular skepticism toward the big platforms and their conduct. The time is ripe to bring together the amazing tools and technology of the decentralization movement with the usability and design that make Apple products so iconic. The public is ready for an alternative. At the same time, governments everywhere are starting to wake to the dangers to privacy and competition that the platforms represent and are ready to learn about something new.&lt;/p&gt;
&lt;p&gt;The iron is just getting hot. It’s time to strike.&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Tue, 21 May 2019 23:07:12 +0000</pubDate>
<dc:creator>Supermighty</dc:creator>
<og:description>Internet users have been trained over the past decade or so to believe the argument that the services we have grown to think of as “the internet” are expensive to run and that the only way to pay for those services is to let ourselves be tracked everywhere in the service of advertising. Our concepts of privacy, particularly when we talk about laws and regulations, are often presumed to take place solely within this frame.</og:description>
<og:type>blog</og:type>
<og:title>A Revolution In Your Pocket</og:title>
<og:url>/2019/05/a-revolution-in-your-pocket/</og:url>
<og:image>https://rbs.io/images/head-shot.jpg</og:image>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://rbs.io/2019/05/a-revolution-in-your-pocket/</dc:identifier>
</item>
</channel>
</rss>