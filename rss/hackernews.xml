<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>“Python&amp;#039;s batteries are leaking”</title>
<link>http://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html</link>
<guid isPermaLink="true" >http://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html</guid>
<description>&lt;a href=&quot;http://1.bp.blogspot.com/-Z6QcSZJ-r74/XNzG_pDAiRI/AAAAAAAACN4/89VSfdr8X4YYOvt_xmo5AHtCt563sfDrACK4BGAYYCw/s1600/amber-brown-2.jpg&quot; imageanchor=&quot;1&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;https://1.bp.blogspot.com/-Z6QcSZJ-r74/XNzG_pDAiRI/AAAAAAAACN4/89VSfdr8X4YYOvt_xmo5AHtCt563sfDrACK4BGAYYCw/s640/amber-brown-2.jpg&quot;/&gt;&lt;/a&gt;&lt;p&gt;Amber Brown of the Twisted project shared her criticisms of the Python standard library. This proved to be the day’s most controversial talk; Guido van Rossum stormed from the room during Q &amp;amp; A.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://pyfound.blogspot.com/2019/05/the-2019-python-language-summit.html&quot;&gt;Read more 2019 Python Language Summit coverage&lt;/a&gt;.&lt;/p&gt;
Python claims to ship with batteries included, but according to Brown, without external packages it is only “marginally useful.” For example, &lt;code&gt;asyncio&lt;/code&gt; requires external libraries to connect to a database or to speak HTTP. Brown asserted that there were many such dependencies from the standard library to PyPI: &lt;code&gt;typing&lt;/code&gt; works best with &lt;code&gt;mypy&lt;/code&gt;, the &lt;code&gt;ssl&lt;/code&gt; module requires a monkeypatch to connect to non-ASCII domain names, &lt;code&gt;datetime&lt;/code&gt; needs &lt;code&gt;pytz&lt;/code&gt;, and &lt;code&gt;six&lt;/code&gt; is non-optional for writing code for Python 2 and 3.&lt;p&gt;Other standard library modules are simply inferior to alternatives on PyPI. The &lt;code&gt;http.client&lt;/code&gt; documentation advises readers to use Requests, and the &lt;code&gt;datetime&lt;/code&gt; module is confusing compared to its competitors such as &lt;code&gt;arrow&lt;/code&gt;, &lt;code&gt;dateutil&lt;/code&gt;, and &lt;code&gt;moment&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;“Python's batteries are leaking,” said Brown. She thinks that some bugs in the standard library will never be fixed. And even when bugs are fixed, PyPI libraries like Twisted cannot assume they run on the latest Python, so they must preserve their bug workarounds forever.&lt;/p&gt;&lt;p&gt;There are many modules that few applications use, but there is no method to install a subset of the standard library. Brown called out the XML parser and &lt;code&gt;tkinter&lt;/code&gt; in particular for making the standard library larger and harder to build, burdening all programmers for the sake of a few. As Russell Keith-Magee had described earlier in the day, the size of the standard library makes it difficult for PyBee to run Python on constrained devices. Brown also noted that some standard library modules were optimized in C for Python 3, but had to be reimplemented in pure Python for PyPy to support them.&lt;/p&gt;&lt;p&gt;Brown identified new standard library features that were “too little, too late,” leaving users to depend on backports to use those features in Python 2. For example, &lt;code&gt;socket&lt;/code&gt;.&lt;code&gt;sendmsg&lt;/code&gt; was added only recently, meaning Twisted must ship its own C extension to use &lt;code&gt;sendmsg&lt;/code&gt; in Python 2. Although Python 2 is nearly at its end of life, this only holds for the core developers, according to Brown, and for users, Red Hat and other distributors will keep Python 2 alive “until the goddam end of time.” Brown also mentioned that some &lt;code&gt;itertools&lt;/code&gt; code is shown as examples in the documentation instead of shipped as functions in the &lt;code&gt;itertools&lt;/code&gt; module.&lt;/p&gt;&lt;p&gt;Guido van Rossum, sitting at the back of the room, interrupted at this moment, “Can you keep to one topic? I'm sorry but this is just one long winding rant. What is your point?” Brown responded that her point was that there are a multitude of problems in the standard library.&lt;/p&gt;
&lt;br/&gt;Brown’s most controversial opinion, in her own estimation, is that adding modules to the standard library stifles innovation, by discouraging programmers from using or contributing to competing PyPI packages. Ever since &lt;code&gt;asyncio&lt;/code&gt; was announced she has had to explain why Twisted is still worthwhile, and now that data classes are in the standard library Hynek Schlawack must defend his &lt;code&gt;attrs&lt;/code&gt; package. Even as standard library modules crowd out other projects, they lag behind them. According to Brown, “the standard library is where code sometimes goes to die,” because it is difficult and slow to contribute code there. She acknowledged recent improvements, from Mariatta Wijaya’s efforts in particular, but Python is still harder to contribute to than PyPI packages.&lt;p&gt;“So I know a lot of this is essentially a rant,” she concluded, “but it's fully intended to be.”&lt;/p&gt;
&lt;br/&gt;&lt;div class=&quot;separator&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-tLT2DbjKtxc/XNzHr10yy-I/AAAAAAAACOE/hyiyitxGS84hupReozH8XNTeO_O9kYspwCLcBGAs/s1600/amber-brown-1.jpg&quot; imageanchor=&quot;1&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1199&quot; data-original-width=&quot;800&quot; height=&quot;320&quot; src=&quot;https://2.bp.blogspot.com/-tLT2DbjKtxc/XNzHr10yy-I/AAAAAAAACOE/hyiyitxGS84hupReozH8XNTeO_O9kYspwCLcBGAs/s320/amber-brown-1.jpg&quot; width=&quot;213&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
Nick Coghlan interpreted Brown’s proposal as generalizing the “ensurepip” model to ensure some packages are always available but can upgraded separately from the standard library, and he thought this was reasonable.&lt;p&gt;Van Rossum was less convinced. He asked again, “Amber, what is your point?” Brown said her point was to move &lt;code&gt;asyncio&lt;/code&gt; to PyPI, along with most new feature development. “We should embrace PyPI,” she exhorted. Some ecosystems such as Javascript rely too much on packages, she conceded, but there are others like Rust that have small standard libraries and high-quality package repositories. She thinks that Python should move farther in that direction.&lt;/p&gt;&lt;p&gt;Van Rossum argued instead that if the Twisted team wants the ecosystem to evolve, they should stop supporting older Python versions and force users to upgrade. Brown acknowledged this point, but said half of Twisted users are still on Python 2 and it is difficult to abandon them. The debate at this point became personal for Van Rossum, and he left angrily.&lt;/p&gt;&lt;p&gt;Nathaniel Smith commented, “I'm noticing some tension here.” He guessed that Brown and the core team were talking past each other because the core team had different concerns from other Python programmers. Brown went further adding that because few Python core developers are also major library maintainers, library authors’ complaints are devalued or ignored.&lt;/p&gt;&lt;p&gt;The remaining core developers continued the technical discussion. Barry Warsaw said that the core team had discussed deprecating modules in the standard library, or creating slim distributions with a subset of it, but that it required a careful design. Others objected that slimming down the standard library risked breaking downstream code, or making work for programmers in enterprises that trust the standard library but not PyPI.&lt;/p&gt;&lt;p&gt;Pablo Galindo Salgado was concerned that moving modules from the standard library to PyPI would create an explosion of configurations to test, but in Brown’s opinion, “We are already living that life.” Some Linux and Python distributions have selectively backported features and fixes, leading to a much more complex set of configurations than the core team realizes.
&lt;/p&gt;
</description>
<pubDate>Sat, 18 May 2019 17:40:52 +0000</pubDate>
<dc:creator>narimiran</dc:creator>
<og:url>http://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html</og:url>
<og:title>Amber Brown: Batteries Included, But They're Leaking</og:title>
<og:description>Amber Brown of the Twisted project shared her criticisms of the Python standard library. This proved to be the day’s most controversial ta...</og:description>
<og:image>https://1.bp.blogspot.com/-Z6QcSZJ-r74/XNzG_pDAiRI/AAAAAAAACN4/89VSfdr8X4YYOvt_xmo5AHtCt563sfDrACK4BGAYYCw/w1200-h630-p-k-no-nu/amber-brown-2.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html</dc:identifier>
</item>
<item>
<title>I Got a Knuth Check for 0x$3.00</title>
<link>https://nickdrozd.github.io/2019/05/17/knuth-check.html</link>
<guid isPermaLink="true" >https://nickdrozd.github.io/2019/05/17/knuth-check.html</guid>
<description>&lt;p&gt;&lt;strong&gt;Donald Knuth&lt;/strong&gt; is a computer scientist who is so committed to the correctness of his books that he offers &lt;strong&gt;one US hexadecimal dollar&lt;/strong&gt; ($2.56, 0x$1.00) for any “bug” found in his books, where a bug is anything that is “technically, historically, typographically, or politically incorrect”. I wanted to get a &lt;strong&gt;Knuth check&lt;/strong&gt; for myself, so I set out to find some errors in his magnum opus, &lt;strong&gt;&lt;em&gt;The Art of Computer Programming&lt;/em&gt;&lt;/strong&gt; (TAOCP). I found three and sent them in, and true to his word, he sent me back a check for &lt;strong&gt;0x$3.00&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://nickdrozd.github.io/assets/2019-05-17-knuth-check/knuth-check.jpeg&quot; alt=&quot;img&quot;/&gt;&lt;/p&gt;
&lt;p&gt;As you can see, it’s not a real check. Knuth used to send out real checks, but stopped in 2008 due to &lt;a href=&quot;https://www-cs-faculty.stanford.edu/~knuth/news08.html&quot;&gt;&lt;strong&gt;rampant fraud&lt;/strong&gt;&lt;/a&gt;. Now he sends out “personal certificates of deposit” to the &lt;a href=&quot;https://www-cs-faculty.stanford.edu/~knuth/boss.html&quot;&gt;&lt;strong&gt;Bank of San Serriffe&lt;/strong&gt;&lt;/a&gt; (BoSS). He says he’ll still send real money if it’s desired, but that seems like a lot of hassle.&lt;/p&gt;
&lt;p&gt;There are &lt;strong&gt;two typographical errors and one historical error&lt;/strong&gt;. I’ll describe them in order of triviality from greatest to least.&lt;/p&gt;

&lt;p&gt;The first typo is on page 392 of Volume 3, &lt;em&gt;Sorting and Searching&lt;/em&gt;, eighth line from the bottom: “After an unsuccessful search it is sometime desirable to enter a new record, containing &lt;em&gt;K&lt;/em&gt;, into the table; a method that does this is called a &lt;em&gt;search-and-insertion&lt;/em&gt; algorithm.” The error is that &lt;strong&gt;&lt;em&gt;sometime&lt;/em&gt;&lt;/strong&gt; should be &lt;strong&gt;&lt;em&gt;sometimes&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Of course, it’s no surprise that such an error should get made. This post alone is sure to contain several typos (no rewards for finding them though). What’s surprising is that it went undiscovered for so long. Page 392 isn’t buried deep in a math-heavy section, it’s the &lt;strong&gt;very first page&lt;/strong&gt; of Chapter 6, “Searching”! You’d think that would be one of the most-read sections of the whole thing, and therefore also one of the most typo-free, but I guess not.&lt;/p&gt;
&lt;p&gt;By the way, if you’ve ever thought about reading TAOCP, give it a try. A lot of people will tell you that it’s a &lt;strong&gt;reference work&lt;/strong&gt;, and it’s not meant to be read straight through, but that isn’t true. The author has a clear point of view and a narrative and an idiosyncratic style, and the only thing that inhibits readability is the difficulty of the math. There’s an easy solution to that though: &lt;em&gt;read until you get to math you don’t understand, then skip it and find the next section you can understand.&lt;/em&gt; Reading this way, I skip at least 80% of the book, but the remaining 20% is great!&lt;/p&gt;
&lt;p&gt;People also say that TAOCP is &lt;strong&gt;irrelevant&lt;/strong&gt; or outdated or otherwise inapplicable to “real programming”. This also wrong. For instance, the first section after the chapter intro deals with the basic problem of searching for an item in an unsorted array. The simplest algorithm should be familiar to all programmers. Start your pointer at the head of the array, then do the following in a loop:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Check if the current item is the desired one. If it is, return success; otherwise&lt;/li&gt;
&lt;li&gt;Check if the pointer is past the array bound. If it is, return failure; otherwise&lt;/li&gt;
&lt;li&gt;Increment the pointer and continue.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Now consider: how many bound checks does this algorithm require on average? In the worst case, when the array doesn’t contain the item, one bound check will be required for each item in the list, and on average it will be something like &lt;em&gt;N/2&lt;/em&gt;. A more clever search algorithm can do it with just one bound check in all cases. Tack the desired item on to the end of the array, then start your pointer at the head of the array and do the following in a loop:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Check if the current item is the desired one. If it is, return success if the pointer is within the array bound and return failure if it isn’t; otherwise&lt;/li&gt;
&lt;li&gt;Increment the pointer and continue.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;With this algorithm, things are arranged such that the item is guaranteed to be found one way or another, and the bound check only needs to be executed once when the item is found. This is a deep idea, but it’s also simple enough even for a beginning programmer to understand. I guess I can’t speak about the relevance for the work of others, but I was immediately able to apply this wisdom in both personal and professional code. TAOCP is full of gems like this.&lt;sup&gt;&lt;a id=&quot;fnr.1&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Searching, searching&lt;br/&gt;For so long&lt;br/&gt;Searching, searching&lt;br/&gt;I just wanted to dance&lt;/p&gt;
&lt;p&gt;– Luther Vandross, Searching (1980)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The second typo is in Volume 4A, &lt;em&gt;Combinatorial Algorithms, Part 1&lt;/em&gt;. There is a problem on page 60 that deals with scheduling comedians to perform at various casinos. Several real-life comedians are used as an example, including Lily Tomlin, Weird Al Yankovic, and &lt;strong&gt;Robin Williams&lt;/strong&gt;, who was not dead when the volume was published. Knuth always includes &lt;strong&gt;full names&lt;/strong&gt; in the indexes to his books,&lt;sup&gt;&lt;a id=&quot;fnr.2&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; so Williams appears on page 882 as “Williams, Robin &lt;strong&gt;McLaurim&lt;/strong&gt;”. But his middle name ends with an &lt;strong&gt;&lt;em&gt;n&lt;/em&gt;&lt;/strong&gt;, not an &lt;strong&gt;&lt;em&gt;m&lt;/em&gt;&lt;/strong&gt;, so it should be &lt;strong&gt;&lt;em&gt;McLaurin&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;McLaurin&lt;/em&gt; was his mother’s maiden name. She was the great-granddaughter of &lt;strong&gt;Anselm Joseph McLaurin&lt;/strong&gt;, the 34th governor of &lt;strong&gt;Mississippi&lt;/strong&gt;. His administration does not seem to have been noteworthy. According to &lt;a href=&quot;https://books.google.com/books?id=OvNjBAAAQBAJ&amp;amp;pg=PA177&amp;amp;lpg=PA177&amp;amp;dq=anselm+mclaurin&amp;amp;source=bl&amp;amp;ots=kPu_kLXUrz&amp;amp;sig=ACfU3U2UKRAmJyH_dVfcb2tfSmzYemEgTw&amp;amp;hl=en&amp;amp;sa=X&amp;amp;ved=2ahUKEwjTl9vvroDiAhVHI6wKHfCTC6I4MhDoATADegQICRAB#v=onepage&amp;amp;q&amp;amp;f=false&quot;&gt;&lt;em&gt;Mississippi: A History&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The most important event of McLaurin’s administration was the United States’ declaration of war against Spain in the spring of 1898…Unfortunately the war may have given some state officials the opportunity to practice graft. McLaurin was accused of various questionable practices, including nepotism and excessive use of his pardoning powers. And in this era of mounting support for the temperance movement, the governor’s critics charged him with drunkenness, an allegation he publicly admitted.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Consider the &lt;strong&gt;traditional multiplication algorithm&lt;/strong&gt; taught to schoolchildren. How many single-digit multiplication operations does it require? Say you’re multiplying &lt;em&gt;m&lt;/em&gt;-digit &lt;em&gt;x&lt;/em&gt; by &lt;em&gt;n&lt;/em&gt;-digit &lt;em&gt;y&lt;/em&gt;. First you multiply the first digit of &lt;em&gt;x&lt;/em&gt; by each digit of &lt;em&gt;y&lt;/em&gt; in turn. Then you multiply the second digit of &lt;em&gt;x&lt;/em&gt; by each digit of &lt;em&gt;y&lt;/em&gt; in turn, and so on until you’ve gone through each digit of &lt;em&gt;x&lt;/em&gt;. Thus traditional multiplication requires &lt;em&gt;mn&lt;/em&gt; primitive multiplications. In particular, multiplying two numbers each with &lt;em&gt;n&lt;/em&gt; digits requires &lt;em&gt;n&lt;sup&gt;2&lt;/sup&gt;&lt;/em&gt; single-digit multiplications.&lt;/p&gt;
&lt;p&gt;That’s bad, but it’s possible to do better with a method devised by the Soviet mathematician &lt;strong&gt;Anatoly Alexeevich Karatsuba&lt;/strong&gt;. Say &lt;em&gt;x&lt;/em&gt; and &lt;em&gt;y&lt;/em&gt; are two-digit decimal numbers; that is, there are numbers &lt;em&gt;a, b, c, d&lt;/em&gt; such that &lt;em&gt;x = (ab)&lt;sub&gt;10&lt;/sub&gt;&lt;/em&gt; and &lt;em&gt;y = (cd)&lt;sub&gt;10&lt;/sub&gt;&lt;/em&gt;.&lt;sup&gt;&lt;a id=&quot;fnr.3&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; Then &lt;em&gt;x = 10a + b&lt;/em&gt;, &lt;em&gt;y = 10c + d&lt;/em&gt;, and &lt;em&gt;xy = (10a + b)(10c + d)&lt;/em&gt;. FOILing that out gives &lt;em&gt;xy = 100ac + 10ad + 10bc + bd&lt;/em&gt;. At this point we still have the expected &lt;em&gt;n&lt;sup&gt;2&lt;/sup&gt; = 4&lt;/em&gt; single-digit multiplications: &lt;em&gt;ac, ad, bc, bd&lt;/em&gt;. Now add and subtract &lt;em&gt;10ac + 10bc&lt;/em&gt;. Some clever rearranging, which I’ll leave as an exercise for the reader, yields &lt;em&gt;xy = 110ac + 11bd + 10(a - b)(d - c)&lt;/em&gt; – just three single-digit multiplications! (There are some constant coefficients, but those can be calculated by doing only addition and bit-shifting.)&lt;/p&gt;
&lt;p&gt;Don’t ask me to prove it, but the &lt;strong&gt;Karatsuba algorithm&lt;/strong&gt; (recursively generalized from the example above) improves the traditional method’s &lt;em&gt;O(n&lt;sup&gt;2&lt;/sup&gt;)&lt;/em&gt; multiplications to &lt;em&gt;O(n&lt;sup&gt;(lg 3)&lt;/sup&gt;)&lt;/em&gt;. Note that this is an actual algorithmic improvement, not a “mental math” trick. Indeed, the algorithm is not suitable for use inside the human brain, as it requires a large overhead to deal with recursive bookkeeping. Besides, the speedup doesn’t start to kick in until the numbers get fairly large anyway.&lt;sup&gt;&lt;a id=&quot;fnr.4&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;This algorithm is described on page 295 of Volume 2, &lt;em&gt;Seminumerical Algorithms&lt;/em&gt;. There, Knuth says, “Curiously, this idea does not seem to have been discovered before &lt;strong&gt;1962&lt;/strong&gt;,” which is when the paper describing the Karatsuba algorithm was published. But! In 1995 Karatsuba published a paper titled “The Complexity of Computations” in which he says a few things: 1) Around 1956, Kolmogorov conjectured that multiplication could not be done with less than &lt;em&gt;O(n&lt;sup&gt;2&lt;/sup&gt;)&lt;/em&gt; multiplication steps. 2) In &lt;strong&gt;1960&lt;/strong&gt;, Karatsuba attended a seminar wherein Kolmogorov pitched his n&lt;sup&gt;2&lt;/sup&gt; conjecture. 3) “Exactly within a week” Karatsuba devised his divide-and-conquer algorithm. 4) In 1962, Kolmogorov wrote and published a paper &lt;em&gt;in Karatsuba’s name&lt;/em&gt; describing the algorithm. “I learned about the article only when I was given its reprints.”&lt;/p&gt;
&lt;p&gt;Thus the error is that &lt;em&gt;1962&lt;/em&gt; should be &lt;em&gt;1960&lt;/em&gt;. That’s it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Finding these errors didn’t take a lot of skill.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;The first typo took no skill at all to find. The error was as mundane as could be, and it was in a relatively visible place (the beginning of a chapter). Any idiot could have found it; I just happened to be the idiot who did.&lt;/li&gt;
&lt;li&gt;Finding the second typo required luck and diligence, but no skill. The index entry for “Williams” appears on the penultimate page of the volume, a highly visible piece of book real estate. I happened to be thumbing through the index&lt;sup&gt;&lt;a id=&quot;fnr.5&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;, and it happened to catch my eye. Because I habitually look things up on &lt;strong&gt;Wikipedia&lt;/strong&gt;, I looked up Robin Williams, and I happened to notice the discrepancy.&lt;/li&gt;
&lt;li&gt;I wish I could say I did some serious digging to find the historical error, but really all I did was look at &lt;a href=&quot;https://en.wikipedia.org/wiki/Karatsuba_algorithm&quot;&gt;the Wikipedia page on the Karatsuba algorithm&lt;/a&gt;, the first two lines of which read: “The Karatsuba algorithm is a fast multiplication algorithm. It was discovered by Anatoly Karatsuba in 1960 and published in 1962.” After that it was just a matter of connecting the dots.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;In the future, I’d like to find a more substantial bug, especially one in Knuth’s code. I’d also like to find a bug in Volume 1, &lt;em&gt;Fundamental Algorithms&lt;/em&gt;. I might have already, but my local public library for whatever reason only has Volumes 2, 3, and 4A.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Financial facts:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;In total, my contributions to TAOCP consist of &lt;strong&gt;just three characters&lt;/strong&gt;: one added &lt;em&gt;s&lt;/em&gt;, an &lt;em&gt;n&lt;/em&gt; to replace an &lt;em&gt;m&lt;/em&gt;, and a &lt;em&gt;0&lt;/em&gt; to replace a &lt;em&gt;2&lt;/em&gt;. At $2.56 a pop, those are some &lt;strong&gt;lucrative&lt;/strong&gt; characters; if you were paid $2.56/character to write 1000 words with an average of 4 characters/word, you’d clear ten grand.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;My three hex dollars put me in a 29-way tie for being the &lt;strong&gt;69th richest person in all of San Serriffe&lt;/strong&gt;.&lt;sup&gt;&lt;a id=&quot;fnr.6&quot; class=&quot;footref&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fn.6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://kevinlawler.com/knuth&quot;&gt;How to Get a Knuth Check&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;General advice for finding errors in Knuth books. It mostly applies to technical errors, which mine are not. It does have one suggestion that I took seriously:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is better to wait until you have a collection of errors to send in. Bundling several legitimate but low-grade errors together can increase the chance that one is actually treated as an error or a suggestion. Sending several errors in piecemeal could cause each of them to be dismissed out of hand.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I didn’t want to just send in some &lt;strong&gt;chickenshit typos&lt;/strong&gt; by themselves, so as per the suggestion I waited until I had the historical error, which seemed serious enough, and then sent everything in at once.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://ashutoshmehra.net/blog/about/knuth-reward-checks-and-certificates/&quot;&gt;The Checks of Ashutosh Mehra&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ashutosh Mehra is the third-richest person in San Serriffe, with a whopping 0x$207.f0 in BoSS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://www.truetex.com/knuthchk.htm&quot;&gt;A check for some nonfunctional bugs in the actual TeX code&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Miscellaneous: &lt;a href=&quot;http://ed-thelen.org/KnuthCheck.html&quot;&gt;#1&lt;/a&gt; &lt;a href=&quot;http://www.club.cc.cmu.edu/~ajo/knuth-check.html&quot;&gt;#2&lt;/a&gt; &lt;a href=&quot;http://joaoff.com/2008/02/25/a-reward-check-from-donald-knuth/&quot;&gt;#3&lt;/a&gt; &lt;a href=&quot;https://www.quora.com/What-is-it-like-to-receive-a-Knuth-reward-check&quot;&gt;#4&lt;/a&gt; &lt;a href=&quot;http://www.joshwakefield.com/knuth/&quot;&gt;#5&lt;/a&gt; &lt;a href=&quot;http://www.righto.com/2011/05/my-knuth-reward-check.html&quot;&gt;#6&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.1&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; To be clear, there’s also a lot of weird stuff, like &lt;a href=&quot;https://nickdrozd.github.io/2018/11/02/bubble.html&quot;&gt;the bubble sort machine&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.2&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; From &lt;a href=&quot;https://www-cs-faculty.stanford.edu/~knuth/help.html&quot;&gt;Help Wanted&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I try to make the indexes to my books as complete as possible, or at least to give the illusion of completeness. Therefore I have adopted a policy of listing full names of everyone who is cited. For example, the index to Volume 1 of The Art of Computer Programming says ``Hoare, Charles Antony Richard’’ and ``Jordan, Marie Ennemond Camille’’ instead of just ``Hoare, C. A. R.’’ and ``Jordan, Camille.’’&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.3&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; Generalizing this algorithm to longer digits requires some bookkeeping, but isn’t too complicated. Still, I would certainly screw up the details, so I’m playing it safe by sticking with an easy example.&lt;/p&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.4&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; Fortunately, the Karatsuba algorithm has been superseded by even faster methods. In March 2019, an algorithm was published requiring &lt;a href=&quot;https://web.maths.unsw.edu.au/~davidharvey/papers/nlogn/&quot;&gt;&lt;em&gt;n log n&lt;/em&gt;&lt;/a&gt; multiplications. The speedup from this method only applies to numbers that are unimaginably large.&lt;/p&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.5&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; This is less pathetic than it sounds, as Knuth’s indexes have &lt;strong&gt;Easter eggs&lt;/strong&gt; hidden in them. For instance, the index for &lt;strong&gt;&lt;em&gt;The TeXBook&lt;/em&gt;&lt;/strong&gt; has entries for &lt;em&gt;Arabic&lt;/em&gt; and &lt;em&gt;Hebrew&lt;/em&gt;, and they both point to page 66. But that page doesn’t mention either language; instead, it mentions “languages that read from right to left”.&lt;/p&gt;
&lt;p&gt;&lt;sup&gt;&lt;a id=&quot;fn.6&quot; href=&quot;https://nickdrozd.github.io/2019/05/17/knuth-check.html#fnr.6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; As of 1 May 2019.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;curl https://www-cs-faculty.stanford.edu/~knuth/boss.html | awk &lt;span class=&quot;s1&quot;&gt;'/0x\$[0-9a-f]+\.[0-9a-f]+/ { gsub(&quot;&amp;lt;[^&amp;gt;]*&amp;gt;&quot;, &quot; &quot;); print $NF }'&lt;/span&gt; | uniq &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Sat, 18 May 2019 17:16:38 +0000</pubDate>
<dc:creator>Supermighty</dc:creator>
<og:title>I Got a Knuth Check for 0x$3.00</og:title>
<og:description>Donald Knuth is a computer scientist who is so committed to the correctness of his books that he offers one US hexadecimal dollar ($2.56, 0x$1.00) for any “bug” found in his books, where a bug is anything that is “technically, historically, typographically, or politically incorrect”. I wanted to get a Knuth check for myself, so I set out to find some errors in his magnum opus, The Art of Computer Programming (TAOCP). I found three and sent them in, and true to his word, he sent me back a check for 0x$3.00.</og:description>
<og:url>/2019/05/17/knuth-check.html</og:url>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://nickdrozd.github.io/2019/05/17/knuth-check.html</dc:identifier>
</item>
<item>
<title>South Korean government to switch to Linux: ministry</title>
<link>http://www.koreaherald.com/view.php?ud=20190517000378</link>
<guid isPermaLink="true" >http://www.koreaherald.com/view.php?ud=20190517000378</guid>
<description>The government will switch the operating system of its computers from Windows to Linux, the Ministry of the Interior and Safety said Thursday.&lt;p&gt;The Interior Ministry said the ministry will be test-running Linux on its PCs, and if no security issues arise, Linux systems will be introduced more widely within the government.&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; align=&quot;center&quot; border=&quot;0&quot; categoryid=&quot;0000000000000&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;img width=&quot;650&quot; height=&quot;365&quot; categoryid=&quot;0000000000000&quot; alt=&quot;&quot; src=&quot;http://res.heraldm.com/content/image/2019/05/17/20190517000570_0.jpg&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot;&gt;&lt;span&gt;(Yonhap)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br/&gt;The decision comes amid concerns about the cost of continuing to maintain Windows, as Microsoft’s free technical support for Windows 7 expires in January 2020.&lt;p&gt;The transition to Linux OS and the purchase of new PCs are expected to cost the government about 780 billion won ($655 million), the ministry said.&lt;/p&gt;&lt;p&gt;Before the government-wide adoption, the ministry said it would test if the system could be run on private networked devices without security risks and if compatibility could be achieved with existing websites and software which have been built to run on Windows.&lt;/p&gt;&lt;p&gt;The ministry’s digital service bureau chief Choi Jang-hyuk said the ministry expects cost reductions through the introduction of the open-source OS and also hopes to avoid building reliance on a single operating system.&lt;/p&gt;&lt;p&gt;By Kim Arin (&lt;a href=&quot;mailto:arin@heraldcorp.com&quot;&gt;arin@heraldcorp.com&lt;/a&gt;)&lt;/p&gt;</description>
<pubDate>Sat, 18 May 2019 14:20:52 +0000</pubDate>
<dc:creator>jrepinc</dc:creator>
<og:title>S. Korean government to switch to Linux: ministry</og:title>
<og:type>article</og:type>
<og:url>http://www.koreaherald.com/view.php?ud=20190517000378</og:url>
<og:image>http://res.heraldm.com/content/image/2019/05/17/20190517000570_0.jpg</og:image>
<og:description>The government will switch the operating system of its computers from Windows to Linux, the Ministry of the Interior and Safety said Thursday.The Interior Ministry said the ministry will be test-running Linux on its PCs, and if no security issues arise, Linux systems will be introduced more widely within the government. (Yonhap)The decision comes amid concerns about the cost of continuing to maintain Windows, as Micr...</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.koreaherald.com/view.php?ud=20190517000378</dc:identifier>
</item>
<item>
<title>Flexible data tables with CSS Grid</title>
<link>https://adamlynch.com/flexible-data-tables-with-css-grid/?1</link>
<guid isPermaLink="true" >https://adamlynch.com/flexible-data-tables-with-css-grid/?1</guid>
<description>&lt;p&gt;Now that we've launched, I can finally talk about the secret project I've been working on for the last two years. One interesting piece of the &lt;a href=&quot;https://www.teamwork.com/crm&quot; rel=&quot;noopener&quot;&gt;Teamwork CRM&lt;/a&gt; puzzle was the &quot;list view&quot;.&lt;/p&gt;
&lt;p&gt;It's a powerful page component which exists seven times in the app — a table on steroids essentially. I could talk about it for days but I won't bore you. I'll focus on how we added a lot of flexibility with a few lines of CSS (Grid). Namely, how we lay out data-heavy tables, how we support resizing of columns, and more.&lt;/p&gt;
&lt;p&gt;First, I need to give some more context, starting with the purpose and design goals of these screens. Feel free to &lt;a href=&quot;https://adamlynch.com/flexible-data-tables-with-css-grid/?1#just-get-to-css-grid-already&quot;&gt;skip to the CSS Grid bit&lt;/a&gt;.&lt;/p&gt;
&lt;a href=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/wide3.png&quot;&gt;&lt;img src=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/wide3.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;p&gt;The leads list view.&lt;/p&gt;
&lt;p&gt;Primarily it allows salespeople to scan a list of items like their leads or contacts, and find anything important they need to take action on. It's not like an Excel spreadsheet — we can do a better job at laying out the data, which there will be a lot of.&lt;/p&gt;
&lt;p&gt;Everything we do is responsively designed. We start with the most narrow / constrained variant first and tweak the layout based on content, design, use cases (we don't have device-orientated breakpoints).&lt;/p&gt;
&lt;p&gt;At its most minimal, the columns are stacked vertically within rows, spanning the full width of the screen.&lt;/p&gt;
&lt;a href=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/narrow.png&quot;&gt;&lt;img src=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/narrow.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;p&gt;What a list view looks like on a narrow screen.&lt;/p&gt;
&lt;p&gt;Responsive tables are tricky. There are &lt;a href=&quot;https://bradfrost.github.io/this-is-responsive/patterns.html&quot; rel=&quot;noopener&quot;&gt;several existing patterns&lt;/a&gt; you could pick from. Consider what your users are trying to achieve and choose wisely.&lt;/p&gt;
&lt;p&gt;Once we have enough pixels in our canvas to play with, we switch to a more typical table layout such that the columns are... well, columns. There are no major layout changes beyond this point but we still want to display the columns as best as we can for the salesperson viewing it.&lt;/p&gt;
&lt;p&gt;Assume there are a lot of columns (we'll look at how the user can configure the columns in more detail later). The table should fill the width of the screen (at least). Column widths then should be determined by their content and the type of values they contain; e.g. short / long text, date, number, URL, etc. Date columns should take up less room than long text columns.&lt;/p&gt;
&lt;p&gt;Columns must have a minimum width and therefore only so many can fit into the viewport. As a result this table will be vertically and horizontally scrollable for a lot of salespeople.&lt;/p&gt;
&lt;a href=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/resizing-window.gif&quot;&gt;&lt;img src=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/resizing-window.gif&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;p&gt;How the layout varies per window width. Sorry the GIF is a bit janky, I provide some interactive examples below.&lt;/p&gt;
&lt;p&gt;To begin with, we lay the table out as best we can using regular old-school table-layout CSS. Next, I'll show you how we enhance it with CSS Grid. Following that, how we leverage Grid to allow users to resize columns, which would be a lot more awkward with regular table-layout CSS.&lt;/p&gt;
&lt;h2&gt;Just get to CSS Grid already&lt;/h2&gt;
&lt;p&gt;I'm no CSS Grid expert but I love it. It's extremely powerful and simple, allowing you to implement previously tricky layouts with minute amounts of code. I'll skip giving an introduction to Grid in this article. Go read Rachel Andrew's &lt;a href=&quot;https://abookapart.com/products/the-new-css-layout&quot; rel=&quot;noopener&quot;&gt;The New CSS Layout&lt;/a&gt; or &lt;a href=&quot;https://css-tricks.com/snippets/css/complete-guide-grid/&quot; rel=&quot;noopener&quot;&gt;A Complete Guide to Grid&lt;/a&gt; and when you're done wondering where Grid was all your life, come back to me.&lt;/p&gt;
&lt;p&gt;The first thing we do is apply &lt;code&gt;display: grid&lt;/code&gt; to the &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; to make it a grid. This won't break anything if the browser doesn't support it (it will carry on using &lt;code&gt;display:table&lt;/code&gt;). Its children become grid items; the &lt;code&gt;&amp;lt;thead&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;tbody&amp;gt;&lt;/code&gt;. It's not the &lt;code&gt;&amp;lt;thead&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;tbody&amp;gt;&lt;/code&gt;, or even the &lt;code&gt;&amp;lt;tr&amp;gt;&lt;/code&gt;s we're concerned with though. What we want to do is lay out our &lt;code&gt;&amp;lt;th&amp;gt;&lt;/code&gt;s and &lt;code&gt;&amp;lt;td&amp;gt;&lt;/code&gt;s on this grid. We could apply &lt;code&gt;display: grid&lt;/code&gt; to each of these too (i.e. grids within grids), but that's not ideal. Each &lt;code&gt;&amp;lt;tr&amp;gt;&lt;/code&gt; grid would be independent of others and that's not good (you'll see later that I had the same problem with Flexbox).&lt;/p&gt;
&lt;p&gt;A workaround is to use &lt;code&gt;display: contents&lt;/code&gt; on the &lt;code&gt;&amp;lt;thead&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;tbody&amp;gt;&lt;/code&gt;, and &lt;code&gt;&amp;lt;tr&amp;gt;&lt;/code&gt;s. This basically removes the them from the Grid layout, bypassing them, and promotes their children (the &lt;code&gt;&amp;lt;th&amp;gt;&lt;/code&gt;s and &lt;code&gt;&amp;lt;td&amp;gt;&lt;/code&gt;s) to participate in the the &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; grid instead.&lt;/p&gt;
&lt;p&gt;Then we use the magic &lt;code&gt;grid-template-columns&lt;/code&gt; to control the grid items. Yes, one line of CSS. For example, if we had one date column and one URL column, it might be something like:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;grid-template-columns&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;minmax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;150px, 1.33fr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;minmax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;150px, 2.33fr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We use the same minimum size for all columns but the max (&lt;code&gt;fr&lt;/code&gt;) value is determined by the column data type. I tried using Grid's&lt;code&gt;auto&lt;/code&gt; and &lt;code&gt;max-content&lt;/code&gt; too but what we've ended up with seems to produce the best result.&lt;/p&gt;
&lt;p&gt;Here is a simplified example:&lt;/p&gt;
&lt;p class=&quot;codepen&quot; data-height=&quot;390&quot; data-theme-id=&quot;light&quot; data-default-tab=&quot;result&quot; data-user=&quot;adam-lynch&quot; data-slug-hash=&quot;XwKWdG&quot; data-pen-title=&quot;Flexible data table with CSS Grid&quot;&gt;&lt;span&gt;Something went wrong. View &lt;a href=&quot;https://codepen.io/adam-lynch/pen/XwKWdG/&quot; target=&quot;_blank&quot;&gt;Flexible data table with CSS Grid&lt;/a&gt; by Adam Lynch (&lt;a href=&quot;https://codepen.io/adam-lynch&quot;&gt;@adam-lynch&lt;/a&gt;) on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You should &lt;a href=&quot;https://codepen.io/adam-lynch/debug/XwKWdG&quot; target=&quot;_blank&quot;&gt;open it in a new tab&lt;/a&gt; as it's a bit constrained embedded here like this. Then try resizing the window.&lt;/p&gt;
&lt;h2&gt;Resizing columns with Grid&lt;/h2&gt;
&lt;p&gt;On top of this, we support reordering, resizing, and toggling which columns are shown. The lists of possible columns are long, including properties of the item (e.g. leads) itself, properties of related items (e.g. the company linked to the lead), and custom fields.&lt;/p&gt;
&lt;p&gt;For example, a user could create a (date) custom field for contacts called &quot;Date of birth&quot; so that can be tracked in the system for each contact.&lt;/p&gt;
&lt;p&gt;Since a type like &quot;Date&quot; is selected when creating a custom field, our system already handles custom fields. There's more to think about when columns are toggled, but first I need to explain how resizing works.&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;The user hovers over a column header, a resize handle is shown on the right hand side. We're listening for &lt;code&gt;mousedown&lt;/code&gt; on the resize handle.&lt;/li&gt;
&lt;li&gt;When the user clicks the handle, we bind some more &lt;code&gt;mousemove&lt;/code&gt; and &lt;code&gt;mousedown&lt;/code&gt; event listeners (to the &lt;code&gt;window&lt;/code&gt;). We also add some classes for decoration at this point.&lt;/li&gt;
&lt;li&gt;When the user moves their mouse, we calculate the new column width. This takes the cursor position, the table's scroll position, and our minimum into account. Then we re-set the &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt;'s &lt;code&gt;grid-template-columns&lt;/code&gt;s rule (via &lt;code&gt;style&lt;/code&gt; attribute), this time replacing the max (&lt;code&gt;fr&lt;/code&gt;) value with a pixel value. For example, &lt;code&gt;grid-template-columns: minmax(150px, 1.33fr) 296px;&lt;/code&gt;. We do this using &lt;code&gt;requestAnimationFrame&lt;/code&gt; to keep it as smooth as possible.&lt;/li&gt;
&lt;li&gt;When &lt;code&gt;mouseup&lt;/code&gt; is fired, we unbind event listeners and remove classes.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Try this simplified example (or ideally &lt;a href=&quot;https://codepen.io/adam-lynch/pen/GaqgXP&quot; target=&quot;_blank&quot;&gt;open it in a new tab&lt;/a&gt;):&lt;/p&gt;
&lt;p class=&quot;codepen&quot; data-height=&quot;390&quot; data-theme-id=&quot;light&quot; data-default-tab=&quot;result&quot; data-user=&quot;adam-lynch&quot; data-slug-hash=&quot;GaqgXP&quot; data-pen-title=&quot;Flexible data table with CSS Grid (resizable columns with good UX)&quot;&gt;&lt;span&gt;Something went wrong. View &lt;a href=&quot;https://codepen.io/adam-lynch/pen/GaqgXP/&quot; target=&quot;_blank&quot;&gt;Flexible data table with CSS Grid (resizable columns with good UX)&lt;/a&gt; by Adam Lynch (&lt;a href=&quot;https://codepen.io/adam-lynch&quot;&gt;@adam-lynch&lt;/a&gt;) on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;What's great here is that we only need to update one element in the DOM, not each cell.&lt;/p&gt;
&lt;p&gt;We always build with touch users in mind, but it's OK not to support this via touch. It's a very precise action. Even if I wanted to resize a column using touch, I'd probably expect a different interaction, like a multi-touch spread gesture.&lt;/p&gt;
&lt;h2&gt;Fixed column widths&lt;/h2&gt;
&lt;p&gt;You might have noticed I didn't tell the whole truth. Not only do we &quot;fix&quot; the width of the column you're resizing, we make all column widths fixed. Maybe you didn't even notice, because that's exactly how it should work.&lt;/p&gt;
&lt;p&gt;I originally thought that users would like that when they stretched or squeezed columns, the other ones could adjust too. If the columns filled the screen width nicely and you make one smaller, one (or some) of the others could grow if they had more content to show. Try this example for yourself below (or ideally &lt;a href=&quot;https://codepen.io/adam-lynch/pen/wbWvep&quot; target=&quot;_blank&quot;&gt;open it in a new tab&lt;/a&gt;):&lt;/p&gt;
&lt;p class=&quot;codepen&quot; data-height=&quot;390&quot; data-theme-id=&quot;light&quot; data-default-tab=&quot;result&quot; data-user=&quot;adam-lynch&quot; data-slug-hash=&quot;wbWvep&quot; data-pen-title=&quot;Flexible data table with CSS Grid (resizable columns with bad UX)&quot;&gt;&lt;span&gt;Something went wrong. View &lt;a href=&quot;https://codepen.io/adam-lynch/pen/wbWvep/&quot; target=&quot;_blank&quot;&gt;Flexible data table with CSS Grid (resizable columns with bad UX)&lt;/a&gt; by Adam Lynch (&lt;a href=&quot;https://codepen.io/adam-lynch&quot;&gt;@adam-lynch&lt;/a&gt;) on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;After some user testing, it was clear this is unexpected behaviour. As a user, I feel less in control when there are unpredictable side-effects to my actions.&lt;/p&gt;
&lt;p&gt;We shouldn't make assumptions based on which column was or wasn't interacted with. When resizing one column, a user could have already made an implicit decision that the rest were perfect.&lt;/p&gt;
&lt;p&gt;Therefore, if you open the app for the first time, the columns are laid out as best as possible. If you resize your screen, they resize using the same ratios. Once you touch the resize handler of any column, all of the visible columns become fixed width.&lt;/p&gt;
&lt;a href=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/resizing-columns.gif&quot;&gt;&lt;img src=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/resizing-columns.gif&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;p&gt;Before, during, and after resizing a column. Sorry the GIF is a bit janky.&lt;/p&gt;
&lt;p&gt;Once someone takes the time to tailor the screen to their needs, we take note. Any time a column is resized or made fixed, we create an independent localStorage entry mapping a column identifier to a pixel value.&lt;/p&gt;
&lt;p&gt;I can't remember exactly why we decided to set the fixed value using pixels, rather than something more fluid. Maybe it was just to keep it simple. Maybe it's because we do actually fall back to using a more archaic approach to setting column widths if Grid and &lt;code&gt;display: contents&lt;/code&gt; aren't supported. You don't have to do this, it would have been too important to leave out for our users.&lt;/p&gt;
&lt;p&gt;Using something fluid probably wouldn't align with the user's intentions anyway. We can't assume that making all columns smaller in order to keep more of them in the screen is the most important thing. If they had resized a column, it's to see a certain amount of content in that column. If we used a fluid unit, and then they made the screen narrower, we'd be disregarding the choice they made. They'd have to resize the column again to see the same content. Users are unlikely to be thinking &quot;Hmm, I want this column to take up 20% of the window even if I resize it&quot;. Anyway, users rarely resize windows; I'm going into too much detail on an edge case here.&lt;/p&gt;
&lt;h2&gt;Toggling columns&lt;/h2&gt;
&lt;a href=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/manage-columns.png&quot;&gt;&lt;img src=&quot;https://adamlynch.com/images/blog-content/flexible-data-tables-with-css-grid/manage-columns.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;p&gt;Our modal for customizing which columns are shown.&lt;/p&gt;
&lt;p&gt;Imagine a salesperson has changed the column set using the above modal. If none of the chosen columns have been resized previously, they get laid out using the default &lt;code&gt;grid-template-column&lt;/code&gt; values depending on their data type. For example, &lt;code&gt;minmax(150px, 3.33fr)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If any of the columns has a fixed width stored in localStorage, we make &lt;em&gt;all&lt;/em&gt; of the chosen columns fixed width (and store those widths in localStorage too).&lt;/p&gt;
&lt;p&gt;Over time, more and more columns will become fixed. The only way for users to get back to fluid columns is if they were to reset the columns.&lt;/p&gt;
&lt;p&gt;We also store an array of column identifiers in localStorage, separate to the column width entries.&lt;/p&gt;
&lt;h2&gt;&quot;Why didn't you just use {{ libraryName }}?&quot;&lt;/h2&gt;
&lt;p&gt;I didn't want to just offload the problem to a heavy JavaScript library. It would be heavy, janky, wouldn't be responsive, and might not even use &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; at all. I also didn't want to write something like that myself. There must be a better way, I thought.&lt;/p&gt;
&lt;h2&gt;&quot;Why didn't you just use Flexbox?&quot;&lt;/h2&gt;
&lt;p&gt;Each row would be evaluated / spaced independently of each other. A column might not be aligned with the column above it because of varying content length.&lt;/p&gt;
&lt;p&gt;I could have switched to &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;s representing the column containing the vertically stacked cells within. I didn't want to have to do this though. I wanted to use a &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt;. On top of that, I could have easily ran into issues from the reverse angle anyway, like cells not matching in height across columns.&lt;/p&gt;
&lt;h2&gt;&quot;Why didn't you just use a &lt;code&gt;&amp;lt;colgroup&amp;gt;&lt;/code&gt;?&quot;&lt;/h2&gt;
&lt;p&gt;Check out &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;&amp;lt;colgroup&amp;gt;&lt;/code&gt;&lt;/a&gt;, it's a handy old element. Once you define your columns using &lt;code&gt;&amp;lt;col&amp;gt;&lt;/code&gt;s, styles applied to one will effectively be applied to all of the cells in that column.&lt;/p&gt;
&lt;p&gt;In the end though, it was simply too limited for what I needed to do. It didn't take long to realise it was a no-go. So much so, that I can't remember exactly what the problems were. I'm pretty sure it was impossible to achieve the level of fluidity I wanted, and it didn't work well with Flexbox or Grid.&lt;/p&gt;
&lt;h2&gt;&quot;Why didn't you just use table-layout: fixed?&quot;&lt;/h2&gt;
&lt;p&gt;I could have use &lt;code&gt;table-layout: fixed&lt;/code&gt; on the &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; and set the column widths using percentages. However, from looking at examples and playing around, this only seems to work if the table is 100% in width. Also resizing one column causes the other columns to resize to fill the 100% width.&lt;/p&gt;
&lt;h2&gt;&quot;But you could still have used a table!&quot;&lt;/h2&gt;
&lt;p&gt;Yes, tables can do a lot of smart things out of the box, but they can't efficiently support everything I wanted to do. Still disagree? OK you wizard, teach me.&lt;/p&gt;
&lt;h2&gt;Don't go overboard with display: contents&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;display:contents&lt;/code&gt; allowed us to keep our table markup. Use it only when you really have to though. There is, or at least were, issues in some browsers around accessibility and how screen readers would read the content.&lt;/p&gt;
&lt;p&gt;We discovered a &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1550728&quot; rel=&quot;noopener&quot;&gt;strange bug&lt;/a&gt; when combining it with native drag &amp;amp; drop in Firefox.&lt;/p&gt;
&lt;p&gt;Fortunately, subgrid on the way which will properly allow descendants to participate in grids. Our use case is simple in that we want to effectively flatten the markup but subgrid will open the door for wilder multi-dimensional grid orgies. See &lt;a href=&quot;https://rachelandrew.co.uk/archives/2017/07/20/why-display-contents-is-not-css-grid-layout-subgrid/&quot; rel=&quot;noopener&quot;&gt;Why display: contents is not CSS Grid Layout subgrid&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;I'm probably forgetting something&lt;/h2&gt;
&lt;p&gt;There's a lot more to this screen. I think there was some text-overflow issue when resizing columns but I can't remember anymore.&lt;/p&gt;
&lt;p&gt;We use &lt;code&gt;position: sticky&lt;/code&gt; to keep the table headers in place as you scroll down. It's a lovely enhancement and it degrades nicely. However, we do have a JavaScript fallback for IE11 users. I really wouldn't recommend doing that. It's tricky to achieve with horizontally scrollable tables.&lt;/p&gt;
&lt;p&gt;I didn't even touch on all of the features of these list views. Users can apply, save, and share custom filters (e.g. show me leads over $500 or where the contact is in Europe). These column filters can be set to remember the column set you had when you created them, because you might always want to see certain columns for a given workflow.&lt;/p&gt;
&lt;p&gt;We'll soon support bulk editing via the list view, as well exporting your tailored view to CSV.&lt;/p&gt;
&lt;p&gt;Anyway, thanks for reading.&lt;/p&gt;
</description>
<pubDate>Sat, 18 May 2019 13:12:40 +0000</pubDate>
<dc:creator>adamlynch</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://adamlynch.com/flexible-data-tables-with-css-grid/?1</dc:identifier>
</item>
<item>
<title>Preventing the Collapse of Civilization [video]</title>
<link>https://www.youtube.com/watch?v=pW-SOdj4Kkk</link>
<guid isPermaLink="true" >https://www.youtube.com/watch?v=pW-SOdj4Kkk</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://www.youtube.com/watch?v=pW-SOdj4Kkk&quot;&gt;https://www.youtube.com/watch?v=pW-SOdj4Kkk&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=19945452&quot;&gt;https://news.ycombinator.com/item?id=19945452&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 200&lt;/p&gt;
&lt;p&gt;# Comments: 91&lt;/p&gt;
</description>
<pubDate>Sat, 18 May 2019 03:39:33 +0000</pubDate>
<dc:creator>dmit</dc:creator>
<og:url>https://www.youtube.com/watch?v=pW-SOdj4Kkk</og:url>
<og:title>Jonathan Blow - Preventing the Collapse of Civilization (English only)</og:title>
<og:image>https://i.ytimg.com/vi/pW-SOdj4Kkk/maxresdefault.jpg</og:image>
<og:description>Jonathan's talk from DevGAMM 2019.</og:description>
<og:type>video.other</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.youtube.com/watch?v=pW-SOdj4Kkk</dc:identifier>
</item>
<item>
<title>Three.js Fundamentals</title>
<link>https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html</link>
<guid isPermaLink="true" >https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html</guid>
<description>&lt;p&gt;This is the first article in a series of articles about three.js. &lt;a href=&quot;http://threejs.org&quot;&gt;Three.js&lt;/a&gt; is a 3D library that tries to make it as easy as possible to get 3D content on a webpage.&lt;/p&gt;
&lt;p&gt;Three.js is often confused with WebGL since more often than not, but not always, three.js uses WebGL to draw 3D. &lt;a href=&quot;https://webglfundamentals.org&quot;&gt;WebGL is a very low-level system that only draws points, lines, and triangles&lt;/a&gt;. To do anything useful with WebGL generally requires quite a bit of code and that is where three.js comes in. It handles stuff like scenes, lights, shadows, materials, textures, 3d math, all things that you'd have to write yourself if you were to use WebGL directly.&lt;/p&gt;
&lt;p&gt;These tutorials assume you already know JavaScript and, for the most part they will use ES6 style. &lt;a href=&quot;https://threejsfundamentals.org/threejs/lessons/threejs-prerequisites.html&quot;&gt;See here for a terse list of things you're expected to already know&lt;/a&gt;. Most browsers that support three.js are auto-updated so most users should be able to run this code. If you'd like to make this code run on really old browsers look into a transpiler like &lt;a href=&quot;http://babel.io&quot;&gt;Babel&lt;/a&gt;. Of course users running really old browsers probably have machines that can't run three.js.&lt;/p&gt;
&lt;p&gt;When learning most programming languages the first thing people do is make the computer print &lt;code&gt;&quot;Hello World!&quot;&lt;/code&gt;. For 3D one of the most common first things to do is to make a 3D cube. so let's start with &quot;Hello Cube!&quot;&lt;/p&gt;
&lt;p&gt;The first thing we need is a &lt;code&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt; tag so&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-html&quot;&gt;&amp;lt;body&amp;gt;
  &amp;lt;canvas id=&quot;c&quot;&amp;gt;&amp;lt;/canvas&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Three.js will draw into that canvas so we need to look it up and pass it to three.js.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-html&quot;&gt;&amp;lt;script&amp;gt;
'use strict';

/* global THREE */

function main() {
  const canvas = document.querySelector('#c');
  const renderer = new THREE.WebGLRenderer({canvas});
  ...
&amp;lt;/script&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Note there are some esoteric details here. If you don't pass a canvas into three.js it will create one for you but then you have to add it to your document. Where to add it may change depending on your use case and you'll have to change your code so I find that passing a canvas to three.js feels a little more flexible. I can put the canvas anywhere and the code will find it where as if I had code to insert the canvas into to the document I'd likely have to change that code if my use case changed.&lt;/p&gt;
&lt;p&gt;After we look up the canvas we create a &lt;code&gt;WebGLRenderer&lt;/code&gt;. The renderer is the thing responsible for actually taking all the data you provide and rendering it to the canvas. In the past there have been other renderers like &lt;code&gt;CSSRenderer&lt;/code&gt;, a &lt;code&gt;CanvasRenderer&lt;/code&gt; and in the future there may be a &lt;code&gt;WebGL2Renderer&lt;/code&gt; or &lt;code&gt;WebGPURenderer&lt;/code&gt;. For now there's the &lt;code&gt;WebGLRenderer&lt;/code&gt; that uses WebGL to render 3D to the canvas.&lt;/p&gt;
&lt;p&gt;Next up we need a camera.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const fov = 75;
const aspect = 2;  // the canvas default
const near = 0.1;
const far = 5;
const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;fov&lt;/code&gt; is short for &lt;code&gt;field of view&lt;/code&gt;. In this case 75 degrees in the vertical dimension. Note that most angles in three.js are in radians but for some reason the perspective camera takes degrees.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aspect&lt;/code&gt; is the display aspect of the canvas. We'll go over the details in another article but by default a canvas is 300x150 pixels which makes the aspect 300/150 or 2.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;near&lt;/code&gt; and &lt;code&gt;far&lt;/code&gt; represent the space in front of the camera that will be rendered. Anything before that range or after that range will be clipped (not drawn).&lt;/p&gt;
&lt;p&gt;Those 4 settings define a &lt;em&gt;&quot;frustum&quot;&lt;/em&gt;. A &lt;em&gt;frustum&lt;/em&gt; is the name of a 3d shape that is like a pyramid with the tip sliced off. In other words think of the word &quot;frustum&quot; as another 3D shape like sphere, cube, prism, frustum.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://threejsfundamentals.org/threejs/lessons/resources/frustum-3d.svg&quot; width=&quot;500&quot; class=&quot;threejs_center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;The height of the near and far planes are determined by the field of view. The width of both planes is determined by the field of view and the aspect.&lt;/p&gt;
&lt;p&gt;Anything inside the defined frustum will be be drawn. Anything outside will not.&lt;/p&gt;
&lt;p&gt;The camera defaults to looking down the -Z axis with +Y up. We'll put our cube at the origin so we need to move the camera back a litte from the origin in order to see anything.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;camera.position.z = 2;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Here's what we're aiming for.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://threejsfundamentals.org/threejs/lessons/resources/scene-down.svg&quot; width=&quot;500&quot; class=&quot;threejs_center&quot;/&gt;&lt;/p&gt;
&lt;p&gt;In the diagram above we can see our camera is at &lt;code&gt;z = 2&lt;/code&gt;. It's looking down the -Z axis. Our frustum starts 0.1 units from the front of the camera and goes to 5 units in front of the camera. Because in this diagram we are looking down, the field of view is affected by the aspect. Our canvas is twice as wide as it is tall so across view the field of view will be much wider than our specified 75 degrees which is the vertical field of view.&lt;/p&gt;
&lt;p&gt;Next we make a &lt;code&gt;Scene&lt;/code&gt;. A &lt;code&gt;Scene&lt;/code&gt; in three.js is the root of a form of scene graph. Anything you want three.js to draw needs to be added to the scene. We'll cover more details of &lt;a href=&quot;https://threejsfundamentals.org/threejs/lessons/threejs-scenegraph.html&quot;&gt;how scenes work in a future article&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const scene = new THREE.Scene();
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Next up we create a &lt;code&gt;BoxGeometry&lt;/code&gt; which contains the data for a box. Almost anything we want to display in Three.js needs geometry which defines the vertices that make up our 3D object.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const boxWidth = 1;
const boxHeight = 1;
const boxDepth = 1;
const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We then create a basic material and set its color. Colors can be specified using standard CSS style 6 digit hex color values.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const material = new THREE.MeshBasicMaterial({color: 0x44aa88});
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We then create a &lt;code&gt;Mesh&lt;/code&gt;. A &lt;code&gt;Mesh&lt;/code&gt; in three represents the combination of a &lt;code&gt;Geometry&lt;/code&gt; (the shape of the object) and a &lt;code&gt;Material&lt;/code&gt; (how to draw the object, shiny or flat, what color, what texture(s) to apply. Etc.) as well as the position, orientation, and scale of that object in the scene.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const cube = new THREE.Mesh(geometry, material);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;And finally we add that mesh to the scene&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;scene.add(cube);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We can then render the scene by calling the renderer's render function and passing it the scene and the camera&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;renderer.render(scene, camera);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Here's a working exmaple&lt;/p&gt;

&lt;p&gt;It's kind of hard to tell that is a 3D cube since we're viewing it directly down the -Z axis and the cube itself is axis aligned so we're only seeing a single face.&lt;/p&gt;
&lt;p&gt;Let's animate it spinning and hopefully that will make it clear it's being drawn in 3D. To animate it we'll render inside a render loop using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame&quot;&gt;&lt;code&gt;requestAnimationFrame&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here's our loop&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;function render(time) {
  time *= 0.001;  // convert time to seconds

  cube.rotation.x = time;
  cube.rotation.y = time;

  renderer.render(scene, camera);

  requestAnimationFrame(render);
}
requestAnimationFrame(render);
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;requestAnimationFrame&lt;/code&gt; is a request to the browser that you want to animate something. You pass it a function to be called. In our case that function is &lt;code&gt;render&lt;/code&gt;. The browser will call your function and if you update anything related to the display of the page the browser will re-render the page. In our case we are calling three's &lt;code&gt;renderer.render&lt;/code&gt; function which will draw our scene.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;requestAnimationFrame&lt;/code&gt; passes the time since the page loaded to our function. That time is passed in milliseconds. I find it's much easier to work with seconds so here we're converting that to seconds.&lt;/p&gt;
&lt;p&gt;We then set the cube's X and Y rotation to the current time. These rotations are in &lt;a href=&quot;https://en.wikipedia.org/wiki/Radian&quot;&gt;radians&lt;/a&gt;. There are 2 pi radians in a circle so our cube should turn around once on each axis in about 6.28 seconds.&lt;/p&gt;
&lt;p&gt;We then render the scene and request another animation frame to continue our loop.&lt;/p&gt;
&lt;p&gt;Outside the loop we call &lt;code&gt;requestAnimationFrame&lt;/code&gt; one time to start the loop.&lt;/p&gt;

&lt;p&gt;It's a little better but it's still hard to see the 3d. What would help is to add some lighting so let's add a light. There are many kinds of lights in three.js which we'll go over in a future article. For now let's create a directional light.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;{
  const color = 0xFFFFFF;
  const intensity = 1;
  const light = new THREE.DirectionalLight(color, intensity);
  light.position.set(-1, 2, 4);
  scene.add(light);
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Directional lights have a position and a target. Both default to 0, 0, 0. In our case we're setting the light's position to -1, 2, 4 so it's slightly on the left, above, and behind our camera. The target is still 0, 0, 0 so it will shine toward the origin.&lt;/p&gt;
&lt;p&gt;We also need to change the material. The &lt;code&gt;MeshBasicMaterial&lt;/code&gt; is not affected by lights. Let's change it to a &lt;code&gt;MeshPhongMaterial&lt;/code&gt; which is affected by lights.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;-const material = new THREE.MeshBasicMaterial({color: 0x44aa88});  // greenish blue
+const material = new THREE.MeshPhongMaterial({color: 0x44aa88});  // greenish blue
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;And here it is working.&lt;/p&gt;

&lt;p&gt;It should now be pretty clearly 3D.&lt;/p&gt;
&lt;p&gt;Just for the fun of it let's add 2 more cubes.&lt;/p&gt;
&lt;p&gt;We'll use the same geometry for each cube but make a different material so each cube can be a different color.&lt;/p&gt;
&lt;p&gt;First we'll make a function that creates a new material with the specified color. Then it creates a mesh using the specified geometry and adds it to the scene and sets its X position.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;function makeInstance(geometry, color, x) {
  const material = new THREE.MeshPhongMaterial({color});

  const cube = new THREE.Mesh(geometry, material);
  scene.add(cube);

  cube.position.x = x;

  return cube;
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Then we'll call it 3 times with 3 different colors and X positions saving the &lt;code&gt;Mesh&lt;/code&gt; instances in an array.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;const cubes = [
  makeInstance(geometry, 0x44aa88,  0),
  makeInstance(geometry, 0x8844aa, -2),
  makeInstance(geometry, 0xaa8844,  2),
];
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Finally we'll spin all 3 cubes in our render function. We compute a slightly different rotation for each one.&lt;/p&gt;
&lt;pre class=&quot;prettyprint&quot;&gt;
&lt;code class=&quot;lang-js&quot;&gt;function render(time) {
  time *= 0.001;  // convert time to seconds

  cubes.forEach((cube, ndx) =&amp;gt; {
    const speed = 1 + ndx * .1;
    const rot = time * speed;
    cube.rotation.x = rot;
    cube.rotation.y = rot;
  });

  ...
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and here's that.&lt;/p&gt;

&lt;p&gt;If you compare it to the top down diagram above you can see it matches our expectections. With cubes at X = -2 and X = +2 they are partially outside our frustum. They are also somewhat exaggeratedly warped since the field of view across the canvas is so extreme.&lt;/p&gt;
&lt;p&gt;I hope this short intro helps to get things started. &lt;a href=&quot;https://threejsfundamentals.org/threejs/lessons/threejs-responsive.html&quot;&gt;Next up we'll cover making our code responsive so it is adaptable to multiple situations&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Sat, 18 May 2019 01:14:48 +0000</pubDate>
<dc:creator>petethomas</dc:creator>
<og:title>Three.js Fundamentals</og:title>
<og:type>website</og:type>
<og:image>http://threejsfundamentals.org/threejs/lessons/resources/threejsfundamentals.jpg</og:image>
<og:description>Your first Three.js lesson starting with the fundamentals</og:description>
<og:url>http://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html</dc:identifier>
</item>
<item>
<title>Using Rust to Scale Elixir for 11M Concurrent Users</title>
<link>https://blog.discordapp.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3</link>
<guid isPermaLink="true" >https://blog.discordapp.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3</guid>
<description>&lt;p name=&quot;6fca&quot; id=&quot;6fca&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;Over the last year, the Backend Infrastructure team at Discord was hard at work improving the scalability and performance of our core real-time communications infrastructure.&lt;/p&gt;
&lt;p name=&quot;b20a&quot; id=&quot;b20a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;One big project we undertook was changing how we update the Member List (all those nifty people on the right side of the screen). Instead of sending updates for every single person in the Member List, we could just send down the updates for the visible portion of the Member List. This has obvious benefits such as less network traffic, less CPU usage, better battery life; the list goes on and on.&lt;/p&gt;
&lt;p name=&quot;0c5b&quot; id=&quot;0c5b&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;However, this posed one big problem on the server side: We needed a data structure capable of holding hundreds of thousands of entries, sorted in a particular way that can accept and process tons of mutations, and can report back indices of where things are being added and removed.&lt;/p&gt;
&lt;p name=&quot;e697&quot; id=&quot;e697&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Elixir is a functional language; its data structures are immutable. This is great for reasoning about code and supporting the massive concurrency you enjoy when you write Elixir. The double-edged sword of immutable data structures is that mutations are modeled by taking an existing data structure and an operation and creating a brand new data structure that is the result of applying that operation to the existing data structure.&lt;/p&gt;
&lt;p name=&quot;c6bd&quot; id=&quot;c6bd&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This meant that when someone joined a server — internally referred to as guilds — with a Member List of 100,000 members, we would have to build a new list with 100,001 members in it. The BEAM VM is pretty speedy and &lt;a href=&quot;http://blog.erlang.org/My-OTP-21-Highlights/&quot; data-href=&quot;http://blog.erlang.org/My-OTP-21-Highlights/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener noopener&quot; target=&quot;_blank&quot;&gt;getting faster everyday&lt;/a&gt;. It tries to take advantage of &lt;a href=&quot;https://en.wikipedia.org/wiki/Persistent_data_structure&quot; data-href=&quot;https://en.wikipedia.org/wiki/Persistent_data_structure&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener noopener&quot; target=&quot;_blank&quot;&gt;persistent data structures&lt;/a&gt; where it can, but at the scale we operate, these large lists could not be updated fast enough.&lt;/p&gt;
&lt;h3 name=&quot;5413&quot; id=&quot;5413&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Pushing Elixir to the Limits&lt;/h3&gt;
&lt;p name=&quot;b7ee&quot; id=&quot;b7ee&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Two engineers took up the challenge of making a pure Elixir data structure that could hold large sorted sets and support fast mutation operations. This is easier said than done, so let’s put on our Computer Science helmets and go spelunking into the caves of data structure design.&lt;/p&gt;
&lt;p name=&quot;002f&quot; id=&quot;002f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Elixir ships with a set implementation called MapSet. MapSet is a general purpose data structure built on top of the Map data structure. It’s useful for lots of Set operations, but it provides no guarantees around ordering, which is a key requirement for the Member List. This pretty much ruled out MapSet as a contender.&lt;/p&gt;
&lt;p name=&quot;32d2&quot; id=&quot;32d2&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Next up would be the venerable List type: wrap the List with a helper that would enforce uniqueness and sort the list after insertion of new elements. A quick benchmark of this approach shows that for small lists — 5,000 elements— insertion time was measured between 500𝜇s and 3,000𝜇s. This was already far too slow to be viable.&lt;/p&gt;
&lt;p name=&quot;9b1f&quot; id=&quot;9b1f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Even worse, the performance of insertion scaled with size of list and depth of position in the list. Worst case that was benchmarked was adding a new element to the end of a 250,000 item list, which came in around 170,000𝜇s: basically an eternity.&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*1UCJXCtJk0TNYxRgPk6htw.png&quot; data-width=&quot;1150&quot; data-height=&quot;200&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*1UCJXCtJk0TNYxRgPk6htw.png&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/1*1UCJXCtJk0TNYxRgPk6htw.png&quot;/&gt;&lt;/div&gt;
&lt;p name=&quot;2703&quot; id=&quot;2703&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;Two down, but BEAM isn’t out of the competition yet.&lt;/p&gt;
&lt;p name=&quot;f3dc&quot; id=&quot;f3dc&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Erlang ships with a module called ordsets. Ordsets are Ordered Sets, so sounds like we found the solution to our problem: Let’s break out the benchmarking to check for viability. When the list is small the performance looks pretty great measuring between 0.008𝜇s and 288𝜇s. Sadly, when the size tested was increased to 250,000 worst-case performance increased to 27,000𝜇s, which was five times faster than our custom List implementation but still not fast enough.&lt;/p&gt;
&lt;p name=&quot;5923&quot; id=&quot;5923&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Having exhausted all the obvious candidates that come with the language, a cursory search of packages was done to see if someone else had already solved and open sourced the solution to this problem. A few packages were checked, but none of them provided the properties and performance required. Thankfully, the field of Computer Science has been optimizing algorithms and data structures for storing and sorting data for the last 60 years, so there were plenty of ideas about how to proceed.&lt;/p&gt;
&lt;h3 name=&quot;c5b6&quot; id=&quot;c5b6&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;SkipList&lt;/h3&gt;
&lt;p name=&quot;1ee8&quot; id=&quot;1ee8&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;The ordsets perform extremely well at small sizes. Maybe there was some way that we could chain a bunch of very small ordsets together and quickly access the correct one when accessing a particular position. If you turn your head sideways and squint real hard, this starts to look like a &lt;a href=&quot;https://en.wikipedia.org/wiki/Skip_list&quot; data-href=&quot;https://en.wikipedia.org/wiki/Skip_list&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;Skip List&lt;/a&gt;, which is exactly what was implemented.&lt;/p&gt;
&lt;p name=&quot;4cc8&quot; id=&quot;4cc8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;The first incarnation of this new data structure was pretty straightforward. The OrderedSet was a wrapper around a list of Cells, inside each cell was a small ordset: the first item of the ordset, the last item of the ordset, and a count of the number of items. This allowed the OrderedSet to quickly traverse the list of Cells to find the appropriate Cell and then do a very fast ordset operation. By leveraging compile time guards in the implementation of traversal, you can get pretty good performance in the worst case scenarios that stymie ordset. Insertion of an item at the end of a 250,000 item list dropped from 27,000𝜇s to 5,000𝜇s, five times faster than raw ordsets and 34 times faster than the naive List implementation.&lt;/p&gt;
&lt;p name=&quot;bc45&quot; id=&quot;bc45&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;So pop the champagne corks and celebrate, right? Not quite.&lt;/p&gt;
&lt;p name=&quot;78bd&quot; id=&quot;78bd&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;The old worst case was better, but a new worst case of insertion at the beginning of the list had been created; a 250,000 item list was clocking in at 19,000𝜇s. Wat?!&lt;/p&gt;
&lt;p name=&quot;f286&quot; id=&quot;f286&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This makes sense if you think about the data structure. When you insert an item into the front of the OrderedSet it ends up in the first Cell, but that Cell is full, so it evicts its last item to the next Cell, but that Cell is full, so it evicts its last item to the next Cell, and so on. At this point, most engineers would shrug and say “You can’t have your cake and eat it too,” but at Discord we are pushing the envelope on quantum cake technology.&lt;/p&gt;
&lt;h3 name=&quot;0103&quot; id=&quot;0103&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;OrderedSet&lt;/h3&gt;
&lt;p name=&quot;d726&quot; id=&quot;d726&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;The problem is that when things fill up, operations can cascade from Cell to Cell. What if we could do something more clever? What if we allow Cells to swell and split, dynamically inserting new Cells in the middle of the list? This is slightly more expensive, but has the benefit that the worst case is a Cell Split instead of 2N Cell operations, where N is the number of Cells.&lt;/p&gt;
&lt;p name=&quot;df9a&quot; id=&quot;df9a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Another day of coding data structures and we were ready to benchmark.&lt;/p&gt;
&lt;p name=&quot;8780&quot; id=&quot;8780&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;At small list sizes, this new dynamic OrderedSet could perform insertions at any point in the list between 4𝜇s and 34𝜇s. Not bad. The real test came when we cranked up the size to 250,000. Inserting at the beginning of the list took…. drumroll…. 4𝜇s. That’s looking fast. But remember last time we made one number fast, we made another slow. Maybe the end of the list is horrible now, better check.&lt;/p&gt;
&lt;p name=&quot;3e46&quot; id=&quot;3e46&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;With a list size of 250,000 items, inserting an item at the end of the list took 640𝜇s. Looks like we have a winner.&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*9c8HPdzJLpot3cdTRMEFFw.png&quot; data-width=&quot;1134&quot; data-height=&quot;200&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*9c8HPdzJLpot3cdTRMEFFw.png&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/1*9c8HPdzJLpot3cdTRMEFFw.png&quot;/&gt;&lt;/div&gt;
&lt;h3 name=&quot;2567&quot; id=&quot;2567&quot; class=&quot;graf graf--h3 graf-after--figure&quot;&gt;Must. Go. Faster.&lt;/h3&gt;
&lt;p name=&quot;5d36&quot; id=&quot;5d36&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;This solution would work for guilds up to 250,000 members, but that was the scaling limit. For a lot of people, this would have been the end of the story. But Discord has been using Rust to make things go fast, and we posed a question: “Could we use Rust to go faster?”&lt;/p&gt;
&lt;p name=&quot;efd9&quot; id=&quot;efd9&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Rust is not a functional language, and will happily let you mutate data structures. It also has no run-time and provides “zero-cost abstractions.” If we could somehow get Rust to manage this set, it would probably perform much better.&lt;/p&gt;
&lt;p name=&quot;8e58&quot; id=&quot;8e58&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Our core services aren’t written in Rust, they are Elixir-based. Elixir serves this purpose very well, and lucky for us, the BEAM VM had another nifty trick up its sleeve. The BEAM VM has three types of functions:&lt;/p&gt;
&lt;ol class=&quot;postList&quot;&gt;&lt;li name=&quot;9ddc&quot; id=&quot;9ddc&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;Functions that are written in Erlang or Elixir. These are simple user-space functions.&lt;/li&gt;
&lt;li name=&quot;2b15&quot; id=&quot;2b15&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Functions that are built into the language and act as the building blocks for user-space functions. These are called BIFs or Built-In Functions.&lt;/li&gt;
&lt;li name=&quot;0685&quot; id=&quot;0685&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Then there are NIFs or Native Implemented Functions. These are functions that are built in C or Rust and compiled into the BEAM VM. Calling these functions is just like calling a BIF but, you can control what it does.&lt;/li&gt;
&lt;/ol&gt;&lt;p name=&quot;1154&quot; id=&quot;1154&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;There’s a fantastic Elixir project called &lt;a href=&quot;https://github.com/hansihe/Rustler&quot; data-href=&quot;https://github.com/hansihe/Rustler&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;Rustler&lt;/a&gt;. It provides nice support on the Elixir and Rust side for making a safe NIF that is well behaved and using the guarantees of Rust is guaranteed not to crash the VM or leak memory.&lt;/p&gt;
&lt;p name=&quot;966c&quot; id=&quot;966c&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;We set aside a week to see if this would be worth the effort. By the end of the week, we had a very limited proof-of-concept that we could measure. The first benchmarks were extremely promising. The best case for adding an item to the set was 0.4𝜇s with a worst case of 2.85𝜇s, compared to OrderedSet’s 4𝜇s to 640𝜇s. This was a benchmark just using integers, but it was enough evidence to build out support for a wider range of Erlang Terms and fill out the rest of the functionality.&lt;/p&gt;
&lt;p name=&quot;8e0a&quot; id=&quot;8e0a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;With the spike showing so much promise, we continued on building out support for most Erlang Terms and all the functionality we needed for the member list. It was time to benchmark again. We cranked the number of items all the way up to 1,000,000 items. The test machine churned for a few minutes and finally printed out the result: SortedSet best case was 0.61𝜇s and worst case was 3.68𝜇s, testing multiple sizes of sets from 5,000 to 1,000,000 items.&lt;/p&gt;
&lt;p name=&quot;4ad7&quot; id=&quot;4ad7&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;For the second iteration in a row we were able to make the worst case as good as the previous iterations best-case timings.&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*mJ0QzqsUwQXEoi_piLOZ1A.png&quot; data-width=&quot;1142&quot; data-height=&quot;346&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*mJ0QzqsUwQXEoi_piLOZ1A.png&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/1*mJ0QzqsUwQXEoi_piLOZ1A.png&quot;/&gt;&lt;/div&gt;
&lt;p name=&quot;df17&quot; id=&quot;df17&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;The Rust backed NIF provides massive performance benefits without trading off ease of use or memory. Since the library operations all clocked in well under the 1 millisecond threshold, we could just use the built-in Rustler guarantees and not need to worry about reductions or yielding. The SortedSet module looks to the caller to just be a vanilla Elixir module that performs crazy fast.&lt;/p&gt;
&lt;h3 name=&quot;5f22&quot; id=&quot;5f22&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Happily Ever After&lt;/h3&gt;
&lt;p name=&quot;f4e2&quot; id=&quot;f4e2&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Today, the Rust backed SortedSet powers every single Discord guild: from the 3 person guild planning a trip to Japan to 200,000 people enjoying the latest, fun game.&lt;/p&gt;
&lt;p name=&quot;5bf6&quot; id=&quot;5bf6&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Since deploying SortedSet, we’ve seen performance improve across the board with no impact to memory pressure. We learned that Rust and Elixir can work side by side to operate in extremely tight performance constraints. We can still keep our core real-time communications logic in the higher-level Elixir with its wonderful guarantees and easy concurrency while dropping down into Rust when needed.&lt;/p&gt;
&lt;p name=&quot;b9af&quot; id=&quot;b9af&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;If you need a high-speed mutation friendly SortedSet, &lt;a href=&quot;https://github.com/discordapp/sorted_set_nif&quot; data-href=&quot;https://github.com/discordapp/sorted_set_nif&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;we have released SortedSet as an open source library&lt;/a&gt;.&lt;/p&gt;
&lt;p name=&quot;63e3&quot; id=&quot;63e3&quot; class=&quot;graf graf--p graf-after--p graf--trailing&quot;&gt;If solving hard problems with awesome tools like Elixir and Rust is interesting to you, &lt;a href=&quot;https://discordapp.com/jobs?team=engineering&quot; data-href=&quot;https://discordapp.com/jobs?team=engineering&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;go check out our jobs page&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Sat, 18 May 2019 00:10:23 +0000</pubDate>
<dc:creator>O_H_E</dc:creator>
<og:title>Using Rust to Scale Elixir for 11 Million Concurrent Users</og:title>
<og:url>https://blog.discordapp.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3</og:url>
<og:image>https://cdn-images-1.medium.com/max/1200/1*wtla_J4eY8-ftoQznTPiFA.png</og:image>
<og:description>Must. Go. Faster.</og:description>
<og:type>article</og:type>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.discordapp.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3?gi=bb15b341b63c</dc:identifier>
</item>
<item>
<title>Game Engine Black Books Update</title>
<link>http://fabiensanglard.net/gebb/index.html</link>
<guid isPermaLink="true" >http://fabiensanglard.net/gebb/index.html</guid>
<description>&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&lt;title&gt;Game Engine Black Books Update&lt;/title&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot; /&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;86.410752688172&quot;&gt;

&lt;center&gt;

&lt;/center&gt;
&lt;p&gt;May 17, 2019&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Game Engine Black Books Update&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;&lt;img src=&quot;http://fabiensanglard.net/gebb/doom.png&quot; width=&quot;20%&quot; /&gt;&lt;img src=&quot;http://fabiensanglard.net/gebb/wolf3d.png&quot; width=&quot;20%&quot; /&gt; Here are a few updates about the Game Engine Black Books.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;All reported errata have been addressed.&lt;/li&gt;
&lt;li&gt;High-quality, premium colors printouts are available.&lt;/li&gt;
&lt;li&gt;Both books are available as 300dpi PDFs. &lt;/li&gt;
&lt;li&gt;I am releasing the LateX source code of the books so you can compile them and see how they were put together.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Details of what is new:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;DOOM v1.1: All errata fixed, John Romero added a foreword (same as his anniversary post &lt;a href=&quot;https://rome.ro/news/2018/12/10/reflections-on-dooms-development&quot;&gt;Reflections on DOOM's Development&lt;/a&gt;), updated Saturn VDP1/VDP2 analysis, and better SNES dithering screenshot.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;WOLF v2.1: All errata fixed.&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;They are available at the following locations and formats:&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.paypal.me/fabiensanglard&quot;&gt;Gift&lt;/a&gt; what you want, free high-res PDFs (&lt;a href=&quot;http://fabiensanglard.net/gebbdoom_v1.1.pdf&quot;&gt;DOOM&lt;/a&gt;, &lt;a href=&quot;http://fabiensanglard.net/gebbwolf3d_v2.1.pdf&quot;&gt;WOLF&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;TheBookPatch, glossy paperback with 80g coated paper and premium colors (&lt;a href=&quot;https://app.thebookpatch.com/BookStore/game-engine-black-book-doom/4df84e18-cac1-47b9-bfb3-57e8c7c8cdca&quot;&gt;DOOM&lt;/a&gt;, &lt;a href=&quot;https://app.thebookpatch.com/BookStore/game-engine-black-book-wolfenstein-3d/c1ab64b2-6df8-4ae7-91ae-64318af85a64&quot;&gt;WOLF&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Google Play DRM free eBook (&lt;a href=&quot;https://play.google.com/books/reader?id=wel6DwAAQBAJ&quot;&gt;DOOM&lt;/a&gt;, &lt;a href=&quot;https://play.google.com/books/reader?id=hel6DwAAQBAJ&quot;&gt;WOLF&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Unfortunately, I was not able to update the books on Amazon. Kindle Direct Publishing portal is rejecting my pdfs&lt;a name=&quot;back_1&quot; href=&quot;http://fabiensanglard.net/gebb/index.html#footnote_1&quot; id=&quot;back_1&quot;&gt;&lt;sup&gt;[1]&lt;/sup&gt;&lt;/a&gt; despite accepting the three previous revisions. Their tech support could not tell me what was wrong after two weeks and multiple emails. Lesson learned.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Hardcover and High Quality paper version&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;&lt;a href=&quot;http://fabiensanglard.net/gebb/prints.jpg&quot;&gt;&lt;img src=&quot;http://fabiensanglard.net/gebb/prints_small.jpg&quot; width=&quot;32%&quot; /&gt;&lt;/a&gt; Ever since publishing with CreateSpace on Amazon, I wondered how the quality compared to other printing services. After a quick survey, I ended up with three printers able to handle the Black Books peculiar dimensions.&lt;/p&gt;&lt;p&gt;- Amazon.&lt;br /&gt;- Ingram.&lt;br /&gt;- TheBookPatch.&lt;/p&gt;&lt;p&gt;I also gave a try to hardcover with Ingram since they were the only shop supporting it in 7'5&quot; x 9'25&quot; format. The $45/book listing fees and their reputation got my hopes up but the results were disappointing.&lt;/p&gt;&lt;p&gt;Ingram books were damaged upon arrival, the folding lacked polish, the customer service had room for improvement and more importantly, even premium colors looked washed out. As a result, hardcover was abandoned.&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;&lt;a href=&quot;http://fabiensanglard.net/gebb/boo1.jpg&quot;&gt;&lt;img src=&quot;http://fabiensanglard.net/gebb/boo1_small.jpg&quot; width=&quot;32%&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;http://fabiensanglard.net/gebb/boo2.jpg&quot;&gt; &lt;img src=&quot;http://fabiensanglard.net/gebb/boo2_small.jpg&quot; width=&quot;32%&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;http://fabiensanglard.net/gebb/boo3.jpg&quot;&gt; &lt;img src=&quot;http://fabiensanglard.net/gebb/boo3_small.jpg&quot; width=&quot;32%&quot; /&gt;&lt;/a&gt;&lt;/center&gt;

&lt;p&gt;&lt;strong&gt;Premium prints&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;I was pleased with TheBookPatch quality and professionalism. The books were well protected and in pristine condition upon arrival. Their used high-quality 80g paper. Colors were crisp so every single pixel were discernible on all screenshots.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://fabiensanglard.net/gebb/comp.jpg&quot;&gt; &lt;img src=&quot;http://fabiensanglard.net/gebb/comp_small.jpg&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Even in difficult scenes such as those rendered by the SNES, TheBookPatch did an impressive job. The achievement is striking when placed side by side with other printers where individual pixels are blended together and the dithering is not visible.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://fabiensanglard.net/gebb/pixels.jpg&quot;&gt; &lt;img src=&quot;http://fabiensanglard.net/gebb/pixels_small.jpg&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I also experienced with changing the books cover. Out of the box, the matte cover looked gorgeous but rapidly turned into an off-putting fingerprint magnet. Many readers complained about it so I decided to switch to glossy which solved the problem.&lt;/p&gt;&lt;p&gt;Prices are set to I make $0.01 for each copy sold (the minimum allowed). Individual prices are $58.67 for DOOM and $44.11 for WOLF. Too bad I did not find this printer when I first got started since ordering 1000 copies entails a 30% discount. The prices could have been $41.06 for DOOM and $30.87 for WOLF. This made me regret not creating a kick starter when I got started. Something to keep in mind if I ever write an other book.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Source code&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;If you are curious about how the Black Books were written, here is the LateX source code:&lt;/p&gt;&lt;p&gt;- Game Engine Black Book: Wolfenstein 3D &lt;a href=&quot;https://github.com/fabiensanglard/gebbwolf3&quot;&gt;source code&lt;/a&gt;.&lt;br /&gt;- Game Engine Black Book: DOOM &lt;a href=&quot;https://github.com/fabiensanglard/gebbdoom&quot;&gt;source code&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Each book can be compiled with a single command:&lt;/p&gt;
&lt;pre&gt;

./make.sh
  
&lt;/pre&gt;
&lt;p&gt;All work was done on MacOSX with &lt;a href=&quot;http://www.tug.org/mactex/&quot;&gt;mactex&lt;/a&gt; library and &lt;a href=&quot;https://inkscape.org/&quot;&gt;Inkscape&lt;/a&gt; but I am confident it could build on a Linux system with minor tweaking. It is probably not very good code but it got the job done. If you have suggestions on how it could have been done better, I would be curious to hear about it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p id=&quot;paperbox&quot;&gt;&lt;a href=&quot;http://fabiensanglard.net/gebb/index.html#back_1&quot;&gt;^&lt;/a&gt; [1] Source: &lt;a href=&quot;http://fabiensanglard.net/gebb/error.png&quot;&gt;Kindle Direct Publishing error message is 'There was an error, check your PDF.'&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;center&gt;*&lt;/center&gt;
&lt;/body&gt;</description>
<pubDate>Fri, 17 May 2019 19:47:01 +0000</pubDate>
<dc:creator>brundolf</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://fabiensanglard.net/gebb/index.html</dc:identifier>
</item>
<item>
<title>Gmail tracks the history of things you buy, and it’s hard to delete</title>
<link>https://www.cnbc.com/2019/05/17/google-gmail-tracks-purchase-history-how-to-delete-it.html</link>
<guid isPermaLink="true" >https://www.cnbc.com/2019/05/17/google-gmail-tracks-purchase-history-how-to-delete-it.html</guid>
<description>&lt;div class=&quot;InlineImage-imageEmbed hasBkg&quot; id=&quot;ArticleBody-InlineImage-105621779&quot;&gt;
&lt;div class=&quot;InlineImage-wrapper&quot; readability=&quot;11&quot;&gt;

&lt;div readability=&quot;17&quot;&gt;
&lt;p&gt;Sundar Pichai, chief executive officer of Google, is sworn in during a House Judiciary Committee hearing in Washington, D.C., U.S., on Tuesday, Dec. 11, 2018.&lt;/p&gt;
&lt;p&gt;Andrew Harrer | Bloomberg | Getty Images&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;group&quot; readability=&quot;36.419152276295&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnbc.com/quotes/?symbol=GOOGL&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;Google&lt;/a&gt; tracks a lot of what you buy, even if you purchased it elsewhere, like in a store or from Amazon.&lt;/p&gt;
&lt;p&gt;Last week, CEO Sundar Pichai wrote a New York Times &lt;a href=&quot;https://www.nytimes.com/2019/05/07/opinion/google-sundar-pichai-privacy.html&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;op-ed&lt;/a&gt; that said &quot;privacy cannot be a luxury good.&quot; But behind the scenes, Google is still collecting a lot of personal information from the services you use, such as Gmail, and some of it can't be easily deleted.&lt;/p&gt;

&lt;p&gt;A page called &quot;&lt;a href=&quot;https://myaccount.google.com/purchases&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;Purchases&lt;/a&gt; &quot; shows an accurate list of many — though not all — of the things I've bought dating back to at least 2012. I made these purchases using online services or apps such as Amazon, DoorDash or Seamless, or in stores such as Macy's, but never directly through Google.&lt;/p&gt;
&lt;p&gt;But because the digital receipts went to my Gmail account, Google has a list of info about my buying habits.&lt;/p&gt;
&lt;p&gt;Google even knows about things I long forgot I'd purchased, like dress shoes I bought inside a Macy's store on Sept. 14, 2015. It also knows:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;I ordered a Philly cheesesteak on a hoagie roll with Cheez Whiz and banana peppers on Jan. 14, 2016.&lt;/li&gt;
&lt;li&gt;I reloaded my Starbucks card in November 2014.&lt;/li&gt;
&lt;li&gt;I bought a new Kindle on Dec. 18, 2013, from Amazon.&lt;/li&gt;
&lt;li&gt;I bought &quot;Solo: A Star Wars Story&quot; from iTunes on Sept. 14, 2018.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;And so on.&lt;/p&gt;
&lt;p&gt;Take a look at this sample, which covers some things I bought within the last week:&lt;/p&gt;

&lt;/div&gt;
&lt;div class=&quot;InlineImage-imageEmbed hasBkg&quot; id=&quot;ArticleBody-InlineImage-105919611&quot;&gt;
&lt;div class=&quot;InlineImage-wrapper&quot; readability=&quot;6&quot;&gt;

&lt;div readability=&quot;7&quot;&gt;
&lt;p&gt;A list of my purchases Google pulled in from Gmail.&lt;/p&gt;
&lt;p&gt;Todd Haselton | CNBC&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;group&quot; readability=&quot;22.986301369863&quot;&gt;
&lt;p&gt;Go here to see your own: &lt;a href=&quot;https://myaccount.google.com/purchases&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;http://myaccount.google.com/purchases&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&quot;To help you easily view and keep track of your purchases, bookings and subscriptions in one place, we've created a private destination that can only be seen by you,&quot; a Google spokesperson told CNBC. &quot;You can delete this information at any time. We don't use any information from your Gmail messages to serve you ads, and that includes the email receipts and confirmations shown on the Purchase page.&quot;&lt;/p&gt;
&lt;p&gt;But there isn't an easy way to remove all of this. You can delete all the receipts in your Gmail inbox and archived messages. But, if you're like me, you might save receipts in Gmail in case you need them later for returns. There is no way to delete them from Purchases without also deleting them from Gmail -- when you click on the &quot;Delete&quot; option in Purchases, it simply guides you back to the Gmail message.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;InlineImage-imageEmbed hasBkg&quot; id=&quot;ArticleBody-InlineImage-105919639&quot;&gt;
&lt;div class=&quot;InlineImage-wrapper&quot; readability=&quot;6&quot;&gt;

&lt;div readability=&quot;7&quot;&gt;
&lt;p&gt;You need to delete each purchase manually rom Gmail to get rid of it.&lt;/p&gt;
&lt;p&gt;Todd Haselton | CNBC&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;group&quot; readability=&quot;34.46372688478&quot;&gt;
&lt;p&gt;Google's privacy page says that only you can view your purchases. But it says &quot;Information about your orders may also be saved with your activity in other Google services &quot; and that you can see and delete this information on a separate &quot;My Activity&quot; page.&lt;/p&gt;
&lt;p&gt;Except you can't. Google's &lt;a href=&quot;https://myaccount.google.com/data-and-personalization&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;activity controls page&lt;/a&gt; doesn't give you any ability to manage the data it stores on Purchases.&lt;/p&gt;
&lt;p&gt;Google told CNBC you can turn off the tracking entirely, but you have to go to another page for search setting preferences. However, when CNBC tried this, it didn't work -- there was no such option to fully turn off the tracking. It's weird this isn't front and center on Google's new privacy pages or even in Google's privacy checkup feature.&lt;/p&gt;
&lt;p&gt;Google says it &lt;a href=&quot;https://support.google.com/mail/answer/6603?hl=en&quot; alt=&quot;&quot; class=&quot;&quot; rel=&quot;&quot; target=&quot;&quot; title=&quot;&quot; role=&quot;&quot; tabindex=&quot;&quot; data-type=&quot;&quot; aria-label=&quot;&quot;&gt;doesn't use your Gmail to show you ads&lt;/a&gt; and promises it &quot;does not sell your personal information, which includes your Gmail and Google Account information,&quot; and does &quot;not share your personal information with advertisers, unless you have asked us to.&quot;&lt;/p&gt;
&lt;p&gt;But, for reasons that still aren't clear, it's pulling that information out of your Gmail and dumping it into a &quot;Purchases&quot; page most people don't seem to know exists. Even if it's not being used for ads, there's no clear reason why Google would need to track years of purchases and make it hard to delete that information. Google says it's looking into simplifying its settings to make them easier to control, however.&lt;/p&gt;
&lt;/div&gt;



</description>
<pubDate>Fri, 17 May 2019 18:27:23 +0000</pubDate>
<dc:creator>coloneltcb</dc:creator>
<og:type>article</og:type>
<og:title>Google uses Gmail to track a history of things you buy — and it's hard to delete</og:title>
<og:description>Google collects the purchases you've made, including from other stores and sites such as Amazon, and saves them on a page called Purchases.</og:description>
<og:url>https://www.cnbc.com/2019/05/17/google-gmail-tracks-purchase-history-how-to-delete-it.html</og:url>
<og:image>https://image.cnbcfm.com/api/v1/image/105621779-1544565379218pichai.jpg?v=1558107434</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnbc.com/2019/05/17/google-gmail-tracks-purchase-history-how-to-delete-it.html</dc:identifier>
</item>
<item>
<title>Homeless Population Jumps by Thousands Across the San Francisco Bay Area</title>
<link>https://www.latimes.com/local/lanow/la-me-ln-northern-california-homeless-count-20190517-story.html</link>
<guid isPermaLink="true" >https://www.latimes.com/local/lanow/la-me-ln-northern-california-homeless-count-20190517-story.html</guid>
<description>&lt;p&gt;Farther south in the Bay Area, the number of homeless people living in Santa Clara County increased 31% over the last two years, from 7,394 to 9,706, according to &lt;a href=&quot;https://www.sccgov.org/sites/opa/newsroom/Documents/2019%20Homeless%20Census%20News%20Release.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;preliminary results released by the county.&lt;/a&gt; San Jose saw a surge of 1,822 people, for a total of 6,172 homeless residents living in the county’s largest city.&lt;/p&gt;
</description>
<pubDate>Fri, 17 May 2019 18:17:18 +0000</pubDate>
<dc:creator>ilamont</dc:creator>
<og:url>https://www.latimes.com/local/lanow/la-me-ln-northern-california-homeless-count-20190517-story.html</og:url>
<og:title>Homeless population jumps by thousands across the San Francisco Bay Area</og:title>
<og:image>https://www.latimes.com/resizer/qZeSxjEVEtBn3sYOcSH0Or_XRuo=/1200x0/arc-anglerfish-arc2-prod-tronc.s3.amazonaws.com/public/MQIVUFJIMBGZRLGV4XNZTOXPR4.jpg</og:image>
<og:description>San Francisco, like other cities and counties across the Bay Area, reported Thursday that homelessness has increased dramatically over the last two years.</og:description>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.latimes.com/local/lanow/la-me-ln-northern-california-homeless-count-20190517-story.html</dc:identifier>
</item>
</channel>
</rss>