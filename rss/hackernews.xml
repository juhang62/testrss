<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Interactive SICP</title>
<link>https://xuanji.appspot.com/isicp/</link>
<guid isPermaLink="true" >https://xuanji.appspot.com/isicp/</guid>
<description>&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;/&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/isicp.css&quot;/&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/theme.css&quot;/&gt;&lt;title&gt;Interactive SICP&lt;/title&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;12.792778139232&quot;&gt;

&lt;h2&gt;Interactive Version&lt;/h2&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;strong&gt;Wizard Book&lt;/strong&gt; n. &lt;em&gt;Structure and Interpretation of Computer Programs&lt;/em&gt;, an excellent computer science text used in introductory courses at MIT. So called because of the wizard on the jacket. One of the bibles of the LISP/Scheme world.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;strong&gt;Interactive SICP&lt;/strong&gt; n. &lt;em&gt;Interactive Structure and Interpretation of Computer Programs&lt;/em&gt;. Online version of SICP with a built-in scheme interpreter to allow readers to edit and run the code embedded in SICP. (Work in progress)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-sa/3.0/deed.en_US&quot;&gt;&lt;img alt=&quot;Creative Commons License&quot; src=&quot;https://i.creativecommons.org/l/by-sa/3.0/88x31.png&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&lt;span xmlns:dct=&quot;http://purl.org/dc/terms/&quot; href=&quot;http://purl.org/dc/dcmitype/InteractiveResource&quot; property=&quot;dct:title&quot; rel=&quot;dct:type&quot;&gt;Interactive SICP&lt;/span&gt; is licensed under a &lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-sa/3.0/deed.en_US&quot;&gt;Creative Commons Attribution-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;br/&gt;Based on a work at &lt;a xmlns:dct=&quot;http://purl.org/dc/terms/&quot; href=&quot;https://mitpress.mit.edu/sicp/&quot; rel=&quot;dct:source&quot;&gt;https://mitpress.mit.edu/sicp/&lt;/a&gt;. &lt;a href=&quot;https://github.com/zodiac/isicp&quot;&gt;&lt;img src=&quot;https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png&quot; alt=&quot;Fork me on GitHub&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;</description>
<pubDate>Thu, 31 Jan 2019 22:53:10 +0000</pubDate>
<dc:creator>wk_end</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://xuanji.appspot.com/isicp/</dc:identifier>
</item>
<item>
<title>Apple blocks Google from running its internal iOS apps</title>
<link>https://www.theverge.com/2019/1/31/18205795/apple-google-blocked-internal-ios-apps-developer-certificate</link>
<guid isPermaLink="true" >https://www.theverge.com/2019/1/31/18205795/apple-google-blocked-internal-ios-apps-developer-certificate</guid>
<description>&lt;p id=&quot;65L3Yj&quot;&gt;Apple shut down Google’s ability to distribute its internal iOS apps earlier today. A person familiar with the situation told &lt;em&gt;The Verge&lt;/em&gt; that early versions of Google Maps, Hangouts, Gmail, and other pre-release beta apps stopped working alongside employee-only apps like a Gbus app for transportation and Google’s internal cafe app. The block came after Google was found to be in violation of Apple’s app distribution policy, and followed a similar shutdown that was &lt;a href=&quot;https://www.theverge.com/2019/1/30/18203551/apple-facebook-blocked-internal-ios-apps&quot;&gt;issued to Facebook earlier this week&lt;/a&gt;.&lt;/p&gt;
&lt;p id=&quot;RIm5V4&quot;&gt;&lt;a href=&quot;https://techcrunch.com/2019/01/31/apple-ban-google-data-app/&quot;&gt;&lt;em&gt;TechCrunch&lt;/em&gt;&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/mhbergen/status/1091168798856556544?s=21&quot;&gt;Bloomberg’s Mark Bergen&lt;/a&gt; reported late Thursday that the apps’ functionality had been restored; Apple appears to have worked more closely with Google to fix this situation. “We are working together with Google to help them reinstate their enterprise certificates very quickly,” an Apple spokesperson earlier told &lt;a href=&quot;https://twitter.com/JohnPaczkowski/status/1091097938393128960&quot;&gt;&lt;em&gt;BuzzFeed&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;c-float-right&quot;&gt;
&lt;aside id=&quot;S36C8N&quot;&gt;&lt;q&gt;Apple blocked Facebook and then Google&lt;/q&gt;&lt;/aside&gt;&lt;/div&gt;
&lt;p id=&quot;FexzJt&quot;&gt;Apple’s move to block Google’s developer certificate comes just a day after &lt;a href=&quot;https://www.theverge.com/2019/1/30/18204064/apple-google-monitoring-phone-usage-screenwise-meter&quot;&gt;Google disabled its Screenwise Meter app&lt;/a&gt; following press coverage. Google’s private app was designed to monitor how people use their iPhones, similar to Facebook’s research app. Google’s app also relied on Apple’s enterprise program, which enables the distribution of internal apps within a company.&lt;/p&gt;
&lt;p id=&quot;BxWOYs&quot;&gt;In an earlier statement over Facebook’s certificate removal, Apple did warn that “any developer using their enterprise certificates to distribute apps to consumers will have their certificates revoked.” Facebook’s internal iOS apps have since resumed functioning, as the social network said this afternoon that &lt;a href=&quot;https://www.theverge.com/2019/1/31/18206020/apple-facebook-internal-ios-apps-restores-enterprise-certificate&quot;&gt;Apple had restored its enterprise certificate&lt;/a&gt;.&lt;/p&gt;
&lt;p id=&quot;l8eNCH&quot;&gt;Apple is clearly sticking to its rules and applying them equally to Facebook, Google, and likely many other companies that get caught breaking Apple’s rules in the future.&lt;/p&gt;
&lt;p id=&quot;xqvA1f&quot;&gt;There’s growing evidence that a number of companies are using Apple’s enterprise program to distribute apps to consumers. iOS developer &lt;a href=&quot;https://twitter.com/thefaj/status/1091087789704105984&quot;&gt;Alex Fajkowski has discovered&lt;/a&gt; that Amazon, DoorDash, and Sonos all distribute beta versions of their apps to non-employees. Apple may be forced to take action against these apps, or to even revamp its entire enterprise program in the future.&lt;/p&gt;
&lt;p id=&quot;Xag9UC&quot;&gt;&lt;em&gt;&lt;strong&gt;Update 1/31, 5:45PM ET&lt;/strong&gt;&lt;/em&gt;&lt;em&gt;: Article updated with comment from Google, Apple, and details on other companies using Apple’s enterprise program to distribute apps.&lt;/em&gt;&lt;/p&gt;
&lt;p id=&quot;zx5syB&quot;&gt;&lt;em&gt;&lt;strong&gt;Update 1/31: 6:18PM ET:&lt;/strong&gt;&lt;/em&gt; &lt;em&gt;Updated with the news that Apple has resumed letting Facebook use internal iOS apps.&lt;/em&gt;&lt;/p&gt;
&lt;p id=&quot;zcEEy0&quot;&gt;&lt;em&gt;&lt;strong&gt;Update 1/31: 10:30PM ET:&lt;/strong&gt;&lt;/em&gt; &lt;em&gt;Updated with the news that Apple has restored functionality to Google’s apps.&lt;/em&gt;&lt;/p&gt;

</description>
<pubDate>Thu, 31 Jan 2019 21:20:26 +0000</pubDate>
<dc:creator>rising-sky</dc:creator>
<og:description>Google joins Facebook in Apple’s banning spree</og:description>
<og:image>https://cdn.vox-cdn.com/thumbor/zecX0cPldoJGxd8xivCIx07sXlA=/0x146:2040x1214/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/10745895/acastro_180427_1777_0001.jpg</og:image>
<og:title>Breaking: Apple blocks Google from running its internal iOS apps</og:title>
<og:type>article</og:type>
<og:url>https://www.theverge.com/2019/1/31/18205795/apple-google-blocked-internal-ios-apps-developer-certificate</og:url>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theverge.com/2019/1/31/18205795/apple-google-blocked-internal-ios-apps-developer-certificate</dc:identifier>
</item>
<item>
<title>The UAE’s secret hacking team of U.S. mercenaries</title>
<link>https://uk.reuters.com/article/uk-usa-spying-raven-specialreport-idUKKCN1PO1A6</link>
<guid isPermaLink="true" >https://uk.reuters.com/article/uk-usa-spying-raven-specialreport-idUKKCN1PO1A6</guid>
<description>&lt;p&gt;WASHINGTON (Reuters) - Two weeks after leaving her position as an intelligence analyst for the U.S. National Security Agency in 2014, Lori Stroud was in the Middle East working as a hacker for an Arab monarchy.&lt;/p&gt;
&lt;p&gt;She had joined Project Raven, a clandestine team that included more than a dozen former U.S. intelligence operatives recruited to help the United Arab Emirates engage in surveillance of other governments, militants and human rights activists critical of the monarchy.&lt;/p&gt;
&lt;p&gt;Stroud and her team, working from a converted mansion in Abu Dhabi known internally as “the Villa,” would use methods learnt from a decade in the U.S intelligence community to help the UAE hack into the phones and computers of its enemies.&lt;/p&gt;
&lt;p&gt;Stroud had been recruited by a Maryland cybersecurity contractor to help the Emiratis launch hacking operations, and for three years, she thrived in the job. But in 2016, the Emiratis moved Project Raven to a UAE cybersecurity firm named DarkMatter. Before long, Stroud and other Americans involved in the effort say they saw the mission cross a red line: targeting fellow Americans for surveillance.&lt;/p&gt;
&lt;p&gt;“I am working for a foreign intelligence agency who is targeting U.S. persons,” she told Reuters. “I am officially the bad kind of spy.”&lt;/p&gt;
&lt;p&gt;The story of Project Raven reveals how former U.S. government hackers have employed state-of-the-art cyber-espionage tools on behalf of a foreign intelligence service that spies on human rights activists, journalists and political rivals.&lt;/p&gt;
&lt;p&gt;Interviews with nine former Raven operatives, along with a review of thousands of pages of project documents and emails, show that surveillance techniques taught by the NSA were central to the UAE’s efforts to monitor opponents. The sources interviewed by Reuters were not Emirati citizens.&lt;/p&gt;
&lt;p&gt;The operatives utilized an arsenal of cyber tools, including a cutting-edge espionage platform known as Karma, in which Raven operatives say they hacked into the iPhones of hundreds of activists, political leaders and suspected terrorists. Details of the Karma hack were described in a separate Reuters article today.&lt;/p&gt;
&lt;p&gt;An NSA spokesman declined to comment on Raven. An Apple spokeswoman declined to comment. A spokeswoman for UAE’s Ministry of Foreign Affairs declined to comment. The UAE’s Embassy in Washington and a spokesman for its National Media Council did not respond to requests for comment.&lt;/p&gt;
&lt;p&gt;The UAE has said it faces a real threat from violent extremist groups and that it is cooperating with the United States on counterterrorism efforts. Former Raven operatives say the project helped NESA break up an ISIS network within the Emirates. When an ISIS-inspired militant stabbed to death a teacher in Abu Dhabi in 2014, the operatives say, Raven spearheaded the UAE effort to assess if other attacks were imminent.&lt;/p&gt;
&lt;p&gt;Various reports have highlighted the ongoing cyber arms race in the Middle East, as the Emirates and other nations attempt to sweep up hacking weapons and personnel faster than their rivals. The Reuters investigation is the first to reveal the existence of Project Raven, providing a rare inside account of state hacking operations usually shrouded in secrecy and denials.&lt;/p&gt;
&lt;p&gt;The Raven story also provides new insight into the role former American cyberspies play in foreign hacking operations. Within the U.S. intelligence community, leaving to work as an operative for another country is seen by some as a betrayal. “There’s a moral obligation if you’re a former intelligence officer from becoming effectively a mercenary for a foreign government,” said Bob Anderson, who served as executive assistant director of the Federal Bureau of Investigation until 2015.&lt;/p&gt;
&lt;p&gt;While this activity raises ethical dilemmas, U.S. national security lawyers say the laws guiding what American intelligence contractors can do abroad are murky. Though it’s illegal to share classified information, there is no specific law that bars contractors from sharing more general spycraft knowhow, such as how to bait a target with a virus-laden email.&lt;/p&gt;
&lt;p&gt;The rules, however, are clear on hacking U.S. networks or stealing the communications of Americans. “It would be very illegal,” said Rhea Siers, former NSA deputy assistant director for policy.&lt;/p&gt;
&lt;p&gt;The hacking of Americans was a tightly held secret even within Raven, with those operations led by Emiratis instead. Stroud’s account of the targeting of Americans was confirmed by four other former operatives and in emails reviewed by Reuters.&lt;/p&gt;
&lt;p&gt;The FBI is now investigating whether Raven’s American staff leaked classified U.S. surveillance techniques and if they illegally targeted American computer networks, according to former Raven employees interviewed by federal law enforcement agents. Stroud said she is cooperating with that investigation. No charges have been filed and it is possible none will emerge from the inquiry. An FBI spokeswoman declined to comment.&lt;/p&gt;
&lt;h3&gt;PURPLE BRIEFING, BLACK BRIEFING&lt;/h3&gt;
&lt;p&gt;Stroud is the only former Raven operative willing to be named in this story; eight others who described their experiences would do so only on condition of anonymity. She spent a decade at the NSA, first as a military service member from 2003 to 2009 and later as a contractor in the agency for the giant technology consultant Booz Allen Hamilton from 2009 to 2014. Her speciality was hunting for vulnerabilities in the computer systems of foreign governments, such as China, and analysing what data should be stolen.&lt;/p&gt;
&lt;p&gt;In 2013, her world changed. While stationed at NSA Hawaii, Stroud says, she made the fateful recommendation to bring a Dell technician already working in the building onto her team. That contractor was Edward Snowden.&lt;/p&gt;
&lt;p&gt;“He’s former CIA, he’s local, he’s already cleared,” Stroud, 37, recalled. “He’s perfect!” Booz and the NSA would later approve Snowden’s transfer, providing him with even greater access to classified material.&lt;/p&gt;
&lt;p&gt;Two months after joining Stroud’s group, Snowden fled the United States and passed on thousands of pages of top secret program files to journalists, detailing the agency’s massive data collection programs. In the maelstrom that followed, Stroud said her Booz team was vilified for unwittingly enabling the largest security breach in agency history.&lt;/p&gt;
&lt;p&gt;“Our brand was ruined,” she said of her team.&lt;/p&gt;
&lt;p&gt;In the wake of the scandal, Marc Baier, a former colleague at NSA Hawaii, offered her the chance to work for a contractor in Abu Dhabi called CyberPoint. In May 2014, Stroud jumped at the opportunity and left Booz Allen.&lt;/p&gt;
&lt;p&gt;CyberPoint, a small cybersecurity contractor headquartered in Baltimore, was founded by an entrepreneur named Karl Gumtow in 2009. Its clients have included the U.S. Department of Defense, and its UAE business has gained media attention.&lt;/p&gt;
&lt;p&gt;In an interview, Gumtow said his company was not involved in any improper actions.&lt;/p&gt;
&lt;p&gt;Stroud had already made the switch from government employee to Booz Allen contractor, essentially performing the same NSA job at higher pay. Taking a job with CyberPoint would fulfil a lifelong dream of deploying to the Middle East and doing so at a lucrative salary. Many analysts, like Stroud, were paid more than $200,000 a year, and some managers received salaries and compensation above $400,000.&lt;/p&gt;
&lt;p&gt;She understood her new job would involve a counterterrorism mission in cooperation with the Emiratis, a close U.S. ally in the fight against ISIS, but little else. Baier and other Raven managers assured her the project was approved by the NSA, she said. With Baier’s impressive resume, including time in an elite NSA hacking unit known as Tailored Access Operations, the pledge was convincing. Baier did not respond to multiple phone calls, text messages, emails, and messages on social media.&lt;/p&gt;
&lt;p&gt;In the highly secretive, compartmentalized world of intelligence contracting, it isn’t unusual for recruiters to keep the mission and client from potential hires until they sign non-disclosure documents and go through a briefing process.&lt;/p&gt;
&lt;p&gt;When Stroud was brought into the Villa for the first time, in May 2014, Raven management gave her two separate briefings, back-to-back.&lt;/p&gt;
&lt;p&gt;In the first, known internally as the “Purple briefing,” she said she was told Raven would pursue a purely defensive mission, protecting the government of the UAE from hackers and other threats. Right after the briefing ended, she said she was told she had just received a cover story.&lt;/p&gt;
&lt;p&gt;She then received the “Black briefing,” a copy of which was reviewed by Reuters. Raven is “the offensive, operational division of NESA and will never be acknowledged to the general public,” the Black memo says. The NESA, or National Electronic Security Authority, was the UAE’s version of the NSA.&lt;/p&gt;
&lt;p&gt;Stroud would be part of Raven’s analysis and target-development shop, tasked with helping the government profile its enemies online, hack them and collect data. Those targets were provided by the client, NESA, now called the Signals Intelligence Agency.&lt;/p&gt;
&lt;p&gt;The language and secrecy of the briefings closely mirrored her experience at the NSA, Stroud said, giving her a level of comfort.&lt;/p&gt;
&lt;p&gt;The information scooped up by Raven was feeding a security apparatus that has drawn international criticism. The Emirates, a wealthy federation of seven Arab sheikhdoms with a population of 9 million, is an ally of neighbour Saudi Arabia and rival of Iran.&lt;/p&gt;
&lt;p&gt;Like those two regional powers, the UAE has been accused of suppressing free speech, detaining dissidents and other abuses by groups such as Human Rights Watch. The UAE says it is working closely with Washington to fight extremism “beyond the battlefield” and is promoting efforts to counter the “root causes” of radical violence.&lt;/p&gt;
&lt;p&gt;Raven’s targets eventually would include militants in Yemen, foreign adversaries such as Iran, Qatar and Turkey, and individuals who criticized the monarchy, said Stroud and eight other former Raven operatives. Their accounts were confirmed by hundreds of Raven program documents reviewed by Reuters.&lt;/p&gt;
&lt;p&gt;Under orders from the UAE government, former operatives said, Raven would monitor social media and target people who security forces felt had insulted the government.&lt;/p&gt;
&lt;p&gt;“Some days it was hard to swallow, like [when you target] a 16-year-old kid on Twitter,” she said. “But it’s an intelligence mission, you are an intelligence operative. I never made it personal.”&lt;/p&gt;
&lt;p&gt;The Americans identified vulnerabilities in selected targets, developed or procured software to carry out the intrusions and assisted in monitoring them, former Raven employees said. But an Emirati operative would usually press the button on an attack. This arrangement was intended to give the Americans “plausible deniability” about the nature of the work, said former Raven members.&lt;/p&gt;
&lt;h3&gt;TARGETING ‘GYRO’ AND ‘EGRET’&lt;/h3&gt;
&lt;p&gt;Stroud discovered that the program took aim not just at terrorists and foreign government agencies, but also dissidents and human rights activists. The Emiratis categorized them as national security targets.&lt;/p&gt;
&lt;p&gt;Following the Arab Spring protests and the ousting of Egyptian President Hosni Mubarak in 2011, Emirati security forces viewed human rights advocates as a major threat to “national stability,” records and interviews show.&lt;/p&gt;
&lt;p&gt;One of the program’s key targets in 2012 was Rori Donaghy, according to former Raven operatives and program documents. Donaghy, then 25, was a British journalist and activist who authored articles critical of the country’s human rights record. In 2012, he wrote an opinion piece for the Guardian criticizing the UAE government’s activist crackdown and warning that, if it continued, “those in power face an uncertain future.”&lt;/p&gt;
&lt;p&gt;Before 2012, the former operatives said, the nascent UAE intelligence-gathering operation largely relied on Emirati agents breaking into the homes of targets while they were away and physically placing spyware on computers. But as the Americans built up Raven, the remote hacking of Donaghy offered the contractors a tantalizing win they could present to the client.&lt;/p&gt;
&lt;p&gt;Because of sensitivity over human rights violations and press freedom in the West, the operation against a journalist-activist was a gamble. “The potential risk to the UAE Government and diplomatic relations with Western powers is great if the operation can be traced back to UAE,” 2012 program documents said.&lt;/p&gt;
&lt;p&gt;To get close to Donaghy, a Raven operative should attempt to “ingratiate himself to the target by espousing similar beliefs,” the cyber-mercenaries wrote. Donaghy would be “unable to resist an overture of this nature,” they believed.&lt;/p&gt;
&lt;p&gt;Posing as a single human rights activist, Raven operatives emailed Donaghy asking for his help to “bring hope to those who are long suffering,” the email message said.&lt;/p&gt;
&lt;p&gt;The operative convinced Donaghy to download software he claimed would make messages “difficult to trace.” In reality, the malware allowed the Emiratis to continuously monitor Donaghy’s email account and Internet browsing. The surveillance against Donaghy, who was given the code name Gyro, continued under Stroud and remained a top priority for the Emirates for years, Stroud said.&lt;/p&gt;
&lt;p&gt;Donaghy eventually became aware that his email had been hacked. In 2015, after receiving another suspicious email, he contacted a security researcher at Citizen Lab, a Canadian human rights and digital privacy group, who discovered hackers had been attempting for years to breach his computer.&lt;/p&gt;
&lt;p&gt;Reached by phone in London, Donaghy, now a graduate student pursuing Arab studies, expressed surprise he was considered a top national security target for five years. Donaghy confirmed he was targeted using the techniques described in the documents.&lt;/p&gt;
&lt;p&gt;“I’m glad my partner is sitting here as I talk on the phone because she wouldn’t believe it,” he said. Told the hackers were American mercenaries working for the UAE, Donaghy, a British citizen, expressed surprise and disgust. “It feels like a betrayal of the alliance we have,” he said.&lt;/p&gt;
&lt;p&gt;Stroud said her background as an intelligence operative made her comfortable with human rights targets as long as they weren’t Americans. “We’re working on behalf of this country’s government, and they have specific intelligence objectives which differ from the U.S., and understandably so,” Stroud said. “You live with it.”&lt;/p&gt;
&lt;p&gt;Prominent Emirati activist Ahmed Mansoor, given the code name Egret, was another target, former Raven operatives say. For years, Mansoor publicly criticized the country’s war in Yemen, treatment of migrant workers and detention of political opponents.&lt;/p&gt;
&lt;p&gt;In September 2013, Raven presented senior NESA officials with material taken from Mansoor’s computer, boasting of the successful collection of evidence against him. It contained screenshots of emails in which Mansoor discussed an upcoming demonstration in front of the UAE’s Federal Supreme Court with family members of imprisoned dissidents.&lt;/p&gt;
&lt;div class=&quot;Image_container&quot; tabindex=&quot;-1&quot;&gt;
&lt;div class=&quot;LazyImage_container LazyImage_dark&quot;&gt;&lt;img src=&quot;https://s3.reutersmedia.net/resources/r/?m=02&amp;amp;d=20190130&amp;amp;t=2&amp;amp;i=1351407434&amp;amp;r=LYNXNPEF0T0RN&amp;amp;w=20&quot; aria-label=&quot;Lori Stroud is pictured in her home at an unknown location in the U.S., September 27, 2018. Picture taken September 27, 2018. REUTERS/Joel Schectman&quot;/&gt;
&lt;/div&gt;

&lt;div class=&quot;Image_caption&quot;&gt;

&lt;span&gt;Lori Stroud is pictured in her home at an unknown location in the U.S., September 27, 2018. Picture taken September 27, 2018. REUTERS/Joel Schectman&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Raven told UAE security forces Mansoor had photographed a prisoner he visited in jail, against prison policy, “and then attempted to destroy the evidence on his computer,” said a Powerpoint presentation reviewed by Reuters.&lt;/p&gt;
&lt;p&gt;Citizen Lab published research in 2016 showing that Mansoor and Donaghy were targeted by hackers — with researchers speculating that the UAE government was the most likely culprit. Concrete evidence of who was responsible, details on the use of American operatives, and first-hand accounts from the hacking team are reported here for the first time.&lt;/p&gt;
&lt;p&gt;Mansoor was convicted in a secret trial in 2017 of damaging the country’s unity and sentenced to 10 years in jail. He is now held in solitary confinement, his health declining, a person familiar with the matter said.&lt;/p&gt;
&lt;p&gt;Mansoor’s wife, Nadia, has lived in social isolation in Abu Dhabi. Neighbours are avoiding her out of fear security forces are watching.&lt;/p&gt;
&lt;p&gt;They are correct. By June 2017 Raven had tapped into her mobile device and given her the code name Purple Egret, program documents reviewed by Reuters show.&lt;/p&gt;
&lt;p&gt;To do so, Raven utilized a powerful new hacking tool called Karma, which allowed operatives to break into the iPhones of users around the world.&lt;/p&gt;
&lt;p&gt;Karma allowed Raven to obtain emails, location, text messages and photographs from iPhones simply by uploading lists of numbers into a preconfigured system, five former project employees said. Reuters had no contact with Mansoor’s wife.&lt;/p&gt;
&lt;p&gt;Karma was particularly potent because it did not require a target to click on any link to download malicious software. The operatives understood the hacking tool to rely on an undisclosed vulnerability in Apple’s iMessage text messaging software.&lt;/p&gt;
&lt;p&gt;In 2016 and 2017, it would be used against hundreds of targets across the Middle East and Europe, including governments of Qatar, Yemen, Iran and Turkey, documents show. Raven used Karma to hack an iPhone used by the Emir of Qatar, Sheikh Tamim bin Hamad al-Thani, as well as the phones of close associates and his brother. The embassy of Qatar in Washington did not respond to requests for comment.&lt;/p&gt;
&lt;h3&gt;WHAT WASHINGTON KNEW&lt;/h3&gt;
&lt;p&gt;Former Raven operatives believed they were on the right side of the law because, they said, supervisors told them the mission was blessed by the U.S. government.&lt;/p&gt;
&lt;p&gt;Although the NSA wasn’t involved in day-to-day operations, the agency approved of and was regularly briefed on Raven’s activities, they said Baier told them.&lt;/p&gt;
&lt;p&gt;CyberPoint founder Gumtow said his company was not involved in hacking operations.&lt;/p&gt;
&lt;p&gt;“We were not doing offensive operations. Period,” Gumtow said in a phone interview. “If someone was doing something rogue, then that’s painful for me to think they would do that under our banner.”&lt;/p&gt;
&lt;p&gt;Instead, he said, the company trained Emiratis to defend themselves through a program with the country’s Ministry of Interior.&lt;/p&gt;
&lt;p&gt;A review of internal Raven documents shows Gumtow’s description of the program as advising the Interior Ministry on cyber defence matches an “unclassified cover story” Raven operatives were instructed to give when asked about the project. Raven employees were told to say they worked for the Information Technology and Interoperability Office, the program document said.&lt;/p&gt;
&lt;p&gt;Providing sensitive defence technologies or services to a foreign government generally requires special licenses from the U.S. State and Commerce Departments. Both agencies declined to comment on whether they issued such licenses to CyberPoint for its operations in the UAE. They added that human rights considerations figure into any such approvals.&lt;/p&gt;
&lt;p&gt;But a 2014 State Department agreement with CyberPoint showed Washington understood the contractors were helping launch cyber surveillance operations for the UAE. The approval document explains CyberPoint’s contract is to work alongside NESA in the “protection of UAE sovereignty” through “collection of information from communications systems inside and outside the UAE” and “surveillance analysis.”&lt;/p&gt;
&lt;p&gt;One section of the State Department approval states CyberPoint must receive specific approval from the NSA before giving any presentations pertaining to “computer network exploitation or attack.” Reuters identified dozens of such presentations Raven gave to NESA describing attacks against Donaghy, Mansoor and others. It’s unclear whether the NSA approved Raven’s operations against specific targets.&lt;/p&gt;
&lt;p&gt;The agreement clearly forbade CyberPoint employees from targeting American citizens or companies. As part of the agreement, CyberPoint promised that its own staff and even Emirati personnel supporting the program “will not be used to Exploit U.S. Persons, (i.e. U.S. citizens, permanent resident aliens, or U.S. companies.)” Sharing classified U.S. information, controlled military technology, or the intelligence collection methods of U.S. agencies was also prohibited.&lt;/p&gt;
&lt;p&gt;Gumtow declined to discuss the specifics of the agreement. “To the best of my ability and to the best of my knowledge, we did everything as requested when it came to U.S. rules and regulations,” he said. “And we provided a mechanism for people to come to me if they thought that something that was done was wrong.”&lt;/p&gt;
&lt;p&gt;An NSA spokesman declined to comment on Project Raven.&lt;/p&gt;
&lt;p&gt;A State Department spokesman declined to comment on the agreement but said such licenses do not authorize people to engage in human rights abuses.&lt;/p&gt;
&lt;p&gt;By late 2015, some Raven operatives said their missions became more audacious.&lt;/p&gt;
&lt;p&gt;For instance, instead of being asked to hack into individual users of an Islamist Internet forum, as before, the American contractors were called on to create computer viruses that would infect every person visiting a flagged site. Such wholesale collection efforts risked sweeping in the communications of American citizens, stepping over a line the operators knew well from their NSA days.&lt;/p&gt;
&lt;p&gt;U.S. law generally forbids the NSA, CIA and other U.S. intelligence agencies from monitoring U.S. citizens.&lt;/p&gt;
&lt;p&gt;Working together with managers, Stroud helped create a policy for what to do when Raven swept up personal data belonging to Americans. The former NSA employees were instructed to mark that material for deletion. Other Raven operatives would also be notified so the American victims could be removed from future collection.&lt;/p&gt;
&lt;p&gt;As time went on, Stroud noticed American data flagged for removal show up again and again in Raven’s NESA-controlled data stores.&lt;/p&gt;
&lt;p&gt;Still, she found the work exhilarating. “It was incredible because there weren’t these limitations like there was at the NSA. There wasn’t that bullshit red tape,” she said. “I feel like we did a lot of good work on counterterrorism.”&lt;/p&gt;
&lt;h3&gt;DARKMATTER AND DEPARTURES&lt;/h3&gt;
&lt;p&gt;When Raven was created in 2009, Abu Dhabi had little cyber expertise. The original idea was for Americans to develop and run the program for five to 10 years until Emirati intelligence officers were skilled enough to take over, documents show. By 2013, the American contingent at Raven numbered between a dozen and 20 members at any time, accounting for the majority of the staff.&lt;/p&gt;
&lt;p&gt;In late 2015, the power dynamic at the Villa shifted as the UAE grew more uncomfortable with a core national security program being controlled by foreigners, former staff said. Emirati defence officials told Gumtow they wanted Project Raven to be run through a domestic company, named DarkMatter.&lt;/p&gt;
&lt;p&gt;Raven’s American creators were given two options: Join DarkMatter or go home.&lt;/p&gt;
&lt;p&gt;At least eight operatives left Raven during this transition period. Some said they left after feeling unsettled about the vague explanations Raven managers provided when pressed on potential surveillance against other Americans.&lt;/p&gt;
&lt;p&gt;DarkMatter was founded in 2014 by Faisal Al Bannai, who also created Axiom, one of the largest sellers of mobile devices in the region. DarkMatter markets itself as an innovative developer of defensive cyber technology. A 2016 Intercept article reported the company assisted UAE’s security forces in surveillance efforts and was attempting to recruit foreign cyber experts.&lt;/p&gt;
&lt;p&gt;The Emirati company of more than 650 employees publicly acknowledges its close business relationship to the UAE government, but denies involvement in state-backed hacking efforts.&lt;/p&gt;
&lt;p&gt;Project Raven’s true purpose was kept secret from most executives at DarkMatter, former operatives said.&lt;/p&gt;
&lt;p&gt;DarkMatter did not respond to requests for comment. Al Bannai and the company’s current chief executive, Karim Sabbagh, did not respond to interview requests. A spokeswoman for the UAE Ministry of Foreign Affairs declined to comment.&lt;/p&gt;
&lt;p&gt;Under DarkMatter, Project Raven continued to operate in Abu Dhabi from the Villa, but pressure escalated for the program to become more aggressive.&lt;/p&gt;
&lt;p&gt;Before long, senior NESA officers were given more control over daily functions, former Raven operatives said, often leaving American managers out of the loop. By mid-2016, the Emirates had begun making an increasing number of sections of Raven hidden from the Americans still managing day-to-day operations. Soon, an “Emirate-eyes only” designation appeared for some hacking targets.&lt;/p&gt;
&lt;h3&gt;FBI QUESTIONS&lt;/h3&gt;
&lt;p&gt;By 2016, FBI agents began approaching DarkMatter employees reentering the United States to ask about Project Raven, three former operatives said.&lt;/p&gt;
&lt;p&gt;The FBI wanted to know: Had they been asked to spy on Americans? Did classified information on U.S. intelligence collection techniques and technologies end up in the hands of the Emiratis?&lt;/p&gt;
&lt;p&gt;Two agents approached Stroud in 2016 at Virginia’s Dulles airport as she was returning to the UAE after a trip home. Stroud, afraid she might be under surveillance by the UAE herself, said she brushed off the FBI investigators. “I’m not telling you guys jack,” she recounted.&lt;/p&gt;
&lt;p&gt;Stroud had been promoted and given even more access to internal Raven databases the previous year. A lead analyst, her job was to probe the accounts of potential Raven targets and learn what vulnerabilities could be used to penetrate their email or messaging systems.&lt;/p&gt;
&lt;p&gt;Targets were listed in various categories, by country. Yemeni targets were in the “brown category,” for example. Iran was grey.&lt;/p&gt;
&lt;p&gt;One morning in spring 2017, after she finished her own list of targets, Stroud said she began working on a backlog of other assignments intended for a NESA officer. She noticed that a passport page of an American was in the system. When Stroud emailed supervisors to complain, she was told the data had been collected by mistake and would be deleted, according to an email reviewed by Reuters.&lt;/p&gt;
&lt;p&gt;Concerned, Stroud began searching a targeting request list usually limited to Raven’s Emirati staff, which she was still able to access because of her role as lead analyst. She saw that security forces had sought surveillance against two other Americans.&lt;/p&gt;
&lt;p&gt;When she questioned the apparent targeting of Americans, she received a rebuke from an Emirati colleague for accessing the targeting list, the emails show. The target requests she viewed were to be processed by “certain people. You are not one of them,” the Emirati officer wrote.&lt;/p&gt;
&lt;p&gt;Days later, Stroud said she came upon three more American names on the hidden targeting queue.&lt;/p&gt;
&lt;p&gt;Those names were in a category she hadn’t seen before: the “white category” — for Americans. This time, she said, the occupations were listed: journalist.&lt;/p&gt;
&lt;p&gt;“I was sick to my stomach,” she said. “It kind of hit me at that macro level realizing there was a whole category for U.S. persons on this program.”&lt;/p&gt;
&lt;p&gt;Once more, she said she turned to manager Baier. He attempted to downplay the concern and asked her to drop the issue, she said. But he also indicated that any targeting of Americans was supposed to be done by Raven’s Emirate staff, said Stroud and two other people familiar with the discussion.&lt;/p&gt;
&lt;p&gt;Stroud’s account of the incidents was confirmed by four other former employees and emails reviewed by Reuters.&lt;/p&gt;
&lt;div class=&quot;Slideshow_container Slideshow_small Slideshow_standard&quot;&gt;
&lt;div class=&quot;Slideshow_preview-container&quot;&gt;
&lt;div class=&quot;LazyImage_container LazyImage_dark&quot;&gt;&lt;img src=&quot;https://s2.reutersmedia.net/resources/r/?m=02&amp;amp;d=20190130&amp;amp;t=2&amp;amp;i=1351407440&amp;amp;r=LYNXNPEF0T0RG&quot;/&gt;
&lt;/div&gt;

Slideshow &lt;span class=&quot;Slideshow_count&quot;&gt;(13 Images)&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;When Stroud kept raising questions, she said, she was put on leave by superiors, her phones and passport were taken, and she was escorted from the building. Stroud said it all happened so quickly she was unable to recall the names of the three U.S. journalists or other Americans she came across in the files. “I felt like one of those national security targets,” she said. “I’m stuck in the country, I’m being surveilled, I can’t leave.”&lt;/p&gt;
&lt;p&gt;After two months, Stroud was allowed to return to America. Soon after, she fished out the business card of the FBI agents who had confronted her at the airport.&lt;/p&gt;
&lt;p&gt;“I don’t think Americans should be doing this to other Americans,” she told Reuters. “I’m a spy, I get that. I’m an intelligence officer, but I’m not a bad one.”&lt;/p&gt;
&lt;div class=&quot;Attribution_container&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;Attribution_attribution&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;Attribution_content&quot;&gt;By Christopher Bing and Joel Schectman in Washington. Editing by Ronnie Greene, Jonathan Weber and Michael Williams&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;StandardArticleBody_trustBadgeContainer&quot;&gt;&lt;span class=&quot;StandardArticleBody_trustBadgeTitle&quot;&gt;Our Standards:&lt;/span&gt;&lt;span class=&quot;trustBadgeUrl&quot;&gt;&lt;a href=&quot;http://thomsonreuters.com/en/about-us/trust-principles.html&quot;&gt;The Thomson Reuters Trust Principles.&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
</description>
<pubDate>Thu, 31 Jan 2019 20:00:32 +0000</pubDate>
<dc:creator>betolink</dc:creator>
<og:title>Special Report - Inside the UAE’s secret hacking team of U.S....</og:title>
<og:url>https://uk.reuters.com/article/uk-usa-spying-raven-specialreport-idUKKCN1PO1A6</og:url>
<og:type>article</og:type>
<og:description>Two weeks after leaving her position as an intelligence analyst for the U.S. Nat...</og:description>
<og:image>https://s3.reutersmedia.net/resources/r/?m=02&amp;d=20190130&amp;t=2&amp;i=1351407434&amp;w=1200&amp;r=LYNXNPEF0T0RN</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://uk.reuters.com/article/uk-usa-spying-raven-specialreport-idUKKCN1PO1A6</dc:identifier>
</item>
<item>
<title>Write tests. Not too many. Mostly integration (2017)</title>
<link>https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c</link>
<guid isPermaLink="true" >https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c</guid>
<description>&lt;div class=&quot;uiScale uiScale-ui--regular uiScale-caption--regular u-flexCenter u-marginVertical24 u-fontSize15 js-postMetaLockup&quot;&gt;
&lt;div class=&quot;u-flex0&quot;&gt;&lt;a class=&quot;link u-baseColor--link avatar&quot; href=&quot;https://blog.kentcdodds.com/@kentcdodds?source=post_header_lockup&quot; data-action=&quot;show-user-card&quot; data-action-source=&quot;post_header_lockup&quot; data-action-value=&quot;db72389e89d8&quot; data-action-type=&quot;hover&quot; data-user-id=&quot;db72389e89d8&quot; data-collection-slug=&quot;kentcdodds&quot; dir=&quot;auto&quot;&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/fit/c/100/100/1*9ZtET_L1852yXaDZJUo9CQ.png&quot; class=&quot;avatar-image u-size50x50&quot; alt=&quot;Go to the profile of Kent C. Dodds&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;u-flex1 u-paddingLeft15 u-overflowHidden&quot;&gt;

&lt;p&gt;&lt;time datetime=&quot;2017-10-16T13:21:08.629Z&quot;&gt;Oct 16, 2017&lt;/time&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p name=&quot;0917&quot; id=&quot;0917&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;&lt;a href=&quot;https://medium.com/@rauchg&quot; data-href=&quot;https://medium.com/@rauchg&quot; data-anchor-type=&quot;2&quot; data-user-id=&quot;86da80adff6a&quot; data-action-value=&quot;86da80adff6a&quot; data-action=&quot;show-user-card&quot; data-action-type=&quot;hover&quot; class=&quot;markup--user markup--p-user&quot; target=&quot;_blank&quot;&gt;&lt;em class=&quot;markup--em markup--p-em&quot;&gt;Guillermo Rauch&lt;/em&gt;&lt;/a&gt; &lt;em class=&quot;markup--em markup--p-em&quot;&gt;tweeted this a while back. Let’s take a quick dive into what it means.&lt;/em&gt;&lt;/p&gt;
&lt;p name=&quot;8acc&quot; id=&quot;8acc&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;NOTE: This is a cross-post from&lt;/strong&gt; &lt;a href=&quot;http://kcd.im/news&quot; data-href=&quot;http://kcd.im/news&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;my newsletter&lt;/strong&gt;&lt;/a&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;. I publish each email two weeks after it’s sent. Subscribe to get more content like this earlier right in your inbox! 💌&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;2d0f&quot; id=&quot;2d0f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Current Available Translations:&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*MG93I8aJdBXb_tNdsFkSZQ.jpeg&quot; data-width=&quot;1200&quot; data-height=&quot;676&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*MG93I8aJdBXb_tNdsFkSZQ.jpeg&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/1*MG93I8aJdBXb_tNdsFkSZQ.jpeg&quot;/&gt;&lt;/div&gt;
&lt;a href=&quot;https://testingjavascript.com&quot; data-href=&quot;https://testingjavascript.com&quot; class=&quot;markup--anchor markup--figure-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;TestingJavaScript.com&lt;/a&gt; Learn the smart, efficient way to test any JavaScript application.
&lt;p name=&quot;228e&quot; id=&quot;228e&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;I’ve given this blog post as a talk which you can watch here:&lt;/p&gt;

&lt;p name=&quot;eacc&quot; id=&quot;eacc&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;A while back, &lt;a href=&quot;https://twitter.com/rauchg&quot; data-href=&quot;https://twitter.com/rauchg&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Guillermo Rauch‏&lt;/a&gt; (creator of &lt;a href=&quot;https://socket.io/&quot; data-href=&quot;https://socket.io/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Socket.io&lt;/a&gt; and founder of &lt;a href=&quot;https://zeit.co/&quot; data-href=&quot;https://zeit.co/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Zeit.co&lt;/a&gt; (the company behind a ton of the awesome stuff coming out lately)) &lt;a href=&quot;https://twitter.com/rauchg/status/807626710350839808&quot; data-href=&quot;https://twitter.com/rauchg/status/807626710350839808&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;tweeted something profound&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;0*fZAyZgAl86wlop81.png&quot; data-width=&quot;1268&quot; data-height=&quot;532&quot; data-action=&quot;zoom&quot; data-action-value=&quot;0*fZAyZgAl86wlop81.png&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/0*fZAyZgAl86wlop81.png&quot;/&gt;&lt;/div&gt;
Screenshot of the tweet
&lt;blockquote name=&quot;97f8&quot; id=&quot;97f8&quot; class=&quot;graf graf--blockquote graf-after--figure&quot; readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;strong class=&quot;markup--strong markup--blockquote-strong&quot;&gt;&lt;em class=&quot;markup--em markup--blockquote-em&quot;&gt;Write tests. Not too many. Mostly integration.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p name=&quot;07ad&quot; id=&quot;07ad&quot; class=&quot;graf graf--p graf-after--blockquote&quot;&gt;This is deep, albeit short, so let’s dive in:&lt;/p&gt;
&lt;blockquote name=&quot;06e5&quot; id=&quot;06e5&quot; class=&quot;graf graf--blockquote graf-after--p&quot;&gt;
&lt;p&gt;&lt;strong class=&quot;markup--strong markup--blockquote-strong&quot;&gt;&lt;em class=&quot;markup--em markup--blockquote-em&quot;&gt;Write tests.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p name=&quot;7468&quot; id=&quot;7468&quot; class=&quot;graf graf--p graf-after--blockquote&quot;&gt;Yes, for most projects you should write automated tests. You should if you value your time anyway. Much better to catch a bug locally from the tests than getting a call at 2:00 in the morning and fix it then. &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Often I find myself saving time when I put time in to write tests.&lt;/strong&gt; It may or may not take longer to implement what I’m building, but I (and others) will almost definitely save time maintaining it.&lt;/p&gt;
&lt;p name=&quot;224b&quot; id=&quot;224b&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;The thing you should be thinking about when writing tests is how much confidence they bring you that your project is free of bugs. Static typing and linting tools like &lt;a href=&quot;https://flow.org/&quot; data-href=&quot;https://flow.org/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Flow&lt;/a&gt; and &lt;a href=&quot;https://eslint.org/&quot; data-href=&quot;https://eslint.org/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;ESLint&lt;/a&gt; can get you a remarkable amount of confidence, and if you’re not using these tools I highly suggest you give them a look. That said, &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;even a strongly typed language should have tests.&lt;/strong&gt; Typing and linting can’t ensure your business logic is free of bugs. So you can still seriously increase your confidence with a good test suite.&lt;/p&gt;
&lt;blockquote name=&quot;a566&quot; id=&quot;a566&quot; class=&quot;graf graf--blockquote graf-after--p&quot;&gt;
&lt;p&gt;&lt;strong class=&quot;markup--strong markup--blockquote-strong&quot;&gt;&lt;em class=&quot;markup--em markup--blockquote-em&quot;&gt;Not too many.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p name=&quot;c20a&quot; id=&quot;c20a&quot; class=&quot;graf graf--p graf-after--blockquote&quot;&gt;I’ve heard managers and teams mandating 100% code coverage for applications. That’s a really bad idea. The problem is that &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;you get diminishing returns on your tests as the coverage increases much beyond 70%&lt;/strong&gt; (I made that number up… no science there). Why is that? Well, when you strive for 100% all the time, you find yourself spending time testing things that really don’t need to be tested. Things that really have no logic in them at all (so any bugs could be caught by ESLint and Flow). &lt;em class=&quot;markup--em markup--p-em&quot;&gt;Maintaining tests like this actually really slow you and your team down.&lt;/em&gt;&lt;/p&gt;
&lt;p name=&quot;65d6&quot; id=&quot;65d6&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You may also find yourself testing implementation details just so you can make sure you get that one line of code that’s hard to reproduce in a test environment. You &lt;em class=&quot;markup--em markup--p-em&quot;&gt;really&lt;/em&gt; want to avoid testing implementation details because it doesn’t give you very much confidence that your application is working and it slows you down when refactoring. &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;You should very rarely have to change tests when you refactor code.&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;aaa5&quot; id=&quot;aaa5&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;I should mention that almost all of my open source projects have 100% code coverage. This is because most of my open source projects are smaller libraries and tools that are reusable in many different situations (a breakage could lead to a serious problem in a lot of consuming projects) and they’re relatively easy to get 100% code coverage on anyway.&lt;/p&gt;
&lt;blockquote name=&quot;b7ba&quot; id=&quot;b7ba&quot; class=&quot;graf graf--blockquote graf-after--p&quot;&gt;
&lt;p&gt;&lt;strong class=&quot;markup--strong markup--blockquote-strong&quot;&gt;&lt;em class=&quot;markup--em markup--blockquote-em&quot;&gt;Mostly integration.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p name=&quot;7d9f&quot; id=&quot;7d9f&quot; class=&quot;graf graf--p graf-after--blockquote&quot;&gt;There are all sorts of different types of testing (check out my 5 minute talk about it at Fluent Conf: &lt;a href=&quot;https://www.youtube.com/watch?v=Da9wfQ0frGA&amp;amp;feature=youtu.be&amp;amp;list=PLV5CVI1eNcJgNqzNwcs4UKrlJdhfDjshf&quot; data-href=&quot;https://www.youtube.com/watch?v=Da9wfQ0frGA&amp;amp;feature=youtu.be&amp;amp;list=PLV5CVI1eNcJgNqzNwcs4UKrlJdhfDjshf&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;“What we can learn about testing from the wheel”&lt;/a&gt;). They each have trade-offs. The three most common forms of testing we’re talking about when we talk of automated testing are: Unit, Integration, and End to End.&lt;/p&gt;
&lt;p name=&quot;11af&quot; id=&quot;11af&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Here’s &lt;a href=&quot;http://slides.com/kentcdodds/testing-workshop#/4/8&quot; data-href=&quot;http://slides.com/kentcdodds/testing-workshop#/4/8&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;a slide&lt;/a&gt; from my Frontend Masters workshop: &lt;a href=&quot;https://frontendmasters.com/courses/testing-javascript/&quot; data-href=&quot;https://frontendmasters.com/courses/testing-javascript/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;“Testing JavaScript Applications”&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;0*8Uapgla-XhuHS6ph.png&quot; data-width=&quot;2000&quot; data-height=&quot;1250&quot; data-action=&quot;zoom&quot; data-action-value=&quot;0*8Uapgla-XhuHS6ph.png&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/0*8Uapgla-XhuHS6ph.png&quot;/&gt;&lt;/div&gt;
testing pyramid
&lt;p name=&quot;e08e&quot; id=&quot;e08e&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;This testing pyramid is a combination of one I got from &lt;a href=&quot;https://martinfowler.com/bliki/TestPyramid.html&quot; data-href=&quot;https://martinfowler.com/bliki/TestPyramid.html&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Martin Fowler’s blog&lt;/a&gt; and one I got from &lt;a href=&quot;https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html&quot; data-href=&quot;https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;the Google Testing blog&lt;/a&gt;.&lt;/p&gt;
&lt;p name=&quot;0c3a&quot; id=&quot;0c3a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;As indicated here, the pyramid shows from bottom to top: Unit, Integration, E2E. As you move up the pyramid the tests get slower to write/run and more expensive (in terms of time and resources) to run/maintain. It’s meant to indicate that you should spend more of your time on unit tests due to these factors.&lt;/p&gt;
&lt;p name=&quot;7065&quot; id=&quot;7065&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;One thing that it doesn’t show though is that &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;as you move up the pyramid, the confidence quotient of each form of testing increases.&lt;/strong&gt; You get more bang for your buck. So while E2E tests may be slower and more expensive than unit tests, they bring you much more confidence that your application is working as intended.&lt;/p&gt;
&lt;p name=&quot;0610&quot; id=&quot;0610&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This is why I created “The Testing Trophy” 🏆&lt;/p&gt;

&lt;p name=&quot;5667&quot; id=&quot;5667&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;&lt;a href=&quot;https://twitter.com/kentcdodds/status/628658648001048577&quot; data-href=&quot;https://twitter.com/kentcdodds/status/628658648001048577&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;My all-time most retweeted tweet&lt;/a&gt; has to do with the main issue with unit tests:&lt;/p&gt;
&lt;blockquote name=&quot;db65&quot; id=&quot;db65&quot; class=&quot;graf graf--blockquote graf-after--p&quot; readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;em class=&quot;markup--em markup--blockquote-em&quot;&gt;Still love this one. Unit testers be like: “Looks like it’s working”&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;0*eCs8GoVZVksoQtQx.gif&quot; data-width=&quot;480&quot; data-height=&quot;360&quot; src=&quot;https://cdn-images-1.medium.com/max/1600/0*eCs8GoVZVksoQtQx.gif&quot;/&gt;&lt;/div&gt;
Man in three pieces. Legs running in place. Torso doing push-ups. Head reading.
&lt;p name=&quot;e4e9&quot; id=&quot;e4e9&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;We’ve written unit tests that verify the man can run in place, do pushups, and read, but the man isn’t integrating with his various body parts very effectively. It doesn’t matter if your button component calls the &lt;code class=&quot;markup--code markup--p-code&quot;&gt;onClick&lt;/code&gt; handler if that handler doesn't make the right request with the right data! So while having some unit tests to verify these pieces work in isolation isn’t a bad thing, &lt;em class=&quot;markup--em markup--p-em&quot;&gt;it doesn’t do you any good if you don’t&lt;/em&gt; &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;&lt;em class=&quot;markup--em markup--p-em&quot;&gt;also&lt;/em&gt;&lt;/strong&gt; &lt;em class=&quot;markup--em markup--p-em&quot;&gt;verify that they work together.&lt;/em&gt;&lt;/p&gt;
&lt;p name=&quot;c4f3&quot; id=&quot;c4f3&quot; class=&quot;graf graf--p graf-after--p graf--trailing&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Integration tests strike a great balance on the trade-offs between confidence and speed/expense.&lt;/strong&gt; This is why it’s advisable to spend &lt;em class=&quot;markup--em markup--p-em&quot;&gt;most&lt;/em&gt; (not all, mind you) of your effort there.&lt;/p&gt;
</description>
<pubDate>Thu, 31 Jan 2019 19:51:57 +0000</pubDate>
<dc:creator>AlexanderDhoore</dc:creator>
<og:title>Write tests. Not too many. Mostly integration. – kentcdodds</og:title>
<og:url>https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c</og:url>
<og:image>https://cdn-images-1.medium.com/max/1200/1*47UeBCfEPUIxtCgXtAKExw.jpeg</og:image>
<og:description>Guillermo Rauch tweeted this a while back. Let’s take a quick dive into what it means.</og:description>
<og:type>article</og:type>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c?gi=554f2e9d53e3</dc:identifier>
</item>
<item>
<title>Ask HN: Top three questions for a startup before accepting a job offer?</title>
<link>https://news.ycombinator.com/item?id=19048108</link>
<guid isPermaLink="true" >https://news.ycombinator.com/item?id=19048108</guid>
<description>&lt;tr class=&quot;athing comtr&quot; id=&quot;19048390&quot; readability=&quot;19.708846584546&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;9.8544232922732&quot;&gt;&lt;tr readability=&quot;19.708846584546&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;25.62150055991&quot;&gt;

&lt;br/&gt;&lt;div class=&quot;comment&quot; readability=&quot;25.926262053318&quot;&gt;&lt;span class=&quot;commtext c00&quot;&gt;I can't boil it down to 3 because there are many things you need to understand, some details can be gleaned via observation too.&lt;/span&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;So some of the top questions you should ask IMO are below:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- Runway left&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- When was the last raise, what was the amount and time to raise it? What is the makeup of the investors (Angel vs. VC etc)?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- What is the next milestone on the fundraising side?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- What is the biggest competitive advantage/product feature the company has?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- What are the biggest issues facing product/development?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- How do you see my role helping the company?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- How can I best help the company if I come aboard?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- What is the biggest opportunity you feel the company has?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- What is the biggest risk the company faces?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- Who do I report to? -- this trips some startups up, but can highlight potential issues.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- How many employees are there today? How many do you plan to hire in the next 3, 6, 12 months? How many employees have left since founding?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- Equity and the vesting schedule details. Share class information as well. Current dilution, outstanding shares issued and reserved is nice to know too as well.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;For what it is worth and this applies to any size company not just startups, you should also ask about what agreements they want you to sign and get them as early into the process as possible without being unreasonable. e.g. outside work policy, NDA, non-compete, non-solicitation, compensation, equity etc. Some of these they may not give you until you agree at least conditionally verbally, but there should be no reason you can't see them once you do. Companies that hide these until your first day make me nervous, at the same time that doesn't mean they are bad, just maybe been given bad advice or have a lack of understanding themselves.&lt;/span&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049257&quot; readability=&quot;5.6315789473684&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8157894736842&quot;&gt;&lt;tr readability=&quot;5.6315789473684&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.0394736842105&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050296&quot; readability=&quot;5.5932203389831&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7966101694915&quot;&gt;&lt;tr readability=&quot;5.5932203389831&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.0593220338983&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050628&quot; readability=&quot;6.515625&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2578125&quot;&gt;&lt;tr readability=&quot;6.515625&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.0502232142857&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19052122&quot; readability=&quot;6.6596194503171&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.3298097251586&quot;&gt;&lt;tr readability=&quot;6.6596194503171&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.6109936575053&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048850&quot; readability=&quot;8.719512195122&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.359756097561&quot;&gt;&lt;tr readability=&quot;8.719512195122&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.719512195122&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050614&quot; readability=&quot;9.5571428571429&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.7785714285714&quot;&gt;&lt;tr readability=&quot;9.5571428571429&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.7342857142857&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049976&quot; readability=&quot;5.4230769230769&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7115384615385&quot;&gt;&lt;tr readability=&quot;5.4230769230769&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049043&quot; readability=&quot;2.5875&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.29375&quot;&gt;&lt;tr readability=&quot;2.5875&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049338&quot; readability=&quot;3.4901960784314&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7450980392157&quot;&gt;&lt;tr readability=&quot;3.4901960784314&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049943&quot; readability=&quot;3.2615384615385&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6307692307692&quot;&gt;&lt;tr readability=&quot;3.2615384615385&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051888&quot; readability=&quot;1.2881355932203&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048448&quot; readability=&quot;1.6666666666667&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048792&quot; readability=&quot;1.3814432989691&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050082&quot; readability=&quot;11.767284991568&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.8836424957841&quot;&gt;&lt;tr readability=&quot;11.767284991568&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;13.238195615514&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048922&quot; readability=&quot;6.411003236246&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.205501618123&quot;&gt;&lt;tr readability=&quot;6.411003236246&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.57928802589&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048901&quot; readability=&quot;2.5272727272727&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2636363636364&quot;&gt;&lt;tr readability=&quot;2.5272727272727&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048458&quot; readability=&quot;8.4309623430962&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.2154811715481&quot;&gt;&lt;tr readability=&quot;8.4309623430962&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.852510460251&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048249&quot; readability=&quot;17.689655172414&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;8.8448275862069&quot;&gt;&lt;tr readability=&quot;17.689655172414&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;15.724137931034&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048362&quot; readability=&quot;6.3552631578947&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.1776315789474&quot;&gt;&lt;tr readability=&quot;6.3552631578947&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19052394&quot; readability=&quot;13.439102564103&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;6.7195512820513&quot;&gt;&lt;tr readability=&quot;13.439102564103&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.1995192307692&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048171&quot; readability=&quot;4.4703389830508&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2351694915254&quot;&gt;&lt;tr readability=&quot;4.4703389830508&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051102&quot; readability=&quot;8.4655172413793&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.2327586206897&quot;&gt;&lt;tr readability=&quot;8.4655172413793&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051318&quot; readability=&quot;5.7586837294333&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8793418647166&quot;&gt;&lt;tr readability=&quot;5.7586837294333&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.1983546617916&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051556&quot; readability=&quot;4.1935483870968&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.0967741935484&quot;&gt;&lt;tr readability=&quot;4.1935483870968&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048229&quot; readability=&quot;1.8648648648649&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048481&quot; readability=&quot;5.7838765008576&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8919382504288&quot;&gt;&lt;tr readability=&quot;5.7838765008576&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.1938250428816&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048798&quot; readability=&quot;3.4088669950739&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7044334975369&quot;&gt;&lt;tr readability=&quot;3.4088669950739&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.2610837438424&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048905&quot; readability=&quot;2.5153846153846&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2576923076923&quot;&gt;&lt;tr readability=&quot;2.5153846153846&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049213&quot; readability=&quot;6.4948453608247&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2474226804124&quot;&gt;&lt;tr readability=&quot;6.4948453608247&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.639175257732&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048511&quot; readability=&quot;0.98181818181818&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048531&quot; readability=&quot;1.3521126760563&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048936&quot; readability=&quot;0.92682926829268&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048368&quot; readability=&quot;7.5590551181102&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7795275590551&quot;&gt;&lt;tr readability=&quot;7.5590551181102&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.6692913385827&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048812&quot; readability=&quot;7.71875&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.859375&quot;&gt;&lt;tr readability=&quot;7.71875&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.7890625&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051252&quot; readability=&quot;5.6068376068376&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8034188034188&quot;&gt;&lt;tr readability=&quot;5.6068376068376&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.2051282051282&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051974&quot; readability=&quot;5.7947882736156&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8973941368078&quot;&gt;&lt;tr readability=&quot;5.7947882736156&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.7947882736156&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051296&quot; readability=&quot;10.679012345679&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.3395061728395&quot;&gt;&lt;tr readability=&quot;10.679012345679&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;10.679012345679&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048720&quot; readability=&quot;10.671472708548&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.3357363542739&quot;&gt;&lt;tr readability=&quot;10.671472708548&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;14.552008238929&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051236&quot; readability=&quot;9.7471264367816&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.8735632183908&quot;&gt;&lt;tr readability=&quot;9.7471264367816&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;10.72183908046&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051397&quot; readability=&quot;8.7880571909167&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.3940285954584&quot;&gt;&lt;tr readability=&quot;8.7880571909167&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.7880571909167&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051025&quot; readability=&quot;2.4565217391304&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2282608695652&quot;&gt;&lt;tr readability=&quot;2.4565217391304&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19052168&quot; readability=&quot;4.5067264573991&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2533632286996&quot;&gt;&lt;tr readability=&quot;4.5067264573991&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048534&quot; readability=&quot;1.4307692307692&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050858&quot; readability=&quot;8.256880733945&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.1284403669725&quot;&gt;&lt;tr readability=&quot;8.256880733945&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.4220183486239&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050933&quot; readability=&quot;2.504347826087&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2521739130435&quot;&gt;&lt;tr readability=&quot;2.504347826087&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.3391304347826&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050906&quot; readability=&quot;2.1785714285714&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050109&quot; readability=&quot;2.5210084033613&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2605042016807&quot;&gt;&lt;tr readability=&quot;2.5210084033613&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.3613445378151&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049085&quot; readability=&quot;8.6609105180534&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.3304552590267&quot;&gt;&lt;tr readability=&quot;8.6609105180534&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.547880690738&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049859&quot; readability=&quot;16.550660792952&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;8.2753303964758&quot;&gt;&lt;tr readability=&quot;16.550660792952&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;16.550660792952&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050699&quot; readability=&quot;4.4327731092437&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2163865546218&quot;&gt;&lt;tr readability=&quot;4.4327731092437&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049568&quot; readability=&quot;1.7735849056604&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051589&quot; readability=&quot;4.6031746031746&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3015873015873&quot;&gt;&lt;tr readability=&quot;4.6031746031746&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.5238095238095&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051627&quot; readability=&quot;6.545&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2725&quot;&gt;&lt;tr readability=&quot;6.545&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048699&quot; readability=&quot;5.6372795969773&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8186397984887&quot;&gt;&lt;tr readability=&quot;5.6372795969773&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.6977329974811&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051139&quot; readability=&quot;2.3714285714286&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050815&quot; readability=&quot;6.5531914893617&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2765957446809&quot;&gt;&lt;tr readability=&quot;6.5531914893617&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048431&quot; readability=&quot;1.3584905660377&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048383&quot; readability=&quot;3.6392156862745&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.8196078431373&quot;&gt;&lt;tr readability=&quot;3.6392156862745&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.0039215686275&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048791&quot; readability=&quot;3.5752212389381&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.787610619469&quot;&gt;&lt;tr readability=&quot;3.5752212389381&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048175&quot; readability=&quot;3.3617021276596&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6808510638298&quot;&gt;&lt;tr readability=&quot;3.3617021276596&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.6223404255319&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048225&quot; readability=&quot;1.2820512820513&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048621&quot; readability=&quot;6.3194444444444&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.1597222222222&quot;&gt;&lt;tr readability=&quot;6.3194444444444&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048317&quot; readability=&quot;4.0740740740741&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.037037037037&quot;&gt;&lt;tr readability=&quot;4.0740740740741&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048156&quot; readability=&quot;2.3801652892562&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048213&quot; readability=&quot;5.2631578947368&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.6315789473684&quot;&gt;&lt;tr readability=&quot;5.2631578947368&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048273&quot; readability=&quot;10.35429769392&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.1771488469602&quot;&gt;&lt;tr readability=&quot;10.35429769392&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.1184486373166&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048370&quot; readability=&quot;0.85714285714286&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048300&quot; readability=&quot;7.4457831325301&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7228915662651&quot;&gt;&lt;tr readability=&quot;7.4457831325301&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.5150602409639&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048377&quot; readability=&quot;1.962962962963&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048538&quot; readability=&quot;5.6653846153846&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8326923076923&quot;&gt;&lt;tr readability=&quot;5.6653846153846&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.4980769230769&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050021&quot; readability=&quot;5.4272727272727&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7136363636364&quot;&gt;&lt;tr readability=&quot;5.4272727272727&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050788&quot; readability=&quot;9.1436464088398&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.5718232044199&quot;&gt;&lt;tr readability=&quot;9.1436464088398&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.0290055248619&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049832&quot; readability=&quot;5.7369519832985&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8684759916493&quot;&gt;&lt;tr readability=&quot;5.7369519832985&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.258872651357&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050714&quot; readability=&quot;3.5&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.75&quot;&gt;&lt;tr readability=&quot;3.5&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.375&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050926&quot; readability=&quot;5.7640449438202&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8820224719101&quot;&gt;&lt;tr readability=&quot;5.7640449438202&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.7247191011236&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050966&quot; readability=&quot;6.4317343173432&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2158671586716&quot;&gt;&lt;tr readability=&quot;6.4317343173432&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.5940959409594&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19052261&quot; readability=&quot;3.5102040816327&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7551020408163&quot;&gt;&lt;tr readability=&quot;3.5102040816327&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048426&quot; readability=&quot;3.551867219917&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7759336099585&quot;&gt;&lt;tr readability=&quot;3.551867219917&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049594&quot; readability=&quot;7.3103448275862&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.6551724137931&quot;&gt;&lt;tr readability=&quot;7.3103448275862&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049628&quot; readability=&quot;3.6062992125984&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.8031496062992&quot;&gt;&lt;tr readability=&quot;3.6062992125984&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.6062992125984&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19049835&quot; readability=&quot;4.5643939393939&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.282196969697&quot;&gt;&lt;tr readability=&quot;4.5643939393939&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.0208333333333&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050533&quot; readability=&quot;2.6756756756757&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.3378378378378&quot;&gt;&lt;tr readability=&quot;2.6756756756757&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.4594594594595&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048660&quot; readability=&quot;5.4566929133858&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7283464566929&quot;&gt;&lt;tr readability=&quot;5.4566929133858&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050045&quot; readability=&quot;2.4834437086093&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2417218543046&quot;&gt;&lt;tr readability=&quot;2.4834437086093&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048917&quot; readability=&quot;3.4347826086957&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7173913043478&quot;&gt;&lt;tr readability=&quot;3.4347826086957&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048801&quot; readability=&quot;2.5&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.25&quot;&gt;&lt;tr readability=&quot;2.5&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050769&quot; readability=&quot;5.5463917525773&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7731958762887&quot;&gt;&lt;tr readability=&quot;5.5463917525773&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.4707903780069&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051118&quot; readability=&quot;3.2542372881356&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6271186440678&quot;&gt;&lt;tr readability=&quot;3.2542372881356&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19051279&quot; readability=&quot;1.1698113207547&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050196&quot; readability=&quot;2.45&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.225&quot;&gt;&lt;tr readability=&quot;2.45&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.2666666666667&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048519&quot; readability=&quot;1.2345679012346&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048661&quot; readability=&quot;1.3636363636364&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048154&quot; readability=&quot;3.4583333333333&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7291666666667&quot;&gt;&lt;tr readability=&quot;3.4583333333333&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.7552083333333&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048162&quot; readability=&quot;1.0508474576271&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048233&quot; readability=&quot;2.2909090909091&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048267&quot; readability=&quot;3.7387387387387&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19048276&quot; readability=&quot;6.2290748898678&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.1145374449339&quot;&gt;&lt;tr readability=&quot;6.2290748898678&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.4493392070485&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;19050790&quot; readability=&quot;7.6826446280992&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.8413223140496&quot;&gt;&lt;tr readability=&quot;7.6826446280992&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;9.1231404958678&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;</description>
<pubDate>Thu, 31 Jan 2019 19:49:41 +0000</pubDate>
<dc:creator>wrestlerman</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://news.ycombinator.com/item?id=19048108</dc:identifier>
</item>
<item>
<title>Product-building articles by PMs at major tech companies</title>
<link>https://find.xyz/map/product-management-search-engine</link>
<guid isPermaLink="true" >https://find.xyz/map/product-management-search-engine</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://find.xyz/map/product-management-search-engine&quot;&gt;https://find.xyz/map/product-management-search-engine&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=19047384&quot;&gt;https://news.ycombinator.com/item?id=19047384&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 329&lt;/p&gt;
&lt;p&gt;# Comments: 84&lt;/p&gt;
</description>
<pubDate>Thu, 31 Jan 2019 18:36:18 +0000</pubDate>
<dc:creator>itsrishabh</dc:creator>
<og:title>Product Management Search Engine</og:title>
<og:image>https://cdn-images-1.medium.com/max/1200/1*N9ZPth2o0B2HYsT-o7O0kQ.png</og:image>
<og:url>https://find.xyz/map/product-management-search-engine</og:url>
<og:type>website</og:type>
<og:description>1000+ articles recommended/written by PMs at Google, FB + almost every other major tech co/startup. No videos/books/product placement, just articles. To suggest new articles, comment on this map. Also accessible at bit.ly/pmengine.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://find.xyz/map/product-management-search-engine</dc:identifier>
</item>
<item>
<title>Google Cloud Firestore NoSQL database is in GA</title>
<link>https://cloud.google.com/blog/products/databases/announcing-cloud-firestore-general-availability-and-updates/</link>
<guid isPermaLink="true" >https://cloud.google.com/blog/products/databases/announcing-cloud-firestore-general-availability-and-updates/</guid>
<description>&lt;ul readability=&quot;1.5&quot;&gt;&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Stackdriver integration (in beta).&lt;/strong&gt; You can now monitor Cloud Firestore read, write and delete operations in near-real time with Stackdriver.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;strong&gt;More features coming soon.&lt;/strong&gt; We're working on adding some of the most requested features to Cloud Firestore from our developer community, such as querying for documents across collections and incrementing database values without needing a transaction.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;As the next generation of Cloud Datastore, Cloud Firestore is compatible with all Cloud Datastore APIs and client libraries. Existing Cloud Datastore users will be live-upgraded to Cloud Firestore automatically later in 2019. You can &lt;a href=&quot;https://cloud.google.com/datastore/docs/upgrade-to-firestore&quot;&gt;learn more about this upgrade here.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Adding flexibility and scalability across industries&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cloud Firestore is already changing the way companies build apps in media, IoT, mobility, digital agencies, real estate, and many others. The unifying themes among these workloads include: the need for mobility even when connectivity lapses, scalability for many users, and the ability to move quickly from prototype to production. Here are a few of the stories we’ve heard from Cloud Firestore users.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;When opportunity strikes...&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In the highly competitive world of shared, on-demand personal mobility via cars, bikes, and scooters, the ability to deliver a differentiated user experience, iterate rapidly, and scale are critical. The prize is huge. Skip provides a scooter-sharing system where shipping fast can have a big impact. Mike Wadhera, CTO and Co-founder, says, &quot;Cloud Firestore has enabled our engineering and product teams to ship at the clock-speed of a startup while leveraging Google-scale infrastructure. We're delighted to see continued investment in Firebase and the broader GCP platform.”&lt;/p&gt;
&lt;p&gt;Another Cloud Firestore user, digital consultancy The Nerdery, has to deliver high-quality results in a short period of time, often needing to integrate with existing third-party data sources. They can’t build up and tear down complicated, expensive infrastructure for every client app they create. “Cloud Firestore was a great fit for the web and mobile applications we built because it required a solution to keep 40,000-plus users apprised of real-time data updates,” says Jansen Price, Principal Software Architect. “The reliability and speed of Cloud Firestore coupled with its real-time capabilities allowed us to deliver a great product for the Google Cloud Next conferences.”&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reliable information delivery&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Incident response company Now IMS uses real-time data to keep citizens safe in crowded places, where cell service can get spotty when demand is high. “As an incident management company, real-time and offline capabilities are paramount to our customers,” says John Rodkey, Co-founder. “Cloud Firestore, along with the Firebase Javascript SDK, provides us with these capabilities out of the box. This new 100% serverless architecture on Google Cloud enables us to focus on rapid application development to meet our customers' needs instead of worrying about infrastructure or server management like with our previous cloud.&quot;&lt;/p&gt;
&lt;p&gt;Regardless of the app, users want the latest information right away, without having to click refresh. The QuintoAndar mobile application connects tenants and landlords in Brazil for easier apartment rentals. “Being able to deliver constantly changing information to our customers allows us to provide a truly engaging experience. Cloud Firestore enables us to do this without additional infrastructure and allows us to focus on the core challenges of our business,” says Guilherme Salerno, Engineering Manager at QuintoAndar.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Real-time, responsive apps, happy users&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Famed broadsheet and media company &lt;em&gt;The Telegraph&lt;/em&gt; uses Cloud Firestore so registered users can easily discover and engage with relevant content. The Telegraph wanted to make the user experience better without having to become infrastructure experts in serving and managing data to millions of concurrent connections. “Cloud Firestore allowed us to build a real-time personalized news feed, keeping readers informed with synchronized content state across all of their devices,” says Alex Mansfield-Scaddan, Solution Architect. “It allowed &lt;em&gt;The Telegraph&lt;/em&gt; engineering teams to focus on improving engagement with our customers, rather than becoming real-time database and infrastructure experts.&quot;&lt;/p&gt;
&lt;p&gt;On the other side of the Atlantic, &lt;em&gt;The New York Times&lt;/em&gt; used Cloud Firestore to build a feature in &lt;em&gt;The Times’&lt;/em&gt; mobile app to send push notifications updated in real time for the 2018 Winter Olympics. In previous approaches to this feature, scaling had been a challenge. The team needed to track each reader’s history of interactions in order to provide tailored content for particular events or sports. Cloud Firestore allowed them to query data dynamically, then send the real-time updates to readers. The team was able to send more targeted content faster.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Delivering powerful edge storage for IoT devices&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Athlete testing technology company Hawkin Dynamics was an early, pre-beta adopter of Cloud Firestore. Their pressure pads are used by many professional sports teams to measure and track athlete performance. In the fast-paced, high-stakes world of professional sports, athletes can’t wait around for devices to connect or results to calculate. They demand instant answers even if the WiFi is temporarily down. Hawkin Dynamics uses Cloud Firestore to bring real-time data to athletes through their app dashboard, shown below.&lt;/p&gt;
&lt;p&gt;“Our core mission at Hawkin Dynamics is to help coaches make informed decisions regarding their athletes through the use of actionable data. With real-time updates, our users can get the data they need to adjust an athlete’s training on a moment-by-moment basis,” says Chris Wales, CTO. “By utilizing the powerful querying ability of Cloud Firestore, we can provide them the insights they need to evaluate the overall efficacy of their programs. The close integrations with Cloud Functions and the other Firebase products have allowed us to constantly improve on our product and stay responsive to our customers’ needs. In an industry that is rapidly changing, the flexibility afforded to us by Cloud Firestore in extending our applications has allowed us to stay ahead of the game.”&lt;/p&gt;
</description>
<pubDate>Thu, 31 Jan 2019 17:16:30 +0000</pubDate>
<dc:creator>markoa</dc:creator>
<og:type>website</og:type>
<og:title>NoSQL for the serverless age: Announcing Cloud Firestore general availability and updates | Google Cloud Blog</og:title>
<og:description>The Cloud Firestore database is a NoSQL, serverless solution for mobile and web application development -- now generally available globally.</og:description>
<og:image>https://storage.googleapis.com/gweb-cloudblog-publish/original_images/cloud_firestore_1.png</og:image>
<og:url>https://cloud.google.com/blog/products/databases/announcing-cloud-firestore-general-availability-and-updates/</og:url>
<dc:format>text/html</dc:format>
<dc:identifier>https://cloud.google.com/blog/products/databases/announcing-cloud-firestore-general-availability-and-updates</dc:identifier>
</item>
<item>
<title>Extramaze: Using Racket, PostgreSQL, AWS, but no ads or JavaScript (2018)</title>
<link>https://www.greghendershott.com/2018/05/extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js.html</link>
<guid isPermaLink="true" >https://www.greghendershott.com/2018/05/extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js.html</guid>
<description>&lt;header readability=&quot;2.5263157894737&quot;&gt;
&lt;p class=&quot;date-and-tags&quot;&gt;&lt;time datetime=&quot;2018-05-04&quot; pubdate=&quot;true&quot;&gt;2018-05-04&lt;/time&gt; :: &lt;span class=&quot;tags&quot;&gt;&lt;a href=&quot;https://www.greghendershott.com/tags/Racket.html&quot;&gt;Racket&lt;/a&gt;, &lt;a href=&quot;https://www.greghendershott.com/tags/Extramaze.html&quot;&gt;Extramaze&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/header&gt;&lt;p&gt;For Extramaze LLC I’m using Racket in a commercial project — a search engine with email alerts for deals on music gear — &lt;a href=&quot;https://deals.extramaze.com&quot;&gt;deals.extramaze.com&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;This blog post is a sort of whirlwind tour of the use case and business model, as well as how I use things like Racket, PostgreSQL, and AWS — but don’t use advertising or JavaScript.&lt;/p&gt;

&lt;p&gt;Who needs this?&lt;/p&gt;
&lt;p&gt;Let’s say I play guitar. In fact, I seem to collect guitars. My partner is skeptical of this use of financial and space resources. I have my eye on a certain 7-string guitar. I don’t &lt;em&gt;need&lt;/em&gt; it. But I want it. If it goes on sale in the months ahead, I’d like to grab it. I can point out that I saved (say) $500. Although my partner will see right through this pathetic justification, they will appreciate that at least I am hearing them and making an effort. I hope.&lt;/p&gt;
&lt;p&gt;Or more virtuously: I’m a parent and my child needs a trombone when school starts this autumn. I create an alert in case something goes on sale over the summer.&lt;/p&gt;

&lt;p&gt;Currently you must join (create an account) to use the site. It’s free to search deals that are at least a day old. If you subscribe (pay), you can search the very newest deals — and save searches to get alerted when matching deals appear.&lt;/p&gt;
&lt;p&gt;Why ask people to pay? I’m disenchanted with services that survive on money from advertising — where users are the product being sold, and the actual customers are advertisers.&lt;/p&gt;
&lt;p&gt;Instead I want to do something where &lt;strong&gt;users = customers&lt;/strong&gt;.&lt;/p&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;I like making things that people like enough to pay for.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;As a practical matter, it can be hard enough to make one constituency happy. Two is double the difficulty — even more when interests conflict. A small company has enough challenges; why build more into the foundation.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;If it turns out that not enough people want to pay for this service? I’d rather discontinue it than turn to advertising.&lt;/p&gt;

&lt;p&gt;The last time I picked a company name, the name was “Cakewalk”&lt;sup&gt;&lt;a href=&quot;https://www.greghendershott.com/2018/05/extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js.html#2018-05-03-extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js-footnote-1-definition&quot; name=&quot;2018-05-03-extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js-footnote-1-return&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; and the year was 1987. Nearly a decade passed, the internet grew popular, and we registered &lt;code&gt;cakewalk.com&lt;/code&gt;. Easy.&lt;/p&gt;
&lt;p&gt;The experience now is… different. You may be surprised to learn that many desirable domain names are already registered. I know, right? After too many days agonizing with dictionaries and a thesaurus, I settled on a contraction of “extra” and “amaze” — Extramaze.&lt;/p&gt;
&lt;p&gt;It turns out that “extramaze” is sometimes used to describe cues outside a lab maze. Although that’s a bit creepy, I’m relieved the cues are &lt;em&gt;outside&lt;/em&gt; the maze — this alludes to beacons of hope shining on those of us stuck inside our own mazes! Or something. Moving on….&lt;/p&gt;

&lt;p&gt;The web site does not use third-party JavaScript. No Google Analytics. No social buttons. Nothing.&lt;sup&gt;&lt;a href=&quot;https://www.greghendershott.com/2018/05/extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js.html#2018-05-03-extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js-footnote-2-definition&quot; name=&quot;2018-05-03-extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js-footnote-2-return&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; The one exception — if you subscribe — is Stripe for payments.&lt;/p&gt;
&lt;p&gt;If you don’t believe me look at the relevant parts of the &lt;code&gt;Content-Security-Policy&lt;/code&gt; response header value:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;default-src 'none'; script-src https://checkout.stripe.com;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;(Indeed notice that &lt;code&gt;script-src&lt;/code&gt; doesn’t include &lt;code&gt;'self'&lt;/code&gt; — the site itself supplies no JavaScript. If you ask “Why not?” I can only respond with another question: “Why?”. The UX doesn’t require it. Maybe someday. Meanwhile it is one less facet to develop, test, debug, and examine for vulnerabilities.)&lt;/p&gt;
&lt;p&gt;Recently I experimented with Google and Twitter ads. Click-throughs were OK but conversion was poor. I wondered if account-creation was a speed bump, especially on mobile. So I added “Login with {Google, Twitter}” buttons. Of course if you use those, you are sharing some information with {Google, Twitter}. However you can still create and use a native Extramaze account.&lt;/p&gt;
&lt;p&gt;So much for third-party data collection. How about first-party?&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The web site does basic web server request and response logging.&lt;/li&gt;
&lt;li&gt;When people create an account:
&lt;ul&gt;&lt;li&gt;The service asks for:
&lt;ul&gt;&lt;li&gt;an email address&lt;/li&gt;
&lt;li&gt;a how-would-you-like-to-be-addressed name&lt;/li&gt;
&lt;li&gt;a password&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Successful and failed logins are stored — the latter to do an exponential back-off on subsequent attempts.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;When people also pay to subscribe:
&lt;ul&gt;&lt;li&gt;Stripe asks for credit card and zip code information. Extramaze does not see or store this.&lt;/li&gt;
&lt;li&gt;They gain the ability to create saved searches, and get email alerts. Of course we need to store the search phrase, e.g. &lt;code&gt;7-string left hand guitar&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Beyond that, the service collects no personal information.&lt;/p&gt;

&lt;p&gt;I’ve spent a lot of time thinking through the privacy and security implications of account sign-up and password resets. This was the scariest part for me. I found Troy Hunt’s &lt;a href=&quot;https://www.troyhunt.com/everything-you-ever-wanted-to-know/&quot;&gt;&lt;em&gt;Everything you ever wanted to know about building a secure password reset feature&lt;/em&gt;&lt;/a&gt; incredibly helpful and follow its recommendations. Also useful: &lt;a href=&quot;https://stackoverflow.com/questions/549/the-definitive-guide-to-form-based-website-authentication&quot;&gt;&lt;em&gt;The definitive guide to form-based website authentication&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I already mentioned &lt;code&gt;Content-Security-Policy&lt;/code&gt;. Information about this and other security headers is at &lt;a href=&quot;https://securityheaders.com/?q=https%3A%2F%2Fdeals.extramaze.com&amp;amp;followRedirects=on&quot;&gt;securityheaders.com&lt;/a&gt;. Some headers let browsers report problems and &lt;a href=&quot;https://report-uri.com&quot;&gt;https://report-uri.com&lt;/a&gt; is helpful here.&lt;/p&gt;
&lt;p&gt;I won’t say, “We take security very seriously”, because that’s become a cliché. (Is there a web site that does for incident disclosures what OurIncredibleJourney.com does for acquihire notices?)&lt;/p&gt;
&lt;p&gt;But. I think about security frequently. I read as much as I can about other people’s experiences and recommendations. I assume that vulnerabilities exist and the only question is who will find them; I need to exercise a commercially reasonable effort to find them first.&lt;/p&gt;

&lt;p&gt;There are three main pieces:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Crawl certain music retailer web sites looking for deals (daily).&lt;/li&gt;
&lt;li&gt;Send search alert emails (daily).&lt;/li&gt;
&lt;li&gt;Run a web site (24/7).&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;All use some mix of:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Racket&lt;/li&gt;
&lt;li&gt;PostgreSQL&lt;/li&gt;
&lt;li&gt;AWS (EC2, ELB, ECS, SES, SNS, RDS, CloudWatch)&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;racket-crawling-and-scraping&quot;&gt;Racket: Crawling and scraping&lt;/h2&gt;
&lt;p&gt;Most music product web stores have a section — variously called “outlet”, “clearance”, “deal zone”, or “blowout” — where the deals are featured. Deals include demo units, price drops, and so on. For demo units the product might be “like new” condition, or there might be a cosmetic flaw which is described.&lt;/p&gt;
&lt;p&gt;Currently we crawl these areas of &lt;a href=&quot;https://www.sweetwater.com/dealzone/&quot;&gt;Sweetwater&lt;/a&gt; and &lt;a href=&quot;https://www.zzounds.com/blowouts&quot;&gt;Zzounds&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;More would be better. On the other hand, one step at a time. Furthermore, these days many web sites block crawlers by default. It doesn’t matter if you &lt;code&gt;GET /robots.txt&lt;/code&gt; and follow its rules scrupulously. Instead you must ask a human for permission and get white-listed. When you ask, the human might say no, or simply not reply at all.&lt;/p&gt;
&lt;p&gt;Racket has great “batteries included” for making HTTP requests, and parsing HTML responses into &lt;a href=&quot;https://docs.racket-lang.org/xml/index.html#%28def._%28%28lib._xml%2Fprivate%2Fxexpr-core..rkt%29._xexpr~3f%29%29&quot;&gt;x-expressions&lt;/a&gt;. That is, HTML such as&lt;/p&gt;
&lt;div class=&quot;brush: html&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;1&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  Some
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;awesome&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  HTML
  &lt;span class=&quot;ni&quot;&gt;&amp;amp;tm;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;is equivalent to the x-expression&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;0.92753623188406&quot;&gt;&lt;tr readability=&quot;1.8550724637681&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;3.6610169491525&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;6.4067796610169&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/createclass.html#(form._((lib._racket/private/class-internal..rkt)._class))&quot;&gt;class&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; 
   &lt;span class=&quot;s2&quot;&gt;&quot;Some &quot;&lt;/span&gt; 
   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;em&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;awesome&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;s2&quot;&gt;&quot; HTML&quot;&lt;/span&gt;
   &lt;span class=&quot;ss&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;As the Lisp Evangelism Task Force will point out on Hacker News every few weeks, x-expressions are what XML would be if it weren’t produced by the Department of Redundancy Department.&lt;/p&gt;
&lt;p&gt;Finding the “interesting bits” within an x-expression can be done in various ways. In simple cases, you can use Racket’s &lt;code&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/match.html#(form._((lib._racket/match..rkt)._match))&quot;&gt;match&lt;/a&gt;&lt;/code&gt;, but for complicated HTML that can be tedious and/or brittle. &lt;code&gt;&lt;a href=&quot;http://docs.racket-lang.org/xml/index.html#(def._((lib._xml/path..rkt)._se-path*/list))&quot;&gt;se-path*/list&lt;/a&gt;&lt;/code&gt; is a better idea, but you can only select a direct path of element tags. You can’t express CSS selector things like, “Find all &lt;code&gt;p&lt;/code&gt; elements somewhere under &lt;code&gt;div&lt;/code&gt;s having a &lt;code&gt;&quot;container&quot;&lt;/code&gt; &lt;code&gt;class&lt;/code&gt;”.&lt;/p&gt;
&lt;p&gt;So I wrote a function to do a depth-first folding walk of an x-expression. In addition to accumulating a result value, it accumulates a “path” — a list of full x-expressions from “this” one up through its ancestors to the root, full x-expression:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;3.3925049309665&quot;&gt;&lt;tr readability=&quot;6.7850098619329&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.0064516129032&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;9.1784946236559&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))&quot;&gt;path?&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))&quot;&gt;listof&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/xml/index.html#(def._((lib._xml/private/xexpr-core..rkt)._xexpr/c))&quot;&gt;xexpr/c&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;;; A depth-first folding walk of the xexpr. The &quot;path&quot; is a list of&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; xexpr from the current one to its ancestors. You can `match` on&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; this to do the equivalent of `se-path*/list`, but with the full&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; power of `match`.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;walk&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))&quot;&gt;let&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recur&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()]&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;this-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))&quot;&gt;cons&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/match.html#(form._((lib._racket/match..rkt)._match))&quot;&gt;match&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list*))&quot;&gt;list*&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))&quot;&gt;symbol?&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._tag))&quot;&gt;tag&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))&quot;&gt;list?&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/fold))&quot;&gt;for/fold&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;recur&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;this-path&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))&quot;&gt;_&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;this-path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;I wrapped this in a simple &lt;code&gt;select&lt;/code&gt; function that &lt;code&gt;conjoin&lt;/code&gt;s one or more predicates:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;3.2840425531915&quot;&gt;&lt;tr readability=&quot;6.568085106383&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.1399548532731&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;9.3453724604966&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;;; Using quasiquoted match expressions with `walk` can be tedious and&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; error-prone. Often you end up specifying the match in more detail&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; than is really necessary. A sometimes friendlier way is to use&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; `select` with selector combinators grouped using `conjoin` (and&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; maybe `disjoin`).&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;(-&amp;gt; xexpr/c (-&amp;gt; path? any) ...+ list?)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;walk&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))&quot;&gt;λ&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/match.html#(form._((lib._racket/match..rkt)._match))&quot;&gt;match&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/procedures.html#(def._((lib._racket/private/base..rkt)._apply))&quot;&gt;apply&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/procedures.html#(def._((lib._racket/function..rkt)._conjoin))&quot;&gt;conjoin&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;#f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))&quot;&gt;cons&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]))&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;I wrote a few functions intended to be used as combinators with &lt;code&gt;conjoin&lt;/code&gt;, to do roughly CSS selector style matching. A few example pieces:&lt;/p&gt;

&lt;p&gt;For example, to extract the value of the &lt;code&gt;href&lt;/code&gt; attribute for all &lt;code&gt;a.some-class&lt;/code&gt; elements whose immediate parent is a &lt;code&gt;div.box-class&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;1.2755905511811&quot;&gt;&lt;tr readability=&quot;2.5511811023622&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;3.7565217391304&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;6.6782608695652&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xexpr&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tag?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/objectutils.html#(def._((lib._racket/private/class-internal..rkt)._class~3f))&quot;&gt;class?&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some-class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parent?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/procedures.html#(def._((lib._racket/function..rkt)._conjoin))&quot;&gt;conjoin&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tag?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/objectutils.html#(def._((lib._racket/private/class-internal..rkt)._class~3f))&quot;&gt;class?&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some-box&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attr-val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Of course you can layer on some shorthand compositions like &lt;code&gt;tag.class?&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;And the example becomes:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;1&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xexpr&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tag.class?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some-class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parent?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tag.class?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some-box&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attr-val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;You &lt;em&gt;could&lt;/em&gt; also write a parser from CSS selector syntax to these &lt;code&gt;select&lt;/code&gt; expressions — maybe even define a &lt;code&gt;#lang css-selector&lt;/code&gt;. But I like s-expressions. Even if I didn’t, I’m not using this extensively enough to warrant that work.&lt;/p&gt;
&lt;p&gt;Likewise, although I’d like to open-source this as a distinct, complete project, I just haven’t had time to review it thoroughly, write documentation, and so on.&lt;/p&gt;
&lt;h2 id=&quot;racket-web-server&quot;&gt;Racket: web server&lt;/h2&gt;
&lt;p&gt;Racket has great “batteries included” for making web site servers. In addition to Racket’s documentation for this, I can recommend Jesse Alama’s resources including his blog &lt;a href=&quot;https://lisp.sh&quot;&gt;lisp.sh&lt;/a&gt; and his book &lt;a href=&quot;https://serverracket.com/&quot;&gt;Server: Racket&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Racket provides a macro called &lt;a href=&quot;https://docs.racket-lang.org/web-server/dispatch.html&quot;&gt;&lt;code&gt;dispatch-rules&lt;/code&gt;&lt;/a&gt; to define bi-directional “routes”. You give it rules, of each which is a URI pattern and a handler function. It defines two functions covering all of your rules:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;A &lt;code&gt;request? -&amp;gt; response?&lt;/code&gt; dispatcher.&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;procedure? -&amp;gt; string?&lt;/code&gt; URI path maker.&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;1.3614130434783&quot;&gt;&lt;tr readability=&quot;2.7228260869565&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4.05&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;7.2&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((quote._~23~25kernel)._define-values))&quot;&gt;define-values&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler-&amp;gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatch-rules&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;                  &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;about&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;n&quot;&gt;about&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;path&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;to&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;path/to/foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;user&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string-arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user/id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))&quot;&gt;else&lt;/a&gt;&lt;/span&gt;                  &lt;span class=&quot;n&quot;&gt;not-found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Because I needed to do authorization, I wrapped this in my own macro, &lt;code&gt;dispatch-rules+roles&lt;/code&gt;. This also defines a third function, &lt;code&gt;request? -&amp;gt; roles?&lt;/code&gt;: Given a request that matches one of the patterns, what roles is a user required to have to be authorized to access it?&lt;/p&gt;
&lt;p&gt;In the following example, we use three roles:&lt;/p&gt;
&lt;ul readability=&quot;0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;'anon&lt;/code&gt; means an anonymous user.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;code&gt;'free&lt;/code&gt; is a user who is authenticated (logged in); certain routes should only be available to them.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;code&gt;'paid&lt;/code&gt; is an authenticated user who has also subscribed (paid) and therefore is authorized for even more routes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;3.3114224137931&quot;&gt;&lt;tr readability=&quot;6.6228448275862&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.1741706161137&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;9.4075829383886&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((quote._~23~25kernel)._define-values))&quot;&gt;define-values&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler-&amp;gt;path&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request-&amp;gt;roles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatch-rules+roles&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;;; Routes requiring 'anon or 'free or 'paid roles&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anon&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/foreign/foreign_pointer-funcs.html#(def._((quote._~23~25foreign)._free))&quot;&gt;free&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;about&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;about&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;join&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;;; Routes requiring 'free or 'paid roles&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/foreign/foreign_pointer-funcs.html#(def._((quote._~23~25foreign)._free))&quot;&gt;free&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferences&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;preferences&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;;; Routes requiring 'paid role&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;payment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))&quot;&gt;else&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not-found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;My &lt;code&gt;dispatch-rules+roles&lt;/code&gt; macro doesn’t itself do authorization — it defines the same old &lt;code&gt;dispatch&lt;/code&gt; function that plain &lt;code&gt;dispatch-rules&lt;/code&gt; does. You need to wrap that &lt;code&gt;dispatch&lt;/code&gt; with something that consults &lt;code&gt;request-&amp;gt;roles&lt;/code&gt; and calls &lt;code&gt;dispatch&lt;/code&gt; — or returns a &lt;code&gt;403 Forbidden&lt;/code&gt; response (for an API) or redirects to a login or subscribe page (web app).&lt;/p&gt;
&lt;p&gt;Of course, &lt;em&gt;that&lt;/em&gt; in turn should be wrapped in something that sets the current user (so we know their roles) from e.g. a session key — or returns a &lt;code&gt;401&lt;/code&gt; response (for an API) or redirects to a login page (web app).&lt;/p&gt;
&lt;p&gt;Speaking of multiple wrappers around &lt;code&gt;dispatch&lt;/code&gt;, this is a nice way to compose functionality, which I’ve seen in the Clojure &lt;a href=&quot;https://github.com/ring-clojure/ring/wiki/Concepts#middleware&quot;&gt;Ring&lt;/a&gt; community. It’s cleaner to have one wrapper per bit of functionality, as opposed to one handler with a monolithic hairball of conditionals.&lt;/p&gt;
&lt;p&gt;So a &lt;code&gt;handler?&lt;/code&gt; is a function from &lt;code&gt;request?&lt;/code&gt; to &lt;code&gt;response?&lt;/code&gt;, like &lt;code&gt;dispatch&lt;/code&gt;. A &lt;code&gt;wrapper?&lt;/code&gt; is a function that takes a &lt;code&gt;handler?&lt;/code&gt;, and returns a new &lt;code&gt;handler?&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;0.81395348837209&quot;&gt;&lt;tr readability=&quot;1.6279069767442&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;3.219512195122&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;5.6341463414634&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))&quot;&gt;-&amp;gt;&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))&quot;&gt;define&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wrapper?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))&quot;&gt;-&amp;gt;&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;For instance, a wrapper to enforce https:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;4.14&quot;&gt;&lt;tr readability=&quot;8.28&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.9468085106383&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;10.978723404255&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;;; This assumes we're behind ELB or nginx which gets both http and&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; https, talks to us only via http, setting an X-Forwarded-Proto&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; header to say the original protocol and an X-Forwarded-For header&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; to say the original IP.&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))&quot;&gt;define/contract&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wrap-http-&amp;gt;https&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wrapper?&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/match.html#(form._((lib._racket/match..rkt)._match))&quot;&gt;match&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers-assq*&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;#&quot;x-forwarded-proto&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request-headers/raw&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;header&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))&quot;&gt;_&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;#&quot;http&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redirect-to&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path-&amp;gt;external-uri&lt;/span&gt;
                   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/net/url.html#(def._((lib._net/url..rkt)._url-~3estring))&quot;&gt;url-&amp;gt;string&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/struct-copy.html#(form._((lib._racket/private/base..rkt)._struct-copy))&quot;&gt;struct-copy&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request-uri&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                                             &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scheme&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;#f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                                             &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;   &lt;span class=&quot;no&quot;&gt;#f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
                  &lt;span class=&quot;n&quot;&gt;permanently&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))&quot;&gt;_&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;A whole chain of such wrappers can be composed — using &lt;code&gt;compose&lt;/code&gt; or the &lt;code&gt;~&amp;gt;&lt;/code&gt; threading macro — to wrap the original &lt;code&gt;dispatch&lt;/code&gt; function when we start the Racket web server:&lt;/p&gt;
&lt;div class=&quot;brush: racket&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;3.9684210526316&quot;&gt;&lt;tr readability=&quot;7.9368421052632&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.9481268011527&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;10.904899135447&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;serve/servlet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;~&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;Note: requests go UP this chain, responses DOWN&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;dispatch&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-gzip&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-not-modified&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-authorize&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-authenticate&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-http-&amp;gt;https&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;wrap-timed-and-logged&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:servlet-path&lt;/span&gt;      &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:servlet-regexp&lt;/span&gt;    &lt;span class=&quot;sr&quot;&gt;#px&quot;&quot;&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:listen-ip&lt;/span&gt;         &lt;span class=&quot;no&quot;&gt;#f&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:port&lt;/span&gt;              &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current-internal-port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:launch-browser?&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;&lt;a href=&quot;http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._not))&quot;&gt;not&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current-production&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
               &lt;span class=&quot;kd&quot;&gt;#:servlet-responder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error-responder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;

&lt;p&gt;I was skeptical about using PostgreSQL: Is it web scale?&lt;/p&gt;
&lt;p&gt;Seriously, I don’t have anything very exciting to describe about using PostgreSQL for this — which is wonderful. Currently:&lt;/p&gt;
&lt;ul readability=&quot;5.3854166666667&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;I’m hosting at AWS RDS.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;5.78073089701&quot;&gt;
&lt;p&gt;Initial capture from crawling goes into a simple &lt;a href=&quot;https://en.wikipedia.org/wiki/Star_schema&quot;&gt;star schema&lt;/a&gt;. The fact table has information about each deal, including its first-seen and last-seen times. When we already have a row for a deal, we just update the last-seen time. Dimension tables are what you’d expect — brand, product, and so on.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;A simple view joins to denormalize, fitting the kind of query done by the web site’s search page. This is already quite fast; a materialized view makes it even faster.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Full-text search is delicious.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Toward the end of my time at Cakewalk, I got some experience with Microsoft SQL Server, including optimizations. As a result, I’m aware that I can likewise do much more with PostgreSQL — looking at query execution plans, tuning indexes and queries, and so on. For now I’m satisfied I know roughly what I can do if/as/when necessary.&lt;/p&gt;
&lt;p&gt;Racket has an excellent &lt;a href=&quot;http://docs.racket-lang.org/db/index.html&quot;&gt;db&lt;/a&gt; package. It also has a &lt;a href=&quot;http://docs.racket-lang.org/sql/index.html&quot;&gt;sql&lt;/a&gt; package that lets you write SQL as s-expressions rather than blobs of text, for example:&lt;/p&gt;
&lt;div class=&quot;brush: sql&quot;&gt;
&lt;table class=&quot;sourcetable&quot;&gt;&lt;tbody readability=&quot;1.5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4.5&quot;&gt;
&lt;div class=&quot;source&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;last&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tribbles&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;


&lt;p&gt;I’m using Amazon Web Services because I feel badly that it is such an unpopular choice and want to see them get at least a &lt;em&gt;little&lt;/em&gt; business.&lt;/p&gt;
&lt;p&gt;Seriously, this has been a reasonable choice to get going quickly and it is affordable initially within the free tier.&lt;/p&gt;
&lt;p&gt;One of my earliest Racket packages is &lt;a href=&quot;https://pkgs.racket-lang.org/package/aws&quot;&gt;aws&lt;/a&gt;. Although I’ve used it intermittently, lately I’m &lt;em&gt;really&lt;/em&gt; eating my own dog food.&lt;/p&gt;
&lt;p&gt;I made a local change to support getting AWS credentials from EC2 instance meta-data. After living with that in production for a couple months, I shared that back in &lt;a href=&quot;https://github.com/greghendershott/aws/commit/84c28ba16f238a8c48c54a9e858ba4bb2ec53742&quot;&gt;commit 84c28ba&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Just a quick overview of other parts:&lt;/p&gt;
&lt;ul readability=&quot;1.8194640338505&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;ELB: This can distribute load among multiple web servers. Even with just one server (to start) it is a convenient way to handle SSL.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;SES: I’m only sending “transactional” emails (for account creation, password reset, and search alerts) so it’s been easy so far to maintain a good reputation.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.43661971830986&quot;&gt;
&lt;p&gt;Docker and ECS. Very helpful: &lt;a href=&quot;https://www.ybrikman.com/writing/2015/11/11/running-docker-aws-ground-up/&quot;&gt;&lt;em&gt;Running Docker on AWS from the ground up&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CloudWatch Logs:&lt;/p&gt;
&lt;ul readability=&quot;1.3875&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;It is pretty easy to make a Racket &lt;a href=&quot;https://docs.racket-lang.org/reference/logging.html#%28def._%28%28quote._~23~25kernel%29._make-log-receiver%29%29&quot;&gt;log receiver&lt;/a&gt; that accumulates things into batches and does &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutLogEvents.html&quot;&gt;&lt;code&gt;PutLogEvents&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;3&quot;&gt;
&lt;p&gt;It is handy to use JSON format for request/response logs. Not only does this display nicely, there’s a decent query feature, e.g. &lt;code&gt;{$.response.duration &amp;gt; 100}&lt;/code&gt; or &lt;code&gt;{$.request.headers.Host = &quot;deals.extramaze.com&quot;}&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope this helps give a taste of what it’s like to start a small SaaS business c. 2018 using Racket, PostgreSQL, and AWS — but without using advertising or JavaScript.&lt;/p&gt;
&lt;p&gt;I realize this post has a somewhat uneven level of detail, so maybe I will loop back later and drill down on some parts.&lt;/p&gt;
&lt;hr/&gt;
&lt;footer&gt;&lt;hr/&gt;
&lt;/footer&gt;</description>
<pubDate>Thu, 31 Jan 2019 16:58:47 +0000</pubDate>
<dc:creator>aeontech</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.greghendershott.com/2018/05/extramaze-llc-using-racket-postgresql-aws-but-no-ads-or-js.html</dc:identifier>
</item>
<item>
<title>Stealing the Enemy&amp;#039;s Urban Advantage: The Battle of Sadr City</title>
<link>https://mwi.usma.edu/stealing-enemys-urban-advantage-battle-sadr-city/</link>
<guid isPermaLink="true" >https://mwi.usma.edu/stealing-enemys-urban-advantage-battle-sadr-city/</guid>
<description>&lt;div class=&quot;apss-social-share apss-theme-4 clearfix&quot;&gt;
&lt;div class=&quot;apss-facebook apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Facebook&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-twitter apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Twitter&lt;/span&gt;&lt;span class=&quot;apss-share&quot;&gt;Tweet&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-google-plus apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Google Plus&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-linkedin apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on LinkedIn&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-email apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Send email&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Mail&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-print apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Print&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Print&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;From March 23 to May 12, 2008, US Army and Iraq security forces engaged in an intense urban battle in and around Baghdad’s Shiite neighborhood of Sadr City. The battle forced units that had been mainly focused on counterinsurgency operations to convert overnight into combined-arms teams of armor and mechanized infantry and engage a large enemy element in a high-intensity fight in a city containing around two million noncombatants. The adaptions these units made and the results of this short but pivotal battle provide important lessons for future combat in dense urban environments.&lt;/p&gt;
&lt;p&gt;Sadr City is a dense Shiite area in eastern Baghdad whose boundaries with adjacent Sunni-dominated neighborhoods represent sectarian fault lines. At the time of the battle, Sadr City contained an &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;estimated&lt;/a&gt; population of between 1.6 to 2.4 million residents. Purpose built in 1958 to house a large population of migrants moving to Baghdad to look for work, it maintained near slum-like conditions from the time of its construction. It &lt;a href=&quot;https://www.google.com/maps/@33.3532107,44.429137,12z&quot;&gt;stands out on a map&lt;/a&gt; of Baghdad as a solid, compact square of streets arranged in a grid pattern. The neighborhood is made up of narrow streets and alleyways, spider webs of power lines, and mostly three-story or shorter buildings that range from simple cinder blocks to reinforced cement construction.&lt;/p&gt;
&lt;p&gt;Containing around a quarter of Baghdad’s estimated population of seven million in less than five square miles, Sadr City is one of the most densely populated areas where the United States has ever fought. Its population surpasses those of the sites of other urban battles, such as Manila in 1945, whose pre–World War II population was an estimated 1.1 million, or Seoul in 1950, with one million residents. As a battlefield (both in 2008 and an earlier battle in 2004), Sadr City exceeded any other part of Baghdad, in terms of density of both population and structures, where fighting occurred during the 2003 invasion.&lt;/p&gt;
&lt;p&gt;Amid Iraq’s worsening sectarian violence between 2006 and 2008, in Baghdad the two major combatants were the Sunni &lt;a href=&quot;https://www.britannica.com/topic/al-Qaeda-in-Iraq&quot;&gt;Al-Qaeda in Iraq&lt;/a&gt; (AQI) and Shiite &lt;a href=&quot;http://web.stanford.edu/group/mappingmilitants/cgi-bin/groups/view/57&quot;&gt;Jaysh al-Mahdi&lt;/a&gt; (JAM). There were many other terrorist groups, criminal gangs, and war profiteers involved, but most either aligned with, or at a minimum chose not to compete with, AQI or JAM—largely out of fear for their survival. AQI was a militant Sunni terrorist network led by Abu Muṣab al-Zarqawi. JAM was the Shiite paramilitary wing of fiery cleric named Moqtada al-Sadr’s national political movement. Al-Sadr had a major influence on the large Shiite populations and associated JAM militias concentrated in Sadr City, along with those in the southern cities of Najaf, Nasiriya, and Basra. Northeastern Baghdad contained a large JAM presence within Sadr City, but also a large AQI presence in neighboring Sunni areas—Adhamiya to the northwest, Rusafa to the southwest, and Tisa Nissan to the southeast—and the boundaries between Sunni and Shiite neighborhoods were often only demarcated by single roads, making it a fertile sectarian battleground.&lt;/p&gt;
&lt;p&gt;In late 2006, Thawra District—Sadr City, and two, smaller, adjacent areas—saw fierce cycles of attacks and retaliations between Sunni and Shiite groups. Both sides attacked civilians, Iraqi security forces (ISF), and US troops. AQI frequently employed vehicle-borne improvised explosive devices (VBIEDs) and other mass-casualty attacks that had strategic implications on perceptions of the war in Iraq. The bodies of victims of sectarian murders were found dumped in the streets daily, &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;averaging&lt;/a&gt; 200–250 per month.&lt;/p&gt;
&lt;p&gt;In early 2007, the United States implemented a surge of five additional brigade combat teams (BCTs)—about 30,000 troops—to Baghdad and Anbar Province in the country’s west to stop the sectarian violence that had pushed Iraq into chaos. Under what was called the Baghdad Security Plan, one of the surge brigades was assigned to Thawra District, although no US forces would be based in Sadr City itself. The unit implemented an aggressive plan to reduce overall levels of violence that consisted of moving into small outposts within the neighborhoods; using concrete barriers to construct checkpoints, safe neighborhoods, and safe markets that reduced the enemy’s ability to transport resources and to conduct mass-casualty attacks with VBIEDs and other weapons; targeting key insurgent leaders and groups; and improving ISF capabilities.&lt;/p&gt;
&lt;p&gt;The role and effectiveness of concrete in reducing violence across Baghdad cannot be understated. Concrete barriers had been used throughout Iraq for years to reduce the threat of improvised explosive devices (IEDs) emplaced along major roads. But during the surge, concrete barriers were widely used to limit the enemy’s ability to maneuver freely across Baghdad. The first surge unit in Thawra District, 2nd Brigade Combat Team, 82nd Airborne Division, led by Col. Billy Don Farris, &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;emplaced&lt;/a&gt; over thirty miles of concrete barriers. One of the first uses of concrete was to protect the Adhamiya neighborhood by building a three-mile wall around it—which would earn a nickname: the “&lt;a href=&quot;https://thelede.blogs.nytimes.com/2007/04/20/baghdads-great-wall-of-adhamiya/&quot;&gt;Great Wall of Adhamiya&lt;/a&gt;.”&lt;/p&gt;
&lt;p&gt;The barriers used to form the walls were &lt;a href=&quot;https://mwi.usma.edu/effective-weapon-modern-battlefield-concrete/&quot;&gt;named&lt;/a&gt; after American states to denote their progressive size. The smallest, Jersey barriers (three feet tall; two tons), were used to block roads and slow traffic approaching checkpoints. Medium to large barriers—Colorado (six feet tall; 3.5 tons), Texas (six feet, eight inches tall; six tons), and Alaska (twelve feet tall; seven tons)—were used to construct checkpoints and protective walls around markets, mosques, and other areas where crowds were being targeted by bombs and shootings. The Texas barrier, due to its width and ease of transport, among other reasons, was predominately used to create the safe neighborhoods. But it was the massive T-walls that were used to create coalition and ISF bases and to maximize protection and prevent infiltration. Similar in size to Alaska barriers, the massive twelve-foot-tall, six-ton T-wall, with its interconnecting edges, created an effective barrier.&lt;/p&gt;
&lt;div id=&quot;attachment_10411&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/91572.jpg&quot;&gt;&lt;img class=&quot;wp-image-10411 size-full&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/91572.jpg&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;600&quot; srcset=&quot;/wp-content/uploads/2019/01/91572.jpg 800w, /wp-content/uploads/2019/01/91572-300x225.jpg 300w, /wp-content/uploads/2019/01/91572-768x576.jpg 768w&quot; sizes=&quot;(max-width: 800px) 100vw, 800px&quot;/&gt;&lt;/a&gt;
&lt;p class=&quot;wp-caption-text&quot;&gt;As the sun begins to set, soldiers rig a seven-ton T-wall barrier to a crane before it is placed along a 3.2 mile barrier wall along al-Quds street in Sadr City. (Credit: Sgt. Henry Bauer)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The walls turned Baghdad’s densely populated urban areas into more manageable “gated communities.” Once a wall was completed, Iraqi Army, police, or paid local neighborhood militias (called the Sons of Iraq) could occupy check points that allowed them to identify outsiders, search vehicles, and restrict the insurgents’ ability to bring large explosives and other weapons from one area to another.&lt;/p&gt;
&lt;p&gt;Insurgents and guerrilla fighters rely on their ability to move undetected among the population to survive and operate. The Chinese communist revolutionary Mao Zedong &lt;a href=&quot;https://smallwarsjournal.com/jrnl/art/mao-zedong%E2%80%99s-on-guerrilla-warfare-and-joseph-kabila%E2%80%99s-lost-opportunity&quot;&gt;counseled&lt;/a&gt; fighters to move among the people as a fish swims in the sea. In Baghdad, concrete walls in the sea made it a lot easier to kill or catch fish by creating chokepoints in the terrain that restricted enemy freedom of movement. Using obstacles to restrict insurgent movement in urban &lt;a href=&quot;https://mwi.usma.edu/effective-weapon-modern-battlefield-concrete/&quot;&gt;military operations&lt;/a&gt; is not new. British forces used blockhouses, fences, or other barriers to interdict insurgents in the Second Boer War (1899–1902) and during the 1950s in Malaya. French forces used wire and other obstacles to cordon off entire urban areas in the Casbah during the 1957 Battle of Algiers. Concrete was the barrier of choice in the Iraq War.&lt;/p&gt;
&lt;p&gt;By the end of 2007, the Baghdad Security Plan had significantly defeated, or at least neutralized, AQI and had decreased sectarian violence in Baghdad considerably. But JAM continued to use Sadr City as a base of operations to carry out strikes against ISF and coalition forces. While the American and ISF units in Thawra District had begun to isolate Sadr City with their safe neighborhoods and other lines of operations, JAM retained firm &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;control&lt;/a&gt; over the population and the terrain.&lt;/p&gt;
&lt;p&gt;Special operations and conventional forces conducted some raids against JAM leadership in Sadr City, but these were extremely dangerous missions because of how fast the militias could respond to any outside visitors. While these responses varied, a common tactic used by JAM fighters (similar to insurgent tactics in 1993 Battle of Mogadishu and 1994 Battle of Grozny) was to allow the raiding force to enter Sadr City and then barricade the streets behind them (using tires and other debris). This funneled the raiding force into IEDs and prepared ambushes. JAM would also use cranes to put car hulks on roofs, which JAM fighters would use as improvised fighting positions.&lt;/p&gt;
&lt;p&gt;In October 2007, US special operations forces in Sadr City close to being overrun had to call in an airstrike. In so doing they killed a number of Iraqi civilians and sparked public outrage, fueled by wide media &lt;a href=&quot;http://www.washingtonpost.com/wp-dyn/content/article/2007/10/21/AR2007102100159_pf.html&quot;&gt;reporting&lt;/a&gt; of the event. In response, Iraqi Prime Minster Nouri al-Maliki placed Sadr City off limits to US conventional units except under the most extraordinary circumstances. It would remain under such restrictions for the duration of the US military’s presence in Iraq.&lt;/p&gt;
&lt;p&gt;With these political restrictions in place, one of the only things US forces could do to affect Sadr City was work to influence the flows—of fighters and weapons—going in and out by blocking some roads and building small joint security stations (outposts manned by both US and Iraqi forces) and checkpoints along the major routes.&lt;/p&gt;
&lt;p&gt;Successes in reducing the leadership, capabilities, and influence of AQI after the surge allowed the Iraqi government, mainly under the direction of Prime Minster al-Maliki, to focus on other threats to Iraq’s stability, specifically the Shiite militias. The Iraqi government made plans as early as January 2008 to conduct a major offensive against the Shiite militia stronghold in Basra, Iraq. Two days before the attack, on March 25, JAM militias launched attacks in Baghdad with the hope of halting or diverting resources away from the planned offensive.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2017/07/MWI-shield-50x55.png&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-7126&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2017/07/MWI-shield-50x55.png&quot; alt=&quot;&quot; width=&quot;50&quot; height=&quot;55&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Battle Begins&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The violence that erupted on March 23 surprised the US forces in Thawra District; the strategic and operational context that drove the violence’s logic didn’t filter down to their tactical level. Their only warning was when their garbage wasn’t picked by a contracted trash collector at the same time it typically was each week. When they called him, he was adamant that he was not coming. Then all hell broke loose—not just in Thawra District but all around Baghdad, and especially in Sadr City.&lt;/p&gt;
&lt;p&gt;JAM’s uprising included launching 107-millimeter rockets against targets in and around Baghdad, including the International Zone (commonly referred to as the Green Zone) that served as the central location of Iraqi government offices. They also attacked many joint security stations, ISF checkpoints, and police stations around Sadr City. The ISF, police, and Sons of Iraq manning these locations mostly collapsed or joined forces with the insurgents. By the time the Basra offensive commenced as planned on March 25, JAM forces had cleared the Iraqi Army and police from Sadr City, overrun half of the checkpoints that surrounded Sadr City, and increased their rocket attacks against the Green Zone. The Americans defended and reinforced where they could and began to receive reports on the size and magnitude of the attacks.&lt;/p&gt;
&lt;p&gt;Prime Minister al-Maliki could not allow JAM’s rockets and uprisings to have a strategic effect on national governance by either derailing the Basra offensive or making the Iraqi government seem ineffectual in providing security. On March 25, he authorized ISF and coalition forces to undertake operations against JAM. The mission was simple: stop the rockets and restore government control in Sadr City. Importantly, he did not change the standing order preventing coalition ground forces from going inside of Sadr City itself. US units would have to fight an enemy who maintained a real physical safe heaven.&lt;/p&gt;
&lt;p&gt;JAM’s &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;estimated&lt;/a&gt; strength within Sadr City ranged between two thousand and four thousand fighters armed with AK-47s, PKM machine guns, .50-caliber sniper rifles, rocket-propelled grenade (RPG) launchers, 60-, 82-, and 120-millimeter mortars, 107- and 122-millimeter rockets, and an unknown number of SA-7 surface-to-air missiles. The group’s fighters also had a seemingly unending supply of IEDs, especially explosive formed penetrators (EFPs) made of machined copper plates and homemade explosives that form a shaped charge capable of penetrating several inches of steel. JAM fighters ranged from local men with little training and equipped with small arms to foreign-trained “Special Groups” and snipers with advanced individual military skills.&lt;/p&gt;
&lt;p&gt;The mission of responding to JAM fell predominantly to the 3rd Brigade Combat Team, 4th Infantry Division, led by Col. John Hort, which had deployed to Iraq three months earlier and was responsible for the area around Sadr City. The two main units that would conduct the majority of the fighting were the 1st Battalion, 68th Armored Regiment (1-68 CAB), a combined arms battalion commanded by Lt. Col. Mike Pappal, and 1st Squadron, 2nd Stryker Cavalry Regiment (1-2SCR), commanded by Lt. Col. Dan Barnett.&lt;/p&gt;
&lt;p&gt;The combat during the uprising was fierce. 1-68 CAB and 1-2 SCR responded immediately by attempting to re-secure the lost or abandoned checkpoints along Sadr City’s boundaries. Instead of insurgents fleeing when threatened with battle, they found JAM militants ready to fight, laying in hasty defenses, and attempting to mass against coalition forces. US platoons had to call in attack helicopters for support after finding themselves trapped by large groups of enemy fighters bunkered in multi-story buildings. Soldiers in one &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;unit&lt;/a&gt; had 75–100 JAM fighters try to overrun them as they attempted to secure buildings around a soccer field that was being used as a rocket launching site. Luckily, Army attack helicopter teams were able to support the platoon and push the enemy back.&lt;/p&gt;
&lt;div id=&quot;attachment_10410&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/82994.jpg&quot;&gt;&lt;img class=&quot;wp-image-10410 size-full&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/82994.jpg&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;531&quot; srcset=&quot;/wp-content/uploads/2019/01/82994.jpg 800w, /wp-content/uploads/2019/01/82994-300x199.jpg 300w, /wp-content/uploads/2019/01/82994-768x510.jpg 768w&quot; sizes=&quot;(max-width: 800px) 100vw, 800px&quot;/&gt;&lt;/a&gt;
&lt;p class=&quot;wp-caption-text&quot;&gt;An Iraqi National Police member provides security at a checkpoint on March 31, 2008. (Credit: 1st Sgt. Adrian Cadiz)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The intense nature of the fight caused 1-68 CAB to immediately transition to its fleet of M1 Abrams tanks and M2 Bradley infantry fighting vehicles (IFVs). They had parked these vehicles at Camp Taji, a large US base about a forty-five–minute drive away. Prior to the start of the battle, the battalion had traveled in up-armored High Mobility Multipurpose Wheeled Vehicles (HMMWVs), which were more appropriate to population-centric counterinsurgency operations. A normal patrol consisted of four HMMWVs and 16–20 soldiers. It took three to four days for 1-68 CAB to move and fully convert from a HMMWV-based counterinsurgency formation to an armored task force of Abrams and Bradleys. Patrols were organized at the company level to best use their equipment for the situation and urban environment. Bradleys, tanks, and armored HMMWVs were configured for best effect. For example, patrols consisted of one Bradley and two tanks or two Bradleys and one tank, with dismounted infantry in hunter-killer teams designed more for major urban fighting, rather than counterinsurgency.&lt;/p&gt;
&lt;p&gt;Prior to the battle, 1-68 CAB had made numerous changes to the normal task organization of a battalion within a heavy brigade combat team (HBCT), which facilitated a quick transition to small-unit mixed armor and infantry teams. A standard CAB from an HBCT had two armor and two infantry companies as its major fighting forces. Normally these companies trained and deployed together, but are also designed to be capable of further task organizing to any variation the mission may require. When 1-68 CAB deployed into Baghdad, the battalion’s leadership quickly realized their armor companies did not have sufficient troops or vehicles to produce enough patrols to manage the considerable battlespace each was responsible for. Each company was therefore reorganized into three platoons; either one armor and two mechanized infantry platoons or two armor and one mechanized infantry platoon. Some companies were further stretched to four platoons. This gave each company the personnel needed to form large enough patrols and to have the total number of patrols needed to maintain a sustainable work/rest balance. But what it also did was create diverse teams of infantry and armor soldiers. Thus when 1-68 CAB converted back to armor and mechanized infantry teams, the command and personnel relationships were already well established.&lt;/p&gt;
&lt;p&gt;As 1-68 CAB and 1-2 SCR continued to fight, the battalions’ higher headquarters during the battle, 3rd BCT, 4th Infantry Division, began to plan a movement-to-contact operation around and into parts of Sadr City to recapture all of the lost checkpoints and police stations. This course of action would have been a very destructive, high-risk operation. But the plan was shelved when ISF reinforcements arrived and quickly pushed into many of those locations so that at least the original checkpoints on the major routes into Sadr City were re-established. The mission was successful at pushing JAM back into Sadr City and even allowing for the return of some civilian activity that had ceased during initial days of the battle. Portions of Baghdad’s second largest market, the Jamila Market on al-Quds Street on the border between Sadr City and the Jamila neighborhood, slowly began reopening. But enemy forces maintained their sanctuary and showed their ability to attack at times of their choosing.&lt;/p&gt;
&lt;p&gt;The primary mission for 3rd BCT was to stop JAM rockets from hitting the Green Zone. From March 23 to March 31, JAM &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;launched&lt;/a&gt; over eighty-five rockets at the Green Zone. A major element of the BCT’s ability to go after JAM and the rockets was an unprecedented range of intelligence, surveillance, and reconnaissance (ISR) and strike capabilities, including: Joint Surveillance and Target Attack Radar System (JSTARS) aircraft; counter-battery radar; Global Hawk, Green Dart, Shadow, and Predator unmanned aerial systems, many armed with Hellfire missiles; Guided Multiple Launch Rocket System; air weapons teams of Army attack helicopters; constant Air Force close-air support; and Aerostat balloons and RAID camera feeds. Many of these were theater-level assets pushed all the way down to the brigade level. Previously, these would be considered division-level and above capabilities. But, in the fight for Sadr City, they were all under the BCT’s control. It took 3rd BCT’s headquarters at least three or four days to reconfigure itself to manage the large number of information feeds and assets now under the BCT’s control. Just identifying personnel to watch the different television feeds from the drones was a challenge.&lt;/p&gt;
&lt;p&gt;Even with the most advanced capabilities available, stopping the rockets still required ground maneuver to seize rocket points of origin (POO). The plan to seize these locations, &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;Operation Striker Denial&lt;/a&gt;, ran from March 26 to April 14. The US and ISF units conducted combined cordon-and-search operations on the neighborhoods immediately south of Sadr City that were within the maximum range of the enemy 107-millimeter rockets, taking advantage of securing key terrain that provided observation and fields of fire over the relatively level terrain. They occupied one of the few five-story building in the area immediately southwest of Sadr city, the Jamila neighborhood, establishing a patrol base with snipers on the roof. The building gave the snipers the ability to overwatch multiple POO sites and engage any positively identified combatants. Once the POOs were secured, they became a challenge to hold because of the enemy’s sanctuary. JAM fighters could easily slip and in and out of Sadr City, attack coalition forces, and then retreat back into their sanctuary. The routes to the POOs also had IEDs emplaced along them daily; US and ISF units would clear the IEDs one day only to find them there again the next.&lt;/p&gt;
&lt;p&gt;While coalition forces were prohibited from going inside Sadr City, they maintained an impressive capability to see inside the city and strike when necessary. Persistent observation of all open areas in the city was aided by everything from balloons equipped with modern cameras and positioned just outside the city to loitering drones. The strike capabilities previously mentioned gave coalition forces the ability to strike any JAM forces that came into the open from their concrete sanctuaries.&lt;/p&gt;
&lt;p&gt;The changing nature of the fight revealed that the Stryker vehicles used by 1-2 SCR were highly vulnerable to the EFPs and RPGs employed by JAM. 1-2 SCR &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;lost&lt;/a&gt; six Strykers in six days. Not only were the vehicles not survivable, but their width (especially when fitted with RPG cages due to their vulnerability) limited them to driving on the main roads, making their potential locations predictable and susceptible to ambush. For this and other reasons, 3rd BCT, with assets provided from its parent division, made changes to both 1-68 CAB’s and 1-2 SCR’s task organization and battlespace. Major parts of 1-2 SCR’s assigned battlespace were given to 1-68 CAB, whose Abrams tanks and Bradley IFVs provided soldiers more protection and firepower to fight JAM. 1-68 CAB received an additional tank company and two additional Stryker companies. 1-2 SCR additions included an armor platoon that began leading patrols so the tanks could bear the brunt of attacks before they could destroy the Stryker vehicles. After reorganization, the 1-68 CAB and 1-2 SCR combined task force included nine companies. The total US forces numbered around three thousand, with an additional few thousand ISF depending on the phase of the operation.&lt;/p&gt;
&lt;div id=&quot;attachment_10408&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/83990.jpg&quot;&gt;&lt;img class=&quot;wp-image-10408 size-full&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/83990.jpg&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;460&quot; srcset=&quot;/wp-content/uploads/2019/01/83990.jpg 800w, /wp-content/uploads/2019/01/83990-300x173.jpg 300w, /wp-content/uploads/2019/01/83990-768x442.jpg 768w&quot; sizes=&quot;(max-width: 800px) 100vw, 800px&quot;/&gt;&lt;/a&gt;
&lt;p class=&quot;wp-caption-text&quot;&gt;Soldiers from 4th Platoon, Company A, 1-2 SCR load back onto their Stryker after a dismounted patrol in Sadr City on April 1, 2008. (Credit: Master Sgt. Christina Bhatti)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Both of the assigned missions—to stop rockets hitting the Green Zone and to restore government control of Sadr City—were constrained by JAM’s ability to slip in and out of Sadr City to launch rockets from sites closer to their intended targets, lay IEDs, and attack coalition forces. One of the first coalition responses was to use concrete barriers to seal the individual routes leading out of Sadr City to the southwest, increase patrols of these areas, conduct ambushes on known firing points, and secure key terrain by, among other things, reinforcing ISF checkpoints.&lt;/p&gt;
&lt;p&gt;These initial efforts were troop-intensive and not fully effective in stopping the flows of fighters, weapons, and rocket launches. 3rd BCT decided to construct a continuous wall made up of twelve-foot-tall, six-ton T-wall sections along the entire southern border of Sadr City on al-Quds street, named Route Gold on US military maps. Previous walls had been built along other portions of Sadr City’s boundaries that set the conditions for the planned operation. By this time, the areas bounded by Routes Grizzlies, Gold, Predator, and Pluto were mostly secured, but the effort was troop-intensive and JAM could still infiltrate in and launch rockets as well as plant IEDs and conduct other types of attacks.&lt;/p&gt;
&lt;p&gt;On April 15, Operation Gold Wall was started. 1-68 CAB and 1-2 SCR conducted daily concrete-laying missions to construct the continuous wall. The desired purpose of the wall was different than that of previous walls built. Instead of protecting populations by keeping insurgents out of areas, the Gold Wall would be built to affect JAM while keeping them in Sadr City. Like medieval siege engines, the units formed each night in massive convoys consisting of a tank in the lead, flatbed trucks with concrete barriers, a civilian or military crane, Bradleys, and other vehicles.&lt;/p&gt;
&lt;p&gt;The construction of the wall was heavily contested from the beginning. JAM’s first tactic was to establish a defensive zone by emplacing IEDs along the roads leading up to where construction of the wall would start that day. Because of these IEDs, the concrete-laying patrols had to first do a deliberate breach into the battle area. Streets were lined with trash, each pile a possible IED hiding spot. Combat engineers started by doing route clearance, but the normal procedures required them to stop at each suspected IED location, conduct a detailed search of the area, and, if an IED was present, neutralize the bomb (preferably done by attached explosive ordnance disposal teams) and try to render it safe for collection so that it could be exploited for evidence. The process could take hours for a single device. But JAM had lined the roads with IEDs. Some patrols would encounter twenty IEDs on a single street. US forces adapted with convoys developing new and faster methods. Tanks began to fire 120-millimeter canister rounds (in essence, shotgun-type rounds that, once fired, open into hundreds of tiny pieces) down streets from their main guns. The canister rounds blew the trash off the streets and, in many cases, exploded IEDs lying in wait for the patrol. If an IED was found, they would also shoot at them with 25-millimeter cannons and 7.62-millimeter machine guns to detonate them.&lt;/p&gt;
&lt;p&gt;Once a patrol reached the site where the walls would be emplaced, the tanks, Bradleys, and infantry established overwatch positions for the crane and team of soldiers that would guide the massive concrete walls into place. Initially, JAM heavily targeted these patrols from within the city. This revealed their locations, though, and they were easily engaged. Some JAM militia fired from cover provided by buildings along Route Gold. Snipers would also shoot at the crane cable or the lone soldier that was forced to climb a ladder to unhook each concrete wall. Special operations forces snipers were extremely useful in a counter-sniper role. Nevertheless, there were situations where confirmed snipers and fighters that could not be engaged by US snipers had to be targeted with air-delivered, precision-guided bombs or Guided Multiple Launch Rocket System (GMLRS) rounds that could penetrate the buildings’ layers of concrete. One instance that required a concrete-penetrating option was when a JAM sniper occupied and fortified one of the few five-story buildings north of the Gold Wall was being constructed and at a key intersection where he was able to engage the wall-building team. Direct fire placed on the building did not affect the sniper’s fortified position. 1-68 CAB’s solution was to drop the building using the GMLRS. But for the duration of the Battle of Sadr City, coalition forces used fewer than three mortar or artillery fire missions because of the risk of collateral damage, the prospect of injuring civilians, and the potential political ramifications both locally for the government of Iraq and internationally for political support to the coalition forces.&lt;/p&gt;
&lt;div id=&quot;attachment_10409&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/85228.jpg&quot;&gt;&lt;img class=&quot;wp-image-10409 size-full&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2019/01/85228.jpg&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;532&quot; srcset=&quot;/wp-content/uploads/2019/01/85228.jpg 800w, /wp-content/uploads/2019/01/85228-300x200.jpg 300w, /wp-content/uploads/2019/01/85228-768x511.jpg 768w&quot; sizes=&quot;(max-width: 800px) 100vw, 800px&quot;/&gt;&lt;/a&gt;
&lt;p class=&quot;wp-caption-text&quot;&gt;Engineers from 3rd BCT, 4th Infantry Division use a crane in the southern portion of Sadr City to place barriers along the road to help increase security in the area on April 20, 2008. (Credit: 1st Sgt. Adrian Cadiz)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The wall construction went slowly. At first, the wall was only constructed at night to take advantage of the American night-vision advantage. But when these forces would return to their bases after the nighttime construction operations, JAM emplaced more IEDs on the routes to the wall construction area. A decision was quickly made to transition to twenty-four–hour operations, rotating 1-68 CAB and 1-2 SCR every thirteen hours to give each patrol both daylight and nighttime hours. The number of concrete barriers that could be emplaced in a single shift varied greatly, depending on the enemy situation, number of tractor trailer vehicles to transport concrete from staging areas, and other factors. A bad night might not see a single barrier emplaced; during the most productive thirteen-hour shift, 105 were laid.&lt;/p&gt;
&lt;p&gt;The logistical planning and execution of each barrier emplacement is an impressive case study in of itself. The number of personnel, vehicles, and refined tactics to safely emplace an average of over seventy barriers in a single shift is a lesson that must be captured for any similar future operations. A concrete holding area had to be constructed near Route Gold with a continuous flow of barriers and activity. Production at Iraqi concrete batching sites had to be increased. Each operation included a route clearance team to clear the route up to the wall; a security team for the holding area; a holding area team that included a crane, flatbed tractor trailers, and even two armored forklifts that in some cases transported walls all the way down to the wall site using already cleared routes; and a building site team (the main effort responsible for IED clearing around the site and construction of the wall) that included a crane, emplacement crew, and combined-arms team.&lt;/p&gt;
&lt;p&gt;As JAM realized that IEDs were not going to stop the construction of the wall, the group’s fighters came out in force to fight the besiegers with direct fire. By so doing, they gave up one of the biggest advantages of being an urban fighter: remaining hidden by the city. Once JAM militia engaged the wall construction team, they became visible, easily identified, and targeted by the coalition’s far superior weapons and aerial ISR and strike capabilities.&lt;/p&gt;
&lt;p&gt;While the decision regarding where to place the wall was based primarily on the maximum range of rockets targeting the Green Zone, one of the surprising effects the wall had on the enemy was cutting them off from their financial support. The Gold Wall on al-Quds Street not only separated Sadr City from nearby neighborhoods, which were more affluent and vulnerable to JAM extortion, but also cut JAM off from the Jamila Market, which was a major source of money. JAM extorted residents, merchants, and customers around the market area. The group also sold its own goods and weapons in the market. Coalition forces were not fully aware of the consequent effects on JAM finances before they started constructing the wall.&lt;/p&gt;
&lt;p&gt;The militia had little choice but to “fight the wall.” Being sealed into the city would eventually force them to enter through heavily armed Iraqi Army checkpoints that would allow government forces to individually target them. It also would prevent their access to the Jamila Market and the population south of the wall. But most importantly, the wall would prevent the group’s ability to move fighters and weapons, conduct rocket attacks, and maintain a flow of resources, all of which were vital to JAM’s ability to function and retain influence.&lt;/p&gt;
&lt;p&gt;As JAM members fought the wall, they continuously diminished their resources. In the beginning, JAM contested the wall with large groups of fighters. As the days and weeks progressed and the wall continued to grow, the numbers of fighters that would attack the siege party progressively got smaller. Coalition ground forces were successful at killing enemy fighters that contested the wall. At the same time, 3rd BCT also became increasingly effective at destroying rocket teams with the suite of persistent ISR and immediate precision airstrikes (from attack helicopters, fixed-wing aircraft, and drones) that they controlled. As the final barriers of the wall were emplaced, JAM appeared to have exhausted its supplies and fighters.&lt;/p&gt;
&lt;p&gt;The positive effect of the Gold Wall is hard to argue. From the start of the operations on April 15 to late May, when the wall was connected to other walls that had been previously built or were simultaneously built around Sadr City, the number of SIGACTS recorded in 1-68 CAB’s area of responsibility—attacks and other significant events—went from of a high of 138 a week to just eight.&lt;/p&gt;

&lt;p&gt;In just over a month, 3rd BCT had emplaced four thousand twelve-foot-tall, six-ton T-wall sections to construct a wall nearly three miles long. During the battle the BCT &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;fired&lt;/a&gt; 120 Hellfire missiles, six Guided Multiple Launch Rocket System rounds, eight Air Force guided bombs, and over eight hundred 120-millimeter tank and twelve-thousand 25-millimeter Bradley cannon rounds. Precise JAM casualty numbers are hard to determine (especially since coalition forces weren’t able to go inside Sadr City to conduct battle damage assessments during the operation). Some &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;reports&lt;/a&gt; estimated the number JAM fighters killed to be only 700, but it is likely that US and ISF soldiers killed, wounded, or captured thousands of JAM fighters.&lt;/p&gt;
&lt;p&gt;On &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;May 12&lt;/a&gt;, Muqtada al-Sadr announced a ceasefire. The final barrier of the gold wall was emplaced on May 15. Al-Sadr’s decision was clearly made from a position of weakness. JAM fighters within Sadr City had been neutralized. They were surrounded and effectively contained inside a concrete fortress. While the wall’s completion didn’t mean JAM was defeated, it did set the conditions for reestablishing government control of Sadr City. Iraq Army forces were ordered into Sadr City, but faced minimal resistance from JAM’s exhausted forces. Both Iraqi and coalition forces then exploited their success with major reconstruction projects that focused on local economics, government services, and infrastructure. They also transitioned back to counterinsurgency operations to maintain control of the gains they had achieved.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mwi.usma.edu/wp-content/uploads/2017/07/MWI-shield-50x55.png&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-7126&quot; src=&quot;https://mwi.usma.edu/wp-content/uploads/2017/07/MWI-shield-50x55.png&quot; alt=&quot;&quot; width=&quot;50&quot; height=&quot;55&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Lessons from the Battle of Sadr City&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Context in war is everything. The political and military factors involved in the Battle of Sadr City—from the tactical to the strategic level—are in many ways unique. But there are also a number of urban warfare lessons that were learned (and in many cases re-learned) that need to be captured for consideration in future urban combat operations.&lt;/p&gt;
&lt;p&gt;The history of urban warfare includes a wide variety of operations along the full spectrum of conflict (offense, defense, and stability). Since 9/11, the US military has predominantly been engaged in low-intensity counterinsurgency and stability operations, but the Battle of Sadr City was a high-intensity offensive mission against an enemy-held area.&lt;/p&gt;
&lt;p&gt;Urban terrain gives a distinct advantage to a defender. Military or militarized forces that defend from cities seek to diminish the technological and numerical superiorities of an attacking force, especially ISR and aerial-enabled strike capabilities. Dense urban terrain limits the ability of military forces to maneuver. Hiding among buildings that effectively become concrete bunkers, defenders can funnel military formations into ambushes and terrain that breaks them apart, allowing them to be defeated piecemeal. A city’s maze of fortified structures also allows defenders to maneuver from building to building, often with prepared tunnels or holes in walls, to avoid air-delivered munitions or fixing forces.&lt;/p&gt;
&lt;p&gt;Populated urban terrain, where it is extremely difficult to distinguish enemy forces from the civilian population, allows an insurgent to employ guerrilla tactics. These include anti-armor near ambushes, sniper attacks, and bombings. If engaged, enemy forces slip back into the population.&lt;/p&gt;
&lt;p&gt;The entire environment establishes a military dilemma. The advantages that occupying a city gives to a defender will drive them to withdraw into cities. Likewise, the disadvantages for an attacker encourages most modern military forces to adopt an approach used historically, avoiding or bypassing cities whenever possible.&lt;/p&gt;
&lt;p&gt;But warfare includes chance, and militaries often do not get a choice. When a war’s political objectives include destroying an enemy in a city, reclaiming a besieged city, or both, the military must accomplish the mission.&lt;/p&gt;
&lt;p&gt;There are many mission-specific variables that will determine a military’s approach to accomplishing an urban operation. Among these are the amount of time and forces available to accomplish the mission, the viability of removing the city’s population, and political will in the face of the destructive nature of an urban battle. History shows that the most common approach a military force will take against any enemy-held urban area is to isolate or surround the city, remove as much of the population as possible, and then conduct costly, block-by-block, house-by-house operations until the enemy is cleared from the city. Because of the advantages afforded the defender, the attacker will typically have to use massive amounts of concrete-penetrating artillery and bombs that destroy most of the structures in the area of operations. This explains a US Army major’s &lt;a href=&quot;https://timesmachine.nytimes.com/timesmachine/1968/02/08/88924930.html&quot;&gt;remark during the Vietnam War’s Tet Offensive&lt;/a&gt; that “it became necessary to destroy the town to save it.”&lt;/p&gt;
&lt;p&gt;These methods were used in most urban operations to retake an enemy captured city in recent history: Stalingrad in 1943, Hue in 1968, Grozny in 1994, and Fallujah in 2004. This is also the approach the world has witnessed in recent operations in cities occupied by the Islamic State, from Mosul to Marawi. But the 2008 Battle of Sadr City revealed a different approach.&lt;/p&gt;
&lt;p&gt;Many of the lessons of urban warfare discovered in the Battle of Sadr City are enduring; others are unique to the context of the fight. Either way, it is important to ensure the lessons learned, or relearned, are considered by military thinkers when they face the next complex urban mission.&lt;/p&gt;
&lt;p&gt;Strategically, the Battle of Sadr City reminds us that &lt;a href=&quot;https://www.clausewitz.com/readings/Echevarria/ECHJFQ.htm&quot;&gt;war is the continuation of policy&lt;/a&gt; by other means and subject to political control, objectives, and rationale. Politics and war are always intertwined. Military forces must account for national political objectives and constraints on the use of force when deciding on military strategy and tactics. In the case of Sadr City, significant political constraints were placed on the military.&lt;/p&gt;
&lt;p&gt;Since coalition forces were not allowed to go into the city the enemy was using as a base of operations and safe haven, they were forced to create different options. They could not adopt the historical tactics of house-to-house clearing, particularly since the option to evacuate the city’s two million residents was not feasible because of the both the fragile sectarian security situation and political environment in Iraq. While 3rd BCT did execute information operations, telling civilians to leave or stay clear of the battle areas (especially the vicinity of the wall-building operations), the reality of the situation was that there was nowhere for the residents of Sadr City to go. Managing two million internally displaced persons was not something the government of Iraq was capable of, politically or logistically. Unable to clear the enemy safe haven, the military sought to isolate it.&lt;/p&gt;
&lt;p&gt;Because of the local, national, and international political dynamics, coalition forces also further self-restrained their methods by only using wide-area effects weapons such as mortars and artillery in very limited circumstances out of concern over civilian casualties and the destruction of infrastructure. The risk to the wall construction could have been reduced with such fire, but it was not used. But, the need for concrete-penetrating munitions, which drove the use of GMLRS, for example, on enemy snipers deep within a five-story building, was consistent with previous urban battles.&lt;/p&gt;
&lt;p&gt;Maintaining the political will to continue urban operations will often prove challenging, but will always be crucial. In the Battle of Sadr City, coalition forces had to worry about the will of their political leaders and casualty-weary populations; six US soldiers &lt;a href=&quot;https://www.rand.org/pubs/research_reports/RR160.html&quot;&gt;died&lt;/a&gt; during this battle. They also had to worry about Iraqi political will, as al-Maliki balanced fragile sectarian relationships and populations. Moreover, all perceptions were influenced by a globally connected world and 24/7 media reporting. Journalists were embedded with coalition forces during much of the battle. The total number of civilian casualties is unclear, but had destruction and civilian casualties reached a critical threshold, the military operation would have been impacted by further political constraints.&lt;/p&gt;
&lt;p&gt;Operationally, it is important to remember that the Battle of Sadr City was fought within a greater campaign. It was influenced by all the other operations going on around the country (and vice versa). There were reports of JAM leadership asking for reinforcements from other strongholds, but those fighters were too busy fighting coalition forces and ISF in their areas. The Iraqi planned offensive against Basra was the spark of JAM’s uprising in Baghdad. A military commander’s ability to understand, visualize, and describe these connections will always be a challenge, and an important part of a commander’s staff’s focus in combat.&lt;/p&gt;
&lt;p&gt;The Battle of Sadr City also strongly contests the overly simplistic notion that &lt;a href=&quot;https://www.thecipherbrief.com/urban-combat-cities-are-sponges-that-soak-up-troops&quot;&gt;cities are sponges that soak up troops&lt;/a&gt;. Determining force requirements for urban environments cannot only focus on the size of the city and its population. The Battle of Sadr City saw a coalition force of around three thousand defeat an enemy of between two thousand and five thousand within an urban area inhabited by two million residents. The political objective, military mission, forces and tools available, enemy capabilities, security environment, terrain, and time needed to accomplish the mission all are more important factors than just the size of the city. A small military force can accomplish many missions in extremely large urban areas given the right circumstances and objectives.&lt;/p&gt;
&lt;p&gt;The small American force in the Battle of Sadr City would not have been able to accomplish its mission without the unprecedented theater-level ISR and strike capabilities pushed down to 3rd BCT. The organizational flexibility necessary to make such changes and the skills required to manage those assets are all important lessons to institutionalize and consider when thinking about force size and design.&lt;/p&gt;
&lt;p&gt;Tactically, there are many lessons from the Battle of Sadr City. Adaptions made by the units involved—across all of the Army’s &lt;a href=&quot;https://armypubs.army.mil/epubs/DR_pubs/DR_a/pdf/web/ARN5089_ADP%203-0%20FINAL%20WEB.pdf&quot;&gt;warfighting functions&lt;/a&gt; (mission command, movement and maneuver, intelligence, fires, sustainment, and protection)—could be discussed at length. Selecting available capabilities, accounting for terrain considerations, and the use of concrete obstacles stand out as necessary highlights.&lt;/p&gt;
&lt;p&gt;Military capabilities are about having the best tools for the job. The way military capabilities are designed is so when a formation faces a situation or environment it wasn’t prepared for, small-unit leaders can adapt their methods and their modular equipment. When a force faces an unfamiliar environment, it must be able to adapt. But good leaders and units adapt; great ones adapt quickly. The units of the Battle of Sadr City quickly adapted from counterinsurgency formations and methods to high-intensity urban combat.&lt;/p&gt;
&lt;p&gt;These adaptations required employing equipment and weapons for different purposes than they were designed for, like using tank canister rounds to clear streets of IEDs. Adaptations also can call for completely different equipment. The fact that 1-68 CAB had its tanks and armored vehicles within reach—and had trained for high-intensity operations before its deployment to Iraq—allowed the unit to quickly transition from a counterinsurgent force into a combined arms team capable of high-intensity urban combat. Tanks and infantry fighting vehicles proved invaluable, while Stryker vehicles were found wanting in this environment.&lt;/p&gt;
&lt;p&gt;It is not that the Stryker is not a useful vehicle. It offers a combination of speed, mobility, and transport options unlike that of other ground combat vehicles. But in “&lt;a href=&quot;https://www.rand.org/content/dam/rand/pubs/monographs/2011/RAND_MG1093.sum.pdf&quot;&gt;iron triangle&lt;/a&gt;” considerations (payload, performance, and protection) for vehicles in this environment, it did not provide the necessary protection against EFPs and was too wide for most of the urban terrain. Adding tanks that could lead the Stryker patrols was a successful adaptation to the Stryker organization. Other vehicle mixes and tactical changes were also required, such as emplacing Bradley IFVs in overwatch positions on high ground and using highly maneuverable armored HMMVWs to secure the rear of formations. Until the military deploys a combat vehicle more suited for urban terrain with mobile protected firepower capabilities, adaptable leaders and equipment sets will be required.&lt;/p&gt;
&lt;p&gt;Concrete barriers deserve their own place in urban combat history as one of &lt;a href=&quot;https://mwi.usma.edu/effective-weapon-modern-battlefield-concrete/&quot;&gt;the most effective weapons of modern warfare&lt;/a&gt;—especially in the Battle of Sadr City.&lt;/p&gt;
&lt;p&gt;Operation Gold Wall took many of the advantages of fighting in a city away from the enemy. The wall took the enemy’s ability to hide among the population, took away their ability defeat the attacker in detail with guerrilla tactics, separated them from multiple vital support lines, and forced them to fight. If JAM did not come out to resist the emplacement of the wall they faced isolation, being cut off from resupply, firing sites, and their critical financial base. When they did come out to resist, they became visible and were easily targeted by US ISR and ground forces. Instead of fish in the sea, they became fish in a barrel. Building a wall around the enemy’s base of operation created the conditions that made it both impossible for enemy fighters to operate effectively and possible to restore security to the broader population of Baghdad.&lt;/p&gt;
&lt;p&gt;The use of concrete before and during the battle must be considered for future urban offensive, defensive, and stability operations. These lessons will quickly be lost if not written into doctrine. Creating a formation with effective siege-engine capabilities, able to emplace concrete walls safely and quickly, is both a science and an art. The technologies and tactics all played a role in the speed of wall emplacement and should be used as a starting point. But these methods could also be improved with planning, practice, and possibly new innovations.&lt;/p&gt;
&lt;p&gt;Operation Gold Wall employed medieval siege warfare tactics with a twist. Instead of a city’s population withdrawing behind castle walls to wait out the besieging army, coalition forces brought a modern version of a siege engine up to the edge of JAM’s safe haven and built a wall around the enemy. This was very similar to the ancient tactic of circumvallation, an example of which was seen when Julius Caesar &lt;a href=&quot;https://www.britannica.com/event/Battle-of-Alesia-52-BCE&quot;&gt;built&lt;/a&gt; a twelve-foot-high, eleven-mile wall around Alesia to defeat 60,000 Gauls in 52 BC.&lt;/p&gt;
&lt;p&gt;Indeed, there are also lessons from ancient siege operations that could be applied to future modern urban combat operations. For instance, during the Middle Ages, a large wicker or wooden screen called a &lt;a href=&quot;https://www.revolvy.com/page/Mantlet&quot;&gt;mantlet&lt;/a&gt; was placed in front of a besieging force’s engineers digging trenches up to a castle wall (an activity called “&lt;a href=&quot;http://www.ancientfortresses.org/medieval-siege-warfare.htm&quot;&gt;sapping&lt;/a&gt;,” the origin of the modern term “sapper”) to provide concealment and some cover from archers on top of the walls. The coalition forces’ concrete emplacement teams, especially the lone soldier that had to unhook the crane cable from the T-wall section, were extremely vulnerable. A version of the mantlet or modern sniper screens could be placed in front of the barrier operation to provide concealment from attack.&lt;/p&gt;
&lt;p&gt;Even without a historical review, advancements can be made in countermobility, siege, and isolation tactics, especially those involving concrete barrier emplacement operations. Despite the years and miles of concrete operations in Iraq, no notable new technologies were deployed to assist in concrete emplacement. Concrete wall design did not change. Cranes were required to get T-walls off trucks and soldiers had to scale ladders to unhook them from the cranes. A closer examination is warranted, with the aim of enhancing the construction, transportation, and emplacement of barriers and walls.&lt;/p&gt;
&lt;p&gt;The psychological impacts of the Gold Wall also warrant discussion. The wall clearly agitated the enemy and made JAM fighters come out and fight. The concept of imposing one’s will on the enemy goes back at least to Prussian philosopher Carl von Clausewitz. The actual act of imposing their will on the enemy by building the wall had a positive psychological effect on the coalition soldiers. It was a proactive action, fundamentally different than the reactive responses that had characterized day-to-day operations prior to the battle and especially the emotionally draining experience of waiting to get hit by IEDs without an enemy to strike back at.&lt;/p&gt;
&lt;p&gt;The Battle of Sadr City also serves as a vignette to analyze urban terrain, both for the physical advantages and disadvantages it provides to both sides of a battle and in relation to the complex, social-cultural “system of systems” that are cities. Existing key terrain has to be properly identified and then utilized. Because Sadr City was purpose built, its buildings designed and construction relatively at the same time, its uniform layout of largely three-story structures made the few taller buildings key terrain that could be fortified and used as overwatch positions for key locations such as major intersections, ambush sites, or rocket-launching sites. Key terrain can also be created to shape a battlefield. The Gold Wall fell into this category, but attacking forces might also build a new piece of high ground with a new building, tower, or other structure. Finally, key terrain can also be removed, like when, during the Battle of Sadr City, attacking forces used GMLRS to reduce a sniper bunker in a five-story building. Beyond physical terrain analysis, understanding and balancing the relationship of a city’s systems to enemy and friendly forces will continue to be a vital requirement for the military. The financial and popular support provided by a very specific part of the city was a critical requirement for JAM’s survival, so much so the group gave up all the advantages of city warfare attempting to maintain control of it.&lt;/p&gt;
&lt;p&gt;The US military prefers to avoid cities. But being a global superpower with complex and wide-ranging national interests means the military often does not get to choose where, who, or when it will fight. The Battle of Sadr City provides one alternative to traditional approaches to defeating an enemy force that has chosen to fight from within a city. It breaks the mold of avoiding cities because of the advantages it gives a defender, the troop-intensive requirements of attacking a city, and the destructive results of doing so. The use of combined arms maneuver (tanks and armored infantry fighting vehicles), massive ISR and precision strike capabilities, and elements of ancient siege warfare (walls) allowed a relatively small American force to contain, exhaust, and set the conditions to defeat a large enemy force within a populated dense urban area without destroying the city.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Special thanks to Dr. Dave Johnson, Col. (ret) Mike Pappal, Lt. Col. (ret) Rob MacMillan, Maj. John Chambers, and Command Sgt. Maj. (ret) John Kurak, who contributed to this article with their experience and research.&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;author-shortcodes&quot;&gt;
&lt;div class=&quot;author-inner&quot;&gt;
&lt;div class=&quot;author-image&quot;&gt;&lt;img src=&quot;https://mwi.usma.edu/wp-content/uploads/2018/08/john-spencer.jpg&quot; alt=&quot;&quot;/&gt;
&lt;/div&gt;
&lt;div class=&quot;author-info&quot;&gt;John Spencer serves as the Chair of Urban Warfare Studies as the Modern War Institute and Co-Director of the &lt;a href=&quot;https://mwi.usma.edu/urban-warfare-project/&quot;&gt;Urban Warfare Project&lt;/a&gt;. He is a retired Army major who served twenty-five years as an infantryman, including two combat deployments to Iraq. Follow him at &lt;a href=&quot;https://twitter.com/SpencerGuard&quot;&gt;@SpencerGuard&lt;/a&gt;.
&lt;p&gt;The views expressed in this article are those of the authors and do not reflect the official policy or position of the Department of the Army, the Department of Defense, or the US government.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Featured image credit: Staff Sgt. Jason Bailey&lt;/p&gt;


&lt;div class=&quot;apss-social-share apss-theme-4 clearfix&quot;&gt;
&lt;div class=&quot;apss-facebook apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Facebook&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-twitter apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Twitter&lt;/span&gt;&lt;span class=&quot;apss-share&quot;&gt;Tweet&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-google-plus apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on Google Plus&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-linkedin apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Share on LinkedIn&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Share&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-email apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Send email&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Mail&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;apss-print apss-single-icon&quot;&gt;
&lt;div class=&quot;apss-icon-block clearfix&quot;&gt;&lt;span class=&quot;apss-social-text&quot;&gt;Print&lt;/span&gt; &lt;span class=&quot;apss-share&quot;&gt;Print&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Thu, 31 Jan 2019 15:50:38 +0000</pubDate>
<dc:creator>jspencer508</dc:creator>
<og:type>article</og:type>
<og:title>Stealing the Enemy's Urban Advantage: The Battle of Sadr City - Modern War Institute</og:title>
<og:description>From March 23 to May 12, 2008, US Army and Iraq security forces engaged in an intense urban battle in and around Baghdad’s Shiite neighborhood of Sadr City. The battle forced units that had been mainly focused on counterinsurgency operations to convert overnight into combined-arms teams of armor and mechanized infantry and engage a large …</og:description>
<og:url>https://mwi.usma.edu/stealing-enemys-urban-advantage-battle-sadr-city/</og:url>
<og:image>https://mwi.usma.edu/wp-content/uploads/2019/01/97393.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://mwi.usma.edu/stealing-enemys-urban-advantage-battle-sadr-city/</dc:identifier>
</item>
<item>
<title>Facebook Referred to Kids as Young as Five as “Whales” for Its Monetized Games</title>
<link>https://www.usgamer.net/articles/facebook-unsealed-documents-whales-mobile-games</link>
<guid isPermaLink="true" >https://www.usgamer.net/articles/facebook-unsealed-documents-whales-mobile-games</guid>
<description>&lt;header class=&quot;header-standard&quot; readability=&quot;1&quot;&gt;&lt;div class=&quot;details&quot; readability=&quot;7&quot;&gt;

&lt;p itemprop=&quot;summary&quot; class=&quot;subtitle&quot;&gt;Facebook wouldn't refund large purchases made by underage gamers.&lt;/p&gt;
&lt;/div&gt;
&lt;/header&gt;&lt;p&gt;You've heard this story before: kid wants to buy something in the mobile game they're playing, asks their parents for their credit card info, then accidentally racks up a bunch of charges. It turns out the same thing happened on Facebook, newly unsealed court documents reveal.&lt;/p&gt;
&lt;p&gt;In 2012 Facebook fought a class-action lawsuit which claimed the social media company profited from children who accidentally racked up huge credit card charges. The lead plaintiff was playing a game on Facebook when they asked to borrow their mother's credit card to make a $20 in-game purchase. According to lawyers, the child continued to make charges to the same card for weeks without realizing it. They believed they were making the purchases &quot;with virtual currency[.]&quot;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.revealnews.org/blog/a-judge-unsealed-a-trove-of-internal-facebook-documents-following-our-legal-action/&quot;&gt;The Reveal&lt;/a&gt; was recently able to unseal internal Facebook documents regarding refunds for games. According to the documents, Facebook conducted an analysis of users playing Facebook games after employees began expressing concern. The results found the average age of Angry Birds players on Facebook was five years old.&lt;/p&gt;
&lt;p&gt;&lt;iframe src=&quot;//www.youtube.com/embed/uWk1Is4cEBc?wmode=opaque&quot; width=&quot;640&quot; height=&quot;390&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot; allowtransparency=&quot;true&quot;&gt;[embedded content]&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;The internal Facebook memo discovered that while parents are aware of their children playing games on Facebook, many don't believe their child would be able to purchase anything without authorization. This is how purchases on Apple iOS work as buyers must re-authorize every purchase with their password.&lt;/p&gt;
&lt;p&gt;The Reveal reports that in one of the unsealed documents, two Facebook employees are recorded discussing whether or not to refund a child—whom they refer to as a &quot;whale&quot;—who racked up $6,545 in charges from a Facebook game. &quot;Is the user writing in [as] a parent, or is this user a 13ish year old,&quot; asks one employee recorded as Michael. The other Facebook employee named Gillian responds, &quot;It's a 12ish yr[sic] old. Says [it's] 15. Looks a big younger. She* not its. Lol.&quot; Michael then replies, &quot;...I wouldn't refund.&quot;&lt;/p&gt;
&lt;p&gt;The class-action lawsuit against Facebook was settled confidentially in 2016, but the judge who unsealed the documents notes the information will &quot;be of great public interest, particularly since it relates specifically to Facebook's transactions with minors.&quot; This comes at a time where Facebook is facing a new level of scrutiny after the company is &lt;a href=&quot;https://www.usgamer.net/articles/psa-massive-facebook-breach-stole-login-info-of-50-million-accounts&quot;&gt;was accused of using personal data inappropriately&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Although gaming is just one part of Facebook, information from the documents should shed light on how Facebook interacts with its users and treats the customers that entrust it with personal data.&lt;/p&gt;
</description>
<pubDate>Thu, 31 Jan 2019 14:31:03 +0000</pubDate>
<dc:creator>throwaway2048</dc:creator>
<og:type>website</og:type>
<og:title>Facebook Referred to Kids as Young as Five as &quot;Whales&quot; for Its Monetized Games</og:title>
<og:description>Facebook wouldn't refund large purchases made by underage gamers.</og:description>
<og:image>https://cdn.gamer-network.net/2019/usgamer/facebook_logo.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.usgamer.net/articles/facebook-unsealed-documents-whales-mobile-games</dc:identifier>
</item>
</channel>
</rss>