<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>VideoLAN is 20 years old today</title>
<link>https://www.videolan.org/press/videolan-20.html</link>
<guid isPermaLink="true" >https://www.videolan.org/press/videolan-20.html</guid>
<description>&lt;p&gt;&lt;strong&gt;Paris, Feb 1&lt;sup&gt;st&lt;/sup&gt; 2020&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;VideoLAN celebrates its 20 years anniversary&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;VideoLAN&lt;/strong&gt; project and the &lt;a href=&quot;https://www.videolan.org/videolan/&quot;&gt;VideoLAN&lt;/a&gt; non-profit organization are happy to celebrate today the 20&lt;sup&gt;th&lt;/sup&gt; anniversary of the open-sourcing of the project.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VideoLAN&lt;/strong&gt; originally started as a project from the &lt;a href=&quot;https://viarezo.fr/&quot;&gt;Via Centrale Réseaux&lt;/a&gt; student association, after the successful Network 2000 project.&lt;br/&gt;But the true release of the project to the world was on 1st of February 2001, the &lt;a href=&quot;https://www.centralesupelec.fr/&quot;&gt;École Centrale Paris&lt;/a&gt; director, Mr. Gourisse, allowed the open-sourcing of the whole VideoLAN project under the &lt;a href=&quot;https://www.gnu.org/licenses/old-licenses/gpl-2.0.html&quot;&gt;GNU GPL&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This open sourcing concerned all the software developed by the VideoLAN project, including &lt;em&gt;VideoLAN Client&lt;/em&gt;, &lt;em&gt;VideoLAN Server&lt;/em&gt;, &lt;em&gt;VideoLAN Bridge&lt;/em&gt;, &lt;em&gt;VideoLAN Channel Switcher&lt;/em&gt;, but also libraries to decode DVDs, like &lt;em&gt;libdca&lt;/em&gt;, &lt;em&gt;liba52&lt;/em&gt; or &lt;em&gt;libmpeg2&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;At that time, this was a risky decision for the &lt;a href=&quot;https://www.centralesupelec.fr/&quot;&gt;École Centrale Paris&lt;/a&gt;, and the VideoLAN project is very grateful.&lt;/p&gt;
&lt;div class=&quot;row&quot;&gt;&lt;a href=&quot;https://images.videolan.org/images/VideoLAN_GPL.jpeg&quot;&gt;&lt;img src=&quot;https://images.videolan.org/images/VideoLAN_GPL.jpeg&quot; alt=&quot;VideoLAN decision to GPL&quot; class=&quot;center-block img-responsive col-md-6&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;h3&gt;Evolution&lt;/h3&gt;
&lt;p&gt;Since then, the project evolved to become a French non-profit organization, and continued developing numerous solutions around the free software multimedia world.&lt;/p&gt;
&lt;p&gt;Today, &lt;strong&gt;VLC media player&lt;/strong&gt; is used regularly by hundreds of millions of users, and has been downloaded more than 3.5 billion times over the years. VLC is today available on Windows, macOS, Linux, Android &lt;em&gt;(including TV and Auto versions)&lt;/em&gt;, iOS &lt;em&gt;(and AppleTV)&lt;/em&gt;, OS/2 and BSD.&lt;/p&gt;
&lt;p&gt;Over the years, around &lt;strong&gt;1000 volunteers&lt;/strong&gt; worked to make VLC a reality.&lt;/p&gt;
&lt;p&gt;We're working on the next versions of VLC, to bring better video and audio quality, better subtitle options, improved UI and other improvements asked by our community.&lt;/p&gt;
&lt;p&gt;In addition to the popular &lt;a href=&quot;https://www.videolan.org/vlc/&quot;&gt;VLC media player&lt;/a&gt; &lt;em&gt;(the new name of VideoLAN Client)&lt;/em&gt;, VideoLAN also developed &lt;strong&gt;x264&lt;/strong&gt;, the most popular software encoder in the world, streaming software like DVBlast, DVD and Blu-Ray stack libraries or, recently the &lt;a href=&quot;https://code.videolan.org/videolan/dav1d&quot;&gt;dav1d&lt;/a&gt; AV1 decoder.&lt;/p&gt;
&lt;img src=&quot;https://images.videolan.org/images/events/vdd18.jpg&quot; alt=&quot;VDD 2018&quot; class=&quot;center-block img-responsive&quot;/&gt;&lt;h2&gt;Celebrations&lt;/h2&gt;
&lt;p&gt;Several events are planned online and in real-life, and they will be announced through the 2021 year.&lt;br/&gt;Because of the current pandemic, the real-life celebrations for this event will be delayed, for the second half of the year.&lt;/p&gt;
&lt;p&gt;As a first step, we're currently contacting most of the major contributors to VideoLAN and VLC, including developers, event organizers, forum helpers, documentation writers and other parts of the community to send a very special and unique package.&lt;/p&gt;
&lt;p&gt;If you are part of those, please check that we have your address!&lt;/p&gt;
&lt;p&gt;Stay tuned for more news!&lt;/p&gt;

&lt;h2&gt;About VideoLAN&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.videolan.org/&quot;&gt;VideoLAN&lt;/a&gt; is a non-profit organization, run by volunteers, that supports the development of free and open source multimedia solutions.&lt;br/&gt;Its most famous distributed software, the &lt;a href=&quot;https://www.videolan.org/vlc&quot;&gt;VLC media player&lt;/a&gt;, is completely free and also one of the most used programs in the world. The application is free of advertisements, spyware, bloatware and other misfeatures that could be deceptive to its users.&lt;/p&gt;
&lt;p&gt;Visit &lt;a href=&quot;http://www.videolan.org/&quot;&gt;http://www.videolan.org&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Press Contact&lt;/h3&gt;
&lt;p&gt;press@videolan.org&lt;/p&gt;
&lt;img src=&quot;https://images.videolan.org/images/events/vdd08.jpg&quot; alt=&quot;First VDD&quot; class=&quot;center-block img-responsive&quot;/&gt;</description>
<pubDate>Mon, 01 Feb 2021 19:42:05 +0000</pubDate>
<dc:creator>jbk</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.videolan.org/press/videolan-20.html</dc:identifier>
</item>
<item>
<title>Google Stadia shuts down internal studios, changing business focus</title>
<link>https://kotaku.com/google-stadia-shuts-down-internal-studios-changing-bus-1846146761</link>
<guid isPermaLink="true" >https://kotaku.com/google-stadia-shuts-down-internal-studios-changing-bus-1846146761</guid>
<description>&lt;div class=&quot;sc-1eow4w5-2 loxZOX img-wrapper&quot; contenteditable=&quot;false&quot; data-syndicationrights=&quot;true&quot; data-imagerights=&quot;fair-use&quot; data-hidecredit=&quot;false&quot;&gt;

&lt;div class=&quot;sc-1eow4w5-3 lktKQM image-hydration-wrapper&quot;&gt;
&lt;div&gt;&lt;img src=&quot;data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot; alt=&quot;Illustration for article titled Google Stadia Shuts Down Internal Studios, Changing Business Focus&quot; data-srcset=&quot;https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_80,pg_1,q_80,w_80/mbzutcwxko5svfxpfq9r.png 80w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,fl_progressive,q_80,w_320/mbzutcwxko5svfxpfq9r.png 320w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,fl_progressive,pg_1,q_80,w_470/mbzutcwxko5svfxpfq9r.png 470w, https://i.kinja-img.com/gawker-media/image/upload/c_scale,f_auto,fl_progressive,pg_1,q_80,w_800/mbzutcwxko5svfxpfq9r.png 800w, https://i.kinja-img.com/gawker-media/image/upload/c_scale,f_auto,fl_progressive,pg_1,q_80,w_1600/mbzutcwxko5svfxpfq9r.png 1600w&quot; data-expanded-srcset=&quot;https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_80,pg_1,q_80,w_80/mbzutcwxko5svfxpfq9r.png 80w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_140/mbzutcwxko5svfxpfq9r.png 140w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_265/mbzutcwxko5svfxpfq9r.png 265w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_340/mbzutcwxko5svfxpfq9r.png 340w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_490/mbzutcwxko5svfxpfq9r.png 490w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_645/mbzutcwxko5svfxpfq9r.png 645w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_740/mbzutcwxko5svfxpfq9r.png 740w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_965/mbzutcwxko5svfxpfq9r.png 965w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_1165/mbzutcwxko5svfxpfq9r.png 1165w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_1315/mbzutcwxko5svfxpfq9r.png 1315w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_1465/mbzutcwxko5svfxpfq9r.png 1465w, https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_1600/mbzutcwxko5svfxpfq9r.png 1600w&quot; sizes=&quot; (max-width: 25em) calc(100vw - 32px), (max-width: 37.31em) calc(100vw - 32px), (min-width: 37.37em) and (max-width: 49.94em) calc(100vw - 32px), (min-width: 50em) and (max-width: 63.69em) 800px, (min-width: 63.75em) and (max-width: 85.19em) calc(66.5vw - 32px), 800px&quot; draggable=&quot;auto&quot; data-chomp-id=&quot;mbzutcwxko5svfxpfq9r&quot; data-format=&quot;png&quot; data-alt=&quot;Illustration for article titled Google Stadia Shuts Down Internal Studios, Changing Business Focus&quot; data-anim-src=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
Screenshot: Google&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google Stadia, the late 2019 streaming platform that promised to revolutionize gaming by letting users stream games without needing to own a powerful PC or console, is altering course, getting out of the game-making business and will now offer its platform directly to game publishers alongside offering Stadia Pro to the public.&lt;/p&gt;



&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;The company is &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;External link&amp;quot;,&amp;quot;https://blog.google/products/stadia/focusing-on-stadias-future-as-a-platform-and-winding-down-sge/&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://blog.google/products/stadia/focusing-on-stadias-future-as-a-platform-and-winding-down-sge/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;announcing the news today&lt;/a&gt;&lt;/span&gt;, though &lt;em&gt;Kotaku&lt;/em&gt; began to hear rumblings from sources close to Stadia last week that Google’s service was heading for a major change. One games industry source told &lt;em&gt;Kotaku&lt;/em&gt; that Google was canceling multiple projects, basically any games slated for release beyond a specific 2021 window, though they believed games close to release would still come out. Today brings some clarification.&lt;/p&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google will close its two game studios, located in Montreal and Los Angeles. Neither had released any games yet. That closure will impact around 150 developers, one source familiar with Stadia operations said. The company says it will try to find those developers new roles at Google.&lt;/p&gt;
&lt;div id=&quot;&quot; class=&quot;bxm4mm-11 gamHXh js_ad-mobile-dynamic js_ad-dynamic ad-mobile-dynamic movable-ad&quot;&gt;

&lt;div class=&quot;bxm4mm-12 iqioLK ad-unit ad-mobile&quot;&gt;
&lt;p&gt;Advertisement&lt;/p&gt;


&lt;/div&gt;

&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Jade Raymond, the veteran producer who helped build &lt;em&gt;Assassin’s Creed&lt;/em&gt; for Ubisoft and moved on to EA several years ago before leaving to run game creation at Stadia, is exiting the company, according to Google.&lt;/p&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google will continue to operate the Stadia gaming service and its $10 monthly Stadia Pro service. It’s unclear how many, if any, exclusive games will still come to the service, though the company has indicated that it can still sign new games and will bring more third-party releases to the platform. It nevertheless will look to many like a draw down of the plan to have Stadia run as a bona fide competitor to console platforms.&lt;/p&gt;
&lt;div class=&quot;bxm4mm-14 iDaCdY&quot;&gt;&lt;label class=&quot;bxm4mm-16 evEDSN&quot;&gt;Advertisement&lt;/label&gt;

&lt;/div&gt;
&lt;div class=&quot;bxm4mm-19 fIUNXF&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;sc-1to1lfh-1 kzUztX js_commerce-inset-permalink&quot; data-inset-url=&quot;https://click.linksynergy.com/deeplink?id=xzXATABADTI&amp;amp;mid=44150&amp;amp;u1=-&amp;amp;murl=https%3A%2F%2Fwww.onzie.com%2Fcollections%2Fmindful-masks&quot; data-inset-category=&quot;CommerceInsetMobile&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;G/O Media may get a commission&lt;/p&gt;
&lt;div class=&quot;sc-1to1lfh-3 jfMGFt&quot;&gt;
&lt;div class=&quot;sc-1to1lfh-10 ggUykf&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;sc-1to1lfh-19 kwJRza js_lazy-image&quot;&gt;
&lt;div&gt;&lt;img src=&quot;data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot; alt=&quot;Click Here To Save 40% on Mindful Masks From Onzie&quot; data-srcset=&quot;https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_180,pg_1,q_80,w_320/clvgjccl0vxutv9fisxo.jpg 320w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_264,pg_1,q_80,w_470/clvgjccl0vxutv9fisxo.jpg 470w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_450,pg_1,q_80,w_800/clvgjccl0vxutv9fisxo.jpg 800w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_675,pg_1,q_80,w_1200/clvgjccl0vxutv9fisxo.jpg 1200w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_900,pg_1,q_80,w_1600/clvgjccl0vxutv9fisxo.jpg 1600w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_80,pg_1,q_80,w_80/clvgjccl0vxutv9fisxo.jpg 80w&quot; data-expanded-srcset=&quot;https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_80,pg_1,q_80,w_80/clvgjccl0vxutv9fisxo.jpg 80w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_78,pg_1,q_60,w_140/clvgjccl0vxutv9fisxo.jpg 140w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_149,pg_1,q_60,w_265/clvgjccl0vxutv9fisxo.jpg 265w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_191,pg_1,q_60,w_340/clvgjccl0vxutv9fisxo.jpg 340w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_275,pg_1,q_60,w_490/clvgjccl0vxutv9fisxo.jpg 490w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_362,pg_1,q_60,w_645/clvgjccl0vxutv9fisxo.jpg 645w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_416,pg_1,q_60,w_740/clvgjccl0vxutv9fisxo.jpg 740w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_542,pg_1,q_60,w_965/clvgjccl0vxutv9fisxo.jpg 965w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_655,pg_1,q_60,w_1165/clvgjccl0vxutv9fisxo.jpg 1165w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_739,pg_1,q_60,w_1315/clvgjccl0vxutv9fisxo.jpg 1315w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_824,pg_1,q_60,w_1465/clvgjccl0vxutv9fisxo.jpg 1465w, https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,g_center,h_900,pg_1,q_60,w_1600/clvgjccl0vxutv9fisxo.jpg 1600w&quot; sizes=&quot;148px&quot; draggable=&quot;auto&quot; data-chomp-id=&quot;clvgjccl0vxutv9fisxo&quot; data-format=&quot;jpg&quot; data-alt=&quot;Click Here To Save 40% on Mindful Masks From Onzie&quot; data-anim-src=&quot;&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sc-1to1lfh-25 jlaKeB&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;Click Here To Save 40% on Mindful Masks From Onzie&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;The company plans to begin offering its Stadia tech to publishers, opening up the possibility for Stadia to become the streaming tech for other video game companies. Google’s head of Stadia operations, longtime console executive Phil Harrison, will focus on pursuing these new partnerships.&lt;/p&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;“We see an important opportunity to work with partners seeking a gaming solution all built on Stadia’s advanced technical infrastructure and platform tools,” Harrison wrote in a blog post today. “We believe this is the best path to building Stadia into a long-term, sustainable business that helps grow the industry.”&lt;/p&gt;
&lt;div id=&quot;&quot; class=&quot;bxm4mm-11 gamHXh js_ad-mobile-dynamic js_ad-dynamic ad-mobile-dynamic movable-ad&quot;&gt;

&lt;div class=&quot;bxm4mm-12 iqioLK ad-unit ad-mobile&quot;&gt;
&lt;p&gt;Advertisement&lt;/p&gt;


&lt;/div&gt;

&lt;/div&gt;
&lt;hr class=&quot;gcp5ez-1 egkUKA&quot;/&gt;&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google initially offered Stadia in a $129 Founder’s Edition bundle, which included a custom controller, a Chromecast Ultra (used for streaming games from Google’s servers to a TV), and three months of Stadia Pro, a subscription service that granted access to certain games.&lt;br/&gt;&lt;/p&gt;
&lt;div id=&quot;&quot; class=&quot;bxm4mm-11 gamHXh js_ad-mobile-dynamic js_ad-dynamic ad-mobile-dynamic movable-ad&quot;&gt;

&lt;div class=&quot;bxm4mm-12 iqioLK ad-unit ad-mobile&quot;&gt;
&lt;p&gt;Advertisement&lt;/p&gt;


&lt;/div&gt;

&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;Internal link&amp;quot;,&amp;quot;https://kotaku.com/everything-we-learned-today-about-google-stadia-update-1835294433&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://kotaku.com/everything-we-learned-today-about-google-stadia-update-1835294433&quot;&gt;promoted&lt;/a&gt;&lt;/span&gt; some exciting features, including the ability to let players pass control of a livestreamed Stadia game on the fly and to share savestates of games, but many of them &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;Internal link&amp;quot;,&amp;quot;https://kotaku.com/google-s-stadia-just-ain-t-it-1839930224&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://kotaku.com/google-s-stadia-just-ain-t-it-1839930224&quot;&gt;weren’t available at launch&lt;/a&gt;&lt;/span&gt; and remained in testing phases.&lt;/p&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;The service’s best moments may have been when its third-party ports showed off the strength of the cloud gaming model, in which a game can run well on just about any device with a screen and a strong internet connection. Ubisoft games such as &lt;em&gt;Assassin’s Creed Odyssey&lt;/em&gt; ran well on Stadia. &lt;em&gt;Destiny 2&lt;/em&gt;'s Stadia support let players of that game drop in for an extra match or quest from their phone or laptop when they were far from their regular gaming gear. When &lt;em&gt;Cyberpunk 2077&lt;/em&gt; was faltering on everything else in December, &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;Internal link&amp;quot;,&amp;quot;https://kotaku.com/cyberpunk-2077-is-surprisingly-fine-on-stadia-1845853147&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://kotaku.com/cyberpunk-2077-is-surprisingly-fine-on-stadia-1845853147&quot;&gt;it was running quite well on Stadia&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;div id=&quot;&quot; class=&quot;bxm4mm-11 gamHXh js_ad-mobile-dynamic js_ad-dynamic ad-mobile-dynamic movable-ad&quot;&gt;

&lt;div class=&quot;bxm4mm-12 iqioLK ad-unit ad-mobile&quot;&gt;
&lt;p&gt;Advertisement&lt;/p&gt;


&lt;/div&gt;

&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Still, without offering an all-you-can-play service nor offering killer exclusive games, Stadia struggled to get its footing. Meanwhile, Microsoft ramped up its xCloud cloud gaming service as part of its Game Pass Ultimate bundle, and Stadia became less and less alluring to the kind of hardcore gamer who can build buzz for a new gaming service.&lt;/p&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Google seemingly built for the future with the creation of first-party studios and a leadership team consisting of accomplished studio heads and creative directors, but those efforts weren’t enough to stave off the fate many people feared when hearing about this Google initiative: that it would lose support from within before it got ample time to realize its potential.&lt;/p&gt;
&lt;div id=&quot;&quot; class=&quot;bxm4mm-11 gamHXh js_ad-mobile-dynamic js_ad-dynamic ad-mobile-dynamic movable-ad&quot;&gt;

&lt;div class=&quot;bxm4mm-12 iqioLK ad-unit ad-mobile&quot;&gt;
&lt;p&gt;Advertisement&lt;/p&gt;


&lt;/div&gt;

&lt;/div&gt;
&lt;p class=&quot;sc-77igqf-0 bOfvBY&quot;&gt;Stadia isn’t quite done. The Stadia tech could still succeed. By many accounts, Stadia runs games great. But as a game-maker, Google appears to have packed it in. Said one source familiar with Stadia’s first-party operations, citing another tech giant’s &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;External link&amp;quot;,&amp;quot;https://www.wired.com/story/amazon-wants-to-win-at-games-so-why-hasnt-it/&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://www.wired.com/story/amazon-wants-to-win-at-games-so-why-hasnt-it/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;widely&lt;/a&gt;&lt;/span&gt; &lt;span&gt;&lt;a class=&quot;sc-1out364-0 hMndXN sc-145m8ut-0 eRdxJX js_link&quot; data-ga=&quot;[[&amp;quot;Embedded Url&amp;quot;,&amp;quot;External link&amp;quot;,&amp;quot;https://www.bloomberg.com/news/features/2021-01-29/amazon-game-studios-struggles-to-find-a-hit?sref=uE15RiYa&amp;quot;,{&amp;quot;metric25&amp;quot;:1}]]&quot; href=&quot;https://www.bloomberg.com/news/features/2021-01-29/amazon-game-studios-struggles-to-find-a-hit?sref=uE15RiYa&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;publicized&lt;/a&gt;&lt;/span&gt; failure to create video games: “Google was a terrible place to make games. Imagine Amazon, but under-resourced.”&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 19:36:42 +0000</pubDate>
<dc:creator>danso</dc:creator>
<og:title>Google Stadia Shuts Down Internal Studios, Changing Business Focus</og:title>
<og:type>article</og:type>
<og:url>https://kotaku.com/google-stadia-shuts-down-internal-studios-changing-bus-1846146761</og:url>
<og:description>Google Stadia, the late 2019 streaming platform that promised to revolutionize gaming by letting users stream games without needing to own a powerful PC or console, is altering course, getting out of the game-making business and will now offer its platform directly to game publishers alongside offering Stadia Pro to the public.</og:description>
<og:image>https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_675,pg_1,q_80,w_1200/mbzutcwxko5svfxpfq9r.png</og:image>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://kotaku.com/google-stadia-shuts-down-internal-studios-changing-bus-1846146761</dc:identifier>
</item>
<item>
<title>Drug decriminalization in Oregon begins today</title>
<link>https://drugpolicy.org/press-release/2021/02/drug-decriminalization-oregon-officially-begins-today</link>
<guid isPermaLink="true" >https://drugpolicy.org/press-release/2021/02/drug-decriminalization-oregon-officially-begins-today</guid>
<description>&lt;p&gt;&lt;strong&gt;Portland, OR –&lt;/strong&gt; Today, Oregon became the first state in the United States to decriminalize possession of small amounts of all drugs and greatly increase access to treatment, recovery, harm reduction and other services. This is a result of a successful ballot initiative spearheaded by Drug Policy Action—the advocacy arm of Drug Policy Alliance--in partnership with long-standing Oregon allies, that was approved by voters in the November 2020 election by a 17-point margin. The change represents a substantial shift in America’s half-century long war on drugs that has led to the criminalization and punishment of millions and has disproportionately harmed communities of color.&lt;/p&gt;
&lt;p&gt;“Today, the first domino of our cruel and inhumane war on drugs has fallen—setting off what we expect to be a cascade of other efforts centering health over criminalization,” &lt;strong&gt;said &lt;a href=&quot;https://drugpolicy.org/kassandra-frederique&quot;&gt;Kassandra Frederique&lt;/a&gt;, Executive Director of the Drug Policy Alliance.&lt;/strong&gt; “For the first time in at least half a century, one place in the United States - Oregon - will show us that we can give people help without punishing them. This law is meant to protect people against persecution, harassment and criminalization at the hands of the state for using drugs and instead given access to the supports they need. Over the last year, we have been painfully reminded of the harms that come from drug war policing and the absence of necessary health services and other support systems in our communities. Today, Oregon shows us a better, more just world is possible.”&lt;/p&gt;
&lt;p&gt;While some jurisdictions, like Multnomah County, decided to move forward with decriminalization ahead of February 1, today the change in the law officially takes effect on a statewide basis. People who possess drugs for their personal use will no longer face arrest and the burden of a criminal record, but will instead be connected with support services—such as evidence-informed and culturally-responsive treatment, peer support and recovery services, harm reduction and other health services, and even housing and job assistance—should they need and want them. Services will be funded through excess marijuana tax revenue (over $45 million) and savings from no longer arresting, incarcerating, and prosecuting people for drug possession. Based on current projections, the excess marijuana tax revenue alone should result in &lt;a href=&quot;https://www.oregon.gov/das/OEA/Documents/forecast0620.pdf#page=56&quot;&gt;over $100 million in funding for services in the first year&lt;/a&gt; and &lt;a href=&quot;https://www.oregon.gov/das/OEA/Documents/forecast0620.pdf#page=56&quot;&gt;up to $129 million by 2027&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;DPA has been actively working in partnership with the &lt;a href=&quot;https://healthjusticerecovery.org/&quot;&gt;Oregon Health Justice Recovery Alliance&lt;/a&gt;—a diverse coalition of more than 70 community-based partners across the state who supported the effort—to ensure that the intent and will of the voters are protected and implemented fully withoutelay, centering the needs of communities most harmed by the war on drugs.&lt;/p&gt;
&lt;p&gt;According to a report by the Oregon Criminal Justice Commission released by the Oregon Secretary of State’s office, the new law will result in a &lt;a href=&quot;https://sos.oregon.gov/elections/Documents/fec/IP44-REI-Statement-Supplement.pdf&quot;&gt;95% decrease in racial disparities in drug arrests&lt;/a&gt;. The actual impact on disparities could be even more dramatic, the report notes, stating “other disparities can exist at different stages of the criminal justice process, including inequities in police stops, jail bookings, bail, pretrial detention, prosecutorial decisions, and others.” &lt;/p&gt;
&lt;p&gt;The fundamental elements of the new law are based on successful models used in other parts of the United States and around the world--including &lt;a href=&quot;https://www.drugpolicy.org/resource/drug-decriminalization-portugal-learning-health-and-human-centered-approach&quot;&gt;Portugal&lt;/a&gt; and &lt;a href=&quot;https://ssir.org/articles/entry/inside_switzerlands_radical_drug_policy_innovation&quot;&gt;Switzerland&lt;/a&gt;, but tailored specifically to meet the needs of Oregonians. DPA worked in consultation with many Oregonians involved in public health, treatment, recovery, equity, economics, criminal justice, civil liberties, and more to craft the measure. &lt;/p&gt;
&lt;p&gt;The initiative was supported by a broad spectrum of local, state and national groups, including the ACLU, Human Rights Watch, AFSCME of Oregon, NAACP of Portland/Eugene Springfield, Oregon Academy of Family Physicians, The Confederated Tribes of Grand Ronde, Oregon Nurses Association, Harm Reduction Coalition, YWCA of Greater Portland, Oregon Chapter of the American College of Physicians, Law Enforcement Action Partnership, Coalition of Communities of Color, Oregon School Psychologists' Association, SEIU Local 49 &amp;amp; 503, Oregon AFL-CIO, and &lt;a href=&quot;https://voteyeson110.org/organizations/&quot;&gt;over 120 others&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Related Federal &amp;amp; State Advocacy&lt;/strong&gt;&lt;br/&gt;The Oregon victory demonstrates that decriminalization is politically viable, invigorating efforts already underway in other states and even in Congress, where DPA has released a federal framework for drug decriminalization. The effort, outlined in a proposal, &lt;a href=&quot;https://www.drugpolicy.org/sites/default/files/2020.08.06_dpa_decrim_model_0.pdf&quot;&gt;&lt;em&gt;&lt;strong&gt;Dismantling the Federal Drug War: A Comprehensive Drug Decriminalization Framework&lt;/strong&gt;&lt;/em&gt;&lt;/a&gt;, unveiled by the organization in August 2020, provides a roadmap for policymakers to effectively end the criminalization of people who use drugs and begin repairing the harm drug law enforcement has caused, particularly in communities of color. &lt;/p&gt;
&lt;p&gt;The Drug Policy Alliance has long advocated for drug decriminalization as a critical first step in ending the drug war, including in its 2017 report, &lt;a href=&quot;https://drugpolicy.org/resource/its-time-us-decriminalize-drug-use-and-possession&quot;&gt;&lt;em&gt;It’s Time for the U.S. to Decriminalize Drug Use and Possession&lt;/em&gt;&lt;/a&gt;. The report is a result of a comprehensive review of public health and criminology literature, an analysis of drug policies in the U.S. and abroad, and input from experts in the fields of drug policy and criminal justice. &lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 18:38:16 +0000</pubDate>
<dc:creator>undefined1</dc:creator>
<og:url>https://drugpolicy.org/press-release/2021/02/drug-decriminalization-oregon-officially-begins-today</og:url>
<og:title>Drug Decriminalization in Oregon Officially Begins Today</og:title>
<og:description>Portland, OR – Today, Oregon became the first state in the United States to decriminalize possession of small amounts of all drugs and greatly increase access to treatment, recovery, harm reduction and other services. This is a result of a successful ballot initiative spearheaded by Drug Policy Action—the advocacy arm of Drug Policy Alliance--in partnership with long-standing Oregon allies, that was approved by voters in the November 2020 election by a 17-point margin.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://drugpolicy.org/press-release/2021/02/drug-decriminalization-oregon-officially-begins-today</dc:identifier>
</item>
<item>
<title>Launch HN: Opstrace (YC S19) – open-source Datadog</title>
<link>https://news.ycombinator.com/item?id=25991485</link>
<guid isPermaLink="true" >https://news.ycombinator.com/item?id=25991485</guid>
<description>Hi HN!
&lt;p&gt;Seb here, with my co-founder Mat. We are building an open-source observability platform aimed at the end user. We assemble what we consider the best open source APIs and interfaces such as Prometheus and Grafana, but make them as easy to use and featureful as Datadog, with for example TLS and authentication by default. It's scalable (horizontally and vertically) and upgradable without a team of experts. Check it out here: &lt;a href=&quot;http://opstrace.com/&quot; rel=&quot;nofollow&quot;&gt;http://opstrace.com/&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://github.com/opstrace/opstrace&quot; rel=&quot;nofollow&quot;&gt;https://github.com/opstrace/opstrace&lt;/a&gt;&lt;/p&gt;&lt;p&gt;About us: I co-founded dotCloud which became Docker, and was also an early employee at Cloudflare where I built their monitoring system back when there was no Prometheus (I had to use OpenTSDB :-). I have since been told it's all been replaced with modern stuff—thankfully! Mat and I met at Mesosphere where, after building DC/OS, we led the teams that would eventually transition the company to Kubernetes.&lt;/p&gt;
&lt;p&gt;In 2019, I was at RedHat and Mat was still at Mesosphere. A few months after IBM announced purchasing RedHat, Mat and I started brainstorming problems that we could solve in the infrastructure space. We started interviewing a lot of companies, always asking them the same questions: &quot;How do you build and test your code? How do you deploy? What technologies do you use? How do you monitor your system? Logs? Outages?&quot; A clear set of common problems emerged.&lt;/p&gt;
&lt;p&gt;Companies that used external vendors—such as CloudWatch, Datadog, SignalFX—grew to a certain size where cost became unpredictable and wildly excessive. As a result (one of many downsides we would come to uncover) they monitored less (i.e. just error logs, no real metrics/logs in staging/dev and turning metrics off in prod to reduce cost).&lt;/p&gt;
&lt;p&gt;Companies going the opposite route—choosing to build in-house with open source software—had different problems. Building their stack took time away from their product development, and resulted in poorly maintained, complicated messes. Those companies are usually tempted to go to SaaS but at their scale, the cost is often prohibitive.&lt;/p&gt;
&lt;p&gt;It seemed crazy to us that we are still stuck in this world where we have to choose between these two paths. As infrastructure engineers, we take pride in building good software for other engineers. So we started Opstrace to fix it.&lt;/p&gt;
&lt;p&gt;Opstrace started with a few core principles: (1) The customer should always own their data; Opstrace runs entirely in your cloud account and your data never leaves your network. (2) We don’t want to be a storage vendor—that is, we won’t bill customers by data volume because this creates the wrong incentives for us. (AWS and GCP are already pretty good at storage.) (3) Transparency and predictability of costs—you pay your cloud provider for the storage/network/compute for running Opstrace and can take advantage of any credits/discounts you negotiate with them. We are incentivized to help you understand exactly where you are spending money because you pay us for the value you get from our product with per-user pricing. (For more about costs, see our recent blog post here: &lt;a href=&quot;https://opstrace.com/blog/pulling-cost-curtain-back&quot; rel=&quot;nofollow&quot;&gt;https://opstrace.com/blog/pulling-cost-curtain-back&lt;/a&gt;). (4) It should be REAL Open Source with the Apache License, Version 2.0.&lt;/p&gt;
&lt;p&gt;To get started, you install Opstrace into your AWS or GCP account with one command: `opstrace create`. This installs Opstrace in your account, creates a domain name and sets up authentication for you for free. Once logged in you can create tenants that each contain APIs for Prometheus, Fluentd/Loki and more. Each tenant has a Grafana instance you can use. A tenant can be used to logically separate domains, for example, things like prod, test, staging or teams. Whatever you prefer.&lt;/p&gt;
&lt;p&gt;At the heart of Opstrace runs a Cortex (&lt;a href=&quot;https://github.com/cortexproject/cortex&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cortexproject/cortex&lt;/a&gt;) cluster to provide the above-mentioned scalable Prometheus API, and a Loki (&lt;a href=&quot;https://github.com/grafana/loki&quot; rel=&quot;nofollow&quot;&gt;https://github.com/grafana/loki&lt;/a&gt;) cluster for the logs. We front those with authenticated endpoints (all public in our repo). All the data ends up stored only in S3 thanks to the amazing work of the developers on those projects.&lt;/p&gt;
&lt;p&gt;An &quot;open source Datadog&quot; requires more than just metrics and logs. We are actively working on a new UI for managing, querying and visualizing your data and many more features, like automatic ingestion of logs/metrics from cloud services (CloudWatch/Stackdriver), Datadog compatible API endpoints to ease migrations and side by side comparisons and synthetics (e.g. Pingdom). You can follow along on our public roadmap: &lt;a href=&quot;https://opstrace.com/docs/references/roadmap&quot; rel=&quot;nofollow&quot;&gt;https://opstrace.com/docs/references/roadmap&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We will always be open source, and we make money by charging a per-user subscription for our commercial version which will contain fine-grained authz, bring-your-own OIDC and custom domains.&lt;/p&gt;
&lt;p&gt;Check out our repo (&lt;a href=&quot;https://github.com/opstrace/opstrace&quot; rel=&quot;nofollow&quot;&gt;https://github.com/opstrace/opstrace&lt;/a&gt;) and give it a spin (&lt;a href=&quot;https://opstrace.com/docs/quickstart&quot; rel=&quot;nofollow&quot;&gt;https://opstrace.com/docs/quickstart&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;We’d love to hear what your perspective is. What are your experiences related to the problems discussed here? Are you all happy with the tools you’re using today?&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 18:16:18 +0000</pubDate>
<dc:creator>spahl</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://news.ycombinator.com/item?id=25991485</dc:identifier>
</item>
<item>
<title>FastAPI framework, high perf, easy to learn, fast to code, ready for production</title>
<link>https://fastapi.tiangolo.com/</link>
<guid isPermaLink="true" >https://fastapi.tiangolo.com/</guid>
<description>&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;https://fastapi.tiangolo.com&quot;&gt;&lt;img src=&quot;https://fastapi.tiangolo.com/img/logo-margin/logo-teal.png&quot; alt=&quot;FastAPI&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;&lt;em&gt;FastAPI framework, high performance, easy to learn, fast to code, ready for production&lt;/em&gt;&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;https://github.com/tiangolo/fastapi/actions?query=workflow%3ATest&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://github.com/tiangolo/fastapi/workflows/Test/badge.svg&quot; alt=&quot;Test&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://codecov.io/gh/tiangolo/fastapi&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.shields.io/codecov/c/github/tiangolo/fastapi?color=%2334D058&quot; alt=&quot;Coverage&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://pypi.org/project/fastapi&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.shields.io/pypi/v/fastapi?color=%2334D058&amp;amp;label=pypi%20package&quot; alt=&quot;Package version&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;Documentation&lt;/strong&gt;: &lt;a href=&quot;https://fastapi.tiangolo.com&quot; target=&quot;_blank&quot;&gt;https://fastapi.tiangolo.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Source Code&lt;/strong&gt;: &lt;a href=&quot;https://github.com/tiangolo/fastapi&quot; target=&quot;_blank&quot;&gt;https://github.com/tiangolo/fastapi&lt;/a&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints.&lt;/p&gt;
&lt;p&gt;The key features are:&lt;/p&gt;
&lt;ul readability=&quot;0&quot;&gt;&lt;li readability=&quot;0.66666666666667&quot;&gt;
&lt;p&gt;&lt;strong&gt;Fast&lt;/strong&gt;: Very high performance, on par with &lt;strong&gt;NodeJS&lt;/strong&gt; and &lt;strong&gt;Go&lt;/strong&gt; (thanks to Starlette and Pydantic). &lt;a href=&quot;https://fastapi.tiangolo.com/#performance&quot;&gt;One of the fastest Python frameworks available&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Fast to code&lt;/strong&gt;: Increase the speed to develop features by about 200% to 300%. *&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fewer bugs&lt;/strong&gt;: Reduce about 40% of human (developer) induced errors. *&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Intuitive&lt;/strong&gt;: Great editor support. &lt;abbr title=&quot;also known as auto-complete, autocompletion, IntelliSense&quot;&gt;Completion&lt;/abbr&gt; everywhere. Less time debugging.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Easy&lt;/strong&gt;: Designed to be easy to use and learn. Less time reading docs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Short&lt;/strong&gt;: Minimize code duplication. Multiple features from each parameter declaration. Fewer bugs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Robust&lt;/strong&gt;: Get production-ready code. With automatic interactive documentation.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Standards-based&lt;/strong&gt;: Based on (and fully compatible with) the open standards for APIs: &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;OpenAPI&lt;/a&gt; (previously known as Swagger) and &lt;a href=&quot;https://json-schema.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;JSON Schema&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;small&gt;* estimation based on tests on an internal development team, building production applications.&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.deta.sh/?ref=fastapi&quot; target=&quot;_blank&quot; title=&quot;The launchpad for all your (team's) ideas&quot;&gt;&lt;img src=&quot;https://fastapi.tiangolo.com/img/sponsors/deta.svg&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://www.investsuite.com/jobs&quot; target=&quot;_blank&quot; title=&quot;Wealthtech jobs with FastAPI&quot;&gt;&lt;img src=&quot;https://fastapi.tiangolo.com/img/sponsors/investsuite.svg&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://www.vim.so/?utm_source=FastAPI&quot; target=&quot;_blank&quot; title=&quot;We help you master vim with interactive exercises&quot;&gt;&lt;img src=&quot;https://fastapi.tiangolo.com/img/sponsors/vimso.png&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://talkpython.fm/fastapi-sponsor&quot; target=&quot;_blank&quot; title=&quot;FastAPI video courses on demand from people you trust&quot;&gt;&lt;img src=&quot;https://fastapi.tiangolo.com/img/sponsors/talkpython.png&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fastapi.tiangolo.com/fastapi-people/#sponsors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;Other sponsors&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;opinions&quot;&gt;Opinions&lt;/h2&gt;
&lt;p&gt;&quot;&lt;em&gt;[...] I'm using &lt;strong&gt;FastAPI&lt;/strong&gt; a ton these days. [...] I'm actually planning to use it for all of my team's &lt;strong&gt;ML services at Microsoft&lt;/strong&gt;. Some of them are getting integrated into the core &lt;strong&gt;Windows&lt;/strong&gt; product and some &lt;strong&gt;Office&lt;/strong&gt; products.&lt;/em&gt;&quot;&lt;/p&gt;
&lt;div&gt;Kabir Khan - &lt;strong&gt;Microsoft&lt;/strong&gt; &lt;a href=&quot;https://github.com/tiangolo/fastapi/pull/26&quot; target=&quot;_blank&quot;&gt;&lt;small&gt;(ref)&lt;/small&gt;&lt;/a&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;p&gt;&quot;&lt;em&gt;We adopted the &lt;strong&gt;FastAPI&lt;/strong&gt; library to spawn a &lt;strong&gt;REST&lt;/strong&gt; server that can be queried to obtain &lt;strong&gt;predictions&lt;/strong&gt;. [for Ludwig]&lt;/em&gt;&quot;&lt;/p&gt;
&lt;div readability=&quot;8.3181818181818&quot;&gt;Piero Molino, Yaroslav Dudin, and Sai Sumanth Miryala - &lt;strong&gt;Uber&lt;/strong&gt; &lt;a href=&quot;https://eng.uber.com/ludwig-v0-2/&quot; target=&quot;_blank&quot;&gt;&lt;small&gt;(ref)&lt;/small&gt;&lt;/a&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;p&gt;&quot;&lt;em&gt;&lt;strong&gt;Netflix&lt;/strong&gt; is pleased to announce the open-source release of our &lt;strong&gt;crisis management&lt;/strong&gt; orchestration framework: &lt;strong&gt;Dispatch&lt;/strong&gt;! [built with &lt;strong&gt;FastAPI&lt;/strong&gt;]&lt;/em&gt;&quot;&lt;/p&gt;
&lt;div readability=&quot;8.2372881355932&quot;&gt;Kevin Glisson, Marc Vilanova, Forest Monsen - &lt;strong&gt;Netflix&lt;/strong&gt; &lt;a href=&quot;https://netflixtechblog.com/introducing-dispatch-da4b8a2a8072&quot; target=&quot;_blank&quot;&gt;&lt;small&gt;(ref)&lt;/small&gt;&lt;/a&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;p&gt;&quot;&lt;em&gt;I’m over the moon excited about &lt;strong&gt;FastAPI&lt;/strong&gt;. It’s so fun!&lt;/em&gt;&quot;&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;&quot;&lt;em&gt;Honestly, what you've built looks super solid and polished. In many ways, it's what I wanted &lt;strong&gt;Hug&lt;/strong&gt; to be - it's really inspiring to see someone build that.&lt;/em&gt;&quot;&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;&quot;&lt;em&gt;If you're looking to learn one &lt;strong&gt;modern framework&lt;/strong&gt; for building REST APIs, check out &lt;strong&gt;FastAPI&lt;/strong&gt; [...] It's fast, easy to use and easy to learn [...]&lt;/em&gt;&quot;&lt;/p&gt;
&lt;p&gt;&quot;&lt;em&gt;We've switched over to &lt;strong&gt;FastAPI&lt;/strong&gt; for our &lt;strong&gt;APIs&lt;/strong&gt; [...] I think you'll like it [...]&lt;/em&gt;&quot;&lt;/p&gt;

&lt;hr/&gt;&lt;h2 id=&quot;typer-the-fastapi-of-clis&quot;&gt;&lt;strong&gt;Typer&lt;/strong&gt;, the FastAPI of CLIs&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://typer.tiangolo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://typer.tiangolo.com/img/logo-margin/logo-margin-vector.svg&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you are building a &lt;abbr title=&quot;Command Line Interface&quot;&gt;CLI&lt;/abbr&gt; app to be used in the terminal instead of a web API, check out &lt;a href=&quot;https://typer.tiangolo.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;Typer&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Typer&lt;/strong&gt; is FastAPI's little sibling. And it's intended to be the &lt;strong&gt;FastAPI of CLIs&lt;/strong&gt;. ⌨️ 🚀&lt;/p&gt;
&lt;h2 id=&quot;requirements&quot;&gt;Requirements&lt;/h2&gt;
&lt;p&gt;Python 3.6+&lt;/p&gt;
&lt;p&gt;FastAPI stands on the shoulders of giants:&lt;/p&gt;
&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;termy&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;pip install fastapi

&lt;span class=&quot;go&quot;&gt;---&amp;gt; 100%&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You will also need an ASGI server, for production such as &lt;a href=&quot;https://www.uvicorn.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;Uvicorn&lt;/a&gt; or &lt;a href=&quot;https://gitlab.com/pgjones/hypercorn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;Hypercorn&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;termy&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;pip install uvicorn&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;standard&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt;---&amp;gt; 100%&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;example&quot;&gt;Example&lt;/h2&gt;
&lt;h3 id=&quot;create-it&quot;&gt;Create it&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Create a file &lt;code&gt;main.py&lt;/code&gt; with:&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/items/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{item_id}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;q&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;details readability=&quot;8.4200477326969&quot;&gt;&lt;p&gt;Or use &lt;code&gt;async def&lt;/code&gt;...&lt;/p&gt;
&lt;p&gt;If your code uses &lt;code&gt;async&lt;/code&gt; / &lt;code&gt;await&lt;/code&gt;, use &lt;code&gt;async def&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/items/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{item_id}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;q&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;If you don't know, check the &lt;em&gt;&quot;In a hurry?&quot;&lt;/em&gt; section about &lt;a href=&quot;https://fastapi.tiangolo.com/async/#in-a-hurry&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;async&lt;/code&gt; and &lt;code&gt;await&lt;/code&gt; in the docs&lt;/a&gt;.&lt;/p&gt;
&lt;/details&gt;&lt;h3 id=&quot;run-it&quot;&gt;Run it&lt;/h3&gt;
&lt;p&gt;Run the server with:&lt;/p&gt;
&lt;div class=&quot;termy&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;uvicorn main:app --reload

&lt;span class=&quot;go&quot;&gt;INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INFO:     Started reloader process [28720]&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INFO:     Started server process [28722]&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INFO:     Waiting for application startup.&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INFO:     Application startup complete.&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;details readability=&quot;4&quot;&gt;&lt;p&gt;About the command &lt;code&gt;uvicorn main:app --reload&lt;/code&gt;...&lt;/p&gt;
&lt;p&gt;The command &lt;code&gt;uvicorn main:app&lt;/code&gt; refers to:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;main&lt;/code&gt;: the file &lt;code&gt;main.py&lt;/code&gt; (the Python &quot;module&quot;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app&lt;/code&gt;: the object created inside of &lt;code&gt;main.py&lt;/code&gt; with the line &lt;code&gt;app = FastAPI()&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--reload&lt;/code&gt;: make the server restart after code changes. Only do this for development.&lt;/li&gt;
&lt;/ul&gt;&lt;/details&gt;&lt;h3 id=&quot;check-it&quot;&gt;Check it&lt;/h3&gt;
&lt;p&gt;Open your browser at &lt;a href=&quot;http://127.0.0.1:8000/items/5?q=somequery&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1:8000/items/5?q=somequery&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You will see the JSON response as:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&quot;q&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;somequery&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You already created an API that:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Receives HTTP requests in the &lt;em&gt;paths&lt;/em&gt; &lt;code&gt;/&lt;/code&gt; and &lt;code&gt;/items/{item_id}&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Both &lt;em&gt;paths&lt;/em&gt; take &lt;code&gt;GET&lt;/code&gt; &lt;em&gt;operations&lt;/em&gt; (also known as HTTP &lt;em&gt;methods&lt;/em&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;em&gt;path&lt;/em&gt; &lt;code&gt;/items/{item_id}&lt;/code&gt; has a &lt;em&gt;path parameter&lt;/em&gt; &lt;code&gt;item_id&lt;/code&gt; that should be an &lt;code&gt;int&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;em&gt;path&lt;/em&gt; &lt;code&gt;/items/{item_id}&lt;/code&gt; has an optional &lt;code&gt;str&lt;/code&gt; &lt;em&gt;query parameter&lt;/em&gt; &lt;code&gt;q&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;interactive-api-docs&quot;&gt;Interactive API docs&lt;/h3&gt;
&lt;p&gt;Now go to &lt;a href=&quot;http://127.0.0.1:8000/docs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1:8000/docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You will see the automatic interactive API documentation (provided by &lt;a href=&quot;https://github.com/swagger-api/swagger-ui&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;Swagger UI&lt;/a&gt;):&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;Swagger UI&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-01-swagger-ui-simple.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;alternative-api-docs&quot;&gt;Alternative API docs&lt;/h3&gt;
&lt;p&gt;And now, go to &lt;a href=&quot;http://127.0.0.1:8000/redoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1:8000/redoc&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You will see the alternative automatic documentation (provided by &lt;a href=&quot;https://github.com/Rebilly/ReDoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;ReDoc&lt;/a&gt;):&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;ReDoc&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-02-redoc-simple.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;example-upgrade&quot;&gt;Example upgrade&lt;/h2&gt;
&lt;p&gt;Now modify the file &lt;code&gt;main.py&lt;/code&gt; to receive a body from a &lt;code&gt;PUT&lt;/code&gt; request.&lt;/p&gt;
&lt;p&gt;Declare the body using standard Python types, thanks to Pydantic.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;14&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pydantic&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BaseModel&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BaseModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;is_offer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;
&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_root&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/items/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{item_id}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;q&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;nd&quot;&gt;@app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/items/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{item_id}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update_item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;item_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The server should reload automatically (because you added &lt;code&gt;--reload&lt;/code&gt; to the &lt;code&gt;uvicorn&lt;/code&gt; command above).&lt;/p&gt;
&lt;h3 id=&quot;interactive-api-docs-upgrade&quot;&gt;Interactive API docs upgrade&lt;/h3&gt;
&lt;p&gt;Now go to &lt;a href=&quot;http://127.0.0.1:8000/docs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1:8000/docs&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The interactive API documentation will be automatically updated, including the new body:&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img alt=&quot;Swagger UI&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-03-swagger-02.png&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Click on the button &quot;Try it out&quot;, it allows you to fill the parameters and directly interact with the API:&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img alt=&quot;Swagger UI interaction&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-04-swagger-03.png&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Then click on the &quot;Execute&quot; button, the user interface will communicate with your API, send the parameters, get the results and show them on the screen:&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img alt=&quot;Swagger UI interaction&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-05-swagger-04.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;alternative-api-docs-upgrade&quot;&gt;Alternative API docs upgrade&lt;/h3&gt;
&lt;p&gt;And now, go to &lt;a href=&quot;http://127.0.0.1:8000/redoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;http://127.0.0.1:8000/redoc&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The alternative documentation will also reflect the new query parameter and body:&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img alt=&quot;ReDoc&quot; src=&quot;https://fastapi.tiangolo.com/img/index/index-06-redoc-02.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;recap&quot;&gt;Recap&lt;/h3&gt;
&lt;p&gt;In summary, you declare &lt;strong&gt;once&lt;/strong&gt; the types of parameters, body, etc. as function parameters.&lt;/p&gt;
&lt;p&gt;You do that with standard modern Python types.&lt;/p&gt;
&lt;p&gt;You don't have to learn a new syntax, the methods or classes of a specific library, etc.&lt;/p&gt;
&lt;p&gt;Just standard &lt;strong&gt;Python 3.6+&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For example, for an &lt;code&gt;int&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or for a more complex &lt;code&gt;Item&lt;/code&gt; model:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;...and with that single declaration you get:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Editor support, including:
&lt;ul&gt;&lt;li&gt;Completion.&lt;/li&gt;
&lt;li&gt;Type checks.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Validation of data:
&lt;ul&gt;&lt;li&gt;Automatic and clear errors when the data is invalid.&lt;/li&gt;
&lt;li&gt;Validation even for deeply nested JSON objects.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;abbr title=&quot;also known as: serialization, parsing, marshalling&quot;&gt;Conversion&lt;/abbr&gt; of input data: coming from the network to Python data and types. Reading from:
&lt;ul&gt;&lt;li&gt;JSON.&lt;/li&gt;
&lt;li&gt;Path parameters.&lt;/li&gt;
&lt;li&gt;Query parameters.&lt;/li&gt;
&lt;li&gt;Cookies.&lt;/li&gt;
&lt;li&gt;Headers.&lt;/li&gt;
&lt;li&gt;Forms.&lt;/li&gt;
&lt;li&gt;Files.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;abbr title=&quot;also known as: serialization, parsing, marshalling&quot;&gt;Conversion&lt;/abbr&gt; of output data: converting from Python data and types to network data (as JSON):
&lt;ul&gt;&lt;li&gt;Convert Python types (&lt;code&gt;str&lt;/code&gt;, &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;float&lt;/code&gt;, &lt;code&gt;bool&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt;, etc).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;datetime&lt;/code&gt; objects.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUID&lt;/code&gt; objects.&lt;/li&gt;
&lt;li&gt;Database models.&lt;/li&gt;
&lt;li&gt;...and many more.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Automatic interactive API documentation, including 2 alternative user interfaces:
&lt;ul&gt;&lt;li&gt;Swagger UI.&lt;/li&gt;
&lt;li&gt;ReDoc.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;p&gt;Coming back to the previous code example, &lt;strong&gt;FastAPI&lt;/strong&gt; will:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Validate that there is an &lt;code&gt;item_id&lt;/code&gt; in the path for &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;PUT&lt;/code&gt; requests.&lt;/li&gt;
&lt;li&gt;Validate that the &lt;code&gt;item_id&lt;/code&gt; is of type &lt;code&gt;int&lt;/code&gt; for &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;PUT&lt;/code&gt; requests.
&lt;ul&gt;&lt;li&gt;If it is not, the client will see a useful, clear error.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Check if there is an optional query parameter named &lt;code&gt;q&lt;/code&gt; (as in &lt;code&gt;http://127.0.0.1:8000/items/foo?q=somequery&lt;/code&gt;) for &lt;code&gt;GET&lt;/code&gt; requests.
&lt;ul&gt;&lt;li&gt;As the &lt;code&gt;q&lt;/code&gt; parameter is declared with &lt;code&gt;= None&lt;/code&gt;, it is optional.&lt;/li&gt;
&lt;li&gt;Without the &lt;code&gt;None&lt;/code&gt; it would be required (as is the body in the case with &lt;code&gt;PUT&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;For &lt;code&gt;PUT&lt;/code&gt; requests to &lt;code&gt;/items/{item_id}&lt;/code&gt;, Read the body as JSON:
&lt;ul&gt;&lt;li&gt;Check that it has a required attribute &lt;code&gt;name&lt;/code&gt; that should be a &lt;code&gt;str&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Check that it has a required attribute &lt;code&gt;price&lt;/code&gt; that has to be a &lt;code&gt;float&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Check that it has an optional attribute &lt;code&gt;is_offer&lt;/code&gt;, that should be a &lt;code&gt;bool&lt;/code&gt;, if present.&lt;/li&gt;
&lt;li&gt;All this would also work for deeply nested JSON objects.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Convert from and to JSON automatically.&lt;/li&gt;
&lt;li&gt;Document everything with OpenAPI, that can be used by:
&lt;ul&gt;&lt;li&gt;Interactive documentation systems.&lt;/li&gt;
&lt;li&gt;Automatic client code generation systems, for many languages.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Provide 2 interactive documentation web interfaces directly.&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;p&gt;We just scratched the surface, but you already get the idea of how it all works.&lt;/p&gt;
&lt;p&gt;Try changing the line with:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;item_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;item_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;...from:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;code&gt;        &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;item_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;...to:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;code&gt;        &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;item_price&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;...and see how your editor will auto-complete the attributes and know their types:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;editor support&quot; src=&quot;https://fastapi.tiangolo.com/img/vscode-completion.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;For a more complete example including more features, see the &lt;a href=&quot;https://fastapi.tiangolo.com/tutorial/&quot;&gt;Tutorial - User Guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Spoiler alert&lt;/strong&gt;: the tutorial - user guide includes:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Declaration of &lt;strong&gt;parameters&lt;/strong&gt; from other different places as: &lt;strong&gt;headers&lt;/strong&gt;, &lt;strong&gt;cookies&lt;/strong&gt;, &lt;strong&gt;form fields&lt;/strong&gt; and &lt;strong&gt;files&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;How to set &lt;strong&gt;validation constraints&lt;/strong&gt; as &lt;code&gt;maximum_length&lt;/code&gt; or &lt;code&gt;regex&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A very powerful and easy to use &lt;strong&gt;&lt;abbr title=&quot;also known as components, resources, providers, services, injectables&quot;&gt;Dependency Injection&lt;/abbr&gt;&lt;/strong&gt; system.&lt;/li&gt;
&lt;li&gt;Security and authentication, including support for &lt;strong&gt;OAuth2&lt;/strong&gt; with &lt;strong&gt;JWT tokens&lt;/strong&gt; and &lt;strong&gt;HTTP Basic&lt;/strong&gt; auth.&lt;/li&gt;
&lt;li&gt;More advanced (but equally easy) techniques for declaring &lt;strong&gt;deeply nested JSON models&lt;/strong&gt; (thanks to Pydantic).&lt;/li&gt;
&lt;li&gt;Many extra features (thanks to Starlette) as:
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;WebSockets&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GraphQL&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;extremely easy tests based on &lt;code&gt;requests&lt;/code&gt; and &lt;code&gt;pytest&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CORS&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cookie Sessions&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;...and more.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;performance&quot;&gt;Performance&lt;/h2&gt;
&lt;p&gt;Independent TechEmpower benchmarks show &lt;strong&gt;FastAPI&lt;/strong&gt; applications running under Uvicorn as &lt;a href=&quot;https://www.techempower.com/benchmarks/#section=test&amp;amp;runid=7464e520-0dc2-473d-bd34-dbdfd7e85911&amp;amp;hw=ph&amp;amp;test=query&amp;amp;l=zijzen-7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot;&gt;one of the fastest Python frameworks available&lt;/a&gt;, only below Starlette and Uvicorn themselves (used internally by FastAPI). (*)&lt;/p&gt;
&lt;p&gt;To understand more about it, see the section &lt;a href=&quot;https://fastapi.tiangolo.com/benchmarks/&quot; class=&quot;internal-link&quot; target=&quot;_blank&quot;&gt;Benchmarks&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;optional-dependencies&quot;&gt;Optional Dependencies&lt;/h2&gt;
&lt;p&gt;Used by Pydantic:&lt;/p&gt;
&lt;p&gt;Used by Starlette:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://requests.readthedocs.io&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;requests&lt;/code&gt;&lt;/a&gt; - Required if you want to use the &lt;code&gt;TestClient&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Tinche/aiofiles&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;aiofiles&lt;/code&gt;&lt;/a&gt; - Required if you want to use &lt;code&gt;FileResponse&lt;/code&gt; or &lt;code&gt;StaticFiles&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jinja.palletsprojects.com&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;jinja2&lt;/code&gt;&lt;/a&gt; - Required if you want to use the default template configuration.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://andrew-d.github.io/python-multipart/&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;python-multipart&lt;/code&gt;&lt;/a&gt; - Required if you want to support form &lt;abbr title=&quot;converting the string that comes from an HTTP request into Python data&quot;&gt;&quot;parsing&quot;&lt;/abbr&gt;, with &lt;code&gt;request.form()&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pythonhosted.org/itsdangerous/&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;itsdangerous&lt;/code&gt;&lt;/a&gt; - Required for &lt;code&gt;SessionMiddleware&lt;/code&gt; support.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pyyaml.org/wiki/PyYAMLDocumentation&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;pyyaml&lt;/code&gt;&lt;/a&gt; - Required for Starlette's &lt;code&gt;SchemaGenerator&lt;/code&gt; support (you probably don't need it with FastAPI).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://graphene-python.org/&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;graphene&lt;/code&gt;&lt;/a&gt; - Required for &lt;code&gt;GraphQLApp&lt;/code&gt; support.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/esnme/ultrajson&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;ujson&lt;/code&gt;&lt;/a&gt; - Required if you want to use &lt;code&gt;UJSONResponse&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Used by FastAPI / Starlette:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.uvicorn.org&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;uvicorn&lt;/code&gt;&lt;/a&gt; - for the server that loads and serves your application.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ijl/orjson&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;orjson&lt;/code&gt;&lt;/a&gt; - Required if you want to use &lt;code&gt;ORJSONResponse&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;You can install all of these with &lt;code&gt;pip install fastapi[all]&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;license&quot;&gt;License&lt;/h2&gt;
&lt;p&gt;This project is licensed under the terms of the MIT license.&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 17:20:19 +0000</pubDate>
<dc:creator>homarp</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://fastapi.tiangolo.com/</dc:identifier>
</item>
<item>
<title>Facebook testing notification to users about Apple privacy changes</title>
<link>https://www.axios.com/facebook-notification-apple-privacy-changes-39092ba5-25e4-4e83-87ff-81967733f919.html</link>
<guid isPermaLink="true" >https://www.axios.com/facebook-notification-apple-privacy-changes-39092ba5-25e4-4e83-87ff-81967733f919.html</guid>
<description>&lt;p&gt;Facebook is testing a notification that notifies Apple iOS users about ways the tech giant uses their data to target personalized ads to them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The big picture:&lt;/strong&gt; The test is happening in light of upcoming changes to &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;Apple's privacy settings&quot; data-vars-click-url=&quot;https://www.axios.com/facebook-warns-advertisers-on-apple-privacy-changes-5018b903-c2af-43cb-afef-4f53ce7b0f2a.html&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://www.axios.com/facebook-warns-advertisers-on-apple-privacy-changes-5018b903-c2af-43cb-afef-4f53ce7b0f2a.html&quot; target=&quot;_self&quot;&gt;Apple's privacy settings&lt;/a&gt; that will make it harder for Facebook and others to collect data on Apple users for ad targeting.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Catch up quick:&lt;/strong&gt; Facebook warned investors last week that changes to Apple's &quot;Identifier for Advertisers&quot; (IDFA) user tracking feature will likely impact its business.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The feature asks Apple iOS users to opt-in to having their data collected, instead of asking them to opt-out. Developers forecast that only around 10-30% of users will actually opt-in to having their data collected, making it much harder for advertisers to target potential Apple customers without as much access to their data.&lt;/li&gt;
&lt;li&gt;Despite an &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;earnings beat&quot; data-vars-click-url=&quot;https://www.axios.com/facebook-stock-ad-targeting-concerns-6066617d-2a02-43de-be3c-b466e64a9cd2.html&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://www.axios.com/facebook-stock-ad-targeting-concerns-6066617d-2a02-43de-be3c-b466e64a9cd2.html&quot; target=&quot;_self&quot;&gt;earnings beat&lt;/a&gt;, Facebook's stock has been down due to investor fears that the Apple changes could significantly impact its business moving forward.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Details:&lt;/strong&gt; In an updated blog post, Facebook says it will be showing their prompt &quot;to ensure stability for the businesses and people who use our services.&quot;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The prompt, which provides information about how Facebook uses personalized ads, will be shown to users globally on Facebook and Instagram.&lt;/li&gt;
&lt;li&gt;In the post, Facebook says that if users accept the prompts for Facebook and Instagram, the ads you see on those apps won’t change. &quot;If you decline, you will still see ads, but they will be less relevant to you.&quot;&lt;/li&gt;
&lt;li&gt;The tech giant notes that Apple has &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;said&quot; data-vars-click-url=&quot;https://developer.apple.com/app-store/user-privacy-and-data-use/&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://developer.apple.com/app-store/user-privacy-and-data-use/&quot; target=&quot;_blank&quot;&gt;said&lt;/a&gt; that providing education about its new privacy changes is allowed. &lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Between the lines:&lt;/strong&gt; As Axios has previously &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;noted&quot; data-vars-click-url=&quot;https://www.axios.com/facebook-war-apple-ad-privacy-cf90d171-9eed-4751-bb9e-fd0ca444f7cb.html&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://www.axios.com/facebook-war-apple-ad-privacy-cf90d171-9eed-4751-bb9e-fd0ca444f7cb.html&quot; target=&quot;_self&quot;&gt;noted&lt;/a&gt;, Apple's newest software updates ask users whether they want to allow apps like Facebook to track their activity.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Facebook has &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;long asserted&quot; data-vars-click-url=&quot;https://www.axios.com/facebook-warns-advertisers-on-apple-privacy-changes-5018b903-c2af-43cb-afef-4f53ce7b0f2a.html&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://www.axios.com/facebook-warns-advertisers-on-apple-privacy-changes-5018b903-c2af-43cb-afef-4f53ce7b0f2a.html&quot; target=&quot;_self&quot;&gt;long asserted&lt;/a&gt; that these changes will make it harder for small business to place targeted ads. In the updated blog post, Facebook doubles down on that argument saying, &quot;Apple’s new prompt suggests there is a tradeoff between personalized advertising and privacy; when in fact, &lt;a class=&quot;gtm-content-click&quot; data-vars-link-text=&quot;we can and do provide both&quot; data-vars-click-url=&quot;https://about.fb.com/news/2020/12/personalized-advertising-and-privacy-are-not-at-odds/&quot; data-vars-event-category=&quot;story&quot; data-vars-sub-category=&quot;story&quot; data-vars-item=&quot;in_content_link&quot; href=&quot;https://about.fb.com/news/2020/12/personalized-advertising-and-privacy-are-not-at-odds/&quot; target=&quot;_blank&quot;&gt;we can and do provide both&lt;/a&gt;.&quot;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Our thought bubble:&lt;/strong&gt; Usually consumers are left out of these types of corporate battles over policy changes. By prompting users, Facebook is exposing its billions of users more directly to its very messy public battle with Apple over these privacy changes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Go deeper:&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 16:40:33 +0000</pubDate>
<dc:creator>asimpletune</dc:creator>
<og:title>Facebook testing notification to users about Apple privacy changes</og:title>
<og:type>article</og:type>
<og:url>https://www.axios.com/facebook-notification-apple-privacy-changes-39092ba5-25e4-4e83-87ff-81967733f919.html</og:url>
<og:image>https://images.axios.com/YiBRRZqvhu9jZQe2hzYq5QWJZgo=/0x65:3718x2156/1366x768/2021/02/01/1612190823116.png</og:image>
<og:description>Investors fear the Apple changes could significantly impact Facebook's business moving forward.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.axios.com/facebook-notification-apple-privacy-changes-39092ba5-25e4-4e83-87ff-81967733f919.html</dc:identifier>
</item>
<item>
<title>Ask HN: Who is hiring? (February 2021)</title>
<link>https://news.ycombinator.com/item?id=25989764</link>
<guid isPermaLink="true" >https://news.ycombinator.com/item?id=25989764</guid>
<description>&lt;tr readability=&quot;0.58823529411765&quot;&gt;&lt;td bgcolor=&quot;#FF6600&quot;&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr id=&quot;pagespace&quot; title=&quot;Ask HN: Who is hiring? (February 2021)&quot;&gt;&lt;td/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;11.082742316785&quot;&gt;&lt;td&gt;
&lt;table class=&quot;fatitem&quot; border=&quot;0&quot; readability=&quot;6.9267139479905&quot;&gt;&lt;tr class=&quot;athing&quot; id=&quot;25989764&quot; readability=&quot;0&quot;&gt;&lt;td align=&quot;right&quot; valign=&quot;top&quot; class=&quot;title&quot;/&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;title&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=25989764&quot; class=&quot;storylink&quot;&gt;Ask HN: Who is hiring? (February 2021)&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;0.69230769230769&quot;&gt;&lt;td colspan=&quot;2&quot;/&gt;
&lt;td class=&quot;subtext&quot;&gt;&lt;span class=&quot;score&quot; id=&quot;score_25989764&quot;&gt;308 points&lt;/span&gt; by &lt;a href=&quot;https://news.ycombinator.com/user?id=whoishiring&quot; class=&quot;hnuser&quot;&gt;whoishiring&lt;/a&gt; &lt;span class=&quot;age&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=25989764&quot;&gt;8 hours ago&lt;/a&gt;&lt;/span&gt; &lt;span id=&quot;unv_25989764&quot;/&gt; | &lt;a href=&quot;https://news.ycombinator.com/hide?id=25989764&amp;amp;goto=item%3Fid%3D25989764&quot;&gt;hide&lt;/a&gt; | &lt;a href=&quot;https://hn.algolia.com/?query=Ask%20HN%3A%20Who%20is%20hiring%3F%20(February%202021)&amp;amp;sort=byDate&amp;amp;dateRange=all&amp;amp;type=story&amp;amp;storyText=false&amp;amp;prefix&amp;amp;page=0&quot; class=&quot;hnpast&quot;&gt;past&lt;/a&gt; | &lt;a href=&quot;https://news.ycombinator.com/fave?id=25989764&amp;amp;auth=5b0d371b3b48e4fc7db6cfa88a68504a36f7153c&quot;&gt;favorite&lt;/a&gt; | &lt;a href=&quot;https://news.ycombinator.com/item?id=25989764&quot;&gt;532 comments&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;21.41615986099&quot;&gt;&lt;td colspan=&quot;2&quot;/&gt;
&lt;td readability=&quot;21.41615986099&quot;&gt;(Update for Feb/March: Manara, a company in YC's current batch, has discovered many talented software engineers in the MENA region, half of whom are women. If this is of interest, see their launch thread at &lt;a href=&quot;https://news.ycombinator.com/item?id=25849054&quot; rel=&quot;nofollow&quot;&gt;https://news.ycombinator.com/item?id=25849054&lt;/a&gt;.)
&lt;p&gt;Please state the location and include REMOTE, INTERNS and/or VISA when that sort of candidate is welcome. When remote work is &lt;em&gt;not&lt;/em&gt; an option, include ONSITE.&lt;/p&gt;
&lt;p&gt;Please only post if you personally are part of the hiring company—no recruiting firms or job boards. Only one post per company. If it isn't a household name, please explain what your company does.&lt;/p&gt;
&lt;p&gt;Commenters: please don't reply to job posts to complain about something. It's off topic here.&lt;/p&gt;
&lt;p&gt;Readers: please only email if you are personally interested in the job.&lt;/p&gt;
&lt;p&gt;Searchers: try &lt;a href=&quot;https://findwork.dev/?source=hn&quot; rel=&quot;nofollow&quot;&gt;https://findwork.dev/?source=hn&lt;/a&gt;, &lt;a href=&quot;https://kennytilton.github.io/whoishiring/&quot; rel=&quot;nofollow&quot;&gt;https://kennytilton.github.io/whoishiring/&lt;/a&gt;, &lt;a href=&quot;https://hnhired.com/&quot; rel=&quot;nofollow&quot;&gt;https://hnhired.com/&lt;/a&gt;, &lt;a href=&quot;https://hnjobs.emilburzo.com&quot; rel=&quot;nofollow&quot;&gt;https://hnjobs.emilburzo.com&lt;/a&gt;, &lt;a href=&quot;https://news.ycombinator.com/item?id=10313519&quot; rel=&quot;nofollow&quot;&gt;https://news.ycombinator.com/item?id=10313519&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Don't miss these other fine threads:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Who wants to be hired?&lt;/em&gt; &lt;a href=&quot;https://news.ycombinator.com/item?id=25989762&quot; rel=&quot;nofollow&quot;&gt;https://news.ycombinator.com/item?id=25989762&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Freelancer? Seeking freelancer?&lt;/em&gt; &lt;a href=&quot;https://news.ycombinator.com/item?id=25989763&quot; rel=&quot;nofollow&quot;&gt;https://news.ycombinator.com/item?id=25989763&lt;/a&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;2&quot;/&gt;
&lt;td&gt;

&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;0.71604938271605&quot;&gt;&lt;td&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;10&quot; width=&quot;0&quot;/&gt;&lt;br/&gt;&lt;center&gt;&lt;span class=&quot;yclinks&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/newsguidelines.html&quot;&gt;Guidelines&lt;/a&gt; | &lt;a href=&quot;https://news.ycombinator.com/newsfaq.html&quot;&gt;FAQ&lt;/a&gt; | &lt;a href=&quot;https://news.ycombinator.com/lists&quot;&gt;Lists&lt;/a&gt; | &lt;a href=&quot;https://github.com/HackerNews/API&quot;&gt;API&lt;/a&gt; | &lt;a href=&quot;https://news.ycombinator.com/security.html&quot;&gt;Security&lt;/a&gt; | &lt;a href=&quot;http://www.ycombinator.com/legal/&quot;&gt;Legal&lt;/a&gt; | &lt;a href=&quot;http://www.ycombinator.com/apply/&quot;&gt;Apply to YC&lt;/a&gt; | &lt;a href=&quot;mailto:hn@ycombinator.com&quot;&gt;Contact&lt;/a&gt;&lt;/span&gt;
&lt;/center&gt;
&lt;/td&gt;
&lt;/tr&gt;</description>
<pubDate>Mon, 01 Feb 2021 16:01:05 +0000</pubDate>
<dc:creator>whoishiring</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://news.ycombinator.com/item?id=25989764</dc:identifier>
</item>
<item>
<title>Solid Project: All of your data, under your control</title>
<link>https://solidproject.org/</link>
<guid isPermaLink="true" >https://solidproject.org/</guid>
<description>&lt;h2 class=&quot;title&quot;&gt;All of your data, under your control&lt;/h2&gt;
&lt;p class=&quot;content is-large&quot;&gt;&lt;a href=&quot;https://solidproject.org/about&quot;&gt;Solid&lt;/a&gt; lets people store their data securely in decentralized data stores called &lt;strong&gt;Pods&lt;/strong&gt;. Pods are like secure personal web servers for data. All data in a pod is accessible via the &lt;a href=&quot;https://solid.github.io/specification/&quot; target=&quot;_blank&quot;&gt;Solid Protocol&lt;/a&gt;. When data is stored in someone's pod, they control who and what can access it.&lt;/p&gt;
&lt;p class=&quot;content is-large&quot;&gt;Solid is led by the inventor of the Web, &lt;strong&gt;&lt;a href=&quot;https://solidproject.org/team&quot;&gt;Sir Tim Berners-Lee&lt;/a&gt;&lt;/strong&gt;, to help realise his vision for its future.&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 15:54:00 +0000</pubDate>
<dc:creator>gibsonf1</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://solidproject.org/</dc:identifier>
</item>
<item>
<title>My Third Year as a Solo Developer</title>
<link>https://mtlynch.io/solo-developer-year-3/</link>
<guid isPermaLink="true" >https://mtlynch.io/solo-developer-year-3/</guid>
<description>&lt;p&gt;Today is the third anniversary of &lt;a href=&quot;https://mtlynch.io/why-i-quit-google/&quot;&gt;quitting my job at Google&lt;/a&gt; to build my own software business. I posted updates at the end of my &lt;a href=&quot;https://mtlynch.io/solo-developer-year-1/&quot;&gt;first&lt;/a&gt; and &lt;a href=&quot;https://mtlynch.io/solo-developer-year-2/&quot;&gt;second&lt;/a&gt; years, so it’s time to share my progress.&lt;/p&gt;
&lt;h2 id=&quot;the-year-things-clicked-into-place&quot;&gt;The year things clicked into place &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#the-year-things-clicked-into-place&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In my first two years working for myself, I earned less than $10k total. &lt;a href=&quot;https://mtlynch.io/solo-developer-year-2/#goals-for-year-three&quot;&gt;My goal&lt;/a&gt; for the third year was to earn $20k in revenue.&lt;/p&gt;
&lt;p&gt;Halfway through the year, it looked like I’d fall short. My businesses collectively generated about $300/month, and none of my new ideas were working.&lt;/p&gt;
&lt;p&gt;Miraculously, one new product in May turned everything around. By the end of the year, I earned $63k in revenue, far exceeding my goal.&lt;/p&gt;
&lt;p&gt;Okay, my net profits are still negative, but this time I have a good excuse!&lt;/p&gt;
&lt;p&gt;I sell a physical product now, so my income lags my expenses by two or three months. My profit margins are 50-200% per sale, so the numbers will catch up eventually.&lt;/p&gt;
&lt;div class=&quot;notice notice-info&quot; readability=&quot;12.181818181818&quot;&gt;
&lt;p&gt;&lt;strong&gt;Wait, how can you afford to keep losing money?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I went into more detail about this &lt;a href=&quot;https://mtlynch.io/solo-developer-year-2/#how-can-you-afford-to-keep-losing-money&quot;&gt;in last year’s retrospective&lt;/a&gt;, but the short version is: low cost of living, significant savings from my Google days, and passive investment income.&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;project-by-project&quot;&gt;Project by project &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#project-by-project&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;tinypilothttpstinypilotkvmcom&quot;&gt;&lt;a href=&quot;https://tinypilotkvm.com&quot;&gt;TinyPilot&lt;/a&gt; &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#tinypilothttpstinypilotkvmcom&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/voyager.jpg&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 550px, 98vw&quot; srcset=&quot; /solo-developer-year-3/voyager_hudd4ef99f66b6271383b8d853a194762d_184057_300x0_resize_q90_lanczos.jpg 300w, /solo-developer-year-3/voyager_hudd4ef99f66b6271383b8d853a194762d_184057_600x0_resize_q90_lanczos.jpg 600w, /solo-developer-year-3/voyager_hudd4ef99f66b6271383b8d853a194762d_184057_800x0_resize_q90_lanczos.jpg 800w, /solo-developer-year-3/voyager_hudd4ef99f66b6271383b8d853a194762d_184057_1200x0_resize_q90_lanczos.jpg 1200w, /solo-developer-year-3/voyager.jpg 1600w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/voyager.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://tinypilotkvm.com&quot;&gt;TinyPilot&lt;/a&gt; is an inexpensive device I created to manage servers remotely.&lt;/p&gt;
&lt;p&gt;For the past few years, I’ve done all my software development on a &lt;a href=&quot;https://mtlynch.io/building-a-vm-homelab/&quot;&gt;home server&lt;/a&gt;. It works great, except for when I screw up the network configuration or want to install a new operating system. My server has no monitor or keyboard attached, so I have to drag it over to my desk, swap all the cables with my workstation, and then swap everything back when I’m done.&lt;/p&gt;
&lt;p&gt;I’d read that a &lt;a href=&quot;https://www.raspberrypi.org/&quot;&gt;Raspberry Pi&lt;/a&gt; could masquerade as a USB keyboard, and I knew it could capture video. What if a web app combined those two features and transformed the Pi into a miniature remote administration device?&lt;/p&gt;
&lt;p&gt;After a few months of tinkering, I had a working prototype.&lt;/p&gt;
&lt;div class=&quot;img-container&quot;&gt;
&lt;div class=&quot;img&quot;&gt;&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/win-ubuntu.jpg&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 600px, 98vw&quot; srcset=&quot; /solo-developer-year-3/win-ubuntu_hue125486ed665e41847ca90a91bedb8e9_382227_300x0_resize_q90_lanczos.jpg 300w, /solo-developer-year-3/win-ubuntu_hue125486ed665e41847ca90a91bedb8e9_382227_600x0_resize_q90_lanczos.jpg 600w, /solo-developer-year-3/win-ubuntu_hue125486ed665e41847ca90a91bedb8e9_382227_800x0_resize_q90_lanczos.jpg 800w, /solo-developer-year-3/win-ubuntu_hue125486ed665e41847ca90a91bedb8e9_382227_1200x0_resize_q90_lanczos.jpg 1200w, /solo-developer-year-3/win-ubuntu.jpg 1600w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/win-ubuntu.jpg&quot; alt=&quot;Photo of TinyPilot connecting two computers&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-bios.gif&quot;&gt;&lt;img src=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-bios.gif&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;Prototype of TinyPilot, my open-source KVM over IP device&lt;/p&gt;
&lt;p&gt;I questioned whether there was a market for this. Why would anyone buy this device from me? It was just a collection of widely available hardware components. Maybe one or two customers per week would purchase, so if I made $80 per kit, it would be worth my time packing and shipping orders.&lt;/p&gt;
&lt;p&gt;Then, I published &lt;a href=&quot;https://mtlynch.io/tinypilot/&quot;&gt;a blog post&lt;/a&gt; about it.&lt;/p&gt;
&lt;p&gt;Immediately, it became clear that this business was different than anything I’d ever done before. Less than four hours after the blog post went live, customers had purchased all nine kits from my inventory, and they kept buying even when it was backordered.&lt;/p&gt;
&lt;p&gt;Within a week, the blog post had driven $8.8k in sales. It reached the front page of Hacker News and became &lt;a href=&quot;https://bestofshowhn.com/&quot;&gt;one of the top “Show HN” posts&lt;/a&gt; of all time.&lt;/p&gt;
&lt;div class=&quot;img-container&quot;&gt;
&lt;div class=&quot;img&quot;&gt;&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-hn.png&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 666px, 98vw&quot; srcset=&quot; /solo-developer-year-3/tinypilot-hn_hu190a77e40e7aa9ea69462c713ed62342_16275_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/tinypilot-hn_hu190a77e40e7aa9ea69462c713ed62342_16275_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/tinypilot-hn.png 666w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-hn.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;img&quot;&gt;&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-reddit.png&quot;&gt;&lt;img class=&quot;img-border&quot; sizes=&quot;(min-width: 768px) 665px, 98vw&quot; srcset=&quot; /solo-developer-year-3/tinypilot-reddit_hubecd4a9b27279eecc180798263a0737f_46652_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/tinypilot-reddit_hubecd4a9b27279eecc180798263a0737f_46652_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/tinypilot-reddit.png 663w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/tinypilot-reddit.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;TinyPilot’s response on Hacker News and reddit&lt;/p&gt;
&lt;p&gt;There was a drop in sales after that initial spike, but TinyPilot has been growing consistently ever since. I had zero experience selling a physical product, so I quickly learned how to &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/08/#managing-inventory-is-hard&quot;&gt;manage inventory&lt;/a&gt;, systematize the order fulfillment process, and work with vendors to make &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/10/#manufacturing-a-power-connector-from-start-to-finish&quot;&gt;circuit boards&lt;/a&gt; and &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/12/#new-products-require-new-habits&quot;&gt;3D-printed cases&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;TinyPilot ended the year with almost $54k in revenue. My net income is still negative, but it’s because my costs are front-loaded. TinyPilot’s expenses for 2020 include inventory to last through February 2021.&lt;/p&gt;

&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Income/Expense&lt;/th&gt;
&lt;th&gt;2020&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr&gt;&lt;td&gt;Sales&lt;/td&gt;
&lt;td&gt;$53,362&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Donations&lt;/td&gt;
&lt;td&gt;$380&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Materials&lt;/td&gt;
&lt;td&gt;-$46,143&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Electrical engineering consulting&lt;/td&gt;
&lt;td&gt;-$7,130&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Order fulfillment&lt;/td&gt;
&lt;td&gt;-$2,570&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Software development*&lt;/td&gt;
&lt;td&gt;-$1,321&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;Open-source contributions&lt;/td&gt;
&lt;td&gt;-$1,270&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Advertising&lt;/td&gt;
&lt;td&gt;-$675&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Graphic design&lt;/td&gt;
&lt;td&gt;-$250&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Hosting / Domains&lt;/td&gt;
&lt;td&gt;-$64&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Net profit&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;-$5,681&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;* I write the vast majority of the code, but I hired a developer to help with the &lt;a href=&quot;https://tinypilotkvm.com&quot;&gt;sales page&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;hit-the-front-page-of-hacker-newshttpshitthefrontpagecom&quot;&gt;&lt;a href=&quot;https://hitthefrontpage.com&quot;&gt;Hit the Front Page of Hacker News&lt;/a&gt; &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#hit-the-front-page-of-hacker-newshttpshitthefrontpagecom&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/htfp-cover.png&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 550px, 98vw&quot; srcset=&quot; /solo-developer-year-3/htfp-cover_hu588043e67bd70a382e11ac18b2c7c3f8_578896_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/htfp-cover_hu588043e67bd70a382e11ac18b2c7c3f8_578896_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/htfp-cover_hu588043e67bd70a382e11ac18b2c7c3f8_578896_800x0_resize_lanczos_2.png 800w, /solo-developer-year-3/htfp-cover_hu588043e67bd70a382e11ac18b2c7c3f8_578896_1200x0_resize_lanczos_2.png 1200w, /solo-developer-year-3/htfp-cover.png 5334w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/htfp-cover.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://hitthefrontpage.com&quot;&gt;&lt;em&gt;Hit the Front Page of Hacker News&lt;/em&gt;&lt;/a&gt; is my course about my blogging.&lt;/p&gt;
&lt;p&gt;In May, I gave an informal presentation to my peer mentorship group called &lt;a href=&quot;https://decks.mtlynch.io/show-and-tell-2020-05/&quot;&gt;“How to be a Sort of Successful Software Blogger.&quot;&lt;/a&gt; I tried to deconstruct the techniques that make my writing succeed on sites like Hacker News and reddit. It was fun to share my process, but I didn’t know what more to do with the material.&lt;/p&gt;
&lt;p&gt;Over the year, I increasingly saw developers teaching what they knew in paid courses. TinyPilot had shown me how powerful it was to align my blog with my business. If people liked my blog, they might be interested in purchasing a course about my writing.&lt;/p&gt;
&lt;p&gt;Recording the course was harder than I expected. I planned for 30-40 hours of work, but it turned into nearly 200.&lt;/p&gt;
&lt;p&gt;The course came out in January 2021, so the numbers below don’t include post-launch orders. Sales have been modest so far, but it’s too early to get a sense of long-term revenue. In any case, I’m proud of the material, and several of my students have told me that the lessons impacted their writing significantly.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Metric&lt;/th&gt;
&lt;th&gt;2020&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Pre-orders&lt;/td&gt;
&lt;td&gt;29&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Pre-order revenue&lt;/td&gt;
&lt;td&gt;$1,431&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Cover design&lt;/td&gt;
&lt;td&gt;-$293&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Recording equipment&lt;/td&gt;
&lt;td&gt;-$584&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Net profit&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;$554&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3 id=&quot;mtlynchio-this-blog&quot;&gt;mtlynch.io (this blog) &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#mtlynchio-this-blog&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;My major change in blogging this year was thinking more strategically about article topics. Before 2020, I wrote with an attitude of, “This topic is on my mind right now, so I’m going to write about it and see what happens.” Sometimes the post would find an audience, but more often, it wouldn’t.&lt;/p&gt;
&lt;p&gt;This year, before I began any new article, I asked myself two questions:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;How many readers are interested in this topic?&lt;/li&gt;
&lt;li&gt;Do I have a way of reaching them?&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;This small bit of planning made a huge difference in my readership. In 2019, my posts averaged 5,000 readers in their first week. In 2020, this number jumped to 25,000. Of the nine new blog posts I published, all but one reached the front page of Hacker News, and four of them hit the #1 slot.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Metric&lt;/th&gt;
&lt;th&gt;2019&lt;/th&gt;
&lt;th&gt;2020&lt;/th&gt;
&lt;th&gt;Change&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Pageviews&lt;/td&gt;
&lt;td&gt;273,817&lt;/td&gt;
&lt;td&gt;719,899&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+446,082 (+163%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Affiliate revenue*&lt;/td&gt;
&lt;td&gt;$374&lt;/td&gt;
&lt;td&gt;$1,599&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$1,225 (+328%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Development&lt;/td&gt;
&lt;td&gt;-$460&lt;/td&gt;
&lt;td&gt;$0&lt;/td&gt;
&lt;td&gt;&lt;span&gt;-$460 (-100%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;https://mtlynch.io/how-to-hire-a-cartoonist/&quot;&gt;Illustrations&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;-$769&lt;/td&gt;
&lt;td&gt;-$964&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$195 (+25%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Hosting / Domain&lt;/td&gt;
&lt;td&gt;-$150&lt;/td&gt;
&lt;td&gt;-$534&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$384 (+256%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;https://mtlynch.io/editor/&quot;&gt;Editing&lt;/a&gt; + &lt;a href=&quot;https://grammarly.com&quot;&gt;Grammarly&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;-$200&lt;/td&gt;
&lt;td&gt;-$222&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$22 (+11%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Net profit&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;-$3,835&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;-$121&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;+$3,714&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;* I &lt;a href=&quot;https://twitter.com/deliberatecoder/status/1342847048811499523&quot;&gt;dropped all affiliate partnerships&lt;/a&gt; from this blog at the end of 2020.&lt;/p&gt;
&lt;h2 id=&quot;failed-projects&quot;&gt;Failed projects &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#failed-projects&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;One of the most important lessons I learned last year was that pursuing the right ideas means &lt;a href=&quot;https://mtlynch.io/solo-developer-year-2/#pursuing-the-right-idea-means-rejecting-the-wrong-ones&quot;&gt;rejecting the wrong ones&lt;/a&gt;. After six to eight weeks, if a business fails to generate meaningful revenue, I either pivot to focus on different customers or move on to an entirely new project.&lt;/p&gt;
&lt;h3 id=&quot;is-it-ketohttpsisitketoorg&quot;&gt;&lt;a href=&quot;https://isitketo.org&quot;&gt;Is It Keto&lt;/a&gt; &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#is-it-ketohttpsisitketoorg&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/isitketo-screenshot.png&quot;&gt;&lt;img class=&quot;img-border&quot; sizes=&quot;(min-width: 768px) 550px, 98vw&quot; srcset=&quot; /solo-developer-year-3/isitketo-screenshot_hu5205b3055684a68f918a21c25f965e97_352205_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/isitketo-screenshot_hu5205b3055684a68f918a21c25f965e97_352205_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/isitketo-screenshot_hu5205b3055684a68f918a21c25f965e97_352205_800x0_resize_lanczos_2.png 800w, /solo-developer-year-3/isitketo-screenshot.png 1043w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/isitketo-screenshot.png&quot; alt=&quot;Screenshot of Is It Keto website&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://isitketo.org&quot;&gt;Is It Keto&lt;/a&gt; tells readers which foods fit the keto diet.&lt;/p&gt;
&lt;p&gt;I started &lt;a href=&quot;https://isitketo.org&quot;&gt;Is It Keto&lt;/a&gt; in 2018. It’s a simple site that tells you whether or not particular foods fit the keto diet.&lt;/p&gt;
&lt;p&gt;I gave up on the site in 2019 but &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/05/&quot;&gt;came crawling back&lt;/a&gt; in April 2020 after several of my new business ideas flopped. Is It Keto was profitable, but barely. It earned less than $0.01 per visitor, so it needed a drastic increase in visitors and/or earnings.&lt;/p&gt;

&lt;p&gt;To scale growth, I tried to automate article-writing. For all of Is It Keto’s life, each article was 100% original and custom-written by me or &lt;a href=&quot;https://mtlynch.io/hiring-content-writers/&quot;&gt;writers I hired&lt;/a&gt;. In reviewing my existing content, I noticed consistent patterns that I could abstract into templates. Plugging in the right food name, photos, and nutritional information would allow me to generate new pages rapidly.&lt;/p&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/isitketo-template.png&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 800px, 98vw&quot; srcset=&quot; /solo-developer-year-3/isitketo-template_huae7753dd500996d114ff4a25c725d936_307543_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/isitketo-template_huae7753dd500996d114ff4a25c725d936_307543_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/isitketo-template_huae7753dd500996d114ff4a25c725d936_307543_800x0_resize_lanczos_2.png 800w, /solo-developer-year-3/isitketo-template_huae7753dd500996d114ff4a25c725d936_307543_1200x0_resize_lanczos_2.png 1200w, /solo-developer-year-3/isitketo-template.png 2169w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/isitketo-template.png&quot; alt=&quot;Is It Keto article next to source code that generated it&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;Creating Is It Keto articles programmatically from templates&lt;/p&gt;
&lt;p&gt;At first, it seemed like templatizing content would add hundreds of articles per week, but it proved challenging to scale that fast without sacrificing quality. In two months, I only managed to add 118 articles. The more templates I added, the faster I could go, but the additional content drew too few users to make it worthwhile.&lt;/p&gt;
&lt;p&gt;The other idea came from my friend &lt;a href=&quot;http://nugget.one/jv&quot;&gt;Justin Vincent&lt;/a&gt;, who was flabbergasted to hear that my site earned so little from 70-100k pageviews per month. He recommended that I build a paid sister product and use Is It Keto to attract qualified leads.&lt;/p&gt;
&lt;p&gt;I tested a few landing pages for keto communities and apps, but only 0.1% of visitors &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/07/#validating-keto-product-ideas&quot;&gt;signed up for more information&lt;/a&gt;. Around this time, TinyPilot began taking off, so I put Is It Keto on the backburner.&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Metric&lt;/th&gt;
&lt;th&gt;2019&lt;/th&gt;
&lt;th&gt;2020&lt;/th&gt;
&lt;th&gt;Change&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;0.95161290322581&quot;&gt;&lt;tr&gt;&lt;td&gt;Pageviews&lt;/td&gt;
&lt;td&gt;521,913&lt;/td&gt;
&lt;td&gt;1,314,583&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+792,670 (+152%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Ad revenue&lt;/td&gt;
&lt;td&gt;$940&lt;/td&gt;
&lt;td&gt;$2,934&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$1,994 (+212%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Affiliate revenue&lt;/td&gt;
&lt;td&gt;$1,315&lt;/td&gt;
&lt;td&gt;$2,147&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$832 (+63%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Meal plan sales*&lt;/td&gt;
&lt;td&gt;$24&lt;/td&gt;
&lt;td&gt;$18&lt;/td&gt;
&lt;td&gt;&lt;span&gt;-$6 (-25%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;1.5588235294118&quot;&gt;&lt;td&gt;Freelance designers and &lt;a href=&quot;https://mtlynch.io/hiring-content-writers/&quot;&gt;content writers&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;-$4,322&lt;/td&gt;
&lt;td&gt;-$105&lt;/td&gt;
&lt;td&gt;&lt;span&gt;-$4,217 (-98%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Hosting / domain&lt;/td&gt;
&lt;td&gt;-$115&lt;/td&gt;
&lt;td&gt;-$241&lt;/td&gt;
&lt;td&gt;&lt;span&gt;+$126 (+110%)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Net profit&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;-$2,158&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;$4,753&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;&lt;span&gt;+$6,911&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;* I &lt;a href=&quot;https://mtlynch.io/retrospectives/2019/12/#giving-up-on-meal-plans&quot;&gt;gave up on meal plans&lt;/a&gt; in January 2020&lt;/p&gt;
&lt;h3 id=&quot;wanderjesthttpswanderjestcom&quot;&gt;&lt;a href=&quot;https://wanderjest.com&quot;&gt;WanderJest&lt;/a&gt; &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#wanderjesthttpswanderjestcom&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/wanderjest-feb-2020.jpg&quot;&gt;&lt;img class=&quot;img-border&quot; sizes=&quot;(min-width: 768px) 600px, 98vw&quot; srcset=&quot; /solo-developer-year-3/wanderjest-feb-2020_hu45e81b12bd9b1b3f2792aba9c0cf02db_131267_300x0_resize_q90_lanczos.jpg 300w, /solo-developer-year-3/wanderjest-feb-2020_hu45e81b12bd9b1b3f2792aba9c0cf02db_131267_600x0_resize_q90_lanczos.jpg 600w, /solo-developer-year-3/wanderjest-feb-2020_hu45e81b12bd9b1b3f2792aba9c0cf02db_131267_800x0_resize_q90_lanczos.jpg 800w, /solo-developer-year-3/wanderjest-feb-2020_hu45e81b12bd9b1b3f2792aba9c0cf02db_131267_1200x0_resize_q90_lanczos.jpg 1200w, /solo-developer-year-3/wanderjest-feb-2020.jpg 1306w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/wanderjest-feb-2020.jpg&quot; alt=&quot;Screenshot WanderJest website&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://wanderjest.com&quot;&gt;WanderJest&lt;/a&gt; helps comedy fans find live comedy shows nearby.&lt;/p&gt;
&lt;p&gt;WanderJest was a short-lived project I started at the beginning of 2020. I described it as “Bandsintown, but for comedy.”&lt;/p&gt;
&lt;p&gt;I love comedy, but I’ve missed countless opportunities to see comedians perform near me. Either I’m not on the right mailing list, not following the right social media account, or not checking Ticketmaster at the right time. WanderJest was going to solve that by aggregating show listings from as many sources as possible.&lt;/p&gt;
&lt;p&gt;My plan was to make money through affiliate deals with theaters, but nobody ever used my discount codes. Once COVID hit, I &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/04/#putting-wanderjest-on-hold&quot;&gt;shuttered the site&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;portfolio-rebalancerhttpsassetrebalancercom&quot;&gt;&lt;a href=&quot;https://assetrebalancer.com/&quot;&gt;Portfolio Rebalancer&lt;/a&gt; &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#portfolio-rebalancerhttpsassetrebalancercom&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/rebalancer-screenshot.png&quot;&gt;&lt;img class=&quot;img-border&quot; sizes=&quot;(min-width: 768px) 550px, 98vw&quot; srcset=&quot; /solo-developer-year-3/rebalancer-screenshot_hu2b094c6e6f387643d9b0e8450b62781e_29225_300x0_resize_lanczos_2.png 300w, /solo-developer-year-3/rebalancer-screenshot_hu2b094c6e6f387643d9b0e8450b62781e_29225_600x0_resize_lanczos_2.png 600w, /solo-developer-year-3/rebalancer-screenshot_hu2b094c6e6f387643d9b0e8450b62781e_29225_800x0_resize_lanczos_2.png 800w, /solo-developer-year-3/rebalancer-screenshot.png 936w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/rebalancer-screenshot.png&quot; alt=&quot;Screenshot of Is It Keto website&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://assetrebalancer.com/&quot;&gt;Portfolio Rebalancer&lt;/a&gt; helps passive investors manage their investments.&lt;/p&gt;
&lt;p&gt;My investment portfolio is a mix of stocks and bonds of different categories with a target percentage for each asset type. As prices fluctuate, the balance of my investments changes, so I have to move money around to get back to my target ratios. I do this a few times per year by tediously plugging numbers into a spreadsheet until everything looks right.&lt;/p&gt;
&lt;p&gt;What if a web app automated this? I put together a quick prototype and shared it on reddit, my blog, and through Google ads. The tool attracted 1,000 visitors in its first month. Sadly, only one person signed up for a free trial, and they never upgraded to a paid plan. I wasn’t confident in the idea to begin with, so I &lt;a href=&quot;https://mtlynch.io/retrospectives/2020/05/#portfolio-rebalancer-has-lots-of-visitors-but-no-sales&quot;&gt;moved on&lt;/a&gt; after a month.&lt;/p&gt;
&lt;h2 id=&quot;lessons-learned&quot;&gt;Lessons learned &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#lessons-learned&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;productmarket-fit-is-magic&quot;&gt;Product/market fit is magic &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#productmarket-fit-is-magic&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Finding &lt;a href=&quot;https://en.wikipedia.org/wiki/Product/market_fit&quot;&gt;“product/market fit”&lt;/a&gt; means building a product and connecting with enough customers to make your business viable. When founders talk about achieving product/market fit, they describe it in the same breathless tone as finding true love. Now, I understand why.&lt;/p&gt;
&lt;p&gt;The first two and a half years of working on my own, I’d spend hundreds of hours executing an idea and see only a few dollars of extra revenue. TinyPilot was product/market fit at first sight. As soon as I published the blog post, I knew.&lt;/p&gt;
&lt;p&gt;With TinyPilot, it feels like the product drives the business, and I’m just along for the ride. There have been several months where I made critical mistakes in managing the business, and it continued growing anyway.&lt;/p&gt;
&lt;p&gt;When I do improve the product, the results are immediate and substantial. In November, I released &lt;a href=&quot;https://tinypilotkvm.com/blog/introducing-voyager&quot;&gt;a new, high-end model&lt;/a&gt; of TinyPilot. It sold 55 units in the first month, generating an extra $14k in revenue. That felt a whole lot better than &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#is-it-ketohttpsisitketoorg&quot;&gt;my 0.1% signup rate&lt;/a&gt; on Is It Keto and Portfolio Rebalancer.&lt;/p&gt;
&lt;h3 id=&quot;you-can-build-a-successful-business-without-being-available-247&quot;&gt;You can build a successful business without being available 24/7 &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#you-can-build-a-successful-business-without-being-available-247&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I still vividly remember a show I saw at the &lt;a href=&quot;https://ucbtheatre.com/&quot;&gt;UCB comedy theater&lt;/a&gt; in late 2017, but I couldn’t tell you a single joke from the performance. All I remember was worrying the entire time that the pager in my pocket could go off at any moment and force me to rush home.&lt;/p&gt;
&lt;p&gt;My team at Google had an “on-call rotation,” which meant that every two months, you carried a pager everywhere you went for two weeks. If the pager went off, you had to be “fingers on keyboard” within 30 minutes.&lt;/p&gt;
&lt;p&gt;When I left Google, I was &lt;a href=&quot;https://mtlynch.io/why-i-quit-google/#whats-next&quot;&gt;unsure of my future plans&lt;/a&gt;, but I was certain of one thing: I’d never carry a pager again. And I haven’t — I’ve refused to entertain any business idea where an outage would be A Big Deal.&lt;/p&gt;
&lt;p&gt;Around the two year mark, thoughts began creeping into my mind that &lt;em&gt;this&lt;/em&gt; was what held me back. Other founders were building services that promised constant availability, so why should I succeed with anything less?&lt;/p&gt;
&lt;p&gt;Fortunately, bootstrapped founder extraordinaire Jason Cohen told me to keep doing what I’m doing. Well, he didn’t tell &lt;em&gt;me&lt;/em&gt; exactly, but it felt like he was speaking directly to me. At &lt;a href=&quot;https://youtu.be/otbnC2zE2rw?t=1962&quot;&gt;the 32-minute mark&lt;/a&gt; of his excellent talk, &lt;a href=&quot;https://www.youtube.com/watch?v=otbnC2zE2rw&quot;&gt;“Designing the Ideal Bootstrapped Business,&quot;&lt;/a&gt; Cohen pointedly discourages founders from creating “real-time” businesses. He explained that if you’re a self-funded small business, it’s not worth having customers wake you up in the middle of the night.&lt;/p&gt;
&lt;div&gt;
&lt;p&gt;&lt;iframe src=&quot;https://www.youtube.com/embed/otbnC2zE2rw&quot; allowfullscreen=&quot;&quot; title=&quot;YouTube Video&quot;&gt;[embedded content]&lt;/iframe&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I’m so glad I didn’t cave to my fears. TinyPilot is about as far from “real-time” as it gets. Customers run my software on their own hardware, so I could shut down every server and code repository without interrupting anyone’s workflow.&lt;/p&gt;
&lt;h3 id=&quot;success-is-more-stressful-than-failure&quot;&gt;Success is more stressful than failure &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#success-is-more-stressful-than-failure&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Even though TinyPilot doesn’t require constant availability, my brain often forgets that.&lt;/p&gt;
&lt;p&gt;After my big launch, I couldn’t sleep for two days. I mailed out all nine kits to my customers and then agonized over what would happen next. What if everyone got their devices, and none of them worked? What if my customers expected TinyPilot to do something totally different? What if there was some horrible bug that destroyed everyone’s servers?&lt;/p&gt;
&lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/first-9.jpg&quot;&gt;&lt;img sizes=&quot;(min-width: 768px) 400px, 98vw&quot; srcset=&quot; /solo-developer-year-3/first-9_hu89b3a8eb72ea658796c0059df6fc46f0_404590_300x0_resize_q90_lanczos.jpg 300w, /solo-developer-year-3/first-9_hu89b3a8eb72ea658796c0059df6fc46f0_404590_600x0_resize_q90_lanczos.jpg 600w, /solo-developer-year-3/first-9_hu89b3a8eb72ea658796c0059df6fc46f0_404590_800x0_resize_q90_lanczos.jpg 800w, /solo-developer-year-3/first-9_hu89b3a8eb72ea658796c0059df6fc46f0_404590_1200x0_resize_q90_lanczos.jpg 1200w, /solo-developer-year-3/first-9.jpg 1600w&quot; src=&quot;https://mtlynch.io/solo-developer-year-3/first-9.jpg&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;
&lt;p&gt;The first nine TinyPilot orders I packed&lt;/p&gt;
&lt;p&gt;Fortunately, initial customers loved their TinyPilots, so I finally exhaled. But every few weeks, something new would pop up and worry me for days. The post office lost a shipment of critical parts. A positive review drove a surge of orders and exhausted my inventory. I messed up a customs form and braced myself for imprisonment in export jail.&lt;/p&gt;
&lt;p&gt;Realistically, the pressure I feel is all self-imposed. If I’m out of stock for a few days, who cares? When my poor planning delays an order, I feel anxious about disappointing the customer, but nobody’s ever complained. In fact, when I apologize that a shipment will be late, customers only ever reply to say they’re impressed I took the time to let them know.&lt;/p&gt;
&lt;p&gt;I’ve been getting better at easing the pressure on myself and separating work from my personal life, but it’s an ongoing process.&lt;/p&gt;
&lt;h2 id=&quot;grading-last-years-goals&quot;&gt;Grading last year’s goals &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#grading-last-years-goals&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;At the start of last year, I &lt;a href=&quot;https://mtlynch.io/solo-developer-year-2/#goals-for-year-three&quot;&gt;set three high-level goals&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;earn-20k-in-revenue-across-my-businesses&quot;&gt;Earn $20k in revenue across my businesses &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#earn-20k-in-revenue-across-my-businesses&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Result&lt;/strong&gt;: Earned $63k in revenue&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Grade&lt;/strong&gt;: A+&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;It looked bleak at the beginning, but I far exceeded my goal. Considering my 2019 revenue was only $7.2k, an increase of almost 9x feels like a major accomplishment.&lt;/p&gt;
&lt;h3 id=&quot;publish-10-blog-posts&quot;&gt;Publish 10 blog posts &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#publish-10-blog-posts&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Result&lt;/strong&gt;: Published nine blog posts&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Grade&lt;/strong&gt;: A-&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;I was on track to publish 10 posts, but I sacrificed my tenth in order to create &lt;a href=&quot;https://hitthefrontpage.com&quot;&gt;my writing course&lt;/a&gt;. Nevertheless, I’m pleased with the results of my blogging this year. I wrote several articles I feel proud of, and they connected with appreciative audiences.&lt;/p&gt;
&lt;h3 id=&quot;learn-one-new-technology&quot;&gt;Learn one new technology &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#learn-one-new-technology&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Result&lt;/strong&gt;: Learned more JavaScript&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Grade&lt;/strong&gt;: B-&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;I was hoping to find an excuse to learn Rust, but I never found a good match.&lt;/p&gt;
&lt;p&gt;Instead, I gained breadth and depth in JavaScript. I already knew &lt;a href=&quot;https://vuejs.org/&quot;&gt;Vue&lt;/a&gt;, but this year, I learned &lt;a href=&quot;https://gridsome.org/&quot;&gt;Gridsome&lt;/a&gt;, a Vue-based static site generator. I used it to build &lt;a href=&quot;https://tinypilotkvm.com&quot;&gt;my TinyPilot sales site&lt;/a&gt; and to &lt;a href=&quot;https://whatgotdone.com/michael/2020-04-17&quot;&gt;rewrite Is It Keto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I also learned to use plain JavaScript more effectively. TinyPilot’s web app &lt;a href=&quot;https://github.com/mtlynch/tinypilot/tree/bf07bfe72941457cf068ca0a44c6b0d62dd9ef05/app/static/js&quot;&gt;is pure JavaScript&lt;/a&gt; with no build or compilation steps. It’s astonishing how much complexity you save by eschewing modern JavaScript frameworks.&lt;/p&gt;
&lt;h2 id=&quot;goals-for-year-four&quot;&gt;Goals for year four &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#goals-for-year-four&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;grow-tinypilot-to-600k-in-annual-revenue&quot;&gt;Grow TinyPilot to $600k in annual revenue &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#grow-tinypilot-to-600k-in-annual-revenue&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Okay, as crazy as it sounds to go from a goal of $20k/year to $600k/year, I think this is achievable.&lt;/p&gt;
&lt;p&gt;TinyPilot earned $43k in January 2021, so it could reach $600k for the year by averaging 3% growth each month.&lt;/p&gt;
&lt;h3 id=&quot;publish-six-blog-posts-and-one-book&quot;&gt;Publish six blog posts and one book &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#publish-six-blog-posts-and-one-book&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Ever since I began working for myself, I’ve distantly fantasized about self-publishing a book. This year, I’m finally doing it.&lt;/p&gt;
&lt;p&gt;The book will teach software engineers practical ways to improve their writing. The tentative title is &lt;a href=&quot;https://refactoringenglish.com&quot;&gt;&lt;em&gt;Refactoring English: Effective Writing for Software Developers&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;automate-tinypilot-management&quot;&gt;Automate TinyPilot management &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#automate-tinypilot-management&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;My girlfriend works with me part-time on TinyPilot, managing inventory and packing orders. We enjoy working together, but it’s a fragile system that scales poorly. If either of is unavailable for a few days, we quickly accumulate a massive backlog.&lt;/p&gt;
&lt;p&gt;I’d like to systematize and outsource enough of our processes that we can take a two-week vacation without everything grinding to a halt.&lt;/p&gt;
&lt;h2 id=&quot;closing-thoughts&quot;&gt;Closing thoughts &lt;a href=&quot;https://mtlynch.io/solo-developer-year-3/#closing-thoughts&quot; class=&quot;hanchor&quot; arialabel=&quot;Anchor&quot;&gt;🔗︎&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Before I quit my job, I constantly read books and listened to podcasts about startups. The part that intrigued me most was the boundlessness of possibility.&lt;/p&gt;
&lt;p&gt;When you run your own business, you can do &lt;em&gt;anything&lt;/em&gt;. With a month of available time and $10k of capital, there are millions of ways to grow your business. You can add a new feature, try a new marketing strategy, or hire a new salesperson. You can make up a totally new technique that nobody in your industry has ever seen before.&lt;/p&gt;
&lt;p&gt;Throughout my career, I was always on some predefined career ladder. To progress, I had to prove that I met arbitrary criteria that bore only a faint resemblance to my day-to-day work. If my manager asked me to add a new feature, I couldn’t say, “No, I think we need a better marketing strategy, so I’m going to do that instead.” But with my own business, I say stuff like that all the time! (Though now, the manager and the employee are both me.)&lt;/p&gt;
&lt;p&gt;As I finally see financial success with one of my businesses, there’s more revenue, which means more possibilities. It’s just as fun as I hoped. Stressful, but fun.&lt;/p&gt;
&lt;p&gt;Once again, I feel incredibly fortunate to be working for myself, and I hope to continue doing it forever.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; readability=&quot;7.9395770392749&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Today is the third anniversary of quitting my job at Google to build my own software business. This was my highest earning year yet, earning $63k in revenue (7x higher than 2019).&lt;/p&gt;&lt;p&gt;My post shares lessons and full financial details from each of my projects &lt;a href=&quot;https://t.co/29ay7xcNlx&quot;&gt;https://t.co/29ay7xcNlx&lt;/a&gt;&lt;/p&gt;
— Michael Lynch (@deliberatecoder) &lt;a href=&quot;https://twitter.com/deliberatecoder/status/1356256679231434753?ref_src=twsrc%5Etfw&quot;&gt;February 1, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;hr/&gt;&lt;p&gt;&lt;em&gt;Cover image by &lt;a href=&quot;https://www.linkedin.com/in/lolo-ology/&quot;&gt;Loraine Yow&lt;/a&gt;. Thanks to &lt;a href=&quot;https://monicalent.com/&quot;&gt;Monica Lent&lt;/a&gt; and the &lt;a href=&quot;http://bloggingfordevs.com/&quot;&gt;Blogging for Devs community&lt;/a&gt; for providing early feedback for this post.&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 14:35:19 +0000</pubDate>
<dc:creator>mtlynch</dc:creator>
<og:title>My Third Year as a Solo Developer</og:title>
<og:description>Today is the third anniversary of me quitting my job at Google to build my own software business. I posted updates at the end of my first and second years, so it's time for another update.</og:description>
<og:type>article</og:type>
<og:url>https://mtlynch.io/solo-developer-year-3/</og:url>
<og:image>https://mtlynch.io/solo-developer-year-3/og-cover.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://mtlynch.io/solo-developer-year-3/</dc:identifier>
</item>
<item>
<title>An unexpected find that freed 20GB of unused index space in PostgreSQL</title>
<link>https://hakibenita.com/postgresql-unused-index-size</link>
<guid isPermaLink="true" >https://hakibenita.com/postgresql-unused-index-size</guid>
<description>&lt;hr/&gt;&lt;p&gt;Every few months we get an alert from our database monitoring to warn us that we are about to run out of space. Usually we just provision more storage and forget about it, but this time we were under quarantine, and the system in question was under less load than usual. We thought this is a good opportunity to do some cleanups that would otherwise be much more challenging.&lt;/p&gt;&lt;p&gt;To start from the end, &lt;strong&gt;we ended up freeing more than 70GB of un-optimized and un-utilized space&lt;/strong&gt; without dropping a single index or deleting any data!&lt;/p&gt;
&lt;p&gt;Using conventional technics such as rebuilding indexes and tables we cleared up a lot of space, but then &lt;strong&gt;one surprising find helped us clear an additional ~20GB of unused indexed values!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is what the free storage chart of one of our databases looked like in the process:&lt;/p&gt;
&lt;img alt=&quot;Free space over time (higher means more free space)&quot; src=&quot;https://hakibenita.com/images/00-postgresql-unused-index-size.png&quot;/&gt;Free space over time (higher means more free space)
&lt;details class=&quot;toc-container&quot; open=&quot;&quot;&gt;Table of Contents

&lt;/details&gt;&lt;hr/&gt;
&lt;p&gt;Provisioning storage is something we do from time to time, but before we throw money at the problem we like to make sure we make good use of the storage we already have. To do that, we start with the usual suspects.&lt;/p&gt;
&lt;h3 id=&quot;unused-indexes&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#unused-indexes&quot;&gt;Unused Indexes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Unused indexes are double-edged swords; you create them to make things faster, but they end up taking space and slow inserts and updates. Unused indexes are the first thing we always check when we need to clear up storage.&lt;/p&gt;
&lt;p&gt;To find unused indexes we use the following query:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;indexrelname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;idx_scan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;idx_tup_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;idx_tup_fetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_size_pretty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indexrelname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;regclass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;size&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_stat_all_indexes&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;schemaname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'public'&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indexrelname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;LIKE&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pg_toast_%'&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx_scan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx_tup_read&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx_tup_fetch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The query is looking for &lt;strong&gt;indexes that were not scanned or fetched&lt;/strong&gt; since the last time the statistics were reset.&lt;/p&gt;
&lt;p&gt;Some indexes may seem like they were not used but they were in-fact used:&lt;/p&gt;
&lt;ul readability=&quot;1.4260869565217&quot;&gt;&lt;li readability=&quot;1.7748344370861&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-PG-STAT-ALL-INDEXES-VIEW&quot; rel=&quot;noopener&quot;&gt;The documentation&lt;/a&gt; lists a few scenarios when this is possible. For example, when the optimizer uses meta data from the index, but not the index itself.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;Indexes used to enforce unique or primary key constraints for tables that were not updated in a while. The indexes will look like they were not used, but it doesn't mean we can dispose of them.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The find the unused indexes you can actually drop, you usually have to go over the list one by one and make a decision. This can be time consuming in the first couple of times, but after you get rid of most unused indexes it becomes easier.&lt;/p&gt;
&lt;p&gt;It's also a good idea to &lt;strong&gt;reset the statistics counters from time to time&lt;/strong&gt;, usually right after you finished inspecting the list. PostgreSQL provides a few &lt;a href=&quot;https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE&quot; rel=&quot;noopener&quot;&gt;functions to reset statistics&lt;/a&gt; at different levels. When we find an index we suspect is not being used, or when we add new indexes in place of old ones, we usually reset the counters for the table and wait for a while:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;-- Find table oid by name&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_class&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'table_name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- Reset counts for all indexes of table&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stat_reset_single_table_counters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14662536&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We do this every once in a while, so in our case there were no unused indexes to drop.&lt;/p&gt;
&lt;h3 id=&quot;index-and-table-bloat&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#index-and-table-bloat&quot;&gt;Index and Table Bloat&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The next suspect is bloat. When you update rows in a table, PostgreSQL marks the tuple as dead and adds the updated tuple in the next available space. This process creates what's called &quot;bloat&quot;, which can cause tables to consume more space than they really need. Bloat also affects indexes, so to free up space, bloat is a good place to look.&lt;/p&gt;
&lt;p&gt;Estimating bloat in tables and indexes is apparently not a simple task. Lucky for us, some good people on the world wide web already &lt;a href=&quot;https://wiki.postgresql.org/wiki/Show_database_bloat&quot; rel=&quot;noopener&quot;&gt;did the hard work&lt;/a&gt; and wrote queries to estimate &lt;a href=&quot;https://github.com/ioguix/pgsql-bloat-estimation/blob/master/table/table_bloat.sql&quot; rel=&quot;noopener&quot;&gt;table bloat&lt;/a&gt; and &lt;a href=&quot;https://github.com/ioguix/pgsql-bloat-estimation/blob/master/btree/btree_bloat.sql&quot; rel=&quot;noopener&quot;&gt;index bloat&lt;/a&gt;. After running these queries you will most likely find &lt;em&gt;some&lt;/em&gt; bloat, so the next thing to do it clear up that space.&lt;/p&gt;
&lt;h4 id=&quot;clearing-bloat-in-indexes&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#clearing-bloat-in-indexes&quot;&gt;Clearing Bloat in Indexes&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To clear bloat in an index, you need to rebuild it. There are several ways to rebuild an index:&lt;/p&gt;
&lt;ol readability=&quot;0.48588709677419&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;Re-create the index&lt;/strong&gt;: If you re-create the index, it will be built in an optimal way.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0.95705521472393&quot;&gt;
&lt;p&gt;&lt;strong&gt;Rebuild the index&lt;/strong&gt;: Instead of dropping and creating the index yourself, PostgreSQL provides a way to re-build an existing index in-place using the &lt;a href=&quot;https://www.postgresql.org/docs/current/sql-reindex.html&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;REINDEX&lt;/code&gt;&lt;/a&gt; command:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;REINDEX&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;&lt;li&gt;&lt;strong&gt;Rebuild the index concurrently&lt;/strong&gt;: The previous methods will obtain a lock on the table and prevent it from being changed while the operation is in progress, which is usually unacceptable. To rebuild the index without locking it for updates, you can &lt;a href=&quot;https://www.postgresql.org/docs/current/sql-reindex.html#SQL-REINDEX-CONCURRENTLY&quot; rel=&quot;noopener&quot;&gt;rebuilt the index concurrently&lt;/a&gt;:&lt;/li&gt;
&lt;/ol&gt;&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;REINDEX&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CONCURRENTLY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When using &lt;code&gt;REINDEX CONCURRENTLY&lt;/code&gt;, PostgreSQL creates a new index with a name suffixed with &lt;code&gt;_ccnew&lt;/code&gt;, and syncs any changes made to the table in the meantime. When the rebuild is done, it will switch the old index with the new index, and drop the old one.&lt;/p&gt;
&lt;p&gt;Clearing bloat in Indexes&lt;/p&gt;
&lt;p&gt;If for some reason you had to stop the rebuild in the middle, the new index will not be dropped. Instead, it will be left in an invalid state and consume space. To identify invalid indexes that were created during &lt;code&gt;REINDEX&lt;/code&gt;, we use the following query:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;-- Identify invalid indexes that were created during index rebuild&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_size_pretty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_index&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_class&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indexrelid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- New index built using REINDEX CONCURRENTLY&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;LIKE&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;'%_ccnew'&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- In INVALID state&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indisvalid&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LIMIT&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once the rebuild process is no longer active, it should be safe to drop any remaining invalid indexes.&lt;/p&gt;
&lt;h4 id=&quot;activating-b-tree-index-deduplication&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#activating-b-tree-index-deduplication&quot;&gt;Activating B-Tree Index Deduplication&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;PostgreSQL 13 introduced a new efficient way of storing duplicate values in B-Tree indexes called &lt;a href=&quot;https://www.postgresql.org/docs/current/btree-implementation.html#BTREE-DEDUPLICATION&quot; rel=&quot;noopener&quot;&gt;&quot;B-Tree Deduplication&quot;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For each indexed value, a B-Tree index will hold in its leaf both the value and a pointer to the row (TID). The larger the indexed values, the larger the index. Up until PostgreSQL 12, when the index contained many duplicate values, all of these duplicate values would be stored in the index leaves. This is not very efficient and can take up a lot of space.&lt;/p&gt;
&lt;p&gt;B-Tree Index Deduplication&lt;/p&gt;
&lt;p&gt;Starting at PostgreSQL 13, when B-Tree deduplication is activated, duplicate values are only stored once. This can make a huge impact on the size of indexes with many duplicate values.&lt;/p&gt;
&lt;p&gt;In PostgreSQL 13 index deduplication in enabled by default, unless you deactivate it:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;-- Activating de-deduplication for a B-Tree index, this is the default:&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;column_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deduplicate_items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you are migrating from PostgreSQL versions prior to 13, you need to rebuild the indexes using the &lt;code&gt;REINDEX&lt;/code&gt; command in order to get the full benefits of index de-deduplication.&lt;/p&gt;
&lt;p&gt;To illustrate the effect of B-Tree deduplication on the size of the index, create a table with a unique column and a non unique column, and populate it with 1M rows. On each column create two B-Tree indexes, one with deduplication enabled and another with deduplication disabled:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_unique&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_not_unique&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_not_unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ix1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deduplicate_items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ix2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deduplicate_items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ix3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_not_unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deduplicate_items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ix4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_btree_dedup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_not_unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deduplicate_items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, compare the sizes of the four indexes:&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Column&lt;/th&gt;
&lt;th&gt;Deduplication&lt;/th&gt;
&lt;th&gt;Size&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Not unique&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;6840 kB&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Not unique&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;21 MB&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Unique&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;21 MB&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Unique&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;21 MB&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;As expected, deduplication had no effect on the unique index, but it had a significant effect on the index that had many duplicate values.&lt;/p&gt;
&lt;p&gt;Unfortunately for us, PostgreSQL 13 was still fresh at the time, and our cloud provider did not have support for it yet, so we were unable to use deduplication to clear space.&lt;/p&gt;
&lt;h4 id=&quot;clearing-bloat-in-tables&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#clearing-bloat-in-tables&quot;&gt;Clearing Bloat in Tables&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Just like in indexes, tables can also contain dead tuples that cause bloat and fragmentation. However, unlike indexes that contain data from an associated table, a table can not just simply be re-created. To re-create a table you would have to create a new table, migrate the data over while keeping it synced with new data, create all the indexes, constraints and any referential constraints in other tables. Only after all of this is done, you can switch the old table with the new one.&lt;/p&gt;
&lt;p&gt;Clearing bloat in Tables&lt;/p&gt;
&lt;p&gt;There are several ways to rebuild a table and reduce bloat:&lt;/p&gt;
&lt;ol readability=&quot;1.4323040380048&quot;&gt;&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Re-create the table&lt;/strong&gt;: Using this method as described above often requires a lot of development, especially if the table is actively being used as it's being rebuilt.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1.8515625&quot;&gt;
&lt;p&gt;&lt;strong&gt;Vacuum the table&lt;/strong&gt;: PostgreSQL provides a way to reclaim space occupied by dead tuples in a table using the &lt;a href=&quot;https://www.postgresql.org/docs/current/sql-vacuum.html&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;VACUUM FULL&lt;/code&gt; command&lt;/a&gt;. Vacuum full requires a lock on the table, and is not an ideal solution for tables that need to be available while being vacuumed:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;-- Will lock the table&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;VACUUM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The two options above require either a significant effort, or some down time.&lt;/p&gt;
&lt;h4 id=&quot;using-pg_repack&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#using-pg_repack&quot;&gt;Using pg_repack&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Both built-in options for rebuilding tables are not ideal unless you can afford downtime. One popular solution for rebuilding tables and indexes without downtime is the &lt;a href=&quot;https://reorg.github.io/pg_repack/&quot; rel=&quot;noopener&quot;&gt;pg_repack extension&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Being a popular extension, &lt;code&gt;pg_repack&lt;/code&gt; is likely available from your package manager or already installed by your cloud provider. To use &lt;code&gt;pg_repack&lt;/code&gt;, you first need to create the extension:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EXTENSION&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_repack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To &quot;repack&quot; a table along with its indexes, issue the following command from the console:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; pg_repack -k --table table_name db_name
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To rebuild a table with no downtime, the extension creates a new table, loads the data from the original table into it while keeping it up to date with new data, and then also rebuilds the indexes. When the process is finished, the two tables are switched and the original table is dropped. See &lt;a href=&quot;https://reorg.github.io/pg_repack/#details&quot; rel=&quot;noopener&quot;&gt;here&lt;/a&gt; for full details.&lt;/p&gt;

&lt;p&gt;There are two caveats to be aware of when using &lt;code&gt;pg_repack&lt;/code&gt; to rebuild tables:&lt;/p&gt;
&lt;ul readability=&quot;2&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;strong&gt;Requires amount of storage roughly the amount of the table to rebuild&lt;/strong&gt;: the extension creates another table to copy the data to, so it requires additional storage roughly the size of the table and its indexes.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;strong&gt;May require some manual cleanup&lt;/strong&gt;: if the &quot;repack&quot; process failed or stopped manually, it may leave intermediate objects laying around, so you may need to do some manual cleanup.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Despite these caveats, &lt;code&gt;pg_repack&lt;/code&gt; is a great option for rebuilding tables and indexes with no downtime. However, because it requires some additional storage to operate, it's not a good option when you are &lt;em&gt;already&lt;/em&gt; out of storage. It's a good idea to monitor the free storage space and plan rebuilds in advance.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;At this point we already used all the conventional techniques we could think of and cleared up &lt;em&gt;a lot&lt;/em&gt; of space. We dropped unused indexes and cleared bloat from tables and indexes, but... there was still more space to shave off!&lt;/p&gt;
&lt;h3 id=&quot;the-aha-moment&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#the-aha-moment&quot;&gt;The &quot;Aha Moment&quot;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;While we were looking at the sizes of the indexes after we finished rebuilding them, an interesting thing caught our eye.&lt;/p&gt;
&lt;p&gt;One of our largest tables stores transaction data. In our system, after a payment is made, the user can choose to cancel and get a refund. This is not happening very often, and only a fraction of the transactions end up being cancelled.&lt;/p&gt;
&lt;p&gt;In our transactions table, there are foreign keys to both the purchasing user and the cancelling user, and each field has a B-Tree index defined on it. The purchasing user has a NOT NULL constraint on it so all the rows hold a value. The cancelling user on the other hand, is nullable, and only a fraction of the rows hold any data. Most of the values in the cancelling user field are NULL.&lt;/p&gt;
&lt;p&gt;TransactionsPurchasing userCancelling user Transactions table with FK to purchasing and cancelling user&lt;/p&gt;
&lt;p&gt;We expected the index on the cancelling user to be significantly smaller than the index on the purchasing user, but they were exactly the same. Coming from Oracle, I was always taught that &lt;a href=&quot;https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE&quot; rel=&quot;noopener&quot;&gt;NULLs are not indexed&lt;/a&gt;, but in PostgreSQL they are! This &quot;Aha&quot; moment led us to the realization that &lt;strong&gt;we were indexing a lot of unnecessary values for no reason&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;This was the original index we had for the cancelling user:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transaction_cancelled_by_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transactions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cancelled_by_user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To check our thesis, we replaced the index with a partial index that excludes null values:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transaction_cancelled_by_ix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transaction_cancelled_by_part_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transactions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cancelled_by_user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cancelled_by_user_id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The full index after we reindexed it was 769MB in size, with more than 99% null values. The partial index that excluded null values was less than 5MB. That's more than 99% percent of dead weight shaved off the index!&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Index&lt;/th&gt;
&lt;th&gt;Size&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Full index&lt;/td&gt;
&lt;td&gt;769MB&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Partial Index&lt;/td&gt;
&lt;td&gt;5MB&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td/&gt;
&lt;td/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Difference&lt;/td&gt;
&lt;td&gt;-99%&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;To make sure those NULL values were indeed unnecessary, we reset the stats on the table and waited a while. Not long after, we observed that the index is being used just like the old one! &lt;strong&gt;We just shaved off more than 760MB of unused indexed tuples without compromising performance!&lt;/strong&gt;&lt;/p&gt;
&lt;img alt=&quot;Clearing space, play by play&quot; src=&quot;https://hakibenita.com/images/01-postgresql-unused-index-size.png&quot;/&gt;Clearing space, play by play
&lt;h3 id=&quot;utilizing-partial-indexes&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#utilizing-partial-indexes&quot;&gt;Utilizing Partial Indexes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Once we had a good experience with one partial index, we figured we might have more indexes like that. To find good candidates for partial index we wrote a query to search for indexes on fields with high &lt;code&gt;null_frac&lt;/code&gt;, the percent of values of the column that PostgreSQL estimates are NULL:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;19&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;-- Find indexed columns with high null_frac&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_size_pretty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indisunique&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indexed_column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;WHEN&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;THEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;ELSE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'999.00%'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_size_pretty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bigint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected_saving&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- Uncomment to include the index definition&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--, ixs.indexdef&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_class&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_index&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indexrelid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_attribute&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrelid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_table&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indrelid&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_indexes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ixs&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ixs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indexname&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stats&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;relname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- Primary key cannot be partial&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indisprimary&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- Exclude already partial indexes&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indpred&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- Exclude composite indexes&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array_length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- Larger than 10MB&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pg_relation_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The results of this query can look like this:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
   &lt;span class=&quot;n&quot;&gt;oid&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;         &lt;span class=&quot;k&quot;&gt;index&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unique&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indexed_column&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;null_frac&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected_saving&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;---------+--------------------+------------+--------+----------------+-----------+-----------------&lt;/span&gt;
  &lt;span class=&quot;mf&quot;&gt;138247&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tx_cancelled_by_ix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1418&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cancelled_by&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;mf&quot;&gt;96.15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1363&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;
   &lt;span class=&quot;mf&quot;&gt;16988&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tx_op1_ix&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1651&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op1&lt;/span&gt;            &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;    &lt;span class=&quot;mf&quot;&gt;6.11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;101&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;
 &lt;span class=&quot;mf&quot;&gt;1473377&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tx_token_ix&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;mf&quot;&gt;11.21&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2494&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kB&lt;/span&gt;
  &lt;span class=&quot;mf&quot;&gt;138529&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tx_op_name_ix&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1160&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;name&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bytes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the table above we can identify several types of results:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;tx_cancelled_by_ix&lt;/code&gt; is a large index with many null values: great potential here!&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tx_op_1_ix&lt;/code&gt; is a large index with few null values: there's not much potential&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tx_token_ix&lt;/code&gt; is a small index with few null values: I wouldn't bother with this index&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tx_op_name_ix&lt;/code&gt; is a large index with no null values: nothing to do here&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The results show that by turning &lt;code&gt;tx_cancelled_by_ix&lt;/code&gt; into a partial index that excludes null we can potentially save ~1.3GB.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Is it always beneficial to exclude nulls from indexes?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;No. &lt;code&gt;NULL&lt;/code&gt; is as meaningful as any other value. If your queries are searching for null values using &lt;code&gt;IS NULL&lt;/code&gt;, these queries might benefit from an index on &lt;code&gt;NULL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So is this method beneficial only for null values?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Using partial indexes to exclude values that are not queried very often or not at all can be beneficial for any value, not just null values. &lt;code&gt;NULL&lt;/code&gt; usually indicate a lack of value, and in our case not many queries were searching for null values, so it made sense to exclude them from the index.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So how did you end up clearing more than 20GB?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You may have noticed that the title mentions more than 20GB of free space but the charts only show half, well... indexes are also dropped from replications! When you release 10GB from your primary database, you also release roughly the same amount of storage from each replica.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;This story is taken from a large application built with Django. To put the above techniques to practice with Django, there are several things to note.&lt;/p&gt;
&lt;h3 id=&quot;prevent-implicit-creation-of-indexes-on-foreign-keys&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#prevent-implicit-creation-of-indexes-on-foreign-keys&quot;&gt;Prevent Implicit Creation of Indexes on Foreign Keys&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Unless you explicitly set &lt;code&gt;db_index=False&lt;/code&gt;, &lt;a href=&quot;https://hakibenita.com/9-django-tips-for-working-with-databases#fk-indexes&quot;&gt;Django will implicitly create a B-Tree index on a &lt;code&gt;models.ForeignKey&lt;/code&gt; field&lt;/a&gt;. Consider the following example:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.contrib.auth.models&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Transaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;cancelled_by_user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ForeignKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;on_delete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CASCADE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The model is used to keep track of transaction data. If a transaction is cancelled, we keep a reference to user that cancelled it. As previously described, most transactions don't end up being cancelled, so we set &lt;code&gt;null=True&lt;/code&gt; on the field.&lt;/p&gt;
&lt;p&gt;In the &lt;code&gt;ForeignKey&lt;/code&gt; definition above we did not explicitly set &lt;code&gt;db_index&lt;/code&gt;, so Django will implicitly create a full index on the field. To create a partial index instead, make the following changes:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;19&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.contrib.auth.models&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Transaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cancelled_by_user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ForeignKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;on_delete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CASCADE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;        &lt;span class=&quot;n&quot;&gt;db_index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Meta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;indexes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;            &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;                &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'cancelled_by_user_id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;                &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%(class_name)s&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;_cancelled_by_part_ix'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;                &lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cancelled_by_user_id__isnull&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;            &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We first tell Django not to create the index on the FK field, and then add a partial index using &lt;a href=&quot;https://docs.djangoproject.com/en/3.1/ref/models/indexes/&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;models.Index&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;admonition tip&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;admonition-title&quot;&gt;take away&lt;/p&gt;
&lt;p&gt;Nullable foreign keys are good candidates for a partial index!&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;To prevent implicit features such as this one from sneaking indexes without us noticing, &lt;a href=&quot;https://hakibenita.com/automating-the-boring-stuff-in-django-using-the-check-framework&quot;&gt;we create Django checks&lt;/a&gt; to force ourselves to &lt;a href=&quot;https://hakibenita.com/automating-the-boring-stuff-in-django-using-the-check-framework#h008-must-set-db_index-explicitly-on-a-foreignkey-field&quot;&gt;always explicitly set &lt;code&gt;db_index&lt;/code&gt; in foreign keys&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;migrate-exiting-full-indexes-to-partial-indexes&quot;&gt;&lt;a class=&quot;toclink&quot; href=&quot;https://hakibenita.com/postgresql-unused-index-size#migrate-exiting-full-indexes-to-partial-indexes&quot;&gt;Migrate Exiting Full Indexes to Partial Indexes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;One of the challenges we were facing during this migration is to replace the existing full indexes with partial indexes without causing downtime or degraded performance during the migration. After we identified the full indexes we want to replace, we took the following steps:&lt;/p&gt;
&lt;ol readability=&quot;17.574415744157&quot;&gt;&lt;li readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;strong&gt;Replace full indexes with partial indexes&lt;/strong&gt;: Adjust the relevant Django models and replace full indexes with partial indexes, as demonstrated above. The migration Django generates will first disable the FK constraint (if the field is a foreign key), drop the existing full index and create the new partial index. Executing this migration may cause both downtime and degraded performance, so we won't actually run it.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;5.2134831460674&quot;&gt;
&lt;p&gt;&lt;strong&gt;Create the partial indexes manually&lt;/strong&gt;: Use Django's &lt;a href=&quot;https://docs.djangoproject.com/en/3.1/ref/django-admin/#django-admin-sqlmigrate&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;./manage.py sqlmigrate&lt;/code&gt;&lt;/a&gt; utility to produce a script for the migration, extract only the &lt;code&gt;CREATE INDEX&lt;/code&gt; statements and adjust them to create the indexes &lt;code&gt;CONCURRENTLY&lt;/code&gt;. Then, create the indexes manually and concurrently in the database. Since the full indexes are not dropped yet, they can still be used by queries so performance should not be impacted in the process. It is possible to &lt;a href=&quot;https://hakibenita.com/how-to-create-django-index-without-downtime&quot;&gt;create indexes concurrently in Django migrations&lt;/a&gt;, but this time we decided it's best to do it manually.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1.6293706293706&quot;&gt;
&lt;p&gt;&lt;strong&gt;Reset full index statistics counters&lt;/strong&gt;: To make sure it's safe to drop the full indexes, we wanted to first make sure the new partial indexes are being used. To keep track of their use we reset the counters for the full indexes using &lt;a href=&quot;https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-STATS-FUNCTIONS&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;pg_stat_reset_single_table_counters(&amp;lt;full index oid&amp;gt;)&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2.7919708029197&quot;&gt;
&lt;p&gt;&lt;strong&gt;Monitor use of partial indexes&lt;/strong&gt;: After reseting the stats we monitored both overall query performance and the partial index usage by observing the values of &lt;code&gt;idx_scan&lt;/code&gt;, &lt;code&gt;idx_tup_read&lt;/code&gt; and &lt;code&gt;idx_tup_fetch&lt;/code&gt; in the &lt;a href=&quot;https://www.postgresql.org/docs/13/monitoring-stats.html#MONITORING-PG-STAT-ALL-INDEXES-VIEW&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;pg_stat_all_indexes&lt;/code&gt;&lt;/a&gt; tables, for both the partial and the full indexes.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;strong&gt;Drop the full indexes&lt;/strong&gt;: Once we were convinced the partial indexes are being used, we dropped the full indexes. This is a good point to check the sizes of both partial and full indexes to find out exactly how much storage you are about to free.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;7.5197657393851&quot;&gt;
&lt;p&gt;&lt;strong&gt;Fake the Django migration&lt;/strong&gt;: Once the database state was effectively in-sync with the model state, we fake the migration using &lt;code&gt;./manage.py migrate --fake&lt;/code&gt;. When faking a migration, Django will register the migration as executed, but it won't actually execute anything. This is useful for situations like this when you need better control over a migration process. Note that on other environments such as dev, QA or staging where there is not downtime considerations, the Django migrations will execute normally and the full indexes will be replaced with the partial ones. For more advanced Django migration operations such as &quot;fake&quot;, check out &lt;a href=&quot;https://hakibenita.com/move-django-model&quot;&gt;How to Move a Django Model to Another App&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;hr/&gt;
&lt;p&gt;Optimizing disks, storage parameters and configuration can only affect performance so much. At some point, to squeeze that final drop of performance you need to make changes to the underlying objects. In this case, it was the index definition.&lt;/p&gt;
&lt;p&gt;To sum up the process we took to clear an much storage as we could:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Remove unused indexes&lt;/li&gt;
&lt;li&gt;Repack tables and indexes (and activate B-Tree deduplication when possible)&lt;/li&gt;
&lt;li&gt;Utilize partial indexes to index only what's necessary&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Hopefully, after applying these techniques you can gain a few more days before you need to reach into your pocket and provision more storage.&lt;/p&gt;
</description>
<pubDate>Mon, 01 Feb 2021 14:17:46 +0000</pubDate>
<dc:creator>haki</dc:creator>
<og:type>article</og:type>
<og:title>The Unexpected Find That Freed 20GB of Unused Index Space</og:title>
<og:description>How to free space without dropping indexes or deleting data</og:description>
<og:url>https://hakibenita.com/postgresql-unused-index-size</og:url>
<og:image>https://hakibenita.com/images/00-postgresql-unused-index-size.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://hakibenita.com/postgresql-unused-index-size</dc:identifier>
</item>
</channel>
</rss>