<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Firefox 67.0 Released</title>
<link>https://www.mozilla.org/en-US/firefox/67.0/releasenotes/</link>
<guid isPermaLink="true" >https://www.mozilla.org/en-US/firefox/67.0/releasenotes/</guid>
<description>&lt;li id=&quot;note-787991&quot; readability=&quot;0.96352583586626&quot;&gt;
&lt;p&gt;Firefox 67 demonstrates improved performance thanks to a number of changes such as:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Lowering priority of &lt;code&gt;setTimeout&lt;/code&gt; during page load&lt;/li&gt;
&lt;li&gt;Delayed component initialization until after start up&lt;/li&gt;
&lt;li&gt;Painting sooner during page load but less often&lt;/li&gt;
&lt;li&gt;Suspending unused tabs&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Learn more about our approach to performance in 67 in the &lt;a href=&quot;https://blog.mozilla.org/blog/2019/05/21/latest-firefox-release-is-faster-than-ever/&quot;&gt;Mozilla blog&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;&lt;li id=&quot;note-787992&quot; readability=&quot;0&quot;&gt;
&lt;p&gt;Users can block known cryptominers and fingerprinters in the Custom settings of their &lt;a href=&quot;https://support.mozilla.org/kb/content-blocking&quot;&gt;Content Blocking preferences&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787993&quot; readability=&quot;4.5192307692308&quot;&gt;
&lt;p&gt;Keyboard accessibility has improved in the latest version of Firefox. Toolbar and toolbar overflow menu are both &lt;a href=&quot;https://support.mozilla.org/kb/access-toolbar-functions-using-keyboard&quot;&gt;fully keyboard accessible&lt;/a&gt;: keyboard users can now access add-ons, the downloads panel, the overflow, Page actions and Firefox menus, and much more.&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787994&quot; readability=&quot;-0.67307692307692&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://support.mozilla.org/kb/extensions-private-browsing&quot;&gt;Private Browsing&lt;/a&gt; sees both &lt;a href=&quot;https://blog.mozilla.org/addons/2019/03/26/extensions-in-firefox-67/&quot;&gt;usability and security improvements&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Save passwords in private browsing mode&lt;/li&gt;
&lt;li&gt;Choose which extensions to exclude from private tabs&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li id=&quot;note-787995&quot; readability=&quot;-0.82787878787879&quot;&gt;
&lt;p&gt;A myriad of new features help make Firefox easier to use:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;We’ve added a &lt;a href=&quot;https://support.mozilla.org/kb/how-do-i-know-status-my-sync&quot;&gt;toolbar menu&lt;/a&gt; for your Firefox Account to provide more transparency for when you are synced, sharing data across devices and with Firefox. Personalize the appearance of the menu with your own avatar&lt;/li&gt;
&lt;li&gt;Tabs can now be &lt;a href=&quot;https://support.mozilla.org/kb/pinned-tabs-keep-favorite-websites-open&quot;&gt;pinned&lt;/a&gt; from the Page Actions menu in the address bar&lt;/li&gt;
&lt;li&gt;Firefox will highlight useful features (like Pin Tabs) when users are most likely to benefit from them.&lt;/li&gt;
&lt;li&gt;Easier access to your list of saved logins from the &lt;a href=&quot;https://matthew.noorenberghe.com/blog/2019/05/password-manager-improvements-firefox-67&quot;&gt;main menu and login autocomplete&lt;/a&gt;. Learn about all the ways you can &lt;a href=&quot;https://support.mozilla.org/kb/password-manager-remember-delete-change-and-import&quot;&gt;manage your passwords&lt;/a&gt; in Firefox.&lt;/li&gt;
&lt;li&gt;The Import Data from Another Browser feature is now also available from the File menu&lt;/li&gt;
&lt;li&gt;Users will be able to run different Firefox installs &lt;a href=&quot;https://blog.nightly.mozilla.org/2019/01/14/moving-to-a-profile-per-install-architecture/&quot;&gt;side by side by default&lt;/a&gt; so that you can &lt;a href=&quot;https://support.mozilla.org/kb/dedicated-profiles-firefox-installation&quot;&gt;run the beta and release versions simultaneously&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li id=&quot;note-787996&quot; readability=&quot;0&quot;&gt;
&lt;p&gt;Firefox will now protect you against running older versions of the browser which can lead to data corruption and stability issues&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787997&quot; readability=&quot;1&quot;&gt;
&lt;p&gt;Firefox is upgrading to the newer, higher performance, AV1 decoder known as ‘dav1d’&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787998&quot; readability=&quot;-0.81318681318681&quot;&gt;
&lt;p&gt;WebRender is &lt;a href=&quot;https://mozillagfx.wordpress.com/2019/05/21/graphics-team-ships-webrender-mvp/&quot;&gt;gradually enabled&lt;/a&gt; by default on Windows 10 desktops with NVIDIA graphics cards&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-788020&quot; readability=&quot;-1&quot;&gt;
&lt;p&gt;Mozilla’s highest performing JavaScript compiler now supports ARM64 Windows devices.&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787953&quot; readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.mozilla.org/security/2019/04/04/shipping-fido-u2f-api-support-in-firefox/&quot;&gt;Enable FIDO U2F API&lt;/a&gt;, and permit registrations for Google Accounts&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;note-787999&quot; readability=&quot;0&quot;&gt;
&lt;p&gt;Some users will see experiments with an &lt;a href=&quot;https://help.getpocket.com/article/1149-firefox-home-layout-tests-faq&quot;&gt;improved Pocket experience&lt;/a&gt; in Firefox Home with different layouts and more topical content.&lt;/p&gt;
&lt;/li&gt;
</description>
<pubDate>Tue, 21 May 2019 12:29:52 +0000</pubDate>
<dc:creator>Spydar007</dc:creator>
<og:type>website</og:type>
<og:url>https://www.mozilla.org/en-US/firefox/67.0/releasenotes/</og:url>
<og:image>https://www.mozilla.org/media/img/firefox/template/page-image.4b108ed0b8d8.png</og:image>
<og:title>Firefox 67.0, See All New Features, Updates and Fixes</og:title>
<og:description></og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.mozilla.org/en-US/firefox/67.0/releasenotes/</dc:identifier>
</item>
<item>
<title>I don&amp;#039;t know how CPUs work so I simulated one in code</title>
<link>https://djhworld.github.io/post/2019/05/21/i-dont-know-how-cpus-work-so-i-simulated-one-in-code/</link>
<guid isPermaLink="true" >https://djhworld.github.io/post/2019/05/21/i-dont-know-how-cpus-work-so-i-simulated-one-in-code/</guid>
<description>&lt;p class=&quot;small gray&quot;&gt;&lt;time datetime=&quot;2019-05-21&quot;&gt;Tuesday, May 21, 2019&lt;/time&gt;&lt;/p&gt;
&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/text-writer.gif&quot; title=&quot;Hello World&quot;/&gt;&lt;p&gt;A few months ago it dawned on me that I didn’t really understand how computers work under the hood. I still don’t understand how &lt;em&gt;modern&lt;/em&gt; computers work.&lt;/p&gt;
&lt;p&gt;However, after making my way through &lt;a href=&quot;http://buthowdoitknow.com/&quot;&gt;&lt;em&gt;But How Do It Know?&lt;/em&gt;&lt;/a&gt; by J. Clark Scott, a book which describes the bits of a simple 8-bit computer from the NAND gates, through to the registers, RAM, bits of the CPU, ALU and I/O, I got a hankering to implement it in code.&lt;/p&gt;
&lt;p&gt;While I’m not &lt;em&gt;that&lt;/em&gt; interested in the physics of the circuitry, the book just about skims the surface of those waters and gives a neat overview of the wiring and how bits move around the system without the requisite electrical engineering knowledge. For me though I can’t get comfortable with book descriptions, I have to see things in action and learn from my inevitable mistakes, which led me to chart a course on the rough seas of writing a circuit in code and getting a bit weepy about it.&lt;/p&gt;
&lt;p&gt;The fruits of my voyage can be seen in &lt;a href=&quot;https://github.com/djhworld/simple-computer&quot;&gt;simple-computer&lt;/a&gt;; a simple computer that’s simple and computes things.&lt;/p&gt;
&lt;a href=&quot;https://djhworld.github.io/img/simple-computer/ascii.png&quot;&gt;&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/ascii1.png&quot; title=&quot;ASCII&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://djhworld.github.io/img/simple-computer/brush.png&quot;&gt;&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/brush1.png&quot; title=&quot;brush&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://djhworld.github.io/img/simple-computer/text-writer.png&quot;&gt;&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/text-writer1.png&quot; title=&quot;doing the typesin'&quot;/&gt;&lt;/a&gt;&lt;br/&gt;Example programs
&lt;p&gt;It is quite a neat little thing, the CPU code is implemented &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/cpu/cpu.go#L763&quot;&gt;as a horrific splurge of gates turning on and off&lt;/a&gt; but it works, I’ve &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/cpu/cpu_test.go&quot;&gt;unit tested it&lt;/a&gt;, and we all know unit tests are irrefutable proof that something works.&lt;/p&gt;
&lt;p&gt;It handles &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/io/keyboard.go#L20&quot;&gt;keyboard inputs&lt;/a&gt;, and renders text &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/io/display.go#L13&quot;&gt;to a display&lt;/a&gt; using a painstakingly crafted set of glyphs for a professional font I’ve named “Daniel Code Pro”. The only cheat bit is to get the keyboard input and display output working I had to hook up go channels to speak to the outside world via &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/cmd/simulator/glfw_io.go&quot;&gt;GLFW&lt;/a&gt;, but the rest of it is a simulated circuit.&lt;/p&gt;
&lt;p&gt;I even wrote a &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/asm/assembler.go&quot;&gt;crude assembler&lt;/a&gt; which was eye opening to say the least. It’s not perfect. Actually it’s a bit crap, but it highlighted to me the problems that other people have already solved many, many years ago and I think I’m a better person for it. Or worse, depending who you ask.&lt;/p&gt;

&lt;blockquote&gt;
&lt;center&gt;&lt;em&gt;“I’ve seen thirteen year old children do this in Minecraft, come back to me when you’ve built a &lt;u&gt;REAL&lt;/u&gt; CPU out of telegraph relays”&lt;/em&gt;&lt;/center&gt;
&lt;/blockquote&gt;
&lt;p&gt;My mental model of computing is stuck in beginner computer science textbooks, and the CPU that powers the &lt;a href=&quot;https://github.com/djhworld/gomeboycolor&quot;&gt;gameboy emulator I wrote back in 2013&lt;/a&gt; is really nothing like the CPUs that are running today. Even saying that, the emulator is just a state machine, it doesn’t describe the stuff at the logic gate level. You can implement most of it using just a &lt;code&gt;switch&lt;/code&gt; statement and storing the state of the registers.&lt;/p&gt;
&lt;p&gt;So I’m trying to get a better understanding of this stuff because I don’t know what L1/L2 caches are, I don’t know what pipelining means, I’m not entirely sure I understand the Meltdown and Spectre vulnerability papers. Someone told me they were optimising their code to make use of CPU caches, I don’t know how to verify that other than taking their word for it. I’m not really sure what all the x86 instructions mean. I don’t understand how people off-load work to a GPU or TPU. I don’t know what a TPU is. I don’t know how to make use of SIMD instructions.&lt;/p&gt;
&lt;p&gt;But all that is built on a foundation of knowledge you need to earn your stripes for, so I ain’t gonna get there without reading the map first. Which means getting back to basics and getting my hands dirty with something simple. The “Scott Computer” described in the book is simple. That’s the reason.&lt;/p&gt;

&lt;p&gt;The Scott computer is an 8-bit processor attached to 256 bytes of RAM, all connected via an 8-bit system bus. It has 4 general purpose registers and can execute &lt;a href=&quot;https://github.com/djhworld/simple-computer#instructions&quot;&gt;17 machine instructions&lt;/a&gt;. Someone built a visual simulator &lt;a href=&quot;http://www.buthowdoitknow.com/but_how_do_it_know_cpu_model.html&quot;&gt;for the web here&lt;/a&gt;, which is really cool, I dread to think how long it took to track all the wiring states!&lt;/p&gt;
&lt;a href=&quot;https://djhworld.github.io/img/simple-computer/scott-cpu.png&quot;&gt;&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/scott-cpu.png&quot; title=&quot;The Scott CPU&quot;/&gt;&lt;/a&gt;&lt;br/&gt;A diagram outlining all the components that make up the Scott CPU&lt;br/&gt;Copyright © 2009 - 2016 by Siegbert Filbinger and John Clark Scott.
&lt;p&gt;The book takes you on a journey from the humble NAND gate, onto a Bit of memory, onto a register and then keeps layering on components until you end up with something resembling the above. I really recommend reading it, even if you are already familiar with the concepts because it’s quite a good overview. I don’t recommend the Kindle version though because the diagrams are sometimes hard to zoom in and decipher on a screen. A perennial problem for the Kindle in my experience.&lt;/p&gt;
&lt;p&gt;The only thing that’s different about my computer is I upgraded it to 16-bit to have more memory to play with, as storing even just the glyphs for the &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/_programs/ascii.asm#L27&quot;&gt;ASCII table&lt;/a&gt; would have dwarfed most of the 8-bit machine described in the book, with not much room left for useful code.&lt;/p&gt;

&lt;p&gt;During development it really was just a case of reading the text, scouring the diagrams and then attempting to translate that using a general purpose programming language code and definitely &lt;em&gt;not&lt;/em&gt; using something that’s designed for integrated circuit development. The reason why I wrote it in Go, is well, I know a bit of Go. Naysayers might chime in and say, you blithering idiot! I can’t believe you didn’t spend all your time learning &lt;a href=&quot;https://en.wikipedia.org/wiki/VHDL&quot;&gt;VHDL&lt;/a&gt; or &lt;a href=&quot;https://en.wikipedia.org/wiki/Verilog&quot;&gt;Verilog&lt;/a&gt; or &lt;a href=&quot;http://www.cburch.com/logisim/&quot;&gt;LogSim&lt;/a&gt; or whatever but I’d already written my bits and bytes and NANDs by that point, I was in too deep. Maybe I’ll learn them next and weep about my time wasted, but that’s my cross to bear.&lt;/p&gt;
&lt;p&gt;In the grand scheme of things most of the computer is just passing around a bunch of booleans, so any boolean friendly language will do the job.&lt;/p&gt;
&lt;p&gt;Applying a schema to those booleans is what helps you (the programmer) derive its meaning, and the biggest decision anyone needs to make is decide what &lt;a href=&quot;https://en.wikipedia.org/wiki/Endianness&quot;&gt;endianness&lt;/a&gt; your system is going to use and make sure all the components transfer things to and from the bus in the right order.&lt;/p&gt;
&lt;p&gt;This was an absolute pain in the backside to implement. From the offset I opted for little endian but when testing the ALU my hair took a beating trying to work out why the numbers were coming out wrong. Many, &lt;em&gt;many&lt;/em&gt; print statements took place on this one.&lt;/p&gt;
&lt;p&gt;Development did take a while, maybe about a month or two during some of my free time, but once the CPU was done and successfully able to execute 2 + 2 = 5, I was happy.&lt;/p&gt;
&lt;p&gt;Well, until the book discussed the I/O features, with designs for a simple keyboard and display interface so you can get things in and out of the machine. &lt;em&gt;Well I’ve already gotten this far&lt;/em&gt;, no point in leaving it in a half finished state. I set myself a goal of being able to type something on a keyboard and render the letters on a display.&lt;/p&gt;

&lt;p&gt;The peripherals use the &lt;a href=&quot;https://en.wikipedia.org/wiki/Adapter_pattern&quot;&gt;adapter pattern&lt;/a&gt; to act as a hardware interface between the CPU and the outside world. It’s probably not a huge leap to guess this was what the software design pattern took inspiration from.&lt;/p&gt;
&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/io.png&quot; title=&quot;i couldn't be bothered to do the corners around the CPU for the system bus&quot;/&gt;&lt;br/&gt;How the I/O adapters connect to a GLFW window
&lt;p&gt;With this separation of concerns it was actually pretty simple to hook the other end of the keyboard and display to a window managed by GLFW. In fact I just pulled most of the code from my &lt;a href=&quot;https://github.com/djhworld/gomeboycolor-glfw&quot;&gt;emulator&lt;/a&gt; and reshaped it a bit, using go channels to act as the signals in and out of the machine.&lt;/p&gt;

&lt;img src=&quot;https://djhworld.github.io/img/simple-computer/brush.gif&quot; title=&quot;brush.bin&quot;/&gt;&lt;p&gt;This was probably the most tricky part, or at least the most cumbersome. Writing assembly with such a limited instruction set sucks. Writing assembly using a crude assembler I wrote sucks even more because you can’t shake your fist at someone other than yourself.&lt;/p&gt;
&lt;p&gt;The biggest problem was juggling the 4 registers and keeping track of them, pulling and putting stuff in memory as a temporary store. Whilst doing this I remembered the Gameboy CPU having a stack pointer register so you could push and pop state. Unfortunately this computer doesn’t have such a luxury, so I was mostly moving stuff in and out of memory on a bespoke basis.&lt;/p&gt;
&lt;p&gt;The only pseudo instruction I took the time to implement was &lt;code&gt;CALL&lt;/code&gt; to help calling functions, this allows you to run a function and then return to the point after the function was called. Without that stack though you can only call one level deep.&lt;/p&gt;
&lt;p&gt;Also as the machine does not support interrupts, you have to implement awful polling code for functions like getting keyboard state. The book does discuss the steps needed to implement interrupts, but it would involve a lot more wiring.&lt;/p&gt;
&lt;p&gt;But anyway enough of the moaning, I ended up writing &lt;a href=&quot;https://github.com/djhworld/simple-computer/blob/master/_programs/README.md&quot;&gt;four programs&lt;/a&gt; and most of them make use of some shared code for drawing fonts, getting keyboard input etc. Not exactly operating system material but it did make me appreciate some of the services a simple operating system might provide.&lt;/p&gt;
&lt;p&gt;It wasn’t easy though, the trickiest part of the text-writer program was getting the maths right to work out when to go to a newline, or what happens when you hit the enter key.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span&gt;main-getInput:&lt;/span&gt;
        &lt;span&gt;CALL&lt;/span&gt; &lt;span&gt;ROUTINE-io-pollKeyboard&lt;/span&gt;
        &lt;span&gt;CALL&lt;/span&gt; &lt;span&gt;ROUTINE-io-drawFontCharacter&lt;/span&gt;
        &lt;span&gt;JMP&lt;/span&gt; &lt;span&gt;main-getInput&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
The main loop for the text-writer program
&lt;p&gt;I didn’t get round to implementing the backspace key either, or any of the modifier keys. Made me appreciate how much work must go in to making text editors and how tedious that probably is.&lt;/p&gt;

&lt;p&gt;This was a fun and very rewarding project for me. In the midst of programming in the assembly language I’d largely forgotten about the NAND, AND and OR gates firing underneath. I’d ascended into the layers of abstraction above.&lt;/p&gt;
&lt;p&gt;While the CPU in the is very simple and a long way from what’s sitting in my laptop, I think this project has taught me a lot, namely:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;How bits move around between all components using a bus&lt;/li&gt;
&lt;li&gt;How a &lt;em&gt;simple&lt;/em&gt; ALU works&lt;/li&gt;
&lt;li&gt;What a &lt;em&gt;simple&lt;/em&gt; Fetch-Decode-Execute cycle looks like&lt;/li&gt;
&lt;li&gt;That a machine without a stack pointer register + concept of a stack sucks&lt;/li&gt;
&lt;li&gt;That a machine without interrupts sucks&lt;/li&gt;
&lt;li&gt;What an assembler is and does&lt;/li&gt;
&lt;li&gt;How a peripherals communicate with a simple CPU&lt;/li&gt;
&lt;li&gt;How &lt;em&gt;simple&lt;/em&gt; fonts work and an approach to rendering them on a display&lt;/li&gt;
&lt;li&gt;What a &lt;em&gt;simple&lt;/em&gt; operating system might start to look like&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;So what’s next? The book said that no-one has built a computer like this since 1952, meaning I’ve got 67 years of material to brush up on, so that should keep me occupied for a while. I see the &lt;a href=&quot;https://software.intel.com/sites/default/files/managed/39/c5/325462-sdm-vol-1-2abcd-3abcd.pdf&quot;&gt;x86 manual is 4800 pages long&lt;/a&gt;, enough for some fun, light reading at bedtime.&lt;/p&gt;
&lt;p&gt;Maybe I’ll have a brief dalliance with operating system stuff, a flirtation with the C language, a regrettable evening attempting to &lt;a href=&quot;https://obsolescence.wixsite.com/obsolescence/pidp-11&quot;&gt;solder up a PiDP-11 kit&lt;/a&gt; then probably call it quits. I dunno, we’ll see.&lt;/p&gt;
&lt;p&gt;With all seriousness though I think I’m going to start looking into RISC based stuff next, maybe RISC-V, but probably start with early RISC processors to get an understanding of the lineage. Modern CPUs have a lot more features like caches and stuff so I want to understand them as well. A lot of stuff out there to learn.&lt;/p&gt;
&lt;p&gt;Do I need to know any of this stuff in my day job? Probably helps, but not really, but I’m enjoying it, so whatever, thanks for reading xxxx&lt;/p&gt;
</description>
<pubDate>Tue, 21 May 2019 12:04:11 +0000</pubDate>
<dc:creator>boyter</dc:creator>
<dc:language>en-gb</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://djhworld.github.io/post/2019/05/21/i-dont-know-how-cpus-work-so-i-simulated-one-in-code/</dc:identifier>
</item>
<item>
<title>Show HN: Turn an Excel file into a web application</title>
<link>https://keikai.io/blog/p/currency-exchange</link>
<guid isPermaLink="true" >https://keikai.io/blog/p/currency-exchange</guid>
<description>&lt;p&gt;The other day a young lady in the administration department looked busy so I asked her what she was up to. She said that she has to visit several websites to check the currency rate, put them down in Excel and send it to her boss. The boss will then tell her to buy a certain currency at a certain amount. Finally, she has to keep the record in another Excel file. And this is one of her daily routines.&lt;/p&gt;
&lt;p&gt;It is the year 2019. I was surprised that she still has to do lots of copy-paste routines and email Excel files around. My pride in being a developer wouldn't allow me, so I offered her that I will write a little program for her. Fortunately, with Keikai, I was able to do it in just 2 hours.&lt;/p&gt;
&lt;p&gt;First, I asked her to lay out what she wishes to see in Excel. Then, I grabbed currency data from internet and populated it to the desired cells. Next, I implemented page navigation to smoothen the workflow and finally I generated a report. That’s it!&lt;/p&gt;
&lt;p&gt;Let me describe in detail about how each step was done.&lt;/p&gt;

&lt;p&gt;The best thing about using Keikai is that it takes your Excel file and renders exactly the same in your browser. This means your Excel file is immediately turned into a web application UI.&lt;/p&gt;
&lt;p&gt;This enables your business team, like the administrative lady, being able to join the system development easily by creating an Excel file as the UI.&lt;/p&gt;
&lt;p&gt;So the admin lady sent me her Buy-Currency Excel file: on the first screen, she expects to see a selected list of countries and their currency, and the currency data should be populated automatically. On the second screen, she expects to input the buying amount and the exchanged amount, and lastly, she expects to see a report generated automatically containing Dates, Currency, and Amounts.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/3ExcelSheets.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;All I need to do here is to import the Excel file, and now the Excel template renders in my browser just like what she designed.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INTERNAL_BOOK_FOLDER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/WEB-INF/book/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BOOK_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;currencyExchange.xlsx&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;importAndReplace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BOOK_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Configuration&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;DEFAULT_BOOK_FOLDER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BOOK_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Next, I filled in currency exchange rates retrieved from &lt;a href=&quot;https://www.ecb.europa.eu/stats/policy_and_exchange_rates/euro_reference_exchange_rates/html/index.en.html&quot;&gt;European Central Bank&lt;/a&gt; by &lt;code&gt;setValues()&lt;/code&gt; to the desired cells.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CURRENCY_LIST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startingRow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValues&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;currency&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rates&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;currency&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;startingRow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the admin lady can see the latest exchange rates being updated without visiting various websites.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/listSheet.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The Excel file she gave me contained formulas for calculating total exchanged amount according to the buying amount and exchange rate. But nothing to worry, I got formula supported on each cell out-of-the-box. Don't even need to enable it.&lt;/p&gt;
&lt;p&gt;The lady can enter a formula according to her conditions without calculating numbers in her head, e.g. she can calculate how many notes she has in a cell and buys the same amount of USD.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/usingFormula.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;When I call &lt;code&gt;Range::getValue()&lt;/code&gt;, I can get the calculated result of that formula. No need to parse the formula by myself. Isn't great?&lt;/p&gt;

&lt;p&gt;Next, I will take care of page navigation – once she is done with the current page, take her to the next page. This can be done with &lt;a href=&quot;https://keikai.io/javadoc/latest/io/keikai/client/api/Worksheet.html#activate--&quot;&gt;&lt;code&gt;activate()&lt;/code&gt;&lt;/a&gt;. The code below listens to the button clicking event and switches to another sheet.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//listen to buy button&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Buy&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addAction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buttonShapeMouseEvent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;placeAnOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;activate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//listen to &quot;buy another&quot; button&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;BuyAnother&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addAction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buttonShapeMouseEvent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;selectSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;activate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now that the application workflow has been implemented, but we need to implement some “safety” to make sure that she follows the desired path. By default, a user can edit any cell in a typical Excel file or spreadsheet. But when making a Web application, usually we wish users to follow the flow we defined. The following APIs are handy for controlling accessibility.&lt;/p&gt;
&lt;h2 id=&quot;customize-ui&quot;&gt;Customize UI&lt;/h2&gt;
&lt;p&gt;I customize UI by hiding the toolbar, context menu and sheet tabs:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setupAccessibility&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUIService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;showToolbar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUIService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;showSheetTabs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUIService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;showContextMenu&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I prevent our administration lady from making undesired changes with these APIs, like deleting a sheet (page) by accident. There is &lt;a href=&quot;https://doc.keikai.io/dev-ref/ui-configurations&quot;&gt;another easier way through data attributes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/uiAccessibility.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;limit-visible-area&quot;&gt;Limit Visible Area&lt;/h2&gt;
&lt;p&gt;Also, to let her concentrate on the application, I decided to show a proper area instead of showing her the whole sheet (16,384 columns and 1,048,576 rows) so the lady won't scroll to the end of the world (sheet):&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setupVisibleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;selectSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setVisibleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A1:O17&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setVisibleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A1:L12&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setVisibleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A:M&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/visibleArea.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;protect-a-sheet-to-be-read-only&quot;&gt;Protect a Sheet to be Read-only&lt;/h2&gt;
&lt;p&gt;But hiding toolbar and the context menu is not enough because users can still edit cells arbitrarily. Therefore, I enabled sheet protection to make the whole sheet read-only so that she won’t accidentally delete a currency row or change a currency rate.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SheetProtection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PROTECTION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SheetProtection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setPassword&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAllowSelectLockedCells&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAllowFiltering&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getWorksheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;list&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PROTECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since there are 17 different permissions of a &lt;code&gt;SheetProtection&lt;/code&gt;, I create a &lt;code&gt;SheetProtection&lt;/code&gt; object with a Builder pattern API, &lt;a href=&quot;https://keikai.io/javadoc/latest/io/keikai/client/api/SheetProtection.Builder.html&quot;&gt;SheetProtection.Builder&lt;/a&gt; which is a more readable code style.&lt;/p&gt;
&lt;h2 id=&quot;limit-editable-area&quot;&gt;Limit Editable Area&lt;/h2&gt;
&lt;p&gt;Now that I’ve made the whole sheet read-only, she can’t edit anywhere. I need to unlock the cell where she needs to input the buying cost.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Unlock a cell&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;unlockCostInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRangeByName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSheetId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cost&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;CellStyle&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unlockedStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createCellStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Protection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;protection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unlockedStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createProtection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;protection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setLocked&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;unlockedStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setProtection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;protection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setCellStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unlockedStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PROTECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;Line 2: I get a range by a defined name, and it can avoid code change even I move the input cell address. This approach has better code change resistance than getting by a cell address like C5.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;So that cell (D7) becomes the only one editable cell in the read-only sheet:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/unlocked.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;In the last page, I will show a list of currency transaction in a table.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;19&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;placeAnOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;unprotect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRangeByName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSheetId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;COST_CELL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEmpty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cost&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;costCell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRangeValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCellValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDoubleValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cost&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;Double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRangeByName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exchangeSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSheetId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;amount&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRangeValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCellValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDoubleValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderTable1stRow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spreadsheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BOOK_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSheetId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;C6:G6&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;orderTable1stRow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getEntireRow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;InsertShiftDirection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ShiftDown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;InsertFormatOrigin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;RightOrBelow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;orderTable1stRow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValues&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateUtil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getExcelDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cost&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;destinationCurrency&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;destinationRate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;listSheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PROTECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;Line 2: Since it's a protected sheet, I need to unprotect it before setting cell values.&lt;/li&gt;
&lt;li&gt;Line 9-10: insert a new row and set values in a row at once.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Keikai also saves your efforts to maintain a table's style including background color, borders, font, and filters. When inserting and deleting rows. You just need to call &lt;code&gt;insert()&lt;/code&gt;, and Keikai handles all changes on the related styles for you.&lt;/p&gt;

&lt;p&gt;Since I enable a filter in Excel, Keikai also enables it after importing. After the lady places an order for many times, she may wish to filter some rows according to the criteria, e.g. list only the EUR to USD transactions:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/openFilter.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Filtered Result&lt;/strong&gt; &lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/filteredResult.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Even if a filter was not enabled in the Excel file, I can enable the filter programmatically through Keikai API: &lt;a href=&quot;https://keikai.io/javadoc/latest/io/keikai/client/api/Range.html#setAutoFilter-int-java.lang.Object-io.keikai.client.api.Range.AutoFilterOperator-java.lang.Object-boolean-&quot;&gt;setAutoFilter()&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The whole usage is like:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keikai.io/blog/images/2019-05-currency/usageDemo.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;I hope she will appreciate this little arrangement I made.&lt;/p&gt;
&lt;p&gt;Through these steps, I can turn a traditional workflow of sending Excel forms into a web application. Then, those forms immediately become your system UI, and all my colleagues can effortlessly migrate to Keikai-based web system because they can execute workflows with a familiar UI without extra learning.&lt;/p&gt;

&lt;p&gt;I hope you enjoyed reading my article. The complete source code of &quot;buy currency&quot; application mentioned in this article is available at &lt;a href=&quot;https://github.com/keikai/dev-ref&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Just run the project and visit &lt;a href=&quot;http://localhost:8080/dev-ref/case/exchange&quot;&gt;http://localhost:8080/dev-ref/case/exchange&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 21 May 2019 07:45:26 +0000</pubDate>
<dc:creator>visionPASSION</dc:creator>
<og:title>Turn Your Excel File Into a Web Application</og:title>
<og:type>article</og:type>
<og:url>https://keikai.io/blog/p/currency-exchange.html</og:url>
<og:image>https://keikai.io/blog2019-05-currency/listSheet.png</og:image>
<og:description>&lt;!--images come from https://drive.google.com/open?id=17EEz_BuTVsTSeAA3a8AakyMspVSd_OEb made with draw.io</og:description>
<dc:format>text/html</dc:format>
<dc:identifier>https://keikai.io/blog/p/currency-exchange</dc:identifier>
</item>
<item>
<title>Niki Lauda has died</title>
<link>https://www.theguardian.com/sport/2019/may/21/niki-lauda-formula-one-legend-dies-aged-70</link>
<guid isPermaLink="true" >https://www.theguardian.com/sport/2019/may/21/niki-lauda-formula-one-legend-dies-aged-70</guid>
<description>&lt;p&gt;The former &lt;a href=&quot;https://www.theguardian.com/sport/formulaone&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Formula One&lt;/a&gt; driver and three-time world champion Niki Lauda has died at the age of 70, his family has said. The Austrian died overnight on Monday, eight months after receiving a lung transplant.&lt;/p&gt;
&lt;p&gt;“With deep sadness, we announce that our beloved Niki has peacefully passed away with his family on Monday,” the family said in a statement, according to the Austrian press agency. The statement paid tribute to “his unique achievements as an athlete and entrepreneur” and said “his tireless zest for action, his straightforwardness and his courage remain. A role model and a benchmark for all of us, he was a loving and caring husband, father and grandfather away from the public, and he will be missed.”&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-2 | 1&quot;&gt;&lt;div class=&quot;rich-link&quot;&gt;
&lt;div class=&quot;rich-link__container&quot;&gt;
&lt;div class=&quot;rich-link__header&quot;&gt;
&lt;h2 class=&quot;rich-link__title&quot;&gt;Niki Lauda: a single-minded F1 champion who beat the best of his age | Richard Williams&lt;/h2&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/aside&gt;&lt;p&gt;Lauda, who won titles in 1975, 1977 and 1984, was hugely admired, respected and liked within F1 after a remarkable career during which he won two titles for Ferrari and one for McLaren and came back from &lt;a href=&quot;https://www.theguardian.com/sport/2016/aug/02/niki-lauda-accident-german-grand-prix-1976&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;an horrific accident that left him severely burned and injured in 1976&lt;/a&gt;. He competed in 171 races and won 25. He also actively pursued business interests including his own airline and went on to have senior roles in F1 management, most recently as non-executive chairman at the hugely successful Mercedes since 2012, where he helped bring Lewis Hamilton to the team.&lt;/p&gt;
&lt;details data-snippet-id=&quot;dce171bd-5e21-4e46-9edf-4bb743442640&quot; data-snippet-type=&quot;timeline&quot; class=&quot;atom atom--snippet atom--snippet--timeline&quot;&gt;&lt;span class=&quot;atom--snippet__label&quot;&gt;Timeline&lt;/span&gt;
&lt;h4 class=&quot;atom--snippet__headline&quot;&gt;Niki Lauda's career&lt;/h4&gt;
&lt;button class=&quot;atom__button atom__button--large atom__button--rounded atom--snippet__handle&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;is-on&quot;&gt; Show&lt;/span&gt; &lt;span class=&quot;is-off&quot;&gt; Hide&lt;/span&gt;&lt;/button&gt;
&lt;div class=&quot;atom--snippet__body&quot;&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1949-02-22T00:00:00&quot;&gt;22 February 1949&lt;/time&gt;
&lt;p&gt;Andreas Nikolaus Lauda is born in Vienna, &lt;a href=&quot;https://www.theguardian.com/world/austria&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Austria&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1971-08-15T00:00:00&quot;&gt;15 August 1971&lt;/time&gt;
&lt;p&gt;Makes his Formula One debut for March-Ford in his home Austrian Grand Prix&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1974-04-28T00:00:00&quot;&gt;28 April 1974&lt;/time&gt;
&lt;p&gt;Now driving for Ferrari, Lauda wins a Formula One race for the first time at the Spanish Grand Prix &lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1975-09-07T00:00:00&quot;&gt;7 September 1975&lt;/time&gt;
&lt;p&gt;Lauda secures his first world title for Ferrari at the Italian Grand Prix, with one race in the season left to go&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1976-08-01T00:00:00&quot;&gt;1 August 1976&lt;/time&gt;
&lt;p&gt;Lauda is burned in a crash on the second lap of the German Grand Prix at the Nürburgring. His injuries are so severe that he is read the last rites, but remarkably, after reconstructive surgery on his face, he returns to racing the same season, only missing two races&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1977-10-02T00:00:00&quot;&gt;2 October 1977&lt;/time&gt;
&lt;p&gt;Lauda takes his second world championship, securing victory with a fourth place finish in the US Grand Prix, with two races to go&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1979-04-01T00:00:00&quot;&gt;April 1979&lt;/time&gt;
&lt;p&gt;Founds his first airline - Lauda Air&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1979-09-01T00:00:00&quot;&gt;September 1979&lt;/time&gt;
&lt;p&gt;Having left Ferrari for Brabham, Lauda retires from Formula One at the end of the season&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1982-04-01T00:00:00&quot;&gt;1982&lt;/time&gt;
&lt;p&gt;Lauda returns to the sport, this time driving for McLaren &lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1984-10-21T00:00:00&quot;&gt;21 October 1984&lt;/time&gt;
&lt;p&gt;Lauda finishes second behind Alain Prost in the final race of the season, but it is enough to give him a narrow half-point victory overall, and he secures his third world title&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1985-08-25T00:00:00&quot;&gt;25 August 1985&lt;/time&gt;
&lt;p&gt;Wins his 25th Formula One race at the Netherlands Grand Prix&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1985-11-03T00:00:00&quot;&gt;3 November 1985&lt;/time&gt;
&lt;p&gt;Retires from Formula One after competing in the Australia Grand Prix, with an overall record of 3 world championships, 25 wins and 54 podium finishes&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;1993-05-21T00:00:00&quot;&gt;1993&lt;/time&gt;
&lt;p&gt;Returns to Formula One in a consultancy role for Ferrari&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;2001-05-21T00:00:00&quot;&gt;2001&lt;/time&gt;
&lt;p&gt;Takes on the role of team principal of the Jaguar Formula One team&lt;/p&gt;
&lt;/div&gt;

&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;2012-05-21T00:00:00&quot;&gt;2012&lt;/time&gt;
&lt;p&gt;Becomes non-executive chairman of the Mercedes team, where he helped bring Lewis Hamilton to the team&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__item&quot;&gt;&lt;time class=&quot;atom--snippet__event-date&quot; datetime=&quot;2019-05-20T00:00:00&quot;&gt;20 May 2019&lt;/time&gt;
&lt;p&gt;Lauda dies peacefully, eight months after receiving a lung transplant&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;footer class=&quot;atom--snippet__footer&quot;&gt;&lt;div class=&quot;atom--snippet__feedback&quot;&gt;
&lt;div&gt;Was this helpful?&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;atom--snippet__ack&quot; hidden=&quot;&quot; aria-role=&quot;alert&quot; aria-live=&quot;polite&quot;&gt;Thank you for your feedback.&lt;/div&gt;
&lt;/footer&gt;&lt;/details&gt;&lt;p&gt;Toto Wolff, team principal at Mercedes, paid an emotional tribute, stating: “First of all, on behalf of the team and all at Mercedes, I wish to send our deepest condolences to Birgit, Niki’s children, his family and close friends. Niki will always remain one of the greatest legends of our sport – he combined heroism, humanity and honesty inside and outside the cockpit.&lt;/p&gt;
&lt;p&gt;“His passing leaves a void in Formula One. We haven’t just lost a hero who staged the most remarkable comeback ever seen, but also a man who brought precious clarity and candour to modern Formula One. He will be greatly missed as our voice of common sense.&lt;/p&gt;
&lt;p&gt;“Our Mercedes team has also lost a guiding light. As a teammate over the past six and a half years, Niki was always brutally honest – and utterly loyal. It was a privilege to count him among our team and moving to witness just how much it meant to him to be part of the team’s success. Whenever he walked the floor in Brackley and Brixworth, or delivered one of his famous motivational speeches, he brought an energy that nobody else could replicate.&lt;/p&gt;
&lt;p&gt;“Niki, you are quite simple irreplaceable, there will never be another like you. It was our honour to call you our chairman – and my privilege to call you my friend.”&lt;/p&gt;
&lt;p&gt;Chase Carey, chairman and chief executive of the Formula One group, issued a statement: “It is with great sadness that we learned of the death of &lt;a href=&quot;https://www.theguardian.com/sport/niki-lauda&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Niki Lauda&lt;/a&gt;. Formula 1 has lost not only one of the truly great exponents of the sport but also one of its heroes. His love of racing and the courage he demonstrated were simply extraordinary and he inspired so many fans. His passing is a great loss for the entire Formula 1 family and motorsport as a whole. All our thoughts go out to his family.”&lt;/p&gt;
&lt;p&gt;As tributes began to flow, his former team McLaren said: “Niki will forever be in our hearts and enshrined in our history.” Jenson Button, the former world champion, said “a legend has left us” while prominent motorsports journalist Nick De Groot said Lauda’s status within the sport was “not just for what he achieved on the race track, but for what he overcame to get there”.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/ScuderiaFerrari/status/1130699190382878722&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Scuderia Ferrari tweeted in Italian&lt;/a&gt; that the Ferrari family had learned “with deep sadness” of Lauda’s death. They added: “You will remain forever in our hearts and in those of the fans. CiaoNiki”.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/nico_rosberg/status/1130723158670041088&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;F1’s 2016 world champion for Mercedes, Nico Rosberg tweeted&lt;/a&gt;: “Dear Niki. Thank you for everything that you did for me. I learned so much from you. Your passion, your fighting spirit, to never give up, you belief that you always meet twice in life, and even your patience with us youngsters.&lt;/p&gt;
&lt;p&gt;“Myself and all of your 100 million fans around the world whom you also so strongly inspired to never give up in the hardest of times are thinking of you and your family and wish that you Rest in Peace.”&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-2 | 2&quot;&gt;&lt;div class=&quot;rich-link&quot;&gt;
&lt;div class=&quot;rich-link__container&quot;&gt;
&lt;div class=&quot;rich-link__header&quot;&gt;
&lt;h2 class=&quot;rich-link__title&quot;&gt;Niki Lauda: the three-time Formula One world champion's life – in pictures&lt;/h2&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/aside&gt;&lt;p&gt;Lauda was an exceptional driver, brave and uncompromising but with fine judgement. He was born in 1949 and pursued a career in racing against the wishes of his family. A determination he would demonstrate again when he took out a personal bank loans to ensure he had a shot at F1. He made his debut in 1971 and seasons with March and BRM followed where he impressed enough for Enzo Ferrari to offer him a drive with the Scuderia in 1974. Ferrari were rewarded with a podium on his first race and a win three meetings later in Spain. The next year he took his first title for the team, their first for over a decade.&lt;/p&gt;
&lt;p&gt;A year later, when in another strong position for the title, he had a major crash at the German Grand Prix at the Nürburgring. Trapped in his burning car, he was pulled from the wreckage but suffered severe burns and damage to his lungs. Despite doubts he would survive or indeed ever race again, Lauda’s determination to do so was extraordinary and just six weeks later he returned for the Italian Grand Prix, still bandaged and in pain after extensive surgery. With James Hunt resurgent Lauda could still have taken the title at the final round in Japan but opted to retire from the race convinced the torrential rain made it unsafe. Hunt, with whom he enjoyed both respect and friendship, took the championship.&lt;/p&gt;
&lt;p&gt;Lauda went on to take the title a second time a year later but after two further seasons with Brabham retired in 1979, when he started his first airline business. He made a comeback for McLaren however in 1982 and went on to win the championship for them in 1984 after a hugely competitive fight with team-mate Alain Prost. The Austrian took the title at the last round by just half a point. He retired from F1 for a second and final time in 1985 and returned to pursuing his business interests.&lt;/p&gt;
&lt;p&gt;He took a consulting managerial role at Ferrari in 1993 and was team principal of Jaguar between 2001 and 2002. He has been a fixture in the paddock since joining Mercedes however, always outspoken, entertaining and informed. He was as vital a component in F1 in the latter part of his life as he had been during his driving heyday.&lt;/p&gt;


</description>
<pubDate>Tue, 21 May 2019 07:22:18 +0000</pubDate>
<dc:creator>CaliforniaKarl</dc:creator>
<og:url>http://www.theguardian.com/sport/2019/may/21/niki-lauda-formula-one-legend-dies-aged-70</og:url>
<og:description>The great Austrian driver won two F1 titles for Ferrari and one for McLaren and came back from an horrific accident that left him severely burned and injured in 1976</og:description>
<og:image>https://i.guim.co.uk/img/media/940a5a163e4f3c741b8d9f06659047aefb8627d8/0_276_5472_3283/master/5472.jpg?width=1200&amp;height=630&amp;quality=85&amp;auto=format&amp;fit=crop&amp;overlay-align=bottom%2Cleft&amp;overlay-width=100p&amp;overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&amp;s=8b9c14d3bf32a9976ad6697315edef08</og:image>
<og:type>article</og:type>
<og:title>Niki Lauda, three-time Formula One world champion, dies aged 70</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theguardian.com/sport/2019/may/21/niki-lauda-formula-one-legend-dies-aged-70</dc:identifier>
</item>
<item>
<title>Containers, microservices, and service meshes</title>
<link>http://jpetazzo.github.io/2019/05/17/containers-microservices-service-meshes/</link>
<guid isPermaLink="true" >http://jpetazzo.github.io/2019/05/17/containers-microservices-service-meshes/</guid>
<description>&lt;p&gt;There is &lt;a href=&quot;https://containerjournal.com/2018/12/12/what-is-service-mesh-and-why-do-we-need-it/&quot;&gt;a&lt;/a&gt; &lt;a href=&quot;https://www.nginx.com/blog/do-i-need-a-service-mesh/&quot;&gt;lot&lt;/a&gt; &lt;a href=&quot;https://www.oreilly.com/ideas/do-you-need-a-service-mesh&quot;&gt;of&lt;/a&gt; &lt;a href=&quot;https://www.datawire.io/envoyproxy/service-mesh/&quot;&gt;material&lt;/a&gt; out there about services meshes, and this is another one. Yay! But why? Because I would like to give you the perspective of someone who wish service meshes did exist 10 years ago, long before the rise of container platforms like Docker and Kubernetes. I’m not claiming that this perspective is better or worse than others, but since service meshes are rather complex beasts, I believe that a multiplicity of points of view can help to understand them better.&lt;/p&gt;
&lt;p&gt;I will talk about the dotCloud platform, a platform that was built on 100+ microservices and which supported thousands of production applications running in containers; I will explain the challenges that were faced when building and running it; and how service meshes would (or wouldn’t) have helped.&lt;/p&gt;
&lt;h2 id=&quot;dotcloud-history&quot;&gt;dotCloud history&lt;/h2&gt;
&lt;p&gt;I’ve already written about the history of the dotCloud platform and some of its design choices, but I hadn’t talked much about its networking layer. If you don’t want to dive into my &lt;a href=&quot;http://jpetazzo.github.io/2017/02/24/from-dotcloud-to-docker/&quot;&gt;previous blog post&lt;/a&gt; about dotCloud, all you need to know is that it was a PaaS allowing customers to run a wide range of applications (Java, PHP, Python…) supported by a wide range of data services (MongoDB, MySQL, Redis…) and with a workflow similar to the one of Heroku: you would push your code to the platform, the platform would build container images, and deploy these container images.&lt;/p&gt;
&lt;p&gt;I will tell you how traffic was routed on the dotCloud platform; not because it was particularly great or anything (I think it was okay for the time!) but primarily because it’s the kind of design that could be easily implemented with today’s tools by a modest team in a short amount of time, if they needed a way to route traffic between a bunch of microservices or a bunch of applications. So it will give us a good comparison point between “what we’d get if we hacked it ourselves” vs. “what we’d get if we used an existing service mesh”, aka the good old “build vs. buy” quandary.&lt;/p&gt;
&lt;h2 id=&quot;traffic-routing-for-hosted-applications&quot;&gt;Traffic routing for hosted applications&lt;/h2&gt;
&lt;p&gt;Applications deployed on dotCloud could expose HTTP and TCP endpoints.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HTTP endpoints&lt;/strong&gt; were dynamically added to the configuration of a cluster of &lt;a href=&quot;https://github.com/hipache/hipache&quot;&gt;Hipache&lt;/a&gt; load balancers. This is similar to what we can achieve today with Kubernetes &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/ingress/&quot;&gt;Ingress&lt;/a&gt; ressources and a load balancer like &lt;a href=&quot;https://traefik.io/&quot;&gt;Traefik&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Clients could connect to HTTP endpoints using their associated domain names, provided that the domain name would point to dotCloud’s load balancers. Nothing fancy here.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TCP endpoints&lt;/strong&gt; were associated with a port number, that was then communicated to all the containers of that stack through environment variables.&lt;/p&gt;
&lt;p&gt;Clients could connect to TCP endpoints using a specified host name (something like gateway-X.dotcloud.com) and that port number.&lt;/p&gt;
&lt;p&gt;That host name would resolve to a cluster of “nats” servers (no relationship whatsoever with &lt;a href=&quot;https://nats.io/&quot;&gt;NATS&lt;/a&gt;) that would route incoming TCP connections to the right container (or, in the case of load-balanced services, to the right container&lt;em&gt;s&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;If you’re familiar with Kubernetes, this will probably remind you of &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/service/#nodeport&quot;&gt;NodePort&lt;/a&gt; services.&lt;/p&gt;
&lt;p&gt;The dotCloud platform didn’t have the equivalent of &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/connect-applications-service/&quot;&gt;ClusterIP&lt;/a&gt; services: for simplicity, services were accessed the same way from the inside and from the outside of the platform.&lt;/p&gt;
&lt;p&gt;This was simple enough that the initial implementations of the HTTP and TCP routing meshes were probably a few hundreds line of Python each, using fairly simple (I’d dare say, naive) algorithms, but evolved over time to handle the growth of the platform and additional requirements.&lt;/p&gt;
&lt;p&gt;It didn’t require extensive refactoring of existing application code. &lt;a href=&quot;https://12factor.net/&quot;&gt;Twelve-factor applications&lt;/a&gt; in particular could directly use the address information provided through environment variables.&lt;/p&gt;
&lt;h2 id=&quot;how-was-it-different-from-a-modern-service-mesh&quot;&gt;How was it different from a modern service mesh?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Observability&lt;/strong&gt; was limited. There was no metrics at all for the TCP routing mesh. As for the HTTP routing mesh, later versions provided detailed HTTP metrics, showing error codes and response times; but modern service meshes go above and beyond, and provide integration with metrics collection systems like Prometheus, for instance.&lt;/p&gt;
&lt;p&gt;Observability is important not only from an operational perspective (to help us troubleshoot issues), but also to deliver features like safe &lt;a href=&quot;https://martinfowler.com/bliki/BlueGreenDeployment.html&quot;&gt;blue/green deployment&lt;/a&gt; or &lt;a href=&quot;https://martinfowler.com/bliki/CanaryRelease.html&quot;&gt;canary deployments&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Routing efficiency&lt;/strong&gt; was limited as well. In the dotCloud routing mesh, all traffic had to go through a cluster of dedicated routing nodes. This meant potentially crossing a few AZ (availability zones) boundaries, and significantly increasing the latency. I remember troubleshooting issues with some code that was making 100+ SQL requests to display a given page, and opening a new connection to the SQL server for each request. When running locally, the page would load instantly, but when running on dotCloud, it would take a few seconds, because each TCP connection (and subsequent SQL request) would need dozens of milliseconds to complete. In that specific case, using persistent connections did the trick.&lt;/p&gt;
&lt;p&gt;Modern service meshes do better than that. First of all, by making sure that connections are routed &lt;em&gt;at the source&lt;/em&gt;. The logical flow is still &lt;code class=&quot;highlighter-rouge&quot;&gt;client → mesh → service&lt;/code&gt;, but now the mesh runs locally, instead of on remote nodes, so the &lt;code class=&quot;highlighter-rouge&quot;&gt;client → mesh&lt;/code&gt; connection is a local one, hence very fast (microseconds instead of milliseconds).&lt;/p&gt;
&lt;p&gt;Modern service meshes also implement smarter load-balancing algorithms. By monitoring the health of the backends, they can send more traffic on faster backends, resulting in better overall performance.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Security&lt;/strong&gt; is also stronger with modern service meshes. The dotCloud routing mesh was running entirely on EC2 Classic, and didn’t encrypt traffic (on the assumption that if somebody manages to sniff network traffic on EC2, you have bigger problems anyway). Modern service meshes can transparently secure all our traffic, for instance with mutual TLS authentication and subsequent encryption.&lt;/p&gt;
&lt;h2 id=&quot;traffic-routing-for-platform-services&quot;&gt;Traffic routing for platform services&lt;/h2&gt;
&lt;p&gt;Alright, we’ve discussed how applications communicated, but what about the dotCloud platform itself?&lt;/p&gt;
&lt;p&gt;The platform itself was composed of about 100 microservices, responsible for various functions. Some of these services accepted requests from others, and some of them were background workers that would connect to other services, but not receive connections on their own. Either way, each service needed to know the endpoints of addresses it needed to connect to.&lt;/p&gt;
&lt;p&gt;A lot of high-level services could use the routing mesh described above. In fact, a good chunk of the 100+ microservices of the dotCloud platform were deployed as normal applications on the dotCloud platform itself. But a small number of low-level services (specifically, the ones implementing that routing mesh) needed something simpler, with less dependencies (since they couldn’t depend on themselves to function; that’s the good old “chicken-and-egg” problem).&lt;/p&gt;
&lt;p&gt;These low-level, essential platform services were deployed by starting containers directly on a few key nodes, instead of relying on the platform’s builder, scheduler, and runner services. If you want a comparison with modern container platforms, that would be like starting our control plane with &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run&lt;/code&gt; directly on our nodes, instead of having Kubernetes doing it for us. This was fairly similar to the concept of &lt;a href=&quot;https://kubernetes.io/docs/tasks/administer-cluster/static-pod/&quot;&gt;static pods&lt;/a&gt; used by &lt;a href=&quot;https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/&quot;&gt;kubeadm&lt;/a&gt;, or by &lt;a href=&quot;https://github.com/kubernetes-incubator/bootkube&quot;&gt;bootkube&lt;/a&gt; when bootstrapping a self-hosted cluster.&lt;/p&gt;
&lt;p&gt;These services were exposed in a very simple and crude way: there was a YAML file listing these services, mapping their names to their addresses; and every consumer of these services needed a copy of that YAML file as part of their deployment.&lt;/p&gt;
&lt;p&gt;On the one hand, this was extremely robust, because it didn’t involve maintaining an external key/value store like Zookeeper (remember, etcd or Consul didn’t exist at that time). On the other hand, it made it difficult to move services around. Each time a service was moved, all its consumers would need to receive an updated YAML file (and potentially be restarted). Not very convenient!&lt;/p&gt;
&lt;p&gt;The solution that we started to implement was to have every consumer connect to a local proxy. Instead of knowing the full address+port of a service, a consumer would only need to know its port number, and connect over &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost&lt;/code&gt;. The local proxy would handle that connection, and route it to the actual backend. Now when a backend needs to be moved to another machine, or scaled up or down, instead of updating all its consumers, we only need to update all these local proxies; and we don’t need to restart consumers anymore.&lt;/p&gt;
&lt;p&gt;(There were also plans to encapsulate traffic in TLS connections, and have another proxy on the receiving side as well to unwrap TLS and verify certificates, without involving the receiving service, which would be set up to accept connections only on &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost&lt;/code&gt;. More on that later.)&lt;/p&gt;
&lt;p&gt;This is quite similar to AirBNB’s &lt;a href=&quot;https://medium.com/airbnb-engineering/smartstack-service-discovery-in-the-cloud-4b8a080de619&quot;&gt;SmartStack&lt;/a&gt;; with the notable difference that SmartStack &lt;em&gt;was&lt;/em&gt; implemented and deployed to production, while dotCloud’s new internal routing mesh ended up being shelved when dotCloud pivoted to Docker. ☺&lt;/p&gt;
&lt;p&gt;I personally consider SmartStack as one of the precursors of systems like Istio, Linkerd, Consul Connect … because all these systems follow that pattern:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;run a proxy on each node&lt;/li&gt;
&lt;li&gt;consumers connect to the proxy&lt;/li&gt;
&lt;li&gt;control plane updates the proxy’s configuration when backends change&lt;/li&gt;
&lt;li&gt;… profit!&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;implementing-a-service-mesh-today&quot;&gt;Implementing a service mesh today&lt;/h2&gt;
&lt;p&gt;If we had to implement a similar mesh today, we could use similar principles. For instance, we could set up an internal DNS zone, mapping service names to addresses in the &lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.0/8&lt;/code&gt; space. Then run HAProxy on each node of our cluster, accepting connections on each service address (in that &lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.0/8&lt;/code&gt; subnet) and forwarding / load-balancing them to the appropriate backends. HAProxy configuration could be managed by &lt;a href=&quot;https://github.com/kelseyhightower/confd&quot;&gt;confd&lt;/a&gt;, allowing to store backend information in etcd or Consul, and automatically push updated configuration to HAProxy when needed.&lt;/p&gt;
&lt;p&gt;This is more or less how Istio works! But with a few differences:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;it uses &lt;a href=&quot;https://www.envoyproxy.io/&quot;&gt;Envoy Proxy&lt;/a&gt; instead of HAProxy&lt;/li&gt;
&lt;li&gt;it stores backend configuration using the Kubernetes API instead of etcd or Consul&lt;/li&gt;
&lt;li&gt;services are allocated addresses in an internal subnet (Kubernetes ClusterIP addresses) instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.0/8&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;it has an extra component (Citadel) to add mutual TLS authentication between client and servers&lt;/li&gt;
&lt;li&gt;it adds support for new features like circuit breaking, distributed tracing, canary deployments …&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Let’s quickly review some of these differences.&lt;/p&gt;
&lt;h3 id=&quot;envoy-proxy&quot;&gt;Envoy Proxy&lt;/h3&gt;
&lt;p&gt;Envoy Proxy was written by Lyft. It has many similarities with other proxies (like HAProxy, NGINX, Traefik…) but Lyft wrote it because they needed features that didn’t exist in these other proxies at the time, and it made more sense to build a new proxy than to extend an existing one.&lt;/p&gt;
&lt;p&gt;Envoy can be used on its own. If I have a given service that needs to connect to other services, I can set it up to connect to Envoy instead, and then dynamically configure and reconfigure Envoy with the location of my other services, while getting a lot of nifty extra features, for instance in the domain of observability. Instead of using a custom client library, or peppering my code with tracing calls, I direct my traffic to Envoy and let it collect metrics for me.&lt;/p&gt;
&lt;p&gt;But Envoy can also be used as the &lt;em&gt;data plane&lt;/em&gt; for a service mesh. This means that Envoy will now be configured by the &lt;em&gt;control plane&lt;/em&gt; of that service mesh.&lt;/p&gt;
&lt;h3 id=&quot;control-plane&quot;&gt;Control plane&lt;/h3&gt;
&lt;p&gt;Speaking of the control plane: Istio relies on the Kubernetes API for that purpose. &lt;em&gt;This is not very different from using confd.&lt;/em&gt; Confd relies on etcd or Consul to watch a set of keys in a data store. Istio relies on the Kubernetes API to watch a set of Kubernetes resources.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Aparté:&lt;/em&gt; I personally found it really helpful to read this &lt;a href=&quot;https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/protobuf.md#proposal-and-motivation&quot;&gt;Kubernetes API description&lt;/a&gt; that states:&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;The Kubernetes API server is a “dumb server” which offers storage, versioning, validation, update, and watch semantics on API resources.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;End of aparté.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Istio was designed to work with Kubernetes; and if you want to use it outside of Kubernetes, you will need to run an instance of the Kubernetes API server (and a supporting etcd service).&lt;/p&gt;
&lt;h3 id=&quot;service-addresses&quot;&gt;Service addresses&lt;/h3&gt;
&lt;p&gt;Istio relies on Kubernetes’ allocation of ClusterIP addresses, so Istio services get an internal address (not in the &lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.0/8&lt;/code&gt; range).&lt;/p&gt;
&lt;p&gt;On a Kubernetes cluster without Istio, traffic going to the ClusterIP address for a given service is intercepted by kube-proxy, and sent to a backend of that proxy. More specifically, if you like to nail down the technical details: kube-proxy sets up iptables rules (or IPVS load balancers, depending how it was set up) to rewrite the destination IP addresses of connections going the ClusterIP address.&lt;/p&gt;
&lt;p&gt;Once Istio is installed on a Kubernetes cluster, nothing changes, until it gets explicitly enabled for a given consumer or even an entire namespace, by injecting a &lt;em&gt;sidecar&lt;/em&gt; container into the consumer pods. The sidecar will run an instance of Envoy, and set up a number of iptables rules to intercept traffic going to the other services and redirect that traffic to Envoy.&lt;/p&gt;
&lt;p&gt;Combined with Kubernetes DNS integration, this means that our code can connect to a service name, and everything “just works”. In other words, our code would issue a request to e.g. http://api/v1/users/4242, &lt;code class=&quot;highlighter-rouge&quot;&gt;api&lt;/code&gt; would resolve to &lt;code class=&quot;highlighter-rouge&quot;&gt;10.97.105.48&lt;/code&gt;, an iptables rules would intercept connections to &lt;code class=&quot;highlighter-rouge&quot;&gt;10.97.105.48&lt;/code&gt; and redirect them to the local Envoy proxy, and that local proxy would route the request to the actual API backend. Phew!&lt;/p&gt;
&lt;h3 id=&quot;extra-bells-and-whistles&quot;&gt;Extra bells and whistles&lt;/h3&gt;
&lt;p&gt;Istio can also provide end-to-end encryption and authentication through mTLS (mutual TLS) with a component named &lt;em&gt;Citadel.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It also features &lt;em&gt;Mixer&lt;/em&gt;, a component that Envoy can query for &lt;em&gt;every single&lt;/em&gt; request, to make an ad-hoc decision about that request depending on various factors like request headers, backend load… (Don’t worry: there are abundant provisions to make sure that Mixer is highly available, and that even if it breaks, Envoy can continue to proxy traffic.)&lt;/p&gt;
&lt;p&gt;And of course, me mentioned observability: Envoy collects a vast amount of metrics, while providing distributed tracing. In a microservices architecture, if a single API request has to go through microservices A, B, C, and D, distributed tracing will add a unique identifier to the request when it enters the system, and preserve that identifier across sub-requests to all these microservices, allowing to gather all related calls, their latencies, etc.&lt;/p&gt;
&lt;h2 id=&quot;build-vs-buy&quot;&gt;Build vs. buy&lt;/h2&gt;
&lt;p&gt;Istio has the reputation of being complex. By contrast, building a routing mesh like the one that I described in the beginning of this post is relatively straightforward with the tools that we have today. So, does it make sense to build our own service mesh instead?&lt;/p&gt;
&lt;p&gt;If we have modest needs (if we don’t need observability, circuit breaker, and other niceties) we might want to build our own. But if we’re using Kubernetes, we might not even need to, because Kubernetes already provides basic service discovery and load balancing.&lt;/p&gt;
&lt;p&gt;Now, if we have advanced requirements, “buying” a service mesh can be a much better option. (It’s not always exactly “buying” since Istio is open source, but we still have to invest engineering time to understand how it works, deploy, and operate it.)&lt;/p&gt;
&lt;h2 id=&quot;istio-vs-linkerd-vs-consul-connect&quot;&gt;Istio vs. Linkerd vs. Consul Connect&lt;/h2&gt;
&lt;p&gt;So far, we only spoke about Istio, but it’s not the only service mesh out there. &lt;a href=&quot;https://linkerd.io/2/overview/&quot;&gt;Linkerd&lt;/a&gt; is another popular option, and there is also &lt;a href=&quot;https://learn.hashicorp.com/consul/getting-started-k8s/l7-observability-k8s&quot;&gt;Consul Connect&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Which one should we pick?&lt;/p&gt;
&lt;p&gt;Honestly, I don’t konw, and at this point, I don’t consider myself knowledgeable enough to help anyone make that decision. There are some interesting &lt;a href=&quot;https://thenewstack.io/which-service-mesh-should-i-use/&quot;&gt;articles&lt;/a&gt; &lt;a href=&quot;https://medium.com/solo-io/linkerd-or-istio-6fcd2aad6e42&quot;&gt;comparing&lt;/a&gt; them, and even &lt;a href=&quot;https://medium.com/@michael_87395/benchmarking-istio-linkerd-cpu-c36287e32781&quot;&gt;benchmarks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;One approach that has a lot of potential is to use a tool like &lt;a href=&quot;https://supergloo.solo.io/&quot;&gt;SuperGloo&lt;/a&gt;. SuperGloo offers an abstraction layer to simplify and unify the APIs exposed by service meshes. Instead of learning about the specific (and, in my opinion, relatively complex) APIs of various service meshes, we can use the simpler constructs offered by SuperGloo, and switch seamlessly from one service mesh to another. A little bit as if we had an intermediary configuration format describing HTTP frontends and backends, and able to generate actual configuration for NGINX, HAProxy, Traefik, Apache …&lt;/p&gt;
&lt;p&gt;I’ve dabbled a bit in Istio using SuperGloo, and in a future blog post, I would like to illustrate how to add Istio or Linkerd to an existing cluster using SuperGloo, and whether the latter holds its promise, i.e. allowing me to switch from one routing mesh to another without rewriting configurations.&lt;/p&gt;
&lt;p&gt;If you enjoyed that post and would like me to try out some specific scenarios, I’d love to &lt;a href=&quot;https://twitter.com/jpetazzo&quot;&gt;hear from you&lt;/a&gt;!&lt;/p&gt;
</description>
<pubDate>Tue, 21 May 2019 03:08:21 +0000</pubDate>
<dc:creator>aberoham</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://jpetazzo.github.io/2019/05/17/containers-microservices-service-meshes/</dc:identifier>
</item>
<item>
<title>My Product Is Unexpectedly Being Used to Help People with Dementia</title>
<link>https://nanagram.co/blog/nanagram-for-dementia/</link>
<guid isPermaLink="true" >https://nanagram.co/blog/nanagram-for-dementia/</guid>
<description>&lt;p&gt;One of the more heartwarming moments of my journey building &lt;a href=&quot;https://nanagram.co/&quot;&gt;NanaGram&lt;/a&gt; was totally unexpected. A few months after launching, I built a way for customers to post reviews. These automatically get posted to the home page. Within a couple weeks, two customers sent reviews mentioning how their loved one has dementia and they’re using NanaGram to help fight the disease.&lt;/p&gt;
&lt;blockquote class=&quot;wp-block-quote&quot;&gt;
&lt;p&gt;Dad loves getting mail and Nanagram is so personal and meaningful to him. Getting pictures of his grands helps him fight his dementia and he feels like he’s in the loop. He recognizes his great grands and remembers soon to be in laws. NANAGRAM MAKES IT SO EASY.&lt;/p&gt;
&lt;cite&gt;&lt;a href=&quot;https://nanagram.co/review/LDQJ1zMCWX&quot;&gt;via Laura&lt;/a&gt;&lt;/cite&gt;&lt;/blockquote&gt;

&lt;blockquote class=&quot;wp-block-quote&quot;&gt;
&lt;p&gt;Hello–I’m responding on behave of my mother, known as “MarMar” to her grandchildren. My mother is challenged with a form of dementia that has made managing her electronic devices (mobile phone, computer, etc.) a bit difficult. One of her main frustrations has been how to view, download &amp;amp; enjoy the photos she receives via text or email. My mother was DELIGHTED beyond words when she received her 1st packet of NanaGram photos. And could not believe it when I told her she would receive a fresh packet of photos every month. “What a beautiful treat this will be!”, she told me over the phone. “I am just so tickled!”. For my mother, NanaGram has become an instant success. And from a user experience for me &amp;amp; my siblings, whom I’m sharing this with, it couldn’t be easier. I really appreciate that I can invite others to participate. So key when your family is spread across several states. And it’s so great that we can upload via text or email – super convenient. And I LOVE that we can add captions to the photos, even edit the captions after they’ve been uploaded. We added names dates to our captions which really helped my mother understand the context of each photo. NanaGram has solved so many issues &amp;amp; reduced a great deal of stress. Thank you for this service.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://nanagram.co/review/4cbJMxVnMy&quot;&gt;via Lisa&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;NanaGram was never intended to be a tool for people with dementia but it’s clearly helping people struggling with the disease.&lt;/p&gt;
&lt;p&gt;Dementia is a disease that is close to my heart, as my late 95.5-year-old grandmother was diagnosed with Louie body dementia around age 90. &lt;a href=&quot;https://nanagram.co/#about&quot;&gt;My brother and I&lt;/a&gt; originally built NanaGram as a gift for our grandfather when he turned 94, but looking back on the past year it was my grandmother who benefited from the regular photo deliveries most.&lt;/p&gt;
&lt;div class=&quot;wp-block-image&quot;&gt;&lt;img src=&quot;https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_8387-1024x769.jpg&quot; alt=&quot;A grandmother in a hospital bed with her two (bearded) grandsons, wearing a winter hat and hospital gown, all three smiling :)&quot; class=&quot;wp-image-1159&quot; width=&quot;512&quot; height=&quot;385&quot; srcset=&quot;https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_8387-1024x769.jpg 1024w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_8387-300x225.jpg 300w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_8387-768x577.jpg 768w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_8387-1200x902.jpg 1200w&quot; sizes=&quot;(max-width: 512px) 85vw, 512px&quot;/&gt;The last photo I have with my grandmother, along with my brother Andy. Love you, Grandma. 💕&lt;/div&gt;
&lt;p&gt;My grandmother loved all of her grandkids, but clearly her favorites were her great grandkids. Whenever I visited, she always had a standard line of questions for me:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;How’s Katie? (My wife)&lt;/li&gt;
&lt;li&gt;How’s your car running?&lt;/li&gt;
&lt;li&gt;How’s George? (My friend and neighbor)&lt;/li&gt;
&lt;li&gt;How many customers now? (She loved watching NanaGram grow)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;How’s&lt;/strong&gt; &lt;em&gt;&lt;strong&gt;the baby?&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;My sister has two kids. When her first was born, my grandparents affectionately called him “the baby”, even when he was three. Luckily for grandma, my sister had a second baby. When my niece was born my grandmother could just keep asking, “&lt;em&gt;How’s the baby?&lt;/em&gt;“&lt;/p&gt;
&lt;p&gt;Dementia and other memory diseases can be misunderstood. In the last year of my grandmother’s life, I often got the sense from the health care folks at hospitals and nursing homes that my grandmother was a complete lost cause. They’d often misinterpret her questions as confusion, when really they weren’t trying hard enough to understand the true nuance of her words.&lt;/p&gt;
&lt;p&gt;Even though she had dementia and it worsened over time, I noticed she did have a keen memory and passion for life. Sure, her short term memory wasn’t very good. She’d often ask the same question multiple times in conversation. However, I was amazed by her ability to form new long-term memories. Up until weeks before she passed away, she was still circling back with me on things I’d told her days or weeks before.&lt;/p&gt;
&lt;div class=&quot;wp-block-image&quot;&gt;&lt;img src=&quot;https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_7625-1024x768.jpeg&quot; alt=&quot;A cork board displaying several 4x6 photos printed and pinned on it. &quot; class=&quot;wp-image-1164&quot; width=&quot;512&quot; height=&quot;384&quot; srcset=&quot;https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_7625-1024x768.jpeg 1024w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_7625-300x225.jpeg 300w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_7625-768x576.jpeg 768w, https://nanagram.co/blog/wp-content/uploads/2019/05/IMG_7625-1200x900.jpeg 1200w&quot; sizes=&quot;(max-width: 512px) 85vw, 512px&quot;/&gt;A photo board we set up while she was at a nursing home.&lt;/div&gt;
&lt;p&gt;In the last year of her life, my grandmother moved around between nursing homes and hospitals, but a constant in her life were our faces. Our family took turns visiting her on rotation, making sure someone visited her at least every 48 hours. She’d almost always have a display of photos in her room, featuring the latest happenings, some photos with captions to add context.&lt;/p&gt;
&lt;p&gt;NanaGram automates the delivery of printed photos to a specific address every month. You can change the address at-will each month. This worked fine when my grandmother was in an assisted living facility, but whenever she went to the hospital and later was in rotation at various hands-on nursing homes, I couldn’t really ship the photos easily. I tweaked the product for myself so I could upload the photos to a local Walgreens 1-hour print (and later, a printer in my house) and pick them up on the way to visiting her.&lt;/p&gt;

&lt;p&gt;Often, my wife Katie would go with me on these visits. Grandma loved 5-Guys. We’d stop on the way to get her a burger (no onions!) and her favorite Oreo shake. And a burger and fries for us, of course!&lt;/p&gt;
&lt;p&gt;NanaGram photos kept Grandma connected to the outside world. Going through the photos sparked conversation about things Grandma saw recently in the news or memories of Grandpa. When we went home, we’d leave the photos with her. We’d hang them up on the walls, tape them to the furniture, and put photos in an album. This gave my grandma’s caretakers a way to get to know her more and made it easy for her to brag.&lt;/p&gt;
&lt;p&gt;Paul Graham, one of the founding partners of &lt;a href=&quot;https://www.ycombinator.com/&quot;&gt;YCombinator&lt;/a&gt;, offers some &lt;a href=&quot;https://twitter.com/paulg/status/1114520822322954240&quot;&gt;great advice&lt;/a&gt; on this topic of people using products in unintended ways.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;One of the most useful questions you can ask in a startup is: How is what users want different than you expected? Are people using your product in unexpected ways? Are different people using it than you expected?&lt;/p&gt;
— Paul Graham (@paulg) &lt;a href=&quot;https://twitter.com/paulg/status/1114520822322954240?ref_src=twsrc%5Etfw&quot;&gt;April 6, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;It’s likely I’ll make this local, 1-hour photo pickup feature available to all NanaGram customers soon. Even if it only helps a couple customers, it’ll be worth it.&lt;/p&gt;
&lt;div class=&quot;entry-share&quot;&gt;

&lt;div class=&quot;subscribe&quot;&gt;
&lt;h3&gt;NanaGram&lt;/h3&gt;
&lt;p&gt;Text or email your photos and we'll mail 4x6 prints to your loved ones.&lt;/p&gt;
&lt;a href=&quot;https://nanagram.co/?utm_source=blog&quot; class=&quot;btn btn-red&quot;&gt;Try NanaGram&lt;/a&gt; 
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Tue, 21 May 2019 01:23:52 +0000</pubDate>
<dc:creator>aacook</dc:creator>
<og:type>article</og:type>
<og:title>My Product Is Unexpectedly Being Used to Help People with Dementia - NanaGram</og:title>
<og:description>One of the more heartwarming moments of my journey building NanaGram was totally unexpected. A few months after launching, I built a way for customers to post reviews. These automatically get posted to the home page. Within a couple weeks, two customers sent reviews mentioning how their loved one has dementia and they’re using NanaGram … Continue reading &quot;My Product Is Unexpectedly Being Used to Help People with Dementia&quot;</og:description>
<og:url>https://nanagram.co/blog/nanagram-for-dementia/</og:url>
<og:image>https://nanagram.co/blog/wp-content/uploads/2019/05/JAPmSF8UqjvLb7Ggo9tK3zyN9BSYU372sGB06Zh6-1-300x169.jpeg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://nanagram.co/blog/nanagram-for-dementia/</dc:identifier>
</item>
<item>
<title>Intel Performance Hit 5x Harder Than AMD After Spectre, Meltdown Patches</title>
<link>https://www.extremetech.com/computing/291649-intel-performance-amd-spectre-meltdown-mds-patches</link>
<guid isPermaLink="true" >https://www.extremetech.com/computing/291649-intel-performance-amd-spectre-meltdown-mds-patches</guid>
<description>&lt;div class=&quot;affiliate-text hide-for-large-up&quot; readability=&quot;27.373493975904&quot;&gt;This site may earn affiliate commissions from the links on this page. &lt;a href=&quot;https://www.ziffdavis.com/terms-of-use#endorsement&quot; target=&quot;_blank&quot;&gt;Terms of use&lt;/a&gt;.&lt;/div&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;/&gt;
&lt;div class=&quot;featured-image&quot;&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;/&gt;
&lt;div class=&quot;img-shadow&quot;&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;&lt;img width=&quot;640&quot; height=&quot;353&quot; src=&quot;https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-640x353.jpg&quot; class=&quot;attachment-full size-full wp-post-image&quot; alt=&quot;Intel CPU Wafers&quot; srcset=&quot;https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-640x353.jpg 640w, https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-300x166.jpg 300w, https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-768x424.jpg 768w, https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-106x59.jpg 106w, https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers-672x371.jpg 672w, https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers.jpg 1344w&quot; sizes=&quot;(max-width: 640px) 100vw, 640px&quot;/&gt;&lt;/span&gt;&lt;/div&gt;
&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;/&gt;&lt;/div&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;Ever since Spectre and Meltdown broke in January 2018, we’ve known that the combined impact of patching these security issues would impact raw performance. The question, especially as new disclosures have stacked up, is how large the impacts would be and how would they change the performance comparison between Intel and AMD?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;Phoronix has put that question to the &lt;a href=&quot;https://www.phoronix.com/scan.php?page=article&amp;amp;item=mds-zombieload-mit&amp;amp;num=1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;test&lt;/a&gt; with a substantial suite of benchmarks across multiple Intel platforms, including the 6800K (Broadwell-E), 8700K (Coffee Lake), 7980XE (Skylake-SP), Ryzen 7 2700X, and Threadripper 2990WX. These chips collectively represent all of the recent major architectures in play.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;The collective impact of enabling all patches is not a positive for Intel. While the impacts vary tremendously from virtually nothing too significant on an application-by-application level, the collective whack is ~15-16 percent on all Intel CPUs without Hyper-Threading disabled. Disabling increases the overall performance impact to 20 percent (for the 7980XE), 24.8 percent (8700K) and 20.5 percent (6800K).&lt;/span&gt;&lt;/p&gt;
&lt;div id=&quot;attachment_291652&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;&lt;a href=&quot;https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact.png&quot;&gt;&lt;img class=&quot;size-full wp-image-291652&quot; src=&quot;https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact-640x412.png&quot; alt=&quot;&quot; width=&quot;640&quot; height=&quot;412&quot; srcset=&quot;https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact-640x412.png 640w, https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact-300x193.png 300w, https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact-768x494.png 768w, https://www.extremetech.com/wp-content/uploads/2019/05/Phoronix-AllPerf-Impact.png 1461w&quot; sizes=&quot;(max-width: 640px) 100vw, 640px&quot;/&gt;&lt;/a&gt;&lt;/span&gt;
&lt;p class=&quot;wp-caption-text&quot;&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;Data by &lt;a href=&quot;https://www.phoronix.com/scan.php?page=article&amp;amp;item=mds-zombieload-mit&amp;amp;num=10&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Phoronix&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;The AMD CPUs&lt;a href=&quot;https://r.zdbb.net/u/6k9u&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://www.extremetech.com/wp-content/uploads/2018/07/SEEAMAZON_ET_135.jpg&quot; alt=&quot;SEEAMAZON_ET_135 See Amazon ET commerce&quot; width=&quot;“135”&quot; height=&quot;20&quot;/&gt;&lt;/a&gt; are not tested with HT disabled, because disabling SMT isn’t a required fix for the situation on AMD chips, but the cumulative impact of the decline is much smaller. AMD loses ~3 percent with all fixes enabled. The impact of these changes is enough to change the relative performance weighting between the tested solutions. With no fixes applied, across its entire test suite, the CPU performance ranking is:&lt;/span&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;7980XE (288)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;8700K (271)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;2990WX (245)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;2700X (219)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;6800K. (200)&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;With the full suite of mitigations enabled, the CPU performance ranking is:&lt;/span&gt;&lt;/p&gt;

&lt;ol&gt;&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;2990WX (238)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;7980XE (231)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;2700X (213)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;8700K (204)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;6800K (159)&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;AMD, in other words, now leads the aggregate performance metrics, moving from 3rd and 4th to 1st and 3rd. This isn’t the same as winning every test, and since the degree to which each test responds to these changes varies, you can’t claim that the 2990WX is now across-the-board faster than the 7980XE in the Phoronix benchmark suite. It isn’t. But the cumulative impact of these patches could result in more tests where Intel and AMD switch rankings as a result of performance impacts that only hit one vendor.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;To date, we’ve seen no sign that Spectre and Meltdown have driven any additional business to AMD’s Epyc servers. AMD has made no such claims. The company has good reason not to — there’s no guarantee that a future article won’t find crippling bugs in AMD’s features that require solutions that badly impact performance. Were AMD to take an aggressive marketing stance on its supposed invulnerability to many of these topics, it could find itself facing angry customers and even lawsuits for product misrepresentation if it tries to play the “We’re a more secure x86 than Intel,” card too hard.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;But if these issues continue to stack up and solely impacting Intel, with performance fixes that simply don’t take chunks out of AMD, it’s going to start impacting performance comparisons. The question of which security fixes need to be enabled for which servers to guarantee practically good security is also going to be a topic of discussion. We’re closing in on two years since Spectre and Meltdown were identified and 18 months since they were publicly disclosed, but characterizing their impact on workloads and users remains difficult to do at scale. How much these flaws impact you depends on what kind of work you’re doing and how exposed you are. Thus far, no real-world attacks that leverage Spectre, Meltdown, L1TF, ZombieLoad, Spoiler, or any of the other named attacks have been observed.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;It is still unclear how much Intel owners need to be concerned about the practical, real-world impact of these threats. But enabling the full suite of fixes definitely incurs a significant performance penalty. This is most visible with the Core i7-8700K, which falls back to offering unpatched Broadwell 6800K performance — and the 6800K is a three-year-old CPU with a much lower maximum clock speed.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;intelliTXT&quot; name=&quot;intellitxt&quot;&gt;&lt;strong&gt;Now Read&lt;/strong&gt;:&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Mon, 20 May 2019 23:54:15 +0000</pubDate>
<dc:creator>mepian</dc:creator>
<og:type>article</og:type>
<og:title>Intel Performance Hit 5x Harder Than AMD After Spectre, Meltdown Patches - ExtremeTech</og:title>
<og:description>There's a clear winner when AMD and Intel go head to head in performance comparisons in Linux with all Spectre, Meltdown, Foreshadow, and other fixes applied. Intel loses a lot of performance in these comparisons.</og:description>
<og:url>https://www.extremetech.com/computing/291649-intel-performance-amd-spectre-meltdown-mds-patches</og:url>
<og:image>https://www.extremetech.com/wp-content/uploads/2018/01/Intel-CPU-Wafers.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.extremetech.com/computing/291649-intel-performance-amd-spectre-meltdown-mds-patches</dc:identifier>
</item>
<item>
<title>The State of Apple&amp;#039;s Developer Documentation</title>
<link>https://mjtsai.com/blog/2019/05/20/the-state-of-apples-developer-documentation/</link>
<guid isPermaLink="true" >https://mjtsai.com/blog/2019/05/20/the-state-of-apples-developer-documentation/</guid>
<description>&lt;p&gt;&lt;a href=&quot;https://twitter.com/sanguish/status/1130012546772160512&quot;&gt;Scott Anguish&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/sanguish/status/1130012546772160512&quot; readability=&quot;20&quot;&gt;
&lt;p&gt;It appears that most of the old iOS conceptual documents have been moved to the documentation archive and are now unsupported.&lt;/p&gt;
&lt;p&gt;Is there really no iOS Text Programming concepts? Or are the indexes just that bad?&lt;/p&gt;
&lt;p&gt;That is more than a decade of work by dozens, just being abandoned.&lt;/p&gt;
&lt;p&gt;I can’t even grasp how that’s any solution.&lt;/p&gt;
&lt;p&gt;If this is the case every single iOS developer should be screaming from the rafters. It’s by far the stupidest move I’ve seen in a decade.&lt;/p&gt;
&lt;p&gt;You can’t write apps without authoritative docs.&lt;/p&gt;
&lt;p&gt;It’s bad enough the reference doc has reached the point it has.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It’s surprising how much of the documentation is marked as legacy, archived, not up-to-date, or was never written in the first place. At first I thought this was because of some sort of internal transition, but it’s been going on for years now and does not seem to be getting any better.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/stevex/status/1130062117946777607&quot;&gt;Steve Tibbett&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/stevex/status/1130062117946777607&quot; readability=&quot;9&quot;&gt;
&lt;p&gt;As far as I can tell, this is the only documentation on IAP receipt validation. This is part of a current system that’s making Apple billions of dollars. There are errors in it, and it’s “no longer being updated”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/pilky/status/1130057224775249920&quot;&gt;Martin Pilkington&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/pilky/status/1130057224775249920&quot; readability=&quot;9&quot;&gt;
&lt;p&gt;Fun fact: when I was looking up docs for Help Books for my Appreciating AppKit post, one of the few Mac features already supported in Marzipan, it took ages to find as they’re only available in the documentation archive&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/mattstevens/status/1015635883951718400&quot;&gt;Matt Stevens&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/mattstevens/status/1015635883951718400&quot; readability=&quot;9&quot;&gt;
&lt;p&gt;If you’re struggling to find an Apple developer document you know exists, it’s not just you. http://developer.apple.com’s robots.txt disallows /library/archive/, where all of the old docs now live. Apple’s own “Search Documentation Archive”…doesn’t search the archive.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Previously:&lt;/p&gt;
&lt;p id=&quot;the-state-of-apples-developer-documentation-update-2019-05-21&quot;&gt;Update (2019-05-21): &lt;a href=&quot;https://twitter.com/galooticus/status/1130584891911839744&quot;&gt;Wood Borer&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/galooticus/status/1130584891911839744&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;I remember the good old days when people were annoyed that you couldn’t figure out Cocoa bindings without the stuff mmalc posted on his personal website. That was &lt;em&gt;nothing&lt;/em&gt; compared to when the doc browser turned into a lousy webpage instead of Cocoa views and Search Kit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/randyscovil/status/1130587097901948928&quot;&gt;Randy Scovil&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/randyscovil/status/1130587097901948928&quot; readability=&quot;6&quot;&gt;
&lt;p&gt;I’m wondering how much has really disappeared. I used to point students there all the time for source code examples and now I find most any search for those comes up empty. Que?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/_jlfischer/status/1130588693100544000&quot;&gt;Jonathan Fischer&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/_jlfischer/status/1130588693100544000&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;For what it’s worth, DuckDuckGo seems to be ignoring that robots.txt entry for /library/archive. I usually find what I’m looking for without much trouble:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/tolmasky/status/1068291639368531968&quot;&gt;Francisco Tolmasky&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote cite=&quot;https://twitter.com/tolmasky/status/1068291639368531968&quot; readability=&quot;6&quot;&gt;
&lt;p&gt;Died Apple just not document AppKit anymore? I can’t find anything about NSWindowTab. Is all information just in like WWDC videos?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;See also: &lt;a href=&quot;https://news.ycombinator.com/item?id=19966135&quot;&gt;Hacker News&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;tags&quot;&gt;&lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/cocoa/&quot;&gt;Cocoa&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/documentation/&quot;&gt;Documentation&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/inapppurchase/&quot;&gt;In-App Purchase&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/ios/&quot;&gt;iOS&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/ios-12/&quot;&gt;iOS 12&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/mac/&quot;&gt;Mac&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/macos-10-14/&quot;&gt;macOS 10.14 Mojave&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/programming/&quot;&gt;Programming&lt;/a&gt; &lt;a rel=&quot;tag&quot; href=&quot;https://mjtsai.com/blog/tag/top-posts/&quot;&gt;Top Posts&lt;/a&gt;&lt;/p&gt;














&lt;p&gt;Stay up-to-date by subscribing to the &lt;a href=&quot;https://mjtsai.com/blog/2019/05/20/the-state-of-apples-developer-documentation/feed/&quot;&gt;Comments RSS Feed&lt;/a&gt; for this post.&lt;/p&gt;


</description>
<pubDate>Mon, 20 May 2019 23:03:04 +0000</pubDate>
<dc:creator>bangonkeyboard</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://mjtsai.com/blog/2019/05/20/the-state-of-apples-developer-documentation/</dc:identifier>
</item>
<item>
<title>Rust Koans (2015)</title>
<link>https://users.rust-lang.org/t/rust-koans/2408</link>
<guid isPermaLink="true" >https://users.rust-lang.org/t/rust-koans/2408</guid>
<description>&lt;div class=&quot;post&quot; itemprop=&quot;articleBody&quot;&gt;

&lt;p&gt;For the eighth day in a row, Neophyte Col found himself standing before the Two Great Guards of the temple. They stood before the large entrance of the temple, clad in simple robes. Nevertheless, they were imposing, and &lt;em&gt;feared&lt;/em&gt;. He strode toward the first guard, confident, and handed the parchment bearing his program.&lt;/p&gt;
&lt;p&gt;The First Guard read through it carefully. This step was but a formality; yesterday, he had only failed to gain the assent of the Second Guard. He was certain he had addressed all outstanding complaints.&lt;/p&gt;
&lt;p&gt;The First Guard handed the parchment back to Col. Then, in a blinding motion, slapped Col across the face with his bare hand. In a measured voice, the First Guard spoke to him: &quot;mismatched types: expected &lt;code&gt;&amp;amp;Target&lt;/code&gt;, found &lt;code&gt;&amp;amp;&amp;lt;T as Deref&amp;gt;::Target&lt;/code&gt;&quot;, then fell silent.&lt;/p&gt;
&lt;p&gt;Col took his parchment and retreated back to a nearby bench, close to tears. &lt;em&gt;Eight days&lt;/em&gt;. It was not as though his program was particularly complicated, and yet he could not convince the Two Great Guards to permit him entry to the temple. He had not had this much difficulty at &lt;em&gt;other&lt;/em&gt; temples!&lt;/p&gt;
&lt;p&gt;At another bench, he saw a fellow neophyte. They had spoken two days previous, when he had learned his compatriot had been toiling outside the temple for close to two &lt;em&gt;weeks&lt;/em&gt; to get his program accepted.&lt;/p&gt;
&lt;p&gt;It was the guard’s fault. Col &lt;em&gt;knew&lt;/em&gt; his program would work as intended. All they ever seemed to do was pick on minor errors, denying him for the most &lt;em&gt;petty&lt;/em&gt; of reasons. They were &lt;em&gt;looking&lt;/em&gt; for reasons to deny him entry; that was it!&lt;/p&gt;
&lt;p&gt;He was beginning to seethe with resentment.&lt;/p&gt;
&lt;p&gt;Thereupon, he noticed a monk speaking to the other neophyte. The conversation seemed quite animated when, all of a sudden, the neophyte whooped, leapt up, and rushed toward the temple. As he ran, he seemed to be frantically modifying his program.&lt;/p&gt;
&lt;p&gt;However, rather than face the Two Great Guards, he instead walked over to a small, dingy part of the wall. To Col’s surprise, the wall opened into what appeared to be a secret entrance. The neophyte passed through, and was gone from sight.&lt;/p&gt;
&lt;p&gt;Col sat stunned. A secret entrance? Then… then the Two Great Guards might merely be a prank! Something the other monks put neophyte through to teach them humility. Or… resilience. Or… or… perhaps it was just to laugh at them secretly.&lt;/p&gt;
&lt;p&gt;“Do you wish to know what I said to him?” a voice asked. Col turned to see the monk standing beside his bench. “You told him there was another way in, did you not?”&lt;/p&gt;
&lt;p&gt;“Yes,” she replied. “I told him of the &lt;code&gt;unsafe&lt;/code&gt; door.”&lt;/p&gt;
&lt;p&gt;“&lt;code&gt;unsafe&lt;/code&gt;?” Col asked.&lt;/p&gt;
&lt;p&gt;“Indeed. It is a secret known to those who have studied long and hard at the temple. In truth, one can overcome many of the obstacles posed in writing one’s program through the use of the unsafe arts, as spoken of in the &lt;a href=&quot;http://doc.rust-lang.org/nightly/nomicon/&quot; rel=&quot;nofollow noopener&quot;&gt;Rustonomicon&lt;/a&gt;.”&lt;/p&gt;
&lt;p&gt;“Are they powerful?” Col asked in wonder.&lt;/p&gt;
&lt;p&gt;“Immensely powerful. With &lt;code&gt;transmute&lt;/code&gt;, one can simply re-assign the type of a value, or extend the lifetime of a pointer. One can even summon pointers from the air itself, or data from nothingness.”&lt;/p&gt;
&lt;p&gt;Col felt he finally understood how the temple worked. It was this “unsafe” magic that the monks used! However…&lt;/p&gt;
&lt;p&gt;“Then, why are the Two Great Guards employed if one can simply walk through the &lt;code&gt;unsafe&lt;/code&gt; door to reach the temple? Why not…”&lt;/p&gt;
&lt;p&gt;At that moment, a blood-curdling scream was heard from within the temple. It echoed across the courtyard before ending suddenly.&lt;/p&gt;
&lt;p&gt;Silence descended. No one moved. No one spoke. The wind stilled. Even the birds halted their singing.&lt;/p&gt;
&lt;p&gt;Col could feel his heart pounding in his ears.&lt;/p&gt;
&lt;p&gt;“They are there,” the monk said, breaking the spell, “to protect &lt;em&gt;you&lt;/em&gt; from the &lt;em&gt;temple&lt;/em&gt;, and what lies within.”&lt;/p&gt;
&lt;p&gt;Col turned to gaze once more at the hidden doorway. “Then why does that door exist?”&lt;/p&gt;
&lt;p&gt;“Because, even &lt;em&gt;they&lt;/em&gt; are not infallible. Some times, one must face peril alone.” She sighed. “But not all are so brave &lt;em&gt;or&lt;/em&gt; skilled.”&lt;/p&gt;
&lt;p&gt;With that, the monk took a sheet of parchment from her cloak and walked toward the Two Great Guards. The First Guard read her program and nodded. The Second Guard read her program, handed it back, and then struck her across the face.&lt;/p&gt;
&lt;p&gt;“Borrowed value does not live long enough.”&lt;/p&gt;
&lt;p&gt;The monk, rubbing her face, walked back and sat down on one of the benches, muttering curses.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;At that moment, Col was enlightened.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;&lt;div class=&quot;post&quot; itemprop=&quot;articleBody&quot;&gt;

&lt;p&gt;Upon a warm autumn day, Brother Farbold was walking through the Gardens of Abstraction near the recently opened Temple of Rust. He passed many curious and elaborate displays of complex abstractions, when he chanced upon a monk toiling away at her own display. Her robes identified her as a neophyte, though her creased, worn hands spoke of many, many years of experience. Around her were scatted dozens of white stones of all shapes and sizes along with several different rakes. Attached to each was a single, small, paper label with a word written on it.&lt;/p&gt;
&lt;p&gt;Intrigued, he walked closer.&lt;/p&gt;
&lt;p&gt;“Ho!” he said, “what is your name?”&lt;/p&gt;
&lt;p&gt;“I am Neophyte Maran.”&lt;/p&gt;
&lt;p&gt;“What problem are you working on, if I might enquire?”&lt;/p&gt;
&lt;p&gt;“I am attempting to translate a previous design that it might be suitable for the temple,” the neophyte replied, concentrating on a large sheet of paper covered with sketches of boxes, connected by many lines and arrows.&lt;/p&gt;
&lt;p&gt;“I see many labels; what are those for?”&lt;/p&gt;
&lt;p&gt;“They define the class of each object.”&lt;/p&gt;
&lt;p&gt;Brother Farbold paused. “What are classes?”&lt;/p&gt;
&lt;p&gt;The neophyte gave him a look of confusion. “You do not know what classes are?”&lt;/p&gt;
&lt;p&gt;“No,” he replied. “I have heard such a phrase carried on the wind from far away, but in this place, we do not use it.”&lt;/p&gt;
&lt;p&gt;“Ah, I see,” said Maran. “In the temple where I came from, we use classes to define all the properties and behaviours of a thing, that many may share a single definition.”&lt;/p&gt;
&lt;p&gt;“A useful device, then. In such a scheme, as a simple gardener, I would have a &lt;code&gt;tend&lt;/code&gt; behaviour, then?”&lt;/p&gt;
&lt;p&gt;The neophyte nodded and picked up a small rock. “This is a &lt;code&gt;Rock&lt;/code&gt;,” she said, showing Brother Farbold the label. “It has no methods, for all it does is lie on the ground until operated on, but it has properties such as &lt;code&gt;weight&lt;/code&gt; and &lt;code&gt;volume&lt;/code&gt;.”&lt;/p&gt;
&lt;p&gt;“So a rock cannot do anything at all?”&lt;/p&gt;
&lt;p&gt;“Nothing. Unlike this &lt;code&gt;Rake&lt;/code&gt;, which possesses the ability to &lt;code&gt;rake&lt;/code&gt; one or more &lt;code&gt;Rock&lt;/code&gt;s. This allows me to model a garden and its evolution in its entirety.”&lt;/p&gt;
&lt;p&gt;“Indeed? This simple model allows you to capture all possible interactions, then?”&lt;/p&gt;
&lt;p&gt;“Yes!” exclaimed Neophyte Maran proudly. “I have used this for many years with great success.”&lt;/p&gt;
&lt;p&gt;“But what if the rock wishes to roll, or shine, or talk? Classes sound restrictive; I prefer to define smaller behaviours, that each thing may pick and choose what it wishes to do.”&lt;/p&gt;
&lt;p&gt;The neophyte scoffed. “An object can do only that which it was designed to do, nothing more. You said you were a gardener; are you tasked to instruct new students, or to cook meals?”&lt;/p&gt;
&lt;p&gt;“I am not; I am tasked with gardening.”&lt;/p&gt;
&lt;p&gt;“With classes, such is expressed by your class at design-time. As such, there can never be any confusion! To change behaviours is to change the design of the system!”&lt;/p&gt;
&lt;p&gt;“Facinating,” said Farbold, nodding. The neophyte turned back to her work.&lt;/p&gt;
&lt;p&gt;“I must admit I am having trouble finding how to express this concept in a way that the temple will approve of, but I am su–” the neophyte was interrupted when one of the smaller white rocks struck her head.&lt;/p&gt;
&lt;p&gt;Holding her head, Maran turned around. “Did you throw a rock at me?” she demanded.&lt;/p&gt;
&lt;p&gt;“Me?” said Brother Farbold. “Of course not. I am but a simple &lt;code&gt;Gardener&lt;/code&gt;; I know nothing of &lt;code&gt;throw&lt;/code&gt;ing &lt;code&gt;Rock&lt;/code&gt;s.”&lt;/p&gt;
&lt;p&gt;“The rock could not have thrown itself!”&lt;/p&gt;
&lt;p&gt;“And yet, your design does not allow for such a thing to have happened. Surely, you must be mistaken: no rock was thrown.”&lt;/p&gt;
&lt;p&gt;Neophyte Maran grumbled and turned back to her sketches.&lt;/p&gt;
&lt;p&gt;A moment later, she flinched away as a long wooden pole struck her arm. “Did you…?”&lt;/p&gt;
&lt;p&gt;&quot;A &lt;code&gt;Rake&lt;/code&gt; can only &lt;code&gt;rake&lt;/code&gt; &lt;code&gt;Rock&lt;/code&gt;s; it cannot “&lt;code&gt;hit Neophyte&lt;/code&gt;s”. You must be imagining things.&lt;/p&gt;
&lt;p&gt;“But you…”&lt;/p&gt;
&lt;p&gt;“Ho! Brother Farbold!” another monk cried from the other end of the garden. “Brother Schieb has taken ill; would you be so kind as to cook the evening meal in his stead?”&lt;/p&gt;
&lt;p&gt;“I would be happy to, Sister Doure; I am just now finishing my instruction of this neophyte.”&lt;/p&gt;
&lt;p&gt;&lt;em&gt;At that moment, Maran was enlightened.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;&lt;div class=&quot;post&quot; itemprop=&quot;articleBody&quot;&gt;

&lt;p&gt;Sister Kiyou shuffled nervously under the gaze of the one the Abbott had called “The Master Architect”; a monk called Master Torand. “As promised, I presented my completed design to him the day before the new moon, along with the three hundred and sixty one pages of extensive documentation explaining all ways in which the interface could correctly and incorrectly be used,” she concluded. “I was particularly proud of the documentation. I went to great pains to ensure that all possible incompatibilities and failure cases were enumerated in detail, but the Abbott did not seem over pleased.”&lt;/p&gt;
&lt;p&gt;“And then?” asked Torand.&lt;/p&gt;
&lt;p&gt;“He said, ‘you have toiled long and hard to complete this, but now I would have you work a while with The Master Architect. Perhaps something will be learned.’ Thus, I came here,” she finished.&lt;/p&gt;
&lt;p&gt;Master Torand nodded in understanding. He clearly seemed to know what this was about. “The Abbott has asked me to design a new pagoda for the temple grounds, that the temple’s knowledge might be given a fitting home. Before I begin construction, I must ensure the design is perfect. As such, I shall send the Abbott a model; both that he might inspect it, but also to determine if the design is sound.”&lt;/p&gt;
&lt;p&gt;Kiyou nodded, for this sounded eminently sensible.&lt;/p&gt;
&lt;p&gt;“As it happens, I have prepared just such a model. It is over there,” the master said, indicating a table in the corner of the room. Kiyou walked to it and found it covered in hundreds of tiny, loose pieces of delicately carved and painted wood.&lt;/p&gt;
&lt;p&gt;“This is… can it truly be called a model when it lies unassembled?”&lt;/p&gt;
&lt;p&gt;“A fair point, sister. It shall be your task to assemble the model.”&lt;/p&gt;
&lt;p&gt;“My—?”&lt;/p&gt;
&lt;p&gt;“I have laboured for many days with little rest; I believe I shall walk through the gardens to clear my mind. No doubt a talented nun such as yourself shall have no trouble in completing this final formality.”&lt;/p&gt;
&lt;p&gt;“Master, I am an architect of algorithms, not buildings; I know little of wood and stone.”&lt;/p&gt;
&lt;p&gt;“There is much to learn, but fortunately, I already know all that need be known for this task, and have built the pieces for you.”&lt;/p&gt;
&lt;p&gt;“But I do not… in truth, I have but a vague notion of what a pagoda is meant to look like!”&lt;/p&gt;
&lt;p&gt;“This should present no difficulty for one of your ability.” With that, Master Torand left Kiyou alone in the workshop with the pile of model parts.&lt;/p&gt;
&lt;p&gt;Kiyou was dismayed. There was no way she could assemble the model without even knowing what it was meant to look like! Schematics, a blueprint, some general outline… how could a supposed master expect her to construct something so complex without any guidance?&lt;/p&gt;
&lt;p&gt;For some time, Kiyou simply stared at the jumble of wooden pieces. Carelessly, she began to examine the pieces. She became fascinated by how many different and unique parts there appeared to be. Even something as simple as the tiny wooden beams appeared to have many slightly different variants. One might have a square joint at one end, the next would be circular. Another would end in a hexagonal shape.&lt;/p&gt;
&lt;p&gt;On a whim, she took two likely looking wooden tiles, and found they would not fit together. Putting one down, she tried the next. And the next. And the next. Finally, she found a second piece that would fit.&lt;/p&gt;
&lt;p&gt;She now had two tiles. And so, she searched for a third.&lt;/p&gt;
&lt;p&gt;Then a fourth.&lt;/p&gt;
&lt;p&gt;Then a fifth.&lt;/p&gt;
&lt;p&gt;With each step, she found but a single piece that would fit in place. In short order, she realised she had constructed what appeared to be a small floor. The floor had several holes for other pieces to fit. Careful searching of the pile revealed just five beams that would fit. Thus, she put them together.&lt;/p&gt;
&lt;p&gt;On and on this went, as the sun crossed the sky outside. The pagoda grew higher and higher, seemingly of its own volition. Floors assembled, walls attached, tiles locked into place. Kiyou felt she had no control over how the model was coming together: it was as though the model &lt;em&gt;knew&lt;/em&gt; what shape it needed to be and would not &lt;em&gt;allow&lt;/em&gt; her any freedom.&lt;/p&gt;
&lt;p&gt;When the sun was hanging low in the sky, Kiyou found the model complete. Every piece had been used. The structure was sound. It was tall, with elegantly curved roofs. Even though she did not understand how it had been done, Master Torand had somehow built a stable and beautiful model of a pagoda though he had not been present for its assembly.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;At that moment, Kiyou was enlightened.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;“Ah, just in time for me to return from my walk.”&lt;/p&gt;
&lt;p&gt;Kiyou did not turn to face him. “I trust your exercise was refreshing?”&lt;/p&gt;
&lt;p&gt;“Indeed. Now, I would like you to deliver the model to the Abbott, and tell him what has been learned.”&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;“Whereupon, I returned here,” she finished, showing the Abbott the completed model.&lt;/p&gt;
&lt;p&gt;The Abbott frowned. “And,” he asked, “what was learned?”&lt;/p&gt;
&lt;p&gt;&quot;I was wrong to be proud of my documentation. Though it came from great effort and care, I should have used that effort to make the interface &lt;em&gt;itself&lt;/em&gt; better. I should have endeavoured to make an interface that did not &lt;em&gt;require&lt;/em&gt; three hundred pages of explanation. One where the types themselves guide the programmer in their use.&lt;/p&gt;
&lt;p&gt;“A perfect interface is one which is impossible to use incorrectly, even by accident.”&lt;/p&gt;
&lt;p&gt;The Abbott sighed. “I suppose it cannot be helped. Come, let us put it with the others.”&lt;/p&gt;
&lt;p&gt;Confused, Kiyou followed the Abbott as he led her through the winding corridors of the temple. At last, they came to a long hall with several shelves along each wall.&lt;/p&gt;
&lt;p&gt;Each shelf was covered in dozens upon dozens of little model pagodas, each slightly different to the last. Walking to the very end of the room, past the array of little structures, the Abbott indicated an empty place on a shelf, into which Kiyou set her model.&lt;/p&gt;
&lt;p&gt;This was a lesson taught and learned many times over, it seemed.&lt;/p&gt;
&lt;p&gt;“It is a valuable lesson for you to have learned, but that was &lt;em&gt;not&lt;/em&gt; why I sent you to see Master Torand.”&lt;/p&gt;
&lt;p&gt;“Ho?”&lt;/p&gt;
&lt;p&gt;“Indeed not. Master Torand was asked to construct a pagoda for this temple some eight years ago. Each time he completes a design, he withdraws it again, claiming it to not yet be &lt;em&gt;perfect&lt;/em&gt;.” He sighed again.&lt;/p&gt;
&lt;p&gt;“I was &lt;em&gt;rather&lt;/em&gt; hoping you might teach him the value of pragmatism and compromising perfection for the sake of completion. Even an ugly, rickety shed would be more useful than a hypothetical, flawless pagoda.”&lt;/p&gt;
&lt;p&gt;&lt;em&gt;At that moment, Kiyou was enlightened.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;&lt;div class=&quot;post&quot; itemprop=&quot;articleBody&quot;&gt;

&lt;p&gt;Neophyte Col came to Master Tuor one day and said: “I have almost finished a program in which I see repeated patterns of code. The patterns are not regular enough to be abstracted by functions or traits. I have a mind to use macros, but am unsure of how to proceed.”&lt;/p&gt;
&lt;p&gt;Master Tuor considered this. “I believe I know who can help you find clarity. Come.”&lt;/p&gt;
&lt;p&gt;Together, they walked away from the main temple and past the gardens. On the periphery of the grounds, they came across a strange building. Each plank of wood, each panel, tile, window; all were unique in shape, size, colour, texture, material… “What is this place?” asked the neophyte.&lt;/p&gt;
&lt;p&gt;“It is where the Clan of the Falling Snowflake practice the art of Syntactic Abstraction. They abhor repetition above all else.” Col nodded as they entered.&lt;/p&gt;
&lt;p&gt;Inside, the building was just as relentlessly unique. No two doors were the same shape or size. Each candle and its perch were designed and coloured a different way. Col began to feel dizzy.&lt;/p&gt;
&lt;p&gt;Even the monks themselves exemplified this approach. Rather than the plain, dark brown robes the other monks wore, each monk of the Falling Snowflake wore a haphazard collection of materials and colours. Col wondered if perhaps a great storm had swept up a cloth merchant’s wares and deposited them on these unsuspecting monks.&lt;/p&gt;
&lt;p&gt;His eyes were then caught by the walls. They were covered with programs that seemed to be in some strange language as he might expect from the Temple of APL… but here and there he caught glimpses of familiar syntax, though they made little sense.&lt;/p&gt;
&lt;p&gt;The monks’ speech was strange as well. Col observed several groups standing silently, staring at each other. He began to wonder if perhaps they were forbidden to speak at all, when he heard an outburst from one group:&lt;/p&gt;
&lt;p&gt;“Sie durm! Wik puom, eeis.”&lt;/p&gt;
&lt;p&gt;With that, the monks standing in the group nodded at one another and walked away.&lt;/p&gt;
&lt;p&gt;“Master…” Col began.&lt;/p&gt;
&lt;p&gt;“As I said, they abhor repetition. As such, they abhor our language, filled as it is with redundancy, not to mention &lt;em&gt;inaccuracy&lt;/em&gt;. Instead, they use their own tongue which is both perfectly precise, and perfectly optimal. They say what they mean and nothing else.”&lt;/p&gt;
&lt;p&gt;“But they are so quiet, otherwise.”&lt;/p&gt;
&lt;p&gt;Master Tuor nodded. “Do you think it &lt;em&gt;easy&lt;/em&gt; to decide what one wishes to say, with utter and complete precision, before speaking a word?”&lt;/p&gt;
&lt;p&gt;As they passed through a tiny, five-sided doorway, they came upon a monk dressed in cloth dyed in a thousand shades of dark grey. Wrapped around the robes was a mesmerising pattern in white thread that seemed to spiral forever away into the cloth; an infinite, curving beast made of straight lines and squares.&lt;/p&gt;
&lt;p&gt;“Neophyte, this is Master Quoem, head of the Clan of the Falling Snowflake.” The monk nodded in greeting. “Tell him of your problem.”&lt;/p&gt;
&lt;p&gt;Col took a breath. &quot;I have nearly completed a program in which I see much repetition.&lt;/p&gt;
&lt;p&gt;&quot;In some cases, the logic must call different functions, though all around it remains unchanged. In others, different types implement similar methods, yet they cannot be unified by traits.&lt;/p&gt;
&lt;p&gt;“I have been told that macros may be a solution to my problem. What would you advise?”&lt;/p&gt;
&lt;p&gt;Master Quoem was silent. For many long minutes, he stared intently at Col. It went on for so long that Col began to shuffle nervously under the master’s gaze, uncertain if he had somehow offended him.&lt;/p&gt;
&lt;p&gt;The master, Col noticed, had slightly odd eyebrows…&lt;/p&gt;
&lt;p&gt;Finally, Master Quoem spoke thus:&lt;/p&gt;
&lt;p&gt;“Fheiq kah, puom.”&lt;/p&gt;
&lt;p&gt;Then he nodded at Col, turned, and walked away.&lt;/p&gt;
&lt;p&gt;“Thank you for your counsel, Master Quoem,” said Master Tuor as he guided Col back the way they came.&lt;/p&gt;
&lt;p&gt;As they walked, Col tried to understand what had happened. Stepping back out into the sunlight, he came to a conclusion.&lt;/p&gt;
&lt;p&gt;“Did speaking to Master Quoem help you find your answer?” Master Tuor asked him.&lt;/p&gt;
&lt;p&gt;“Yes,” replied Col. “I have finished my program.”&lt;/p&gt;
&lt;p&gt;Master Tuor nodded; the neophyte had been enlightened.&lt;/p&gt;
&lt;/div&gt;</description>
<pubDate>Mon, 20 May 2019 22:03:42 +0000</pubDate>
<dc:creator>wst_</dc:creator>
<og:image>https://sjc1.discourse-cdn.com/business5/uploads/rust_lang/original/2X/8/83e41956eccfd67ad6ff76f15a2c22e58db31d4f.svg</og:image>
<og:url>https://users.rust-lang.org/t/rust-koans/2408?_escaped_fragment_=</og:url>
<og:title>Rust Koans​​​​​</og:title>
<og:description>Obstacles For the eighth day in a row, Neophyte Col found himself standing before the Two Great Guards of the temple. They stood before the large entrance of the temple, clad in simple robes. Nevertheless, they were imposing, and feared. He strode toward the first guard, confident, and handed the parchment bearing his program. The First Guard read through it carefully. This step was but a formality; yesterday, he had only failed to gain the assent of the Second Guard. He was certain he had...</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://users.rust-lang.org/t/rust-koans/2408?_escaped_fragment_=</dc:identifier>
</item>
<item>
<title>WebGL Fluid Simulation</title>
<link>https://paveldogreat.github.io/WebGL-Fluid-Simulation/</link>
<guid isPermaLink="true" >https://paveldogreat.github.io/WebGL-Fluid-Simulation/</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://paveldogreat.github.io/WebGL-Fluid-Simulation/&quot;&gt;https://paveldogreat.github.io/WebGL-Fluid-Simulation/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=19963640&quot;&gt;https://news.ycombinator.com/item?id=19963640&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 770&lt;/p&gt;
&lt;p&gt;# Comments: 92&lt;/p&gt;
</description>
<pubDate>Mon, 20 May 2019 18:43:06 +0000</pubDate>
<dc:creator>joshdance</dc:creator>
<og:type>website</og:type>
<og:title>Webgl Fluid Simulation</og:title>
<og:description>A WebGL fluid simulation that works in mobile browsers.</og:description>
<og:url>https://paveldogreat.github.io/WebGL-Fluid-Simulation/</og:url>
<og:image>https://paveldogreat.github.io/WebGL-Fluid-Simulation/logo.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://paveldogreat.github.io/WebGL-Fluid-Simulation/</dc:identifier>
</item>
</channel>
</rss>