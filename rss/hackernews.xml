<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>RBS, Ruby’s new type signature language</title>
<link>https://developer.squareup.com/blog/the-state-of-ruby-3-typing</link>
<guid isPermaLink="true" >https://developer.squareup.com/blog/the-state-of-ruby-3-typing</guid>
<description>&lt;p&gt;We're pleased to announce Ruby 3’s new language for type signatures, RBS. One of the long-stated goals for Ruby 3 has been to add type checking tooling. After much discussion with Matz and the Ruby committer team, we decided to take the incremental step of adding a foundational type signature language called “RBS,” which will ship with Ruby 3 along with signatures for the stdlib. RBS command line tooling will also ship with Ruby 3, so you can generate signatures for your own Ruby code.&lt;/p&gt;
&lt;h2&gt;Background&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Typed versus untyped&lt;/em&gt; is a 30-year-old issue for programming languages. Typed languages are suitable for larger projects but are often less flexible. Untyped languages allow for rapid development, but scaling teams and codebases with them can be difficult.&lt;/p&gt;
&lt;p&gt;Programming language designers are aware of these tradeoffs, and try to incorporate features of the other to offset this. C# has a feature called &lt;em&gt;dynamic&lt;/em&gt; which delays type checking from compile time to runtime. Assigning and reading any type of value is allowed at compile time but may raise a runtime error to ensure safety. This is almost equivalent to untyped languages! How about the opposite? We see untyped languages type checking options (PHP, Python). We also have typed dialects of untyped languages that are used in production (TypeScript).&lt;/p&gt;
&lt;p&gt;Matz declared that Ruby 3 will support static type checking four years ago. After seeing multiple community developed type checkers, the Ruby committer team decided to build a foundation for the community to build type checkers on. Ruby 3 will ship with the ability to write type signatures for Ruby programs as well as built-in type signatures for the Ruby standard libraries. The standard type signature language will make type definitions in Ruby code portable between type checkers and encourage the community to write types for their gems and apps.&lt;/p&gt;
&lt;p&gt;We call the language and the library &lt;a href=&quot;https://github.com/ruby/rbs&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;RBS&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;What does RBS look like?&lt;/h2&gt;
&lt;p&gt;We defined a new language called RBS for type signatures for Ruby 3. The signatures are written in &lt;code&gt;.rbs&lt;/code&gt; files which is different from Ruby code. You can consider the &lt;code&gt;.rbs&lt;/code&gt; files are similar to &lt;code&gt;.d.ts&lt;/code&gt; files in TypeScript or &lt;code&gt;.h&lt;/code&gt; files in C/C++/ObjC. The benefit of having different files is it doesn't require changing Ruby code to start type checking. You can opt-in type checking safely without changing any part of your workflow.&lt;/p&gt;
&lt;p&gt;The type signatures for Ruby classes in RBS will look like this.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-ruby&quot;&gt;# sig/merchant.rbs

class Merchant
  attr_reader token: String
  attr_reader name: String
  attr_reader employees: Array[Employee]

  def initialize(token: String, name: String) -&amp;gt; void

  def each_employee: () { (Employee) -&amp;gt; void } -&amp;gt; void
                   | () -&amp;gt; Enumerator[Employee, void]
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;merchant.rbs&lt;/code&gt; file defines a class called &lt;code&gt;Merchant&lt;/code&gt;, and it helps the reader to understand the overview of the class.&lt;/p&gt;
&lt;p&gt;The class has three attributes &lt;code&gt;token&lt;/code&gt;, &lt;code&gt;name&lt;/code&gt;, and &lt;code&gt;employees&lt;/code&gt;. The type of &lt;code&gt;token&lt;/code&gt; and &lt;code&gt;name&lt;/code&gt; are &lt;code&gt;String&lt;/code&gt;. RBS also supports generic classes like &lt;code&gt;Array&lt;/code&gt; as we can see with the type of &lt;code&gt;employees&lt;/code&gt; attribute. It is an &lt;code&gt;Array&lt;/code&gt; of &lt;code&gt;Employee&lt;/code&gt;s.&lt;/p&gt;
&lt;p&gt;RBS also describes methods defined in the class and their types. The class defines the &lt;code&gt;initialize&lt;/code&gt; and &lt;code&gt;each_employee&lt;/code&gt; methods. The &lt;code&gt;initialize&lt;/code&gt; method requires &lt;code&gt;token&lt;/code&gt; and &lt;code&gt;name&lt;/code&gt; as keyword arguments. The &lt;code&gt;each_employee&lt;/code&gt; method accepts a block, or it returns an &lt;code&gt;Enumerator&lt;/code&gt; instance.&lt;/p&gt;
&lt;p&gt;RBS is a language to describe the structure of a Ruby program. It gives developers an overview of the code and what classes and methods are defined. The biggest benefit is that the type definition can be validated against both the implementation and its execution!&lt;/p&gt;
&lt;h2&gt;Key features in RBS&lt;/h2&gt;
&lt;p&gt;The development of a type system for a dynamically typed language like Ruby differs from ordinal statically typed languages. There's a lot of Ruby code in the world already, and a type system for Ruby should support as many of them as possible.&lt;/p&gt;
&lt;p&gt;This forces type system designers to make compromises on complexity and correctness for compatibility with existing code. We may have to introduce a type checker feature to support a pattern in existing Ruby code that may be incorrect otherwise. However, adding features makes the type system complicated and difficult to understand. So, we have focused on the most important code patterns to minimize the complexity of the type system.&lt;/p&gt;
&lt;p&gt;We can show two of the important characteristics of Ruby code and how we can give types for them.&lt;/p&gt;
&lt;h3&gt;Duck typing&lt;/h3&gt;
&lt;p&gt;Duck typing is a popular programming style among Rubyists that assumes an object will respond to a certain set of methods. The benefit of duck typing is flexibility. It doesn't require inheritance, mixins, or &lt;em&gt;implement&lt;/em&gt; declarations. If an object has a specific method, it works. The problem is that this assumption is hidden in the code, making the code difficult to read at a glance.&lt;/p&gt;
&lt;p&gt;To accomodate duck typing we introduced &lt;em&gt;interface types&lt;/em&gt;. An interface type represents a set of methods independent from concrete classes and modules.&lt;/p&gt;
&lt;p&gt;If we want to define a method which requires a specific set of methods we can write it with &lt;em&gt;interface types&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-ruby&quot;&gt;interface _Appendable
  # Requires `&amp;lt;&amp;lt;` operator which accepts `String` object.
  def &amp;lt;&amp;lt;: (String) -&amp;gt; void
end

# Passing `Array[String]` or `IO` works.
# Passing `TrueClass` or `Integer` doesn't work.
def append: (_Appendable) -&amp;gt; String
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is better than traditional duck typing as it defines an explicit interface a class or module is expected to implement and provides hints for documentation and editor plugins to expose the formerly implicit interface as solid actionable documentation.&lt;/p&gt;
&lt;h3&gt;Non-uniformity&lt;/h3&gt;
&lt;p&gt;Non-uniformity is another code pattern of letting an expression have different types of values. It's also popular in Ruby and introduced:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;When you define a local variable which stores instances of two different classes&lt;/li&gt;
&lt;li&gt;When you write an heterogeneous collection&lt;/li&gt;
&lt;li&gt;When you return two different types of value from a method&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;To accommodate for this RBS allows &lt;em&gt;union types&lt;/em&gt; and &lt;em&gt;method overloading&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-ruby&quot;&gt;class Comment
  # A comment can be made by a User or a Bot
  def author: () -&amp;gt; (User | Bot)

  # Two overloads with/without blocks
  def each_reply: () -&amp;gt; Enumerator[Comment, void]
                | { (Comment) -&amp;gt; void } -&amp;gt; void

  ...
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Union types and method overloading are commonly seen in Ruby code and standard libraries.&lt;/p&gt;
&lt;h2&gt;Ruby programming with types&lt;/h2&gt;
&lt;p&gt;We provide a language to write types. So, what can we do with RBS files?&lt;/p&gt;
&lt;p&gt;The following is a list of major benefits of having types. We can write types in RBS files, and the tools will help you writing Ruby code by:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Finding more bugs&lt;/strong&gt;: We can detect an undefined method call, an undefined constant reference, and more things a dynamic language might have missed.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Nil safety&lt;/strong&gt;: Type checkers based on RBS have a concept of &lt;em&gt;optional types&lt;/em&gt;, a type which allows the value to be &lt;code&gt;nil&lt;/code&gt;. Type checkers can check the possibility of an expression to be &lt;code&gt;nil&lt;/code&gt; and uncovers undefined &lt;code&gt;method&lt;/code&gt;(save!)' for nil:NilClass`.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Better IDE integration&lt;/strong&gt;: Parsing RBS files gives IDEs better understanding of the Ruby code. Method name completions run faster. On-the-fly error reporting detects more problems. Refactoring can be more reliable!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Guided duck typing&lt;/strong&gt;: Interface types can be used for duck typing. It helps the API users understand what they can do more precisely. This is a safer version of duck typing.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Of course none of this comes for free. How are we building tools for RBS to make work easier for developers to start using it?&lt;/p&gt;
&lt;p&gt;We developed static type checkers on the top of RBS. &lt;a href=&quot;https://github.com/soutaro/steep&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Steep&lt;/a&gt; is the static type checker implemented in Ruby and it is based on RBS. &lt;a href=&quot;https://github.com/sorbet/sorbet&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Sorbet&lt;/a&gt; is a static type checker which has its own type definition language called RBI, but has plans to support RBS in the future.&lt;/p&gt;
&lt;p&gt;We are also developing and working on additional tools to expand the RBS toolchain. RBS runtime type checker is one of the Ruby Google Summer of Code projects, which uses RBS type signatures to implement runtime type checking. &lt;a href=&quot;https://github.com/mame/type-profiler&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;type-profiler&lt;/a&gt; is an exploratory project to generate RBS files from Ruby source code based on a program analysis technique called Abstract Interpretation. There is also a &lt;a href=&quot;https://github.com/pocke/rbs_rails&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;project for Rails&lt;/a&gt; support.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;This post introduces RBS, a new part of Ruby 3 for types. I explained what you can write using RBS, the key concepts of the design of RBS, and the benefits and tools that come with RBS. You write type definitions for your Ruby code, and our tools will analyze your code. We know not all of Rubyists will switch to &lt;em&gt;typed&lt;/em&gt; Ruby, but we believe that it's worth trying with your code!&lt;/p&gt;
&lt;p&gt;At Square, we are testing RBS based type checking solutions and continuing to iterate on them. We are writing RBS files for some internal projects and type checking the code with Steep. We are building RBS generators from .proto files.&lt;/p&gt;
&lt;p&gt;I am looking forward to sharing the results of these experiments within a few months.&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 18:04:25 +0000</pubDate>
<dc:creator>mootrichard</dc:creator>
<og:url>https://developer.squareup.com/blog/the-state-of-ruby-3-typing/</og:url>
<og:type>article</og:type>
<og:title>The State of Ruby 3 Typing</og:title>
<og:description>Introducing RBS, Ruby’s new type signature language</og:description>
<og:image>https://images.ctfassets.net/1wryd5vd9xez/3l5IiLxclz6lwqcOi0YCy/84af8f9ac3d2b49e367a44d14e7b42b0/thecorner_heroimage_ruby3-typing_v1_20200729.png?w=1200&amp;h=630&amp;q=100&amp;fit=fill</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://developer.squareup.com/blog/the-state-of-ruby-3-typing/</dc:identifier>
</item>
<item>
<title>Teaching GPT-3 to Identify Nonsense</title>
<link>https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/</link>
<guid isPermaLink="true" >https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/</guid>
<description>&lt;p&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;attrlink url author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;a class=&quot;attrlink&quot; href=&quot;http://lacker.io/ai/2020/07/06/giving-gpt-3-a-turing-test.html&quot; target=&quot;_blank&quot; rel=&quot;noreferrer nofollow noopener&quot; data-target-href=&quot;http://lacker.io/ai/2020/07/06/giving-gpt-3-a-turing-test.html&quot;&gt;Giving GPT-3 a Turing Test&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;, Kevin Lacker found that GPT-3 does well answering simple factual questions like&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-ldquo&quot;&gt;“Who&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;was president of the United States in 1955?”, but also happily answered absurd questions without noticing they didn’t make any sense. &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: How many eyes does the sun have?&lt;br/&gt;A: The sun has one eye.&lt;/p&gt;
&lt;p&gt;Q: How many eyes does a blade of grass have?&lt;br/&gt;A: A blade of grass has one eye.&lt;/p&gt;
&lt;p&gt;Q: How do you sporgle a morgle?&lt;br/&gt;A: You sporgle a morgle by using a sporgle.&lt;/p&gt;
&lt;p&gt;Q: How many bonks are in a quoit?&lt;br/&gt;A: There are three bonks in a quoit.&lt;/p&gt;
&lt;p&gt;Q: How many rainbows does it take to jump from Hawaii to seventeen?&lt;br/&gt;A: It takes two rainbows to jump from Hawaii to seventeen.&lt;/p&gt;
&lt;p&gt;Q: Which colorless green ideas sleep furiously?&lt;br/&gt;A: Ideas that are colorless, green, and sleep furiously are the ideas of a sleep furiously.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;One of the trickiest things about GPT-3 is that &lt;a href=&quot;https://twitter.com/gwern/status/1284271608971100162&quot;&gt;you can prove that it knows how to do something, but you can’t prove that it doesn’t&lt;/a&gt;, since a slightly different prompt can get much better results.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Nick Cammarata of OpenAI&lt;/span&gt; &lt;span class=&quot;attrlink url author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;a class=&quot;attrlink&quot; href=&quot;https://twitter.com/nicklovescode/status/1284050958977130497&quot; target=&quot;_blank&quot; rel=&quot;noreferrer nofollow noopener&quot; data-target-href=&quot;https://twitter.com/nicklovescode/status/1284050958977130497&quot;&gt;responded to Kevin’s post on Twitter:&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;“it’s all about the prelude before the conversation. You need to tell it what the AI is and is not capable. It’s not trying to be right, it’s trying to complete what it thinks the AI would do :)”&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Nick changed Kevin’s prompt to add a prelude saying:&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-lsquo&quot;&gt;&lt;em&gt;‘This&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;em&gt;is a conversation between a human and a brilliant AI. If a question is&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-ldquo&quot;&gt;&lt;em&gt;“normal”&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;em&gt;the AI answers it. If the question is&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-ldquo&quot;&gt;&lt;em&gt;“nonsense”&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;em&gt;the AI says&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-ldquo&quot;&gt;&lt;em&gt;“yo&lt;/em&gt;&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;em&gt;be real”’&lt;/em&gt; and added two examples of nonsense questions:&lt;/span&gt;&lt;br/&gt;&lt;img class=&quot;css-9pa8cd jetpack-lazy-image&quot; draggable=&quot;true&quot; src=&quot;https://pbs.twimg.com/media/EdHdZT4UMAASHpN?format=png&amp;amp;name=small&amp;amp;is-pending-load=1&quot; alt=&quot;Image&quot; srcset=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&quot;/&gt;&lt;/p&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img class=&quot;css-9pa8cd&quot; draggable=&quot;true&quot; src=&quot;https://pbs.twimg.com/media/EdHdZT4UMAASHpN?format=png&amp;amp;name=small&quot; alt=&quot;Image&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;br/&gt;I was surprised this worked. When I asked Nick, he said he didn’t try many prompts, and it’s possible he just got lucky, so I wanted to test the limits of what Gwern is now calling &lt;a href=&quot;https://twitter.com/gwern/status/1285723744074452993&quot;&gt;Uncertainty Prompts&lt;/a&gt;.
&lt;p&gt;Using the same prompt as Nick above, I got the same answer for the first nonsense question:&lt;/p&gt;
&lt;p&gt;Q: How many bonks are in a quoit?&lt;br/&gt;A: yo be real&lt;/p&gt;
&lt;p&gt;Using ‘Show probabilities’ in the OpenAI Playground settings we can see how probable the model thought this next token was. In this case, it was pretty sure the question was nonsense, since ‘yo’, at 35.91% is twice as probable as the runner up ‘A’ at 17.50%&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;&lt;a href=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?ssl=1&quot;&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;269&quot; data-permalink=&quot;https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/screen-shot-2020-07-22-at-1-17-52-pm/&quot; data-orig-file=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?fit=359%2C395&amp;amp;ssl=1&quot; data-orig-size=&quot;359,395&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;Screen Shot 2020-07-22 at 1.17.52 PM&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?fit=273%2C300&amp;amp;ssl=1&quot; data-large-file=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?fit=359%2C395&amp;amp;ssl=1&quot; class=&quot;size-medium wp-image-269 aligncenter&quot; src=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?resize=273%2C300&amp;amp;ssl=1&quot; alt=&quot;&quot; width=&quot;273&quot; height=&quot;300&quot; srcset=&quot;https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?resize=273%2C300&amp;amp;ssl=1 273w, https://i1.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.17.52-PM.png?w=359&amp;amp;ssl=1 359w&quot; sizes=&quot;(max-width: 273px) 100vw, 273px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;You can see the runner by manually entering&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-lsquo&quot;&gt;‘A’,&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;while keeping the temperature at zero. It completes to&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-lsquo&quot;&gt;‘A:&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;A quoit has two bonks.’ Let’s look at the next question.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Q: Which colorless green ideas speak furiously&lt;/span&gt;&lt;a href=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?ssl=1&quot;&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;271&quot; data-permalink=&quot;https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/screen-shot-2020-07-22-at-1-19-33-pm/&quot; data-orig-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?fit=371%2C396&amp;amp;ssl=1&quot; data-orig-size=&quot;371,396&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;Screen Shot 2020-07-22 at 1.19.33 PM&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?fit=281%2C300&amp;amp;ssl=1&quot; data-large-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?fit=371%2C396&amp;amp;ssl=1&quot; class=&quot;size-medium wp-image-271 aligncenter&quot; src=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?resize=281%2C300&amp;amp;ssl=1&quot; alt=&quot;&quot; width=&quot;281&quot; height=&quot;300&quot; srcset=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?resize=281%2C300&amp;amp;ssl=1 281w, https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM.png?w=371&amp;amp;ssl=1 371w&quot; sizes=&quot;(max-width: 281px) 100vw, 281px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/a&gt;&lt;br/&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;In this case&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z h-lsquo&quot;&gt;‘yo&lt;/span&gt; &lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;be real’ wins by a narrower margin.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The ‘Temperature’ setting controls how likely the model is to choose what it thinks is the most probable next token each time. We set it high when we want creativity, but in this case we just want to see the most likely completion each time, so we’ll set it to 0.&lt;br/&gt;&lt;a href=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?ssl=1&quot;&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;273&quot; data-permalink=&quot;https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/screen-shot-2020-07-22-at-1-22-30-pm/&quot; data-orig-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?fit=569%2C377&amp;amp;ssl=1&quot; data-orig-size=&quot;569,377&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;Screen Shot 2020-07-22 at 1.22.30 PM&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?fit=300%2C199&amp;amp;ssl=1&quot; data-large-file=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?fit=569%2C377&amp;amp;ssl=1&quot; class=&quot;size-medium wp-image-273 aligncenter&quot; src=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?resize=300%2C199&amp;amp;ssl=1&quot; alt=&quot;&quot; width=&quot;300&quot; height=&quot;199&quot; srcset=&quot;https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?resize=300%2C199&amp;amp;ssl=1 300w, https://i0.wp.com/arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.22.30-PM.png?w=569&amp;amp;ssl=1 569w&quot; sizes=&quot;(max-width: 300px) 100vw, 300px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/a&gt;&lt;br/&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;To give it the best chance of succeeding, let’s provide a few more examples. Here’s the prompt we’ll use:&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-0-0&quot;&gt;This&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-1-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-2-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-3-0&quot;&gt;conversation&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-4-0&quot;&gt;between&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-5-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-6-0&quot;&gt;human&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-7-0&quot;&gt;and&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-8-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-9-0&quot;&gt;brilliant&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-10-0&quot;&gt;AI&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-11-0&quot;&gt;.&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-12-0&quot;&gt;If&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-13-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-14-0&quot;&gt;question&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-15-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-16-0&quot;&gt;“&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-17-0&quot;&gt;normal&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-18-0&quot;&gt;”&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-19-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-20-0&quot;&gt;AI&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-21-0&quot;&gt;answers&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-22-0&quot;&gt;it&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-23-0&quot;&gt;.&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-24-0&quot;&gt;If&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-25-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-26-0&quot;&gt;question&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-27-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-28-0&quot;&gt;“&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-29-0&quot;&gt;n&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-30-0&quot;&gt;onsense&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-31-0&quot;&gt;”&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-32-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-33-0&quot;&gt;AI&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-34-0&quot;&gt;says&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-35-0&quot;&gt;“&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-36-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-37-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-38-0&quot;&gt;real&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-39-0&quot;&gt;”&lt;/span&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-42-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-43-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-44-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-45-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-46-0&quot;&gt;human&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-47-0&quot;&gt;life&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-48-0&quot;&gt;expectancy&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-49-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-50-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-51-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-52-0&quot;&gt;S&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-53-0&quot;&gt;ates&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-54-0&quot;&gt;?&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-56-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-57-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-58-0&quot;&gt;Human&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-59-0&quot;&gt;life&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-60-0&quot;&gt;expectancy&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-61-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-62-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-63-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-64-0&quot;&gt;States&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-65-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-66-0&quot;&gt;78 years&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;

&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-71-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-72-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-73-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-74-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-75-0&quot;&gt;you&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-76-0&quot;&gt;sp&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-77-0&quot;&gt;ork&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-78-0&quot;&gt;le&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-79-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-80-0&quot;&gt;mor&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-81-0&quot;&gt;g&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-82-0&quot;&gt;le&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-83-0&quot;&gt;?&lt;br/&gt;&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-85-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-86-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-87-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-88-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-89-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-89-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-89-0&quot;&gt;real&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;

&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-92-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-93-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-94-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-95-0&quot;&gt;was&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-96-0&quot;&gt;president&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-97-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-98-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-99-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-100-0&quot;&gt;States&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-101-0&quot;&gt;before&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-102-0&quot;&gt;George&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-103-0&quot;&gt;W&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-104-0&quot;&gt;.&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-105-0&quot;&gt;Bush&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-106-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-108-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-109-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-110-0&quot;&gt;Bill&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-111-0&quot;&gt;Clinton&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-112-0&quot;&gt;was&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-113-0&quot;&gt;president&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-114-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-115-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-116-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-117-0&quot;&gt;States&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-118-0&quot;&gt;before&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-119-0&quot;&gt;George&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-120-0&quot;&gt;W&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-121-0&quot;&gt;.&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-122-0&quot;&gt;Bush&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-123-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;

&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-126-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-127-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-128-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-129-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-130-0&quot;&gt;rain&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-131-0&quot;&gt;bows&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-132-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-133-0&quot;&gt;it&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-134-0&quot;&gt;take&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-135-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-136-0&quot;&gt;jump&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-137-0&quot;&gt;from&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-138-0&quot;&gt;Hawaii&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-139-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-140-0&quot;&gt;seventeen&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-141-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b5lr8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b5lr8-143-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;b5lr8-144-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-145-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-146-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;b5lr8-147-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;1uqj9-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;1uqj9-0-0&quot;&gt;&lt;span data-offset-key=&quot;1uqj9-0-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1uqj9-1-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1uqj9-2-0&quot;&gt;What is the atomic number of gold?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;b3fap-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b3fap-0-0&quot;&gt;&lt;span data-offset-key=&quot;b3fap-0-0&quot;&gt;Q: Who wrote the Harry Potter books?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;859l9-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;859l9-0-0&quot;&gt;&lt;span data-offset-key=&quot;859l9-0-0&quot;&gt;A: J.K. Rowling&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;b18r8-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;b18r8-0-0&quot;&gt;&lt;span data-offset-key=&quot;b18r8-0-0&quot;&gt;Q: Where does frazzleboom rocket characteristic jive?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;ef8j0-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;ef8j0-0-0&quot;&gt;&lt;span data-offset-key=&quot;ef8j0-0-0&quot;&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;7qc6-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;7qc6-0-0&quot;&gt;&lt;span data-offset-key=&quot;7qc6-0-0&quot;&gt;Q: Are cows mammals?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;bgh5j-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;bgh5j-0-0&quot;&gt;&lt;span data-offset-key=&quot;bgh5j-0-0&quot;&gt;Q: What year was the Magna Carta signed?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;


&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;4lp9u-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;4lp9u-0-0&quot;&gt;&lt;span data-offset-key=&quot;4lp9u-0-0&quot;&gt;Q: What is the square root of banana?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;585qa-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;585qa-0-0&quot;&gt;&lt;span data-offset-key=&quot;585qa-0-0&quot;&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;94u6a-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;94u6a-0-0&quot;&gt;&lt;span data-offset-key=&quot;94u6a-0-0&quot;&gt;Q: What is a logarithm?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;4g51u-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;4g51u-0-0&quot;&gt;&lt;span data-offset-key=&quot;4g51u-0-0&quot;&gt;A: A quantity representing the power to which a fixed number (the base) must be raised to produce a given number.&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;23fh3-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;23fh3-0-0&quot;&gt;&lt;span data-offset-key=&quot;23fh3-0-0&quot;&gt;Q: Where do rocks learn to play piano?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;c3r1e-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;c3r1e-0-0&quot;&gt;&lt;span data-offset-key=&quot;c3r1e-0-0&quot;&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;ffe68-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;ffe68-0-0&quot;&gt;&lt;span data-offset-key=&quot;ffe68-0-0&quot;&gt;Q: What is the 3rd planet from the sun?&lt;/span&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/blockquote&gt;
&lt;div&gt;We’ll add each question we ask to the end of this prompt, then replace it with the next question once we have our answer. For each answer, I’ll include all the different probabilities for the first word. I’ve mostly excluded math questions, which GPT-3 generally struggles with.&lt;/div&gt;
&lt;div&gt;For the sake of this post I’m more interested in whether GPT-3 correctly identifies a question as sensible than whether it answers correctly, but we’ll track both to see if there are any interesting correlations.&lt;/div&gt;

&lt;div&gt;
&lt;h2&gt;Sensible Questions&lt;/h2&gt;
&lt;h3&gt;&lt;strong&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Common factual questions with simple answers&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3h20g-330-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;3h20g-331-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-332-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-333-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-334-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-335-0&quot;&gt;capital&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-336-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-337-0&quot;&gt;California&lt;/span&gt;&lt;span data-offset-key=&quot;3h20g-338-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3h20g-340-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;3h20g-341-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3h20g-342-0&quot;&gt;Sacramento&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Sacramento = 71.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 18.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;California = 2.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;San = 1.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Los = 1.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 0.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.33%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Capital = 0.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Berkeley = 0.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Washington = 0.14%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;eo6ke-330-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;eo6ke-331-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-332-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-333-0&quot;&gt;was&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-334-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-335-0&quot;&gt;40&lt;/span&gt;&lt;span data-offset-key=&quot;eo6ke-336-0&quot;&gt;th&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-337-0&quot;&gt;president&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-338-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-339-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-340-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-341-0&quot;&gt;States&lt;/span&gt;&lt;span data-offset-key=&quot;eo6ke-342-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;eo6ke-344-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;eo6ke-345-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-346-0&quot;&gt;Ronald&lt;/span&gt; &lt;span data-offset-key=&quot;eo6ke-347-0&quot;&gt;Reagan&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Ronald = 43.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Gerald = 14.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Jimmy = 14.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Richard = 6.45%&lt;/li&gt;
&lt;li&gt;George = 5.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Bill = 2.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Barack = 1.85%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;James = 0.48%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Reagan = 0.47%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;djuu4-330-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-331-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-332-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-333-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-334-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-335-0&quot;&gt;capital&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-336-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-337-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-338-0&quot;&gt;United&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-339-0&quot;&gt;States&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-340-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-341-0&quot;&gt;America&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-342-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;djuu4-344-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-345-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-346-0&quot;&gt;Washington&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-347-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;djuu4-348-0&quot;&gt;D&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-349-0&quot;&gt;.&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-350-0&quot;&gt;C&lt;/span&gt;&lt;span data-offset-key=&quot;djuu4-351-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Washington = 73.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 21.81%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.12%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 0.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Capital = 0.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;DC = 0.19%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Wash = 0.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;United = 0.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;D = 0.08%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;4m2mc-330-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;4m2mc-331-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-332-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-333-0&quot;&gt;was&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-334-0&quot;&gt;Alexander&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-335-0&quot;&gt;Hamilton&lt;/span&gt;&lt;span data-offset-key=&quot;4m2mc-336-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;4m2mc-338-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;4m2mc-339-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-340-0&quot;&gt;Alexander&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-341-0&quot;&gt;Hamilton&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-342-0&quot;&gt;was&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-343-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-344-0&quot;&gt;first&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-345-0&quot;&gt;Secretary&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-346-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-347-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;4m2mc-348-0&quot;&gt;Treasury&lt;/span&gt;&lt;span data-offset-key=&quot;4m2mc-349-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Alexander = 59.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 7.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 5.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;He = 5.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;An = 3.81%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.45%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Hamilton = 0.85%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 0.71%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;\n = 0.57%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3g4i9-330-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;3g4i9-331-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-332-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-333-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-334-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-335-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-336-0&quot;&gt;hard&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-337-0&quot;&gt;drive&lt;/span&gt; &lt;span data-offset-key=&quot;3g4i9-338-0&quot;&gt;work&lt;/span&gt;&lt;span data-offset-key=&quot;3g4i9-339-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 30.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 17.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 5.55%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 5.06%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Hard = 2.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;By = 1.89%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Comput = 1.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;With = 1.16%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.06%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;Uhoh, our first mistake, and it was pretty confident this question was nonsense, assigning twice the probability to ‘yo be real’ than the runner up. Entering ‘A’ manually gives us the completion: “&lt;span data-offset-key=&quot;erroh-341-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;erroh-342-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-343-0&quot;&gt;A&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-344-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-345-0&quot;&gt;hard&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-346-0&quot;&gt;drive&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-347-0&quot;&gt;works&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-348-0&quot;&gt;by&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-349-0&quot;&gt;using&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-350-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-351-0&quot;&gt;magnetic&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-352-0&quot;&gt;field&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-353-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-354-0&quot;&gt;store&lt;/span&gt; &lt;span data-offset-key=&quot;erroh-355-0&quot;&gt;data&lt;/span&gt;&lt;span data-offset-key=&quot;erroh-356-0&quot;&gt;.”&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Reviewing the examples in our prompt, I now notice that both questions starting with ‘How’ are nonsense questions, so we’re accidentally telling the model that the word ‘how’ means a question is more likely to be nonsense. Let’s add these to the prompt:&lt;/div&gt;
&lt;div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;c1i48-0-0&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;c1i48-0-0&quot;&gt;&lt;span data-offset-key=&quot;c1i48-0-0&quot;&gt;Q: How do you change a tire?&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;c1i48-0-0&quot;&gt;&lt;span&gt;A: Use a jack to elevate the car, then a wrench to remove the bolts from the flat tire, before putting on the spare tire.&lt;/span&gt;&lt;/div&gt;

&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;c1i48-0-0&quot;&gt;&lt;span&gt;Q: How does a radio work?&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;c1i48-0-0&quot;&gt;&lt;span&gt;A: A radio receives electromagnetic signals encoding things such as music or voices.&lt;/span&gt;&lt;/div&gt;
&lt;div data-offset-key=&quot;c1i48-0-0&quot;&gt;&lt;span data-offset-key=&quot;5gc9q-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-400-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-401-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-402-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-403-0&quot;&gt;hard&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-404-0&quot;&gt;drive&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-405-0&quot;&gt;work&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5gc9q-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-400-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-401-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-402-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-403-0&quot;&gt;hard&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-404-0&quot;&gt;drive&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-405-0&quot;&gt;work&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5gc9q-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-410-0&quot;&gt;A&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-411-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-412-0&quot;&gt;hard&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-413-0&quot;&gt;drive&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-414-0&quot;&gt;stores&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-415-0&quot;&gt;data&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-416-0&quot;&gt;on&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-417-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-418-0&quot;&gt;spinning&lt;/span&gt; &lt;span data-offset-key=&quot;5gc9q-419-0&quot;&gt;disk&lt;/span&gt;&lt;span data-offset-key=&quot;5gc9q-420-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;A = 51.76%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 8.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Comput = 3.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 3.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Computer = 3.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Data = 2.50%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Hard = 2.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Information = 1.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Inside = 1.02%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.01%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;That fixed it! And ‘yo’ isn’t even in the top ten most probable anymore. Let’s keep these additional examples in our prompt going forward.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;b3csq-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;b3csq-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-399-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-400-0&quot;&gt;year&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-401-0&quot;&gt;did&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-402-0&quot;&gt;Steve&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-403-0&quot;&gt;Jobs&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-404-0&quot;&gt;and&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-405-0&quot;&gt;Steve&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-406-0&quot;&gt;W&lt;/span&gt;&lt;span data-offset-key=&quot;b3csq-407-0&quot;&gt;oz&lt;/span&gt;&lt;span data-offset-key=&quot;b3csq-408-0&quot;&gt;ni&lt;/span&gt;&lt;span data-offset-key=&quot;b3csq-409-0&quot;&gt;ak&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-410-0&quot;&gt;found&lt;/span&gt; &lt;span data-offset-key=&quot;b3csq-411-0&quot;&gt;Apple&lt;/span&gt;&lt;span data-offset-key=&quot;b3csq-412-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;1976 = 88.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1977 = 1.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Apple = 1.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;In = 1.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1975 = 0.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 0.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Steve = 0.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;April = 0.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1976 = 0.19%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2q2p8-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;2q2p8-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-399-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-400-0&quot;&gt;invented&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-402-0&quot;&gt;light&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-403-0&quot;&gt;bulb&lt;/span&gt;&lt;span data-offset-key=&quot;2q2p8-404-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2q2p8-406-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;2q2p8-407-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-408-0&quot;&gt;Thomas&lt;/span&gt; &lt;span data-offset-key=&quot;2q2p8-409-0&quot;&gt;Edison&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div class=&quot;popup-header&quot;&gt;
&lt;div class=&quot;top10&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Thomas = 90.79%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Sir = 2.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.92%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Joseph = 0.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Edison = 0.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;In = 0.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Alexander = 0.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nikola = 0.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Albert = 0.21%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;edak3-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;edak3-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-399-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-400-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-402-0&quot;&gt;age&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-403-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-404-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-405-0&quot;&gt;universe&lt;/span&gt;&lt;span data-offset-key=&quot;edak3-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;edak3-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;edak3-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-410-0&quot;&gt;13&lt;/span&gt;&lt;span data-offset-key=&quot;edak3-411-0&quot;&gt;.&lt;/span&gt;&lt;span data-offset-key=&quot;edak3-412-0&quot;&gt;7&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-413-0&quot;&gt;billion&lt;/span&gt; &lt;span data-offset-key=&quot;edak3-414-0&quot;&gt;years&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;13 = 29.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 25.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 18.36%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;14 = 3.85%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Approximately = 1.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;About = 1.48%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;4 = 0.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;15 = 0.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;12 = 0.60%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;ch3pp-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;ch3pp-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-400-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-401-0&quot;&gt;paper&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-402-0&quot;&gt;made&lt;/span&gt;&lt;span data-offset-key=&quot;ch3pp-403-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;ch3pp-405-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;ch3pp-406-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-407-0&quot;&gt;Paper&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-408-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-409-0&quot;&gt;made&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-410-0&quot;&gt;from&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-411-0&quot;&gt;wood&lt;/span&gt; &lt;span data-offset-key=&quot;ch3pp-412-0&quot;&gt;pulp&lt;/span&gt;&lt;span data-offset-key=&quot;ch3pp-413-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Paper = 50.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Trees = 8.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Pul = 5.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;To = 2.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;paper = 1.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;By = 1.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.76%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Wood = 1.65%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;d63te-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-398-0&quot;&gt;:&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-399-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-400-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-402-0&quot;&gt;long&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-403-0&quot;&gt;itude&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-404-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-405-0&quot;&gt;Cairo&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-406-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-407-0&quot;&gt;Egypt&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;d63te-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-412-0&quot;&gt;30&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-413-0&quot;&gt;degrees&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-414-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-415-0&quot;&gt;0&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-416-0&quot;&gt;minutes&lt;/span&gt;&lt;span data-offset-key=&quot;d63te-417-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-418-0&quot;&gt;0&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-419-0&quot;&gt;seconds&lt;/span&gt; &lt;span data-offset-key=&quot;d63te-420-0&quot;&gt;east&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;30 = 56.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;31 = 8.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;29 = 7.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;28 = 4.54%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;32 = 4.07%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;27 = 3.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;30 = 2.01%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;33 = 1.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;25 = 1.13%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.06%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;This is close, but wrong – the latitude is 30.0444 and the longitude is 31.233334. I’m guessing this is because longitude is typically expressed as a pair with latitude and latitude comes first. Testing by replacing Cairo with San Francisco confirms this – it gives us the latitude rather than the longitude.&lt;/div&gt;
&lt;div&gt;9/10 questions were correctly identified as sensible, and once we improved our prompt it got 10/10, and 9/10 of the answers were factually correct. &lt;span&gt;Pretty good!&lt;/span&gt;&lt;/div&gt;
&lt;h3&gt;&lt;strong&gt;Less common and more complicated questions&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3arj9-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;3arj9-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-399-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;3arj9-400-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-402-0&quot;&gt;address&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-403-0&quot;&gt;for&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-404-0&quot;&gt;San&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-405-0&quot;&gt;Francisco&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-406-0&quot;&gt;City&lt;/span&gt; &lt;span data-offset-key=&quot;3arj9-407-0&quot;&gt;Hall&lt;/span&gt;&lt;span data-offset-key=&quot;3arj9-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 36.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;San = 16.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 7.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 4.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;\n = 2.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;City = 1.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;( = 1.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 1.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 0.98%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 0.85%&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;22h7d-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-401-0&quot;&gt;Pizza&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-402-0&quot;&gt;H&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-403-0&quot;&gt;uts&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-404-0&quot;&gt;are&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-405-0&quot;&gt;there&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-406-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-407-0&quot;&gt;California&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;22h7d-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-412-0&quot;&gt;There&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-413-0&quot;&gt;are&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-414-0&quot;&gt;over&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-415-0&quot;&gt;300&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-416-0&quot;&gt;Pizza&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-417-0&quot;&gt;H&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-418-0&quot;&gt;uts&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-419-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;22h7d-420-0&quot;&gt;California&lt;/span&gt;&lt;span data-offset-key=&quot;22h7d-421-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;There = 24.02%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 11.71%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 3.25%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 3.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 1.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;5 = 1.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;6 = 1.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;4 = 1.44%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;The precise answer is apparently 525, which is indeed over 300.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;bpbgc-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;bpbgc-398-0&quot;&gt;:&lt;/span&gt;&lt;span data-offset-key=&quot;bpbgc-399-0&quot;&gt;Should&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-400-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-401-0&quot;&gt;worry&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-402-0&quot;&gt;about&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-404-0&quot;&gt;ultraviolet&lt;/span&gt; &lt;span data-offset-key=&quot;bpbgc-405-0&quot;&gt;catastrophe&lt;/span&gt;&lt;span data-offset-key=&quot;bpbgc-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;No = 25.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 8.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 7.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 6.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 5.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 2.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 1.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 1.63%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;

&lt;div&gt;&lt;span data-offset-key=&quot;6qkv1-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;6qkv1-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-399-0&quot;&gt;Should&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-400-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-401-0&quot;&gt;U&lt;/span&gt;&lt;span data-offset-key=&quot;6qkv1-402-0&quot;&gt;.&lt;/span&gt;&lt;span data-offset-key=&quot;6qkv1-403-0&quot;&gt;S&lt;/span&gt;&lt;span data-offset-key=&quot;6qkv1-404-0&quot;&gt;.&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-405-0&quot;&gt;eliminate&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-406-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-407-0&quot;&gt;national&lt;/span&gt; &lt;span data-offset-key=&quot;6qkv1-408-0&quot;&gt;debt&lt;/span&gt;&lt;span data-offset-key=&quot;6qkv1-409-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 24.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 17.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 10.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 3.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;This = 3.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Elim = 2.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.58%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 2.42%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 2.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.77%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;¯\_(ツ)_/¯&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1e0tj-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1e0tj-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-399-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-400-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-401-0&quot;&gt;person&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-402-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-403-0&quot;&gt;motivated&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-404-0&quot;&gt;by&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-405-0&quot;&gt;desires&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-406-0&quot;&gt;that&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-407-0&quot;&gt;are&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-408-0&quot;&gt;not&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-409-0&quot;&gt;ultimately&lt;/span&gt; &lt;span data-offset-key=&quot;1e0tj-410-0&quot;&gt;selfish&lt;/span&gt;&lt;span data-offset-key=&quot;1e0tj-411-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 51.19%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 5.07%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.55%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 2.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;People = 2.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 2.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 1.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mot = 1.45%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.20%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;c7ufq-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;c7ufq-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-399-0&quot;&gt;Do&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-400-0&quot;&gt;people&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-401-0&quot;&gt;really&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-402-0&quot;&gt;have&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-403-0&quot;&gt;conscious&lt;/span&gt; &lt;span data-offset-key=&quot;c7ufq-404-0&quot;&gt;experience&lt;/span&gt;&lt;span data-offset-key=&quot;c7ufq-405-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 61.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 3.79%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Conscious = 2.86%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;People = 2.16%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 2.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 1.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 1.23%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1hl9p-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1hl9p-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-399-0&quot;&gt;Why&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-401-0&quot;&gt;humans&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-402-0&quot;&gt;need&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-403-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-404-0&quot;&gt;sleep&lt;/span&gt;&lt;span data-offset-key=&quot;1hl9p-405-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1hl9p-407-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;1hl9p-408-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-409-0&quot;&gt;Humans&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-410-0&quot;&gt;need&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-411-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-412-0&quot;&gt;sleep&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-413-0&quot;&gt;because&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-414-0&quot;&gt;it&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-415-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-416-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-417-0&quot;&gt;time&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-418-0&quot;&gt;when&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-419-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-420-0&quot;&gt;body&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-421-0&quot;&gt;and&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-422-0&quot;&gt;brain&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-423-0&quot;&gt;can&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-424-0&quot;&gt;rest&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-425-0&quot;&gt;and&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-426-0&quot;&gt;repair&lt;/span&gt; &lt;span data-offset-key=&quot;1hl9p-427-0&quot;&gt;themselves&lt;/span&gt;&lt;span data-offset-key=&quot;1hl9p-428-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Humans = 22.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Sleep = 14.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;To = 11.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Because = 4.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Sleeping = 3.61%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 2.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;We = 2.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Human = 1.76%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2d1lf-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;2d1lf-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-399-0&quot;&gt;Why&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-401-0&quot;&gt;so&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-402-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-403-0&quot;&gt;people&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-404-0&quot;&gt;still&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-405-0&quot;&gt;think&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-406-0&quot;&gt;communism&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-407-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-408-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-409-0&quot;&gt;good&lt;/span&gt; &lt;span data-offset-key=&quot;2d1lf-410-0&quot;&gt;idea&lt;/span&gt;&lt;span data-offset-key=&quot;2d1lf-411-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 25.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Communism = 11.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Because = 9.92%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 4.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 3.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 3.02%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;People = 2.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 2.43%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 2.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;They = 1.38%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;Wrong. It wasn’t a near miss either, with more than twice the probability than the runner up. Don’t be sad GPT-3; this confuses a lot of people.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;989lt-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;989lt-398-0&quot;&gt;:&lt;/span&gt;&lt;span data-offset-key=&quot;989lt-399-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-400-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-402-0&quot;&gt;best&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-403-0&quot;&gt;form&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-404-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-405-0&quot;&gt;government&lt;/span&gt;&lt;span data-offset-key=&quot;989lt-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;989lt-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;989lt-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;989lt-410-0&quot;&gt;Democracy&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Democracy = 26.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 13.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 5.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Democratic = 4.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Government = 4.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mon = 3.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 2.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Republic = 2.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Representative = 1.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;democracy = 1.37%&lt;/li&gt;
&lt;/ul&gt;&lt;div&gt;&lt;span data-offset-key=&quot;1edl1-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1edl1-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1edl1-399-0&quot;&gt;Should&lt;/span&gt; &lt;span data-offset-key=&quot;1edl1-400-0&quot;&gt;advertising&lt;/span&gt; &lt;span data-offset-key=&quot;1edl1-401-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;1edl1-402-0&quot;&gt;outlawed&lt;/span&gt;&lt;span data-offset-key=&quot;1edl1-403-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;No = 26.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 14.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Advertising = 7.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 4.93%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 3.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 3.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 2.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 2.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 2.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.76%&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;8/10 questions were correctly identified as sensible. Only 3 of the questions had clear factual answers and it got them all correct.&lt;/p&gt;
&lt;/div&gt;
&lt;h3&gt;&lt;strong&gt;Sensible but physically impossible questions&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dm767-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;dm767-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-398-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-399-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-400-0&quot;&gt;human&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-401-0&quot;&gt;ride&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-402-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;dm767-403-0&quot;&gt;mouse&lt;/span&gt;&lt;span data-offset-key=&quot;dm767-404-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 40.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 14.13%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 6.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Humans = 5.89%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 4.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.61%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.24%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 2.04%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 1.44%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5tahn-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;5tahn-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-398-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-399-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-400-0&quot;&gt;human&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-401-0&quot;&gt;swallow&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-402-0&quot;&gt;an&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-403-0&quot;&gt;elephant&lt;/span&gt; &lt;span data-offset-key=&quot;5tahn-404-0&quot;&gt;whole&lt;/span&gt;&lt;span data-offset-key=&quot;5tahn-405-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;No = 32.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 28.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 4.50%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Humans = 3.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 3.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 2.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.37%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;c7ovh-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-398-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-399-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-400-0&quot;&gt;jump&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-401-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-402-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-403-0&quot;&gt;moon&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-404-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;c7ovh-406-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-407-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-408-0&quot;&gt;No&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-409-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-410-0&quot;&gt;you&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-411-0&quot;&gt;can&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-412-0&quot;&gt;‘t&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-413-0&quot;&gt;jump&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-414-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-415-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;c7ovh-416-0&quot;&gt;moon&lt;/span&gt;&lt;span data-offset-key=&quot;c7ovh-417-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;No = 38.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 19.54%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 5.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.90%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 2.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 2.13%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 2.06%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 1.60%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.17%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;fillo-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;fillo-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-398-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-399-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-400-0&quot;&gt;bulldo&lt;/span&gt;&lt;span data-offset-key=&quot;fillo-401-0&quot;&gt;zer&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-402-0&quot;&gt;fit&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-403-0&quot;&gt;inside&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-404-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;fillo-405-0&quot;&gt;bread&lt;/span&gt;&lt;span data-offset-key=&quot;fillo-406-0&quot;&gt;box&lt;/span&gt;&lt;span data-offset-key=&quot;fillo-407-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 29.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 22.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 11.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 5.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 4.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 3.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 1.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.26%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;68o78-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;68o78-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;68o78-398-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;68o78-399-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;68o78-400-0&quot;&gt;walk&lt;/span&gt; &lt;span data-offset-key=&quot;68o78-401-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;68o78-402-0&quot;&gt;mars&lt;/span&gt;&lt;span data-offset-key=&quot;68o78-403-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 31.29%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 26.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mars = 4.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 3.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 3.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 2.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 2.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 1.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Not = 1.42%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;It’s pretty bad at telling whether something is physically impossible (at least with this prompt), but it doesn’t label the question as nonsense. 6/6 were correctly identified as sensible, but 4/6 were factually wrong.&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;
&lt;h3&gt;&lt;strong&gt;&lt;span&gt;Sensible but unknowable questions&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1qbok-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-398-0&quot;&gt;:&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-399-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-400-0&quot;&gt;’&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-401-0&quot;&gt;s&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-402-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-403-0&quot;&gt;name&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-404-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-405-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-406-0&quot;&gt;person&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-407-0&quot;&gt;who&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-408-0&quot;&gt;killed&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-409-0&quot;&gt;Jimmy&lt;/span&gt; &lt;span data-offset-key=&quot;1qbok-410-0&quot;&gt;Hoff&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-411-0&quot;&gt;a&lt;/span&gt;&lt;span data-offset-key=&quot;1qbok-412-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 29.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;James = 8.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Frank = 3.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;John = 3.58%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Richard = 3.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Robert = 2.04%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Jimmy = 1.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Salv = 1.49%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Ray = 1.36%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;86l8v-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;86l8v-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;86l8v-399-0&quot;&gt;Will it rain in San Francisco on July 5 2025?&lt;/span&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 15.96%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 11.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 9.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 5.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 5.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 4.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.57%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Rain = 2.49%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 1.85%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 1.66%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5hf1u-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;5hf1u-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-398-0&quot;&gt;Is&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-399-0&quot;&gt;there&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-400-0&quot;&gt;intelligent&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-401-0&quot;&gt;life&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-402-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-404-0&quot;&gt;universe&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-405-0&quot;&gt;other&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-406-0&quot;&gt;than&lt;/span&gt; &lt;span data-offset-key=&quot;5hf1u-407-0&quot;&gt;humans&lt;/span&gt;&lt;span data-offset-key=&quot;5hf1u-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Yes = 34.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 11.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 7.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 3.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 2.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.50%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Probably = 1.06%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;p&gt;&lt;span data-offset-key=&quot;qfn4-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;qfn4-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-398-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-399-0&quot;&gt;have&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-400-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-401-0&quot;&gt;got&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-402-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-403-0&quot;&gt;my&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-404-0&quot;&gt;pocket&lt;/span&gt;&lt;span data-offset-key=&quot;qfn4-405-0&quot;&gt;?&lt;br/&gt;&lt;/span&gt;&lt;span data-offset-key=&quot;qfn4-407-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;qfn4-408-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-409-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-410-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;qfn4-411-0&quot;&gt;real&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 25.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 21.55%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 5.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 3.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nothing = 3.30%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;If = 2.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.91%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;a = 1.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Your = 1.64%&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Almost a tossup. ‘A’ completes to ‘&lt;span data-offset-key=&quot;72gof-409-0&quot;&gt;A&lt;/span&gt; &lt;span data-offset-key=&quot;72gof-410-0&quot;&gt;hand’. Gollum should have tried that.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span data-offset-key=&quot;bemo1-396-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;bemo1-397-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;bemo1-398-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;bemo1-399-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;bemo1-400-0&quot;&gt;Larry&lt;/span&gt; &lt;span data-offset-key=&quot;bemo1-401-0&quot;&gt;Page&lt;/span&gt;&lt;span data-offset-key=&quot;bemo1-402-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;bemo1-403-0&quot;&gt;g&lt;/span&gt;&lt;span data-offset-key=&quot;bemo1-404-0&quot;&gt;mail&lt;/span&gt; &lt;span data-offset-key=&quot;bemo1-405-0&quot;&gt;password&lt;/span&gt;&lt;span data-offset-key=&quot;bemo1-406-0&quot;&gt;?&lt;br/&gt;&lt;/span&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 22.79%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Larry = 16.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Google = 5.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;google = 2.60%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;q = 1.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;l = 1.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Q = 1.19%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;” = 1.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;[ = 1.07%&lt;/li&gt;
&lt;/ul&gt;&lt;div&gt;Q: What’s buried at GPS coordinates &lt;span id=&quot;dms-lat&quot; class=&quot;coordinatetxt&quot;&gt;13° 34′ 54.9156” S&lt;/span&gt;&lt;span id=&quot;dms-lng&quot; class=&quot;coordinatetxt&quot;&gt;55° 52′ 11.2764” W?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 35.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 13.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 5.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nothing = 3.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;This = 2.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;An = 1.29%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.01%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;(Just for fun, inserting ‘A’ completes to “&lt;span data-offset-key=&quot;a0h6i-428-0&quot;&gt;A&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-429-0&quot;&gt;time&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-430-0&quot;&gt;capsule&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-431-0&quot;&gt;containing&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-432-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-433-0&quot;&gt;copy&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-434-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-435-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-436-0&quot;&gt;book&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-437-0&quot;&gt;“&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-438-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-439-0&quot;&gt;Hitch&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-440-0&quot;&gt;h&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-441-0&quot;&gt;iker&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-442-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-443-0&quot;&gt;Guide&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-444-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-445-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-446-0&quot;&gt;Galaxy&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-447-0&quot;&gt;“&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-448-0&quot;&gt;by&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-449-0&quot;&gt;Douglas&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-450-0&quot;&gt;Adams&lt;/span&gt;&lt;span data-offset-key=&quot;a0h6i-451-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-452-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;a0h6i-453-0&quot;&gt;towel”)&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;agjq7-435-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-436-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-437-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-438-0&quot;&gt;will&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-439-0&quot;&gt;win&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-440-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-441-0&quot;&gt;world&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-442-0&quot;&gt;series&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-443-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-444-0&quot;&gt;20&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-445-0&quot;&gt;55&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-446-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;agjq7-448-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-449-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-450-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-451-0&quot;&gt;New&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-452-0&quot;&gt;York&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-453-0&quot;&gt;Yankees&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-454-0&quot;&gt;will&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-455-0&quot;&gt;win&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-456-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-457-0&quot;&gt;World&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-458-0&quot;&gt;Series&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-459-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;agjq7-460-0&quot;&gt;20&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-461-0&quot;&gt;55&lt;/span&gt;&lt;span data-offset-key=&quot;agjq7-462-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 43.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Boston = 6.29%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;San = 4.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;New = 3.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Los = 2.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Houston = 1.89%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Detroit = 1.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Chicago = 1.61%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.24%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dg6ap-415-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;dg6ap-416-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-417-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-418-0&quot;&gt;did&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-419-0&quot;&gt;Cle&lt;/span&gt;&lt;span data-offset-key=&quot;dg6ap-420-0&quot;&gt;op&lt;/span&gt;&lt;span data-offset-key=&quot;dg6ap-421-0&quot;&gt;atra&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-422-0&quot;&gt;have&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-423-0&quot;&gt;for&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-424-0&quot;&gt;breakfast&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-425-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-426-0&quot;&gt;day&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-427-0&quot;&gt;she&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-428-0&quot;&gt;met&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-429-0&quot;&gt;Julius&lt;/span&gt; &lt;span data-offset-key=&quot;dg6ap-430-0&quot;&gt;Caesar&lt;/span&gt;&lt;span data-offset-key=&quot;dg6ap-431-0&quot;&gt;?&lt;br/&gt;&lt;/span&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;o = 60.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 6.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Eggs = 4.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;She = 3.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Toast = 2.19%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Cle = 1.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Fruit = 0.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Grape = 0.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;An = 0.59%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5rrv9-415-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-416-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-417-0&quot;&gt;To&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-418-0&quot;&gt;what&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-419-0&quot;&gt;age&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-420-0&quot;&gt;will&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-421-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-422-0&quot;&gt;Queen&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-423-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-424-0&quot;&gt;England&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-425-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-426-0&quot;&gt;Elizabeth&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-427-0&quot;&gt;II&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-428-0&quot;&gt;live&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-429-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;5rrv9-431-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-432-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-433-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-434-0&quot;&gt;Queen&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-435-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-436-0&quot;&gt;England&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-437-0&quot;&gt;,&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-438-0&quot;&gt;Elizabeth&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-439-0&quot;&gt;II&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-440-0&quot;&gt;will&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-441-0&quot;&gt;live&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-442-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-443-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-444-0&quot;&gt;about&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-445-0&quot;&gt;100&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-446-0&quot;&gt;years&lt;/span&gt; &lt;span data-offset-key=&quot;5rrv9-447-0&quot;&gt;old&lt;/span&gt;&lt;span data-offset-key=&quot;5rrv9-448-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 21.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;She = 14.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Elizabeth = 6.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Queen = 4.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 2.76%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;86 = 2.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;90 = 2.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;87 = 2.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;82 = 2.22%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;85 = 2.15%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;So 5/10 unknowable questions are incorrectly interpreted as nonsense. These questions &lt;em&gt;are&lt;/em&gt; nonsense only in so far as that there’s no justifiable correct answer. It would be an interesting experiment to see if you can teach the model the difference between ignorance and nonsense.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;&lt;strong&gt;Nonsense questions&lt;/strong&gt;&lt;/h2&gt;
&lt;div&gt;
&lt;h3&gt;&lt;strong&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Questions that are a string of random numbers and letters&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;a9hu2-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;a9hu2-399-0&quot;&gt;293&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-400-0&quot;&gt;e&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-401-0&quot;&gt;23&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-402-0&quot;&gt;h&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-403-0&quot;&gt;j&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-404-0&quot;&gt;9&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-405-0&quot;&gt;32&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-406-0&quot;&gt;hu&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-407-0&quot;&gt;3&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-408-0&quot;&gt;r&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-409-0&quot;&gt;hu&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-410-0&quot;&gt;4&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-411-0&quot;&gt;r&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-412-0&quot;&gt;4&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-413-0&quot;&gt;iu&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-414-0&quot;&gt;3&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-415-0&quot;&gt;r&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-416-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;a9hu2-418-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;a9hu2-419-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;a9hu2-420-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;a9hu2-421-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;a9hu2-422-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 83.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;293 = 1.49%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 0.73%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 0.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 0.55%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.24%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.24%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;This = 0.24%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2bnco-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2bnco-399-0&quot;&gt;i&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-400-0&quot;&gt;43&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-401-0&quot;&gt;ii&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-402-0&quot;&gt;u&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-403-0&quot;&gt;30&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-404-0&quot;&gt;98&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-405-0&quot;&gt;w&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-406-0&quot;&gt;09&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-407-0&quot;&gt;fw&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-408-0&quot;&gt;j&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-409-0&quot;&gt;ij&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-410-0&quot;&gt;4&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-411-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2bnco-413-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;2bnco-414-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2bnco-415-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;2bnco-416-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;2bnco-417-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 64.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;i = 4.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 1.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.90%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 0.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;This = 0.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;y = 0.59%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;It’s very sure random numbers and letters are nonsense.&lt;/div&gt;
&lt;div&gt;
&lt;h3&gt;&lt;strong&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Questions with some correct words and correct grammar&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7p409-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-400-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-401-0&quot;&gt;blo&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-402-0&quot;&gt;ork&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-403-0&quot;&gt;mo&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-404-0&quot;&gt;op&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-405-0&quot;&gt;f&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-406-0&quot;&gt;ak&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-407-0&quot;&gt;jar&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-408-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-409-0&quot;&gt;fl&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-410-0&quot;&gt;arg&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-411-0&quot;&gt;le&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-412-0&quot;&gt;bl&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-413-0&quot;&gt;anger&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-414-0&quot;&gt;stein&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-415-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7p409-417-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;7p409-418-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-419-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-420-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;7p409-421-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 85.01%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.91%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Bl = 0.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.61%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;With = 0.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;blo = 0.28%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2vnvk-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-399-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-400-0&quot;&gt;far&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-401-0&quot;&gt;pa&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-402-0&quot;&gt;ored&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-404-0&quot;&gt;gal&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-405-0&quot;&gt;amo&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-406-0&quot;&gt;ord&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-407-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2vnvk-409-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;2vnvk-410-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-411-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-412-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;2vnvk-413-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 85.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.81%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;George = 0.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Abraham = 0.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 0.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nobody = 0.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.25%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;h3&gt;&lt;strong&gt;Questions that use all real words but don’t make sense&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7ovfm-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;7ovfm-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-399-0&quot;&gt;Where&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-400-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-401-0&quot;&gt;happy&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-402-0&quot;&gt;dis&lt;/span&gt;&lt;span data-offset-key=&quot;7ovfm-403-0&quot;&gt;semble&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-404-0&quot;&gt;catch&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-405-0&quot;&gt;column&lt;/span&gt;&lt;span data-offset-key=&quot;7ovfm-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7ovfm-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;7ovfm-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-410-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-411-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;7ovfm-412-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 93.91%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;In = 1.04%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.29%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.12%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Where = 0.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;in = 0.09%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1p45l-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;1p45l-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-401-0&quot;&gt;you&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-402-0&quot;&gt;horse&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-403-0&quot;&gt;religion&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-404-0&quot;&gt;integer&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-405-0&quot;&gt;run&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-406-0&quot;&gt;to&lt;/span&gt;&lt;span data-offset-key=&quot;1p45l-407-0&quot;&gt;me&lt;/span&gt;&lt;span data-offset-key=&quot;1p45l-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;1p45l-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;1p45l-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-412-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-413-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;1p45l-414-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 88.36%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.44%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.42%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;you = 0.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.25%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;\n = 0.20%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.16%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;How = 0.16%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;901gv-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;901gv-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-399-0&quot;&gt;Who&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-400-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-401-0&quot;&gt;cable&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-402-0&quot;&gt;cheese&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-403-0&quot;&gt;r&lt;/span&gt;&lt;span data-offset-key=&quot;901gv-404-0&quot;&gt;ans&lt;/span&gt;&lt;span data-offset-key=&quot;901gv-405-0&quot;&gt;ack&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-406-0&quot;&gt;Jefferson&lt;/span&gt;&lt;span data-offset-key=&quot;901gv-407-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;901gv-409-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;901gv-410-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-411-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-412-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;901gv-413-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 79.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Thomas = 6.11%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Jefferson = 2.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.92%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;George = 0.89%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;James = 0.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Abraham = 0.44%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Cable = 0.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Ben = 0.27%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3fb95-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-399-0&quot;&gt;Can&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-400-0&quot;&gt;you&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-401-0&quot;&gt;sne&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-402-0&quot;&gt;e&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-403-0&quot;&gt;ze&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-404-0&quot;&gt;carpet&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-405-0&quot;&gt;j&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-406-0&quot;&gt;ingle&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-407-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3fb95-409-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;3fb95-410-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-411-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-412-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;3fb95-413-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 92.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 1.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 1.36%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 0.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 0.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;no = 0.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yeah = 0.12%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.11%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=&quot; author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz84zz86ziuz90z6d8z70z8z85zifbkz70zz86z8z88zz88zz73zz89zz70zz72zz66zz84z&quot;&gt;Q: Does medicine click a candor?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dam2q-407-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;dam2q-408-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dam2q-409-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;dam2q-410-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;dam2q-411-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 51.98%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 20.36%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 5.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 4.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Medicine = 3.43%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;medicine = 1.30%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.22%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;y = 0.42%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;p&gt;There’s not much difference in confidence between questions with made up words and questions with real but incorrectly used words.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Questions that are almost correct but contain a category error&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;8ujd9-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;8ujd9-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-401-0&quot;&gt;eyes&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-402-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-403-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-404-0&quot;&gt;foot&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-405-0&quot;&gt;have&lt;/span&gt;&lt;span data-offset-key=&quot;8ujd9-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;8ujd9-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;8ujd9-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-410-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-411-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;8ujd9-412-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 47.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Two = 13.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 4.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;two = 4.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.85%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Five = 2.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Four = 1.90%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;5 = 1.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 1.57%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7rq79-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;7rq79-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-401-0&quot;&gt;kidneys&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-402-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-403-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-404-0&quot;&gt;pencil&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-405-0&quot;&gt;have&lt;/span&gt;&lt;span data-offset-key=&quot;7rq79-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;7rq79-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;7rq79-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-410-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-411-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;7rq79-412-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 51.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 11.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Two = 9.81%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 5.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 4.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;two = 1.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;None = 0.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.83%&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Technically this is a sensible question with the answer ‘0’, but I’m going to give this one to GPT-3.&lt;/p&gt;
&lt;/div&gt;
&lt;div&gt;Q: What is the capital of Ninety?&lt;br/&gt;&lt;span data-offset-key=&quot;cbuga-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;cbuga-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;cbuga-410-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;cbuga-411-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;cbuga-412-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 79.70%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 3.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nin = 2.81%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.37%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;90 = 0.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Washington = 0.43%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nine = 0.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;N = 0.34%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 0.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;E = 0.28%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dvt49-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;dvt49-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-400-0&quot;&gt;much&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-401-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-402-0&quot;&gt;red&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-403-0&quot;&gt;weigh&lt;/span&gt;&lt;span data-offset-key=&quot;dvt49-404-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dvt49-406-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;dvt49-407-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-408-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-409-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;dvt49-410-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 71.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Red = 8.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;red = 2.76%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 1.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 0.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 0.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 0.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;0 = 0.54%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 0.52%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;47u2v-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;47u2v-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-401-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-402-0&quot;&gt;calculate&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-404-0&quot;&gt;volume&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-405-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-406-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;47u2v-407-0&quot;&gt;square&lt;/span&gt;&lt;span data-offset-key=&quot;47u2v-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: The formula for the volume of a square is V = s(s).&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 21.13%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Volume = 14.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;V = 7.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Square = 4.43%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 4.16%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;volume = 2.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Use = 2.37%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;formula = 2.30%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Area = 2.30%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;

&lt;div&gt;Pretty good! Let’s test some similar questions just to make sure it’s not just calling nonsense on all questions like these.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9cjnj-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;9cjnj-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-401-0&quot;&gt;eyes&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-402-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-403-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-404-0&quot;&gt;chicken&lt;/span&gt; &lt;span data-offset-key=&quot;9cjnj-405-0&quot;&gt;have?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Two = 35.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 26.71%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 7.42%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Chick = 5.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Chicken = 3.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Four = 3.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;4 = 2.73%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;two = 2.33%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Three = 0.91%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Five = 0.89%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9dn6q-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;9dn6q-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-401-0&quot;&gt;eyes&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-402-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-403-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-404-0&quot;&gt;spider&lt;/span&gt; &lt;span data-offset-key=&quot;9dn6q-405-0&quot;&gt;have&lt;/span&gt;&lt;span data-offset-key=&quot;9dn6q-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Eight = 30.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;8 = 26.55%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Two = 5.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 5.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;eight = 5.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 3.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;4 = 3.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Sp = 1.75%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Four = 1.72%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 1.06%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9tido-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;9tido-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-401-0&quot;&gt;kidneys&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-402-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-403-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-404-0&quot;&gt;cow&lt;/span&gt; &lt;span data-offset-key=&quot;9tido-405-0&quot;&gt;have&lt;/span&gt;&lt;span data-offset-key=&quot;9tido-406-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Two = 23.86%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;4 = 12.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Four = 10.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 10.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 7.99%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 6.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;C = 4.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 4.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 2.15%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;two = 1.08%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;a3nj9-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;a3nj9-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-401-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-402-0&quot;&gt;calculate&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-404-0&quot;&gt;area&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-405-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-406-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-407-0&quot;&gt;square&lt;/span&gt;&lt;span data-offset-key=&quot;a3nj9-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;a3nj9-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;a3nj9-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-412-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-413-0&quot;&gt;area&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-414-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-415-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-416-0&quot;&gt;square&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-417-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-418-0&quot;&gt;equal&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-419-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-420-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-421-0&quot;&gt;length&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-422-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-423-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-424-0&quot;&gt;side&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-425-0&quot;&gt;times&lt;/span&gt; &lt;span data-offset-key=&quot;a3nj9-426-0&quot;&gt;itself&lt;/span&gt;&lt;span data-offset-key=&quot;a3nj9-427-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 20.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Area = 20.02%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 7.60%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Square = 4.61%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;To = 4.33%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 4.33%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Use = 2.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mult = 2.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;area = 1.95%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.78%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dpta4-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;dpta4-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-400-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-401-0&quot;&gt;I&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-402-0&quot;&gt;calculate&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-403-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-404-0&quot;&gt;volume&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-405-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-406-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-407-0&quot;&gt;cube&lt;/span&gt;&lt;span data-offset-key=&quot;dpta4-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;dpta4-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;dpta4-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-412-0&quot;&gt;Volume&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-413-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-414-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-415-0&quot;&gt;cube&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-416-0&quot;&gt;=&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-417-0&quot;&gt;length&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-418-0&quot;&gt;x&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-419-0&quot;&gt;width&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-420-0&quot;&gt;x&lt;/span&gt; &lt;span data-offset-key=&quot;dpta4-421-0&quot;&gt;height&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Volume = 28.49%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 16.23%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;V = 5.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;volume = 4.51%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;formula = 4.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 3.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;To = 2.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mult = 1.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 1.46%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;

&lt;div&gt;
&lt;div&gt;
&lt;h3&gt;&lt;strong&gt;Testing sensible rewrites of our nonsense prompt examples&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;Usually models need thousands of examples to make sense of anything, so it’s impressive our model can learn what ‘nonsense’ is to this degree with only six examples, but as we found with the ‘How’ question, it can overfit what we’re trying to teach it.&lt;/div&gt;
&lt;div&gt;Let’s try rewriting our other example nonsense questions as sensible questions while keeping them as similar as possible.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;50a4o-71-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-72-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-73-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-74-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-75-0&quot;&gt;you&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-76-0&quot;&gt;sp&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-77-0&quot;&gt;ork&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-78-0&quot;&gt;le&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-79-0&quot;&gt;a&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-80-0&quot;&gt;mor&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-81-0&quot;&gt;g&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-82-0&quot;&gt;le&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-83-0&quot;&gt;? =&amp;gt; &lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;Q: How do you spackle a wall?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;2rdvt-408-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;2rdvt-409-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;2rdvt-410-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;2rdvt-411-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;2rdvt-412-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 18.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Use = 15.48%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 9.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Sp = 6.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 4.30%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 3.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;First = 3.25%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;With = 2.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Apply = 2.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;sp = 1.85%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;Near miss! The wrong answer is only a little more probable.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;50a4o-126-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-127-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-128-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-129-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-130-0&quot;&gt;rain&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-131-0&quot;&gt;bows&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-132-0&quot;&gt;does&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-133-0&quot;&gt;it&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-134-0&quot;&gt;take&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-135-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-136-0&quot;&gt;jump&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-137-0&quot;&gt;from&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-138-0&quot;&gt;Hawaii&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-139-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-140-0&quot;&gt;seventeen&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-141-0&quot;&gt;? =&amp;gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Q: How many rainbows does the state of Hawaii usually see each year?&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 48.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Hawaii = 1.79%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;About = 1.65%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 1.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 1.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 1.46%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 1.12%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.02%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.00%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div class=&quot;popup-header&quot;&gt;To be fair, it’s not clear there is a factual answer to this question.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;a9gmp-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;a9gmp-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-399-0&quot;&gt;How&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-400-0&quot;&gt;many&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-401-0&quot;&gt;rain&lt;/span&gt;&lt;span data-offset-key=&quot;a9gmp-402-0&quot;&gt;bows&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-403-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-404-0&quot;&gt;people&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-405-0&quot;&gt;see&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-406-0&quot;&gt;on&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-407-0&quot;&gt;average&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-408-0&quot;&gt;when&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-409-0&quot;&gt;they&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-410-0&quot;&gt;visit&lt;/span&gt; &lt;span data-offset-key=&quot;a9gmp-411-0&quot;&gt;Hawaii&lt;/span&gt;&lt;span data-offset-key=&quot;a9gmp-412-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 32.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;1 = 7.26%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 5.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 4.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;0 = 3.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;3 = 2.22%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Two = 1.96%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;On = 1.84%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;5 = 1.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 1.34%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;One more try. Let’s use a question with a clear factual answer you can find online that uses both the words ‘Hawaii’ and ‘rainbows’.&lt;/div&gt;
&lt;div&gt;Q: Why does Hawaii have so many rainbows?&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Still no good.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;50a4o-238-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-239-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-240-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-241-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-242-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-243-0&quot;&gt;square&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-244-0&quot;&gt;root&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-245-0&quot;&gt;of&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-246-0&quot;&gt;banana&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-247-0&quot;&gt;? =&amp;gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Q: What is the square root of 16?&lt;/div&gt;

&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;4 = 71.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 16.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;8 = 1.31%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.27%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;5 = 1.06%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Four = 0.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;2 = 0.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;four = 0.43%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 0.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 0.28%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;50a4o-294-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-295-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-296-0&quot;&gt;Where&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-297-0&quot;&gt;do&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-298-0&quot;&gt;rocks&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-299-0&quot;&gt;learn&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-300-0&quot;&gt;to&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-301-0&quot;&gt;play&lt;/span&gt; &lt;span data-offset-key=&quot;50a4o-302-0&quot;&gt;piano&lt;/span&gt;&lt;span data-offset-key=&quot;50a4o-303-0&quot;&gt;? =&amp;gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Q: Where do people learn to play piano?&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 49.09%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;In = 9.37%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 5.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;They = 4.86%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;At = 3.45%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 3.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;People = 2.52%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Some = 1.90%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;School = 1.48%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Music = 1.23%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;Let’s try again:&lt;/div&gt;
&lt;div&gt;Q: Where do I learn to play piano?&lt;/div&gt;
&lt;div&gt;&lt;span&gt;A: yo be real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 45.64%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 8.71%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 4.96%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 4.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;At = 3.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;In = 3.75%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 1.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 1.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Piano = 1.22%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Learn = 1.07%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;Nope. One more try – let’s do a phrasing that’s probably more common:&lt;/div&gt;
&lt;div&gt;Q: How do I learn to play piano?&lt;/div&gt;
&lt;div&gt;A: Practice.&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Practice = 14.24%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;You = 12.57%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Learn = 6.94%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;There = 3.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;By = 3.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 3.18%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Play = 3.08%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.47%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.25%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Start = 2.18%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div class=&quot;popup-header&quot;&gt;So GPT-3 does tend to overfit and incorrectly label as nonsense any question that’s too similar to our example nonsense questions, but it’s performance is still pretty impressive given the tiny number of examples.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;&lt;strong&gt;Subjective questions&lt;/strong&gt;&lt;/h3&gt;
&lt;div&gt;
&lt;div&gt;It’s debatable whether these questions are sensible, so I won’t rate them as wrong or right.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3g3k3-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;3g3k3-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-399-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;3g3k3-400-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-402-0&quot;&gt;single&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-403-0&quot;&gt;best&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-404-0&quot;&gt;color&lt;/span&gt;&lt;span data-offset-key=&quot;3g3k3-405-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;3g3k3-407-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;3g3k3-408-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-409-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-410-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;3g3k3-411-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 38.40%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Red = 4.73%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Blue = 3.80%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.25%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;red = 3.06%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;blue = 2.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Black = 2.24%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.10%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Green = 1.58%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;# = 1.40%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9k7up-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;9k7up-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-399-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;9k7up-400-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-402-0&quot;&gt;best&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-403-0&quot;&gt;band&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-404-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-405-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-406-0&quot;&gt;world&lt;/span&gt;&lt;span data-offset-key=&quot;9k7up-407-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9k7up-409-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;9k7up-410-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-411-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-412-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;9k7up-413-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 21.77%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 15.93%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 9.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Radio = 9.66%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Led = 1.68%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.35%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;the = 0.93%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Metall = 0.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 0.62%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Cold = 0.61%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;‘yo be real’ narrowly won out over The Beatles.&lt;/div&gt;
&lt;div&gt;This is an interesting way to rank popularity. Inserting words to get completions, the ranking is: The Beatles, Radiohead, Led Zepplin, [I don’t know], &lt;span data-offset-key=&quot;85qve-412-0&quot;&gt;the Beatles,&lt;/span&gt; &lt;span data-offset-key=&quot;85qve-411-0&quot;&gt;Metall&lt;/span&gt;&lt;span data-offset-key=&quot;85qve-412-0&quot;&gt;ica, [That’s a matter of opinion.], Coldplay. &lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;fnp3e-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;fnp3e-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-399-0&quot;&gt;Was&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-400-0&quot;&gt;Donald&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-401-0&quot;&gt;Trump&lt;/span&gt;&lt;span data-offset-key=&quot;fnp3e-402-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-403-0&quot;&gt;father&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-404-0&quot;&gt;nice&lt;/span&gt;&lt;span data-offset-key=&quot;fnp3e-405-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;fnp3e-407-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;fnp3e-408-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-409-0&quot;&gt;yo&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-410-0&quot;&gt;be&lt;/span&gt; &lt;span data-offset-key=&quot;fnp3e-411-0&quot;&gt;real&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;yo = 40.01%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yes = 17.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Donald = 6.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;No = 4.78%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 4.63%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yes = 3.28%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.87%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;He = 1.33%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Trump = 1.17%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Nice = 0.73%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9hdgv-415-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;9hdgv-416-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-417-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-418-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-419-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-420-0&quot;&gt;best&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-421-0&quot;&gt;book&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-422-0&quot;&gt;ever&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-423-0&quot;&gt;written&lt;/span&gt;&lt;span data-offset-key=&quot;9hdgv-424-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;9hdgv-426-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;9hdgv-427-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-428-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;9hdgv-429-0&quot;&gt;Bible&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 29.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;” = 6.59%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Harry = 4.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;That = 4.39%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;To = 2.92%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Romeo = 2.92%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;This = 2.83%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;A = 2.07%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.89%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.83%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;p&gt;&lt;span data-offset-key=&quot;cia95-431-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;cia95-432-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-433-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-434-0&quot;&gt;is&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-435-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-436-0&quot;&gt;best&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-437-0&quot;&gt;computer&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-438-0&quot;&gt;operating&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-439-0&quot;&gt;system&lt;/span&gt;&lt;span data-offset-key=&quot;cia95-440-0&quot;&gt;?&lt;br/&gt;&lt;/span&gt;&lt;span data-offset-key=&quot;cia95-442-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;cia95-443-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;cia95-444-0&quot;&gt;Windows&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Windows = 36.67%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Microsoft = 7.69%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Linux = 5.45%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 5.12%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Mac = 4.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 1.97%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;OS = 1.56%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;I = 1.38%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;It = 1.29%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Apple = 1.14%&lt;/li&gt;
&lt;/ul&gt;&lt;div&gt;
&lt;div&gt;Interesting! It also frequently rates subjective questions that are phrased objectively as nonsense.&lt;/div&gt;
&lt;div&gt;Let’s rephrase these into more objective questions.&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;4eni7-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;4eni7-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-399-0&quot;&gt;What&lt;/span&gt;&lt;span data-offset-key=&quot;4eni7-400-0&quot;&gt;‘s&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-401-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-402-0&quot;&gt;most&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-403-0&quot;&gt;popular&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-404-0&quot;&gt;band&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-405-0&quot;&gt;in&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-406-0&quot;&gt;the&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-407-0&quot;&gt;world&lt;/span&gt;&lt;span data-offset-key=&quot;4eni7-408-0&quot;&gt;?&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span data-offset-key=&quot;4eni7-410-0&quot;&gt;A&lt;/span&gt;&lt;span data-offset-key=&quot;4eni7-411-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-412-0&quot;&gt;The&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-413-0&quot;&gt;Beatles&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;The = 19.86%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 16.21%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Cold = 3.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;One = 3.05%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yo = 2.86%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Metall = 2.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Link = 2.53%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Led = 2.49%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Radio = 2.03%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;U = 1.58%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div&gt;It very narrowly gets this one right over ‘yo be real’.&lt;/div&gt;
&lt;div&gt;
&lt;div class=&quot;&quot; data-block=&quot;true&quot; data-editor=&quot;ajc9u&quot; data-offset-key=&quot;4eni7-0-0&quot;&gt;
&lt;div class=&quot;public-DraftStyleDefault-block public-DraftStyleDefault-ltr&quot; data-offset-key=&quot;4eni7-0-0&quot;&gt;&lt;span data-offset-key=&quot;4eni7-397-0&quot;&gt;Q&lt;/span&gt;&lt;span data-offset-key=&quot;4eni7-398-0&quot;&gt;:&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-399-0&quot;&gt;What&lt;/span&gt; &lt;span data-offset-key=&quot;4eni7-400-0&quot;&gt;is the most common favorite color?&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;&lt;li class=&quot;popup-option highlighted&quot;&gt;Blue = 14.41%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Red = 10.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;yo = 8.74%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Green = 7.48%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Favorite = 5.82%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Black = 5.14%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;red = 4.00%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;Yellow = 3.88%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;The = 3.32%&lt;/li&gt;
&lt;li class=&quot;popup-option&quot;&gt;blue = 2.50%&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div&gt;Uncertainty prompts work surprisingly well!&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;&lt;strong&gt;29/36 sensible questions were correctly identified as sensible&lt;/strong&gt;&lt;/div&gt;
&lt;div&gt;Most of the error came from sensible but unknowable questions like “&lt;span data-sheets-value=&quot;{&amp;quot;1&amp;quot;:2,&amp;quot;2&amp;quot;:&amp;quot;What's Larry Page's gmail password?&amp;quot;}&quot; data-sheets-userformat=&quot;{&amp;quot;2&amp;quot;:513,&amp;quot;3&amp;quot;:{&amp;quot;1&amp;quot;:0},&amp;quot;12&amp;quot;:0}&quot;&gt;What’s Larry Page’s gmail password?”&lt;/span&gt;. Excluding those, &lt;strong&gt;24/26 sensible questions were correctly identified.&lt;/strong&gt;&lt;/div&gt;
&lt;div&gt;Those broke down as:&lt;/div&gt;
&lt;div&gt;10/10 commonly asked factual questions&lt;/div&gt;
&lt;div&gt;8/10 less common or more complicated questions&lt;/div&gt;
&lt;div&gt;6/6 sensible but physically impossible questions&lt;/div&gt;
&lt;div&gt;5/10 sensible but unknowable questions&lt;/div&gt;
&lt;div&gt;&lt;strong&gt;14/15 nonsense questions were correctly identified as nonsense.&lt;/strong&gt;&lt;/div&gt;
&lt;div&gt;The sole error was a question that humans also mistake as sensible “How do I calculate the volume of a square?”&lt;/div&gt;
&lt;div&gt;Those broke down as:&lt;/div&gt;
&lt;div&gt;2/2 questions that are a string of random numbers and letters&lt;/div&gt;
&lt;div&gt;2/2 nonsense questions with some correct words and correct grammar&lt;/div&gt;
&lt;div&gt;5/5 questions that are all correct words but don’t make sense&lt;/div&gt;
&lt;div&gt;5/6 questions that contain a category error&lt;/div&gt;
&lt;div&gt;Subjective questions posed objectively like ‘What’s the single best color?’ also seem to be considered nonsense.&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;GPT-3 also had problems with overfitting where it incorrectly identified as nonsense sensible questions that were too similar to our example nonsense questions.&lt;/div&gt;


</description>
<pubDate>Wed, 29 Jul 2020 17:19:58 +0000</pubDate>
<dc:creator>tosh</dc:creator>
<og:type>article</og:type>
<og:title>Teaching GPT-3 to Identify Nonsense</og:title>
<og:url>https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/</og:url>
<og:description>In Giving GPT-3 a Turing Test, Kevin Lacker found that GPT-3 does well answering simple factual questions like “Who was president of the United States in 1955?”, but also happily answered absurd qu…</og:description>
<og:image>https://arr.am/wp-content/uploads/2020/07/Screen-Shot-2020-07-22-at-1.19.33-PM-281x300.png</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://arr.am/2020/07/25/gpt-3-uncertainty-prompts/</dc:identifier>
</item>
<item>
<title>Microsoft Joins the Blender Development Fund</title>
<link>https://www.blender.org/press/microsoft-joins-the-blender-development-fund/</link>
<guid isPermaLink="true" >https://www.blender.org/press/microsoft-joins-the-blender-development-fund/</guid>
<description>&lt;div class=&quot;wp-block-group is-style-box mb-4&quot; readability=&quot;6.6581632653061&quot;&gt;
&lt;div class=&quot;wp-block-group__inner-container&quot; readability=&quot;8.8775510204082&quot;&gt;&lt;img src=&quot;https://www.blender.org/wp-content/uploads/2020/07/microsoft_loves_blender_yay-1.png?x37488&quot; alt=&quot;&quot; class=&quot;wp-image-71934&quot; srcset=&quot;https://www.blender.org/wp-content/uploads/2020/07/microsoft_loves_blender_yay-1.png 1280w, https://www.blender.org/wp-content/uploads/2020/07/microsoft_loves_blender_yay-1-512x85.png 512w, https://www.blender.org/wp-content/uploads/2020/07/microsoft_loves_blender_yay-1-768x128.png 768w&quot; sizes=&quot;(max-width: 1280px) 100vw, 1280px&quot;/&gt;&lt;p&gt;&lt;a href=&quot;https://www.microsoft.com&quot;&gt;Microsoft&lt;/a&gt; makes use of Blender to generate synthetic 3D models and images of humans that can be used to train AI models. For researchers, having access to high quality free/opensource 3D software has proven to be of great benefit for scientific projects. You can check &lt;a href=&quot;https://www.microsoft.com/en-us/research/uploads/prod/2019/09/2019-10-01-Synthetic-Data-with-Digital-Humans.pdf&quot;&gt;some of their work here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To express their support, Microsoft is joining the &lt;a href=&quot;https://fund.blender.org&quot;&gt;Blender Foundation’s Development Fund&lt;/a&gt; as a Corporate Gold member per July 1st, 2020.&lt;/p&gt;
&lt;p&gt;We at Blender are very proud of this support statement, it’s another important signal that the industry migrates to open source and finds ways to contribute to it.&lt;/p&gt;
&lt;p&gt;Ton Roosendaal,&lt;br/&gt;Chairman Blender Foundation&lt;/p&gt;
&lt;div class=&quot;wp-block-group has-very-light-gray-background-color has-text-color has-background rounded p-4 mt-5&quot; readability=&quot;36&quot;&gt;
&lt;div class=&quot;wp-block-group__inner-container&quot; readability=&quot;17&quot;&gt;
&lt;p class=&quot;has-medium-font-size pb-0 mb-0&quot;&gt;&lt;strong&gt;What is the Blender Development Fund?&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;has-normal-font-size&quot;&gt;The Blender Development Fund accepts donations to support activities to provide free and open accessible services for all Blender contributors – including professionals and corporations – on the blender.org websites. Support activities include bug fixing, code reviews, technical documentation and onboarding.&lt;/p&gt;&lt;p&gt;The fund will also provide grants and subsidies to developers on generic and widely agreed development projects.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Wed, 29 Jul 2020 15:34:13 +0000</pubDate>
<dc:creator>antoineMoPa</dc:creator>
<og:title> Microsoft joins the Blender Development Fund — blender.org</og:title>
<og:description>Microsoft is joining the Blender Foundation's Development Fund as a Corporate Gold member!</og:description>
<og:url>https://www.blender.org/press/microsoft-joins-the-blender-development-fund/</og:url>
<og:image>https://www.blender.org/wp-content/uploads/2020/07/microsoft_loves_blender_yay-480x270.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.blender.org/press/microsoft-joins-the-blender-development-fund/</dc:identifier>
</item>
<item>
<title>The Soviet web: the tale of how the USSR almost invented the internet (2017)</title>
<link>https://www.calvertjournal.com/articles/show/7605/soviet-internet-cybernetics-viktor-glushkov</link>
<guid isPermaLink="true" >https://www.calvertjournal.com/articles/show/7605/soviet-internet-cybernetics-viktor-glushkov</guid>
<description>&lt;p&gt;After repeatedly failing over the following years to revive interest in his plan, the rational Glushkov began to succumb to conspiracy theories, suggesting interference by American spies, and that the emergency landing of a flight he had taken shortly after the Politburo meeting had been caused by sabotage. Glushkov died in 1982, by which time the Soviet leadership had pinned its hopes for economic renewal on limited market liberalisation, an approach that rendered the concept of a computerised command economy redundant.&lt;/p&gt;
&lt;p&gt;In retrospect, the OGAS seems absurdly ambitious. The development of such a vast network would have necessitated a depth and duration of political commitment even an authoritarian regime could unlikely sustain, and it is doubtful that early mainframe technology would have been capable of processing so much data (quite apart from the vexed question of whether &lt;a href=&quot;https://en.wikipedia.org/wiki/Economic_calculation_problem&quot; title=&quot;&quot;&gt;the very concept of a complex planned economy makes sense&lt;/a&gt;.) The OGAS could only have been conceived during an era when boundless faith in the possibilities of new technology, and Cold War imperatives, made utopian thinking possible.&lt;/p&gt;
&lt;p&gt;And yet their remarkable space programme gave the Soviets some justification for believing that they were capable — quite literally — of aiming for the stars. Why did economic modernisation, a project of similar scope and importance, to which thousands of their best minds had been dedicated, fail so completely?&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 15:32:34 +0000</pubDate>
<dc:creator>tosh</dc:creator>
<og:url>https://www.calvertjournal.com/articles/show/7605/soviet-internet-cybernetics-viktor-glushkov</og:url>
<og:type>article</og:type>
<og:title>The Soviet web: the tale of how the USSR almost invented the internet</og:title>
<og:description>When brilliant Soviet cyberneticist Viktor Glushkov designed a blueprint for a computerised planning system, the Soviet Union looked on track to become…</og:description>
<og:image>https://www.calvertjournal.com/images/uploads/thumbnails/mechte_navstrechu_still_1.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.calvertjournal.com/articles/show/7605/soviet-internet-cybernetics-viktor-glushkov</dc:identifier>
</item>
<item>
<title>Zoom Security Exploit: Cracking private meeting passwords</title>
<link>https://www.tomanthony.co.uk/blog/zoom-security-exploit-crack-private-meeting-passwords/</link>
<guid isPermaLink="true" >https://www.tomanthony.co.uk/blog/zoom-security-exploit-crack-private-meeting-passwords/</guid>
<description>&lt;blockquote class=&quot;wp-block-quote&quot;&gt;
&lt;p&gt;&lt;strong&gt;Short version:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Zoom meetings were default protected by a 6 digit numeric password, meaning 1 million maximum passwords. I discovered a vulnerability in the Zoom web client that allowed checking if a password is correct for a meeting, due to broken CSRF and no rate limiting.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This enabled an attacker to attempt all 1 million passwords in a matter of minutes and gain access to other people’s private (password protected) Zoom meetings.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This also raises the troubling question as to whether others were potentially already using this vulnerability to listen in to other people’s calls (e.g. the UK Cabinet Meeting!).&lt;/p&gt;
&lt;p&gt;I reported the issue to Zoom, who quickly took the web client offline to fix the problem. They seem to have mitigated it by both requiring a user logs in to join meetings in the web client, and updating default meeting passwords to be non-numeric and longer. &lt;strong&gt;Therefore this attack no longer works.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;On March 31st, Boris Johnson &lt;a href=&quot;https://twitter.com/BorisJohnson/status/1244985949534199808&quot;&gt;tweeted about&lt;/a&gt; chairing the first ever digital cabinet meeting. I was amongst many who noticed that the screenshot included the Zoom Meeting ID. Twitter was alive with people saying they were trying to join, but Zoom protects meetings with a password by default (which was pointed out when the Government &lt;a href=&quot;https://www.bbc.co.uk/news/technology-52126534&quot;&gt;defended using Zoom&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Having also tried to join, I thought I would see if I could crack the password for private Zoom meetings. Over the next couple of days, I spent time reverse engineering the endpoints for the web client Zoom provide, and found I was able to iterate over all possible default passwords to discover the password for a given private meeting.&lt;/p&gt;
&lt;div class=&quot;wp-block-image&quot;&gt;&lt;img src=&quot;https://www.tomanthony.co.uk/blog/wp-content/uploads/2020/04/EUcUBu6XgAcHo93.jpg&quot; alt=&quot;&quot; class=&quot;wp-image-870&quot;/&gt;UK Government Cabinet Meeting, over Zoom, clearly showing the meeting ID.&lt;br/&gt;The government have reassured the call was password protected.&lt;/div&gt;
&lt;span id=&quot;more-861&quot;/&gt;
&lt;h2&gt;Background&lt;/h2&gt;
&lt;p&gt;After trying to join the Cabinet Meeting, I poked about in the Zoom app and noticed the default passwords being 6 digits and numeric, meaning 1 million maximum passwords.&lt;/p&gt;
&lt;p&gt;A fairly standard principle of password security is to rate limit password attempts, to prevent an attacker from iterating over a list of candidate passwords and trying them all. I assumed that Zoom would be doing this, but decided to double check.&lt;/p&gt;
&lt;p&gt;I decided to target Zoom’s web client, but my findings apply to meetings initiated and conducted via all versions of the app too.&lt;/p&gt;
&lt;h2&gt;Meeting Login Flow&lt;/h2&gt;
&lt;p&gt;When a user creates a new meeting, Zoom auto generates a link for people to join, in the form (dummy data below):&lt;/p&gt;
&lt;code&gt;https://zoom.us/j/618086352?pwd=SE5OWjE6UDhwaDVJR3FJRzUyZUI3QT09&lt;/code&gt;&lt;p&gt;It contains both the meeting ID and the auto generated password. I believe this password is a hashed version of the 6 digit numeric password, but I also found that swapping it out for the 6 digit numeric version was acceptable to the web client endpoints, so we could ignore the hashed version and concentrate on the numeric version.&lt;/p&gt;
&lt;p&gt;If you remove the &lt;code&gt;pwd&lt;/code&gt; parameter then visit the web client join link (&lt;code&gt;https://zoom.us/wc/join/618086352&lt;/code&gt;) then you will see a login screen:&lt;/p&gt;
&lt;div class=&quot;wp-block-image&quot;&gt;&lt;img src=&quot;https://www.tomanthony.co.uk/blog/wp-content/uploads/2020/04/2020-04-02_14-32-36.png&quot; alt=&quot;&quot; class=&quot;wp-image-868&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Filling this in takes you to a privacy policy page:&lt;/p&gt;
&lt;div class=&quot;wp-block-image&quot;&gt;&lt;img src=&quot;https://www.tomanthony.co.uk/blog/wp-content/uploads/2020/04/2020-04-02_14-33-43.png&quot; alt=&quot;&quot; class=&quot;wp-image-869&quot;/&gt;&lt;/div&gt;
&lt;p&gt;This seemed to fire off an XHR GET request then take you to another page.&lt;/p&gt;
&lt;h3&gt;Breaking down the flow behind the scenes&lt;/h3&gt;
&lt;p&gt;There were several things going on as you move through this flow:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;When you first open any web client page, without an existing cookie, a cookie is set which, amongst other bits, contains a GUID. This seems to be your anonymous user ID.&lt;/li&gt;
&lt;li&gt;If you fill in the user/pass form but haven’t completed the privacy agreement you are redirected to it. Completing it was a simple GET request to a given endpoint, which contains your GUID. &lt;em&gt;&lt;strong&gt;There was a CSRF HTTP header sent during this step, but if you omitted it then the request still seemed to just work fine anyway.&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When you submitted a username and password, you were 302 redirected to another page, irrespective of whether you got the password right or wrong. You would get a 200 response if you haven’t completed the privacy policy.&lt;/li&gt;
&lt;li&gt;The redirect would take you to a new page, which seems to know server side whether your GUID has previously entered the correct password. i.e. The previous step stored state server side marking whether you got the password correct.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;The failure on the CSRF token made it even easier to abuse than it would be otherwise, but fixing that wouldn’t provide much protection against this attack.&lt;/p&gt;
&lt;p&gt;This process was a little convoluted to automate, which is maybe why this endpoint had not been scrutinised in detail before. There are some details I’ve skipped over, such as parameters that need to be saved from one request to another, but they are not important to understanding the main issue.&lt;/p&gt;
&lt;h2&gt;Cracking passwords&lt;/h2&gt;
&lt;p&gt;The important thing to note about the above process is that &lt;strong&gt;&lt;em&gt;there was no rate limit on repeated password attempts&lt;/em&gt;&lt;/strong&gt; (each comprising of 2 HTTP requests – one to submit the password, and follow up request to check if it was accepted by the server). However, the speed is limited by how quickly you can make HTTP requests, which have a natural latency which would make cracking a password a slow process; the server side state means you have to wait for the first request to complete before you can send the second.&lt;/p&gt;
&lt;p&gt;However, we should note that the state was stored against the provided GUID, and you can ask the server for as many of those as you want by sending HTTP requests with no cookie. This means we could request a batch of GUIDs and then chunk the 1 million possible passwords up between them and run multiple requests in parallel.&lt;/p&gt;
&lt;p&gt;I put together some (fairly clunky) Python that requests a batch of GUIDs then spawns multiple threads so they can run requests in parallel. An initial test running from my home machine with 100 threads:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;===FOUND PASSWORD===
Password: 170118
Passwords tried: 43164
took 28m 52s 392ms&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We can see we are checking about 25 passwords a second, and discovered the password (in this example I knew the password so had bounded my search). I ran a similar test from a machine in AWS and checked 91k passwords in 25 minutes.&lt;/p&gt;
&lt;p&gt;With improved threading, and distributing across 4-5 cloud servers you could check the entire password space within a few minutes. This would be fairly simple to do, but I resisted as I had demonstrated the process and wanted to be cautious not to interrupt Zoom’s service (I did do some short higher rate tests and never got throttled or blocked).&lt;/p&gt;
&lt;p&gt;Note also that the expected time to find a password would be shorter, as you would not normally need to search the entire list of possible passwords.&lt;/p&gt;
&lt;p&gt;Also note that recurring meetings, including ‘Personal Meeting IDs (PMIs)’ always use the same password, so once it is cracked you have ongoing access.&lt;/p&gt;
&lt;p&gt;The initial version of my attack could only be run once a meeting started, but I later found that the DOM for un-started indicated whether the password was correct vs incorrect, meaning you could crack scheduled meetings too.&lt;/p&gt;
&lt;h2&gt;Zoom Password Issues&lt;/h2&gt;
&lt;p&gt;Firstly, note that whilst it doesn’t seem possible to change the 6 digit numeric password for spontaneous meetings, it is possible to override it for scheduled meetings, but is an explicit step to change the default password provided. I checked about 20 Zoom meeting invites I’ve received in the past, from various people, and found they all used the default 6 digit password.&lt;/p&gt;
&lt;p&gt;If you do override the password and produce a longer alphanumeric password, then a 6 digit numeric password may be produced anyway for phone users. This password &lt;em&gt;is not&lt;/em&gt; accepted, at least on the endpoint I was trying for the web client. I’m not sure if this is true for other endpoints – I didn’t check.&lt;/p&gt;
&lt;p&gt;Also note that if the password was to be updated to alphanumeric, I estimate you could still run across a password list of, say, the top 10 million passwords in less than an hour.&lt;/p&gt;
&lt;p&gt;In other testing, I found that Zoom has a maximum password length of 10 characters, and whilst it accepts non-ASCII characters (such as ü, €, á) it converts them all to ? after you save the password.&lt;/p&gt;
&lt;h2&gt;Could someone have eavesdropped on the UK Cabinet Meeting?&lt;/h2&gt;
&lt;p&gt;Lastly, I noted in Boris Johnson’s screenshot, that there is a user called simply ‘iPhone’ (see bottom right) that is muted with the camera off:&lt;/p&gt;
&lt;img src=&quot;https://www.tomanthony.co.uk/blog/wp-content/uploads/2020/04/2020-04-09_17-52-50-1.png&quot; alt=&quot;&quot; class=&quot;wp-image-932&quot;/&gt;There was an unnamed, muted &amp;amp; hidden participant in the Cabinet Meeting
&lt;p&gt;It got me wondering whether this flaw has previously been found — if I could discover it then it seems plausible that others could too, which makes this bug particularly worrisome.&lt;/p&gt;
&lt;h2&gt;Remediation&lt;/h2&gt;
&lt;p&gt;The high level recommendations I passed on to Zoom for fixing this were:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Rate limit GUIDs to a reasonable number of password attempts (e.g 10 [different] failed attempts in an hour for a given meeting)&lt;/li&gt;
&lt;li&gt;Rate limit IP addresses, irrespective of GUID, for password attempts (irrespective of meeting ID)&lt;/li&gt;
&lt;li&gt;Rate limit or trigger a warning should a given meeting pass a set failure rate for failed password attempts&lt;/li&gt;
&lt;li&gt;Fix the CSRF on the Privacy Terms form, so it is harder to automate attacks.&lt;/li&gt;
&lt;li&gt;Increase the length of the default password.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;As far as I can tell (Zoom hasn’t given me any insight into what they did to mitigate the issue), it seems Zoom has made a couple of changes:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Started enforcing sign-in for users joining meetings via the web client; it is unclear if this is a permanent change or not (it is a problem for some users as I understand).&lt;/li&gt;
&lt;li&gt;Updated default passwords to be alphanumeric instead. This seems to be in some phased rollout as I’m still sometimes seeing numeric only passwords.&lt;/li&gt;
&lt;/ul&gt;&lt;h2&gt;Zoom Response&lt;/h2&gt;
&lt;p&gt;I reported the issue to Zoom directly, and they quickly took the whole web client offline for a few days whilst they triaged the issue, it came up again a few days later.&lt;/p&gt;
&lt;p&gt;I’m aware Zoom have been under &lt;a href=&quot;https://www.bbc.co.uk/news/business-52115434&quot;&gt;a lot of scrutiny&lt;/a&gt; for their security practices given their sudden spike in usage brought about by the COVID-19 pandemic. From my interactions with the team, they seemed to care about the security of the platform, and their users and they seemed appreciative of the report.&lt;/p&gt;
&lt;p&gt;Zoom run a private, invite only, bug bounty program, which is a fairly common practice for lots of organisations. I was invited to submit this bug to the bug bounty program, but I asked to wait as I was interested in the new bug bounty program they were working on. I wondered if the new program rules would guarantee consent for disclosure, given I felt this was a bug of public interest. Zoom agreed I could submit the bug under the new program when it was launched.&lt;/p&gt;
&lt;p&gt;Zoom have since released the results of their 90 day security sprint, and &lt;a href=&quot;https://blog.zoom.us/ceo-report-90-days-done-whats-next-for-zoom/&quot;&gt;commitment #4&lt;/a&gt; on that includes updates to their bug bounty program. Hopefully that is coming soon, but I didn’t want to wait in disclosing the bug (they had agreed to disclosure), given it has been fixed for a while.&lt;/p&gt;
&lt;p&gt;I did submit a couple of other small bugs via the private program on HackerOne, and received bounties for those. Thanks Zoom team! 🙂&lt;/p&gt;
&lt;h2&gt;Wrap up&lt;/h2&gt;
&lt;p&gt;It was surprising to me that there was a lack of rate limiting on the central mechanism of the platform, which combined with a poor default password system and faulty CSRF meant that meetings were really not secure.&lt;/p&gt;
&lt;p&gt;However, Zoom’s response was fast, and they quickly addressed the rate limiting issue. Zoom meetings also got a default password upgrade, which is great.&lt;/p&gt;
&lt;p&gt;Zoom’s ease of use and video conferencing quality have made it a hugely valuable tool for millions of people over the last few months, during what is a tough time. Many (most?) are using it entirely for free. That is a great thing, and I’m grateful Zoom exists. Thanks Zoom team!&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;1st April – I reported the issue to Zoom, with a working Python POC. I sent this via their generic support form, and via email.&lt;/li&gt;
&lt;li&gt;2nd April – I followed up with a draft of this post as additional explanation, and a better commented version of the Python code. I tweeted at Zoom to ask about a status, and in DMs with them passed on the ticket number.&lt;/li&gt;
&lt;li&gt;2nd April – Heard from their team they were looking (this was about 24 hours following my report), then received a follow up from Zoom’s CISO.&lt;/li&gt;
&lt;li&gt;2nd April – Noted that the Zoom Web Client was offline, returning a 403. This also affected the web SDK.&lt;/li&gt;
&lt;li&gt;9th April – Heard from the Zoom team that this was mitigated.&lt;/li&gt;
&lt;li&gt;16th April – Heard they were working on updated bug bounty program.&lt;/li&gt;
&lt;li&gt;15th June – Requested update on BB program. No reply.&lt;/li&gt;
&lt;li&gt;8th July – Asked again if I could submit this for bounty. No reply. (Point of clarity here – the bug is fixed, and they have new issues to deal with so this isn’t exactly a priority for them. I could have chosen to file the bug for a bounty at the time, but didn’t, and wasn’t promised anything if I waited).&lt;/li&gt;
&lt;li&gt;29th July – Disclosure.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Update edit: A few people have asked me or remarked about the lack of bounty. To be clear, I never actually submitted this bug via their bounty program (but was invited to do so), as was holding out for their new program (see post), and fell down the cracks a bit. Zoom didn’t decide against awarding a bounty – I never submitted for one, and disclosed here instead.&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 15:25:54 +0000</pubDate>
<dc:creator>TomAnthony</dc:creator>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.tomanthony.co.uk/blog/zoom-security-exploit-crack-private-meeting-passwords/</dc:identifier>
</item>
<item>
<title>Student group leader arrested on suspicion of inciting secession in HK</title>
<link>https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</link>
<guid isPermaLink="true" >https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</guid>
<description>&lt;p&gt;The ex-convenor of Hong Kong pro-independence group Studentlocalism was among four youngsters arrested on suspicion of inciting secession under the new national security law on Wednesday.&lt;/p&gt;
&lt;p&gt;Police arrested 19-year-old Tony Chung at his residence in Yuen Long and took him to Ma On Shan police station. Studentlocalism’s former spokesperson Ho Nok-hang and ex-member Yanni Ho were also taken away by national security officers.&lt;/p&gt;
&lt;img alt=&quot;&quot; aria-hidden=&quot;true&quot; class=&quot;i-amphtml-intrinsic-sizer&quot; role=&quot;presentation&quot; src=&quot;data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQ5Nicgd2lkdGg9Jzc4MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4=&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://i0.wp.com/hongkongfp.com/wp-content/uploads/2019/07/hkfp_2019-07-21_16-02-17-Copy.jpg?resize=780%2C496&amp;amp;ssl=1&quot; alt=&quot;july 21 china extradition&quot; class=&quot;wp-image-214440&quot; srcset=&quot;https://i0.wp.com/hongkongfp.com/wp-content/uploads/2019/07/hkfp_2019-07-21_16-02-17-Copy.jpg?w=1050&amp;amp;ssl=1 1050w, https://i0.wp.com/hongkongfp.com/wp-content/uploads/2019/07/hkfp_2019-07-21_16-02-17-Copy.jpg?resize=768%2C489&amp;amp;ssl=1 768w, https://i0.wp.com/hongkongfp.com/wp-content/uploads/2019/07/hkfp_2019-07-21_16-02-17-Copy.jpg?resize=810%2C515&amp;amp;ssl=1 810w&quot; sizes=&quot;(max-width: 780px) 100vw, 780px&quot; width=&quot;780&quot; height=&quot;496&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;Tony Chung. File Photo: Kris Cheng/HKFP.
&lt;p&gt;Chung’s detention represents the first time a political figure has been arrested under the controversial legislation which criminalises &lt;a href=&quot;https://hongkongfp.com/2020/05/22/defenceless-hong-kong-needs-state-level-law-to-prevent-stop-and-punish-threats-to-chinese-sovereignty-says-beijing/&quot;&gt;subversion, secession, terrorism and collusion with foreign powers.&lt;/a&gt;&lt;/p&gt;
&lt;aside class=&quot;scaip scaip-1&quot;&gt;&lt;aside id=&quot;newspack-ads-widget-5&quot; class=&quot;widget_newspack-ads-widget clearfix&quot;&gt;
&lt;/aside&gt;&lt;/aside&gt;&lt;p&gt;Last month, Beijing enacted laws to prevent, stop and punish behaviours in Hong Kong that it deems a threat to national security. The legislation was inserted into the city’s mini-constitution, bypassing the local legislature and giving &lt;a href=&quot;https://hongkongfp.com/2020/05/22/this-is-the-end-of-hong-kong-reactions-pour-in-as-beijing-proposes-security-law/&quot;&gt;police sweeping new powers&lt;/a&gt;.&lt;/p&gt;
&lt;img alt=&quot;&quot; aria-hidden=&quot;true&quot; class=&quot;i-amphtml-intrinsic-sizer&quot; role=&quot;presentation&quot; src=&quot;data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQwMScgd2lkdGg9Jzc4MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4=&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://i0.wp.com/hongkongfp.com/wp-content/uploads/2020/07/chrome_X9p4HErNTK.jpg?resize=780%2C401&amp;amp;ssl=1&quot; alt=&quot;Steve Li.&quot; class=&quot;wp-image-288267&quot; width=&quot;780&quot; height=&quot;401&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;Senior superintendent of the new national security department of the police force Steve Li. Photo: StandNews screenshot.
&lt;p&gt;At an 11pm press briefing, senior superintendent of the new national security department of the police force Steve Li said that three males and one female aged 16 to 21 had been arrested – each said they were students. He said the force made the arrests based on the content of social media accounts. The posts suggested they would use all means to establish a republic of Hong Kong and unite all pro-independence political groups.&lt;/p&gt;
&lt;p&gt;Li cited Article 21 of the security law as stating that making statements that promote secession would constitute incitement, and it is not necessary to assess if someone was actually motivated by such content.&lt;/p&gt;
&lt;aside class=&quot;scaip scaip-2&quot;&gt;&lt;aside id=&quot;custom_html-2&quot; class=&quot;widget_text widget_custom_html clearfix&quot;&gt;
&lt;/aside&gt;&lt;/aside&gt;
&lt;p&gt;According to Li, the force based the arrests on social media content posted after the security law was enacted, though he did not state what group or posts were involved: “Our sources and investigation show that the group recently announced on social media to set up an organisation that advocates Hong Kong independence.” &lt;/p&gt;
&lt;p&gt;Secession is defined in Article 20 of the security as “to participate, plan or implement… acts of secession… whether or not force or the threat of force is used.” The maximum penalty is life behind bars.&lt;/p&gt;
&lt;h2&gt;Hong Kong operations halted&lt;/h2&gt;
&lt;p&gt;Ahead of the enactment of the security law on June 30, Studentlocalism announced in a &lt;a aria-label=&quot;undefined (opens in a new tab)&quot; href=&quot;https://twitter.com/studentlocalism/status/1277865754847784961&quot; target=&quot;_blank&quot; rel=&quot;noreferrer noopener&quot;&gt;statement&lt;/a&gt; that it had &lt;a href=&quot;https://hongkongfp.com/2020/07/03/hongkongers-purge-social-media-delete-accounts-as-beijing-passes-national-security-law/&quot;&gt;disbanded and dismissed&lt;/a&gt; of all its Hong Kong members with immediate effect: “Overseas members of Studentlocalism will officially set up a branch abroad and take over all affairs of the group. We will continue advocating Hong Kong independence until Hong Kong becomes a sovereign state.”&lt;/p&gt;
&lt;p&gt;On July 17, it &lt;a aria-label=&quot;undefined (opens in a new tab)&quot; href=&quot;https://www.facebook.com/HongKongStudentlocalismUSDivision/posts/116515910136983&quot; target=&quot;_blank&quot; rel=&quot;noreferrer noopener&quot;&gt;announced&lt;/a&gt; the founding of its US division “[i]n these times when ‘Hong Kong independence’ has become a forbidden phrase that could [lead] to life imprisonment,“ they said.&lt;/p&gt;
&lt;img alt=&quot;&quot; aria-hidden=&quot;true&quot; class=&quot;i-amphtml-intrinsic-sizer&quot; role=&quot;presentation&quot; src=&quot;data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzUyMCcgd2lkdGg9Jzc4MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4=&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=780%2C520&amp;amp;ssl=1&quot; alt=&quot;tiananmen massacre vigil 31st 2020 june 4 mong kok hong kong independence&quot; class=&quot;wp-image-264869&quot; srcset=&quot;https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=1050%2C700&amp;amp;ssl=1 1050w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=768%2C512&amp;amp;ssl=1 768w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=1536%2C1024&amp;amp;ssl=1 1536w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=600%2C400&amp;amp;ssl=1 600w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=1200%2C800&amp;amp;ssl=1 1200w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=1568%2C1045&amp;amp;ssl=1 1568w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?resize=706%2C471&amp;amp;ssl=1 706w, https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/06/101938114_2619714218276651_7442178180703584256_o-Copy.jpg?w=1700&amp;amp;ssl=1 1700w&quot; sizes=&quot;(max-width: 780px) 100vw, 780px&quot; width=&quot;780&quot; height=&quot;520&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;Photo: Studio Incendo.
&lt;p&gt;It said the US division will “promote our advocacy of Hong Kong independence to Hong Kong nationals in America and freedom loving Americans, convince [the] US to support our dream of Hong Kong independence… [and help] Hongkongers regain our deserved right of self-determination, eventually achieving Hong Kong independence.”&lt;/p&gt;
&lt;div class=&quot;wp-block-embed__wrapper&quot;&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-width=&quot;550&quot; data-dnt=&quot;true&quot; placeholder=&quot;&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;【 Studentlocalism US Division Prospect 】&lt;/p&gt;&lt;p&gt;Please continue reading by either clicking through the pictures above, or head to our Facebook page for the entire article.&lt;/p&gt;&lt;p&gt;Studentlocalism Overseas Divisions Volunteer Recruitment Form:&lt;a href=&quot;https://t.co/SHyjjJlf1e&quot;&gt;https://t.co/SHyjjJlf1e&lt;/a&gt; &lt;a href=&quot;https://t.co/cBEij51byv&quot;&gt;pic.twitter.com/cBEij51byv&lt;/a&gt;&lt;/p&gt;
— 學生動源 Studentlocalism (@studentlocalism) &lt;a href=&quot;https://twitter.com/studentlocalism/status/1285075756863954944?ref_src=twsrc%5Etfw&quot;&gt;July 20, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;/div&gt;
&lt;p&gt;Chung was previously &lt;a href=&quot;https://hongkongfp.com/2019/05/22/hong-kong-police-arrest-student-independence-movement-leader-allegedly-damaging-chinese-flag/&quot;&gt;arrested in 2019&lt;/a&gt; after he allegedly snatched a Chinese national flag from its pole.&lt;/p&gt;

&lt;div class=&quot;wp-block-group has-light-gray-color has-light-gray-background-color has-text-color has-background&quot;&gt;
&lt;div class=&quot;wp-block-group__inner-container&quot;&gt;
&lt;div class=&quot;wp-block-jetpack-mailchimp&quot; data-blog-id=&quot;175101873&quot;&gt;
&lt;div class=&quot;components-placeholder&quot;&gt;
&lt;form aria-describedby=&quot;wp-block-jetpack-mailchimp_consent-text&quot; action-xhr=&quot;https://public-api.wordpress.com/rest/v1.1/sites/175101873/email_follow/amp/subscribe/&quot; method=&quot;post&quot; id=&quot;mailchimp_form&quot; target=&quot;_top&quot; on=&quot;submit-success:AMP.setState( { mailing_list_status: 'subscribed', mailing_list_email: event.response.email } )&quot;&gt;

&lt;p&gt;&lt;button type=&quot;submit&quot; class=&quot;components-button is-button is-primary wp-block-button__link has-background has-secondary-background-color&quot;&gt;&lt;strong&gt;SIGN UP to HKFP Dim Sum&lt;/strong&gt; a weekly summary of our best content&lt;/button&gt;&lt;/p&gt;
&lt;p id=&quot;wp-block-jetpack-mailchimp_consent-text&quot;&gt;&lt;em&gt;&lt;span class=&quot;has-inline-color has-secondary-color&quot;&gt;Emails are sent every Friday. Unsubscribe at any time. HKFP will not share your details with third parties.&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;div submit-success=&quot;&quot;&gt;
&lt;div class=&quot;wp-block-jetpack-mailchimp_notification wp-block-jetpack-mailchimp_success wp-block-jetpack-mailchimp__is-amp&quot;&gt;Success! You've joined the HKFP Dim Sum mailing list&lt;/div&gt;
&lt;/div&gt;
&lt;div submit-error=&quot;&quot;&gt;
&lt;div class=&quot;wp-block-jetpack-mailchimp_notification wp-block-jetpack-mailchimp_error wp-block-jetpack-mailchimp__is-amp&quot;&gt;Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.&lt;/div&gt;
&lt;/div&gt;
&lt;div submitting=&quot;&quot;&gt;
&lt;div class=&quot;wp-block-jetpack-mailchimp_notification wp-block-jetpack-mailchimp_processing wp-block-jetpack-mailchimp__is-amp&quot; role=&quot;status&quot;&gt;Processing…&lt;/div&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;section id=&quot;newspack-ads-widget-6&quot; class=&quot;below-content widget widget_newspack-ads-widget&quot;&gt;
&lt;/section&gt;&lt;section id=&quot;text-3&quot; class=&quot;below-content widget widget_text&quot;&gt;
&lt;/section&gt;&lt;section id=&quot;media_image-6&quot; class=&quot;below-content widget widget_media_image&quot;&gt;&lt;a href=&quot;https://www.hongkongfp.com/newsletter/&quot;&gt;&lt;img alt=&quot;&quot; aria-hidden=&quot;true&quot; class=&quot;i-amphtml-intrinsic-sizer&quot; role=&quot;presentation&quot; src=&quot;data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzkwJyB3aWR0aD0nNzI4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg==&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img width=&quot;728&quot; height=&quot;90&quot; src=&quot;https://i0.wp.com/hongkongfp.com/wp-content/uploads/2020/04/hkfp-newsletter.jpg?fit=728%2C90&amp;amp;ssl=1&quot; class=&quot;image wp-image-257007 attachment-full size-full amp-wp-36746cb&quot; alt=&quot;newsletter hkfp&quot; data-amp-original-style=&quot;max-width: 100%; height: auto;&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;/a&gt;&lt;/section&gt;&lt;section id=&quot;recent-posts-14&quot; class=&quot;below-content widget widget_recent_entries&quot;&gt;
&lt;/section&gt;</description>
<pubDate>Wed, 29 Jul 2020 15:24:35 +0000</pubDate>
<dc:creator>phantomathkg</dc:creator>
<og:type>article</og:type>
<og:title>4 ex-members of pro-independence student group arrested on suspicion of 'inciting secession' under Hong Kong's security law | Hong Kong Free Press HKFP</og:title>
<og:description>The ex-convenor of Hong Kong pro-independence group Studentlocalism was among four youngsters arrested on suspicion of inciting secession under the new national security law on Wednesday. Police arrested 19-year-old Tony Chung at his residence in Yuen Long and took him to Ma On Shan police station. Studentlocalism’s former spokesperson Ho Nok-hang and ex-member Yanni Ho […]</og:description>
<og:url>https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</og:url>
<og:image>https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/07/Article-Basic-Full-logo-40.jpg?fit=1200%2C675&amp;ssl=1</og:image>
<dc:language>en-GB</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</dc:identifier>
</item>
<item>
<title>When a customer refunds your paid app, Apple doesn’t refund the 30% cut</title>
<link>https://twitter.com/twolivesleft/status/1288344977169235968</link>
<guid isPermaLink="true" >https://twitter.com/twolivesleft/status/1288344977169235968</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://twitter.com/twolivesleft/status/1288344977169235968&quot;&gt;https://twitter.com/twolivesleft/status/1288344977169235968&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=23987584&quot;&gt;https://news.ycombinator.com/item?id=23987584&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 1049&lt;/p&gt;
&lt;p&gt;# Comments: 449&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 15:20:13 +0000</pubDate>
<dc:creator>tomduncalf</dc:creator>
<og:type>article</og:type>
<og:title>4 ex-members of pro-independence student group arrested on suspicion of 'inciting secession' under Hong Kong's security law | Hong Kong Free Press HKFP</og:title>
<og:description>The ex-convenor of Hong Kong pro-independence group Studentlocalism was among four youngsters arrested on suspicion of inciting secession under the new national security law on Wednesday. Police arrested 19-year-old Tony Chung at his residence in Yuen Long and took him to Ma On Shan police station. Studentlocalism’s former spokesperson Ho Nok-hang and ex-member Yanni Ho […]</og:description>
<og:url>https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</og:url>
<og:image>https://i2.wp.com/hongkongfp.com/wp-content/uploads/2020/07/Article-Basic-Full-logo-40.jpg?fit=1200%2C675&amp;ssl=1</og:image>
<dc:language>en-GB</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://hongkongfp.com/2020/07/29/breaking-pro-independence-student-group-leader-arrested-on-suspicion-of-inciting-secession-under-hong-kongs-security-law/</dc:identifier>
</item>
<item>
<title>TheirTube – How do the recommended videos look on their Youtube home page?</title>
<link>http://www.their.tube</link>
<guid isPermaLink="true" >http://www.their.tube</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;http://www.their.tube&quot;&gt;http://www.their.tube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=23987562&quot;&gt;https://news.ycombinator.com/item?id=23987562&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 215&lt;/p&gt;
&lt;p&gt;# Comments: 118&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 15:17:42 +0000</pubDate>
<dc:creator>reimertz</dc:creator>
<og:title>TheirTube</og:title>
<og:type>website</og:type>
<og:description>How do the recommended videos look like on their Youtube?</og:description>
<og:image>https://www.their.tube/ogp.png</og:image>
<og:url>https://their.tube</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.their.tube/</dc:identifier>
</item>
<item>
<title>Some SQL Tricks of an Application DBA</title>
<link>https://hakibenita.com/sql-tricks-application-dba</link>
<guid isPermaLink="true" >https://hakibenita.com/sql-tricks-application-dba</guid>
<description>&lt;hr/&gt;&lt;p&gt;When I started my career in development, my first job was a DBA. Back then, before AWS RDS, Azure, Google Cloud and the rest of them cloud services, there were two types of DBAs:&lt;/p&gt;&lt;p&gt;&lt;strong&gt;The Infrastructure DBA&lt;/strong&gt; was in charge of setting up the database, configuring the storage and taking care of backups and replication. After setting up the database, the infrastructure DBA would pop up from time to time and do some &quot;instance tuning&quot;, things like sizing caches.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Application DBA&lt;/strong&gt; got a clean database from the infrastructure DBA, and was in charge of schema design: creating tables, indexes, constraints, and tuning SQL. The application DBA was also the one who implemented ETL processes and data migrations. In teams that used stored procedures, the application DBA would maintain those as well.&lt;/p&gt;
&lt;p&gt;Application DBAs were usually part of the development team. They would possess deep domain knowledge so normally they would work on just one or two projects. Infrastructure DBAs would usually be part of some IT team, and would work on many projects simultaneously.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I'm an Application DBA&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I never had any desire to fiddle with backups or tune storage (I'm sure it's fascinating!). Until this day I like to say I'm a DBA that knows how to develop applications, and not a developer that knows his way around the database.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In this article I share some non-trivial tips about database development I gathered along the way.&lt;/strong&gt;&lt;/p&gt;
&lt;img alt=&quot;Be that guy...&amp;lt;br&amp;gt;Image by &amp;lt;a href=&amp;quot;https://www.commitstrip.com/en/2014/08/01/when-i-help-a-rookie-coder-fix-his-queries&amp;quot;&amp;gt;CommitStrip&amp;lt;/a&amp;gt;&quot; src=&quot;https://hakibenita.com/images/00-sql-tricks-dba.jpg&quot;/&gt;Be that guy...&lt;br/&gt;Image by &lt;a href=&quot;https://www.commitstrip.com/en/2014/08/01/when-i-help-a-rookie-coder-fix-his-queries&quot;&gt;CommitStrip&lt;/a&gt;
&lt;details class=&quot;toc-container&quot; open=&quot;&quot;&gt;Table of Contents

&lt;/details&gt;&lt;hr/&gt;
&lt;p&gt;&lt;code&gt;UPDATE&lt;/code&gt; is a relatively expensive operation. To speed up an &lt;code&gt;UPDATE&lt;/code&gt; command it's best to make sure you only update what needs updating.&lt;/p&gt;
&lt;p&gt;Take this query for example that normalizes an email column:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;UPDATE 1010000&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 1583.935 ms (00:01.584)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looks innocent, right? the query updated emails of 1,010,000 users. But, did all rows really needed to update?&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;UPDATE 10000&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 299.470 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Only 10,000 rows needed to update. By reducing the amount of affected rows, the execution time went down from 1.5 seconds to just less than 300ms. Updating fewer rows also saves the database maintenance later on.&lt;/p&gt;
Update Only What Needs Updating
&lt;p&gt;This type of large updates are very common in data migration scripts. So the next time you write a migration script, make sure to only update what needs updating.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Constraints are an important part of relational databases: they keep the data consistent and reliable. Their benefits come at a cost though, and it's most noticeable when loading or updating a lot of rows.&lt;/p&gt;
&lt;p&gt;To demonstrate, set up a small schema for a store:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;20&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CASCADE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;INT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CASCADE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;created&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timestamptz&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;product_id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;customer_id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The schema defines different types of constraints such as &quot;not null&quot; and unique constraints.&lt;/p&gt;
&lt;p&gt;To set a baseline, start by adding foreign keys to the &lt;code&gt;sale&lt;/code&gt; table, and then load some data into it:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CONSTRAINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_product_fk&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;product_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ALTER TABLE&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 18.413 ms&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CONSTRAINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_customer_fk&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;customer_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ALTER TABLE&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 5.464 ms&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_created_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;created&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 12.605 ms&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SALE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;created&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 hour'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INSERT 0 1000000&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 15410.234 ms (00:15.410)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After defining constraints and indexes, loading a million rows to the table took ~15.4s.&lt;/p&gt;
&lt;p&gt;Next, try to load the data into the table first, and only then add constraints and indexes:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SALE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;created&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 hour'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INSERT 0 1000000&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 2277.824 ms (00:02.278)&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CONSTRAINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_product_fk&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;product_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ALTER TABLE&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 169.193 ms&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CONSTRAINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_customer_fk&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;customer_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ALTER TABLE&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 185.633 ms&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_created_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;created&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Time: 484.244 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Loading data into a table without indexes and constraints was much faster, 2.27s compared to 15.4s before. Creating the indexes and constraints after the data was loaded into the table took a bit longer, but overall the entire process was much faster, 3.1s compared to 15.4s.&lt;/p&gt;
&lt;p&gt;Unfortunately, for indexes PostgreSQL does not provide an easy way of doing this other than dropping and re-creating the indexes. In other databases such as Oracle, you can &lt;a href=&quot;https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558&quot; rel=&quot;noopener&quot;&gt;disable and enable indexes&lt;/a&gt; without having to re-create them.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;When you modify data in PostgreSQL, the changes are written to the &lt;a href=&quot;https://www.postgresql.org/docs/current/wal-intro.html&quot; rel=&quot;noopener&quot;&gt;write ahead log (WAL)&lt;/a&gt;. The WAL is used to maintain integrity, to fast forward the database during recovery and to maintain replication.&lt;/p&gt;
&lt;p&gt;Writing to the WAL is often needed, but there are some circumstances where you might be willing to give up some of its uses to make things a bit faster. One example is intermediate tables.&lt;/p&gt;
&lt;p&gt;Intermediate tables are disposable tables that stores temporary data used to implement some process. For example, a very common pattern in ETL processes is to load data from a CSV file to an intermediate table, clean the data, and then load it to the target table. In this use-case, the intermediate table is disposable and there is no use for it in backups or replicas.&lt;/p&gt;
UNLOGGED table
&lt;p&gt;Intermediate tables that don't need to be restored in case of disaster, and are not needed in replicas, can be set as &lt;a href=&quot;https://www.postgresql.org/docs/current/sql-createtable.html#SQL-CREATETABLE-UNLOGGED&quot; rel=&quot;noopener&quot;&gt;UNLOGGED&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UNLOGGED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;staging_table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* table definition */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;BEWARE&lt;/strong&gt;: Before using &lt;code&gt;UNLOGGED&lt;/code&gt; make sure you understand its full implications.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Say you have a users table, and you find that you have some duplicates in the table:&lt;/p&gt;
&lt;details readability=&quot;7&quot;&gt;Table setup
&lt;div class=&quot;highlight&quot; readability=&quot;19&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;SERIAL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNIQUE&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;SERIAL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;INT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CONSTRAINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders_user_fk&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;USERS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'foo@bar.baz'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'me@hakibenita.com'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ME@hakibenita.com'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;----+-------------------+----------&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baz&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hakibenita&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hakibenita&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hakibenita&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The user &lt;em&gt;haki benita&lt;/em&gt; registered twice, once with the email &lt;code&gt;ME@hakibenita.com&lt;/code&gt; and again with &lt;code&gt;me@hakibenita.com&lt;/code&gt;. Because we didn't normalize the emails when we inserted them into the table, we now have to deal with duplication.&lt;/p&gt;
&lt;p&gt;To consolidate the duplicate users, we want to:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Identify duplicate users by lower case email&lt;/li&gt;
&lt;li&gt;Update orders to reference one of the duplicate users&lt;/li&gt;
&lt;li&gt;Remove the duplicate users from the users table&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;One way to consolidate duplicate users is to use an intermediate table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;13&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNLOGGED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;normalized_email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;array_remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;normalized_email&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;HAVING&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE TABLE&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; normalized_email  | convert_to_user | convert_from_users&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-------------------+-----------------+--------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; me@hakibenita.com |               2 | {3}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The intermediate table holds a mapping of duplicate users. For each user that appears more than once with the same normalized email address, we define the user with the min ID as the user we convert all duplicates to. The other users are kept in an array column, and all the references to these users will be updated.&lt;/p&gt;
&lt;p&gt;Using the intermediate table, we update references of duplicate users in the &lt;code&gt;orders&lt;/code&gt; table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;UPDATE 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that there are no more references, we can safely delete the duplicate users from the &lt;code&gt;users&lt;/code&gt; table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db(#&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unnest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db(#&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db(#&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;DELETE 1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that we used the function &lt;a href=&quot;https://www.postgresql.org/docs/current/functions-array.html#ARRAY-FUNCTIONS-TABLE&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;unnest&lt;/code&gt;&lt;/a&gt; to &quot;transpose&quot; the array, that is, turn each array element into a row.&lt;/p&gt;
&lt;p&gt;This is the result:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order_id&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; id |       email       | order_id&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;----+-------------------+----------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;  1 | foo@bar.baz       |        1&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;  1 | foo@bar.baz       |        2&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;  2 | me@hakibenita.com |        3&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;  2 | me@hakibenita.com |        4&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;  2 | me@hakibenita.com |        5&lt;/span&gt;
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nice, all occurrences of user 3 (ME@hakibenita.com) are converted to user 2 (me@hakibenita.com).&lt;/p&gt;
&lt;p&gt;We can also verify that the duplicate users were deleted from the &lt;code&gt;users&lt;/code&gt; table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; id |       email&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;----+-------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;  1 | foo@bar.baz&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;  2 | me@hakibenita.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we can get rid of the intermediate table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;DROP TABLE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is fine, but very long and needs cleaning up! Is there a better way?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Using Common Table Expressions (CTE)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Using &lt;a href=&quot;https://www.postgresql.org/docs/current/queries-with.html&quot; rel=&quot;noopener&quot;&gt;Common Table Expressions&lt;/a&gt;, also known as the &lt;code&gt;WITH&lt;/code&gt; clause, we can perform the entire process with just one SQL statement:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;13&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;array_remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;HAVING&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;update_orders_of_duplicate_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;unnest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instead of creating the intermediate table, we create a common table expression and reuse it multiple times.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Returning Results From CTE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A nice feature of executing DML inside a &lt;code&gt;WITH&lt;/code&gt; clause, is that you can return data from it using the &lt;a href=&quot;https://www.postgresql.org/docs/current/dml-returning.html&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;RETURNING&lt;/code&gt; keyword&lt;/a&gt;. For example, let's report the number of updated and deleted rows:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;array_remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;HAVING&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;update_orders_of_duplicate_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_to_user&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;RETURNING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;delete_duplicate_user&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unnest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert_from_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duplicate_users&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;        &lt;span class=&quot;n&quot;&gt;RETURNING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update_orders_of_duplicate_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders_updated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delete_duplicate_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_deleted&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the result:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 &lt;span class=&quot;n&quot;&gt;orders_updated&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_deleted&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;----------------+---------------&lt;/span&gt;
              &lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;             &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The main appeal of this approach is that the entire process is executed in a single command, so no need to manage a transaction or worry about cleaning up the intermediate table if the process fails.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CAUTION&lt;/strong&gt;: &lt;a href=&quot;https://www.reddit.com/r/programming/comments/hyv0xh/some_sql_tricks_of_an_application_dba/fzhqzw5?utm_source=share&amp;amp;utm_medium=web2x&quot; rel=&quot;noopener&quot;&gt;A reader on Reddit&lt;/a&gt; pointed me to a possibly &lt;a href=&quot;https://www.postgresql.org/docs/current/queries-with.html#QUERIES-WITH-MODIFYING&quot; rel=&quot;noopener&quot;&gt;unpredictable behavior of executing DML in common table expressions&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;The sub-statements in WITH are executed concurrently with each other and with the main query. Therefore, when using data-modifying statements in WITH, the order in which the specified updates actually happen is unpredictable&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This means you cannot rely on the order in which independent sub-statements are executed. It seems that when there is a dependency between sub-statements, like in the example above, you can rely on a dependent sub-statement to execute before it is being used.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Say you have a registration process where users sign up with an email address. To activate the account, they have to verify their email. Your table can look like this:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;boolean&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE TABLE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most of your users are good citizens, they sign up with a valid email and immediately activate the account. Let's populate the table with user data, where roughly 90% of the users are activated:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;14&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.9&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INSERT 0 1000000&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; activated | count&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-----------+--------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; f         | 102567&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; t         | 897433&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VACUUM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;VACUUM&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To query for activated and unactivated users, you might be tempted to create an index on the column &lt;code&gt;activated&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_activated_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When you try to query &lt;em&gt;unactivated users&lt;/em&gt;, the database is using the index:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                      QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Bitmap Heap Scan on users  (cost=1923.32..11282.99 rows=102567 width=38)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Filter: (NOT activated)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;   -&amp;gt;  Bitmap Index Scan on users_activated_ix  (cost=0.00..1897.68 rows=102567 width=0)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;         Index Cond: (activated = false)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The database estimated that the filter will result in 102,567 which are roughly 10% of the table. This is consistent with the data we populated, so the database has a good sense of the data.&lt;/p&gt;
&lt;p&gt;However, when you try to query for &lt;em&gt;activated users&lt;/em&gt; you find that the database decided &lt;em&gt;not to use the index&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                          QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;---------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Seq Scan on users  (cost=0.00..18334.00 rows=897433 width=38)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Filter: activated&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Many developers are often baffled when they the database is not using an index. One way of explaining why an index is not always the best choice is this: &lt;strong&gt;if you had to read the entire table, would you use the index?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The answer is probably no, because why would you? Reading from disk is expensive and you want to read as little as possible. If for example, a table is 10MB and the index is 1MB, to read the entire table you would have to read 10MB from disk. To read the table using the index you would have to read 11MB from disk. This is wasteful.&lt;/p&gt;
&lt;p&gt;With this understanding, let's have a look at the statistics PostgreSQL gather on the table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;14&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_distinct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;most_common_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;most_common_freqs&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stats&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'users'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'activated'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;------------------+------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;attname           | activated&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;n_distinct        | 2&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;most_common_vals  | {t,f}&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;most_common_freqs | {0.89743334,0.10256667}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When PostgreSQL analyzed the table it found that the column &lt;code&gt;activated&lt;/code&gt; has two distinct values. The value &lt;code&gt;t&lt;/code&gt; in the &lt;code&gt;most_common_vals&lt;/code&gt; column corresponds to the frequency &lt;code&gt;0.89743334&lt;/code&gt; in the column &lt;code&gt;most_common_freqs&lt;/code&gt;, and the value &lt;code&gt;f&lt;/code&gt; corresponds to the frequency &lt;code&gt;0.10256667&lt;/code&gt;. This means that after analyzing the table, the database estimates that 89.74% of the table are activated users, and the rest 10.26% are unactivated users.&lt;/p&gt;
&lt;p&gt;With these stats, PostgreSQL decided it's best to scan the entire table if it expects 90% of the rows to satisfy the condition. The threshold after which the database may decide to use or not to use the index depends on many factors, and there is no rule of thumb you can use.&lt;/p&gt;
Index for a column with low selectivity vs. high selectivity
&lt;hr/&gt;
&lt;p&gt;In the previous section we created an index on a boolean column where ~90% of the of the values were true (activated user). When we tried to query for active users, the database did not use the index. However, when we queried unactivated users the database did use the index.&lt;/p&gt;
&lt;p&gt;This brings us to the next question.... if the database is not going to use the index to filter active users, why should we index them in the first place?&lt;/p&gt;
&lt;p&gt;Before we answer this question let's look at how much the full index on the &lt;code&gt;activated&lt;/code&gt; column weighs:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;\di+&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;users_activated_ix&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt; Schema |      Name          | Type  | Owner | Table | Size&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------+--------------------+-------+-------+-------+------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; public | users_activated_ix | index | haki  | users | 21 MB&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The index is 21MB. Just for reference, the &lt;code&gt;users&lt;/code&gt; table is 65MB. This means the index weighs ~32% the size of the table. We also know that ~90% of the index is likely not going to be used.&lt;/p&gt;
&lt;p&gt;In PostgreSQL, there is a way to create an index on only a part of the table, using whats called a &lt;a href=&quot;https://www.postgresql.org/docs/current/indexes-partial.html&quot; rel=&quot;noopener&quot;&gt;partial index&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_unactivated_partial_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using a &lt;code&gt;WHERE&lt;/code&gt; clause, we restrict the rows indexed by the index. Let's first make sure it works:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                           QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;------------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Index Scan using users_unactivated_partial_ix on users  (cost=0.29..3493.60 rows=102567 width=38)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Amazing, the database was smart enough to understand that the predicate we used in the query can be satisfied by the partial index.&lt;/p&gt;
&lt;p&gt;There is another benefit to using partial indexes:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;\di+&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;users_unactivated_partial_ix&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                 List of relations&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Schema |           Name               | Type  | Owner | Table |  Size&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------+------------------------------+-------+-------+-------+---------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; public | users_unactivated_partial_ix | index | haki  | users | 2216 kB&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The partial index weighs only 2.2MB. The full index on the column weighed 21MB. The partial index is exactly 10% the size of the full index, which matches the ratio of inactive users in the table.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;This is one of the things I comment most about in code reviews. It's not as intuitive as the other tips and it can have a huge impact on performance.&lt;/p&gt;
&lt;p&gt;Say you have a large sales fact table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE TABLE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Every night, during some ETL process, you load data into the table:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;'2020-01-01'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;365&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;INSERT 0 100000&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VACUUM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;VACUUM&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To fake a loading process we used random data. We inserted 100K rows with random username, and sale dates from 2020-01-01 to two years forward.&lt;/p&gt;
&lt;p&gt;The table is used mostly to produce summary sales reports. Most reports filter by date to get the sales at a specific period. To speed up range scans you create an index on &lt;code&gt;sold_at&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact_sold_at_ix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's look at the execution plan of a query to fetch all sales made in June 2020:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt;                            QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-----------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Bitmap Heap Scan on sale_fact  (cost=108.30..1107.69 rows=4293 width=41)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Recheck Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Heap Blocks: exact=927&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   -&amp;gt;  Bitmap Index Scan on sale_fact_sold_at_ix  (cost=0.00..107.22 rows=4293 width=0)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;         Index Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Planning Time: 0.191 ms&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Execution Time: 5.906 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After executing the query several times to warm up the cache, the timing settled at ~6ms.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bitmap Scan&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Looking at the execution plan, we can see that the database used a bitmap scan. A bitmap scan works in two stages:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Bitmap Index Scan&lt;/code&gt;: Go through the entire index &lt;code&gt;sale_fact_sold_at_ix&lt;/code&gt; and map all the table pages that contain relevant rows.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bitmap Heap Scan&lt;/code&gt;: Read the pages that contain relevant rows, and find the rows inside these pages that satisfy the condition.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Pages can contain multiple rows. The first step uses the index to find &lt;em&gt;pages&lt;/em&gt;. The second step check for &lt;em&gt;rows&lt;/em&gt; inside these pages, hence the &quot;Recheck Cond&quot; operation in the execution plan.&lt;/p&gt;
&lt;p&gt;At this point many DBAs and developers will call it a day and move on to the next query. BUT, there's a way to make this query better.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Index Scan&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To make things better, we'll make a small change in how we load the data.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;13&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TRUNCATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;TRUNCATE TABLE&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;'2020-01-01'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;365&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;INSERT 0 100000&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VACUUM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;VACUUM&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This time, we loaded the data sorted by the &lt;code&gt;sold_at&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let's see what the execution plan for the exact same query looks like now:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt;                           QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;---------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Index Scan using sale_fact_sold_at_ix on sale_fact (cost=0.29..184.73 rows=4272 width=41)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Index Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Planning Time: 0.145 ms&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Execution Time: 2.294 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After running the query several times we get a stable timing at round 2.3ms. Compared to the previous query that took ~6ms, we get a consistent saving of ~60%.&lt;/p&gt;
&lt;p&gt;Another thing we can see right away, is that the database did not use a bitmap scan this time, but a &quot;regular&quot; index scan. Why is that?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Correlation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When the database is analyzing a table it collects all sort of statistics. One of those statistics is &lt;a href=&quot;https://www.postgresql.org/docs/current/view-pg-stats.html&quot; rel=&quot;noopener&quot;&gt;&lt;strong&gt;correlation&lt;/strong&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;Statistical correlation between physical row ordering and logical ordering of the column values. This ranges from -1 to +1. When the value is near -1 or +1, an index scan on the column will be estimated to be cheaper than when it is near zero, due to reduction of random access to the disk.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As the official documentation explains, the correlation measures how &quot;sorted&quot; values of a specific column are on disk.&lt;/p&gt;
correlation = 1
&lt;p&gt;When the correlation is 1, or close to 1, it means the pages in the tables are stored on disk in roughly the same order as the rows in the table. This is actually very common. For example, auto incrementing ID's will usually have a correlation close to 1. Date and timestamp columns that keeps track of when rows were created will also usually have a correlation close to 1.&lt;/p&gt;
&lt;p&gt;When the correlation is -1, the pages of the table are sorted in reverse order relative to the column.&lt;/p&gt;
correlation ~ 0
&lt;p&gt;When the correlation is close to 0, it mean the values in the column have no or very little correlation to how the pages of the table are stored.&lt;/p&gt;
&lt;p&gt;Going back to our &lt;code&gt;sale_fact&lt;/code&gt; table, when we loaded the data into the table without sorting it first, these were the correlations:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correlation&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stats&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'sale_fact'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt; tablename | attname  | correlation&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-----------+----------+--------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; sale      | id       |            1&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; sale      | username | -0.005344716&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt; sale      | sold_at  | -0.011389783&lt;/span&gt;
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The auto generated column &lt;code&gt;id&lt;/code&gt; has a correlation of 1. The &lt;code&gt;sold_at&lt;/code&gt; column has a very low correlation: consecutive values are scattered across the entire table.&lt;/p&gt;
&lt;p&gt;When we loaded sorted data into the table, these were the correlations calculated by the database:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
 &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;correlation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-----------+----------+----------------&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;              &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.00041992788&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;              &lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The correlation for &lt;code&gt;sold_at&lt;/code&gt; is now 1.&lt;/p&gt;
&lt;p&gt;So why did the database use a bitmap scan when the correlation was low, and an index scan when the correlation was close to 1?&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;When the correlation was 1, the database estimated that rows in the requested range are likely to be in consecutive pages. In this case, an index scan is likely to read very few pages.&lt;/li&gt;
&lt;li&gt;When the correlation was close to 0, the database estimated that rows in the requested range are likely to be scattered across the entire table. In this case, it makes sense to use a bitmap scan to map the table pages in which rows exist, and only then fetch them and apply the condition.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The next time you load data into a table, think about how the data is going to be queried, and make sure you sort it in a way that indexes used for range scan can benefit from.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;CLUSTER&lt;/code&gt; Command&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Another way of &quot;sorting a table on disk&quot; by a specific index is to use the &lt;a href=&quot;https://www.postgresql.org/docs/current/sql-cluster.html&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;CLUSTER&lt;/code&gt; command&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TRUNCATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;TRUNCATE TABLE&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt;-- Insert rows without sorting&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;'2020-01-01'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;365&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;generate_series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100000&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ANALYZE&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correlation&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stats&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'sale_fact'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt;  tablename | attname  |  correlation&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-----------+-----------+----------------&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt; sale_fact | sold_at   | -5.9702674e-05&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt; sale_fact | id        |              1&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; sale_fact | username  |    0.010033822&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We loaded data into the table in random order and as a result the correlation of &lt;code&gt;sold_at&lt;/code&gt; is close to zero.&lt;/p&gt;
&lt;p&gt;To &quot;rearrange&quot; the table by &lt;code&gt;sold_at&lt;/code&gt;, we used the &lt;code&gt;CLUSTER&lt;/code&gt; command to sort the table on disk according to the index &lt;code&gt;sale_fact_sold_at_ix&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CLUSTER&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact_sold_at_ix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;CLUSTER&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ANALYZE&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correlation&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pg_stats&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tablename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'sale_fact'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;go&quot;&gt; tablename | attname  | correlation&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;-----------+----------+--------------&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt; sale_fact | sold_at  |            1&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt; sale_fact | id       | -0.002239401&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; sale_fact | username |  0.013389298&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After the table was clustered we can see that the correlation for &lt;code&gt;sold_at&lt;/code&gt; is 1.&lt;/p&gt;
CLUSTER command
&lt;p&gt;Some things to note about the &lt;code&gt;CLUSTER&lt;/code&gt; command:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Clustering the table by a specific column may affect the correlation of other column. See for example the correlation of the column &lt;code&gt;id&lt;/code&gt; after we clustered the table by &lt;code&gt;sold_at&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CLUSTER&lt;/code&gt; is a heavy, blocking operation, so make sure you don't execute it on a live table.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;For these two reason it's best to insert the data sorted and not rely on &lt;code&gt;CLUSTER&lt;/code&gt;.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;When talking about indexes, most developers will think about B-Tree indexes. But, PostgreSQL provides other types of indexes such as &lt;a href=&quot;https://www.postgresql.org/docs/current/brin.html&quot; rel=&quot;noopener&quot;&gt;BRIN&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;BRIN is designed for handling very large tables in which certain columns have some natural correlation with their physical location within the table&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;BRIN stands for Block Range Index. According to the documentation, a BRIN index works best for columns with high correlation. As we've already seen in previous sections, some fields such as auto incrementing IDs and timestamps are naturally correlated with the physical structure of the table, hence they are good candidates for a BRIN index.&lt;/p&gt;
&lt;p&gt;Under some circumstances, a BRIN index can provide a better &quot;value for money&quot; in terms of size and performance compared to a similar B-Tree index.&lt;/p&gt;
BRIN Index
&lt;p&gt;A BRIN index works by keeping the range of values within a number of adjacent pages in the table. Say we have these values in a column, each is single table page:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
1, 2, 3, 4, 5, 6, 7, 8, 9
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A BRIN index works on ranges of adjacent pages in the table. If the number of adjacent pages is set to 3, the index will divide the table into the following ranges:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
[1,2,3], [4,5,6], [7,8,9]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For each range, the BRIN index &lt;strong&gt;keeps the minimum and maximum value&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
[1–3], [4–6], [7–9]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using the index above, try to search for the value 5:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;[1–3]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[4–6]&lt;/code&gt; - Might be here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[7–9]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Using the BRIN index we managed to limit our search to blocks 4–6.&lt;/p&gt;
&lt;p&gt;Let's take another example, this time the values in the column will have a correlation close to zero, meaning they are &lt;em&gt;not&lt;/em&gt; sorted:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
[2,9,5], [1,4,7], [3,8,6]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Indexing 3 adjacent blocks produces the following ranges:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
[2–9], [1–7], [3–8]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's try to search for the value 5:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;[2–9]&lt;/code&gt; - Might be here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1–7]&lt;/code&gt; - Might be here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[3–8]&lt;/code&gt; - Might be here&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In this case the index is not limiting the search &lt;em&gt;at all&lt;/em&gt;, hence it is useless.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Understanding &lt;code&gt;pages_per_range&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The number of adjacent pages is determined by the parameter &lt;code&gt;pages_per_range&lt;/code&gt;. The number of pages per range effects the size and accuracy of the BRIN index:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;A large &lt;code&gt;pages_per_range&lt;/code&gt; will produce a small and less accurate index&lt;/li&gt;
&lt;li&gt;A small &lt;code&gt;pages_per_range&lt;/code&gt; will produce a bigger and more accurate index&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The default &lt;code&gt;pages_per_range&lt;/code&gt; is 128.&lt;/p&gt;
BRIN index with lower `pages_per_range`
&lt;p&gt;To demonstrate, let's create a BRIN index on ranges of 2 adjacent pages and search for the value 5:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;[1–2]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[3–4]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[5–6]&lt;/code&gt; - Might be here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[7–8]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[9]&lt;/code&gt; - Definitely not here&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Using the index with 2 pages per range we were able to limit the search to blocks 5 and 6. When the range was 3 pages, the index limited the search to blocks 4,5 and 6.&lt;/p&gt;
&lt;p&gt;Another difference between the two indexes is that when the range was 3 we only had to keep 3 ranges. When the range was 2 we had to keep 5 ranges so the index was bigger.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Creating a BRIN Index&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Using the &lt;code&gt;sales_fact&lt;/code&gt; from before, let's create a BRIN index on the column &lt;code&gt;sold_at&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact_sold_at_bix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BRIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pages_per_range&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This creates a BRIN index with the default &lt;code&gt;pages_per_range = 128&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let's try to query for a range of sale dates:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                    QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Bitmap Heap Scan on sale_fact  (cost=13.11..1135.61 rows=4319 width=41)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Recheck Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;   Rows Removed by Index Recheck: 23130&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;   Heap Blocks: lossy=256&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   -&amp;gt;  Bitmap Index Scan on sale_fact_sold_at_bix  (cost=0.00..12.03 rows=12500 width=0)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;         Index Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Execution Time: 8.877 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The database used our BRIN index to get a range of sale dates, but that's not the interesting part...&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Optimizing &lt;code&gt;pages_per_range&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;According to the execution plan, the database removed 23,130 rows from the pages it found using the index. This may indicate that the range we set for the index it too large for this particular query. Let's try to create an index with less pages per range:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact_sold_at_bix64&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BRIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pages_per_range&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;CREATE INDEX&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ANALYZE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                        QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;---------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Bitmap Heap Scan on sale_fact  (cost=13.10..1048.10 rows=4319 width=41)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   Recheck Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt;   Rows Removed by Index Recheck: 9434&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;   Heap Blocks: lossy=128&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;   -&amp;gt;  Bitmap Index Scan on sale_fact_sold_at_bix64  (cost=0.00..12.02 rows=6667 width=0)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;         Index Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Execution Time: 5.491 ms&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With 64 pages per range the database removed less rows from the pages it found using the the index, only 9,434 were removed compared with 23,130 when the the range was 128 pages. This means the database had to do less IO and the query was slightly faster, ~5.5ms compared to ~8.9ms.&lt;/p&gt;
&lt;p&gt;Testing the index with different values for &lt;code&gt;pages_per_range&lt;/code&gt; produced the following results:&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;pages_per_range&lt;/th&gt;
&lt;th&gt;Rows Removed by Index Recheck&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;128&lt;/td&gt;
&lt;td&gt;23,130&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;9,434&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;874&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;446&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;446&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;We can see that as we decrease &lt;code&gt;pages_per_range&lt;/code&gt;, the index is more accurate and less rows are removed from the pages found using the index.&lt;/p&gt;
&lt;p&gt;Note that we optimized the query for a very specific query. This is fine for demonstration purposes, but in real life it's best to use values that meet the needs of most queries.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Evaluating Index Size&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Another big selling point for BRIN indexes is their size. In previous sections we created a B-Tree index on the &lt;code&gt;sold_at&lt;/code&gt; field. The size of the index was 2224kB. The size a BRIN index with &lt;code&gt;pages_per_range=128&lt;/code&gt; is only 48kb. That's 46 times smaller than the B-Tree index.&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
 Schema |         Name          | Type  | Owner |   Table   | Size
--------+-----------------------+-------+-------+-----------+-------
 public | sale_fact_sold_at_bix | index | haki  | sale_fact | 48 kB
 public | sale_fact_sold_at_ix  | index | haki  | sale_fact | 2224 kB
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The size of a BRIN index is also affected by &lt;code&gt;pages_per_range&lt;/code&gt;. For example, a BRIN index with &lt;code&gt;pages_per_range=2&lt;/code&gt; weighs 56kb, which is only slightly bigger than 48kb.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;PostgreSQL has a nice feature called &lt;a href=&quot;https://wiki.postgresql.org/wiki/Transactional_DDL_in_PostgreSQL:_A_Competitive_Analysis#Transactional_DDL&quot; rel=&quot;noopener&quot;&gt;transactional DDL&lt;/a&gt;. After years of using Oracle, I got used to DDL commands such as &lt;code&gt;CREATE&lt;/code&gt;, &lt;code&gt;DROP&lt;/code&gt; and &lt;code&gt;ALTER&lt;/code&gt; ending a transaction. However, in PostgreSQL you can perform DDL commands inside a transaction, and changes will take effect only when the transaction is committed.&lt;/p&gt;
&lt;p&gt;As I &lt;a href=&quot;https://twitter.com/be_haki/status/1282585977668751360?s=20&quot; rel=&quot;noopener&quot;&gt;recently discovered&lt;/a&gt;, using transactional DDL you can make indexes invisible! This comes in handy when you want to see what an execution plan looks like without some index.&lt;/p&gt;
&lt;p&gt;For example, in the &lt;code&gt;sale_fact&lt;/code&gt; table from the previous section we created an index on &lt;code&gt;sold_at&lt;/code&gt;. The execution plan for fetching sales made in July looked like this:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                         QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------------------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt; Index Scan using sale_fact_sold_at_ix on sale_fact  (cost=0.42..182.80 rows=4319 width=41)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;   Index Cond: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))P&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To see what the execution plan would be if the index &lt;code&gt;sale_fact_sold_at_ix&lt;/code&gt; did not exist, we can drop the index inside a transaction and immediately rollback:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BEGIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;BEGIN&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact_sold_at_ix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;DROP INDEX&lt;/span&gt;

&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sale_fact&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;db-#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sold_at&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BETWEEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-01'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2020-07-31'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                   QUERY PLAN&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;---------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;go&quot;&gt; Seq Scan on sale_fact  (cost=0.00..2435.00 rows=4319 width=41)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;   Filter: ((sold_at &amp;gt;= '2020-07-01'::date) AND (sold_at &amp;lt;= '2020-07-31'::date))&lt;/span&gt;

&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ROLLBACK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;ROLLBACK&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We first start a transaction using &lt;code&gt;BEGIN&lt;/code&gt;. Then we drop the index and generate an execution plan. Notice that the execution plan now uses a full table scan, as if the index does not exist. At this point the transaction is still in progress, so the index is not dropped yet. To finish the transaction without dropping the index we rollback the transaction using the &lt;code&gt;ROLLBACK&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;Now, make sure the index still exists:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gp&quot;&gt;db=#&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;\di+&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;sale_fact_sold_at_ix&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;                                 List of relations&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; Schema |         Name         | Type  | Owner |   Table   |  Size&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;--------+----------------------+-------+-------+-----------+---------&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt; public | sale_fact_sold_at_ix | index | haki  | sale_fact | 2224 kB&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Other database that don't support transactional DDL provide other ways to achieve the same goal. For example, Oracle let's you mark an index as &lt;a href=&quot;https://docs.oracle.com/cd/B28359_01/server.111/b28310/indexes003.htm#ADMIN12317&quot; rel=&quot;noopener&quot;&gt;invisible&lt;/a&gt;, which will cause the optimizer to ignore it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CAUTION&lt;/strong&gt;: Dropping an index inside a transaction will lock out concurrent selects, inserts, updates, and deletes on the table while the transaction is active. Use with caution in test environments, and avoid on production databases.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;It's a known fact among investors that weird things can happen when a stock's price reaches a nice round number such as 10$, 100$, 1000$. As &lt;a href=&quot;https://www.investopedia.com/trading/support-and-resistance-basics/#mntl-sc-block_1-0-38&quot; rel=&quot;noopener&quot;&gt;the following article&lt;/a&gt; explains:&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;[...] asset's price may have a difficult time moving beyond a round number, such as $50 or $100 per share. Most inexperienced &lt;strong&gt;traders tend to buy or sell assets when the price is at a whole number&lt;/strong&gt; because they are more likely to feel that a stock is fairly valued at such levels.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Developers in this sense are not all that different than the investors. When they need to schedule a long running process, they will usually schedule it at a round hour.&lt;/p&gt;
Typical load on a system during the night
&lt;p&gt;This tendency to schedule tasks at round hours can cause some unusual loads during these times. So, if you need to schedule some long running process, you have a better chance of finding a system at rest if you schedule at another time.&lt;/p&gt;
&lt;p&gt;Another good idea is to apply a random delay to the task's schedule, so it doesn't run at the same time every time. This way, even if another task is scheduled to run at the same time, it won't be a big problem. If you use &lt;code&gt;systemd&lt;/code&gt; timer units to schedule your tasks, you can use the &lt;a href=&quot;https://www.freedesktop.org/software/systemd/man/systemd.timer.html#RandomizedDelaySec=&quot; rel=&quot;noopener&quot;&gt;RandomizedDelaySec&lt;/a&gt; option for this.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;This article covers some trivial and non-trivial tips from my own experience. Some of these tips are easy to implement, and some require a deeper understanding of how the database works. Databases are the backbone of most modern systems, so taking some time to understand how they work is a good investment for any developer!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This article was reviewed by the great team at &lt;a href=&quot;https://www.pgmustard.com/&quot; rel=&quot;noopener&quot;&gt;pgMustard&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 14:04:24 +0000</pubDate>
<dc:creator>samokhvalov</dc:creator>
<og:type>article</og:type>
<og:title>Some SQL Tricks of an Application DBA</og:title>
<og:description>Non-trivial tips for database development</og:description>
<og:url>https://hakibenita.com/sql-tricks-application-dba</og:url>
<og:image>https://hakibenita.com/images/00-sql-tricks-dba.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://hakibenita.com/sql-tricks-application-dba</dc:identifier>
</item>
<item>
<title>Show HN: WebGL simulation of rainy autumn day/evening</title>
<link>https://pluvoir.netlify.app/index.html</link>
<guid isPermaLink="true" >https://pluvoir.netlify.app/index.html</guid>
<description>&lt;header class=&quot;just-header&quot; id=&quot;topbar&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/logo.png&quot; class=&quot;logo&quot; alt=&quot;&quot;/&gt;&lt;nav class=&quot;just-demos&quot;&gt;&lt;a href=&quot;https://pluvoir.netlify.app/light.html&quot; aria-label=&quot;Low resource mode&quot; class=&quot;btn hint--left&quot;&gt;Minimalist version&lt;/a&gt; &lt;/nav&gt;&lt;/header&gt;

&lt;nav class=&quot;cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right&quot; id=&quot;cbp-spmenu-s2&quot;&gt;&lt;h3&gt;Menu&lt;/h3&gt;
&lt;span&gt;&lt;a href=&quot;javascript:;&quot; id=&quot;hideui&quot; class=&quot;btn&quot;&gt;hide ui &lt;/a&gt;&lt;a href=&quot;javascript:;&quot; id=&quot;showui&quot; class=&quot;btn2&quot;&gt; show ui&lt;/a&gt;&lt;/span&gt; &lt;span&gt;&lt;a href=&quot;https://pluvoir.netlify.app/index.html#slide-2&quot; class=&quot;btn&quot;&gt;drops-&lt;/a&gt; &lt;a href=&quot;https://pluvoir.netlify.app/index.html#slide-1&quot; class=&quot;btn2&quot;&gt;+drops&lt;/a&gt;&lt;/span&gt; &lt;span&gt;&lt;a href=&quot;https://pluvoir.netlify.app/light.html&quot;&gt;   Minimalist version&lt;/a&gt;&lt;/span&gt; &lt;span&gt;&lt;a href=&quot;javascript:;&quot; id=&quot;stop_all&quot;&gt;   Timer } stop sounds&lt;/a&gt;&lt;/span&gt; &lt;span&gt;&lt;a href=&quot;https://defonic.com&quot;&gt;   More sounds&lt;/a&gt;&lt;/span&gt;  

&lt;/nav&gt;&lt;div class=&quot;slideshow&quot;&gt;




&lt;nav class=&quot;slideshow__nav&quot; id=&quot;controls&quot;&gt;&lt;div id=&quot;jp_container_3&quot;&gt;

&lt;a href=&quot;javascript:;&quot; aria-label=&quot;Light rain&quot; class=&quot;jp-play hint--bottom&quot; id=&quot;shower3&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/rain.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; class=&quot;jp-pause&quot; id=&quot;hider3&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/rain.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div id=&quot;jp_container_2&quot;&gt;

&lt;a href=&quot;javascript:;&quot; aria-label=&quot;Raindrops hitting a window&quot; class=&quot;jp-play hint--bottom&quot; id=&quot;shower2&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/window.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; class=&quot;jp-pause&quot; id=&quot;hider2&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/window.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div id=&quot;jp_container_1&quot;&gt;

&lt;a href=&quot;javascript:;&quot; aria-label=&quot;Rainstorm&quot; class=&quot;jp-play hint--bottom&quot; id=&quot;shower1&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/rain_heavy.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; class=&quot;jp-pause&quot; id=&quot;hider1&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/rain_heavy.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div id=&quot;jp_container_4&quot;&gt;

&lt;a href=&quot;javascript:;&quot; aria-label=&quot;Splashing rainfall&quot; class=&quot;jp-play hint--bottom&quot; id=&quot;shower4&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/splash.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; class=&quot;jp-pause&quot; id=&quot;hider4&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/splash.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div id=&quot;jp_container_5&quot;&gt;

&lt;a href=&quot;javascript:;&quot; aria-label=&quot;Thunder&quot; class=&quot;jp-play hint--bottom&quot; id=&quot;shower5&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/thunderstorm.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; class=&quot;jp-pause&quot; id=&quot;hider5&quot;&gt;&lt;img src=&quot;https://pluvoir.netlify.app/img/thunderstorm.png&quot; class=&quot;knop&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/nav&gt;&lt;div class=&quot;just-demos2&quot; id=&quot;daytime&quot;&gt;&lt;a href=&quot;https://pluvoir.netlify.app/index.html#slide-1&quot; class=&quot;btn&quot;&gt;    Day  &lt;/a&gt; &lt;a href=&quot;https://pluvoir.netlify.app/index.html#slide-3&quot; id=&quot;stopall&quot; aria-label=&quot;No, please let it rain!&quot; class=&quot;btn hint--top&quot;&gt;Stop&lt;/a&gt; &lt;a href=&quot;https://pluvoir.netlify.app/index.html#slide-4&quot; class=&quot;btn2&quot;&gt;  Night    &lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;just-demos3&quot;&gt;&lt;a href=&quot;https://defonic.com&quot; class=&quot;btn&quot;&gt;    Nature sounds    &lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;nosupport&quot;&gt;Sorry, your browser doesn't support WebGL! Check out our minimalist version.&lt;/p&gt;
</description>
<pubDate>Wed, 29 Jul 2020 12:22:56 +0000</pubDate>
<dc:creator>maxraz</dc:creator>
<og:url>https://rainbowhunt.com</og:url>
<og:type>website</og:type>
<og:title>Rainbow Hunt</og:title>
<og:description>Ultimate rain simulator. Let the rain sing you a lullaby.</og:description>
<og:image>https://rainbowhunt.com/img/social.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://pluvoir.netlify.app/index.html</dc:identifier>
</item>
</channel>
</rss>