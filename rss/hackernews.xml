<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>JIRA is an antipattern</title>
<link>https://techcrunch.com/2018/12/09/jira-is-an-antipattern/</link>
<guid isPermaLink="true" >https://techcrunch.com/2018/12/09/jira-is-an-antipattern/</guid>
<description>&lt;p id=&quot;speakable-summary&quot;&gt;Atlassian’s JIRA began life as a bug-tracking tool. Today, though, it has become an agile planning suite, “&lt;a href=&quot;https://www.atlassian.com/software/jira/comparison/jira-vs-bugzilla&quot;&gt;to plan, track, and release great software&lt;/a&gt;.” In many organizations it has become the primary map of software projects, the hub of all development, the infamous “source of truth.”&lt;/p&gt;
&lt;p&gt;It is a truism that the map is not the territory. Alas, this seems especially true of JIRA. Its genesis as a bug tracker, and its resulting use of “tickets” as its fundamental, defining unit, have made its maps especially difficult to follow. JIRA&lt;sup&gt;1&lt;/sup&gt; is all too often used in a way which makes it, inadvertently, an industry-wide “antipattern,” i.e. “&lt;a href=&quot;https://en.wikipedia.org/wiki/Anti-pattern&quot;&gt;a common response to a recurring problem that is usually ineffective and risks being highly counterproductive&lt;/a&gt;.”&lt;/p&gt;
&lt;p&gt;One thing that writing elegant software has in common with art: its crafters should remain cognizant of the overall macro vision of the project, at the same time they are working on its smallest micro details. JIRA, alas, implicitly teaches everyone to ignore the larger vision while focusing on details. There is no whole. At best there is an “Epic” — but the whole point of an Epic is to be decomposed into smaller pieces to be worked on independently. JIRA encourages the disintegration of the macro vision.&lt;/p&gt;
&lt;p&gt;What’s more, feature-driven JIRA does not easily support the concept of project-wide infrastructure which does not map to individual features. A data model used across the project. A complex component used across multiple pages. A caching layer for a third-party interface. A background service providing real-time data used across multiple screens. Sure, you &lt;em&gt;can&lt;/em&gt; wedge those into JIRA’s ticket paradigm … but the spiderweb of dependencies which result don’t help anyone.&lt;/p&gt;
&lt;p&gt;Worst of all, though, is the endless implicit pressure for tickets to be &lt;em&gt;marked finished&lt;/em&gt;, to be passed on to the next phase. Tickets, in the JIRA mindset, are taken on, focused on until complete, and then passed on, never to be seen again. They have a one-way lifecycle: specification; design; development; testing; release. Doesn’t that sound a little … um … waterfall-y? Isn’t agile development supposed to be fundamentally &lt;em&gt;different&lt;/em&gt; from waterfall development, rather than simply replacing one big waterfall with a thousand little ones?&lt;/p&gt;
&lt;p&gt;Here’s an analogy. Imagine a city-planning tool which makes it easy to design city maps which do include towers, residential districts, parks, malls, and roads … but which doesn’t easily support things like waterworks, sewers, subway tunnels, the electrical grid, etc., which can only be wedged in through awkward hacks, if at all.&lt;/p&gt;
&lt;p&gt;Now imagine this tool is used as a blueprint for construction, with the implicit baked-in assumption that a) the neighborhood is the fundamental unit of city construction b) cities are built one neighborhood at a time, and neighborhoods one block at a time. What’s more, one is incentivized to proceed to the next only when the last is absolutely complete, right down to the flowers growing in the median strips.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Now&lt;/em&gt; imagine that the city’s developers, engineers, and construction workers are asked to estimate and report progress purely in terms of how many neighborhoods and blocks have been fully completed, and how far along each one is. Does that strike you as a particularly effective model of urban planning? Do you think you would like to live in its result? Or, in practice, do you think that the best way to grow a city might be just a little more organic?&lt;/p&gt;
&lt;p&gt;Let’s extend that metaphor. Suppose you began to build the city more organically, so that, at a certain significant point, you have a downtown full of a mix of temporary and permanent buildings; the skyscrapers’ foundations laid (i.e. technical uncertainty resolved); much of the core infrastructure built out; a few clusters of initial structures in the central neighborhoods, and shantytowns in the outskirts; a dirt airstrip where the airport will be; and traffic going back and forth among all these places. In other words, you have built a crude but functioning city-in-the-making, its skeleton constructed, ready to be fleshed out. Well done!&lt;/p&gt;
&lt;p&gt;But if measured by how many blocks and neighborhoods are absolutely &lt;em&gt;finished&lt;/em&gt;, according to the urban planners’ artistic renditions, what is your progress? By that measure, your progress is &lt;em&gt;zero&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;So that is not how JIRA incentivizes you to work. That would look like a huge column of in-progress tickets, and zero complete ones. That would look beyond terrible. Instead JIRA incentivizes you to complete an entire block, and then the next; an entire neighborhood, and then the next; to kill off as many different tickets as possible, to mark them complete and pass them on, even if splicing them together after the fact is more difficult than building them to work together in the first place,.&lt;/p&gt;
&lt;p&gt;(If you prefer a smaller-scale model, just transpose: city → condo building, neighborhood → floor, block → unit, etc.)&lt;/p&gt;
&lt;p&gt;And so people take tickets, implement them as written, pass them off to whoever is next in the workflow, consider their job well done, even if working on scattered groups of them in parallel might be much more effective … and without ever considering the larger goal. “Implement the Upload button” says the ticket; so that is all that is done. The ticket does not explain that the larger goal of the Upload button is to let users back up their work. Perhaps it would actually be technically easier to automatically upload every state change, such that the user gets automatic buttonless backups plus a complete undo/redo stack. But all the ticket says is: “Implement the Upload button.” So that is all that is done.&lt;/p&gt;
&lt;p&gt;All too often, the only time anyone worries about the vision of the project as a whole is at the very beginning, when the overworked project manager(s) initially deal(s) with the thankless task of decomposing the entire project into a forest of tickets. But the whole &lt;em&gt;point&lt;/em&gt; of agile development is to accept that the project will always be changing over time, and — albeit to a lesser extent — for multiple people, everyone on the team, to help contribute to that change. JIRA has become a tool which actually works against this.&lt;/p&gt;
&lt;p&gt;(And don’t even get me started on asking engineers to estimate a project that someone else has broken down, into subcomponents whose partitioning feels unnatural, by giving them about thirty seconds per feature during a planning meeting, and &lt;em&gt;then&lt;/em&gt; basing the entire project plan on those hand-waved un-researched off-the-top-of-the-head half-blind guesses, without ever revisiting them or providing time for more thoughtful analysis. That antipattern is not JIRA’s fault … exactly. But JIRA’s structure contributes to it.)&lt;/p&gt;
&lt;p&gt;I’m not saying JIRA has no place. It’s very good when you’re at the point where breaking things down into small pieces and finishing them sequentially does make sense. And, unsurprisingly given its history, it’s exceedingly good at issue tracking.&lt;/p&gt;
&lt;p&gt;Let me reiterate: to write elegant software, you must keep both the macro and the micro vision in your mind simultaneously while working. JIRA is good at managing micro pieces. But you need something else for the macro. (And no, a clickable prototype isn’t enough; those are important, but they too require descriptive context.)&lt;/p&gt;
&lt;p&gt;Allow me to propose something shocking and revolutionary: &lt;em&gt;prose&lt;/em&gt;. Yes, that’s right; words in a row; thoughtfully written paragraphs. I’m not talking about huge requirements documents. I’m talking about maybe a ten-page overview describing the vision for the entire project in detail, and a six-page architectural document explaining the software infrastructure — where the city’s water, sewage, power, subways, and airports are located, and how they work, to extend the metaphor. When Amazon can, famously, &lt;a href=&quot;https://www.businessinsider.com/bezos-admits-amazon-has-the-weirdest-meeting-culture-2018-4&quot;&gt;require six-page memos in order to call meetings&lt;/a&gt;, this really doesn’t seem like too much to ask.&lt;/p&gt;
&lt;p&gt;Simply ceasing to treat JIRA as the primary map and model of project completion undercuts a great deal of its implicit antipatternness. Use it for tracking iterative development and bug fixes, by all means. It’s very good at that. But it is a tool deeply ill-suited to be the map of a project’s overall vision or infrastructure, and it is &lt;em&gt;never&lt;/em&gt; the source of truth — the source of truth is always the running code. In software, as in art, the micro work and the macro vision should always be informed by one another. Let JIRA map the micro work; but let good old-fashioned plain language describe the macro vision, and try to pay more attention to it.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;sup&gt;1&lt;/sup&gt;Atlassian seems to have decapitalized JIRA between versions &lt;a href=&quot;https://confluence.atlassian.com/adminjiraserver079/administering-jira-server-7-9-applications-950288070.html&quot;&gt;7.9&lt;/a&gt; and &lt;a href=&quot;https://confluence.atlassian.com/adminjiraserver0710/administering-jira-server-7-10-applications-953144166.html&quot;&gt;7.10&lt;/a&gt;, but descriptively, all-caps still seems more common.&lt;/p&gt;
</description>
<pubDate>Sun, 09 Dec 2018 18:21:38 +0000</pubDate>
<dc:creator>panarky</dc:creator>
<og:title>JIRA is an antipattern</og:title>
<og:description>Atlassian’s JIRA began life as a bug-tracking tool. Today, though, it has become an agile planning suite, “to plan, track, and release great software.” In many organizations it has become the primary map of software projects, the hub of all development, the infamous “source …</og:description>
<og:image>https://techcrunch.com/wp-content/uploads/2018/12/dragon-map.jpg?w=499</og:image>
<og:url>http://social.techcrunch.com/2018/12/09/jira-is-an-antipattern/</og:url>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://techcrunch.com/2018/12/09/jira-is-an-antipattern/</dc:identifier>
</item>
<item>
<title>Show HN: Visalist – Find visa requirements for countries around the world</title>
<link>https://visalist.io</link>
<guid isPermaLink="true" >https://visalist.io</guid>
<description>&lt;h2 class=&quot;headline mx-2 text-xs-center&quot;&gt;Your quest for visa requirements research is over.&lt;/h2&gt;
&lt;p&gt;
&lt;h4 class=&quot;subheading&quot;&gt;Find visa requirements and document checklist for &lt;span class=&quot;teal lighten-5 teal--text&quot;&gt;&lt;strong&gt;  238+ countries  &lt;/strong&gt;&lt;/span&gt;. &lt;span class=&quot;hidden-sm-and-down&quot;&gt;&lt;br/&gt;As a traveler, it's important to have a visa ready for your exotic trips 😉🌴☀️.&lt;br/&gt;You get no more &lt;strong&gt;contradicting&lt;/strong&gt;, &lt;strong&gt;confusing&lt;/strong&gt; and &lt;strong&gt;outdated&lt;/strong&gt; information about visas.&lt;/span&gt;&lt;/h4&gt;
&lt;/p&gt;
&lt;img src=&quot;https://visalist.io/home_banner2.png&quot; alt=&quot;Different monuments across multiple countries&quot; class=&quot;mt-5 pa-3 wrapper home-banner&quot;/&gt;
</description>
<pubDate>Sun, 09 Dec 2018 14:05:06 +0000</pubDate>
<dc:creator>1hakr</dc:creator>
<og:type>website</og:type>
<og:title>Find visa requirements of countries across the world</og:title>
<og:url>https://visalist.io/</og:url>
<og:image>https://visalist.io/feature_graphic3.jpg</og:image>
<og:description>Get latest visa requirements and document checklist for different countries. Check if you can travel visa free or visa is required. Also find travel information for these countries. No more contradicting, confusing and outdated information about visas</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://visalist.io/</dc:identifier>
</item>
<item>
<title>Crypto Market Crash Leaving Bankrupt Startups in Its Wake</title>
<link>https://www.bloomberg.com/news/articles/2018-12-06/crypto-market-crash-is-causing-startups-to-shutter-operations</link>
<guid isPermaLink="true" >https://www.bloomberg.com/news/articles/2018-12-06/crypto-market-crash-is-causing-startups-to-shutter-operations</guid>
<description>[unable to retrieve full-text content]
&lt;p&gt;Article URL: &lt;a href=&quot;https://www.bloomberg.com/news/articles/2018-12-06/crypto-market-crash-is-causing-startups-to-shutter-operations&quot;&gt;https://www.bloomberg.com/news/articles/2018-12-06/crypto-market-crash-is-causing-startups-to-shutter-operations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=18640755&quot;&gt;https://news.ycombinator.com/item?id=18640755&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Points: 283&lt;/p&gt;
&lt;p&gt;# Comments: 379&lt;/p&gt;
</description>
<pubDate>Sun, 09 Dec 2018 13:28:37 +0000</pubDate>
<dc:creator>petethomas</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bloomberg.com/tosv2.html?vid=&amp;uuid=bc05f990-fc0e-11e8-bb65-c34be1be050b&amp;url=L25ld3MvYXJ0aWNsZXMvMjAxOC0xMi0wNi9jcnlwdG8tbWFya2V0LWNyYXNoLWlzLWNhdXNpbmctc3RhcnR1cHMtdG8tc2h1dHRlci1vcGVyYXRpb25z</dc:identifier>
</item>
<item>
<title>Do I really need to get out the soldering-iron again?</title>
<link>http://www.naughtycomputer.uk/do_i_really_need_to_get_out_the_soldering_iron_again.html</link>
<guid isPermaLink="true" >http://www.naughtycomputer.uk/do_i_really_need_to_get_out_the_soldering_iron_again.html</guid>
<description>&lt;p class=&quot;dateline&quot;&gt;16&lt;sup&gt;th&lt;/sup&gt; July 2018&lt;/p&gt;
&lt;p&gt;So I had this idea that it would be nice to listen to music when I get home from work everyday, so I put all my ripped music onto my phone, and I bought some good quality over-ear headphones.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/new_headphones.jpg&quot; alt=&quot;new headphones&quot; width=&quot;1446&quot; height=&quot;810&quot;/&gt;&lt;p&gt;I found I liked the great sound quality of the headphones, and the way they block atmospheric noise out a bit so I can just hear the music. It's a great experience to listen to some great music for 20 minutes when I get home to relax.&lt;/p&gt;
&lt;p&gt;However, I had a problem. When my phone plays certain tracks it makes and explosion of noise when switching songs, or pausing and resuming.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;I tried converting the music to different formats (flac, wav and vorbis), it didn't help.&lt;/li&gt;
&lt;li&gt;I tried a different music-player app, it didn't help.&lt;/li&gt;
&lt;li&gt;I tried a different Android phone, it didn't help.&lt;/li&gt;
&lt;/ul&gt;&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/code_culprit.png&quot; alt=&quot;section of code from Android music-player app&quot; width=&quot;300&quot; height=&quot;300&quot;/&gt;&lt;p&gt;It turns out that all music players on Android actually play music using the Android-media-player-service. Apparently this service has some sort of bug. Maybe it doesn't like the metadata in those tracks?&lt;/p&gt;
&lt;p&gt;I'd actually noticed this problem before, but these new headphones make it much more of a problem because they're much more sensitive, so the sound explosion is extremely loud relative to the music, scaring the hell out of me. This is not OK because the whole point is for me to be relaxing.&lt;/p&gt;
&lt;p&gt;Although Android is &lt;a href=&quot;https://www.gnu.org/philosophy/free-sw.en.html&quot;&gt;Free Software&lt;/a&gt;, meaning I can modify the code, it would probably take me months to learn enough about music decoding and the Android-media-player-service to write a fix.&lt;/p&gt;
&lt;p&gt;So my first idea was to just get one of those portable CD players. So I bought a medium priced one from Argos.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/cd_player.jpg&quot; alt=&quot;black portable CD player&quot; width=&quot;1584&quot; height=&quot;932&quot;/&gt;&lt;p&gt;But this device has a problem too; it constantly feeds a hissing sound into the headphones. Like the phone's explosion problem, it's made worse by the sensitivity of the headphones, as the hiss has a constant amplitude, which is unaffected by the volume control.&lt;/p&gt;
&lt;p&gt;At this point I'm kind-of surprised at how hard it is to just listen to music with headphones. I'm sure I didn't have such bad problems doing this 15 years ago with a cheap MP3 player.&lt;/p&gt;
&lt;p&gt;My desktop has great sound quality but I don't want to be sitting at my computer chair while I listen to my music, I do that too much already. So I thought why don't I use my spare old laptop as a music-player?&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/spare_laptop.jpg&quot; alt=&quot;white netbook&quot; width=&quot;1518&quot; height=&quot;1018&quot;/&gt;&lt;p&gt;So I put a fresh install of Debian and installed mpd and ncmpc. It works and frankly ncmpc has a much nicer interface than any android music player apps I've tried, or a CD player. But the sound quality on the laptop is just not quite up-to scratch. I think the output buffer on the amplifier is just not very good and struggles with the dynamic load of the transducers.&lt;/p&gt;
&lt;p&gt;Right now I'm absolutely astonished at how difficult it appears to be to just listen to music with a good pair of headphones. Is it not 2018? The media is full of talk about preposterously ambitious ideas such as AI and self-driving cars and yet I can't even listen to a fuck-damn music track? O_o&lt;/p&gt;
&lt;p&gt;I've done my best to avoid this ... but it looks like I'm gonna have to solve this problem with A FUCKING SOLDERING IRON!&lt;/p&gt;
&lt;p&gt;So the circuit is this fucking simple OK?&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/schematic_20181028.jpg&quot; alt=&quot;circuit diagram&quot; width=&quot;1289&quot; height=&quot;867&quot;/&gt;&lt;p&gt;OK so now I made it with parts I had lying around and it's fucking primitive:&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/madeit.jpg&quot; alt=&quot;unenclosed circuit board, plugged into the CD player, my headphones and a battery.&quot; width=&quot;1470&quot; height=&quot;934&quot;/&gt;&lt;p&gt;It works completely great! I plug it into my laptop or CD player and it sorts out the sound quality and gets rid of all the hiss.&lt;/p&gt;
&lt;p&gt;Sounds fab, what else can I say?&lt;/p&gt;
&lt;p&gt;I'd like to point out that you could have built this in the 70s. The &lt;a href=&quot;http://www.ti.com/lit/ds/symlink/ne5532.pdf&quot;&gt;NE5532P&lt;/a&gt; op-amps I'm using were first made and sold in 1979. Interesting how a 1979-technology audio buffer can best a 2010 laptop or a 2018 CD-player.&lt;/p&gt;
&lt;p&gt;Of course I need to make a case and find a more sensible way to power it but right now I'm just glad I've got something that works.&lt;/p&gt;
&lt;p&gt;If anyone reads this post I'm sure loads of people will tell me that my problems are all my own making and if only I invested in an iPhone all my problems would go away. Well you know what? APPLE IS A SYMBOL OF PRETENTIOUSNESS AND IGNORANCE - YOU DO NOT EVEN KNOW HOW YOUR PHONE WORKS - I DO NOT HAVE TO PAY A TAX TO APPLE TO LISTEN TO MY MUSIC.&lt;/p&gt;
&lt;h2&gt;More about the circuit I made&lt;/h2&gt;
&lt;p&gt;The rest of this article is technical notes on how the circuit works for anyone who's interested or wants to make one.&lt;/p&gt;
&lt;p&gt;This circuit is a buffer and it helps by two mechanisms:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;It improves sound quality by taking away the hard work of driving the dynamic load of the headphones from the device. It can do this job well because op-amps work great when they have lots of voltage.&lt;/li&gt;
&lt;li&gt;It has a gain of 0.1, which means it makes the source quieter. This helps with the problems I've had because these headphones are very sensitive and my devices do not like driving them at the low amplitudes they require.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;If you want to make this but don't want the quietening effect, I think it should be fine to just remove the four 10K resistors. This gives you a gain of 1, which means the voltage levels are unchanged.&lt;/p&gt;
&lt;p&gt;If you wanted best possible sound you'd use some actual audio op-amps rather than these cheap NE5532P. And buffer the output of the op-amps somehow. But of-course size and cost balloons if you start adding buffers and stuff.&lt;/p&gt;
&lt;p&gt;If you want more info on headphone amps check out &lt;a href=&quot;https://tangentsoft.net/&quot;&gt;Tangentsoft&lt;/a&gt; (And you thought the 90s web was dead)?&lt;/p&gt;
&lt;h3&gt;Notes on performance:&lt;/h3&gt;
&lt;p&gt;I don't have an oscilloscope so I can't do any proper signal analysis on the circuit but frankly if it sounds good; it is good as far as I'm concerned. And as I said it sounds great.&lt;/p&gt;
&lt;p&gt;Intrinsic DC-offset is unmeasurable with my equipment (0.0mV according to my voltmeter). Furthermore it divides the DC offset of the source by 10! There is however a small pop when it switches on and off.&lt;/p&gt;
&lt;h3&gt;Pictures of construction:&lt;/h3&gt;
&lt;p&gt;Here are the components before assembly. The headphone jacks are scavenged from an old computer:&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/components.jpg&quot; alt=&quot;&quot; width=&quot;1467&quot; height=&quot;883&quot;/&gt;&lt;p&gt;I arranged all the parts with the prototyping board balanced on a tray. The annoying thing about doing it this way is that you then have to turn it over to solder it, and the parts start falling out!&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/assembly.jpg&quot; alt=&quot;&quot; width=&quot;1504&quot; height=&quot;941&quot;/&gt;&lt;p&gt;By holding it on it's side with a handy-andy I was able to get it all soldered up without too many things falling out:&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/underside.jpg&quot; alt=&quot;&quot; width=&quot;1400&quot; height=&quot;890&quot;/&gt;&lt;p&gt;This circuit was easy to make; I didn't even bother to prototype it and yet it worked first time. Though note I have made audio amps before so I knew what I was doing.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/using.jpg&quot; alt=&quot;&quot; width=&quot;1902&quot; height=&quot;1418&quot;/&gt;&lt;p&gt;Now I just need to finish this off with a proper case and power-supply so it's not a pain-in-the arse to use. Shame Maplin closed because now I have to order parts off the internet and WAIT. I'm beginning to notice a trend in the world-order whereby the shinier Apple's iPhones get the worse everything else gets.&lt;/p&gt;
&lt;p&gt;I'm sure one-day everyone will get their music injected direct from their iPhone to their brain by a needle. And anyone who tries to listen to music with their ears will be burned as a heretic for betraying &quot;the Gods&quot; (Apple, Spotify and other tech deities).&lt;/p&gt;
&lt;h2&gt;Update: Finishing it off!&lt;/h2&gt;
&lt;p&gt;So I did eventually finish it off with a proper enclosure.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/low.jpg&quot; alt=&quot;&quot; width=&quot;1308&quot; height=&quot;757&quot;/&gt;&lt;p&gt;So that it can be repaired if necessary, I gave it a magnetically attached lid. By putting the two pairs of magnets different ways, I was able to make it repel of you try to put the lid on wrong. Quite cool :)&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/inside.jpg&quot; alt=&quot;&quot; width=&quot;2016&quot; height=&quot;928&quot;/&gt;&lt;p&gt;The circuit is held-in by screws and is connected to the power-supply through a mini terminal block so it can be removed for maintenance, or even replacement.&lt;/p&gt;
&lt;p&gt;Because it requires &amp;gt;10V, I had to use two PP3 batteries to power it. These battery holders are quite nice, just draws that slide out.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/batt_slide.jpg&quot; alt=&quot;&quot; width=&quot;976&quot; height=&quot;634&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Battery life is only a few hours unfortunately because the circuit draws an enormous idle current of 23mA :o&lt;/p&gt;
&lt;p&gt;I've put some nice &quot;Bumpon&quot; rubber feet on the bottom.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/bottom.jpg&quot; alt=&quot;&quot; width=&quot;959&quot; height=&quot;620&quot;/&gt;&lt;p&gt;I designed a clever little circuit to drive the indicator LED. I wanted an indication of battery level. This is the schematic:&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/indicator.jpg&quot; alt=&quot;&quot; width=&quot;537&quot; height=&quot;349&quot;/&gt;&lt;p&gt;What this does is, when the amp is turned on, lights up for a moment, then turns off and stays off. But the amount of time which it comes on for depends on battery level. If battery is good, it lights up of only a fraction of a second. But as the battery gets low, it stays on for longer and longer. If battery level is unacceptable it lights up forever.&lt;/p&gt;
&lt;img src=&quot;http://www.naughtycomputer.uk/03_article_assets/do_i_really_need_to_get_out_the_soldering_iron_again/finished.jpg&quot; alt=&quot;&quot; width=&quot;1918&quot; height=&quot;1122&quot;/&gt;&lt;p&gt;So that's that!&lt;/p&gt;
</description>
<pubDate>Sun, 09 Dec 2018 10:04:43 +0000</pubDate>
<dc:creator>xylon</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.naughtycomputer.uk/do_i_really_need_to_get_out_the_soldering_iron_again.html</dc:identifier>
</item>
<item>
<title>The Game Engine Black Book: Doom</title>
<link>http://fabiensanglard.net/gebbdoom/</link>
<guid isPermaLink="true" >http://fabiensanglard.net/gebbdoom/</guid>
<description>&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&lt;title&gt;Game Engine Black Book DOOM&lt;/title&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot; /&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;70.225292242295&quot;&gt;

&lt;center&gt;&lt;a href=&quot;http://fabiensanglard.net/&quot;&gt;&lt;strong&gt;FABIEN SANGLARD'S  WEBSITE&lt;/strong&gt;&lt;br /&gt;--------------------------&lt;br /&gt;&lt;/a&gt; &lt;a href=&quot;http://fabiensanglard.net/about&quot;&gt;ABOUT&lt;/a&gt;  &lt;a href=&quot;http://fabiensanglard.net/rss.xml&quot;&gt;RSS&lt;/a&gt;  &lt;a href=&quot;mailto:fabiensanglard.net@gmail.com?subject=Game%20Engine%20Black%20Book%20DOOM&quot;&gt;EMAIL&lt;/a&gt;  &lt;a href=&quot;https://twitter.com/fabynou&quot;&gt;TWITTER&lt;/a&gt;&lt;br /&gt;&lt;/center&gt;
&lt;p&gt;December 10, 2018&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Game Engine Black Book DOOM&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;&lt;img src=&quot;http://fabiensanglard.net/gebbdoom/gebb.png&quot; width=&quot;30%&quot; /&gt; The Game Engine Black Book: DOOM is now available for purchase. It is being released exactly 25 years after DOOM.zip was first published on the University of Wisconsin FTP server in December 1993. You can get it at the following locations:&lt;/p&gt;&lt;p&gt;- Amazon (&lt;a href=&quot;https://www.amazon.com/dp/1987418433/&quot;&gt;USA&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.ca/dp/1987418433/&quot;&gt;Canada&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.fr/dp/1987418433/&quot;&gt;France&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.co.uk/dp/1987418433/&quot;&gt;UK&lt;/a&gt;, and many more).&lt;br /&gt;- Google Books (&lt;a href=&quot;https://play.google.com/store/books/details/Fabien_Sanglard_Game_Engine_Black_Book_DOOM?id=wel6DwAAQBAJ&quot;&gt;here&lt;/a&gt; with no DRM)&lt;/p&gt;&lt;p&gt;From November 2017 to November 2018, it took one year to complete. Both John Carmack and Dave Taylor kindly wrote forewords. The result is 427 pages, full color, to describe in great detail the PCs of the era (Intel 80486, VESA Local BUS, Dos Extenders, Watcom Compiler, ...), the NeXT hardware (and especially the NeXTStation TurboColor), the engine, and the console ports to the Jaguar, Sega 32X, Super Nintendo, Sony Playstation, 3DO, and Sega Saturn.&lt;/p&gt;&lt;p&gt;I wish the paper version could have been priced lower. A black and white version would have been cheaper ($39.00) but given the many screenshots and drawings, readability would have suffered. I tried to look around but all printers gave me roughly the same price for a 400+ pages full color book. If anybody has an idea to lower the price I will listen carefully.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Errata&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p id=&quot;paperbox&quot;&gt;If you find any errors, please report them on the &lt;a href=&quot;https://docs.google.com/spreadsheets/d/1nxreTT5nPl6taxf3dFyCe9QLm8HmE29BA9a4KgnGKVE/edit?usp=sharing&quot;&gt;Game Engine Black Book: DOOM errata sheet&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Pricing&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;p id=&quot;paperbox&quot;&gt;I was transparent about the Game Engine Black Book: Wolfenstein 3D's &lt;a href=&quot;http://fabiensanglard.net/gebbwolf3d&quot;&gt;pricing&lt;/a&gt; and I want to do the same for DOOM's Black Book. Here are all the numbers. When I upload the PDF on Amazon, a minimal price is automatically calculated. In the case of the DOOM, Amazon sets the minimal price at $51.35.&lt;/p&gt;&lt;p&gt;There is a slider which authors can use in order to add their &quot;share&quot; on top of Amazon price. I have added $3.88 which Amazon also takes a cut on. The result is $1.59 royalty and $0.77 profit per book sold.&lt;br /&gt;&lt;img src=&quot;http://fabiensanglard.net/gebbdoom/stats.svg&quot; width=&quot;100%&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;?php footnote_gen_references(); ??&gt;&lt;hr /&gt;&lt;center&gt;*&lt;/center&gt;
&lt;/body&gt;</description>
<pubDate>Sun, 09 Dec 2018 10:00:45 +0000</pubDate>
<dc:creator>LucidLynx</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://fabiensanglard.net/gebbdoom/</dc:identifier>
</item>
<item>
<title>How Does setState Know What to Do?</title>
<link>https://overreacted.io/how-does-setstate-know-what-to-do/</link>
<guid isPermaLink="true" >https://overreacted.io/how-does-setstate-know-what-to-do/</guid>
<description>&lt;p&gt;When you call &lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt; in a component, what do you think happens?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;language-jsx&quot;&gt;
&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;'react'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ReactDOM &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;'react-dom'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; clicked&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;handleClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; clicked&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clicked&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Thanks&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token plain-text&quot;&gt;        Click me!&lt;/span&gt;
&lt;span class=&quot;token plain-text&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;'container'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sure, React re-renders the component with the next &lt;code class=&quot;language-text&quot;&gt;{ clicked: true }&lt;/code&gt; state and updates the DOM to match the returned &lt;code class=&quot;language-text&quot;&gt;&amp;lt;h1&amp;gt;Thanks&amp;lt;/h1&amp;gt;&lt;/code&gt; element.&lt;/p&gt;
&lt;p&gt;Seems straightforward. But wait, does &lt;em&gt;React&lt;/em&gt; do it? Or &lt;em&gt;React DOM&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;Updating the DOM sounds like something React DOM be responsible for. But we’re calling &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt;, not something from React DOM. And our &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; base class is defined inside React itself.&lt;/p&gt;
&lt;p&gt;So how can &lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt; inside &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; update the DOM?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disclaimer: Just like &lt;a href=&quot;https://overreacted.io/why-do-react-elements-have-typeof-property/&quot;&gt;most&lt;/a&gt; &lt;a href=&quot;https://overreacted.io/how-does-react-tell-a-class-from-a-function/&quot;&gt;other&lt;/a&gt; &lt;a href=&quot;https://overreacted.io/why-do-we-write-super-props/&quot;&gt;posts&lt;/a&gt; on this blog, you don’t actually &lt;em&gt;need&lt;/em&gt; to know any of that to be productive with React. This post is for those who like to see what’s behind the curtain. Completely optional!&lt;/strong&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;We might think that the &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; class contains DOM update logic.&lt;/p&gt;
&lt;p&gt;But if that were the case, how can &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt; work in other environments? For example, components in React Native apps also extend &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt;. They call &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt; just like we did above, and yet React Native works with Android and iOS native views instead of the DOM.&lt;/p&gt;
&lt;p&gt;You might also be familiar with React Test Renderer or Shallow Renderer. Both of these testing strategies let you render normal components and call &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt; inside them. But neither of them works with the DOM.&lt;/p&gt;
&lt;p&gt;If you used renderers like &lt;a href=&quot;https://github.com/facebook/react/tree/master/packages/react-art&quot;&gt;React ART&lt;/a&gt;, you might also know that it’s possible to use more than one renderer on the page. (For example, ART components work inside a React DOM tree.) This makes a global flag or variable untenable.&lt;/p&gt;
&lt;p&gt;So somehow &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; delegates handling state updates to the platform-specific code.&lt;/strong&gt; Before we can understand how this happens, let’s dig deeper into how packages are separated and why.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;There is a common misconception that the React “engine” lives inside the &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package. This is not true.&lt;/p&gt;
&lt;p&gt;In fact, ever since the &lt;a href=&quot;https://reactjs.org/blog/2015/07/03/react-v0.14-beta-1.html#two-packages&quot;&gt;package split in React 0.14&lt;/a&gt;, the &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package intentionally only exposes APIs for &lt;em&gt;defining&lt;/em&gt; components. Most of the &lt;em&gt;implementation&lt;/em&gt; of React lives in the “renderers”.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-dom/server&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-native&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-test-renderer&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-art&lt;/code&gt; are some examples of renderers (and you can &lt;a href=&quot;https://github.com/facebook/react/blob/master/packages/react-reconciler/README.md#practical-examples&quot;&gt;build your own&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;This is why the &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package is useful regardless of which platform you target. All its exports, such as &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;React.createElement&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;React.Children&lt;/code&gt; utilities and (eventually) &lt;a href=&quot;https://reactjs.org/docs/hooks-intro.html&quot;&gt;Hooks&lt;/a&gt;, are independent of the target platform. Whether you run React DOM, React DOM Server, or React Native, your components would import and use them in the same way.&lt;/p&gt;
&lt;p&gt;In contrast, the renderer packages expose platform-specific APIs like &lt;code class=&quot;language-text&quot;&gt;ReactDOM.render()&lt;/code&gt; that let you mount a React hierarchy into a DOM node. Each renderer provides an API like this. Ideally, most &lt;em&gt;components&lt;/em&gt; shouldn’t need to import anything from a renderer. This keeps them more portable.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What most people imagine as the React “engine” is inside each individual renderer.&lt;/strong&gt; Many renderers include a copy of the same code — we call it the &lt;a href=&quot;https://github.com/facebook/react/tree/master/packages/react-reconciler&quot;&gt;“reconciler”&lt;/a&gt;. A &lt;a href=&quot;https://reactjs.org/blog/2017/12/15/improving-the-repository-infrastructure.html#migrating-to-google-closure-compiler&quot;&gt;build step&lt;/a&gt; smooshes the reconciler code together with the renderer code into a single highly optimized bundle for better performance. (Copying code is usually not great for bundle size but the vast majority of React users only needs one renderer at a time, such as &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt;.)&lt;/p&gt;
&lt;p&gt;The takeaway here is that the &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package only lets you &lt;em&gt;use&lt;/em&gt; React features but doesn’t know anything about &lt;em&gt;how&lt;/em&gt; they’re implemented. The renderer packages (&lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-native&lt;/code&gt;, etc) provide the implementation of React features and platform-specific logic. Some of that code is shared (“reconciler”) but that’s an implementation detail of individual renderers.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;Now we know why &lt;em&gt;both&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt; packages need to be updated for new features. For example, when React 16.3 added the Context API, &lt;code class=&quot;language-text&quot;&gt;React.createContext()&lt;/code&gt; was exposed on the React package.&lt;/p&gt;
&lt;p&gt;But &lt;code class=&quot;language-text&quot;&gt;React.createContext()&lt;/code&gt; doesn’t actually &lt;em&gt;implement&lt;/em&gt; the context feature. The implementation would need to be different between React DOM and React DOM Server, for example. So &lt;code class=&quot;language-text&quot;&gt;createContext()&lt;/code&gt; returns a few plain objects:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot; readability=&quot;14&quot;&gt;
&lt;pre class=&quot;language-js&quot;&gt;
&lt;code class=&quot;language-js&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;defaultValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    _currentValue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; defaultValue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Provider&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Consumer&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;'react.provider'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; context
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;'react.context'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When you use &lt;code class=&quot;language-text&quot;&gt;&amp;lt;MyContext.Provider&amp;gt;&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;&amp;lt;MyContext.Consumer&amp;gt;&lt;/code&gt; in the code, it’s the &lt;em&gt;renderer&lt;/em&gt; that decides how to handle them. React DOM might track context values in one way, but React DOM Server might do it differently.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So if you update &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; to 16.3+ but don’t update &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt;, you’d be using a renderer that isn’t yet aware of the special &lt;code class=&quot;language-text&quot;&gt;Provider&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Consumer&lt;/code&gt; types.&lt;/strong&gt; This is why an older &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt; would &lt;a href=&quot;https://stackoverflow.com/a/49677020/458193&quot;&gt;fail saying these types are invalid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The same caveat applies to React Native. However, unlike React DOM, a React release doesn’t immediately “force” a React Native release. They have an independent release schedule. The updated renderer code is &lt;a href=&quot;https://github.com/facebook/react-native/commits/master/Libraries/Renderer/oss&quot;&gt;separately synced&lt;/a&gt; into the React Native repository once in a few weeks. This is why features become available in React Native on a different schedule than in React DOM.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;Okay, so now we know that the &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package doesn’t contain anything interesting, and the implementation lives in renderers like &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;react-native&lt;/code&gt;, and so on. But that doesn’t answer our question. How does &lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt; inside &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; “talk” to the right renderer?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The answer is that every renderer sets a special field on the created class.&lt;/strong&gt; This field is called &lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt;. It’s not something &lt;em&gt;you&lt;/em&gt; would set — rather, it’s something React DOM, React DOM Server or React Native set right after creating an instance of your class:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;language-js&quot;&gt;
&lt;code class=&quot;language-js&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; inst &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;YourComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactDOMUpdater&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; inst &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;YourComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactDOMServerUpdater&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; inst &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;YourComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactNativeUpdater&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking at the &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react/src/ReactBaseClasses.js#L58-L67&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt; implementation in &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt;&lt;/a&gt;, all it does is delegate work to the renderer that created this component instance:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;language-js&quot;&gt;
&lt;code class=&quot;language-js&quot;&gt;
&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;partialState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueSetState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; partialState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;React DOM Server &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react-dom/src/server/ReactPartialRenderer.js#L442-L448&quot;&gt;might want to&lt;/a&gt; ignore a state update and warn you, whereas React DOM and React Native would let their copies of the reconciler &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react-reconciler/src/ReactFiberClassComponent.js#L190-L207&quot;&gt;handle it&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And this is how &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt; can update the DOM even though it’s defined in the React package. It reads &lt;code class=&quot;language-text&quot;&gt;this.updater&lt;/code&gt; which was set by React DOM, and lets React DOM schedule and handle the update.&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;We know about classes now, but what about Hooks?&lt;/p&gt;
&lt;p&gt;When people first look at the &lt;a href=&quot;https://reactjs.org/docs/hooks-intro.html&quot;&gt;Hooks proposal API&lt;/a&gt;, they often wonder: how does &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; “know what to do”? The assumption is that it’s more “magical” than a base &lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt; class with &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But as we have seen today, the base class &lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt; implementation has been an illusion all along. It doesn’t do anything except forwarding the call to the current renderer. And &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; Hook &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react/src/ReactHooks.js#L55-L56&quot;&gt;does exactly the same thing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Instead of an &lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt; field, Hooks use a “dispatcher” object.&lt;/strong&gt; When you call &lt;code class=&quot;language-text&quot;&gt;React.useState()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;React.useEffect()&lt;/code&gt;, or another built-in Hook, these calls are forwarded to the current dispatcher.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;language-js&quot;&gt;
&lt;code class=&quot;language-js&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
  __currentDispatcher&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__currentDispatcher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__currentDispatcher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And individual renderers set the dispatcher before rendering your component:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;language-js&quot;&gt;
&lt;code class=&quot;language-js&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prevDispatcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__currentDispatcher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__currentDispatcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactDOMDispatcher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;YourComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__currentDispatcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prevDispatcher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For example, the React DOM Server implementation is &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react-dom/src/server/ReactPartialRendererHooks.js#L340-L354&quot;&gt;here&lt;/a&gt;, and the reconciler implementation shared by React DOM and React Native is &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react-reconciler/src/ReactFiberHooks.js&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is why a renderer such as &lt;code class=&quot;language-text&quot;&gt;react-dom&lt;/code&gt; needs to access the same &lt;code class=&quot;language-text&quot;&gt;react&lt;/code&gt; package that you call Hooks from. Otherwise, your component won’t “see” the dispatcher! This may not work when you have &lt;a href=&quot;https://github.com/facebook/react/issues/13991&quot;&gt;multiple copies of React&lt;/a&gt; in the same component tree. However, this has always led to obscure bugs so Hooks force you to solve the package duplication before it costs you.&lt;/p&gt;
&lt;p&gt;While we don’t encourage this, you can technically override the dispatcher yourself for advanced tooling use cases. (I lied about &lt;code class=&quot;language-text&quot;&gt;__currentDispatcher&lt;/code&gt; name but you can find the real one in the React repo.) For example, React DevTools will use &lt;a href=&quot;https://github.com/facebook/react/blob/ce43a8cd07c355647922480977b46713bd51883e/packages/react-debug-tools/src/ReactDebugHooks.js#L203-L214&quot;&gt;a special purpose-built dispatcher&lt;/a&gt; to introspect the Hooks tree by capturing JavaScript stack traces. &lt;em&gt;Don’t repeat this at home.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This also means Hooks aren’t inherently tied to React. If in the future more libraries want to reuse the same primitive Hooks, in theory the dispatcher could move to a separate package and be exposed as a first-class API with a less “scary” name. In practice, we’d prefer to avoid premature abstraction until there is a need for it.&lt;/p&gt;
&lt;p&gt;Both the &lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt; field and the &lt;code class=&quot;language-text&quot;&gt;__currentDispatcher&lt;/code&gt; object are forms of a generic programming principle called &lt;em&gt;dependency injection&lt;/em&gt;. In both cases, the renderers “inject” implementations of features like &lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt; into the generic React package to keep your components more declarative.&lt;/p&gt;
&lt;p&gt;You don’t need to think about how this works when you use React. We’d like React users to spend more time thinking about their application code than abstract concepts like dependency injection. But if you’ve ever wondered how &lt;code class=&quot;language-text&quot;&gt;this.setState()&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;useState()&lt;/code&gt; know what to do, I hope this helps.&lt;/p&gt;
&lt;hr/&gt;</description>
<pubDate>Sun, 09 Dec 2018 03:12:51 +0000</pubDate>
<dc:creator>danabramov</dc:creator>
<og:url>https://overreacted.io/how-does-setstate-know-what-to-do/</og:url>
<og:title>How Does setState Know What to Do?</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://overreacted.io/how-does-setstate-know-what-to-do/</dc:identifier>
</item>
<item>
<title>TSA’s Roadmap for Airport Surveillance Moves in a Dangerous Direction</title>
<link>https://www.eff.org/deeplinks/2018/12/tsas-roadmap-airport-surveillance-moves-dangerous-direction</link>
<guid isPermaLink="true" >https://www.eff.org/deeplinks/2018/12/tsas-roadmap-airport-surveillance-moves-dangerous-direction</guid>
<description>&lt;p&gt;The Transportation Security Administration has set out an alarming vision of pervasive biometric surveillance at airports, which cuts against the right to privacy, the &lt;a href=&quot;https://en.wikipedia.org/wiki/Shapiro_v._Thompson&quot; rel=&quot;noreferrer&quot;&gt;“right to travel,”&lt;/a&gt; and the right to &lt;a href=&quot;https://en.wikipedia.org/wiki/NAACP_v._Alabama&quot; rel=&quot;noreferrer&quot;&gt;anonymous association&lt;/a&gt; with others.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.congress.gov/bill/115th-congress/house-bill/302/text?q=%7B%22search%22%3A%5B%22PL+115-254%22%5D%7D&amp;amp;r=1&quot; rel=&quot;noreferrer&quot;&gt;FAA Reauthorization Act of 2018&lt;/a&gt;, which included language that we &lt;span&gt;&lt;a href=&quot;https://www.eff.org/deeplinks/2018/09/remove-drone-shoot-down-and-biometric-surveillance-sections-faa-act&quot;&gt;warned&lt;/a&gt; would provide implied Congressional endorsement to biometric screening of domestic travelers and U.S. citizens, became law in early October. The ink wasn’t even dry on that bill when the Transportation Security Administration (TSA) &lt;a href=&quot;https://www.tsa.gov/sites/default/files/tsa_biometrics_roadmap.pdf&quot; rel=&quot;noreferrer&quot;&gt;published&lt;/a&gt; their &lt;em&gt;Biometrics Roadmap for Aviation Security and the Passenger Experience&lt;/em&gt;, detailing TSA’s plans to work with Customs and Border Protection (CBP) to roll out increased biometric collection and screening for all passengers, including Americans traveling domestically.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This roadmap appears to latch on to a perceived acceptance of biometrics as security keys while ignoring the pervasive challenges with accurately identifying individuals and the privacy risks associated with collecting massive amounts of biometric data. Furthermore, it provides no strategy for dealing with passengers who are unfairly misidentified.&lt;/p&gt;
&lt;p&gt;Worst of all, while the roadmap explicitly mentions collaborating with airlines and other partners inside and outside the government, it is alarmingly silent on how TSA plans to protect a widely distributed honeypot of sensitive biometric information ripe for misuse by identity thieves, malicious actors, or even legitimate employees abusing their access privileges.&lt;/p&gt;
&lt;h3&gt; &lt;strong&gt;TSA PreCheck is Not a Blank Check&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;The roadmap proposes significant changes to what the government can do with data collected from more than &lt;span&gt;&lt;a href=&quot;https://www.tsa.gov/news/releases/2017/07/05/tsa-precheck-reaches-milestone-more-5-million-travelers-enrolled&quot; rel=&quot;noreferrer&quot;&gt;5 million people&lt;/a&gt;&lt;/span&gt; in the TSA PreCheck program. It also proposes new programs to collect and use biometric data from American travelers who haven’t opted into the PreCheck program.&lt;/p&gt;
&lt;p&gt;The TSA PreCheck program has long been billed as a convenient way for travelers to cut down on security wait times and speed through airports. All a traveler has to do is to sign up, pay a fee, and allow TSA to collect &lt;span&gt;fingerprints &lt;/span&gt;for a background check. However, the roadmap outlines TSA’s plans to expand use of those prints beyond the background check to other uses throughout the airport, such as for security at the bag drop or for identity verification at security check points.&lt;/p&gt;
&lt;p&gt;TSA has already rolled this out as a &lt;span&gt;&lt;a href=&quot;https://www.regulations.gov/document?D=TSA_FRDOC_0001-0374&quot; rel=&quot;noreferrer&quot;&gt;pilot program&lt;/a&gt;. In 2017,&lt;/span&gt; at Atlanta’s Hartsfield-Jackson Airport and Denver International Airport, TSA used prints from the PreCheck database and a contactless fingerprint reader to verify the identity of PreCheck-approved travelers at security checkpoints at both airports. TSA now proposes to make the pilot program permanent and to widen the biometrics used to include face recognition, iris scans, and others.&lt;/p&gt;
&lt;p&gt;Even more concerning, the roadmap outlines a strategy to capture biometrics from American travelers who haven’t enrolled in PreCheck and who never consented to any biometric data collection from TSA. Instead of giving passengers the option to opt in, TSA plans to partner and share information with other federal and state agencies like the FBI and state Departments of Motor Vehicles to get the biometric information they want.&lt;/p&gt;
&lt;p&gt;While Congress has authorized a biometric data collection exit program for foreign visitors—supposedly to help monitor visa compliance by using biometrics to track foreigners leaving the country—the roadmap explicitly outlines plans for TSA and CBP to collect any biometrics they want from &lt;em&gt;all&lt;/em&gt; travelers—American or foreign, international and domestic—wherever they are in the airport. That data will be stored in a widely shared database could be used to track people outside the airport context. For example, &lt;a href=&quot;https://www.engadget.com/2017/10/31/tsa-precheck-now-fast-tracks-your-entrance-to-nfl-stadiums/&quot; rel=&quot;noreferrer&quot;&gt;TSA’s Precheck&lt;/a&gt; as well as &lt;a href=&quot;https://www.clearme.com/where-we-are&quot; rel=&quot;noreferrer&quot;&gt;Clear&lt;/a&gt; have already begun using their technology at stadiums to “allow” visitors a faster entry.&lt;/p&gt;
&lt;p&gt;This is a big, big change. It is unprecedented for the government to collect, store, and share this kind of data, with this level of detail, with this many agencies and private partners. We know that security lines are a huge pain, but we are concerned that travelers getting used to biometric tracking in the airport context will be less concerned about tracking in other contexts and eventually throughout society at large.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Device Security and National Security Are Not the Same&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;The roadmap also makes the huge assumption that people will not object to this expanded collection. It states that “popular perceptions [of biometrics] have evolved to appreciate the convenience and security biometric solutions can offer in the commercial aviation sector.” In other words, it claims that travelers using biometrics like fingerprints and facial recognition programs to unlock their phones and laptops, will be less concerned about Department of Homeland Security agencies collecting biometrics to store in government databases for unspecified, myriad uses.&lt;/p&gt;
&lt;p&gt;The problem with this claim is that those two things are not the same.&lt;/p&gt;
&lt;p&gt;Apple software, for one example, allows consumers to use biometrics (currently, fingerprints and faceprints) to unlock their devices. However, Apple has specifically &lt;a href=&quot;https://www.apple.com/business/site/docs/FaceID_Security_Guide.pdf&quot; rel=&quot;noreferrer&quot;&gt;built in privacy and security protections&lt;/a&gt; that prevent the biometric data from being stolen. Apple does not enable third party software to access the original biometric data. Plus, unlike federal agencies, Apple stores the original biometric information on your phone, not in a central, searchable database intended for use by multiple government and private partners over many years.&lt;/p&gt;
&lt;p&gt;Additionally, TSA seems to be ignoring the risk that relying heavily on biometric data for identification may actually create new national security risks that the federal government is ill-equipped to handle. For example, India’s infamous &lt;a href=&quot;https://en.wikipedia.org/wiki/Aadhaar&quot; rel=&quot;noreferrer&quot;&gt;Aadhaar biometric database&lt;/a&gt;, which was built by the Indian government to reduce corruption and expanded for use by other public and private groups, &lt;a href=&quot;https://www.huffingtonpost.in/2018/09/11/uidai-s-aadhaar-software-hacked-id-database-compromised-experts-confirm_a_23522472/&quot; rel=&quot;noreferrer&quot;&gt;keeps getting hacked&lt;/a&gt;. It is not only cheap to buy the information of one of the 1.19 billion people in the database, but the hacks also allow for new information to be entered into the database. Rather than increasing security, India’s biometric database created more problems and opportunities for corruption.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Implementation Issues and Cost Overruns&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt; Finally, this roadmap glosses over the weaknesses of facial recognition technology as a means to identify travelers and ignores the challenges CBP has already faced rolling out their biometric exit program.&lt;/p&gt;
&lt;p&gt;We’ve written many times before about the &lt;a href=&quot;https://www.theatlantic.com/technology/archive/2016/04/the-underlying-bias-of-facial-recognition-systems/476991/&quot; rel=&quot;noreferrer&quot;&gt;significant accuracy problems&lt;/a&gt; with current face recognition software, especially for non-white and female people. For example, earlier this summer the ACLU &lt;a href=&quot;https://www.aclu.org/blog/privacy-technology/surveillance-technologies/amazons-face-recognition-falsely-matched-28&quot; rel=&quot;noreferrer&quot;&gt;published&lt;/a&gt; a test of Amazon’s facial recognition program, comparing the official photos of 435 Members of Congress with publicly available mugshots. The ACLU found 28 false matches, even in this relatively small data set.&lt;/p&gt;
&lt;p&gt;CBP has claimed to have a 98% accuracy rating in their pilot programs, even though the Office of the Inspector General &lt;a href=&quot;https://www.oig.dhs.gov/sites/default/files/assets/2018-09/OIG-18-80-Sep18.pdf&quot; rel=&quot;noreferrer&quot;&gt;could not verify&lt;/a&gt; those numbers. &lt;a href=&quot;https://www.faa.gov/air_traffic/by_the_numbers/&quot; rel=&quot;noreferrer&quot;&gt;According to the FAA&lt;/a&gt;, 2.5 million passengers fly through U.S. airports every day, meaning that even a 2% error rate would cause thousands of people to be &lt;a href=&quot;https://www.airportfacescans.com/&quot; rel=&quot;noreferrer&quot;&gt;misidentified every day. &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;TSA’s roadmap does not acknowledge these accuracy problems, much less outline an efficient way to allow wrongly identified travelers to complete their trips. Additionally, the roadmap does not acknowledge the need to allow travelers to opt out of the system.&lt;/p&gt;
&lt;p&gt;But even if the claims about the advances in biometric software and technology are true, the Office of the Inspector General has also &lt;a href=&quot;https://www.oig.dhs.gov/sites/default/files/assets/2018-09/OIG-18-80-Sep18.pdf&quot; rel=&quot;noreferrer&quot;&gt;reported&lt;/a&gt; that CBP consistently and substantially underestimated the cost of their biometric exit program to the American taxpayer. To close some of the funding gaps, CBP would have to depend on the airports and airlines to purchase the necessary biometric equipment and to provide staff to implement the program. In short, for CBP and TSA to achieve their goals, they must force American travelers to hand over their biometric data to private companies.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;What’s Next&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;TSA should not move forward on this plan without addressing the serious security concerns and without providing a reliable, convenient way for travelers to opt out of the program. Even if biometrics provided a reliable identification system for travelers, the kind of system and database the roadmap outlines could make it more difficult for people to travel, in direct conflict with the agency’s &lt;a href=&quot;https://www.tsa.gov/about/tsa-mission&quot; rel=&quot;noreferrer&quot;&gt;mission&lt;/a&gt; “to protect the nation's transportation systems to ensure freedom of movement for people and commerce.”&lt;/p&gt;
</description>
<pubDate>Sat, 08 Dec 2018 23:58:14 +0000</pubDate>
<dc:creator>ccnafr</dc:creator>
<og:type>article</og:type>
<og:title>TSA’s Roadmap for Airport Surveillance Moves in a Dangerous Direction</og:title>
<og:url>https://www.eff.org/deeplinks/2018/12/tsas-roadmap-airport-surveillance-moves-dangerous-direction</og:url>
<og:description>The Transportation Security Administration has set out an alarming vision of pervasive biometric surveillance at airports, which cuts against the right to privacy, the “right to travel,” and the right to anonymous association with others.The FAA Reauthorization Act of 2018, which included language...</og:description>
<og:image>https://www.eff.org/files/banner_library/biometrics_0.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.eff.org/deeplinks/2018/12/tsas-roadmap-airport-surveillance-moves-dangerous-direction</dc:identifier>
</item>
<item>
<title>Gut bacteria may offer a treatment for autism</title>
<link>https://www.economist.com/science-and-technology/2018/12/08/gut-bacteria-may-offer-a-treatment-for-autism</link>
<guid isPermaLink="true" >https://www.economist.com/science-and-technology/2018/12/08/gut-bacteria-may-offer-a-treatment-for-autism</guid>
<description>&lt;p&gt;&lt;span data-caps=&quot;initial&quot;&gt;A&lt;/span&gt;&lt;small&gt;UTISM AFFECTS&lt;/small&gt; people’s social behaviour and communication, and may impair their ability to learn things. All this is well known. Less familiar to most, though, are the gastrointestinal problems associated with the condition. The intestines of children with autism often harbour bacteria different from those in the guts of the neurotypical. As a consequence, such people are more than three times as likely as others are to develop serious alimentary-canal disorders at some point in their lives.&lt;/p&gt;
&lt;div class=&quot;newsletter-form newsletter-form--inline&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;newsletter-form__message&quot; readability=&quot;7&quot;&gt;&lt;strong&gt;Get our daily newsletter&lt;/strong&gt;
&lt;p&gt;Upgrade your inbox and get our Daily Dispatch and Editor's Picks.&lt;/p&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;latest-updates-panel__container latest-updates-panel__container--blog-post&quot;&gt;

&lt;ul class=&quot;latest-updates-panel__body&quot;&gt;&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;Donald Trump nominates a new attorney-general&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;Angela Merkel’s preferred candidate becomes party leader&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;Why does 5G have everyone worried about Huawei?&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;“Nightflyers” lacks George R.R. Martin’s special touch&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;Armenia’s new government looks set to triumph&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;li class=&quot;latest-updates-panel-card__wrapper&quot; readability=&quot;-2&quot;&gt;
&lt;article class=&quot;latest-updates-panel__article-link&quot; readability=&quot;27&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;latest-updates-panel-card__title&quot;&gt;How the Vatican is supporting businesses which help refugees&lt;/h3&gt;
&lt;/p&gt;

&lt;/article&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;Unfortunate though this is, the upset gut floras of autistic people are seen by some investigators as the key to the condition—and to treating it. Recent research has shown that altering animals’ intestinal bacteria can have dramatic effects on their nervous systems. Ameliorating autism by tinkering with the ecology of the gut might thus be a fruitful line of inquiry.&lt;/p&gt;

&lt;p&gt;A study just published in &lt;em class=&quot;Italic&quot;&gt;Neuron&lt;/em&gt; suggests that it is. In it, Mauro Costa-Mattioli of Baylor College of Medicine, in Texas, and his colleagues demonstrate that introducing a particular bacterium into the guts of mice that display autistic symptoms can abolish some of those symptoms. The bug in question is &lt;em class=&quot;Italic&quot;&gt;Lactobacillus reuteri&lt;/em&gt;. It is commonly found in healthy digestive systems and helps regulate acidity levels. And it is also easily obtainable for use as a probiotic from health-food shops.&lt;/p&gt;
&lt;h2 class=&quot;xhead&quot;&gt;Mens sana in corpore sano&lt;/h2&gt;
&lt;p&gt;Dr Costa-Mattioli and his team first reported &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;’s effects on autism in 2016, after conducting experiments with obese female mice. These animals have a tendency to give birth to offspring with autistic traits familiar from people—unwillingness to socialise, repetitive behaviour and unwillingness to communicate (in the case of mice, via ultrasonic squeaking). The researchers noted that the guts of both the obese mothers and their young were bereft of &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;. They wondered what effect transplanting these bugs into the animals might have. They found, when they did so to the offspring, that the youngsters’ autism-like traits vanished.&lt;/p&gt;
&lt;p&gt;That led to the latest experiments, on mice that have autistic symptoms induced in four other, different ways. Some were genetically edited to be autistic. Some were exposed to valproic acid, a drug used to treat bipolar disorder and migraines that is known to induce autism in fetuses. Some had their guts cleared of all bacteria. And some belonged to a strain called &lt;small&gt;BTBR&lt;/small&gt;, individuals of which display autism-like traits that have no known cause.&lt;/p&gt;
&lt;p&gt;Martina Sgritta, one of Dr Costa-Mattioli’s colleagues, analysed the bacteria in the guts of all of these animals. She found that, while the genetically engineered mice and the &lt;small&gt;BTBR&lt;/small&gt; mice had, as expected, reduced levels of &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;, and those with bacteria-free guts were (obviously) free of the bug altogether, the valproic-acid mice had normal amounts of the bacterium.&lt;/p&gt;
&lt;p&gt;This last result was unexpected, but the team carried on regardless. They arranged for between seven and 15 mice of each of the four types to have, starting at the age of three weeks, their drinking water laced with &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;. Equivalent numbers of each type continued to be given ordinary water as a control. During the course of the experiment the mice had their faeces collected regularly, so that their bacteria could be tracked. And, at the age of seven weeks, they were given two sorts of social tests.&lt;/p&gt;
&lt;p&gt;The first test involved putting each experimental mouse into a perspex container from which it could go either into a chamber where there was an empty wire cup or into one where there was a similar cup containing an unfamiliar mouse. Subject mice were left in the container for ten minutes and were monitored to see how long they spent with the empty cup and with the other mouse.&lt;/p&gt;
&lt;p&gt;The second test placed a mouse in an arena where another, unfamiliar mouse was already present. An observer, who did not know which mice were controls and which had been given &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; in their water, then noted how often over the course of ten minutes the two mice touched, sniffed, groomed and crawled on one another.&lt;/p&gt;
&lt;p&gt;In both tests, all the mice that had had their water laced with &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;, regardless of how their autism had been induced, were more sociable than equivalents that had been drinking unlaced water. In the first, they spent twice as much time with the mouse under the wire cup. In the second, they engaged in many more social interactions with the unfamiliar mouse.&lt;/p&gt;
&lt;p&gt;The team’s initial hypothesis had been that the supplementary &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; were somehow changing the gut flora of the mice exposed to them into something more normal. But they weren’t. Indeed, &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; proved able to abolish autistic behaviour even in those mice which had guts otherwise devoid of microbes—as well as in those with valproic-acid-induced autism, which already had normal levels of the bug. That suggests boosting levels of this bacterial species is shaping behaviour all by itself.&lt;/p&gt;
&lt;p&gt;Their next hypothesis was that the bacterium was doing this by interacting somehow with oxytocin, a hormone that shapes behaviour and plays a part in the ways in which people and other mammals form social bonds. Dr Costa-Mattioli knew from work published in 2013 that spraying oxytocin into the noses of mice with autistic symptoms helps to ameliorate some of those symptoms. Dr Sgritta therefore ran the experiments again, but this time on autistic mice that had had the oxytocin receptors on the relevant neurons disabled by genetic engineering. In these new experiments, the presence of &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; in drinking water had no effect.&lt;/p&gt;
&lt;p&gt;Follow-up examinations of the mice in all these experiments looked at the strengths of connections between nerve cells within part of the brain called the ventral tegmental region. This region regulates, among other things, motivation and reward-related social behaviour. Nerve signals are carried by the movement of ions (electrically charged atoms), so the team were able to measure connection-strength by monitoring the flow of ions at the junctions between nerve cells in this region. Strong connections, with lots of ion flow, indicated that social experiences were rewarding. These were normal in the mice exposed to &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;, which makes sense since animals treated with the bacterium sought out more social experiences. Conversely, weak connections (those with little ion flow) indicated that social experiences were not triggering a reward. Such weak connections were found in animals that had not been exposed to the bacterium.&lt;/p&gt;
&lt;p&gt;The researchers suspected that such effects were controlled by signals from the gut that are being transmitted by the vagus nerve, which connects gut and brain. To test this idea they cut that nerve in selected animals. In these animals, subsequent treatment with &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; failed to abolish their autistic symptoms.&lt;/p&gt;
&lt;p&gt;The crucial aspect of this work is &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;’s wide availability—an availability approved by regulators such as America’s Food and Drug Administration. This existing approval, which means &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; poses no known health hazard, simplifies the process of organising clinical trials.&lt;/p&gt;
&lt;p&gt;Clearly, autism in people is more complicated than a mere willingness to associate with others. And getting too excited about a mouse trial is usually a mistake. But in Dr Costa-Mattioli’s view his results, which have been replicated in part by Evan Elliot’s laboratory in Bar-Ilan University, Israel, would justify embarking on at least preliminary trials intended to determine whether &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; has positive effects on people with autism, and might thus be worth pursuing.&lt;/p&gt;
&lt;p&gt;Others agree. Sarkis Mazmanian of the California Institute of Technology works in the same area. He says of these results: “I think the bar is now very low for getting this research moved on to human trials since most people already have these bacteria inside them and we know there are few, if any, safety or toxicity issues.”&lt;/p&gt;
&lt;p&gt;The general availability of &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt; does, however, bring with it another possibility—that people will conduct their own, “off label” trials, either on themselves or on their children. Dr Mazmanian is cautious about that idea. “I don’t know if there is a barrier to people buying and using this stuff now. It may be strain-specific and the paper does not state which strain or strains were used,” he says.&lt;/p&gt;
&lt;p&gt;At the moment, Dr Costa-Mattioli is unwilling to divulge that information. He is expecting to publish another paper soon, though, with more details. In practice, it may be hard to discourage people from testing &lt;em class=&quot;Italic&quot;&gt;L. reuteri&lt;/em&gt;’s effects themselves. All the more reason to do properly conducted trials quickly.&lt;/p&gt;
</description>
<pubDate>Sat, 08 Dec 2018 16:58:41 +0000</pubDate>
<dc:creator>daegloe</dc:creator>
<og:description>A common probiotic holds the key</og:description>
<og:image>https://cdn.static-economist.com/sites/default/files/images/print-edition/20181208_STD001_0.jpg</og:image>
<og:type>article</og:type>
<og:url>https://www.economist.com/science-and-technology/2018/12/08/gut-bacteria-may-offer-a-treatment-for-autism</og:url>
<og:title>Gut bacteria may offer a treatment for autism</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.economist.com/science-and-technology/2018/12/08/gut-bacteria-may-offer-a-treatment-for-autism</dc:identifier>
</item>
<item>
<title>Rocket v0.4: Typed URIs, Database Support, Revamped Queries</title>
<link>https://rocket.rs/v0.4/news/2018-12-08-version-0.4/</link>
<guid isPermaLink="true" >https://rocket.rs/v0.4/news/2018-12-08-version-0.4/</guid>
<description>&lt;p class=&quot;metadata&quot;&gt;&lt;strong&gt;Posted by &lt;a href=&quot;https://sergio.bz&quot;&gt;Sergio Benitez&lt;/a&gt; on December 08, 2018&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I am elated to announce that the next major release of Rocket is now available! Rocket 0.4 is a step forward in every direction: it is &lt;strong&gt;packed&lt;/strong&gt; with features and improvements that increase developer productivity, improve application security and robustness, provide new opportunities for extensibility, and deliver a renewed degree of toolchain stability.&lt;/p&gt;
&lt;p&gt;Rocket 0.4 is the culmination of more than a year of development. During this time, more than 600 changes were committed, almost 400 issues were closed, and over 165 pull requests were submitted. The Rocket community has proved steadfast in its support: a sincere thank you to everyone involved!&lt;/p&gt;
&lt;h3 id=&quot;about-rocket&quot;&gt;About Rocket&lt;/h3&gt;
&lt;p&gt;Rocket is a web framework for Rust with a focus on usability, security, and performance. Rocket makes it simple to write fast, secure web applications without sacrificing flexibility or type safety.&lt;/p&gt;
&lt;p&gt;Not already using Rocket? Join the tens of thousands of users and hundreds of companies happily using Rocket today! Rocket's extensive documentation makes it easy. Get started now by &lt;a href=&quot;https://rocket.rs/v0.4/guide&quot;&gt;reading through the guide&lt;/a&gt; or learning more from &lt;a href=&quot;https://rocket.rs/v0.4/overview&quot;&gt;the overview&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;whats-new&quot;&gt;What's New?&lt;/h3&gt;
&lt;p&gt;Rocket 0.4 is the largest release to date by a &lt;em&gt;wide&lt;/em&gt; margin. It is packed with hundreds of changes. We highlight the largest of them here. For a complete description of everything new and different in 0.4, please see the &lt;a href=&quot;https://github.com/SergioBenitez/Rocket/blob/v0.4.0/CHANGELOG.md#version-040-dec-06-2018&quot;&gt;CHANGELOG&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&quot;maintainers-1&quot;&gt;Maintainers += 1&lt;/h4&gt;
&lt;p&gt;An open source project is as much about the people as it is about the code. This is why I am delighted to welcome &lt;a href=&quot;https://github.com/jebrosen&quot;&gt;@jebrosen&lt;/a&gt; as Rocket's first co-maintainer! Jeb is directly responsible for several of the new features in 0.4, has painstakingly code reviewed many other changes, and actively answers questions and resolves issues on GitHub, IRC, and offline.&lt;/p&gt;
&lt;p&gt;Needless to say, Rocket is a better project thanks to you, Jeb. Welcome!&lt;/p&gt;
&lt;h4 id=&quot;codegen-rewrite&quot;&gt;Codegen Rewrite&lt;/h4&gt;
&lt;p&gt;In 0.4, the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/index.html&quot;&gt;&lt;code&gt;rocket_codegen&lt;/code&gt;&lt;/a&gt; crate has been entirely rewritten to use to-be-stable procedural macro APIs where it previously used private, unstable &lt;code&gt;rustc&lt;/code&gt; APIs. While this is largely an internal change, it has big, positive implications for all Rocket users.&lt;/p&gt;
&lt;p&gt;First and foremost, the path to Rocket on stable is now clearly in sight. While there are still hurdles to overcome, we are actively working with the Rust team to make Rocket on stable a reality as soon as possible. We expect the next major Rocket release to support the stable channel.&lt;/p&gt;
&lt;p&gt;Second, but equally important, we expect breakages due to nightly changes to drop dramatically, likely to zero. This means that Rocket is largely already &lt;em&gt;de-facto&lt;/em&gt; toolchain stable.&lt;/p&gt;
&lt;p&gt;The new prelude import for Rocket applications is:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;2&quot;&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;gd&quot;&gt;- #![feature(plugin)]&lt;/span&gt;
&lt;span class=&quot;gd&quot;&gt;- #![plugin(rocket_codegen)]&lt;/span&gt;
&lt;span class=&quot;gi&quot;&gt;+ #![feature(proc_macro_hygiene, decl_macro)]&lt;/span&gt;

&lt;span class=&quot;gd&quot;&gt;- extern crate rocket;&lt;/span&gt;
&lt;span class=&quot;gi&quot;&gt;+ #[macro_use] extern crate rocket;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;&lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/index.html&quot;&gt;&lt;code&gt;rocket_codegen&lt;/code&gt;&lt;/a&gt; should &lt;strong&gt;&lt;em&gt;not&lt;/em&gt;&lt;/strong&gt; be a direct dependency. Remove it from your &lt;code&gt;Cargo.toml&lt;/code&gt;:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;1&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
[dependencies]
&lt;span class=&quot;gd&quot;&gt;- rocket = &quot;0.3&quot;&lt;/span&gt;
&lt;span class=&quot;gi&quot;&gt;+ rocket = &quot;0.4&quot;&lt;/span&gt;
&lt;span class=&quot;gd&quot;&gt;- rocket_codegen = &quot;0.3&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;h4 id=&quot;typed-uris&quot;&gt;Typed URIs&lt;/h4&gt;
&lt;p&gt;Rocket 0.4 introduces the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/macro.uri.html&quot;&gt;&lt;code&gt;uri!&lt;/code&gt;&lt;/a&gt; macro, allowing you to construct URIs to routes in a robust, type-safe, and URI-safe manner. Type or route parameter mismatches are caught at compile-time, and changes to route URIs are automatically reflected in the generated URIs.&lt;/p&gt;
&lt;p&gt;To illustrate, consider the following route:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;1.5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4.5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[get(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/person/&amp;lt;name&amp;gt;?&amp;lt;age&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;URIs to this &lt;code&gt;person&lt;/code&gt; route can be created as follows:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;10&quot;&gt;&lt;tr readability=&quot;20&quot;&gt;&lt;td class=&quot;linenos&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;linenodiv&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;12&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;23&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;c1&quot;&gt;// with unnamed parameters, in route URI declaration order&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;s&quot;&gt;&quot;Mike Smith&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assert_eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/person/Mike%20Smith?age=28&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// with named parameters, order irrelevant&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assert_eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/person/Mike?age=28&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// with a specific mount-point&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/api&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assert_eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/api/person/Mike?age=28&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// with optional query parameters ignored&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assert_eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/person/Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;Should your route's URI change in an incompatible manner, or should you mistype parameters, Rocket informs you of the error at compile-time with a helpful message:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;2.5&quot;&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5.5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;10&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expects&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parameters&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;but&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;was&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;supplied&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;-&amp;gt; &lt;span class=&quot;nc&quot;&gt;examples&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;:&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;:&lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;s&quot;&gt;&quot;Mike Smith&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;                  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^^^^^^^^^^^^&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;note&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;expected&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parameters&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;The same applies to type errors: Rocket informs you of any type errors at compile-time as well:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;3.5&quot;&gt;&lt;tr readability=&quot;7&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;the&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bound&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u8&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;FromUriParam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;satisfied&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;-&amp;gt; &lt;span class=&quot;nc&quot;&gt;examples&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;:&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;:&lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Mike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^^^^&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromUriParam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;implemented&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u8&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;We recommend that &lt;code&gt;uri!&lt;/code&gt; is exclusively used when constructing route URIs. For more information on typed URIs, see the new &lt;a href=&quot;https://rocket.rs/v0.4/guide/responses/#typed-uris&quot;&gt;Typed URIs&lt;/a&gt; guide section and the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/macro.uri.html&quot;&gt;&lt;code&gt;uri!&lt;/code&gt;&lt;/a&gt; macro documentation.&lt;/p&gt;
&lt;h4 id=&quot;database-support&quot;&gt;Database Support&lt;/h4&gt;
&lt;p&gt;Rocket now includes built-in, ORM-agnostic support for database connection pooling. More specifically, Rocket allows you to easily configure and connect your Rocket application to databases through connection pools in three simple, largely automated steps:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Configure databases in &lt;code&gt;Rocket.toml&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Associate a request guard type and fairing with each database.&lt;/li&gt;
&lt;li&gt;Use the request guard to retrieve a connection in a handler.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;As an example, for a Diesel-based SQLite database named &lt;code&gt;sqlite_logs&lt;/code&gt;, your &lt;code&gt;Rocket.toml&lt;/code&gt; would record the URL to the database in the &lt;code&gt;databases&lt;/code&gt; table:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;1&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;[global.databases]&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sqlite_logs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;{ url = &quot;/path/to/database.sqlite&quot; }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;In the application, a unit-like &lt;code&gt;struct&lt;/code&gt; with one internal type (the database connection) is decorated with the &lt;code&gt;#[database]&lt;/code&gt; attribute and the name of the configured database. This generates a fairing which must then be attached:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;1.5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4.5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[database(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sqlite_logs&quot;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LogsDbConn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diesel&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;SqliteConnection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;rocket&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;ignite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LogsDbConn&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;fairing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;That's it! Whenever a connection to the database is needed, the type can be used as a request guard:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;2&quot;&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[get(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/logs/&amp;lt;id&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_logs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;LogsDbConn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&quot;nb&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Logs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logs&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;For more information on Rocket's database support, see the new &lt;a href=&quot;https://rocket.rs/v0.4/guide/state/#databases&quot;&gt;Database&lt;/a&gt; guide section and the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_contrib/databases/index.html&quot;&gt;&lt;code&gt;rocket_contrib::databases&lt;/code&gt;&lt;/a&gt; module documentation.&lt;/p&gt;
&lt;h4 id=&quot;revamped-queries&quot;&gt;Revamped Queries&lt;/h4&gt;
&lt;p&gt;In Rocket 0.4, query string handling has been completely overhauled, resolving some of the most called for requests in Rocket's history (&lt;a href=&quot;https://github.com/SergioBenitez/Rocket/issues/608&quot;&gt;#608&lt;/a&gt;). The new query handling route syntax and semantics were designed with the following goals in mind:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Enable matching of static query components.&lt;/li&gt;
&lt;li&gt;No special-casing of any kind, preferring type-driven flows.&lt;/li&gt;
&lt;li&gt;Ad-hoc matching of specific query key/value pairs.&lt;/li&gt;
&lt;li&gt;Lenient parsing by default, allowing missing parameters.&lt;/li&gt;
&lt;li&gt;Order-independent matching of query parameters.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;To illustrate the new system in action, consider the following route:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;4&quot;&gt;&lt;tr readability=&quot;8&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;13&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[derive(FromForm)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DogDetails&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;Inches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;Pounds&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;#[get(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/animal?dog&amp;amp;&amp;lt;name&amp;gt;&amp;amp;&amp;lt;nickname&amp;gt;&amp;amp;&amp;lt;rest..&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nickname&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rest&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;Form&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DogDetails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;This route matches any &lt;code&gt;GET&lt;/code&gt; request with a path of &lt;code&gt;/animal&lt;/code&gt;, a static query component of &lt;code&gt;dog&lt;/code&gt;, and key/value parameters of &lt;code&gt;color&lt;/code&gt;, &lt;code&gt;height&lt;/code&gt;, and &lt;code&gt;weight&lt;/code&gt; that validate as &lt;code&gt;Color&lt;/code&gt;, &lt;code&gt;Inches&lt;/code&gt;, and &lt;code&gt;Pounds&lt;/code&gt;, respectively. Furthermore, it optionally accepts a key/value parameter of &lt;code&gt;nickname&lt;/code&gt;. If the value is present, &lt;code&gt;nickname&lt;/code&gt; will be &lt;code&gt;Some&lt;/code&gt;; if it is not, &lt;code&gt;nickname&lt;/code&gt; will be &lt;code&gt;None&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Single parameters (&lt;code&gt;&amp;lt;param&amp;gt;&lt;/code&gt;) like &lt;code&gt;name&lt;/code&gt; and &lt;code&gt;nickname&lt;/code&gt; are validated using the existing &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/trait.FromFormValue.html&quot;&gt;&lt;code&gt;FromFormValue&lt;/code&gt;&lt;/a&gt; trait while trailing parameters (&lt;code&gt;&amp;lt;param..&amp;gt;&lt;/code&gt;) are validated using the new &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/trait.FromQuery.html&quot;&gt;&lt;code&gt;FromQuery&lt;/code&gt;&lt;/a&gt; trait. Both traits are user implementable, and &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/trait.FromFormValue.html&quot;&gt;&lt;code&gt;FromFormValue&lt;/code&gt;&lt;/a&gt; can be derived.&lt;/p&gt;
&lt;p&gt;For more details on handling query strings, see the new &lt;a href=&quot;https://rocket.rs/v0.4/guide/requests/#query-strings&quot;&gt;Query Strings&lt;/a&gt; guide section and the updated &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/attr.get.html&quot;&gt;&lt;code&gt;route&lt;/code&gt; attribute&lt;/a&gt; documentation.&lt;/p&gt;
&lt;h4 id=&quot;stateful-handlers&quot;&gt;Stateful Handlers&lt;/h4&gt;
&lt;p&gt;The type of a handler has been generalized in 0.4 to any type that implements the new &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/trait.Handler.html&quot;&gt;&lt;code&gt;Handler&lt;/code&gt;&lt;/a&gt; trait. Among other things, this allows handlers to refer to internal state during request handling.&lt;/p&gt;
&lt;p&gt;The new &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_contrib/serve/struct.StaticFiles.html&quot;&gt;&lt;code&gt;StaticFiles&lt;/code&gt;&lt;/a&gt; &lt;code&gt;contrib&lt;/code&gt; type uses this functionality to provide easier-than-ever static file serving. For example, to make local files from a &lt;code&gt;/static&lt;/code&gt; directory accessible at &lt;code&gt;/public&lt;/code&gt;, you need simply write:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;1.5&quot;&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;

&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;4.5&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rocket&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;ignite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/public&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;StaticFiles&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/static&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;We encourage users to explore the new &lt;code&gt;Handler&lt;/code&gt; API and contribute libraries with pluggable handlers! For more details, see the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/trait.Handler.html&quot;&gt;&lt;code&gt;Handler&lt;/code&gt;&lt;/a&gt; documentation.&lt;/p&gt;
&lt;h4 id=&quot;responder-derive&quot;&gt;Responder Derive&lt;/h4&gt;
&lt;p&gt;In Rocket 0.4, the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/response/trait.Responder.html&quot;&gt;&lt;code&gt;Responder&lt;/code&gt;&lt;/a&gt; trait can be derived for &lt;code&gt;enum&lt;/code&gt;s and &lt;code&gt;struct&lt;/code&gt;s with named fields. This greatly simplifies returning multiple types of responses from a single handler.&lt;/p&gt;
&lt;p&gt;To illustrate, consider a route that returns either a &lt;code&gt;Json&amp;lt;Info&amp;gt;&lt;/code&gt; structure for 401 (unauthorized) errors or a &lt;code&gt;NamedFile&lt;/code&gt; with a dynamic Content-Type for 404 (not found) errors. To accomplish this previously, &lt;code&gt;Result&lt;/code&gt; values could be arbitrarily nested, an unappealing and semantically incorrect approach. Alternatively, an &lt;code&gt;enum&lt;/code&gt; could be declared with the appropriate variants, and &lt;code&gt;Responder&lt;/code&gt; could be manually implemented for the &lt;code&gt;enum&lt;/code&gt;. As of 0.4, that implementation can be automatically derived:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;3&quot;&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[derive(Responder)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#[response(status = 401)]&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Unauthorized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#[response(status = 404)]&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NotFound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NamedFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ContentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;A value of this type can then be returned from a hander or used as part of wrapping responders:&lt;/p&gt;
&lt;table class=&quot;code hltable&quot; readability=&quot;3&quot;&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;linenos&quot;&gt;
&lt;div class=&quot;linenodiv&quot;&gt;
&lt;pre&gt;
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;code&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;code hl&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;cp&quot;&gt;#[get(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/&amp;lt;item&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&quot;nb&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Unauthorized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(..))&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;NotFound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(..))&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(..)&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;The status for each variant will be automatically set to the value of the &lt;code&gt;status&lt;/code&gt; variant attribute, and fields beyond the first will be added as headers to the response (here, &lt;code&gt;ContentType&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;For more on using the &lt;code&gt;Responder&lt;/code&gt; derive, see the new &lt;a href=&quot;https://rocket.rs/v0.4/guide/responses/#custom-responders&quot;&gt;Custom Responders&lt;/a&gt; guide section and the &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/derive.Responder.html&quot;&gt;&lt;code&gt;Responder&lt;/code&gt; derive&lt;/a&gt; documentation.&lt;/p&gt;
&lt;h4 id=&quot;live-template-reloading&quot;&gt;Live Template Reloading&lt;/h4&gt;
&lt;p&gt;Rocket 0.4 automatically reloads changed templates at runtime without requiring recompilation. This works on all major platforms. For security and performance reasons, live template reloading is only enabled when the application is compiled in debug mode.&lt;/p&gt;
&lt;p&gt;There is no configuration necessary: this &lt;em&gt;just works&lt;/em&gt; out of the box!&lt;/p&gt;
&lt;h4 id=&quot;and-plenty-more&quot;&gt;And Plenty More!&lt;/h4&gt;
&lt;p&gt;In addition to the features highlighted above, Rocket 0.4 also contains the following new features:&lt;/p&gt;
&lt;h3 id=&quot;breaking-changes&quot;&gt;Breaking Changes&lt;/h3&gt;
&lt;p&gt;This release includes many breaking changes. Please see the &lt;a href=&quot;https://github.com/SergioBenitez/Rocket/blob/v0.3.0/CHANGELOG.md#breaking-changes&quot;&gt;CHANGELOG&lt;/a&gt; for a complete list of breaking changes along with details on handling the breaking change in existing applications.&lt;/p&gt;
&lt;p&gt;Rocket 0.3 will continue as a security maintance release &lt;em&gt;only&lt;/em&gt;. All users are encouraged to migrate their applications to 0.4.&lt;/p&gt;
&lt;h3 id=&quot;general-improvements&quot;&gt;General Improvements&lt;/h3&gt;
&lt;p&gt;In addition to new features, Rocket saw the following improvements:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Log messages now refer to routes by name.&lt;/li&gt;
&lt;li&gt;Collision errors on launch name the colliding routes.&lt;/li&gt;
&lt;li&gt;Launch fairing failures refer to the failing fairing by name.&lt;/li&gt;
&lt;li&gt;The default &lt;code&gt;403&lt;/code&gt; catcher now references authorization, not authentication.&lt;/li&gt;
&lt;li&gt;Private cookies are set to &lt;code&gt;HttpOnly&lt;/code&gt; and are given an expiration date of 1 week by default.&lt;/li&gt;
&lt;li&gt;A &lt;a href=&quot;https://github.com/SergioBenitez/Rocket/tree/v0.4/examples/tera_templates&quot;&gt;Tera templates example&lt;/a&gt; was added.&lt;/li&gt;
&lt;li&gt;All macros, derives, and attributes are individually documented in &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket_codegen/index.html&quot;&gt;&lt;code&gt;rocket_codegen&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Invalid client requests receive a response of &lt;code&gt;400&lt;/code&gt; instead of &lt;code&gt;500&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Response bodies are reliably stripped on &lt;code&gt;HEAD&lt;/code&gt; requests.&lt;/li&gt;
&lt;li&gt;Added a default catcher for &lt;code&gt;504: Gateway Timeout&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Configuration information is logged in all environments.&lt;/li&gt;
&lt;li&gt;Use of &lt;code&gt;unsafe&lt;/code&gt; was reduced from 9 to 2 in core library.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/enum.FormItems.html&quot;&gt;&lt;code&gt;FormItems&lt;/code&gt;&lt;/a&gt; now parses empty keys and values as well as keys without values.&lt;/li&gt;
&lt;li&gt;Added &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/config/struct.Config.html#method.active&quot;&gt;&lt;code&gt;Config::active()&lt;/code&gt;&lt;/a&gt; as a shorthand for &lt;code&gt;Config::new(Environment::active()?)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Address/port binding errors at launch are detected and explicitly emitted.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/response/struct.Flash.html&quot;&gt;&lt;code&gt;Flash&lt;/code&gt;&lt;/a&gt; cookies are cleared only after they are inspected.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Sync&lt;/code&gt; bound on &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/fairing/struct.AdHoc.html#method.on_attach&quot;&gt;&lt;code&gt;AdHoc::on_attach()&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/fairing/struct.AdHoc.html#method.on_launch&quot;&gt;&lt;code&gt;AdHoc::on_launch()&lt;/code&gt;&lt;/a&gt; was removed.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/fairing/struct.AdHoc.html#method.on_attach&quot;&gt;&lt;code&gt;AdHoc::on_attach()&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/fairing/struct.AdHoc.html#method.on_launch&quot;&gt;&lt;code&gt;AdHoc::on_launch()&lt;/code&gt;&lt;/a&gt; accept an &lt;code&gt;FnOnce&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Added &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/struct.Config.html#method.root_relative&quot;&gt;&lt;code&gt;Config::root_relative()&lt;/code&gt;&lt;/a&gt; for retrieving paths relative to the configuration file.&lt;/li&gt;
&lt;li&gt;Added &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/struct.Config.html#method.tls_enabled&quot;&gt;&lt;code&gt;Config::tls_enabled()&lt;/code&gt;&lt;/a&gt; for determining whether TLS is actively enabled.&lt;/li&gt;
&lt;li&gt;ASCII color codes are not emitted on versions of Windows that do not support them.&lt;/li&gt;
&lt;li&gt;Added FLAC (&lt;code&gt;audio/flac&lt;/code&gt;), Icon (&lt;code&gt;image/x-icon&lt;/code&gt;), WEBA (&lt;code&gt;audio/webm&lt;/code&gt;), TIFF (&lt;code&gt;image/tiff&lt;/code&gt;), AAC (&lt;code&gt;audio/aac&lt;/code&gt;), Calendar (&lt;code&gt;text/calendar&lt;/code&gt;), MPEG (&lt;code&gt;video/mpeg&lt;/code&gt;), TAR (&lt;code&gt;application/x-tar&lt;/code&gt;), GZIP (&lt;code&gt;application/gzip&lt;/code&gt;), MOV (&lt;code&gt;video/quicktime&lt;/code&gt;), MP4 (&lt;code&gt;video/mp4&lt;/code&gt;), ZIP (&lt;code&gt;application/zip&lt;/code&gt;) as known media types.&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;.weba&lt;/code&gt; (&lt;code&gt;WEBA&lt;/code&gt;), &lt;code&gt;.ogv&lt;/code&gt; (&lt;code&gt;OGG&lt;/code&gt;), &lt;code&gt;.mp4&lt;/code&gt; (&lt;code&gt;MP4&lt;/code&gt;), &lt;code&gt;.mpeg4&lt;/code&gt; (&lt;code&gt;MP4&lt;/code&gt;), &lt;code&gt;.aac&lt;/code&gt; (&lt;code&gt;AAC&lt;/code&gt;), &lt;code&gt;.ics&lt;/code&gt; (&lt;code&gt;Calendar&lt;/code&gt;), &lt;code&gt;.bin&lt;/code&gt; (&lt;code&gt;Binary&lt;/code&gt;), &lt;code&gt;.mpg&lt;/code&gt; (&lt;code&gt;MPEG&lt;/code&gt;), &lt;code&gt;.mpeg&lt;/code&gt; (&lt;code&gt;MPEG&lt;/code&gt;), &lt;code&gt;.tar&lt;/code&gt; (&lt;code&gt;TAR&lt;/code&gt;), &lt;code&gt;.gz&lt;/code&gt; (&lt;code&gt;GZIP&lt;/code&gt;), &lt;code&gt;.tif&lt;/code&gt; (&lt;code&gt;TIFF&lt;/code&gt;), &lt;code&gt;.tiff&lt;/code&gt; (&lt;code&gt;TIFF&lt;/code&gt;), &lt;code&gt;.mov&lt;/code&gt; (&lt;code&gt;MOV&lt;/code&gt;) as known extensions.&lt;/li&gt;
&lt;li&gt;Interaction between route attributes and declarative macros has been improved.&lt;/li&gt;
&lt;li&gt;Generated code now logs through logging infrastructures as opposed to using &lt;code&gt;println!&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Routing has been optimized by caching routing metadata.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/struct.Form.html&quot;&gt;&lt;code&gt;Form&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/struct.LenientForm.html&quot;&gt;&lt;code&gt;LenientForm&lt;/code&gt;&lt;/a&gt; can be publicly constructed.&lt;/li&gt;
&lt;li&gt;Console coloring uses default terminal colors instead of white.&lt;/li&gt;
&lt;li&gt;Console coloring is consistent across all messages.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;i128&lt;/code&gt; and &lt;code&gt;u128&lt;/code&gt; now implement &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/trait.FromParam.html&quot;&gt;&lt;code&gt;FromParam&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://api.rocket.rs/v0.4/rocket/request/trait.FromFormValue.html&quot;&gt;&lt;code&gt;FromFormValue&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;base64&lt;/code&gt; dependency was updated to &lt;code&gt;0.10&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;log&lt;/code&gt; dependency was updated to &lt;code&gt;0.4&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;handlebars&lt;/code&gt; dependency was updated to &lt;code&gt;1.0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;tera&lt;/code&gt; dependency was updated to &lt;code&gt;0.11&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;uuid&lt;/code&gt; dependency was updated to &lt;code&gt;0.7&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;rustls&lt;/code&gt; dependency was updated to &lt;code&gt;0.14&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;cookie&lt;/code&gt; dependency was updated to &lt;code&gt;0.11&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;whats-next&quot;&gt;What's Next?&lt;/h3&gt;
&lt;p&gt;Rocket v0.5 is scheduled to be &lt;em&gt;at least&lt;/em&gt; as exciting as 0.4! As always, the focus continues to be usability, stability, security, and performance. With this in mind, the roadmap for 0.5 includes:&lt;/p&gt;
&lt;ol readability=&quot;11.865051903114&quot;&gt;&lt;li readability=&quot;0.97297297297297&quot;&gt;
&lt;p&gt;&lt;strong&gt;Support for Rust Stable&lt;/strong&gt; (&lt;a href=&quot;https://github.com/SergioBenitez/Rocket/issues/19&quot;&gt;#19&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Finally! Rocket 0.5 will compile and run on stable versions of the Rust compiler.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;7.95&quot;&gt;
&lt;p&gt;&lt;strong&gt;Asynchronous Request Handling&lt;/strong&gt; (&lt;a href=&quot;https://github.com/SergioBenitez/Rocket/issues/17&quot;&gt;#17&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;In 0.5, Rocket will migrate to the latest asynchronous version of &lt;code&gt;hyper&lt;/code&gt; and &lt;code&gt;futures&lt;/code&gt; with compatibility for &lt;code&gt;async&lt;/code&gt;/&lt;code&gt;await&lt;/code&gt; syntax. Of utmost importance is preserving Rocket's usability. As such, these changes will be largely internal, with asynchronous I/O peeking over the covers &lt;em&gt;only&lt;/em&gt; when explicitly desired or required. As a side effect, we expect a substantial performance boost from the migration as well as resolution to long-standing issues.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2.9516129032258&quot;&gt;
&lt;p&gt;&lt;strong&gt;Multipart Form Support&lt;/strong&gt; (&lt;a href=&quot;https://github.com/SergioBenitez/Rocket/issues/106&quot;&gt;#106&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;The lack of built-in multipart form support makes handling file uploads and other submissions much more cumbersome than necessary. Rocket 0.5 will generalize its existing forms infrastructure to handle multipart forms.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;5.9426751592357&quot;&gt;
&lt;p&gt;&lt;strong&gt;Stronger CSRF and XSS Protection&lt;/strong&gt; (&lt;a href=&quot;https://github.com/SergioBenitez/Rocket/issues/14&quot;&gt;#14&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Since 0.3, Rocket uses &lt;code&gt;SameSite: Strict&lt;/code&gt; private cookies to prevent CSRF attacks. This technique is only tenable in newer browsers. In 0.5, Rocket will protect against CSRF using more robust techniques. Rocket will also add support for automatic, browser-based XSS protection.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;h3 id=&quot;rocket-v04-contributors&quot;&gt;Rocket v0.4 Contributors&lt;/h3&gt;
&lt;p&gt;The following wonderful people helped make Rocket 0.4 happen:&lt;/p&gt;
&lt;ul class=&quot;columns&quot;&gt;&lt;li&gt;Alexander Mielczarek&lt;/li&gt;
&lt;li&gt;Alex Bowers&lt;/li&gt;
&lt;li&gt;Alfie John&lt;/li&gt;
&lt;li&gt;Alva Snædís&lt;/li&gt;
&lt;li&gt;Ashley Williams&lt;/li&gt;
&lt;li&gt;Beatriz Rizental&lt;/li&gt;
&lt;li&gt;bohov&lt;/li&gt;
&lt;li&gt;Christophe Courtaut&lt;/li&gt;
&lt;li&gt;David Darrell&lt;/li&gt;
&lt;li&gt;Desmond&lt;/li&gt;
&lt;li&gt;Divyahans Gupta&lt;/li&gt;
&lt;li&gt;Donald Robertson&lt;/li&gt;
&lt;li&gt;EloD10&lt;/li&gt;
&lt;li&gt;Eric Dattore&lt;/li&gt;
&lt;li&gt;Henning Kowalk&lt;/li&gt;
&lt;li&gt;Imron Alston&lt;/li&gt;
&lt;li&gt;Jeb Rosen&lt;/li&gt;
&lt;li&gt;kryptan&lt;/li&gt;
&lt;li&gt;Kyle Clemens&lt;/li&gt;
&lt;li&gt;lerina&lt;/li&gt;
&lt;li&gt;Linus Unnebäck&lt;/li&gt;
&lt;li&gt;Lukas Abfalterer&lt;/li&gt;
&lt;li&gt;Marc Mettke&lt;/li&gt;
&lt;li&gt;Max Furman&lt;/li&gt;
&lt;li&gt;messense&lt;/li&gt;
&lt;li&gt;Ning Sun&lt;/li&gt;
&lt;li&gt;Philip Jenvey&lt;/li&gt;
&lt;li&gt;Pyry Kontio&lt;/li&gt;
&lt;li&gt;Richo Healey&lt;/li&gt;
&lt;li&gt;Riley Trautman&lt;/li&gt;
&lt;li&gt;Rolf Schmidt&lt;/li&gt;
&lt;li&gt;Rukai&lt;/li&gt;
&lt;li&gt;Sean Stangl&lt;/li&gt;
&lt;li&gt;Sébastien Santoro&lt;/li&gt;
&lt;li&gt;Sergio Benitez&lt;/li&gt;
&lt;li&gt;Stanislav Ivanov&lt;/li&gt;
&lt;li&gt;Tal Garfinkel&lt;/li&gt;
&lt;li&gt;Tobias Stolzmann&lt;/li&gt;
&lt;li&gt;Ville Hakulinen&lt;/li&gt;
&lt;li&gt;Vishal Sodani&lt;/li&gt;
&lt;li&gt;Zack Chandler&lt;/li&gt;
&lt;li&gt;Zac Pullar-Strecker&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Thank you all! Your contributions are &lt;strong&gt;greatly&lt;/strong&gt; appreciated!&lt;/p&gt;
&lt;p&gt;Looking to help with Rocket's development? Head over to &lt;a href=&quot;https://github.com/SergioBenitez/Rocket#contributing&quot;&gt;Rocket's GitHub&lt;/a&gt; and start contributing!&lt;/p&gt;
</description>
<pubDate>Sat, 08 Dec 2018 16:56:18 +0000</pubDate>
<dc:creator>sbenitez</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://rocket.rs/v0.4/news/2018-12-08-version-0.4/</dc:identifier>
</item>
<item>
<title>Australia’s vague anti-encryption law sets a dangerous new precedent</title>
<link>https://protonmail.com/blog/australia-anti-encryption-law/</link>
<guid isPermaLink="true" >https://protonmail.com/blog/australia-anti-encryption-law/</guid>
<description>&lt;h2&gt;On Thursday, the Australian government and its Labor partners rammed a shockingly invasive anti-encryption law through Parliament, over the objections of experts, businesses, and civil rights groups.&lt;/h2&gt;
&lt;p&gt;The Assistance and Access (A&amp;amp;A) law requires tech companies to help law enforcement agencies break into individuals’ encrypted data. Using secret warrants, the government can even compel a company to serve malware remotely to the target’s device.&lt;/p&gt;
&lt;p&gt;The goal of the law is to give police more latitude to investigate criminals using encrypted communications software. But Assistance and Access goes far beyond that. It endangers the security of everyone who uses online services, it weakens civil rights like privacy and due process, and it places an unprecedented burden on tech companies to attack the very users they set out to serve.&lt;/p&gt;
&lt;p&gt;There is nothing new about a government seeking to break encryption. From the &lt;a href=&quot;https://protonmail.com/blog/investigatory-powers-bill-email-privacy/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;British Investigatory Powers law&lt;/a&gt; to the &lt;a href=&quot;https://www.lawfareblog.com/nsa-and-weak-dh&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NSA’s possible decryption programs&lt;/a&gt;, law enforcement agencies around the world are working hard to gain an edge over information security technology. But Australia’s new law goes much further, deputizing tech businesses as accomplices in a surveillance scheme so loosely conceived that no one really knows its limits. “The definition of ‘acts or things’ in the Bill is so vague as to potentially permit almost limitless forms of assistance,” the Australian Human Rights Commission &lt;a href=&quot;https://www.humanrights.gov.au/sites/default/files/Australian%20Human%20Rights%20Commission%20submission%20Access%20and%20Assistance%20Bill%20%5Bfinal%5D%2012%20Oct%2018.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;wrote to Parliament&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Does the Assistance and Access (A&amp;amp;A) law impact ProtonMail?&lt;/h3&gt;
&lt;p&gt;Fortunately, there is virtually no way to enforce this law outside of Australia because it has no foreign equivalent. ProtonMail, a Swiss company with datacenters only in Switzerland, is not under Australian jurisdiction. Any request for assistance from Australian agencies under the A&amp;amp;A law would need to pass the scrutiny of Switzerland’s criminal procedure and data protection laws. Tech companies with a corporate presence in Australia however, are more likely to be impacted.&lt;/p&gt;
&lt;p&gt;But just because this particular law does not affect ProtonMail and ProtonVPN does not mean we are indifferent. A&amp;amp;A is one of the most significant attacks on digital security and privacy since the NSA’s PRISM program. But the Australian measure is more brazen, &lt;a href=&quot;https://www.lawcouncil.asn.au/media/media-releases/unprecedented-and-complex-encryption-access-laws-must-not-be-rushed-nor-politicised&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hastily forced through Parliament&lt;/a&gt; over the loud objections of every sector of society, from businesses to lawyers groups. We thoroughly condemn the new law, and as the world’s largest &lt;a href=&quot;https://protonmail.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;encrypted email provider&lt;/a&gt;, we remain committed to protecting our users anywhere in the world, including in Australia.&lt;/p&gt;
&lt;h3&gt;What’s wrong with the Assistance and Access law?&lt;/h3&gt;
&lt;p&gt;The Australian government had been an outspoken advocate for &lt;a href=&quot;https://protonmail.com/blog/encryption-backdoor/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;encryption backdoors&lt;/a&gt;, requiring tech companies to build systematic weaknesses in their encryption to allow law enforcement in. Privacy advocates successfully argued that there is no such thing as a backdoor that only lets the good guys in. So the government went back to the drawing board. The result is the Assistance and Access law.&lt;/p&gt;
&lt;p&gt;From the center-left to the far-right, Australian lawmakers voted Thursday to break encryption once and for all. While the law does not technically require a backdoor, it would require companies to help police build software capable of decrypting a targeted user’s data (i.e. with targeted malware).&lt;/p&gt;
&lt;p&gt;But the law is extremely confusing and vague, so it is difficult to know how it will be interpreted in practice. The Australian Computer Society, a trade association for IT professionals, outlined several problems in their &lt;a href=&quot;https://www.acs.org.au/content/dam/acs/acs-public-policy/ACS%20submission%20on%20Assistance%20and%20Access%20Bill.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;letter to Parliament&lt;/a&gt;. To paraphrase a few:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Not every company has the technical know-how to safely implement malware that won’t accidentally backdoor the entire product (particularly with IoT devices), putting the security of people’s homes and organizations at risk.&lt;/li&gt;
&lt;li&gt;Businesses can’t easily plan or budget for possible covert surveillance work with the government.&lt;/li&gt;
&lt;li&gt;A companion “explanatory document” outlines some safeguards to protect civil rights and privacy that don’t actually appear in the law itself.&lt;/li&gt;
&lt;li&gt;Once police have gained access to a suspect’s device, they could easily remove evidence from the device that could prove the person’s innocence. There would be no way to know.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;These are just a few of the issues, and that’s barely scratching the surface.&lt;/p&gt;
&lt;h3&gt;The Assistance and Access law makes us less safe&lt;/h3&gt;
&lt;p&gt;A&amp;amp;A forbids the implementation of “systemic weaknesses,” but the law does not adequately define the term. Without a better definition, police could deploy tactics that result in unintended consequences. In our view, this is one of the most dangerous aspects of the law.&lt;/p&gt;
&lt;p&gt;To illustrate this danger, the Australian Human Rights Commission &lt;a href=&quot;https://www.humanrights.gov.au/sites/default/files/Australian%20Human%20Rights%20Commission%20submission%20Access%20and%20Assistance%20Bill%20%5Bfinal%5D%2012%20Oct%2018.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;described a potential scenario&lt;/a&gt; in which police order Facebook to send a push notification to a single user asking that person to install a software update. This in itself would not constitute a systemic weakness, but if large numbers of Facebook users stop downloading software updates (including security updates) because they’re afraid of government spyware then that could create systemic weaknesses.&lt;/p&gt;
&lt;p&gt;Even though A&amp;amp;A is confined to Australian jurisdiction, it sets a precedent with far-reaching dangers to cybersecurity. Online privacy and security are often predicated on trust in the service provider. Australian Parliament has single-handedly undermined global confidence in any software maker with an Australian presence, including Facebook (by extension WhatsApp and Instagram), Google, and Apple.&lt;/p&gt;
&lt;p&gt;The law’s easy passage may also encourage other governments to create their own versions. But because Australia is a member of the &lt;a href=&quot;https://protonvpn.com/blog/5-eyes-global-surveillance/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Five Eyes intelligence-sharing arrangement&lt;/a&gt;, some foreign intelligence agencies may not even have to wait to reap the benefits. The governments of the US, UK, Canada, and New Zealand can gain access to whatever information Australian spies collect using their new A&amp;amp;A powers.&lt;/p&gt;
&lt;h3&gt;Protecting encryption in the wake of Assistance and Access&lt;/h3&gt;
&lt;p&gt;We are not opposed to law enforcement, and we &lt;a href=&quot;https://protonmail.com/blog/apophis-squad-arrest/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;respect the important role&lt;/a&gt; that law enforcement has to play in ensuring security both online and offline. Similarly, many law enforcement officials also understand the importance of technologies like &lt;a href=&quot;https://protonmail.com/blog/what-is-end-to-end-encryption/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;end-to-end encryption&lt;/a&gt;, and many even use ProtonMail themselves. As we have &lt;a href=&quot;https://protonmail.com/blog/privacy-vs-security/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;previously noted&lt;/a&gt;, the widespread use of encryption can actually further governments’ national security goals. It is critical that we strike the right balance. In our opinion, the A&amp;amp;A law does not do this, and in the long run, will make us all less safe.&lt;/p&gt;
&lt;p&gt;The solution is education. The way we protect privacy rights is by helping citizens and lawmakers understand that data security and crime prevention are not opposing ideas. Simply put, encryption prevents far more crimes than it enables. But more importantly, privacy is a pillar of democracy, and encryption is how we ensure our democracy survives. The fact that it also makes our online data safer in the process is an added bonus.&lt;/p&gt;
&lt;p&gt;For these reasons, we remain committed to our mission to expand access to privacy and security online. You can support these efforts simply by switching to a &lt;a href=&quot;https://protonmail.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ProtonMail secure email account&lt;/a&gt; and educating those around you about why privacy and security matter.&lt;/p&gt;
&lt;p&gt;Best Regards,&lt;br/&gt;The ProtonMail Team&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;You can get a &lt;a href=&quot;https://protonmail.com/signup&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;free secure email account from ProtonMail here&lt;/a&gt;.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;We also provide a &lt;a href=&quot;https://protonvpn.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;free VPN service&lt;/a&gt; to protect your privacy.&lt;br/&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;ProtonMail and ProtonVPN are funded by community contributions. If you would like to support our development efforts, you can &lt;/em&gt;&lt;/strong&gt;&lt;strong&gt;&lt;em&gt;upgrade to a &lt;a href=&quot;https://protonmail.com/support/knowledge-base/paid-plans/&quot;&gt;paid plan&lt;/a&gt;&lt;/em&gt;&lt;/strong&gt;&lt;strong&gt;&lt;em&gt; or &lt;/em&gt;&lt;/strong&gt;&lt;a href=&quot;https://protonmail.com/donate&quot;&gt;&lt;strong&gt;&lt;em&gt;donate&lt;/em&gt;&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt;&lt;em&gt;. Thank you for your support!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;


</description>
<pubDate>Sat, 08 Dec 2018 16:51:08 +0000</pubDate>
<dc:creator>djsumdog</dc:creator>
<og:type>article</og:type>
<og:title>Australia’s vague anti-encryption law sets a dangerous new precedent - ProtonMail Blog</og:title>
<og:description>On Thursday, the Australian government and its Labor partners rammed a shockingly invasive anti-encryption law through Parliament, over the objections of experts, businesses, and civil rights groups. It endangers the security of everyone who uses online services, and it places an unprecedented burden on tech companies to attack the very users they set out to serve.</og:description>
<og:url>https://protonmail.com/blog/australia-anti-encryption-law/</og:url>
<og:image>https://protonmail.com/blog/wp-content/uploads/2018/12/protonmail-australia-anti-encryption-law.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://protonmail.com/blog/australia-anti-encryption-law/</dc:identifier>
</item>
</channel>
</rss>