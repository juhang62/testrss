<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Fun with IP address parsing</title>
<link>https://blog.dave.tf/post/ip-addr-parsing/</link>
<guid isPermaLink="true" >https://blog.dave.tf/post/ip-addr-parsing/</guid>
<description>&lt;p&gt;&lt;span&gt;Written by&lt;/span&gt; David Anderson&lt;br/&gt;&lt;span&gt;on &lt;/span&gt;&lt;time datetime=&quot;2020-12-25 00:00:00 +0000 UTC&quot;&gt;December 25, 2020&lt;/time&gt;&lt;/p&gt;


&lt;p&gt;In my quest to write a fast IPv4+6 parser, I wrote a slow-but-I-think-correct parser, to use as a base of comparison. In doing so, I discovered more cursed IP address representations that I was previously unaware of. Let’s explore together!&lt;/p&gt;
&lt;p&gt;We start out simple, with IPv4 and IPv6 in what I’ll call their “canonical form”: &lt;code&gt;192.168.0.1&lt;/code&gt; and &lt;code&gt;1:2:3:4:5:6:7:8&lt;/code&gt;. Various specs call these “dotted quad” (more specifically, “dotted decimal”), dot-separated fields each representing 1 byte; and “colon-hex”, colon-separated fields each representing 2 bytes.&lt;/p&gt;
&lt;p&gt;The first bits of complexity come from IPv6. In canonical form, common addresses would end up with long runs of zeros in the middle. So, &lt;code&gt;::&lt;/code&gt; allows you to elide 1 or more 16-bit blocks of zeros: &lt;code&gt;1:2::3:4&lt;/code&gt; means &lt;code&gt;1:2:0:0:0:0:3:4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Next up, for cursed historical reasons, IPv6 permits you to write the final 32 bits of the address in dotted quad form. Effectively, you can splat an IPv4 address onto the end of IPv6 addresses! &lt;code&gt;1:2:3:4:5:6:77.77.88.88&lt;/code&gt; means &lt;code&gt;1:2:3:4:5:6:4d4d:5858&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;And of course, you can combine the two! &lt;code&gt;fe80::1.2.3.4&lt;/code&gt; means &lt;code&gt;fe80:0:0:0:0:0:102:304&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The existence of &lt;code&gt;::&lt;/code&gt; introduces an annoying edge case in parsing: the &lt;code&gt;::&lt;/code&gt; can be at the start or end of the address, and the “empty” side of the address is not one of the 16-bit fields. &lt;code&gt;::1&lt;/code&gt; means &lt;code&gt;0:0:0:0:0:0:0:1&lt;/code&gt;, &lt;code&gt;1::&lt;/code&gt; means &lt;code&gt;1:0:0:0:0:0:0:0&lt;/code&gt;, and &lt;code&gt;::&lt;/code&gt; means &lt;code&gt;0:0:0:0:0:0:0:0&lt;/code&gt;. This is a natural consequence of the &lt;code&gt;::&lt;/code&gt; rule, but it makes the parser slightly more annoying to write.&lt;/p&gt;
&lt;p&gt;One final rule for IPv6: technically, each colon-hex field is 4 hex digits, but you can elide leading zeros, as I’ve been doing so far. Fully canonically, &lt;code&gt;::&lt;/code&gt; is &lt;code&gt;0000:0000:0000:0000:0000:0000:0000:0000&lt;/code&gt;. My apologies to trypophobic readers.&lt;/p&gt;
&lt;p&gt;That’s it for IPv6, mostly. Now, on to IPv4!&lt;/p&gt;
&lt;p&gt;Fun fact, the textual representation of IPv4 was never standardized in any document before IPv6 needed a grammar for its weirdo “trailing dotted quad” notation. So, it’s a de-facto standard that boils down to mostly “what did 4.2BSD understand?”, and “what did other OSes keep when they copied 4.2BSD?”&lt;/p&gt;
&lt;p&gt;And hoo boy, strap yourselves in, because 4.2BSD sure had some whacky opinions! Let’s use &lt;code&gt;192.168.140.255&lt;/code&gt; as an example. That’s an IPv4 address that people would look at and go “yes, that sure is an IPv4 address.” How else can we write that exact same address?&lt;/p&gt;
&lt;p&gt;This is the same IP address: &lt;code&gt;3232271615&lt;/code&gt;. You get that by interpreting the 4 bytes of the IP address as a big-endian unsigned 32-bit integer, and print that. This leads to a classic parlor trick: if you try to visit &lt;a href=&quot;http://3232271615&quot;&gt;http://3232271615&lt;/a&gt; , Chrome will load &lt;a href=&quot;http://192.168.140.255&quot;&gt;http://192.168.140.255&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Okay, but that’s sort-of sensible, right? An IPv4 address is 4 bytes, so printing it as a single number is a bit human-unfriendly, but broadly plausible, right?&lt;/p&gt;
&lt;p&gt;How about &lt;code&gt;0300.0250.0214.0377&lt;/code&gt; ? That’s still the same address. Dotted quad, except each field is written out in octal.&lt;/p&gt;
&lt;p&gt;And if octal is supported, you might be wondering about hex. And you’d be right! &lt;code&gt;192.168.140.255&lt;/code&gt; is also &lt;code&gt;0xc0.0xa8.0x8c.0xff&lt;/code&gt;, according to 4.2BSD.&lt;/p&gt;
&lt;p&gt;Now, remember before we had CIDR (Classless Inter-Domain Routing) ? IPv4 addresses were Class A, Class B or Class C. It was a weird time.&lt;/p&gt;
&lt;p&gt;And that weird time made it into IP addresses! The familiar &lt;code&gt;192.168.140.255&lt;/code&gt; notation is technically the “Class C” notation. You can also write that address in “class B” notation as &lt;code&gt;192.168.36095&lt;/code&gt;, or in “Class A” notation as &lt;code&gt;192.11046143&lt;/code&gt;. What we’re doing is coalescing the final bytes of the address into either a 16-bit or a 24-bit integer field.&lt;/p&gt;
&lt;p&gt;This, by the way, is why utilities like &lt;code&gt;ping&lt;/code&gt; will accept weird looking addresses like &lt;code&gt;127.1&lt;/code&gt; for &lt;code&gt;127.0.0.1&lt;/code&gt;. Unlike IPv6, it’s not doing some kind of “missing fields are zero” expansion. &lt;code&gt;127.1&lt;/code&gt; is the Class A notation for “host 1 of network 127”, where the 1 is a 24-bit number.&lt;/p&gt;
&lt;p&gt;And finally, we come to one last bit of unspecified behavior: do IPv4 addresses permit an unlimited number of leading zeros in each quad? Or is there a maximum of 3 digits? &lt;code&gt;001.002.003.004&lt;/code&gt; is universally recognized as valid. What about &lt;code&gt;0000000001.0000000002.0000000003.000000004&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;You might also be wondering if either of these numbers should be read in as octal, since we said earlier that a leading zero might be interpreted as octal. It depends! There are implementations that do both, but &lt;em&gt;most&lt;/em&gt; modern implementations have abandoned the octal and hex notation, and treat leading 0s as decimal.&lt;/p&gt;
&lt;p&gt;The leading zero debate also infects IPv6, to some extent. Is &lt;code&gt;000001::00001.00002.00003.00004&lt;/code&gt; is a valid IPv6 address (“common” form &lt;code&gt;1::1.2.3.4&lt;/code&gt;, or &lt;code&gt;1::102:304&lt;/code&gt;)? Most modern parsers seem to allow an unlimited amount of leading zeros in their representations, probably because they’re leaning on some “parse integer” library that implements that behavior.&lt;/p&gt;
&lt;p&gt;And so, we reach the bitter end. If you want to &lt;em&gt;truly&lt;/em&gt; parse IP addresses, this is the bullshit you have to put up with.&lt;/p&gt;
&lt;p&gt;Currently, my slow reference parser jettisons a lot of old baggage, and sticks to what I think is a sensible subset of these possibilities. It understands:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Classic v4 dotted decimal, with any number of leading zeros.&lt;/li&gt;
&lt;li&gt;It does not process Class A/B notation, or hex or octal notation.&lt;/li&gt;
&lt;li&gt;It does not process the “uint32 to the knee” representation.&lt;/li&gt;
&lt;li&gt;For IPv6, it understands canonical colon-hex form, as well as :: and trailing-IPv4 style (where the trailing IPv4 follows the same rules as the previous tweet). Each field is allowed any number of leading zeros.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;I’m on the fence about that last one, the “IPv6 with an embedded dotted decimal” form. My reference parser (Go’s &lt;code&gt;net.ParseIP&lt;/code&gt;) understands it, but it’s not really that useful any more in the real world. At the dawn of IPv6, the idea was that you could upgrade an address to IPv6 by prepending a pair of colons, as in &lt;code&gt;::1.2.3.4&lt;/code&gt;, but modern transition mechanisms no longer offer anything as clear-cut as this, so the notation doesn’t really show up in the wild.&lt;/p&gt;
</description>
<pubDate>Sat, 26 Dec 2020 19:56:32 +0000</pubDate>
<dc:creator>mr_tyzic</dc:creator>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.dave.tf/post/ip-addr-parsing/</dc:identifier>
</item>
<item>
<title>I reverse engineered Google Docs to play back any document&amp;#039;s keystrokes (2014)</title>
<link>http://features.jsomers.net/how-i-reverse-engineered-google-docs/</link>
<guid isPermaLink="true" >http://features.jsomers.net/how-i-reverse-engineered-google-docs/</guid>
<description>&lt;p&gt;If you’ve ever typed anything into a Google Doc, you can now play it back as if it were a movie — like traveling through time to look over your own shoulder as you write.&lt;/p&gt;
&lt;p&gt;This is possible because every document written in Google Docs since &lt;a href=&quot;https://googledocs.blogspot.com/2010/05/whats-different-about-new-google-docs.html&quot; target=&quot;_blank&quot;&gt;about May 2010&lt;/a&gt; has a revision history that tracks every change, by every user, with timestamps accurate to the microsecond; these histories are available to anyone with “Edit” permissions; and I have written a piece of software that can find, decode, and rebuild the history for any given document.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;See that little gizmo above? It’s like a video player, but made especially for writing. This one’s from an Atlantic article I began work on nearly four years ago, on the day after Christmas in 2010. The &lt;a href=&quot;https://www.theatlantic.com/technology/archive/2011/01/why-learning-to-fly-or-code-is-easier-than-you-think/69324/&quot; target=&quot;_blank&quot;&gt;article&lt;/a&gt; was about the first (and only) time I got to fly a small airplane. At the time, I didn’t give the slightest thought to the idea that one day I’d be able to watch the draft unfold. But since I happened to write this one in Google Docs, I can recover every keystroke. Above, you can see the first uncertain stirrings of the first paragraph.&lt;/p&gt;
&lt;p&gt;What’s neat about this is that I didn’t have to use any special software while I was writing to make this “video” possible. I was working in plain old vanilla Google Docs. And to show you this one paragraph I liked, I didn’t have to present you with the whole document (all 39,154 revisions of it) — I could extract bits and pieces that I thought were interesting, and interleave them in a blog post. Imagine what a high school English teacher could do with that. Imagine what you could do with that if instead of a minor effort by ol’ Somers here you had, say, a piece by Ta-Nehisi Coates. (I’ve always wanted to watch how TNC writes. If he’s ever used Google Docs, it’s now possible.)&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;big-screenshot&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4930884/70fe3062-656c-11e4-9ce6-f83cfa84f095.png&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;caption&quot;&gt;A screenshot showing what it’s like to work with a document in &lt;a href=&quot;http://draftback.com&quot; target=&quot;_blank&quot;&gt;Draftback&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To produce the embed, I used a tool I made called &lt;a href=&quot;http://draftback.com&quot; target=&quot;_blank&quot;&gt;Draftback&lt;/a&gt;, which I suppose I’m launching right now. With Draftback, you can play back and analyze any of your own Google Docs, or, for that matter, any Google Doc you have permission to edit.&lt;/p&gt;
&lt;p&gt;(Everyone I’ve talked to about this has been surprised, and maybe a little unnerved, to discover that whenever they share a Google Doc with someone, they’re &lt;em&gt;also&lt;/em&gt; sharing an extremely detailed record of them typing the thing.)&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;graph bordered&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4883761/4361da54-6365-11e4-8b46-f67f4f9520b3.png&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;caption&quot;&gt;A map of changes to a document over time.&lt;/p&gt;
&lt;p&gt;Here’s a graph that Draftback automatically produced for an article I was working on a few weeks ago. It shows the timeline of my changes, and below it, a “map” that tells me where in the document each of those revisions happened: the further down the graph, the further down the page. At the start, I added many thousands of words of notes — that’s why the doc gets so long so fast, and why the edits look sparse. Then you can see that I made three distinct passes, the first one focused on the top of the article, and slow; and the later ones faster and further down. A visual fingerprint of a document, and of a writer.&lt;/p&gt;
&lt;p&gt;The data that Google stores is, as you might expect, kind of incredible. What we actually have is not just a coarse “video” of a document — we have the complete history of every single character. Draftback is aware of this history, and assigns each character a persistent unique ID, which makes it possible to do stuff that I don’t think folks have really done to a piece of writing before.&lt;/p&gt;
&lt;div class=&quot;gif-player&quot;&gt;&lt;img class=&quot;bordered gif-still gif-ctrl gif-ctrl-p&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4896412/9d387422-63f9-11e4-888d-7f4d0d27f543.png&quot;/&gt;&lt;img class=&quot;bordered gif-movie&quot; gif=&quot;http://i.imgur.com/KRSaHEa.gif&quot;/&gt;&lt;/div&gt;
&lt;p class=&quot;caption&quot;&gt;This animation shows how knowing every character’s history can help you trace the origins of the text you highlight.&lt;/p&gt;
&lt;p&gt;Here, for instance, you can see me typing a short document. Focus on the first paragraph: you’ll see that it wasn’t written in one contiguous swoop, but rather was cobbled together over time via a bunch of discontinuous edits: I edit the paragraph, then do other stuff, then I come back to the paragraph, and so on. I even cut and paste a phrase from one paragraph to another.&lt;/p&gt;
&lt;p&gt;Since Draftback has the full history for every character, and since that history is maintained even as characters are cut and pasted, it’s possible to select some text and see exactly where it came from. It’s like having a four-dimensional view of a document.&lt;/p&gt;
&lt;hr/&gt;&lt;h3&gt;To what end?&lt;/h3&gt;
&lt;p&gt;I’ve long been obsessed by what you might call the “archaeology” of writing: how something like John McPhee’s profile of Bill Bradley (&lt;a href=&quot;https://www.newyorker.com/magazine/1965/01/23/a-sense-of-where-you-are&quot; target=&quot;_blank&quot;&gt;A Sense of Where You Are&lt;/a&gt;), or T. S. Eliot’s &lt;a href=&quot;http://lit.genius.com/Ts-eliot-the-waste-land-annotated&quot; target=&quot;_blank&quot;&gt;The Waste Land,&lt;/a&gt; comes to be.&lt;/p&gt;
&lt;p&gt;I’ll read stuff about it: &lt;a href=&quot;http://muse.jhu.edu/journals/mod/summary/v012/12.1rainey.html&quot; target=&quot;_blank&quot;&gt;Eliot Among the Typists&lt;/a&gt; is a fascinating paper; the &lt;a href=&quot;http://books.google.com/books?id=8C0OoG5e12AC&amp;amp;printsec=frontcover&amp;amp;dq=the+john+mcphee+reader&amp;amp;hl=en&amp;amp;sa=X&amp;amp;ei=a2n1U-7AIPLKsQT2kIHwCw&amp;amp;ved=0CB4Q6AEwAA#v=onepage&amp;amp;q=introduction&amp;amp;f=false&quot; target=&quot;_blank&quot;&gt;introduction&lt;/a&gt; to &lt;a href=&quot;https://www.amazon.com/The-John-McPhee-Reader/dp/0374517193&quot; target=&quot;_blank&quot;&gt;&lt;em&gt;The John McPhee Reader&lt;/em&gt;&lt;/a&gt; is good, as are McPhee’s own essays on writing, &lt;a href=&quot;https://www.newyorker.com/magazine/2013/01/14/structure&quot; target=&quot;_blank&quot;&gt;Structure&lt;/a&gt; and &lt;a href=&quot;http://jsomers.net/mcphee-draft-no-4.pdf&quot; target=&quot;_blank&quot;&gt;Draft No. 4&lt;/a&gt;. I liked McP’s &lt;a href=&quot;http://www.theparisreview.org/interviews/5997/the-art-of-nonfiction-no-3-john-mcphee&quot; target=&quot;_blank&quot;&gt;interview&lt;/a&gt; in The Paris Review, whose &lt;a href=&quot;http://www.theparisreview.org/interviews&quot; target=&quot;_blank&quot;&gt;long-running series&lt;/a&gt; is legendary, especially &lt;a href=&quot;http://www.theparisreview.org/interviews/4825/the-art-of-fiction-no-21-ernest-hemingway&quot; target=&quot;_blank&quot;&gt;this one with Hemingway&lt;/a&gt;, which is one of the best things I’ve read.&lt;/p&gt;
&lt;p&gt;But what if you could actually &lt;em&gt;see&lt;/em&gt; these guys at work? Isn’t it a shame you can’t?&lt;/p&gt;
&lt;p&gt;I worry that most people aren’t as good writers as they should be. One thing is that they just &lt;a href=&quot;http://jsomers.net/blog/more-people-should-write&quot; target=&quot;_blank&quot;&gt;don’t write enough&lt;/a&gt;. Another is that they don’t realize it’s &lt;a href=&quot;https://www.theatlantic.com/technology/archive/2011/07/composition-101-how-email-can-change-the-way-professors-teach/242468/&quot; target=&quot;_blank&quot;&gt;supposed to be hard&lt;/a&gt;; they think that good writers are talented, when the truth is that good writers get good the way good programmers get good, the way good anythings get good: by &lt;a href=&quot;http://meta.genius.com/4127095/Genius-the-genius-isms/Whenever-youre-deciding-what-to-do-next-pick-the-thing-you-least-want-to-do&quot; target=&quot;_blank&quot;&gt;running into the spike&lt;/a&gt;. Maybe folks would understand that better if they had vivid evidence that a good writer actually spends most of his time fighting himself.&lt;/p&gt;
&lt;p&gt;That’s why I wanted something like Draftback. I had this image I just couldn’t shake: you’d get someone whose writing is accessible, concise, uncontroversial, well-styled, and, above all, quintessentially &lt;em&gt;writing:&lt;/em&gt; i.e., someone who’s writing in a form where the writing is what there is, where the job isn’t to report but rather to put into words what we would think if only we had their critical equipment and verbal range… someone like A.O. Scott, who reviews movies for the New York Times and does such a good job of it that sometimes I’ll watch a movie just so I can read his review.&lt;/p&gt;
&lt;p&gt;So you get A.O. Scott to write in Google Docs, and you publish the full playback and excerpted bits and pieces of it, the greatest hits — annotated, of course, director’s-commentary style — for every fan, every aspiring writer, and every high school English teacher in the country.&lt;/p&gt;
&lt;p&gt;Whaddya say, Mr. Scott?&lt;/p&gt;
&lt;hr/&gt;&lt;h3&gt;The Technical Origin Story: From Etherpad to Jimbopad to Google Docs&lt;/h3&gt;
&lt;p&gt;It all started 5 years ago on Hacker News with this oddly exuberant post by pg himself: &lt;a href=&quot;https://news.ycombinator.com/item?id=495336&quot; target=&quot;_blank&quot;&gt;The most surprising thing I’ve seen in 2009, courtesy of Etherpad&lt;/a&gt;. pg got famous because of his essays, and here you could watch him write one, backspaces and all. It was a sensation. At the time, it was one of the biggest Hacker News stories ever.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://code.stypi.com/hacks/13sentences&quot; target=&quot;_blank&quot;&gt;Here’s what it looked like&lt;/a&gt;. (This is actually a later, slightly more advanced version; the original, at etherpad.com, was taken down when Etherpad was bought by Google. More on that later.) All it was was a document with a slider at the top and a big play button, showing every revision. You could play the whole history start to finish. Prettty simple.&lt;/p&gt;
&lt;p&gt;I remember seeing this playback and thinking that it could be better. I wanted more information: when did pg pause, and for how long? How much, exactly, did he delete? How did that compare against other writers? What if I saw a sentence I really liked — could I trace it to its source?&lt;/p&gt;
&lt;p&gt;So I decided to build a thing I called Jimbopad. I was surprised at how simple Jimbopad turned out to be. You don’t actually need that much code to play back a record of someone writing. All you need is a textarea and some way of tracking diffs. &lt;a href=&quot;http://jsomers.net/jimbopad/&quot; target=&quot;_blank&quot;&gt;Here’s what the playback UI was like&lt;/a&gt;, and here’s the JavaScript that made it possible (click on the highlighted bits of code for annotations):&lt;/p&gt;

&lt;p&gt;Simple as it is, this was actually better for my purposes than Etherpad. The problem with Etherpad is that in order to power its playback feature, it actually stored a full snapshot of the document at every tick. So if you had a 1MB text file — say, you’re working on &lt;a href=&quot;http://features.jsomers.net/how-i-reverse-engineered-google-docs/theatlantic.com/magazine/archive/2013/11/the-man-who-would-teach-machines-to-think/309529/&quot; target=&quot;_blank&quot;&gt;a 7,500-word article&lt;/a&gt; — every keystroke would dump another meg on disk. Jimbopad, which was purpose-built for playback — I didn’t have to worry about real-time collaboration, which was Etherpad’s raison d’être and big value proposition — just stored “deltas” between each revision, which led to about a 1,000x decrease in required storage.&lt;/p&gt;
&lt;blockquote readability=&quot;14.113475177305&quot;&gt;
&lt;p&gt;This is why if you were to do “version control” for writing, you would have to record everything. You would have to make it trivial for the writer to “branch” off from some articulation, fail, and fall back to what they had before. Their every half-overture would have to be saved—because every half-overture, like every “commit,” might have words they would want to get back to.&lt;/p&gt;
&lt;p&gt;— &lt;a href=&quot;http://jsomers.net/blog/jimbopad&quot; target=&quot;_blank&quot;&gt;jsomers.net/blog/jimbopad&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As soon as I made Jimbopad, which was the simplest this program could possibly be, I wanted something better. That’s when I set out to build Draftback 1.0. You can see what it looked like &lt;a href=&quot;https://jimbopad.herokuapp.com/drafts/1/underlining/playback&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As far as I can tell this was the state of the art in writing playback. You’ve got your slider, of course. But you’ve also got these nifty green and red colors that show you exactly what changed in each revision. You’re automatically scrolled to the part of the document that changed (HUGE innovation). And you could drop in to “actual-speed” playback mode, which somehow I thought was far more intimate, and interesting, than watching a ceaseless robotic clack. (It had a feature where if the delay between revisions was long enough, a thing would come up and say “the writer stared into space for 30 minutes.”) You could even search phrases and filter to just the revisions including that phrase.&lt;/p&gt;
&lt;p&gt;But there were still a bunch of problems. The “search” filter was really naive: all it did was look for revisions whose full rendered text included the phrase, and it filtered out everything else. That’s useful, but what I was really looking for was the “genealogy” of a phrase or sentence; I wanted to know where the &lt;em&gt;parts&lt;/em&gt; of the sentence, before it was the atomic unit I’m seeing now, came from. That just wasn’t even possible using the diff-match-patch approach.&lt;/p&gt;
&lt;p&gt;Maybe the bigger problem was that no good writer was going to use this program. Up to this point, my “editor” had been a simple textarea, and it required that you write in Markdown. And eventually I got this mantra in my head: “A.O. Scott is never gonna use markdown”, “A.O. Scott is never gonna use markdown.”&lt;/p&gt;
&lt;p&gt;I was convinced you needed a beautiful clean WYSIWYG editor to get people to use your writing software.&lt;/p&gt;
&lt;p&gt;I looked at a lot of options, and ultimately I paid for a thing called &lt;a href=&quot;http://imperavi.com/redactor/docs/api/&quot; target=&quot;_blank&quot;&gt;Redactor&lt;/a&gt;. That’s right: in my desperation I actually &lt;em&gt;bought&lt;/em&gt; my RTF technology. I paid like $200 for a Javascript file.&lt;/p&gt;
&lt;p&gt;Redactor was actually a good editor, it had this great big API, it was really easy to hack on, but still it ultimately used &lt;code&gt;contentEditable&lt;/code&gt;, and &lt;code&gt;contentEditable&lt;/code&gt; ends up breaking a lot. Here are a couple of TODOs and notes from my time working on that editor:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The WYSYWIG control buttons sometimes don’t reflect state. Toggles don’t toggle properly.&lt;/li&gt;
&lt;li&gt;Why does hitting “I” italicize so much text?&lt;/li&gt;
&lt;li&gt;Does un-blockquoting something not return you to normal formatting?&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;So that was a problem.&lt;/p&gt;
&lt;hr/&gt;&lt;h3&gt;The § That Actually Finally Delivers What the Title Promised: An explanation of how to reverse-engineer Google Docs’s diff data structures and renderer, a system which was actually probably developed for real-time collaboration, a.k.a “Operational Transformation,” a.k.a. nothing to do with “the archaeology of writing”&lt;/h3&gt;
&lt;p&gt;The slam dunk in my face was &lt;a href=&quot;https://googledrive.blogspot.fr/2010/05/whats-different-about-new-google-docs.html&quot; target=&quot;_blank&quot;&gt;this blog post by Google&lt;/a&gt; in which they explained why they scrapped the &lt;code&gt;contentEditable&lt;/code&gt; approach for Docs, and in its stead built a brand new rendering engine from scratch.&lt;/p&gt;
&lt;p&gt;When you’re using Google Docs, you’re not actually typing into where you think you’re typing. You’re typing into a textarea in an iFrame off-screen, and through the postMessage API, those events are being sent to the “edit surface” that you see, which does stuff like draw your cursor. (Your cursor on Docs isn’t actually a cursor, it’s a 2px-wide &lt;code&gt;div&lt;/code&gt;!)&lt;/p&gt;
&lt;p&gt;I took this as proof not just that &lt;code&gt;contentEditable&lt;/code&gt; was doomed, but that Google were the only ones who had the gall, and technical wherewithal, to do the insane gymnastics required to build something that felt like Word in the browser. I figured if I couldn’t beat them, I’d join them.&lt;/p&gt;
&lt;p&gt;I started by trying to build an actual &lt;a href=&quot;https://developers.google.com/apps-script/quickstart/docs&quot; target=&quot;_blank&quot;&gt;plugin&lt;/a&gt; for Docs. I played with their sample code, and I looked through the documentation. I was trying to see if there was a hook I could get that would tell me when a user changed the document. Recall that all I really need is that one hook, a diff-match-patch library, and a place to store the deltas.&lt;/p&gt;
&lt;p&gt;It turns out that they don’t expose this kind of event for their docs. (&lt;a href=&quot;https://developers.google.com/apps-script/guides/triggers/&quot; target=&quot;_blank&quot;&gt;“The onEdit trigger runs automatically when a user changes the value of any cell in a... &lt;em&gt;spreadsheet&lt;/em&gt;.”&lt;/a&gt;) But that’s when things started getting pretty interesting.&lt;/p&gt;
&lt;p&gt;I decide I’m just going to write a Chrome extension on top of Google Docs, and I’m gonna capture the rendered HTML every time I make a change. Sure, the user has to install a Chrome extension, but that’s pretty simple, and when they’re using Docs they’ll hardly notice that my extension is there. It’ll feel like a seamless transparent experience.&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;bordered inspector-1&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4884191/3da89c34-6369-11e4-9cbe-c5e03695ae4d.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;So what I did was I looked in the web inspector and found the DOM I cared about. I found out that all the actual content has these classes like &lt;code&gt;kix-page&lt;/code&gt; and &lt;code&gt;kix-lineview&lt;/code&gt; and &lt;code&gt;kix-wordhtmlgenerator-word-node&lt;/code&gt;. (Google’s codename for their Docs edit surface and rendering engine is “Kix.”) I figured that I could do something like this in a Chrome extension:&lt;/p&gt;

&lt;p&gt;I thought I was pretty clever, but while testing this code, I discovered that sometimes it would miss big chunks of my document. I found out that Google renders pages on demand: if you load a 99-page document, although it might &lt;em&gt;look&lt;/em&gt; like you can scroll all the way down right away, the actual text on those later pages won’t be generated until you scroll it into view.&lt;/p&gt;
&lt;p&gt;At this point I did something kinda dumb. I tried to reverse-engineer the obfuscated, minified client-side editor code so that I could find whatever the render function was. I figured if I could find &lt;em&gt;some&lt;/em&gt; hook, I could trick the editor into thinking I’d scrolled through the whole document. That way, my diff-match-patch tool would be working with the full document at each revision.&lt;/p&gt;
&lt;p&gt;My thought was that if the Docs editor/rendering code was all Javascript, I must be able to figure out how it works, even if it was 80,000 lines of code that looked like this:&lt;/p&gt;

&lt;p&gt;I tried to do this by throwing breakpoints all over the place. I’d search for phrases in the code that weren’t obfuscated, like &lt;code&gt;innerHTML&lt;/code&gt;, and throw a breakpoint beside them. Then I’d do stuff in the UI, and see if I hit my breakpoint. Then I’d inspect the call stack and see what values were lying around. I found out stuff like if you type something like &lt;code&gt;P.j.zb.rx()&lt;/code&gt; in the console, and run it, you’ll “redo” whatever your last action was. I spent days doing this. In fact, on one weekend I spent so much time staring at minified Docs Javascript that I literally developed an eye ulcer.&lt;/p&gt;
&lt;p&gt;Have you ever heard the story of how while NASA spent years and tens of millions of dollars developing a pen that would write in space, underwater, and upside-down, the Russians just brought a pencil? It’s apparently apocryphal (the space pen &lt;em&gt;was&lt;/em&gt; much safer than a pencil, and the Russians wanted one too) but it illustrates a point. Here’s the “Russians bring a pencil” solution to my rendering problem. Again, click the highlighted lines to see an annotation that explains what’s going on:&lt;/p&gt;

&lt;p&gt;Needless to say, I wasn’t really happy with this solution. And I had seen something curious while getting my eye ulcer. At one point I’d clicked away from the “Sources” tab in the Chrome inspector and started looking at the “Network” tab. And I noticed these &lt;code&gt;/save&lt;/code&gt; calls every time I typed something:&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;bordered&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4884332/ba8f6a60-636a-11e4-8a1e-a2b4872e86c0.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;The payload looked pretty juicy. Here, for instance, I’m typing a period at the end of a sentence early in the document:&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;bordered&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4884351/f1a9d4ea-636a-11e4-99a1-195a8354306d.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;That seems parseable enough: a “command” of type (&lt;code&gt;ty&lt;/code&gt;) insert (&lt;code&gt;is&lt;/code&gt;) where the “insert begin index” (&lt;code&gt;ibi&lt;/code&gt;) is 24 and the string (&lt;code&gt;s&lt;/code&gt;) is “.”. Now we’re cooking with gas.&lt;/p&gt;
&lt;p&gt;At this point, I figured my Chrome extension could be pretty dumb. All I had to do was intercept these “save” requests and store them somewhere. Later, I could figure out how to use them to rebuild the document. As long as someone had my extension installed from the very start of their editing, and never made any change in a browser &lt;em&gt;without&lt;/em&gt; the extension, I should have enough to do everything Docs could do. (I reasoned that Docs gets exactly no more data about a document than what is sent to the server via these &lt;code&gt;save&lt;/code&gt; calls; so those &lt;em&gt;must&lt;/em&gt; be enough to render everything.)&lt;/p&gt;
&lt;p&gt;Here’s what I cooked up:&lt;/p&gt;

&lt;p&gt;This gave me a bunch of commands that looked like this:&lt;/p&gt;

&lt;p&gt;These didn’t seem so hard to figure out. You have what looks like a “multi” or bundle operation, and then inside of it, a list of other operations: some inserts and some deletes. For inserts, you have the string you’re adding; for deletes, the indexes that tell you what to remove. I built myself a debugging tool that would let me step through a list of these revisions, to see both a rendered document and a dump of the critical &lt;code&gt;characters&lt;/code&gt; array I was using to represent it under the hood:&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;bordered&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4884411/911de89a-636b-11e4-8184-1f28eba9f5ee.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;The data is so simple that it almost suggests the implementation of the builder and renderer. You have a &lt;code&gt;characters&lt;/code&gt; array, and you insert and remove characters from it. When you format text, you’re just passing a hash of options to a range of characters. The whole of my document builder looks like this, in outline. The main thing it’s doing, really, is giving intelligible names to a bunch of variables:&lt;/p&gt;

&lt;p&gt;The renderer is also pretty simple. (For bigger documents, for now, I don’t render styles, because it’s a lot of extra work for not that much better of a user experience.) It works like this. We have two levels: paragraphs and spans. To figure out what to wrap in styles, we look at each character and say “what are your calculated styles?” based on its hash of properties. Then we say “are those styles equal to the styles of the character before you?” If they are, we continue the span. If not, we create a new span.&lt;/p&gt;

&lt;p&gt;And that’s essentially all you need to make something like Draftback.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Except&lt;/em&gt;, of course, the big key, which is that wouldn’t it be nice if you didn’t have to install a Chrome extension to capture these &lt;code&gt;/save&lt;/code&gt; requests?&lt;/p&gt;
&lt;p&gt;I was talking to my &lt;a href=&quot;https://genius.com/lemon&quot; target=&quot;_blank&quot;&gt;boss&lt;/a&gt; at &lt;a href=&quot;https://genius.com&quot; target=&quot;_blank&quot;&gt;Genius&lt;/a&gt; about this, and he suggested I look at the standard “Revision History” menu in Docs — maybe they had all the diffs somewhere in there?&lt;/p&gt;
&lt;p&gt;I thought he must be wrong, since I remembered that Google only ever rendered a fairly coarse set of changes: maybe dozens or at most a hundred revisions for a document that had probably been changed tens of thousands of times. But I indulged him, and kept my Network tab open while poking through the Revision History menu. It’s then that I chanced upon the &lt;code&gt;/load&lt;/code&gt; call. It has a URL that looks like this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://docs.google.com/document/d/#{docid}/revisions/load?id=#{docid}&amp;amp;start=1330&amp;amp;end=1341&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And it returns something that looks like this:&lt;/p&gt;

&lt;div&gt;&lt;img class=&quot;changelog bordered&quot; src=&quot;https://cloud.githubusercontent.com/assets/21294/4884576/0abb5d1c-636d-11e4-8464-06c16020ed3b.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Hmm, I wonder what happens when you change the &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt; parameters to cover a wider range? Will you, by chance, get the entire revision history for the document?&lt;/p&gt;
&lt;p&gt;I think yes.&lt;/p&gt;
&lt;iframe src=&quot;//player.vimeo.com/video/9848524&quot; width=&quot;100%&quot; height=&quot;450&quot; frameborder=&quot;0&quot; webkitallowfullscreen=&quot;&quot; mozallowfullscreen=&quot;&quot; allowfullscreen=&quot;&quot;&gt;[embedded content]&lt;/iframe&gt;
&lt;p class=&quot;caption&quot;&gt;&lt;a href=&quot;https://vimeo.com/9848524&quot;&gt;Hack the planet&lt;/a&gt; from &lt;a href=&quot;https://vimeo.com/user2056851&quot; target=&quot;_blank&quot;&gt;James Somers&lt;/a&gt; on &lt;a href=&quot;https://vimeo.com&quot; target=&quot;_blank&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are a couple of complications — one is that you can’t just say “load me revisions 1 to infinity” (or -1): you have to specify the actual upper bound. My first cut at this was to do a &lt;a href=&quot;https://rosettacode.org/wiki/Binary_search#Ruby&quot;&gt;binary search&lt;/a&gt; — if you get a &lt;code&gt;500&lt;/code&gt; response, you know you’ve gone too high, so you reduce your upper bound; if you get a &lt;code&gt;200&lt;/code&gt;, you’re in range, so you increase your lower bound; stop until lower &amp;gt; upper.&lt;/p&gt;
&lt;p&gt;And, of course, there’s the matter of building a renderer that works at scale, including for documents that have many tens of thousands of revisions, where each revision is hundreds of pages long. (For that, the main trick is in calculating a “window” around the locus of each revision, and only doing your heavy-duty rendering within that window.) And making a UI that people want to use. And finding a way to hit these undocumented APIs on the behalf of other Google users without having them give you their credentials.&lt;/p&gt;
&lt;h3&gt;A historical note&lt;/h3&gt;
&lt;p&gt;It’s worth noting for a second that Google probably wasn’t thinking of playback when they built this system for storing documents as a series of minute changes. They probably did it for the same reason that Etherpad did it, which is to power real-time collaboration. The only way you can do that quickly and reliably is by shooting small changes back and forth across the network; if two changes differ, you can just reject one of them, thereby ensuring that everyone has the same version of the document. This is a technique called &lt;a href=&quot;https://en.wikipedia.org/wiki/Operational_transformation&quot; target=&quot;_blank&quot;&gt;operational transformation&lt;/a&gt;, and it’s a whole science unto itself.&lt;/p&gt;
&lt;p&gt;So it’s not likely that Google is going to change the way they save documents just because it enables this playback stuff. The playback is an epiphenomenon of real-time collaboration, as it was with Etherpad. Etherpad made their playback demo at Paul Graham’s request; it was a hack on top of data they were already storing for other purposes. In fact, I think it’s possible that the very same engineers who built Etherpad found their way to the Docs team. (When they were acquired, they started at Wave, but then, of course, Wave was discontinued.)&lt;/p&gt;
&lt;h3&gt;A few notes about Draftback&lt;/h3&gt;
&lt;p&gt;In the spirit of &lt;a href=&quot;http://firstround.com/article/rap-genius-explains-why-worse-is-better&quot; target=&quot;_blank&quot;&gt;“worse is better,”&lt;/a&gt; the software at &lt;a href=&quot;http://draftback.com&quot; target=&quot;_blank&quot;&gt;draftback.com&lt;/a&gt; is about as simple as I could bear releasing. I hope people find it useful. You probably could use it to look at the revision history of documents where you really have no business doing so — documents, for instance, shared with you by folks who didn’t know you’d be able to see their revision history. Don’t do that, obviously.&lt;/p&gt;
&lt;p&gt;Aside from that, well, I’m just excited that this thing finally exists.&lt;/p&gt;
&lt;hr/&gt;
</description>
<pubDate>Sat, 26 Dec 2020 18:35:54 +0000</pubDate>
<dc:creator>flurly</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://features.jsomers.net/how-i-reverse-engineered-google-docs/</dc:identifier>
</item>
<item>
<title>Print this file, your printer will jam (2008)</title>
<link>https://nedbatchelder.com/blog/200811/print_this_file_your_printer_will_jam.html</link>
<guid isPermaLink="true" >https://nedbatchelder.com/blog/200811/print_this_file_your_printer_will_jam.html</guid>
<description>&lt;header&gt;&lt;p class=&quot;date&quot;&gt;&lt;a class=&quot;s&quot; href=&quot;https://nedbatchelder.com/blog/archive/date1124.html&quot;&gt;Monday 24&lt;/a&gt; &lt;a class=&quot;s&quot; href=&quot;https://nedbatchelder.com/blog/archive/year2008.html#month200811&quot;&gt;November 2008&lt;/a&gt;&lt;/p&gt;
&lt;/header&gt;&lt;p&gt;Another story from printer-land of 20 years ago: this time about a seemingly impossible bug.&lt;/p&gt;&lt;p&gt;While working on the LPS-20 PostScript software, a bug was filed that said roughly,&lt;/p&gt;
&lt;blockquote readability=&quot;4.5&quot;&gt;
&lt;div readability=&quot;8&quot;&gt;
&lt;p&gt;Print the attached file. The LPS-20 will jam. You’ll have to open the printer to remove the scrunched up paper.&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;We were no strangers to jammed printers, but a particular file that could jam the printer? Yeah, right. It was crazy.&lt;/p&gt;
&lt;p&gt;I printed the file. The printer jammed! I cleared the jam, printed the file again, it jammed again. I printed a different file, it printed fine. I printed a third file, it printed fine. Printed the bug report file again, the printer jammed, WTF!? How can a file reliably cause a printer to jam?&lt;/p&gt;
&lt;p&gt;The mystery in this case was solved by the hardware team, because while we software guys were working on the software that fed PostScript files to the printer, the hardware guys were still getting the kinks out of the printer itself.&lt;/p&gt;
&lt;p&gt;A laser printer has a drum on which the image is formed, and then used to transfer the image to the paper. In a 20 ppm printer like the LPS-20, the drum rotates once every three seconds. With a PostScript printer, a page could take an arbitrary amount of time to render. If the page takes less than three seconds to render, then the drum will rotate at full speed, with no pauses.&lt;/p&gt;
&lt;p&gt;But if the PostScript interpreter takes longer than three seconds to finish a page, then the drum has to stop and wait for the image to be ready. Starting and stopping the drum and all the associated feed machinery is not trivial to get right.&lt;/p&gt;
&lt;p&gt;In the case of the bug report file, the page took longer than three seconds, but only slightly longer, so not only did the drum have to stop, but it hadn’t quite totally stopped before it was started again. That mechanical edge case is what made the printer jam. The file had pages that took just the right amount of time to hit a bad timing window in the drive train firmware, and the printer jammed every time. Once the hardware guys adjusted the firmware, the problem went away.&lt;/p&gt;
&lt;p&gt;Lessons:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Just because a bug seems impossible doesn’t mean it is.&lt;/li&gt;
&lt;li&gt;Abstractions are everywhere, and they can be broken. As a software guy, I believed that getting the paper into the output tray was a solved problem.&lt;/li&gt;
&lt;/ul&gt;&lt;footer&gt;&lt;span class=&quot;via&quot;&gt;&lt;a href=&quot;https://nedbatchelder.com/blog/tag/debugging.html&quot; rel=&quot;tag&quot;&gt;#debugging&lt;/a&gt; &lt;a href=&quot;https://nedbatchelder.com/blog/tag/history.html&quot; rel=&quot;tag&quot;&gt;#history&lt;/a&gt; &lt;a href=&quot;https://nedbatchelder.com/blog/tag/printing.html&quot; rel=&quot;tag&quot;&gt;#printing&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;react&quot;&gt;» 32 reactions&lt;/span&gt;&lt;/footer&gt;</description>
<pubDate>Sat, 26 Dec 2020 13:41:07 +0000</pubDate>
<dc:creator>segfaultbuserr</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://nedbatchelder.com/blog/200811/print_this_file_your_printer_will_jam.html</dc:identifier>
</item>
<item>
<title>1937 film explains how a car differential works</title>
<link>https://www.roadandtrack.com/car-culture/classic-cars/a25833/1937-film-perfectly-explains-how-a-car-differential-works/</link>
<guid isPermaLink="true" >https://www.roadandtrack.com/car-culture/classic-cars/a25833/1937-film-perfectly-explains-how-a-car-differential-works/</guid>
<description>&lt;p class=&quot;body-text&quot;&gt;The standard open differential in most cars is a brilliant piece of engineering, allowing you to take the tightest turns without fighting your tires or tearing your drivetrain apart. But even if you understand implicitly how a car's differential works, it's kind of difficult to explain.&lt;/p&gt;
&lt;p class=&quot;body-text&quot;&gt;That's why &lt;a class=&quot;body-link&quot; href=&quot;https://www.youtube.com/watch?v=yYAw79386WI&quot; target=&quot;_blank&quot; data-vars-ga-outbound-link=&quot;https://www.youtube.com/watch?v=yYAw79386WI&quot;&gt;this instructional film from 1937&lt;/a&gt; is so fantastic. It simplifies the car differential down to its most basic representation—three sticks of wood—to make a visual representation that's immediately crystal clear. Once you've grasped the basic concept, it's easy to comprehend the additional complexities of &lt;a class=&quot;body-link&quot; href=&quot;https://www.roadandtrack.com/car-culture/car-design/a23397688/differential-cutaway-explainer-video/&quot; target=&quot;_blank&quot; data-vars-ga-outbound-link=&quot;https://www.roadandtrack.com/car-culture/car-design/a23397688/differential-cutaway-explainer-video/&quot;&gt;a working differential.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This content is imported from YouTube. You may be able to find the same content in another format, or you may be able to find more information, at their web site.&lt;/p&gt;

&lt;p class=&quot;body-text&quot;&gt;This instructional is a classic production of the rambunctious former Olympic swimmer &lt;a class=&quot;body-link&quot; href=&quot;http://en.wikipedia.org/wiki/Jam_Handy&quot; target=&quot;_blank&quot; data-vars-ga-outbound-link=&quot;http://en.wikipedia.org/wiki/Jam_Handy&quot;&gt;Henry Jamison &quot;Jam&quot; Handy&lt;/a&gt;—who, having been expelled from the University of Michigan after writing &lt;a class=&quot;body-link&quot; href=&quot;http://en.wikipedia.org/wiki/Thomas_Trueblood&quot; target=&quot;_blank&quot; data-vars-ga-outbound-link=&quot;http://en.wikipedia.org/wiki/Thomas_Trueblood&quot;&gt;a sensationalized article in the &lt;em&gt;Chicago Tribune&lt;/em&gt;&lt;/a&gt; headlined &quot;Learn Sly Clupid's Tricks; Students at Ann Arbor Take Lessons in Love Making,&quot; could probably be described as the great-grandfather of clickbait.&lt;/p&gt;
&lt;p class=&quot;body-text&quot;&gt;Handy, who never employed a desk at work and never had pockets in his suits as he found them &quot;a waste of time,&quot; went on to produce training and promotional films for soldiers, salespeople, factory workers, and most importantly, the auto industry. He died at the age of 97, having continued his daily swimming habit right up to the very end.&lt;/p&gt;
&lt;p class=&quot;body-text&quot;&gt;Anyway, here's how a car's differential works, in old-timey narration with stone-simple visual aids. If this video sends you &lt;a class=&quot;body-link&quot; href=&quot;https://www.youtube.com/results?search_query=jam+handy&quot; target=&quot;_blank&quot; data-vars-ga-outbound-link=&quot;https://www.youtube.com/results?search_query=jam+handy&quot;&gt;deep down the rabbit hole of elegant, informative Jam Handy educational films&lt;/a&gt;, well, at least you learned something on your internet journey today.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;This content is created and maintained by a third party, and imported onto this page to help users provide their email addresses. You may be able to find more information about this and similar content at piano.io&lt;/p&gt;



</description>
<pubDate>Sat, 26 Dec 2020 10:48:13 +0000</pubDate>
<dc:creator>oedmarap</dc:creator>
<og:type>article</og:type>
<og:title>1937 Film Perfectly Explains How a Car Differential Works</og:title>
<og:description>Even if you already understand the concept, this vintage visual illustration breaks it down beautifully.</og:description>
<og:url>https://www.roadandtrack.com/car-culture/classic-cars/videos/a25833/1937-film-perfectly-explains-how-a-car-differential-works/</og:url>
<og:image>https://hips.hearstapps.com/roa.h-cdn.co/assets/15/23/1600x800/landscape-1433190845-spokes.jpg?resize=1200:*</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.roadandtrack.com/car-culture/classic-cars/a25833/1937-film-perfectly-explains-how-a-car-differential-works/</dc:identifier>
</item>
<item>
<title>Photocatalyst splits water into H and O2 at quantum efficiency near 100%</title>
<link>https://fuelcellsworks.com/news/photocatalyst-that-can-split-water-into-hydrogen-and-oxygen-at-a-quantum-efficiency-close-to-100/</link>
<guid isPermaLink="true" >https://fuelcellsworks.com/news/photocatalyst-that-can-split-water-into-hydrogen-and-oxygen-at-a-quantum-efficiency-close-to-100/</guid>
<description>&lt;span class=&quot;post-featured-img&quot;&gt;&lt;img width=&quot;850&quot; height=&quot;500&quot; src=&quot;https://img.fuelcellsworks.com/wp-content/uploads/2020/12/H2-FCW.jpg&quot; class=&quot;attachment-full size-full wp-post-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot; title=&quot;&quot; srcset=&quot;https://img.fuelcellsworks.com/wp-content/uploads/2020/12/H2-FCW.jpg 850w, https://img.fuelcellsworks.com/wp-content/uploads/2020/12/H2-FCW-300x176.jpg 300w, https://img.fuelcellsworks.com/wp-content/uploads/2020/12/H2-FCW-768x452.jpg 768w&quot; sizes=&quot;(max-width: 850px) 100vw, 850px&quot;/&gt;&lt;/span&gt;&lt;p&gt;A research team led by Shinshu University’s Tsuyoshi Takata, Takashi Hisatomi and Kazunari Domen succeeded in developing a photocatalyst that can split water into hydrogen and oxygen at a quantum efficiency close to 100%.&lt;span id=&quot;more-32582&quot;/&gt;&lt;/p&gt;
&lt;p&gt;The team consisted of their colleagues from Yamaguchi University, The University of Tokyo and National Institute of Advanced Industrial Science and Technology (AIST).&lt;/p&gt;
&lt;p&gt;The team produced an ideal photocatalyst structure composed of semiconductor particles and cocatalysts. H2 and O2 evolution cocatalysts were selectively photodeposited on different facets of crystalline SrTiO3(Al-doped) particles due to anisotropic charge transport. This photocatalyst structure effectively prevented charge recombination losses, reaching the upper limit of quantum efficiency.&lt;/p&gt;
&lt;div id=&quot;attachment_32583&quot; class=&quot;wp-caption alignnone&quot; readability=&quot;34&quot;&gt;&lt;img aria-describedby=&quot;caption-attachment-32583&quot; loading=&quot;lazy&quot; class=&quot;wp-image-32583 size-large&quot; src=&quot;https://img.fuelcellsworks.com/wp-content/uploads/2020/12/Shinshu-University-PhotoCatalyst-1024x377.jpg&quot; alt=&quot;&quot; width=&quot;1024&quot; height=&quot;377&quot; srcset=&quot;https://img.fuelcellsworks.com/wp-content/uploads/2020/12/Shinshu-University-PhotoCatalyst-1024x377.jpg 1024w, https://img.fuelcellsworks.com/wp-content/uploads/2020/12/Shinshu-University-PhotoCatalyst-300x111.jpg 300w, https://img.fuelcellsworks.com/wp-content/uploads/2020/12/Shinshu-University-PhotoCatalyst-768x283.jpg 768w, https://img.fuelcellsworks.com/wp-content/uploads/2020/12/Shinshu-University-PhotoCatalyst.jpg 1200w&quot; sizes=&quot;(max-width: 1024px) 100vw, 1024px&quot;/&gt;&lt;p id=&quot;caption-attachment-32583&quot; class=&quot;wp-caption-text&quot;&gt;Figure 1 – Schematic structure (a) and scanning electron microscope image (b) of Al-doped SrTiO3 site-selectively coloaded with a hydrogen evolution cocatalyst (Rh/Cr2O3) and an oxygen evolution cocatalyst (CoOOH).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Water splitting reaction driven by solar energy is a technology for producing renewable solar hydrogen on a large scale. To put such technology to practical use, the production cost of solar hydrogen must be significantly reduced [1]. This requires the reaction system that can split water efficiently and can be scaled up easily. A system consisting of particulate semiconductor photocatalysts can be expanded over a large area with relatively simple processes. Therefore, it will make great strides toward large-scale solar hydrogen production if photocatalysts driving the sunlight-driven water splitting reaction with high efficiency are developed.&lt;/p&gt;
&lt;p&gt;To upgrade the solar energy conversion efficiency of photocatalytic water splitting, it is necessary to improve two factors: widening the wavelength range of light used by the photo­catalyst for the reaction and increasing the quantum yield at each wavelength. The former is determined by the bandgap of the photocatalyst material used, and the latter is determined by the quality of the photocatalyst material and the functionality of the cocatalyst used to promote the reaction. However, photocatalytic water splitting is an endergonic reaction involving multi-electron transfer occurring in a non-equilibrium state.&lt;/p&gt;
&lt;p&gt;This study refined the design and operating principle for advancing water splitting methods with a high quantum efficiency. The knowledge obtained in this study will propel the field of photocatalytic water splitting further to enable the scalable solar hydrogen production.&lt;/p&gt;
&lt;p&gt;The project was made possible through the support of NEDO (New Energy and Industrial Technology Development Organization) under the “Artificial photosynthesis project”.&lt;/p&gt;
&lt;p&gt;Title: Photocatalytic water splitting with a quantum efficiency of almost unity&lt;br/&gt;Authors：Tsuyoshi Takata, Junzhe Jiang, Yoshihisa Sakata, Mamiko Nakabayashi, Naoya Shibata, Vikas Nandal, Kazuhiko Seki, Takashi Hisatomi, Kazunari Domen&lt;br/&gt;Journal：Nature, 581, 411-414 (2020)&lt;br/&gt;DOI10.1038/s41586-020-2278-9&lt;/p&gt;
</description>
<pubDate>Sat, 26 Dec 2020 10:15:01 +0000</pubDate>
<dc:creator>bookofjoe</dc:creator>
<og:type>article</og:type>
<og:title>Photocatalyst that can Split Water into Hydrogen and oxygen at a Quantum Efficiency Close to 100% - FuelCellsWorks</og:title>
<og:description>A research team led by Shinshu University’s Tsuyoshi Takata, Takashi Hisatomi and Kazunari Domen succeeded in developing a photocatalyst that can split water into hydrogen and oxygen at a quantum...</og:description>
<og:url>https://fuelcellsworks.com/news/photocatalyst-that-can-split-water-into-hydrogen-and-oxygen-at-a-quantum-efficiency-close-to-100/</og:url>
<og:image>https://img.fuelcellsworks.com/wp-content/uploads/2020/12/H2-FCW.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://fuelcellsworks.com/news/photocatalyst-that-can-split-water-into-hydrogen-and-oxygen-at-a-quantum-efficiency-close-to-100/</dc:identifier>
</item>
<item>
<title>Ask HN: What startup/technology is on your &amp;#039;to watch&amp;#039; list?</title>
<link>https://news.ycombinator.com/item?id=25540583</link>
<guid isPermaLink="true" >https://news.ycombinator.com/item?id=25540583</guid>
<description>&lt;tr class=&quot;athing comtr&quot; id=&quot;25540937&quot; readability=&quot;8.7895362663496&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542652&quot; readability=&quot;4.5559322033898&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541363&quot; readability=&quot;2.3333333333333&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541893&quot; readability=&quot;4.4664031620553&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2332015810277&quot;&gt;&lt;tr readability=&quot;4.4664031620553&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.5731225296443&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541936&quot; readability=&quot;10.549918166939&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.2749590834697&quot;&gt;&lt;tr readability=&quot;10.549918166939&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;10.549918166939&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544121&quot; readability=&quot;6.2121896162528&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541965&quot; readability=&quot;33.224221149627&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;16.612110574814&quot;&gt;&lt;tr readability=&quot;33.224221149627&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;34.689995612111&quot;&gt;

&lt;br/&gt;&lt;div class=&quot;comment&quot; readability=&quot;44.460479573712&quot;&gt;&lt;span class=&quot;commtext c00&quot;&gt;I am opionated about this, I am sure people can share other perspectives.&lt;/span&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;When you're operating a CNC machine, as an operator, do you need mess around with internal wiring, schematic, motor controllers? No. You just need a control panel, with DRO and a bunch of buttons, a joystick for manual override, e-stop and a keypad. You're not dealing with the exposed wiring and internals of the machine. Nor do you care (except if you're a hacker, more on this below).&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;APIs are all things the user needs to do and we allow them specific endpoints to do those things. A lot of modern GraphQL methods allow you to become a &quot;hacker&quot; and get access to what you want. But, after you're done hacking, you want a proper control panel with steel panels and a version number. You, as a user, are guaranteed that interface and you're going to build your world around it. Check out Shopify, Stripe or Dropbox APIs. See what they allow you to do and what they don't.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;Here are some reasons why we want an API:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- Decoupling internal resources from the user (user can still be an internal service). We want to be able to change the database, swap it with anything else we want, completely change the schema, whatever... without affecting the user.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- We might require processing/handling of the data, sometimes with help from other microservices before serving.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- We might want to cache read access, although I am sure this is possible with these automation tools.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- We want stability over expediency (although, this is ok to forego initially).&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- We want a singular point of entry, aka entrypoint and be able to control it.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;- We might want to asychorniously process the request. &quot;Hey, I got your request and I am processing, here is the processing ID&quot; and respond with status code 202.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;All these automation tools are great to get a product running quickly. Personally, I would just use straight SQL for prototyping. If you're working on UIs and don't have access to the server, you can just use &lt;a href=&quot;https://postgrest.org/&quot; rel=&quot;nofollow&quot;&gt;https://postgrest.org/&lt;/a&gt; and get an API running. However, after you're product has reached maturity, tighten up those endpoints.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;The endpoint design is your control panel. Make it look tidy, checkout how others build this panel, engineer it well and your users will thank you.&lt;/span&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542151&quot; readability=&quot;6.8207217694994&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.4103608847497&quot;&gt;&lt;tr readability=&quot;6.8207217694994&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.3335273573923&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542523&quot; readability=&quot;7.5393474088292&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7696737044146&quot;&gt;&lt;tr readability=&quot;7.5393474088292&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542282&quot; readability=&quot;7.689594356261&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.8447971781305&quot;&gt;&lt;tr readability=&quot;7.689594356261&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.7283950617284&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543418&quot; readability=&quot;5.2847682119205&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546495&quot; readability=&quot;2.5657894736842&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2828947368421&quot;&gt;&lt;tr readability=&quot;2.5657894736842&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545942&quot; readability=&quot;2.5&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.25&quot;&gt;&lt;tr readability=&quot;2.5&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541285&quot; readability=&quot;1.3235294117647&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541475&quot; readability=&quot;5.5123674911661&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.756183745583&quot;&gt;&lt;tr readability=&quot;5.5123674911661&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.1342756183746&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541778&quot; readability=&quot;4.0559440559441&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.027972027972&quot;&gt;&lt;tr readability=&quot;4.0559440559441&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.6503496503497&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542122&quot; readability=&quot;1.4418604651163&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543356&quot; readability=&quot;2.375&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541384&quot; readability=&quot;2.4545454545455&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2272727272727&quot;&gt;&lt;tr readability=&quot;2.4545454545455&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541941&quot; readability=&quot;6.3838028169014&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.1919014084507&quot;&gt;&lt;tr readability=&quot;6.3838028169014&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542706&quot; readability=&quot;6.2616033755274&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.1308016877637&quot;&gt;&lt;tr readability=&quot;6.2616033755274&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.6033755274262&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544090&quot; readability=&quot;8.8102893890675&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.4051446945338&quot;&gt;&lt;tr readability=&quot;8.8102893890675&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.893890675241&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541825&quot; readability=&quot;13.714031971581&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;6.8570159857904&quot;&gt;&lt;tr readability=&quot;13.714031971581&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;12.244671403197&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542509&quot; readability=&quot;5.6317135549872&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8158567774936&quot;&gt;&lt;tr readability=&quot;5.6317135549872&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542361&quot; readability=&quot;3.4193548387097&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7096774193548&quot;&gt;&lt;tr readability=&quot;3.4193548387097&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543039&quot; readability=&quot;5.6124031007752&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8062015503876&quot;&gt;&lt;tr readability=&quot;5.6124031007752&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.1447028423773&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543645&quot; readability=&quot;4.7441364605544&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3720682302772&quot;&gt;&lt;tr readability=&quot;4.7441364605544&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.7441364605544&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542926&quot; readability=&quot;13.172297297297&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;6.5861486486486&quot;&gt;&lt;tr readability=&quot;13.172297297297&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;12.701858108108&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543388&quot; readability=&quot;1.3949044585987&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543091&quot; readability=&quot;2.5875&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.29375&quot;&gt;&lt;tr readability=&quot;2.5875&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543194&quot; readability=&quot;3.8549618320611&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543689&quot; readability=&quot;3.4191176470588&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543154&quot; readability=&quot;1.6363636363636&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546400&quot; readability=&quot;1.3555555555556&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543655&quot; readability=&quot;0.64102564102564&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541308&quot; readability=&quot;13.47280334728&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;6.7364016736402&quot;&gt;&lt;tr readability=&quot;13.47280334728&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;15.397489539749&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542160&quot; readability=&quot;1.2380952380952&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541559&quot; readability=&quot;7.5698113207547&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7849056603774&quot;&gt;&lt;tr readability=&quot;7.5698113207547&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.0429245283019&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545481&quot; readability=&quot;2.4418604651163&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541376&quot; readability=&quot;4.7490347490347&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542646&quot; readability=&quot;5.2166172106825&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.6083086053412&quot;&gt;&lt;tr readability=&quot;5.2166172106825&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.3471810089021&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543282&quot; readability=&quot;2.5090909090909&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2545454545455&quot;&gt;&lt;tr readability=&quot;2.5090909090909&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543402&quot; readability=&quot;5.4396887159533&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7198443579767&quot;&gt;&lt;tr readability=&quot;5.4396887159533&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544284&quot; readability=&quot;13.434615384615&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;6.7173076923077&quot;&gt;&lt;tr readability=&quot;13.434615384615&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.6769230769231&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541395&quot; readability=&quot;5.4163424124514&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7081712062257&quot;&gt;&lt;tr readability=&quot;5.4163424124514&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541739&quot; readability=&quot;3.1593406593407&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542856&quot; readability=&quot;3.5132275132275&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7566137566138&quot;&gt;&lt;tr readability=&quot;3.5132275132275&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.3915343915344&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541764&quot; readability=&quot;4.5789473684211&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2894736842105&quot;&gt;&lt;tr readability=&quot;4.5789473684211&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545142&quot; readability=&quot;5.5675675675676&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7837837837838&quot;&gt;&lt;tr readability=&quot;5.5675675675676&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545608&quot; readability=&quot;5.2857142857143&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.6428571428571&quot;&gt;&lt;tr readability=&quot;5.2857142857143&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542497&quot; readability=&quot;4.0287769784173&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.0143884892086&quot;&gt;&lt;tr readability=&quot;4.0287769784173&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542732&quot; readability=&quot;1.8397790055249&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544626&quot; readability=&quot;2.6871794871795&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546355&quot; readability=&quot;4.5064377682403&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2532188841202&quot;&gt;&lt;tr readability=&quot;4.5064377682403&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25540967&quot; readability=&quot;6.4&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2&quot;&gt;&lt;tr readability=&quot;6.4&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.2&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542258&quot; readability=&quot;18.784789644013&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;9.3923948220065&quot;&gt;&lt;tr readability=&quot;18.784789644013&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;24.222491909385&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542742&quot; readability=&quot;8.5909090909091&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.2954545454545&quot;&gt;&lt;tr readability=&quot;8.5909090909091&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.5909090909091&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544653&quot; readability=&quot;11.395780051151&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.6978900255754&quot;&gt;&lt;tr readability=&quot;11.395780051151&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;13.148976982097&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542877&quot; readability=&quot;9.8539638386648&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.9269819193324&quot;&gt;&lt;tr readability=&quot;9.8539638386648&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.332058414465&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543001&quot; readability=&quot;9.4512195121951&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.7256097560976&quot;&gt;&lt;tr readability=&quot;9.4512195121951&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.6158536585366&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543318&quot; readability=&quot;9.5748987854251&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.7874493927126&quot;&gt;&lt;tr readability=&quot;9.5748987854251&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.7874493927126&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544660&quot; readability=&quot;2.4468085106383&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2234042553191&quot;&gt;&lt;tr readability=&quot;2.4468085106383&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543669&quot; readability=&quot;11.958133971292&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.9790669856459&quot;&gt;&lt;tr readability=&quot;11.958133971292&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;10.118421052632&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544692&quot; readability=&quot;9.5470383275261&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.7735191637631&quot;&gt;&lt;tr readability=&quot;9.5470383275261&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.456445993031&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544844&quot; readability=&quot;11.858567543064&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.9292837715322&quot;&gt;&lt;tr readability=&quot;11.858567543064&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;14.230281051677&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544733&quot; readability=&quot;7.685009487666&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.842504743833&quot;&gt;&lt;tr readability=&quot;7.685009487666&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.685009487666&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546382&quot; readability=&quot;10.699167657551&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.3495838287753&quot;&gt;&lt;tr readability=&quot;10.699167657551&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.7538644470868&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25547213&quot; readability=&quot;4.4675925925926&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2337962962963&quot;&gt;&lt;tr readability=&quot;4.4675925925926&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.4675925925926&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542421&quot; readability=&quot;4.4911504424779&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2455752212389&quot;&gt;&lt;tr readability=&quot;4.4911504424779&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542805&quot; readability=&quot;4.4324324324324&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2162162162162&quot;&gt;&lt;tr readability=&quot;4.4324324324324&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545243&quot; readability=&quot;3.6271186440678&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.8135593220339&quot;&gt;&lt;tr readability=&quot;3.6271186440678&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.0805084745763&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542939&quot; readability=&quot;22.822752293578&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;11.411376146789&quot;&gt;&lt;tr readability=&quot;22.822752293578&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;30.761100917431&quot;&gt;

&lt;br/&gt;&lt;div class=&quot;comment&quot; readability=&quot;35.933505725896&quot;&gt;&lt;span class=&quot;commtext c00&quot;&gt;I think there are problems with your arguments.&lt;/span&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;&amp;gt; Ethically: there's no arguing meat eating is better. None. However well you treat animals you're still ultimately going to kill them.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;No, there are a lot of arguing about this. There is no ethical consensus on &quot;killing animals&quot; being the &quot;wrong&quot; thing. Hell there is not even consensus on whether an objective ethics is possible.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;Organisms consume other organisms. This is part of the cycle of life. Declaring this objectively wrong without exceptions just because you feel bad for the poor animals is a weak argument at its best.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;You can talk about the perils of the modern day animal farming which involves treating animals like vegetables and &quot;growing&quot; them in conditions indistinguishable from torture; but that doesn't have to mean &quot;killing animals&quot; is bad per se.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;&amp;gt; Environmentally: a hundred reasons to choose a plant based diet, all of which have been cycled here a million times so won't go back through it but we all know it's true.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;Yes, but there is research supporting that grain and vegetable farming has a lot of problems as well. Farming in scale in general is a problematic thing. Some even go as far as to state that animal farming can be even less harmful environmentally, when done right. What I'm trying to say is that, this claim hasn't been proven yet. If you want to see counter arguments and relevant research, try following a couple of carnivore diet advocates on social media. I don't have any links to share off the top of my head at the moment and I'm sorry about it. But there is no real consensus here, not so easy.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;&amp;gt; Health: again, see pretty much all the research ever. Eating a plant based diet is so much better for weight, health, BMI, etc etc etc&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;Yes, there are a lot past research about this. But as we can see today there are a lot of problems with those researches as well. A lot of them are being challenged today. Ketogenic and carnivore diets are on the rise and for good reason. USDA's food pyramid is reversed. Fat, eggs and animal protein are no longer the enemy according to many new researches. I suggest you to keep up with the new research as well.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;&amp;gt; Taste: this is the kicker imo. If you'd asked me 15 years ago when the vegetarian alternative was a crappy pasta with tomato sauce, I'd have been more tempted to chomp my way into a steak. Nowadays? There is SO much good vegetarian food. Loads of choice, huge range of flavours and in many places it's the vegetarian food that gets the chef's attention, rather than falling back on the Default Meat.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;commtext c00&quot;&gt;Yes, this may be the kicker for you. For many, animal based foods are still irreplaceable. Not much point talking about this as it's fairly subjective.&lt;/span&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542815&quot; readability=&quot;7.739837398374&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.869918699187&quot;&gt;&lt;tr readability=&quot;7.739837398374&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.126016260163&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542902&quot; readability=&quot;4.480198019802&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.240099009901&quot;&gt;&lt;tr readability=&quot;4.480198019802&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542593&quot; readability=&quot;8.5576923076923&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.2788461538462&quot;&gt;&lt;tr readability=&quot;8.5576923076923&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542255&quot; readability=&quot;2.3007518796992&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542770&quot; readability=&quot;7.5841584158416&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7920792079208&quot;&gt;&lt;tr readability=&quot;7.5841584158416&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.6881188118812&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542369&quot; readability=&quot;6.356&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.178&quot;&gt;&lt;tr readability=&quot;6.356&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542784&quot; readability=&quot;9.6315789473684&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.8157894736842&quot;&gt;&lt;tr readability=&quot;9.6315789473684&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546895&quot; readability=&quot;2.7450980392157&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543184&quot; readability=&quot;4.6536144578313&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3268072289157&quot;&gt;&lt;tr readability=&quot;4.6536144578313&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542568&quot; readability=&quot;3.5051546391753&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7525773195876&quot;&gt;&lt;tr readability=&quot;3.5051546391753&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541392&quot; readability=&quot;5.7557666214383&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8778833107191&quot;&gt;&lt;tr readability=&quot;5.7557666214383&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.7557666214383&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541579&quot; readability=&quot;6.4934210526316&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2467105263158&quot;&gt;&lt;tr readability=&quot;6.4934210526316&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542022&quot; readability=&quot;1.2&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541848&quot; readability=&quot;6.5706666666667&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2853333333333&quot;&gt;&lt;tr readability=&quot;6.5706666666667&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.5706666666667&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542581&quot; readability=&quot;5.4801444043321&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7400722021661&quot;&gt;&lt;tr readability=&quot;5.4801444043321&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.5667870036101&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542715&quot; readability=&quot;2.3382352941176&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542950&quot; readability=&quot;8.6079854809437&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.3039927404719&quot;&gt;&lt;tr readability=&quot;8.6079854809437&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;240&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.1297640653358&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25547022&quot; readability=&quot;4.6689497716895&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3344748858447&quot;&gt;&lt;tr readability=&quot;4.6689497716895&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;280&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.2020547945205&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544651&quot; readability=&quot;2.503937007874&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.251968503937&quot;&gt;&lt;tr readability=&quot;2.503937007874&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545291&quot; readability=&quot;4.4779116465863&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2389558232932&quot;&gt;&lt;tr readability=&quot;4.4779116465863&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;240&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541612&quot; readability=&quot;2.1785714285714&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542074&quot; readability=&quot;3.5141700404858&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7570850202429&quot;&gt;&lt;tr readability=&quot;3.5141700404858&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542435&quot; readability=&quot;4.6989528795812&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3494764397906&quot;&gt;&lt;tr readability=&quot;4.6989528795812&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.229057591623&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542721&quot; readability=&quot;3.2982456140351&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6491228070175&quot;&gt;&lt;tr readability=&quot;3.2982456140351&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541815&quot; readability=&quot;3.6286919831224&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.8143459915612&quot;&gt;&lt;tr readability=&quot;3.6286919831224&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542055&quot; readability=&quot;4.4545454545455&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2272727272727&quot;&gt;&lt;tr readability=&quot;4.4545454545455&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541927&quot; readability=&quot;5.4285714285714&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7142857142857&quot;&gt;&lt;tr readability=&quot;5.4285714285714&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.5238095238095&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25547041&quot; readability=&quot;3.3053892215569&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6526946107784&quot;&gt;&lt;tr readability=&quot;3.3053892215569&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541926&quot; readability=&quot;2.5760869565217&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2880434782609&quot;&gt;&lt;tr readability=&quot;2.5760869565217&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542103&quot; readability=&quot;5.5&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.75&quot;&gt;&lt;tr readability=&quot;5.5&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.6666666666667&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542223&quot; readability=&quot;0.68571428571429&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542728&quot; readability=&quot;0.0625&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541723&quot; readability=&quot;1.1212121212121&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541800&quot; readability=&quot;5.6208791208791&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8104395604396&quot;&gt;&lt;tr readability=&quot;5.6208791208791&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541869&quot; readability=&quot;5.421686746988&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.710843373494&quot;&gt;&lt;tr readability=&quot;5.421686746988&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542119&quot; readability=&quot;10.827266238401&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.4136331192006&quot;&gt;&lt;tr readability=&quot;10.827266238401&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;14.764453961456&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543057&quot; readability=&quot;6.5527777777778&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2763888888889&quot;&gt;&lt;tr readability=&quot;6.5527777777778&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;240&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.7444444444444&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542380&quot; readability=&quot;3.4932126696833&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7466063348416&quot;&gt;&lt;tr readability=&quot;3.4932126696833&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;240&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542418&quot; readability=&quot;7.2163265306122&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.6081632653061&quot;&gt;&lt;tr readability=&quot;7.2163265306122&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;280&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542071&quot; readability=&quot;3.4570135746606&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7285067873303&quot;&gt;&lt;tr readability=&quot;3.4570135746606&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542037&quot; readability=&quot;2.5027624309392&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2513812154696&quot;&gt;&lt;tr readability=&quot;2.5027624309392&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542200&quot; readability=&quot;11.043227665706&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.521613832853&quot;&gt;&lt;tr readability=&quot;11.043227665706&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;200&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;11.963496637848&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542756&quot; readability=&quot;5.3898305084746&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.6949152542373&quot;&gt;&lt;tr readability=&quot;5.3898305084746&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;240&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.0423728813559&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542794&quot; readability=&quot;7.4066496163683&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.7033248081841&quot;&gt;&lt;tr readability=&quot;7.4066496163683&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542997&quot; readability=&quot;6.1506276150628&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.0753138075314&quot;&gt;&lt;tr readability=&quot;6.1506276150628&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544602&quot; readability=&quot;3.5652173913043&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7826086956522&quot;&gt;&lt;tr readability=&quot;3.5652173913043&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542170&quot; readability=&quot;6.4981949458484&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2490974729242&quot;&gt;&lt;tr readability=&quot;6.4981949458484&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.7166064981949&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543291&quot; readability=&quot;2.1176470588235&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541803&quot; readability=&quot;4.7632058287796&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3816029143898&quot;&gt;&lt;tr readability=&quot;4.7632058287796&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.1448087431694&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25545036&quot; readability=&quot;4.0909090909091&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.0454545454545&quot;&gt;&lt;tr readability=&quot;4.0909090909091&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.0909090909091&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542045&quot; readability=&quot;3.5757575757576&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7878787878788&quot;&gt;&lt;tr readability=&quot;3.5757575757576&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542923&quot; readability=&quot;2.4838709677419&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.241935483871&quot;&gt;&lt;tr readability=&quot;2.4838709677419&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546816&quot; readability=&quot;5.5555555555556&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7777777777778&quot;&gt;&lt;tr readability=&quot;5.5555555555556&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.0925925925926&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542232&quot; readability=&quot;2.6648936170213&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.3324468085106&quot;&gt;&lt;tr readability=&quot;2.6648936170213&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.8856382978723&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543520&quot; readability=&quot;1.2537313432836&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544573&quot; readability=&quot;4.6730245231608&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3365122615804&quot;&gt;&lt;tr readability=&quot;4.6730245231608&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.6730245231608&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541201&quot; readability=&quot;4.0365448504983&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.0182724252492&quot;&gt;&lt;tr readability=&quot;4.0365448504983&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.6328903654485&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542795&quot; readability=&quot;4.6746987951807&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3373493975904&quot;&gt;&lt;tr readability=&quot;4.6746987951807&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.4795180722892&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543198&quot; readability=&quot;5.3882352941176&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.6941176470588&quot;&gt;&lt;tr readability=&quot;5.3882352941176&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541953&quot; readability=&quot;3.5025906735751&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7512953367876&quot;&gt;&lt;tr readability=&quot;3.5025906735751&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.940414507772&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546426&quot; readability=&quot;0.14917127071823&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546662&quot; readability=&quot;2.8190476190476&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544301&quot; readability=&quot;2.8761904761905&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541519&quot; readability=&quot;2.7407407407407&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541181&quot; readability=&quot;2.6544502617801&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.3272251308901&quot;&gt;&lt;tr readability=&quot;2.6544502617801&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.9816753926702&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541835&quot; readability=&quot;2.390625&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542174&quot; readability=&quot;1.0344827586207&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541029&quot; readability=&quot;5.1254237288136&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.5627118644068&quot;&gt;&lt;tr readability=&quot;5.1254237288136&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.271186440678&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542193&quot; readability=&quot;22.175525339926&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;11.087762669963&quot;&gt;&lt;tr readability=&quot;22.175525339926&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;18.31891223733&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542480&quot; readability=&quot;1.5&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543777&quot; readability=&quot;20.581288343558&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;10.290644171779&quot;&gt;&lt;tr readability=&quot;20.581288343558&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;22.051380368098&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542739&quot; readability=&quot;2.4807692307692&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541311&quot; readability=&quot;3.0105263157895&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542050&quot; readability=&quot;2.4893617021277&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2446808510638&quot;&gt;&lt;tr readability=&quot;2.4893617021277&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541729&quot; readability=&quot;3.264367816092&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.632183908046&quot;&gt;&lt;tr readability=&quot;3.264367816092&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541905&quot; readability=&quot;0.94160583941606&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541219&quot; readability=&quot;2.59375&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.296875&quot;&gt;&lt;tr readability=&quot;2.59375&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.4583333333333&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542269&quot; readability=&quot;5.7800687285223&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8900343642612&quot;&gt;&lt;tr readability=&quot;5.7800687285223&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.7067583046964&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542843&quot; readability=&quot;5.5229357798165&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7614678899083&quot;&gt;&lt;tr readability=&quot;5.5229357798165&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.6819571865443&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541432&quot; readability=&quot;2.475&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2375&quot;&gt;&lt;tr readability=&quot;2.475&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546457&quot; readability=&quot;1.3103448275862&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542675&quot; readability=&quot;3.4124293785311&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7062146892655&quot;&gt;&lt;tr readability=&quot;3.4124293785311&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544015&quot; readability=&quot;8.2562747688243&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.1281373844122&quot;&gt;&lt;tr readability=&quot;8.2562747688243&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.0178335535007&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544251&quot; readability=&quot;6.6769230769231&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.3384615384615&quot;&gt;&lt;tr readability=&quot;6.6769230769231&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;6.2&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544383&quot; readability=&quot;11.616368286445&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.8081841432225&quot;&gt;&lt;tr readability=&quot;11.616368286445&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;13.552429667519&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541636&quot; readability=&quot;2&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543455&quot; readability=&quot;2.2894736842105&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542600&quot; readability=&quot;1.7202797202797&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543098&quot; readability=&quot;4.7427293064877&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3713646532438&quot;&gt;&lt;tr readability=&quot;4.7427293064877&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.7941834451902&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544067&quot; readability=&quot;10.56862745098&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;5.2843137254902&quot;&gt;&lt;tr readability=&quot;10.56862745098&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;8.1666666666667&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25546386&quot; readability=&quot;4.4951140065147&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2475570032573&quot;&gt;&lt;tr readability=&quot;4.4951140065147&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541570&quot; readability=&quot;3.4723404255319&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.736170212766&quot;&gt;&lt;tr readability=&quot;3.4723404255319&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.7744680851064&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542337&quot; readability=&quot;2.3157894736842&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542466&quot; readability=&quot;5.404958677686&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.702479338843&quot;&gt;&lt;tr readability=&quot;5.404958677686&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541648&quot; readability=&quot;5.5384615384615&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7692307692308&quot;&gt;&lt;tr readability=&quot;5.5384615384615&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541832&quot; readability=&quot;5.6445497630332&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.8222748815166&quot;&gt;&lt;tr readability=&quot;5.6445497630332&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.1741706161137&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541666&quot; readability=&quot;3.4771241830065&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7385620915033&quot;&gt;&lt;tr readability=&quot;3.4771241830065&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541089&quot; readability=&quot;3.3093525179856&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.6546762589928&quot;&gt;&lt;tr readability=&quot;3.3093525179856&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541283&quot; readability=&quot;2.2695652173913&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541410&quot; readability=&quot;0.070588235294118&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541795&quot; readability=&quot;1.2771084337349&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542535&quot; readability=&quot;3.4051282051282&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7025641025641&quot;&gt;&lt;tr readability=&quot;3.4051282051282&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;120&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.2564102564103&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543148&quot; readability=&quot;3.4588235294118&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7294117647059&quot;&gt;&lt;tr readability=&quot;3.4588235294118&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;160&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541014&quot; readability=&quot;4.6640826873385&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.3320413436693&quot;&gt;&lt;tr readability=&quot;4.6640826873385&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.6640826873385&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541263&quot; readability=&quot;2.3478260869565&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541385&quot; readability=&quot;2.4347826086957&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2173913043478&quot;&gt;&lt;tr readability=&quot;2.4347826086957&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541581&quot; readability=&quot;2.4313725490196&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541223&quot; readability=&quot;2.3858267716535&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541842&quot; readability=&quot;8.5414012738854&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;4.2707006369427&quot;&gt;&lt;tr readability=&quot;8.5414012738854&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;7.1178343949045&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544895&quot; readability=&quot;1.5058823529412&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543646&quot; readability=&quot;2.3181818181818&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543796&quot; readability=&quot;3.1578947368421&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541391&quot; readability=&quot;4.4196428571429&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.2098214285714&quot;&gt;&lt;tr readability=&quot;4.4196428571429&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;80&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544224&quot; readability=&quot;2.2378378378378&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542872&quot; readability=&quot;4.2735042735043&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.1367521367521&quot;&gt;&lt;tr readability=&quot;4.2735042735043&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;4.2735042735043&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543293&quot; readability=&quot;1.6190476190476&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543204&quot; readability=&quot;4.6890756302521&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541284&quot; readability=&quot;5.4363636363636&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7181818181818&quot;&gt;&lt;tr readability=&quot;5.4363636363636&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542515&quot; readability=&quot;2.0287769784173&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541464&quot; readability=&quot;1.9&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543337&quot; readability=&quot;2.4193548387097&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.2096774193548&quot;&gt;&lt;tr readability=&quot;2.4193548387097&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542162&quot; readability=&quot;2.6210526315789&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.3105263157895&quot;&gt;&lt;tr readability=&quot;2.6210526315789&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.4947368421053&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544864&quot; readability=&quot;1.7014925373134&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542139&quot; readability=&quot;6.4975247524752&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;3.2487623762376&quot;&gt;&lt;tr readability=&quot;6.4975247524752&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.7128712871287&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541821&quot; readability=&quot;0.08955223880597&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25540934&quot; readability=&quot;3.5576923076923&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.7788461538462&quot;&gt;&lt;tr readability=&quot;3.5576923076923&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542527&quot; readability=&quot;3.7537993920973&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544165&quot; readability=&quot;0.94736842105263&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25540975&quot; readability=&quot;1.6930693069307&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541121&quot; readability=&quot;2.8832116788321&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541810&quot; readability=&quot;0.80769230769231&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25543658&quot; readability=&quot;1.0740740740741&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541938&quot; readability=&quot;0.8&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25544036&quot; readability=&quot;0.94736842105263&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25542250&quot; readability=&quot;5.5016611295681&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.7508305647841&quot;&gt;&lt;tr readability=&quot;5.5016611295681&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;5.9601328903654&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541557&quot; readability=&quot;1.9545454545455&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541738&quot; readability=&quot;2.424&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;1.212&quot;&gt;&lt;tr readability=&quot;2.424&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;40&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541444&quot; readability=&quot;4.2105263157895&quot;&gt;&lt;td&gt;
&lt;table border=&quot;0&quot; readability=&quot;2.1052631578947&quot;&gt;&lt;tr readability=&quot;4.2105263157895&quot;&gt;&lt;td class=&quot;ind&quot;&gt;&lt;img src=&quot;https://news.ycombinator.com/s.gif&quot; height=&quot;1&quot; width=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;td valign=&quot;top&quot; class=&quot;votelinks&quot;&gt;
&lt;center&gt;

&lt;/center&gt;
&lt;/td&gt;
&lt;td class=&quot;default&quot; readability=&quot;3.7894736842105&quot;&gt;

&lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;athing comtr&quot; id=&quot;25541404&quot; readability=&quot;3.5884353741497&quot;&gt;&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;</description>
<pubDate>Sat, 26 Dec 2020 01:28:06 +0000</pubDate>
<dc:creator>snowisgone</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://news.ycombinator.com/item?id=25540583</dc:identifier>
</item>
<item>
<title>A Complete Guide to LLVM for Programming Language Creators</title>
<link>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</link>
<guid isPermaLink="true" >https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</guid>
<description>&lt;h3 class=&quot;css-wwy1yd&quot;&gt;Creating the Bolt Compiler: Part 8&lt;/h3&gt;&lt;p&gt;
&lt;h3 class=&quot;css-1gp32i5&quot;&gt;December 24, 2020&lt;/h3&gt;
&lt;h3 class=&quot;css-18esjpw&quot;&gt;12 min read&lt;/h3&gt;
&lt;/p&gt;
&lt;div class=&quot; gatsby-image-wrapper&quot;&gt;

&lt;img aria-hidden=&quot;true&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABg0lEQVQoz52Sy27bQAxF9f8/lFUXXQUFWjirwEFRW/JbiqyR56kZPW5IGipcVOmiBAjOEODV4R1lWIhpmj49z/fHflmW6LpOzlnf92jbVpp5nmMYhj+GP0sOFlFKYb1ewxhzFxzHESklsDA3OWfRfwXPMcQsNENkS+s2TYOqqmBDgvERrusR0ij1ZgOs83DOLlolhN57wWdKWYdSG4e9itiphLz2eDsqqbsmotH+NyXPaK1FQ1bm9diDzWZDzSDCbatwKSuUdkJ+jfjy/IKnr9/wWrzjQmA3nxBI4HptUNc1VquVzIvgkj+GvsiCZ+VxpNzXBhcdKTvsrxZKO6QYF/+CjO9GB6jGQt+IMNwJrb17FMm3nvzjGnxPQgOGfpQ1nXN/wWQjPeh2s8eP7yuU5wannQH3yB62EvWFqH5ZnHcexU+L7dqgPAQZ5nUPh4Osezqd5MUzxkyRCQaqE2KgR7JMM0jf3hKqY8D7OaAlP49bJ3UOfoyiKESQqTP8Zzz+4I/xAdC5VpTn7minAAAAAElFTkSuQmCC&quot; alt=&quot;&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img loading=&quot;lazy&quot; sizes=&quot;(max-width: 630px) 100vw, 630px&quot; srcset=&quot;/static/81938ad9f32c6a92607d4c801b7b0516/b98be/llvm.png 158w, /static/81938ad9f32c6a92607d4c801b7b0516/704a2/llvm.png 315w, /static/81938ad9f32c6a92607d4c801b7b0516/1711c/llvm.png 630w, /static/81938ad9f32c6a92607d4c801b7b0516/a9ac2/llvm.png 945w, /static/81938ad9f32c6a92607d4c801b7b0516/dc180/llvm.png 1260w, /static/81938ad9f32c6a92607d4c801b7b0516/3cb1b/llvm.png 2134w&quot; src=&quot;https://mukulrathi.co.uk/static/81938ad9f32c6a92607d4c801b7b0516/1711c/llvm.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;/div&gt;
&lt;nav&gt;&lt;h2 class=&quot;css-79raas&quot;&gt;Series: Creating the Bolt Compiler&lt;/h2&gt;
&lt;/nav&gt;&lt;hr/&gt;&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;strong class=&quot;css-11c5hp4&quot;&gt;Update&lt;/strong&gt;: this post has now taken off on &lt;a href=&quot;https://news.ycombinator.com/item?id=25539797&quot; class=&quot;css-1kj0dvy&quot;&gt;Hacker News&lt;/a&gt; and &lt;a href=&quot;https://www.reddit.com/r/programming/comments/kjjijf/a_complete_guide_to_llvm_for_programming_language/&quot; class=&quot;css-1kj0dvy&quot;&gt;Reddit&lt;/a&gt;. Thank you all!&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;I have a small request:&lt;/p&gt;
&lt;div class=&quot;css-13z6hpn&quot;&gt;
&lt;div class=&quot;css-sri2jz&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;css-i9gxme&quot; readability=&quot;9&quot;&gt;
&lt;h3 class=&quot;css-1a1c6ui&quot;&gt;Share This On Twitter&lt;/h3&gt;
&lt;p class=&quot;css-ijtuvn&quot;&gt;If you find this useful, please share on Twitter, thank you!&lt;/p&gt;

&lt;/div&gt;
&lt;div class=&quot;css-6a25e4&quot;&gt;
&lt;div class=&quot;css-1y97eyd&quot;&gt;
&lt;div class=&quot; gatsby-image-wrapper&quot;&gt;

&lt;img aria-hidden=&quot;true&quot; src=&quot;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMBBAL/xAAWAQEBAQAAAAAAAAAAAAAAAAADAgH/2gAMAwEAAhADEAAAAdnfjSO5okjEY/Ynf//EABsQAAICAwEAAAAAAAAAAAAAAAECABEDEiEi/9oACAEBAAEFAjwJZfyI9AI6jLqI3QFG0//EABkRAAEFAAAAAAAAAAAAAAAAAAEAAhARUf/aAAgBAwEBPwEN1UJ//8QAGREAAwADAAAAAAAAAAAAAAAAAAECEjFR/9oACAECAQE/AavhkxaGf//EABwQAAICAgMAAAAAAAAAAAAAAAERABAhMUFRcf/aAAgBAQAGPwKJg+UjzMvqsiErVf/EABoQAAMAAwEAAAAAAAAAAAAAAAABESExQXH/2gAIAQEAAT8h2Bm3SlQ4PLNAetGPE4vB2wkIlSfSfonELT//2gAMAwEAAgADAAAAEFwoA//EABgRAQEBAQEAAAAAAAAAAAAAAAEAESFB/9oACAEDAQE/EDyYeS9YXL//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAECAQE/EEW6dYGIG3//xAAdEAEAAwADAAMAAAAAAAAAAAABABEhQVGRMWFx/9oACAEBAAE/ENFDO2j2bz4OO8+y/RInpYIIxGG0CoetP1LDB+RM6EwLEAAzT5qWdrs//9k=&quot; alt=&quot;Mukul Rathi&quot;/&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img loading=&quot;lazy&quot; sizes=&quot;(max-width: 100px) 100vw, 100px&quot; srcset=&quot;/static/79d112fb5ed5278b9c842a778c6a1a64/1075f/profile-pic.jpg 25w, /static/79d112fb5ed5278b9c842a778c6a1a64/2c7f8/profile-pic.jpg 50w, /static/79d112fb5ed5278b9c842a778c6a1a64/86e11/profile-pic.jpg 100w, /static/79d112fb5ed5278b9c842a778c6a1a64/aabdf/profile-pic.jpg 150w, /static/79d112fb5ed5278b9c842a778c6a1a64/f836f/profile-pic.jpg 200w, /static/79d112fb5ed5278b9c842a778c6a1a64/1013b/profile-pic.jpg 1207w&quot; src=&quot;https://mukulrathi.co.uk/static/79d112fb5ed5278b9c842a778c6a1a64/86e11/profile-pic.jpg&quot; alt=&quot;Mukul Rathi&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;whos-this-tutorial-for&quot; class=&quot;css-1km4yk3&quot;&gt;Who’s this tutorial for?&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;This series of compiler tutorials is for people who don’t just want to create a &lt;em class=&quot;css-xk3d23&quot;&gt;toy&lt;/em&gt; language. You want objects. You want polymorphism. You want concurrency. You want garbage collection. Wait you don’t want GC? Okay, no worries, we won’t do that :P&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;If you’ve just joined the series at this stage, here’s a quick recap. We’re designing a Java-esque concurrent object-oriented programming language &lt;em class=&quot;css-xk3d23&quot;&gt;Bolt&lt;/em&gt;. We’ve gone through the compiler frontend, where we’ve done the parsing, type-checking and dataflow analysis. We’ve &lt;a href=&quot;https://mukulrathi.co.uk/create-your-own-programming-language/lower-language-constructs-to-llvm/&quot; class=&quot;css-1kj0dvy&quot;&gt;desugared our language to get it ready for LLVM&lt;/a&gt; - the main takeaway is that objects have been desugared to structs, and their methods desugared to functions.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Learn about LLVM and you’ll be the envy of your friends. Rust uses LLVM for its backend, so it must be cool. You’ll beat them on all those performance benchmarks, without having to hand-optimise your code or write machine assembly code. Shhhh, I won’t tell them.&lt;/p&gt;
&lt;h2 id=&quot;just-give-me-the-code&quot; class=&quot;css-1km4yk3&quot;&gt;Just give me the code!&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;All the code can be found in the &lt;a href=&quot;https://github.com/mukul-rathi/bolt&quot; class=&quot;css-1kj0dvy&quot;&gt;Bolt compiler repository&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The C++ class definitions for our desugared representation (we call this &lt;em class=&quot;css-xk3d23&quot;&gt;Bolt IR&lt;/em&gt;) can be found in &lt;a href=&quot;https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/deserialise_ir&quot; class=&quot;css-1kj0dvy&quot;&gt;deserialise_ir&lt;/a&gt; folder. The code for this post (the LLVM IR generation) can be found in the &lt;a href=&quot;https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/llvm_ir_codegen&quot; class=&quot;css-1kj0dvy&quot;&gt;llvm_ir_codegen&lt;/a&gt; folder. The repo uses the Visitor design pattern and ample use of &lt;code class=&quot;css-1713fap&quot;&gt;std::unique_ptr&lt;/code&gt; to make memory management easier.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;To cut through the boilerplate, to find out how to generate LLVM IR for a particular language expression, search for the &lt;code class=&quot;css-1713fap&quot;&gt;IRCodegenVisitor::codegen&lt;/code&gt; method that takes in the corresponding &lt;code class=&quot;css-1713fap&quot;&gt;ExprIR&lt;/code&gt; object. e.g. for if-else statements:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;7&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRCodegenVisitor&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprIfElseIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;understanding-llvm-ir&quot; class=&quot;css-1km4yk3&quot;&gt;Understanding LLVM IR&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;LLVM sits in the &lt;strong class=&quot;css-11c5hp4&quot;&gt;middle-end&lt;/strong&gt; of our compiler, &lt;em class=&quot;css-xk3d23&quot;&gt;after&lt;/em&gt; we’ve desugared our language features, but &lt;em class=&quot;css-xk3d23&quot;&gt;before&lt;/em&gt; the backends that target specific machine architectures (x86, ARM etc.)&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;LLVM’s IR is pretty low-level, it can’t contain language features present in some languages but not others (e.g. classes are present in C++ but not C). If you’ve come across instruction sets before, LLVM IR is a &lt;a href=&quot;https://en.wikipedia.org/wiki/Reduced_instruction_set_computer#:~:text=A%20reduced%20instruction%20set%20computer,instruction%20set%20computer%20(CISC).&quot; class=&quot;css-1kj0dvy&quot;&gt;RISC&lt;/a&gt; instruction set.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The upshot of it is that LLVM IR looks like a more &lt;em class=&quot;css-xk3d23&quot;&gt;readable&lt;/em&gt; form of assembly. As LLVM IR is &lt;strong class=&quot;css-11c5hp4&quot;&gt;machine independent&lt;/strong&gt;, we don’t need to worry about the number of registers, size of datatypes, calling conventions or other machine-specific details.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;So instead of a fixed number of physical registers, in LLVM IR we have an unlimited set of &lt;em class=&quot;css-xk3d23&quot;&gt;virtual&lt;/em&gt; registers (labelled &lt;code class=&quot;css-1713fap&quot;&gt;%0&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;%1&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;%2&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;%3&lt;/code&gt;… we can write and read from. It’s the backend’s job to map from virtual to physical registers.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;And rather than allocating specific sizes of datatypes, we retain &lt;strong class=&quot;css-11c5hp4&quot;&gt;types&lt;/strong&gt; in LLVM IR. Again, the backend will take this type information and map it to the size of the datatype. LLVM has types for different sizes of &lt;code class=&quot;css-1713fap&quot;&gt;int&lt;/code&gt;s and floats, e.g. &lt;code class=&quot;css-1713fap&quot;&gt;int32&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;int8&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;int1&lt;/code&gt; etc. It also has derived types: like &lt;strong class=&quot;css-11c5hp4&quot;&gt;pointer&lt;/strong&gt; types, &lt;strong class=&quot;css-11c5hp4&quot;&gt;array&lt;/strong&gt; types, &lt;strong class=&quot;css-11c5hp4&quot;&gt;struct&lt;/strong&gt; types, &lt;strong class=&quot;css-11c5hp4&quot;&gt;function&lt;/strong&gt; types. To find out more, check out the &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1Type.html&quot; class=&quot;css-1kj0dvy&quot;&gt;Type&lt;/a&gt; documentation.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Now, built into LLVM are a set of optimisations we can run over the LLVM IR e.g. &lt;a href=&quot;https://en.wikipedia.org/wiki/Dead_code_elimination&quot; class=&quot;css-1kj0dvy&quot;&gt;dead-code elimination&lt;/a&gt;, &lt;a href=&quot;https://en.wikipedia.org/wiki/Inline_expansion&quot; class=&quot;css-1kj0dvy&quot;&gt;function inlining&lt;/a&gt;, &lt;a href=&quot;https://cran.r-project.org/web/packages/rco/vignettes/opt-common-subexpr.html&quot; class=&quot;css-1kj0dvy&quot;&gt;common subexpression elimination&lt;/a&gt; etc. The details of these algorithms are irrelevant: LLVM implements them for us.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Our side of the bargain is that we write LLVM IR in &lt;a href=&quot;https://en.wikipedia.org/wiki/Static_single_assignment_form&quot; class=&quot;css-1kj0dvy&quot;&gt;Static Single Assignment (SSA) form&lt;/a&gt;, as SSA form makes life easier for optimisation writers. SSA form sounds fancy, but it just means we define variables before use and assign to variables &lt;strong class=&quot;css-11c5hp4&quot;&gt;only once&lt;/strong&gt;. In SSA form, we cannot reassign to a variable, e.g. &lt;code class=&quot;css-1713fap&quot;&gt;x = x+1&lt;/code&gt;; instead we assign to a fresh variable each time (&lt;code class=&quot;css-1713fap&quot;&gt;x2 = x1 + 1&lt;/code&gt;).&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;So in short: LLVM IR looks like assembly with &lt;strong class=&quot;css-11c5hp4&quot;&gt;types&lt;/strong&gt;, minus the messy machine-specific details. LLVM IR must be in SSA form, which makes it easier to optimise. Let’s look at an example!&lt;/p&gt;
&lt;h3 id=&quot;an-example-factorial&quot; class=&quot;css-1xd0dhc&quot;&gt;An example: Factorial&lt;/h3&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Let’s look at a simple factorial function in our language Bolt:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;factorial.bolt&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;7&quot;&gt;&lt;button name=&quot;factorial.bolt: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token keyword css-1baulvz&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The corresponding LLVM IR is as follows:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;13&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;factorial.ll&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;21&quot;&gt;&lt;button name=&quot;factorial.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;define i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;icmp eq i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br i1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;call i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;mul i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;phi i32&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ret i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;css-ga9waz&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Note the &lt;code class=&quot;css-1713fap&quot;&gt;.ll&lt;/code&gt; extension is for &lt;strong class=&quot;css-11c5hp4&quot;&gt;human-readable&lt;/strong&gt; LLVM IR output. There’s also &lt;code class=&quot;css-1713fap&quot;&gt;.bc&lt;/code&gt; for bit-code, a more compact machine representation of LLVM IR.&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We can walk through this IR in 4 levels of detail:&lt;/p&gt;
&lt;h4 id=&quot;at-the-instruction-level&quot; class=&quot;css-kq2j2q&quot;&gt;At the Instruction Level:&lt;/h4&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Notice how LLVM IR contains assembly instructions like &lt;code class=&quot;css-1713fap&quot;&gt;br&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;icmp&lt;/code&gt;, but abstracts the machine-specific messy details of function calling conventions with a single &lt;code class=&quot;css-1713fap&quot;&gt;call&lt;/code&gt; instruction.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;Factorial instructions&quot; title=&quot;Factorial instructions&quot; src=&quot;https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png&quot; srcset=&quot;/static/f987ee45552570ad7aa513f6d3fc19a7/222b7/factorial-instructions.png 163w,/static/f987ee45552570ad7aa513f6d3fc19a7/ff46a/factorial-instructions.png 325w,/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png 650w,/static/f987ee45552570ad7aa513f6d3fc19a7/e548f/factorial-instructions.png 975w,/static/f987ee45552570ad7aa513f6d3fc19a7/3c492/factorial-instructions.png 1300w,/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png 1806w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;at-the-control-flow-graph-level&quot; class=&quot;css-kq2j2q&quot;&gt;At the Control Flow Graph Level:&lt;/h4&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;If we take a step back, you can see the IR defines the &lt;strong class=&quot;css-11c5hp4&quot;&gt;control flow graph&lt;/strong&gt; of the program. IR instructions are grouped into labeled &lt;strong class=&quot;css-11c5hp4&quot;&gt;basic blocks&lt;/strong&gt;, and the &lt;code class=&quot;css-1713fap&quot;&gt;preds&lt;/code&gt; labels for each block represent incoming edges to that block. e.g. the &lt;code class=&quot;css-1713fap&quot;&gt;ifcont&lt;/code&gt; basic block has predecessors &lt;code class=&quot;css-1713fap&quot;&gt;then&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;else&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;css-ga9waz&quot; readability=&quot;10.526315789474&quot;&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;At this point, I’m going to assume you have come across Control Flow Graphs and basic blocks. We introduced Control Flow Graphs in a previous post in the series, where we used them to perform different dataflow analyses on the program. I’d recommend you go and check the &lt;a href=&quot;http://mukulrathi.co.uk/create-your-own-programming-language/data-race-dataflow-analysis/#control-flow-graph&quot; class=&quot;css-1kj0dvy&quot;&gt;CFG section of that dataflow analysis post&lt;/a&gt; now. I’ll wait here :)&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;Factorial control flow graph&quot; title=&quot;Factorial control flow graph&quot; src=&quot;https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png&quot; srcset=&quot;/static/6a6edf6d916150ea4de92c0fc1a68e1a/222b7/factorial-cfg.png 163w,/static/6a6edf6d916150ea4de92c0fc1a68e1a/ff46a/factorial-cfg.png 325w,/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png 650w,/static/6a6edf6d916150ea4de92c0fc1a68e1a/e548f/factorial-cfg.png 975w,/static/6a6edf6d916150ea4de92c0fc1a68e1a/3c492/factorial-cfg.png 1300w,/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png 2034w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The &lt;code class=&quot;css-1713fap&quot;&gt;phi&lt;/code&gt; instruction represents &lt;strong class=&quot;css-11c5hp4&quot;&gt;conditional assignment&lt;/strong&gt;: assigning different values depending on which preceding basic block we’ve just come from. It is of the form &lt;code class=&quot;css-1713fap&quot;&gt;phi type [val1, predecessor1], [val2, predecessor2], ...&lt;/code&gt; In the example above, we set &lt;code class=&quot;css-1713fap&quot;&gt;%iftmp&lt;/code&gt; to 1 if we’ve come from the &lt;code class=&quot;css-1713fap&quot;&gt;then&lt;/code&gt; block, and &lt;code class=&quot;css-1713fap&quot;&gt;%mult&lt;/code&gt; if we’ve come from the &lt;code class=&quot;css-1713fap&quot;&gt;else&lt;/code&gt; block. Phi nodes must be at the &lt;strong class=&quot;css-11c5hp4&quot;&gt;start&lt;/strong&gt; of a block, and include one entry for each predecessor.&lt;/p&gt;
&lt;h4 id=&quot;at-the-function-level&quot; class=&quot;css-kq2j2q&quot;&gt;At the Function Level:&lt;/h4&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Taking another step back, the overall structure of a function in LLVM IR is as follows:&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;Factorial fn&quot; title=&quot;Factorial fn&quot; src=&quot;https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png&quot; srcset=&quot;/static/c80bbba94459a0ac84429c53299823b2/222b7/factorial-fn.png 163w,/static/c80bbba94459a0ac84429c53299823b2/ff46a/factorial-fn.png 325w,/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png 650w,/static/c80bbba94459a0ac84429c53299823b2/e548f/factorial-fn.png 975w,/static/c80bbba94459a0ac84429c53299823b2/3c492/factorial-fn.png 1300w,/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png 1708w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;at-the-module-level&quot; class=&quot;css-kq2j2q&quot;&gt;At the Module Level:&lt;/h4&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;An LLVM &lt;strong class=&quot;css-11c5hp4&quot;&gt;module&lt;/strong&gt; contains all the information associated with a program file. (For multi-file programs, we’d link together their corresponding modules.)&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;LLVM Module&quot; title=&quot;LLVM Module&quot; src=&quot;https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png&quot; srcset=&quot;/static/e21edb9623d8fb7bc23f57db23b93cf8/222b7/module.png 163w,/static/e21edb9623d8fb7bc23f57db23b93cf8/ff46a/module.png 325w,/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png 650w,/static/e21edb9623d8fb7bc23f57db23b93cf8/e548f/module.png 975w,/static/e21edb9623d8fb7bc23f57db23b93cf8/3c492/module.png 1300w,/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png 1988w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Our &lt;code class=&quot;css-1713fap&quot;&gt;factorial&lt;/code&gt; function is just one function definition in our module. If we want to execute the program, e.g. to compute &lt;code class=&quot;css-1713fap&quot;&gt;factorial(10)&lt;/code&gt; we need to define a &lt;code class=&quot;css-1713fap&quot;&gt;main&lt;/code&gt; function, which will be the entrypoint for our program’s execution. The &lt;code class=&quot;css-1713fap&quot;&gt;main&lt;/code&gt; function’s signature is a hangover from C (we return 0 to indicate successful execution):&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;example_program.c&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;example_program.c: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-c prism-code language-c css-1t7qvgx&quot;&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We specify that we want to compile for an Intel Macbook Pro in the module target info:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;9&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;example_module.ll&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;13&quot;&gt;&lt;button name=&quot;example_module.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;source_filename&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;Module&quot;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;target triple&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;x86_64-apple-darwin18.7.0&quot;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;define i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;define i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;call i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ret i32&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;the-llvm-api-key-concepts&quot; class=&quot;css-1km4yk3&quot;&gt;The LLVM API: Key Concepts&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Now we’ve got the basics of LLVM IR down, let’s introduce the LLVM API. We’ll go through the key concepts, then introduce more of the API as we explore LLVM IR further.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;LLVM defines a whole host of classes that map to the concepts we’ve talked about.&lt;/p&gt;
&lt;ul class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;Value&lt;/code&gt;&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;Module&lt;/code&gt;&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;Type&lt;/code&gt;&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;Function&lt;/code&gt;&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;BasicBlock&lt;/code&gt;&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;BranchInst&lt;/code&gt; …&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;css-ga9waz&quot; readability=&quot;10&quot;&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;These are all in the namespace &lt;code class=&quot;css-1713fap&quot;&gt;llvm&lt;/code&gt;. In the Bolt repo, I chose to make this namespacing explicit by referring to them as &lt;code class=&quot;css-1713fap&quot;&gt;llvm::Value&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;llvm::Module&lt;/code&gt; etc.)&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Most of the LLVM API is quite mechanical. Now you’ve seen the diagrams that define modules, functions and basic blocks, the relationship between their corresponding classes in the API falls out nicely. You can query a &lt;code class=&quot;css-1713fap&quot;&gt;Module&lt;/code&gt; object to get a list of its &lt;code class=&quot;css-1713fap&quot;&gt;Function&lt;/code&gt; objects, and query a &lt;code class=&quot;css-1713fap&quot;&gt;Function&lt;/code&gt; to get the list of its &lt;code class=&quot;css-1713fap&quot;&gt;BasicBlock&lt;/code&gt;s, and the other way round: you can query a &lt;code class=&quot;css-1713fap&quot;&gt;BasicBlock&lt;/code&gt; to get its parent &lt;code class=&quot;css-1713fap&quot;&gt;Function&lt;/code&gt; object.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;Value&lt;/code&gt; is the base class for any value computed by the program. This could be a function (&lt;code class=&quot;css-1713fap&quot;&gt;Function&lt;/code&gt; subclasses &lt;code class=&quot;css-1713fap&quot;&gt;Value&lt;/code&gt;), a basic block (&lt;code class=&quot;css-1713fap&quot;&gt;BasicBlock&lt;/code&gt; also subclasses &lt;code class=&quot;css-1713fap&quot;&gt;Value&lt;/code&gt;), an instruction, or the result of an intermediate computation.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Each of the expression &lt;code class=&quot;css-1713fap&quot;&gt;codegen&lt;/code&gt; methods returns a &lt;code class=&quot;css-1713fap&quot;&gt;Value *&lt;/code&gt;: the result of executing that expression. You can think of these &lt;code class=&quot;css-1713fap&quot;&gt;codegen&lt;/code&gt; methods as generating the IR for that expression and the &lt;code class=&quot;css-1713fap&quot;&gt;Value *&lt;/code&gt; representing the virtual register containing the expression’s result.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;10.431524547804&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.h#L64-L84&quot; class=&quot;css-1kj0dvy&quot;&gt;ir_codegen_visitor.h&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;17&quot;&gt;&lt;button name=&quot;ir_codegen_visitor.h: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprIntegerIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprBooleanIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprIdentifierIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprConstructorIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprLetIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprAssignIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;How do we generate the IR for these expressions? We create a &lt;strong class=&quot;css-11c5hp4&quot;&gt;unique&lt;/strong&gt; &lt;code class=&quot;css-1713fap&quot;&gt;Context&lt;/code&gt; object to tie our whole code generation together. We use this &lt;code class=&quot;css-1713fap&quot;&gt;Context&lt;/code&gt; to get access to core LLVM data structures e.g LLVM modules and &lt;code class=&quot;css-1713fap&quot;&gt;IRBuilder&lt;/code&gt; objects.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We’ll use the context to create just one module, which we’ll imaginatively name &lt;code class=&quot;css-1713fap&quot;&gt;&quot;Module&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.5138121546961&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L17-L19&quot; class=&quot;css-1kj0dvy&quot;&gt;ir_codegen_visitor.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;12&quot;&gt;&lt;button name=&quot;ir_codegen_visitor.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;make_unique&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;LLVMContext&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;unique_ptr&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRBuilder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRBuilder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;make_unique&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;Module&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;irbuilder&quot; class=&quot;css-1xd0dhc&quot;&gt;IRBuilder&lt;/h3&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We use the &lt;code class=&quot;css-1713fap&quot;&gt;IRBuilder&lt;/code&gt; object to incrementally build up our IR. It is intuitively the equivalent of a file pointer when reading/writing a file - it carries around &lt;em class=&quot;css-xk3d23&quot;&gt;implicit&lt;/em&gt; state, e.g. the last instruction added, the basic block of that instruction etc. Like moving around a file pointer, you can set the &lt;code class=&quot;css-1713fap&quot;&gt;builder&lt;/code&gt; object to insert instructions at the end of a particular Basic Block with the &lt;code class=&quot;css-1713fap&quot;&gt;SetInsertPoint(BasicBlock *TheBB)&lt;/code&gt; method. Likewise you can get the current basic block with &lt;code class=&quot;css-1713fap&quot;&gt;GetInsertBlock()&lt;/code&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The builder object has &lt;code class=&quot;css-1713fap&quot;&gt;Create___()&lt;/code&gt; methods for each of the IR instructions. e.g. &lt;code class=&quot;css-1713fap&quot;&gt;CreateLoad&lt;/code&gt; for a &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; instruction , &lt;code class=&quot;css-1713fap&quot;&gt;CreateSub&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;CreateFSub&lt;/code&gt; for integer and floating point &lt;code class=&quot;css-1713fap&quot;&gt;sub&lt;/code&gt; instructions respectively etc. Some &lt;code class=&quot;css-1713fap&quot;&gt;Create__()&lt;/code&gt; instructions take an optional &lt;code class=&quot;css-1713fap&quot;&gt;Twine&lt;/code&gt; argument: this is used to give the result’s register a custom name. e.g. &lt;code class=&quot;css-1713fap&quot;&gt;iftmp&lt;/code&gt; is the twine for the following instruction:&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;code class=&quot;css-1713fap&quot;&gt;%iftmp = phi i32 [ 1, %then ], [ %mult, %else]&lt;/code&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Use &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1IRBuilderBase.html&quot; class=&quot;css-1kj0dvy&quot;&gt;the IRBuilder docs&lt;/a&gt; to find the method corresponding to your instruction.&lt;/p&gt;
&lt;h3 id=&quot;types-and-constants&quot; class=&quot;css-1xd0dhc&quot;&gt;Types and Constants&lt;/h3&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We don’t directly construct these, instead we &lt;code class=&quot;css-1713fap&quot;&gt;get__()&lt;/code&gt; them from their corresponding classes. (LLVM keeps track of how a unique instance of each type / constant class is used).&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;For example, we &lt;code class=&quot;css-1713fap&quot;&gt;getSigned&lt;/code&gt; to get a constant signed integer of a particular type and value, and &lt;code class=&quot;css-1713fap&quot;&gt;getInt32Ty&lt;/code&gt; to get the &lt;code class=&quot;css-1713fap&quot;&gt;int32&lt;/code&gt; type.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6.7788461538462&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/expr_codegen.cc#L39-L42&quot; class=&quot;css-1kj0dvy&quot;&gt;expr_codegen.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;10&quot;&gt;&lt;button name=&quot;expr_codegen.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRCodegenVisitor&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExprIntegerIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ConstantInt&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getSigned&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getInt32Ty&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Function types are similar: we can use &lt;code class=&quot;css-1713fap&quot;&gt;FunctionType::get&lt;/code&gt;. Function types consist of the return type, an array of the types of the params and whether the function is &lt;a href=&quot;https://en.wikipedia.org/wiki/Variadic_function&quot; class=&quot;css-1kj0dvy&quot;&gt;variadic&lt;/a&gt;:&lt;/p&gt;

&lt;h3 id=&quot;type-declarations&quot; class=&quot;css-1xd0dhc&quot;&gt;Type declarations&lt;/h3&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We can declare our own custom struct types.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;e.g. a Tree with a &lt;code class=&quot;css-1713fap&quot;&gt;int&lt;/code&gt; value, and pointers to left and right subtrees:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;9&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Tree&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Tree&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Tree&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Defining a custom struct type is a two-stage process.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;First we create the type with that name. This adds it to the module’s &lt;strong class=&quot;css-11c5hp4&quot;&gt;symbol table&lt;/strong&gt;. This type is &lt;strong class=&quot;css-11c5hp4&quot;&gt;opaque&lt;/strong&gt;: we can now reference in other type declarations e.g. function types, or other struct types, but we can’t create structs of that type (as we don’t know what’s in it).&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;8&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;StructType&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;treeType&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;StructType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;StringRef&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;Tree&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;css-ga9waz&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;LLVM boxes up strings and arrays using &lt;code class=&quot;css-1713fap&quot;&gt;StringRef&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;ArrayRef&lt;/code&gt;. You can directly pass in a string where the docs require a StringRef, but I choose to make this &lt;code class=&quot;css-1713fap&quot;&gt;StringRef&lt;/code&gt; explicit above.&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The second step is to specify an array of types that go in the struct body. Note since we’ve defined the opaque &lt;code class=&quot;css-1713fap&quot;&gt;Tree&lt;/code&gt; type, we can get a &lt;code class=&quot;css-1713fap&quot;&gt;Tree *&lt;/code&gt; type using the &lt;code class=&quot;css-1713fap&quot;&gt;Tree&lt;/code&gt; type’s &lt;code class=&quot;css-1713fap&quot;&gt;getPointerTo()&lt;/code&gt; method.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;10&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;treeType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;setBody&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ArrayRef&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getInt32Ty&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;treeType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getPointerTo&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;treeType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getPointerTo&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;So if you have custom struct types referring to other custom struct types in their bodies, the best approach is to declare all of the opaque custom struct types, &lt;em class=&quot;css-xk3d23&quot;&gt;then&lt;/em&gt; fill in each of the structs’ bodies.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;15.001006036217&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/class_codegen.cc#L10-L39&quot; class=&quot;css-1kj0dvy&quot;&gt;class_codegen.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;26&quot;&gt;&lt;button name=&quot;class_codegen.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRCodegenVisitor&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegenClasses&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;unique_ptr&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ClassIR&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;classes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;currClass&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;classes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;StructType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;StringRef&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;currClass&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;currClass&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;classes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;bodyTypes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;currClass&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;bodyTypes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;push_back&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;StructType&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;classType&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getTypeByName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;StringRef&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;currClass&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;classType&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;setBody&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ArrayRef&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;bodyTypes&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;### Functions&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Functions operate in a similar two step process:&lt;/p&gt;
&lt;ol class=&quot;css-0&quot;&gt;&lt;li class=&quot;css-1ek8oqb&quot;&gt;Define the function prototypes&lt;/li&gt;
&lt;li class=&quot;css-1ek8oqb&quot;&gt;Fill in their function bodies (skip this if you’re linking in an external function!)&lt;/li&gt;
&lt;/ol&gt;&lt;p class=&quot;css-1o8zmtq&quot;&gt;The function prototype consists of the function name, the function type, the “linkage” information and the module whose symbol table we want to add the function to. We choose External linkage - this means the function prototype is viewable externally. This means that we can link in an external function definition (e.g. if using a library function), or expose our function definition in another module. You can see the full &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c&quot; class=&quot;css-1kj0dvy&quot;&gt;enum of linkage options here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.1652892561983&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/function_codegen.cc#L27-L28&quot; class=&quot;css-1kj0dvy&quot;&gt;function_codegen.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;12&quot;&gt;&lt;button name=&quot;function_codegen.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;Create&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExternalLinkage&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;To generate the function definition we just need to use the API to construct the control flow graph we discussed in our &lt;code class=&quot;css-1713fap&quot;&gt;factorial&lt;/code&gt; example:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;10.266666666667&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/function_codegen.cc#L32-L37&quot; class=&quot;css-1kj0dvy&quot;&gt;function_codegen.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;17&quot;&gt;&lt;button name=&quot;function_codegen.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRCodegenVisitor&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;codegenFunctionDefn&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;FunctionIR&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmFun&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getFunction&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;BasicBlock&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entryBasicBlock&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;BasicBlock&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;Create&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;entry&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmFun&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;SetInsertPoint&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entryBasicBlock&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The official Kaleidoscope tutorial has an excellent explanation of &lt;a href=&quot;https://llvm.org/docs/tutorial/MyFirstLanguageFrontend/LangImpl05.html#code-generation-for-if-then-else&quot; class=&quot;css-1kj0dvy&quot;&gt;how to construct a control flow graph for an if-else statement&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;more-llvm-ir-concepts&quot; class=&quot;css-1km4yk3&quot;&gt;More LLVM IR Concepts&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Now we’ve covered the basics of LLVM IR and the API, we’re going to look at some more LLVM IR concepts and introduce the corresponding API function calls alongside them.&lt;/p&gt;
&lt;h2 id=&quot;stack-allocation&quot; class=&quot;css-1km4yk3&quot;&gt;Stack allocation&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;There are two ways we can store values in local variables in LLVM IR. We’ve seen the first: &lt;strong class=&quot;css-11c5hp4&quot;&gt;assignment to virtual registers&lt;/strong&gt;. The second is &lt;strong class=&quot;css-11c5hp4&quot;&gt;dynamic memory allocation&lt;/strong&gt; to the stack using the &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; instruction. Whilst we can store ints, floats and pointers to either the stack or virtual registers, &lt;strong class=&quot;css-11c5hp4&quot;&gt;aggregate&lt;/strong&gt; datatypes, like structs and arrays, don’t fit in registers so have to be stored on the stack.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Yes, you read that right. Unlike most programming language memory models, where we use the heap for dynamic memory allocation, in LLVM we just have a stack.&lt;/p&gt;
&lt;div class=&quot;css-ga9waz&quot; readability=&quot;10&quot;&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Heaps are not provided by LLVM - they are a &lt;em class=&quot;css-xk3d23&quot;&gt;library&lt;/em&gt; feature. For single-threaded applications, stack allocation is sufficient. We’ll talk about the need for a global heap in multi-threaded programs in the next post (where we extend Bolt to support concurrency).&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We’ve seen struct types e.g. &lt;code class=&quot;css-1713fap&quot;&gt;{i32, i1, i32}&lt;/code&gt;. Array types are of the form &lt;code class=&quot;css-1713fap&quot;&gt;[num_elems x elem_type]&lt;/code&gt;. Note &lt;code class=&quot;css-1713fap&quot;&gt;num_elems&lt;/code&gt; is a constant - you need to provide this when generating the IR, not at runtime. So &lt;code class=&quot;css-1713fap&quot;&gt;[3 x int32]&lt;/code&gt; is valid but &lt;code class=&quot;css-1713fap&quot;&gt;[n x int32]&lt;/code&gt; is not.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We give &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; a type and it allocates a block of memory on the stack and returns a &lt;em class=&quot;css-xk3d23&quot;&gt;pointer&lt;/em&gt; to it, which we can store in a register. We can use this pointer to load and store values from/onto the stack.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;For example, storing a 32-bit int on the stack:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;alloca i32&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;store i32&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;p&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;load i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;p&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The corresponding builder instructions are… you guessed it &lt;code class=&quot;css-1713fap&quot;&gt;CreateAlloca&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;CreateLoad&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;CreateStore&lt;/code&gt;. &lt;code class=&quot;css-1713fap&quot;&gt;CreateAlloca&lt;/code&gt; returns a special subclass of &lt;code class=&quot;css-1713fap&quot;&gt;Value *&lt;/code&gt;: an &lt;code class=&quot;css-1713fap&quot;&gt;AllocaInst *&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;9&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;13&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;AllocaInst&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateAlloca&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getInt32Ty&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getAllocatedType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateLoad&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateStore&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;someVal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;global-variables&quot; class=&quot;css-1km4yk3&quot;&gt;Global variables&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Just as we &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; local variables on a stack, we can create global variables and &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; from them and &lt;code class=&quot;css-1713fap&quot;&gt;store&lt;/code&gt; to them.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Global variables are declared at the start of a module, and are part of the module symbol table.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/c681b04ecad4a94c9d9144a337051ac9/74dae/global-variables.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;Global variables&quot; title=&quot;Global variables&quot; src=&quot;https://mukulrathi.co.uk/static/c681b04ecad4a94c9d9144a337051ac9/a6d36/global-variables.png&quot; srcset=&quot;/static/c681b04ecad4a94c9d9144a337051ac9/222b7/global-variables.png 163w,/static/c681b04ecad4a94c9d9144a337051ac9/ff46a/global-variables.png 325w,/static/c681b04ecad4a94c9d9144a337051ac9/a6d36/global-variables.png 650w,/static/c681b04ecad4a94c9d9144a337051ac9/e548f/global-variables.png 975w,/static/c681b04ecad4a94c9d9144a337051ac9/3c492/global-variables.png 1300w,/static/c681b04ecad4a94c9d9144a337051ac9/74dae/global-variables.png 2494w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We can use the &lt;code class=&quot;css-1713fap&quot;&gt;module&lt;/code&gt; object to create named global variables, and to query them.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;10&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getOrInsertGlobal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVarName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVarType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;GlobalVariable&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVar&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getNamedGlobal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVarName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Global variables &lt;strong class=&quot;css-11c5hp4&quot;&gt;must&lt;/strong&gt; be initialised with a constant value (not a variable):&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;7&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVar&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;setInitializer&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;initValue&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Alternatively we can do this in one command using the &lt;code class=&quot;css-1713fap&quot;&gt;GlobalVariable&lt;/code&gt; constructor:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;9.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;14&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;GlobalVariable&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVar&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword css-1baulvz&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;GlobalVariable&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVarType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token boolean css-1baulvz&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;GlobalValue&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ExternalLinkage&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;initValue&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVarName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;As before we can &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;store&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;10&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateLoad&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVar&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateStore&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;someVal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;globalVar&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;geps&quot; class=&quot;css-1km4yk3&quot;&gt;GEPs&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We get a &lt;strong class=&quot;css-11c5hp4&quot;&gt;base pointer&lt;/strong&gt; to the aggregate type (array / struct) on the stack or in global memory, but what if we want a pointer to a &lt;strong class=&quot;css-11c5hp4&quot;&gt;specific element&lt;/strong&gt;? We’d need to find the &lt;strong class=&quot;css-11c5hp4&quot;&gt;pointer offset&lt;/strong&gt; of that element within the aggregate, and then add this to the base pointer to get the address of that element. Calculating the pointer offset is machine-specific e.g. depends on the size of the datatypes, the struct padding etc.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The Get Element Pointer (GEP) instruction is an instruction to apply the pointer offset to the base pointer and return the resultant &lt;strong class=&quot;css-11c5hp4&quot;&gt;pointer&lt;/strong&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Consider two arrays starting at &lt;code class=&quot;css-1713fap&quot;&gt;p&lt;/code&gt;. Following C convention, we can represent a pointer to that array as &lt;code class=&quot;css-1713fap&quot;&gt;char*&lt;/code&gt; or &lt;code class=&quot;css-1713fap&quot;&gt;int*&lt;/code&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/72077af5568512fb3538183382b672b0/a9577/pointer-offset.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;Pointer Offset&quot; title=&quot;Pointer Offset&quot; src=&quot;https://mukulrathi.co.uk/static/72077af5568512fb3538183382b672b0/a6d36/pointer-offset.png&quot; srcset=&quot;/static/72077af5568512fb3538183382b672b0/222b7/pointer-offset.png 163w,/static/72077af5568512fb3538183382b672b0/ff46a/pointer-offset.png 325w,/static/72077af5568512fb3538183382b672b0/a6d36/pointer-offset.png 650w,/static/72077af5568512fb3538183382b672b0/e548f/pointer-offset.png 975w,/static/72077af5568512fb3538183382b672b0/3c492/pointer-offset.png 1300w,/static/72077af5568512fb3538183382b672b0/a9577/pointer-offset.png 1784w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Below we show the GEP instruction to calculate the pointer &lt;code class=&quot;css-1713fap&quot;&gt;p+1&lt;/code&gt; in each of the arrays:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;9&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;13&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;idx1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;getelementptr i8&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i8&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;idx2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;getelementptr i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;This GEP instruction is a bit of a mouthful so here’s a breakdown:&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot;&gt;&lt;a class=&quot;gatsby-resp-image-link css-1kj0dvy&quot; href=&quot;https://mukulrathi.co.uk/static/c54f577c6586b64d172044af4f8aacd1/79166/gep-int.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt; &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;GEP int&quot; title=&quot;GEP int&quot; src=&quot;https://mukulrathi.co.uk/static/c54f577c6586b64d172044af4f8aacd1/a6d36/gep-int.png&quot; srcset=&quot;/static/c54f577c6586b64d172044af4f8aacd1/222b7/gep-int.png 163w,/static/c54f577c6586b64d172044af4f8aacd1/ff46a/gep-int.png 325w,/static/c54f577c6586b64d172044af4f8aacd1/a6d36/gep-int.png 650w,/static/c54f577c6586b64d172044af4f8aacd1/e548f/gep-int.png 975w,/static/c54f577c6586b64d172044af4f8aacd1/3c492/gep-int.png 1300w,/static/c54f577c6586b64d172044af4f8aacd1/79166/gep-int.png 2012w&quot; sizes=&quot;(max-width: 650px) 100vw, 650px&quot; loading=&quot;lazy&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;This &lt;code class=&quot;css-1713fap&quot;&gt;i64 1&lt;/code&gt; index adds &lt;strong class=&quot;css-11c5hp4&quot;&gt;multiples&lt;/strong&gt; of the base type to the base pointer. &lt;code class=&quot;css-1713fap&quot;&gt;p+1&lt;/code&gt; for &lt;code class=&quot;css-1713fap&quot;&gt;i8&lt;/code&gt; would add 1 byte, whereas as &lt;code class=&quot;css-1713fap&quot;&gt;p+1&lt;/code&gt; for &lt;code class=&quot;css-1713fap&quot;&gt;i32&lt;/code&gt; would add 4 bytes to &lt;code class=&quot;css-1713fap&quot;&gt;p&lt;/code&gt;. If the index was &lt;code class=&quot;css-1713fap&quot;&gt;i64 0&lt;/code&gt; we’d return &lt;code class=&quot;css-1713fap&quot;&gt;p&lt;/code&gt; itself.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The LLVM API instruction for creating a GEP is… &lt;code class=&quot;css-1713fap&quot;&gt;CreateGEP&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;9&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateGEP&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;baseType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;basePtr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;arrayofIndices&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Wait? &lt;em class=&quot;css-xk3d23&quot;&gt;Array&lt;/em&gt; of indices? Yes, the GEP instruction can have multiple indices passed to it. We’ve looked at a simple example where we only needed one index.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Before we look at the case where we pass multiple indices, I want to reiterate the purpose of this first index:&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;em class=&quot;css-xk3d23&quot;&gt;&lt;strong class=&quot;css-11c5hp4&quot;&gt;A pointer of type &lt;code class=&quot;css-1713fap&quot;&gt;Foo *&lt;/code&gt; can represent in C the base pointer of an array of type &lt;code class=&quot;css-1713fap&quot;&gt;Foo&lt;/code&gt;. The first index adds multiples of this base type Foo to traverse this array.&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;geps-with-structs&quot; class=&quot;css-1xd0dhc&quot;&gt;GEPS with Structs&lt;/h3&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Okay, now let’s look at structs. So take a struct of type &lt;code class=&quot;css-1713fap&quot;&gt;Foo&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;9&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We want to index &lt;strong class=&quot;css-11c5hp4&quot;&gt;specific&lt;/strong&gt; fields in the struct. The natural way would be to label them field &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt;, &lt;code class=&quot;css-1713fap&quot;&gt;1&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;2&lt;/code&gt;. We can access field &lt;code class=&quot;css-1713fap&quot;&gt;2&lt;/code&gt; by passing this into the GEP instruction as &lt;strong class=&quot;css-11c5hp4&quot;&gt;another index&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;10&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ThirdFieldPtr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;getelementptr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The returned pointer is then calculated as: &lt;code class=&quot;css-1713fap&quot;&gt;ptr + 0 * (size of Foo) + offset 2 * (fields of Foo)&lt;/code&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;For structs, you’ll likely always pass the first index as &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt;. The biggest confusion with GEPs is that this &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt; can seem redundant, as we want the field &lt;code class=&quot;css-1713fap&quot;&gt;2&lt;/code&gt;, so why are we passing a &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt; index first? Hopefully you can see from the first example why we need that &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt;. Think of it as passing to GEP the base pointer of an implicit &lt;code class=&quot;css-1713fap&quot;&gt;Foo&lt;/code&gt; array of size 1.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;To avoid the confusion, LLVM has a special &lt;code class=&quot;css-1713fap&quot;&gt;CreateStructGEP&lt;/code&gt; instruction that asks only for field index (this is the &lt;code class=&quot;css-1713fap&quot;&gt;CreateGEP&lt;/code&gt; instruction with a &lt;code class=&quot;css-1713fap&quot;&gt;0&lt;/code&gt; added for you):&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;9&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Value&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;thirdFieldPtr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateStructGEP&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;baseStructType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;basePtr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;fieldIndex&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The more nested our aggregate structure, the more indices we can provide. E.g. for element index &lt;code class=&quot;css-1713fap&quot;&gt;2&lt;/code&gt; of Foo’s second field (the 4 element int array):&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;11&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;getelementptr&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The pointer returned is: &lt;code class=&quot;css-1713fap&quot;&gt;ptr + 0 * (size of Foo) + offset 1 * (field of Foo) + offset 2 * (elems of array)&lt;/code&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;(In terms of the corresponding API, we’d use &lt;code class=&quot;css-1713fap&quot;&gt;CreateGEP&lt;/code&gt; and pass the array &lt;code class=&quot;css-1713fap&quot;&gt;{0,1,2}&lt;/code&gt;.)&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;&lt;a href=&quot;https://youtu.be/m8G_S5LwlTo?t=1753&quot; class=&quot;css-1kj0dvy&quot;&gt;A Good talk that explains GEP well.&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;mem2reg&quot; class=&quot;css-1km4yk3&quot;&gt;mem2reg&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;If you remember, LLVM IR must be written in SSA form. But what happens if the Bolt source program we’re trying to map to LLVM IR is not in SSA form?&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;For example, if we’re reassigning &lt;code class=&quot;css-1713fap&quot;&gt;x&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;reassign_var.bolt&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;reassign_var.bolt: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-js prism-code language-javascript css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;One option would be for us to rewrite the program in SSA form in an earlier compiler stage. Every time we reassign a variable, we’d have to create a fresh variable. We’d also have to introduce &lt;code class=&quot;css-1713fap&quot;&gt;phi&lt;/code&gt; nodes for conditional statements. For our example, this is straightforward, but in general this extra rewrite is a pain we would rather not deal with.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;assign_fresh_vars.bolt&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;assign_fresh_vars.bolt: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-js prism-code language-javascript css-1t7qvgx&quot;&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We can use &lt;strong class=&quot;css-11c5hp4&quot;&gt;pointers&lt;/strong&gt; to avoid assigning fresh variables. Note here we &lt;strong class=&quot;css-11c5hp4&quot;&gt;aren’t reassigning&lt;/strong&gt; the pointer &lt;code class=&quot;css-1713fap&quot;&gt;x&lt;/code&gt;, just updating &lt;strong class=&quot;css-11c5hp4&quot;&gt;the value it pointed to&lt;/strong&gt;. So this is valid SSA.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-js prism-code language-javascript css-1t7qvgx&quot;&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;This switch to pointers is a much easier transformation than variable renaming. It also has a really nice LLVM IR equivalent: allocating &lt;em class=&quot;css-xk3d23&quot;&gt;stack memory&lt;/em&gt; (and manipulating the pointers to the stack) instead of reading from &lt;em class=&quot;css-xk3d23&quot;&gt;registers&lt;/em&gt;.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;So whenever we declare a local variable, we use &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; to get a pointer to freshly allocated stack space. We use the &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;store&lt;/code&gt; instructions to read and update the value pointed to by the pointer:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;reassign_var.ll&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;reassign_var.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;alloca i32&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;store i32&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;load i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;add i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;store i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Let’s revisit the LLVM IR if we were to rewrite the Bolt program to use fresh variables. It’s only &lt;em class=&quot;css-xk3d23&quot;&gt;2&lt;/em&gt; instructions, compared to the &lt;em class=&quot;css-xk3d23&quot;&gt;5&lt;/em&gt; instructions needed if using the stack. Moreover, we avoid the expensive &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;store&lt;/code&gt; memory access instructions.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;assign_fresh_vars.ll&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot;&gt;&lt;button name=&quot;assign_fresh_vars.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-js prism-code language-javascript css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;add i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;So while we’ve made our lives easier as compiler writers by avoiding a rewrite-to-SSA pass, this has come at the expense of performance.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Happily, LLVM lets us have our cake and eat it.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;LLVM provides a &lt;code class=&quot;css-1713fap&quot;&gt;mem2reg&lt;/code&gt; optimisation that optimises stack memory accesses into register accesses. We just need to ensure we declare all our &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt;s for local variables in the &lt;strong class=&quot;css-11c5hp4&quot;&gt;entry basic block&lt;/strong&gt; for the function.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;How do we do this if the local variable declaration occurs midway through the function, in another block? Let’s look at an example:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;8&quot;&gt;&lt;button name=&quot;copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;let x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword css-1baulvz&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;someVal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;alloca i32&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;store i32 someVal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;x&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We can actually move the &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt;. It doesn’t matter where we allocate the stack space so long as it is allocated before use. So let’s write the &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; at the very start of the parent function this local variable declaration occurs.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;How do we do this in the API? Well, remember the analogy of the builder being like a file pointer? We can have multiple file pointers pointing to different places in the file. Likewise, we instantiate a new &lt;code class=&quot;css-1713fap&quot;&gt;IRBuilder&lt;/code&gt; to point to the start of the &lt;code class=&quot;css-1713fap&quot;&gt;entry&lt;/code&gt; basic block of the parent function, and insert the &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; instructions using that builder.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;10.429065743945&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/expr_codegen.cc#L127-L131&quot; class=&quot;css-1kj0dvy&quot;&gt;expr_codegen.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;17&quot;&gt;&lt;button name=&quot;expr_codegen.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;parentFunction&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;GetInsertBlock&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getParent&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;IRBuilder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function css-1baulvz&quot;&gt;TmpBuilder&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;parentFunction&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getEntryBlock&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;parentFunction&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getEntryBlock&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;AllocaInst&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;TmpBuilder&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateAlloca&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;boundVal&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getType&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;CreateStore&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;someVal&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;css-1ro3yl1&quot; readability=&quot;8&quot;&gt;
&lt;h3 class=&quot;css-1a1c6ui&quot;&gt;Join me on this learning journey!&lt;/h3&gt;
&lt;p class=&quot;css-ijtuvn&quot;&gt;I’m using my blog to teach the topics I’ve learnt this year. It’s a win-win - you get computer science tutorials and I get to share it with you!&lt;/p&gt;

&lt;/div&gt;
&lt;h2 id=&quot;llvm-optimisations&quot; class=&quot;css-1km4yk3&quot;&gt;LLVM Optimisations&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;The API makes it really easy to add passes. We create a &lt;code class=&quot;css-1713fap&quot;&gt;functionPassManager&lt;/code&gt;, add the optimisation passes we’d like, and then initialise the manager.&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;12.411637931034&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L68-L83&quot; class=&quot;css-1kj0dvy&quot;&gt;ir_codegen_visitor.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;21&quot;&gt;&lt;button name=&quot;ir_codegen_visitor.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;unique_ptr&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;legacy&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;FunctionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;make_unique&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;legacy&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;FunctionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;createPromoteMemoryToRegisterPass&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;createInstructionCombiningPass&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;createReassociatePass&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;createGVNPass&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;createCFGSimplificationPass&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;doInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;We run this on each of the program’s functions:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;9.247311827957&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L68-L83&quot; class=&quot;css-1kj0dvy&quot;&gt;ir_codegen_visitor.cc&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;15&quot;&gt;&lt;button name=&quot;ir_codegen_visitor.cc: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;functions&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmFun&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getFunction&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;StringRef&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionName&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmFun&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;Function&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmMainFun&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;getFunction&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;StringRef&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string css-1baulvz&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;functionPassManager&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;llvmMainFun&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;In particular, let’s look at the the &lt;code class=&quot;css-1713fap&quot;&gt;factorial&lt;/code&gt; LLVM IR output by our Bolt compiler before and after. You can find them in the repo:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;12.359342915811&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/examples/factorial-unoptimised.ll&quot; class=&quot;css-1kj0dvy&quot;&gt;factorial-unoptimised.ll&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;21&quot;&gt;&lt;button name=&quot;factorial-unoptimised.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;define i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;alloca i32&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;store i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;load i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;icmp eq i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br i1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;load i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;load i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;n&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;call i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;mul i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;4&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;phi i32&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ret i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;And the optimised version:&lt;/p&gt;
&lt;div class=&quot;css-1v8nkjm&quot; readability=&quot;12.166180758017&quot;&gt;&lt;span class=&quot;css-gbe1zv&quot;&gt;&lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/examples/factorial-optimised.ll&quot; class=&quot;css-1kj0dvy&quot;&gt;factorial-optimised.ll&lt;/a&gt;&lt;/span&gt;
&lt;div class=&quot;css-knhgf1&quot; readability=&quot;21&quot;&gt;&lt;button name=&quot;factorial-optimised.ll: copy code to clipboard&quot; class=&quot;css-i3kigi&quot;&gt;Copy&lt;/button&gt;
&lt;pre class=&quot;language-cpp prism-code language-cpp css-1t7qvgx&quot;&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;define i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;{&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;icmp eq i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br i1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;add i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;call i32 @&lt;/span&gt;&lt;span class=&quot;token function css-1baulvz&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;mul i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number css-1baulvz&quot;&gt;0&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;br label&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ifcont&lt;/span&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;preds&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token plain css-1baulvz&quot;&gt;phi i32&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;mult&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token keyword css-1baulvz&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token number css-1baulvz&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;ret i32&lt;/span&gt; &lt;span class=&quot;token operator css-1baulvz&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token plain css-1baulvz&quot;&gt;iftmp&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;token punctuation css-1baulvz&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;Notice how we’ve actually got rid of the &lt;code class=&quot;css-1713fap&quot;&gt;alloca&lt;/code&gt; and the associated &lt;code class=&quot;css-1713fap&quot;&gt;load&lt;/code&gt; and &lt;code class=&quot;css-1713fap&quot;&gt;store&lt;/code&gt; instructions, and also removed the &lt;code class=&quot;css-1713fap&quot;&gt;then&lt;/code&gt; basic block!&lt;/p&gt;
&lt;h2 id=&quot;wrap-up&quot; class=&quot;css-1km4yk3&quot;&gt;Wrap up&lt;/h2&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;This last example shows you the power of LLVM and its optimisations. You can find the top-level code that runs the LLVM code generation and optimisation in the &lt;a href=&quot;https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/main.cc&quot; class=&quot;css-1kj0dvy&quot;&gt;main.cc&lt;/a&gt; file in the Bolt repository.&lt;/p&gt;
&lt;p class=&quot;css-1o8zmtq&quot;&gt;In the next few posts we’ll be looked at some more advanced language features: generics, inheritance and method overriding and concurrency! Stay tuned for when they come out!&lt;/p&gt;
</description>
<pubDate>Fri, 25 Dec 2020 23:03:50 +0000</pubDate>
<dc:creator>mseri</dc:creator>
<og:title>A Complete Guide to LLVM for Programming Language Creators</og:title>
<og:url>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</og:url>
<og:description>We'll explain the concepts underlying LLVM IR, and how you can use the LLVM C++ API in your programming language's compiler.</og:description>
<og:type>article</og:type>
<og:image>https://mukulrathi.co.uk/static/81938ad9f32c6a92607d4c801b7b0516/1711c/llvm.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</dc:identifier>
</item>
<item>
<title>ATT services down due to bombing in Nashville</title>
<link>https://www.tennessean.com/story/news/local/2020/12/25/att-outage-internet-down-hours-after-nashville-explosion/4045278001/</link>
<guid isPermaLink="true" >https://www.tennessean.com/story/news/local/2020/12/25/att-outage-internet-down-hours-after-nashville-explosion/4045278001/</guid>
<description>&lt;div id=&quot;module-position-TRrJzEeAP9M&quot; class=&quot;story-asset video-asset&quot;&gt;
&lt;div class=&quot;ui-video-wrapper&quot; itemprop=&quot;video&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/VideoObject&quot;&gt;&lt;div class=&quot;story-video js-video-avp automatedvideoplayerhidden automatedvideoplayer ui-teal-video js-teal-player js-ui-video-init&quot;&gt;

&lt;div class=&quot;js-ptb pluto-title-bar&quot;&gt;

&lt;div class=&quot;js-ptb-close pluto-title-bar-vcenter pluto-title-bar-close&quot;&gt;
&lt;div&gt;CLOSE&lt;img class=&quot;pluto-title-bar-close-icon&quot; src=&quot;https://www.gannett-cdn.com/uxstatic/tennessean/uscp-web-static-4526.16.0/images/sprites/icon_close.png&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;module-position-TRrJzEfayr4&quot; class=&quot;story-asset gallery-asset&quot;&gt;


&lt;div class=&quot;companion-story-gallery js-llc&quot; data-name=&quot;compStoryGallery&quot;&gt;

&lt;div class=&quot;companion-galleries embedded_story hasendslate galleries&quot; data-gallery-id=&quot;4044676001&quot; data-title=&quot;Photos: Explosion rocks downtown Nashville Christmas morning&quot; data-seo-title=&quot;Photos: Explosion rocks downtown Nashville Christmas morning&quot; data-ssts=&quot;news/local&quot; data-cst=&quot;news/local/communities&quot; data-published-date=&quot;2020-12-25T13:51:45Z&quot; data-gal-pageurl=&quot;https://www.tennessean.com/picture-gallery/news/local/2020/12/25/photos-explosion-rocks-downtown-nashville-christmas-morning/4044676001/&quot;&gt;


&lt;div class=&quot;feature-btns&quot;&gt;

&lt;p&gt;&lt;span class=&quot;playbtn feature-btns-label&quot;&gt;Autoplay&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;thumbLabel feature-btns-label&quot;&gt;Show Thumbnails&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;captionLabel feature-btns-label&quot;&gt;Show Captions&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;a class=&quot;slide-nav prev gallery-prev&quot; rel=&quot;prev&quot;&gt;Last Slide&lt;/a&gt;&lt;a class=&quot;slide-nav next gallery-next&quot; rel=&quot;next&quot;&gt;Next Slide&lt;/a&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;


&lt;p class=&quot;speakable-p-1 p-text&quot;&gt;Widespread 911 issues in the Nashville area were reported after AT&amp;amp;T wireless and internet service were disrupted on Friday hours following a massive &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.tennessean.com/story/news/local/2020/12/25/downtown-nashville-explosion-christmas/4044635001/&quot; target=&quot;_blank&quot;&gt;explosion downtown&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;speakable-p-2 p-text&quot;&gt;AT&amp;amp;T internet and phone service were disrupted in the area about 12 p.m. Friday. The outages continued into the evening. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;Users around the country reported disruptions in service, but there was a concentration in the Nashville area and Middle Tennessee, growing in reach from Kentucky to Alabama as more reports came in.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;&lt;span class=&quot;exclude-from-newsgate&quot;&gt;&lt;strong&gt;LATEST NEWS:&lt;/strong&gt; &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.tennessean.com/story/news/crime/2020/12/26/att-outage-internet-911-phones-nasvhille-updates-saturday/4046849001/&quot; target=&quot;_blank&quot;&gt;Click here for updates on AT&amp;amp;T internet, phones, 911 after Nashville bombing&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 class=&quot;presto-h2&quot;&gt;911 access, flights grounded&lt;/h2&gt;
&lt;p class=&quot;p-text&quot;&gt;A handful of local police departments reported the outage was disrupting 911 access, including some non-emergency lines, in their jurisdictions. Most took to social media to share landlines and alternate access numbers where residents could seek emergency assistance.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;Rutherford County locations, including the Sheriff's Office and Smyrna Police reported 911 coming back online around 7:10 p.m. Officials said there remained issues with getting the names and location of callers through the 911 system.&lt;/p&gt;

&lt;p class=&quot;p-text&quot;&gt;&quot;911 has been re-established, but your name and location may not be seen by dispatchers,&quot; Smyrna Police posted on Twitter. &quot;Please give your name and location to dispatchers immediately.&quot;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;LaVergne&lt;/strong&gt; - 615-471-1103&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Smyrna&lt;/strong&gt; - 615-930-2067&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Murfreesboro&lt;/strong&gt; - 629-201-5056&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Rutherford County Sheriff&lt;/strong&gt; - 615-546-5793&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Middle TN State University&lt;/strong&gt; - 615-898-2424&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Williamson County&lt;/strong&gt; - 615-790-5555&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Brentwood - &lt;/strong&gt;615-371-0160&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Overton County&lt;/strong&gt; - 931-871-0292&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Pickett County&lt;/strong&gt; - 931-871-0292&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cannon County&lt;/strong&gt; - 615-563-4322&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mt. Juliet&lt;/strong&gt; - 615-406-5849&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gallatin&lt;/strong&gt; - 615-561-2080&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Wilson County&lt;/strong&gt; - 615-449-7610, 615-449-7243, 615-443-4255&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Lebanon Police Department&lt;/strong&gt;- 615-444-2323&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Sumner County&lt;/strong&gt; - 615-712-4335&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Putnam County&lt;/strong&gt; - 931-261-6219&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Springfield&lt;/strong&gt; - 615-384-8422, ext. 3&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Goodlettsville&lt;/strong&gt; - 615-851-2216&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Coffee County&lt;/strong&gt; - 931-728-2991 or 931-455-3411&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clay County&lt;/strong&gt; - 931-243-3266&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cumberland County&lt;/strong&gt; - 931-484-2203&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DeKalb County&lt;/strong&gt; - 615-215-3000&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fentress County&lt;/strong&gt; - 931-752-0911&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hickman County &lt;/strong&gt;- Police/Sheriff: 931-729-6143, ext. 2018 or 2017. For ambulance: 931-994-8943, 931-729-4922 or 931-670-0454&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Jackson County&lt;/strong&gt; - 931-239-7524&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Smith County&lt;/strong&gt; - 615-735-2121&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Trousdale County&lt;/strong&gt; - 615-374-3994&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;White County&lt;/strong&gt; - 931-738-7111&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Trigg County, KY&lt;/strong&gt; - 270-522-4636&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Christian County, KY&lt;/strong&gt; - 270-852-2731&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Calloway County, KY&lt;/strong&gt; - 270-753-3151&lt;/li&gt;
&lt;/ul&gt;&lt;p class=&quot;p-text&quot;&gt;The Federal Aviation Administration halted flights leaving Nashville International Airport  temporarily around 2:30 p.m. Friday after &quot;telecommunications issues&quot; affected the airport. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;A statement said most flights were resuming just before 6 p.m. but the issues continued to impact flight service. Officials recommend travelers check with their airlines for flight status. &lt;/p&gt;
&lt;div id=&quot;module-position-TRrJzEeT_1U&quot; class=&quot;story-asset oembed-asset&quot;&gt;
&lt;div class=&quot;story-oembed-wrap&quot;&gt;
&lt;div class=&quot;js-oembed story-oembed story-oembed-twitter story-oembed-type-rich&quot; data-oembed-type=&quot;rich&quot; data-oembed-provider=&quot;twitter&quot; readability=&quot;29.191810344828&quot;&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; readability=&quot;5.5603448275862&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;UPDATE: Flight service at BNA continues to be impacted by telecommunications issues. Some flight corridors have been restored while others remain closed. Updates will be provided.&lt;/p&gt;
— Fly Nashville (@Fly_Nashville) &lt;a href=&quot;https://twitter.com/Fly_Nashville/status/1342585809405440006?ref_src=twsrc%5Etfw&quot; target=&quot;_blank&quot;&gt;December 25, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;p-text&quot;&gt;AT&amp;amp;T did not immediately respond to a request for further information on when the outage would be resolved. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;The company said in a public statement around 5 p.m. that they were bringing disaster recovery efforts into the Nashville area in response to the explosion, including regional resources and National Disaster Recovery teams.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;The statement indicates there was damage to the facility and access to power was an issue. &lt;/p&gt;

&lt;p class=&quot;p-text&quot;&gt;&quot;Power is essential to restoring wireless and wireline communications, and we are working with law enforcement to get access to our equipment and make needed repair,&quot; the statement said. &quot;There are serious logistical challenges to working in a disaster area and we will make measurable progress in the hours and days ahead.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;&quot;We're grateful for the work of law enforcement as they investigate this event while enabling us to restore service for our customers.&quot;&lt;/p&gt;
&lt;h2 class=&quot;presto-h2&quot;&gt;Outage linked to explosion&lt;/h2&gt;
&lt;p class=&quot;p-text&quot;&gt;The outages were reported several hours after &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.tennessean.com/story/news/local/2020/12/25/nashville-explosion-what-we-know-downtown-christmas-morning/4044934001/&quot; target=&quot;_blank&quot;&gt;an explosion in downtown Nashville&lt;/a&gt; that took place near an AT&amp;amp;T facility. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;An AT&amp;amp;T spokesman confirmed the outage was linked to the explosion:&lt;/p&gt;
&lt;div id=&quot;module-position-TRrJzEfK2Ow&quot; class=&quot;story-asset image-asset&quot; readability=&quot;31.5&quot;&gt;
&lt;aside itemprop=&quot;associatedMedia&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot; class=&quot;wide single-photo&quot; readability=&quot;3&quot;&gt;&lt;img itemprop=&quot;url&quot; src=&quot;https://www.gannett-cdn.com/presto/2020/12/25/PNAS/ea1df257-fe48-46b4-9220-c28272d098e0-Xmas_Internet_outage.jpg?width=540&amp;amp;height=&amp;amp;fit=bounds&amp;amp;auto=webp&quot; alt=&quot;An AT&amp;amp;T outage was reported in Nashville and Middle Tennessee hours after an explosion took place near an AT&amp;amp;T facility.&quot; width=&quot;540&quot; data-mycapture-src=&quot;https://www.gannett-cdn.com/presto/2020/12/25/PNAS/ea1df257-fe48-46b4-9220-c28272d098e0-Xmas_Internet_outage.jpg&quot; data-mycapture-sm-src=&quot;https://www.gannett-cdn.com/presto/2020/12/25/PNAS/ea1df257-fe48-46b4-9220-c28272d098e0-Xmas_Internet_outage.jpg&quot;/&gt;&lt;p&gt;An AT&amp;amp;T outage was reported in Nashville and Middle Tennessee hours after an explosion took place near an AT&amp;amp;T facility. &lt;span class=&quot;credit&quot;&gt;(Photo: DownDetector.com)&lt;/span&gt;&lt;/p&gt;
&lt;/aside&gt;
&lt;/div&gt;
&lt;p class=&quot;p-text&quot;&gt;&quot;Service for some customers in Nashville and the surrounding areas may be affected by damage to our facilities from the explosion this morning. We are in contact with law enforcement and working as quickly and safely as possible to restore service,&quot; said Jim Greer, an AT&amp;amp;T representative. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;Nashville authorities said investigators think the explosion was an &quot;intentional act&quot; and sparked by a vehicle blast. &lt;/p&gt;

&lt;p class=&quot;p-text&quot;&gt;Police came across a suspicious RV parked outside a nearby AT&amp;amp;T building near Second Avenue and Commerce Street before 6 a.m., when initially responding to calls of shots fired in the area, said Metro police spokesperson Don Aaron. &lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;There was no immediate evidence of any shooting, but officers alerted the department's bomb squad, which was en route when a &quot;significant explosion&quot; happened about 30 minutes later, Aaron said.&lt;/p&gt;
&lt;h2 class=&quot;presto-h2&quot;&gt;Comcast hot spots available free&lt;/h2&gt;
&lt;p class=&quot;p-text&quot;&gt;Comcast reminded Nashville residents Friday that the public Xfinity WiFi hotspots throughout the potentially impacted areas are available for anyone to use, including non-Xfinity customers, free of charge.&lt;/p&gt;

&lt;p class=&quot;p-text&quot;&gt;Comcast opened its network across the country at the onset of the COVID-19 pandemic in March and has already committed to keeping it open through June 2021, according to a Friday release from the company.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;For a map of public Xfinity WiFi hotspots, which are located both indoors and outdoors in places such as shopping districts, parks and businesses, visit &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.xfinity.com/learn/internet-service/wifi&quot; target=&quot;_blank&quot;&gt;Xfinity.com/wifi&lt;/a&gt;. Once in range of a hotspot, select the “xfinitywifi” network name in the list of available hotspots and then launch a browser.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;Xfinity internet customers can sign in with their usernames and passwords, and they will be automatically connected to Xfinity WiFi hotspots in the future. Non-Xfinity internet subscribers should visit the “Not an Xfinity Internet Customer” section on the sign-in page to get started, the company said. Non-customers can renew their free sessions every two hours.&lt;/p&gt;
&lt;p class=&quot;p-text&quot;&gt;&lt;em&gt;Reach reporter Mariah Timms at mtimms@tennessean.com or 615-259-8344 and on Twitter @MariahTimms.&lt;/em&gt;&lt;/p&gt;

&lt;p class=&quot;p-text&quot;&gt;&lt;span class=&quot;exclude-from-newsgate&quot;&gt;&lt;strong&gt;NASHVILLE EXPLOSION:&lt;/strong&gt; &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.tennessean.com/story/news/local/2020/12/25/downtown-nashville-explosion-christmas/4044635001/&quot; target=&quot;_blank&quot;&gt;Massive downtown explosion an 'intentional act', police say&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;p-text p-text-last&quot; id=&quot;article-body-p-last&quot;&gt;&lt;span class=&quot;exclude-from-newsgate&quot;&gt;&lt;strong&gt;NASHVILLE EXPLOSION:&lt;/strong&gt; &lt;a data-track-label=&quot;inline|intext|n/a&quot; href=&quot;https://www.tennessean.com/story/news/local/2020/12/25/nashville-explosion-what-we-know-downtown-christmas-morning/4044934001/&quot; target=&quot;_blank&quot;&gt;What we know about downtown explosion on Christmas morning&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Read or Share this story: https://www.tennessean.com/story/news/local/2020/12/25/att-outage-internet-down-hours-after-nashville-explosion/4045278001/&lt;/p&gt;
</description>
<pubDate>Fri, 25 Dec 2020 22:35:36 +0000</pubDate>
<dc:creator>SpaceInvader</dc:creator>
<og:image>https://www.gannett-cdn.com/presto/2020/12/25/PNAS/53ebc964-452e-47a1-9e5a-4befcef51ad3-_AAA8036.JPG?crop=5567,3131,x0,y283&amp;width=3200&amp;height=1680&amp;fit=bounds</og:image>
<og:title>AT&amp;T outage: Internet, 911 disrupted, planes grounded after Nashville explosion. Get the latest updates</og:title>
<og:description>A widespread AT&amp;T outage was reported hours after an bomb went of in Nashville near an AT&amp;T facility downtown.</og:description>
<og:url>https://www.tennessean.com/story/news/local/2020/12/25/att-outage-internet-down-hours-after-nashville-explosion/4045278001/</og:url>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.tennessean.com/story/news/local/2020/12/25/att-outage-internet-down-hours-after-nashville-explosion/4045278001/</dc:identifier>
</item>
<item>
<title>Salmon spawning in the upper Columbia River, first in 80 years</title>
<link>https://www.spokesman.com/stories/2020/dec/17/for-the-first-time-in-more-than-80-years-salmon-sp/</link>
<guid isPermaLink="true" >https://www.spokesman.com/stories/2020/dec/17/for-the-first-time-in-more-than-80-years-salmon-sp/</guid>
<description>&lt;p&gt;For the first time in more than a generation, chinook salmon have spawned in the upper Columbia River system.&lt;/p&gt;
&lt;p&gt;Colville Tribal biologists counted 36 redds (a gravely nest in which female salmon lay their eggs) along an 8-mile stretch of the Sanpoil River, a tributary of the Columbia, in September.&lt;/p&gt;
&lt;p&gt;“I was shocked at first, then I was just overcome with complete joy,” said Crystal Conant, a Colville Tribal member from the Arrow Lakes and SanPoil bands. “I don’t know that I have the right words to even explain the happiness and the healing.”&lt;/p&gt;
&lt;p&gt;The news is a step toward full reintroduction of the migratory fish and another watershed cultural moment for the region’s tribes. Since the Chief Joseph and Grand Coulee dams were built in the 1950s and 1930s, respectively, salmon have been blocked from returning to spawning beds in the upper Columbia River.&lt;/p&gt;
&lt;p&gt;For decades, tribal leaders and scientists have dreamed of bringing the fish back to their native beds. Since 2014, the Columbia River tribes have worked on a plan that examines habitat, fish passage and survival among other things.&lt;/p&gt;
&lt;p&gt;“It’s an exciting project. It’s been rewarding to work on,” said Casey Baldwin, a research scientist for the Colville Tribe. “The long-term process of reintroducing salmon above Chief Joe and Grand Coulee is going to take a long time.”&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.spokesman.com/stories/2019/aug/09/for-the-first-time-in-80-years-salmon-are-in-the-u&quot; target=&quot;_blank&quot;&gt;In 2019&lt;/a&gt;, about 60 salmon were released above the Grand Coulee and Chief Joseph dams in a cultural event.&lt;/p&gt;
&lt;p&gt;As a continuation of that project, tribal biologists released 100 fish 35 miles up the Sanpoil River in August to see how well they survived. Each fish was outfitted with a PIT tag, a type of passive tracking device. Biologists checked on the hatchery-bred fish throughout the summer and in October started noticing that the fish were spreading out and spawning.&lt;/p&gt;
&lt;p&gt;“Considering they weren’t from the Sanpoil, we were pleasantly surprised with the high rate of survival and the amount of spawning we were able to observe,” Baldwin said. “You never know if the fish are just going to turn around and swim away.”&lt;/p&gt;
&lt;p&gt;The fact they did spawn is an affirmation of research done by the Spokane Tribe showing that, despite the dams, the river contains hundreds of miles of spawning and rearing &lt;a href=&quot;https://www.spokesman.com/stories/2018/may/02/getting-salmon-above-grand-coulee-dam-could-lead-t&quot; target=&quot;_blank&quot;&gt;habitat suitable for steelhead and spring chinook production&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;“It is viable. It’s feasible for fish to use these areas,” said Chris Donley, the Washington Department of Fish and Wildlife’s regional fish program manager in Spokane. “What it says is there is opportunity there and it’s worth looking further.”&lt;/p&gt;
&lt;p&gt;WDFW is assisting on the project, most notably by certifying that the fish are free of disease . In particular, the agency tested for a strain of infectious &lt;em&gt;hematopoietic necrosis&lt;/em&gt; that can kill rainbow trout. Trout in the lower Columbia have built up an immunity to the disease. The populations in the upper, isolated as they have been, have no immunity.&lt;/p&gt;
&lt;p&gt;“What we hope to do is prevent IHN from moving in the blocked area now, because we don’t want to affect the already existing trout population up there,” Donley said. “(However) long term that is going to be a risk that we are going to take.”&lt;/p&gt;
&lt;p&gt;Whether a sustainable salmon population can return to the upper Columbia River is still an open question, Baldwin said. The challenges are numerous. The juvenile offspring from this year’s spawning will migrate downstream. How, and if, they survive the passage through reservoirs and dams is yet to be seen. And that’s just half the journey.&lt;/p&gt;
&lt;p&gt;“Just having fish spawning in this one particular river does not prove that it’s feasible,” he said. “But it’s a good first step.”&lt;/p&gt;
&lt;p&gt;When the dams were built, they drastically changed the Columbia River basin. Without a fish passage in the dams, salmon returning from the ocean were unable to reach their spawning grounds. When the 500-foot-tall Grand Coulee Dam was finished, it raised the waters behind it 380 feet, flooding more than 20,000 acres of land nearly overnight. One hundred miles upstream from the dam, the town of Kettle Falls was submerged by the rising waters, including a Native burial ground.&lt;/p&gt;
&lt;p&gt;“My ancestors were all relocated when they put in the dam,” said Conant, the Colville Tribal member from the Arrow Lakes and SanPoil bands.&lt;/p&gt;
&lt;p&gt;Prior to the dam’s construction, Kettle Falls was a small town founded by a passel of local white businessman (with the financial backing of a rich New Yorker) with resort-town aspirations. The area’s natural beauty, combined with fantastic salmon fishing, excited pecuniary fantasies.&lt;/p&gt;
&lt;p&gt;But the area had a longer, &lt;a href=&quot;https://www.historylink.org/File/7577&quot; target=&quot;_blank&quot;&gt;deeper history among the region’s tribes&lt;/a&gt;. Called &lt;em&gt;Shonitkwu&lt;/em&gt; in Salish, the native tongue of those people, it meant noisy water, as the river used to drop more than 50 feet, tumbling over a series of massive quartzite blocks. That frothing, roaring water could be heard from miles around.&lt;/p&gt;
&lt;p&gt;Washington rivers, including the Columbia, seethed with salmon and Native people planned their years around the fish migration. In the Spokane region, Kettle Falls was the spot. Early written accounts recall a river so jammed with the big, nutritious fish, that one couldn’t throw a stick without hitting a salmonidae.&lt;/p&gt;
&lt;p&gt;Each year, at least 14 Native American tribes, from throughout the region, gathered there to fish for salmon and trade news and goods.&lt;/p&gt;
&lt;p&gt;Now, those falls are submerged under 100 feet or more of water.&lt;/p&gt;
&lt;p&gt;The town itself, relocated as the waters rose, is a blip on U.S. 395 with a name that makes no sense.&lt;/p&gt;
&lt;p&gt;Still, the salmon ceremony continues today, even if there are no salmon.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;print_trim&quot;&gt;&lt;iframe allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/ITzu_c2RTMw&quot; width=&quot;560&quot;&gt;[embedded content]&lt;/iframe&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Each year in June, Conant and others paddle cedar-log canoes south from the Canadian border and north from above Grand Coulee Dam. They eventually meet at Kettle Falls, arriving near the summer solstice, the traditional time tribes would start fishing.&lt;/p&gt;
&lt;p&gt;While full sustainable reintroduction is still a long way off, taking even one step closer to bringing salmon back to the river is worth celebrating.&lt;/p&gt;
&lt;p&gt;“It’s like parts of your soul and heart were missing,” Conant said. “It’s a holistic healing.”&lt;/p&gt;
</description>
<pubDate>Fri, 25 Dec 2020 22:13:04 +0000</pubDate>
<dc:creator>shartshooter</dc:creator>
<og:url>https://www.spokesman.com/stories/2020/dec/17/for-the-first-time-in-more-than-80-years-salmon-sp/</og:url>
<og:title>For the first time in more than 80 years, salmon spawning in the upper Columbia River</og:title>
<og:type>article</og:type>
<og:image>https://thumb.spokesman.com/VY3pRbIsz58kUjOthVGAurTyUT0=/1200x0/media.spokesman.com/photos/2020/12/16/5fda35b9d3c73.hires.jpg</og:image>
<og:description>For the first time in more than a generation salmon have spawned in the Upper Columbia River.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.spokesman.com/stories/2020/dec/17/for-the-first-time-in-more-than-80-years-salmon-sp/</dc:identifier>
</item>
<item>
<title>New Linux port for the Nintendo 64</title>
<link>https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m0862c3484e0da7195dc8989421d30f01b3b1c63a</link>
<guid isPermaLink="true" >https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m0862c3484e0da7195dc8989421d30f01b3b1c63a</guid>
<description>&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&lt;title&gt;[RFC 0/6] Nintendo 64 Linux port&lt;/title&gt;&lt;link rel=&quot;alternate&quot; title=&quot;Atom feed&quot; href=&quot;../../new.atom&quot; type=&quot;application/atom+xml&quot; /&gt;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../../null.css?0&quot; title=&quot;default&quot; /&gt;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../../216light.css?5dc3504d&quot; media=&quot;screen,(prefers-color-scheme:light)&quot; title=&quot;216light&quot; /&gt;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../../216dark.css?5d0a9431&quot; media=&quot;screen,(prefers-color-scheme:dark)&quot; title=&quot;216dark&quot; /&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;63.361336281012&quot;&gt;

&lt;pre&gt;
&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#e0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; id=&quot;m0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; name=&quot;m0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;*&lt;/a&gt; &lt;u id=&quot;u&quot;&gt;&lt;strong&gt;[RFC 0/6] Nintendo 64 Linux port&lt;/strong&gt;&lt;/u&gt;
&lt;strong&gt;@ 2020-12-25 17:05 Lauri Kasanen&lt;/strong&gt;
  2020-12-26  3:29 ` &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#mfde60d68ffa013643949644429972ab795654f83&quot;&gt;Jiaxun Yang&lt;/a&gt;
  &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#r0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;0 siblings, 1 reply; 3+ messages in thread&lt;/a&gt;
From: Lauri Kasanen @ 2020-12-25 17:05 UTC (&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/&quot;&gt;permalink&lt;/a&gt; / &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/raw&quot;&gt;raw&lt;/a&gt;)
  To: linux-mips; &lt;strong&gt;+Cc:&lt;/strong&gt; tsbogend

Hi all,

Here's a port for the Nintendo 64.

At least two people have done such a port before, but didn't submit.
This is not based on either.

RFC because I'm not sure if it's useful to have this merged. Old,
niche, and limited platform.

&quot;But why&quot;, I hear from the back. Having Linux available makes it easier
to port emulators and fb or console games.
www.linux-mips.org/wiki/Nintendo_64 can be edited to no longer say
&quot;vaporware&quot;.
Most importantly, because I can.

There's a ready ROM at &lt;a href=&quot;https://github.com/clbr/n64bootloader/releases&quot;&gt;https://github.com/clbr/n64bootloader/releases&lt;/a&gt;
for folks with a flashcart to play with.

- Lauri

&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; id=&quot;e0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; name=&quot;e0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;^&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/&quot;&gt;permalink&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/raw&quot;&gt;raw&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/#R&quot;&gt;reply&lt;/a&gt;       [&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#u&quot;&gt;&lt;strong&gt;flat&lt;/strong&gt;&lt;/a&gt;|&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/t/#u&quot;&gt;nested&lt;/a&gt;] &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#r0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;3+ messages in thread&lt;/a&gt;
&lt;/pre&gt;
&lt;hr /&gt;&lt;pre&gt;
&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#efde60d68ffa013643949644429972ab795654f83&quot; id=&quot;mfde60d68ffa013643949644429972ab795654f83&quot; name=&quot;mfde60d68ffa013643949644429972ab795654f83&quot;&gt;*&lt;/a&gt; &lt;strong&gt;Re: [RFC 0/6] Nintendo 64 Linux port&lt;/strong&gt;
  2020-12-25 17:05 &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;[RFC 0/6] Nintendo 64 Linux port&lt;/a&gt; Lauri Kasanen
&lt;strong&gt;@ 2020-12-26  3:29 ` Jiaxun Yang&lt;/strong&gt;
  2020-12-26  7:21   ` &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;Lauri Kasanen&lt;/a&gt;
  &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#rfde60d68ffa013643949644429972ab795654f83&quot;&gt;0 siblings, 1 reply; 3+ messages in thread&lt;/a&gt;
From: Jiaxun Yang @ 2020-12-26  3:29 UTC (&lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/&quot;&gt;permalink&lt;/a&gt; / &lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/raw&quot;&gt;raw&lt;/a&gt;)
  To: Lauri Kasanen, linux-mips; &lt;strong&gt;+Cc:&lt;/strong&gt; tsbogend

在 2020/12/26 上午1:05, Lauri Kasanen 写道:
&lt;span class=&quot;q&quot;&gt;&amp;gt; Hi all,
&amp;gt;
&amp;gt; Here's a port for the Nintendo 64.
&amp;gt;
&amp;gt; At least two people have done such a port before, but didn't submit.
&amp;gt; This is not based on either.
&amp;gt;
&amp;gt; RFC because I'm not sure if it's useful to have this merged. Old,
&amp;gt; niche, and limited platform.
&amp;gt;
&amp;gt; &quot;But why&quot;, I hear from the back. Having Linux available makes it easier
&amp;gt; to port emulators and fb or console games.
&amp;gt; www.linux-mips.org/wiki/Nintendo_64 can be edited to no longer say
&amp;gt; &quot;vaporware&quot;.
&amp;gt; Most importantly, because I can.
&lt;/span&gt;
Yes you can :-) and Linux can!

&lt;span class=&quot;q&quot;&gt;&amp;gt;
&amp;gt; There's a ready ROM at &lt;a href=&quot;https://github.com/clbr/n64bootloader/releases&quot;&gt;https://github.com/clbr/n64bootloader/releases&lt;/a&gt;
&amp;gt; for folks with a flashcart to play with.
&lt;/span&gt;
Is it possible to test it with N64EMU or something?
Just grab out my N64 out of garbage but unfortunately it nolonger boot....

Thanks.

- Jiaxun

&lt;span class=&quot;q&quot;&gt;&amp;gt;
&amp;gt; - Lauri
&lt;/span&gt;

&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#mfde60d68ffa013643949644429972ab795654f83&quot; id=&quot;efde60d68ffa013643949644429972ab795654f83&quot; name=&quot;efde60d68ffa013643949644429972ab795654f83&quot;&gt;^&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/&quot;&gt;permalink&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/raw&quot;&gt;raw&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/#R&quot;&gt;reply&lt;/a&gt;      [&lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/T/#u&quot;&gt;&lt;strong&gt;flat&lt;/strong&gt;&lt;/a&gt;|&lt;a href=&quot;https://lore.kernel.org/linux-mips/43076b53-4eb2-164d-3b5d-dde7dfedbe94@flygoat.com/t/#u&quot;&gt;nested&lt;/a&gt;] &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#rfde60d68ffa013643949644429972ab795654f83&quot;&gt;3+ messages in thread&lt;/a&gt;
&lt;/pre&gt;
&lt;hr /&gt;&lt;pre&gt;
&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#e1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; id=&quot;m1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; name=&quot;m1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;*&lt;/a&gt; &lt;strong&gt;Re: [RFC 0/6] Nintendo 64 Linux port&lt;/strong&gt;
  2020-12-26  3:29 ` &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#mfde60d68ffa013643949644429972ab795654f83&quot;&gt;Jiaxun Yang&lt;/a&gt;
&lt;strong&gt;@ 2020-12-26  7:21   ` Lauri Kasanen&lt;/strong&gt;
  &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#r1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;0 siblings, 0 replies; 3+ messages in thread&lt;/a&gt;
From: Lauri Kasanen @ 2020-12-26  7:21 UTC (&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/&quot;&gt;permalink&lt;/a&gt; / &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/raw&quot;&gt;raw&lt;/a&gt;)
  To: Jiaxun Yang; &lt;strong&gt;+Cc:&lt;/strong&gt; linux-mips, tsbogend

On Sat, 26 Dec 2020 11:29:01 +0800
Jiaxun Yang &amp;lt;jiaxun.yang@flygoat.com&amp;gt; wrote:

&lt;span class=&quot;q&quot;&gt;&amp;gt; Is it possible to test it with N64EMU or something?
&amp;gt; Just grab out my N64 out of garbage but unfortunately it nolonger boot....
&lt;/span&gt;
No, I'm afraid not. No emulator is good enough to run it. As mentioned
in the ROM tarball readme, I needed to heavily patch cen64 to be able
to do anything.

My cen64 changes will eventually get upstream, but even with them it's
unstable, while real hw is not.

N64 no longer booting: the most common reasons are broken power supply
(buy another), or dirty pins (electronic contact cleaner/isopropanol +
microfiber cloth + credit card to push it down). The N64 doesn't
usually have leaky caps or other common console killers.

- Lauri

&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; id=&quot;e1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; name=&quot;e1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;^&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/&quot;&gt;permalink&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/raw&quot;&gt;raw&lt;/a&gt; &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/#R&quot;&gt;reply&lt;/a&gt;       [&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/T/#u&quot;&gt;&lt;strong&gt;flat&lt;/strong&gt;&lt;/a&gt;|&lt;a href=&quot;https://lore.kernel.org/linux-mips/20201226092136.d780220c8550ef4b4e45192c@gmx.com/t/#u&quot;&gt;nested&lt;/a&gt;] &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#r1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;3+ messages in thread&lt;/a&gt;
&lt;/pre&gt;
&lt;hr /&gt;&lt;pre&gt;
end of thread, back to &lt;a href=&quot;https://lore.kernel.org/linux-mips/&quot;&gt;index&lt;/a&gt;

&lt;strong id=&quot;t&quot;&gt;Thread overview:&lt;/strong&gt; 3+ messages (download: &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/t.mbox.gz&quot;&gt;mbox.gz&lt;/a&gt; / follow: &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/t.atom&quot;&gt;Atom feed&lt;/a&gt;)
-- links below jump to the message on this page --
2020-12-25 17:05 &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; id=&quot;r0862c3484e0da7195dc8989421d30f01b3b1c63a&quot; name=&quot;r0862c3484e0da7195dc8989421d30f01b3b1c63a&quot;&gt;[RFC 0/6] Nintendo 64 Linux port&lt;/a&gt; Lauri Kasanen
2020-12-26  3:29 ` &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#mfde60d68ffa013643949644429972ab795654f83&quot; id=&quot;rfde60d68ffa013643949644429972ab795654f83&quot; name=&quot;rfde60d68ffa013643949644429972ab795654f83&quot;&gt;Jiaxun Yang&lt;/a&gt;
2020-12-26  7:21   ` &lt;a href=&quot;https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/#m1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; id=&quot;r1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot; name=&quot;r1253a063d62fe246f16cd81a931e1d7b3b0b9a9d&quot;&gt;Lauri Kasanen&lt;/a&gt;
&lt;/pre&gt;
&lt;hr /&gt;&lt;pre&gt;
Linux-MIPS Archive on lore.kernel.org

Archives are clonable:
        git clone --mirror https://lore.kernel.org/linux-mips/0 linux-mips/git/0.git

        # If you have public-inbox 1.1+ installed, you may
        # initialize and index your mirror using the following commands:
        public-inbox-init -V2 linux-mips linux-mips/ https://lore.kernel.org/linux-mips \
                linux-mips@vger.kernel.org
        public-inbox-index linux-mips

Example &lt;a href=&quot;https://lore.kernel.org/linux-mips/_/text/config/raw&quot;&gt;config snippet&lt;/a&gt; for mirrors

Newsgroup available over NNTP:
        &lt;a href=&quot;nntp://nntp.lore.kernel.org/org.kernel.vger.linux-mips&quot;&gt;nntp://nntp.lore.kernel.org/org.kernel.vger.linux-mips&lt;/a&gt;


AGPL code for this site: git clone &lt;a href=&quot;https://public-inbox.org/public-inbox.git&quot;&gt;https://public-inbox.org/public-inbox.git&lt;/a&gt;
&lt;/pre&gt;
&lt;/body&gt;</description>
<pubDate>Fri, 25 Dec 2020 21:52:58 +0000</pubDate>
<dc:creator>MegaDeKay</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://lore.kernel.org/linux-mips/20201225190503.12353218812e1655f56f0bf8@gmx.com/T/</dc:identifier>
</item>
</channel>
</rss>